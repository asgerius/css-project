[{"tags": ["linux", "bash", "perl", "sed", "substitution"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 5, "creation_date": 1459983389, "post_id": 36463671, "comment_id": 60539287, "body": "SO is not a free coding service, we&#39;re here to help you fix your code. But you have to make the attempt first, and show what you&#39;ve tried so we can help you understand where you went wrong."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1459983437, "post_id": 36463671, "comment_id": 60539301, "body": "This should be very straightforward using <code>awk</code>."}, {"owner": {"reputation": 23, "user_id": 6169322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7cbf3eeee94a850fadafd0601b31f0?s=128&d=identicon&r=PG&f=1", "display_name": "KarlH", "link": "https://stackoverflow.com/users/6169322/karlh"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1459986228, "post_id": 36463671, "comment_id": 60540131, "body": "apologies, I should have mentioned what I have been doing, thought this would be an easy one for the programmers out there."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1459986422, "post_id": 36463671, "comment_id": 60540176, "body": "Give a man a fish, he eats for a day; teach him to fish and he eats for a lifetime. I&#39;m trying to teach you to fish, which means you have to try it yourself."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1460003342, "post_id": 36463671, "comment_id": 60544641, "body": "Also, showing the code you have so far narrows down the parts we need to explain considerably. Very frequently, the diagnostics in a question turn out to require an answer which explains basic quoting or operator precedence, and not at all what the OP was thinking was the problem."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1460003441, "post_id": 36463671, "comment_id": 60544664, "body": "If every non-blank line which doesn&#39;t contain <code>=&gt;</code> is the beginning of a new section, that would seem like a good thing to base your parser on.  Generally, formats which require ad-hoc parsers should be phased out, though; if you have control over the entire system, consider switching it to use a standard data representation like Yaml or JSON instead."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1460091533, "post_id": 36463671, "comment_id": 60591855, "body": "It matters what your <i>whole</i> input file looks like.  Showing only one section does not in any way determine the pattern of the whole file.  In addition, for the one section you did show, you showed it with two different formats."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460353250, "post_id": 36463671, "comment_id": 60683028, "body": "Welcome to Stack Overflow. Please note that the preferred way of saying &#39;thanks&#39; around here is by up-voting good questions and helpful answers (once you have enough reputation to do so), and by accepting the most helpful answer to any question you ask (which also gives you a small boost to your reputation). Please see the <a href=\"https://stackoverflow.com/tour\">About</a> page and also <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask questions here?</a> and <a href=\"http://stackoverflow.com/help/someone-answers\">What do I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 0, "last_activity_date": 1460006164, "creation_date": 1460006164, "answer_id": 36467238, "question_id": 36463671, "link": "https://stackoverflow.com/questions/36463671/bash-script-to-locate-variable-and-replace-string-between-quotes-a-few-lines-bel/36467238#36467238", "title": "bash script to locate variable and replace string between quotes a few lines below", "body": "<p>A simple adaptation of your Perl script can easily be made to work:</p>\n\n<pre><code>perl -pe '++$x and next if /AX112233/;\n          /password\\s*=&gt;/ and $x-- and '\"s/'[^']*'/'passwordABC'/\"' if $x' input.txt\n</code></pre>\n\n<p>There's some shell chicanery in there more than there's really any Perl wizardry.  The first line is identical to what you had.  The second line looks for a line containing <code>password =&gt;</code> and then uses some shell trickery to change from single quotes to double quotes (<code>'\"</code>, and then contains a <code>s///</code> command that looks for a single quote, an arbitrary sequence of characters that are not single quotes and another single quote, and replaces that with the new value of the password enclosed in single quotes.  The <code>\"'</code> reverts back to a single quoted string so that the <code>if $x</code> doesn't need a backslash.  There are neater ways to do it, but that is a simple variation on what you had.</p>\n\n<p>Given an input file like this:</p>\n\n<pre><code>'AX112233':\n      password =&gt;  'passwordXYZ',\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX221133':\n      password =&gt;  'passwordXYZ',\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX112233':\n      uid      =&gt; '22044',\n      password =&gt;  'passwordXYZ',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX113322':\n      uid      =&gt; '22044',\n      password =&gt;  'passwordXYZ',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX112233':\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      password =&gt;  'passwordXYZ',\n      comment  =&gt; 'Mickey Mouse';\n'AX112233':\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse',\n      password =&gt;  'passwordXYZ';\n</code></pre>\n\n<p>(which has 2 entries for a different user ID, and has the password as the first, second, third or fourth line after the matching user ID) generates:</p>\n\n<pre><code>'AX112233':\n      password =&gt;  'passwordABC',\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX221133':\n      password =&gt;  'passwordXYZ',\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX112233':\n      uid      =&gt; '22044',\n      password =&gt;  'passwordABC',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX113322':\n      uid      =&gt; '22044',\n      password =&gt;  'passwordXYZ',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse';\n'AX112233':\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      password =&gt;  'passwordABC',\n      comment  =&gt; 'Mickey Mouse';\n'AX112233':\n      uid      =&gt; '22044',\n      groups   =&gt; ['grp01'],\n      comment  =&gt; 'Mickey Mouse',\n      password =&gt;  'passwordABC';\n</code></pre>\n\n<p>Another way to do it:</p>\n\n<pre><code>user=\"AX112233\"\npassword=\"passwordABC\"\n\nperl -pe 'if ('\"/$user/\"') { ++$x; next }\n          if ($x &amp;&amp; '\"s/password\\s*=&gt;\\s*'[^']*'/password =&gt; '$password'/\"') { $x-- }' input.txt\n</code></pre>\n\n<p>This combines the match and substitute in one operation rather than two, and uses regular leading <code>if</code> rather than trailing <code>if</code> conditionals.  It also allows the user name and new password to be specified via shell variables.</p>\n"}, {"tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": false, "score": 0, "last_activity_date": 1460362214, "last_edit_date": 1460362214, "creation_date": 1460017890, "answer_id": 36470752, "question_id": 36463671, "link": "https://stackoverflow.com/questions/36463671/bash-script-to-locate-variable-and-replace-string-between-quotes-a-few-lines-bel/36470752#36470752", "title": "bash script to locate variable and replace string between quotes a few lines below", "body": "<p>With sed, you can search <code>$username</code> using a sed address and replace next password found from that address with the <code>$newpass</code> value :</p>\n\n<pre><code>username=\"AX112233\"; \nnewpass=\"passwordABC\";\nsed \"/ *'$username'/,/;/{s/^\\([ \\t]*password =&gt; *'\\).*/\\1$newpass',/}\" file\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6169322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7cbf3eeee94a850fadafd0601b31f0?s=128&d=identicon&r=PG&f=1", "display_name": "KarlH", "link": "https://stackoverflow.com/users/6169322/karlh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 36467238, "answer_count": 2, "score": 1, "last_activity_date": 1460362214, "creation_date": 1459983015, "last_edit_date": 1460177192, "question_id": 36463671, "link": "https://stackoverflow.com/questions/36463671/bash-script-to-locate-variable-and-replace-string-between-quotes-a-few-lines-bel", "title": "bash script to locate variable and replace string between quotes a few lines below", "body": "<p>I have a plain text file \"user database\" which contains the same 4 lines repeated over and over again. Each 4 line \"array\" represents one user in the user database as follows:</p>\n\n<pre><code>   'AX112233':  \n      uid      =&gt; '22044',  \n      groups   =&gt; ['grp01'],  \n      password =&gt;  'passwordXYZ',  \n      comment  =&gt; 'Mickey Mouse';  \n</code></pre>\n\n<p>The <code>AX112233</code> is always a unique value. I need a script that when given 2 values namely the unique username <code>AX112233</code> and the new password <code>AX112233:passwordABC</code>, will be able to locate the unique username in the file and replace the password value between quotes 3 lines down.</p>\n\n<p>So after receiving as input <code>AX112233:passwordABC</code> will change the array as follows :</p>\n\n<pre><code>'AX112233':\n      uid      =&gt; '22044',  \n      groups   =&gt; ['grp01'],  \n      password =&gt;  'passwordABC',  \n      comment  =&gt; 'Mickey Mouse';  \n</code></pre>\n\n<p>Ideally something written in <code>bash/sed/awk/</code> but doesn't have to be. Any help would be very appreciated. </p>\n\n<p>What I have so far is this Perl script working. I am sure this is a easy one for the Perl experts out there which I am not. The problem with the script is that the initial password is not known so the script need to replace whatever is between the single quotes after <code>password =&gt;</code></p>\n\n<pre><code>$ cat input.txt \nAX112233':  \n      password =&gt;  'passwordXYZ',  \n      uid      =&gt; '22044',  \n      groups   =&gt; ['grp01'],  \n      comment  =&gt; 'Mickey Mouse';  \n$ perl -pe '++$x and next if /AX112233/; $x-- and s/passwordXYZ/passwordABC/ if $x' input.txt \nAX112233':  \n      password =&gt;  'passwordABC',  \n      uid      =&gt; '22044',  \n      groups   =&gt; ['grp01'],  \n      comment  =&gt; 'Mickey Mouse';\n</code></pre>\n\n<p>the other issue with the above is that the line password has to be the very next line below <code>AX11223</code>. what if the line were 3 lines below such as </p>\n\n<pre><code>AX112233':  \n      uid      =&gt; '22044',  \n      groups   =&gt; ['grp01'],  \n      password =&gt;  'passwordABC',  \n      comment  =&gt; 'Mickey Mouse';\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1459981288, "post_id": 36463279, "comment_id": 60538583, "body": "Are you sure the comparison <code>&gt;</code> in awk can compare dates in this format correctly?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1459981296, "post_id": 36463279, "comment_id": 60538590, "body": "Try <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a>, see <a href=\"http://perltricks.com/article/59/2014/1/10/Solve-almost-any-datetime-need-with-Time--Piece/\" rel=\"nofollow noreferrer\">Solve almost any datetime need with Time::Piece</a>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1459981822, "post_id": 36463279, "comment_id": 60538778, "body": "You can do a system call in Perl with backticks <code>$ perl -e &#39;$d=`date`; print $d&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1459984852, "last_edit_date": 1459984852, "creation_date": 1459981662, "answer_id": 36463437, "question_id": 36463279, "link": "https://stackoverflow.com/questions/36463279/awk-2-perl-conversion/36463437#36463437", "title": "awk 2 perl conversion", "body": "<p>Use <a href=\"http://p3rl.org/Time::Piece\" rel=\"nofollow\">Time::Piece</a>:</p>\n\n<pre><code>perl -MTime::Piece -ane '\n    BEGIN { $now = time }\n    print if Time::Piece-&gt;strptime($F[3], \"[%d/%b/%Y:%H:%M:%S]\")-&gt;epoch\n          &gt; $now - 60' access_log\n</code></pre>\n\n<p>You can also use <code>$^T</code> instead of <code>$now</code>, you can then delete the whole BEGIN block.</p>\n\n<pre><code>perl -MTime::Piece -ane '\n    print if Time::Piece-&gt;strptime($F[3], \"[%d/%b/%Y:%H:%M:%S]\")-&gt;epoch\n          &gt; $^T - 60' access_log\n</code></pre>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 36463437, "answer_count": 1, "score": 0, "last_activity_date": 1459984852, "creation_date": 1459980853, "question_id": 36463279, "link": "https://stackoverflow.com/questions/36463279/awk-2-perl-conversion", "title": "awk 2 perl conversion", "body": "<p>I'm trying to convert this awk function to perl, it parses an apache log file and print entries created in the past minute.   </p>\n\n<pre><code>awk vDate=$(date -d'now-1 minutes' +[%d/%b/%Y:%H:%M:%S]) '$4 &gt; Date '\n</code></pre>\n\n<p>I'm new to perl, and I'm now sure how I can entorplate system function <code>$(date -d'now-1 ..etc)</code> to perl. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 4, "creation_date": 1459979285, "post_id": 36462900, "comment_id": 60537813, "body": "Your string looks like a hash definition in Perl source code. Where did the string come from? If it is within the source code you can simply use Perl syntax to access a nested hash"}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1459983315, "post_id": 36463664, "comment_id": 60539264, "body": "I downvoted because there&#39;s no discussion of the security implications of eval&#39;ing a data file."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1459983424, "post_id": 36463664, "comment_id": 60539298, "body": "Give the umpire a chance to blow the whistle. :-)  I was adding it while you were commenting - ie not in response to your comment."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1459983997, "post_id": 36463664, "comment_id": 60539473, "body": "Downvote remains since no solution is offered by the answer or that blithe comment in Data::Dumper. Sorry, eval&#39;ing data files is a bad practice even if you warn the person it&#39;s a bad practice."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1459984085, "post_id": 36463664, "comment_id": 60539499, "body": "Fair enough - hadn&#39;t heard of Safe.  Learn something new every day."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1459984171, "post_id": 36463664, "comment_id": 60539529, "body": "That&#39;s ok, neither has Data::Dumper. :-/"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": -1, "last_activity_date": 1459983390, "last_edit_date": 1459983390, "creation_date": 1459982925, "answer_id": 36463664, "question_id": 36462900, "link": "https://stackoverflow.com/questions/36462900/using-perl-to-extract-multiple-iterms-from-text/36463664#36463664", "title": "Using Perl to Extract Multiple Iterms from Text", "body": "<p>As one of the commenters already noted - the data is valid perl - possibly created by Data::Dumper or something similar.  To get the data back, simply eval it:</p>\n\n<pre><code>use v5.12;\nuse Path::Tiny \"path\";                            # Used for slurp\n\nmy $data_string = path(\"mit.txt\")-&gt;slurp_utf8;    # random filename for data\nmy $data = eval $data_string ;\nwarn $@ if $@;\nsay \"Servies:\\n  \",       join(\", \", @{  $data-&gt;{ data }-&gt;{services}      });\nsay \"Destinations:\\n  \",  join(\", \", @{  $data-&gt;{ data }-&gt;{destinations}  });\nsay \"Sources:\\n  \",       join(\", \", @{  $data-&gt;{ data }-&gt;{sources}       });\nexit 0;\n#\n# Outputs:\n#\nServies:\n  REF_SerTcpTcp5090, REF_SerTcpTcp8200, REF_SerTcpTcp8883, REF_SerTcpTcpudp5090\nDestinations:\n  REF_NetworkAny\nSources:\n  REF_MHTGIvpkvI\n</code></pre>\n\n<p>Note this warning from <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow\">Data::Dumper documnetation</a>;</p>\n\n<p><em>Given a list of scalars or reference variables, writes out their contents in perl syntax. The references can also be objects. The content of each variable is output in a single Perl statement. Handles self-referential structures correctly.</em></p>\n\n<p><em>The return value can be evaled to get back an identical copy of the original reference structure. <strong>(Please do consider the security implications of eval'ing code from untrusted sources!)</strong></em></p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1459984232, "last_edit_date": 1459984232, "creation_date": 1459983929, "answer_id": 36463861, "question_id": 36462900, "link": "https://stackoverflow.com/questions/36462900/using-perl-to-extract-multiple-iterms-from-text/36463861#36463861", "title": "Using Perl to Extract Multiple Iterms from Text", "body": "<p>That sure looks like Perl.  You could use <code>eval</code> to turn it into a Perl data structure, but that has numerous security problems.</p>\n\n<p>Instead, use <a href=\"https://metacpan.org/pod/Safe#permit_only-OP\" rel=\"nofollow\">the Safe module</a> to eval it, but allowing only certain operators. This will block it from doing <em>some</em> insecure things like opening files or adding functions.  Here's a demonstration.</p>\n\n<pre><code>use v5.10;\nuse strict;\nuse warnings;\n\nuse Safe;\n\nmy $safe = Safe-&gt;new;\nmy $data = $safe-&gt;reval(join \"\", &lt;DATA&gt;) or die \"reval failed: $@\";\nsay join \"\\n\", keys %$data;\n\n__END__\n{\n      'autoname' =&gt; 1,\n      'class' =&gt; 'packetfilter',\n      'data' =&gt; {\n                  'action' =&gt; 'accept',\n                  'auto' =&gt; 0,\n                  'auto_type' =&gt; '',\n                  'comment' =&gt; 'Allow access to Sandbox Server',\n                  'destinations' =&gt; [\n                                      'REF_NetworkAny'\n                                    ],\n                  'direction' =&gt; '',\n                  'group' =&gt; 'SANDBOX',\n                  'interface' =&gt; '',\n                  'log' =&gt; 1,\n                  'name' =&gt; 'TCP_5090 from SND (Network) to Any',\n                  'services' =&gt; [\n                                  'REF_SerTcpTcp5090',\n                                  'REF_SerTcpTcp8200',\n                                  'REF_SerTcpTcp8883',\n                                  'REF_SerTcpTcpudp5090'\n                                ],\n                  'source_mac_addresses' =&gt; '',\n                  'sources' =&gt; [\n                                 'REF_MHTGIvpkvI'\n                               ],\n                  'status' =&gt; 1,\n                  'time' =&gt; ''\n                },\n      'hidden' =&gt; 0,\n      'lock' =&gt; '',\n      'nodel' =&gt; '',\n      'ref' =&gt; 'REF_PacPacTcp50FromSnd',\n      'type' =&gt; 'packetfilter'\n}\n</code></pre>\n\n<p>Safe is not 100% safe, so you shouldn't make this a habit. If at all possible, use a parsable format such as JSON for your data serialization.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 4951980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7e3d14a650ca28c6163781baa4fad1?s=128&d=identicon&r=PG", "display_name": "Frank F&#246;rster", "link": "https://stackoverflow.com/users/4951980/frank-f%c3%b6rster"}, "is_accepted": false, "score": 1, "last_activity_date": 1460124792, "last_edit_date": 1460124792, "creation_date": 1460012063, "answer_id": 36468774, "question_id": 36462900, "link": "https://stackoverflow.com/questions/36462900/using-perl-to-extract-multiple-iterms-from-text/36468774#36468774", "title": "Using Perl to Extract Multiple Iterms from Text", "body": "<p>If your input data set is valid Perl code the easiest way should be evaluating the code using <code>eval</code> as suggested by the other answers. As already mention there are some security issues if the you do not trust the source of your input data. So use it carefully and think about the usage of a module to further shrink the attack surface. \nAnother solution could be usage of regular expressions. Assuming that you have the complete input data in a scalar you can parse for your required items</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $data = join \"\", &lt;DATA&gt;;\n\nmy @services = get_values(\\$data, 'services');\nmy @destinations = get_values(\\$data, 'destinations');\nmy @sources = get_values(\\$data, 'sources');\n\nprint \"Services: \", join(\", \", @services),\"\\n\";\nprint \"Destinations: \", join(\", \", @destinations),\"\\n\";\nprint \"Sources: \", join(\", \", @sources),\"\\n\";\n\nsub get_values\n{\n    my ($inputdata, $key) = @_;\n\n    # add quote signs around the key\n    $key = \"'$key'\";\n\n    if ($$inputdata =~ /$key =&gt; \\[([^\\]]+)\\]/m)\n    {\n    # $1 contains the values\n    my $values = $1;\n    # remove empty lines, plus leading and tailing whitespaces\n    $values =~ s/^\\s*$|^\\s+|\\s+$//mg;\n    # strip line breaks and single quotes\n    $values =~ s/[\\n']//g;\n    # split into seperate fields\n    my @result = split(/,/, $values);\n\n    return @result;\n    } else {\n    return ();\n    }\n}\n\n__END__\n{\n      'autoname' =&gt; 1,\n      'class' =&gt; 'packetfilter',\n      'data' =&gt; {\n                  'action' =&gt; 'accept',\n                  'auto' =&gt; 0,\n                  'auto_type' =&gt; '',\n                  'comment' =&gt; 'Allow access to Sandbox Server',\n                  'destinations' =&gt; [\n                                      'REF_NetworkAny'\n                                    ],\n                  'direction' =&gt; '',\n                  'group' =&gt; 'SANDBOX',\n                  'interface' =&gt; '',\n                  'log' =&gt; 1,\n                  'name' =&gt; 'TCP_5090 from SND (Network) to Any',\n                  'services' =&gt; [\n                                  'REF_SerTcpTcp5090',\n                                  'REF_SerTcpTcp8200',\n                                  'REF_SerTcpTcp8883',\n                                  'REF_SerTcpTcpudp5090'\n                                ],\n                  'source_mac_addresses' =&gt; '',\n                  'sources' =&gt; [\n                                 'REF_MHTGIvpkvI'\n                               ],\n                  'status' =&gt; 1,\n                  'time' =&gt; ''\n                },\n      'hidden' =&gt; 0,\n      'lock' =&gt; '',\n      'nodel' =&gt; '',\n      'ref' =&gt; 'REF_PacPacTcp50FromSnd',\n      'type' =&gt; 'packetfilter'\n}\n</code></pre>\n\n<p>The advantage of the regular expression approach are no (or at least reduced) security issues with untrusted data sources.</p>\n\n<p>Frank</p>\n\n<p>EDIT: Added example code.</p>\n"}], "owner": {"reputation": 31, "user_id": 6169184, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vKKIUpOHklo/AAAAAAAAAAI/AAAAAAAAAgA/XUP40ve1p-E/photo.jpg?sz=128", "display_name": "Todd Allison", "link": "https://stackoverflow.com/users/6169184/todd-allison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1460124792, "creation_date": 1459978982, "last_edit_date": 1459982293, "question_id": 36462900, "link": "https://stackoverflow.com/questions/36462900/using-perl-to-extract-multiple-iterms-from-text", "title": "Using Perl to Extract Multiple Iterms from Text", "body": "<p>I need to extract multiple items from a multi-line string.</p>\n\n<pre><code>{\n      'autoname' =&gt; 1,\n      'class' =&gt; 'packetfilter',\n      'data' =&gt; {\n                  'action' =&gt; 'accept',\n                  'auto' =&gt; 0,\n                  'auto_type' =&gt; '',\n                  'comment' =&gt; 'Allow access to Sandbox Server',\n                  'destinations' =&gt; [\n                                      'REF_NetworkAny'\n                                    ],\n                  'direction' =&gt; '',\n                  'group' =&gt; 'SANDBOX',\n                  'interface' =&gt; '',\n                  'log' =&gt; 1,\n                  'name' =&gt; 'TCP_5090 from SND (Network) to Any',\n                  'services' =&gt; [\n                                  'REF_SerTcpTcp5090',\n                                  'REF_SerTcpTcp8200',\n                                  'REF_SerTcpTcp8883',\n                                  'REF_SerTcpTcpudp5090'\n                                ],\n                  'source_mac_addresses' =&gt; '',\n                  'sources' =&gt; [\n                                 'REF_MHTGIvpkvI'\n                               ],\n                  'status' =&gt; 1,\n                  'time' =&gt; ''\n                },\n      'hidden' =&gt; 0,\n      'lock' =&gt; '',\n      'nodel' =&gt; '',\n      'ref' =&gt; 'REF_PacPacTcp50FromSnd',\n      'type' =&gt; 'packetfilter'\n    }\n</code></pre>\n\n<p>I need to locate the tags 'services', destinations and sources and extract only the REF tags for each.</p>\n\n<p>Example:</p>\n\n<pre><code>services\nREF_SerTcpTcp5090\nREF_SerTcpTcp8200\nREF_SerTcpTcp8883\nREF_SerTcpTcpudp5090\n\ndestinations\nREF_NetworkAny\n\nsources\nREF_MHTGIvpkvI\n</code></pre>\n\n<p>Any guidance would be appreciated.</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1459962103, "post_id": 36457479, "comment_id": 60527615, "body": "This approach isn&#39;t going to work well. The day isn&#39;t going to change in the last hour except right after midnight so you need a date format that includes the minutes. That&#39;s easy, the problem is that won&#39;t necessarily match any line in your input so you can&#39;t use a range like that. Use something else for this. Like <code>awk</code> or an actual tool designed to parse/handle apache logs (there are many of them)."}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1459962294, "post_id": 36457479, "comment_id": 60527737, "body": "Can you suggest any tool that I might be able to use to do that? I&#39;m more interested in getting access data by time."}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1459963466, "post_id": 36457479, "comment_id": 60528501, "body": "Try <code>awk -vDate=$(date -d&#39;now-10 minutes&#39; +[%d&#47;%b&#47;%Y:%H:%M:%S) &#39;$4 &gt; Date {print Date, $0}&#39; access.log</code> from <a href=\"http://stackoverflow.com/a/7714878/3776858\">there</a>."}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "edited": false, "score": 1, "creation_date": 1459963969, "post_id": 36457479, "comment_id": 60528805, "body": "That seems to work! Thank you"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1459966502, "post_id": 36457479, "comment_id": 60530391, "body": "Yes, it is a duplicate."}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "closed_date": 1459964108, "answer_count": 0, "score": 0, "last_activity_date": 1459964755, "creation_date": 1459961488, "last_edit_date": 1459964755, "question_id": 36457479, "link": "https://stackoverflow.com/questions/36457479/how-to-extract-last-10-min-from-apache-log", "closed_reason": "Duplicate", "title": "How to extract last 10 min from apache log", "body": "<p>I'm trying to parse apache log and print log entires generated in last n number of minutes </p>\n\n<p>Sample of my access log data is <a href=\"http://pastebin.com/raw/mdsceC0L\" rel=\"nofollow\">here</a>  and this is what I have tried so far: </p>\n\n<p><strong>update</strong> The following solution works</p>\n\n<pre><code>awk -vDate=$(date -d'now-10 minutes' +[%d/%b/%Y:%H:%M:%S) '$4 &gt; Date {print Date, $0}' access.log \n</code></pre>\n"}, {"tags": ["arrays", "perl", "splice"], "comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1459950005, "post_id": 36452804, "comment_id": 60518436, "body": "Is it always running from 1 up to <code>$dat</code>?"}, {"owner": {"reputation": 65, "user_id": 3425900, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2056a8b933b549043e61f630d5e6da98?s=128&d=identicon&r=PG&f=1", "display_name": "user3425900", "link": "https://stackoverflow.com/users/3425900/user3425900"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1459950221, "post_id": 36452804, "comment_id": 60518611, "body": "values within the array may differ from time to time (but never exceeding dat).  I&#39;ve tried some variations of &quot;If&quot; but it&#39;s really messy. I seem to be stuck on removing the existing array index after moving the value to its new position"}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1459958984, "post_id": 36452804, "comment_id": 60525605, "body": "<code>sort</code> should probably come before <code>uniq</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1459959270, "post_id": 36452804, "comment_id": 60525810, "body": "@infixed, No way. Better to reduce the number of elements to sort first."}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1459961805, "post_id": 36452804, "comment_id": 60527442, "body": "I&#39;m used to the shell command <code>uniq</code> that strips repeated lines.  You wouldn&#39;t get repeated lines without sorting. I suppose there are <code>perl</code> functions that are more flexible, the one used in the question isn&#39;t specified.   I frankly thought it was listed in <code>perlfunc</code>, and was similar to the shell command, but its not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1459964010, "post_id": 36452804, "comment_id": 60528830, "body": "@infixed, It&#39;s probably the one provided by List::Util, which does not require a sorted list."}], "answers": [{"comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459951094, "post_id": 36453276, "comment_id": 60519348, "body": "From comments it seems that user might want to do it in-place. Though it would make task some kind of puzzle/golf rather than somewhat realistic one instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459951146, "post_id": 36453276, "comment_id": 60519381, "body": "@Oleg V. Volkov, Then add <code>@array = @new_array;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459957982, "post_id": 36453276, "comment_id": 60524862, "body": "@Oleg V. Volkov, In-place solution added."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1459959731, "last_edit_date": 1459959731, "creation_date": 1459950860, "answer_id": 36453276, "question_id": 36452804, "link": "https://stackoverflow.com/questions/36452804/perl-rearrange-array-based-on-element-value/36453276#36453276", "title": "Perl: Rearrange array based on element value", "body": "<p>Simple and fast (duplicates may occur in the original):</p>\n\n<pre><code>my @new_array;\n$new_array[$_ - 1] = $_ for @array;\n</code></pre>\n\n<hr>\n\n<p>In-place (duplicates not allowed in original):</p>\n\n<pre><code>for (my $i = @array; $i--; ) {\n   my $j = $array[$i]-1;\n   if ($i &lt; $j) {\n      $array[$j] = $j+1;\n      $array[$i] = undef;\n   }\n   elsif ($i &gt; $j) {\n      @array[$i, $j] = @array[$j, $i];\n      redo;\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>In-place (duplicates may occur in the original):</p>\n\n<pre><code>for (my $i = @array; $i--; ) {\n   my $j = $array[$i]-1;\n   if ($i &lt; $j) {\n      $array[$j] = $j+1;\n      $array[$i] = undef;\n   }\n   elsif ($i &gt; $j) {\n      if ($array[$j] == $j+1) {\n         $array[$i] = undef;\n      }\n      else {\n         @array[$i, $j] = @array[$j, $i];\n         redo;\n      }\n   }\n}\n\npop(@array) while @array &amp;&amp; !defined($array[-1]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1460036612, "post_id": 36459682, "comment_id": 60566106, "body": "The OP specifically asked for efficient solutions, and this is far less efficient (O(N^2)) than the previously-submitted answers (O(N)). This is an awful solution."}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460043261, "post_id": 36459682, "comment_id": 60571572, "body": "I honestly think your solutions look awful as well, and quite inelegant. Three separate implementations for different usage conditions, with nested else/if loops and i/j indices ... mine works for all conditions; removing the duplicates if present and completing the required task."}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460043504, "post_id": 36459682, "comment_id": 60571783, "body": "It sure is strange how he gave me the green-check then ... How can you say it doesn&#39;t do what he asks, I have a sample code snippet along with proper output shown above.  I understand that big-o notation yours are &#39;more efficient&#39; however big-o is not the only measure of efficiency.  Also I am not competing with you.  I gave a solution which solved his problem.  Based on your rep apparently this site means a lot to you and you just can&#39;t handle someone else&#39;s answer getting the green check?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1460044818, "post_id": 36459682, "comment_id": 60572642, "body": "Pointing out that I have solutions that work in the scenarios when yours only works in one of those three scenarios is not helpful to your cause. // Pointing out that the OP doesn&#39;t realize how inefficient your solution is not productive. // If you have comments about my answer,  they should be posted there."}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460045077, "post_id": 36459682, "comment_id": 60572818, "body": "My solution works for all scenarios, try it yourself if you need to.  Your solution is really three solutions.  One measure of efficiency is brevity.  Regardless, I know that your solutions will be faster according to big-0 notation, I have never disputed this.  You are the person who started commenting on MY solution, the moment it was given the green check over yours.  In fact you have been a great resource in the past.  It is just such a shame to learn what a jackass you are."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460045190, "post_id": 36459682, "comment_id": 60572890, "body": "No, you&#39;re doesn&#39;t work in-place, while two of mine do. // Brevity is a measure of maintaining, not efficiency."}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460045449, "post_id": 36459682, "comment_id": 60573044, "body": "Seems to work for me, I have the code snippet up there with output.  In-place afaik refers to editing a file in-place; I am unfamiliar with it in this context."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460045527, "post_id": 36459682, "comment_id": 60573099, "body": "It means changing @array without using any extra memory. (I&#39;m not saying that it&#39;s required; I&#39;m saying that  also providing solutions that are memory-efficient is not a bad thing)"}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460045576, "post_id": 36459682, "comment_id": 60573136, "body": "Well you got me there then."}], "tags": [], "owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "is_accepted": true, "score": -1, "last_activity_date": 1459971440, "last_edit_date": 1459971440, "creation_date": 1459967992, "answer_id": 36459682, "question_id": 36452804, "link": "https://stackoverflow.com/questions/36452804/perl-rearrange-array-based-on-element-value/36459682#36459682", "title": "Perl: Rearrange array based on element value", "body": "<p>You can create an new array with all values defined after finding the maximum value in the first, then in this new array undefine any value which is not in the first:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\n\nmy @array =  ('1', '4', '3');\nmy $max = (sort { $b &lt;=&gt; $a } @array)[0]; #should be 4\n\nprint Dumper(\\@array);\n\nmy @new_arr;\nforeach my $index (0 .. ($max - 1)) {\n   $new_arr[$index] = ($index + 1);    \n       #Array should be fully populated, @new_arr = ('1', '2', '3', '4');\n   $new_arr[$index] = 'undef' unless (grep {$_ eq $new_arr[$index]} @array); \n       #Values not in the original array should be set to undef\n\n}\n#  @new_arr should be (''1', 'undef', '3', '4')\n\nprint Dumper(\\@new_arr); \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          '1',\n          '4',\n          '3'\n        ];\n\n$VAR1 = [\n          1,\n          'undef',\n          3,\n          4\n        ];\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 3425900, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2056a8b933b549043e61f630d5e6da98?s=128&d=identicon&r=PG&f=1", "display_name": "user3425900", "link": "https://stackoverflow.com/users/3425900/user3425900"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 36459682, "answer_count": 2, "score": -1, "last_activity_date": 1459971440, "creation_date": 1459949766, "last_edit_date": 1459951421, "question_id": 36452804, "link": "https://stackoverflow.com/questions/36452804/perl-rearrange-array-based-on-element-value", "title": "Perl: Rearrange array based on element value", "body": "<p>What would be the most efficient way to rearrange the array elements so that they are ordered &amp; place with the corresponding index value (minus one)? The $dat variable being the max number of elements (which is never exceeded in the array but may or may not be present).</p>\n\n<pre><code>$dat = 14;  \nmy @array = (1, 12, 14, 7, 8, 4)\n</code></pre>\n\n<p>In other words:</p>\n\n<pre><code>my @new_array = (1, undef, undef, 4, undef, undef, 7, 8, undef, undef, undef, 12, undef, 14);\n</code></pre>\n\n<p>***EDIT****\nFuller code snippet:</p>\n\n<pre><code>foreach $auth (keys %activity) {\nmy @value = @{ $activity{$auth} };\n@value = uniq @value;\n@value = sort @value;\ns/^0// for @value;\n\nmy $count = scalar(grep $_, @value);\nmy $dat = max( @value );\n@{$activity{$auth}} = @value;\n}\n</code></pre>\n"}, {"tags": ["java", "python", "bash", "perl", "raku"], "comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 830, "user_id": 2166592, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93af457c15c2f90beece7ad86c64217f?s=128&d=identicon&r=PG", "display_name": "3kings", "link": "https://stackoverflow.com/users/2166592/3kings"}, "edited": false, "score": 0, "creation_date": 1459948293, "post_id": 36452099, "comment_id": 60517104, "body": "@3kings I tagged it Java because I am willing to accept Java answers, even though my original thought was just Perl 6."}, {"owner": {"reputation": 322, "user_id": 5955649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a189fb5c016a6c1b279784837f6987?s=128&d=identicon&r=PG", "display_name": "aleb2000", "link": "https://stackoverflow.com/users/5955649/aleb2000"}, "edited": false, "score": 1, "creation_date": 1459948313, "post_id": 36452099, "comment_id": 60517130, "body": "He wrote that he accepts solutions with other languages (like java)."}, {"owner": {"reputation": 322, "user_id": 5955649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a189fb5c016a6c1b279784837f6987?s=128&d=identicon&r=PG", "display_name": "aleb2000", "link": "https://stackoverflow.com/users/5955649/aleb2000"}, "edited": false, "score": 1, "creation_date": 1459948577, "post_id": 36452099, "comment_id": 60517340, "body": "So you want to kill the process during its execution?"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 322, "user_id": 5955649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a189fb5c016a6c1b279784837f6987?s=128&d=identicon&r=PG", "display_name": "aleb2000", "link": "https://stackoverflow.com/users/5955649/aleb2000"}, "edited": false, "score": 0, "creation_date": 1459948644, "post_id": 36452099, "comment_id": 60517397, "body": "@aleb2000 Yes. Basically, I want to be able to set a time limit on it."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1459949146, "post_id": 36452099, "comment_id": 60517773, "body": "And you couldnt find any reasonable solution on google ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1459951608, "post_id": 36452099, "comment_id": 60519762, "body": "Use <a href=\"https://metacpan.org/pod/IPC::Open3\" rel=\"nofollow noreferrer\">IPC::Open3</a>. It gives you the pid of the child process, then you can later kill it if you want."}], "answers": [{"comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1459970702, "post_id": 36452402, "comment_id": 60533001, "body": "That&#39;s the kind of control I was thinking about. Thanks!"}], "tags": [], "owner": {"reputation": 322, "user_id": 5955649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a189fb5c016a6c1b279784837f6987?s=128&d=identicon&r=PG", "display_name": "aleb2000", "link": "https://stackoverflow.com/users/5955649/aleb2000"}, "is_accepted": false, "score": 3, "last_activity_date": 1459949482, "last_edit_date": 1459949482, "creation_date": 1459948753, "answer_id": 36452402, "question_id": 36452099, "link": "https://stackoverflow.com/questions/36452099/how-can-i-programmatically-terminate-a-running-process-in-the-same-script-that-s/36452402#36452402", "title": "How can I programmatically terminate a running process in the same script that started it?", "body": "<p>In Java you can create a process like this:</p>\n\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(\"C:\\\\Path\\program.exe\", \"param1\", \"param2\", \"ecc...\");\nProcess process = processBuilder.start(); // start the process\n\nprocess.waitFor(timeLimit, timeUnit); // This causes the current thread to wait until the process has terminated or the specified time elapses\n\n// when you want to kill the process\nif(process.isAlive()) {\n    process.destroy();\n}\n</code></pre>\n\n<p>Or you can use <code>process.destroyForcibly();</code>, see the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow\">Process documentation</a> for more info.</p>\n\n<p>To execute a bash command point to the bash executable and set the command as a parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1459971388, "post_id": 36452407, "comment_id": 60533416, "body": "This works great. The <code>sleep</code> process is killed at the specified timeout. Thanks!"}], "tags": [], "owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "is_accepted": false, "score": 5, "last_activity_date": 1460268534, "last_edit_date": 1460268534, "creation_date": 1459948759, "answer_id": 36452407, "question_id": 36452099, "link": "https://stackoverflow.com/questions/36452099/how-can-i-programmatically-terminate-a-running-process-in-the-same-script-that-s/36452407#36452407", "title": "How can I programmatically terminate a running process in the same script that started it?", "body": "<p>Neither Perl, Perl 6, nor Java, but <code>bash</code>:</p>\n\n<pre><code> timeout 5 bash -c \"echo hello; sleep 10; echo goodbye\" &amp;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1459971540, "post_id": 36453982, "comment_id": 60533507, "body": "My actual external command (not shown here) had several subprocesses running. This takes care of those. Thanks!"}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": true, "score": 8, "last_activity_date": 1460268569, "last_edit_date": 1460268569, "creation_date": 1459952509, "answer_id": 36453982, "question_id": 36452099, "link": "https://stackoverflow.com/questions/36452099/how-can-i-programmatically-terminate-a-running-process-in-the-same-script-that-s/36453982#36453982", "title": "How can I programmatically terminate a running process in the same script that started it?", "body": "<p>For Perl 6, there seems to be the <a href=\"http://doc.perl6.org/type/Proc::Async\" rel=\"nofollow noreferrer\">Proc::Async</a> module</p>\n\n<blockquote>\n  <p>Proc::Async allows you to run external commands asynchronously, capturing standard output and error handles, and optionally write to its standard input.</p>\n</blockquote>\n\n<pre><code># command with arguments\nmy $proc = Proc::Async.new('echo', 'foo', 'bar');\n\n# subscribe to new output from out and err handles:\n$proc.stdout.tap(-&gt; $v { print \"Output: $v\" });\n$proc.stderr.tap(-&gt; $v { print \"Error:  $v\" });\n\nsay \"Starting...\";\nmy $promise = $proc.start;\n\n# wait for the external program to terminate\nawait $promise;\nsay \"Done.\";\n</code></pre>\n\n<p>Method kill:</p>\n\n<pre><code>kill(Proc::Async:D: $signal = \"HUP\")\n</code></pre>\n\n<blockquote>\n  <p>Sends a signal to the running program. The signal can be a signal name (\"KILL\" or \"SIGKILL\"), an integer (9) or an element of the Signal enum (Signal::SIGKILL).</p>\n</blockquote>\n\n<p>An example on how to use it:</p>\n\n<pre><code>#!/usr/bin/env perl6\nuse v6;\n\nsay 'Start';\nmy $proc = Proc::Async.new('sleep', 10);\n\nmy $promise= $proc.start;\nsay 'Process started';\nsleep 2;\n$proc.kill;\nawait $promise;\nsay 'Process killed';\n</code></pre>\n\n<p>As you can see, <code>$proc</code> has a method to kill the process. </p>\n"}], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 36453982, "answer_count": 3, "score": 3, "last_activity_date": 1460269743, "creation_date": 1459948004, "last_edit_date": 1460269743, "question_id": 36452099, "link": "https://stackoverflow.com/questions/36452099/how-can-i-programmatically-terminate-a-running-process-in-the-same-script-that-s", "title": "How can I programmatically terminate a running process in the same script that started it?", "body": "<p><strong>How do I start processes from a script in a way that also allows me to terminate them?</strong></p>\n\n<p>Basically, I can easily terminate the main script, but terminating the external processes that this main script starts has been the issue. I googled like crazy for Perl 6 solutions. I was just about to post my question and then thought I'd open the question up to solutions in other languages.</p>\n\n<p>Starting external processes is easy with Perl\u00a06:</p>\n\n<pre><code>my $proc = shell(\"possibly_long_running_command\");\n</code></pre>\n\n<p><a href=\"https://doc.perl6.org/routine/shell\" rel=\"nofollow\"><code>shell</code></a> returns a process object after the process finishes. So, I don't know how to programmatically find out the PID of the running process because the variable <code>$proc</code> isn't even created until the external process finishes. (side note: after it finishes, <code>$proc.pid</code> returns an undefined <code>Any</code>, so it doesn't tell me what PID it used to have.)</p>\n\n<p>Here is some code demonstrating some of my attempts to create a \"self destructing\" script:</p>\n\n<pre><code>#!/bin/env perl6\n\nsay \"PID of the main script: $*PID\";\n\n# limit run time of this script\nPromise.in(10).then( {\n    say \"Took too long! Killing job with PID of $*PID\";\n    shell \"kill $*PID\"\n} );\n\nmy $example = shell('echo \"PID of bash command: $$\"; sleep 20; echo \"PID of bash command after sleeping is still $$\"');\n\nsay \"This line is never printed\";\n</code></pre>\n\n<p>This results in the following output which kills the main script, but not the externally created process (see output after the word <code>Terminated</code>):</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>[prompt]$ ./self_destruct.pl6\nPID of the main script: 30432\nPID of bash command: 30436\nTook too long! Killing job with PID of 30432\nTerminated\n[prompt]$ my PID after sleeping is still 30436\n</code></pre>\n\n<p>By the way, the PID of <code>sleep</code> was also different (i.e. <code>30437</code>) according to <code>top</code>.</p>\n\n<p>I'm also not sure how to make this work with <a href=\"https://doc.perl6.org/type/Proc::Async\" rel=\"nofollow\"><code>Proc::Async</code></a>. Unlike the result of <code>shell</code>, the asynchronous process object it creates doesn't have a <code>pid</code> method.</p>\n\n<p>I was originally looking for a Perl 6 solution, but I'm open to solutions in Python, Perl 5, Java, or any language that interacts with the \"shell\" reasonably well.</p>\n"}, {"tags": ["regex", "perl", "mechanize", "www-mechanize-firefox"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459947500, "post_id": 36451429, "comment_id": 60516430, "body": "<a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\">metacpan.org/pod/WWW::Mechanize</a> doesn&#39;t mention a method <code>find_link_dom</code>."}, {"owner": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459947592, "post_id": 36451429, "comment_id": 60516511, "body": "whoops. I forgot the firefox. I&#39;ll update."}], "answers": [{"comments": [{"owner": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "edited": false, "score": 0, "creation_date": 1459951857, "post_id": 36451996, "comment_id": 60519981, "body": "Thanks for the help. Another question that is somewhat related. Is there a way to search on &#39;Title&#39; instead of of text?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "edited": false, "score": 0, "creation_date": 1459952147, "post_id": 36451996, "comment_id": 60520209, "body": "@Bill I don&#39;t see that there&#39;s a built-in way to do that. See <a href=\"https://metacpan.org/source/CORION/WWW-Mechanize-Firefox-0.78/lib/WWW/Mechanize/Firefox.pm#L2317\" rel=\"nofollow noreferrer\">metacpan.org/source/CORION/WWW-Mechanize-Firefox-0.78/lib/WW&zwnj;&#8203;W/&hellip;</a>. I guess you&#39;d have to do that with your own XPath expression. If you have trouble with that, ask a new question please."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "edited": false, "score": 0, "creation_date": 1460533672, "post_id": 36451996, "comment_id": 60781045, "body": "@Bill did you find a way to do the <code>title</code> thing?"}, {"owner": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "edited": false, "score": 0, "creation_date": 1460554152, "post_id": 36451996, "comment_id": 60796847, "body": "I didn&#39;t. I went a different direction with it."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1459951992, "last_edit_date": 1459951992, "creation_date": 1459947749, "answer_id": 36451996, "question_id": 36451429, "link": "https://stackoverflow.com/questions/36451429/how-do-i-find-the-second-link-occurance-using-wwwmechanizefirefox-and-find-l/36451996#36451996", "title": "How do I find the second link occurance using WWW::Mechanize::Firefox and find_link_dom in Perl?", "body": "<p>The <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox#mech-find_link_dom-options\" rel=\"nofollow\">documentation</a> says it returns <em>objects</em>. That's plural. There is also this piece of code. Note the <code>for</code>.</p>\n\n<blockquote>\n<pre><code>print $_-&gt;{innerHTML} . \"\\n\"\n    for $mech-&gt;find_link_dom( text_contains =&gt; 'CPAN' );\n</code></pre>\n</blockquote>\n\n<p>So you can just call it in list context to get all the found links, or just take the one you want.</p>\n\n<pre><code>( undef, my $link ) = $mech-&gt;find_link_dom ( text_regex =&gt; 'abc' );\n</code></pre>\n\n<p>That should give you the second one.</p>\n\n<p>Alternatively, grab all of them and output, to see what's going on.</p>\n\n<pre><code>use Data::Printer;\n\nmy @links = $mech-&gt;find_link_dom ( text_regex =&gt; 'abc' );\np @links\n</code></pre>\n\n<p>Or, you can use the option <code>n</code>, which is a <em>1-based index</em>.</p>\n\n<pre><code>my $second_link = $mech-&gt;find_link_dom( text_regex =&gt; 'abc', n =&gt; 2 );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459950946, "post_id": 36452232, "comment_id": 60519217, "body": "Good spot. That&#39;s probably the more concise option, though the interface is a bit questionable. But please <a href=\"https://stackoverflow.com/posts/36452232/edit\">edit</a> your answer and remove the first line. This is fine as an answer, no need to apologize. You can add a working example though."}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459951711, "post_id": 36452232, "comment_id": 60519850, "body": "Yep, the interface and documentation leave room for improvement."}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 1, "last_activity_date": 1459951636, "last_edit_date": 1459951636, "creation_date": 1459948313, "answer_id": 36452232, "question_id": 36451429, "link": "https://stackoverflow.com/questions/36451429/how-do-i-find-the-second-link-occurance-using-wwwmechanizefirefox-and-find-l/36452232#36452232", "title": "How do I find the second link occurance using WWW::Mechanize::Firefox and find_link_dom in Perl?", "body": "<p>There's a <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-Firefox-0.78/lib/WWW/Mechanize/Firefox.pm#$mech-%3Efind_all_links_dom_%25options\" rel=\"nofollow\">second method</a>, from @simbabque documentation reference, that I think you should try:</p>\n\n<pre><code> $mech-&gt;find_all_links_dom %options\n\n print $_-&gt;{innerHTML} . \"\\n\"\n     for $mech-&gt;find_all_links_dom( text_regex =&gt; qr/google/i );\n</code></pre>\n\n<blockquote>\n  <p>Finds all matching linky DOM nodes in the document. The options are documented in ->find_link_dom.</p>\n  \n  <p>Returns them as list or an array reference, depending on context.</p>\n  \n  <p>This defaults to not look through child frames.</p>\n</blockquote>\n"}], "owner": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 36451996, "answer_count": 2, "score": 2, "last_activity_date": 1459951992, "creation_date": 1459946339, "last_edit_date": 1459951005, "question_id": 36451429, "link": "https://stackoverflow.com/questions/36451429/how-do-i-find-the-second-link-occurance-using-wwwmechanizefirefox-and-find-l", "title": "How do I find the second link occurance using WWW::Mechanize::Firefox and find_link_dom in Perl?", "body": "<p>I am using find_link_dom and it's working... to find the first link that matches. I need to find the second. Here is my line:</p>\n\n<pre><code>my $link = $mech-&gt;find_link_dom ( text_regex =&gt; 'abc' );\n</code></pre>\n\n<p>Is there a way for this command to return the second link that matches? </p>\n\n<p>And before someone comment that I need to change my search criteria, the text is the same. The only thing different is the url and I don't know just from the url which should be picked. I need the second link that match the above search. </p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459944800, "post_id": 36449926, "comment_id": 60514210, "body": "What URL are you retrieving? This works fairly well, but you do usually need to check you&#39;re getting the right relative paths to URLs based on your routes."}, {"owner": {"reputation": 35, "user_id": 2494566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602a0bf682c725fda560d925c558c518?s=128&d=identicon&r=PG", "display_name": "Kate", "link": "https://stackoverflow.com/users/2494566/kate"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459945679, "post_id": 36449926, "comment_id": 60514891, "body": "I didn&#39;t change anything in generated new app, so the route is $r-&gt;get(&#39;/&#39;)-&gt;to(&#39;example#welcome&#39;) and in templates/layouts/default.html.ep I just added link to css"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1460035454, "post_id": 36449926, "comment_id": 60565181, "body": "If you created the app with <code>mojo generate app</code> and add test.css in the <code>public</code> dir you are doing things the right way. Your error is in something you are not telling us."}, {"owner": {"reputation": 245, "user_id": 2443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nt39w.jpg?s=128&g=1", "display_name": "dequid", "link": "https://stackoverflow.com/users/2443551/dequid"}, "edited": false, "score": 0, "creation_date": 1521171398, "post_id": 36449926, "comment_id": 85627310, "body": "Maybe some faulty server configuration. Are you going through a proxy?"}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 2443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nt39w.jpg?s=128&g=1", "display_name": "dequid", "link": "https://stackoverflow.com/users/2443551/dequid"}, "edited": false, "score": 2, "creation_date": 1521171308, "post_id": 37524653, "comment_id": 85627290, "body": "Although a nice method i wasn&#39;t aware of, this is not an answer that tackles down the op&#39;s problem but a workaround."}], "tags": [], "owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "is_accepted": false, "score": -2, "last_activity_date": 1464607994, "creation_date": 1464607994, "answer_id": 37524653, "question_id": 36449926, "link": "https://stackoverflow.com/questions/36449926/perl-mojolicious-static-files-in-public-not-found/37524653#37524653", "title": "Perl Mojolicious static files in public not found", "body": "<p>Use simply:\n<code>%= stylesheet '/test.css'</code> in your template.</p>\n"}], "owner": {"reputation": 35, "user_id": 2494566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602a0bf682c725fda560d925c558c518?s=128&d=identicon&r=PG", "display_name": "Kate", "link": "https://stackoverflow.com/users/2494566/kate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464607994, "creation_date": 1459942480, "last_edit_date": 1459943287, "question_id": 36449926, "link": "https://stackoverflow.com/questions/36449926/perl-mojolicious-static-files-in-public-not-found", "title": "Perl Mojolicious static files in public not found", "body": "<p>I am new to Mojolicious and I have a problem with my .css and .js files placed in public directory. \nMy test app was generated by mojo, in template I added </p>\n\n<pre><code>&lt;link href=\"/test.css\" rel=\"stylesheet\"&gt;\n</code></pre>\n\n<p>Created file test.css i put into public directory, but in log I see</p>\n\n<pre><code>[Wed Apr  6 14:27:39 2016] [debug] GET \"/test.css\"\n...\n[Wed Apr  6 14:27:39 2016] [debug] 404 Not Found (0.039291s, 25.451/s)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["perl", "networking"], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 4, "last_activity_date": 1459937288, "creation_date": 1459937288, "answer_id": 36447936, "question_id": 36447387, "link": "https://stackoverflow.com/questions/36447387/how-to-obtain-cidr-ip-notation-from-ip-and-subnet-using-perl/36447936#36447936", "title": "How to obtain CIDR IP notation from IP and subnet using Perl", "body": "<p>If you want a prepackaged solution, you can use the <code>addrandmask2cidr</code> function from <a href=\"https://metacpan.org/pod/Net::CIDR\" rel=\"nofollow\">Net::CIDR</a>.</p>\n\n<p>If you want to roll your own, the basic algorithm is to count the number of set bits in the mask to get the value after the slash (e.g., 255.255.255.0 is 11111111.11111111.11111111.00000000 in binary, 24 bits set, therefore CIDR /24) and do a logical-and (<code>&amp;</code>) of the address with the mask to get the network's base address.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 9, "last_activity_date": 1467624753, "last_edit_date": 1467624753, "creation_date": 1459938970, "answer_id": 36448552, "question_id": 36447387, "link": "https://stackoverflow.com/questions/36447387/how-to-obtain-cidr-ip-notation-from-ip-and-subnet-using-perl/36448552#36448552", "title": "How to obtain CIDR IP notation from IP and subnet using Perl", "body": "<p>I recommend that you use the <a href=\"https://p3rl.org/NetAddr::IP\" rel=\"nofollow\"><code>NetAddr::IP</code></a> module. It's a simple matter of constructing an object with the required IP address and net mask and calling the <code>network</code> method on it</p>\n\n<p>It looks like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse NetAddr::IP;\n\nsay make_cidr(qw/ 192.168.1.23  255.255.255.0 /);\nsay make_cidr(qw/ 192.168.1.23  255.255.255.224 /);\n\nsub make_cidr {\n    my ($addr, $mask) = @_;\n    my $net = NetAddr::IP-&gt;new($addr, $mask);\n    $net-&gt;network;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>192.168.1.0/24\n192.168.1.0/27\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "accepted_answer_id": 36447936, "answer_count": 2, "score": 2, "last_activity_date": 1467624753, "creation_date": 1459935948, "last_edit_date": 1459937314, "question_id": 36447387, "link": "https://stackoverflow.com/questions/36447387/how-to-obtain-cidr-ip-notation-from-ip-and-subnet-using-perl", "title": "How to obtain CIDR IP notation from IP and subnet using Perl", "body": "<p>Is there a Perl function that, given an IP address and subnet mask, can return the CIDR notation of the subnet the IP belongs to?</p>\n\n<p>For example, assuming I have the IP <code>192.168.1.23</code> with subnet mask <code>255.255.255.0</code>, I want to obtain the value <code>192.168.1.0/24</code>.</p>\n\n<p>Or if I have <code>192.168.1.23</code> with subnet mask <code>255.255.255.224</code> I want <code>192.168.1.0/27</code> and so on.</p>\n\n<p>I could eventually build a function that does so, but I find hard to believe there isn't something that does this already.</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459935272, "post_id": 36447026, "comment_id": 60507105, "body": "The synopsis contains several different use case examples. You should read the rest of the documentation. In order to make your question clearer, please <a href=\"https://stackoverflow.com/posts/36447026/edit\">edit</a> and add example input and desired output."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 2, "creation_date": 1459935376, "post_id": 36447026, "comment_id": 60507193, "body": "Then, push only the field instead of whole row like <code>push @rows, $row-&gt;[2]</code> and later on push other new fields too."}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1459935465, "post_id": 36447026, "comment_id": 60507262, "body": "Brilliant, why you don&#39;t add this as reply so i can flag green?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 3, "creation_date": 1459935669, "post_id": 36447026, "comment_id": 60507410, "body": "Because I don&#39;t find it Brilliant. It is just common sense."}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1459936358, "post_id": 36447026, "comment_id": 60507931, "body": "The main problem is that if you push into the array non row elements how can it possibly know where a row ends, i&#39;m sorry but it doesn&#39;t work"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459940673, "post_id": 36447026, "comment_id": 60511086, "body": "@BlueStarry: You need to give an <i>example</i> of your input data and the result you require. Please also show your own code rather than a synopsis from the documentation that you know doesn&#39;t do what you need"}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1459941337, "post_id": 36447026, "comment_id": 60511574, "body": "Hi Borodin, thanks for your reply, i know you&#39;re a perl master :) The main problem is that i don&#39;t understand what this piece of code does so i can adapt it to my needs. @rows is the array, i don&#39;t know what there&#39;s inside, i don&#39;t know why they use $row, is that an array reference by the way? Why use it..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459941759, "post_id": 36447026, "comment_id": 60511889, "body": "@BlueStarry: Yeah, but my problem is that you&#39;ve only vaguely described your needs so it&#39;s very difficult to help! <code>@rows</code> is an array of data records, and each record is a reference to an array of fields. You should get into the habit of using <a href=\"https://p3rl.org/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a> (do make the effort to install it -- it&#39;s way better than <code>Data::Dumper</code>) and <code>dd \\@rows</code> so that you can see what you&#39;re working with. And yes, <code>$row</code> contains a reference to an array holding the fields for one row of the input CSV data"}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1459942318, "post_id": 36449682, "comment_id": 60512342, "body": "Yea this is exactly what i&#39;ve been looking for. Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1459941813, "creation_date": 1459941813, "answer_id": 36449682, "question_id": 36447026, "link": "https://stackoverflow.com/questions/36447026/textcsv-module-in-perl-writing-data-inside-a-csv/36449682#36449682", "title": "Text::Csv module in perl, writing data inside a csv", "body": "<p>It's hard to offer a solution when your requirement is so vague, but the general principle is that, instead of pushing <code>$row</code> onto the <code>@rows</code> array, you should push a reference to an array containing the data that you want in the output. It's convenient to use an anonymous array for this</p>\n\n<p>Suppose you want the output to be <code>A</code>, followed by the third column from the row, followed by <code>Z</code>. Then you would change the <code>while</code> loop like this</p>\n\n<p>You will have to change the test to make the check that you want</p>\n\n<pre><code>while ( my $row = $csv-&gt;getline($fh) ) {\n    next unless $row-&gt;[2] =~ /pattern/;\n    push @rows, [ 'A', $rows-&gt;[2], 'Z' ];\n}\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 36449682, "answer_count": 1, "score": 0, "last_activity_date": 1459941813, "creation_date": 1459935054, "last_edit_date": 1459941000, "question_id": 36447026, "link": "https://stackoverflow.com/questions/36447026/textcsv-module-in-perl-writing-data-inside-a-csv", "title": "Text::Csv module in perl, writing data inside a csv", "body": "<p>In the synopsis of <a href=\"https://p3rl.org/Text::CSV\" rel=\"nofollow\"><code>Text::CSV</code></a> there's this example</p>\n\n<pre><code>my @rows;\nmy $csv = Text::CSV-&gt;new ( { binary =&gt; 1 } )  # should set binary attribute.\n        or die \"Cannot use CSV: \".Text::CSV-&gt;error_diag ();\n\nopen my $fh, \"&lt;:encoding(utf8)\", \"test.csv\" or die \"test.csv: $!\";\n\nwhile ( my $row = $csv-&gt;getline( $fh ) ) {\n    $row-&gt;[2] =~ m/pattern/ or next; # 3rd field should match\n    push @rows, $row;\n}\n\n$csv-&gt;eof or $csv-&gt;error_diag();\nclose $fh;\n\n$csv-&gt;eol (\"\\r\\n\");\n\nopen $fh, \"&gt;:encoding(utf8)\", \"new.csv\" or die \"new.csv: $!\";\n$csv-&gt;print ($fh, $_) for @rows;\nclose $fh or die \"new.csv: $!\";\n</code></pre>\n\n<p>I see that it pushes some rows on the array <code>@rows</code>, and then the array gets printed line by line inside the output file.</p>\n\n<p>I need to do a similar thing (like checking for a pattern and then save the row to rewrite it on another file later) but I need just one field from each row, and I need to add new fields to the <code>$row</code> that is been pushed. How would I do that?</p>\n"}, {"tags": ["python", "perl", "python-2.7", "subprocess"], "comments": [{"owner": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1459982583, "post_id": 36446240, "comment_id": 60539038, "body": "1- are there shell meta-characters such as spaces in <code>other_values</code>? Is it a single parameter? 2- Does <code>echo hi there | perl thescript.pl --in &#47;dev&#47;stdin ...</code> work?"}, {"owner": {"reputation": 2476, "user_id": 2717284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c53961e41143030eccebed92dd25a8?s=128&d=identicon&r=PG&f=1", "display_name": "odedsh", "link": "https://stackoverflow.com/users/2717284/odedsh"}, "edited": false, "score": 1, "creation_date": 1460041708, "post_id": 36446240, "comment_id": 60570394, "body": "I dunno what is wrong but I&#39;d try either  stderr=subprocess.STDOUT: or stderr=subprocess.PIPE  so you will also see the errors that are happening."}, {"owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "reply_to_user": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1460278988, "post_id": 36446240, "comment_id": 60659783, "body": "@J.F.Sebastian, 1- other_values don&#39;t have any meta-characters. 2- Yes, in the command line with echo works."}, {"owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "reply_to_user": {"reputation": 2476, "user_id": 2717284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c53961e41143030eccebed92dd25a8?s=128&d=identicon&r=PG&f=1", "display_name": "odedsh", "link": "https://stackoverflow.com/users/2717284/odedsh"}, "edited": false, "score": 0, "creation_date": 1460279006, "post_id": 36446240, "comment_id": 60659789, "body": "@odedsh, I added stderr but there is no output there either."}], "answers": [{"comments": [{"owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "edited": false, "score": 0, "creation_date": 1460280263, "post_id": 36463602, "comment_id": 60660158, "body": "Your example works in python, but my Perl script accepts --in &lt;filename&gt; as input, so I&#39;m not sure how this will work in my case. I tried subprocess.Popen([&quot;perl&quot;, &quot;myscript.pl&quot;, &quot;--in&quot;, &quot;/dev/stdin&quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE) which doesn&#39;t work (communicate returns no error but no output)"}, {"owner": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "edited": false, "score": 0, "creation_date": 1460284370, "post_id": 36463602, "comment_id": 60661292, "body": "@ShaniShalgi do you see <code>open(&quot;&#47;dev&#47;stdin&quot;).read()</code> in the answer? What do you think it does? Are you sure <code>subprocess.check_call(&quot;each input | perl ... --in &#47;dev&#47;stdin &gt;output&quot;, shell=True)</code> works? (Do you see the expected output in the <code>output</code> file?)"}, {"owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "edited": false, "score": 0, "creation_date": 1460292654, "post_id": 36463602, "comment_id": 60663762, "body": "I&#39;m not sure we understand each other. In my question I wrote that --in &quot;/dev/stdin&quot; doesn&#39;t work in python. subprocess.check_call does not return, subprocess.check_output returns nothing exactly like Popen+communicate. Also, the --in parameter does not accept open(&quot;/dev/stdin&quot;).read(), only strings. Can you give me the example you mean using the myperl.pl annotation?"}, {"owner": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "edited": false, "score": 1, "creation_date": 1460293133, "post_id": 36463602, "comment_id": 60663961, "body": "@ShaniShalgi ok. Let&#39;s do one small step at a time: do you see the expected output in the <code>output</code> file if you run: <code>subprocess.check_call(&quot;echo hi there | perl thescript.perl --in &#47;dev&#47;stdin &gt;output&quot;, shell=True)</code>?"}, {"owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "edited": false, "score": 0, "creation_date": 1460293987, "post_id": 36463602, "comment_id": 60664227, "body": "Yes this works! I now solved the problem using: <code>pipe1 = subprocess.Popen([&quot;echo&quot;, sentence], stdout=subprocess.PIPE, stderr=subprocess.STDOUT) pipe2 = subprocess.Popen([&quot;perl&quot;, &quot;myscript.perl&quot;, &quot;--in&quot;, &quot;&#47;dev&#47;stdin&quot;], stdin=pipe1.stdout, stdout=subprocess.PIPE, stderr=subprocess.STDOUT) pipe1.stdout.close() result = pipe2.communicate()[0]</code> Thank you for your patience and help"}, {"owner": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "edited": false, "score": 0, "creation_date": 1460350217, "post_id": 36463602, "comment_id": 60682136, "body": "@ShaniShalgi there is no need to start <code>echo</code> process here. <code>stdin=PIPE</code> works as is (it means your original code does not work for reasons unrelated to <code>&#47;dev&#47;stdin</code> e.g., perhaps there was a typo in the command). The purpose of the <code>echo</code> command is to find out whether <code>perl</code> tries to mmap the input file (that would fail for /dev/stdin) or whether it needs a seek-able file (/dev/stdin is not seekable). Use the code in the answer (replace the command  inside <code>[]</code> with you own)."}, {"owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "edited": false, "score": 0, "creation_date": 1460353880, "post_id": 36463602, "comment_id": 60683289, "body": "There was no typo as the same command worked in the command line, and I did not rush to post before double checking every word. The only thing I changed now is the echo instead of accepting input through communicate. It remains a mystery!"}, {"owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "reply_to_user": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1460353920, "post_id": 36463602, "comment_id": 60683309, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/108775/discussion-between-shani-shalgi-and-j-f-sebastian\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1459982585, "creation_date": 1459982585, "answer_id": 36463602, "question_id": 36446240, "link": "https://stackoverflow.com/questions/36446240/using-stdin-instead-of-a-file-in-a-python-call-to-a-perl-script/36463602#36463602", "title": "Using stdin instead of a file in a python call to a perl script", "body": "<p><code>/dev/stdin</code> should work (if it works in the shell on your system):</p>\n\n<pre><code>&gt;&gt;&gt; from subprocess import Popen, PIPE\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; p = Popen([sys.executable, '-c', 'print(open(\"/dev/stdin\").read()[::-1])'],\n...           stdin=PIPE, stdout=PIPE)\n&gt;&gt;&gt; p.communicate(b'ab')[0]\n'ba\\n'\n</code></pre>\n\n<p><code>stdin=PIPE</code> creates a pipe and connects it to the child process' stdin. Reading from <code>/dev/stdin</code> is equivalent to reading from the standard input (<code>0</code> fd) and therefore the child reads from the pipe here as shown in the example.</p>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "is_accepted": true, "score": 2, "last_activity_date": 1460294961, "creation_date": 1460294961, "answer_id": 36530393, "question_id": 36446240, "link": "https://stackoverflow.com/questions/36446240/using-stdin-instead-of-a-file-in-a-python-call-to-a-perl-script/36530393#36530393", "title": "Using stdin instead of a file in a python call to a perl script", "body": "<p>Thanks to the comments by @J.F.Sebastian above, I managed to solve this problem with echo and pipes.</p>\n\n<pre><code>args = [\"perl\", \"myscript.perl\", \"--in\", \"/dev/stdin\", \"other_args\", other_vals]\npipe1 = subprocess.Popen([\"echo\", mytext], stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\npipe2 = subprocess.Popen(args, stdin=pipe1.stdout, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\npipe1.stdout.close()\nresult = pipe2.communicate()[0]\n</code></pre>\n\n<p>Which returns the expected output. Still not sure why the original (posted in the question) didn't work (using communicate to send the text to the stdin)</p>\n"}], "owner": {"reputation": 358, "user_id": 4658945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsPRLrLvxNU/AAAAAAAAAAI/AAAAAAAAXLo/Fq9e-aa3aaw/photo.jpg?sz=128", "display_name": "Shani Shalgi", "link": "https://stackoverflow.com/users/4658945/shani-shalgi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 36530393, "answer_count": 2, "score": 2, "last_activity_date": 1460294961, "creation_date": 1459933210, "last_edit_date": 1459940719, "question_id": 36446240, "link": "https://stackoverflow.com/questions/36446240/using-stdin-instead-of-a-file-in-a-python-call-to-a-perl-script", "title": "Using stdin instead of a file in a python call to a perl script", "body": "<p>I'm running a perl script that accepts a file as input from Python using subprocess.Popen(). I now need the input to the script to accept input from the standard input and not a file. If I run the perl scrip from the shell like this:</p>\n\n<pre><code>perl thescript.perl --in /dev/stdin --other_args other_values \n</code></pre>\n\n<p>It works perfectly. However, in python, nothing happens using the following commands:</p>\n\n<pre><code>mytext = \"hi there\"\nargs = [\"perl\", \"myscript.perl\", \"--in\", \"/dev/stdin\", \"--other_args\", other_values]\npipe = subprocess.Popen(args, stdin=subprocess.PIPE, stdout=subprocess.PIPE)\nresult = pipe.communicate(input=mytext.encode(\"utf8\"))[0]`\n</code></pre>\n\n<p>result always returns empty (I've also tried using <code>pipe.stdin.write(mytext\")</code> and <code>result=pipe.stdout.read()</code>) </p>\n\n<p>Please let me know what I'm doing wrong.</p>\n"}, {"tags": ["sql", "perl", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459934257, "post_id": 36446047, "comment_id": 60506274, "body": "This is a bit unclear. Can you create a complete example with stuff that is in all three databases, and what the expected output is supposed to be?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459935584, "post_id": 36446047, "comment_id": 60507343, "body": "Are you saying that <code>DB3</code> contains actual SQL code?"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "edited": false, "score": 0, "creation_date": 1459936056, "post_id": 36446047, "comment_id": 60507694, "body": "DB3 contains insert queries for each table in DB2."}], "answers": [{"tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": false, "score": 0, "last_activity_date": 1459962022, "creation_date": 1459962022, "answer_id": 36457662, "question_id": 36446047, "link": "https://stackoverflow.com/questions/36446047/copying-data-from-one-db-to-another-db/36457662#36457662", "title": "copying data from one DB to another DB", "body": "<p>In pure SQL, you would just write:</p>\n\n<pre><code>INSERT INTO DB2.dbo.ACTION_BLOCK\nselect * from DB1.dbo.ACTION_BLOCK\n</code></pre>\n\n<p>Just wrap that up in Perl, and Bob's your uncle!</p>\n"}], "owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460053520, "creation_date": 1459932664, "last_edit_date": 1460053520, "question_id": 36446047, "link": "https://stackoverflow.com/questions/36446047/copying-data-from-one-db-to-another-db", "title": "copying data from one DB to another DB", "body": "<p>I am writing a perl script which copies data from few tables present in DB1 to tables present in DB2.\nI have a table in DB3 which contains insert query for each table present in DB2.</p>\n\n<p>Below is an eg query for one table.</p>\n\n<pre><code>Insert into ACTION_BLOCK\n (ACTION_BLOCK_ID, RULE_EXPR_ID, ACTION_BLOCK_ORDER)\n Values();\n</code></pre>\n\n<p>I thought of implementing below logic</p>\n\n<ol>\n<li>Read data from DB1 for a table and load result to an hash.</li>\n<li>For each element in the hash \n\n<ul>\n<li>Replace values() keyword in insert query with values('data in hash')</li>\n<li>Execute the insert query in DB2.</li>\n</ul></li>\n</ol>\n\n<p>But data in DB might contain date as well. In that case I can't directly replace <code>values()</code> keyword in the query with <code>values('data in hash')</code> as I need to mention the format of date (like <code>dd\\mm\\yyyy</code> after the value).\nCan anyone help me how to overcome this challenge.</p>\n\n<p>To make it more clear consider below eg.:</p>\n\n<blockquote>\n  <p><code>DB1</code> and <code>DB2</code> have a table called <code>ACTION_BLOCK</code>. I need to copy data present in <code>DB1_ACTION_BLOCK</code> table to <code>DB2_ACTION_BLOCK</code> table.</p>\n</blockquote>\n\n<p>According to my logic,I pick insert query for <code>ACTION_BLOCK</code> table from <code>DB3</code> which will be as below.</p>\n\n<pre><code>Insert into ACTION_BLOCK\n (ACTION_BLOCK_ID, RULE_EXPR_ID,RULE_DATE,ACTION_BLOCK_ORDER)\n Values();  \n</code></pre>\n\n<p>In the above query I replace the \"values()\" keyword with th data I got from <code>DB1</code> which is as shown below:</p>\n\n<pre><code>values(01,02,02/02/2016,09);  \n</code></pre>\n\n<p>This will throw me error as the date format is not correct. Ideally it should be as shown below:</p>\n\n<pre><code>values(01,02,to_date('02/02/2016','mm/dd/yyyy'),09);\n</code></pre>\n\n<p>But my hash which contains the data from <code>DB1</code> will just have the date without that <code>to_date</code> keyword and format.  </p>\n\n<p>I hope this example clearly depicts the problem.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1459933066, "post_id": 36446018, "comment_id": 60505427, "body": "Is this supposed to be Perl code? It&#39;s full of syntax errors. It&#39;s also not clear from your question what the problem is. You should <a href=\"https://stackoverflow.com/posts/36446018/edit\">edit</a> your question and include example input and output data."}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1460031945, "post_id": 36446018, "comment_id": 60562304, "body": "I&#39;m confused with your question. I even wonder if you understand what you are tasked to do."}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "edited": false, "score": 0, "creation_date": 1460033524, "post_id": 36446018, "comment_id": 60563517, "body": "I wanted to run different tasks at different time intervals in one script without depending on linux task scheduler such as &quot;at, cron ..etc&quot; , so I have created number of subroutines for each of required tasks, however I was confused on how I can go about executing these tasks in timely manner,  @Borodin  solution worked for me :)"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467554198, "last_edit_date": 1467554198, "creation_date": 1459935062, "answer_id": 36447028, "question_id": 36446018, "link": "https://stackoverflow.com/questions/36446018/schedule-subroutines-in-perl/36447028#36447028", "title": "Schedule subroutines in perl", "body": "<p>Repeated <code>sleep</code> calls will drift rapidly because they don't take into account the time spent creating the JSON data. I would also be very wary of using <code>system</code> calls to do the data manipulation as it is bound to slow things down, and you may well overrun the one-second response time that you are looking for. Do it all within Perl instead</p>\n\n<p>I recommend you look at the excellent <a href=\"https://p3rl.org/EV\" rel=\"nofollow\"><code>EV</code></a> module. The <em>periodic</em> event type is what you need</p>\n\n<p>Here's a very short example. Your own callback subroutine should examine the time at which it is called to determine what to do, according to whether it is a multiple of 5 seconds, 60 seconds etc. Alternatively you could set up multiple event loops, one for each interval. The module makes it very straighforward</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse EV;\nuse Time::Piece 'localtime';\n\nSTDOUT-&gt;autoflush;\n\nmy $one_second = EV::periodic 1, 1, 0, \\&amp;callback;\n\nsub callback {\n  say \"Periodic event at \", localtime(EV::now)-&gt;hms;\n};\n\nEV::run;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Periodic event at 10:27:36\nPeriodic event at 10:27:37\nPeriodic event at 10:27:38\nPeriodic event at 10:27:39\nPeriodic event at 10:27:40\n</code></pre>\n\n<p>etc.</p>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 1, "accepted_answer_id": 36447028, "answer_count": 1, "score": 0, "last_activity_date": 1467554198, "creation_date": 1459932581, "last_edit_date": 1459933257, "question_id": 36446018, "link": "https://stackoverflow.com/questions/36446018/schedule-subroutines-in-perl", "title": "Schedule subroutines in perl", "body": "<p>I'm parsing a log file, and I'm required to produce JSON file with results for every 1 second, 5, 5 min, 15, 30, 1 hour ..etc </p>\n\n<p>I'm confused about the concept here, it is possible to write one big infinite while loop that include number of subroutines each will perform its parsing based on different time interval. </p>\n\n<p>Here is I have so far, not sure if this is the right approach </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n$ | = 1; # Ensure output appears\n\nmy $interval = 1;\nmy @command = \"echo processing ...\";\n\nmy $count = 0;\n\nwhile (1) {\n    `since access.log | json_convert.pl \n\n    sleep $interval - time % $interval;\n    system @command;\n}\n</code></pre>\n"}, {"tags": ["perl", "shell", "unix", "awk", "sed"], "comments": [{"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1460032277, "post_id": 36443020, "comment_id": 60562573, "body": "You are not using the same quotes in the text of your question (\u2019 U+0060) than in the example data (` U+2019)."}], "answers": [{"tags": [], "owner": {"reputation": 1042, "user_id": 873976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a86e3a7a49e89bb4a741aa093fc110a?s=128&d=identicon&r=PG", "display_name": "Sandeep Sukhija", "link": "https://stackoverflow.com/users/873976/sandeep-sukhija"}, "is_accepted": false, "score": 0, "last_activity_date": 1459926681, "last_edit_date": 1459926681, "creation_date": 1459925415, "answer_id": 36443545, "question_id": 36443020, "link": "https://stackoverflow.com/questions/36443020/comand-to-convert-closed-single-quote-to-single-quote-in-unix/36443545#36443545", "title": "comand to convert closed single quote to single quote in unix", "body": "<p>You can do something like this</p>\n\n<p>your input file, say /tmp/abc.txt looks like</p>\n\n<pre><code>#cat /tmp/abc.txt\n`ABC`|REsaff`t|`rest`\n`PQR`|sasdasd`y|d`souza\n</code></pre>\n\n<p>Now, run this command</p>\n\n<pre><code>cat /tmp/abc.txt | sed s?\\|?\\\\n\\|?g | sed s?^\\`?\\'?g | sed s?\\`\\$?\\'?g | sed s?^\\|\\`?\\|\\'?g | tr '\\n' '#' | sed s?#\\|?\\|?g | tr '#' '\\n'\n</code></pre>\n\n<p>What the command does is, it segregates all the tab values , if the value of the tab starts and ends with `, it replaces with ', then again merges all the tabs together.</p>\n\n<p>Desired output:</p>\n\n<pre><code>'ABC'|REsaff`t|'rest'\n'PQR'|sasdasd`y|d`souza\n</code></pre>\n\n<p>This solution will work with any number of tabs. The character ` will be replaced in all the tabs if the character resides at the start or at the end of the tab.</p>\n\n<p>Note: The delimeter I have used here is <code>#</code> to segregate the newlines, you can use any accordingly.</p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 6059833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c417b445997c09aacd5782563aa064ac?s=128&d=identicon&r=PG&f=1", "display_name": "Eswar Vignesh", "link": "https://stackoverflow.com/users/6059833/eswar-vignesh"}, "is_accepted": false, "score": -1, "last_activity_date": 1459928563, "creation_date": 1459928563, "answer_id": 36444567, "question_id": 36443020, "link": "https://stackoverflow.com/questions/36443020/comand-to-convert-closed-single-quote-to-single-quote-in-unix/36444567#36444567", "title": "comand to convert closed single quote to single quote in unix", "body": "<p>use the below code.hope it helps.</p>\n\n<pre><code> sed 's/`/'\"'\"'/;s/`/'\"'\"'/' test.txt\n</code></pre>\n\n<p>i used \" to escape the single quote function.refer the below screenshot.graditude</p>\n\n<p><a href=\"https://i.stack.imgur.com/B64vm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B64vm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1459930429, "last_edit_date": 1592644375, "creation_date": 1459930429, "answer_id": 36445222, "question_id": 36443020, "link": "https://stackoverflow.com/questions/36443020/comand-to-convert-closed-single-quote-to-single-quote-in-unix/36445222#36445222", "title": "comand to convert closed single quote to single quote in unix", "body": "<p>This perl command will do it for you</p>\n<pre><code>perl -pe &quot;s/`(?![a-z])|(?&lt;![a-z])`/'/ig&quot;\n</code></pre>\n<p>It replaces all backticks that are either not preceded or not followed by a letter</p>\n<h3>output</h3>\n<pre><code>NAME|SUB\n'RAZ' |Rockpor`t\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1459949224, "creation_date": 1459949224, "answer_id": 36452583, "question_id": 36443020, "link": "https://stackoverflow.com/questions/36443020/comand-to-convert-closed-single-quote-to-single-quote-in-unix/36452583#36452583", "title": "comand to convert closed single quote to single quote in unix", "body": "<p>I'd suggest</p>\n\n<pre><code>perl -pe 's/(^|\\W)`(.*?)`($|\\W)/$1\\x27$2\\x27$3/g'\n</code></pre>\n\n<p>expanded</p>\n\n<pre><code>perl -pe '\n    $q = \"\\x27\";  # a single quote\n    s{\n        (^|\\W)    # start of line or a non-word char\n        `         # the open quote\n        (.*?)     # some non-quote characters\n        `         # the close quote\n        ($|\\W)    # end of line or a non-word char\n    }{$1$q$2$q$3}gx\n'\n</code></pre>\n\n<p>Demo</p>\n\n<pre><code>perl -pe '$q=\"\\x27\"; s/(^|\\W)`(.*?)`($|\\W)/$1$q$2$q$3/g' &lt;&lt;'END'\n`foo`|I have James` hat|doesn`t\nEND\n</code></pre>\n\n\n\n<pre><code>'foo'|I have James` hat|doesn`t\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6164910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aeedf4e2673af921cad5771feb39bbb?s=128&d=identicon&r=PG&f=1", "display_name": "RAZ", "link": "https://stackoverflow.com/users/6164910/raz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1459949224, "creation_date": 1459923531, "last_edit_date": 1459923625, "question_id": 36443020, "link": "https://stackoverflow.com/questions/36443020/comand-to-convert-closed-single-quote-to-single-quote-in-unix", "title": "comand to convert closed single quote to single quote in unix", "body": "<p>i have tab sereated file.giving one scenario. \ncontain Record <code>\u2019RAZ\u2019</code>.here it is on close single quote   i want to globally replace it with single quote <code>'RAZ'</code> on the same time\nif close single quote is in middle of some word i don't want to replace.</p>\n\n<p>Eg: </p>\n\n<pre><code>NAME|SUB\n`RAZ` |Rockpor`t\n</code></pre>\n\n<p>i tried below command</p>\n\n<pre><code>sed -i \"s/\\\u2019/'/g\"  Test.txt\n</code></pre>\n\n<p>output : </p>\n\n<pre><code>'RAZ'|Rockpor't\n</code></pre>\n\n<p>Desired output should be : </p>\n\n<pre><code>'RAZ'|Rockpor`t\n</code></pre>\n\n<p>Please advise.</p>\n"}, {"tags": ["perl", "firefox", "mechanize", "www-mechanize", "www-mechanize-firefox"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1459974182, "last_edit_date": 1459974182, "creation_date": 1459927721, "answer_id": 36444276, "question_id": 36441938, "link": "https://stackoverflow.com/questions/36441938/close-tab-based-on-title/36444276#36444276", "title": "Close Tab Based on Title", "body": "<p>It is <code>$ff-&gt;closeTab($tab-&gt;{tab})</code>.  See the <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-Firefox-0.72/lib/WWW/Mechanize/Firefox/Cookbook.pod\" rel=\"nofollow\">Cookbook</a>, for example.  A complete program:</p>\n\n<pre><code>use WWW::Mechanize::Firefox;    \nmy $ff = Firefox::Application-&gt;new();\n\nmy $title_to_close = \"Title of the page to close ...\";\n\n# This will pull in all currently opened tabs   \nmy @tabs = $ff-&gt;openTabs();\n\nforeach my $tab (@tabs) {\n    if ($tab-&gt;{title} =~ /$title_to_close/) {\n        print \"Close tab: $tab-&gt;{title}\";\n        $ff-&gt;closeTab($tab-&gt;{tab});\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1459932230, "creation_date": 1459932230, "answer_id": 36445889, "question_id": 36441938, "link": "https://stackoverflow.com/questions/36441938/close-tab-based-on-title/36445889#36445889", "title": "Close Tab Based on Title", "body": "<p>More concisely:</p>\n\n<pre><code>$ff-&gt;closeTab($_-&gt;{tab}) for grep { $_-&gt;{title} eq 'TITLE HERE' } $ff-&gt;openTabs;\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 36444276, "answer_count": 2, "score": 2, "last_activity_date": 1459974182, "creation_date": 1459919003, "question_id": 36441938, "link": "https://stackoverflow.com/questions/36441938/close-tab-based-on-title", "title": "Close Tab Based on Title", "body": "<p>How would I close a tab based on it's title using <code>WWW::Mechanize::Firefox</code>?</p>\n\n<p>Here is what I currently have:</p>\n\n<pre><code>my $ff = Firefox::Application-&gt;new();\nmy @tab_info = $ff-&gt;openTabs();\nforeach my $tab (@tab_info) {\n    if($tab-&gt;{title} eq \"TITLE HERE\") {\n        $ff-&gt;closeTab($tab-&gt;{location});\n    }\n}\n</code></pre>\n\n<p>The documentation for <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-Firefox-0.78/lib/Firefox/Application.pm#$ff-%3EcloseTab(_$tab_[,$repl]_)\" rel=\"nofollow\">closeTab()</a> just says 'Close the Given Tab' with no information on what the given tab is</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1459915718, "post_id": 36441290, "comment_id": 60496845, "body": "Please show the line you input."}, {"owner": {"reputation": 27, "user_id": 5949508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1557fc0488dec016b5ac8b6e01c134f?s=128&d=identicon&r=PG&f=1", "display_name": "PerlGrammer", "link": "https://stackoverflow.com/users/5949508/perlgrammer"}, "reply_to_user": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1459915778, "post_id": 36441290, "comment_id": 60496868, "body": "It is as follows:12/12/12 10/10/57 10/09/66"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1459917327, "post_id": 36441290, "comment_id": 60497336, "body": "Show how looks your file (exactly) in your question, this can be <i>very</i> useful."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5949508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1557fc0488dec016b5ac8b6e01c134f?s=128&d=identicon&r=PG&f=1", "display_name": "PerlGrammer", "link": "https://stackoverflow.com/users/5949508/perlgrammer"}, "edited": false, "score": 0, "creation_date": 1459916734, "post_id": 36441455, "comment_id": 60497152, "body": "Thank you so much! I was convinced there was something wrong with my regex and the fact that I needed another while loop didn&#39;t even occur to me."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1459916960, "last_edit_date": 1459916960, "creation_date": 1459916581, "answer_id": 36441455, "question_id": 36441290, "link": "https://stackoverflow.com/questions/36441290/perl-regex-searching-thru-entire-line-of-file/36441455#36441455", "title": "perl regex: searching thru entire line of file", "body": "<p>You just need to change the 'if' to a 'while' and the regex will take up where it left off;</p>\n\n<pre><code>open INPUT, \"&lt; a.dat\" or die \"Can't open input file: $!\";\nwhile (my $line = &lt;INPUT&gt;){\n    while ($line =~ /(\\d\\d)\\/(\\d\\d)\\/([5-9][0-9])/g){\n        print \"$&amp;\\n\"  ;\n    }\n}\n# Output given line above\n# 10/10/57\n# 10/09/66\n</code></pre>\n\n<p>You could also capture the whole of the date into one capture variable and use a different regex delimiter to save escaping the slashes:</p>\n\n<pre><code>while ($line =~ m|(\\d\\d/\\d\\d/[5-9]\\d)|g)  {\n    print \"$1\\n\" ;\n}\n</code></pre>\n\n<p>...but that's a matter of taste, perhaps.</p>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1459916931, "creation_date": 1459916931, "answer_id": 36441513, "question_id": 36441290, "link": "https://stackoverflow.com/questions/36441290/perl-regex-searching-thru-entire-line-of-file/36441513#36441513", "title": "perl regex: searching thru entire line of file", "body": "<p>You are printing <code>$&amp;</code> which gets updated whenever any new match is encountered. </p>\n\n<p>But in this case you need to store the all the previous matches and the updated one too, so you can use array for storing all the matches.</p>\n\n<pre><code>while(&lt;$fh&gt;) {\n  @dates = $_ =~ /(\\d\\d)\\/(\\d\\d)\\/([5-9][0-9])/g;\n  print \"@dates\\n\" if(@dates);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "is_accepted": false, "score": 0, "last_activity_date": 1459917082, "creation_date": 1459917082, "answer_id": 36441537, "question_id": 36441290, "link": "https://stackoverflow.com/questions/36441290/perl-regex-searching-thru-entire-line-of-file/36441537#36441537", "title": "perl regex: searching thru entire line of file", "body": "<p>You can use map also to get year range 50 to 99 and store in array</p>\n\n<pre><code>open INPUT, \"&lt; dates.txt\" or die \"Can't open input file: $!\";\n@as = map{$_ =~ m/\\d\\d\\/\\d\\d\\/[5-9][0-9]/g} &lt;INPUT&gt;;\n$, = \"\\n\";\nprint @as;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467563291, "last_edit_date": 1467563291, "creation_date": 1459930954, "answer_id": 36445408, "question_id": 36441290, "link": "https://stackoverflow.com/questions/36441290/perl-regex-searching-thru-entire-line-of-file/36445408#36445408", "title": "perl regex: searching thru entire line of file", "body": "<p>A few points about your code</p>\n\n<ul>\n<li><p>You <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of all your Perl programs</p></li>\n<li><p>You should prefer lexical file handles and the three-parameter form of <code>open</code></p></li>\n<li><p>If your regex pattern contains literal slashes then it is clearest to use a non-standard delimiter so that they don't need to be escaped</p></li>\n<li><p>Although recent releases of Perl have fixed the issue, there used to be a significant performance hit when using <code>$&amp;</code>, so it is best to avoid it, at least for now. Put capturing parentheses around the whole pattern and use <code>$1</code> instead</p></li>\n</ul>\n\n<p>This program will do as you ask</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nopen my $fh, '&lt;', 'dates.txt' or die \"Can't open input file: $!\";\n\nwhile ( &lt;$fh&gt; ) {\n    print $1, \"\\n\" while m{(\\d\\d/\\d\\d/[5-9][0-9])}g\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>10/10/57\n10/09/66\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 1051920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5220f618ed7e20a1cfc1c05bf19b19b6?s=128&d=identicon&r=PG", "display_name": "Arys", "link": "https://stackoverflow.com/users/1051920/arys"}, "is_accepted": false, "score": 0, "last_activity_date": 1459931618, "creation_date": 1459931618, "answer_id": 36445667, "question_id": 36441290, "link": "https://stackoverflow.com/questions/36441290/perl-regex-searching-thru-entire-line-of-file/36445667#36445667", "title": "perl regex: searching thru entire line of file", "body": "<p>Another way around it is removing the dates you don't want.</p>\n\n<pre><code>$line =~ s/\\d\\d\\/\\d\\d\\/[0-4]\\d//g;\nprint $line;\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5949508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1557fc0488dec016b5ac8b6e01c134f?s=128&d=identicon&r=PG&f=1", "display_name": "PerlGrammer", "link": "https://stackoverflow.com/users/5949508/perlgrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1467563291, "creation_date": 1459915435, "question_id": 36441290, "link": "https://stackoverflow.com/questions/36441290/perl-regex-searching-thru-entire-line-of-file", "title": "perl regex: searching thru entire line of file", "body": "<p>I'm a regex newbie, and I am trying to use a regex to return a list of dates from a text file. The dates are in mm/dd/yy format, so for years it would be '55' for '1955', for example. I am trying to return all entries from years'50' to '99'.</p>\n\n<p>I believe the problem I am having is that once my regex finds a match on a line, it stops right there and jumps to the next line without checking the rest of the line. For example, I have the dates 12/12/12, 10/10/57, 10/09/66 all on one line in the text file, and it only returns 10/10/57.</p>\n\n<p>Here is my code thus far. Any hints or tips? Thank you</p>\n\n<pre><code>open INPUT, \"&lt; dates.txt\" or die \"Can't open input file: $!\";\nwhile (my $line = &lt;INPUT&gt;){\n    if ($line =~ /(\\d\\d)\\/(\\d\\d)\\/([5-9][0-9])/g){\n        print \"$&amp;\\n\"  ;\n        }\n}\n</code></pre>\n"}, {"tags": ["powershell", "perl", "hash"], "comments": [{"owner": {"reputation": 2034, "user_id": 1301738, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/u9Wuv.jpg?s=128&g=1", "display_name": "Ryan Ries", "link": "https://stackoverflow.com/users/1301738/ryan-ries"}, "edited": false, "score": 0, "creation_date": 1459899377, "post_id": 36479642, "comment_id": 60569333, "body": "The height of a dwarf equals a server&#39;s boot time? What?"}, {"owner": {"reputation": 39, "user_id": 2517666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TG2uT.jpg?s=128&g=1", "display_name": "clonea", "link": "https://stackoverflow.com/users/2517666/clonea"}, "reply_to_user": {"reputation": 2034, "user_id": 1301738, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/u9Wuv.jpg?s=128&g=1", "display_name": "Ryan Ries", "link": "https://stackoverflow.com/users/1301738/ryan-ries"}, "edited": false, "score": 0, "creation_date": 1459945311, "post_id": 36479642, "comment_id": 60569334, "body": "I have a list @A.  I want a hash where the keys of the hash are @A. I can explain if I hardwire everything like so:     <code>@A = (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;) $H{&quot;1&quot;}=&quot;apples&quot;  $H{&quot;2&quot;}=&quot;unset&quot;  $H{&quot;3&quot;}=&quot;tomato&quot;</code> Instead of hardwiring, I will have @A built on the fly from some powershell command. I want to have the keys of %H hash built on the fly. (my question). So how do I on the fly build %H hash with the keys of %H being @A?"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2517666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TG2uT.jpg?s=128&g=1", "display_name": "clonea", "link": "https://stackoverflow.com/users/2517666/clonea"}, "edited": false, "score": 0, "creation_date": 1459952111, "post_id": 36479643, "comment_id": 60569335, "body": "And the question should have been: I can make an array of values. I can update a value of a hash. but I want a hash where the keys are built from the array values."}, {"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1460038677, "post_id": 36479643, "comment_id": 60569336, "body": "so, you have 2 arrays of equal lengths, and you want to combine/zip them into a hashtable?"}, {"owner": {"reputation": 39, "user_id": 2517666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TG2uT.jpg?s=128&g=1", "display_name": "clonea", "link": "https://stackoverflow.com/users/2517666/clonea"}, "reply_to_user": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1460116422, "post_id": 36479643, "comment_id": 60605357, "body": "no.  I was keeping it simple.  VERY simple.  I have one array.  I was trying to make a hash where the keys of the new hash are built from the array.  I could add more text, but the more I talk, the more convoluted it got."}], "tags": [], "owner": {"reputation": 39, "user_id": 2517666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TG2uT.jpg?s=128&g=1", "display_name": "clonea", "link": "https://stackoverflow.com/users/2517666/clonea"}, "is_accepted": false, "score": 1, "last_activity_date": 1459951701, "creation_date": 1459951701, "answer_id": 36479643, "question_id": 36479642, "link": "https://stackoverflow.com/questions/36479642/powershell-hash-building-from-an-array/36479643#36479643", "title": "powershell hash building from an array", "body": "<p>I think my answer is easier to write than the question.   And I think this should not be in serverfault.  It should be in the programming section.  oh. here is the answer.</p>\n\n<pre><code>$A = (\"one\",\"two\",\"three\")\nPS:C:\\&gt; foreach( $one in ( $A)){\n&gt;&gt; $one\n&gt;&gt; }\n&gt;&gt;\none\ntwo\nthree\nPS:C:\\&gt;\nPS:C:\\&gt;$B=@{}\nPS:C:\\&gt;foreach ( $one in  $A ){\n&gt;&gt; $B.$one = \"preset\"\n&gt;&gt; }\n&gt;&gt;\nPS C:\\&gt; $B\n\nName                           Value\n----                           -----\ntwo                            preset\nthree                          preset\none                            preset\n</code></pre>\n\n<p>That's it.  I should have never mentioned Dwarfs except for humor.</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1243296000, "open_beta_date": 1241049600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon@2.png", "twitter_account": "ServerFault", "favicon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon.png", "audience": "system and network administrators", "site_url": "https://serverfault.com", "api_site_parameter": "serverfault", "logo_url": "https://cdn.sstatic.net/Sites/serverfault/Img/logo.png", "name": "Server Fault", "site_type": "main_site"}, "on_date": 1460040300, "question_id": 768414}, "owner": {"reputation": 39, "user_id": 2517666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TG2uT.jpg?s=128&g=1", "display_name": "clonea", "link": "https://stackoverflow.com/users/2517666/clonea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1460040300, "creation_date": 1459897263, "question_id": 36479642, "link": "https://stackoverflow.com/questions/36479642/powershell-hash-building-from-an-array", "title": "powershell hash building from an array", "body": "<p>title: powershell forloop with array and hash?</p>\n\n<p>I know how to do this in perl and unixshell. I don't see it in powershell.  So I will ask.</p>\n\n<p>I will keep my question simple.\nif I have a list, I would like to make a hash where the keys are the elements of the list, and the value is a property.</p>\n\n<p>Like I have an array of 7 dwarves servers</p>\n\n<pre><code>$d = ( \"happy\", \"sleepy\", \"sneezy\", \"doc\", \"grumpy\", \"dopey\", \"bashful\" )\n</code></pre>\n\n<p>And I would want to hash to be their height in inches: <code>d_height{ \"happy\" } = \"40\"</code></p>\n\n<p>Seems kind of simple?  Ok.  But if the list is made on the fly, so the hash has to be made on the fly. How?</p>\n\n<p>.... more detail if you want it.....\nI start with powershell, then revert to perl because I know THAT.</p>\n\n<p>I have an array of 7 dwarves servers</p>\n\n<pre><code>$d = ( \"happy\", \"sleepy\", \"sneezy\", \"doc\", \"grumpy\", \"dopey\", \"bashful\" )\n\nforeach ( $one ( 0 .. ( $d.count - 1 ))){\n   $d[ $one ]\n}\n</code></pre>\n\n<p>OK.. fine.  Now I want the boottime.\nI already know the command. So just pretend this is it.</p>\n\n<pre><code>$boottime = server.blahblah\n</code></pre>\n\n<p>Now I revert to perl because I know it. (sigh)</p>\n\n<pre><code>foreach ( @d ){\n   $boottime =  $d[ $one ].blahblah ;\n   if ( $boottime =~ \"AM $\" or $boottime =~ \"PM $\" ){\n       $d_height{ $d } = $boottime;\n   }\n       $d_height{ $d } = \"unknown\";\n}\n</code></pre>\n\n<p>Now that I'm already with busted code, here is the rest. I went to perl.</p>\n\n<pre><code>foreach $x ( keys( %d_height )){\n   printf(\"%-20s %03d\", $x, $d_height{ $x } );\n}\n</code></pre>\n\n<p>I know.... format table with <code>@{ hash stuff }</code> yeah... fine.\nbut that's perl....</p>\n\n<p>how could I do this in powershell?</p>\n"}, {"tags": ["regex", "perl", "file", "match", "glob"], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1459898365, "post_id": 36438492, "comment_id": 60492244, "body": "Yes, it works.  I&#39;m testing it with the script in the same directory as the .log files. However, If I specify a search <code>$path = &quot;&#47;path&#47;&quot;;</code> and put it before <code>$id</code>,  it stops working.  Is there a different way to assign the search path?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1459902770, "post_id": 36438492, "comment_id": 60493470, "body": "@KDX, What&#39;s the absolute path to the directory with the files you are testing?"}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1459903299, "post_id": 36438492, "comment_id": 60493604, "body": "It&#39;s <code>&#47;home&#47;kdx&#47;data&#47;log&#47;</code> where I have the files.  If I place the script inside the directory along with the files, it works.  If I place the script outside of the directory, even with path specified, it doesn&#39;t work.  It seems like glob is doing its work on the current working directory only."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1459903597, "post_id": 36438492, "comment_id": 60493683, "body": "It&#39;s hard to know what you mean by <i>doesn&#39;t work</i>.  However, the regex will not match your path, because the regex matches: 1) the start of the string, 2) followed by a digit, one or more times.  Adding a path at the start of the string presumably means there&#39;s no digit immediately after the start of the string.  Get rid of the <code>^</code> at the beginning of the regex--then the regex will read: 1) Somewhere in the string find a digit, one or more times, 2) followed by a period, 3) followed by.."}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1459904104, "post_id": 36438492, "comment_id": 60493805, "body": "I find the workaround by using <code>use Cwd;</code> to change my current working directory to where the files are located.  Using the exact same code provided in the Answer, then change it back to the original working directory when finished processing."}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1459927833, "post_id": 36438492, "comment_id": 60502211, "body": "@7stud Your suggestion works. I can now get rid of the <code>Cwd</code> module, simplified my workaround approach!  No need to change the current working directory."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": true, "score": 3, "last_activity_date": 1459896826, "creation_date": 1459896826, "answer_id": 36438492, "question_id": 36438372, "link": "https://stackoverflow.com/questions/36438372/extract-portion-of-filename-with-regex-in-perl/36438492#36438492", "title": "Extract portion of filename with Regex in Perl", "body": "<p>You can combine <code>glob</code> with regex matching:</p>\n\n<pre><code>foreach my $filename (glob \"$id.*.log\")\n{\n    if ($filename =~ /^(\\d+)\\.(\\d+)\\.log$/)\n    {\n        print \"ID is $1\\n\";\n        print \"Unknown is $2\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 36438492, "answer_count": 1, "score": 0, "last_activity_date": 1459896826, "creation_date": 1459896166, "question_id": 36438372, "link": "https://stackoverflow.com/questions/36438372/extract-portion-of-filename-with-regex-in-perl", "title": "Extract portion of filename with Regex in Perl", "body": "<p>I have a directory of files in the file system:</p>\n\n<pre><code>111111.222.log\n222222.33.log\n444444.0.log\n</code></pre>\n\n<p>If I have access to a variable <code>$id</code>, where <code>$id</code> is the first part of numbers before the first <code>.</code>, how do I get the second part of the number?</p>\n\n<p><code>$id</code> is a known value, the <code>$unknown</code> second part of the number is what I want to extract from the filename if it exists.</p>\n\n<p>Is there some efficient approach to get this done without saving the entire directory of files into array, then go through each element with <code>split</code>?</p>\n\n<p>What I have in mind is something like:</p>\n\n<pre><code>if (-e '$id.(\\d+).log') {\n    $unknown = $1;\n}\n</code></pre>\n\n<p>The above is not a valid code, just an idea.</p>\n\n<p>In reverse, if I have access to the full string, the regex I'm using for the extraction is (where <code>22</code> is <code>$unknown</code>):</p>\n\n<pre><code>\"158855.22.log\" =~ /^(\\d+)\\.(\\d+)\\.log$/;\nprint \"ID is $1\\n\";\nprint \"Unknown is $2\\n\";\n</code></pre>\n"}, {"tags": ["perl", "stdout"], "comments": [{"owner": {"reputation": 35, "user_id": 5293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzN9l.jpg?s=128&g=1", "display_name": "Captain Ryan", "link": "https://stackoverflow.com/users/5293954/captain-ryan"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1459896565, "post_id": 36437876, "comment_id": 60491647, "body": "@aschepler You are correct! That is exactly what I was looking for. Thank you for pointing it out."}, {"owner": {"reputation": 35, "user_id": 5293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzN9l.jpg?s=128&g=1", "display_name": "Captain Ryan", "link": "https://stackoverflow.com/users/5293954/captain-ryan"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1459896597, "post_id": 36437876, "comment_id": 60491660, "body": "Incidentally, how do I close this question or mark it as a duplicate?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459930908, "post_id": 36437876, "comment_id": 60504074, "body": "You can&#39;t do that yet. When you have enough reputation, you can vote to close. It takes five votes to close a question. Users with a gold badge in a tag can duplicate close questions in that tag on their own. You should check the <a href=\"https://stackoverflow.com/tour\">faq</a> (reading all of it gives a badge). And <a href=\"https://stackoverflow.com/help/privileges\">stackoverflow.com/help/privileges</a> is a nice overview."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1459894375, "creation_date": 1459894375, "answer_id": 36438004, "question_id": 36437876, "link": "https://stackoverflow.com/questions/36437876/display-and-capture-stdout/36438004#36438004", "title": "Display AND Capture STDOUT", "body": "<p><a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow\">Capture::Tiny</a> can do that. You can either just <code>capture_stdout</code> and <code>print</code> it yourself afterwards, or use <code>tee_stdout</code> to have it print and capture at the same time.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Capture::Tiny 'tee_stdout';\n\nmy $stdout = tee_stdout sub { `ls -lah` }; # prints\nprint \"ok\\n\" if $stdout =~ m/\\./;          # matches\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzN9l.jpg?s=128&g=1", "display_name": "Captain Ryan", "link": "https://stackoverflow.com/users/5293954/captain-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1459912349, "accepted_answer_id": 36438004, "answer_count": 1, "score": 1, "last_activity_date": 1459894375, "creation_date": 1459893822, "question_id": 36437876, "link": "https://stackoverflow.com/questions/36437876/display-and-capture-stdout", "closed_reason": "Duplicate", "title": "Display AND Capture STDOUT", "body": "<p>What I am doing seems, to me, as if it should be fairly simple so I am probably going to facepalm after it is answered. With that being said:</p>\n\n<p>I am trying to call an outside (non-PERL) function from within my PERL script. I would like to have the STDOUT from the function both printed to the console (as it occurs) and also I would like to capture that information and return it to the original PERL script that called it.</p>\n\n<p>Attempted solutions include:</p>\n\n<pre><code>#does not return the output\nmy @output = system($cmd);\n\n#does not display the output as it occurs\nmy @output = `$cmd`;\n\n#does not display the output as it occurs\neval {$pid = open3($Input, $Output, $Error, $cmd); }; die \"open3: $@\\n\" if $@;\n</code></pre>\n\n<p>Does anyone know a method that will both print the STDOUT to the screen (in realtime) and also capture the STDOUT and return it to the original source of the call?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1459890819, "post_id": 36437059, "comment_id": 60489078, "body": "Do you mean you want there to be a hash of Status =&gt; Ip?  And  you would like that returned?"}, {"owner": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "reply_to_user": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1459891342, "post_id": 36437059, "comment_id": 60489334, "body": "@Ed Dunn  I want the ip and status to be returned as array of hashes               Array = (     {       ip =&gt; &quot;x.x.x.x&quot;,        status     =&gt; &quot;up&quot;,       }    );"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1459892165, "post_id": 36437059, "comment_id": 60489767, "body": "what does the output look like?  Can we get a sample?"}], "answers": [{"comments": [{"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1459902068, "post_id": 36437913, "comment_id": 60493298, "body": "In an earlier version of this answer, I didn&#39;t pick-up the dependence on the order of appearance of the lines in the output.  That version of the code probably would not have worked."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1459901814, "last_edit_date": 1459901814, "creation_date": 1459893962, "answer_id": 36437913, "question_id": 36437059, "link": "https://stackoverflow.com/questions/36437059/return-array-of-hashes-in-perl/36437913#36437913", "title": "Return array of hashes in perl", "body": "<p>This should do it:</p>\n\n<pre><code>my @session_states;\nmy $status;\nforeach my $line (  $tunnel_status ) {\n    if ( $line =~ m/Session\\s+status:\\s+(.*)/ ) {\n        $status = $1;\n    }\n    if ( $line =~ m/Peer:\\s+(\\d+.\\d+.\\d+.\\d+)/ ) {\n        push @session_states, { ip =&gt; $1 , status =&gt; $status };\n        $status = \"\"\n    }\n}\nreturn \\@session_states;\n#\n# called like so\n#\nmy $tunnel_obj =  test::Cryptotunnels-&gt;new('host'=&gt; 'ip');\nmy $crypto_sessions = $tunnel_obj-&gt;cryptoSessionStatus(\"tunnel1\");\nfor my $obj (@$crypto_sessions) {\n    print $obj-&gt;{ip}, \"\\n\";\n    print $obj-&gt;{status}, \"\\n\";\n}\n</code></pre>\n\n<p>This assumes the <code>Session status</code> line appears <em>before</em> the <code>Peer</code> line in the output.  If its the other way around (you didn't supply a sample of what the router output looks like, so I have to guess a bit...) ie: if the <code>Peer</code> line is before the <code>Session status</code> line then it should be like this:</p>\n\n<pre><code>my @session_states;\nmy $peer_ip;\nforeach my $line (  $tunnel_status ) {\n    if ( $line =~ m/Session\\s+status:\\s+(.*)/ ) {\n        push @session_states, { ip =&gt; $peer_ip , status =&gt; $1 };\n        $peer_ip = \"\";\n    }\n    if ( $line =~ m/Peer:\\s+(\\d+.\\d+.\\d+.\\d+)/ ) {\n        $peer_ip = $1;\n    }\n}\nreturn \\@session_states;\n#\n# called the same as above\n#\n</code></pre>\n\n<p>There's no real difference in the algorithm - whichever comes second in the output - <code>Peer</code> or <code>Session status</code> - defines the end of the entry and a hash is created with the two entries and pushed onto the <code>@session_states</code> array.</p>\n"}], "owner": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459901814, "creation_date": 1459890404, "question_id": 36437059, "link": "https://stackoverflow.com/questions/36437059/return-array-of-hashes-in-perl", "title": "Return array of hashes in perl", "body": "<p>The below function  logins into a router, executes a command to get the IPsec session status and returns the interface name and ip address as string. Instead of returning a string, I want the function to return array of hashes. Can someone help me out with that ? </p>\n\n<pre><code>sub cryptoSessionStatus {\n    my ($self,$interface)  = @_;\n    my $status  = 0;\n    my $peer_ip = 0;\n\n    #command to check the tunnel status\n    my $cmd     = 'command goes here ' . $interface;\n    #$self-&gt;_login();\n    my $tunnel_status = $self-&gt;_login-&gt;exec($cmd);\n\n    #Regex to match the 'tunnel status' and 'peer ip' string in the cmd output\n    #Session status: DOWN/UP\n    #Peer: x.x.x.x\n    foreach my $line (  $tunnel_status ) {\n      if ( $line =~ m/Session\\s+status:\\s+(.*)/ ) {\n            $status = $1;\n      }\n      if ( $line =~ m/Peer:\\s+(\\d+.\\d+.\\d+.\\d+)/ ) {\n            $peer_ip = $1;\n      }\n    }\n\n    return ($status,$peer_ip);\n}\n</code></pre>\n\n<p>Function call:</p>\n\n<pre><code> my $tunnel_obj =  test::Cryptotunnels-&gt;new('host'=&gt; 'ip');\n\nmy $crypto_sessions = $tunnel_obj-&gt;cryptoSessionStatus(\"tunnel1\");\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459880397, "post_id": 36434053, "comment_id": 60482578, "body": "See <a href=\"http://www.perlmonks.org/?node_id=815646\" rel=\"nofollow noreferrer\">eval $VERSION in modules?</a> on PerlMonks (and <a href=\"http://www.dagolden.com/index.php/369/version-numbers-should-be-boring/\" rel=\"nofollow noreferrer\">Version numbers should be boring</a>, which is linked from there)."}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 1, "creation_date": 1459882804, "post_id": 36434053, "comment_id": 60484179, "body": "@EvanCarroll At least you&#39;ve gone from 0.01 to 0.65? :)"}], "answers": [{"tags": [], "owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "is_accepted": false, "score": 1, "last_activity_date": 1459880828, "creation_date": 1459880828, "answer_id": 36434208, "question_id": 36434053, "link": "https://stackoverflow.com/questions/36434053/why-eval-version-in-perl5/36434208#36434208", "title": "Why `eval $VERSION` in perl5?", "body": "<p>Try this code...</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nour $VERSION = \"0.001_001\";\nprint \"$VERSION == 0.001_001\\n\";\n$VERSION = eval $VERSION;\nprint \"$VERSION == 0.001_001\\n\";\n</code></pre>\n\n<p>The reason can be found here...</p>\n\n<p><a href=\"http://www.dagolden.com/index.php/369/version-numbers-should-be-boring/\" rel=\"nofollow\">http://www.dagolden.com/index.php/369/version-numbers-should-be-boring/</a></p>\n\n<p>The above is a long read though, what the <code>eval</code> did was make it possible to compare the VERSION numerically ie it removed the <code>_</code>.</p>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "closed_date": 1459881081, "answer_count": 1, "score": 0, "last_activity_date": 1459880828, "creation_date": 1459880296, "question_id": 36434053, "link": "https://stackoverflow.com/questions/36434053/why-eval-version-in-perl5", "closed_reason": "Duplicate", "title": "Why `eval $VERSION` in perl5?", "body": "<p>What's the point of <a href=\"https://metacpan.org/source/GBJK/Catalyst-Model-DBIC-Schema-0.65/lib/Catalyst/Helper/Model/DBIC/Schema.pm#L7\" rel=\"nofollow\">this....</a></p>\n\n<pre><code>our $VERSION = '0.65';\n$VERSION = eval $VERSION;\n</code></pre>\n\n<p>I don't understand how that's different from..</p>\n\n<pre><code>our $VERSION = '0.65';\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 1, "creation_date": 1459877173, "post_id": 36433034, "comment_id": 60480588, "body": "check:- <a href=\"http://ideone.com/ko44Ro\" rel=\"nofollow noreferrer\">ideone.com/ko44Ro</a>"}, {"owner": {"reputation": 84, "user_id": 2851863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/450e1d374d2bb9dc9f4c60f877ea3414?s=128&d=identicon&r=PG", "display_name": "Huy Nguyen", "link": "https://stackoverflow.com/users/2851863/huy-nguyen"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1459877400, "post_id": 36433034, "comment_id": 60480718, "body": "Thanks for the comment, does $text =~ &lt;code here&gt; does that not set the text variable to the output? I thought the =~ would do that."}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1459878208, "post_id": 36433034, "comment_id": 60481200, "body": "No, it only matches your <code>string</code> with <code>regex</code> .So you have to use capturing groups"}], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 2851863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/450e1d374d2bb9dc9f4c60f877ea3414?s=128&d=identicon&r=PG", "display_name": "Huy Nguyen", "link": "https://stackoverflow.com/users/2851863/huy-nguyen"}, "edited": false, "score": 0, "creation_date": 1459877655, "post_id": 36433172, "comment_id": 60480860, "body": "Thanks for the comment, okay I was under the impression that I could use =~ and that would set the text variable as the matched data. I didn&#39;t realize that it&#39;s only performing a check and that the data I require would be within the $1 capture variable."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467624907, "last_edit_date": 1467624907, "creation_date": 1459877296, "answer_id": 36433172, "question_id": 36433034, "link": "https://stackoverflow.com/questions/36433034/regex-word-boundary-in-perl-not-yield-expected-results/36433172#36433172", "title": "Regex Word Boundary in Perl not yield expected results", "body": "<p>Your code is simply testing whether the regex pattern matches the string, returning a true or false value to indicate whether there was a match. You discard that indicator</p>\n\n<p><em>If there was a match</em> then the strings <em>captured</em> using parentheses in the regex pattern will be assigned to the capture variables <code>$1</code>, <code>$2</code> etc.</p>\n\n<p>It's unclear what you need to do, but this program prints everything between <code>START</code> and <code>SECTION</code>: in this case <code>OF INFORMATION</code></p>\n\n<p>There's no need for <code>use POSIX</code>, but <code>use strict</code> and <code>use warnings 'all'</code> are essential</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nmy $text = \"here are more string words START OF INFORMATION SECTION some other stuff\";\n\nprint \"Original String: $text\\n\";\n\nif ( $text =~ /\\bSTART\\b(.*?)\\bSECTION\\b/ ) {\n    my $section = $1;\n    print \"New String:      $section\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Original String: here are more string words START OF INFORMATION SECTION some other stuff\nNew String:       OF INFORMATION \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1459877539, "post_id": 36433180, "comment_id": 60480803, "body": "You should <i>never</i> use <code>$1</code> etc. without first checking whether the pattern match succeeded. Those variables retain the value from the most recent pattern match, which could be enything"}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459877610, "post_id": 36433180, "comment_id": 60480835, "body": "@Borodin Thanks for telling.I am not used to <code>PERL</code>"}], "tags": [], "owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "is_accepted": false, "score": 0, "last_activity_date": 1459877827, "last_edit_date": 1495539855, "creation_date": 1459877314, "answer_id": 36433180, "question_id": 36433034, "link": "https://stackoverflow.com/questions/36433034/regex-word-boundary-in-perl-not-yield-expected-results/36433180#36433180", "title": "Regex Word Boundary in Perl not yield expected results", "body": "<p>You should use this</p>\n\n<pre><code>$text =~ /\\b(START\\b(.*?)\\bSECTION)\\b/;\nprint \"New String: $1\\n\";\n</code></pre>\n\n<p><strong><a href=\"http://ideone.com/ko44Ro\" rel=\"nofollow noreferrer\">IDEONE DEMO</a></strong></p>\n\n<p><code>$1</code> is the first captured group.</p>\n\n<p>As suggested by <strong><a href=\"https://stackoverflow.com/users/622310/borodin\">borodin</a></strong></p>\n\n<pre><code>if ( $text =~ /\\b(START\\b(.*?)\\bSECTION)\\b/ ) {\n    my $tmp = $1;\n    print \"New String:      $tmp\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1459879878, "creation_date": 1459879878, "answer_id": 36433928, "question_id": 36433034, "link": "https://stackoverflow.com/questions/36433034/regex-word-boundary-in-perl-not-yield-expected-results/36433928#36433928", "title": "Regex Word Boundary in Perl not yield expected results", "body": "<p>The match operator doesn't change the string it matches.</p>\n\n<p>You can use either of the following to inspect the captured string:</p>\n\n<pre><code>if ( $text =~ /\\bSTART\\b(.*?)\\bSECTION\\b/ ) {\n    my $section = $1;\n    print \"New String: $section\\n\";\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if ( my ($section) = $text =~ /\\bSTART\\b(.*?)\\bSECTION\\b/ ) {\n    print \"New String: $section\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 84, "user_id": 2851863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/450e1d374d2bb9dc9f4c60f877ea3414?s=128&d=identicon&r=PG", "display_name": "Huy Nguyen", "link": "https://stackoverflow.com/users/2851863/huy-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 36433172, "answer_count": 3, "score": 0, "last_activity_date": 1467624907, "creation_date": 1459876828, "question_id": 36433034, "link": "https://stackoverflow.com/questions/36433034/regex-word-boundary-in-perl-not-yield-expected-results", "title": "Regex Word Boundary in Perl not yield expected results", "body": "<p>So I'm having an issue with pulling data from a string between 2 keywords. I understand that in regex I'm suppose to use the \\b boundary tags and I've written the following for a test example, however it seems to only match the whole string instead of just the portion I want.</p>\n\n<p>For example, the string: \"here are more string words START OF INFORMATION SECTION some other stuff\"</p>\n\n<p>I am gathering text between \"START\" and \"SECTION\".</p>\n\n<p>So I'm expecting \"START OF INFORMATION SECTION\", I believe.</p>\n\n<p>This is the following snippet I have written in Perl specifically, but it doesn't yield the results I expected.</p>\n\n<pre><code>#!/usr/bin/perl\n\n# This is perl 5, version 22, subversion 1 (v5.22.1) built for cygwin-thread-multi\nuse POSIX;\n\nmy $text = \"here are more string words START OF INFORMATION SECTION some other stuff\";\n\nprint \"Original String: $text\\n\";\n\n# this should provide me with the specific text between my two boundary words\n$text =~ /\\bSTART\\b(.*?)\\bSECTION\\b/;\n\nprint \"New String: $text\\n\";\n</code></pre>\n"}, {"tags": ["perl", "loops", "csv", "if-statement", "next"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1459923452, "post_id": 36432560, "comment_id": 60499690, "body": "Thanks! I&#39;m going to see if this works.. I actually do have use strict and use warning, just forgot to add it. The person that did the outline of the program for me didn&#39;t add these, and after I came across them and saw that they are very important, I added them and obviously spent a day googling and cleaning all the warnings!"}, {"owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1459924409, "post_id": 36432560, "comment_id": 60500205, "body": "On a different note.. Is there a nice webpage or reference that explains all the commands you have used? It&#39;s great knowing what to do but I would also like to learn why I am using them and what each piece does! I&#39;m still very new to perl and programming and have lots to learn!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1459929767, "post_id": 36432560, "comment_id": 60503424, "body": "@DKru: <i>&quot;webpage or reference that explains all the commands&quot;</i> That&#39;s a very broad request. You should get used to using the <code>perldoc</code> command which is installed with Perl. Or you can use the <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a> web site."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467563276, "last_edit_date": 1467563276, "creation_date": 1459875306, "answer_id": 36432560, "question_id": 36431512, "link": "https://stackoverflow.com/questions/36431512/in-perl-how-can-i-start-processing-a-file-starting-from-a-given-string/36432560#36432560", "title": "In Perl, how can I start processing a file starting from a given string?", "body": "<p>The program below will do as you ask. It is <em>essential</em> to <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl program you write, and declare your variables with <code>my</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $file = 'information.txt';\n\nopen my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\nmy $part = 'n';\n\nwhile  ( &lt;$fh&gt; ) {\n\n    if ( /(?:Information|Informasie) ([A-Z])/ ) {\n        $part = $1;\n        next;\n    }\n\n    print if $part eq 'A';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Name\none\ntwo\nthree\nfour\nfive\nTotal\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459893403, "post_id": 36437160, "comment_id": 60490381, "body": "I think the <code>(n)</code>, <code>(a)</code> and <code>(b)</code> are annotations by the author. Check the statement in their code <code>if (substr($line,0,13) eq &#39;Information A&#39;)</code>"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1459890799, "creation_date": 1459890799, "answer_id": 36437160, "question_id": 36431512, "link": "https://stackoverflow.com/questions/36431512/in-perl-how-can-i-start-processing-a-file-starting-from-a-given-string/36437160#36437160", "title": "In Perl, how can I start processing a file starting from a given string?", "body": "<p>What you need to do is read through the file until you see the line where you want printing to begin and print up to the line where you want it to stop:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile (my $line = &lt;DATA&gt;) {\n    if ( $line =~ / Information A/ .. $line =~ / Total/ ) {\n        print do { $line =~ s/^\\(.\\)\\s+//; $line };\n    }\n}\n\n__DATA__\n(n) Name\n(n) General info\n(n) ID\n(n) Contact\n(n) General\n(n)\n(a) Information A\n(a)\n(a) Name\n(a) one\n(a) two\n(a) three\n(a)\n(a) four\n(a) five\n(a) Total\n(b) Information B\n(b)\n(b) Name\n</code></pre>\n\n<p>Since 5.14, you can use <code>s/...//r</code> instead of the <code>do</code> block there.</p>\n\n<p>Also, if the file is large, you don't want to keep reading after you've seen the last line you want to print. If that's the case, you can use:</p>\n\n<pre><code>while (my $line = &lt;DATA&gt;) {\n    if ( $line =~ / Information A/ .. $line =~ / (Total)/ ) {\n        print $line =~ s/^\\(.\\)\\s+//r;\n        last if $1 and $1 eq 'Total';\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 36432560, "answer_count": 2, "score": 0, "last_activity_date": 1467563276, "creation_date": 1459872158, "last_edit_date": 1459890846, "question_id": 36431512, "link": "https://stackoverflow.com/questions/36431512/in-perl-how-can-i-start-processing-a-file-starting-from-a-given-string", "title": "In Perl, how can I start processing a file starting from a given string?", "body": "<p>I need to open a very messy csv file (by messy I mean blank columns and rows in between data and I only need data from some of the columns) and only start allocating data to columns once it reaches a given line with the word 'Information A' or 'Informasie A' (the files are in one of two different languages but hold the same format). The table has a format more or less as follows:</p>\n\n<pre><code>(n) Name\n(n) General info\n(n) ID\n(n) Contact\n(n) General\n(n)\n(a) Information A\n(a)\n(a) Name\n(a) one\n(a) two\n(a) three\n(a)\n(a) four\n(a) five\n(a) Total\n(b) Information B\n(b)\n(b) Name\n</code></pre>\n\n<p>The basic outline of the program was written for me which initially worked where the first section of extra details was designated by $part='n' (shown as (n) above), while that which comes after 'Information A' was designated 'a' and so forth. However, I think I may have deleted some of the code which made the whole extraction unusable. I tried fixing it but that has seen to do more damage than good so I'm trying to do it over from scratch and hopefully learn an easier way to do it in the process.</p>\n\n<p>The code that I have so far is as follows:</p>\n\n<pre><code>open (IN_F, \"$file\") or die \"Can't open $file\";\n\n  my %file;\n\nwhile (&lt;IN_F&gt;){\n\n  my $line = $_;\n     $line =~ s/\\s*$//g;\n     $line =~ s/\\-//g;\n\n  my $part='n';\n     $part='a' if (substr($line,0,13) eq 'Information A');\n     $part='b' if (substr($line,0,13) eq 'Information B');\n\n  next if $part='a';\n  last if substr($line,0,20) eq 'Litter Information B';\n\n  print \"$line\\n\";\n}\nexit;\n</code></pre>\n\n<p>where I want the print to then be:</p>\n\n<pre><code>Name\none\ntwo\nthree\nfour\nfive\nTotal\n</code></pre>\n\n<p>I found similar questions that had different solutions; some of them used line number but mine aren't constant. A different solution used '..', which I tried but I think I didnt apply it correctly.</p>\n\n<p>Any help will be greatly appreciated!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459875638, "post_id": 36432323, "comment_id": 60479615, "body": "Yep, they&#39;re no-break spaces. The OP originally had a pastebin link to their file; I edited it out and copied the contents here, but apparently the Stack Overflow editor strips no-break spaces. Sorry about that."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1459921956, "post_id": 36432323, "comment_id": 60499032, "body": "Thanks for the amazing tip. The lines 7, 8 and 20 displays values <code>302 240 012</code> on the line above and values <code>302 240 \\n</code> on the line below."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1459922887, "post_id": 36432323, "comment_id": 60499430, "body": "I found that these were non-ascii characters introduced by the Powerpoint processor from which I extracted this song. I found the solution through the post <a href=\"http://stackoverflow.com/questions/22697017/how-to-remove-non-ascii-characters-and-append-a-space-in-the-field-where-the-non\">here</a>"}], "tags": [], "owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1459874571, "creation_date": 1459874571, "answer_id": 36432323, "question_id": 36431437, "link": "https://stackoverflow.com/questions/36431437/how-to-remove-space-from-empty-line-using-perl/36432323#36432323", "title": "How to remove space (?) from empty line using perl?", "body": "<blockquote>\n  <p>What should I do to get rid of this?</p>\n</blockquote>\n\n<p>If you suspect funny characters, look at the file with <code>od -bc filename</code> and look for unusual characters.</p>\n\n<p>I have used your file, after removing the <code>&lt;-- HERE</code> marks, and your first alternative <code>perl -p0e 's/\\s{3,}/\\n\\n/g' file</code> works just fine. This is a strong indication (aka proof :-) that something like this is the cause.</p>\n"}, {"comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1459922011, "post_id": 36436473, "comment_id": 60499056, "body": "This does not work. On using <code>od -bc filename</code> The lines 7, 8 and 20 displays values <code>302 240 012</code> on the line above and values <code>302 240 \\n</code> on the line below."}, {"owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1459947965, "post_id": 36436473, "comment_id": 60516828, "body": "So where to download a copy of the original file? Not just copy/paste from the given link."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1459954568, "post_id": 36436473, "comment_id": 60522189, "body": "Did  you try the pastebin link given in the question? I copy pasted the file into the pastebin"}, {"owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1459957173, "post_id": 36436473, "comment_id": 60524208, "body": "I did, and the pattern did not work on your side. I just wanted to know the Hex values of those so-called  <code>spaces</code>."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1460036720, "post_id": 36436473, "comment_id": 60566207, "body": "Sorry I had already modified the files to reflect what I wanted"}, {"owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 1, "creation_date": 1460051437, "post_id": 36436473, "comment_id": 60576699, "body": "It&#39;s nice to know you got the question resolved. I downloaded the file <code>PCjDVh2p.txt</code> from the link, and came up with the above pattern."}], "tags": [], "owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "is_accepted": false, "score": 1, "last_activity_date": 1460051295, "last_edit_date": 1460051295, "creation_date": 1459888292, "answer_id": 36436473, "question_id": 36431437, "link": "https://stackoverflow.com/questions/36431437/how-to-remove-space-from-empty-line-using-perl/36436473#36436473", "title": "How to remove space (?) from empty line using perl?", "body": "<p>As I observed, the <code>spaces</code> are just non-printable characters. Suggest you try the following:</p>\n\n<pre><code>perl -p0e 's/(?:[\\x80-\\xFF][\\x0D\\x0A]{2})+//g' \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 5501199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bcf63f16e57fb799b93de229c4b9b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sana", "link": "https://stackoverflow.com/users/5501199/sana"}, "is_accepted": false, "score": -1, "last_activity_date": 1459926502, "last_edit_date": 1459926502, "creation_date": 1459916907, "answer_id": 36441508, "question_id": 36431437, "link": "https://stackoverflow.com/questions/36431437/how-to-remove-space-from-empty-line-using-perl/36441508#36441508", "title": "How to remove space (?) from empty line using perl?", "body": "<p>I think the following solution can solve your problem</p>\n\n<pre><code>open FH,\"/home/httpd/cgi-bin/space.txt\";\nwhile(&lt;FH&gt;)\n{\nprint if (!/^\\s*$/) ;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "is_accepted": true, "score": 0, "last_activity_date": 1459923413, "last_edit_date": 1495541751, "creation_date": 1459923413, "answer_id": 36442993, "question_id": 36431437, "link": "https://stackoverflow.com/questions/36431437/how-to-remove-space-from-empty-line-using-perl/36442993#36442993", "title": "How to remove space (?) from empty line using perl?", "body": "<p>I found the solution thanks to Jens' suggestion to use <code>od -bc filename</code>.</p>\n\n<p>The dump showed characters <code>302 240</code> in the place of the space in the lines 7, 8 and 20.</p>\n\n<p>On searching for the details on the octal values, I got the following from <a href=\"http://www.thecodingforums.com/threads/hidden-characters-in-source-code-causing-compiler-grief.679103/\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>man iso_8859-1 identifies \\240 as NO-BREAK SPACE\n  and \\302 as LATIN CAPITAL LETTER A WITH CIRCUMFLEX</p>\n</blockquote>\n\n<p>I found how to remove the characters from <a href=\"https://stackoverflow.com/questions/22697017/how-to-remove-non-ascii-characters-and-append-a-space-in-the-field-where-the-non\">here</a>.</p>\n\n<p>I used to command <code>perl -pi -e 's/[^[:ascii:]]//g' filename</code> to correct this.</p>\n\n<p>Thank you for all the tips given and effort put forth.</p>\n"}], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 1, "accepted_answer_id": 36442993, "answer_count": 4, "score": 0, "last_activity_date": 1460051295, "creation_date": 1459871942, "last_edit_date": 1459875469, "question_id": 36431437, "link": "https://stackoverflow.com/questions/36431437/how-to-remove-space-from-empty-line-using-perl", "title": "How to remove space (?) from empty line using perl?", "body": "<p>I want to remove the empty lines from <a href=\"http://pastebin.com/PCjDVh2p\" rel=\"nofollow\">this file</a> so that there are only two <code>\\n</code> between stanzas of the song. There appear to be spaces on lines 7, 8, and 20, but I'm guessing they aren't regular spaces because I haven't been able to remove them with substitutions that use <code>\\s</code>.</p>\n\n<p>The text is reproduced below (with the spaces marked by <code>&lt;-- HERE</code> for clarity), but the Stack Overflow editor seems to have changed the special spaces into regular ones, so you'll have to look at the original file to duplicate my problem.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>9a I Believe in a Hill Called Mount Calvary\n\n1 There are things, as we travel this earth's shifting sands,\nThat transcend all the reason\nBut the things that matter the most in this world,\nThey can never be held in our hand\n &lt;-- HERE\n &lt;-- HERE\n\nChorus\nI believe in a hill called mount Calvary,\nI believe whatever the cost!\nAnd when time has surrendered and earth is no more\nI'll still cling to that old rugged cross\n\n2 I believe that the Christ who was slain on the cross,\nHas the power to change lives today;\nFor He changed me completely a new life is mine\nThat is why by the cross I will stay\n &lt;-- HERE\n\n3 I believe that this life, with its great mysteries,\nSurely someday will come to an end;\nBut faith will conquer the darkness and death\nAnd will lead me at last to my Friend\n</code></pre>\n\n<p>I tried <code>perl -pe 's/\\n{3,}/\\n\\n/g'</code> which didn't work as there was some space in the lines 7, 8 and 20.</p>\n\n<p>I can't remove the space, no matter what I try. I tried the following commands:</p>\n\n<ol>\n<li><code>perl -p0e 's/\\s{3,}/\\n\\n/g'</code></li>\n<li><code>perl -pe 's/^\\s$//g'</code></li>\n<li><code>perl -pe 's/^ $//g'</code></li>\n<li><code>perl -pe 's/ $//g'</code></li>\n</ol>\n\n<p>None of these work. I want to know why this is happening. Could there be a <code>non-space</code> character that acts as a blank?</p>\n\n<p>What should I do to get rid of this?</p>\n"}, {"tags": ["html", "perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1459871518, "last_edit_date": 1459871518, "creation_date": 1459871148, "answer_id": 36431146, "question_id": 36430883, "link": "https://stackoverflow.com/questions/36430883/how-to-print-a-page-loading-message-before-the-header-using-cgi-perl/36431146#36431146", "title": "How to print a page loading message before the header using CGI Perl", "body": "<p>That is not how CGI works.</p>\n\n<p>The header goes before content.</p>\n\n<p>See <a href=\"http://tools.ietf.org/html/rfc3875#section-5\" rel=\"nofollow\">RFC3875</a>:</p>\n\n<blockquote>\n  <p>6.2.  Response Types</p>\n  \n  <p>The response comprises a message-header and a message-body, separated\n     by a blank line.  The message-header contains one or more header\n     fields.  The body may be NULL.</p>\n\n<pre><code> generic-response = 1*header-field NL [ response-body ]\n</code></pre>\n</blockquote>\n\n<p>What you want requires a client solution: The first response returns the interstitial. Then, a subsequent request loads the finished page. These days, this is done using AJAX calls. In the old days, we used to do full page reloads.</p>\n\n<p>See <a href=\"http://www.stonehenge.com/merlyn/LinuxMag/col39.html\" rel=\"nofollow\">Randal Schwartz's \"Watching long processes through CGI\"</a>.</p>\n"}], "owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 36431146, "answer_count": 1, "score": -1, "last_activity_date": 1459871518, "creation_date": 1459870494, "question_id": 36430883, "link": "https://stackoverflow.com/questions/36430883/how-to-print-a-page-loading-message-before-the-header-using-cgi-perl", "title": "How to print a page loading message before the header using CGI Perl", "body": "<p>I want to show a message which will read 'Loading..Please wait' before the actual content of my webpage is along with the header is loaded. However on Apache 2.2.15, without printing the header first, no print message can be shown. Below is the code:\n(Perl version 5.14.1, CGI version : 3.52) :</p>\n\n<pre><code>use CGI;\n\nuse CGI::Carp qw(fatalsToBrowser);\n\n#print \"Content-type:text/html\\n\\n\";\nprint '&lt;pre&gt;'. \" This is before header\"  .'&lt;/pre&gt;';\nprint qq[&lt;DIV id=\"loading\" style=\"position:absolute; font-family:arial; \nfont-size:16; left:0px; top:0px; background-color:red; layer-background- \ncolor:white; height:100%; width:100%;\"&gt;\n&lt;TABLE width=100%&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;Loading... Please wait!&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;\n\n&lt;/DIV&gt;];\n\n\n\nmy $q = CGI-&gt;new;\nprint $q-&gt;header();\n\nprint $q-&gt;start_html();\n\nwarn \"this is test header issue script \\n\";\nprint \"Hello Everybody .. !\";\nprint $q-&gt;end_html();\n</code></pre>\n\n<p>If I print 'content-type:text/html' at the top, then I am able to show the loading message, but that also prints the content-type at the top which I do not want. <br>\nIs there a Perl way to achieve this ? <br>\nThis is just a short and simplified example of my actual code, so after printing the loading message, the control of the code won't proceed further, please ignore that.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1459867520, "post_id": 36429527, "comment_id": 60473669, "body": "You can handle options with a <a href=\"https://metacpan.org/pod/Getopt::Long#User-defined-subroutines-to-handle-options\" rel=\"nofollow noreferrer\">custom subroutine</a>, but I don&#39;t see why you would complicate things for the simple example you&#39;ve given. Calling <code>die unless $opt_sortby eq &#39;SID&#39; || $opt_sortby eq &#39;TID&#39;;</code> after <code>GetOptions</code> is perfectly fine."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 2371141, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f54f7ef79cc5e06f29918bb71ccccc1d?s=128&d=identicon&r=PG", "display_name": "Jacob Salomon", "link": "https://stackoverflow.com/users/2371141/jacob-salomon"}, "edited": false, "score": 1, "creation_date": 1460037295, "post_id": 36429703, "comment_id": 60566701, "body": "Ikegami, Your first solution, with the hash keyed on valid choices, is SO COOL!  I used this: my @choices = qw(SID TID USER); GetOptions(...) die &quot;Wrong sortby choice) unless (inlist($opt_sortby, \\@choices); # inlist() is a library function."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1459867912, "last_edit_date": 1459867912, "creation_date": 1459867602, "answer_id": 36429703, "question_id": 36429527, "link": "https://stackoverflow.com/questions/36429527/getoptions-to-enforce-choice-of-strings/36429703#36429703", "title": "GetOptions() to enforce choice of strings", "body": "<p>Checking after <code>GetOptions</code> returns is quite simple.</p>\n\n<pre><code>my %valid_sort_by = map { $_ =&gt; 1 } qw( SID TID );\n\nGetOptions('sortby=s' =&gt; \\$opt_sort_by)\n   or usage();\n\nif (defined($valid_sort_by)) {\n   $valid_sort_by{$opt_sort_by}\n      or usage(\"Invalid value for --sortby\\n\");\n}\n</code></pre>\n\n<p>It's more complicated, but you can achieve what you asked using a callback.</p>\n\n<pre><code>my %valid_sort_by = map { $_ =&gt; 1 } qw( SID TID );\n\nGetOptions(\n   'sortby=s' =&gt; sub {\n      my ($opt_name, $opt_value) = @_;\n      $valid_sort_by{$opt_value}\n         or die(\"Invalid value for --$opt_name\\n\");\n      $opt_sort_by = $opt_value;\n   },\n)\n   or usage();\n</code></pre>\n\n<p>The advantage of the latter is that it will detect the error in</p>\n\n<pre><code>command --sortby=bad --sortby=SID\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 2371141, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f54f7ef79cc5e06f29918bb71ccccc1d?s=128&d=identicon&r=PG", "display_name": "Jacob Salomon", "link": "https://stackoverflow.com/users/2371141/jacob-salomon"}, "edited": false, "score": 0, "creation_date": 1459874265, "post_id": 36430292, "comment_id": 60478672, "body": "you have done me two services: Introducing me to to Getopt::Declare and convincing me to stick with my current method, which is to check $opt_sortby after the GetOptions call.  &quot;Designed to be exceptionally easy to use&quot; indeed!    But it is something to keep in mind for more complicated cases; you never know when the need will arise.  Thanks, Hunter!"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1459869083, "creation_date": 1459869083, "answer_id": 36430292, "question_id": 36429527, "link": "https://stackoverflow.com/questions/36429527/getoptions-to-enforce-choice-of-strings/36430292#36430292", "title": "GetOptions() to enforce choice of strings", "body": "<p>Alternatively, you could use <a href=\"https://metacpan.org/pod/Getopt::Declare\" rel=\"nofollow\">Getopt::Declare</a>. It has support for enumeration of values: </p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse Getopt::Declare;\n\nmy $args = Getopt::Declare-&gt;new(\n   join( \"\\n\",\n      \"--sort-by &lt;s:/SID|TID/&gt;\\t field to sort by, valid options are TID, SID [required]\"\n   )\n) or exit(1);\n</code></pre>\n\n<p>and then to use from the command line:</p>\n\n<pre><code>$ perl test.pl --sort-by TID\n$ perl test.pl --sort-by SID\n$ perl test.pl --sort-by FID\nError: incorrect specification of '--sort-by' parameter\nError: required parameter --sort-by not found.\n\n(try 'test.pl -help' for more information)\n</code></pre>\n\n<p>Getopt::Declare has a built-in --help option that will show the specification as well:</p>\n\n<pre><code>$ perl test.pl --help\n\nUsage: test.pl [options]  --sort-by &lt;s&gt; \n       test.pl -help\n       test.pl -version\n\nOptions:\n--sort-by &lt;s&gt;            field to sort by, valid options are TID, SID\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 2371141, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f54f7ef79cc5e06f29918bb71ccccc1d?s=128&d=identicon&r=PG", "display_name": "Jacob Salomon", "link": "https://stackoverflow.com/users/2371141/jacob-salomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1459869083, "creation_date": 1459867131, "question_id": 36429527, "link": "https://stackoverflow.com/questions/36429527/getoptions-to-enforce-choice-of-strings", "title": "GetOptions() to enforce choice of strings", "body": "<p>I have been unable to formulate a search phrase for this so you have my apologies if this has been asked already.  (Likely has been.)</p>\n\n<p>Among my options to a new Perl utility I'm writing is a --sortby option.  The available choices I'm giving the user are:</p>\n\n<ul>\n<li>--sortby TID</li>\n<li>--sortby SID</li>\n</ul>\n\n<p>Now it's really <em>very</em> easy for me to implement this after the GetOptions call, merely by checking if ($opt_sortby eq \"SID\" || $opt_sortby eq \"SID\"). (Actually, I've coded that a bit more elegantly but that's another issue.)  But I'm trying to push my knowledge and see if I can force this choice to be enforced by GetOptions, something like</p>\n\n<pre><code>GetOptions('sortby=s'  =&gt; {\"SID\" | \"TID\"});\n</code></pre>\n\n<p>Please note that I'm merely using notation commonly used in documentation to represent a mandatory \"one of these\" choice.  I don't really expect this exact syntax in GetOptions.</p>\n\n<p>Ideas anyone?</p>\n\n<p>Thanks mucho. (Sz\u00e9pen k\u00f6sz\u00f6n\u00f6m, in case G.S. answers :-)</p>\n\n<p>-- Jacob S.</p>\n"}, {"tags": ["perl", "object"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459882943, "post_id": 36429287, "comment_id": 60484263, "body": "You keep posting the same unindented code. <b>Please</b> indent it properly. Not only here, but also in your files. It will make things so much easier for you. And feel free to accept correct answers on your other questions. :)"}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459944954, "post_id": 36438152, "comment_id": 60514330, "body": "Ah yes , This is what I was thinking, you made a lot clearer though thanks."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1459895071, "last_edit_date": 1592644375, "creation_date": 1459895071, "answer_id": 36438152, "question_id": 36429287, "link": "https://stackoverflow.com/questions/36429287/perl-method-to-create-an-error-object-using-bless-not-sure-about-the-inner-work/36438152#36438152", "title": "Perl method to create an error object using bless. Not sure about the inner-workings of this method", "body": "<p>In Perl, objects are just regular data structures that have been <code>bless</code>ed. This is explained in <a href=\"http://perldoc.perl.org/perlobj.html#An-Object-is-Simply-a-Data-Structure\" rel=\"nofollow noreferrer\">perlobj</a>:</p>\n<blockquote>\n<p>Objects are merely Perl data structures (hashes, arrays, scalars, filehandles, etc.) that have been explicitly associated with a particular class.</p>\n<p>That explicit association is created by the built-in <code>bless</code> function, which is typically used within the constructor subroutine of the class.</p>\n</blockquote>\n<p>When you call</p>\n<pre><code>bless { foo =&gt; 'bar' }, $class;\n</code></pre>\n<p>in a constructor, you</p>\n<ol>\n<li><p>create a reference to an anonymous hash</p>\n</li>\n<li><p>convert the hash reference to an object by passing it to <code>bless</code></p>\n</li>\n</ol>\n<p>The above can be rewritten as follows, which makes it clearer that objects are just regular Perl data structures under the hood:</p>\n<pre><code>my $self = { foo =&gt; 'bar' }; # create a hash reference\nbless $self, $class;         # convert the hash reference to an object\n</code></pre>\n<p>You can add as few or as many keys to this hash as you want. It's convenient to use hash keys as <a href=\"http://perldoc.perl.org/perlobj.html#Attributes\" rel=\"nofollow noreferrer\">attributes</a> or properties that describe an object:</p>\n<pre><code>my $self = {\n    height =&gt; 'tall',\n    color  =&gt; 'purple',\n    weight =&gt; 17\n};\nbless $self, $class; # object has three attributes\n</code></pre>\n<p>In your code:</p>\n<pre><code>return bless {\n    message   =&gt; $first_param-&gt;{message},\n    code      =&gt; $first_param-&gt;{code},\n    tt        =&gt; $first_param-&gt;{tt},\n    fatal     =&gt; $first_param-&gt;{fatal},\n    wiki_page =&gt; $first_param-&gt;{wiki_page},\n    %params\n}, $package;\n</code></pre>\n<p>you create a reference to an anonymous hash with at least five keys (more if <code>%params</code> is not empty); you then convert the hashref to an object. You can think of <code>message</code>, <code>code</code>, <code>tt</code>, <code>fatal</code>, and <code>wiki_page</code> as being attributes of the object.</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "accepted_answer_id": 36438152, "answer_count": 1, "score": 0, "last_activity_date": 1460041746, "creation_date": 1459866564, "last_edit_date": 1460041746, "question_id": 36429287, "link": "https://stackoverflow.com/questions/36429287/perl-method-to-create-an-error-object-using-bless-not-sure-about-the-inner-work", "title": "Perl method to create an error object using bless. Not sure about the inner-workings of this method", "body": "<p>I received a solution for creating an object which is a hash with 5 keys. But I am not sure how it exactly works.</p>\n\n<p>This is my example of the error library, I only included one error for the purpose of this question.\nErrorLibrary.pm</p>\n\n<pre><code>package ASC::Builder::ErrorLibrary;\n    use constant {\n\n        CABLING_ERROR =&gt; {\n            code =&gt; 561,\n            message =&gt; \"cabling is not correct at T1.\",\n            tt =&gt; { template =&gt; 'disabled'},\n            fatal =&gt; 1,\n            wiki_page =&gt;'http://www.e-solution.com/index.php/ARC/Builder/ErrorCodes/CABLING_ERROR',\n        }\n    };\n</code></pre>\n\n<p>This is my error file which contains a number of methods; the new() that is use for posting an error. \nThe new method can accept the Error hash which are found in the ErrorLibrary or else it can accept a string which is the old way in which the error message were implemented in the system.</p>\n\n<p>Example:</p>\n\n<pre><code>die ASC::Builder::Error-&gt;new(CABLING_ERROR);\n</code></pre>\n\n<p>Error.pm</p>\n\n<pre><code>package ASC::Builder::Error;\n    sub new {\n\n        my ($package, $first_param) = (shift, shift);\n\n\n        if (ref $first_param eq 'HASH') {\n            my %params = @_;\n            return bless { message =&gt; $first_param-&gt;{message}, code =&gt; $first_param-&gt;{code}, tt =&gt; $first_param-&gt;{tt}, fatal =&gt; $first_param-&gt;{fatal}, wiki_page =&gt; $first_param-&gt;{wiki_page}, %params}, $package;\n        }\n        else {\n            my %params = @_; \n            return bless {message =&gt; $first_param, %params}, $package;\n\n    }   \n    }\n</code></pre>\n\n<p>What I want to understand about this new() method is what exactly is happening when I assign each key of the error hash to <code>$first_param</code> an then bless all them. Is it gathering all the attributes together and creating an object out of the attributes by using the bless function?</p>\n\n<p>The Error.pm also contains the following methods which allow the value of each key to be accessed.</p>\n\n<pre><code>package ASC::Builder::Error;\n    sub message {\n        return $_[0]-&gt;{message};\n    }\n\n    sub tt {\n        return $_[0]-&gt;{tt};\n    }\n\n    sub code {\n        return $_[0]-&gt;{code};\n    }\n\n    sub fatal {\n        return $_[0]-&gt;{fatal};\n    }\n\n    sub wiki_page {\n        return $_[0]-&gt;{wiki_page};\n    }\n</code></pre>\n\n<p>But as I said I mainly just want to understand what is exactly happening in the new() method. </p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 99, "user_id": 5004168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20dfa1cbf948913566115d0b05e387c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythontamer", "link": "https://stackoverflow.com/users/5004168/pythontamer"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1459866000, "post_id": 36428936, "comment_id": 60472423, "body": "because adduser is a perl script..."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1459868002, "post_id": 36428936, "comment_id": 60474062, "body": "You do realize that those commands it runs can do things too right? Like copy <code>&#47;etc&#47;skel</code> files perhaps? And <code>edquota</code> is absolutely a command. A simple google search for it will find it for example."}], "answers": [{"comments": [{"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 99, "user_id": 5004168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20dfa1cbf948913566115d0b05e387c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythontamer", "link": "https://stackoverflow.com/users/5004168/pythontamer"}, "edited": false, "score": 0, "creation_date": 1459866557, "post_id": 36429173, "comment_id": 60472889, "body": "@pythontamer Whats the link for?"}, {"owner": {"reputation": 99, "user_id": 5004168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20dfa1cbf948913566115d0b05e387c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythontamer", "link": "https://stackoverflow.com/users/5004168/pythontamer"}, "edited": false, "score": 0, "creation_date": 1459866618, "post_id": 36429173, "comment_id": 60472944, "body": "It&#39;s the output of vim &quot;$(command -v adduser)&quot;. I don&#39;t understand what it&#39;s meant to show me."}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 99, "user_id": 5004168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20dfa1cbf948913566115d0b05e387c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythontamer", "link": "https://stackoverflow.com/users/5004168/pythontamer"}, "edited": false, "score": 0, "creation_date": 1459866985, "post_id": 36429173, "comment_id": 60473239, "body": "@pythontamer Whats teh output of <code>echo &quot;$(command -v adduser)&quot;</code>?"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1459868287, "post_id": 36429173, "comment_id": 60474305, "body": "@EtanReisner Why is that?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1459868430, "post_id": 36429173, "comment_id": 60474413, "body": "Because <code>command -v adduser</code> and <code>echo &quot;$(command -v adduser)&quot;</code> will output <i>exactly</i> the same thing only the former is one less subshell, etc."}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1459869015, "post_id": 36429173, "comment_id": 60474873, "body": "@EtanReisner duh..its muscle memory probably ;)"}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "reply_to_user": {"reputation": 99, "user_id": 5004168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20dfa1cbf948913566115d0b05e387c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythontamer", "link": "https://stackoverflow.com/users/5004168/pythontamer"}, "edited": false, "score": 0, "creation_date": 1460033317, "post_id": 36429173, "comment_id": 60563344, "body": "@pythontamer: Try <code>cat &quot;$(command -v adduser)&quot;</code> or <code>cat &#47;usr&#47;sbin&#47;adduser</code>"}], "tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": false, "score": 1, "last_activity_date": 1459866221, "creation_date": 1459866221, "answer_id": 36429173, "question_id": 36428936, "link": "https://stackoverflow.com/questions/36428936/what-commands-are-included-in-the-command-adduser/36429173#36429173", "title": "What commands are included in the command &#39;adduser&#39;?", "body": "<p><code>adduser</code> can be considered as an aggregate of all the mentioned commands, well to some extent at least !!</p>\n\n<p>The best way to find all the internals is to read the source yourself. </p>\n\n<p>Open the <code>perl</code> source file with your favorite editor, for example to open in <code>vim</code>:</p>\n\n<pre><code>vim \"$(command -v adduser)\"\n</code></pre>\n\n<p>and start discovering.</p>\n\n<p>Check <code>man adduser</code> and all other command's man pages too.</p>\n\n<p>Also you don't have the <code>edqota</code> command (used to edit filesystem quota for users) because it comes with the <code>quota</code> package and presumably you don't have it installed.</p>\n"}], "owner": {"reputation": 99, "user_id": 5004168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20dfa1cbf948913566115d0b05e387c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythontamer", "link": "https://stackoverflow.com/users/5004168/pythontamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1459866221, "creation_date": 1459865689, "last_edit_date": 1492086991, "question_id": 36428936, "link": "https://stackoverflow.com/questions/36428936/what-commands-are-included-in-the-command-adduser", "title": "What commands are included in the command &#39;adduser&#39;?", "body": "<p>I have read this source below and it states that adduser is a script which is essentially a collection of commands such as: 'useradd', 'passwd', 'groupadd', etc.</p>\n\n<p><a href=\"https://unix.stackexchange.com/questions/121071/what-does-adduser-do-that-useradd-doesnt\">https://unix.stackexchange.com/questions/121071/what-does-adduser-do-that-useradd-doesnt</a></p>\n\n<p>\"Further investigation of adduser reveals that it is a perl script providing a high level interface to, and thus offering some of the functionality of, the following commands:</p>\n\n<p>useradd</p>\n\n<p>groupadd</p>\n\n<p>passwd - used to add/change users passwords.</p>\n\n<p>gpasswd - used to add/change group passwords.</p>\n\n<p>usermod - used to change various user associated parameters.</p>\n\n<p>chfn - used to add/change additional information held on a user.</p>\n\n<p>chage - used to change password expiry information.</p>\n\n<p>edquota - used to change disk usage quotas.\"</p>\n\n<p>But from what i understand, 'edquota' is not a command. Furthermore when i execute 'adduser' files from '/etc/skel' are copied so isn't the <code>cp</code> utilised?\nFurthermore which command prompts the user to re-enter their password?</p>\n\n<p>So my question: Can someone explain where each command is executed and what it does? [when executing the 'adduser' command]</p>\n"}, {"tags": ["perl", "response", "dancer"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459863626, "post_id": 36427856, "comment_id": 60470353, "body": "Why are you using Rest::Client and XML::Simple and MIME::Base64? Are those leftovers from pruning your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Which version of Dancer is this?"}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459863819, "post_id": 36427856, "comment_id": 60470538, "body": "Sorry you are right, that are indeed leftovers from the bigger code!"}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459864217, "post_id": 36427856, "comment_id": 60470908, "body": "Right! I removed the --data extension. It is not necessary to show the error. Thank you for your tips to show a verifiyable example, it&#39;s my first post!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459868268, "post_id": 36427856, "comment_id": 60474289, "body": "I can&#39;t get it to work either, and I don&#39;t see where that error message comes from. I added a <code>get</code> which works, and if you just <code>return &quot;foo&quot;</code> from the <code>post</code> sub it also works, even without anything but <code>use Dancer;</code>. But as soon as the <code>send_error</code> is there, it breaks. That&#39;s weird. But note that <code>send_error(&quot;foo&quot;, 500)</code> will produce an HTTP Response with the status <code>500 foo</code>. That <code>foo</code> does not go into the body the way you expect it to."}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459869501, "post_id": 36427856, "comment_id": 60475211, "body": "send_error breaks the route. That&#39;s documenented. Yes, a single &#39;return &quot;foo&quot;&#39; works, but with the http status code 200. I look for a way to send a code with 4XX or 5XX together with a message. I am experimenting with <code>return send_entity({ error =&gt; $message}, 500)</code>. This seems to work better. I&#39;ll post here, if I know more."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459869621, "post_id": 36427856, "comment_id": 60475300, "body": "Well you can do <a href=\"https://metacpan.org/pod/Dancer#status\" rel=\"nofollow noreferrer\">metacpan.org/pod/Dancer#status</a> and <code>return &quot;something went horribly wrong&quot;;</code>"}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459870091, "post_id": 36427856, "comment_id": 60475646, "body": "For <code>return &quot;something went horribly wrong&quot;</code> the http status code is 200. Doesn&#39;t help!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459870164, "post_id": 36427856, "comment_id": 60475693, "body": "Even if you set a status explicitly?"}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459870311, "post_id": 36427856, "comment_id": 60475798, "body": "How would you set a status explicitly?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459870637, "post_id": 36427856, "comment_id": 60476045, "body": "I just said above."}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459871176, "post_id": 36427856, "comment_id": 60476477, "body": "Oh yes, you meant <code>status 400; return &quot;error message&quot;</code>! Indeed that&#39;s it what I looked for!! Don&#39;t ask me why I discovered the <code>status</code> keyword not ealier! How can I mark this thread as solved? Thank you very much!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459871213, "post_id": 36427856, "comment_id": 60476506, "body": "I will post an answer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459871558, "post_id": 36427856, "comment_id": 60476767, "body": "You can accept my answer by clicking the check mark. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. I typed all this from my phone. Not fun. :-P"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459880209, "post_id": 36431217, "comment_id": 60482453, "body": "Sorry, but your example only makes sense if the webserver is running on a teapot ;P"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459881748, "post_id": 36431217, "comment_id": 60483515, "body": "@ThisSuitIsBlackNot: Thank you for fixing the markup. That was my phone. And it&#39;s obvious it&#39;s a teapot, isn&#39;t it? :)"}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "edited": false, "score": 1, "creation_date": 1459928386, "post_id": 36431217, "comment_id": 60502554, "body": "You helped me really much, some times the solution  is so obvious!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "edited": false, "score": 0, "creation_date": 1459930729, "post_id": 36431217, "comment_id": 60503971, "body": "@cablebuddy This was actually a very good first question. Welcome to Stack Overflow :)"}, {"owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "edited": false, "score": 0, "creation_date": 1459945318, "post_id": 36431217, "comment_id": 60514624, "body": "Thanks for the &quot;flowers&quot;, I&#39;m sure to be here not the last time! I was really surprised how big StackExchange is and that not only computer and programming questions are handled here. Fantastic!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "edited": false, "score": 1, "creation_date": 1459945741, "post_id": 36431217, "comment_id": 60514944, "body": "@cablebuddy it can get quite time-consuming. Don&#39;t read the hot network questions if you have <code>$work</code> to do. ;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1459871610, "last_edit_date": 1459871610, "creation_date": 1459871336, "answer_id": 36431217, "question_id": 36427856, "link": "https://stackoverflow.com/questions/36427856/how-to-put-a-specific-message-in-the-response-body-of-a-perl-dancer-server/36431217#36431217", "title": "How to put a specific message in the &quot;response body&quot; of a perl Dancer server", "body": "<p>To simply change the Http status you can use the <a href=\"https://metacpan.org/pod/Dancer#status\" rel=\"nofollow\"><code>status</code> keyword</a> and return your content as the response body.</p>\n\n<pre><code>get '/' =&gt; sub {\n  status 418;\n  return 'I cannot make coffee.';\n};\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6161397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cb11b70e0471d42067d49968630a1e?s=128&d=identicon&r=PG&f=1", "display_name": "cablebuddy", "link": "https://stackoverflow.com/users/6161397/cablebuddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 36431217, "answer_count": 1, "score": 3, "last_activity_date": 1459871610, "creation_date": 1459863095, "last_edit_date": 1459864150, "question_id": 36427856, "link": "https://stackoverflow.com/questions/36427856/how-to-put-a-specific-message-in-the-response-body-of-a-perl-dancer-server", "title": "How to put a specific message in the &quot;response body&quot; of a perl Dancer server", "body": "<p>My RESTfull server with Perl Dancer runs perfectly with one exception: <code>send_error(\"Simple Error string\",400)</code> for example removes the error message.</p>\n\n<p>The error code will be sent, but without the actual message \"Simple Error string\". </p>\n\n<p>I tried <code>return send_entity({ error =&gt; \"Missing parameter \"}, 400)</code> with no avail too.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n##########################################################################################################################################\n# V1.0 REST-Server\n##########################################################################################################################################\n\n\nuse Dancer;\nuse Dancer::Plugin::Auth::Basic;\nuse Dancer::Plugin::Database;\nuse Dancer::Plugin::REST;\n\nset serializer =&gt; 'XML';\n\npost '/hello/:name' =&gt; sub \n{\n  # Low level test route\n  auth_basic realm =&gt; 'Authorized personnel only', users =&gt; { 'alice' =&gt; 'AlicesPassword', 'bob' =&gt; 'BobsPassword' };\n  send_error(\"Simple Error string\",400);\n};\ndance;\n</code></pre>\n\n<p>The tests take place with curl:</p>\n\n<pre><code>#curl -X POST -k -u alice:AlicesPassword http://localhost:5000/hello/abc\nAn internal error occured\n</code></pre>\n\n<p>and with RESTer under Firefox (via https proxy).</p>\n\n<p>RESTer reports the same.</p>\n\n<p>Several googling brought no hints, how to produce the correct error code AND the provided message.</p>\n\n<p>I hope anybody can give me a hint.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1459933437, "post_id": 36426533, "comment_id": 60505692, "body": "Here is the final working code..print &quot;Enter obfuscation percentage value (5 or 10 or 15 or 20): &quot;; my $obfuscation_percentage; while ($obfuscation_percentage = &lt;STDIN&gt;) {  if ($obfuscation_percentage == 5 || $obfuscation_percentage == 10 || $obfuscation_percentage == 15 || $obfuscation_percentage == 20 ){ last;} else { print &quot;Enter valid obfuscation percentage: &quot;; } } chomp $obfuscation_percentage;"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1459860934, "creation_date": 1459860934, "answer_id": 36426990, "question_id": 36426533, "link": "https://stackoverflow.com/questions/36426533/perl-script-to-get-specific-user-data-if-not-ask-again/36426990#36426990", "title": "perl script to get specific user data if not ask again?", "body": "<p>First, you don't repeat anything. Typically, a <code>while()</code> loop would be used. Second, you're using <code>ne</code>, which compares strings. What you'd want is <code>==</code> for numerical input. Third, your <code>if</code> statements won't work. You have to repeat the full comparison:</p>\n\n<pre><code>if ($x == 5 || $x == 10 || $x == 15) {...}\n</code></pre>\n\n<p>Here's an example with a loop, and using <code>grep()</code> for the comparison:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nwhile (1){\n    print \"Enter either 5 or 10 or 15 or 20): \";\n    my $obfuscation_percentage = &lt;STDIN&gt;; \n    chomp $obfuscation_percentage; \n\n    my @valid = qw(5 10 15 20);\n\n    if (grep {$obfuscation_percentage == $_} @valid){\n        print 10 * $obfuscation_percentage .\"\\n\";\n        last;\n    }\n}\n\n__END__\nEnter either 5 or 10 or 15 or 20): 7\nEnter either 5 or 10 or 15 or 20): 12\nEnter either 5 or 10 or 15 or 20): 5\n50\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "is_accepted": false, "score": 0, "last_activity_date": 1459861160, "creation_date": 1459861160, "answer_id": 36427069, "question_id": 36426533, "link": "https://stackoverflow.com/questions/36426533/perl-script-to-get-specific-user-data-if-not-ask-again/36427069#36427069", "title": "perl script to get specific user data if not ask again?", "body": "<p>A few problems.</p>\n\n<p>First of all, you don't loop at any point, nor do you ever check the second read from STDIN.  Here's your code prettified.</p>\n\n<pre><code>print \"Enter either 5 or 10 or 15 or 20): \";\nmy $obfuscation_percentage = &lt;STDIN&gt;; \nchomp $obfuscation_percentage; \nif ($obfuscation_percentage ne 5 or 10 or 15 or 20 ){\n    print \"Enter valid number: \"; \n}\n$obfuscation_percentage = &lt;STDIN&gt;; \nchomp $obfuscation_percentage;\n</code></pre>\n\n<p>So you would need some sort of loop to read from stdin.</p>\n\n<p>Second issue is, from <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">perlop</a></p>\n\n<blockquote>\n  <p>Binary \"or\" returns the logical disjunction of the two surrounding expressions. It's equivalent to || except for the very low precedence. This makes it useful for control flow:</p>\n</blockquote>\n\n<p>So it won't work the way you think it will, like a list check.  You'd need to check each number or do something else.</p>\n\n<p>Also <code>ne</code> is a string comparison, but you have integers on the right side of the operator, though Perl is probably smart enough to understand that.</p>\n"}], "owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1459864436, "creation_date": 1459859699, "last_edit_date": 1459864436, "question_id": 36426533, "link": "https://stackoverflow.com/questions/36426533/perl-script-to-get-specific-user-data-if-not-ask-again", "title": "perl script to get specific user data if not ask again?", "body": "<p>I need to receive either 5 or 10 or 15 or 20 from user, if not i should ask them again until they enter any of four numbers. Here is the code, but not doing the same. Point out the logical misunderstanding.</p>\n\n<pre><code>print \"Enter either 5 or 10 or 15 or 20): \";\nmy $obfuscation_percentage = &lt;STDIN&gt;; \nchomp $obfuscation_percentage; \nif ($obfuscation_percentage ne 5 or 10 or 15 or 20 ){\nprint \"Enter valid number: \"; }\n$obfuscation_percentage = &lt;STDIN&gt;; \nchomp $obfuscation_percentage;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 3189, "user_id": 42429, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Gjtn1.png?s=128&g=1", "display_name": "Martin Cowie", "link": "https://stackoverflow.com/users/42429/martin-cowie"}, "edited": false, "score": 0, "creation_date": 1459860890, "post_id": 36426319, "comment_id": 60468216, "body": "Get more &amp; better answers by detailing what you have already tried."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 3189, "user_id": 42429, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Gjtn1.png?s=128&g=1", "display_name": "Martin Cowie", "link": "https://stackoverflow.com/users/42429/martin-cowie"}, "edited": false, "score": 0, "creation_date": 1459868524, "post_id": 36426319, "comment_id": 60474495, "body": "@MartinCowie How would explaining what he tried get better answers? It makes sense to ask people what they&#39;ve tried when they say &quot;my code isn&#39;t working, help me debug it&quot; without including any code, but it makes no sense here. The question is quite clear; cluttering it up with a bunch of failed attempts at a solution would just add useless noise."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459875575, "post_id": 36426319, "comment_id": 60479573, "body": "Please would you explain what you want to do with this information? It will help us to formulate a more accurate answer for you. It seems a strange thing on which to base the flow of a program"}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 2, "last_activity_date": 1459939949, "creation_date": 1459939949, "answer_id": 36448948, "question_id": 36426319, "link": "https://stackoverflow.com/questions/36426319/perl-dbi-mysql-check-if-column-is-unique/36448948#36448948", "title": "Perl DBI MySQL: Check if column is UNIQUE", "body": "<p>This function should return true for columns with an UNIQUE constraint, or false otherwise.</p>\n\n<p>Input values are DBI (mysql) object, table name and column name.</p>\n\n<pre><code>sub check_uniq {\n    my ($dbh, $table, $column) = @_;\n    $table =~ s/\\`//;\n    $table = '`' . $table . '`';\n    my $sth = $dbh-&gt;prepare('SHOW INDEX FROM ' . $table);\n    $sth-&gt;execute();\n    while (my $row = $sth-&gt;fetchrow_hashref) {\n        if (($row-&gt;{Column_name} eq $column) &amp;&amp; (!$row-&gt;{Non_unique})) {\n            return 1;\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459939949, "creation_date": 1459859089, "question_id": 36426319, "link": "https://stackoverflow.com/questions/36426319/perl-dbi-mysql-check-if-column-is-unique", "title": "Perl DBI MySQL: Check if column is UNIQUE", "body": "<p>Using Perl DBI, how to check if (given a table name and column name) a MySQL column is UNIQUE (that is has UNIQUE constraint)?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 2, "last_activity_date": 1459861719, "creation_date": 1459861719, "answer_id": 36427313, "question_id": 36426309, "link": "https://stackoverflow.com/questions/36426309/perl-the-results-of-the-program-is-not-what-i-want/36427313#36427313", "title": "Perl_The results of the program is not what i want", "body": "<p>You're seeing the return values of the <code>s///</code> operator, not the values it changed. If you have a new Perl, add an /r flag to the operator to make it return the changed value. If you don't have a new Perl, add something like <code>and $_</code> after the operator to make the map expression return the changed value.</p>\n"}], "owner": {"reputation": 17, "user_id": 6159783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c57a6dee58543cf80a6204e5639eaf?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6159783/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 36427313, "answer_count": 1, "score": 0, "last_activity_date": 1459861719, "creation_date": 1459859056, "last_edit_date": 1592644375, "question_id": 36426309, "link": "https://stackoverflow.com/questions/36426309/perl-the-results-of-the-program-is-not-what-i-want", "title": "Perl_The results of the program is not what i want", "body": "<p>The result of following program was</p>\n<blockquote>\n<p>1 1 1 1 1 1 1 1 1</p>\n</blockquote>\n<p>why? it should be some file names like</p>\n<blockquote>\n<pre><code>test.pl\n\ntest1.pl\n</code></pre>\n</blockquote>\n<pre><code>#!/usr/bin/perl -w\nopendir Hdir,&quot;.&quot;;\nmy @filelist=readdir Hdir;\nmy @tmplist=grep {\n    $tmp = (stat($_))[7];\n    $tmp &gt; 1000;\n} @filelist;\nmy @reslist = map { s/(\\S+)/    $1\\n/g } @tmplist;\nprint &quot;@reslist\\n&quot;;\n</code></pre>\n<p>what should I do?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1459857808, "post_id": 36425746, "comment_id": 60465910, "body": "OT: Compare strings with <code>eq</code>."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1459857824, "post_id": 36425746, "comment_id": 60465921, "body": "Looks like the <code>if</code> line is missing a <code>)</code>."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459861924, "post_id": 36425746, "comment_id": 60469040, "body": "Ignore all lines EXCEPT THE FIRST, because rest is caused by parser getting stuck. <b>syntax error at additionalscripts.pl line 16, near &quot;}&quot;</b> fix this."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1459862615, "post_id": 36425746, "comment_id": 60469533, "body": "OT:  there are other ways to <a href=\"http://stackoverflow.com/a/975926/132382\">iterate with indices</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 0, "last_activity_date": 1459927963, "last_edit_date": 1459927963, "creation_date": 1459862359, "answer_id": 36427572, "question_id": 36425746, "link": "https://stackoverflow.com/questions/36425746/variable-requires-explicit-package-name-in-if-statement/36427572#36427572", "title": "variable requires explicit package name in if statement", "body": "<p>You had a few errors in your code, which I've cleaned up.</p>\n\n<pre><code>my @test = qw(Foo January Bar);\nsay convert_month_to_number($_) foreach @test;\n\nsub convert_month_to_number {\n    my ($input) = shift;\n    my @month_names = qw/January February March April May June July August September October November December/;\n    my @month_names_short = qw/Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec/;\n\n    for (my $i = 0; $i &lt; @month_names; $i++){\n        if ($month_names[$i] eq $input){\n            return $i;\n        }\n\n    }\n    return $input; \n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 59, "user_id": 6103335, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/16893d35c1d143982cbfb607ed83ccf0?s=128&d=identicon&r=PG&f=1", "display_name": "SmashingGood", "link": "https://stackoverflow.com/users/6103335/smashinggood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "closed_date": 1459872917, "accepted_answer_id": 36427572, "answer_count": 1, "score": 1, "last_activity_date": 1459927963, "creation_date": 1459857380, "question_id": 36425746, "link": "https://stackoverflow.com/questions/36425746/variable-requires-explicit-package-name-in-if-statement", "closed_reason": "Not suitable for this site", "title": "variable requires explicit package name in if statement", "body": "<p>I have written a Perl subroutine that is supposed to take the name of a month and return a number if it matches, otherwise returning the original argument if not.</p>\n\n<pre><code>sub convert_month_to_number {\n my ($input) = @_;\n my @month_names = qw/January February March April May June July August September October November December/;\n my @month_names_short = qw/Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec/;\n for (my $i = 0; $i &lt; scalar(@month_names); $i = $i + 1){\n    print \"$month_names[$i]\\n\";\n    if ($input == $month_names[$i]{\n        return $i;\n\n    }   \n }\n\nreturn $input;  \n}\n</code></pre>\n\n<p>}</p>\n\n<p>However, when compiling this in Padre I receive the error:</p>\n\n<pre><code>syntax error at additionalscripts.pl line 16, near \"}\"\nGlobal symbol \"$input\" requires explicit package name at additionalscripts.pl li\nne 19.\nsyntax error at additionalscripts.pl line 20, near \"}\"\nExecution of additionalscripts.pl aborted due to compilation errors.\n</code></pre>\n\n<p>I'm not exactly sure why this is occurring, considering how I've already declared $input as a global variable up top. Any help would be greatly appreciated. I'm currently using Perl 5.010 on Windows.</p>\n"}, {"tags": ["arrays", "perl", "sorting", "filtering"], "comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459862144, "post_id": 36425639, "comment_id": 60469216, "body": "When you need to find something you should use <code>grep&#47;map&#47;for</code>, not <code>sort</code>."}, {"owner": {"reputation": 446, "user_id": 1651481, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cMu22.jpg?s=128&g=1", "display_name": "XuMuK", "link": "https://stackoverflow.com/users/1651481/xumuk"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459864567, "post_id": 36425639, "comment_id": 60471216, "body": "@OlegV.Volkov But I have numerical values, why I should use grep and map? <code>$descs_a[1]</code> is already <code>1</code> and <code>$descs_c[1]</code> is <code>0</code>. The code is not written by me - I am using it and trying to fix this bug."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459864965, "post_id": 36425639, "comment_id": 60471560, "body": "I don&#39;t get your question. Are you somehow thinking <code>grep</code> is for strings? No, it isn&#39;t."}, {"owner": {"reputation": 446, "user_id": 1651481, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cMu22.jpg?s=128&g=1", "display_name": "XuMuK", "link": "https://stackoverflow.com/users/1651481/xumuk"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1459865929, "post_id": 36425639, "comment_id": 60472347, "body": "@OlegV.Volkov Yes, this is my firs time working with real editing of perl scripts."}], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 1651481, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cMu22.jpg?s=128&g=1", "display_name": "XuMuK", "link": "https://stackoverflow.com/users/1651481/xumuk"}, "edited": false, "score": 0, "creation_date": 1459865875, "post_id": 36428676, "comment_id": 60472295, "body": "This is exactly I was looking for."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 2, "last_activity_date": 1459865082, "creation_date": 1459865082, "answer_id": 36428676, "question_id": 36425639, "link": "https://stackoverflow.com/questions/36425639/perl-sorting-minimal-values-with-filtering-zeros/36428676#36428676", "title": "Perl sorting minimal values with filtering zeros", "body": "<p>You're overcomplicating things. You need to scan over all values, skip 0 and remember each new value if it is smaller than previously remembered. Just write that out exactly, in Perl:</p>\n\n<pre><code>sub desc_Emin {\n    my $min = 0;\n    for my $val (@_) {\n        # if we're remembering 0, replace it with anything OR (if new value is not 0 and smaller than what we remember, remember that)\n        if ($min == 0 || ($val != 0 &amp;&amp; $min &gt; $val)) { $min = $val }\n    }\n    return $min;\n}\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 1651481, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cMu22.jpg?s=128&g=1", "display_name": "XuMuK", "link": "https://stackoverflow.com/users/1651481/xumuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 36428676, "answer_count": 1, "score": 0, "last_activity_date": 1459865082, "creation_date": 1459857122, "last_edit_date": 1459864483, "question_id": 36425639, "link": "https://stackoverflow.com/questions/36425639/perl-sorting-minimal-values-with-filtering-zeros", "title": "Perl sorting minimal values with filtering zeros", "body": "<p>I have the perl code where sorting is choozing the minimal value, but if the one value is 0, it should be ignored.\nThis is sorting function without filtering:</p>\n\n<pre><code>sub desc_Emin\n{\n my($emin)=(sort{$b&lt;=&gt;$a} @_)[-1];\n return $emin;\n}\n</code></pre>\n\n<p>And this function is called and takes values:</p>\n\n<pre><code>$desc_mv[$n]=desc_Emin($descs_a[$n],$descs_b[$n],$descs_c[$n]);\n</code></pre>\n\n<p>For example, there is the list:</p>\n\n<pre><code>descs_a  descs_b  descs_c\n1        4        5\n0        1        3\n0        0        0\n2        2        0\n</code></pre>\n\n<p>After sorting it [$desc_mv] should be:</p>\n\n<pre><code>1\n1\n0\n2\n</code></pre>\n\n<p>How to filter without adding a lot of 'if' statements? It is better to filter zeros in the  \"$desc_mv[$n]=desc_Emin(...\" part?</p>\n\n<p>My fast temporal solution looks like:</p>\n\n<pre><code>            if($descs_a[$n] == $descs_b[$n] and $descs_b[$n] == $descs_c[$n] ){\n            $desc_mv[$n]=$descs_a[$n];                  \n            }\n            else{\n\n            use Switch;\n            switch($descs_a[$n]){\n                case 0 {$descs_a[$n] = 99999999999999};                     \n            }\n            use Switch;\n            switch($descs_b[$n]){\n                case 0 {$descs_b[$n] = 99999999999999};\n            }\n            use Switch;\n            switch($descs_c[$n]){\n                case 0 {$descs_c[$n] = 99999999999999};\n            }\n\n            $desc_mv[$n]=desc_Emin($descs_a[$n],$descs_b[$n],$descs_c[$n]);\n            }\n</code></pre>\n"}, {"tags": ["xml", "perl", "xpath", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1459863371, "post_id": 36425474, "comment_id": 60470153, "body": "Sounds like you&#39;re trying to recreate XML::Simple (and all of its problems)."}, {"owner": {"reputation": 11, "user_id": 6160244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ffe0390297169a19e65a785b1f6df1?s=128&d=identicon&r=PG&f=1", "display_name": "g_e_s_h", "link": "https://stackoverflow.com/users/6160244/g-e-s-h"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1459863729, "post_id": 36425474, "comment_id": 60470440, "body": "I can&#39;t completely understand - should I use XML::Simple for this task?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1459864755, "post_id": 36425474, "comment_id": 60471395, "body": "No, I don&#39;t think you should be creating this hard to navigate structure in the first place. See <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged/33273488\">Why is XML::Simple \u201cDiscouraged\u201d?</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1461184562, "post_id": 36425474, "comment_id": 61089602, "body": "This smells like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\"><code>XY Problem</code></a> - stop; rethink. What are you trying to accomplish? <code>XML</code> is more complicated than can be represented in perl data structures. But you have OO For that, which is what <code>XML::LibXML</code> does."}, {"owner": {"reputation": 11, "user_id": 6160244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ffe0390297169a19e65a785b1f6df1?s=128&d=identicon&r=PG&f=1", "display_name": "g_e_s_h", "link": "https://stackoverflow.com/users/6160244/g-e-s-h"}, "edited": false, "score": 0, "creation_date": 1461239049, "post_id": 36425474, "comment_id": 61114598, "body": "Hi probably you are right. I have edited the post with additional info, maybe there is another approach to this task. I will take the value names from additional flat XML. This values will always exist in the first &quot;big&quot; string, some of the nodes in the XML in the example above are optional and I should estimate if the value exists by the text before &#39;{&#39;  or &#39;[&#39; or &#39;=&#39; signs."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1461249767, "post_id": 36425474, "comment_id": 61123025, "body": "The reason I suggest this looks like an XY problem is because a key symptom then is focussing on intermediate steps. Processing XML is easy. &quot;Converting&quot; it it almost certainly redundant. What is your <i>end goal</i> here? Give us a sample output for that input, and we can almost certainly show you a really easy way to accomplish it."}, {"owner": {"reputation": 11, "user_id": 6160244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ffe0390297169a19e65a785b1f6df1?s=128&d=identicon&r=PG&f=1", "display_name": "g_e_s_h", "link": "https://stackoverflow.com/users/6160244/g-e-s-h"}, "edited": false, "score": 0, "creation_date": 1461566070, "post_id": 36425474, "comment_id": 61237498, "body": "Hi, I&#39;ve already added information about the string I want to parse by the rules in the XML (you can see it after &quot;Edit:&quot; in the post above). Finaly I want to be able to know the values of the variables  for example: FirstMainBranch{aList}[1]{second}=&#39;second&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6160244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ffe0390297169a19e65a785b1f6df1?s=128&d=identicon&r=PG&f=1", "display_name": "g_e_s_h", "link": "https://stackoverflow.com/users/6160244/g-e-s-h"}, "edited": false, "score": 0, "creation_date": 1459923386, "post_id": 36430912, "comment_id": 60499660, "body": "I will use the collected information from the XML to parse a CSV file, do you think that the approach with XML::Rabbit is appropriate? I&#39;m starting to read the article now :)"}, {"owner": {"reputation": 11, "user_id": 6160244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ffe0390297169a19e65a785b1f6df1?s=128&d=identicon&r=PG&f=1", "display_name": "g_e_s_h", "link": "https://stackoverflow.com/users/6160244/g-e-s-h"}, "edited": false, "score": 0, "creation_date": 1459927233, "post_id": 36430912, "comment_id": 60501841, "body": "I read the article and I don&#39;t think that it can solve my problems because, getting the node names is not problem. The hard part for me is to get the right data structure of the keys in the resulting hash. I want to know if the current key is an array, containing hashes, or hash containing arrays, or array containing simple values etc. Many thank for the answer though :)"}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 0, "last_activity_date": 1459883481, "last_edit_date": 1459883481, "creation_date": 1459870555, "answer_id": 36430912, "question_id": 36425474, "link": "https://stackoverflow.com/questions/36425474/perl-decoding-xml-into-hash/36430912#36430912", "title": "Perl decoding xml into hash", "body": "<p>I would use a different approach. Instead of converting the XML into a hash, I would map it to objects using <a href=\"http://search.cpan.org/~robins/XML-Rabbit-0.4.1/lib/XML/Rabbit.pm\" rel=\"nofollow\">XML::Rabbit</a>. I wrote a small <a href=\"https://eballes.wordpress.com/2014/07/08/on-parsing-xml/\" rel=\"nofollow\">article</a> about how to use it with a complete working example.</p>\n\n<p>XML::Rabbit has a series of advantages:</p>\n\n<ul>\n<li>Work with simple Moose objects. </li>\n<li>Define the objects to be obtained in a declarative way, using XPath.</li>\n<li>Parse / define only what you want. No need to get all the information out of the XML.</li>\n</ul>\n\n<p>If your XML files are small enough for using XPath and a DOM I've found this method very clean and easy to maintain.</p>\n"}], "owner": {"reputation": 11, "user_id": 6160244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ffe0390297169a19e65a785b1f6df1?s=128&d=identicon&r=PG&f=1", "display_name": "g_e_s_h", "link": "https://stackoverflow.com/users/6160244/g-e-s-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 769, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461238722, "creation_date": 1459856697, "last_edit_date": 1461238722, "question_id": 36425474, "link": "https://stackoverflow.com/questions/36425474/perl-decoding-xml-into-hash", "title": "Perl decoding xml into hash", "body": "<p>I need to decode a complex XML structure. \nThe XML looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n    &lt;MainNode comment=\"foo\"&gt;\n      &lt;FirstMainBranch&gt;\n        &lt;Struct&gt;\n          &lt;String name=\"aStringValueUnderMainBranch\" comment=\"Child node under first main branch\"/&gt;\n          &lt;String name=\"anotherStringValueUnderMainBranch\" comment=\"Child node under first main branch\"/&gt;\n          &lt;Integer name=\"anIntegerValueUnderMainBranch\" comment=\"Child node under first main branch\"/&gt;\n          &lt;List name=\"aList\" comment=\"According to me this node should be an array, it could contain one or more child elements\"&gt;\n            &lt;Struct comment=\"The node name means that, the child nodes are grouped, I think that the most appropriate structure here is hash. \n        The node itself doesn't have name attribute, which means that it only shows the type of the element\"&gt;\n          &lt;String name=\"first\" comment=\"\n            Default Value: 0 \n                        \"/&gt;\n          &lt;Long name=\"second\" comment=\"\n            Default Value: 0 \n\n                          \"/&gt;\n          &lt;Long name=\"third\" comment=\"\n            Default Value: 0 \n\n                        \"/&gt;\n        &lt;/Struct&gt;\n      &lt;/List&gt;\n      &lt;List name=\"secondList\" comment=\"According to me this node should be array, it could contain one or more child elements\"&gt;\n        &lt;Struct comment=\"The node name means that, the child nodes are grouped, I think that the most appropriate structure here is hash. \n        The node itself doesn't have name attribute, which means that it only shows the type of the element\n                    \"&gt;\n          &lt;String name=\"first\" comment=\"\n            Default Value: 0 \n\n                          \"/&gt;\n          &lt;Long name=\"second\" comment=\"\n            Default Value: 0 \n\n                          \"/&gt;        \n        &lt;/Struct&gt;\n      &lt;/List&gt;\n      &lt;Struct name=\"namedStruct\" comment=\"Here the struct element has a name, which means that it should be decoded\n                    \"&gt;\n        &lt;List name=\"thirdList\" comment=\"Again list, but now it is inside struct element, and it contains struct element\n                \"&gt;\n          &lt;Struct comment=\"The node name means that, the child nodes are grouped, I think that the most appropriate structure here is hash.\"&gt;\n            &lt;Integer name=\"first\" comment=\"Child element of the struct\"/&gt;\n          &lt;/Struct&gt;\n        &lt;/List&gt;\n\n      &lt;/Struct&gt;\n\n    &lt;/Struct&gt;\n  &lt;/FirstMainBranch&gt;\n  &lt;SecondMainBranch&gt;\n    &lt;Struct comment=\"\"&gt;\n      &lt;Struct name=\"namedStructAgain\" comment=\"\n                \"&gt;\n        &lt;String name=\"First\" comment=\"\n                  \"/&gt;\n        &lt;String name=\"Second\" comment=\"\"/&gt;\n\n      &lt;/Struct&gt;\n    &lt;/Struct&gt;\n  &lt;/SecondMainBranch&gt;\n&lt;/MainNode&gt;\n</code></pre>\n\n<p>I think that the most appropriate container is a hash (if your opinion is different, please let me know).\nI'm finding difficult to decode it, because:</p>\n\n<ol>\n<li><p>Main nodes do not have \"name\" attribute, but they should exist in the final structure</p></li>\n<li><p>Child nodes should be read only if there is a \"name\" attribute, but their data type (structure) depends on not decoded parent element.</p></li>\n<li><p>Some of these parent elements have \"name\" attribute - in this case they should exist in the final structure.</p></li>\n<li><p>I don't care for integer, long, datetime etc. data types, they will be read as string. The main problem here is List and Struct types</p></li>\n</ol>\n\n<p>Here is my silly try to cope with the task:</p>\n\n<pre><code>use XML::LibXML;\nuse Data::Dumper;\nuse strict;\nuse warnings;\nmy $parser=XML::LibXML-&gt;new();\nmy $file=\"c:\\\\joro\\\\Data.xml\";\nmy $xmldoc=$parser-&gt;parse_file($file);\n\nsub buildHash{\nmy $mainParentNode=$_[0];\nmy $mainHash=\\%{$_[1]};\nmy ($waitNextNode,$isArray,$arrayNode);\n$waitNextNode=0;\n$isArray=0;\nsub xmlStructure{\nmy $parentNode=$_[0];\nmy $href=\\%{$_[1]};\nmy ($name, %tmp);\nmy $parentType=$parentNode-&gt;nodeName();\n$name=$parentNode-&gt;findnodes('@name');\nforeach my $currentNode($parentNode-&gt;findnodes('child::*')){\nmy $type=$currentNode-&gt;nodeName();\nif ($type&amp;&amp;$type eq 'List'){\n$isArray=1;\n}\nelsif($type&amp;&amp;$type ne 'List'&amp;&amp;$parentType ne 'List'){\n$isArray=0;\n$arrayNode=undef;\n}\nif ($type&amp;&amp;!$currentNode-&gt;findnodes('@name')&amp;&amp;$type eq 'Struct'){\n$waitNextNode=1;\n}\nelse{\n$waitNextNode=0;\n}\nif ($type&amp;&amp;$type ne 'List'&amp;&amp;$type ne 'Struct'&amp;&amp;!$currentNode-&gt;findnodes('@name')){\n#$href-&gt;{$currentNode-&gt;nodeName()}={};\nxmlStructure($currentNode,$href-&gt;{$currentNode-&gt;nodeName()});\n}\n# elsif ($type&amp;&amp;$type eq 'List'&amp;&amp;$currentNode-&gt;findnodes('@name')){\n# print \"2\\n\";\n# $href-&gt;{$currentNode-&gt;findnodes('@name')}=[];\n# xmlStructure($currentNode,$href-&gt;{$currentNode-&gt;findnodes('@name')});\n# }\nelsif ($type&amp;&amp;$type ne 'List'&amp;&amp;$currentNode-&gt;findnodes('@name')&amp;&amp;$parentType eq 'List'){\npush(@{$href-&gt;{$currentNode-&gt;findnodes('@name')}},$currentNode-&gt;findnodes('@name'));\nxmlStructure($currentNode,$href-&gt;{$currentNode-&gt;findnodes('@name')});\n\n}\n# elsif ($type&amp;&amp;$type ne 'List'&amp;&amp;!$currentNode-&gt;findnodes('@name')&amp;&amp;$parentType eq 'List'){\n# print \"4\\n\";\n# push(@{$$href-&gt;{$currentNode-&gt;findnodes('@name')}},{});\n##print Dumper %{$arrayNode};\n# xmlStructure($currentNode,$href-&gt;{$currentNode-&gt;findnodes('@name')});\n# }\nelse{\nxmlStructure($currentNode,$href-&gt;{$currentNode-&gt;findnodes('@name')});\n}\n}\n\n}\nxmlStructure($mainParentNode,$mainHash);\n}\nmy %href;\nbuildHash($xmldoc-&gt;findnodes('*'),\\%href);\nprint \"Printing the real HASH\\n\";\nprint Dumper %href;\n</code></pre>\n\n<p>but there is a long way to go, because:\n1. There is a parasite, probably undefined, element between the key and the value.\n2. I cannot find the way to change the data type from hash to array of the child where needed.</p>\n\n<p>Here is the output:</p>\n\n<pre><code>$VAR1 = 'FirstMainBranch';\n$VAR2 = {\n          '' =&gt; {\n                  'aList' =&gt; {\n                             '' =&gt; {\n                                     'third' =&gt; {},\n                                     'second' =&gt; {},\n                                     'first' =&gt; {}\n                                   }\n                           },\n                  'namedStruct' =&gt; {\n                                   'thirdList' =&gt; {\n                                                  '' =&gt; {\n                                                          'first' =&gt; {}\n                                                        }\n                                                }\n                                 },\n                  'anotherStringValueUnderMainBranch' =&gt; {},\n                  'secondList' =&gt; {\n                                  '' =&gt; {\n                                          'second' =&gt; {},\n                                          'first' =&gt; {}\n                                        }\n                                },\n                  'aStringValueUnderMainBranch' =&gt; {},\n                  'anIntegerValueUnderMainBranch' =&gt; {}\n                }\n        };\n$VAR3 = 'SecondMainBranch';\n$VAR4 = {\n          '' =&gt; {\n                  'namedStructAgain' =&gt; {\n                                        'First' =&gt; {},\n                                        'Second' =&gt; {}\n                                      }\n                }\n        };\n</code></pre>\n\n<p>Any help will be appreciated.\nThank you in advance.</p>\n\n<p>Edit:\nIn relation with Sobrique's comment - X Y Problem:</p>\n\n<p>Here is the example string I want to parse:</p>\n\n<pre><code>(1,2,\"N/A\",-1,\"foo\",\"bar\",NULL,3,2016-03-18 08:12:00.000,2016-03-18 08:12:00.559,2016-03-18 08:12:00.520,0,0,NULL,\"foo\",\"123456789\",{NULL,NULL,NULL,NULL,NULL,NULL,2016-04-17 11:59:59.999,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,null,NULL,NULL,NULL,NULL,3,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,T,0,NULL,NULL,NULL,\"9876543210\",NULL,\"foo\",\"0\",\"bar\",\"foo\",\"a1820000264d979c\",\"0,0\",NULL,\"foo\",\"192.168.1.82\",\"SOAP\",NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL},{INPUT=\"bar\"},{aStringValueUnderMainBranch=\"ET\", aList[{\"first\", \"second\", \"third\"}, {\"first\", \"second\", \"third\"}], secondList[{\"first\", \"second\"}, {\"first\", \"second\"}],namedStruct{thirdList[{first},{first}]}},{namedStructAgain{\"first\", \"second\"}},NULL,NULL,NULL,NULL,NULL)\n</code></pre>\n\n<p>Somehow I should separate all values and after that to identify this part:</p>\n\n<pre><code>{aStringValueUnderMainBranch=\"ET\", aList[{\"first\", \"second\", \"third\"}, {\"first\", \"second\", \"third\"}], secondList[{\"first\", \"second\"}, {\"first\", \"second\"}],namedStruct{thirdList[{first},{first}]}}\n</code></pre>\n\n<p>as FirstMainBranch and parse the corresponding values as showed in the XML.\nAfter that I should identify:</p>\n\n<pre><code>{namedStructAgain{\"first\", \"second\"}}\n</code></pre>\n\n<p>as SecondMainBranch and get the respective values.\nThere is an additional problem here with the primary data separation I should not take in mind the commas when they are between parentheses.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1459855535, "post_id": 36423356, "comment_id": 60464243, "body": "In the search pattern try writing ctll+V+M(Holding on control) then run the above code line."}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1460033467, "post_id": 36423356, "comment_id": 60563471, "body": "On which platform are you executing the perl code? Windows? Unix/Linux?"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1459852092, "post_id": 36423565, "comment_id": 60461738, "body": "Removing the carriage returns when you actually read the data file would probably make more sense."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1459853363, "last_edit_date": 1459853363, "creation_date": 1459851525, "answer_id": 36423565, "question_id": 36423356, "link": "https://stackoverflow.com/questions/36423356/how-to-remove-m-character-from-file-which-is-generated-on-fly-using-perl-script/36423565#36423565", "title": "How to remove ^M character from file which is generated on Fly using Perl Script", "body": "<p>You can't nest double quotes inside doublequote. Use single quotes instead one of them.</p>\n\n<p>If you're calling it from Perl, use single quotes for the outer ones, otherwise Perl will interpolate the <code>\\r</code> and <code>\\n</code>. Or, replace it with code that does the same directly without calling Perl again. The best place to remove them would be the same where you read the file.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1459852941, "creation_date": 1459852941, "answer_id": 36424123, "question_id": 36423356, "link": "https://stackoverflow.com/questions/36423356/how-to-remove-m-character-from-file-which-is-generated-on-fly-using-perl-script/36424123#36424123", "title": "How to remove ^M character from file which is generated on Fly using Perl Script", "body": "<p>Presumably <code>OptionFile.txt</code> has been created on a Windows system? Rather than using a <code>system</code> call to edit the file in place before opening it, it is probably better to handle this when you read from the file</p>\n\n<p>If you write</p>\n\n<pre><code>open my $fh, '&lt;:crlf', 'OptionFile.txt' or die $!;\n</code></pre>\n\n<p>then the CR (control-M) characters will be removed by Perl on input</p>\n\n<p>Alternatively, if you already have a <code>chomp</code> in your read loop then you can replace that with <code>s/\\R\\z//</code>. <code>\\R</code> matches any standard line ending, and so will strip the trailing CR LF from a Windows file</p>\n"}], "owner": {"reputation": 51, "user_id": 774012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d86ca91168a3a7b388154b79f44ad90?s=128&d=identicon&r=PG", "display_name": "prasadbhagwat", "link": "https://stackoverflow.com/users/774012/prasadbhagwat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1459853363, "creation_date": 1459851001, "last_edit_date": 1459852037, "question_id": 36423356, "link": "https://stackoverflow.com/questions/36423356/how-to-remove-m-character-from-file-which-is-generated-on-fly-using-perl-script", "title": "How to remove ^M character from file which is generated on Fly using Perl Script", "body": "<p>I am creating normal txt file on the basis of provided configuration so when I am trying to remove Control M from file it is giving me error as</p>\n\n<pre><code>syntax error at CreateConfig.pl line 141`, near `perl -p -i -e \"s/\\r\\n/\\n/g`\nExecution of `CreateConfig.pl` aborted due to compilation errors.\n</code></pre>\n\n<p>Code line: </p>\n\n<pre><code>system(\"perl -p -i -e \"s/\\r\\n/\\n/g\" OptionFile.txt\");\n</code></pre>\n\n<p>Can anyone has any suggestion for same?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1459857047, "post_id": 36422034, "comment_id": 60465359, "body": "While this code may answer the question, providing additional context regarding <i>why</i> and/or <i>how</i> it answers the question would significantly improve its long-term value.  Please <a href=\"https://stackoverflow.com/posts/36422034/edit\">edit</a> your answer to add some explanation."}], "tags": [], "owner": {"reputation": 40, "user_id": 4554926, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uVUINGNmQkE/AAAAAAAAAAI/AAAAAAAAAdI/JXsdZ31X4_M/photo.jpg?sz=128", "display_name": "mukesh bhoj", "link": "https://stackoverflow.com/users/4554926/mukesh-bhoj"}, "is_accepted": false, "score": 0, "last_activity_date": 1459847771, "creation_date": 1459847771, "answer_id": 36422034, "question_id": 36421736, "link": "https://stackoverflow.com/questions/36421736/regular-expression-for-capturing-values-perl/36422034#36422034", "title": "Regular expression for capturing values - Perl", "body": "<p>You can try this.</p>\n\n<pre><code>if($line =~ /ADDR1:\\s*(.*)/i){\n.....\n}\nelsif($line =~ /ADDR0:\\s*(.*)/i){\n.....\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40, "user_id": 4554926, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uVUINGNmQkE/AAAAAAAAAAI/AAAAAAAAAdI/JXsdZ31X4_M/photo.jpg?sz=128", "display_name": "mukesh bhoj", "link": "https://stackoverflow.com/users/4554926/mukesh-bhoj"}, "is_accepted": true, "score": 1, "last_activity_date": 1459848032, "creation_date": 1459848032, "answer_id": 36422132, "question_id": 36421736, "link": "https://stackoverflow.com/questions/36421736/regular-expression-for-capturing-values-perl/36422132#36422132", "title": "Regular expression for capturing values - Perl", "body": "<p>Please try this, It will make fetching fully dynamic.</p>\n\n<pre><code>while (defined(my $line = &lt;$fh&gt;)) {\n      if($line =~ /(PCNOC\\_.*?\\d+)\\s*(\\w+):\\s*(.*)/i){\n            print \"$1 ==&gt; $2 ==&gt; $3\\n\";\n      }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1459855441, "creation_date": 1459855441, "answer_id": 36425009, "question_id": 36421736, "link": "https://stackoverflow.com/questions/36421736/regular-expression-for-capturing-values-perl/36425009#36425009", "title": "Regular expression for capturing values - Perl", "body": "<pre><code>/ADDR0\\w\\s*(.+?\\W+)/i\n      ^^\n</code></pre>\n\n<p>This fails to match because <code>:</code> is not a word char. Fix:</p>\n\n<pre><code>/ADDR0:\\s*(.*)/\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 3688062, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a1797caf8db7f4e04f3e8889cf1971ce?s=128&d=identicon&r=PG&f=1", "display_name": "user3688062", "link": "https://stackoverflow.com/users/3688062/user3688062"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 36422132, "answer_count": 3, "score": -1, "last_activity_date": 1459855441, "creation_date": 1459847018, "last_edit_date": 1459854463, "question_id": 36421736, "link": "https://stackoverflow.com/questions/36421736/regular-expression-for-capturing-values-perl", "title": "Regular expression for capturing values - Perl", "body": "<p>I am writing a parser that will capture the value from text file. Apart from two values I am able to capture all values.</p>\n\n<p>Can some one help me out to get those two values as well?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>use warnings;\n\nopen( my $fh, \"&lt;\", \"$tZPath\\\\Diag.txt\" ) || print \"can't open file filename : $!\\n\";\n\nmy ( $aBT_Slave, $iD, $hready, $address );\n\nwhile ( defined( my $line = &lt;$fh&gt; ) ) {\n\n    if ( $line =~ /ID\\:\\s*(.+?\\W+)/i ) {\n        $iD = $1;\n        print \" Id -&gt; $iD \\n\";\n    }\n    elsif ( $line =~ /HREADY\\:\\s*(.+?\\W+)/i ) {\n        $hready = $1;\n        print \" hready -&gt; $hready \\n\";\n    }\n    elsif ( $line =~ /ADDR0\\w\\s*(.+?\\W+)/i ) {\n        $address = $1;\n        print \" address -&gt; $address \\n\";\n    }\n    elsif ( $line =~ /PCNOC\\_(.*?\\d+)/i ) {\n        $aBT_Slave = \"PCNOC_\" . $1;\n        print \" aBT_Slave -&gt; $aBT_Slave \\n\";\n    }\n}\n</code></pre>\n\n<p>Log file content:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ABT PCNOC_9 ID: 0x0000430c\nABT PCNOC_9 ADDR0: 0x000000e0\nABT PCNOC_9 ADDR1: 0x00000000\nABT PCNOC_9 HREADY: 0xfffffffd\nABT PCNOC_9 Slaves: 5\nFatal Error: AHB_TIMEOUT\n</code></pre>\n\n<p>Can anyone please help me out to get the <code>ADDR0</code> value and <code>PCNOC_9</code> from the log?\nPlease let me know if have kept unclear expiation here.</p>\n"}, {"tags": ["regex", "perl", "alternation"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1459843696, "post_id": 36420517, "comment_id": 60455693, "body": "No, do not omit language tag, it is crucial."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1459843763, "post_id": 36420517, "comment_id": 60455748, "body": "@WiktorStribi\u017cew Why is that, if this question concerns all types of regex?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 6, "creation_date": 1459843822, "post_id": 36420517, "comment_id": 60455782, "body": "Regex implementations across languages are VERY different. Using lazy dot matching in .NET and PCRE will lead to different amount of performance drop. Lookbehinds with limiting quantifiers in Java and .NET differ in the way the string and pattern are analyzed. So, you need Perl experts&#39; advice."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1459843854, "post_id": 36420517, "comment_id": 60455806, "body": "Thanks for the explanation."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1459847289, "post_id": 36420517, "comment_id": 60458149, "body": "It does in fact depend on data <i>a lot</i>.  I think that it may be fair to say that in general you cannot make a call.  Extreme examples. If the pattern has a lot of fixed strings it may be able to match an alternation in one pass, or at least in not many.  If you have fixed patterns at start and end separate ones are better. If the pattern is complicated  when you break it up you may be able to rewrite the (sub)patterns so to minimize backtracking (the performance killer).  If you can narrow down your data spec that&#39;d be different.  But those micro-optimizations are costly, of course."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460581947, "post_id": 36420517, "comment_id": 60815962, "body": "Your combined regex is not equivalent: the original code turns <code>foo&#47;bar.shtml</code> into <code>bar</code>; your version turns it into <code>bar.shtml</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1460671540, "post_id": 36420517, "comment_id": 60864821, "body": "In general I&#39;m going to say that it&#39;s faster to prioritize the expressions in an alternation. The behind the scenes of all replacements are that a new string is created each time a regex is run. Is it faster to create just a single new string or create three new strings? Probably faster to create a single new one. There is also the consideration that by doing it once, the same territory is not rechecked."}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 1, "creation_date": 1459845551, "post_id": 36420724, "comment_id": 60456923, "body": "Not trying to be rude, but this seems more like a comment than an answer to the question whether alternation is faster than following replacements. I know I can test it myself, but I don&#39;t have the time or resources to set up an experiment. I had hoped there was a sort-of clear-cut answer to alternation vs. multiple replacements."}, {"owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 2, "creation_date": 1459856577, "post_id": 36420724, "comment_id": 60464984, "body": "I don\u2019t think you can get a better answer, that\u2019s why I didn\u2019t submit this as a comment. Regex performance is tricky because the regex engine is heavily optimized for various special cases. Trivial changes can often lead to big differences in performance. The general case of the question is almost impossible to answer. As for the time or resources required to set up an experiment, see the timing modules on CPAN, it should be trivial to decide your particular case."}], "tags": [], "owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "is_accepted": false, "score": 1, "last_activity_date": 1459844158, "creation_date": 1459844158, "answer_id": 36420724, "question_id": 36420517, "link": "https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi/36420724#36420724", "title": "Is it faster to use alternation than subsequent replacements in regular expressions", "body": "<p>First, measure the various options on your real data, because no amount of theory will beat an experiment (if one can be done). There are many timing modules on CPAN that will help you.</p>\n\n<p>Second, if you decide to optimize the regexes, do not squish them into one giant monster by hand, try to assemble the \u201cmaster\u201d regex with code. Otherwise no-one will be able to decipher the code.</p>\n"}, {"tags": [], "owner": {"reputation": 40, "user_id": 4554926, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uVUINGNmQkE/AAAAAAAAAAI/AAAAAAAAAdI/JXsdZ31X4_M/photo.jpg?sz=128", "display_name": "mukesh bhoj", "link": "https://stackoverflow.com/users/4554926/mukesh-bhoj"}, "is_accepted": false, "score": -2, "last_activity_date": 1460640398, "last_edit_date": 1460640398, "creation_date": 1459848571, "answer_id": 36422323, "question_id": 36420517, "link": "https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi/36422323#36422323", "title": "Is it faster to use alternation than subsequent replacements in regular expressions", "body": "<p>Second method is best in which you put first and second regex together with alternation.\nBecause in that method the perl do traverse once, and check both the expressions.</p>\n\n<p>If you use first method in which perl have to traverse separate for both expressions.</p>\n\n<p>Hence Number of loops decreased in Second method.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1460578515, "post_id": 36608603, "comment_id": 60814114, "body": "The optimizer kicks in for both <code>$string=~s&#47;^.+\\&#47;&#47;&#47;;</code> and <code>$string=~s&#47;\\.shtml&#47;&#47;;</code> and bails out immediately if <code>$string</code> contains no slashes or no <code>.shtml</code>, respectively. This is fast because execution never even makes it into the full regex engine."}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 3, "last_activity_date": 1460578203, "last_edit_date": 1495541773, "creation_date": 1460578203, "answer_id": 36608603, "question_id": 36420517, "link": "https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi/36608603#36608603", "title": "Is it faster to use alternation than subsequent replacements in regular expressions", "body": "<p>How regex alternation is implemented in Perl is fairly well explained in <a href=\"http://perldoc.perl.org/perlretut.html#Matching-this-or-that\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a></p>\n\n<blockquote>\n  <p><strong><em>Matching this or that</em></strong></p>\n  \n  <p>We can match different character strings with the alternation\n  metacharacter <code>'|'</code> . To match <code>dog</code> or <code>cat</code> , we form the regex <code>dog|cat</code> .\n  As before, Perl will try to match the regex at the earliest possible\n  point in the string. At each character position, Perl will first try\n  to match the first alternative, <code>dog</code> . If <code>dog</code> doesn't match, Perl will\n  then try the next alternative, <code>cat</code> . If <code>cat</code> doesn't match either, then\n  the match fails and Perl moves to the next position in the string.\n  Some examples:</p>\n\n<pre><code>\"cats and dogs\" =~ /cat|dog|bird/;  # matches \"cat\"\n\"cats and dogs\" =~ /dog|cat|bird/;  # matches \"cat\" \n</code></pre>\n  \n  <p>Even though <code>dog</code> is the first alternative in the second regex, <code>cat</code> is able to match\n  earlier in the string.</p>\n\n<pre><code>\"cats\"          =~ /c|ca|cat|cats/; # matches \"c\"\n\"cats\"          =~ /cats|cat|ca|c/; # matches \"cats\" \n</code></pre>\n  \n  <p>Here, all the alternatives match at the first string position, so the\n  first alternative is the one that matches. If some of the alternatives\n  are truncations of the others, put the longest ones first to give them\n  a chance to match.</p>\n\n<pre><code>\"cab\" =~ /a|b|c/ # matches \"c\"\n                 # /a|b|c/ == /[abc]/ \n</code></pre>\n  \n  <p>The last example points out \n  that character classes are like alternations of characters. At a given\n  character position, the first alternative that allows the regexp match\n  to succeed will be the one that matches.</p>\n</blockquote>\n\n<p>So this should explain the <em>price</em> you pay when using alternations in regex.</p>\n\n<p>When putting simple regex together, you don't pay such a price. It's well explained in another related <a href=\"https://stackoverflow.com/questions/22132450/why-is-a-character-class-faster-than-alternation\">question</a> in SO. When directly searching for a constant string, or a set of characters as in the question, optimizations can be done and no backtracking is needed which means potentially faster code.</p>\n\n<p>When defining the regex alternations, just choosing a <em>good</em> order (putting the most common findings first) can influence the performance. It is not the same either to choose between two options, or twenty. As always, <em>premature optimization is the root of all evil</em> and you should <em>instrumentiate</em> you code (<a href=\"http://search.cpan.org/~timb/Devel-NYTProf-6.03/lib/Devel/NYTProf.pm\" rel=\"nofollow noreferrer\">Devel::NYTProf</a>) if there are problems or you want improvements. But as a general rule alternations should be kept to a minimum and avoided if possible since:</p>\n\n<ul>\n<li>They easily make the regex too big an complex. We like simple, easy to understand / debug / maintain regex.</li>\n<li>Variability and input dependant. They could be an unexpected source of problems since they <strong>backtrack</strong> and can lead to unexpected lack of performance depending on your input. As I understand, there's no case when they will be faster.</li>\n<li>Conceptually you are trying to match two different things, so we could argue that two different statements are more correct and clear than just one.</li>\n</ul>\n\n<p>Hope this answer gets closer to what you were expecting.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 10, "last_activity_date": 1460589255, "last_edit_date": 1592644375, "creation_date": 1460588739, "answer_id": 36611087, "question_id": 36420517, "link": "https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi/36611087#36611087", "title": "Is it faster to use alternation than subsequent replacements in regular expressions", "body": "<h2>Your expressions are not equivalent</h2>\n<p>This:</p>\n<pre><code>$string=~s/^.+\\///;\n$string=~s/\\.shtml//;\n</code></pre>\n<p>replaces the text <code>.shtml</code> <em>and</em> everything up to and including the last slash.</p>\n<p>This:</p>\n<pre><code>$string=~s/(^.+\\/|\\.shtml)//;\n</code></pre>\n<p>replaces <em>either</em> the text <code>.shtml</code> <em>or</em> everything up to and including the last slash.</p>\n<p>This is one problem with combining regexes: a single complex regex is harder to write, harder to understand, and harder to debug than several simple ones.</p>\n<h2>It probably doesn't matter which is faster</h2>\n<p>Even if your expressions <em>were</em> equivalent, using one or the other probably wouldn't have a significant impact on your program's speed. In-memory operations like <code>s///</code> are significantly faster than file I/O, and you've indicated that you're doing a lot of file I/O.</p>\n<p>You should profile your application with something like <a href=\"https://metacpan.org/pod/Devel::NYTProf\" rel=\"noreferrer\">Devel::NYTProf</a> to see if these particular substitutions are actually a bottleneck (I doubt they are). Don't waste your time optimizing things that are already fast.</p>\n<h2>Alternations hinder the optimizer</h2>\n<p>Keep in mind that you're comparing apples and oranges, but if you're still curious about performance, you can see how perl evaluates a particular regex using the <a href=\"http://perldoc.perl.org/re.html#%27debug%27-mode\" rel=\"noreferrer\"><code>re</code> pragma</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -Mre=debug -e'$_ = &quot;foobar&quot;; s/^.+\\///; s/\\.shtml//;'\n...\nGuessing start of match in sv for REx &quot;^.+/&quot; against &quot;foobar&quot;\nDid not find floating substr &quot;/&quot;...\nMatch rejected by optimizer\nGuessing start of match in sv for REx &quot;\\.shtml&quot; against &quot;foobar&quot;\nDid not find anchored substr &quot;.shtml&quot;...\nMatch rejected by optimizer\nFreeing REx: &quot;^.+/&quot;\nFreeing REx: &quot;\\.shtml&quot;\n</code></pre>\n<p>The regex engine has an optimizer. The optimizer searches for substrings that <em>must</em> appear in the target string; if these substrings can't be found, the match fails immediately, without checking the other parts of the regex.</p>\n<p>With <code>/^.+\\//</code>, the optimizer knows that <code>$string</code> must contain at least one slash in order to match; when it finds no slashes, it rejects the match immediately without invoking the full regex engine. A similar optimization occurs with <code>/\\.shtml/</code>.</p>\n<p>Here's what perl does with the combined regex:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -Mre=debug -e'$_ = &quot;foobar&quot;; s/(?:^.+\\/|\\.shtml)//;'\n...\nMatching REx &quot;(?:^.+/|\\.shtml)&quot; against &quot;foobar&quot;\n   0 &lt;&gt; &lt;foobar&gt;             |  1:BRANCH(7)\n   0 &lt;&gt; &lt;foobar&gt;             |  2:  BOL(3)\n   0 &lt;&gt; &lt;foobar&gt;             |  3:  PLUS(5)\n                                    REG_ANY can match 6 times out of 2147483647...\n                                    failed...\n   0 &lt;&gt; &lt;foobar&gt;             |  7:BRANCH(11)\n   0 &lt;&gt; &lt;foobar&gt;             |  8:  EXACT &lt;.shtml&gt;(12)\n                                    failed...\n                                  BRANCH failed...\n   1 &lt;f&gt; &lt;oobar&gt;             |  1:BRANCH(7)\n   1 &lt;f&gt; &lt;oobar&gt;             |  2:  BOL(3)\n                                    failed...\n   1 &lt;f&gt; &lt;oobar&gt;             |  7:BRANCH(11)\n   1 &lt;f&gt; &lt;oobar&gt;             |  8:  EXACT &lt;.shtml&gt;(12)\n                                    failed...\n                                  BRANCH failed...\n   2 &lt;fo&gt; &lt;obar&gt;             |  1:BRANCH(7)\n   2 &lt;fo&gt; &lt;obar&gt;             |  2:  BOL(3)\n                                    failed...\n   2 &lt;fo&gt; &lt;obar&gt;             |  7:BRANCH(11)\n   2 &lt;fo&gt; &lt;obar&gt;             |  8:  EXACT &lt;.shtml&gt;(12)\n                                    failed...\n                                  BRANCH failed...\n   3 &lt;foo&gt; &lt;bar&gt;             |  1:BRANCH(7)\n   3 &lt;foo&gt; &lt;bar&gt;             |  2:  BOL(3)\n                                    failed...\n   3 &lt;foo&gt; &lt;bar&gt;             |  7:BRANCH(11)\n   3 &lt;foo&gt; &lt;bar&gt;             |  8:  EXACT &lt;.shtml&gt;(12)\n                                    failed...\n                                  BRANCH failed...\n   4 &lt;foob&gt; &lt;ar&gt;             |  1:BRANCH(7)\n   4 &lt;foob&gt; &lt;ar&gt;             |  2:  BOL(3)\n                                    failed...\n   4 &lt;foob&gt; &lt;ar&gt;             |  7:BRANCH(11)\n   4 &lt;foob&gt; &lt;ar&gt;             |  8:  EXACT &lt;.shtml&gt;(12)\n                                    failed...\n                                  BRANCH failed...\n   5 &lt;fooba&gt; &lt;r&gt;             |  1:BRANCH(7)\n   5 &lt;fooba&gt; &lt;r&gt;             |  2:  BOL(3)\n                                    failed...\n   5 &lt;fooba&gt; &lt;r&gt;             |  7:BRANCH(11)\n   5 &lt;fooba&gt; &lt;r&gt;             |  8:  EXACT &lt;.shtml&gt;(12)\n                                    failed...\n                                  BRANCH failed...\nMatch failed\nFreeing REx: &quot;(?:^.+/|\\.shtml)&quot;\n</code></pre>\n<p>Notice how much longer the output is. Because of the alternation, the optimizer doesn't kick in and the full regex engine is executed. In the worst case (no matches), each part of the alternation is tested against each character in the string. This is not very efficient.</p>\n<p>So, alternations are slower, right? No, because...</p>\n<h2>It depends on your data</h2>\n<p>Again, we're comparing apples and oranges, but with:</p>\n<pre><code>$string = 'a/really_long_string';\n</code></pre>\n<p>the combined regex may actually be faster because with <code>s/\\.shtml//</code>, the optimizer has to scan most of the string before rejecting the match, while the combined regex matches quickly.</p>\n<p>You can <a href=\"http://perldoc.perl.org/Benchmark.html\" rel=\"noreferrer\">benchmark</a> this for fun, but it's essentially meaningless since you're comparing different things.</p>\n"}, {"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1460659814, "post_id": 36630254, "comment_id": 60858476, "body": "From <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>perlop</code></a>: <code>The bottom line is that using &#47;o is almost never a good idea.</code> From <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a>: <code>o  - pretend to optimize your code, but actually introduce bugs</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460661904, "post_id": 36630254, "comment_id": 60859672, "body": "In Perl 5.6+, <code>&#47;$query&#47;</code> is only re-compiled if <code>$query</code> changes, so the &#39;o&#39; modifier is unnecessary (and introduces side effects). This happens even without using <code>qr</code>."}, {"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460662473, "post_id": 36630254, "comment_id": 60860013, "body": "@ThisSuitIsBlackNot I removed the <code>o</code> modifier part. I mention precompiling, instead. In many flavors, precompiling WILL have a definite benefit. In this case, precompiling will either do nothing, or provide a benefit, so it&#39;s probably worth doing because it&#39;s so easy to add."}], "tags": [], "owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "is_accepted": false, "score": 1, "last_activity_date": 1460661494, "last_edit_date": 1460661494, "creation_date": 1460655596, "answer_id": 36630254, "question_id": 36420517, "link": "https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi/36630254#36630254", "title": "Is it faster to use alternation than subsequent replacements in regular expressions", "body": "<h1>Combination is not your best option</h1>\n\n<p>If you have three regexes that work perfectly well, there's no benefit to combine them. Not only does rewriting them open the door for bugs, it makes it harder for both programmer and engine to read the regex.</p>\n\n<p><a href=\"http://docstore.mik.ua/orelly/linux/cgi/ch17_01.htm\" rel=\"nofollow\">This page</a> suggests that instead alteration like:</p>\n\n<pre><code>while (&lt;FILE&gt;) {\n    next if (/^(?:select|update|drop|insert|alter)\\b/);     \n    ...  \n}\n</code></pre>\n\n<p>You should use:</p>\n\n<pre><code>while (&lt;FILE&gt;) {\n    next if (/^select/);\n    next if (/^update/);\n    ...\n}\n</code></pre>\n\n<h1>You can further optimize your regexes</h1>\n\n<p>You can use regex objects, which will ensure that your regex is not being recompiled in a loop:</p>\n\n<pre><code>my $query = qr/foo$bar/; #compiles here\n@matches = (  );\n...\nwhile (&lt;FILE&gt;) {\n    push @matches, $_ if /$query/i;\n}\n</code></pre>\n\n<p>You may also be able to optimize the <code>.+</code>. It will eat up the entire file, and then has to backtrack character by character until it finds a <code>/</code> so it can match. If there is only one <code>/</code> per file, try a negated character class like: <code>[^/]</code> (escaped: <code>[^\\/]</code>). Where do you expect to find the <code>/</code> in your file? Knowing that will allow your regex to become faster.</p>\n\n<h1>The speed of replacement depends on other factors</h1>\n\n<p>If you have performance issues (currently, with the 3 regexes), it could be a different part of your program. While the processing speed of computers has grown exponentially, read and write speed has experienced little growth.</p>\n\n<h1>There may be faster engines for search and replacing text in a file</h1>\n\n<p>Perl uses NFA, which is slower yet more powerful than the DFA engine sed has. NFA backtracks (especially with alterations) and has a worst-case exponential run time. DFA has linear execution time. Your patterns do not need an NFA engine, so you can use your regexes in a DFA engine, like sed, very easily.</p>\n\n<p>According to <a href=\"https://davidlyness.com/post/the-functional-and-performance-differences-of-sed-awk-and-other-unix-parsing-utilities\" rel=\"nofollow\">here</a> sed can do search and replace at a speed of <strong>82.1 million</strong> characters processed per second (note that this test was writing to <code>/dev/null</code>, so hard disk write speed wasn't really a factor).</p>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1460803820, "creation_date": 1460803820, "answer_id": 36663147, "question_id": 36420517, "link": "https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi/36663147#36663147", "title": "Is it faster to use alternation than subsequent replacements in regular expressions", "body": "<p>A bit off topic maybe, but if the actual replacements are rare, relative to number of comapares (10%-20%?), you may gain some speed with using an index match first</p>\n\n<pre><code>$string=~s/\\.shtml//\n    if index($string, \".shtml\");\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 2, "accepted_answer_id": 36611087, "answer_count": 6, "score": 6, "last_activity_date": 1460803820, "creation_date": 1459843560, "last_edit_date": 1460565623, "question_id": 36420517, "link": "https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi", "title": "Is it faster to use alternation than subsequent replacements in regular expressions", "body": "<p>I have quite a straightforward question. Where I work I see a lot of regular expressions come by. They are used in Perl to get replace and/or get rid of some strings in text, e.g.:</p>\n\n<pre><code>$string=~s/^.+\\///;\n$string=~s/\\.shtml//;\n$string=~s/^ph//;\n</code></pre>\n\n<p>I understand that you cannot concatenate the first and last replacement, because you may only want to replace <code>ph</code> at the beginning of the string after you did the first replacement. However, I would put the first and second regex together with alternation: <code>$string=~s/(^.+\\/|\\.shtml)//;</code> Because we're processing thousands of files (+500,000) I was wondering which method is the most efficient.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459842205, "post_id": 36419772, "comment_id": 60454746, "body": "I like your example animal. :)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1459841990, "creation_date": 1459841990, "answer_id": 36420012, "question_id": 36419772, "link": "https://stackoverflow.com/questions/36419772/why-naked-block-can-not-access-out-scope-variable-and-function-if-packaged/36420012#36420012", "title": "why naked block can not access out scope variable and function if packaged?", "body": "<p>You are changing the package (or namespace) inside of your block. Each block in Perl creates a <em>scope</em>, and you can have scoped <code>package</code> changes.</p>\n\n<p>At the beginning of your program, you are in the <code>main</code> package. You are <code>use</code>ing Test::More in that package, so the <code>is</code> function gets <em>imported</em> into that package. That means, there is now a <code>&amp;main::is</code>, which points to <code>&amp;Test::More::is</code>.</p>\n\n<p>Once you switch the package, Test::More has still been loaded, but the <code>is</code> function is not imported into the new package. That's why it complains that it cannot find <code>&amp;Foofle::is</code>.</p>\n\n<p><strong>So it's really about the</strong> <code>package</code>, <strong>not the block.</strong></p>\n\n<p>Further reading: <a href=\"http://perldoc.perl.org/perlmod.html#Packages\" rel=\"nofollow\">perlmod</a> and <a href=\"http://perldoc.perl.org/functions/package.html\" rel=\"nofollow\"><code>package</code> in perldoc</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "is_accepted": true, "score": 5, "last_activity_date": 1459842090, "creation_date": 1459842090, "answer_id": 36420042, "question_id": 36419772, "link": "https://stackoverflow.com/questions/36419772/why-naked-block-can-not-access-out-scope-variable-and-function-if-packaged/36420042#36420042", "title": "why naked block can not access out scope variable and function if packaged?", "body": "<p>Your <code>use Test::More</code> call imports the identifier <code>is</code> into the current package. In your first implementation, that means importing <code>is</code> into the package of your script, which is probably the <code>main</code> package. After that, every time you use <code>is</code> in the <code>main</code> package, Perl knows it should invoke <code>Test::More::is</code>.</p>\n\n<p>Now, <code>is</code> stops being a synonym of <code>Test::More::is</code> as soon as you switch to a different package. In fact, you can try this: call <code>is()</code> in your naked block, but <em>before</em> you declare <code>package Foofle</code>. It should work just fine. It's not the naked block that is to blame; it's the fact that you're now in a different package.</p>\n\n<p>One option is to <code>use Test::More</code> in your <code>Foofle</code> package as well, as you've tried already. The other is to use your original implementation, but invoke <code>is</code> with the fully qualified name: <code>Test::More::is(Foofle-&gt;speak, \"...\", \"...\");</code>.</p>\n"}], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 36420042, "answer_count": 2, "score": 1, "last_activity_date": 1459842090, "creation_date": 1459841251, "question_id": 36419772, "link": "https://stackoverflow.com/questions/36419772/why-naked-block-can-not-access-out-scope-variable-and-function-if-packaged", "title": "why naked block can not access out scope variable and function if packaged?", "body": "<p>I want to define a class and test with <code>is</code> in naked block like this:</p>\n\n<pre><code>use Test::More tests =&gt; 1;\n\n{\n    package Foofle;\n    use parent qw(Animal);\n    sub sound { 'foof' }\n\n    is(\n        Foofle-&gt;speak,\n        \"A Foofle goes foof!\\n\",\n        \"An Animal subclass does the right thing\"\n    );\n}\n</code></pre>\n\n<p>I got error <code>Undefined subroutine &amp;Foofle::is called at t/Animal.t</code>, so if I add</p>\n\n<pre><code>use Test::More;\n</code></pre>\n\n<p>in naked block, then it runs ok.</p>\n\n<p>Or I move <code>is</code> outside of naked block, </p>\n\n<pre><code>use Test::More tests =&gt; 1;\n\n{\n    package Foofle;\n    use parent qw(Animal);\n    sub sound { 'foof' }\n}\n\nis(\n    Foofle-&gt;speak,\n    \"A Foofle goes foof!\\n\",\n    \"An Animal subclass does the right thing\"\n);\n</code></pre>\n\n<p>it runs ok. But <strong>why naked block can not access out scope variable?</strong></p>\n"}, {"tags": ["perl", "warnings"], "answers": [{"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1459886408, "post_id": 36419820, "comment_id": 60486494, "body": "Although in this case, there isn&#39;t really any benefit to using <code>&#47;&#47;</code> instead of <code>||</code>, since your default value is 0."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1459841390, "creation_date": 1459841390, "answer_id": 36419820, "question_id": 36419659, "link": "https://stackoverflow.com/questions/36419659/use-of-uninitialized-value-in-addition/36419820#36419820", "title": "Use of uninitialized value in addition", "body": "<p>The fix is easy: don't use <code>pairwise</code> on arrays of different lengths. Or, replace the missing values with zeroes:</p>\n\n<pre><code>my @result_list = pairwise { ($a || 0) + ($b || 0) } @list1, @list2;\n</code></pre>\n\n<p>In Perl 5.10+, you can use the \"defined-or\" operator <code>//</code> instead of the \"or\" <code>||</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 6159783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c57a6dee58543cf80a6204e5639eaf?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6159783/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "accepted_answer_id": 36419820, "answer_count": 1, "score": 0, "last_activity_date": 1459841505, "creation_date": 1459840842, "last_edit_date": 1459841505, "question_id": 36419659, "link": "https://stackoverflow.com/questions/36419659/use-of-uninitialized-value-in-addition", "title": "Use of uninitialized value in addition", "body": "<p>The result of the following program gives me a warning.</p>\n\n<blockquote>\n  <p>Use of uninitialized value in addition (+)</p>\n</blockquote>\n\n<p>Why uninitialized \"+\"? How can I fix this?</p>\n\n<pre><code>#/usr/bin/perl -w\nuse List::MoreUtils qw(pairwise);\n\nmy @result_list=();\nmy @list1=qw(1 23 321 11 324);\nmy @list2=qw(23 43 46 45 213 435);\n@result_list=pairwise { $a + $b } @list1,@list2;\nprint \"@list1\\n@list2\\n@result_list\\n\";\n</code></pre>\n"}, {"tags": ["arrays", "perl", "loops", "template-toolkit"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459842717, "post_id": 36419781, "comment_id": 60455084, "body": "It might be useful to add a documentation link."}], "tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": false, "score": 5, "last_activity_date": 1459843029, "last_edit_date": 1459843029, "creation_date": 1459841268, "answer_id": 36419781, "question_id": 36419649, "link": "https://stackoverflow.com/questions/36419649/how-can-i-access-elements-of-an-array-with-template-toolkit/36419781#36419781", "title": "How can I access elements of an array with Template Toolkit?", "body": "<p>You can do it like this:</p>\n\n<pre><code>[% array.0 %]\n</code></pre>\n\n<p>If the index is inside a variable:</p>\n\n<pre><code>[% array.$index %]\n</code></pre>\n\n<p>The documentation can be found at <a href=\"http://www.template-toolkit.org/docs/manual/Variables.html#section_List_References\" rel=\"nofollow\">www.template-toolkit.org/docs/manual/Variables.html#section_List_References</a>.</p>\n"}], "owner": {"reputation": 40, "user_id": 4554926, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uVUINGNmQkE/AAAAAAAAAAI/AAAAAAAAAdI/JXsdZ31X4_M/photo.jpg?sz=128", "display_name": "mukesh bhoj", "link": "https://stackoverflow.com/users/4554926/mukesh-bhoj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459843029, "creation_date": 1459840804, "last_edit_date": 1459842563, "question_id": 36419649, "link": "https://stackoverflow.com/questions/36419649/how-can-i-access-elements-of-an-array-with-template-toolkit", "title": "How can I access elements of an array with Template Toolkit?", "body": "<p>I would like to access element of array directly using template toolkit.</p>\n\n<p>e.g. \nwe can easily do this,</p>\n\n<pre><code>[% FOREACH item IN array %]\n    [% item %]\n[% END %]\n</code></pre>\n\n<p>Can I access directly 0th , 1st, 2nd etc. elements without using any loop?</p>\n\n<p>e.g.</p>\n\n<pre><code>`[% array[0] %]`\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "edited": false, "score": 0, "creation_date": 1459840767, "post_id": 36419290, "comment_id": 60453853, "body": "When you say &quot;XML File : IBN ICICI Bank Ltd ...&quot;, are you saying those are the contents of the file you&#39;re trying to parse? That definitely isn&#39;t valid XML syntax. XML is structured data with a lot of &#39;&lt;&#39; and &#39;&gt;&#39; signs. See example <a href=\"https://msdn.microsoft.com/en-us/library/ms762271(v=vs.85).aspx\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "edited": false, "score": 0, "creation_date": 1459841056, "post_id": 36419290, "comment_id": 60454042, "body": "@sferencik the formatting was broken, there was an empty line missing. I fixed it. Feel free to submit an edit suggestion next time you see something like this. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459841118, "post_id": 36419290, "comment_id": 60454086, "body": "What does your Data::Dumper output say? It looks like you are missing the <code>&lt;companies&gt;</code> in your <code>print</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1459842703, "post_id": 36419290, "comment_id": 60455073, "body": "Have you read STATUS OF THIS MODULE in <a href=\"http://p3rl.org/XML::Simple\" rel=\"nofollow noreferrer\">XML::Simple</a>&#39;s documentation?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1459917601, "post_id": 36419290, "comment_id": 60497424, "body": "I added an explanation of why your XML::Simple code wouldn&#39;t work--if you care to know"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1459976891, "post_id": 36419290, "comment_id": 60536642, "body": "I&#39;ve written a tutorial called <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">XML::LibXML by example</a> which is intended to help people switch from XML::Simple to XML::LibXML - which is a much better module and simpler to use."}], "answers": [{"comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1459886204, "post_id": 36420241, "comment_id": 60486375, "body": "@toolic, How about now?"}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1459934679, "last_edit_date": 1459934679, "creation_date": 1459842729, "answer_id": 36420241, "question_id": 36419290, "link": "https://stackoverflow.com/questions/36419290/trying-to-parse-a-xml-file-in-perl-using-xmlsimple-but-i-am-not-getting-expec/36420241#36420241", "title": "Trying to parse a XML file in perl using XML::Simple. But i am not getting expected result", "body": "<p>XML::Simple</p>\n\n<p>STATUS OF THIS MODULE</p>\n\n<p>The use of this module in new code is discouraged.</p>\n\n<p>In particular, <code>XML::LibXML</code> is highly recommended and <code>XML::Twig</code> is an excellent alternative.</p>\n\n<p><a href=\"http://search.cpan.org/~grantm/XML-Simple-2.22/lib/XML/Simple.pm\" rel=\"nofollow\">http://search.cpan.org/~grantm/XML-Simple-2.22/lib/XML/Simple.pm</a></p>\n\n<hr>\n\n<p>In any case, the problem with your <code>XML::Simple</code> attempt:</p>\n\n<pre><code>$data-&gt;{company}{title}\n</code></pre>\n\n<p>is that <code>$data-&gt;{company}</code> returns an array reference:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse XML::Simple;\nuse Data::Dumper;\n\nmy $xmlfile = 'xml.xml';\nmy $href = XMLin($xmlfile);\nsay Dumper($href);\n\n--output:--\n$VAR1 = {\n          'company' =&gt; [   #&lt;== That means array reference!\n                       {\n                         'industry' =&gt; 'Foreign Regional Banks',\n                         'phonenum' =&gt; ' 91 22 2653 6157',\n                         'trade_time' =&gt; 'Apr 8',\n                         'ret_on_assets' =&gt; '0.74%',\n                         'faxnum' =&gt; ' 91 22 2653 1175',\n                         'website' =&gt; 'http://www.icicibank.com',\n                         'serialno' =&gt; '0',\n                         'mgt_ticker' =&gt; 'IBN',\n                         'title' =&gt; 'ICICI Bank Ltd',\n\n                 ...\n                 ...\n</code></pre>\n\n<p>and you cannot access arrays with <code>{...}</code>, like you did:</p>\n\n<pre><code>     array\n       |\n+--------------+                 \n|              |\n$data-&gt;{company}{title}\n</code></pre>\n\n<p>Instead you have to access arrays with <code>[...]</code>.  The first element of the array is the hash reference, so the hash is at index 0 in the array:</p>\n\n<pre><code>       hash\n        |\n+-----------------+                \n|                 |\n$data-&gt;{company}[0]\n</code></pre>\n\n<p>Now, you can use hash access <code>{...}</code> on that hash to get the <code>title</code>:</p>\n\n<pre><code>       hash\n        |\n+-----------------+                \n|                 |\n$data-&gt;{company}[0]{title}\n\n\nuse strict;\nuse warnings; \nuse 5.020;\nuse XML::Simple;\nuse Data::Dumper;\n\nmy $xmlfile = 'xml.xml';\nmy $href = XMLin($xmlfile);\nsay \"$href-&gt;{company}[0]{title}\";\n\n--output:--\nICICI Bank Ltd\n</code></pre>\n\n<p>Here it is with <code>XML::LibXML</code>:</p>\n\n<p>1)  <code>Using DOM methods</code>:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse XML::LibXML;\nuse Data::Dumper;\n\nmy $xmlfile = \"xml.xml\";\nmy $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_file($xmlfile);\n#say $doc;  #outputs the xml\n\nmy $root = $doc-&gt;getDocumentElement; #=&gt; &lt;companies&gt; tag\nmy @company_tags = $root-&gt;getElementsByTagName('company');\nmy @title_tags = $company_tags[0]-&gt;getElementsByTagName('title');\nsay $title_tags[0]-&gt;textContent();\n\n--output:--\nICICI Bank Ltd\n</code></pre>\n\n<p>2) <code>Using XPaths</code>:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse XML::LibXML;\nuse Data::Dumper;\n\nmy $xmlfile = \"xml.xml\";\nmy $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_file($xmlfile);\n#say $doc;  #outputs the xml\n\nmy $root = $doc-&gt;getDocumentElement; #=&gt; &lt;companies&gt; tag\nmy @titles = $root-&gt;findnodes(\"//company/title\");\nsay $titles[0]-&gt;findnodes(\"./text()\");\n\n--output:--\nICICI Bank Ltd\n</code></pre>\n\n<p>The methods:</p>\n\n<ol>\n<li>findnodes()</li>\n<li>find()</li>\n<li>findvalue()</li>\n</ol>\n\n<p>can be found in the <code>XML::LibXML</code> docs <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0124/lib/XML/LibXML/Node.pod\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1459844620, "last_edit_date": 1495540238, "creation_date": 1459844620, "answer_id": 36420886, "question_id": 36419290, "link": "https://stackoverflow.com/questions/36419290/trying-to-parse-a-xml-file-in-perl-using-xmlsimple-but-i-am-not-getting-expec/36420886#36420886", "title": "Trying to parse a XML file in perl using XML::Simple. But i am not getting expected result", "body": "<p>Please <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">don't use XML::Simple</a>. It lies - it's not Simple at all. </p>\n\n<p>I like <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> as an alternative:</p>\n\n<pre><code>use XML::Twig; \nprint $_ -&gt; text,\"\\n\" for XML::Twig -&gt; parsefile ('sample1.xml') -&gt; get_xpath('//company/title');\n</code></pre>\n\n<p>Will do the trick. </p>\n\n<p>Expanding it out for the sake of clarity:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig; \n\nmy $twig = XML::Twig -&gt; parsefile ( 'sample1.xml' );\n\nforeach my $company ( $twig -&gt; get_xpath('//company') ) {\n    print $company -&gt; first_child('title') -&gt; text,\"\\n\";\n}\n</code></pre>\n\n<p>One of the key advantages of <code>XML::Twig</code> and <code>XML::LibXML</code> is that they support <code>xpath</code> - which is sort of like a regular expression for <code>XML</code>.</p>\n\n<p>But it means you can select your company title by specifying:</p>\n\n<pre><code>//company/title\n/companies/company/title\n</code></pre>\n\n<p><code>//</code> is a wild card 'anywhere in document'. You can also do <code>.//</code> for 'anywhere beneath this element, so something like:</p>\n\n<pre><code>print $company -&gt; get_xpath('.//title',0)-&gt;text,\"\\n\"\n</code></pre>\n\n<p>etc. </p>\n"}], "owner": {"reputation": 15, "user_id": 6154266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991e54e608cb53698626967bd22356de?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav", "link": "https://stackoverflow.com/users/6154266/gourav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 36420886, "answer_count": 2, "score": 0, "last_activity_date": 1459934679, "creation_date": 1459839674, "last_edit_date": 1459841013, "question_id": 36419290, "link": "https://stackoverflow.com/questions/36419290/trying-to-parse-a-xml-file-in-perl-using-xmlsimple-but-i-am-not-getting-expec", "title": "Trying to parse a XML file in perl using XML::Simple. But i am not getting expected result", "body": "<p>XML File :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE companies&gt;\n&lt;companies&gt;\n&lt;company&gt;\n&lt;ticker&gt;IBN&lt;/ticker&gt;\n&lt;title&gt;ICICI Bank Ltd&lt;/title&gt;\n&lt;address&gt;ICICI Bank Ltd.ICICI Bank TowersBandra-kurla Complex,  Mumbai&lt;/address&gt;\n&lt;phonenum&gt; 91 22 2653 6157&lt;/phonenum&gt;\n&lt;faxnum&gt; 91 22 2653 1175&lt;/faxnum&gt;\n&lt;full_time&gt; &lt;/full_time&gt;\n&lt;website&gt;http://www.icicibank.com&lt;/website&gt;\n&lt;sector&gt;Financial&lt;/sector&gt;\n&lt;industry&gt;Foreign Regional Banks&lt;/industry&gt;\n&lt;news&gt;Headlines Financial Blogs Company Events Message Board&lt;/news&gt;\n&lt;sno&gt;0&lt;/sno&gt;\n&lt;fin_ticker&gt;IBN&lt;/fin_ticker&gt;\n&lt;marketcap&gt;24.52B&lt;/marketcap&gt;\n&lt;e_value&gt;24.52B&lt;/e_value&gt;\n&lt;ret_on_assets&gt;0.74%&lt;/ret_on_assets&gt;\n&lt;gross_profit&gt;8.94B&lt;/gross_profit&gt;\n&lt;prof_margin&gt;10.79%&lt;/prof_margin&gt;\n&lt;last_trade&gt;44.05&lt;/last_trade&gt;\n&lt;trade_time&gt;Apr 8&lt;/trade_time&gt;\n&lt;prev_close&gt;44.52&lt;/prev_close&gt;\n&lt;serialno&gt;0&lt;/serialno&gt;\n&lt;mgt_ticker&gt;IBN&lt;/mgt_ticker&gt;\n&lt;/company&gt;\n&lt;company&gt; ... &lt;/company&gt;\n&lt;company&gt; ... &lt;/company&gt;\n&lt;company&gt; ... &lt;/company&gt;\n&lt;company&gt; ... &lt;/company&gt;\n&lt;/companies&gt;\n</code></pre>\n\n<p>Perl Code :</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Simple;\nuse Data::Dumper;\n\nmy $xmlfile = \"sample1.xml\";\nmy $xml = new XML::Simple;\nmy $data = $xml-&gt;XMLin($xmlfile);\n\n#print Dumper($data);\nprint \"$data-&gt;{company}{title}\\n\";\n</code></pre>\n\n<p>Expected Output : ICICI Bank Ltd </p>\n"}, {"tags": ["perl", "swig"], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 4901147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/06754132e91d521dea4e4f1ba54b2c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Harish", "link": "https://stackoverflow.com/users/4901147/harish"}, "is_accepted": false, "score": 0, "last_activity_date": 1459836584, "creation_date": 1459836584, "answer_id": 36418402, "question_id": 36417955, "link": "https://stackoverflow.com/questions/36417955/swig-perl-wrapper-is-not-generating-for-class-member-functions/36418402#36418402", "title": "swig perl wrapper is not generating for class member functions", "body": "<p>even though I don't see a special wrapper for display method, I see something like below generated and it worked when i was trying to access it from perl</p>\n\n<pre><code>*display = *examplec::example_display;\n</code></pre>\n\n<p>my code to access the c++ class objects </p>\n\n<pre><code>use example;\n$myObj =new example::example();\n$myObj-&gt;{member} = 1000;\nprint $myObj-&gt;{member};\nprint \"\\n\";\n$myObj-&gt;display();\nprint \"\\nFinished\";\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4901147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/06754132e91d521dea4e4f1ba54b2c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Harish", "link": "https://stackoverflow.com/users/4901147/harish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459836584, "creation_date": 1459834652, "question_id": 36417955, "link": "https://stackoverflow.com/questions/36417955/swig-perl-wrapper-is-not-generating-for-class-member-functions", "title": "swig perl wrapper is not generating for class member functions", "body": "<p>I have simple c++ class as below\n//example.h</p>\n\n<pre><code>#include&lt;iostream&gt;\nclass example\n{\npublic:\n    int member;\n    void display(){\n        std::cout&lt;&lt;\"Hello from example class\"&lt;&lt;std::endl;\n        }\n};\n</code></pre>\n\n<p>//my example.i file is </p>\n\n<pre><code>%module example\n%{\n#include \"example.h\"\n%}\n%include \"example.h\"\n</code></pre>\n\n<p>after this I am running </p>\n\n<blockquote>\n  <blockquote>\n    <p>pkgs/swig/2.0.8/bin/swig -c++ -perl5 example.i\n    but I don't see a wrapper defined for my display function in .pm module thus generated.\n    any working sample will be of great help.</p>\n  </blockquote>\n</blockquote>\n\n<p>Thanks,\nHarish</p>\n"}, {"tags": ["regex", "string", "perl", "replace"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 0, "creation_date": 1459834262, "post_id": 36417838, "comment_id": 60450582, "body": "Is this position of numbers constant ? I mean after first slash and second slash ?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1459834272, "post_id": 36417838, "comment_id": 60450586, "body": "or regex: <code>^(\\D*\\d+\\D*)\\d+</code> replace with <code>\\12</code>"}, {"owner": {"reputation": 49, "user_id": 2686137, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8280c9fccb420337a941cfcbc9b6ada9?s=128&d=identicon&r=PG", "display_name": "Balaji Karthick", "link": "https://stackoverflow.com/users/2686137/balaji-karthick"}, "edited": false, "score": 0, "creation_date": 1459834280, "post_id": 36417838, "comment_id": 60450590, "body": "Its not specific to 34 it can be any number. I just said an example here as 34"}, {"owner": {"reputation": 49, "user_id": 2686137, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8280c9fccb420337a941cfcbc9b6ada9?s=128&d=identicon&r=PG", "display_name": "Balaji Karthick", "link": "https://stackoverflow.com/users/2686137/balaji-karthick"}, "edited": false, "score": 0, "creation_date": 1459834326, "post_id": 36417838, "comment_id": 60450609, "body": "Yes user(noob) the positions are constant.. like /number/number/word"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "is_accepted": false, "score": 0, "last_activity_date": 1459834473, "creation_date": 1459834473, "answer_id": 36417901, "question_id": 36417838, "link": "https://stackoverflow.com/questions/36417838/i-want-to-replace-the-second-occurrence-of-the-number-in-the-string/36417901#36417901", "title": "I want to replace the second occurrence of the number in the string", "body": "<p>Well if the positions are constant then you can find and replace as follows.</p>\n\n<p><strong>Regex:</strong> <code>(\\.com\\/\\d+)(\\/\\d+)</code></p>\n\n<p><strong>Input string:</strong> <code>www.regexperl.com/1234/34/firstpage/home.php</code></p>\n\n<p><strong>Replacement to do:</strong> Replace with <code>\\1/</code> followed by number of your choice. For example <code>\\1/2</code>.</p>\n\n<p><strong>Output string:</strong> <code>www.regexperl.com/1234/2/firstpage/home.php</code></p>\n\n<p><a href=\"https://regex101.com/r/dB2tR7/1\" rel=\"nofollow\">Regex101 Demo</a> </p>\n"}, {"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 1, "last_activity_date": 1459838852, "creation_date": 1459838852, "answer_id": 36419035, "question_id": 36417838, "link": "https://stackoverflow.com/questions/36417838/i-want-to-replace-the-second-occurrence-of-the-number-in-the-string/36419035#36419035", "title": "I want to replace the second occurrence of the number in the string", "body": "<p>Use <code>\\K</code>.</p>\n\n<pre><code>^.*?\\d+\\b.*?\\K\\d+\n</code></pre>\n\n<p>Replace by <code>your string</code>.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/lW2kK1/1\" rel=\"nofollow\">https://regex101.com/r/lW2kK1/1</a></p>\n"}], "owner": {"reputation": 49, "user_id": 2686137, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8280c9fccb420337a941cfcbc9b6ada9?s=128&d=identicon&r=PG", "display_name": "Balaji Karthick", "link": "https://stackoverflow.com/users/2686137/balaji-karthick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1143, "favorite_count": 0, "accepted_answer_id": 36419035, "answer_count": 2, "score": 2, "last_activity_date": 1459838852, "creation_date": 1459834177, "question_id": 36417838, "link": "https://stackoverflow.com/questions/36417838/i-want-to-replace-the-second-occurrence-of-the-number-in-the-string", "title": "I want to replace the second occurrence of the number in the string", "body": "<p>I have a string say a url like below</p>\n\n<pre><code>\"www.regexperl.com/1234/34/firstpage/home.php\"\n</code></pre>\n\n<p>Now i need to replace the 34 number that is the second occurrence of a number in the string with 2.</p>\n\n<p>The resultant string should be like</p>\n\n<pre><code>\"www.regexperl.com/1234/2/firstpage/home.php\"\n</code></pre>\n\n<p>The challenge I m facing is when i try to store the value 34 and replace it , It is replacing the 34 in the number 1234 and gives the result like below</p>\n\n<pre><code>\"www.regexperl.com/122/34/firstpage/home.php\"\n</code></pre>\n\n<p>Kindly let me know a proper regex to solve the problem.</p>\n"}, {"tags": ["perl", "ssl", "openssl"], "comments": [{"owner": {"reputation": 217804, "user_id": 315935, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2fe88fb2ca8a2047771bde11d39814c?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/315935/oleg"}, "edited": false, "score": 1, "creation_date": 1459833809, "post_id": 36417224, "comment_id": 60450394, "body": "How long is the key of the certificate used for SSL/TLS? The recommended value is 4096 or at least 2048."}, {"owner": {"reputation": 3119, "user_id": 124085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8055fe31a58661e58c1e293f98587f0?s=128&d=identicon&r=PG", "display_name": "jsnfwlr", "link": "https://stackoverflow.com/users/124085/jsnfwlr"}, "reply_to_user": {"reputation": 217804, "user_id": 315935, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2fe88fb2ca8a2047771bde11d39814c?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/315935/oleg"}, "edited": false, "score": 0, "creation_date": 1459833972, "post_id": 36417224, "comment_id": 60450451, "body": "echo | openssl s_client -connect 192.168.1.4:2878 2&gt;/dev/null | openssl x509 -text -noout | grep &quot;Public-Key&quot;  Public-Key: (1024 bit)"}], "answers": [{"comments": [{"owner": {"reputation": 3119, "user_id": 124085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8055fe31a58661e58c1e293f98587f0?s=128&d=identicon&r=PG", "display_name": "jsnfwlr", "link": "https://stackoverflow.com/users/124085/jsnfwlr"}, "edited": false, "score": 0, "creation_date": 1459834744, "post_id": 36417794, "comment_id": 60450770, "body": "I understand that ignoring SSL errors is terrible, the saving grace is it is just for an aircon - the cert doesn&#39;t even really need to be there too, as this is only done over a private in-house network.  Thanks for the pointers though, I will look in to them ASAP."}, {"owner": {"reputation": 3119, "user_id": 124085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8055fe31a58661e58c1e293f98587f0?s=128&d=identicon&r=PG", "display_name": "jsnfwlr", "link": "https://stackoverflow.com/users/124085/jsnfwlr"}, "edited": false, "score": 0, "creation_date": 1459835097, "post_id": 36417794, "comment_id": 60450910, "body": "adding SSL_cipher_list =&gt; &#39;DEFAULT:!DH&#39; to the options worked perfectly."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 15, "last_activity_date": 1459834327, "last_edit_date": 1459834327, "creation_date": 1459833967, "answer_id": 36417794, "question_id": 36417224, "link": "https://stackoverflow.com/questions/36417224/openssl-dh-key-too-small-error/36417794#36417794", "title": "OpenSSL DH Key Too Small Error", "body": "<blockquote>\n<pre><code>... SSL3_CHECK_CERT_AND_ALGORITHM:dh key too small\n</code></pre>\n  \n  <p>I have looked in to using LWP and raw Net:SSLeay, but the problem seems to be in the underlying OpenSSL libs.</p>\n</blockquote>\n\n<p>While it is caused by changes to OpenSSL the problem is actually at the server side. The server is using a weak DH key within the key exchange and recent versions of OpenSSL enforce a non-weak DH key because of the <a href=\"https://weakdh.org/\">Logjam attack</a>.</p>\n\n<p>If the server supports ciphers which don't use DH key exchange you can work around the problem by restricting the ciphers offered by the client so that they don't include any DH ciphers.</p>\n\n<pre><code>my $sock = IO::Socket::SSL-&gt;new(..., SSL_cipher_list =&gt; 'DEFAULT:!DH' ...);\n</code></pre>\n\n<p>Apart from that simply disabling any validation like you do is bad:</p>\n\n<pre><code>    ...\n    verify_hostname =&gt; 0,   \n    SSL_verify_mode =&gt; SSL_VERIFY_NONE,\n    SSL_verifycn_scheme =&gt; undef\n</code></pre>\n\n<p>For one, <code>verify_hostname</code> is not a valid parameter at all (this is for LWP only). Also, you don't need to set a <code>SSL_verifycn_scheme</code> if you disable validation with <code>SSL_verify_mode</code> since no validation also means no validation of the certificates subject.</p>\n\n<p>But much better than disabling validation would be to use <code>SSL_fingerprint</code> to specify which certificate you expect and thus have a proper check even for self-signed or expired certificates. See <a href=\"https://metacpan.org/pod/IO::Socket::SSL#Common-Usage-Errors\">common usage errors</a> in the IO::Socket::SSL documentation for more information.</p>\n"}, {"comments": [{"owner": {"reputation": 1008, "user_id": 5954238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZMll.png?s=128&g=1", "display_name": "hackerb9", "link": "https://stackoverflow.com/users/5954238/hackerb9"}, "edited": false, "score": 1, "creation_date": 1601502481, "post_id": 64076185, "comment_id": 113432262, "body": "While that works, it&#39;d be better to make that change in a separate file, <code>openssl-weak.cnf</code>, and then set then OPENSSL_CONF environment variable just for the programs that are running into this problem."}], "tags": [], "owner": {"reputation": 1129, "user_id": 4477336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed21b77185197f6a351619cefa69ae1?s=128&d=identicon&r=PG", "display_name": "GetoX", "link": "https://stackoverflow.com/users/4477336/getox"}, "is_accepted": false, "score": 2, "last_activity_date": 1601113815, "creation_date": 1601113815, "answer_id": 64076185, "question_id": 36417224, "link": "https://stackoverflow.com/questions/36417224/openssl-dh-key-too-small-error/64076185#64076185", "title": "OpenSSL DH Key Too Small Error", "body": "<p>In my case only solution was to set CipherString in <code>/etc/ssl/openssl.cnf</code>\nfrom</p>\n<pre><code>CipherString = DEFAULT@SECLEVEL=2\n</code></pre>\n<p>to</p>\n<pre><code>CipherString = DEFAULT@SECLEVEL=1\n</code></pre>\n"}], "owner": {"reputation": 3119, "user_id": 124085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8055fe31a58661e58c1e293f98587f0?s=128&d=identicon&r=PG", "display_name": "jsnfwlr", "link": "https://stackoverflow.com/users/124085/jsnfwlr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40491, "favorite_count": 0, "accepted_answer_id": 36417794, "answer_count": 2, "score": 13, "last_activity_date": 1601113815, "creation_date": 1459831062, "question_id": 36417224, "link": "https://stackoverflow.com/questions/36417224/openssl-dh-key-too-small-error", "title": "OpenSSL DH Key Too Small Error", "body": "<p>I am trying to connect to a closed-off server - an air-conditioner - using a simple PERL script</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.10.1;\nuse warnings;\nuse strict;\nuse IO::Socket::SSL;\nuse IO::Socket::SSL qw/debug3/;\nmy $sock = IO::Socket::SSL-&gt;new(\n        PeerHost =&gt; '192.168.1.4',\n        PeerPort =&gt; 2878,\n        verify_hostname =&gt; 0,   \n        SSL_verify_mode =&gt; SSL_VERIFY_NONE,\n        SSL_verifycn_scheme =&gt; undef\n) or die \"failed connect or ssl handshake: $!,$SSL_ERROR\";\nprint \"$sock\\n\";\n</code></pre>\n\n<p>Now, this was all working well and good, then I updated OpenSSL (libssl1.0.0) to be exact, and all hell broke loose:</p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:220: set domain to 2\nDEBUG: .../IO/Socket/SSL.pm:1653: new ctx 1984680\nDEBUG: .../IO/Socket/SSL.pm:363: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:365: socket connected\nDEBUG: .../IO/Socket/SSL.pm:383: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:446: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:1328: SSL connect attempt failed with unknown error error:14082174:SSL routines:SSL3_CHECK_CERT_AND_ALGORITHM:dh key too small\n\nDEBUG: .../IO/Socket/SSL.pm:452: fatal SSL error: SSL connect attempt failed with unknown error error:14082174:SSL routines:SSL3_CHECK_CERT_AND_ALGORITHM:dh key too small\nDEBUG: .../IO/Socket/SSL.pm:1328: IO::Socket::INET6 configuration failed error:00000000:lib(0):func(0):reason(0)\n\nDEBUG: .../IO/Socket/SSL.pm:1690: free ctx 1984680 open=1984680\nDEBUG: .../IO/Socket/SSL.pm:1698: OK free ctx 1984680\nfailed connect or ssl handshake: ,IO::Socket::INET6 configuration failed error:00000000:lib(0):func(0):reason(0) at ./spare line 9.\n</code></pre>\n\n<p>I am happy to use any alternative packages to get around this, but I do need to get around it, as I can't update the certificate on the air-conditioner...</p>\n\n<p>I have looked in to using LWP and raw Net:SSLeay, but the problem seems to be in the underlying OpenSSL libs.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459890601, "post_id": 36416491, "comment_id": 60488954, "body": "If you&#39;re curious (like I was) why the <code>use</code> runs <i>before</i> the rest of the BEGIN block, it&#39;s because the contents of BEGIN blocks are executed after they are <i>completely</i> compiled. The order is: compile <code>my @classes = ...</code>, compile <code>use Test::More</code>, execute <code>use Test::More</code> (since <code>use Test::More</code> is now completely compiled), execute <code>my @classes = ...</code>. You can see this with <code>perl -MO=Concise,BEGIN -e&#39;...&#39;</code>"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459891436, "post_id": 36416491, "comment_id": 60489391, "body": "@ThisSuitIsBlackNot, yes, that&#39;s what I meant by &quot;the <code>BEGIN</code> block has its own compilation phase&quot; and the final code block.  Also, <code>my</code> has both a compile-time and run-time effect.  The compile-time effect is why you don&#39;t get a &quot;Global symbol <code>@classes</code> requires explicit package name&quot; error, but the assignment doesn&#39;t happen until run-time."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 7, "last_activity_date": 1459826571, "last_edit_date": 1459826571, "creation_date": 1459826056, "answer_id": 36416491, "question_id": 36416306, "link": "https://stackoverflow.com/questions/36416306/perl-begin-failed-compilation-because-scalar-list/36416491#36416491", "title": "Perl BEGIN failed compilation because scalar @list", "body": "<p>The idiomatic way to do this would be to use the <code>plan</code> function instead of specifying the number of tests in the <code>use</code> statement:</p>\n\n<pre><code>use Test::More;\nmy @classes = qw(Animal Cow Sheep Horse Mouse);\nplan(tests =&gt; scalar @classes);\n</code></pre>\n\n<p>If you insist on specifying the number of tests in the <code>use</code>, you need either</p>\n\n<pre><code>my @classes;\nBEGIN {\n    @classes = qw(Animal Cow Sheep Horse Mouse);\n}\nuse Test::More tests =&gt; scalar @classes;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>BEGIN {\n    my @classes = qw(Animal Cow Sheep Horse Mouse);\n    require Test::More;\n    Test::More-&gt;import(tests =&gt; scalar @classes);\n}\n</code></pre>\n\n<p>The problem is that <code>use</code> is evaluated at compile-time.  You put it inside a <code>BEGIN</code> block, which is also evaluated at compile-time, but the <code>BEGIN</code> block has its own compilation phase.</p>\n\n<p>Because the <code>use</code> is executed before the rest of the <code>BEGIN</code> block, what you wrote is equivalent to</p>\n\n<pre><code>BEGIN {\n    my @classes;\n    require Test::More;\n    Test::More-&gt;import(tests =&gt; scalar @classes);\n    @classes = qw(Animal Cow Sheep Horse Mouse)\n}\n</code></pre>\n\n<p>That's why it complains about you trying to plan 0 tests.</p>\n"}, {"tags": [], "owner": {"reputation": 1454, "user_id": 210749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49adc5650ebf16dd8c8953c80c88f336?s=128&d=identicon&r=PG", "display_name": "kbenson", "link": "https://stackoverflow.com/users/210749/kbenson"}, "is_accepted": false, "score": 2, "last_activity_date": 1459826200, "creation_date": 1459826200, "answer_id": 36416514, "question_id": 36416306, "link": "https://stackoverflow.com/questions/36416306/perl-begin-failed-compilation-because-scalar-list/36416514#36416514", "title": "Perl BEGIN failed compilation because scalar @list", "body": "<p>This is because <code>use MODULE</code> is exactly equivalent to <code>BEGIN { require Module; Module-&gt;import( LIST ); }</code> (see <code>perldoc -f use</code>).</p>\n\n<p>I suspect the BEGIN within a a BEGIN block is causing the problem, and indeed, replacing the code with</p>\n\n<pre><code>#! perl -T\n\nuse strict;\nuse warnings;\n\nBEGIN {\n    my @classes = qw(Animal Cow Sheep Horse Mouse);\n    require Test::More; Test::More-&gt;import( tests =&gt; scalar @classes );\n}\n</code></pre>\n\n<p>seems work fine.</p>\n"}], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 36416491, "answer_count": 2, "score": 3, "last_activity_date": 1459826571, "creation_date": 1459824782, "last_edit_date": 1459826569, "question_id": 36416306, "link": "https://stackoverflow.com/questions/36416306/perl-begin-failed-compilation-because-scalar-list", "title": "Perl BEGIN failed compilation because scalar @list", "body": "<p>I am new to Perl. I find out that code as follows cannot run:</p>\n\n<pre><code>#! perl -T\n\nuse strict;\nuse warnings;\n\nBEGIN {\n    my @classes = qw(Animal Cow Sheep Horse Mouse);\n    use Test::More tests =&gt; scalar @classes;\n}\n</code></pre>\n\n<p>If I change <code>scalar @classes</code> to <code>5</code>, it is ok. If I change <code>use Test::More tests =&gt; scalar @classes;</code> to <code>print scalar @classes;</code>, it is ok. But when they are together, they are wrong.  Why?</p>\n"}, {"tags": ["regex", "string", "perl", "search", "replace"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 0, "creation_date": 1459820185, "post_id": 36415668, "comment_id": 60446746, "body": "Are there only two _ in string or could be more than two ? Few other examples would be helpful for clarification."}, {"owner": {"reputation": 113, "user_id": 2585000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3453a6e68128a360b1d6cf7168655bd?s=128&d=identicon&r=PG", "display_name": "user2585000", "link": "https://stackoverflow.com/users/2585000/user2585000"}, "edited": false, "score": 0, "creation_date": 1459820355, "post_id": 36415668, "comment_id": 60446799, "body": "thnx for asking. only two underscores total. only the second underscore i need to replace for a colon"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 2585000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3453a6e68128a360b1d6cf7168655bd?s=128&d=identicon&r=PG", "display_name": "user2585000", "link": "https://stackoverflow.com/users/2585000/user2585000"}, "edited": false, "score": 0, "creation_date": 1459821211, "post_id": 36415692, "comment_id": 60447027, "body": "awesome. that above info plus this little snippet made it all clear. thnx much!"}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1459820337, "creation_date": 1459820337, "answer_id": 36415692, "question_id": 36415668, "link": "https://stackoverflow.com/questions/36415668/perl-regex-find-second-underscore-and-replace-with-a-colon-within-a-string/36415692#36415692", "title": "Perl regex: find second underscore and replace with a colon within a string", "body": "<p>You need to put the capture group around the part that you want to keep, not the part you want to replace. Then use <code>$1</code> in the replacement to copy the captured text.</p>\n\n<pre><code>$str =~ s/(.*?_.*?)_/$1:/;\n</code></pre>\n\n<p>And if there are only 2 underscores, you don't need the <code>g</code> modifier, since there's only one replacement being done.</p>\n"}, {"comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1459820413, "post_id": 36415701, "comment_id": 60446818, "body": "What is the second capture group for?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1459820697, "post_id": 36415701, "comment_id": 60446890, "body": "@Barmar: Added the explanation."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1459820759, "post_id": 36415701, "comment_id": 60446905, "body": "I don&#39;t see it. Why do you need a capture group around the underscore? You&#39;re not using <code>\\2</code> anywhere."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1459821015, "post_id": 36415701, "comment_id": 60446972, "body": "@Barmar: Oh yea you are right. That was silly mistake. Initially I thought I might replace it."}, {"owner": {"reputation": 113, "user_id": 2585000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3453a6e68128a360b1d6cf7168655bd?s=128&d=identicon&r=PG", "display_name": "user2585000", "link": "https://stackoverflow.com/users/2585000/user2585000"}, "edited": false, "score": 1, "creation_date": 1459821163, "post_id": 36415701, "comment_id": 60447004, "body": "thnx much for the information. it led me to try something diff. that was it."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "is_accepted": false, "score": 1, "last_activity_date": 1459821501, "last_edit_date": 1459821501, "creation_date": 1459820367, "answer_id": 36415701, "question_id": 36415668, "link": "https://stackoverflow.com/questions/36415668/perl-regex-find-second-underscore-and-replace-with-a-colon-within-a-string/36415701#36415701", "title": "Perl regex: find second underscore and replace with a colon within a string", "body": "<p>You can capture occurrence of <code>first underscore + some string</code> and then <code>second underscore</code> and replace accordingly.</p>\n\n<h2><strong>Solution #1</strong></h2>\n\n<p><strong>Regex:</strong> <code>(_.*?)_</code></p>\n\n<p><strong>Explanation:</strong> </p>\n\n<ul>\n<li><p><code>(_.*)</code> matches the first underscore and some string.</p></li>\n<li><p><code>(_)</code> matches the second underscore.</p></li>\n</ul>\n\n<p><strong>Replacement to do:</strong> Replace with <code>\\1:</code></p>\n\n<p><strong><a href=\"https://regex101.com/r/yI1fF8/5\" rel=\"nofollow\">Regex101 Demo</a></strong></p>\n\n<hr>\n\n<h2><strong>Solution #2</strong></h2>\n\n<p><strong>Regex:</strong> <code>_([^_]*$)</code></p>\n\n<p><strong>Explanation:</strong> As your string have only <strong>two</strong> underscore this regex will capture the <strong>first</strong> one from end of string.</p>\n\n<ul>\n<li><p><code>_</code> matches first underscore from end of string. ( Second from beginning.)</p></li>\n<li><p><code>([^_]*$)</code> matches rest of the string till end.</p></li>\n</ul>\n\n<p><strong>Replacement to do:</strong> Replace with <code>:\\1</code></p>\n\n<p><strong><a href=\"https://regex101.com/r/yI1fF8/2\" rel=\"nofollow\">Regex101 Demo</a></strong></p>\n\n<hr>\n\n<h2><strong>Solution #3</strong></h2>\n\n<p>You can also use <code>positive lookahead</code>. This is a little modification over <code>Solution #2</code>. Only thing you have to do here is lookahead for <code>rest of the string</code> instead of capturing it.</p>\n\n<p><strong>Regex:</strong> <code>_(?=[^_]*$)</code></p>\n\n<p><strong>Explanation:</strong> </p>\n\n<ul>\n<li><code>_</code> matches the underscore after it looksahead that no underscores are present till end of string. Thus mathematically second underscore will be matched.</li>\n</ul>\n\n<p><strong>Replacement to do:</strong> Replace with <code>:</code>.</p>\n\n<p><strong><a href=\"https://regex101.com/r/yI1fF8/7\" rel=\"nofollow\">Regex101 Demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1459823708, "creation_date": 1459823708, "answer_id": 36416142, "question_id": 36415668, "link": "https://stackoverflow.com/questions/36415668/perl-regex-find-second-underscore-and-replace-with-a-colon-within-a-string/36416142#36416142", "title": "Perl regex: find second underscore and replace with a colon within a string", "body": "<p>Don't use the g modifier for only one replacement:</p>\n\n<pre><code>$str =~ s/_[^_]*\\K_/:/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1593, "user_id": 223513, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/22c5cd604cac95f2eeea6b40a4941244?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/223513/stuart"}, "edited": false, "score": 0, "creation_date": 1613787923, "post_id": 36416223, "comment_id": 117192134, "body": "Thank you, this answer is helpful for me :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1459824184, "creation_date": 1459824184, "answer_id": 36416223, "question_id": 36415668, "link": "https://stackoverflow.com/questions/36415668/perl-regex-find-second-underscore-and-replace-with-a-colon-within-a-string/36416223#36416223", "title": "Perl regex: find second underscore and replace with a colon within a string", "body": "<p>All you need is</p>\n\n<pre><code>$str =~ s/.*\\K_/:/;\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 2585000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3453a6e68128a360b1d6cf7168655bd?s=128&d=identicon&r=PG", "display_name": "user2585000", "link": "https://stackoverflow.com/users/2585000/user2585000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 36415692, "answer_count": 4, "score": 1, "last_activity_date": 1464844015, "creation_date": 1459820109, "last_edit_date": 1464844015, "question_id": 36415668, "link": "https://stackoverflow.com/questions/36415668/perl-regex-find-second-underscore-and-replace-with-a-colon-within-a-string", "title": "Perl regex: find second underscore and replace with a colon within a string", "body": "<p>I seek your wisdom on this regex that's driving me crazy.</p>\n\n<p>I want to replace the second underscore with a colon. That's it.</p>\n\n<p>So far:</p>\n\n<pre><code>    my $str = \"bythepower_of_grayskull\";\n    $str =~ s/.*?_.*?(_)/:/g;\n    print \"$str\\n\";\n</code></pre>\n\n<p>Current output: <code>:grayskull</code></p>\n\n<p>Desired output: <code>bythepower_of:grayskull</code></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1459816044, "post_id": 36413903, "comment_id": 60445641, "body": "FYI, instead of doing a match and then a substitution, you could do omit the match and do the substitution in the conditional.  The return value of <code>s&#47;&#47;&#47;</code> is the number of substitutions made which in your case will be either 1 (true) or 0 (false)."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1459808778, "creation_date": 1459808778, "answer_id": 36414001, "question_id": 36413903, "link": "https://stackoverflow.com/questions/36413903/how-to-replace-matched-pattern-in-perl/36414001#36414001", "title": "How to replace matched pattern in perl", "body": "<p>After the match, <code>$1</code> contains the string <code>op</code>.</p>\n\n<p>The substitution than matches the <code>op</code>, but there are no parentheses in the search part, so <code>$1</code> gets cleared, and there's nothing to substitute the <code>op</code> with.</p>\n\n<p>Add the parentheses to create the capture group again:</p>\n\n<pre><code>s/($1)/($1)/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1459810153, "creation_date": 1459810153, "answer_id": 36414261, "question_id": 36413903, "link": "https://stackoverflow.com/questions/36413903/how-to-replace-matched-pattern-in-perl/36414261#36414261", "title": "How to replace matched pattern in perl", "body": "<p><code>$1</code> in a replacement contains the first capture group in the match, but there are no capture groups in your regular expression. You can use <code>$&amp;</code> to get everything matched by the regular expression.</p>\n\n<pre><code>s/$1/($&amp;)/;\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 6158300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/617759821708531/picture?type=large", "display_name": "Yida Yuan", "link": "https://stackoverflow.com/users/6158300/yida-yuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2622, "favorite_count": 0, "accepted_answer_id": 36414001, "answer_count": 2, "score": 0, "last_activity_date": 1459810153, "creation_date": 1459808344, "last_edit_date": 1459808539, "question_id": 36413903, "link": "https://stackoverflow.com/questions/36413903/how-to-replace-matched-pattern-in-perl", "title": "How to replace matched pattern in perl", "body": "<p>I'm trying to write a Perl program that accepts an input pattern and print the string with the matched part enclosed with parentheses. For example, if I input the regex \".p\" and the string is \"developing\", it should print \"devel(op)ing\"</p>\n\n<p>Here is my program:</p>\n\n<pre><code>if (/($pattern)/) {\n    $_ =~ s/$1/($1)/;\n    print;\n} else {\n    print \"no match\\n\";\n}\n</code></pre>\n\n<p>When I run it, I got the error message: </p>\n\n<blockquote>\n  <p>Use of uninitialized value $1 in concatenation (.) or string at q1.pl\n  line 12, &lt;> line 1.</p>\n</blockquote>\n\n<p>The string \"devel()ing\" was returned.\nI did some research and seems like the $1 is uninitialized because the string is not matched, but in my case, the $1 should always be initialized since I checked with \"if...else...\" </p>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1459807459, "post_id": 36413529, "comment_id": 60442971, "body": "If you&#39;re going to dump an entire section of documentation, can you please at least format it so it&#39;s readable? Just the link would have been better than that indecipherable mess."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459807545, "post_id": 36413529, "comment_id": 60443010, "body": "It&#39;s relevant if you inherit from a schema class and want to influence how a connection is being made. That could be for debugging purposses, or to inject a test database, or something similar. It&#39;s also interesting because it returns the connection information, which again is useful for testing, debugging, profiling and probably also in strange production cases. I will not post this as an answer because I am too tired to elaborate. If you just use DBIC you don&#39;t need to deal with this."}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1459808024, "post_id": 36413529, "comment_id": 60443212, "body": "Sure, is this a method an argument? Is $connect_info_args what I&#39;m getting, or what I&#39;m returning? What does the method get? does it have two signatures?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1459842675, "post_id": 36413529, "comment_id": 60455054, "body": "You could say it has two signatures, yes. But Perl doesn&#39;t have that concept. All Moose accessors are getter and setter a the same time, but the setter can take at least two different parameter sets and will know what to do in this case. Please specify what you are trying to do, or if you were just reading the docs and got confused and wanted to someone to explain this."}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1459876029, "post_id": 36413529, "comment_id": 60479871, "body": "<code>connect_info</code> doesn&#39;t work. That&#39;s why there is no example of it anywhere."}], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1459890331, "post_id": 36432888, "comment_id": 60488803, "body": "The second error says &#39;contact_info&#39; whereas it should be &#39;connect_info&#39;."}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": false, "score": 0, "last_activity_date": 1460048632, "last_edit_date": 1460048632, "creation_date": 1459876361, "answer_id": 36432888, "question_id": 36413529, "link": "https://stackoverflow.com/questions/36413529/how-does-dbixclassstoragedbis-connect-info-work/36432888#36432888", "title": "How does DBIx::Class::Storage::DBI&#39;s connect_info work?", "body": "<p>Here is how I got it to work</p>\n\n<h1>Schema Class</h1>\n\n<p>You've got to use the storage that's done like this (and you can find it in the docs)</p>\n\n<pre><code>package MyDBIC::Schema;\n__PACKAGE__-&gt;storage_type(\"DBIx::Class::Storage::DBI::mysql::MySubClass\")\n</code></pre>\n\n<h1>Storage Class</h1>\n\n<pre><code>package DBIx::Class::Storage::DBI::mysql::MySubClass;\nuse mro 'c3';\nuse base 'DBIx::Class::Storage::DBI::mysql';\nsub connect_info {\n     my $self = shift;\n     my $retval = $self-&gt;next::method([{\n         username =&gt; _username(),\n         password =&gt; $password,\n         dsn =&gt; \"my:dsn:\"\n     })\n     $retval;\n};\n</code></pre>\n\n<p>I found a rough example of how to do it <a href=\"https://github.com/dbsrgits/dbix-class/blob/90a5b0237843707bba83646e8d14f6bf4b782ba5/lib/DBIx/Class/Storage/DBI/NoBindVars.pm#L34\" rel=\"nofollow\">burred here</a>. Talk about shitty docs..</p>\n\n<h1><s><code>connect_info</code> appears to be broke. Things tried.</h1>\n\n<ul>\n<li>Subclassing a Storage with a custom <code>connect_info</code>. It gets called, but nothing it returns does anything useful. Calling <code>-&gt;connect-&gt;storage-&gt;ensure_connected;</code> on a schema results in error.</li>\n<li>Wrapping <code>connect_info</code> with Moose::around(). Fails to wrap. <code>The method 'connect_info' was not found in the inheritance hierarchy</code>.</li>\n<li>Calling <code>$self-&gt;connect_info()</code> from <code>BUILD</code>... <code>DBIx::Class::Storage::DBI::connect_info</code> gets called but no matter what I hand to it, the sub only gets $self, the first argument.</li>\n<li>Calling <code>__PACKAGE__-&gt;connect_info({})</code> or <code>__PACKAGE__-&gt;connect_info([{}])</code> results in both arguments being sent to the <code>DBIx::Class::Storage::DBI::connect_info</code> but the lack of a <code>$self</code> results in <code>Class::XSAccessor: invalid instance method invocant: no hash ref supplied at</code> when the sub tries to write to the accessor.</s></li>\n</ul>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460048632, "creation_date": 1459806579, "last_edit_date": 1459813323, "question_id": 36413529, "link": "https://stackoverflow.com/questions/36413529/how-does-dbixclassstoragedbis-connect-info-work", "title": "How does DBIx::Class::Storage::DBI&#39;s connect_info work?", "body": "<p>The <a href=\"https://metacpan.org/pod/DBIx::Class::Storage::DBI#connect_info\" rel=\"nofollow\">docs for connect_info</a>:</p>\n\n<blockquote>\n  <p><strong>connect_info</strong></p>\n  \n  <p>This <strong>method</strong> is normally called by \"connection\" in DBIx::Class::Schema,\n  which encapsulates its argument list in an arrayref before passing\n  them here.</p>\n  \n  <p>The argument list may contain:</p>\n  \n  <ul>\n  <li><p>The same 4-element argument set one would normally pass to \"connect\"\n  in DBI, optionally followed by extra attributes recognized by\n  DBIx::Class:</p>\n\n<pre><code>$connect_info_args = [ $dsn, $user, $password, \\%dbi_attributes?, \\%extra_attributes? ];\n</code></pre></li>\n  <li><p>A single code reference which returns a\n  connected DBI database handle optionally followed by extra attributes\n  recognized by DBIx::Class:</p>\n\n<pre><code>$connect_info_args = [ sub { DBI-&gt;connect (...) }, \\%extra_attributes? ];\n</code></pre></li>\n  <li><p>A single hashref with all the attributes and the dsn/user/password\n  mixed together:</p>\n\n<pre><code>$connect_info_args = [{\n    dsn =&gt; $dsn,\n    user =&gt; $user,\n    password =&gt; $pass,\n    %dbi_attributes,\n    %extra_attributes,\n}];\n\n$connect_info_args = [{\n    dbh_maker =&gt; sub { DBI-&gt;connect (...) },  \n    %dbi_attributes,\n    %extra_attributes,\n}];\n</code></pre>\n  \n  <p>This is particularly useful\n  for Catalyst based applications, allowing the following config\n  (Config::General style):</p>\n\n<pre><code>&lt;Model::DB&gt;\n    schema_class   App::DB\n    &lt;connect_info&gt;\n        dsn          dbi:mysql:database=test\n        user         testuser\n        password     TestPass\n        AutoCommit   1\n    &lt;/connect_info&gt;\n&lt;/Model::DB&gt;\n</code></pre>\n  \n  <p>The <code>dsn</code>/<code>user</code>/<code>password</code> combination can be substituted by the <code>dbh_maker</code> key\n  whose value is a coderef that returns a connected DBI database handle</p></li>\n  </ul>\n  \n  <p>Please note that the DBI docs recommend that you always explicitly set\n  <code>AutoCommit</code> to either 0 or 1. DBIx::Class further recommends that it be\n  set to 1, and that you perform transactions via our \"txn_do\" in\n  DBIx::Class::Schema method. DBIx::Class will set it to 1 if you do not\n  do explicitly set it to zero. This is the default for most DBDs. See\n  \"DBIx::Class and AutoCommit\" for details.</p>\n</blockquote>\n\n<p>What is this? Is it a method called internally, or a global? And, if it's a method called internally why is it being sent either a dbh maker, or four arguments? What determines what it is sent? It's listed as being a method. What is <code>$connect_info_args</code>?</p>\n"}, {"tags": ["perl", "automated-tests", "cpan"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459796811, "post_id": 36409497, "comment_id": 60437459, "body": "I do sympathise, but there are good modules and bad modules. It sounds like you know how to fix your problem, so it doesn&#39;t look like you have a specific programming question"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1459798758, "post_id": 36409497, "comment_id": 60438630, "body": "@Borodin I don&#39;t understand what you are trying to say."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1459798785, "post_id": 36409497, "comment_id": 60438647, "body": "I think you will get better answers in #toolchain on irc.perl.org. The usual suspects don&#39;t frequent SO."}, {"owner": {"reputation": 3160, "user_id": 954777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/heMKU.jpg?s=128&g=1", "display_name": "smonff", "link": "https://stackoverflow.com/users/954777/smonff"}, "edited": false, "score": 0, "creation_date": 1484745929, "post_id": 36409497, "comment_id": 70635823, "body": "@nwellnhof can you provide specific informations about <code>Prereq</code> and <code>Distro</code>?  Dev releases <i>are</i> supposed to be <i>tracked</i> by CPAN and should enter the Cpantesters process."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 3160, "user_id": 954777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/heMKU.jpg?s=128&g=1", "display_name": "smonff", "link": "https://stackoverflow.com/users/954777/smonff"}, "edited": false, "score": 0, "creation_date": 1484771698, "post_id": 36409497, "comment_id": 70652255, "body": "@smonff AFAIU, dev releases are only tracked in CPAN&#39;s <a href=\"http://www.cpan.org/RECENT\" rel=\"nofollow noreferrer\">RECENT</a> file which is used by CPANTesters, but they&#39;re not listed in 02packages.details.txt which is used to resolve prerequisites."}], "answers": [{"tags": [], "owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "is_accepted": false, "score": 0, "last_activity_date": 1603819336, "creation_date": 1603819336, "answer_id": 64559714, "question_id": 36409497, "link": "https://stackoverflow.com/questions/36409497/how-to-make-cpan-testers-load-a-development-release-of-a-prerequisite/64559714#64559714", "title": "How to make CPAN Testers load a development release of a prerequisite?", "body": "<p>While some CPAN Testers might just happen to have that development release already installed when they test your distribution, most probably won't, and there's no way to require that they do have it.</p>\n<p>If the prerequisite is Pure Perl, it is probably possible to bundle an entire copy of the prerequisite library in a <code>./t/bundled/</code> directory of your distribution, and then in test scripts include this near the top to force the bundled version to be loaded by automated testers:</p>\n<pre class=\"lang-perl prettyprint-override\"><code>use FindBin '$Bin';\nuse if $ENV{AUTOMATED_TESTING}, lib =&gt; &quot;$Bin/bundled&quot;;\nuse Name::Of::Prerequisite;\n</code></pre>\n<p>(I do something similar not with CPAN Testers, but with Travis continuous integration, forcing it to test against the latest checkout from GitHub of certain prerequisites.)</p>\n"}], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1603819336, "creation_date": 1459792245, "question_id": 36409497, "link": "https://stackoverflow.com/questions/36409497/how-to-make-cpan-testers-load-a-development-release-of-a-prerequisite", "title": "How to make CPAN Testers load a development release of a prerequisite?", "body": "<p>I recently uploaded development releases of two distributions to CPAN where one depended on the other. Let's say one distro is named <code>Distro</code>, the other <code>Prereq</code>, and <code>Distro</code> requires <code>Prereq</code> version 0.009_001.</p>\n\n<p>Unfortunately, I didn't get any test reports for <code>Distro</code>. I think the reason is that the versions of dev releases simply aren't tracked by CPAN. They don't appear in <code>02packages.details.txt</code>, so CPAN thinks that the dependency can't be satisfied.</p>\n\n<p>Is it impossible to make a CPAN Tester load a development release of a prerequisite? Or is there a work-around?</p>\n"}, {"tags": ["perl", "sqlite"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1459789748, "post_id": 36408542, "comment_id": 60433415, "body": "Which version of SQLite is DBD::SQLite using? <code>perl -E&#39;use DBD::SQLite; say $DBD::SQLite::sqlite_version&#39;</code>"}, {"owner": {"reputation": 313, "user_id": 4678240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2IWTf.jpg?s=128&g=1", "display_name": "east.charm", "link": "https://stackoverflow.com/users/4678240/east-charm"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1459790305, "post_id": 36408542, "comment_id": 60433747, "body": "DB&lt;3&gt; print $DBD::SQLite::sqlite_version 3.1.3"}, {"owner": {"reputation": 313, "user_id": 4678240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2IWTf.jpg?s=128&g=1", "display_name": "east.charm", "link": "https://stackoverflow.com/users/4678240/east-charm"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1459790557, "post_id": 36408542, "comment_id": 60433896, "body": "is there a way to select sqlite version by perl. I cannot install anything on the system"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459791299, "post_id": 36408542, "comment_id": 60434395, "body": "@east.charm <a href=\"https://metacpan.org/pod/DBD::SQLite#SQLITE-VERSION\" rel=\"nofollow noreferrer\">DBD::SQLite comes bundled with its own version of SQLite.</a> I think you&#39;ll have to re-compile it if you want to use a different version."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1459792448, "post_id": 36408542, "comment_id": 60435021, "body": "Was <code>IF NOT EXISTS</code> supported with 3.1.3?  If you upgrade DBD::SQLite to the latest (1.50), it&#39;ll use sqlite 3.10.2."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1459792534, "post_id": 36408542, "comment_id": 60435073, "body": "Re &quot;<i>I cannot install anything on the system</i>&quot;, That&#39;s clearly not true since you&#39;ve demonstrated the ability to install a script. I suspect you&#39;d have no problems installing this Perl module either. It&#39;s not like special permissions are needed."}, {"owner": {"reputation": 313, "user_id": 4678240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2IWTf.jpg?s=128&g=1", "display_name": "east.charm", "link": "https://stackoverflow.com/users/4678240/east-charm"}, "edited": false, "score": 0, "creation_date": 1459793650, "post_id": 36408542, "comment_id": 60435722, "body": "Thanks but can I ask you how to load that module &quot;sqlite_version 3.10.1&quot;?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1459794659, "post_id": 36408542, "comment_id": 60436293, "body": "Looks like <code>IF NOT EXISTS</code> was <a href=\"http://www.sqlite.org/changes.html\" rel=\"nofollow noreferrer\">added in SQLite 3.3.0</a>, so you should upgrade DBD::SQLite as ikegami suggested. The best way to upgrade depends on how you installed it in the first place: if you installed via a package manager, try to find an updated package; if you installed via CPAN, run <code>cpan DBD::SQLite</code>; if your sys admin installed it for you, ask them to update it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1459795832, "post_id": 36408542, "comment_id": 60436922, "body": "@ThisSuitIsBlackNot: <i>&quot;you should upgrade <code>DBD::SQLite</code>&quot;</i> Is that the answer? Please post it"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459796520, "post_id": 36408542, "comment_id": 60437330, "body": "@east.charm: Even with all of your charm, you don&#39;t seem to be trying very hard to get this problem solved. While you may struggle with the English language, I am sure you knew that the <code>sqlite3</code> dialogue that you posted didn&#39;t look much like what appeared on your terminal. It&#39;s crazy when the person with the problem isn&#39;t trying as hard as the people who are trying to help him. This is a place where you can ask for programming help; it&#39;s not a forum for free solutions. I doubt if sloppy phrasing and layout are acceptable wherever in the east you may be from. Please try a lot harder in future"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459799328, "post_id": 36408542, "comment_id": 60438940, "body": "@Borodin I was going to let ikegami answer since he said it first, but I guess that doesn&#39;t matter; converted my comment to an answer. Ironically, I was reading <a href=\"http://meta.stackoverflow.com/q/320364/176646\">this meta post</a> when I left that comment."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 8, "last_activity_date": 1459800134, "last_edit_date": 1459800134, "creation_date": 1459799139, "answer_id": 36411540, "question_id": 36408542, "link": "https://stackoverflow.com/questions/36408542/why-do-i-get-a-syntax-error-with-dbdsqlite-even-though-my-version-of-sqlite-su/36411540#36411540", "title": "Why do I get a syntax error with DBD::SQLite even though my version of SQLite supports `CREATE TABLE IF NOT EXISTS`?", "body": "<blockquote>\n  <p>The version of SQLite I'm using supports IF NOT EXISTS, so why am I getting an error?</p>\n</blockquote>\n\n<p>Because DBD::SQLite isn't using the version of SQLite you already had installed. DBD::SQLite comes bundled with <a href=\"https://metacpan.org/pod/DBD::SQLite#SQLITE-VERSION\">its own version of SQLite</a>; it will use the bundled version unless you tell it to use another version when you compile it.</p>\n\n<p>You can find out the version of SQLite that DBD::SQLite is using by running:</p>\n\n<pre><code>perl -MDBD::SQLite -le'print $DBD::SQLite::sqlite_version'\n</code></pre>\n\n<p>Support for <code>CREATE TABLE ... IF NOT EXISTS</code> was <a href=\"http://www.sqlite.org/changes.html\">added to SQLite in v3.3.0</a>. You should upgrade DBD::SQLite, since the newest version (1.50) comes bundled with SQLite 3.10.2.</p>\n"}], "owner": {"reputation": 313, "user_id": 4678240, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2IWTf.jpg?s=128&g=1", "display_name": "east.charm", "link": "https://stackoverflow.com/users/4678240/east-charm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 36411540, "answer_count": 1, "score": 0, "last_activity_date": 1459802418, "creation_date": 1459789029, "last_edit_date": 1459802418, "question_id": 36408542, "link": "https://stackoverflow.com/questions/36408542/why-do-i-get-a-syntax-error-with-dbdsqlite-even-though-my-version-of-sqlite-su", "title": "Why do I get a syntax error with DBD::SQLite even though my version of SQLite supports `CREATE TABLE IF NOT EXISTS`?", "body": "<p>I am using SQLite v3  to write a Perl script. The sqlite version is 3.3.6. </p>\n\n<p>When I run sqlite on the command line it works. But when I do the same thing in Perl it raises this error</p>\n\n<blockquote>\n  <p>DBD::SQLite::db do failed: near \"NOT\": syntax error(1) at dbdimp.c line 268 at file line 2675.</p>\n</blockquote>\n\n<p>This is what I do on the console:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ sqlite3 test.db\nSQLite version 3.3.6\nsqlite&gt; create table if not exists  DATA_STATUS_VALUE (TYPE TEXT PRIMARY KEY, Seq INTEGER);\nsqlite&gt; .tables AllJobs            LOCKSTAT_VALUE     test_run12_data\nDATA_STATUS_VALUE  STATUS_VALUE       test_run12_lock\n</code></pre>\n\n<p>The version of SQLite I'm using supports <code>IF NOT EXISTS</code>, so why am I getting an error?</p>\n\n<p>This is my Perl code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nmy $driver = \"SQLite\";\n\n$database = \"test.db\";\n$dsn      = \"DBI:$driver:dbname=$database\";\n$dbh      = DBI-&gt;connect( $dsn, undef, undef, { RaiseError =&gt; 1 } );\n\n$dbh-&gt;do(\"CREATE TABLE IF NOT EXISTS DATA_STATUS_VALUE (TYPE TEXT PRIMARY KEY, Seq INTEGER);\");\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1459788024, "post_id": 36408213, "comment_id": 60432396, "body": "<a href=\"http://www.tutorialspoint.com/perl/perl_tr.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/perl/perl_tr.htm</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459788213, "post_id": 36408213, "comment_id": 60432490, "body": "<code>tr&#47;&#47;&#47;</code> does not use regular expressions. It&#39;s documented in <a href=\"http://perldoc.perl.org/perlop.html#tr%2f_SEARCHLIST_%2f_REPLACEMENTLIST_%2fcdsr\" rel=\"nofollow noreferrer\">perlop</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459788843, "post_id": 36408213, "comment_id": 60432904, "body": "Did you do anything to find an answer in the documentation? It&#39;s not hidden, and it&#39;s where I would expect it to be -- in <a href=\"http://perldoc.perl.org/perlop.html#tr%2f_SEARCHLIST_%2f_REPLACEMENTLIST_%2fcdsr\" rel=\"nofollow noreferrer\">perldoc perlop</a>"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1459816982, "post_id": 36408213, "comment_id": 60445905, "body": "If the replacement list on the right is too short, the last character is replicated to match the length of the search list on the left, so your <code>tr</code> is equivalent to:  <code>tr&#47;abcde&#47;abccc&#47;</code>.  Each character in the search list on the left is replaced by the corresponding character in the replacement list on the right.  If you apply your <code>tr</code> to the string: <code>&quot;a-c-b-d-e-f-g&quot;</code>, the string will be changed to: <code>&quot;a-c-b-c-c-f-g&quot;</code>, and the return value of the <code>tr</code> expression will be 5, indicating the number of substitutions performed on the string."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1459817646, "post_id": 36408213, "comment_id": 60446100, "body": "If you wanted to replace each of the characters &quot;abcde&quot; with &quot;x&quot;, you could use: <code>tr&#47;abcde&#47;x&#47;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4487545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453e6a46773070f3fb2de42bf2a52737?s=128&d=identicon&r=PG&f=1", "display_name": "mgwork", "link": "https://stackoverflow.com/users/4487545/mgwork"}, "edited": false, "score": 0, "creation_date": 1459937554, "post_id": 36409753, "comment_id": 60508882, "body": "I just would like to add something about tr, if we have something like this  my $x = &quot;abcde&quot;; $x =~ tr/abc//; say $x;   # abcde  If you use tr without second argument, the string that you work on, doesn&#39;t change. Just in case someone need that information."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9, "user_id": 4487545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453e6a46773070f3fb2de42bf2a52737?s=128&d=identicon&r=PG&f=1", "display_name": "mgwork", "link": "https://stackoverflow.com/users/4487545/mgwork"}, "edited": false, "score": 0, "creation_date": 1459940181, "post_id": 36409753, "comment_id": 60510745, "body": "It does if you use /d"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1459793084, "creation_date": 1459793084, "answer_id": 36409753, "question_id": 36408213, "link": "https://stackoverflow.com/questions/36408213/perl-tr-usage-of-regexp/36409753#36409753", "title": "Perl tr usage of regexp", "body": "<p><code>tr///</code> has nothing to do with regular expressions. <code>tr///</code> is documented in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">perlop</a>.</p>\n\n<pre><code>my $x = \"aabbccddee!\";\n$x =~ tr/abc/xyz/;\nsay $x;   # xxyyzzddee\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4487545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453e6a46773070f3fb2de42bf2a52737?s=128&d=identicon&r=PG&f=1", "display_name": "mgwork", "link": "https://stackoverflow.com/users/4487545/mgwork"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "closed_date": 1459793925, "accepted_answer_id": 36409753, "answer_count": 1, "score": -4, "last_activity_date": 1459793084, "creation_date": 1459787925, "question_id": 36408213, "link": "https://stackoverflow.com/questions/36408213/perl-tr-usage-of-regexp", "closed_reason": "Needs more focus", "title": "Perl tr usage of regexp", "body": "<p>i would like to ask about regex usage in Perl, extacly the tr///</p>\n\n<p>So if i have an expression \ntr/abcde/abc the result will be abcab? \nHow extacly the tr works?</p>\n"}, {"tags": ["regex", "linux", "perl", "shell"], "comments": [{"owner": {"reputation": 1203, "user_id": 142846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beae3c4b7d0869b9dcd329406d936c1a?s=128&d=identicon&r=PG", "display_name": "Jim Kane", "link": "https://stackoverflow.com/users/142846/jim-kane"}, "edited": false, "score": 0, "creation_date": 1459788504, "post_id": 36407997, "comment_id": 60432671, "body": "The unix <code>rename</code> command is probably what you want."}, {"owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "edited": false, "score": 0, "creation_date": 1459792442, "post_id": 36407997, "comment_id": 60435016, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/9393607/find-and-replace-filename-recursively-in-a-directory\">Find and replace filename recursively in a directory</a>"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 1, "creation_date": 1459802134, "post_id": 36407997, "comment_id": 60440462, "body": "find . -type f -exec sh -c &#39;mv &quot;$0&quot; &quot;$(dirname &quot;$0&quot;)/PRE_$(basename &quot;$0&quot;)&quot;&#39; {} \\;"}, {"owner": {"reputation": 11, "user_id": 6156975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b03369a926f87fe8ca604475217cc5?s=128&d=identicon&r=PG&f=1", "display_name": "house Tl", "link": "https://stackoverflow.com/users/6156975/house-tl"}, "edited": false, "score": 0, "creation_date": 1459858382, "post_id": 36407997, "comment_id": 60466337, "body": "thank you william Pursell. That was really helpfull !"}], "answers": [{"tags": [], "owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "is_accepted": false, "score": 1, "last_activity_date": 1460369400, "last_edit_date": 1460369400, "creation_date": 1459857234, "answer_id": 36425685, "question_id": 36407997, "link": "https://stackoverflow.com/questions/36407997/rename-files-of-a-folder-and-its-folders-children/36425685#36425685", "title": "rename files of a folder and its folders children", "body": "<p>Also you could use only perl if you want, without any additional modules:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($prefix, $dir) = ('PRE_', '/home');\nsub loop_dirs {\n    my $path = $_[0];\n    if (-d $path) { # if directory\n         opendir my $dh, $path or die \"$!\";\n         loop_dirs($path.'/'.$_) for grep ! /^\\.{1,2}$/, readdir $dh; close $dh;\n    } elsif (-e $path) { # if file\n         prefix_add($path, $prefix); # do smth with file, e.g. rename\n    }\n}\nsub prefix_add { my ($path, $pref) = @_; $path =~ s/([^\\/]+)$/$pref$1/; rename $_[0], $path }\nloop_dirs($dir);\n</code></pre>\n\n<p>This code works well both on Windows(ActivePerl) and Linux</p>\n"}], "owner": {"reputation": 11, "user_id": 6156975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b03369a926f87fe8ca604475217cc5?s=128&d=identicon&r=PG&f=1", "display_name": "house Tl", "link": "https://stackoverflow.com/users/6156975/house-tl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460369400, "creation_date": 1459787239, "last_edit_date": 1459857413, "question_id": 36407997, "link": "https://stackoverflow.com/questions/36407997/rename-files-of-a-folder-and-its-folders-children", "title": "rename files of a folder and its folders children", "body": "<p>I would like to add prefix on all files in a folder and in all files in all of folder children.</p>\n\n<p>Exemple :</p>\n\n<pre> hello\\file1\n hello2\\file2\n file3\n file4 </pre>\n\n<p>the result should be after adding the prefix PRE_</p>\n\n<pre> hello\\PRE_file1\n hello2\\PRE_file2\n PRE_file3\n PRE_file4 </pre>\n\n<p>i tried to do this :</p>\n\n<p><code>find . -type f -exec rename 's/^/PRE_/' '{}' \\;</code></p>\n\n<p>but it modify all the name.\nThank you</p>\n"}, {"tags": ["perl", "web", "server-side"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 6, "creation_date": 1459786180, "post_id": 36407627, "comment_id": 60431271, "body": "Have a look at the <a href=\"https://metacpan.org/pod/distribution/libwww-perl/lwpcook.pod\" rel=\"nofollow noreferrer\">LWP Cookbook</a> or <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow noreferrer\">HTTP::Tiny</a>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1459800708, "last_edit_date": 1459800708, "creation_date": 1459800345, "answer_id": 36411909, "question_id": 36407627, "link": "https://stackoverflow.com/questions/36407627/get-url-status-code-using-perl/36411909#36411909", "title": "Get url status code using perl", "body": "<p><a href=\"http://search.cpan.org/perldoc?LWP\" rel=\"nofollow\">LWP</a> is commonly used to make HTTP requests from Perl.</p>\n\n<p>There's also the very fast <a href=\"http://search.cpan.org/perldoc?Net::Curl::Easy\" rel=\"nofollow\">Net::Curl::Easy</a>, which supports parallel requests using Net::Curl::Multi.</p>\n\n<p>Of course, event-based frameworks have their own clients. For example, AnyEvent has <a href=\"http://search.cpan.org/perldoc?AnyEvent::HTTP\" rel=\"nofollow\">AnyEvent::HTTP</a>. These also allow parallel requests.</p>\n"}], "owner": {"reputation": 13, "user_id": 4803979, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d25578b450e0985bff895f42a7bbae13?s=128&d=identicon&r=PG&f=1", "display_name": "Dor12126", "link": "https://stackoverflow.com/users/4803979/dor12126"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1459829864, "creation_date": 1459786073, "question_id": 36407627, "link": "https://stackoverflow.com/questions/36407627/get-url-status-code-using-perl", "title": "Get url status code using perl", "body": "<p>I want to create a script that the only parameter that I will give him is url. The output of the script will be the status code of the url. Any idea how to do that?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459785997, "post_id": 36407443, "comment_id": 60431164, "body": "Welcome to Stack Overflow. I don&#39;t understand what you are asking here. There is no question in your question. Please <a href=\"https://stackoverflow.com/posts/36407443/edit\">edit</a> it to clarify what you want to know, or what is not working."}], "answers": [{"tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": true, "score": 0, "last_activity_date": 1459786125, "creation_date": 1459786125, "answer_id": 36407647, "question_id": 36407443, "link": "https://stackoverflow.com/questions/36407443/perl-regexp-with-an-option/36407647#36407647", "title": "Perl Regexp with an option", "body": "<p>You can use the following regex:</p>\n\n<pre><code>\\/TN\\s+([^\\/]+)(?:(?!\\/TN|\\/REF).)*(?:\\/REF\\s+([^\\/]+))?\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/uC6mV9/1\" rel=\"nofollow\">RegEX DEMO</a></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><code>\\/TN\\s+([^\\/]+)</code> : Match characters other than <code>/</code> after <code>/TN</code> and put in capture group 1</li>\n<li><code>(?:(?!\\/TN|\\/REF).)*</code> : Logic to match characters making sure there is no <code>/TN</code> or <code>/REF</code> in them</li>\n<li><code>(?:\\/REF\\s+([^\\/]+))?</code> : Optionally match characters other than <code>/</code> after <code>/REF</code> and put in capture group 2</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "is_accepted": false, "score": 0, "last_activity_date": 1459786136, "creation_date": 1459786136, "answer_id": 36407650, "question_id": 36407443, "link": "https://stackoverflow.com/questions/36407443/perl-regexp-with-an-option/36407650#36407650", "title": "Perl Regexp with an option", "body": "<p>Try this: <code>\\/(TN[^\\/]+)|\\/(REF[^\\/]+)</code></p>\n\n<h1>Explanation</h1>\n\n<ul>\n<li><code>\\/</code> Escaped <code>/</code></li>\n<li><code>(TN[^\\/]+)</code> Capture <code>TN</code> followed by things that aren't <code>/</code></li>\n<li><code>|</code> Or your other option</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1459798912, "last_edit_date": 1459798912, "creation_date": 1459790372, "answer_id": 36408954, "question_id": 36407443, "link": "https://stackoverflow.com/questions/36407443/perl-regexp-with-an-option/36408954#36408954", "title": "Perl Regexp with an option", "body": "<p>You can use <code>/TN</code> as a record separator and read the string with a filehandler:</p>\n\n<pre><code>my @res;\n{\n    my $ref;\n    local $/='/TN ';\n    open my $fh, '&lt;', \\$acis_string;\n    &lt;$fh&gt;;\n    while(&lt;$fh&gt;) {\n        $ref = m#/REF ([^/]*[^/\\s])# ? $1 : 'n/a';\n        push @res, [$ref, m#^([^/]*[^/\\s])#];\n    }\n    close $fh;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5870132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7345252d39df6f94438d70de97d2f264?s=128&d=identicon&r=PG&f=1", "display_name": "kevin", "link": "https://stackoverflow.com/users/5870132/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 36407647, "answer_count": 3, "score": 1, "last_activity_date": 1459798912, "creation_date": 1459785490, "last_edit_date": 1459785630, "question_id": 36407443, "link": "https://stackoverflow.com/questions/36407443/perl-regexp-with-an-option", "title": "Perl Regexp with an option", "body": "<p>I am trying to parse this string and the number between /TN and ending forward /.  Also, if there is a /REF I need to grab the REF # as well. So it could be an either or situation.</p>\n\n<p>Example String:</p>\n\n<pre><code>my $acis_string = 'EL41X/TN 333-3333 /DES TAT 313 223-2388 OE508-1-12-13/ORD R1244850301 /CD 02-03-15 /ZKMA 8001 T1ZF PNTCMINEDC0 PNTCMISOH00/SCS DQKUX /TN 333-3330, 6540/RTI 581 /LSO 248 340/REF 28/TGP 581 /ORD C1244888657/CD 02-12-16';\n</code></pre>\n\n<p>He was my base regexp:  </p>\n\n<pre><code>push @matches, [$2, $1] while $acis_string =~ /\\/TN (.*?)\\/.*?(\\/REF (\\w+)\\/)?/g;\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>$VAR1 = [\n      [\n        n/a,\n        '333-3333 '\n      ],\n      [\n        28,\n        '333-3330, 6540'\n      ]\n    ];\n</code></pre>\n\n<p>Note:\nThere could be many /TN / and /REF in the string.</p>\n\n<p>Thanks,\nKevin</p>\n"}, {"tags": ["perl", "unit-testing", "hash", "return-type", "hash-of-hashes"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1459783997, "post_id": 36406158, "comment_id": 60429800, "body": "You might want to indent your code properly. It&#39;s a bit hard to read."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459783653, "post_id": 36406681, "comment_id": 60429528, "body": "Sorry about the first syntax mistake, I copied the code from the wrong version.. I am going to go through your answer and advice now. Thanks."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459785032, "post_id": 36406681, "comment_id": 60430507, "body": "The Perl Test::Deep library is not available and I don&#39;t have permission add it. I assume there is a very awkward way of comparing deeply . All that is available is Test::More.  Thanks for the advice above I have split them into two separate test cases, it makes more sense they are unit tests after all . haha"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459785295, "post_id": 36406681, "comment_id": 60430678, "body": "@Paul splitting it is the best option in my opinion."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459785615, "post_id": 36406681, "comment_id": 60430892, "body": "so two separate tests, one for <code>$error_string</code> and one for <code>$error_hash</code> ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459785947, "post_id": 36406681, "comment_id": 60431138, "body": "@Paul Yes, just as I showed. Of course you can add more test cases. But I would really stick with simple cases that cover everything. Don&#39;t make it complex. What I showed is enough to make sure the <i>message</i> gets trough. If you your code doesn&#39;t care about the names of the other keys in your hash, don&#39;t make tests for each key, just add a <code>foo</code> key and check if it&#39;s there. If one works, all will work as long as the code doesn&#39;t look for specific ones."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459786867, "post_id": 36406681, "comment_id": 60431691, "body": "Yeah I have done that. But I need to test each value that is returned by each key. I think that will mean I&#39;ll have to change the new() method. At the moment I am just receiving hash refs when I try to test the return values."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459787102, "post_id": 36406681, "comment_id": 60431839, "body": "@PaulRussell That&#39;s because <code>return {$_[0]-&gt;{code} };</code> and <code>return {$_[0]-&gt;{tt} };</code> return hashrefs; drop the extra braces, so <code>return $_[0]-&gt;{code};</code> and <code>return $_[0]-&gt;{tt};</code>."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459787858, "post_id": 36406681, "comment_id": 60432280, "body": "Yeah I removed them and realized that. But I get <code>undef</code> now. I don&#39;t understand why, I have a feeling it&#39;s because of the new() method. Do I have to add more params to new like <code>tt=&gt; $second_param</code> . I have attempted to do that. But it doesn&#39;t work."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1459789213, "post_id": 36406681, "comment_id": 60433108, "body": "@PaulRussell Your <code>new</code> method only creates a single attribute, which is <code>message</code>. So you need to add more keys to the hash that you <code>bless</code>. Currently you have <code>bless { message =&gt; $first_param-&gt;{message}, %params}</code>; to add a <code>tt</code> attribute, you would do <code>bless { message =&gt; $first_param-&gt;{message}, tt =&gt; $first_param-&gt;{tt}, %params}</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 1, "creation_date": 1459791097, "post_id": 36406681, "comment_id": 60434268, "body": "@paul you could post this, with a bit more information of what it does, to the codereview stack exchange and tag it with Perl. Then we can give you on-topic feedback about your code. There are a few more issues I&#39;d like to address, but this is not really the place."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1459783392, "creation_date": 1459783392, "answer_id": 36406681, "question_id": 36406158, "link": "https://stackoverflow.com/questions/36406158/unit-testing-in-perl-receiving-hash-ref-as-return-expected-to-return-a-string-f/36406681#36406681", "title": "Unit testing in perl, Receiving hash ref as return expected to return a string from a key in a hash", "body": "<h2>On my machine</h2>\n\n<p>First of, if I run your code I get an error about <code>CABLING_CHECK_TOR_INCORRECT_CABLING_ERROR</code> being not defined. If I replace that with <code>CABLING_ERROR</code>, the test fails with this.</p>\n\n<pre><code>#          got: 'cabling is not correct at T1'\n#     expected: 'cabling is not correct at T1.'\n# Looks like you failed 1 test of 3.\n</code></pre>\n\n<hr>\n\n<h2>Two possible outputs at the same time</h2>\n\n<p>Now to what you say the output is.</p>\n\n<p>For some reason, your <code>$error_in-&gt;message</code> returns a hashref, which gets stringified by <code>is()</code>, because <code>is()</code> doesn't do data structures. You can use <a href=\"https://metacpan.org/pod/Test::Deep\" rel=\"nofollow\">Test::Deep</a> to do this.</p>\n\n<pre><code>use Test::Deep;\n\ncmp_deeply(\n    $error_in-&gt;message,\n    any(\n        $error_string,\n        $error_hash-&gt;{message},\n    ),\n    'Returns correct error message',\n);\n</code></pre>\n\n<p>Here I assumed that your <code>$error_string || $error_hash-&gt;{message}</code> is intended to make it check for either one or the other. </p>\n\n<p>But  <code>||</code> will just check if <code>$error_string</code> has a true value and return it, or take the value of <code>$error_hash-&gt;{message}</code>. It compares the result of that operation to <code>$error_in-&gt;message</code>.</p>\n\n<h2>Testing clearly</h2>\n\n<p>However, this will likely not solve your real problem. Instead of having one test case that checks two possible things, make a <strong>dedicated test case</strong> for each possible input. That's what unit-testing is all about.</p>\n\n<pre><code>my $error_direct = ASC::Builder::Error-&gt;new('foo');\nis $error_direct-&gt;message, 'foo', 'direct error message gets read correctly';\n\nmy $error_indirect = ASC::Builder::Error-&gt;new( { message =&gt; 'bar' } );\nis $error_indirect-&gt;message, 'bar', 'indirect error message gets read correctly';\n</code></pre>\n\n<p>The above code will give you two test cases. One for a <em>direct</em> error string, and another one for an <em>indirect</em> hash.</p>\n\n<pre><code>ok 1 - direct error message gets read correctly\nok 2 - indirect error message gets read correctly\n1..2\n</code></pre>\n\n<h2>Don't waste time</h2>\n\n<p>At the same time, this also addresses another issue with your approach. In unit tests, you want to test <strong>the smallest possible unit</strong>. Don't tie them to your other business logic or your business production data.</p>\n\n<p>Your <code>ASC::Builder::Error</code> class doesn't care about the type of error, so don't over-complicate by loading something additonal to give you the exact same error messages you have in real life. Just use simple things that are enough to prove stuff works. </p>\n\n<p>The simpler your unit tests are, the easier it is to maintain them, and the easier it is to add more once you have more cases.</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 36406681, "answer_count": 1, "score": 0, "last_activity_date": 1459788659, "creation_date": 1459781937, "last_edit_date": 1459788659, "question_id": 36406158, "link": "https://stackoverflow.com/questions/36406158/unit-testing-in-perl-receiving-hash-ref-as-return-expected-to-return-a-string-f", "title": "Unit testing in perl, Receiving hash ref as return expected to return a string from a key in a hash", "body": "<p>I am trying to test the output of the following method:</p>\n\n<pre><code>package ASC::Builder::Error;\n\nsub new {\n\n    my ($package, $first_param) = (shift, shift);\n\n\n    if (ref $first_param eq 'HASH') {\n        my %params = @_;\n        return bless { message =&gt; $first_param-&gt;{message}, %params}, $package;\n    }\n    else {\n        my %params = @_; \n        return bless {message =&gt; $first_param, %params}, $package;\n\n}   \n}\n</code></pre>\n\n<p>This method is supposed to accept either an error hash or error string. If it accepts a hash it should output the value of the message key from the error hash. </p>\n\n<p>This is the error hash located in ErrorLibrary.pm:</p>\n\n<pre><code> use constant {\n\n        CABLING_ERROR =&gt; {\n        code =&gt; 561,\n        message =&gt; \"cabling is not correct at T1\",\n        tt =&gt; { template =&gt; 'disabled'},\n        fatal =&gt; 1,\n        link =&gt;'http://www.e-solution.com/CABLING_ERROR',\n        },\n    };\n</code></pre>\n\n<p>This is the message method along with the other keys of the hash located in Error.pm</p>\n\n<pre><code>package ASC::Builder::Error;\n\nsub message {\n        return $_[0]-&gt;{message}; \n}\n\nsub tt {\n    return {$_[0]-&gt;{tt} };\n}\n\nsub code {\n    return {$_[0]-&gt;{code} };\n}\n</code></pre>\n\n<p>This is my current unit test located in error.t</p>\n\n<pre><code>#input value will either be a String or and Error Message Hash\n\n\n# error hash\nmy $error_hash = CABLING_ERROR;\n# error string\nmy $error_string = \"cabling is not correct at T1.\";\n\n# error hash is passed into new and an error object is outputted\nmy $error_in = ASC::Builder::Error-&gt;new($error_hash);\n\n# checks to see if the output object from new is an Error object\nisa_ok($error_in, 'ASC::Builder::Error');\n\n# checking that object can call the message() method\ncan_ok( $error_in, 'message');\n\n\n# checks to see if the output message matches the message contained in the error hash(correct)\nis($error_in-&gt;message(),( $error_string || $error_hash-&gt;{message} ), 'Returns correct error message');\n</code></pre>\n\n<p>And finally the results of my test:</p>\n\n<pre><code>#   Failed test 'Returns correct error message'\n#   at t/67_error_post.t line 104.\n#          got: 'HASH(0x38b393d490)'\n#     expected: 'cabling is not correct at T1.'\n# \n# '\n# Looks like you failed 1 test of 3.\nt/67_error_post.t .. Dubious, test returned 1 (wstat 256, 0x100)\nFailed 1/3 subtests \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459781780, "post_id": 36405909, "comment_id": 60428233, "body": "Please edit the relevant output from your production script into the question."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1459782283, "post_id": 36405909, "comment_id": 60428563, "body": "The print statement within your first <code>while</code> loop would be more useful if it were: <code>print &quot;In shift while loop: \\$start_index=($start_index), \\$werte_liste[0]=($werte_liste[0]), size of \\@werte_liste=(&quot;, scalar(@werte_liste), &quot;).\\n&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1459784540, "creation_date": 1459784540, "answer_id": 36407122, "question_id": 36405909, "link": "https://stackoverflow.com/questions/36405909/unintended-endless-while-loop-why/36407122#36407122", "title": "Unintended endless While loop - why?", "body": "<p>What happens when <code>@werte_liste</code> is empty?</p>\n\n<p>For one, <code>$werte_liste[0]</code> will be undefined, and the expression <code>$werte_liste[0] &lt; $start_index</code> will generate the <code>Use of uninitialized value in numerlic lt ...</code> warnings.</p>\n\n<p>For another, <code>$werte_liste[0]</code> will evaluate to 0 for the <code>&lt;</code> comparison. If <code>$start_index</code> is positive, then <code>$werte_liste[0] &lt; $start_index</code> is true.</p>\n\n<p>Finally, <code>shift @werte_liste</code> will have no effect on <code>@werte_liste</code>, <code>@werte_liste</code> will remain empty, and your <code>while ...</code> expression will repeat indefinitely.</p>\n"}, {"comments": [{"owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "edited": false, "score": 0, "creation_date": 1459839384, "post_id": 36407136, "comment_id": 60453042, "body": "I guess my problem was that in the print-statement before the loop, my array did not show as empty, and I still got that error. Adding that test for emptiness solves that nevertheless, and it gets me the correct results for the following test cases, where in one of those the array is indeed empty going in. I guess I was just stumped because of getting the error on a non-empty array."}], "tags": [], "owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "is_accepted": true, "score": 3, "last_activity_date": 1459784578, "creation_date": 1459784578, "answer_id": 36407136, "question_id": 36405909, "link": "https://stackoverflow.com/questions/36405909/unintended-endless-while-loop-why/36407136#36407136", "title": "Unintended endless While loop - why?", "body": "<p>I don't know why it works with your testcase but doesn't in your production code, but here's my guess:</p>\n\n<p>Your array becomes empty. <code>$array[0] &lt; $min_wert</code> is true if <code>$array[0]</code> is <code>undef</code> (which happens if the array is empty), and <code>$min_wert &gt; 0</code>.</p>\n\n<p><code>undef</code> is basically treated as a <code>0</code> in numerical comparisons (it emits a warning).</p>\n\n<p>You can check that the array still has elements with this:</p>\n\n<pre><code>while ( @array and $array[0] &lt; $min_wert ) {\n</code></pre>\n\n<p>The other <code>while</code> loop probably has the same problem.</p>\n"}], "owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 36407136, "answer_count": 2, "score": 0, "last_activity_date": 1459784578, "creation_date": 1459781304, "question_id": 36405909, "link": "https://stackoverflow.com/questions/36405909/unintended-endless-while-loop-why", "title": "Unintended endless While loop - why?", "body": "<p>I have an array of numeric values that's sorted. I also have a minimum and maximum value and want to remove any values from the array that are smaller than the minimum or bigger than the maximum value. I am getting an endless loop when my minimum value is smaller than the value of the first array element. Here's a minimal example of the code in question:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @array = ( 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 );\nmy $min_wert = 1;\nmy $max_wert = 13;\n\nwhile ( $array[0] &lt; $min_wert ) {\n    shift @array;\n}\nwhile ( $array[-1] &gt; $max_wert ) {\n    pop @array;\n}\n\nprint join( ' ', @array );\nprint \"\\n\";\n</code></pre>\n\n<p>The problem is, this version works flawlessly, outputting</p>\n\n<pre><code>5 6 7 8 9 10 11 12 13\n</code></pre>\n\n<p>The first while is not entered in this case.</p>\n\n<p>Dropping the same test case into my production code, I'm getting the following error message on the line with the shift-statement:</p>\n\n<blockquote>\n  <p>Use of uninitialized value in numeric lt (&lt;) at\n  line 1130.</p>\n</blockquote>\n\n<p>I then introduced a counter to try to figure out why the while-loop is even entered, and that completely removes the problem instead of giving me the opportunity for further diagnostics.  </p>\n\n<pre><code>    @werte_liste = sort {$a &lt;=&gt; $b} @werte_liste; \n    print join( ' ', @werte_liste );\n    print \"\\n\";\n    print \"Start: $start_index - Stop: $stop_index\\n\"\n\n    while ( $werte_liste[0] &lt; $start_index ) {\n        print \"In while-loop- why?\\n\";\n        shift @werte_liste;\n    }\n    while ( $werte_liste[-1] &gt; $stop_index ) {\n        pop @werte_liste;\n    }\n</code></pre>\n\n<p>why do I enter that first while loop in this case? And second, is there a better solution to my specific problem (I'm not talking lots of values here, so readability of code is more important than efficiency).</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 6033, "user_id": 1429714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/89Cr8.png?s=128&g=1", "display_name": "gongzhitaao", "link": "https://stackoverflow.com/users/1429714/gongzhitaao"}, "edited": false, "score": 0, "creation_date": 1459778388, "post_id": 36404735, "comment_id": 60425767, "body": "So <code>trying alternatives</code> and <code>backtracking</code> are two different concepts or processes?"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 6033, "user_id": 1429714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/89Cr8.png?s=128&g=1", "display_name": "gongzhitaao", "link": "https://stackoverflow.com/users/1429714/gongzhitaao"}, "edited": false, "score": 0, "creation_date": 1459778538, "post_id": 36404735, "comment_id": 60425882, "body": "Backtracking is what happens when the current state doesn&#39;t allow the engine to match further. In such cases, it needs to try another solution (for instance, it could try a different choice in an alternation). Atomic groups are treated like a single entity, which either matches or doesn&#39;t match at a given position. Once it matched, it can only match in a single unique way."}, {"owner": {"reputation": 6033, "user_id": 1429714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/89Cr8.png?s=128&g=1", "display_name": "gongzhitaao", "link": "https://stackoverflow.com/users/1429714/gongzhitaao"}, "edited": false, "score": 0, "creation_date": 1459778908, "post_id": 36404735, "comment_id": 60426129, "body": "So actually all the alternatives in the regex will be tried but previous matched strings in the text will not be matched again (i.e., no backtracking).   Is this somewhere closer?"}, {"owner": {"reputation": 6033, "user_id": 1429714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/89Cr8.png?s=128&g=1", "display_name": "gongzhitaao", "link": "https://stackoverflow.com/users/1429714/gongzhitaao"}, "edited": false, "score": 0, "creation_date": 1459779143, "post_id": 36404735, "comment_id": 60426274, "body": "I updated an example to illustrate my understanding."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1459851258, "post_id": 36404735, "comment_id": 60461102, "body": "Just to precise the term &quot;disjoint&quot;: it means subpatterns that cannot match the same text at the same position."}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 6, "last_activity_date": 1459778258, "creation_date": 1459778258, "answer_id": 36404735, "question_id": 36404584, "link": "https://stackoverflow.com/questions/36404584/alternation-in-atomic-grouping-is-useless/36404735#36404735", "title": "Alternation in atomic grouping is useless?", "body": "<p>It's not useless in the general case.</p>\n\n<p>It doesn't work in your examples because the first choice always matches, therefore the second choice won't be tried. And the engine won't backtrack inside the atomic group, because this is pretty much the purpose of an atomic group.</p>\n\n<p>If you have two <strong>disjoint</strong> patterns in an atomic group, <em>that</em> will make perfect sense<br>\n(something like <code>(?&gt;ab|cd)</code>).</p>\n"}], "owner": {"reputation": 6033, "user_id": 1429714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/89Cr8.png?s=128&g=1", "display_name": "gongzhitaao", "link": "https://stackoverflow.com/users/1429714/gongzhitaao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 36404735, "answer_count": 1, "score": 4, "last_activity_date": 1459780135, "creation_date": 1459777880, "last_edit_date": 1495542677, "question_id": 36404584, "link": "https://stackoverflow.com/questions/36404584/alternation-in-atomic-grouping-is-useless", "title": "Alternation in atomic grouping is useless?", "body": "<p>I'm aware of many of the great answer about atomic grouping, e.g.,  <a href=\"https://stackoverflow.com/questions/14411818/confusion-with-atomic-grouping-how-it-differs-from-the-grouping-in-regular-exp\">Confusion with Atomic Grouping - how it differs from the Grouping in regular expression of Ruby?</a></p>\n\n<p>My question is simple:  <strong>so alternation in atomic grouping is useless, right?</strong></p>\n\n<p>Some examples:</p>\n\n<ul>\n<li><code>a(?&gt;bc|b)c</code> will never match <code>abc</code>, actually it will never try <code>b</code> part in the <code>()</code></li>\n<li><code>(?&gt;.*|b*)[ac]</code> will never match any string since <code>.*</code> matches them all and is discarded.</li>\n</ul>\n\n<p>Do I understand it right?</p>\n\n<hr>\n\n<p>Some test code in <code>perl</code> just in case it might be helpful</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub tester {\n    my ($txt, $pat) = @_;\n    if ($txt =~ $pat) {\n        print \"${pat} matches ${txt}\\n\";\n    } else {\n        print \"No match\\n\";\n    }\n}\n\n$txt = \"abcc\";\n$pat = qr/a(?&gt;bc|b)c/;\ntester($txt, $pat);\n\n$txt = \"bbabbbabbbbc\";\n$pat = qr/(?&gt;.*)c/;\ntester($txt, $pat);\n\n$pat = qr/(?&gt;.*|b*)[ac]/;\ntester($txt, $pat);\n\n$txt = \"abadcc\";\n$pat = qr/a(?&gt;b|dc)c/;\ntester($txt, $pat);\n</code></pre>\n\n<hr>\n\n<p>I found an explanation in <a href=\"http://support.sas.com/resources/papers/proceedings11/245-2011.pdf\" rel=\"nofollow noreferrer\">here</a> that kinda answers my question.</p>\n\n<p><em>It (atomic grouping) tells the RegEx engine that once it has found a matching subpattern not to backtrack on any of the quantifiers or alternative that may be inside of it.</em></p>\n"}, {"tags": ["perl", "sockets", "ssl", "apple-push-notifications"], "comments": [{"owner": {"reputation": 2273, "user_id": 2492205, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/73945619d116726dfa06006dfcdbdda8?s=128&d=identicon&r=PG", "display_name": "RJV Kumar", "link": "https://stackoverflow.com/users/2492205/rjv-kumar"}, "edited": false, "score": 0, "creation_date": 1459758139, "post_id": 36397542, "comment_id": 60411958, "body": "problem with your ssl certificate in the server- side. check out the ssl certificate is valid or not?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1459760069, "post_id": 36397542, "comment_id": 60413134, "body": "My guess is that <code>&#47;var&#47;www&#47;foo&#47;bar&#47;cert&#47;ck.pem</code> does not contain the CA which signed the certificate you got from the server. But it is hard to tell without knowing the contents of this file."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1459762668, "post_id": 36397542, "comment_id": 60414754, "body": "Apart from that I think that this service needs a client certificate which you need to specify with SSL_cert_file and SSL_key_file."}, {"owner": {"reputation": 161, "user_id": 6154769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d514697f1b8c47afd6757aa339eedd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Chubeez", "link": "https://stackoverflow.com/users/6154769/chubeez"}, "edited": false, "score": 0, "creation_date": 1460104195, "post_id": 36397542, "comment_id": 60597788, "body": "I figured it out: I was using the incorrect pass phrase! I was able to implement the much simpler perl module <code>Net::APNS</code>."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 6154769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d514697f1b8c47afd6757aa339eedd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Chubeez", "link": "https://stackoverflow.com/users/6154769/chubeez"}, "is_accepted": false, "score": 1, "last_activity_date": 1460104349, "creation_date": 1460104349, "answer_id": 36495039, "question_id": 36397542, "link": "https://stackoverflow.com/questions/36397542/cannot-complete-ssl-handshake-with-gateway-push-apple-com-using-perl-iosocket/36495039#36495039", "title": "Cannot complete SSL handshake with gateway.push.apple.com using perl IO::Socket::SSL", "body": "<p>I figured it out: I was using the incorrect pass phrase! I was able to implement the much simpler perl module <code>Net::APNS</code></p>\n\n<pre><code>use Net::APNS;\n\nmy %settings = (\n  cert   =&gt; \"$Cert_file\",\n  key    =&gt; \"$Cert_key_file\",\n  passwd =&gt; \"$passphrase\",\n);\n\nif(my $Notifier = Net::APNS-&gt;new-&gt;notify(\\%settings)) {\n  $Notifier-&gt;write({\n    devicetoken =&gt; \"$device_token\",\n    message     =&gt; \"$message\",\n    sound       =&gt; 'default',\n    badge       =&gt; 1\n  });\n\n  return 1 if defined($Notifier) and ref($Notifier) eq \"Net::APNS::Notification\";\n}\n</code></pre>\n\n<p>Thank you for all your input!</p>\n"}], "owner": {"reputation": 161, "user_id": 6154769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d514697f1b8c47afd6757aa339eedd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Chubeez", "link": "https://stackoverflow.com/users/6154769/chubeez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1460104349, "creation_date": 1459757643, "question_id": 36397542, "link": "https://stackoverflow.com/questions/36397542/cannot-complete-ssl-handshake-with-gateway-push-apple-com-using-perl-iosocket", "title": "Cannot complete SSL handshake with gateway.push.apple.com using perl IO::Socket::SSL", "body": "<p>I am very new to this type of thing and not sure what I am doing wrong.</p>\n\n<p>Inside Mojolicious app, I am battling to connect to the Apple Push Notification SSL Socket. I would like to send a push notification to an app.</p>\n\n<p>Debug Information:</p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:2700: new ctx 138351632\nDEBUG: .../IO/Socket/SSL.pm:612: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:614: socket connected\nDEBUG: .../IO/Socket/SSL.pm:636: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:669: using SNI with hostname gateway.push.apple.com\nDEBUG: .../IO/Socket/SSL.pm:704: request OCSP stapling\nDEBUG: .../IO/Socket/SSL.pm:736: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:2601: did not get stapled OCSP response\nDEBUG: .../IO/Socket/SSL.pm:2554: ok=0 [1] /O=Entrust.net/OU=www.entrust.net/CPS_2048 incorp. by ref. (limits liab.)/OU=(c) 1999 Entrust.net Limited/CN=Entrust.net Certification     Authority (2048)/C=US/O=Entrust, Inc./OU=www.entrust.net/rpa is incorporated by reference/OU=(c) 2009 Entrust, Inc./CN=Entrust Certification Authority - L1C\nDEBUG: .../IO/Socket/SSL.pm:739: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:742: SSL connect attempt failed\nDEBUG: .../IO/Socket/SSL.pm:742: local error: SSL connect attempt failed error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nDEBUG: .../IO/Socket/SSL.pm:745: fatal SSL error: SSL connect attempt failed error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nDEBUG: ...5.18/IO/Socket.pm:48: ignoring less severe local error 'IO::Socket::IP configuration failed', keep 'SSL connect attempt failed error:14090086:SSL     routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed'\nDEBUG: .../IO/Socket/SSL.pm:2733: free ctx 138351632 open=138351632\nDEBUG: .../IO/Socket/SSL.pm:2738: free ctx 138351632 callback\nDEBUG: .../IO/Socket/SSL.pm:2745: OK free ctx 138351632\n</code></pre>\n\n<p>Code snip bit:</p>\n\n<pre><code>use IO::Socket::SSL qw(debug3);\n\nmy $cl = IO::Socket::SSL-&gt;new(\n  PeerHost =&gt; 'gateway.push.apple.com',\n  # PeerHost =&gt; 'gateway.sandbox.push.apple.com',\n  PeerPort =&gt; '2195',\n  SSL_verify_mode =&gt; SSL_VERIFY_PEER,\n  SSL_ca_file =&gt; '/var/www/foo/bar/cert/ck.pem',\n);\n</code></pre>\n\n<p>I'm not sure where to go or what to do from here?</p>\n"}, {"tags": ["linux", "perl", "chmod"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1459755229, "post_id": 36396679, "comment_id": 60410342, "body": "Become root and change it back.  Then carefully review <code>perldoc -f chmod</code>."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1459755317, "post_id": 36396679, "comment_id": 60410391, "body": "I suspect what you did caused chmod to interpret <code>-R</code> as the mode, i.e. <code>0</code>, and then try to apply it to files named &#39;775&#39; and &quot;path-to-current-folder&quot;."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1459755480, "post_id": 36396679, "comment_id": 60410481, "body": "@xxfelixxx almost, not quite. <code>-R</code> is one of the <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file test operators</a>; <code>-R 775</code> is the result of the test &quot;is the file named <code>775</code> readable by the RUID?&quot; which is probably false because there is no file named <code>775</code>. Then that false becomes 0."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1459755570, "post_id": 36396679, "comment_id": 60410532, "body": "(if it did exist and was readable, the true value of 1 would give a mode of <code>d--------x</code> which is hardly more useful)"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1459755692, "post_id": 36396679, "comment_id": 60410590, "body": "Good call hobbs.  Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "edited": false, "score": 0, "creation_date": 1459757300, "post_id": 36396975, "comment_id": 60411511, "body": "Thanks, so there is no way for a Perl script to recursively change permissions of all files under a directory?"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "edited": false, "score": 0, "creation_date": 1459757789, "post_id": 36396975, "comment_id": 60411772, "body": "As far as I know, no - not directly via builtins.  Obviously a &quot;system&quot; call to &quot;chmod -R&quot; would do it or alternatively, you could use the File::Find module to find files meeting whatever criteria you have and apply the chmod via the so-called &amp;wanted function."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 1, "last_activity_date": 1459755553, "creation_date": 1459755553, "answer_id": 36396975, "question_id": 36396679, "link": "https://stackoverflow.com/questions/36396679/running-perl-script-accidentally-locked-a-folder/36396975#36396975", "title": "Running Perl script accidentally locked a folder", "body": "<p>I think you're confusing the 'chmod' shell command with  the 'chmod' perl function.  The latter takes a single list as a parameter the first element of which must be the numeric code experessed in octal.  From <code>perldoc -f chmod</code> ;</p>\n\n<pre><code>  chmod LIST\n           Changes the permissions of a list of files.  The first element\n           of the list must be the numeric mode, which should probably be\n           an octal number, and which definitely should not be a string of\n           octal digits: 0644 is okay, but \"0644\" is not.  Returns the\n           number of files successfully changed.  See also \"oct\" if all\n           you have is a string.\n\n               $cnt = chmod 0755, \"foo\", \"bar\";\n               chmod 0755, @executables;\n           ... etc ...\n</code></pre>\n\n<p>The former - that is, the shell - has a <code>-R</code> switch.  See <code>man chmod</code> for details.</p>\n"}], "owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 36396975, "answer_count": 1, "score": 2, "last_activity_date": 1459755553, "creation_date": 1459754433, "last_edit_date": 1459755219, "question_id": 36396679, "link": "https://stackoverflow.com/questions/36396679/running-perl-script-accidentally-locked-a-folder", "title": "Running Perl script accidentally locked a folder", "body": "<p>I have a Perl script which has the following code</p>\n\n<pre><code>#/usr/bin/perl\nuse strict; use warnings;\nchmod -R 775,\"path-to-current-folder\";\n</code></pre>\n\n<p>Upon running this script, I am unable to access the current folder (and open this script of course) anymore. When seeing the folder in Konqueror, there is an additional lock in the folder icon. Can anyone tell me what happened and how can I undo this?</p>\n\n<p>I have checked the permission of this folder, apparently it was changed to <code>d---------</code>. I have solved this problem by resetting the permission, yet it would be great if anyone could explain why this happened. Thanks.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459765964, "post_id": 36395147, "comment_id": 60417019, "body": "Why are you trying to coerce this into a single regex?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459773498, "post_id": 36395147, "comment_id": 60422010, "body": "@sorbrique I had one interview call he said it is possible with a single regex. So  im trying it for long time with a eval group yet I could not get result"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1459793973, "post_id": 36395147, "comment_id": 60435896, "body": "@mkHun  Since you seem to strictly need it all inside a regex I added that to my answer."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459759446, "post_id": 36395278, "comment_id": 60412732, "body": "I think this answer might benefit from an explanation of why the numbers are all ending up in the first array."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459759870, "post_id": 36395278, "comment_id": 60412992, "body": "If you remove <code>$, = &quot;\\n&quot;</code> and replace <code>say @a1;  say @a2</code> with <code>say join(&quot;, &quot;, @a1);  say join(&quot;, &quot;, @a2);</code> you will see that all the numbers are not in the first array."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1459764649, "post_id": 36395278, "comment_id": 60416176, "body": "@Marty I tried eval group with <code>\\G</code>, any possible for to do it."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459764703, "post_id": 36395278, "comment_id": 60416207, "body": "@Sobrique Any possible way for to do it with eval grouping?"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1459777069, "post_id": 36395278, "comment_id": 60424761, "body": "I can&#39;t help any further except to say that \\d+ will give you 456 for $2 the first time, then the regex will try again and succeed with $2 being 45, then succeed again with just 4 - because they all satisfy \\d+ - but how you got &#39;7&#39;s in there when they&#39;re not in the original string, I have no idea.  The use of anchors would stop that repeated matching."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1459749100, "last_edit_date": 1459749100, "creation_date": 1459748619, "answer_id": 36395278, "question_id": 36395147, "link": "https://stackoverflow.com/questions/36395147/store-the-grouping-element-in-two-different-array-in-perl/36395278#36395278", "title": "Store the grouping element in two different array in perl?", "body": "<p>This is what you're after;</p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.12;\n\nmy $string = \"abc123def456abc321def654\";\nmy (@a1, @a2);\nwhile ($string =~ /abc(\\d+)def(\\d+)/g) {\n    push @a1, $1;\n    push @a2, $2;\n}\n$, = \"\\n\" ;\nsay @a1;\nsay @a2;\n\n# Output\n# 123\n# 321\n# 456\n# 654\n</code></pre>\n\n<p>As a general rule, try not to presume matches are successful.  Rather than assign directly to variables, perform a boolean test ('if' or 'while) on the result of the match first, and then do the assignment.</p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1459775915, "last_edit_date": 1459775915, "creation_date": 1459749786, "answer_id": 36395504, "question_id": 36395147, "link": "https://stackoverflow.com/questions/36395147/store-the-grouping-element-in-two-different-array-in-perl/36395504#36395504", "title": "Store the grouping element in two different array in perl?", "body": "<p>You could do:</p>\n\n<pre><code>use List::Util 'pairs';\nmy @a12 = pairs $string =~ /abc(\\d+)def(\\d+)/g;\nmy @a1 = map $_-&gt;[0], @a12;\nmy @a2 = map $_-&gt;[1], @a12;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use List::MoreUtils 'part';\nmy $i = 0;\nmy @part = part { $i++ % 2 } $string =~ /abc(\\d+)def(\\d+)/g;\nmy @a1 = @{ $part[0] };\nmy @a2 = @{ $part[1] };\n</code></pre>\n\n<p>Or just skip setting @a1 and @a2 and use the data in @a12 or @part.</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1460109602, "post_id": 36395964, "comment_id": 60601167, "body": "Thank you for your helpful answer. I learn new things from you. But i found the answer for my question with atomic group. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1460184205, "post_id": 36395964, "comment_id": 60633145, "body": "I have no idea what the -1 is for.  The code runs and prints as shown."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1460106977, "last_edit_date": 1460106977, "creation_date": 1459751761, "answer_id": 36395964, "question_id": 36395147, "link": "https://stackoverflow.com/questions/36395147/store-the-grouping-element-in-two-different-array-in-perl/36395964#36395964", "title": "Store the grouping element in two different array in perl?", "body": "<p><strong>Update &nbsp; Added a version which does it all in regex, based on requirement clarifications.</strong> </p>\n\n<hr>\n\n<p>Build a hash: Key is the pattern (<code>abc</code>, <code>def</code>, etc), value is the array reference with its matches.</p>\n\n<pre><code> my %h;\n() = $string =~ /([a-z]+)(\\d+)(?{push @{$h{$1}}, $2;})/g;\n</code></pre>\n\n<p>The <code>()</code> is needed to impose the list context, since otherwise only the first match happens, with <code>/g</code> only making it jump from match to match. See <a href=\"http://perldoc.perl.org/perlrequick.html#More-matching\" rel=\"nofollow\"><code>perlrequick</code></a>.  Note that running code in the matching part is an experimental feature.  Instead, you can evaluate code in the substitution part.</p>\n\n<pre><code>my %h;\n$string =~ s/([a-z]+)(\\d+)/{push @{$h{$1}}, $2}/eg;\n</code></pre>\n\n<p>This is of course destructive to the original string. </p>\n\n<p>The resulting hash has keys which are the patterns (<code>abc</code>, <code>def</code>, ...), with key values being array-ref with all matches for that key. You can have any number of pattern-digits pairs, not only two.  See below.</p>\n\n<p>Both of these variants print the same as below.</p>\n\n<hr>\n\n<p><em>Posted initially</em></p>\n\n<p>This assumes a pattern (your <code>abc</code> or <code>def</code>) followed by digits.  Here the pattern used is <code>[a-zA-Z]</code>, per your examples.  You can have any number of such pairs, not only two.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $string = \"abc123def456abc321def654\";\n\nmy %h; \nmy $patt = qr/[a-zA-Z]/;  # for example\n\npush @{$h{$1}}, $2  while ($string =~ /($patt+)(\\d+)/g);\n\nprint \"$_ =&gt; @{$h{$_}}\\n\" for keys %h;\n</code></pre>\n\n<p>Prints</p>\n\n<pre>\ndef => 456 654 \nabc => 123 321 \n</pre>\n\n<p>With more than two pattern-digits pairs (added <code>ghi111</code> and <code>ghi222</code>),</p>\n\n<pre><code>my $string = \"abc123def456abc321ghi111def654ghi222\";\n# exactly the same code ...\n</code></pre>\n\n<p>Prints</p>\n\n<pre>\ndef => 456 654 \nabc => 123 321 \nghi => 111 222\n</pre>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1460109345, "creation_date": 1460109345, "answer_id": 36496653, "question_id": 36395147, "link": "https://stackoverflow.com/questions/36395147/store-the-grouping-element-in-two-different-array-in-perl/36496653#36496653", "title": "Store the grouping element in two different array in perl?", "body": "<p>I found the answer for my question. I used atomic group and capture the result. Backtracking is problem of my second case so i used atomic groups, help to avoid the backtracking. </p>\n\n<pre><code>$string =~m/abc(\\d+)(?{push @a1, $1;})def(?&gt;(\\d+)) (?{ push @a2,$2; })\\G/x;\n</code></pre>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 3, "accepted_answer_id": 36496653, "answer_count": 4, "score": 3, "last_activity_date": 1460109345, "creation_date": 1459747866, "last_edit_date": 1459764554, "question_id": 36395147, "link": "https://stackoverflow.com/questions/36395147/store-the-grouping-element-in-two-different-array-in-perl", "title": "Store the grouping element in two different array in perl?", "body": "<p>I tried to store the first group in <code>@a1</code> and second group in <code>@a2</code></p>\n\n<pre><code>my $string = \"abc123def456abc321def654\";\nmy (@a1,@a2) = $string =~m/abc(\\d+)def(\\d+)/g;\n$, = \"\\n\";\nprint @a1; \n</code></pre>\n\n<p>Result is <code>123 456 321 654</code> and then <code>@a2</code> is empty. But i want the result is <code>@a1 = 123 321</code>; <code>@a2 = 456 654</code>\nFor this result i tried hash , for to store the keys are first grouping and the values are second grouping but the problem is duplicates are removed. Any possible way for to do it with a single regex matching ?</p>\n\n<p>I tried <code>eval group</code> within pattern matching. I get the correct result from <code>@a1</code>  but <code>@a2</code> going wrong. And don't know  what is the problem?</p>\n\n<pre><code>my (@a1, @a2);\n$string =~m/abc(\\d+) (?{push @a1, $1}) def(\\d+)(?{push @a2,$2 }) \\G/x;\n</code></pre>\n\n<p><code>@a1</code> result is</p>\n\n<pre><code>1234\n321\n666\n</code></pre>\n\n<p><code>@a2</code> result is</p>\n\n<pre><code>4567\n456\n45\n4\n654\n65\n6\n777\n77\n7\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1459754138, "creation_date": 1459754138, "answer_id": 36396593, "question_id": 36395135, "link": "https://stackoverflow.com/questions/36395135/how-to-goto-specific-tag-with-some-specific-attribute-in-html-using-perl/36396593#36396593", "title": "How to goto specific tag with some specific attribute in html using perl?", "body": "<p>You need to iterate over the tables, then the rows:</p>\n\n<pre><code>foreach my $table ($te-&gt;tables) {\n    foreach my $row ($table-&gt;rows) {\n       push @arr, @$row;\n       print @$row;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1459754927, "creation_date": 1459754927, "answer_id": 36396808, "question_id": 36395135, "link": "https://stackoverflow.com/questions/36395135/how-to-goto-specific-tag-with-some-specific-attribute-in-html-using-perl/36396808#36396808", "title": "How to goto specific tag with some specific attribute in html using perl?", "body": "<p>One way is via the excellent <a href=\"https://metacpan.org/release/XML-LibXML\" rel=\"nofollow\">XML::LibXML module</a>.  While you may think the module would accept only well-formed XML, it turns out that - as explained in this equally excellent <a href=\"http://grantm.github.io/perl-libxml-by-example/html.html\" rel=\"nofollow\">tutorial</a> by <strong>Grant McLean</strong> - ;   </p>\n\n<p><em>In fact, the parser has an HTML mode that handles unclosed tags like <code>&lt;img&gt;</code> and <code>&lt;br&gt;</code> and is even able to recover from parse errors caused by poorly formed HTML.</em></p>\n\n<p>To do that, you pass in a true value to the recover flag on the constructor;</p>\n\n<pre><code>my $url = 'http://finance.yahoo.com/q/pr?s=yhoo' ;\nmy $dom = XML::LibXML-&gt;load_html(\n    location =&gt; $url ,\n    recover  =&gt; 1  ,\n);\nsay $dom-&gt;toStringHTML();\n</code></pre>\n\n<p>One can use the snippet above to verify successful fetching of the URL.  This will produce any errors on STDERR, so having verified you have got the data, run it again redirecting the output to the null device, <code>./script &gt; /dev/null</code>, so that you can see what errors LibXML is finding in the HTML.</p>\n\n<p>Having done that and satisfied yourself that nothing major is being passed over, you can add the <code>suppress_errors</code> flag to the constructor and use an XPATH query to pull out the data you are after;</p>\n\n<pre><code>use v5.12;\nuse XML::LibXML;\n\nmy $url      = 'http://finance.yahoo.com/q/pr?s=yhoo' ;\nmy $table_id = \"yfncsumtab\" ;\nmy $td_class = \"yfnc_modtitlew1\" ;\nmy $xpath    = sprintf  '//table[@id=\"%s\"]//td[contains(@class, \"%s\")]' ,\n                        $table_id , $td_class ;\n\nmy $dom = XML::LibXML-&gt;load_html(\n    location =&gt; $url ,\n    recover  =&gt; 1  ,\n    suppress_errors =&gt; 1\n);\n# say $dom-&gt;toStringHTML();\n\nfor my $td ($dom-&gt;findnodes($xpath)) {\n    say $_-&gt;textContent  for $td-&gt;childNodes ;\n}\n</code></pre>\n\n<p>Rather than explain this in great detail, I can't do better than to again refer you to Grant's tutorial.</p>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 1, "last_activity_date": 1459777753, "last_edit_date": 1459777753, "creation_date": 1459762327, "answer_id": 36398987, "question_id": 36395135, "link": "https://stackoverflow.com/questions/36395135/how-to-goto-specific-tag-with-some-specific-attribute-in-html-using-perl/36398987#36398987", "title": "How to goto specific tag with some specific attribute in html using perl?", "body": "<p>I don't think your table is setup in a way that makes TableExtract the right tool.  TableExtract essentially turns a table into an Excel spreadsheet, then you retrieve data using row and/or column numbers, e.g. <code>cell(0, 4)</code>. You can't pick out rows by their id attributes.  </p>\n\n<p>TableExtract is for tables such as:</p>\n\n<pre><code>            Q1      Q2    Q3\nteamA       10      20    30\nteamB       40      50    60\nteamC       70      80    90\n</code></pre>\n\n<p>In fact, the yahoo html coders are misusing tables for non tabular data--but yahoo is old school.</p>\n\n<p>However, the row you are targeting is the second row of the table, so you <em>could</em> use TableExtract on your html like this:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse LWP::Simple;\nuse HTML::TokeParser::Simple;\nuse HTML::TableExtract;\nuse Data::Dumper;\n\nmy $url = \"http://finance.yahoo.com/q/pr?s=yhoo\";\nmy $html_string = get($url) or die \"Couldn't download webpage!\";\n\nmy $target_table_id = \"yfncsumtab\";\n\nmy $table_extractor = HTML::TableExtract-&gt;new(\n    attribs =&gt; { id =&gt; $target_table_id },\n);\n\n$table_extractor-&gt;parse($html_string);\n\nmy $table = $table_extractor-&gt;first_table_found()\n    or die \"No matching tables!\";\n\nmy $text = $table-&gt;cell(1, 0);  #second row, first column\nmy @lines = split \"\\n\", $text, 5; \n\nfor my $line (splice @lines, 0, 4) {\n    say $line;\n}\n\n__END__\nYahoo! Inc.\n701 First Avenue\nSunnyvale, \n        CA 94089\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6154266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991e54e608cb53698626967bd22356de?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav", "link": "https://stackoverflow.com/users/6154266/gourav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 36398987, "answer_count": 3, "score": 1, "last_activity_date": 1459777753, "creation_date": 1459747817, "question_id": 36395135, "link": "https://stackoverflow.com/questions/36395135/how-to-goto-specific-tag-with-some-specific-attribute-in-html-using-perl", "title": "How to goto specific tag with some specific attribute in html using perl?", "body": "<p>I have tried using Table Extractor but I am not getting what I needed..</p>\n\n<p>From this (<a href=\"http://finance.yahoo.com/q/pr?s=yhoo\" rel=\"nofollow\">http://finance.yahoo.com/q/pr?s=yhoo</a>) html file i need to get company address that is present in td with class=\"yfnc_modtitlew1\" which in table with id = \"yfncsumtab\"</p>\n\n<pre><code>use LWP::Simple;\nuse HTML::Parser;\nuse HTML::TokeParser;\nuse HTML::TableExtract;\n\nmy $file= \"Tickers\\\\EBAY\\\\EBAY_profile.html\";\n\nmy $te = HTML::TableExtract-&gt;new( attribs =&gt; { id =&gt; \"yfncsumtab\" });\n$te-&gt;parse_file($file);\n$te-&gt;tables;\nmy  @arr;\nforeach my $row ($te-&gt;rows) \n{\n   push @arr,@$row;\n   print @$row ;\n}\n</code></pre>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["linux", "perl", "merge", "split"], "answers": [{"comments": [{"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1459747568, "post_id": 36394829, "comment_id": 60406782, "body": "In your first code block, I think you have a small typo and meant to split on <code>$line</code> instead of <code>$_</code>"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1459748385, "post_id": 36394829, "comment_id": 60407087, "body": "I hated to &quot;nit&quot; about it, but OP is at the stage where he [probably] needs the precision in the examples. Also, so far, you&#39;re the only one doing the <code>push</code> which is the cleanest/fastest way [although sferncik <i>did</i> do as much by linking to the doc for it]"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 4, "last_activity_date": 1459747894, "last_edit_date": 1459747894, "creation_date": 1459745837, "answer_id": 36394829, "question_id": 36394537, "link": "https://stackoverflow.com/questions/36394537/having-some-issues-with-perl-splitting-and-merging-functions/36394829#36394829", "title": "Having some issues with Perl Splitting and Merging Functions", "body": "<p>I hope you need to store the all splitting element into array, so you looking for <code>push</code> function. </p>\n\n<pre><code>foreach $line (@input_lines)\n{\n    push(@all_numbers,split(/\\s/,$line));\n\n}\n</code></pre>\n\n<p>Your problem is, in every iteration, the splitted  value is over written in an array not to append together. For example,</p>\n\n<pre><code>@array = qw(one two three);\n@array = qw(five four seven); \nprint \"@array\";   \n</code></pre>\n\n<p>output is <code>five four seven</code> not the <code>one two three five four seven</code> because this is reinitialize with a new values. You want to append the new values in the array in before or after use <code>unshift</code> or <code>push</code> \nfor example</p>\n\n<pre><code>@array = qw(one two three);\npush(@array,qw(five four seven)); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "edited": false, "score": 0, "creation_date": 1459746151, "post_id": 36394859, "comment_id": 60406318, "body": "Looking at my output, I realized that the output was just the last line and I sort of figured that I was overwriting it, but I didn&#39;t know how to access each element of the array.  In C++, we would just the for the loop increment or decrement counter in the subscript of the array to access each new element, but I had no idea how to do that here.  I&#39;ll take a look into the push function, but it may be out of the scope of the lesson were learning, so I may have to find an alternative."}, {"owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "reply_to_user": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "edited": false, "score": 0, "creation_date": 1459746820, "post_id": 36394859, "comment_id": 60406533, "body": "I&#39;m almost certain they want you to get familiar with <code>push()</code> here, and use it. It&#39;s at the heart of the Perl language. And it&#39;s trivial to use, too; don&#39;t shy away from it :-)"}], "tags": [], "owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "is_accepted": false, "score": 4, "last_activity_date": 1459745986, "creation_date": 1459745986, "answer_id": 36394859, "question_id": 36394537, "link": "https://stackoverflow.com/questions/36394537/having-some-issues-with-perl-splitting-and-merging-functions/36394859#36394859", "title": "Having some issues with Perl Splitting and Merging Functions", "body": "<p>You say you're \"not looking for an answer,\" so here's your nudge:</p>\n\n<p>You're almost there. You split each line well (using <code>split/\\s/</code>) and store the numeric values in <code>@all_numbers</code>. However, notice that each time around in the loop, you replace (using the assignment, <code>@all_numbers = ...</code>) the whole contents of <code>@all_numbers</code> with the numbers you found in the current line. Effectively, you're throwing away everything you've stored from the previous lines.</p>\n\n<p>Instead, you want to <em>add</em> to <code>@all_numbers</code>, not replace <code>@all_numbers</code>. Have a look at the <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow\">push() function</a> for how to do this.</p>\n\n<p>NB: Your <code>split()</code> call is fine, but it's more customary to use <code>split(' ', $line)</code> in this case. (See <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split()</a>: you can use a single space, <code>' '</code>, instead of the pattern, <code>/\\s/</code>, when you want to split on any whitespace.)</p>\n"}, {"comments": [{"owner": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "edited": false, "score": 0, "creation_date": 1459747813, "post_id": 36395091, "comment_id": 60406877, "body": "I realize it was very inconvenient.  I only posted photos of my code, versus the code, to keep it from being searchable.  Not sure how far my professors look into stack overflow, if at all.  None of them have ever mentioned not using help from a community, though.  Thats my only reason.  Secondly, the class is huge in what it goes over, but we don&#39;t spend considerable time on any one topic.  For example, we are only spending 4 hours on Perl in lecture, versus my two semesters already dedicated to just C++.  Thanks, I think this is really close to what is wanted."}, {"owner": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "edited": false, "score": 0, "creation_date": 1459747854, "post_id": 36395091, "comment_id": 60406895, "body": "I just wasn&#39;t sure how to notate the second merge line, thanks a ton."}, {"owner": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "edited": false, "score": 0, "creation_date": 1459749154, "post_id": 36395091, "comment_id": 60407348, "body": "This was exactly it.  100 percent.  Thanks a ton."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "edited": false, "score": 0, "creation_date": 1459749397, "post_id": 36395091, "comment_id": 60407441, "body": "@joe_04_04 Nothing wrong in taking help from community unless you are asking for full code without trying anything."}, {"owner": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "reply_to_user": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1459749553, "post_id": 36395091, "comment_id": 60407509, "body": "@Raju I do my best to never ask for full help on any problem.  In my previous posts with C++, I only ask for nudges on small portions of a problem I might be stuck on.  I&#39;m pretty stubborn about learning it all on my own, because I truly care to learn this field, but sometimes you bang your head against the wall too much for so many hours, a tip from someone more intelligent is all you need.  Thanks for the help guys."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "edited": false, "score": 0, "creation_date": 1459778042, "post_id": 36395091, "comment_id": 60425505, "body": "@joe_04_04 ou can also always rename stuff and keep it abstract."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": true, "score": 5, "last_activity_date": 1459747452, "creation_date": 1459747452, "answer_id": 36395091, "question_id": 36394537, "link": "https://stackoverflow.com/questions/36394537/having-some-issues-with-perl-splitting-and-merging-functions/36395091#36395091", "title": "Having some issues with Perl Splitting and Merging Functions", "body": "<p>Several things to fix here. First of all, please don't post screenshots of your sample data or code, as it makes it impossible to copy and paste to test your code or data. Post your code/data by indenting it with four spaces and a newline preceding the code block.</p>\n\n<p>Add <code>use strict;</code> in your script. This should be lesson 0 in your class. After that add <code>my</code> to all variable declarations.</p>\n\n<p>To populate <code>@all_numbers</code> with contents of each line's numbers, without using <code>push</code>, you can use something like this:</p>\n\n<pre><code>foreach my $line (@output_lines)\n{\n    my @numbers = split /\\s/, $line;\n    @all_numbers = (@all_numbers, @numbers);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1459750567, "creation_date": 1459750567, "answer_id": 36395686, "question_id": 36394537, "link": "https://stackoverflow.com/questions/36394537/having-some-issues-with-perl-splitting-and-merging-functions/36395686#36395686", "title": "Having some issues with Perl Splitting and Merging Functions", "body": "<p>Another way:</p>\n\n<pre><code>my @all_numbers = map { split ' ', $_ } @output_lines;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/map.html</a></p>\n"}], "owner": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 36395091, "answer_count": 4, "score": -1, "last_activity_date": 1459750567, "creation_date": 1459743767, "last_edit_date": 1459745126, "question_id": 36394537, "link": "https://stackoverflow.com/questions/36394537/having-some-issues-with-perl-splitting-and-merging-functions", "title": "Having some issues with Perl Splitting and Merging Functions", "body": "<p>First and foremost, I'm not familiar with Perl at all.  I've been studying C++ primarily for the last 1/2 year.  I'm in a class now that that is teaching Linux commands, and we have short little topics on languages used in Linux, including Perl, which is totally throwing me for a loop (no pun intended).  I have a text file that contains a bunch of random numbers separated by spaces and tabs, maybe even newlines, that gets read into the program via a filehandle.  I'm supposed to write 2 lines of code that split the lines of numbers and merge them into one array, inside of a foreach loop.  I'm not looking for an answer, just a nudge in the right direction.  I've been trying different things for multiple hours and feel totally silly I can't get it, I'm totally lost with the syntax.  Its just a bit odd not working inside a compiler and out of my comfort zone working outside of C++.  I really appreciate it.  I've included a few photos.  Basically, the code we are writing it just to store the numbers and the rest of the program will determine the smallest number and sum of all numbers.  Mine is currently incorrect because I'm not sure what to do.  In the output photo, it will display all the numbers being entered in via the text file, so you can see them.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZUQrk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUQrk.png\" alt=\"code\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8xL62.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8xL62.png\" alt=\"output\"></a></p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1459740939, "post_id": 36393757, "comment_id": 60404965, "body": "That&#39;s a weird one. Does <code>perl -Mdiagnostics -e1</code> give an error?"}, {"owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1459741568, "post_id": 36393757, "comment_id": 60405088, "body": "I can&#39;t even get <code>perl -e &#39;use diagnostics;&#39;</code> to work. I upgraded to 5.22.1 also."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1459741830, "post_id": 36393757, "comment_id": 60405149, "body": "does cygwin have a package for perldocs that&#39;s separate from the package for perl? If so, make sure it&#39;s installed."}, {"owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1459742241, "post_id": 36393757, "comment_id": 60405267, "body": "@hobbs No, it doesn&#39;t have a <code>perldocs</code> package."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1459742348, "post_id": 36393757, "comment_id": 60405301, "body": "@Chloe I found the package list, looks like it&#39;s <code>perl_pods</code>. Please try installing it."}], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 11, "last_activity_date": 1459742598, "creation_date": 1459742598, "answer_id": 36394390, "question_id": 36393757, "link": "https://stackoverflow.com/questions/36393757/how-do-i-use-diagnostics-for-perl-on-cygwin/36394390#36394390", "title": "How do I &#39;use diagnostics&#39; for Perl on Cygwin?", "body": "<p>The <code>diagnostics</code> module gets its explanations for messages from the perldoc file <code>perldiag.pod</code>. Both of these are core parts of perl, but some packaging systems choose to distribute documentation in a separate package that might not be installed even when perl is. In the case of Cygwin this package is <code>perl_pods</code>. Installing that package should make the <code>diagnostics</code> module work properly.</p>\n"}], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 0, "accepted_answer_id": 36394390, "answer_count": 1, "score": 3, "last_activity_date": 1459742598, "creation_date": 1459737179, "last_edit_date": 1459741655, "question_id": 36393757, "link": "https://stackoverflow.com/questions/36393757/how-do-i-use-diagnostics-for-perl-on-cygwin", "title": "How do I &#39;use diagnostics&#39; for Perl on Cygwin?", "body": "<p>I want to install <code>DBD::AnyData</code> which requires <code>SQL::Statement</code> which requires <code>Math::Base::Convert</code>. However, it's giving me this error</p>\n\n<pre><code>$ cpan install Math::Base::Convert\n...\nt/overload.t .............. couldn't find diagnostic data in /usr/lib/perl5/5.22/pods/perldiag.pod /home/Chloe/.cpan/build/Math-Base-Convert-0.11-EySfLp/blib/lib /home/Chloe/.cpan/build/Math-Base-Convert-0.11-EySfLp/blib/arch /usr/lib/perl5/site_perl/5.22/i686-cygwin-threads-64int /usr/lib/perl5/site_perl/5.22 /usr/lib/perl5/vendor_perl/5.22/i686-cygwin-threads-64int /usr/lib/perl5/vendor_perl/5.22 /usr/lib/perl5/5.22/i686-cygwin-threads-64int /usr/lib/perl5/5.22 . t/overload.t at /usr/lib/perl5/5.22/diagnostics.pm line 259, &lt;POD_DIAG&gt; line 704.\nCompilation failed in require at t/overload.t line 1.\nBEGIN failed--compilation aborted at t/overload.t line 1.\nt/overload.t .............. Dubious, test returned 2 (wstat 512, 0x200)\n\nTest Summary Report\n-------------------\nt/overload.t            (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nFiles=20, Tests=5327,  2 wallclock secs ( 0.28 usr  0.01 sys +  0.76 cusr  0.42 csys =  1.48 CPU)\nResult: FAIL\nFailed 1/20 test programs. 0/5327 subtests failed.\nMakefile:859: recipe for target 'test_dynamic' failed\nmake: *** [test_dynamic] Error 255\n  MIKER/Math-Base-Convert-0.11.tar.gz\n  /usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports MIKER/Math-Base-Convert-0.11.tar.gz\n</code></pre>\n\n<p>I already ran <code>cpan -u</code>. </p>\n\n<p>CPAN version 1.61, Perl 5.22.0</p>\n"}, {"tags": ["arrays", "perl", "file", "split"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1459720260, "post_id": 36391575, "comment_id": 60400197, "body": "looks like a json file. See <a href=\"http://perlmaven.com/json\" rel=\"nofollow noreferrer\">JSON in Perl at Perl Maven</a>."}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 1, "creation_date": 1459720429, "post_id": 36391575, "comment_id": 60400250, "body": "It would be nice if you explained <i>how</i> the code doesn&#39;t work, even if the snippet is easy and short to read."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1467625445, "last_edit_date": 1467625445, "creation_date": 1459720697, "answer_id": 36391730, "question_id": 36391575, "link": "https://stackoverflow.com/questions/36391575/making-array-of-hashes-from-file-text-perl/36391730#36391730", "title": "making array of hashes from file text perl", "body": "<p>That's JSON data (<em>JavaScript Object Notation</em>) except that the very last comma <code>,</code> should be a closing square bracket <code>]</code>. Use the <a href=\"https://p3rl.org/JSON\" rel=\"nofollow\"><code>JSON</code></a> module to decode it into a Perl data structure</p>\n\n<p>This program shows the principle. It prints just the subject line of each item, but I think you get the idea</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse JSON qw/ decode_json /;\n\nmy $json = do {\n    open my $fh, '&lt;:raw', 'text_file.txt' or die $!;\n    local $/;\n    &lt;$fh&gt;;\n};\n\nmy $data = decode_json($json);\nmy $items = $data-&gt;{ITEMS};\n\nfor my $item ( @$items ) {\n    print $item-&gt;{SUBJECT}, \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>UPCOMING EVENTS: ORIENTATION 2016\nPROJECT 1 FIRST TIME MEETING\nPROJECT 1 FIRST TIME MEETING\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6153421, "user_type": "registered", "profile_image": "https://graph.facebook.com/1718679998402608/picture?type=large", "display_name": "M Bilal Jamshed", "link": "https://stackoverflow.com/users/6153421/m-bilal-jamshed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467625445, "creation_date": 1459719771, "last_edit_date": 1459720056, "question_id": 36391575, "link": "https://stackoverflow.com/questions/36391575/making-array-of-hashes-from-file-text-perl", "title": "making array of hashes from file text perl", "body": "<p>I have a text file which looks like this </p>\n\n<pre><code>{\n  \"TYPE\": \"EMAIL\",\n  \"ITEMS\": [\n    {\n      \"SENT\": \"2016-02-01T19:03:02.00Z\",\n      \"SUBJECT\": \"UPCOMING EVENTS: ORIENTATION 2016\",\n      \"TIMEZONE\": \"AUSTRALIA/MELBOURNE\",\n      \"CONTENT\": \"WE'RE PLEASED TO BE WORKING WITH RMIT LINK'S ORIENTATION TEAM AND RUSU TO WELCOME ALL NEW STUDENTS TO CAMPUS THROUGH A SERIES OF EXCITING ORIENTATION EVENTS. THIS EMAIL SERVES AS A NOTIFICATION TO MAKE SURE YOU KNOW WHEN THE MAJOR EVENTS ARE OCCURRING, TO ENSURE THEY DON'T INTERRUPT YOUR WORK AND SO THAT YOU ARE ABLE TO ENCOURAGE ALL NEW STUDENTS TO ATTEND. BRUNSWICK ALL STUDENTS WELCOME, 23 FEBRUARY 12 - 1:30PM BRUNSWICK COURTYARD. BUNDOORA ALL STUDENTS WELCOME, 24 FEBRUARY 12 - 2PM BUNDOORA WEST CONCOURSE. CITY ALL STUDENTS WELCOME, 25 FEBRUARY 11AM - 2:30PM ALUMNI COURTYARD, UNIVERSITY WAY. RUSU WELCOME BASH, 25 FEBRUARY 4PM - 9PM ALUMNI COURTYARD. CITY CLUBS DAY, 3 MARCH 11AM - 2PM ALUMNI COURTYARD, UNIVERSITY WAY.\"\n    },\n    {\n      \"SENT\": \"2016-03-03T19:03:02.00Z\",\n      \"SUBJECT\": \"PROJECT 1 FIRST TIME MEETING\",\n      \"TIMEZONE\": \"AUSTRALIA/MELBOURNE\",\n      \"CONTENT\": \"EARLY NEXT WEEK IS GOOD FOR US.  HOW ABOUT MONDAY 11AM?\"\n    },\n    {\n      \"SENT\": \"2016-03-03T19:03:02.00Z\",\n      \"SUBJECT\": \"PROJECT 1 FIRST TIME MEETING\",\n      \"TIMEZONE\": \"AUSTRALIA/MELBOURNE\",\n      \"CONTENT\": \"EARLY NEXT WEEK IS GOOD FOR US.  HOW ABOUT TUESDAY 11:30 AM?\"\n    },\n}\n</code></pre>\n\n<p>I'm trying to extract the information making ITEMS as an array of Hashes. So that i can access the values for sent subject timezone and etc.</p>\n\n<p>I have tried this it doesnt work. Any help?</p>\n\n<pre><code>my @AoH ;\n\n\n\nwhile ( &lt;&gt; ) {\n    my $rec = {};\n    for  my $field ( split ) {\n        (my $key, my $value) = split /:/, $field;\n        $rec-&gt;{$key} = $value;\n    }\n    push @AoH, $rec;\n}\n</code></pre>\n"}, {"tags": ["macos", "perl", "cpan", "wxwidgets"], "comments": [{"owner": {"reputation": 81, "user_id": 6152065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZLgFCK_n9kw/AAAAAAAAAAI/AAAAAAAAAQA/-uPkhMLsUEM/photo.jpg?sz=128", "display_name": "guiohm", "link": "https://stackoverflow.com/users/6152065/guiohm"}, "edited": false, "score": 0, "creation_date": 1459700514, "post_id": 36387898, "comment_id": 60392559, "body": "And here is the full <code>.&#47;wxWidgets-3.0.2&#47;bld&#47;config.log</code>: <a href=\"http://pastebin.com/raw/6d3zBSbj\" rel=\"nofollow noreferrer\">pastebin.com/raw/6d3zBSbj</a>"}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1459711630, "post_id": 36387898, "comment_id": 60396853, "body": "weird, can you try to compile wxWidgets by hand, i.e. without automation? Just do ../configure &amp;&amp; make &amp;&amp; make install."}, {"owner": {"reputation": 1146, "user_id": 1382970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/01c4253b4695140e6fd8b2ad8d91fdb3?s=128&d=identicon&r=PG", "display_name": "bits", "link": "https://stackoverflow.com/users/1382970/bits"}, "edited": false, "score": 1, "creation_date": 1483480510, "post_id": 36387898, "comment_id": 70112373, "body": "<code>brew uninstall xz</code> fixed it for me. source: <a href=\"https://bugs.launchpad.net/kicad/+bug/1285317\" rel=\"nofollow noreferrer\">bugs.launchpad.net/kicad/+bug/1285317</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "is_accepted": false, "score": 2, "last_activity_date": 1459711900, "creation_date": 1459711900, "answer_id": 36390133, "question_id": 36387898, "link": "https://stackoverflow.com/questions/36387898/alienwxwidgets-install-fails-on-osx-10/36390133#36390133", "title": "Alien::wxWidgets install fails on OSX 10", "body": "<p>The problem here is that libtiff configure detects <code>lzma.h</code> under <code>/usr/local</code> because it doesn't use <code>-isysroot</code>, but its compilation does, because of the SDK option, and fails to find it. The right thing to do would be to use <code>-I/usr/local/include</code> explicitly in wxWidgets configure, but for now you should be able to work around this by doing <code>export CPATH=/usr/local/include LIBRARY_PATH=/usr/local/lib</code> to bypass it.</p>\n\n<p>Alternatively (and IMHO preferably), do <code>brew install tiff jpeg png</code> (not sure that the formulae names are correct, please check them) to avoid building the builtin versions of these libraries in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6381715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e77061ba5f97a2a52a08baddbf5dd57?s=128&d=identicon&r=PG", "display_name": "GuGuss", "link": "https://stackoverflow.com/users/6381715/guguss"}, "is_accepted": false, "score": 0, "last_activity_date": 1492701351, "last_edit_date": 1495541859, "creation_date": 1492701351, "answer_id": 43523555, "question_id": 36387898, "link": "https://stackoverflow.com/questions/36387898/alienwxwidgets-install-fails-on-osx-10/43523555#43523555", "title": "Alien::wxWidgets install fails on OSX 10", "body": "<p>Running <code>brew install xz</code> fixed the issue for me.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/37594849/6381715\">https://stackoverflow.com/a/37594849/6381715</a></p>\n"}], "owner": {"reputation": 81, "user_id": 6152065, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZLgFCK_n9kw/AAAAAAAAAAI/AAAAAAAAAQA/-uPkhMLsUEM/photo.jpg?sz=128", "display_name": "guiohm", "link": "https://stackoverflow.com/users/6152065/guiohm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1492701351, "creation_date": 1459700439, "last_edit_date": 1495540016, "question_id": 36387898, "link": "https://stackoverflow.com/questions/36387898/alienwxwidgets-install-fails-on-osx-10", "title": "Alien::wxWidgets install fails on OSX 10", "body": "<p>It's basically the same as <a href=\"https://stackoverflow.com/questions/32689670/alienwxwidgets-install-fails-on-osx10-10\">this one</a> which didn't really ended up.</p>\n\n<p>I'm facing the same issue and I went a bit further. I had to change the code to allow a newer Macos sdk (10.11). So it compiled for a while but then failed whith this:</p>\n\n<pre><code>\u276f\u276f\u276f perl build\nBuilding Alien-wxWidgets\n/Users/guiohm/.cpan/build/Alien-wxWidgets-0.67-rVjMTK/wxWidgets-3.0.2/bld/bk-deps clang -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk -mmacosx-version-min=10.7 -c -o wxtiff_tif_lzma.o -DNDEBUG  -I../src/jpeg -I/Users/guiohm/.cpan/build/Alien-wxWidgets-0.67-rVjMTK/wxWidgets-3.0.2/bld/src/tiff/libtiff -I../src/tiff/libtiff -dynamic -fPIC -DPIC -D_FILE_OFFSET_BITS=64 -I/Users/guiohm/.cpan/build/Alien-wxWidgets-0.67-rVjMTK/wxWidgets-3.0.2/bld/lib/wx/include/osx_cocoa-unicode-3.0 -I../include -Wall -Wundef -O2 -fno-strict-aliasing -fno-common  ../src/tiff/libtiff/tif_lzma.c\n../src/tiff/libtiff/tif_lzma.c:38:10: fatal error: 'lzma.h' file not found\n#include \"lzma.h\"\n         ^\n1 error generated.\nmake: *** [wxtiff_tif_lzma.o] Error 1\nsystem: make all: 512 at build line 68.\n\n\u276f\u276f\u276f brew search\nlzma is now part of the xz formula.\n\n\u276f\u276f\u276f brew info\nxz: stable 5.2.2 (bottled)\nGeneral-purpose data compression with high compression ratio\nhttp://tukaani.org/xz/\n/usr/local/Cellar/xz/5.2.2 (91 files, 1.4M) *\n  Poured from bottle\nFrom: https://github.com/Homebrew/homebrew-core/blob/master/Formula/xz.rb\n==&gt; Options\n--universal\n    Build a universal binary\n\n\u276f\u276f\u276f brew install xz\nWarning: xz-5.2.2 already installed\n\n\u276f\u276f\u276f find / -name \"lzma.h\"\n/usr/local/Cellar/xz/5.2.2/include/lzma.h\n/usr/local/include/lzma.h\n\n\u276f\u276f\u276f ll /usr/local/include/lzm*\nlrwxr-xr-x 1 guiohm admin 31 Oct 11 15:58 /usr/local/include/lzma -&gt; ../Cellar/xz/5.2.2/include/lzma\nlrwxr-xr-x 1 guiohm admin 33 Oct 11 15:58 /usr/local/include/lzma.h -&gt; ../Cellar/xz/5.2.2/include/lzma.h\n</code></pre>\n\n<p>The weird thing is when I checked the config logs:\nThis one (<code>./wxWidgets-3.0.2/bld/src/tiff/config.log</code>) has other errors than lzma, for instance:</p>\n\n<pre><code>configure:18047: checking for lzma_code in -llzma\nconfigure:18072: clang -o conftest -g -O2 -Wall -W  -stdlib=libc++ conftest.c -llzma  -ljpeg -lz  &gt;&amp;5\nconfigure:18072: $? = 0\nconfigure:18081: result: yes\nconfigure:18096: checking lzma.h usability\nconfigure:18096: clang -c -g -O2 -Wall -W  conftest.c &gt;&amp;5\nconfigure:18096: $? = 0\nconfigure:18096: result: yes\nconfigure:18096: checking lzma.h presence\nconfigure:18096: clang -E  conftest.c\nconfigure:18096: $? = 0\nconfigure:18096: result: yes\nconfigure:18096: checking for lzma.h\nconfigure:18096: result: yes\nconfigure:18199: checking for X\nconfigure:18307: clang -E  conftest.c\nconftest.c:89:10: fatal error: 'X11/Xlib.h' file not found\n#include &lt;X11/Xlib.h&gt;\n         ^\n1 error generated.\nconfigure:18307: $? = 1\nconfigure: failed program was:\n| /* confdefs.h */\n| #define PACKAGE_NAME \"LibTIFF Software\"\n| #define PACKAGE_TARNAME \"tiff\"\n</code></pre>\n\n<p><a href=\"http://pastebin.com/raw/qwNLm8GF\" rel=\"nofollow noreferrer\">See the full version</a>.</p>\n\n<p>Ans it's more or less the same with <code>./wxWidgets-3.0.2/bld/config.log</code>.</p>\n\n<p>When I changed the code to allow os10.10 SDK, it was previously expecting up to 10.8 or maybe 10.9. I suppose the whole issue comes now from this.\nShould I try to fetch an old MacOS SDK?</p>\n\n<p>Basically, I just want to compile Slic3r --gui from source, which requires Wx, which requires wxwidgets.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1459703869, "post_id": 36387813, "comment_id": 60393826, "body": "Consider paying someone to help you if your needs are dire and urgent."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1459735851, "post_id": 36387813, "comment_id": 60403996, "body": "Re &quot;<i><code>$Rows</code> is an array variable and bypassFile is initialized as <code>&#39;bypassFile&#39;       =&gt; &#39;&#39;</code></i>&quot;, This makes no sense. For starters, <code>$Rows</code> is most definitely not an array variable; it&#39;s a scalar.  Secondly, <code>&#39;bypassFile&#39;       =&gt; &#39;&#39;</code> doesn&#39;t initialize anything."}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 3055262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c68f885c93d374664a7c49b58382cd3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3055262", "link": "https://stackoverflow.com/users/3055262/user3055262"}, "edited": false, "score": 0, "creation_date": 1459702775, "post_id": 36387846, "comment_id": 60393372, "body": "Thanks a lot for the example and the explanation. I&#39;ve been able to understand more about the script and I&#39;ve updated the question since my issue still does not seem to have resolved."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 365, "user_id": 3055262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c68f885c93d374664a7c49b58382cd3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3055262", "link": "https://stackoverflow.com/users/3055262/user3055262"}, "edited": false, "score": 2, "creation_date": 1459703367, "post_id": 36387846, "comment_id": 60393606, "body": "If you have a different question, create a new question. Changing the question is confusing."}, {"owner": {"reputation": 365, "user_id": 3055262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c68f885c93d374664a7c49b58382cd3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3055262", "link": "https://stackoverflow.com/users/3055262/user3055262"}, "edited": false, "score": 0, "creation_date": 1459703774, "post_id": 36387846, "comment_id": 60393787, "body": "apologies for the confusion. I will post a new question. I thank you for your directions."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1459700162, "creation_date": 1459700162, "answer_id": 36387846, "question_id": 36387813, "link": "https://stackoverflow.com/questions/36387813/conditional-statement-in-perl/36387846#36387846", "title": "Conditional statement in perl", "body": "<p><code>%Rows</code> is a hash table (associative array, dictionary). <code>$Rows</code> is an unrelated scalar variable.</p>\n\n<p>The match returns true if the value associated with the key <code>bypassFile</code> contains a \"word character\", i.e. a letter or a digit. The <a href=\"http://p3rl.org/exists\" rel=\"noreferrer\">exists</a> test is there to prevent warnings about an uninitialized value in a match.</p>\n\n<p>Cf. an example:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %Rows;\n\nsub show_result {\n    if (exists $Rows{bypassFile} &amp;&amp; $Rows{bypassFile} =~ /\\w/) {\n        print \"Yes\\n\";\n    } else {\n        print \"No\\n\";\n    }\n}\n\nshow_result();\n$Rows{bypassFile} = '';\nshow_result();\n$Rows{bypassFile} = ' ,';\nshow_result();\n$Rows{bypassFile} = 'a12';\nshow_result();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 365, "user_id": 3055262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c68f885c93d374664a7c49b58382cd3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3055262", "link": "https://stackoverflow.com/users/3055262/user3055262"}, "edited": false, "score": 0, "creation_date": 1459702761, "post_id": 36387863, "comment_id": 60393369, "body": "Thank you for elaborating choroba&#39;s explanation :) I&#39;ve been able to understand more about the script and I&#39;ve updated the question."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 1, "last_activity_date": 1459700224, "creation_date": 1459700224, "answer_id": 36387863, "question_id": 36387813, "link": "https://stackoverflow.com/questions/36387813/conditional-statement-in-perl/36387863#36387863", "title": "Conditional statement in perl", "body": "<p>Actually, <code>%Rows</code> is a hash, and <code>$Rows{bypassFile}</code> is an entry in this hash. Your <code>if</code> tests if the <code>bypassFile</code> key is present in the <code>%Rows</code> hash and then it test if the value for that key contains any \"word character\".</p>\n"}], "owner": {"reputation": 365, "user_id": 3055262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c68f885c93d374664a7c49b58382cd3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3055262", "link": "https://stackoverflow.com/users/3055262/user3055262"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1459718193, "creation_date": 1459699959, "last_edit_date": 1459703801, "question_id": 36387813, "link": "https://stackoverflow.com/questions/36387813/conditional-statement-in-perl", "title": "Conditional statement in perl", "body": "<p>I am almost illiterate about Perl and I need to debug a huge script in a limited time. I just needed a verbal explanation for the below.</p>\n\n<pre><code>if (exists $Rows{bypassFile} &amp;&amp; $Rows{bypassFile} =~ /\\w/).\n</code></pre>\n\n<p><code>$Rows</code> is an array variable and bypassFile is initialized as\n<code>'bypassFile'       =&gt; ''</code></p>\n\n<p>I could not understand <code>$Rows{bypassFile} =~ /\\w/</code>. \nWhat I found on the internet is: <code>=~</code> is a 'Match' operator. and <code>\\w</code> is a regular expression representing a single letter.</p>\n"}, {"tags": ["perl", "graph"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1459693484, "post_id": 36386545, "comment_id": 60389947, "body": "<code>{...}</code> defines a hash reference, not a hash. I can&#39;t run your code as presented here."}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1459693648, "post_id": 36386545, "comment_id": 60390001, "body": "I&#39;m very sorry. I don&#39;t know why but I can run it."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1459695316, "post_id": 36386818, "comment_id": 60390640, "body": "Oh god, thanks a lot!! works really nicely. I appreciate it enormously, really."}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1459696544, "post_id": 36386818, "comment_id": 60391091, "body": "How can I give you points or something? you saved my assignment :)"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1459698978, "post_id": 36386818, "comment_id": 60392032, "body": "@MarthaElenaIbarra you can click on the green tick next to the answer (and upvote it as well)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1459694463, "creation_date": 1459694463, "answer_id": 36386818, "question_id": 36386545, "link": "https://stackoverflow.com/questions/36386545/eulerian-path-directed-graph/36386818#36386818", "title": "Eulerian path, directed graph", "body": "<p>The problem is here:</p>\n\n<pre><code>if (@{$edges{$location}}[0])\n</code></pre>\n\n<p>One of your nodes is called <code>0</code> which is false in Perl. Therefore, once the zero node is reached, the program continues as if there were no more nodes.\nUse <a href=\"http://p3rl.org/defined\">defined</a> instead.</p>\n\n<p>Here's a working version, slightly edited (e.g. removed unnecessary array dereference):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %edges = ( 6 =&gt; [3, 7],\n              8 =&gt; [9],\n              1 =&gt; [3],\n              0 =&gt; [2],\n              3 =&gt; [0, 4],\n              7 =&gt; [8],\n              9 =&gt; [6],\n              2 =&gt; [1]);\n\nmy $startvertex = 6;\n\nmy $location = $startvertex;\nmy @stack = ($startvertex);\nmy @circuit;\n\nwhile (@stack) {\n    if (defined $edges{$location}[0]) {\n        push @stack, $location;\n        $location = shift @{ $edges{$location} };\n    } else {\n        push @circuit, $location;\n        $location = pop @stack;\n    }\n}\nmy @revcircuit = reverse @circuit;\nprint \"@revcircuit\\n\";\n</code></pre>\n\n<p>Also note that it uses round parentheses to define the <code>%edges</code> hash. Curly braces introduce a hash reference, with them I'm getting</p>\n\n<pre><code>Reference found where even-sized list expected at ./1.pl line 5.\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 36386818, "answer_count": 1, "score": 1, "last_activity_date": 1459694463, "creation_date": 1459693079, "last_edit_date": 1459693775, "question_id": 36386545, "link": "https://stackoverflow.com/questions/36386545/eulerian-path-directed-graph", "title": "Eulerian path, directed graph", "body": "<p>Good evening. I'm really a beginner, and I am working in an implementation of an Eulerian path. That means that every edge (not a vertex) of a directed graph has to be used only once.\nFor some reason it doesn't manage to go over all vertices even if in paper it should. It seems to ignore half of the vertices or simply not adding them to the circuit.</p>\n\n<p>The expected outcome is: </p>\n\n<pre><code>6-&gt;7-&gt;8-&gt;9-&gt;6-&gt;3-&gt;0-&gt;2-&gt;1-&gt;3-&gt;4\n</code></pre>\n\n<p>Nevertheless, the outcome I get is:</p>\n\n<pre><code>6 6 6 6 6 6 6 7 7 7 7 7 7 7 8 8 8 8 8 8 8 9 9 9 9 9 9 9 3 3 3 3 3 3\n</code></pre>\n\n<p>What i have as code is the following: </p>\n\n<pre><code>my %edges={'6'=&gt;['3','7'],'8'=&gt;['9'],'1'=&gt;['3'],'0'=&gt;['2'],'3'=&gt;['0','4'], '7' =&gt;['8'],'9'=&gt;['6'],'2'=&gt;['1']}; \n\n\n    my $startvertex=6; #this i got from additional code\n    my $location=$startvertex;\n    my @stack = ($startvertex);\n    my @circuit  = ();\n\n        while (@stack)\n        {\n            if (@{$edges{$location}}[0])\n                {\n                    push @stack, $location;\n                    my $newlocation=@{$edges{$location}}[0];\n                    splice @{$edges{$location}},0,1;\n                    $location=$newlocation;\n\n                }\n            else\n                {\n                push @circuit, $location;\n                $location=pop @stack;\n                } \n\n        }   \n\nmy @revcircuit= reverse @circuit;\nprint @revcircuit;\n</code></pre>\n\n<p>Thank you very much in advance for your insight. </p>\n"}, {"tags": ["perl", "tcpreplay"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459693886, "post_id": 36386192, "comment_id": 60390104, "body": "This works fine for me <code>perl -e&#39;while ( &lt;*.txt&gt; ) { print; &lt;&gt; }&#39;</code> printing one file name for each press of Enter. Can you test it on your system, please?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1459693987, "post_id": 36386192, "comment_id": 60390141, "body": "I&#39;ve tested this, and it works for a simple case, but definitely breaks with the <code>system</code> call to <code>tcpreplay</code>. It just skips right past the &lt;STDIN&gt; anything beyond the first pass, and when assigning it to a variable, is only defined on pass one."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1459694131, "post_id": 36386192, "comment_id": 60390191, "body": "Thanks guys. There is something strange about &quot;tcpreplay&quot;. Wonder if there is any workaround."}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1459694190, "post_id": 36386192, "comment_id": 60390209, "body": "Does ir make a difference if you chomp $_?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1459694304, "post_id": 36386192, "comment_id": 60390246, "body": "@sidyll: no, it doesn&#39;t"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1459694379, "post_id": 36386192, "comment_id": 60390270, "body": "$_ here doesn&#39;t a newline at the end, but you pointed out a bug here,  &lt;STDIN&gt; will overwrite $_.  Thanks."}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1459694757, "post_id": 36386192, "comment_id": 60390432, "body": "Please use <code>use strict;</code> in your script. Your use of <code>$f = $_;</code> indicates that you are not using <code>strict</code>."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1459694797, "post_id": 36386192, "comment_id": 60390448, "body": "That&#39;s true. Thanks @bart for pointing it out!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459719187, "post_id": 36386192, "comment_id": 60399828, "body": "@codingFun: A bare <code>&lt;&gt;</code> or <code>&lt;STDIN&gt;</code> <i>won&#39;t</i> overwrite <code>$_</code> -- the value entered is simply discarded. It&#39;s only within a <code>while</code> condition like <code>while ( &lt;&gt; ) { ... }</code> that <code>$_</code> is used to store the input"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459812137, "post_id": 36386192, "comment_id": 60444556, "body": "Thanks @Borodin for pointing it out, I was wrong."}], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 1, "creation_date": 1459694703, "post_id": 36386844, "comment_id": 60390409, "body": "Thanks for this workaround, it works great.  Wonder why the original one behave the way it did."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": true, "score": 2, "last_activity_date": 1459694605, "creation_date": 1459694605, "answer_id": 36386844, "question_id": 36386192, "link": "https://stackoverflow.com/questions/36386192/why-does-this-script-that-uses-tcpreplay-not-wait-for-user-input/36386844#36386844", "title": "Why does this script that uses tcpreplay not wait for user input?", "body": "<p>Do you care about <code>tcpreplay</code> output? Redirecting stdout and stderr seems to fix this problem:</p>\n\n<pre><code>system(\"tcpreplay -i eth0 -M 20 $_ &gt;/dev/null 2&gt;&amp;1\");\n</code></pre>\n\n<p>Alternatively, you can use this to capture <code>tcpreplay</code> output:</p>\n\n<pre><code>my $tcpreplay_output = `tcpreplay -i eth0 -M 20 $_ 2&gt;&amp;1`;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 2, "last_activity_date": 1459956157, "last_edit_date": 1495540781, "creation_date": 1459902439, "answer_id": 36439399, "question_id": 36386192, "link": "https://stackoverflow.com/questions/36386192/why-does-this-script-that-uses-tcpreplay-not-wait-for-user-input/36439399#36439399", "title": "Why does this script that uses tcpreplay not wait for user input?", "body": "<p><a href=\"https://stackoverflow.com/a/16402813/176646\"><code>tcpreplay</code> sets STDIN to use non-blocking I/O</a>, which causes reads to return an error immediately if no data is available. You can see this by checking the return value of <code>readline</code>:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\n$| = 1;\n\nwhile (&lt;*.pcap&gt;) {\n    say;\n    die \"readline error: $!\" if ! defined &lt;STDIN&gt;;\n\n    system(\"tcpreplay -i eth0 $_\") == 0\n        or die \"tcpreplay failed: $?\";\n}\n</code></pre>\n\n<p>After the first call to <code>tcpreplay</code>, this dies with the message:</p>\n\n<blockquote>\n  <p>readline error: Resource temporarily unavailable at ./replay line 10, &lt;STDIN&gt; line 1.</p>\n</blockquote>\n\n<p>This corresponds to errno <code>EAGAIN</code>, which <a href=\"http://linux.die.net/man/2/read\" rel=\"nofollow noreferrer\"><code>read</code></a> returns if a file descriptor marked as non-blocking would have to block to wait for I/O.</p>\n\n<hr>\n\n<p>If your system implements <code>fcntl</code>, you can get around this by setting STDIN to use blocking I/O after every call to <code>tcpreplay</code>:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse Fcntl;\n\n$| = 1;\n\nwhile (&lt;*.pcap&gt;) {\n    say;\n    die \"readline error: $!\" if ! defined &lt;STDIN&gt;;\n\n    system(\"tcpreplay -i eth0 $_\") == 0\n        or die \"tcpreplay failed: $?\";\n\n    # Reset STDIN to use blocking I/O\n    my $flags = fcntl(STDIN, F_GETFL, 0) \n        or die \"Couldn't get flags for STDIN: $!\";\n    fcntl(STDIN, F_SETFL, $flags &amp; ~O_NONBLOCK) \n        or die \"Couldn't set flags for STDIN: $!\";\n}\n</code></pre>\n\n<p>This is just a workaround, though; <code>tcpreplay</code> should be fixed.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 1, "accepted_answer_id": 36386844, "answer_count": 2, "score": 3, "last_activity_date": 1459956157, "creation_date": 1459691309, "last_edit_date": 1459902928, "question_id": 36386192, "link": "https://stackoverflow.com/questions/36386192/why-does-this-script-that-uses-tcpreplay-not-wait-for-user-input", "title": "Why does this script that uses tcpreplay not wait for user input?", "body": "<p>The following snippet will only wait for the user to hit <kbd>Enter</kbd> the first time; after that, it cycles through all the rest of the <code>.pcap</code> files without waiting for user input.</p>\n\n<pre><code>$| = 1;\n\nwhile (&lt;*.pcap&gt;) {\n    print \"$_\";\n    &lt;STDIN&gt;;\n\n    system(\"tcpreplay -i eth0 -M 20 $_\");\n}\n</code></pre>\n\n<p>Why doesn't this wait for user input on every loop iteration?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1459698273, "post_id": 36386188, "comment_id": 60391743, "body": "What does &quot;unable to open the Perl Package Manager&quot; mean?  What <i>does</i> happen?  What do you try and what do you see?"}, {"owner": {"reputation": 21, "user_id": 5631346, "user_type": "registered", "profile_image": "https://graph.facebook.com/1242794885747275/picture?type=large", "display_name": "Manohar Udgiri", "link": "https://stackoverflow.com/users/5631346/manohar-udgiri"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1459700033, "post_id": 36386188, "comment_id": 60392392, "body": "hi testing purpose i use the perl script in that i use the package modules..with PPM GUI it is very to install Lib..currently i ma doing it manually...when we install active perl set it automatically with setup it will install the PPM ..i can see perl package manager in all programs but wheb i click on it wPPM GUI windoiws it self is not coming..."}, {"owner": {"reputation": 21, "user_id": 5631346, "user_type": "registered", "profile_image": "https://graph.facebook.com/1242794885747275/picture?type=large", "display_name": "Manohar Udgiri", "link": "https://stackoverflow.com/users/5631346/manohar-udgiri"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1459712651, "post_id": 36386188, "comment_id": 60397311, "body": "Hello if someone knows how to install Perl module by using cpan plz share the procedure.. I tried  but showings nmake. Error..."}], "answers": [{"tags": [], "owner": {"reputation": 2214, "user_id": 7863149, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/iv2fh.jpg?s=128&g=1", "display_name": "void", "link": "https://stackoverflow.com/users/7863149/void"}, "is_accepted": false, "score": 0, "last_activity_date": 1519275468, "creation_date": 1519275468, "answer_id": 48919926, "question_id": 36386188, "link": "https://stackoverflow.com/questions/36386188/perl-package-manager-is-not-opening/48919926#48919926", "title": "Perl package Manager is not opening", "body": "<p>Same problem. I solved it, I cleanned AppData folder of ActivePerl.</p>\n\n<blockquote>\n  <p>C:\\Users\\%USERNAME%\\AppData\\Local\\ActiveState\\ActivePerl\\</p>\n</blockquote>\n\n<p>Delete all data from that folder. Rerun <code>ppm</code> everything works fine now!</p>\n"}], "owner": {"reputation": 21, "user_id": 5631346, "user_type": "registered", "profile_image": "https://graph.facebook.com/1242794885747275/picture?type=large", "display_name": "Manohar Udgiri", "link": "https://stackoverflow.com/users/5631346/manohar-udgiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 920, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519275468, "creation_date": 1459691293, "last_edit_date": 1459692053, "question_id": 36386188, "link": "https://stackoverflow.com/questions/36386188/perl-package-manager-is-not-opening", "title": "Perl package Manager is not opening", "body": "<p>I am using the ActivePerl-5.20.2.2002-MSWin32-x86-64int-299195 version.\nAfter installation of above version sw I am unable to open the Perl Package Manager. which much needfulll.</p>\n\n<p>further ActivePerl-5.22.1.2201-MSWin32-x64-299574\nbut after installation same result.</p>\n\n<p>I try to debug this..\ni got few few old reference but which not that much helped me to solve this problem.</p>\n\n<p>I am using windows 7 64 bit system</p>\n\n<p>Also set env as HTTP_proxy to \"<a href=\"http://proxy:8080\" rel=\"nofollow\">http://proxy:8080</a>\"\nand \nHTTP_proxy_user ; HTTP_proxy_pass as mine admin username &amp; password.\nrefernce link :<a href=\"http://docs.activestate.com/activeperl/5.6/faq/ActivePerl-faq2.html#ppm_and_proxies\" rel=\"nofollow\">http://docs.activestate.com/activeperl/5.6/faq/ActivePerl-faq2.html#ppm_and_proxies</a></p>\n\n<p>but still situation remain as it is.</p>\n"}, {"tags": ["perl", "iis"], "answers": [{"tags": [], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "is_accepted": true, "score": 1, "last_activity_date": 1459690500, "creation_date": 1459690500, "answer_id": 36386044, "question_id": 36385969, "link": "https://stackoverflow.com/questions/36385969/iis-perl-opening-a-file-in-windows-using-full-path-name/36386044#36386044", "title": "IIS/Perl opening a file in windows using full path name", "body": "<p>Figured it out. In IIS, in Features View, double-click CGI. There is an \"Impersonate User\". That should be changed to False.</p>\n"}], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 1, "accepted_answer_id": 36386044, "answer_count": 1, "score": 1, "last_activity_date": 1459690500, "creation_date": 1459690082, "question_id": 36385969, "link": "https://stackoverflow.com/questions/36385969/iis-perl-opening-a-file-in-windows-using-full-path-name", "title": "IIS/Perl opening a file in windows using full path name", "body": "<p>I am getting a \"permission denied\" error when I try to open a text file in Perl/IIS for write access.    </p>\n\n<pre><code>unless(open FILE, \"+&lt;C:\\\\Folder/Sub/file.txt\") {\n  die \"\\nUnable to open $!\\n\";\n}\nprint FILE \"Hello there\\n\";\nclose FILE;\n</code></pre>\n\n<p>My handler in IIS is as follows: C:\\Perl64\\bin\\perl.exe \"%s\" %s</p>\n\n<p>If I run Perl.exe from the command line in my own account it works, so I know the script is OK and it's NOT therefore an issue with slashes and backslashes. My app pool was running in the Local System account. I changed it to a specific user account and that made no difference. The folder C:\\Folder has write access to both accounts I tried it in.</p>\n\n<p>I am running Windows Server 2012 under an Azure VM.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1459698677, "post_id": 36385957, "comment_id": 60391899, "body": "\\Q and \\E are not regex features, they work anywhere you do double-quotish interpolation"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1459690126, "last_edit_date": 1459690126, "creation_date": 1459690015, "answer_id": 36385957, "question_id": 36385919, "link": "https://stackoverflow.com/questions/36385919/perl-search-and-replace-using-variables-string-contains-dot/36385957#36385957", "title": "Perl search and replace using variables, string contains dot", "body": "<p>There are two things that will help you here:</p>\n\n<p>The <code>quotemeta</code> function - that will escape meta characters. And also the <code>\\Q</code> and <code>\\E</code> regex flags, that stop regex interpolation. </p>\n\n<pre><code>print quotemeta \"21.0\";\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>my $old=\"23.0\";\nmy $new=\"23.0.1\";\nmy $str = \"2310\";\n$str =~ s/\\Q$old\\E/$new/g;\nprint $str;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "is_accepted": false, "score": 0, "last_activity_date": 1459693568, "creation_date": 1459693568, "answer_id": 36386640, "question_id": 36385919, "link": "https://stackoverflow.com/questions/36385919/perl-search-and-replace-using-variables-string-contains-dot/36386640#36386640", "title": "Perl search and replace using variables, string contains dot", "body": "<p>To complement Sobrique's excellent answer, let me note that the reason your attempt with <code>\"23\\.0\"</code> didn't work is that <code>\"23\\.0\"</code> and <code>\"23.0\"</code> evaluate to the same string: in a double-quoted string literal, the backslash escape sequence <code>\\.</code> simply evaluates to <code>.</code>.</p>\n\n<p>There are several things you could do to avoid this:</p>\n\n<ul>\n<li><p>If you indeed want to match a fixed string, and don't need or want to include any special regexp metacharacters in it, you can do as Sobrique suggest and use <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\"><code>quotemeta</code></a> or <code>\\Q</code> to escape them.</p>\n\n<p>In particular, this is almost always the correct solution if the string to be matched comes from user input.  If you <em>do</em> want to allow some limited set of non-literal metacharacters, you can unescape those <em>after</em> running the pattern through <code>quotemeta</code>.  For a simple example, here's a quick-and-dirty way to turn a basic <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">glob</a>-like pattern (using the metacharacters <code>?</code> and <code>*</code> for \"any character\" and \"any string of characters\" repectively) into an equivalent regexp:</p>\n\n<pre><code>my $regexp = \"^\\Q$glob\\E\\$\";  # quote and anchor the pattern\n$regexp =~ s/\\\\\\?/./g;        # replace \"?\" (escaped to \"\\?\" by \\Q) with \".\"\n$regexp =~ s/\\\\\\*/.*/g;       # replace \"*\" (escaped to \"\\*\" by \\Q) with \".*\"\n</code></pre></li>\n<li><p>Conversely, if you want to have a literal regexp pattern in your code, without immediately matching it against something, you can use the <a href=\"http://perldoc.perl.org/functions/qr.html\" rel=\"nofollow\"><code>qr//</code></a> regexp-like quote operator, like this:</p>\n\n<pre><code>my $old = qr/\\b23\\.0(\\.0)?\\b/;  # match 23.0 or 23.0.0 (but not 123.012!)\nmy $new = \"23.0.1\";             # just a literal string\n\ns/$old/$new/g;          # replace any string matching $old in $_ with $new\n</code></pre>\n\n<p>Note that <code>qr//</code> has other effects beyond just allowing you to use regexp syntax in a string literal: it actually pre-compiles the pattern into a special Regexp object, so that it doesn't need to be recompiled every time it's used later.  In particular, as a side effect, the string representation of a <code>qr//</code> regexp literal will usually not exactly match the original content, although it will be equivalent as a regexp.  For example, <code>say qr/\\b23\\.0(\\.0)?\\b/</code> will, on my Perl version, output <code>(?^u:\\b23\\.0(\\.0)?\\b)</code>.</p></li>\n<li><p>You could also just use a normal double-quoted string literal, and double any backslashes in it, but that's (usually) less efficient than using <code>qr//</code>, and also less readable due to <a href=\"https://en.wikipedia.org/wiki/Leaning_toothpick_syndrome\" rel=\"nofollow\">leaning toothpick syndrome</a>.</p>\n\n<p>Using a single-quoted string literal would be slightly better, since backslashes in a single-quoted string are only special when followed by another backslash or a single quote.  Even so, readability can still suffer if you happen to need to match any literal backslashes in your regexp, not to mention that it's easy to create subtle bugs if you forget to double a backslash in those rare places where it's still needed. </p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9274074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e7a7e23cb40b812a50e5a9818b22e8b?s=128&d=identicon&r=PG&f=1", "display_name": "jrhee", "link": "https://stackoverflow.com/users/9274074/jrhee"}, "is_accepted": false, "score": 1, "last_activity_date": 1576008939, "creation_date": 1576008939, "answer_id": 59274714, "question_id": 36385919, "link": "https://stackoverflow.com/questions/36385919/perl-search-and-replace-using-variables-string-contains-dot/59274714#59274714", "title": "Perl search and replace using variables, string contains dot", "body": "<p>Just use single quotes and escape the dot.</p>\n\n<pre><code>my $old='23\\.0';\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 1974272, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/40fd8c37aba4fc96a6788942e4694360?s=128&d=identicon&r=PG&f=1", "display_name": "Epligam", "link": "https://stackoverflow.com/users/1974272/epligam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1833, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1576008939, "creation_date": 1459689729, "last_edit_date": 1459693588, "question_id": 36385919, "link": "https://stackoverflow.com/questions/36385919/perl-search-and-replace-using-variables-string-contains-dot", "title": "Perl search and replace using variables, string contains dot", "body": "<p>I\u2019m using a variable to search and replace a string using Perl.\nI want to replace the string <code>23.0</code> with <code>23.0.1</code>, so I tried this:</p>\n\n<pre><code>  my $old=\"23.0\";\n  my $new=\"23.0.1\";\n  $_ =~ s/$old/$new/g;         \n</code></pre>\n\n<p>The problem is that it also replaced the string <code>2310</code>, so I tried:</p>\n\n<pre><code>  my $old=\"23\\.0\"\n</code></pre>\n\n<p>and also <code>/ee</code>.\nBut can\u2019t get the correct syntax for it to work. Can someone show me the correct syntax?</p>\n"}, {"tags": ["perl", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1459686804, "post_id": 36385291, "comment_id": 60387736, "body": "Which terminal are you using? If the terminal handles UTF8, you should be able to print the variable to STDOUT. See <a href=\"http://stackoverflow.com/questions/627661/how-can-i-output-utf-8-from-perl\">How can I output UTF-8 from Perl?</a>"}, {"owner": {"reputation": 1, "user_id": 5501484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eVxlCkR0Fn4/AAAAAAAAAAI/AAAAAAAABL8/wNmx8LKSEjE/photo.jpg?sz=128", "display_name": "Mintu Raj", "link": "https://stackoverflow.com/users/5501484/mintu-raj"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1459686886, "post_id": 36385291, "comment_id": 60387768, "body": "i am using linux terminal and windows terminal"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1459706656, "post_id": 36385686, "comment_id": 60394826, "body": "+1 It should be noted that, if using <code>cmd.exe</code> on Windows, you are going to run into <a href=\"https://www.nu42.com/2014/05/utf-8-ouput-from-perl-and-c-programs-in.html\" rel=\"nofollow noreferrer\">problems</a>. Setting <code>STDOUT</code> to use the <a href=\"https://www.nu42.com/2014/05/utf-8-output-from-perl-in-cmdexe-layers.html\" rel=\"nofollow noreferrer\"><code>:unix</code> layer</a> seems to help. Using a console container such as <a href=\"https://conemu.github.io/\" rel=\"nofollow noreferrer\">ConEmu</a> will mask the problems, and file output will work fine. Also, with <code>cmd.exe</code> console set to code page 65001, keyboard input will not work properly. etc etc."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1459706459, "last_edit_date": 1459706459, "creation_date": 1459688215, "answer_id": 36385686, "question_id": 36385291, "link": "https://stackoverflow.com/questions/36385291/how-can-i-print-non-english-characters-to-the-terminal/36385686#36385686", "title": "How can I print non-English characters to the terminal?", "body": "<p>You need the statement</p>\n\n<pre><code>use utf8;\n</code></pre>\n\n<p>at the top of your program to tell perl that the script is encoded in UTF-8. You can also write</p>\n\n<pre><code>use open qw/ :std :encoding(UTF-8) /;\n</code></pre>\n\n<p>to make UTF-8 the default output encoding</p>\n\n<p>Your terminal must be expecting UTF-8 output. On Linux you should check the <code>LC_TYPE</code> environment variable</p>\n\n<pre><code>echo $LC_CTYPE\n</code></pre>\n\n<p>This should normally be <code>UTF-8</code> but you can change it if not</p>\n\n<p>On Windows this is done with <em>code pages</em>. <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd317756%28v=vs.85%29.aspx\" rel=\"nofollow\">For UTF-8 you need code page 65001</a>. Use the <code>chcp</code> command to check and alter it</p>\n\n<p>Now, provided your terminal is using a font that covers the characters you want to display, you should be able to just <code>print $star</code> to have the text appear on your terminal</p>\n"}], "owner": {"reputation": 1, "user_id": 5501484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eVxlCkR0Fn4/AAAAAAAAAAI/AAAAAAAABL8/wNmx8LKSEjE/photo.jpg?sz=128", "display_name": "Mintu Raj", "link": "https://stackoverflow.com/users/5501484/mintu-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459706459, "creation_date": 1459685846, "last_edit_date": 1459688265, "question_id": 36385291, "link": "https://stackoverflow.com/questions/36385291/how-can-i-print-non-english-characters-to-the-terminal", "title": "How can I print non-English characters to the terminal?", "body": "<pre><code>my $star = '\u0907\u0938 \u092a\u0930\u0940\u0915\u094d\u0937\u0923 \u0915\u0947 \u0932\u093f\u090f \u0939\u0948';\n</code></pre>\n\n<p>I want to print this string as it is using encoding.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1459669670, "post_id": 36382468, "comment_id": 60382787, "body": "Do you want advice on how to read the log file, or how to compare times, or how to send email? The question is currently too broad. See <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1459671720, "post_id": 36382468, "comment_id": 60383300, "body": "how to compare times"}, {"owner": {"reputation": 632, "user_id": 1059847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d496a88afeda3b4e7339d1e0138f14?s=128&d=identicon&r=PG", "display_name": "amaslenn", "link": "https://stackoverflow.com/users/1059847/amaslenn"}, "edited": false, "score": 0, "creation_date": 1459679114, "post_id": 36382468, "comment_id": 60385516, "body": "What time format do you have in you log?"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1459686220, "post_id": 36382468, "comment_id": 60387546, "body": "It would be like this &quot;03 Apr 2016 01:14:49&quot;, and will use 24 hours format as if its 1PM then 13:00:00"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459688934, "post_id": 36382468, "comment_id": 60388451, "body": "Do you need to check the time written in the log, or do you just need to ensure that the file is being updated at least once every 45 minutes?"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1459698538, "post_id": 36382468, "comment_id": 60391839, "body": "I just need to ensure that file is being updated at least once every 45 minutes."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459774399, "post_id": 36382468, "comment_id": 60422667, "body": "@Borodin Have you had a chance to look this. Please help. Also please remove the hold off the question, i have edited and narrowed it down."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459777092, "post_id": 36382468, "comment_id": 60424775, "body": "We can&#39;t remove the hold, we can only vote to reopen the question, which I will do if you add a <i>lot more</i> information about what you want to do. It should include at least the answers to the questions in the comments here and hopefully a lot more, including what you have tried so far. You&#39;ve completely changed your question; that&#39;s why I&#39;ve rolled it back. The comments don&#39;t make sense underneath a different question."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459790464, "post_id": 36382468, "comment_id": 60433841, "body": "@Borodin Hey, I have  edited the question, gave more explanations with the code I have done so far.  Now please help and lemme know in case any more explanations required"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459829714, "post_id": 36382468, "comment_id": 60449047, "body": "@Borodin Any thing that anyone can help me with here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459852197, "post_id": 36382468, "comment_id": 60461814, "body": "@Sur: That&#39;s a really good question now; well done. I&#39;ve upvoted it and voted to reopen, but that&#39;s all I can do until others agree with me. My first thought is that, instead of reading through the log file to check the last entry, you could just check the time the file was last modified. An expression like <code>-M myfile.log</code> will return a floating point number of days that says how long <i>before the Perl script was started</i> the file was last modified. If you run your check program every few instead of leaving it running then you need this value to be <i>45/(60 * 24)</i> or 1/32 or 0.03125"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459920864, "post_id": 36382468, "comment_id": 60498539, "body": "@Borodin Even if we check through the time the file was last modified, I would require help how we get to know the TIME the file was last modified and how to get the difference (in minutes) from the actual time on server."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459928513, "post_id": 36382468, "comment_id": 60502619, "body": "@Sur: I don&#39;t know what you&#39;re saying. <i>&quot;Even if we check through the time the file was last modified ... how we get to know the TIME the file was last modified&quot;</i>. Those are the same thing. The time since the file was last modified in days is provided by <code>-M</code>, so multiply that by 24 * 60"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459935846, "post_id": 36382468, "comment_id": 60507529, "body": "@Borodin I got you, I was asking how we get to know the difference between the time file was last modified and current time."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459936458, "post_id": 36382468, "comment_id": 60508017, "body": "@Sur: Use <code>-M</code>. Please just try it instead of asking more questions. <code>perl -E &#39;$age = -M &quot;xyz.log&quot;; say $age * 24 * 60;&#39;</code>"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1459946561, "post_id": 36382468, "comment_id": 60515655, "body": "Thanks a bunch...................."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459948047, "post_id": 36382468, "comment_id": 60516907, "body": "@Borodin This is actually giving me the time the file was last modified, but I still have to go with my proposed plan as(reading time from last line of log) and then getting difference when compared with current time, as I noticed that file modified time (in Date modified column in folder which file is present), is only the time when File was created and its not changing irrespective of the fact that logs are updating continuously in file."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459949988, "post_id": 36382468, "comment_id": 60518425, "body": "@Borodin I tried reading the last line of log file, but unfortunately I do not have File::ReadBackwards module installed on my remote server. Any other efficient way to directly read the last line of file without reading whole file and consuming memory?"}], "owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1459852548, "creation_date": 1459666438, "last_edit_date": 1459852262, "question_id": 36382468, "link": "https://stackoverflow.com/questions/36382468/perl-script-to-check-if-log-updating-corresponding-to-current-time", "title": "perl script to check if log updating corresponding to current time", "body": "<p>I have a job running which is generating a log file. Each line of log starts with the time it is updated.</p>\n\n<p>I want to compare the time in the last line of the log with the current time of the machine. If the difference is less than 45 minutes then it will continue to run and monitor, if the difference is 45 minutes or more than that it would exit with RC1 and send a mail.</p>\n\n<p>In the code below in the if condition where I wrote help required \"I need specifically to compare the time in the last line of log and the actual time of machine.\"</p>\n\n<p>Now I need three things here:</p>\n\n<ol>\n<li><p>Each line of log starts with time it is updated, so when script reads from log in the if condition, the date and time I want it to remember only the date and time of last line.</p></li>\n<li><p>second would be the comparison of that last date and time with current time on machine.</p></li>\n<li><p>And third would be to check if the result of step 2 is less or equal to 45 minutes and do continue checking in loop, if not then exit.</p></li>\n</ol>\n\n<p>Please let me know in case any more details required.</p>\n\n<p>This is what I have written so far</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# need this to send emails via SMTP server\nuse Net::SMTP;\nuse File::Glob;\n\n# SMTP Server Name - PHX-PDC SMTP\nmy $sSMTPServerName = 'name-of-server.working.checked';\n\n# print usage error\nif ( $#ARGV != 0 ) {\n    print \"Usage Error: scriptname.pl &lt;HRM|FIN&gt; \\n\";\n    exit 4;\n}\n\nif ( $ARGV[0] ne \"XXX\" &amp;&amp; $ARGV[0] ne \"XXX\" ){\n    print \"ERROR: Invalid argument.\\n\";\n    print \"Usage Error: scriptname.pl &lt;XXX|XXX&gt; \\n\";\n    exit 5;\n}\n\n# get environment from command line\nmy $sApp = $ARGV[0];\n\n# get todays date in YYYYMMDD format\nmy @aToday=localtime(time);\n\n# get the date in yyyy.mm.dd format\nmy $sToday = sprintf (\"%04d.%02d.%02d\", $aToday[5]+1900, $aToday[4]+1, $aToday[3]);\n\n# getting the env variables from bat file\nmy $sScriptName = \"name-of-script\";\n\n# make path to log file\nmy $sOutLogFile = \"$sXXLOG\\\\$sApp$sScriptName.$sToday.log\";\n\n# open logfile for writing\nopen(OUTLOG, \"&gt; $sOutLogFile\") or die(\"Can't open $sOutLogFile\\n\");\n\nif ( $sApp eq \"XXX\" ) {\n\n    # print to log file\n    print OUTLOG \"Starting \\n\";\n\n    # search for the existence of most recent subfolder \n\n    opendir(DIRLIST, $svar2) or die \"Can't open $svar2: $!\";\n    my @adirs = readdir(DIRLIST);\n    closedir(DIRLIST);\n\n    my @aRecentdir = grep(/$sToday/, @adirs);\n\n    if ( @aRecentdir &amp;&amp; $aRecentdir[0] ne \" \" ) {\n\n        # found the recent dir, now calling  sub\n        my @alist = ($svar1, $svar2, $aRecentdir[0] $svar3, $svar4);\n        ABC(@alist);\n\n        ## send the email code\n        {Tested to be working fine}\n\n        #---- End SMTP emailer code ----\n    }\n\n}\n\nsub ABC {\n\n    my (list of variables) = @_;\n\n    print OUTLOG \"Found the latest dir!\\n\";\n\n    # search for the Successful String in the logfile \n    my $slogfile = \"$svar\\\\$svar\\\\...\\\\xyz.log\";\n\n    if ( -e $slogfile ) {\n\n        print OUTLOG \"Found  the log file. \\n\";\n        open(LOG,\"$slogfile\") or die(\"Can't open $slogfile\\n\");\n\n        my $sLines;\n        {\n            local $/ = undef;\n            $sLines = &lt;LOG&gt;;\n        }\n\n        while ( &lt;LOG&gt; ) {\n\n            if ( m/^(\\d\\d) (\\w{3}) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) .*/ ) {\n\n                #### NEED HELP IN THIS PART #######\n\n                my $var = \"$1$2$3$4$5$6\";\n                print \"$var\\n\";\n            }\n        }\n\n        close(LOG);\n    }   \n\n    return 1;\n}\n\n\n################################\n#  Send Email via SMTP function\n################################\n\nsub sendEmail {\n    ## SMTP code.. tested to be working fine\n}\n</code></pre>\n"}, {"tags": ["perl", "loops", "hash", "key-value"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1459661813, "post_id": 36381729, "comment_id": 60381209, "body": "Could you paste your actual data?  What you show has } with no corresponding {"}, {"owner": {"reputation": 103, "user_id": 5167041, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d2c852379fc293d9139f9b2d1cbc0419?s=128&d=identicon&r=PG&f=1", "display_name": "SL07", "link": "https://stackoverflow.com/users/5167041/sl07"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1459661905, "post_id": 36381729, "comment_id": 60381228, "body": "The actual data is over 1K lines. I&#39;ll try to fix it in the question field."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1459668988, "post_id": 36381729, "comment_id": 60382600, "body": "To extract data from multidimensional hash use this type of syntax: perl -E &#39;%h=(a=&gt;{b=&gt;1}); say $h{a}{b}&#39;. See also <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow noreferrer\">perldsc</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1459683387, "post_id": 36381729, "comment_id": 60386715, "body": "Where is this hash coming from. This looks suspiciously like you have parsed XML with XML::Simple"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459685073, "post_id": 36381729, "comment_id": 60387172, "body": "<code>my $name = $hash{$resultHash_entry}{vuln_soft}{prod}{name}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459689332, "post_id": 36385823, "comment_id": 60388589, "body": "I&#39;d like to understand why you&#39;ve shown the version with the indirection arrow?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459689405, "post_id": 36385823, "comment_id": 60388609, "body": "Simply to show where the referencing begins. I can remove it if it detracts from the answer"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459692199, "post_id": 36385823, "comment_id": 60389494, "body": "No it&#39;s fine -- I just wanted to understand your thinking"}, {"owner": {"reputation": 103, "user_id": 5167041, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d2c852379fc293d9139f9b2d1cbc0419?s=128&d=identicon&r=PG&f=1", "display_name": "SL07", "link": "https://stackoverflow.com/users/5167041/sl07"}, "edited": false, "score": 0, "creation_date": 1459697461, "post_id": 36385823, "comment_id": 60391447, "body": "Thanks for the solution. However, your solution will work only if you have one prod under vuln_soft. If you have more than one prod, it will cause an error Not a hash reference."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1459698104, "post_id": 36385823, "comment_id": 60391682, "body": "You can&#39;t have more than one prod under vuln_soft; hash keys have to be unique. You&#39;ll need to show an example of what you mean"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1459689064, "creation_date": 1459689064, "answer_id": 36385823, "question_id": 36381729, "link": "https://stackoverflow.com/questions/36381729/perl-get-hash-value-from-multi-level-hash/36385823#36385823", "title": "Perl- Get Hash Value from Multi level hash", "body": "<p>First, to initialize a hash, you use <code>my %hash = (...);</code> (note the parens, not curly braces). Using <code>{}</code> declares a hash reference, which you have done. You should always <code>use strict;</code> and <code>use warnings;</code>.</p>\n\n<p>To answer the question:</p>\n\n<pre><code>for my $resultHash_entry (keys %hash){\n    print \"$hash{$resultHash_entry}-&gt;{vuln_soft}{prod}{name}\\n\";\n    print \"$hash{$resultHash_entry}-&gt;{vuln_soft}{prod}{vendor}\\n\";\n}\n</code></pre>\n\n<p>...which could be slightly simplified to:</p>\n\n<pre><code>for my $resultHash_entry (keys %hash){\n    print \"$hash{$resultHash_entry}{vuln_soft}{prod}{name}\\n\";\n    print \"$hash{$resultHash_entry}{vuln_soft}{prod}{vendor}\\n\";\n}\n</code></pre>\n\n<p>because Perl always knows for certain that any deeper entries than the first one is always a reference, so the deref operator <code>-&gt;</code> isn't needed here. </p>\n"}], "owner": {"reputation": 103, "user_id": 5167041, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d2c852379fc293d9139f9b2d1cbc0419?s=128&d=identicon&r=PG&f=1", "display_name": "SL07", "link": "https://stackoverflow.com/users/5167041/sl07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 36385823, "answer_count": 1, "score": 1, "last_activity_date": 1459697220, "creation_date": 1459659055, "last_edit_date": 1459697220, "question_id": 36381729, "link": "https://stackoverflow.com/questions/36381729/perl-get-hash-value-from-multi-level-hash", "title": "Perl- Get Hash Value from Multi level hash", "body": "<p>I have a 3 dimension hash that I need to extract the data in it. I need to extract the name and vendor under vuln_soft-> prod. So far, I manage to extract the \"cve_id\" by using the following code:</p>\n\n<pre><code>foreach my $resultHash_entry (keys %hash){\n    my $cve_id = $hash{$resultHash_entry}{'cve_id'};\n}\n</code></pre>\n\n<p>Can someone please provide a solution on how to extract the name and vendor. Thanks in advance.</p>\n\n<pre><code>%hash = {\n    'CVE-2015-6929' =&gt; {\n        'cve_id'    =&gt; 'CVE-2015-6929',\n        'vuln_soft' =&gt; {\n            'prod' =&gt; {\n                'vendor' =&gt; 'win',\n                'name'   =&gt; 'win 8.1',\n                'vers'   =&gt; {\n                    'vers' =&gt; '',\n                    'num'  =&gt; ''\n                }\n            },            \n        'prod' =&gt; {\n            'vendor' =&gt; 'win',\n            'name'   =&gt; 'win xp',\n            'vers'   =&gt; {\n                'vers' =&gt; '',\n                'num'  =&gt; ''\n            }\n        }\n    },\n    'CVE-2015-0616' =&gt; {\n        'cve_id'    =&gt; 'CVE-2015-0616',\n        'vuln_soft' =&gt; {\n            'prod' =&gt; {\n                'name'   =&gt; 'unity_connection',\n                'vendor' =&gt; 'cisco'\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 0, "creation_date": 1459638854, "post_id": 36379752, "comment_id": 60376944, "body": "Sample valid examples please. Where should you be able to match this <i>pair</i> ? At beginning, at end or middle of string ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459650276, "post_id": 36379752, "comment_id": 60379310, "body": "@noob: The OP has given the valid character pairs. Where in the string they appear is irrelevant"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459650538, "post_id": 36379752, "comment_id": 60379374, "body": "@Borodin: From this <i>I want to be able to match &quot;=N&quot;,&quot;=B&quot;,&quot;=R&quot; or &quot;=Q&quot; in a character string</i> it seemed like given pattern should appear anywhere in the string. I was going to come up with a solution considering if it appear at start or end."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1459650186, "post_id": 36379786, "comment_id": 60379296, "body": "This will capture unnecessarily. <code>(?:=[NBRQ])?</code> is better"}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459650328, "post_id": 36379786, "comment_id": 60379326, "body": "@Borodin Sorry, I did mean to say &quot;capturing or non-capturing&quot; instead of &quot;grouping or non-grouping&quot; (I don&#39;t even know what&#39;s &quot;non-grouping parentheses&quot; would mean). Thanks!"}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 4, "last_activity_date": 1459650255, "last_edit_date": 1459650255, "creation_date": 1459638964, "answer_id": 36379786, "question_id": 36379752, "link": "https://stackoverflow.com/questions/36379752/paired-characters-in-regular-expression/36379786#36379786", "title": "Paired characters in regular expression", "body": "<p>If you need to make more than one regex production optional, enclose them in parentheses, capturing or non-capturing:</p>\n\n<pre><code>(=[NBRQ])?\n</code></pre>\n\n<p>The above would match an optional <code>=N</code>, <code>=B</code>, <code>=R</code>, or <code>=Q</code>. Since the question mark appears after parentheses, the entire group is optional, not its individual parts.</p>\n"}], "owner": {"reputation": 121, "user_id": 5395232, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e3a4297295bdce836ccf009d27037974?s=128&d=identicon&r=PG&f=1", "display_name": "ppyvabw", "link": "https://stackoverflow.com/users/5395232/ppyvabw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459650255, "creation_date": 1459638745, "last_edit_date": 1459638888, "question_id": 36379752, "link": "https://stackoverflow.com/questions/36379752/paired-characters-in-regular-expression", "title": "Paired characters in regular expression", "body": "<p>I expect this is very easy, but I can't work out how to match optional character <em>pairs</em> in regex. Regular expressions are not something I have ever had to do before.</p>\n\n<p>I want to be able to match \"=N\",\"=B\",\"=R\" or \"=Q\" in a character string, optionally -- but if they appear, they must appear paired with the equal sign. So =?[NBRQ]? won't work for me, because someone could type 'N' without the accompanying equal sign. So it must be \"=N\",\"=B\", \"=R\" or \"=Q\" or nothing at all.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1459638997, "post_id": 36379728, "comment_id": 60376976, "body": "Does your user have the permission to write to the <code>C:\\ </code> folder?"}], "answers": [{"tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": false, "score": 0, "last_activity_date": 1459641623, "creation_date": 1459641623, "answer_id": 36380088, "question_id": 36379728, "link": "https://stackoverflow.com/questions/36379728/perl-novice-need-assistance-with-handling-file-script/36380088#36380088", "title": "perl novice, need assistance with handling file script", "body": "<p>As @choroba mentioned in a comment, <code>C:\\newfile.txt</code> will [try to] write to the Windows root directory (e.g. <code>C:\\</code>). So, you probably want just <code>newfile.txt</code>.</p>\n\n<p><strong>Cygwin:</strong> If you're using the <code>perl</code> that comes with <code>cygwin</code>, you can probably use <code>/home/jody/newfile.txt</code> as this perl supports the POSIX file syntax. If you installed <code>cygwin</code> at (e.g.) <code>D:\\cygwin</code>, then the <code>/home</code> directory will end up in <code>D:cygwin\\home</code>. Note you do <code>ls /home</code> to see what users have been defined.</p>\n\n<p>Otherwise, if you want a full path, what is the full path for your <code>.pl</code> script. Obviously, you could write to that directory.</p>\n\n<p><em>Side note:</em> I've been writing perl for many years and on those rare occasions when I do use it on Windows, I vastly prefer using the cygwin version [that also has many scripts, tools, etc. and functions like a POSIX environment]. YMMV</p>\n"}, {"tags": [], "owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1459686463, "creation_date": 1459686463, "answer_id": 36385403, "question_id": 36379728, "link": "https://stackoverflow.com/questions/36379728/perl-novice-need-assistance-with-handling-file-script/36385403#36385403", "title": "perl novice, need assistance with handling file script", "body": "<p>Perl is asked to open the file for writing, so that is what it does. On Windows, normal users cannot write to the root directory of a drive, and Windows rejects its request. Try something like <code>C:\\Users\\User\\My Documents\\newfile.txt</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 6150474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aecc4fbe8c1a2f21c0df84317d84ae99?s=128&d=identicon&r=PG&f=1", "display_name": "Kelley", "link": "https://stackoverflow.com/users/6150474/kelley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1477288010, "creation_date": 1459638448, "last_edit_date": 1477288010, "question_id": 36379728, "link": "https://stackoverflow.com/questions/36379728/perl-novice-need-assistance-with-handling-file-script", "title": "perl novice, need assistance with handling file script", "body": "<p>Very new to Perl. Running Perl on Padre and Windows 10 OS. </p>\n\n<p>The script from my book is written for Unix.  I don't know how to correct it so that it works with Windows.  </p>\n\n<p>Here is the script as written in my book (FOR UNIX): </p>\n\n<pre><code>use warnings;\n#write to a file with a filehandle. Sriptname: file.handle\nmy $file=\"/home/jody/ellie/perl/newfile\";\nopen(my $fh, \"&gt;\", $file) || die \"Can't open newfile: $!\\n\";\n\nprint $fh \"hello world.\\n\";\nprint $fh \"hello world again.\\n\";\n</code></pre>\n\n<p>At the command line</p>\n\n<pre><code>$perl file.handle\n$cat newfile\n</code></pre>\n\n<p>the output should be looking like this:</p>\n\n<pre><code>hello world. \nhello world again.\n</code></pre>\n\n<p>I made the following changes but with no success </p>\n\n<pre><code>use warnings;\n#Write to a file with a filehandle. Scriptname: file.handle\nmy $file='C:\\newfile.txt';\nopen (my $fh, \"&gt;\", $file) || die \"Can't open newfile: $!\\n\";\n\nprint $fh \"hello world.\\n\";\nprint $fh \"hello world again.\\n\";\n</code></pre>\n\n<p>When I run script I get the following output: </p>\n\n<pre><code>can't open newfile: permission denied** \n</code></pre>\n\n<p>When I run the script with debug I get the following information: </p>\n\n<pre><code>uncaught exception for user code \ncan't open newfile: permission denied\nat handlingfiles.pl line 5\npress any key to continue\n</code></pre>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["perl", "hash", "hashref"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5750380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c26c37dd081d3910f78110c59aa5d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Rossi", "link": "https://stackoverflow.com/users/5750380/mike-rossi"}, "edited": false, "score": 0, "creation_date": 1459634106, "post_id": 36379085, "comment_id": 60375710, "body": "Thank you for the tips, I modified relevant code to:      if ( ($hashkey eq $findkey) &amp;&amp; ( $value eq $findvalue) )             {                     print &quot;KEY $findkey = $hashkey, VALUE $value = $findvalue\\n&quot;;                     return (1);             }         }         return;      if ( &amp;lookup_key_value($structure,&quot;Key7&quot;,&quot;abc&quot;) )     {         print &quot;FOUND !\\n&quot;;     } else {         print &quot;MISSING !\\n&quot;;     }  However I am still getting &#39;MISSING !&#39; when modifying arguments to lookup function.   Thank you"}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "reply_to_user": {"reputation": 25, "user_id": 5750380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c26c37dd081d3910f78110c59aa5d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Rossi", "link": "https://stackoverflow.com/users/5750380/mike-rossi"}, "edited": false, "score": 1, "creation_date": 1459634288, "post_id": 36379085, "comment_id": 60375774, "body": "One more thing: functions in Perl should be called without the <code>&amp;</code> character (except for some limited use cases)."}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "reply_to_user": {"reputation": 25, "user_id": 5750380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c26c37dd081d3910f78110c59aa5d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Rossi", "link": "https://stackoverflow.com/users/5750380/mike-rossi"}, "edited": false, "score": 0, "creation_date": 1459634851, "post_id": 36379085, "comment_id": 60375934, "body": "Right. You need to pass the result of recursive function call up, for example like this: change <code>lookup_key_value($value,$findkey,$findvalue);</code> to <code>if (lookup_key_value($value,$findkey,$findvalue)) { return 1; }</code>"}, {"owner": {"reputation": 25, "user_id": 5750380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c26c37dd081d3910f78110c59aa5d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Rossi", "link": "https://stackoverflow.com/users/5750380/mike-rossi"}, "edited": false, "score": 0, "creation_date": 1459635357, "post_id": 36379085, "comment_id": 60376062, "body": "Thank you Bart, it works as expected after making the changes you suggested above. You have saved me a few extra hours of troubleshooting! You are awesome!"}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": true, "score": 1, "last_activity_date": 1459633531, "creation_date": 1459633531, "answer_id": 36379085, "question_id": 36378934, "link": "https://stackoverflow.com/questions/36378934/perl-hashref-lookup-function-always-returning-default-value/36379085#36379085", "title": "perl hashref lookup function always returning default value", "body": "<ol>\n<li>This <code>$findkey =~ m/^$hashkey$/</code> should be <code>$hashkey =~ m/^$findkey$/</code></li>\n<li>You are returning 0, which translates to false in Perl, when matching key/value pair is found and returning 1 (true) when pair is not found. Why? Reverse this logic. To return false, use simple <code>return;</code>, without any arguments.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 5750380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c26c37dd081d3910f78110c59aa5d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Rossi", "link": "https://stackoverflow.com/users/5750380/mike-rossi"}, "edited": false, "score": 0, "creation_date": 1459720835, "post_id": 36380918, "comment_id": 60400370, "body": "Interesting approach, I would have not thought of using grep in this manner. Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1459649701, "creation_date": 1459649701, "answer_id": 36380918, "question_id": 36378934, "link": "https://stackoverflow.com/questions/36378934/perl-hashref-lookup-function-always-returning-default-value/36380918#36380918", "title": "perl hashref lookup function always returning default value", "body": "<p>You're using the hash as an array of key/value pairs and not making use of the content addressing capability, which will can make this faster and much more concise. There's no need to check all the elements of every hash</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $structure = {\n    Key1 =&gt; { Key4 =&gt; \"findme\", Key5 =&gt; 9, Key6 =&gt; 10 },\n    Key2 =&gt; { Key7 =&gt; \"abc\",    Key8 =&gt; 9 },\n};\n\nsub lookup_key_value {\n\n    my ( $hash, $findkey, $findvalue ) = @_;\n\n    my $val = $hash-&gt;{$findkey};\n\n    if ( not ref $val ) {\n        return 1 if defined $val and $val eq $findvalue;\n    }\n\n    for $val ( grep { ref eq 'HASH' } values %$hash ) {\n        return 1 if lookup_key_value( $val, $findkey, $findvalue );\n    }\n\n    return;\n}\n\nprint lookup_key_value( $structure, 'Key7', 'abcX' ) ? \"FOUND !\\n\" : \"MISSING !\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>MISSING !\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5750380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c26c37dd081d3910f78110c59aa5d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Rossi", "link": "https://stackoverflow.com/users/5750380/mike-rossi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 36379085, "answer_count": 2, "score": 0, "last_activity_date": 1459649701, "creation_date": 1459632575, "question_id": 36378934, "link": "https://stackoverflow.com/questions/36378934/perl-hashref-lookup-function-always-returning-default-value", "title": "perl hashref lookup function always returning default value", "body": "<p>I have the following function which SHOULD return true or false when I look up  a key and value in a hashref. I am sure I am missing something but what ?</p>\n\n<p>The function shoudl return true or false if the key value strings that we search for are found.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nmy $structure = {\n    Key1 =&gt; {\n           Key4 =&gt; \"findme\",\n           Key5 =&gt; 9,\n           Key6 =&gt; 10,\n         },\n    Key2 =&gt; {\n           Key7 =&gt; \"abc\",\n           Key8 =&gt; 9,\n             },\n };\n\nsub lookup_key_value\n{\n    # Arguments are a hash ref and a list of keys to find\n    my($hash,$findkey, $findvalue) = @_;\n\n        # Loop over the keys in the hash\n        foreach my $hashkey ( keys %{$hash})\n        {\n\n            # Get the value for the current key\n            my $value = $hash-&gt;{$hashkey};\n\n            # See if the value is a hash reference\n            if (ref($value) eq 'HASH')\n            {\n                    # If it is call this function for that hash\n                    &amp;lookup_key_value($value,$findkey,$findvalue);\n            }\n\n            if ( ($findkey =~ m/^$hashkey$/) &amp;&amp; ( $value =~ m/^$findvalue$/) )\n            {\n                print \"$findkey = $hashkey, $value = $findvalue\\n\";\n                return (0);\n            }\n        }\n        return (1);\n}\n\nif ( &amp;lookup_key_value($structure,\"Key7\",\"abcX\") )\n{\n    print \"FOUND !\\n\";\n} else {\n    print \"MISSING !\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "perl-data-structures"], "answers": [{"tags": [], "owner": {"reputation": 3956, "user_id": 18625, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f2f5d400f965dd627fc8636d59b266b1?s=128&d=identicon&r=PG", "display_name": "dland", "link": "https://stackoverflow.com/users/18625/dland"}, "is_accepted": false, "score": 0, "last_activity_date": 1459631769, "creation_date": 1459631769, "answer_id": 36378800, "question_id": 36378739, "link": "https://stackoverflow.com/questions/36378739/transposing-an-array-of-elements/36378800#36378800", "title": "Transposing an array of elements", "body": "<p>You're trying to shove a scalar into an array:</p>\n\n<pre><code>my @row = $line;\n</code></pre>\n\n<p>I think what you really want is to split on spaces:</p>\n\n<pre><code>my @row = split / /, $line;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459690059, "post_id": 36379790, "comment_id": 60388806, "body": "There&#39;s no need for the <code>|| die &quot;$!&quot;</code> with <code>use autodie</code> in place"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459714721, "post_id": 36379790, "comment_id": 60398162, "body": "@Borodin The <code>die</code> is OP&#39;s code, not mine--I was mostly concerned with fixing the algorithm. But, in my own code base [of 250,000 lines], I couldn&#39;t use <code>autodie</code>. I have wrappers for many std fncs that handle errors automatically (e.g. default for <code>open</code> is to terminate [with optional stack traceback] <i>unless</i> told to return <code>undef</code>). The wrappers also do tracing. And, I have special handling for <code>die</code>. IMO, handling error returns is a better model than throwing exceptions for mundane things like &quot;file not found&quot;"}], "tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": false, "score": 1, "last_activity_date": 1459638993, "creation_date": 1459638993, "answer_id": 36379790, "question_id": 36378739, "link": "https://stackoverflow.com/questions/36378739/transposing-an-array-of-elements/36379790#36379790", "title": "Transposing an array of elements", "body": "<p>You <em>did</em> have to split input line as @dland suggested. But, there were a few other issues.</p>\n\n<p>Here's the corrected code [please pardon the gratuitous style cleanup]:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\nuse autodie;\n\nopen my $fh, '&lt;',\"op.txt\" || die \"$!\";\nopen my $wh , '&gt;',\"pwl.txt\" || die \"$!\";\n\nmy @rows;\nwhile (my $line = &lt;$fh&gt;) {\n  my @line = split(\" \",$line);\n  push(@rows,\\@line);\n}\nclose($fh);\n\nmy @transposed;\nfor my $row (@rows) {\n  push(@transposed,[]);\n}\n\nmy $rowidx = -1;\nfor my $rowptr (@rows) {\n  ++$rowidx;\n  my $colidx = -1;\n  for my $rowval (@$rowptr) {\n    ++$colidx;\n    ###printf(\"R=%d C=%d\\n\",$rowidx,$colidx);\n    my $colptr = $transposed[$colidx];\n    $colptr-&gt;[$rowidx] = $rowval;\n  }\n}\n\nfor my $new_row (@transposed) {\n  for my $new_col (@$new_row) {\n    print $wh $new_col, \" \";\n  }\n  print $wh \"\\n\";\n}\n\nclose($wh);\n</code></pre>\n\n<p><em>Note:</em> It's slightly harder to transpose a non-square matrix. The above code may need to be extended a bit for that.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467563697, "last_edit_date": 1467563697, "creation_date": 1459690024, "answer_id": 36385960, "question_id": 36378739, "link": "https://stackoverflow.com/questions/36378739/transposing-an-array-of-elements/36385960#36385960", "title": "Transposing an array of elements", "body": "<p>Here's a simpler way of doing this. It assumes all the rows are of the same length, and that all the lines in the file contain data -- i.e. there are no blank lines</p>\n\n<p>The name of the input file is expected as a parameter on the command line, and the output is sent to STDOUT so it can be redirected on the command line. For instance</p>\n\n<pre><code>perl transpose.pl op.txt &gt; pwl.txt\n</code></pre>\n\n<p><br/></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @matrix = map [ split ], &lt;&gt;;\n\nprint \"@$_\\n\" for @matrix;\nprint \"\\n\";\n\nmy @transpose;\n\nfor my $i ( 0 .. $#{ $matrix[0] } ) {\n    $transpose[$i] = [ map { $_-&gt;[$i] } @matrix ]\n}\n\nprint \"@$_\\n\" for @transpose;\nprint \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1 2 3\n4 5 6\n7 8 9\n\n1 4 7\n2 5 8\n3 6 9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 6136784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feedb6d360f2f5461a7c1353e07d0e8c?s=128&d=identicon&r=PG&f=1", "display_name": "akp", "link": "https://stackoverflow.com/users/6136784/akp"}, "is_accepted": false, "score": 0, "last_activity_date": 1459803985, "last_edit_date": 1459803985, "creation_date": 1459802676, "answer_id": 36412526, "question_id": 36378739, "link": "https://stackoverflow.com/questions/36378739/transposing-an-array-of-elements/36412526#36412526", "title": "Transposing an array of elements", "body": "<p>adding <code>my @row =map [ split], $line</code> to my initial code is helping to print the data to pwl.txt.</p>\n\n<p>however its not printing side by side.. instead it is printing to new line.\nI guess because of this Mr.Borodin didn't include matrix in side while loop!</p>\n\n<hr>\n\n<pre><code>1\n2\n3\n\n4\n5\n6\n\n7\n8\n9\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6136784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feedb6d360f2f5461a7c1353e07d0e8c?s=128&d=identicon&r=PG&f=1", "display_name": "akp", "link": "https://stackoverflow.com/users/6136784/akp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1467563697, "creation_date": 1459631459, "last_edit_date": 1495540731, "question_id": 36378739, "link": "https://stackoverflow.com/questions/36378739/transposing-an-array-of-elements", "title": "Transposing an array of elements", "body": "<p>I am trying to transpose an array. </p>\n\n<p>I tried the following code...</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\nuse autodie;\n\nopen my $fh, '&lt;',\"op.txt\" || die \"$!\";\nopen my $wh , '&gt;',\"pwl.txt\" || die \"$!\"; \nselect ($wh);\nwhile (my $line = &lt;$fh&gt;) { \n  my @rows = $line;\n  my @transposed;\n  for my $row (@rows) {\n    for my $column (0 .. $#{$row}) {\n      push(@{$transposed[$column]}, $row-&gt;[$column]);\n    }\n  }\n  for my $new_row (@transposed) {\n    for my $new_col (@{$new_row}) {\n      print $new_col, \" \";\n    }\n    print \"\\n\"; \n  }\n}\n</code></pre>\n\n<p>**********INPUT FILE******</p>\n\n<pre><code>1 2 3\n4 5 6\n7 8 9\n</code></pre>\n\n<p>********** EXPECTED OUTPUT FILE *******</p>\n\n<pre><code>1 4 7\n2 5 8\n3 6 9\n</code></pre>\n\n<p>******** GENERATED OUTPUT FILE *******</p>\n\n<p>Currently couldn't able print anything. script shows the error\n\"can't use string (\"1 4 7\") as an array ref while \"strict refs\" in use</p>\n\n<p>Reference:\nused the following reference...\n<a href=\"https://stackoverflow.com/questions/3249508/transpose-in-perl\">Transpose in perl</a>\nhowever in this reference example, array input lines are declared manually where as i am trying to process a array which is in a text file</p>\n\n<p>could anybody help me where i did mistake?</p>\n\n<p>Many Thanks</p>\n"}, {"tags": ["perl", "stdin", "io-redirection"], "comments": [{"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 1, "creation_date": 1459626097, "post_id": 36377771, "comment_id": 60373232, "body": "For why it reads files as commands line arguments I cannot explain it better than this answer: <a href=\"http://stackoverflow.com/a/12275794/7780\">stackoverflow.com/a/12275794/7780</a>  As for why it reads from stdin, it is because when no arguments are given perl assumes stdin to be the current &quot;file&quot;."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1459626359, "post_id": 36377771, "comment_id": 60373312, "body": "When you don&#39;t specify a file handle inside the <i>line input operator</i>, then you get the <i>diamond operator</i>.  Search for that term."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 1, "last_activity_date": 1459626053, "creation_date": 1459626053, "answer_id": 36377920, "question_id": 36377771, "link": "https://stackoverflow.com/questions/36377771/file-redirection-vs-command-line-arguments/36377920#36377920", "title": "File redirection VS. command line arguments", "body": "<p>If you only wanted to read from STDIN then you'd use:</p>\n\n<pre><code>while(&lt;STDIN&gt;){\n</code></pre>\n\n<p>What you've actually used is:</p>\n\n<pre><code>while(&lt;&gt;){\n</code></pre>\n\n<p>Which means: read all lines, from all files listed in @ARGV <em>or</em> if @ARGV is empty, read from STDIN instead.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4332327"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 36377920, "answer_count": 1, "score": 1, "last_activity_date": 1459626053, "creation_date": 1459625058, "question_id": 36377771, "link": "https://stackoverflow.com/questions/36377771/file-redirection-vs-command-line-arguments", "title": "File redirection VS. command line arguments", "body": "<p>I have a perl script named <code>sort.pl</code> that takes in STDIN from some file like so:</p>\n\n<pre><code>while(&lt;&gt;){\n print;\n}\n</code></pre>\n\n<p>and I have been thinking I need to pass in a file with redirection like this: <code>./sort.pl &lt; wordlist</code> but it has come to my attention that <code>./sort.pl wordlist</code> also works.</p>\n\n<p>Why is this the case? In other languages I usually have to specify between command line arguments and file redirection.</p>\n"}, {"tags": ["perl", "dancer"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1459623980, "post_id": 36377451, "comment_id": 60372581, "body": "This may seem like a dumb question, but did you actually send a request? If so, did you get a valid response (HTTP 200 and the contents of your test template)?"}, {"owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459625344, "post_id": 36377451, "comment_id": 60372999, "body": "Yes I did, The code snippet for the $Var1&#39;s is from the response html pages."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459657815, "post_id": 36377451, "comment_id": 60380584, "body": "Try turning logging all the way up and check the logs after making a request."}, {"owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459713924, "post_id": 36377451, "comment_id": 60397854, "body": "The log level is already set to core, Making a request is not resulting in any error message."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459781530, "post_id": 36377451, "comment_id": 60428045, "body": "Did you remove that test installation? I get a Dancer 404."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459867095, "post_id": 36377451, "comment_id": 60473340, "body": "I&#39;m unable to reproduce this with the skeleton app generated by <code>dancer2</code>. Run <code>dancer2 gen -a Foo</code> to generate a new app and see if you can reproduce the issue. Change the session engine in config.yml, but don&#39;t change anything else, then send a request. If the directory is created, figure out what&#39;s different between your app and the generated one; if it&#39;s not created, edit your config.yml into the question."}, {"owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "edited": false, "score": 0, "creation_date": 1459883491, "post_id": 36377451, "comment_id": 60484593, "body": "Yes, I removed the test route, I had a lengthy debug session with the folks on the #dancer channel @irc.perl.org and resolved most of the issues with sessions."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459886339, "post_id": 36377451, "comment_id": 60486456, "body": "@vijayvithal In that case, can you please write an answer so future visitors with the same issue can see how you fixed it?"}, {"owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "edited": false, "score": 0, "creation_date": 1459887069, "post_id": 36377451, "comment_id": 60486895, "body": "My learning were as follows. 1. The config.yml file is sensitive to indentation, 2. all engines should be grouped together  3. We need to define template, session and session_name at global level"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459953408, "post_id": 36377451, "comment_id": 60521255, "body": "@vijayvithal Can you post your original broken config file and your working config file in an answer (not a comment)? I think that would be really helpful for people in the future."}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1516045910, "post_id": 36377451, "comment_id": 83522960, "body": "Did you manage to fix it? I seem to be having the same problem, in this case with the log itself."}, {"owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "edited": false, "score": 0, "creation_date": 1516171338, "post_id": 36377451, "comment_id": 83574658, "body": "Yes it was resolved. Check my comment above. The problem was related to indentation and grouping of plugins"}], "owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1459626206, "creation_date": 1459623146, "last_edit_date": 1459626206, "question_id": 36377451, "link": "https://stackoverflow.com/questions/36377451/dancer2-session-not-written-to-file", "title": "Dancer2 Session Not written to file", "body": "<p>In my Dancer2 app I find that the session information is not stored in between file request. I am using YAML as my session store format.</p>\n\n<p>e.g.</p>\n\n<p>I have defined a test route to set a variable in the session and dump the settings and session variable in the template using Data Dumper in the template.</p>\n\n<pre><code>get '/test' =&gt; sub {\nsession(\"a\"=&gt;1);\ntemplate 'test';\n};\n</code></pre>\n\n<p>The result of Data Dumper is</p>\n\n<pre><code>$VAR1 = {\n'engines' =&gt; {\n'template' =&gt; {\n'template_toolkit' =&gt; {\n'start_tag' =&gt; '&lt;%',\n'end_tag' =&gt; '%&gt;'\n}\n},\n'session' =&gt; {\n'YAML' =&gt; {\n'cookie_name' =&gt; 'domain.session',\n'is_secure' =&gt; '1',\n'is_http_only' =&gt; '1',\n'session_dir' =&gt; '/tmp/dancer-sessions/'\n}\n}\n},\n</code></pre>\n\n<p>And session var is</p>\n\n<pre><code>$VAR1 = {\n'a' =&gt; 1\n};\n</code></pre>\n\n<p>At this point I expect my /tmp directory to contain a session folder but I see the following</p>\n\n<pre><code>starman@ubuntu:~/www/app$ ls -al /tmp\ntotal 776\ndrwxrwxrwt  2 root    root      4096 Apr  2 14:39 .\ndrwxr-xr-x 21 root    root      4096 Apr  2 07:31 ..\n-rw-r--r--  1 starman starman 776737 Apr  2 14:31 starman.err\n-rw-r--r--  1 starman starman      0 Apr  2 07:31 starman.out\n-rw-r--r--  1 starman starman      4 Apr  2 14:31 starman.pid\n</code></pre>\n\n<p>I am unable to figure out why the session file is not getting created. Any pointers on my mistake will be helpful</p>\n\n<p><strong>EDIT</strong>\nAdding more information.\nI have modified the test route to take 2 parameters key and value which are stored in the session as follows.</p>\n\n<pre><code>get '/test/:key/:value' =&gt; sub {\nmy $key =params-&gt;{key};\nmy $value =params-&gt;{value};\nsession($key=&gt;$value);\ntemplate 'test';};\n</code></pre>\n\n<p>My test.tt is as follows</p>\n\n<pre><code>&lt;%USE Dumper%&gt;\n&lt;h1&gt; Dumping the settings variable &lt;/h1&gt;\n&lt;%Dumper.dump_html(settings)%&gt;\n&lt;h1&gt; Dumping the session variable &lt;/h1&gt;\n&lt;%Dumper.dump_html(session)%&gt;\n</code></pre>\n\n<p>The live url for this route is </p>\n\n<p><a href=\"http://edaindia.com/test/var/bar\" rel=\"nofollow\">Live URL</a></p>\n\n<p>I still do not see any folder being created in my /tmp/ folder</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1459616170, "post_id": 36376069, "comment_id": 60369749, "body": "<code>while read i; do echo &quot;$i&quot;; done &lt; ps.txt</code> is a more correct way to do that in <code>bash</code>."}, {"owner": {"reputation": 75, "user_id": 5759343, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/161717450855048/picture?type=large", "display_name": "&#223;\u0142 \u1eb6ck \u0124\u1eb7wk", "link": "https://stackoverflow.com/users/5759343/%c3%9f%c5%82-%e1%ba%b6ck-%c4%a4%e1%ba%b7wk"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1459619354, "post_id": 36376069, "comment_id": 60371077, "body": "@chepner I wanna do that in Perl"}], "answers": [{"comments": [{"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "reply_to_user": {"reputation": 75, "user_id": 5759343, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/161717450855048/picture?type=large", "display_name": "&#223;\u0142 \u1eb6ck \u0124\u1eb7wk", "link": "https://stackoverflow.com/users/5759343/%c3%9f%c5%82-%e1%ba%b6ck-%c4%a4%e1%ba%b7wk"}, "edited": false, "score": 0, "creation_date": 1459619815, "post_id": 36376124, "comment_id": 60371240, "body": "<code>open</code> is pretty self explanatory. <code>&lt;&gt;</code> returns content of a file, record by record (by default line by line). To return whole file as a single record, the record separator variable - <code>$&#47;</code> needs to be unset, which is achieved with <code>local $&#47;;</code>."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1459623347, "post_id": 36376124, "comment_id": 60372390, "body": "The original <code>bash</code> code iterates over the contents line-by-line (albeit incorrectly), so leaving <code>$&#47;</code> alone and using <code>my @file_contents = &lt;$fh&gt;;</code> is probably more correct."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 1, "last_activity_date": 1459616098, "creation_date": 1459616098, "answer_id": 36376124, "question_id": 36376069, "link": "https://stackoverflow.com/questions/36376069/change-bash-script-code-to-perl/36376124#36376124", "title": "change bash script code to perl", "body": "<p>Instead of using <code>cat</code> to get file contents into a Perl variable, you should use <code>open</code> and <code>&lt;&gt;</code> in \"slurp mode\":</p>\n\n<pre><code>open my $fh, \"&lt;\", \"ps.txt\" or die \"Failed to open ps.txt: $!\";\nlocal $/;\nmy $file_contents = &lt;$fh&gt;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1459632146, "post_id": 36377442, "comment_id": 60375106, "body": "<code>$0</code> is the name of the script and <i>not</i> argument zero (e.g. from <code>foo bar</code>, <code>$0</code> is &quot;foo&quot; and <i>not</i> &quot;bar&quot;). In perl, command line arguments are in a [pre-supplied] array <code>@ARGV</code>. So, replace <code>$0</code> with <code>$ARGV[0]</code>"}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "reply_to_user": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1459645591, "post_id": 36377442, "comment_id": 60378382, "body": "@CraigEstey  I was using the Perl program itself for testing :-) But I&#39;ve should have made that clear."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1459658077, "post_id": 36377442, "comment_id": 60380627, "body": "Yep. I didn&#39;t &quot;grok&quot; that and I&#39;ve been doing perl for 20+. The comment &quot;fixes&quot; things."}], "tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 0, "last_activity_date": 1459645625, "last_edit_date": 1459645625, "creation_date": 1459623106, "answer_id": 36377442, "question_id": 36376069, "link": "https://stackoverflow.com/questions/36376069/change-bash-script-code-to-perl/36377442#36377442", "title": "change bash script code to perl", "body": "<p>I'm not sure what this is trying to achieve, but this is my answer:</p>\n\n<pre><code>my $var = `/bin/cat $0`; # the Perl program itself ;-)\nprint $var;\n</code></pre>\n\n<p>If you need the lines, <code>$var</code> can be split on <code>$/</code>.</p>\n\n<pre><code>#! /usr/bin/perl -w\nmy $var = `/bin/cat $0`;\nprint $var;\nmy $n = 1;\nfor my $line ( split( $/, $var ) ){\n    print \"$n: $line\\n\";\n    $n++;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": true, "score": 0, "last_activity_date": 1459633399, "last_edit_date": 1459633399, "creation_date": 1459633016, "answer_id": 36379007, "question_id": 36376069, "link": "https://stackoverflow.com/questions/36376069/change-bash-script-code-to-perl/36379007#36379007", "title": "change bash script code to perl", "body": "<p>Here are some ways to do it:</p>\n\n<pre><code>#!/usr/bin/perl\n\n$ifile = \"ps.txt\";\n\n# capture command output\n# NOTE: this puts each line in a separate array element -- the newline is _not_\n# stripped\n@bycat = (`cat $ifile`);\n\n# this strips the newline from all array elements:\nchomp(@bycat);\n\n# so would this:\n# NOTE: for this type of foreach, if you modify $buf, it also modifies the\n# corresponding array element\nforeach $buf (@bycat) {\n    chomp($buf);\n}\n\n# read in all elements line-by-line\nopen($fin,\"&lt;$ifile\") or die(\"unable to open '$ifile' -- $!\\n\");\nwhile ($buf = &lt;$fin&gt;) {\n    chomp($buf);\n    push(@byread,$buf);\n}\nclose($fin);\n\n# print the arrays\n# NOTE: we are passing the arrays \"by-reference\"\nshow(\"bycat\",\\@bycat);\nshow(\"byread\",\\@byread);\n\n# show -- dump the array\nsub show\n# sym -- name of array\n# ptr -- reference to array\n{\n    my($sym,$ptr) = @_;\n    my($buf);\n\n    foreach $buf (@$ptr) {\n        printf(\"%s: %s\\n\",$sym,$buf);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5759343, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/161717450855048/picture?type=large", "display_name": "&#223;\u0142 \u1eb6ck \u0124\u1eb7wk", "link": "https://stackoverflow.com/users/5759343/%c3%9f%c5%82-%e1%ba%b6ck-%c4%a4%e1%ba%b7wk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 36379007, "answer_count": 3, "score": -2, "last_activity_date": 1459645625, "creation_date": 1459615845, "question_id": 36376069, "link": "https://stackoverflow.com/questions/36376069/change-bash-script-code-to-perl", "title": "change bash script code to perl", "body": "<p>In bash :</p>\n\n<pre><code>#!/bin/bash\nvar=$(cat ps.txt)\nfor i in $var ; do\necho $i\ndone\n</code></pre>\n\n<p>and ps.txt is : </p>\n\n<pre><code>356735\n535687\n547568537\n7345673\n3653468\n2376958764\n12345678\n12345\n</code></pre>\n\n<p>Now I want to do that with perl or i want to know how to save the output of a command in a variable in perl like <code>var=$(cat ps.txt)</code></p>\n"}, {"tags": ["php", "perl", "sed", "grep", "diff"], "comments": [{"owner": {"reputation": 1394, "user_id": 2324161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24fe4aaf712024d92defe8a1cd445ef5?s=128&d=identicon&r=PG", "display_name": "Ravindra Bhalothia", "link": "https://stackoverflow.com/users/2324161/ravindra-bhalothia"}, "edited": false, "score": 0, "creation_date": 1459612991, "post_id": 36375510, "comment_id": 60368612, "body": "You can write it using exec(); Check this out <a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow noreferrer\">php.net/manual/en/function.exec.php</a>"}, {"owner": {"reputation": 32631, "user_id": 214577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IEKbS.png?s=128&g=1", "display_name": "Oldskool", "link": "https://stackoverflow.com/users/214577/oldskool"}, "edited": false, "score": 1, "creation_date": 1459613032, "post_id": 36375510, "comment_id": 60368625, "body": "I don&#39;t understand your question. <code>diff</code>, <code>grep</code> and <code>sed</code> are different tools with their own use/goal. What is it that you want to actually achieve?"}, {"owner": {"reputation": 175, "user_id": 5996017, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/813d01591e0c1b403436a30938ea7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/5996017/alaa"}, "reply_to_user": {"reputation": 32631, "user_id": 214577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IEKbS.png?s=128&g=1", "display_name": "Oldskool", "link": "https://stackoverflow.com/users/214577/oldskool"}, "edited": false, "score": 0, "creation_date": 1459613305, "post_id": 36375510, "comment_id": 60368711, "body": "@Oldskool I want use Diff to find differences between 2 text files and put the result in a new file. Then use grep and sed to do some condition on each line in the result text file."}, {"owner": {"reputation": 175, "user_id": 5996017, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/813d01591e0c1b403436a30938ea7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/5996017/alaa"}, "reply_to_user": {"reputation": 32631, "user_id": 214577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IEKbS.png?s=128&g=1", "display_name": "Oldskool", "link": "https://stackoverflow.com/users/214577/oldskool"}, "edited": false, "score": 0, "creation_date": 1459613819, "post_id": 36375510, "comment_id": 60368910, "body": "@Oldskool I edit my question"}, {"owner": {"reputation": 175, "user_id": 5996017, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/813d01591e0c1b403436a30938ea7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/5996017/alaa"}, "reply_to_user": {"reputation": 1394, "user_id": 2324161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24fe4aaf712024d92defe8a1cd445ef5?s=128&d=identicon&r=PG", "display_name": "Ravindra Bhalothia", "link": "https://stackoverflow.com/users/2324161/ravindra-bhalothia"}, "edited": false, "score": 0, "creation_date": 1459664714, "post_id": 36375510, "comment_id": 60381660, "body": "@Ravindra Bhalothia see edit 1 please"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5996017, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/813d01591e0c1b403436a30938ea7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/5996017/alaa"}, "edited": false, "score": 0, "creation_date": 1459664526, "post_id": 36375817, "comment_id": 60381627, "body": "I try this: $text_files_path = &quot;C:/inetpub/wwwroot/dbs&quot;; $command = (&quot;diff $text_files_path/$OldDbFile $text_files_path/$NewDbFile &gt;  $text_files_path/diffFile.txt&quot;); exec($command); it didn&#39;t work!"}], "tags": [], "owner": {"reputation": 1394, "user_id": 2324161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24fe4aaf712024d92defe8a1cd445ef5?s=128&d=identicon&r=PG", "display_name": "Ravindra Bhalothia", "link": "https://stackoverflow.com/users/2324161/ravindra-bhalothia"}, "is_accepted": false, "score": 0, "last_activity_date": 1459614526, "creation_date": 1459614526, "answer_id": 36375817, "question_id": 36375510, "link": "https://stackoverflow.com/questions/36375510/how-to-write-linux-grep-sed-diff-sentences-in-a-php-file-or-in-a-perl-file/36375817#36375817", "title": "How to write linux grep, sed, diff sentences in a php file or in a perl file", "body": "<p>Try this : </p>\n\n<pre><code>&lt;?php \n    echo exec(\"sed -i -r 's/.{2}//' C:/Users/User/Desktop/text3.txt\"); \n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 5996017, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/813d01591e0c1b403436a30938ea7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/5996017/alaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1459664627, "creation_date": 1459612902, "last_edit_date": 1459664627, "question_id": 36375510, "link": "https://stackoverflow.com/questions/36375510/how-to-write-linux-grep-sed-diff-sentences-in-a-php-file-or-in-a-perl-file", "title": "How to write linux grep, sed, diff sentences in a php file or in a perl file", "body": "<p>I want to compare 2 text files using Diff, grep, and sed.</p>\n\n<p>First, How to write linux grep, sed, diff sentences in a php file or in a perl file?</p>\n\n<p>how to write this diff in php or perl:</p>\n\n<pre><code>$ diff C:/Users/User/Desktop/text1.txt C:/Users/User/Desktop/text2.txt &gt; C:/Users/User/Desktop/text3.txt\n</code></pre>\n\n<p>how to write this sed in php or perl:</p>\n\n<pre><code>$ sed -i -r 's/.{2}//' C:/Users/User/Desktop/text3.txt \n</code></pre>\n\n<p>Second, What is better? writing it in PHP file or Perl file?\n<strong>I want to call this script from PHP file.</strong></p>\n\n<p>Thank you.</p>\n\n<p><strong>Edit 1:</strong>\nI try this:</p>\n\n<pre><code>$text_files_path = \"C:/inetpub/wwwroot/dbs\"; \n$command = (\"diff $text_files_path/$OldDbFile $text_files_path/$NewDbFile &gt; $text_files_path/diffFile.txt\"); \nexec($command);\n</code></pre>\n\n<p>it generate the new file in the specified folder but, it is empty!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459610581, "post_id": 36374950, "comment_id": 60367829, "body": "You really need a proper HTML parser for this. Please show a sample of your <i>list of regex conditions</i>"}, {"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459612982, "post_id": 36374950, "comment_id": 60368608, "body": "Original question modified with some regex conditions I&#39;ve been using to check against for the &#39;whitelist&#39; to keep."}], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1459687502, "post_id": 36380197, "comment_id": 60387971, "body": "Thank you for the detail analysis of scenario I didn&#39;t think of.  I ended up with HTML::TokeParser::Simple for image url extraction instead of using RE, match against my whitelist, then save it back to the original $content variable."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1459642671, "last_edit_date": 1495540239, "creation_date": 1459642671, "answer_id": 36380197, "question_id": 36374950, "link": "https://stackoverflow.com/questions/36374950/how-to-make-conditional-regex-global-replacement-using-perl/36380197#36380197", "title": "How to make conditional regex global replacement using Perl?", "body": "<p>As others have mentioned, using RE's to parse HTML is strongly recommended against - see <a href=\"https://stackoverflow.com/questions/590747/using-regular-expressions-to-parse-html-why-not\">here</a> (amoung many other places) for the reasons.</p>\n\n<p>Since your example data is short and simple, you can ignore the advice as long as you keep in mind the limitations.  Some of the</p>\n\n<p>things to consider are;</p>\n\n<ol>\n<li>What if your whitelist keyword matches part of the domain?</li>\n<li>or vice versa - what if a domain (.net) is part of the path?</li>\n<li>What happens if the scheme is something other than http(s)?</li>\n<li>What if the URL is not in double quotes?  or any quotes at all?</li>\n<li>What if there is something that looks like a tag in the \"pre-text\"?</li>\n<li>Are entries on the whitelist case-sensitive?  Domain names are not; paths are; so what to do?</li>\n</ol>\n\n<p>A couple of principles I've used in the solution below are;</p>\n\n<ul>\n<li>separate regex specification from regex use</li>\n<li>always use extended mode regexs ie: use '/x' option</li>\n<li>pre-process the whitelist to make an array of RE \"tests\" to pass</li>\n<li>unix filter style - read on STDIN, write on STDOUT, warn on STDERR</li>\n<li>use a module for the detail of handling parts of the URL</li>\n</ul>\n\n<p>Given those things to consider, this will basically do it;</p>\n\n<pre><code>use v5.12;\nuse URI::URL;\n\nmy $wrapper_host   =  \"wrapper-url.com\" ;\nmy $whitelist_file =  \"whitelist.txt\"   ;\nURI::URL::strict 1;   # Will croak if cannot determine scheme\n\nmy $text_re    = qr/ ^ ( \\s* [^&lt;]+ \\s* ) /x ;\nmy $quoted_str = qr/ \" ( [^\"]+ ) \" /x ;\nmy $img_tag_re = qr/ &lt; img \\s+ src= $quoted_str &gt;  /x ;\n\nmy @whitelist_rules ;\nopen(my $white, '&lt;', $whitelist_file) or die \"$whitelist_file: $!\\n\" ;\nwhile (&lt;$white&gt;) {\n    chomp;\n    s/\\./\\\\./;   # escape '.'\n    push @whitelist_rules, qr/$_/ ;\n}\nclose $white ;\n\nwhile (&lt;&gt;) {\n\n    # Parse the line into text and url\n    my $text;  my $url;\n    if (/ $text_re  $img_tag_re /x) {\n        $text = $1 ;\n        $url = new URI::URL $2 ;  # may croak\n    }\n    else {\n        warn \"Can't make sense of line $., skipping...\" ;\n        next ;\n    }\n\n    # iterate over @whitelist_rules to see if this one is exempt\n    my $on_whitelist = 0;\n    for my $r (@whitelist_rules) {\n        $on_whitelist++ if $url =~ /$r/i ;            # Note: '/i'\n        # $on_whitelist++ if $url-&gt;netloc =~ /$r/i ;  # alternatively ...\n        # $on_whitelist++ if $url-&gt;path   =~ /$r/i ;  # alternatively ...\n    }\n\n    # If its not on the whitelist, wrap netloc\n    if ( ! $on_whitelist )  {\n        $url-&gt;path( $url-&gt;netloc . $url-&gt;path );\n        $url-&gt;netloc( $wrapper_host );\n    }\n\n    # output the transformed line\n    say $text . $url ;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "edited": false, "score": 0, "creation_date": 1459687036, "post_id": 36381513, "comment_id": 60387812, "body": "Indeeds, using HTML::TokeParser::Simple is a much cleaner solution to my problem. With minor modification, this solution works perfect for me. Thanks."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 0, "last_activity_date": 1459673921, "last_edit_date": 1459673921, "creation_date": 1459656415, "answer_id": 36381513, "question_id": 36374950, "link": "https://stackoverflow.com/questions/36374950/how-to-make-conditional-regex-global-replacement-using-perl/36381513#36381513", "title": "How to make conditional regex global replacement using Perl?", "body": "<ol>\n<li><p>You can use <code>HTML:TokeParser:Simple</code> to locate an img tag and extract the url from its src attribute. </p></li>\n<li><p>You can extract the host name from the url with <code>URI:URL</code>.</p></li>\n<li><p>You can convert your whitelist into <code>a set</code> for easy and efficient host name lookups.</p></li>\n<li><p>You can use the <code>s//</code> operator to <em>wrap</em> host names that are not in the whitelist.</p></li>\n</ol>\n\n<hr>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse HTML::TokeParser::Simple;\nuse URI::URL;\nuse List::Util qw{ any };\n\nmy @white_list = qw(\n    s3.static.cdn.net\n    cdn.domain.com\n    whitelist-domain.net\n    i.whitelist-domain.com\n);\n#Create a set:\nmy %white_list = map {$_ =&gt; undef} @white_list;\n\nmy @accepted_keywords = qw(\n    xxx.xxx\n    cool\n);\n#Escape any special regex characters appearing in the keywords:\n@accepted_keywords = map { quotemeta $_ } @accepted_keywords;\n\nmy $wrapper_host = \"wrapper-url.com\";\n\nmy $content = &lt;&lt;END_OF_CONTENT;\nABC &lt;img src=\"http://i.whitelist-domain.com/keep.jpg\"&gt;\nDEF &lt;img src=\"http://random-url.com/replace.jpg\"&gt;\nGHI &lt;img src=\"http://cdn.domain.com/keep.jpg\"&gt;\nXYZ &lt;img src=\"http://random-url.com/replace.jpg\"&gt;\nZZZ &lt;img src=\"http://xxx.xxx/keep.jpg\"&gt;\nZZZ &lt;img src=\"http://xxxXxxx/replace.jpg\"&gt;\nZZZ &lt;img src=\"http://waycool.com/keep.jpg\"&gt;\nEND_OF_CONTENT\n\nmy $parser = HTML::TokeParser::Simple-&gt;new(\\$content);\n\nmy ($src, $url, $host, $regex);\nwhile (my $token = $parser-&gt;get_token() ) {\n\n    if ($token-&gt;is_tag('img') ) {\n        if ($src = $token-&gt;get_attr('src') ) {\n            $url = URI::URL-&gt;new($src);\n            $host = $url-&gt;host;\n\n            next if exists($white_list{$host});\n            next if any { $host =~ /$_/ } @accepted_keywords;\n\n            $src =~ s/(http:\\/\\/)/$1$wrapper_host\\//xms;\n            $token-&gt;set_attr(\n                'src',\n                $src,\n            );\n\n        }\n    }\n}\ncontinue {\n    print $token-&gt;as_is;\n}\n\n--output:--\nABC &lt;img src=\"http://i.whitelist-domain.com/keep.jpg\"&gt;\nDEF &lt;img src=\"http://wrapper-url.com/random-url.com/replace.jpg\"&gt;\nGHI &lt;img src=\"http://cdn.domain.com/keep.jpg\"&gt;\nXYZ &lt;img src=\"http://wrapper-url.com/random-url.com/replace.jpg\"&gt;\nZZZ &lt;img src=\"http://xxx.xxx/keep.jpg\"&gt;\nZZZ &lt;img src=\"http://wrapper-url.com/xxxXxxx/replace.jpg\"&gt;\nZZZ &lt;img src=\"http://waycool.com/keep.jpg\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 6149329, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/47e3c45f0b65483d341fdf0ed4132764?s=128&d=identicon&r=PG&f=1", "display_name": "KDX", "link": "https://stackoverflow.com/users/6149329/kdx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 36381513, "answer_count": 2, "score": 0, "last_activity_date": 1459673921, "creation_date": 1459609865, "last_edit_date": 1459612777, "question_id": 36374950, "link": "https://stackoverflow.com/questions/36374950/how-to-make-conditional-regex-global-replacement-using-perl", "title": "How to make conditional regex global replacement using Perl?", "body": "<p>I have a variable <code>$content</code> containing a paragraph of mixed text and HTML img tags and URLs.</p>\n\n<p>I would like to make conditional string injection to do some replacement.</p>\n\n<p>For example, suppose <code>$content</code> contains</p>\n\n<pre><code>ABC &lt;img src=\"http://url1.com/keep.jpg\"&gt;\nDEF &lt;img src=\"http://random-url.com/replace.jpg\"&gt;\nGHI &lt;img src=\"http://url2.com/keep.jpg\"&gt;\n</code></pre>\n\n<p>I would like to edit <code>$content</code> and make it</p>\n\n<pre><code>ABC &lt;img src=\"http://url1.com/keep.jpg\"&gt; \nDEF &lt;img src=\"http://wrapper-url.com/random-url.com/replace.jpg\"&gt; \nGHI &lt;img src=\"http://url2.com/keep.jpg\"&gt;\n</code></pre>\n\n<p>I have a list of regex conditions for URLs to keep: the said <em>whitelist matches</em>. Any image URL other than the whitelist will be edited with a wrapper-url prefix.</p>\n\n<p>My idea was:</p>\n\n<pre><code>if image tags matched in $content {\n  if match is in 'whitelist'\n    do nothing\n  else\n    inject prefix replacement\n}\n</code></pre>\n\n<p>I don't know how to make conditional regex global replacement since everything is in a single-line string variable.</p>\n\n<p>I need to implement this in Perl.</p>\n\n<hr>\n\n<p>Additional information:</p>\n\n<p>My 'whitelist' is only currently 5 lines, basically containing keyword and domains.</p>\n\n<p>Here's what I've been doing for matching the 'whitelist'.</p>\n\n<p>eg.</p>\n\n<pre><code>if ($_ =~ /s3\\.static\\.cdn\\.net/) {\n    # whitelist to keep, subdomain match\n}\nelsif ($_ =~ /keyword-to-keep/) {\n    # whitelist to keep, url keyword match\n}\nelsif ($_ =~ /cdn\\.domain\\.com/) {\n    # whitelist to keep, subdomain match\n}\nelsif ($_ =~ /whitelist-domain\\.net/) {\n    # whitelist to keep, domain match\n}\nelsif ($_ =~ /i\\.whitelist-domain\\.com/) {\n    # whitelist to keep, subdomain match\n}\nelse {\n    # matched, do something about it with injection\n}\n</code></pre>\n\n<p><hr>\nA not so elegant solution I can think of is to globally replace all img urls with the prefix injection.</p>\n\n<p>Then do another global replacement to remove the prefix by matching against the 'whitelist'.</p>\n\n<p>Is there a more efficient solution to my problem?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 3486, "user_id": 272387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba4d3e91f235ed21dacc1766b94e26a8?s=128&d=identicon&r=PG", "display_name": "Richlv", "link": "https://stackoverflow.com/users/272387/richlv"}, "edited": false, "score": 0, "creation_date": 1574273967, "post_id": 36373923, "comment_id": 104177112, "body": "This does not seem to answer the question and drops value &quot;15.2&quot; which would show up as not matching the need in the question."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3486, "user_id": 272387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba4d3e91f235ed21dacc1766b94e26a8?s=128&d=identicon&r=PG", "display_name": "Richlv", "link": "https://stackoverflow.com/users/272387/richlv"}, "edited": false, "score": 0, "creation_date": 1574275527, "post_id": 36373923, "comment_id": 104177849, "body": "@Richlv Nice catch! I have no idea how I missed that."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1459604259, "last_edit_date": 1459604259, "creation_date": 1459603917, "answer_id": 36373923, "question_id": 36373879, "link": "https://stackoverflow.com/questions/36373879/perl-sort-numbers-naturally/36373923#36373923", "title": "Perl sort numbers naturally", "body": "<p>You need to compare (<code>&lt;=&gt;</code>) the numbers with the special <code>$a</code> and <code>$b</code> variables. Note that you can do the same with strings by replacing <code>&lt;=&gt;</code> with <code>cmp</code>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @nums = qw(15.1 16.1 15.12);\n\n@nums = sort {$a &lt;=&gt; $b} @nums;\n\nprint \"$_\\n\" for @nums;\n\n__END__\n15.1\n15.12\n16.1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": false, "score": 6, "last_activity_date": 1459606224, "creation_date": 1459606224, "answer_id": 36374320, "question_id": 36373879, "link": "https://stackoverflow.com/questions/36373879/perl-sort-numbers-naturally/36374320#36374320", "title": "Perl sort numbers naturally", "body": "<p>If I understood it right, you want to sort the numbers by integer value first and then consider the decimal part as an integer itself, so <code>.12</code> is greater than <code>.2</code> like in your example (12 > 2).</p>\n\n<p>I think the most self explanatory way is to use a custom sort, after splitting them as you said:</p>\n\n<pre><code>@sorted = sort {\n    my ($a1, $a2) = split /\\./, $a;\n    my ($b1, $b2) = split /\\./, $b;\n    $a1 &lt;=&gt; $b1 or $a2 &lt;=&gt; $b2\n} @numbers;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459617023, "post_id": 36375830, "comment_id": 60370079, "body": "They look like standard floating-point numbers to me. It&#39;s a big leap to assume that they&#39;re version strings"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459617065, "post_id": 36375830, "comment_id": 60370099, "body": "@Borodin Look at the expected output. They want to sort 15.2 before 15.12."}, {"owner": {"reputation": 33, "user_id": 6149051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d623595e2779adeedeff2d6b90cfbfce?s=128&d=identicon&r=PG&f=1", "display_name": "Stacky", "link": "https://stackoverflow.com/users/6149051/stacky"}, "edited": false, "score": 0, "creation_date": 1459669149, "post_id": 36375830, "comment_id": 60382642, "body": "Yes, they are version numbers. And thank you. Your solution just works."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1459615206, "last_edit_date": 1459615206, "creation_date": 1459614603, "answer_id": 36375830, "question_id": 36373879, "link": "https://stackoverflow.com/questions/36373879/perl-sort-numbers-naturally/36375830#36375830", "title": "Perl sort numbers naturally", "body": "<p>It looks like you're trying to sort version numbers, where each component is sorted independently. Sort::Naturally won't work because it ignores non-alphanumeric characters, but there are several other modules that can do this.</p>\n\n<p><a href=\"https://metacpan.org/pod/Sort::Versions\" rel=\"nofollow\">Sort::Versions</a> splits its input on periods or hyphens and sorts each group either alphabetically or numerically, depending on whether non-digit characters are present:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse Sort::Versions;\n\nmy @versions = (\n    15.12,\n    16.1,\n    15.2,\n    15.1\n);\n\nsay for sort { versioncmp($a, $b) } @versions;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>15.1\n15.2\n15.12\n16.1\n</code></pre>\n\n<p>Sort::Versions expects input to match certain common version string formats; if you need to sort different formats than what you've shown, check the rules in the documentation to make sure it will work for you.</p>\n\n<hr>\n\n<p><a href=\"https://metacpan.org/pod/Sort::Key::Natural\" rel=\"nofollow\">Sort::Key::Natural</a> is more flexible because it splits on all word boundaries, not just periods and hyphens, but in this case it works the same:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse Sort::Key::Natural qw(natsort);\n\nmy @versions = (\n    15.12,\n    16.1,\n    15.2,\n    15.1\n);\n\nsay for natsort @versions;\n</code></pre>\n\n<p>(Output is the same as for Sort::Versions)</p>\n\n<p>Sort::Key::Natural has some nice additional features, like the ability to sort in place and to customize the sort order. It was also significantly faster than Sort::Versions in my benchmarks, although that will only matter if you're sorting large arrays.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 15543920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3860bf2f21f63adf4df08b7258ddfd8e?s=128&d=identicon&r=PG&f=1", "display_name": "mjgommo", "link": "https://stackoverflow.com/users/15543920/mjgommo"}, "is_accepted": false, "score": 1, "last_activity_date": 1617437509, "creation_date": 1617437509, "answer_id": 66929008, "question_id": 36373879, "link": "https://stackoverflow.com/questions/36373879/perl-sort-numbers-naturally/66929008#66929008", "title": "Perl sort numbers naturally", "body": "<p>Regarding the answer provided by @stevieb, value &quot;15.2&quot; was not dropped: it was missing in the original array. Operators <code>&lt;=&gt;</code> and <code>cmp</code> are not exchangeable, though. They are used to compare numbers and strings, respectively.</p>\n"}], "owner": {"reputation": 33, "user_id": 6149051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d623595e2779adeedeff2d6b90cfbfce?s=128&d=identicon&r=PG&f=1", "display_name": "Stacky", "link": "https://stackoverflow.com/users/6149051/stacky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 1, "accepted_answer_id": 36375830, "answer_count": 4, "score": 3, "last_activity_date": 1617437509, "creation_date": 1459603710, "last_edit_date": 1459666316, "question_id": 36373879, "link": "https://stackoverflow.com/questions/36373879/perl-sort-numbers-naturally", "title": "Perl sort numbers naturally", "body": "<p>I need to sort numbers and I am not able to get it to work the way I want. </p>\n\n<p>Example input:</p>\n\n<pre><code>15.12\n16.1\n15.2\n15.1\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>15.1\n15.2\n15.12\n16.1\n</code></pre>\n\n<p>I tried normal sort and also <code>Sort::Naturally</code> for this. Neither works giving me the expected output.</p>\n\n<p>I am also aware I can do something like the following to sort it the way I want.</p>\n\n<pre><code>my @sorted =\nmap sprintf('%vd', $_),\nsort\nmap join('', map chr, split /\\./),\n@data;\n</code></pre>\n\n<p>I am wondering if there are some pre existent modules that I can use though.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "hash", "parameters"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 4, "last_activity_date": 1613499231, "last_edit_date": 1613499231, "creation_date": 1459591064, "answer_id": 36371790, "question_id": 36371354, "link": "https://stackoverflow.com/questions/36371354/odd-number-of-elements-in-hash-assignment-in-subroutine-parameter/36371790#36371790", "title": "Odd Number of elements in hash assignment in subroutine parameter", "body": "<p><code>Odd number of elements in hash assignment </code> is not an error but a warning.\nThe problem rises because when the values are passed to the subroutine, the values gets flattened together.</p>\n<p>Let us consider your hash have some data for example</p>\n<pre><code>%hash = (&quot;a&quot;=&gt;1,&quot;b&quot;=&gt;2);\n</code></pre>\n<p>and <code> $dbh_global  = &quot;abc&quot;</code></p>\n<p>Then you pass the value into the subroutine,</p>\n<pre><code> NVD::save2db(%hash, $dbh_global); #the problem is here. \n</code></pre>\n<p>Hash will always have a key with value. So every hash will have only even data.</p>\n<p>you retrieve the value into the subroutine like,</p>\n<pre><code>my (%resultHash, $dbh) = (@_);\n</code></pre>\n<p>So <code>%resultHash</code>will contain uneven values, three keys and two values like this</p>\n<pre><code>{\n  a=&gt;1,\n  b=&gt;2,\n  abc           #This is the reason of the warning. \n}\n</code></pre>\n<p>and then <code>$dbh</code> has no value in it.</p>\n<p>so Change the line as</p>\n<pre><code>NVD::save2db($dbh_global, %hash);\n</code></pre>\n<p>and retrieve  the values into subroutine like</p>\n<pre><code>my ($dbh,%resultHash) = (@_);\n</code></pre>\n<p>Or else</p>\n<p>use hash reference for to do it.</p>\n<pre><code>my $resulthash_ref = \\%resultHash; #Hash reference \n\nNVD::save2db($resulthash_ref, $dbh_global);\n\n\n#inside the subroutine \n{\n    my ($hash_ref,$dbh) = (@_);\n    my %hash = %{$hash};  #Dereference the hash\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 5167041, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d2c852379fc293d9139f9b2d1cbc0419?s=128&d=identicon&r=PG&f=1", "display_name": "SL07", "link": "https://stackoverflow.com/users/5167041/sl07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1520, "favorite_count": 0, "accepted_answer_id": 36371790, "answer_count": 1, "score": 1, "last_activity_date": 1613499231, "creation_date": 1459588211, "last_edit_date": 1459594385, "question_id": 36371354, "link": "https://stackoverflow.com/questions/36371354/odd-number-of-elements-in-hash-assignment-in-subroutine-parameter", "title": "Odd Number of elements in hash assignment in subroutine parameter", "body": "<p>I want to pass a hash and <code>$dbh</code> to my sub <code>save2db</code>. However, I am getting an error message: <code>Odd number of elements in hash assignment in file2.pm</code> after this line of code: <code>my (%resultHash, $dbh) = (@_);</code>. Can someone please explain to me the cause of this error. Thanks in advance!</p>\n\n<p>file1.pl</p>\n\n<pre><code>my $dbh_global = connect2db();\nmy %hash; ##Assume there are nothing wrong with the hash and it is populated\n\nforeach my $fileName_input (@ARGV){\n    NVD::save2db(%hash, $dbh_global);\n}\n\nsub connect2db{\n    my $driver = \"mysql\";\n    my $database = \"test\";\n    my $dsn = \"DBI:$driver:database=$database\";\n    my $userid = \"root\";\n    my $password = \"\";\n\n    my $dbh = DBI-&gt;connect($dsn, $userid, $password) or die $DBI::errstr;\n\n    return $dbh;  \n}\n</code></pre>\n\n<p>file2.pm</p>\n\n<pre><code>sub save2db{\n\n    my (%resultHash, $dbh) = (@_); # &lt;-Error message occured\n\n    foreach my $resultHash_entry (keys %resultHash){\n        my $a= $resultHash{$resultHash_entry}{'a'};\n        my $b= $resultHash{$resultHash_entry}{'b'};\n        my $c= $resultHash{$resultHash_entry}{'c'};\n        my $d= $resultHash{$resultHash_entry}{'d'};\n\n        my $insert_sql = $dbh -&gt; prepare(\"INSERT INTO `test`.`record`\n                                       (`a`, `b`, `c`, `d`)\n                                       VALUES\n                                       (?, ?, ?, ?)\");\n\n        $insert_sql-&gt;execute($a, $b, $c, $d) or die $DBI::errstr;\n    }\n\n}\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "apt-get", "bugzilla"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1459844378, "post_id": 36371196, "comment_id": 60456119, "body": "I think this is better suited for <a href=\"https://askubuntu.com\">askubuntu.com</a>."}], "answers": [{"tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 0, "last_activity_date": 1459613110, "creation_date": 1459613110, "answer_id": 36375548, "question_id": 36371196, "link": "https://stackoverflow.com/questions/36371196/ubuntu-trusty-14-04lts-how-do-i-update-package-libemail-sender-perl-from-v1-3/36375548#36375548", "title": "ubuntu trusty (14.04LTS): how do I update package libemail-sender-perl from v1.300010 to v1.300011 (needed for bugzilla 5.0.2)", "body": "<p>You can use <code>cpanminus</code> to upgrade the module (you might need to install <code>make</code> and <code>gcc</code> first):</p>\n\n<pre><code>apt-get install cpanminus\ncpanm Email::Sender\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6148335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dsXjS0fapmk/AAAAAAAAAAI/AAAAAAAAAAo/X9Aoc-spx0s/photo.jpg?sz=128", "display_name": "Frank Becker", "link": "https://stackoverflow.com/users/6148335/frank-becker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459613110, "creation_date": 1459587070, "question_id": 36371196, "link": "https://stackoverflow.com/questions/36371196/ubuntu-trusty-14-04lts-how-do-i-update-package-libemail-sender-perl-from-v1-3", "title": "ubuntu trusty (14.04LTS): how do I update package libemail-sender-perl from v1.300010 to v1.300011 (needed for bugzilla 5.0.2)", "body": "<p>When you want to run Bugzilla 5.0.2 on ubuntu trusty (14.04LTS) you need libemail-sender-perl v1.300011.</p>\n\n<p>But when you do:\napt-get update &amp;&amp; apt-get install -y libemail-sender-perl you only get v1.300010.</p>\n\n<p>How can I install the newer version?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 713, "user_id": 734598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce678494043d536df4555cc33338f41e?s=128&d=identicon&r=PG", "display_name": "sigmalha", "link": "https://stackoverflow.com/users/734598/sigmalha"}, "edited": false, "score": 0, "creation_date": 1459577336, "post_id": 36369728, "comment_id": 60358466, "body": "see <a href=\"https://regex101.com/r/nR8mJ1/1\" rel=\"nofollow noreferrer\">regex101.com/r/nR8mJ1/1</a> explantion"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459759728, "post_id": 36369728, "comment_id": 60412892, "body": "What it means is - someone&#39;s trying to parse XML or HTML using a regex, and this is a bad idea."}], "answers": [{"comments": [{"owner": {"reputation": 1067, "user_id": 5474317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/683671635072717/picture?type=large", "display_name": "John", "link": "https://stackoverflow.com/users/5474317/john"}, "edited": false, "score": 0, "creation_date": 1510556281, "post_id": 36369956, "comment_id": 81467874, "body": "Nice Explanation..."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1459880854, "last_edit_date": 1459880854, "creation_date": 1459578293, "answer_id": 36369956, "question_id": 36369728, "link": "https://stackoverflow.com/questions/36369728/regular-expression-and/36369956#36369956", "title": "Regular Expression .*? and .*", "body": "<p><code>*</code> means it matches zero or more times</p>\n\n<p><code>*?</code> means it matches zero or more times but not greedy</p>\n\n<p><code>.</code> means it matches any character except new line</p>\n\n<p><code>'\"helllo\"++\"world\"'</code> This is your stirng</p>\n\n<p>In below example <code>^</code> means the current position (there's a current position in the string and a current position in the pattern (kind of))</p>\n\n<p>In your first case.</p>\n\n<p>Step1</p>\n\n<pre><code>\"helllo\"++\"world\"      \".+\"\n^                      ^  \n</code></pre>\n\n<p>Step2</p>\n\n<pre><code>\"helllo\"++\"world\"      \".+\"\n ^                      ^  \n</code></pre>\n\n<p>Step3</p>\n\n<pre><code>\"helllo\"++\"world\"      \".+\"\n                ^        ^\n</code></pre>\n\n<p>Step4</p>\n\n<p>Since we find <code>\"</code> at the end of the string <code>.+</code> backtrack and matches the character before the <code>\"</code></p>\n\n<p>check <code>\"</code></p>\n\n<pre><code>We have the match at this position so success\n\n\"helllo\"++\"world\"      \".+\"\n               ^          ^\n</code></pre>\n\n<p>In your second case. <code>*? Match zero or more times but not greedy</code></p>\n\n<p>Step1</p>\n\n<pre><code>  \"helllo\"++\"world\"     \".*?\"\n  ^                     ^  \n</code></pre>\n\n<p>Step2</p>\n\n<pre><code>  \"helllo\"++\"world\"     \".*?\"\n   ^                     ^  \n</code></pre>\n\n<p>Step3</p>\n\n<pre><code>  \"helllo\"++\"world\"     \".*?\"\n         ^                 ^  \n</code></pre>\n\n<p>Step4 (<code>*</code> become fail when the first match is satisfy.)</p>\n\n<pre><code>  \"helllo\"++\"world\"     \".*?\"\n         ^                  ^  \n</code></pre>\n\n<p>In your thrid case</p>\n\n<p>Step 1</p>\n\n<pre><code>\"helllo\"++\"world\"        .* \n^                        ^ \n</code></pre>\n\n<p>Step 2 (<code>*</code> is greedy so it will go to until end. And the result is give the all matched pattern)</p>\n\n<pre><code>\"helllo\"++\"world\"        .* \n                ^         ^ \n</code></pre>\n\n<p>In your fourth case,</p>\n\n<p>Your pattern is <code>.*?</code> It means anything<code>(.)</code> <b>zero</b> or more times<code>(*)</code> but not greedy<code>(?)</code>. Here the non greedy character matches the zero character so the result is null.</p>\n"}, {"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 0, "last_activity_date": 1459578611, "creation_date": 1459578611, "answer_id": 36369996, "question_id": 36369728, "link": "https://stackoverflow.com/questions/36369728/regular-expression-and/36369996#36369996", "title": "Regular Expression .*? and .*", "body": "<p>The reason d) prints nothing is pretty simple: You already know <code>.*?</code> matches as little as possible, so without adding any other criteria, \"as little as possible\" is nothing at all.</p>\n\n<p>The reason b) <code>\"(.*?)\"</code> matches <code>\"hello\"</code> is the two quotes in the expression - ie the match (if found) must start and end with a quote. The middle part <code>.*?</code> matches as little as possible, so that's \"hello\".</p>\n"}, {"tags": [], "owner": {"reputation": 101058, "user_id": 318758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9870a37447a4ae811096e8e7d10ed3f9?s=128&d=identicon&r=PG", "display_name": "Joni", "link": "https://stackoverflow.com/users/318758/joni"}, "is_accepted": false, "score": 2, "last_activity_date": 1459580419, "last_edit_date": 1459580419, "creation_date": 1459578715, "answer_id": 36370016, "question_id": 36369728, "link": "https://stackoverflow.com/questions/36369728/regular-expression-and/36370016#36370016", "title": "Regular Expression .*? and .*", "body": "<p><code>.*?</code> will search for a match using as few characters as possible. If you're matching <code>\".*?\"</code> against <code>\"a\" \"b\"</code>, the regex engine will report just <code>\"a\"</code> as a match. The greedy version <code>\".*\"</code> would report the entire string as a match because <code>*</code> wants to consume as much input as possible.</p>\n\n<p>The regex <code>.*?</code> can be satisfied with an empty string, so if you don't put anything around it to prevent a match that's exactly what it'll do (like in your case d).</p>\n\n<p>Your regexes 1) and 2) are for parsing text that looks like XML. Consider this text:</p>\n\n<pre><code>&lt;tag&gt;text&lt;/tag&gt; &lt;tag&gt;more text&lt;/tag&gt;\n</code></pre>\n\n<p>The regex 1) will consume only the first tagged substring <code>&lt;tag&gt;text&lt;/tag&gt;</code>, while the regex 2 consumes the entire string.</p>\n\n<p>Now consider this text:</p>\n\n<pre><code>&lt;tag&gt;what about &lt;tag&gt;nested&lt;/tag&gt; tags?&lt;/tag&gt;\n</code></pre>\n\n<p>The regex 1) will produce a match only until the first closing <code>&lt;/tag&gt;</code> while the regex 2) consumes the entire string.</p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 2, "last_activity_date": 1459580507, "last_edit_date": 1592644375, "creation_date": 1459580507, "answer_id": 36370256, "question_id": 36369728, "link": "https://stackoverflow.com/questions/36369728/regular-expression-and/36370256#36370256", "title": "Regular Expression .*? and .*", "body": "<p>You really have two questions in one, here;</p>\n<blockquote>\n<p>What do these two regular expressions do?</p>\n<p>/&lt;(.*?)&gt;.*?&lt;/\\1&gt;/</p>\n</blockquote>\n<p>A dot, '.', is an atom that matches any character.  The asterisk after it means &quot;match the previous atom as many times as possible.&quot;  The combination is referred to as &quot;greedy&quot; as the dot matches anything and the '*' says - &quot;just keep going&quot; and so, without any other constraint or anchor, the combination 'eats' or matches the rest of the string.  The question mark changes this behaviour from &quot;greedy&quot; to &quot;stingy&quot; - it will try to match as little as possible.</p>\n<p>The round brackets - or parentheses - don't stipulate what to match - they are there to indicate that you want to &quot;capture&quot; whatever does match to a special variable called &quot;$1&quot; for the first pair of brackets, &quot;$2&quot; for the second and so on.</p>\n<p>So this, - <code>&lt;(.*?)&gt;</code> means, match an open angle bracket (or &quot;less than&quot;), then match anything (but take up as little as possible) and then match a closing angle (or &quot;greater than&quot;).  The round brackets stipulate nothing about what to match - they just mean &quot;Put whatever text is between the angle brackets into $1.&quot;</p>\n<p>The <code>\\1</code> in the last part, <code>&lt;\\/\\1&gt;</code>, is what's called a back reference - it means &quot;whatever you captured in the first set of round brackets I want to match again right here&quot;.  The <code>\\/</code> before it is an escaped forward slash - so what we are looking for here is a &quot;tag&quot; (text surrounded by angle brackets), some text and then a matching &quot;closing tag&quot; - ie the same text in angle brackets with a '/' out the front.</p>\n<blockquote>\n<p>/&lt;(.*?)&gt;.*&lt;/\\1&gt;/</p>\n</blockquote>\n<p>This does almost the same thing except it tries to take as much text as possible between the opening and closing tags.</p>\n<pre><code>my $a = '&quot;helllo&quot;++&quot;world&quot;';\n...\nprint &quot;b $1\\n&quot; if $a =~/(&quot;.*?&quot;)/;            # &quot;helllo&quot;\n...\nprint &quot;d $1\\n&quot; if $a =~/(.*?)/;\n</code></pre>\n<blockquote>\n<p>why does d show nothing, and b is &quot;helllo&quot; not &quot;&quot;?</p>\n</blockquote>\n<p>With (b), you are saying &quot;I insist on a double quote (&quot;) at the start, then any text, and then I insist again on a closing double quote (&quot;)&quot;.  Now, if you look at the text in $a, you can see all of the following start and end with a (&quot;) with some text inbetween;</p>\n<pre><code>&quot;helllo&quot; \n&quot;helllo&quot;++&quot; \n&quot;helllo&quot;++&quot;world&quot;\n</code></pre>\n<p>Here's the main point - <code>.*?</code> (stingy) means &quot;I want the smallest one&quot; - ie in this case the first, whereas, <code>.*</code> (no '?' - greedy) means &quot;I want the longest one&quot; - ie in this case, the last.</p>\n<p>With (d), there are no angle brackets or double quote characters that you stipulate at the start or end of the string - you are simply saying &quot;match anything, (.*) but take as little as possible&quot;.  So, the RE gave you nothing at all as that certainly is the smallest match that satisfies the criteria (ie no criteria! :-)</p>\n"}], "owner": {"reputation": 193, "user_id": 6079824, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a66858cc4efcc57b306294ea130a731f?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/6079824/patrick"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11791, "favorite_count": 5, "closed_date": 1459580974, "answer_count": 4, "score": 3, "last_activity_date": 1459880854, "creation_date": 1459576508, "last_edit_date": 1459580704, "question_id": 36369728, "link": "https://stackoverflow.com/questions/36369728/regular-expression-and", "closed_reason": "Duplicate", "title": "Regular Expression .*? and .*", "body": "<p>What do these two regular expressions do?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/&lt;(.*?)&gt;.*?&lt;\\/\\1&gt;/\n\n/&lt;(.*?)&gt;.*&lt;\\/\\1&gt;/\n</code></pre>\n\n<p>What I've learned is <code>.*?</code> means as few characters as possible.</p>\n\n<p>For example:</p>\n\n<pre><code>  my $a = '\"helllo\"++\"world\"';\n\n  print \"a $1\\n\" if $a =~/(\".*\")/;            # \"helllo\"++\"world\"\n\n  print \"b $1\\n\" if $a =~/(\".*?\")/;           # \"helllo\"\n\n  print \"c $1\\n\" if $a =~/(.*)/;              # \"helllo\"++\"world\"\n\n  print \"d $1\\n\" if $a =~/(.*?)/;             # (nothing)\n</code></pre>\n\n<p>why does d show nothing, and b is <code>helllo</code> not <code>\"\"</code>? </p>\n\n<p>So, i couldn't find any good examples to show the difference between <code>1 and 2</code> like the <code>helllo world</code> example.</p>\n\n<p>Can someone help by giving some examples to show the difference? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 0, "creation_date": 1459559248, "post_id": 36368032, "comment_id": 60355374, "body": "It breaks for <code>hey you hey how are you doing today ? are you happy ?</code>"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1459559786, "post_id": 36368032, "comment_id": 60355464, "body": "it matches &quot;hey you hey&quot; as expected.  See it yourself here: <a href=\"https://regex101.com/r/rV4nO2/1\" rel=\"nofollow noreferrer\">regex101.com/r/rV4nO2/1</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 0, "creation_date": 1459559925, "post_id": 36368032, "comment_id": 60355494, "body": "Yes but it doesn&#39;t matches other words which are occurring more than once. for example <code>you</code>"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1459560121, "post_id": 36368032, "comment_id": 60355524, "body": "The question is if there is a word repeated twice or more.  Not find all the words repeated more than once."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 0, "creation_date": 1459560292, "post_id": 36368032, "comment_id": 60355557, "body": "I see, well OP mentioned <b>atleast one word</b>, <i>from any line of input that has at least one word repeated two or more times.</i> Need more clarification on question."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1459558715, "creation_date": 1459558715, "answer_id": 36368032, "question_id": 36367899, "link": "https://stackoverflow.com/questions/36367899/check-if-there-is-a-word-repeated-at-least-2-or-more-times-regular-expression/36368032#36368032", "title": "check if there is a word repeated at least 2 or more times. (Regular Expression)", "body": "<p>this should work</p>\n\n<pre><code>(\\b\\w+\\b).*\\b\\1\\b\n</code></pre>\n\n<p>greedy algorithm will ensure longest match.  If you want second instance to be a separate word you have to add the boundaries there as well.  So it's the same as </p>\n\n<pre><code>\\b(\\w+)\\b.*\\b\\1\\b\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "is_accepted": false, "score": 0, "last_activity_date": 1459605418, "last_edit_date": 1459605418, "creation_date": 1459560954, "answer_id": 36368234, "question_id": 36367899, "link": "https://stackoverflow.com/questions/36367899/check-if-there-is-a-word-repeated-at-least-2-or-more-times-regular-expression/36368234#36368234", "title": "check if there is a word repeated at least 2 or more times. (Regular Expression)", "body": "<p>To check for repeated words you can use <code>positive lookahead</code> like this.</p>\n\n<p><strong>Regex:</strong> <code>(\\b[A-Za-z]+\\b)(?=.*\\b\\1\\b)</code></p>\n\n<p><strong>Explanation:</strong> </p>\n\n<ul>\n<li><p><code>(\\b[A-Za-z]+\\b)</code> will capture any word. </p></li>\n<li><p><code>(?=.*\\b\\1\\b)</code> will lookahead if the word captured by group is present or not. If yes then a match is found.</p></li>\n</ul>\n\n<p><strong>Note:-</strong> This will produce repeated results because the word which is matched once will again be matched when regex pointer <strong><em>captures it as a word</em></strong>.</p>\n\n<p>You will have to use programming to strip off the repeated results.</p>\n\n<p><strong><a href=\"https://regex101.com/r/xU2xU2/2\" rel=\"nofollow\">Regex101 Demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "is_accepted": false, "score": 0, "last_activity_date": 1459565100, "creation_date": 1459565100, "answer_id": 36368590, "question_id": 36367899, "link": "https://stackoverflow.com/questions/36367899/check-if-there-is-a-word-repeated-at-least-2-or-more-times-regular-expression/36368590#36368590", "title": "check if there is a word repeated at least 2 or more times. (Regular Expression)", "body": "<p><code>Positive lookahead</code> is not a must here:</p>\n\n<pre><code>/\\b([A-Za-z]+)\\b[\\s\\S]*\\b\\1\\b/g\n</code></pre>\n\n<p><strong>EXPLANATION</strong></p>\n\n<pre><code>\\b([A-Za-z]+)\\b     # match any word\n[\\s\\S]*             # match any character (newline included) zero or more times\n\\b\\1\\b              # word repeated   \n</code></pre>\n\n<p><a href=\"https://regex101.com/r/pI1vF4/2\" rel=\"nofollow\"><strong>REGEX 101 DEMO</strong></a></p>\n"}], "owner": {"reputation": 193, "user_id": 6079824, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a66858cc4efcc57b306294ea130a731f?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/6079824/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 784, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1459605418, "creation_date": 1459557434, "last_edit_date": 1459572402, "question_id": 36367899, "link": "https://stackoverflow.com/questions/36367899/check-if-there-is-a-word-repeated-at-least-2-or-more-times-regular-expression", "title": "check if there is a word repeated at least 2 or more times. (Regular Expression)", "body": "<p>Using Regular Expression,</p>\n\n<p>from any line of input that has at least one word repeated two or more times.</p>\n\n<p>Here is how far i got.</p>\n\n<p>/(\\b\\w+\\b).*\\1</p>\n\n<p>but it is wrong because it only checks for single char, not one word.</p>\n\n<p>input: i might be ill</p>\n\n<p>output: &lt; i might be i>ll</p>\n\n<p>&lt;> marks the matched part. </p>\n\n<p>so, i try to do (\\b\\w+\\b)(\\b\\w+\\b)*\\1\nbut it is not working totally.</p>\n\n<p>Can someone give help?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459554495, "post_id": 36367328, "comment_id": 60354388, "body": "<code>for ( my $ijk = 998; $ijk &lt; 1001; $ijk++ )</code> is better written <code>for my $ijk ( 998 .. 1000)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 1228878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vd3Pe.jpg?s=128&g=1", "display_name": "tniles", "link": "https://stackoverflow.com/users/1228878/tniles"}, "edited": false, "score": 0, "creation_date": 1459554090, "post_id": 36367441, "comment_id": 60354261, "body": "I verified this by changing <code>$yData</code> to <code>@yData</code> and it works now. Thanks!"}, {"owner": {"reputation": 331, "user_id": 1228878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vd3Pe.jpg?s=128&g=1", "display_name": "tniles", "link": "https://stackoverflow.com/users/1228878/tniles"}, "edited": false, "score": 0, "creation_date": 1459554467, "post_id": 36367441, "comment_id": 60354376, "body": "Another helpful fact is that <code>say</code> expects a list (see perldoc), hence the list context which makes reverse work the way it does in the one-liner."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459557692, "post_id": 36367441, "comment_id": 60355133, "body": "@zdim: I think you&#39;re missing the real problem. You say <i>&quot;In this case this produces different results.&quot;</i> but you haven&#39;t said <i>why</i>. It&#39;s nothing to do with the context of the call to <code>reverse</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459764181, "post_id": 36367441, "comment_id": 60415819, "body": "@Borodin  I&#39;ve given this time but I still don&#39;t quite understand.  I added an explanation, if you mean that that was missing.  If not, I would appreciate it if you could explain.."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1459763936, "last_edit_date": 1459763936, "creation_date": 1459553695, "answer_id": 36367441, "question_id": 36367328, "link": "https://stackoverflow.com/questions/36367328/learning-perl-one-liner-behaves-differently/36367441#36367441", "title": "Learning Perl, One-Liner behaves differently", "body": "<p>The <code>reverse</code> in your print (<code>say</code>) statement comes in the list context, while when assigned to <code>$yData</code> the context is scalar.  This function (may) behave considerably differently based on the context.</p>\n\n<p>From <code>perldoc -f reverse</code></p>\n\n<blockquote>\n  <p>reverse LIST<br>\n                 In list context, returns a list value consisting of the elements of LIST in the opposite order.  In scalar context, concatenates the elements of LIST and returns a string value with all characters in the opposite order.</p>\n</blockquote>\n\n<p>In this case this produces different results.  </p>\n\n<hr>\n\n<p>When called in list context, it swaps the (two) input bytes, keeping each byte intact (represented by two hexadecimal digits matched in a group).   When called in scalar context, it joins the input and returns a character string, running in the opposite order. Taken to represent a hex number this would have each byte changed.</p>\n"}], "owner": {"reputation": 331, "user_id": 1228878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vd3Pe.jpg?s=128&g=1", "display_name": "tniles", "link": "https://stackoverflow.com/users/1228878/tniles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 36367441, "answer_count": 1, "score": 0, "last_activity_date": 1459763936, "creation_date": 1459552977, "last_edit_date": 1459554281, "question_id": 36367328, "link": "https://stackoverflow.com/questions/36367328/learning-perl-one-liner-behaves-differently", "title": "Learning Perl, One-Liner behaves differently", "body": "<p><strong>UPDATE</strong></p>\n\n<p>As pointed out in the answer, this question really has to do with Scalar versus List Context in Perl.</p>\n\n<h1>## ## ##</h1>\n\n<p>I am learning perl via self-taught crash course (primarily with the Llama book and the web). In attempting some byte swap code, I have found a one liner I do not understand completely. A comment in the script explains what I think is happening in the one-liner.</p>\n\n<pre><code>#!/usr/bin/perl --\n#\n# Script to print byte-swapped hex values\n#\n\nuse 5.010;\nuse warnings;\nuse strict;\n\n# NOTE: I realize I could use a single variable 'data', but the x- y- z- prefixes may help in\n# identification (for clarity) in the code for this SO question.\nmy $xData;\nmy $yData;\nmy $zData;\n\nfor ( my $ijk = 998; $ijk &lt; 1001; $ijk++ )\n{\n  printf ( \"\\n%4d is hex \" . (sprintf \"0x%04X\", $ijk) . \"\\n\", $ijk );\n\n  # with byte swap\n  say \"These numbers (bytes swapped) should match...\";\n\n  # do sprintf, match pattern and store to ($1)($2), now reverse them into ($2)($1). \n  # BindOp leaves $_ alone, match stuffs $_ &amp; is then used as input for reverse, prints.\n  say reverse ((sprintf \"%04X\", $ijk) =~ /(..)(..)/) ;        # from perlmonks' webpage\n\n  $yData = (reverse ((sprintf \"%04X\", $ijk) =~ /(..)(..)/) );\n  say $yData;                         # does NOT match\n\n  $xData = sprintf \"%04X\", $ijk;\n  $xData =~ s/(..)(..)/$2$1/ ;\n  say $xData;                         # does match\n\n  $_ = sprintf \"%04X\", $ijk;\n  /(..)(..)/;\n  $zData = $2 . $1 ;\n  say $zData;                         # does match\n}\n\nexit 0;\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<blockquote>\n  <p>998 is hex 0x03E6 These numbers (bytes swapped) should match... \n  E603 \n  6E30 \n  E603 \n  E603</p>\n  \n  <p>999 is hex 0x03E7 These numbers (bytes swapped) should match... \n  E703\n  7E30 \n  E703 \n  E703</p>\n  \n  <p>1000 is hex 0x03E8 These numbers (bytes swapped) should match... \n  E803\n  8E30 \n  E803 \n  E803</p>\n</blockquote>\n\n<p>Why does the one liner work, and why doesn't the <code>$yData</code> perform the same way? I'm pretty sure I understand why <code>$xData</code> and <code>$zData</code> work, but I would expect <code>$yData</code> to be the closest equivalent non-one-liner. What is the closest equivalent non-one-liner and why? Where is the discrepancy?</p>\n"}, {"tags": ["php", "bash", "perl", "dns"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1459551610, "post_id": 36367049, "comment_id": 60353597, "body": "No, I don&#39;t think it&#39;s possible in general."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "edited": false, "score": 0, "creation_date": 1459552918, "post_id": 36367291, "comment_id": 60353961, "body": "So one viable solution is to use that tool on the link I posted by hand... It will take me ages for a large list but... thanks anyway. I will like to hear another opinion..."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "edited": false, "score": 0, "creation_date": 1459553194, "post_id": 36367291, "comment_id": 60354021, "body": "You could use <code>cURL</code> to access the site and then scrape the results."}, {"owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "reply_to_user": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "edited": false, "score": 0, "creation_date": 1459553252, "post_id": 36367291, "comment_id": 60354042, "body": "@Cristian-DumitruPopescu another opinion: Barmar is correct. Further to that the service you&#39;ve listed, and the methodology Barmar has described are based on old-style shared/dedicated hosting deployments. Present-day load-balanced/service oriented/cloud-based websites are going to show up on an ever-changing list of IP addresses."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459553743, "post_id": 36367291, "comment_id": 60354166, "body": "An excellent answer, but with <i>&quot;You could use cURL to access the site and then scrape the results&quot;</i> are you recommending that <i>cURL</i> should be called from within a scripting language\u2014in which case I don&#39;t see an advantage over Perl&#39;s LWP or Mojolicious\u2014or from the command line where the results may be saved to disk?"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1459553805, "post_id": 36367291, "comment_id": 60354180, "body": "@Borodin Since he asked about doing it in PHP, I was suggesting that he use PHP&#39;s <code>curl_XXX</code> functions."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1459553845, "post_id": 36367291, "comment_id": 60354189, "body": "But really it&#39;s just a generic suggestion that he use some automated method of downloading a web page and parsing the result."}, {"owner": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459553889, "post_id": 36367291, "comment_id": 60354203, "body": "@Borodin That could be good. Any solution to my problem is welcomed. Can you tell me exactly how to do it since I&#39;m a newbie. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459554038, "post_id": 36367291, "comment_id": 60354245, "body": "@Barmar: I guess that&#39;s a glue layer to <i>libcurl</i>? If it shells out then I&#39;m not so keen"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1459554057, "post_id": 36367291, "comment_id": 60354252, "body": "Yes, it&#39;s libcurl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "edited": false, "score": 0, "creation_date": 1459554189, "post_id": 36367291, "comment_id": 60354298, "body": "@Cristian-DumitruPopescu: I&#39;m not sure what you&#39;re asking. Perl&#39;s LWP is one of a few options that will allow you to fetch the contents of a web site. Thereafter the coding is down to you. It sounds like you&#39;re more familiar with PHP so I think you should stick with it, but I&#39;ll happily help if you want to go with Perl"}, {"owner": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "edited": false, "score": 0, "creation_date": 1459554969, "post_id": 36367291, "comment_id": 60354534, "body": "Like i said i&#39;m a newbie. I just wanna make this work, no matter what method."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "edited": false, "score": 0, "creation_date": 1459615860, "post_id": 36367291, "comment_id": 60369628, "body": "@Cristian-DumitruPopescu PHP has <code>curl</code> functions that can be used to post to a web page and read the response, and it has the <code>DOMDocument</code> class that can be used to parse the HTML. That should be all you need to write an application that does what you want."}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 5, "last_activity_date": 1459552785, "creation_date": 1459552785, "answer_id": 36367291, "question_id": 36367049, "link": "https://stackoverflow.com/questions/36367049/reverse-ip-domain-check-script/36367291#36367291", "title": "Reverse IP domain check script", "body": "<p>This is not generally possible. Web sites that host virtual domains do not usually provide reverse DNS that lists all the domains that they host. The reverse DNS just points to their server name.</p>\n\n<p>The site you link to probably gets its information by crawling the web like a search engine. But instead of making an index of all the words in the pages, it simply records all the name-to-address mappings that it finds, and then creates a reverse index that returns all the names that map to the same address.</p>\n"}, {"tags": [], "owner": {"reputation": 10957, "user_id": 5255018, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/8rsRX.jpg?s=128&g=1", "display_name": "Michael B", "link": "https://stackoverflow.com/users/5255018/michael-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1459558775, "creation_date": 1459558775, "answer_id": 36368037, "question_id": 36367049, "link": "https://stackoverflow.com/questions/36367049/reverse-ip-domain-check-script/36368037#36368037", "title": "Reverse IP domain check script", "body": "<p>This is not possible to do from a script. Let me give an example to illustrate. </p>\n\n<p>You have a server located at 12.34.56.78, that server has the following (unique) websites hosted. </p>\n\n<pre><code>www.example.com\nexample.com\nwww.example.org\nbob.example.net \ngertrudeisarealllyniceguy.banana \n</code></pre>\n\n<p>The way that most webservers operate is that they will serve the website that matches the incoming Host header. \nSo you may, luckily discover the existence of <code>www.example.com</code>, you may infer <code>example.com</code>. <code>bob.example.net</code> is more likely to be missed. </p>\n\n<p>So unless you specifically request <code>gertrudeisarealllyniceguy.banana</code> you will never know it exists. So the only possible way you could know every website hosted on that webserver (aside from hacking it) would be to try every single possible domain name, and that would take a very long time (perhaps <a href=\"https://what-if.xkcd.com/34/\" rel=\"nofollow\">eons</a>) </p>\n\n<p>Sites that currently have this information use data from web crawlers, they simply look up the columns of the table that has domain name and IP address. </p>\n"}, {"tags": [], "owner": {"reputation": 15697, "user_id": 36191, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/717c5bc6b7be9109370a15fecb546c9b?s=128&d=identicon&r=PG", "display_name": "Ben Dowling", "link": "https://stackoverflow.com/users/36191/ben-dowling"}, "is_accepted": false, "score": 1, "last_activity_date": 1541619293, "creation_date": 1541619293, "answer_id": 53196557, "question_id": 36367049, "link": "https://stackoverflow.com/questions/36367049/reverse-ip-domain-check-script/53196557#53196557", "title": "Reverse IP domain check script", "body": "<p>I'm the creator of <a href=\"https://host.io\" rel=\"nofollow noreferrer\">host.io</a>, which does something similar, showing you a list of all of the domains hosted on the same IP address (along with a list of domains that link to the domain, and more). For example, here's a list of domains hosted on the same IP as stackoverflow.com: <a href=\"https://host.io/stackoverflow.com\" rel=\"nofollow noreferrer\">https://host.io/stackoverflow.com</a></p>\n\n<p>As you've discovered, getting the IP address for a single domain is only a very small part of the solution. There is no single command or script you can write to do this - you need to build out your own database of domains to IP address.</p>\n\n<p>First need to get (or create) a list of all available domain names. There are roughly 250 million currently. The next step is to resolve all of those domains to an IP address. You then need to store all of those domain to IP pairs in a database, and then you can query to get a list of all domains on the same IP. And then you need to do that at a regular frequency to make sure it stays up to date.</p>\n\n<p>To give a full example, let's create a file with 4 domains and resolve them to IP addresses:</p>\n\n<pre><code>$ cat domains.txt\nfacebook.com\nfb.com\nstackoverflow.com\nstackexchange.com\n\n# Let's resolve the domains to IPs with dig - could use nslookup or similar\n$ cat domains.txt | xargs -I% bash -c \"dig +short % | tail -n1\" &gt; ips.txt\n31.13.76.68\n31.13.76.68\n151.101.129.69\n151.101.193.69\n\n# Let's combine the domains and IPs using paste\n$ paste domains.txt ips.txt &gt; combined.tsv\n$ cat combined.tsv\nfacebook.com    31.13.76.68\nfb.com  31.13.76.68\nstackoverflow.com   151.101.129.69\nstackexchange.com   151.101.129.69\n\n# Let's create a DB table and import the data, and write a query \n# to find any domains in our dataset that are hosted on the same \n# domain as stackoverflow.com\n\n$ psql $DB_URL\n\n=&gt; create table details (domain text, ip text);\n=&gt; \\copy details from ~/combined.tsv;\n\n=&gt; select domain from details where ip = (select ip from details where domain = 'stackoverflow.com');\n      domain\n-------------------\n stackoverflow.com\n stackexchange.com\n(2 rows)\n</code></pre>\n\n<p>That's how you could build your own, or you could let someone else do the hard work, and use their data. We're one such provider, but others exist, like yougetsignal and domaintools.</p>\n"}], "owner": {"reputation": 17, "user_id": 4520083, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100002248296277/picture?type=large", "display_name": "Cristian-Dumitru Popescu", "link": "https://stackoverflow.com/users/4520083/cristian-dumitru-popescu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1610, "favorite_count": 0, "closed_date": 1584452584, "answer_count": 3, "score": 0, "last_activity_date": 1541619293, "creation_date": 1459551363, "last_edit_date": 1459553346, "question_id": 36367049, "link": "https://stackoverflow.com/questions/36367049/reverse-ip-domain-check-script", "closed_reason": "Duplicate", "title": "Reverse IP domain check script", "body": "<p>I wonder if there is a way to build a automated script (doesnt matter if its perl, bash or php) to find out what are the domains hosted on a certain ip.</p>\n\n<p>I'm trying to do something like the <em>Reverse IP Domain Check</em> on <a href=\"http://www.yougetsignal.com/tools/web-sites-on-web-server/\" rel=\"nofollow\">yougetsignal.com</a>.</p>\n\n<p>A friend of mine helped me with this, but it doesn't find the hosted domains given a list of server addresses; instead it just gets the host of the IP address.</p>\n\n<p>Here is the PHP code I have written</p>\n\n<pre><code>&lt;?php\n\n$file    = fopen(\"71\", \"r\");\n$ip_file = fopen('iphosts', 'w');\n$ip_add  = fopen('ip_add', 'w');\n\n$i = 1;\n\nwhile ( ! feof($file) ) {\n\n    $host = fgets($file);\n    $host = rtrim($host);\n\n    echo \"\\n\";\n    echo \"Connecting...\" . $host;\n    echo \"\\n\";\n\n    $host_name = gethostbyaddr( $host );\n    if ( !empty( $host_name ) &amp;&amp; $host != $host_name ) {\n        fwrite($ip_file, $host_name.\"\\n\");\n    } else {\n        fwrite($ip_add, $host_name.\"\\n\");\n    }\n\n    echo \" Done \\n\";\n    $i++;\n}\n\nfclose($file);\nfclose($ip_file);\nfclose($ip_add);\n\n\nexit(0);\n</code></pre>\n"}, {"tags": ["perl", "concatenation"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459787322, "post_id": 36363124, "comment_id": 60431964, "body": "You seem to be thrashing around in the hope that you will float. You have a couple of answers now; please take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459794268, "post_id": 36363124, "comment_id": 60436060, "body": "Hello @Borodin! Sorry for such late response to the answers you and rcedillo posted, pollen alert made weekend terrible! I just ran your script on my data and I wanted to post if or not I face any issues. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459557267, "post_id": 36364206, "comment_id": 60355052, "body": "<i>&quot;You can create a loop to concatenate and combine files&quot;</i> I think that&#39;s the part the OP was having problems with!"}, {"owner": {"reputation": 141, "user_id": 4978958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n_1T6oSAxfk/AAAAAAAAAAI/AAAAAAAACRk/kD_4-xW1Nqg/photo.jpg?sz=128", "display_name": "rcedillo", "link": "https://stackoverflow.com/users/4978958/rcedillo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459785450, "post_id": 36364206, "comment_id": 60430791, "body": "Hi Borodin, he wrote &quot;but i am not sure how to do pattern search for the similar files names&quot;. That&#39;s why I only wrote the code to can group files by type, at that point it&#39;s easier write a loop to do the concatenation I guess. Anyways nice answer"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459787179, "post_id": 36364206, "comment_id": 60431874, "body": "Yes, but there&#39;s also a loop <code>foreach my $file (@files) { ... }</code> which appears to do nothing but force a crash because <code>@files</code> doesn&#39;t exist. You can&#39;t just send everyone to an oncologist when they say they have cancer. Do some diagnosis!"}, {"owner": {"reputation": 141, "user_id": 4978958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n_1T6oSAxfk/AAAAAAAAAAI/AAAAAAAACRk/kD_4-xW1Nqg/photo.jpg?sz=128", "display_name": "rcedillo", "link": "https://stackoverflow.com/users/4978958/rcedillo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459790034, "post_id": 36364206, "comment_id": 60433583, "body": "&quot;Can anyone please share on how to do this pattern search for concatenation?&quot;  ;) I wanted help him."}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1459794552, "post_id": 36364206, "comment_id": 60436235, "body": "Thanks @rcedillo for your detailed answer, it surely helps in learning how to group the similar file names, will come handy in my other problems. Thanks!"}], "tags": [], "owner": {"reputation": 141, "user_id": 4978958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n_1T6oSAxfk/AAAAAAAAAAI/AAAAAAAACRk/kD_4-xW1Nqg/photo.jpg?sz=128", "display_name": "rcedillo", "link": "https://stackoverflow.com/users/4978958/rcedillo"}, "is_accepted": false, "score": 2, "last_activity_date": 1459538195, "creation_date": 1459538195, "answer_id": 36364206, "question_id": 36363124, "link": "https://stackoverflow.com/questions/36363124/perl-concatenate-files-with-similar-names-pattern-and-write-concatenated-file/36364206#36364206", "title": "Perl - concatenate files with similar names pattern and write concatenated file names to a list", "body": "<p>I think it's easier if you categorize the files first then you can work with them.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse File::Spec;\nuse Data::Dumper;\nuse File::Basename;\n\nmy %hash = ();\n\nmy $testdir = './main_dir';\nmy @comp_list = glob(\"$testdir/**/*.txt\");\n\nforeach my $file (@comp_list){\n    $file =~ /(\\w+\\.\\d\\..+\\.txt)/;\n    next if not defined $1;\n    my @tmp = split(/\\./, $1);\n    if (not defined $hash{$tmp[-2]}) {\n        $hash{$tmp[-2]} = [$file];\n    }else{\n        push($hash{$tmp[-2]}, $file);\n    }\n}\n\nprint Dumper(\\%hash);\n</code></pre>\n\n<p>Files:</p>\n\n<pre><code>main_dir\n\u251c\u2500\u2500 sub1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 File.1.age.txt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 File.1.name.txt\n\u2514\u2500\u2500 sub2\n    \u251c\u2500\u2500 File.2.age.txt\n    \u2514\u2500\u2500 File.2.name.txt\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$VAR1 = {\n          'age' =&gt; [\n                     './main_dir/sub1/File.1.age.txt',\n                     './main_dir/sub2/File.2.age.txt'\n                   ],\n          'name' =&gt; [\n                      './main_dir/sub1/File.1.name.txt',\n                      './main_dir/sub2/File.2.name.txt'\n                    ]\n        };\n</code></pre>\n\n<p>You can create a loop to concatenate and combine files</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1459554629, "post_id": 36365126, "comment_id": 60354434, "body": "Does <code>STDOUT-&gt;autoflush</code> need a module?  (A great answer, of course)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1459556998, "post_id": 36365126, "comment_id": 60355007, "body": "@zdim: <code>autoflush</code> is from <a href=\"https://metacpan.org/pod/IO::Handle\" rel=\"nofollow noreferrer\"><code>IO::Handle</code></a>. Its subclass <a href=\"https://metacpan.org/pod/IO::File\" rel=\"nofollow noreferrer\"><code>IO::File</code></a> <a href=\"http://search.cpan.org/dist/perl-5.14.0/pod/perldelta.pod#Filehandle_method_calls_load_IO::File_on_demand\" rel=\"nofollow noreferrer\">loads automatically on demand</a> if you are using Perl v5.14.0 or later"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1459557544, "post_id": 36365126, "comment_id": 60355110, "body": "Oh ... thank you very much!  Had no idea.  (We run v5.10 here :(."}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1459794461, "post_id": 36365126, "comment_id": 60436181, "body": "Thanks a lot @Borodin, your solution works perfectly on my current set of that, but as you pointed, if I the files need to be in order of their names like Test1.age.txt, Test2.age.txt, Test3.age.txt, should I run a loop over file names and check the number using regular expression? Thanks a lot!!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467563308, "last_edit_date": 1467563308, "creation_date": 1459541761, "answer_id": 36365126, "question_id": 36363124, "link": "https://stackoverflow.com/questions/36363124/perl-concatenate-files-with-similar-names-pattern-and-write-concatenated-file/36365126#36365126", "title": "Perl - concatenate files with similar names pattern and write concatenated file names to a list", "body": "<p>This should work for you. I've only tested it superficially as it would take me a while to create some test data, so as you have some at hand I'm hoping you'll report back with any problems</p>\n\n<p>The program segregates all the files found by the equivalent of your <code>glob</code> call, and puts them in <em>buckets</em> according to their type. I've assumed that the names are <em>exactly</em> as you've shown, so the type is penultimate field when the file name is split on dots; i.e. the type of <code>Test.1.age.txt</code> is <code>age</code></p>\n\n<p>Having collected all of the file lists, I've used a technique that is originally designed to read through all of the files specified on the command line. If <code>@ARGV</code> is set to a list of files then an <code>&lt;ARGV&gt;</code> operation will read through all the files as if they were one, and so can easily be copied to a new output file</p>\n\n<p>If you need the files concatenated in a specific order then I will have to amend my solution. At present they will be processed in the order that <code>glob</code> returns them -- probably in lexical order of their file names, but you shouldn't rely on that</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.14.0;    # For autoflush method\n\nuse File::Spec::Functions 'catfile';\n\nuse constant ROOT_DIR =&gt; './Main_dir';\n\nmy %files;\n\nmy $pattern = catfile(ROOT_DIR, 'test_dir*', '*.txt');\n\nfor my $file ( glob $pattern ) {\n    my @fields = split /\\./, $file;\n    my $type = lc $fields[-2];\n    push @{ $files{$type} }, $file;\n}\n\nSTDOUT-&gt;autoflush;    # Get prompt reports of progress\n\nfor my $type ( keys %files ) {\n\n    my $outfile = catfile(ROOT_DIR, \"Combined.$type.txt\");\n    open my $out_fh, '&gt;', $outfile or die qq{Unable to open \"$outfile\" for output: $!};\n\n    my $files = $files{$type};\n\n    printf qq{Writing aggregate file \"%s\" from %d input file%s ... },\n            $outfile,\n            scalar @$files,\n            @$files == 1 ? '' : 's';\n\n    local @ARGV = @$files;\n    print $out_fh $_ while &lt;ARGV&gt;;\n\n    print \"complete\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 1, "accepted_answer_id": 36365126, "answer_count": 2, "score": 0, "last_activity_date": 1467563308, "creation_date": 1459534385, "question_id": 36363124, "link": "https://stackoverflow.com/questions/36363124/perl-concatenate-files-with-similar-names-pattern-and-write-concatenated-file", "title": "Perl - concatenate files with similar names pattern and write concatenated file names to a list", "body": "<p>I have a directory with multiple sub-directories in it and each subdir has a fixed set of files - one for each category like -</p>\n\n<pre><code>1)Main_dir\n1.1) Subdir1 with files \n\n - Test.1.age.txt\n - Test.1.name.txt\n - Test.1.place.csv\n..........\n1.2) Subdir2 with files \n - Test.2.age.txt\n - Test.2.name.txt\n - Test.2.place.csv\n.........\n</code></pre>\n\n<p>there are around 20 folders with 10 files in them. I need to first concatenate files under each category like Test.1.age.txt and Test.2.age.txt into a combined.age.txt file and once I do all concatenation I want  to printout these filenames in a new Final_list.txt file like </p>\n\n<pre><code>./Main_dir/Combined.age.txt\n./Main_dir/Combined.name.txt\n</code></pre>\n\n<p>I am able to read all the files from all subdirs in an array, but i am not sure how to do pattern search for the similar files names. Also, will be able to figure out this printout part of the code. Can anyone please share on how to do this pattern search for concatenation? My code so far : </p>\n\n<pre><code>use warnings;\nuse strict;\nuse File::Spec;\nuse Data::Dumper;\nuse File::Basename;\n\nforeach my $file (@files) {\nprint \"$file\\n\";\n}\nmy $testdir = './Main_dir';\nmy @Comp_list = glob(\"$testdir/test_dir*/*.txt\");\n</code></pre>\n\n<p>I am trying to do the pattern search on the array contents in the @Comp_list, which I surely need to learn - </p>\n\n<pre><code>foreach my $f1 (@Comp_list) {\n        if($f1 !~ /^(\\./\\.txt$/) {\n        print $f1; # check if reading the file right \n\n\n #push it to a file using concatfile( \n}}\n</code></pre>\n\n<p>Thanks a lot! </p>\n"}, {"tags": ["string", "perl", "arguments", "parameter-passing", "subroutine"], "comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1459529675, "post_id": 36361651, "comment_id": 60342993, "body": "Another example: say you wanted to do <code>test(time)</code>.  Simply printing <code>@_</code> will print the epoch value of the current time and its very unclear (at first glance) that you are actually testing the current time."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1459530025, "post_id": 36361651, "comment_id": 60343183, "body": "Use <a href=\"https://metacpan.org/pod/Devel::Trace\" rel=\"nofollow noreferrer\">Devel::Trace</a>, or just use the regular debugger and break at the line where the function is called."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1459531006, "post_id": 36361651, "comment_id": 60343758, "body": "See also <a href=\"https://metacpan.org/pod/Debug::Show\" rel=\"nofollow noreferrer\"><code>Debug::Show</code></a>, <a href=\"https://metacpan.org/pod/PadWalker\" rel=\"nofollow noreferrer\"><code>PadWalker</code></a>, <a href=\"https://metacpan.org/pod/Data::Dumper::Names\" rel=\"nofollow noreferrer\"><code>Data::Dumper::Names</code></a>, <a href=\"https://metacpan.org/pod/Data::Dumper::Lazy\" rel=\"nofollow noreferrer\"><code>Data::Dumper::Lazy</code></a> and <a href=\"https://metacpan.org/pod/Debug::ShowStuff::ShowVar\" rel=\"nofollow noreferrer\"><code>Debug::ShowStuff::ShowVar</code></a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1459531678, "post_id": 36361651, "comment_id": 60344189, "body": "It is also possible to parse the line using <a href=\"https://metacpan.org/pod/PPI\" rel=\"nofollow noreferrer\"><code>PPI</code></a> using information from <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\"><code>caller</code></a>. But this runs into some other problems like determining the file name of the source file. See <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=127646\" rel=\"nofollow noreferrer\">this discussion</a> for more information"}], "answers": [{"tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": false, "score": 0, "last_activity_date": 1459534923, "last_edit_date": 1459534923, "creation_date": 1459534230, "answer_id": 36363076, "question_id": 36361651, "link": "https://stackoverflow.com/questions/36361651/getting-all-arguments-passed-to-a-subroutine-as-a-string-in-perl/36363076#36363076", "title": "Getting all arguments passed to a subroutine as a string in Perl", "body": "<p>I know this is probably not the best solution, but it works:</p>\n\n<pre><code>sub test {\n    my (undef, $file_name, $line_number) = caller;\n    open my $fh, '&lt;', $file_name or die $!;\n    my @lines = &lt;$fh&gt;;\n    close $fh;\n\n    my $line = $lines[$line_number - 1];\n    trim($line);\n\n    print $line.\"\\n\";\n}\n\nsub trim {\n    return map { $_ =~ s/^\\s+|\\s+$//g } @_;\n}\n</code></pre>\n\n<p>Now when you run this:</p>\n\n<pre><code>test(time);\n</code></pre>\n\n<p>You will get this as the output:</p>\n\n<blockquote>\n  <p>test(time);</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1459789162, "post_id": 36364023, "comment_id": 60433087, "body": "The only problem is I want to use this to write a unit testing script.  Essentially I want my tests to each be named after their associated function and arguments that way I don&#39;t need to manually name each test.  Is there a way to do this without explicitly running Perl in debug mode?  or maybe invoke debug mode from within the test script itself?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1459792828, "post_id": 36364023, "comment_id": 60435239, "body": "@tjwrona1992 That approach will fail if you want to run multiple tests on the same function with the same input. For example, with <code>$foo-&gt;connect(); $foo-&gt;close(); $foo-&gt;close();</code>, you probably want the first <code>close</code> to close the connection, but you may want the second <code>close</code> to warn. Different behavior, but in your scheme, you&#39;ll have the exact same test name for both. The test name should be a human-readable string describing the expected behavior. Do any future maintenance programmers (including yourself!) a favor and write descriptive test names."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1459538802, "last_edit_date": 1459538802, "creation_date": 1459537604, "answer_id": 36364023, "question_id": 36361651, "link": "https://stackoverflow.com/questions/36361651/getting-all-arguments-passed-to-a-subroutine-as-a-string-in-perl/36364023#36364023", "title": "Getting all arguments passed to a subroutine as a string in Perl", "body": "<p>Perl provides special <a href=\"http://perldoc.perl.org/perldebguts.html#Debugger-Internals\" rel=\"noreferrer\">debugging hooks</a> that let you see the raw lines of compiled source files. You can write a custom debugger that prints the original line every time a subroutine is invoked.</p>\n\n<p>The following lets you specify one or more subroutines you want to match; every time a matching subroutine is invoked, the corresponding line is printed.</p>\n\n<pre><code>package Devel::ShowCalls;\n\nour %targets;\n\nsub import {\n    my $self = shift;\n\n    for (@_) {\n        # Prepend 'main::' for names without a package specifier\n        $_ = \"main::$_\" unless /::/;\n        $targets{$_} = 1;        \n    }\n}\n\npackage DB;\n\nsub DB {\n    ($package, $file, $line) = caller;\n}\n\nsub sub {\n    print \"&gt;&gt; $file:$line: \",\n          ${ $main::{\"_&lt;$file\"} }[$line] if $Devel::ShowCalls::targets{$sub};\n    &amp;$sub;\n}\n\n1;\n</code></pre>\n\n<hr>\n\n<p>To trace invocations of functions <code>foo</code> and <code>Baz::qux</code> in the following program:</p>\n\n<pre><code>sub foo {}\nsub bar {}\nsub Baz::qux {}\n\nfoo(now =&gt; time);\nbar rand;\nBaz::qux( qw/unicorn pony waffles/ );\n</code></pre>\n\n<p>Run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -d:ShowCalls=foo,Baz::qux myscript.pl \n&gt;&gt; myscript.pl:5: foo(now =&gt; time);\n&gt;&gt; myscript.pl:7: Baz::qux( qw/unicorn pony waffles/ );\n</code></pre>\n\n<p>Note that this will only print the first line of the invocation, so it won't work for calls like</p>\n\n<pre><code>foo( bar,\n     baz );\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "accepted_answer_id": 36364023, "answer_count": 2, "score": 3, "last_activity_date": 1459554548, "creation_date": 1459529167, "question_id": 36361651, "link": "https://stackoverflow.com/questions/36361651/getting-all-arguments-passed-to-a-subroutine-as-a-string-in-perl", "title": "Getting all arguments passed to a subroutine as a string in Perl", "body": "<p>I am trying to write a function that can take all of its arguments and print them as a string exactly as they were entered.</p>\n\n<p>For example using the following function:</p>\n\n<pre><code>test('arg1' =&gt; $arg1, 'arg2' =&gt; $arg2);\n</code></pre>\n\n<p>I would like to get the following string inside of the function <em>formatted <strong>EXACTLY</strong> as seen below</em>:</p>\n\n<pre><code>\"'arg1' =&gt; $arg1, 'arg2' =&gt; $arg2\"\n</code></pre>\n\n<p>I want to do this so I can print all of the arguments the same way that they were entered for debugging/testing purposes.</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1459521758, "post_id": 36358911, "comment_id": 60337986, "body": "I&#39;m guessing that code uses the ancient <a href=\"https://metacpan.org/pod/release/CAPTTOFU/DBD-mysql-3.0008/lib/Mysql.pm\" rel=\"nofollow noreferrer\">Mysql.pm</a> module, which was obsolete even in 2006. If so, you&#39;ll need to make a lot more changes than just <code>fetchhash</code> -&gt; <code>fetchrow_hashref</code>. Does your script have <code>use Mysql;</code> somewhere?"}, {"owner": {"reputation": 113, "user_id": 6145310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1391758354183361/picture?type=large", "display_name": "strader", "link": "https://stackoverflow.com/users/6145310/strader"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1459522021, "post_id": 36358911, "comment_id": 60338178, "body": "ouch, i guess it is very old :D Yes, there is a use Mysql; in the beginning of the code"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 6145310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1391758354183361/picture?type=large", "display_name": "strader", "link": "https://stackoverflow.com/users/6145310/strader"}, "edited": false, "score": 0, "creation_date": 1459523572, "post_id": 36359455, "comment_id": 60339243, "body": "Thank you, it sounds plausible. But on %ns2=$res2-&gt;fetchrow_hashref --- i get the error -&gt;&gt; Reference found where even-sized list expected at nsconfgen.pl &lt;&lt;--- then on $nsips{$ns2-&gt;{nsid}}=$ns2-&gt;{nsip}; i&#39;ve get the error Use of uninitialized value in hash element at nsconfgen.pl line 172. ---- i"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113, "user_id": 6145310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1391758354183361/picture?type=large", "display_name": "strader", "link": "https://stackoverflow.com/users/6145310/strader"}, "edited": false, "score": 1, "creation_date": 1459524700, "post_id": 36359455, "comment_id": 60339966, "body": "@strader: You haven&#39;t copied the first line of mob&#39;s code correctly"}, {"owner": {"reputation": 113, "user_id": 6145310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1391758354183361/picture?type=large", "display_name": "strader", "link": "https://stackoverflow.com/users/6145310/strader"}, "edited": false, "score": 0, "creation_date": 1459525254, "post_id": 36359455, "comment_id": 60340317, "body": "oh! thank you very much! I&#39;ve overlooked the line :D Now it works. A thousand thanks."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1459522356, "creation_date": 1459522356, "answer_id": 36359455, "question_id": 36358911, "link": "https://stackoverflow.com/questions/36358911/fetchrow-hashref-or-fetchhash/36359455#36359455", "title": "fetchrow_hashref or fetchhash?", "body": "<p>In <code>DBI</code> implementors, the return value of <code>fetchrow_hashref</code> is a reference to a hash, not a hash. A few changes to your code will get it right:</p>\n\n<pre><code>    while ($ns2=$res2-&gt;fetchrow_hashref) {\n        $nsips{$ns2-&gt;{nsid}}=$ns2-&gt;{nsip};\n        $nsnames{$ns2-&gt;{nsid}}=$ns2-&gt;{nsname};\n    }\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6145310, "user_type": "registered", "profile_image": "https://graph.facebook.com/1391758354183361/picture?type=large", "display_name": "strader", "link": "https://stackoverflow.com/users/6145310/strader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 36359455, "answer_count": 1, "score": 0, "last_activity_date": 1459522356, "creation_date": 1459520895, "question_id": 36358911, "link": "https://stackoverflow.com/questions/36358911/fetchrow-hashref-or-fetchhash", "title": "fetchrow_hashref or fetchhash?", "body": "<p>i am wondering if someone can help me with a frustrating problem with an old perl code. My actual task is to migrate an old perl script from Version 5.10.1 to 5.18.2.</p>\n\n<p>So i've done already the simple problems with the script like wrong calls, bad format, ect.</p>\n\n<p>But im stuck on a function called fetchhash with seem to be like fetchrow_hashref;</p>\n\n<p>Im intended to catch a list of IPs, Nameserver IDs and Names. My Problem is, that the function fetchrow_hashref doesn't do the same thing like fetchhash in the old code. </p>\n\n<p>see folllowing new code:</p>\n\n<pre><code>        #fetch_network();\n        $res2=$dbh-&gt;prepare(\"select nsip,nsid,nsname from nameservers\");\n        $res2-&gt;execute();\n\n        while (%ns2=$res2-&gt;fetchrow_hashref;{\n            $nsips{$ns2{nsid}}=$ns2{nsip};\n            $nsnames{$ns2{nsid}}=$ns2{nsname};\n        }\n</code></pre>\n\n<p>The table looks like:</p>\n\n<pre><code>+-----------------+------+------------------------------+\n| nsip            | nsid | nsname                       |\n+-----------------+------+------------------------------+\n| 101.101.111.10  |    1 | ns1.yournameserver.net       |\n</code></pre>\n\n<p>Here is a part of the old code:</p>\n\n<pre><code>$res2=$dbh-&gt;query(\"select nsip,nsid,nsname from nameservers\");\nwhile (%ns2=$res2-&gt;fetchhash)\n{\n$nsips{$ns2{nsid}}=$ns2{nsip};\n$nsnames{$ns2{nsid}}=$ns2{nsname};\n}\n</code></pre>\n\n<p>So i tried with fetchrow_hashref but it did'nt work for me:</p>\n\n<pre><code>main::(nsconfgen.pl:170):               while (%ns2=$res2-&gt;fetchrow_hashref){\nDB&lt;193&gt; n\nReference found where even-sized list expected at nsconfgen.pl line 170.\nat nsconfgen.pl line 170.\nmain::(nsconfgen.pl:171):                     $nsips{$ns2{nsid}}=$ns2{nsip};\nDB&lt;193&gt; p $ns2{nsid}\n\n( i've get no value from the hash )\n</code></pre>\n\n<p>Of course i've crawled through Google and i tried a lot of examples but nothing helps realy...</p>\n\n<p>So i hope i can get here some help.</p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1459520607, "post_id": 36358755, "comment_id": 60337172, "body": "What resulting file? Nothing in that code creates a file."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1459520636, "post_id": 36358755, "comment_id": 60337182, "body": "More importantly - your code simply doesn&#39;t work. Did you just slap <code>use strict;</code> in there to make it look like you actually had?"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1459520702, "post_id": 36358755, "comment_id": 60337223, "body": "sorry I call the <code>.pl</code> in <code>cygwin</code> using: <code>perl ~.get_list.pl &gt; output.txt</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459520732, "post_id": 36358755, "comment_id": 60337245, "body": "That&#39;s why it&#39;s not working then - it&#39;s just not working, and generating errors on STDERR."}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1459520885, "post_id": 36358755, "comment_id": 60337334, "body": "Yes, sorry I removed the <code>get strict</code> as I was trying different ways writing the code.  However, the output file is still empty. Thank you :)."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1459520868, "creation_date": 1459520868, "answer_id": 36358901, "question_id": 36358755, "link": "https://stackoverflow.com/questions/36358755/create-new-file-listing-all-text-files-in-a-directory-with-perl/36358901#36358901", "title": "create new file listing all text files in a directory with perl", "body": "<p>As written, your grep is wrong:</p>\n\n<pre><code>@files = grep(/\\..txt$/,readdir(DIR));\n</code></pre>\n\n<p>In regular expressions - <code>.</code> means any character. So you will find a file called </p>\n\n<pre><code>fish.mtxt\n</code></pre>\n\n<p>But not a  file called</p>\n\n<pre><code>fish.txt\n</code></pre>\n\n<p>Because of that dot. </p>\n\n<p>You probably want to <code>grep /\\.txt/, readdir(DIR)</code></p>\n\n<p>But personally, I wouldn't bother, and just use <code>glob</code> instead. </p>\n\n<pre><code>foreach my $file (glob \"*.txt\") {\n    print $file,\"\\n\";\n} \n</code></pre>\n\n<p>Also - turn on <code>use strict;</code> <code>use warnings;</code>. Consider them mandatory until you know why you want to turn them off. (There are occasions, but you'll know what they are if you ever REALLY NEED to). </p>\n"}, {"comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1459521125, "post_id": 36358932, "comment_id": 60337516, "body": "Thank you all very much :)"}], "tags": [], "owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "is_accepted": false, "score": 2, "last_activity_date": 1459520950, "creation_date": 1459520950, "answer_id": 36358932, "question_id": 36358755, "link": "https://stackoverflow.com/questions/36358755/create-new-file-listing-all-text-files-in-a-directory-with-perl/36358932#36358932", "title": "create new file listing all text files in a directory with perl", "body": "<p>You have one excess dot:</p>\n\n<pre><code>@files = grep(/\\..txt$/,readdir(DIR));\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>@files = grep(/\\.txt$/,readdir(DIR));\n</code></pre>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 36358901, "answer_count": 2, "score": 0, "last_activity_date": 1459520950, "creation_date": 1459520443, "last_edit_date": 1459520780, "question_id": 36358755, "link": "https://stackoverflow.com/questions/36358755/create-new-file-listing-all-text-files-in-a-directory-with-perl", "title": "create new file listing all text files in a directory with perl", "body": "<p>I am trying to list out all <code>text</code> files in a directory using <code>perl</code>.  The below does run but the resulting file is empty.  This seems close but maybe it is not what I  need. Thank you :).</p>\n\n<p><strong>get_list.pl</strong></p>\n\n<pre><code>#!/bin/perl\n\n# create a list of all *.txt files in the current directory\nopendir(DIR, \".\");\n@files = grep(/\\..txt$/,readdir(DIR));\nclosedir(DIR);\n\n# print all the filenames in our array\nforeach $file (@files) {\nprint \"$file\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "directory-structure", "working-directory"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5828093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd601d81e7f40e450ce160a3aa42e98e?s=128&d=identicon&r=PG&f=1", "display_name": "cjhutton", "link": "https://stackoverflow.com/users/5828093/cjhutton"}, "edited": false, "score": 1, "creation_date": 1459531515, "post_id": 36358764, "comment_id": 60344072, "body": "Thanks! that was very simple and a little stupid on my part. I also learned now that chdir wont actually change the directory of the parent process which is what I need. I have adjusted my strategy so that the required files can be referenced by their path which is &quot;./&quot; by default. if the working directory does not contain my_script.pl ./ will change to the necessary path to find those files."}], "tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": true, "score": 1, "last_activity_date": 1459520465, "creation_date": 1459520465, "answer_id": 36358764, "question_id": 36358572, "link": "https://stackoverflow.com/questions/36358572/build-array-of-the-contents-of-the-working-directory-in-perl/36358764#36358764", "title": "Build array of the contents of the working directory in perl", "body": "<p>The <code>readdir</code> operates with a directory handle, not a path on a string. You need to do something like:</p>\n\n<pre><code>opendir(my $dh, $working_directory) || die \"can't opendir: $!\";\nmy @directory = readdir($dh);\n</code></pre>\n\n<p>Check perldoc for both <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\"><code>readdir</code></a> and <a href=\"http://perldoc.perl.org/functions/opendir.html\" rel=\"nofollow\"><code>opendir</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1459522129, "creation_date": 1459522129, "answer_id": 36359362, "question_id": 36358572, "link": "https://stackoverflow.com/questions/36358572/build-array-of-the-contents-of-the-working-directory-in-perl/36359362#36359362", "title": "Build array of the contents of the working directory in perl", "body": "<p>I think you're going about this the wrong way. If you're looking for a file that's travelling with your script, then what you probably should consider is the <code>FindBin</code> module - that lets you figure out the path to your script, for use in path links.</p>\n\n<p>So e.g.</p>\n\n<pre><code>use FindBin;\nmy $script_path = $FindBin::Bin; \n\nopen ( my $input, '&lt;', \"$script_path/dir/file.txt\" ) or warn $!;\n</code></pre>\n\n<p>That way you don't have to faff about with <code>chdir</code> and <code>readdir</code> etc. </p>\n"}], "owner": {"reputation": 91, "user_id": 5828093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd601d81e7f40e450ce160a3aa42e98e?s=128&d=identicon&r=PG&f=1", "display_name": "cjhutton", "link": "https://stackoverflow.com/users/5828093/cjhutton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 36358764, "answer_count": 2, "score": 0, "last_activity_date": 1459522129, "creation_date": 1459519955, "question_id": 36358572, "link": "https://stackoverflow.com/questions/36358572/build-array-of-the-contents-of-the-working-directory-in-perl", "title": "Build array of the contents of the working directory in perl", "body": "<p>I am working on a script which utilizes files in surrounding directories using a path such as </p>\n\n<pre><code>\"./dir/file.txt\"\n</code></pre>\n\n<p>This works fine, as long as the working directory is the one containing the script. However the script is going out to multiple users and some people may not change their working directory and run the script by typing its entire path like this:</p>\n\n<pre><code>./path/to/script/my_script.pl\n</code></pre>\n\n<p>This poses a problem as when the script tries to access ./dir/file.txt it is looking for the /dir directory in the home directory, and of course, it can't fine it.</p>\n\n<p>I am trying to utilize readdir and chdir to correct the directory if it isn't the right one, here is what I have so far:</p>\n\n<pre><code>my $working_directory = $ENV{PWD};\nprint \"Working directory: $working_directory\\n\";       #accurately prints working directory\nmy @directory = readdir $working_directory;            #crashes script\n\nif (!(\"my_script.pl\" ~~ @directory)){                  #if my_script.pl isnt in @directoryies, do this\n    print \"Adjusting directory so I work\\n\";\n    print \"Your old directory: $ENV{PWD}\\n\";\n    chdir $ENV{HOME};                                  #make the directory home\n    chdir \"./path/to/script/my_script.pl\";             #make the directory correct\n    print \"Your new directory: $ENV{PWD}\\n\";\n}\n</code></pre>\n\n<p>The line containing readdir crashes my script with the following error</p>\n\n<blockquote>\n  <p>Bad symbol for dirhandle at ./path/to/script/my_script.pl line 250.</p>\n</blockquote>\n\n<p>which I find very strange because I am running this from the home directory which prints out properly right beforehand and contains nothing  to do with the \"bad symbol\"</p>\n\n<p>I'm open to any solutions</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["java", "macos", "perl", "awk"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459519232, "post_id": 36358004, "comment_id": 60336248, "body": "I&#39;d do it in <code>perl</code> myself - but I&#39;m also having difficulty following your question. Can you give some sample (sanitised) input and desired output?"}, {"owner": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1459522211, "post_id": 36358004, "comment_id": 60338314, "body": "Thank you for responding.  The file looks like the first block in the question, that is:`HEB row then HEH row then HET row, the strings are longer but the start of each line is an HEB, HEH, HER, HET or HEE.  That&#39;s it, all the way through the file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459536782, "post_id": 36358004, "comment_id": 60346961, "body": "<i>&quot;an HEH record can be associated with multiple HER and HET records.&quot;</i> Are you certain of this? The data format makes much more sense if the HEH and HET records are paired in the same way as the HEB and HEE records. I can understand that there may be multiple HER records, in a sequence such as HEH HER HER HER HET, but you&#39;re saying that there may also be multiple HET records, as in HEH HER HET HER HET HER HER HET"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459539046, "post_id": 36358004, "comment_id": 60348132, "body": "As <a href=\"http://stackoverflow.com/questions/36358004/loop-through-text-file-find-strings-to-append-to-children-strings-in-hierarchi/36364336#comment60336248_36358004\">Sobrique has asked</a>, <i>&quot;Can you give some sample (sanitised) input and desired output?&quot;</i> An example is worth a lot of words, and it would help enormously to see the exact output that you expect from your sample input"}, {"owner": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "edited": false, "score": 0, "creation_date": 1459569868, "post_id": 36358004, "comment_id": 60357098, "body": "The first batch of code is an actual file output save for some changes with numbers and letters to desensitize it.  The HEB is the batch header.  The HEE is the batch footer.  An HER is absolutely associated with the preceding HEH and an HER ALWAYS follows an HEH if it appears.  Typically only HEH and HET records appear in a batch but the rare occasion of an HER record simply adds more information to that particularly HEH.  The HEH is an account specification string.  The HET records are items falling under the HEH that came before it/them."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "edited": false, "score": 0, "creation_date": 1459523660, "post_id": 36358795, "comment_id": 60339302, "body": "Thank you very much for the detailed response.  I have edited my original question to show an actual example of the text file and I will try working with your suggestions to see if I can get it to work properly."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1459520553, "creation_date": 1459520553, "answer_id": 36358795, "question_id": 36358004, "link": "https://stackoverflow.com/questions/36358004/loop-through-text-file-find-strings-to-append-to-children-strings-in-hierarchi/36358795#36358795", "title": "Loop through text file &amp; find strings to append to children strings in hierarchically related text file", "body": "<p>I'm afraid it's not entirely clear what your file <em>actually</em> looks like - but you can do this more easily if you <em>don't</em> focus on line-by-line processing.</p>\n\n<p>There's two tricks in particular - the first setting a record separator using <code>$/</code> and reading your file in chunks. </p>\n\n<p>So e.g.:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nlocal $/ = 'HEE'; \n\nwhile ( &lt;DATA&gt; ) {\n    print \"\\nStart of Record\\n\";\n    print;\n   print \"\\nEnd of Record\\n\";\n}\n\n__DATA__\nHEB (start of batch1)                       \nHEH (start of group1)     \nHET                                      \nHET                                               \nHET (end of group1)                                                                                                                               \nHEH (start of group2)\nHET\nHET (end of group2)\nHEE (end of batch1)\n</code></pre>\n\n<p>This will run through the loop each time it hits a 'HEB' marker in your file. At which point, you can apply a regex match to extract sub elements. So looking at it - HEH separates subrecords:</p>\n\n<pre><code> my @groups = m/^(HEH .*?(?=HE[HE]))/gms;\n   foreach my $group ( @groups ) { \n        print \"Start of group:\\n\";\n        print $group;\n        print \"End of group\\n\";\n   }\n</code></pre>\n\n<p>This uses regular expressions and zero-width patterns to capture chunks of text between 'HEH' and 'HEH' or 'HEE' giving:</p>\n\n<pre><code>Start of group:\nHEH (start of group1)     \nHET                                      \nHET                                               \nHET (end of group1)                                                                                                                               \nEnd of group\nStart of group:\nHEH (start of group2)\nHET\nHET (end of group2)\nEnd of group\n</code></pre>\n\n<p>And combining these two techniques, you should be able to select the things you want into your record. I'm afraid I can't give you a more detailed example, because I'd really need a more complete example input and output. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nlocal $/ = 'HEE'; \n\nwhile ( &lt;DATA&gt; ) {\n    print \"\\nStart of Record\\n\";\n    print;\n   print \"\\nEnd of Record\\n\";\n\n   my @groups = m/^(HEH .*?(?=HE[HE]))/gms;\n   foreach my $group ( @groups ) { \n        print \"Start of group:\\n\";\n        print $group;\n        print \"End of group\\n\";\n        my @HET = $group =~ m/HET (.*)$/gm; \n        print \"HET lines: \\n\";\n        print join \"\\n\", @HET,\"\\n\";\n   }\n}\n\n__DATA__\nHEB (start of batch1)                       \nHEH (start of group1)     \nHET                                      \nHET                                               \nHET (end of group1)                                                                                                                               \nHEH (start of group2)\nHET\nHET (end of group2)\nHEE (end of batch1)\nHEB (start of batch 2)\nHEH (start of group1)            \nHER (start of subgroup1)                                \nHET                                     \nHET                                                \nHER (start of subgroup2)                                     \nHET                                            \nHEH (start of group2)                               \nHET (end of group2)                              \nHEE (end of batch 2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "edited": false, "score": 0, "creation_date": 1459522405, "post_id": 36359287, "comment_id": 60338451, "body": "Thank you for taking the time to respond. I will test out your suggestion.  The format is consistent in that the each line in the file starts with an HE*.  The strings are longer, but they always start that way.  I want to suck the final file up so I can use it in a stats program."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1459521955, "creation_date": 1459521955, "answer_id": 36359287, "question_id": 36358004, "link": "https://stackoverflow.com/questions/36358004/loop-through-text-file-find-strings-to-append-to-children-strings-in-hierarchi/36359287#36359287", "title": "Loop through text file &amp; find strings to append to children strings in hierarchically related text file", "body": "<p>Admitting not understanding this format and purpose (and the mindset of the person who came up with this) and assuming it has consistent structure, this may work</p>\n\n<pre><code>$ awk '/HER/{r++;m=0} \n      !m&amp;&amp;/HET/{m++; t++; \n        print $1 t, \"HEH\" t, (r?\"HER\"t OFS:\"\") \"HEB\", FILENAME, \"HEE\";next}' heb\n\nHET1 HEH1 HEB heb HEE\nHET2 HEH2 HER2 HEB heb HEE\nHET3 HEH3 HER3 HEB heb HEE\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "edited": false, "score": 0, "creation_date": 1459569942, "post_id": 36364336, "comment_id": 60357105, "body": "Thank you for taking the time to stick with this question.  Your output looks perfect.  I am going to try it and will report back.  Many thanks."}, {"owner": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "edited": false, "score": 0, "creation_date": 1459573763, "post_id": 36364336, "comment_id": 60357776, "body": "This is perfect.  Thank you very much.  Can I replace @ARGV with something akin to a `for f in *.txt  do hfile.pl &quot;$f&quot; &gt; &quot;new$f&quot;&#39;?  I&#39;ll have to work out the perl syntax.  That is how I would run something using awk."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "edited": false, "score": 0, "creation_date": 1459599229, "post_id": 36364336, "comment_id": 60364103, "body": "@FocusedEnergy: That&#39;s what I meant by my last bullet point. You can get the shell to expand the list of files for you if you use <code>perl process_data.pl *.txt</code>. That way you can change which files are being processed without editing the program. Note that you <i>must</i> remove the <code>@ARGV = </code> line though, otherwise it will override anything passed on the command line. If you really want to do it in the code then you would change it to <code>@ARGV = glob &#39;*.txt&#39;</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467625464, "last_edit_date": 1467625464, "creation_date": 1459538662, "answer_id": 36364336, "question_id": 36358004, "link": "https://stackoverflow.com/questions/36358004/loop-through-text-file-find-strings-to-append-to-children-strings-in-hierarchi/36364336#36364336", "title": "Loop through text file &amp; find strings to append to children strings in hierarchically related text file", "body": "<p>I think this will do as you wish, but your description is a little opaque</p>\n\n<ul>\n<li><p>The program keeps track of the values of the most recent HEB and HEH records, and all HER records since the previous HEH or HET</p></li>\n<li><p>I've used the first field of each line in the input file. It's unclear whether this is enough or if you need the data in the entire line</p></li>\n<li><p>The contents of an output record are saved in array <code>@records</code> at whenever an HET is encountered, but at this point they are missing the HEE information so cannot be printed yet</p></li>\n<li><p>At every HEE record, all waiting output is printed together with the value of the current record, and the waiting list is emptied</p></li>\n<li><p>Note that I've altered the input slightly from your own example to allow for multiple HET records per HEH, and multiple HER records per HET</p></li>\n<li><p>The line <code>@ARGV = 'f1.txt'</code> emulates a parameter on the command line, and it is as if you entered <code>perl process_data.pl f1.txt</code>. You should remove this line before using the code, and the intended method is to use a glob pattern for a parameter so that the shell will find all relevant files and pass them to the code</p></li>\n</ul>\n\n<p><br/></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'state';\n\n@ARGV = 'f1.txt';\n\nmy ( $heb, $heh, @her );\n\nmy @records;\n\nwhile ( &lt;&gt; ) {\n\n    my ($item) = split;\n\n    die unless my ($type) = $item =~ /^(HE[BHRTE])/;\n\n    state $dispatch = {\n        HEB =&gt; sub {\n            $heb = shift;\n            $heh = undef;\n            @her = ();\n        },\n        HEH =&gt; sub {\n            $heh = shift;\n            @her = ();\n        },\n        HER =&gt; sub {\n            push @her, shift;\n        },\n        HET =&gt; sub {\n            my $het      = shift;\n            my $filename = $ARGV;\n            push @records, [ $het, $heh, @her, $heb, $filename ];\n            @her = ();\n        },\n        HEE =&gt; sub {\n\n            my $hee = shift;\n\n            for my $rec (@records) {\n                push @$rec, $hee;\n                print \"@$rec\\n\";\n            }\n\n            $heb = $heh = undef;\n            @her = ();\n            @records = ();\n        },\n    };\n\n    $dispatch-&gt;{$type}-&gt;($item);\n}\n</code></pre>\n\n<h3>input</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>HEBV000000000000\nHEH11111111  2222222022HCPP      3333        0000 AAA\nHET11111  22222222222222\nHEH888888  3333333333HCPP      3333        0000 AAA\nHET2222  33333333333333333\nHEH44444444 55555555HCPP      4444      0000 BBB\nHET555555  0066666666666666666\nHEE0019000000090\nHEBV0120150301429\nHEH5588558888 5555000044440000NCPP       164201503010000 HIP\nHER9999A 0157000120150303333\nHER9999B 0157000120150303333\nHET8888B 0036400120150303333\nHER9999C 0157000120150303333\nHER9999D 0157000120150303333\nHET8888B 0036400120150303333\nHEE0044000000040\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>HET11111 HEH11111111 HEBV000000000000 f1.txt HEE0019000000090\nHET2222 HEH888888 HEBV000000000000 f1.txt HEE0019000000090\nHET555555 HEH44444444 HEBV000000000000 f1.txt HEE0019000000090\nHET8888B HEH5588558888 HER9999A HER9999B HEBV0120150301429 f1.txt HEE0044000000040\nHET8888B HEH5588558888 HER9999C HER9999D HEBV0120150301429 f1.txt HEE0044000000040\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2493, "user_id": 2451006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i84n0.jpg?s=128&g=1", "display_name": "jijinp", "link": "https://stackoverflow.com/users/2451006/jijinp"}, "is_accepted": false, "score": 0, "last_activity_date": 1459770089, "creation_date": 1459770089, "answer_id": 36401648, "question_id": 36358004, "link": "https://stackoverflow.com/questions/36358004/loop-through-text-file-find-strings-to-append-to-children-strings-in-hierarchi/36401648#36401648", "title": "Loop through text file &amp; find strings to append to children strings in hierarchically related text file", "body": "<p>In case you want to do  this with awk:</p>\n\n<pre><code>gawk -v RS=\"HEB\" '{\n    for(i=2;i&lt;NF;i++){\n        if( $i ~ /^HE[R|H]/){\n            x=x\" \"$i\n        };\n        if( $i ~ /^HET/ ){\n            print $i\"\"x,\"HEB\"$1,FILENAME,$NF;x=\"\"\n        }\n    }\n}' file.txt\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 2628494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6bba338e72640525a07d096fb66b3a6d?s=128&d=identicon&r=PG", "display_name": "FocusedEnergy", "link": "https://stackoverflow.com/users/2628494/focusedenergy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "accepted_answer_id": 36364336, "answer_count": 4, "score": 0, "last_activity_date": 1467625464, "creation_date": 1459518410, "last_edit_date": 1459533115, "question_id": 36358004, "link": "https://stackoverflow.com/questions/36358004/loop-through-text-file-find-strings-to-append-to-children-strings-in-hierarchi", "title": "Loop through text file &amp; find strings to append to children strings in hierarchically related text file", "body": "<p>I have number of text files containing hierarchically related strings.</p>\n\n<p><strong>Edit</strong> Here is an example. The files look essentially as below</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HEBV000000000000\nHEH11111111  2222222022HCPP      3333        0000 AAA\nHET11111  22222222222222\nHEH888888  3333333333HCPP      3333        0000 AAA\nHET2222  33333333333333333\nHEH44444444 55555555HCPP      4444      0000 BBB\nHET555555  0066666666666666666\nHEE0019000000090\nHEBV0120150301429\nHEH5588558888 5555000044440000NCPP       164201503010000 HIP\nHER9999A 0157000120150303333\nHET8888B 0036400120150303333\nHEE0044000000040\n</code></pre>\n\n<p>The breakdown is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HEB (start of batch1)\nHEH (start of group1)\nHET (end of group1)\nHEH (start of group2)\nHET (end of group2)\nHEH (start of group3)\nHET (end of group3)\nHEE (end of batch1)\nHEB (start of batch 2)\nHEH (start of group1)\nHER (start of subgroup1)\nHET (end of group1)\nHEE (end of batch2)\n</code></pre>\n\n<p>The strings are related in a few ways:</p>\n\n<p>HEB string denotes the beginning of a batch. HEE details the number of HEH, HER and HET records in the preceding batch.</p>\n\n<p>The next relationship is the meat of the document and that is HER and HET records are related to a single HEH. Batches (HEB to HEE) can contain multiple HEH-HER-HET groups. There will always be at least one HEH-HET group in a batch; an there may be many. If an HER record is present it is related to the HEH preceding it and all HETs following it until a new HER or HEH is encountered. So HER and HET records are only ever related to a single HEH record but an HEH record can be associated with multiple HER and HET records.</p>\n\n<p>There is no linking identifier in any of the strings. The only usable relationship then is the position of the string in the file. (Not my doing and I can't change this)</p>\n\n<p>What I would like to do is have an output file that would be based on HET records and look like the following so that I might import into a statistics package (Note that I mean to print the entire string from each line but for ease of reading I am just showing the HE* of the strings):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HET1 HEH1 HEB FILENAME HEE\nHET2 HEH2 HER2 HEB FILENAME HEE\nHET3 HEH3 HER3 HEB FILENAME HEE\n</code></pre>\n\n<p>and so on.</p>\n\n<p>My logic for how I think it would work is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Read in the file\nGet filename and append to HEB records\n\nThen\nLook for HEB record and store\nLook for HEE record and store\nAppend HEB and HEE to HEH\n  if new HEB is found repeat above until end of file\n\nThen\n\nLook for HEH record and store\nAppend to HET records until an HEH or HEE record is found\nif a new HEH is found, append it to HET records until HEH or HEE is found\nrepeat until eof\n\nThen\n\nLook for HER record and store\nAppend to HET records until an HER, HEH or HEE record is found\nif a new HER is found, append it to HET records until an HER, HEH or HEE record is found\nrepeat until eof\nsave to new file\n</code></pre>\n\n<p>I think that would get me to the</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HET1 HEH1 HEB FILENAME HEE\nHET2 HEH2 HER2 HEB FILENAME HEE\nHET3 HEH3 HER3 HEB FILENAME HEE\n</code></pre>\n\n<p>I previously asked similar questions with files of a similar format:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17915200/bash-loop-through-file-line-by-line-find-specific-string-and-append-to-each-su\"><em>Bash: loop through file line by line, find specific string and append to each subsequent line until same string is found</em></a></p>\n\n<p>and</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17934728/bash-awk-loop-through-dir-running-two-separate-awk-commands-on-all-files-and\"><em>bash &amp; awk: Loop through dir running two separate awk commands on all files and saving in new dir</em></a></p>\n\n<p>Unfortunately, these files are more complex because of the multi-tiered relationship. This goes beyond my ability to modify the solution from those other questions</p>\n\n<p>code:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>for f in *txt\ndo\n    awk '/^AB1/{ab1=$0;next}/^AB2/{print $1, $2, ab1}' \"$f\" &gt; \"new$f\"\n    awk '{print $1,$2,$3,$4,$5,$6,FILENAME}' \"new$f\" &gt; \"newnew$f\"\ndone\n</code></pre>\n\n<p>I don't know if awk is a good idea here, or if something like Perl or Java would be better. As I mentioned in those other questions, I'm a physician, not a programmer, and although I can modify code with some understanding (usually tripping over my feet), when I encounter something like this, I find myself far out of my depth.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 2, "creation_date": 1459519238, "post_id": 36357991, "comment_id": 60336251, "body": "so the question tagged with <code>vim</code> just because you <code>ls -i &#47;usr&#47;bin&#47;vim</code>?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1459522511, "post_id": 36357991, "comment_id": 60338540, "body": "Helpful: <a href=\"http://stackoverflow.com/questions/799968/whats-the-difference-between-perls-backticks-system-and-exec\" title=\"whats the difference between perls backticks system and exec\">stackoverflow.com/questions/799968/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1459523516, "creation_date": 1459523516, "answer_id": 36359842, "question_id": 36357991, "link": "https://stackoverflow.com/questions/36357991/why-is-there-a-0-on-a-new-line-when-i-print-in-perl/36359842#36359842", "title": "Why is there a 0 on a new line when I print in perl?", "body": "<p>Don't, just use the <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow\"><code>stat</code></a> builtin instead</p>\n\n<pre><code>print (stat($filepath))[1].\"\\n\";\n\nprint join \"\\n\", map { (stat)[1] } @ARGV,\"\\n\" \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9272, "user_id": 241544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d27ca4e9a9a41ec8732046e6a272f091?s=128&d=identicon&r=PG", "display_name": "Matthew Walton", "link": "https://stackoverflow.com/users/241544/matthew-walton"}, "is_accepted": false, "score": 3, "last_activity_date": 1459524044, "creation_date": 1459524044, "answer_id": 36360021, "question_id": 36357991, "link": "https://stackoverflow.com/questions/36357991/why-is-there-a-0-on-a-new-line-when-i-print-in-perl/36360021#36360021", "title": "Why is there a 0 on a new line when I print in perl?", "body": "<p>When you invoke <code>system</code> you run the command provided as its argument, and that's what's outputting the inode number.</p>\n\n<p>The return value of <code>system</code> is the <em>exit code</em> of the command run, which in this case is 0, and that's what your subsequent <code>print</code> call outputs.</p>\n\n<p>To run an external program and capture its output, use the <code>qx</code> operator, like so:</p>\n\n<pre><code>my $inode = qx/ls -i $filepath | awk '{print \\$1}'\"/;\n</code></pre>\n\n<p>However, as Sobrique explained in their answer, you don't actually need to call an external program, you can use Perl's built-in <code>stat</code> function instead.</p>\n\n<pre><code>my $inode = stat($filepath)[1];\n</code></pre>\n\n<p><code>stat</code> returns a list containing a variety of information about a file - index 1 holds its inode. This code won't handle if the file doesn't exist, of course.</p>\n"}], "owner": {"reputation": 19, "user_id": 6145270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ffd841b7ad5a5869d86551befa3b82?s=128&d=identicon&r=PG&f=1", "display_name": "D. Smith", "link": "https://stackoverflow.com/users/6145270/d-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1459524044, "creation_date": 1459518380, "last_edit_date": 1459523538, "question_id": 36357991, "link": "https://stackoverflow.com/questions/36357991/why-is-there-a-0-on-a-new-line-when-i-print-in-perl", "title": "Why is there a 0 on a new line when I print in perl?", "body": "<p>I'm trying to get the inode alone of a file that is passed through as an argument.</p>\n\n<p>When I extract the inode, however, there is a 0 printed on a new line. I've tried to get rid of it with regex but I can't. I'm passing the script <code>/usr/bin/vim</code> The 0 isn't there when I run the command (<code>ls -i /usr/bin/vim | awk '{print $1}'</code>), but it is when I run my script. </p>\n\n<p>How can I get rid of this 0? </p>\n\n<pre><code>my $filepath = $ARGV[0];\nchomp $filepath;\n$filepath =~ s/\\s//g;\n\nprint (\"FILEPATH: $filepath\\n\"); #looks good\nmy $inode = system(\"ls -i $filepath | awk '{print \\$1}'\");\n\n$inode =~ s/[^a-zA-Z0-9]//g;\n$inode =~ s/\\s//g;\nprint (\"$inode\\n\");\n</code></pre>\n\n<p>So my result is</p>\n\n<pre><code>137699967\n0\n</code></pre>\n"}, {"tags": ["regex", "perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1459525896, "post_id": 36352814, "comment_id": 60340708, "body": "Though this logic works for other designs, its not working when exclude word is DFN1C1 and File2 lines are as follows in single line upto ); \\po[6]\\ : DFN1C1 port map(D =&gt; \\po[5]_net_1\\, CLK =&gt; CLK16M_c, CLR =&gt; \\int_boardsel\\, Q =&gt; \\po[6]_net_1); v13_D_9_pad : OUTBUF port map(D =&gt; v13_D_9_c, PAD =&gt; v13_D_9);"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1459533579, "post_id": 36352814, "comment_id": 60345230, "body": "@sumathigokul remove the $ from regex and try it, post edited"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1459533401, "last_edit_date": 1459533401, "creation_date": 1459503259, "answer_id": 36352814, "question_id": 36352141, "link": "https://stackoverflow.com/questions/36352141/delete-lines-from-input-files-excluding-patterns-listed-in-another-file-which-ma/36352814#36352814", "title": "Delete lines from input files excluding patterns listed in another file which may be empty in some cases?", "body": "<p>Try this</p>\n\n<p>Here i have used the negative grep in order to extract the matches from a file, here <code>if condition</code> is used to check whether the file is empty or not.</p>\n\n<p>If the file is empty the condition is not satisfied, so the values in <code>@br</code> won't change. If the condition is satisfied the values in <code>@br</code> are replaced by new values.</p>\n\n<pre><code>use warnings;\nuse strict;\nopen my $fh1, \"&lt;\", \"f1.txt\" or die\"$!\";\nmy @ar = &lt;$fh1&gt;;\nmy $exculed = join(\"|\",@ar);\n$exculed=~ s/\\n|\\s//g;   #your input have some spaces so i used substitution instead of chomp\n\nopen my $fh2, \"&lt;\", \"f2.txt\";\nopen my $nw, \"&gt;\", \"newfile.txt\";\nmy @br = &lt;$fh2&gt;;\n@br = grep{!/$exculed/g} @br if ($exculed ne \"\");\nprint $nw @br;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1459507628, "post_id": 36354073, "comment_id": 60328474, "body": "Nice answer! I liked the idea of the default pattern."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1459506729, "creation_date": 1459506729, "answer_id": 36354073, "question_id": 36352141, "link": "https://stackoverflow.com/questions/36352141/delete-lines-from-input-files-excluding-patterns-listed-in-another-file-which-ma/36354073#36354073", "title": "Delete lines from input files excluding patterns listed in another file which may be empty in some cases?", "body": "<p>The trick here is in being efficient about your test for exclusions - the way you can do this is by building a regular expression from your keywords, and then 'reject' any lines that 'match' at all. </p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @excludes = qw ( exclude1\n    exclude2\n    exclude3 );\n\nmy $exclude_regex = join( \"|\", map {quotemeta} @excludes );\n$exclude_regex = qr/$exclude_regex/;\n\n\nwhile (&lt;DATA&gt;) {\n    print unless /$exclude_regex/;\n}\n\n\n__DATA__\nstatement1 that has no excludes\nstatement2 that has exclude3\nstatement3 that has no excludes\nstatement4 that has no excludes\nstatement5 that has exclude1\nstatement6 that has exclude2\nstatement7 that has no excludes\n</code></pre>\n\n<p>Now, the problem here is of course - an empty 'match' will match anything, so effectively - you 'wildcard' your matches at that point. (and exclude everything). </p>\n\n<p>The easiest way of handling this, is by inserting a 'default' pattern, which never matches - a blank line for example:</p>\n\n<pre><code>my $exclude_regex = join( \"|\", '^$', map {quotemeta} (  @excludes ) ) ;\n</code></pre>\n\n<p>This will filter blank lines <em>and</em> anything which has one of your exclude words, generating a regex like:</p>\n\n<pre><code>(?^:^$|exclude1|exclude2|exclude3)\n</code></pre>\n\n<p>To add in the file reading bit:</p>\n\n<pre><code>!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen( my $data,     '&lt;', \"file2.txt\" )  or die;\nopen( my $excludes, '&lt;', \"file1.txt\" )  or die;\nopen( my $output,   '&gt;', \"output.txt\" ) or die;\n\nchomp( my @excludes = &lt;$excludes&gt; );\nmy $exclude_regex = join( \"|\", '^$', map {quotemeta} (@excludes) );\n$exclude_regex = qr/$exclude_regex/;\nprint $exclude_regex, \"\\n\";\n\nselect $output;\nwhile (&lt;$data&gt;) {\n    print unless m/$exclude_regex/;\n}\n</code></pre>\n\n<p>And as you seem to have a space in your 'regex assembly' you might want to consider changing the exclude regex to:</p>\n\n<pre><code>$exclude_regex = qr/\\b$exclude_regex\\b/;\n</code></pre>\n\n<p>Which will include word boundaries in the pattern matching (although you will then slightly break the 'empty line' match, and it won't match any more - but it will still work as a placeholder). </p>\n\n<p>Whilst we're here </p>\n\n<ul>\n<li>3 argument open with lexical filehandles are good, </li>\n<li><code>use strict;</code> <code>use warnings;</code> should be considered mandatory. </li>\n<li>Consider what happens if your exclude file contains regex metacharacters. That's why <code>quotemeta</code> is in there, to treat them as literals.... but you might find it useful to support regex in your exclude file. </li>\n</ul>\n"}], "owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 36352814, "answer_count": 2, "score": 0, "last_activity_date": 1460021758, "creation_date": 1459501361, "question_id": 36352141, "link": "https://stackoverflow.com/questions/36352141/delete-lines-from-input-files-excluding-patterns-listed-in-another-file-which-ma", "title": "Delete lines from input files excluding patterns listed in another file which may be empty in some cases?", "body": "<p>Scenerio1:</p>\n\n<p>File1 : (file length will vary, may be sometimes empty file)</p>\n\n<pre><code>exclude1\nexclude2  \nexclude3\n</code></pre>\n\n<p>File2:</p>\n\n<pre><code>statement1 that has no excludes\nstatement2 that has exclude3\nstatement3 that has no excludes\nstatement4 that has no excludes\nstatement5 that has exclude1\nstatement6 that has exclude2\nstatement7 that has no excludes\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>statement1 that has no excludes\nstatement3 that has no excludes\nstatement4 that has no excludes\nstatement7 that has no excludes\n</code></pre>\n\n<p>Scenerio2:</p>\n\n<p>File1 : (empty file)</p>\n\n<pre><code>empty file\n</code></pre>\n\n<p>File2:</p>\n\n<pre><code>statement1 that has no excludes\nstatement2 that has no excludes\nstatement3 that has no excludes\nstatement4 that has no excludes\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>statement1 that has no excludes\nstatement2 that has no excludes\nstatement3 that has no excludes\nstatement4 that has no excludes\n</code></pre>\n\n<p>script: </p>\n\n<pre><code>open (IN58, \"&lt;file2.txt\") or die;\nopen (IN59, \"&lt;file1.txt\") or die;\nopen (OUT42, \"&gt;output.txt\") or die;\nmy @excludes = &lt;IN59&gt;;\nchomp @excludes;\nmy $excludes = join ' |',@excludes;\nwhile (&lt;IN58&gt;) {\nnext if /${excludes}/;\nprint OUT42 $_ ;\n}\nclose (IN58);\nclose (IN59);\nclose (OUT42);\n</code></pre>\n\n<p>This script is working fine for scenario1, when exclude file (i.e. file1) becomes empty, its generating empty output file and not working as i wish. Any correction in the code is highly helpful.</p>\n"}, {"tags": ["eclipse", "perl", "shell", "echo"], "answers": [{"comments": [{"owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "edited": false, "score": 0, "creation_date": 1459501342, "post_id": 36352023, "comment_id": 60324618, "body": "What is the misspelling?"}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "reply_to_user": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "edited": false, "score": 0, "creation_date": 1459506553, "post_id": 36352023, "comment_id": 60327779, "body": "<code>echo.</code> Note the dot at the end."}, {"owner": {"reputation": 439, "user_id": 5194005, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153497065359291/picture?type=large", "display_name": "Barbara Jensen", "link": "https://stackoverflow.com/users/5194005/barbara-jensen"}, "edited": false, "score": 2, "creation_date": 1518616501, "post_id": 36352023, "comment_id": 84579453, "body": "echo. is supposed to display a blank line; it is not invalid Windows command.  I have used this in batch files for at least 15y and it went bad for me very recently.  Interestingly for me, its working sometimes (the windows that I&#39;ve set up for compiling) and not others (fresh ones).  If I change the echo. to echo/ in my batch files, they work again."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": -1, "last_activity_date": 1459500969, "creation_date": 1459500969, "answer_id": 36352023, "question_id": 36351659, "link": "https://stackoverflow.com/questions/36351659/message-echo-is-not-recognized-as-an-internal-or-external-command-operable/36352023#36352023", "title": "Message &quot; &#39;echo.&#39; is not recognized as an internal or external command, operable program or batch file.&quot; when starting shell", "body": "<p>Figure out which one of your shell startup files contains the misspelling and remove it (the misspelling, not the file).</p>\n"}, {"comments": [{"owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "reply_to_user": {"reputation": 67, "user_id": 6094131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b578a0ef8c023af78dbdc921dfc20b2?s=128&d=identicon&r=PG&f=1", "display_name": "Olena ", "link": "https://stackoverflow.com/users/6094131/olena"}, "edited": false, "score": 0, "creation_date": 1459746529, "post_id": 36358167, "comment_id": 60406435, "body": "I don&#39;t get this: is this on Windows or Linux? I&#39;ve assumed this was Windows because the &quot;... is not recognized&quot; is a typical Windows CMD message. But then, <code>echo.</code> is perfectly valid in Windows CMD, so why was there a problem with it? On the other hand, @Jayjargot&#39;s solution is a Linux command-line. And @Olena confirmed this worked. Please explain, someone..."}, {"owner": {"reputation": 2087, "user_id": 6010343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3z4z.jpg?s=128&g=1", "display_name": "Jay jargot", "link": "https://stackoverflow.com/users/6010343/jay-jargot"}, "reply_to_user": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "edited": false, "score": 0, "creation_date": 1459751820, "post_id": 36358167, "comment_id": 60408523, "body": "@sferencik I did not even notice this error message was a Windows one. Offcourse my answer is for *NUX."}, {"owner": {"reputation": 2087, "user_id": 6010343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3z4z.jpg?s=128&g=1", "display_name": "Jay jargot", "link": "https://stackoverflow.com/users/6010343/jay-jargot"}, "reply_to_user": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "edited": false, "score": 0, "creation_date": 1459754699, "post_id": 36358167, "comment_id": 60410060, "body": "@sferencik The solution is working with <b>cygwin</b> on Windows (probably). And it will work as well on Windows 10 by the end of the year..."}, {"owner": {"reputation": 67, "user_id": 6094131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b578a0ef8c023af78dbdc921dfc20b2?s=128&d=identicon&r=PG&f=1", "display_name": "Olena ", "link": "https://stackoverflow.com/users/6094131/olena"}, "edited": false, "score": 0, "creation_date": 1459754897, "post_id": 36358167, "comment_id": 60410171, "body": "I had this problem on Windows. I did not use the command line command given by the Jay jargot, but I found the echo. line in my .cmd files (I had only four files) and changed it. And it worked pretty well."}, {"owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "edited": false, "score": 0, "creation_date": 1459768771, "post_id": 36358167, "comment_id": 60418731, "body": "Thanks for explaining. So the only thing left which I don&#39;t understand is what&#39;s wrong with <code>echo.</code>, which is a perfectly valid command in Windows CMD..."}], "tags": [], "owner": {"reputation": 2087, "user_id": 6010343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3z4z.jpg?s=128&g=1", "display_name": "Jay jargot", "link": "https://stackoverflow.com/users/6010343/jay-jargot"}, "is_accepted": true, "score": 1, "last_activity_date": 1459587096, "last_edit_date": 1459587096, "creation_date": 1459518814, "answer_id": 36358167, "question_id": 36351659, "link": "https://stackoverflow.com/questions/36351659/message-echo-is-not-recognized-as-an-internal-or-external-command-operable/36358167#36358167", "title": "Message &quot; &#39;echo.&#39; is not recognized as an internal or external command, operable program or batch file.&quot; when starting shell", "body": "<p>Remove the <strong>.</strong> at the end of <strong>echo.</strong> command used in the perl script.</p>\n\n<p>To locate the perl script involved in a directory and all sub directories, use:</p>\n\n<pre><code>grep -irH \"echo[.]\" .\n</code></pre>\n\n<p>This other command-line below automatically update <strong>all</strong> perl script<strong>s</strong> found in current directory and sub directories; it replaces any <strong>echo.</strong> encountered with <strong>echo</strong></p>\n\n<p><strong>WARNING</strong>: backup the directory before running the command-line below:</p>\n\n<pre><code>find . -type f -print0 | xargs -0 -I xxxx sed -i 's/echo[.]/echo/g' xxxx\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 5831849, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v7-pJlvoCt0/AAAAAAAAAAI/AAAAAAAAAGY/vLlhTkLBqJU/photo.jpg?sz=128", "display_name": "GrahamA", "link": "https://stackoverflow.com/users/5831849/grahama"}, "is_accepted": false, "score": 1, "last_activity_date": 1544830963, "creation_date": 1544830963, "answer_id": 53788259, "question_id": 36351659, "link": "https://stackoverflow.com/questions/36351659/message-echo-is-not-recognized-as-an-internal-or-external-command-operable/53788259#53788259", "title": "Message &quot; &#39;echo.&#39; is not recognized as an internal or external command, operable program or batch file.&quot; when starting shell", "body": "<p>Barbara Jensen provided the best answer in a comment (quoted below)</p>\n\n<p>Echo. in Windows CMD should print a blank line, but in some situations, it returns the \"is not recognized as an internal or external command...\" error. I suspect it's cmdextensions or similar.</p>\n\n<p>Barbara says \"echo/\" replaces it and this worked perfectly for me. Thanks B.</p>\n\n<blockquote>\n  <p>echo. is supposed to display a blank line; it is not invalid Windows command. I have used this in batch files for at least 15y and it went bad for me very recently. Interestingly for me, its working sometimes (the windows that I've set up for compiling) and not others (fresh ones). If I change the echo. to echo/ in my batch files, they work again. \u2013 Barbara Jensen Feb 14 at 13:55 </p>\n</blockquote>\n"}], "owner": {"reputation": 67, "user_id": 6094131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b578a0ef8c023af78dbdc921dfc20b2?s=128&d=identicon&r=PG&f=1", "display_name": "Olena ", "link": "https://stackoverflow.com/users/6094131/olena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1685, "favorite_count": 0, "accepted_answer_id": 36358167, "answer_count": 3, "score": 0, "last_activity_date": 1544830963, "creation_date": 1459499726, "question_id": 36351659, "link": "https://stackoverflow.com/questions/36351659/message-echo-is-not-recognized-as-an-internal-or-external-command-operable", "title": "Message &quot; &#39;echo.&#39; is not recognized as an internal or external command, operable program or batch file.&quot; when starting shell", "body": "<p>When starting my shell, I get a message :\" 'echo.' is not recognized as an internal or external command, operable program or batch file.\" I am not sure where it comes from. The problem is, that when I run my perl scripts as external tools in eclipse, this message is also printed in the eclipse console after the output of the scripts. How can I get rid of it?</p>\n"}]