[{"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 6461530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b237f540732f44b53b41d77e949fb854?s=128&d=identicon&r=PG&f=1", "display_name": "acbh", "link": "https://stackoverflow.com/users/6461530/acbh"}, "edited": false, "score": 0, "creation_date": 1475092381, "post_id": 39756454, "comment_id": 66808826, "body": "why would it be dangerous?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1475092450, "post_id": 39756454, "comment_id": 66808868, "body": "If the remote server allows it, using <code>ssh -o SendEnv=FOO ...</code> would be preferable."}, {"owner": {"reputation": 167, "user_id": 6461530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b237f540732f44b53b41d77e949fb854?s=128&d=identicon&r=PG&f=1", "display_name": "acbh", "link": "https://stackoverflow.com/users/6461530/acbh"}, "edited": false, "score": 0, "creation_date": 1475092470, "post_id": 39756454, "comment_id": 66808879, "body": "also what&#39;s the best way to refactor my bash script to properly accept $FOO?"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 167, "user_id": 6461530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b237f540732f44b53b41d77e949fb854?s=128&d=identicon&r=PG&f=1", "display_name": "acbh", "link": "https://stackoverflow.com/users/6461530/acbh"}, "edited": false, "score": 0, "creation_date": 1475093078, "post_id": 39756454, "comment_id": 66809233, "body": "@acbh It is possible the value of the variable may contain special characters that will change the behavior of the (remote) shell. Even worse, a specially crafted value can cause the shell to execute arbitrary commands."}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1475093149, "post_id": 39756454, "comment_id": 66809275, "body": "@chepner Yes, that is simpler, but I think most ssh servers only accept only a few variables by default."}, {"owner": {"reputation": 167, "user_id": 6461530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b237f540732f44b53b41d77e949fb854?s=128&d=identicon&r=PG&f=1", "display_name": "acbh", "link": "https://stackoverflow.com/users/6461530/acbh"}, "edited": false, "score": 0, "creation_date": 1475093861, "post_id": 39756454, "comment_id": 66809637, "body": "@redneb Would it be safe to pass the directory in $ENV like this my $foo=$ENV{&quot;dir/dir/filename.stderr&quot;}?"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1475093936, "post_id": 39756454, "comment_id": 66809675, "body": "Is <code>dir&#47;dir&#47;filename.stderr</code> the value you are trying to pass?"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 167, "user_id": 6461530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b237f540732f44b53b41d77e949fb854?s=128&d=identicon&r=PG&f=1", "display_name": "acbh", "link": "https://stackoverflow.com/users/6461530/acbh"}, "edited": false, "score": 0, "creation_date": 1475094393, "post_id": 39756454, "comment_id": 66809971, "body": "@acbh I updated my answer. That specific value is a safe, but it wouldn&#39;t hurt to sanitize it first, it&#39;s good practice."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 1, "last_activity_date": 1475094328, "last_edit_date": 1475094328, "creation_date": 1475092147, "answer_id": 39756454, "question_id": 39756418, "link": "https://stackoverflow.com/questions/39756418/passing-an-environment-variable-to-a-bash-script-over-ssh-from-perl-system/39756454#39756454", "title": "Passing an environment variable to a bash script over ssh from perl system", "body": "<p>Try this:</p>\n\n<pre><code>system(\"ssh -t remote FOO='dir/dir/filename.stderr' $dir/bashscript&gt; $dir/stdout.stdout 2&gt; $dir/stderr.stderr &amp;\");\n</code></pre>\n\n<p>Note that if the value comes from an untrusted source this can be dangerous. You should really escape the value before you pass is like that. For example, you could do something like this:</p>\n\n<pre><code>my $foo='some value here';\n$foo=~s/'/'\\\\''/g; # escape the '\nsystem(\"ssh -t remote env FOO='$FOO' $dir/bashscript&gt; $dir/stdout.stdout 2&gt; $dir/stderr.stderr &amp;\");\n</code></pre>\n\n<p>In either case, <code>bashscript</code> can access the value via <code>$FOO</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1475093102, "creation_date": 1475093102, "answer_id": 39756707, "question_id": 39756418, "link": "https://stackoverflow.com/questions/39756418/passing-an-environment-variable-to-a-bash-script-over-ssh-from-perl-system/39756707#39756707", "title": "Passing an environment variable to a bash script over ssh from perl system", "body": "<p>With all of @redneb's caveat's about sanitizing input</p>\n\n<pre><code>ssh remotehost FOO=bar \\; export FOO \\; script &gt; out 2&gt; err\n</code></pre>\n\n<p>or if you're sure that the shell on the remote host will be <code>bash</code>, the more compact</p>\n\n<pre><code>ssh remotehost export FOO=bar \\; script &gt; out 2&gt; err\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 6461530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b237f540732f44b53b41d77e949fb854?s=128&d=identicon&r=PG&f=1", "display_name": "acbh", "link": "https://stackoverflow.com/users/6461530/acbh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "accepted_answer_id": 39756454, "answer_count": 2, "score": 1, "last_activity_date": 1475094429, "creation_date": 1475092005, "last_edit_date": 1475094429, "question_id": 39756418, "link": "https://stackoverflow.com/questions/39756418/passing-an-environment-variable-to-a-bash-script-over-ssh-from-perl-system", "title": "Passing an environment variable to a bash script over ssh from perl system", "body": "<p>Currently I am executing run scripts using perl system by sshing into a remote machine:</p>\n\n<pre><code>system(\"ssh -t remote $dir/bashscript&gt; $dir/stdout.stdout 2&gt; $dir/stderr.stderr &amp;\");\n</code></pre>\n\n<p>I want to pass an environment variable to the bashscript on my remote machine (a directory to be specific). What is the best way to do it? And what should I add in my bashscript to accept the argument?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1475081646, "post_id": 39753290, "comment_id": 66802974, "body": "Do you need to simply pick up that number?  Are there other numbers on the line? To match a (possibly negative) integer in a string you only need <code>my ($num) = $str =~ &#47;([+-]?\\d+)&#47;</code>, so please explain a little more"}, {"owner": {"reputation": 73, "user_id": 4209468, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc881fb4d07484891835a2217668e970?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/4209468/sam"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475082204, "post_id": 39753290, "comment_id": 66803288, "body": "@zdim i need to pickup the only (-1) number in all occurrence in a file"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1475082383, "post_id": 39753290, "comment_id": 66803402, "body": "OK.  Then what I wrote in the previous comment is all you need. It finds and captures a number and stores it in <code>$num</code>, given that <code>$str</code> contains a string.  It that string doesn&#39;t containt a number then <code>$num</code> winds up <code>undef</code>. For a whole file, you can read it line by line and use the above so that <code>$str</code> has a line as you go.  Which part of this is the problem?  Can you post the complete code you are trying?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1475144714, "post_id": 39753290, "comment_id": 66829892, "body": "@sam: I assure you that your comments are very much stranger than my own. I offered constructive criticism, and am astonished how sensitive you are to it. My knowledge in this field is that it is a bad idea to copy code blindly from the internet and plug it into your own program without spending the effort to understand what it does. It is a huge security risk, and you may suffer all kinds of side effects that you didn&#39;t intend or expect. I am sharing that knowledge with you as you described. This is especially odd coming from someone who has never had a positive vote for any of his questions."}, {"owner": {"reputation": 73, "user_id": 4209468, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc881fb4d07484891835a2217668e970?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/4209468/sam"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475145194, "post_id": 39753290, "comment_id": 66830185, "body": "@Borodin i had asked my doubt what its nor working for me but you are saying something different"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1475083168, "creation_date": 1475083168, "answer_id": 39753904, "question_id": 39753290, "link": "https://stackoverflow.com/questions/39753290/matching-negative-number-in-a-line-not-working/39753904#39753904", "title": "matching negative number in a line not working", "body": "<p>Your pattern actually does match.</p>\n\n<pre><code>$ perl -E'\n   say\n      \"Invalid {-1}\" =~ / ( [+-]?\\d+ )| (\\s+ ( \\{ [^-]+ \\} |\\S+)) /x\n         ? \"match\" : \"no match\";'\nmatch\n</code></pre>\n\n<p>In fact, <code>/ [+-]? \\d+ /x</code> would have sufficed.</p>\n"}], "owner": {"reputation": 73, "user_id": 4209468, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc881fb4d07484891835a2217668e970?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/4209468/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1475144133, "accepted_answer_id": 39753904, "answer_count": 1, "score": -4, "last_activity_date": 1475083168, "creation_date": 1475081135, "last_edit_date": 1475081838, "question_id": 39753290, "link": "https://stackoverflow.com/questions/39753290/matching-negative-number-in-a-line-not-working", "closed_reason": "Not suitable for this site", "title": "matching negative number in a line not working", "body": "<p>How to match negative number in a line.</p>\n\n<pre>\ninput line :strongest_signal_indication   Invalid {-1}  some text\n</pre>\n\n<p>I was trying this regex expression:</p>\n\n<pre><code>/ ( [+-]?\\d+ )| (\\s+ ( \\{ [^-]+ \\} |\\S+)) /xg\n</code></pre>\n\n<p>but it did not work for me</p>\n\n<p>Any help please</p>\n"}, {"tags": ["php", "apache", "perl", ".htaccess"], "answers": [{"comments": [{"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "edited": false, "score": 0, "creation_date": 1475096396, "post_id": 39754424, "comment_id": 66811096, "body": "Since you say so <code>RewriteCond %{REQUEST_FILENAME} !-f</code>, it will redirect if it is not a file. If you want it for exisiting directories, say so <code>-d</code>."}], "tags": [], "owner": {"reputation": 372, "user_id": 851426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c754373d2bc236bd6c31ed98a990dade?s=128&d=identicon&r=PG", "display_name": "ityler22", "link": "https://stackoverflow.com/users/851426/ityler22"}, "is_accepted": true, "score": 0, "last_activity_date": 1475085338, "last_edit_date": 1475085338, "creation_date": 1475084968, "answer_id": 39754424, "question_id": 39753286, "link": "https://stackoverflow.com/questions/39753286/reroute-any-subdirectory-to-script/39754424#39754424", "title": "Reroute any subdirectory to script", "body": "<p>I believe I answered my own question using the following in the root .htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ router.pl?action=$1 [L,NC,QSA]\n</code></pre>\n\n<p>This seems to be working with my initial testing. </p>\n\n<p>I believe this is how it is working:</p>\n\n<ul>\n<li>If the requested subdirectory is not found as a file</li>\n<li>If the requested subdirectory is not found as a directory</li>\n<li>Redirect this to the router.pl script along with any leftover parameters from the original url.</li>\n</ul>\n\n<p><strong>EDIT: The above is not working completely, this is still redirecting any file that is not found on the server to the router.pl script. Not really the functionality that I am looking for,i would like this to only happen if it is a subdirectory and not an invalid file</strong> </p>\n\n<p>Not sure I want any bot thats guessing filenames to be pegging my script on a regular basis. </p>\n\n<p>Please correct this response if any of the above is not accurate.</p>\n"}], "owner": {"reputation": 372, "user_id": 851426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c754373d2bc236bd6c31ed98a990dade?s=128&d=identicon&r=PG", "display_name": "ityler22", "link": "https://stackoverflow.com/users/851426/ityler22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 39754424, "answer_count": 1, "score": 1, "last_activity_date": 1475085338, "creation_date": 1475081122, "last_edit_date": 1475083804, "question_id": 39753286, "link": "https://stackoverflow.com/questions/39753286/reroute-any-subdirectory-to-script", "title": "Reroute any subdirectory to script", "body": "<p>I am trying to setup simple url routing in a Perl web project without haveing to include a framework just for that purpose. I believe this can be accomplished with an .htaccess.</p>\n\n<p>The plan is for any request to the server using <code>example.com/anysubdirectory/...</code> to be routed to a perl/php script that will parse whatever is contained in <code>/anysubdirectory/...</code> and the parameters following it and then determine where to send the user based on that info.</p>\n\n<p>If example.com without any subdirectory is requested I need to still maintain the default behavior of searching for an index page here.</p>\n\n<p>Since the <code>/anysubdirectory/</code> will be dynamic i'm not able to predefine that <code>/123/ -&gt; option 1</code> or <code>/abc/ -&gt; option 2</code> </p>\n\n<p>I am not overly familiar with htaccess other than the typical www and base rewrites.</p>\n\n<p>Any help is much appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1475076284, "post_id": 39751621, "comment_id": 66799469, "body": "Provided details not enough to give a suggestion and could you please elaborate question much better brief. And have you tried anything at your end?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6434612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db8e3c266f176469cb06c781f8d1a66a?s=128&d=identicon&r=PG&f=1", "display_name": "kennyg", "link": "https://stackoverflow.com/users/6434612/kennyg"}, "edited": false, "score": 0, "creation_date": 1475077238, "post_id": 39751847, "comment_id": 66800118, "body": "Thanks, it almost works. I modified it slightly, on the second column i need the series 1-7:   perl -ple &#39;($n)=/;(\\d+)$/; while ($l&lt;$n) {print &quot;null;&quot; . $l%7 . &quot;;$l&quot; if $l; $l++} $l=$n+1&#39;"}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 3, "last_activity_date": 1475077018, "last_edit_date": 1475077018, "creation_date": 1475076692, "answer_id": 39751847, "question_id": 39751621, "link": "https://stackoverflow.com/questions/39751621/fill-file-with-missing-lines-perl/39751847#39751847", "title": "Fill file with missing lines perl", "body": "<p>Here's a simple one-liner that does that:</p>\n\n<pre><code>perl -ple '($m,$n)=/;(\\d+);(\\d+)$/; while ($l&lt;$n) {print \"null;\",++$p,\";$l\" if $l; $l++} $l=$n+1; $p=$m' input\n</code></pre>\n\n<p>It uses a variable (<code>$l</code>) to remember the last value of the last column and if there are gaps it fills them before outputting each line.</p>\n\n<p>Output:</p>\n\n<pre><code>value1;1;1\nvalue2;2;2\nnull;3;3\nnull;4;4\nvalue3;5;5\nnull;6;6\nvalue4;7;7\nvalue5;1;8\nnull;2;9\nvalue6;3;10\nnull;4;11\nnull;5;12\nnull;6;13\nvalue7;7;14\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 631, "user_id": 6252353, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-g5fley8sHyg/AAAAAAAAAAI/AAAAAAAAAeg/R_WrMAny8wg/photo.jpg?sz=128", "display_name": "Andre Carneiro", "link": "https://stackoverflow.com/users/6252353/andre-carneiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1475120248, "creation_date": 1475120248, "answer_id": 39761005, "question_id": 39751621, "link": "https://stackoverflow.com/questions/39751621/fill-file-with-missing-lines-perl/39761005#39761005", "title": "Fill file with missing lines perl", "body": "<p>This is a CSV file, isn't it? So please, try Text::CSV_XS module! Parsers! Parser everywhere in <a href=\"http://metacpan.org\" rel=\"nofollow\">metacpan</a> </p>\n\n<p>You don't need to build parsers in Perl for practically nothing. Really!</p>\n"}], "owner": {"reputation": 13, "user_id": 6434612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db8e3c266f176469cb06c781f8d1a66a?s=128&d=identicon&r=PG&f=1", "display_name": "kennyg", "link": "https://stackoverflow.com/users/6434612/kennyg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 39751847, "answer_count": 2, "score": -1, "last_activity_date": 1475120248, "creation_date": 1475076139, "question_id": 39751621, "link": "https://stackoverflow.com/questions/39751621/fill-file-with-missing-lines-perl", "title": "Fill file with missing lines perl", "body": "<p>I have a file that contains the following:</p>\n\n<pre><code>value1;1;1\nvalue2;2;2\nvalue3;5;5\nvalue4;7;7\nvalue5;1;8\nvalue6;3;10\nvalue7;7;14\n</code></pre>\n\n<p>The first column contains a random value, the second column numbers 1 to 7 ordered, and the third column just consecutive numbers.\nIs it possible, using perl, to fill this file in the following way:</p>\n\n<pre><code>value1;1;1\nvalue2;2;2\nnull;3;3\nnull;4;4\nvalue3;5;5\nnull;6;6\nvalue4;7;7\nvalue5;1;8\nnull;2;9\nvalue6;3;10\nnull;4;11\nnull;5;12\nnull;6;13\nvalue7;7;14\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "utf-8", "db2", "latex"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1475074240, "post_id": 39750858, "comment_id": 66797984, "body": "<a href=\"http://stackoverflow.com/questions/38587627/convert-non-ascii-utf-8-characters-into-latex-codes\">May be this will help you in part</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1475082931, "post_id": 39750858, "comment_id": 66803655, "body": "I suspect that you did not decode the database values to Perl strings before you tried to encode them to LaTeX. Try running: <code>perl -Mutf8 -mTeX::Encode -E &#39;$tmp = &quot;&#225;\u0161&quot;; say TeX::Encode::encode(&quot;latex&quot;, $tmp )&#39;</code>."}], "owner": {"reputation": 21, "user_id": 6894273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c205ab3456dd598384db0c54298365d?s=128&d=identicon&r=PG&f=1", "display_name": "Tina", "link": "https://stackoverflow.com/users/6894273/tina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1475076005, "creation_date": 1475073984, "last_edit_date": 1475076005, "question_id": 39750858, "link": "https://stackoverflow.com/questions/39750858/how-can-i-convert-db2-utf-8-czech-special-characters-to-latex-format", "title": "How can I convert DB2 UTF-8 Czech special characters to LaTeX format?", "body": "<p>I'm having trouble converting UTF-8 characters in a DB2 database to LaTeX format.</p>\n\n<p>I have a DB2 database which is in codeset UTF-8 and codepage 1208. I have a field \"lastname\" that has some names that contain the East European special characters \u0161 (\"s\" with caron, Unicode code point U+0161, HTML entity <code>&amp;#353;</code>) and \u00e1 (\"a\" with acute, Unicode code point U+00E1, HTML entity <code>&amp;#225;</code>).</p>\n\n<p>My environment in the shell is LANG de_DE.utf8. I read the database field in Perl with the DBI module and want to convert the name to LaTeX format for printing, but it doesn't work for the character \u0161.</p>\n\n<p>I want to convert these characters as follows:</p>\n\n<ul>\n<li><code>\u00e1</code> -> <code>\\'{a}</code></li>\n<li><code>\u0161</code> -> <code>\\v{s}</code></li>\n</ul>\n\n<p>I'm able to convert \u00e1 but not \u0161 with the following code (<code>$tmp</code> contains <code>\u00e1\u0161</code>):</p>\n\n<pre><code>print TeX::Encode::encode('latex',$tmp);\n</code></pre>\n\n<p>This gives <code>\\'a?</code>. <code>\\'a</code> is correct but <code>?</code> for the \u0161 is not.</p>\n\n<p>When I save the field directly to a file and look at it with a hex editor it shows <code>e1 1a</code>. <code>e1</code> is correct but <code>1a</code> isn't (according to Latin-2 it should be <code>b9</code>).</p>\n\n<p>Can someone please help me convert these East European names from a UTF-8 database to a universal LaTeX format for printing?</p>\n"}, {"tags": ["perl", "gunzip"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1475073480, "post_id": 39750536, "comment_id": 66797385, "body": "Missing <code>use LWP::Simple</code>"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1475073525, "post_id": 39750536, "comment_id": 66797415, "body": "@ssr1012 Hi I used, I just didn&#39;t copy that line, thank you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475073710, "post_id": 39750536, "comment_id": 66797555, "body": "Does it <code>die</code> with <i>gunzip failed:</i>? What&#39;s in <code>$GunzipError</code>?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1475075025, "post_id": 39750536, "comment_id": 66798575, "body": "I wonder why you think that posting a question here is easier than just <a href=\"https://metacpan.org/pod/IO::Uncompress::Gunzip\" rel=\"nofollow noreferrer\">reading the module&#39;s documentation</a>."}], "answers": [{"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 2, "last_activity_date": 1475073712, "creation_date": 1475073712, "answer_id": 39750730, "question_id": 39750536, "link": "https://stackoverflow.com/questions/39750536/gunzip-gz-file-in-perl/39750730#39750730", "title": "Gunzip .gz file in perl", "body": "<p>You must import the <code>gunzip</code> function into your namespace:</p>\n\n<pre><code>use IO::Uncompress::Gunzip qw(gunzip $GunzipError);\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2193, "favorite_count": 0, "accepted_answer_id": 39750730, "answer_count": 1, "score": 1, "last_activity_date": 1475073712, "creation_date": 1475073215, "last_edit_date": 1475073575, "question_id": 39750536, "link": "https://stackoverflow.com/questions/39750536/gunzip-gz-file-in-perl", "title": "Gunzip .gz file in perl", "body": "<p>I am working on Perl. and I need to download a .gz file from website, then  gunzip or decompress it in Perl. My code:</p>\n\n<pre><code>use LWP::Simple;\nuse XML::Simple qw(:strict);\nuse Data::Dumper;\nuse DBI;\nuse Getopt::Long;\nuse IO::Uncompress::Gunzip qw($GunzipError);\nuse IO::File;\n\n\n\nmy $url = 'http://nvd.nist.gov/feeds/xml/cve/nvdcve-2.0-Modified.xml.gz';\n\nmy $file = 'nvdcve-2.0-Modified.xml.gz';\n\ngetstore($url, $file);\n\nmy $xmlFile = 'nvdcve-2.0-Modified.xml';\n\ngunzip $file =&gt; $xmlFile\n    or die \"gunzip failed: $GunzipError\\n\";\n</code></pre>\n\n<p>I use the Uncompress to release the file. The file downloaded and stored in $file successful, but the gunzip code is not working. Appreciate for any help, thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 13, "last_activity_date": 1475073564, "creation_date": 1475073564, "answer_id": 39750673, "question_id": 39750403, "link": "https://stackoverflow.com/questions/39750403/does-dataprinter-handle-array-slices/39750673#39750673", "title": "Does Data::Printer handle array slices?", "body": "<p>The prototype on <code>Data::Printer::p</code> is <code>\\[@$%&amp;];%</code>, so it will accept a named array but not an arbitrary list or anonymous array reference.</p>\n\n<p>There is a <code>Data::Printer::p_without_prototypes</code> function that will accept this input, and if you import <code>Data::Printer</code> with</p>\n\n<pre><code>use Data::Printer use_prototypes =&gt; 0;\n</code></pre>\n\n<p>then <code>p</code> in the current package will refer to this function, and accept your input.</p>\n\n<pre><code>use Data::Printer use_prototypes =&gt; 0;\nmy @values = 1 .. 99;\np [@values[0..9]];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1475144800, "post_id": 39753344, "comment_id": 66829955, "body": "<code>@{[ ... ]}</code> to the rescue yet again :) What threw me off was the fact that even <code>p [ ... ]</code> wasn&#39;t working"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1475163623, "post_id": 39753344, "comment_id": 66843441, "body": "So you can do <code>p @a</code> instead of <code>p \\@a</code>, D::P only accepts variables, not expressions such as <code>[ ... ]</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 12, "last_activity_date": 1475097691, "last_edit_date": 1475097691, "creation_date": 1475081256, "answer_id": 39753344, "question_id": 39750403, "link": "https://stackoverflow.com/questions/39750403/does-dataprinter-handle-array-slices/39753344#39753344", "title": "Does Data::Printer handle array slices?", "body": "<p>Data::Printer's <code>p</code> expects a single variable, but an array slice isn't a variable.</p>\n\n<h2>Option 1 (Poor)</h2>\n\n<p>Call <code>p</code> for each element of the slice.</p>\n\n<pre><code>use Data::Printer;\nmy @values = 100 .. 199;\np $_ for @values[0..9];\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n</code></pre>\n\n<p>I say this is poor because it doesn't show the offsets, and more importantly, it can result in no output at all if the list of indexes is empty.</p>\n\n<h2>Option 2 (Better)</h2>\n\n<p>Build an array.</p>\n\n<pre><code>use Data::Printer;\nmy @values = 100 .. 199;\np @{ [ @values[0..9] ] };\n</code></pre>\n\n<p>This produces clearer output than the first option:</p>\n\n<pre><code>[\n    [0] 100,\n    [1] 101,\n    [2] 102,\n    [3] 103,\n    [4] 104,\n    [5] 105,\n    [6] 106,\n    [7] 107,\n    [8] 108,\n    [9] 109\n]\n</code></pre>\n\n<p>If you find that too complicated, you could override <code>p</code>'s prototype and pass a reference to the array instead.</p>\n\n<pre><code>use Data::Printer;\nmy @values = 1 .. 99;\n&amp;p( [ @values[0..9] ] );\n</code></pre>\n\n<p>If you're ok with always passing a scalar or a reference (rather than variables) to <code>p</code>, you can use the following:</p>\n\n<pre><code>use Data::Printer use_prototypes =&gt; 0;\nmy @values = 1 .. 99;\np [ @values[0..9] ];\n</code></pre>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 2, "accepted_answer_id": 39750673, "answer_count": 2, "score": 11, "last_activity_date": 1475097691, "creation_date": 1475072804, "last_edit_date": 1592644375, "question_id": 39750403, "link": "https://stackoverflow.com/questions/39750403/does-dataprinter-handle-array-slices", "title": "Does Data::Printer handle array slices?", "body": "<p>Apparently not:</p>\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\nmy @values = 1 .. 99;\np @values[0..9];\n</code></pre>\n<p>Returns</p>\n<pre><code>10\n</code></pre>\n<p>The <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"noreferrer\">documentation</a> doesn't shed any light on the matter as far as I can tell.</p>\n<h3>Questions</h3>\n<ul>\n<li>Why doesn't the code above work?</li>\n<li>Is it possible to make it work without resorting to a temp?</li>\n</ul>\n"}, {"tags": ["perl", "oop"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1475066760, "post_id": 39747790, "comment_id": 66791996, "body": "It might want to do something with <code>$self</code> (or <code>$class</code>), like call another method. It would be better to use the <code>-&gt;</code> syntax and say <code>ClassA-&gt;method1</code> instead."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1475068380, "post_id": 39747790, "comment_id": 66793239, "body": "A couple of suggestions. Firstly, I only use <code>$self</code> in object methods. For class methods I&#39;d use <code>$class</code> as the name of the variable storing the invocant. Secondly, I like to get the invocant with <code>shift</code> before processing any other parameters (<code>my $self = shift</code>). This has two advantages - firstly it shows that the first argument is special in some way and secondly, it leaves <code>@_</code> containing the actual arguments that the user passed to the method. YMMV :-)"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1475124658, "last_edit_date": 1475124658, "creation_date": 1475066292, "answer_id": 39747790, "question_id": 39747717, "link": "https://stackoverflow.com/questions/39747717/how-to-access-a-method-without-using-class-object-in-perl/39747790#39747790", "title": "How to access a method without using class object in Perl?", "body": "<p>If it's a class method you can call it like below:</p>\n\n<pre><code>use ClassA;\nClassA-&gt;method1();\n</code></pre>\n\n<hr>\n\n<p>Example:</p>\n\n<p><strong>ClassA.pm</strong></p>\n\n<pre><code>package ClassA;\n\nsub welcome_message{\n    my $class = shift;\n    my $name = shift;\n    print \"Hello $name\";\n}\n\n1;\n</code></pre>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse ClassA;\nmy $name = 'John Doe';\nClassA-&gt;welcome_message($name);\n</code></pre>\n\n<p>Please go through <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow\">perlootut</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1475071676, "last_edit_date": 1475071676, "creation_date": 1475068103, "answer_id": 39748496, "question_id": 39747717, "link": "https://stackoverflow.com/questions/39747717/how-to-access-a-method-without-using-class-object-in-perl/39748496#39748496", "title": "How to access a method without using class object in Perl?", "body": "<p>There are basically two types of method. The most common type is an object method - a method which is called on an object (i.e. an instance of a class). In the vast majority of cases, calling an object method without an object is going to be completely pointless as it will need to either read data from the object or write data back to the object.</p>\n\n<p>However, there are also class methods - methods that are called on classes. The object constructor (usually called <code>new()</code>) is probably the best-known example of a class method. You call a class method using the class name, the arrow operator and the method's name.</p>\n\n<pre><code>Some::Class-&gt;some_method;\n</code></pre>\n\n<p>You can also pass parameters to the method.</p>\n\n<pre><code>Some::Class-&gt;some_method($some, $parameters);\n</code></pre>\n\n<p>This is all rather vague, but without knowing a lot more about what you're doing and why you want to call a method without and object, it's impossible to be any more help.</p>\n\n<p><strong>Update:</strong> I've just realised that this was my 1000th answer on SO :-)</p>\n"}], "owner": {"reputation": 5, "user_id": 4948216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b4a4603c619ad98981c9bb38b4dc66?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Kumar Nayak", "link": "https://stackoverflow.com/users/4948216/deepak-kumar-nayak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1475124658, "creation_date": 1475066129, "last_edit_date": 1475067633, "question_id": 39747717, "link": "https://stackoverflow.com/questions/39747717/how-to-access-a-method-without-using-class-object-in-perl", "title": "How to access a method without using class object in Perl?", "body": "<p>Suppose ClassA has method1(); in main method We want to access method1() without creating object of ClassA.</p>\n"}, {"tags": ["perl", "ssl", "ldap", "perl-module"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1475065710, "post_id": 39746541, "comment_id": 66791203, "body": "Can you connect to your server using ldapsearch?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1475073235, "post_id": 39746541, "comment_id": 66797200, "body": "You are using 8 year old versions of the modules. There are current versions for all of these modules. Have you tried these?"}, {"owner": {"reputation": 65, "user_id": 1726707, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40d93fda342384a53564a27fdffb1038?s=128&d=identicon&r=PG", "display_name": "user1726707", "link": "https://stackoverflow.com/users/1726707/user1726707"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1475119695, "post_id": 39746541, "comment_id": 66817355, "body": "@ChankeyPathak I could connect to port 636 on my AD machine with telnet. Also, the same perl scripts run perfectly on a similar machine with all the modules being the same."}, {"owner": {"reputation": 65, "user_id": 1726707, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40d93fda342384a53564a27fdffb1038?s=128&d=identicon&r=PG", "display_name": "user1726707", "link": "https://stackoverflow.com/users/1726707/user1726707"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1475119806, "post_id": 39746541, "comment_id": 66817377, "body": "@SteffenUllrich I could successfully query the AD with the same scripts on a similar machine. The only difference between the two machines is the machine on which the script is running runs on lucid and this machine runs on trusty. Does it have anything to do with this error?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1475123583, "post_id": 39746541, "comment_id": 66818274, "body": "@user1726707: if the module versions are the same your are obviously using your own Perl (or at least some modules, which predate both trusty and lucid in several years). But you might rely on the underlying Net::SSLeay and openssl library which ships with the system and accounts for the differences."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1475065156, "last_edit_date": 1475065156, "creation_date": 1475064781, "answer_id": 39747191, "question_id": 39746541, "link": "https://stackoverflow.com/questions/39746541/netldaps-throws-unknown-error-during-ssl-connect/39747191#39747191", "title": "Net::LDAPS throws unknown error during SSL connect", "body": "<p>If you look at the error you can see that certificate verification failed.</p>\n\n<blockquote>\n  <p>SSL connect attempt failed with unknown error..error:14090086:SSL\n  routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed</p>\n</blockquote>\n\n<p>You can either correct the certificate or ignore certificate verification by passing</p>\n\n<pre><code>verify =&gt; 'none'\n</code></pre>\n\n<p>On a sidenote, you can also use <a href=\"https://metacpan.org/pod/Net::LDAP\" rel=\"nofollow\">Net::LDAP</a> if you pass <code>ldaps://</code> as a prefix to <code>$ad_host</code>.</p>\n\n<pre><code>$ldaps = Net::LDAP-&gt;new('ldaps://myhost.example.com:10000',\n                        verify =&gt; 'require',\n                        capath =&gt; $ca_path);\n</code></pre>\n\n<hr>\n\n<p>Oops just noticed that you said</p>\n\n<blockquote>\n  <p>The same code with all the modules in the same version works on one of\n  my other machines. But on this particular machine I see this error.</p>\n</blockquote>\n\n<p>Then this looks like a configuration issue. Can you connect to your server using <a href=\"https://linux.die.net/man/1/ldapsearch\" rel=\"nofollow\">ldapsearch</a>?</p>\n"}, {"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1475246319, "post_id": 39783363, "comment_id": 66881071, "body": "These hashes are needed for both lucid and trusty when using a directory for the trusted CA. But it might have been that you&#39;ve used the same hash for lucid and trusty even though the hash algorithm (and thus the resulting file name) has changed in the openssl versions. When using a file instead of a directory for the CA your are not affected by this problem."}], "tags": [], "owner": {"reputation": 65, "user_id": 1726707, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40d93fda342384a53564a27fdffb1038?s=128&d=identicon&r=PG", "display_name": "user1726707", "link": "https://stackoverflow.com/users/1726707/user1726707"}, "is_accepted": true, "score": 0, "last_activity_date": 1475207140, "creation_date": 1475207140, "answer_id": 39783363, "question_id": 39746541, "link": "https://stackoverflow.com/questions/39746541/netldaps-throws-unknown-error-during-ssl-connect/39783363#39783363", "title": "Net::LDAPS throws unknown error during SSL connect", "body": "<p>This issue is resolved. </p>\n\n<p>There are 2 ways to solve this : </p>\n\n<p><strong>Bypass the verification (Not recommended)</strong></p>\n\n<p>If you are using the \"verify\" attribute like the one in my code, you just have to comment it out. It will bypass the cert verification. </p>\n\n<p><strong>Add a soft link to the certificates</strong></p>\n\n<p>Maybe it is a behavior specific to trusty, because on lucid it was working fine. So, you need to create a soft link to all your pem files and place it in the CA Path. You can do this by running </p>\n\n<pre><code>ln -s cacert.pem `openssl x509 -hash -noout &lt; cacert.pem`.0\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 1726707, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40d93fda342384a53564a27fdffb1038?s=128&d=identicon&r=PG", "display_name": "user1726707", "link": "https://stackoverflow.com/users/1726707/user1726707"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1117, "favorite_count": 0, "accepted_answer_id": 39783363, "answer_count": 2, "score": 1, "last_activity_date": 1475207140, "creation_date": 1475063141, "last_edit_date": 1475064531, "question_id": 39746541, "link": "https://stackoverflow.com/questions/39746541/netldaps-throws-unknown-error-during-ssl-connect", "title": "Net::LDAPS throws unknown error during SSL connect", "body": "<p>I am trying to connect to an LDAP server using the Net::LDAPS module. I am passing the right username, password and capath to it. The same code with all the modules in the same version works on one of my other machines. But on this particular machine I see this error. </p>\n\n<p>The sample code I am working with : </p>\n\n<pre><code>my $ad_host = 'XYZ';\nmy $ad_port = 636;\nmy $ad_user = 'ABC';\nmy $ad_pass = '****';\nmy $ca_path = '&lt;path to ca cert&gt;';\n\nmy $ldap = Net::LDAPS-&gt;new(\n                $ad_host,\n                port   =&gt; $ad_port,\n                verify =&gt; 'require',\n                capath =&gt; $ca_path\n);\n</code></pre>\n\n<p>Is it a known bug in the LDAPS module? Or am I missing out something apparent.     </p>\n\n<p>The debug logs:</p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:179: set domain to 2\nDEBUG: .../IO/Socket/SSL.pm:1427: new ctx 21295632\nDEBUG: .../IO/Socket/SSL.pm:309: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:311: socket connected\nDEBUG: .../IO/Socket/SSL.pm:324: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:354: set socket to non-blocking to enforce  timeout=120\nDEBUG: .../IO/Socket/SSL.pm:367: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:377: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:387: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:407: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:367: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:377: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:387: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:407: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:367: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:1175: SSL connect attempt failed with unknown error..error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\n\nDEBUG: .../IO/Socket/SSL.pm:373: fatal SSL error: SSL connect attempt failed with unknown error..error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nDEBUG: .../IO/Socket/SSL.pm:1462: free ctx 21295632 open=21295632\nDEBUG: .../IO/Socket/SSL.pm:1465: OK free ctx 21295632\nDEBUG: .../IO/Socket/SSL.pm:1175: IO::Socket::INET6 configuration failederror:00000000:lib(0):func(0):reason(0)\n</code></pre>\n\n<p>Versions of the modules I am using : </p>\n\n<p>...:~/test_perl$ perlmodver Net::LDAPS\n0.05</p>\n\n<p>...:~/test_perl$ perlmodver Net::LDAP\n0.39</p>\n\n<p>...:~/test_perl$ perlmodver IO::Socket::SSL\n1.18</p>\n"}, {"tags": ["perl", "bots", "telegram"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475059373, "post_id": 39744188, "comment_id": 66786767, "body": "Hmm. The docs say that the InputFile object should be posted using multipart/formdata. But that&#39;s strange."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475059497, "post_id": 39744188, "comment_id": 66786842, "body": "Not using WWW::Telegram::BotAPI doesn&#39;t include borrowing from <a href=\"https://v1.metacpan.org/source/ROBERTOF/WWW-Telegram-BotAPI-0.07/lib/WWW/Telegram/BotAPI.pm#L80\" rel=\"nofollow noreferrer\">its source</a>. I suggest you study how it&#39;s done there. Looks like you need to switch the content type. The author was nice enough to even put a link to how to do it with HTTP::Request::Common in the source. And in general, the source has entertaining comments and is worth a read."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475060880, "post_id": 39744188, "comment_id": 66787824, "body": "May I ask why you don&#39;t want to use the module?"}, {"owner": {"reputation": 1211, "user_id": 948212, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1ba5d38efed0cd3a8281edebb37db2b?s=128&d=identicon&r=PG", "display_name": "Anton Shevtsov", "link": "https://stackoverflow.com/users/948212/anton-shevtsov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475062302, "post_id": 39744188, "comment_id": 66788780, "body": "@Borodin just for increased knowledge. My bot is too simple, send message and stop. For service notification only, not for dialogs."}], "answers": [{"tags": [], "owner": {"reputation": 1211, "user_id": 948212, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1ba5d38efed0cd3a8281edebb37db2b?s=128&d=identicon&r=PG", "display_name": "Anton Shevtsov", "link": "https://stackoverflow.com/users/948212/anton-shevtsov"}, "is_accepted": true, "score": 0, "last_activity_date": 1475061431, "creation_date": 1475061431, "answer_id": 39745925, "question_id": 39744188, "link": "https://stackoverflow.com/questions/39744188/perl-telegram-bot-and-sendphoto-method/39745925#39745925", "title": "Perl | Telegram Bot and sendPhoto method", "body": "<p>i make an mistake)</p>\n\n<p>for file upload, I do not need a json!</p>\n\n<p>wrong!</p>\n\n<pre><code>my $p = [ chat_id =&gt; $groupid,\n          caption =&gt; 'image caption',\n          photo =&gt; [\"/tmp/pdf.png\"]\n];\n\nmy $response = $ua-&gt;request(\nPOST 'https://api.telegram.org/bot'.$token.'/sendPhoto',\nContent_Type    =&gt; 'form-data',\nContent         =&gt; JSON::MaybeXS::encode_json($msg)\n);\n</code></pre>\n\n<p>valid below</p>\n\n<pre><code>my $p = [ chat_id =&gt; $groupid,\n          caption =&gt; 'image caption',\n          photo =&gt; [\"/tmp/pdf.png\"]\n];\n\nmy $response = $ua-&gt;request(\nPOST 'https://api.telegram.org/bot'.$token.'/sendPhoto',\nContent_Type    =&gt; 'form-data',\nContent         =&gt; $msg\n);\n</code></pre>\n"}], "owner": {"reputation": 1211, "user_id": 948212, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1ba5d38efed0cd3a8281edebb37db2b?s=128&d=identicon&r=PG", "display_name": "Anton Shevtsov", "link": "https://stackoverflow.com/users/948212/anton-shevtsov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1324, "favorite_count": 0, "accepted_answer_id": 39745925, "answer_count": 1, "score": 0, "last_activity_date": 1475061431, "creation_date": 1475056842, "question_id": 39744188, "link": "https://stackoverflow.com/questions/39744188/perl-telegram-bot-and-sendphoto-method", "title": "Perl | Telegram Bot and sendPhoto method", "body": "<p>I need help with <strong>pure perl</strong> (without WWW::Telegram::BotAPI) implementation of sendPhoto BotAPI method</p>\n\n<p>Simple text i send without problem</p>\n\n<pre><code>use LWP::UserAgent;\nuse HTTP::Request::Common;\nuse JSON::MaybeXS;\n....\n....\n   my $ua = LWP::UserAgent-&gt;new;\n\n   utf8::decode($message);\n   my $p = {\n            chat_id=&gt;$groupid,\n            parse_mode=&gt;'HTML',\n            text=&gt;$message\n    };\n\n   my $response = $ua-&gt;request(\n        POST 'https://api.telegram.org/bot'.$token.'/sendMessage',\n        Content_Type    =&gt; 'application/json',\n        Content         =&gt; JSON::MaybeXS::encode_json($p)\n        );\n...\n</code></pre>\n\n<p>But with sendPhoto (<a href=\"https://core.telegram.org/bots/api#sendphoto\" rel=\"nofollow\">https://core.telegram.org/bots/api#sendphoto</a>) i have problem. Which JSON i must send to server if i want upload new image?</p>\n\n<pre><code>chat_id=&gt;$groupid,\ncaption=&gt;$message\nphoto=&gt; { ? binary blob here ? }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1475052590, "post_id": 39742372, "comment_id": 66781804, "body": "<code>\\Q</code> =&gt; <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/quotemeta.html</a> Skip \\Q altogether and try <code>$regex = qr&#47;[0-9] (\\\\+|\\\\*) [0-9]&#47;;</code>"}, {"owner": {"reputation": 444, "user_id": 3674780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a609a53df33e12d3cc5bb8efdc07ccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Orange Peel", "link": "https://stackoverflow.com/users/3674780/orange-peel"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1475053000, "post_id": 39742372, "comment_id": 66782094, "body": "Thanks @\u0421\u0443\u0445\u043e\u043927, I see that this works. I also need to match a <code>$</code> in the text. This does not work."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1475053557, "post_id": 39742372, "comment_id": 66782451, "body": "\\$ instead of \\\\$."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1475053715, "post_id": 39742372, "comment_id": 66782568, "body": "@\u0421\u0443\u0445\u043e\u043927: No, <code>\\\\$</code> is correct within a double-quoted string. The problem is that <code>$str = &quot;$2 * 2&quot;</code> sets <code>$str</code> to <code>&#39; * 2&#39;</code> because it interpolates the undefined <code>$2</code>. See my answer"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1475056636, "post_id": 39742372, "comment_id": 66784777, "body": "I&#39;ve told him to use qr//"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1475056758, "post_id": 39742372, "comment_id": 66784900, "body": "Why do you use <code>\\Q</code>? That&#39;s precisely the bit that breaks your regex..."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1475053907, "last_edit_date": 1475053907, "creation_date": 1475053170, "answer_id": 39742622, "question_id": 39742372, "link": "https://stackoverflow.com/questions/39742372/perl-match-regex-variable-q/39742622#39742622", "title": "Perl match regex variable \\Q", "body": "<p></p>\n\n<p>The <code>\\Q</code> and <code>\\E</code> pair can be used to escape all non-word characters within a double-quoted string context. For instance</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -E 'say \"abc[\\Q[..]\\E]def\"'\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>abc[\\[\\.\\.\\]]def\n</code></pre>\n\n<p>I wonder why you think you need it, as it prevents all regex metacharacters from having their special effect. For instance <code>\\Q[0-9]</code> will match exactly <code>[0-9]</code> instead of any single decimal digit</p>\n\n<p>I would write your code like this. Note that I have changed double quotes to <code>qr//</code> when defining the pattern to create a <em>compiled</em> regex, and to single quotes when defining the target string to avoid Perl trying to interpolate built-in variable <code>$2</code> into the string. You <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl program you write</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $regex = qr/\\$[0-9] [+*] [0-9]/;\nmy $str   = '$2 * 2';\n\nif ( $str =~ $regex ) {\n    print \"Expression found :)\\n\";\n}\nelse {\n    print \"Expression not found :(\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Expression found :)\n</code></pre>\n"}], "owner": {"reputation": 444, "user_id": 3674780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a609a53df33e12d3cc5bb8efdc07ccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Orange Peel", "link": "https://stackoverflow.com/users/3674780/orange-peel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1977, "favorite_count": 0, "accepted_answer_id": 39742622, "answer_count": 1, "score": 0, "last_activity_date": 1475053907, "creation_date": 1475052481, "last_edit_date": 1495540108, "question_id": 39742372, "link": "https://stackoverflow.com/questions/39742372/perl-match-regex-variable-q", "title": "Perl match regex variable \\Q", "body": "<p>I'm trying to match a regex in perl. The regex needs to be stored in a variable.</p>\n\n<p>From <a href=\"https://stackoverflow.com/a/4616417/3674780\">this question</a> I got <code>\\Q</code> to match regex in a variable.</p>\n\n<pre><code>$regex = \"\\\\$[0-9] (\\\\+|\\\\*) [0-9]\";\n$str = \"$2 * 2\";\n\nif ($str =~ /\\Q$regex/) {    # regex is: \\$[0-9] (\\+|\\*) [0-9]\n    print \"Expression found :)\\n\";\n} else {\n    print \"Expression not found :(\\n\";\n}\n</code></pre>\n\n<p>This matches fine in <a href=\"http://www.regexpal.com/\" rel=\"nofollow noreferrer\">regexpal</a>. It also works fine when I use the regex immediately without first putting it in <code>$regex</code> (i.e. without the <code>\\Q</code>). What is the <code>\\Q</code> doing to mess up my regex?</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "edited": false, "score": 1, "creation_date": 1475051711, "post_id": 39741916, "comment_id": 66781203, "body": "&quot;/$daterange/&quot; to &quot;^$daterange/&quot; ?"}, {"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1475051864, "post_id": 39741916, "comment_id": 66781308, "body": "^regex = amazing things.  Great resource in helping you <a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">regexr.com</a>"}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1475052432, "post_id": 39741916, "comment_id": 66781693, "body": "yeah, ^ only looks for a 2016 at the beginning of the filename right? somehow this lets me think about possible errors this could cause, cant find any though as long as namesyntax is the same. thank you"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475052635, "post_id": 39741916, "comment_id": 66781831, "body": "I&#39;m unclear why 2014 .. 2016 is &quot;an inaccurate range&quot;?"}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1475053243, "post_id": 39741916, "comment_id": 66782246, "body": "because the user wont (or atleast shouldnt) scan for such a huge amount of data. it is intented to scan for days or weeks, like 20160801 .. 20160901 and not for years, that was what I meant when I wrote &quot;inaccurate range&quot;, maybe its the wrong word to describe what I meant :)"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1475052506, "last_edit_date": 1475052506, "creation_date": 1475051861, "answer_id": 39742146, "question_id": 39741916, "link": "https://stackoverflow.com/questions/39741916/how-can-i-let-grep-scan-only-the-first-12-characters-in-filename/39742146#39742146", "title": "How can I let grep scan only the first 12 characters in filename?", "body": "<p>It sounds like you want to search only the first eight characters of each file name. That would look like this</p>\n\n<pre><code>my @files = grep { substr($_, 0, 8) =~ $daterange } readdir $dir_b;\n</code></pre>\n\n<p>I would prefer to use <code>readdir</code> in a <code>while</code> loop, like this</p>\n\n<pre><code>foreach $folder ( @folder ) {\n\n    my $curdir = \"$scriptdir\\\\$folder\";\n\n    opendir my $dh, $curdir or die qq{Unable to open directory \"$curdir\": $!};\n\n    while ( my $node = readdir $dh ) {\n\n        next if $node eq '.' or $node eq '..';\n        next unless substr($node, 0, 8) =~ $daterange;\n\n        my $fn = \"$curdir\\\\$node\";\n        next unless -f $fn;\n\n        # Do stuff with $fn\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 39742146, "answer_count": 1, "score": 0, "last_activity_date": 1475052588, "creation_date": 1475051137, "last_edit_date": 1475052588, "question_id": 39741916, "link": "https://stackoverflow.com/questions/39741916/how-can-i-let-grep-scan-only-the-first-12-characters-in-filename", "title": "How can I let grep scan only the first 12 characters in filename?", "body": "<p>I am trying to filter files by their filename.</p>\n\n<p>You are asked to input two dates, then my code goes through all files and writes all files fitting to the search parameters into an array.</p>\n\n<p>But if I input an inaccurate range like 2014 .. 2016, it happens that files that are not relevant to my search (as I want to grep only the first 8 characters as those represent a datestamp) like the first two files in <code>@files</code> are also filtered because they contain 2014, 2015 or 2016 elsewhere in their name.</p>\n\n<pre><code>@files = 20120830_600020143_1_Log.csv (wrong because year 2012)\n         20130830_600020161_1_Log.csv (wrong because year 2013)\n         20150830_600020162_1_Log.csv\n         20160830_600020121_1_Log.csv\n</code></pre>\n\n<p>How can I grep only the the first 12 characters of a filename?</p>\n\n<p>I thought of a mix with <code>substr</code> but couldn't get it to work.</p>\n\n<p>Here's the code I need to change. In this case <code>$daterange</code> is <code>\"2016\"</code></p>\n\n<pre><code>foreach $folder ( @folder ) {\n\n    $curdir = \"$scriptdir\\\\$folder\";\n\n    opendir my $dir_b, \"$curdir\" or die \"Can't open directory: $!\";\n    my @files = grep { /$daterange/ } readdir $dir_b;\n    closedir $dir_b;\n\n    foreach $files ( @files ) {\n        ...\n    }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1475047964, "post_id": 39740783, "comment_id": 66778882, "body": "Skip the leading spaces with <code>&#47;^\\s+(*SKIP)(*F)|\\s+&#47;</code>"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1475048260, "post_id": 39740783, "comment_id": 66779093, "body": "<code>$line =~ s&#47;^\\s+|\\s+$&#47;&#47;</code> trims whitespace from the left and right of a line. I use it a lot, saves from a lot of bugs."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1475050442, "post_id": 39740783, "comment_id": 66780410, "body": "You don&#39;t need to skip the leading whitespace at all, as that&#39;s default behaviour if you just <code>split &#39; &#39;</code> instead of <code>split &#47;\\s+&#47;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 60, "user_id": 6807022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kN3z5.png?s=128&g=1", "display_name": "V. Kookie", "link": "https://stackoverflow.com/users/6807022/v-kookie"}, "edited": false, "score": 0, "creation_date": 1475048391, "post_id": 39740846, "comment_id": 66779177, "body": "Sadly I don&#39;t have enough reputation in here."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1475048489, "post_id": 39740846, "comment_id": 66779236, "body": "This approach actually removes the leading whitespace, while <code>&#47;^\\s+(*SKIP)(*F)|\\s+&#47;</code> will keep them. Just choose whichever you need."}, {"owner": {"reputation": 60, "user_id": 6807022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kN3z5.png?s=128&g=1", "display_name": "V. Kookie", "link": "https://stackoverflow.com/users/6807022/v-kookie"}, "edited": false, "score": 0, "creation_date": 1475048966, "post_id": 39740846, "comment_id": 66779533, "body": "Thanks @Tim and Wiktor, both are working but for now I will use Tim&#39;s answer. Sure your (Wiktor) suggestion is correct and it also helps me gain another knowledge since I&#39;m new at using perl :)"}], "tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 1, "last_activity_date": 1475048527, "last_edit_date": 1475048527, "creation_date": 1475047920, "answer_id": 39740846, "question_id": 39740783, "link": "https://stackoverflow.com/questions/39740783/split-white-spaces-using-perl/39740846#39740846", "title": "split white spaces using perl", "body": "<p>Trim whitespace from the left of each line before splitting by space:</p>\n\n<pre><code>$line =~ s/^\\s+//;\nmy @line_splits = split /\\s+/, $line;\n</code></pre>\n\n<p>As usual, @Wiktor chimed in with this option which will retain the whitespace preceding numbers less than 100:</p>\n\n<pre><code>my @line_splits = split /^\\s+(*SKIP)(*F)|\\s+/, $line;\n</code></pre>\n\n<p>And in Perl 6 there will be a true <code>trim</code> function:</p>\n\n<pre><code>$line .= trim;\nmy @line_splits = split /\\s+/, $line;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1475049163, "creation_date": 1475049163, "answer_id": 39741265, "question_id": 39740783, "link": "https://stackoverflow.com/questions/39740783/split-white-spaces-using-perl/39741265#39741265", "title": "split white spaces using perl", "body": "<p>Another option would be to use a regex to extract the bits of the string that you're interested in (i.e. all the non-whitespace bits).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nwhile (&lt;DATA&gt;) {\n  my @line_splits = /(\\S+)/g;\n  say \"Time Stamp: $line_splits[1] $line_splits[2]\";\n}\n\n__DATA__\n  1 2016-09-27 14:07:20.084877\n  2 2016-09-27 14:07:20.084998\n  3 2016-09-27 14:07:20.131343\n  4 2016-09-27 14:07:20.131374\n  6 2016-09-27 14:07:20.137359\n  7 2016-09-27 14:07:20.137556\n  8 2016-09-27 14:07:20.137796\n  9 2016-09-27 14:07:20.437769\n 10 2016-09-27 14:07:20.437796\n100 2016-09-27 14:07:23.293661\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1475051588, "post_id": 39741617, "comment_id": 66781103, "body": "Gah. This is, of course, the best answer. I knew there was a better solution, but in my under-caffeinated state I just couldn&#39;t pull it out of my head."}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1475051837, "post_id": 39741617, "comment_id": 66781292, "body": "But what would happen if the OP had multiple spaces between each field?  Would the default split be able to handle this?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1475051866, "post_id": 39741617, "comment_id": 66781314, "body": "Yes. By default split is &#39;any whitespace&#39; omitting any leading. This is so because it&#39;s the same behaviour as <code>awk</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 9, "last_activity_date": 1475050265, "creation_date": 1475050265, "answer_id": 39741617, "question_id": 39740783, "link": "https://stackoverflow.com/questions/39740783/split-white-spaces-using-perl/39741617#39741617", "title": "split white spaces using perl", "body": "<p>Wow, lots of complicated answers, but the solution's really easy.</p>\n\n<p>Just use <code>split</code> without the <code>/\\s+/</code> regex.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\">default behaviour</a> - or what you get if you specify just <code>' '</code> to split - is that it ignores leading whitespace. But with <code>/\\s+/</code> it doesn't. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nwhile ( &lt;DATA&gt; ) {\n  chomp;\n  my @fields  = split;\n  print $fields[2],\"\\n\"\n}\n\n__DATA__\n  1 2016-09-27 14:07:20.084877\n  2 2016-09-27 14:07:20.084998\n  3 2016-09-27 14:07:20.131343\n  4 2016-09-27 14:07:20.131374\n  6 2016-09-27 14:07:20.137359\n  7 2016-09-27 14:07:20.137556\n  8 2016-09-27 14:07:20.137796\n  9 2016-09-27 14:07:20.437769\n 10 2016-09-27 14:07:20.437796\n100 2016-09-27 14:07:23.293661 \n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 6807022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kN3z5.png?s=128&g=1", "display_name": "V. Kookie", "link": "https://stackoverflow.com/users/6807022/v-kookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 0, "accepted_answer_id": 39741617, "answer_count": 3, "score": 2, "last_activity_date": 1564388771, "creation_date": 1475047755, "last_edit_date": 1475048620, "question_id": 39740783, "link": "https://stackoverflow.com/questions/39740783/split-white-spaces-using-perl", "title": "split white spaces using perl", "body": "<p>I have this line of code to split the white spaces in a text file:</p>\n\n<pre><code>my @line_splits = split /\\s+/, $ine;\n</code></pre>\n\n<p>And this is the few contents of the text file:</p>\n\n<pre><code>  1 2016-09-27 14:07:20.084877\n  2 2016-09-27 14:07:20.084998\n  3 2016-09-27 14:07:20.131343\n  4 2016-09-27 14:07:20.131374\n  6 2016-09-27 14:07:20.137359\n  7 2016-09-27 14:07:20.137556\n  8 2016-09-27 14:07:20.137796\n  9 2016-09-27 14:07:20.437769\n 10 2016-09-27 14:07:20.437796\n100 2016-09-27 14:07:23.293661 \n</code></pre>\n\n<p>My goal is to get the date and the time (which I knew is on $line_splits[1] and $line_splits[2]).</p>\n\n<p>But when I ran my perl script, the lines from 1 to 99 are wrong while on the 100th and up I've got what I've want.</p>\n\n<pre><code>Time Stamp: 98 2016-09-27               --&gt; line 98\nTime Stamp: 99 2016-09-27               --&gt; line 99\nTime Stamp: 2016-09-27 14:07:23.293661  --&gt; line 100\nTime Stamp: 2016-09-27 14:07:23.299406  --&gt; line 101\nTime Stamp: 2016-09-27 14:07:23.299437  --&gt; line 102\n</code></pre>\n\n<p>Can someone tell me if what is wrong with the regex or there is another way to do this?</p>\n\n<p>I don't know if it is already duplicated in here but any help will be very much appreciated.</p>\n\n<p>Thank you :)</p>\n"}, {"tags": ["perl", "ldap", "directory-structure"], "comments": [{"owner": {"reputation": 5616, "user_id": 2529954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ShWjR.jpg?s=128&g=1", "display_name": "EricLavault", "link": "https://stackoverflow.com/users/2529954/ericlavault"}, "edited": false, "score": 0, "creation_date": 1475048104, "post_id": 39740312, "comment_id": 66778970, "body": "What type of directory it is ? What does the provided username look like ?"}, {"owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "reply_to_user": {"reputation": 5616, "user_id": 2529954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ShWjR.jpg?s=128&g=1", "display_name": "EricLavault", "link": "https://stackoverflow.com/users/2529954/ericlavault"}, "edited": false, "score": 0, "creation_date": 1475059552, "post_id": 39740312, "comment_id": 66786881, "body": "I will retrieve user information. I do not know any other info. My question is whether I must ask this to customer or is there any way to see directory hierarchy of LDAP server"}, {"owner": {"reputation": 5616, "user_id": 2529954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ShWjR.jpg?s=128&g=1", "display_name": "EricLavault", "link": "https://stackoverflow.com/users/2529954/ericlavault"}, "edited": false, "score": 0, "creation_date": 1475065477, "post_id": 39740312, "comment_id": 66791024, "body": "It would be better for you to know what type of directory you have to work on especially if you are not comfortable with LDAP... you can guess it once you managed to read some entries though. Did you managed to bind and perform a search on it ?"}, {"owner": {"reputation": 5616, "user_id": 2529954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ShWjR.jpg?s=128&g=1", "display_name": "EricLavault", "link": "https://stackoverflow.com/users/2529954/ericlavault"}, "edited": false, "score": 0, "creation_date": 1475141077, "post_id": 39740312, "comment_id": 66827332, "body": "Don&#39;t post an answer to ask another question just update your question, or create a new one if it&#39;s not related. I&#39;m going to update my answer to clarify it, you need a valid base dn to perform search."}], "answers": [{"tags": [], "owner": {"reputation": 5616, "user_id": 2529954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ShWjR.jpg?s=128&g=1", "display_name": "EricLavault", "link": "https://stackoverflow.com/users/2529954/ericlavault"}, "is_accepted": false, "score": 0, "last_activity_date": 1475141690, "last_edit_date": 1475141690, "creation_date": 1475067839, "answer_id": 39748403, "question_id": 39740312, "link": "https://stackoverflow.com/questions/39740312/is-it-possible-displaying-ldap-folder-structure-with-perl/39748403#39748403", "title": "Is it possible displaying ldap folder structure with Perl?", "body": "<p>The structure you want to see is called the directory tree and is made of LDAP \"<strong>entries</strong>\" (not folders).</p>\n\n<p>You should be able to collect entries from your directory provided that the credentials you've been given are sufficient. For that you need a client library, you can use <a href=\"http://ldap.perl.org/\" rel=\"nofollow\">Perl LDAP</a>. </p>\n\n<p>Using that library you would do something like :</p>\n\n<pre><code>use Net::LDAP;\n\n# Init connection and bind to the directory. \n$ldap = Net::LDAP-&gt;new('ldaphost.example.com') or die \"$@\";\n$mesg = $ldap-&gt;bind ($binddn, password =&gt; $password);\n\n# Perform a search on the whole tree below (and including) the base object.\n$mesg = $ldap-&gt;search(base =&gt; $basedn); \n\n# Handle error\n$mesg-&gt;code &amp;&amp; die $mesg-&gt;error;\n\n# Display results\nforeach $entry ($mesg-&gt;entries) { $entry-&gt;dump; }\n\n$mesg = $ldap-&gt;unbind;\n</code></pre>\n\n<p>The code above just print entries to stdout ($entry->dump).</p>\n\n<ul>\n<li><code>$binddn</code> is the dn to authenticate with. If you've been given a simple username that is not a dn, like 'username' instead of something like <code>uid=username,dc=example,dc=com</code>, it would probably mean that you are dealing with Active Directory. In this case you can try to bind with a binddn that corresponds to the following pattern : <code>'username@example.com'</code>.</li>\n<li><code>basedn</code> is the dn of the base object entry, the search is performed on the whole tree below (and including) the base object. You will have to specify a valid base dn. </li>\n</ul>\n\n<p>You can try to guess which base dn to use. Domain components (dc) usually match the FQDN but it is not guaranteed it results in a valid base dn (e.g. <code>'ldaphost.example.com'</code> would give <code>'dc=example,dc=com'</code>). However you can query the server for rootDSE information and retrieve the <code>namingContexts</code> (or <code>defaultNamingContext</code> if any) and use one of them as the base dn :</p>\n\n<pre><code>$ldap-&gt;search(base =&gt; '', attrs =&gt; 'namingContexts');\n</code></pre>\n\n<p>That said, if you really want to display the directory tree, you have better to go with an LDAP explorer like <a href=\"http://directory.apache.org/studio/\" rel=\"nofollow\">Apache Directory Studio</a>. </p>\n\n<p>Note that LDAP is not limited to storing information in strict \"tree\" structures, it just have to respects a Directory Information Tree (DIT) nomenclature.</p>\n"}], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475141690, "creation_date": 1475046399, "question_id": 39740312, "link": "https://stackoverflow.com/questions/39740312/is-it-possible-displaying-ldap-folder-structure-with-perl", "title": "Is it possible displaying ldap folder structure with Perl?", "body": "<p>I will retrieve user informations from a LDAP server. Customer sent me following 3 data:</p>\n\n<ol>\n<li>LDAP Server IP </li>\n<li>Username to authenticate </li>\n<li>Password to authenticate</li>\n</ol>\n\n<p>This is the 1st time I am working with LDAP so I studied on it. I see that I must use some parameters like cn, dc, ou. Should not customer give this info either? Or customer's info is enough and can I find these parameters by a code displaying folder structure? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1475045570, "post_id": 39739952, "comment_id": 66777447, "body": "Because in first program You used opendir once then you are trying to read files from old $dh so it doesn&#39;t contains the latest information about file &amp; In second program it does."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 2, "creation_date": 1475055186, "post_id": 39739952, "comment_id": 66783632, "body": "Have a look at <a href=\"https://metacpan.org/pod/Filesys::Notify::Simple\" rel=\"nofollow noreferrer\">Filesys::Notify::Simple</a>."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1480583955, "last_edit_date": 1480583955, "creation_date": 1475046155, "answer_id": 39740229, "question_id": 39739952, "link": "https://stackoverflow.com/questions/39739952/perl-read-directory-until-a-file-is-there/39740229#39740229", "title": "Perl : Read directory until a file is there", "body": "<p>This is because after <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow noreferrer\">readdir</a> the directory handle reached the end of the filelist so there is nothing more to read the next time, even if a file is added in the meanwhile. This happens on the first read when the handle is used in the list context. </p>\n\n<p>You can add a call to <a href=\"http://perldoc.perl.org/functions/rewinddir.html\" rel=\"nofollow noreferrer\">rewinddir</a> to the loop, which moves the directory handle back to the beginning of the directory for the next <code>readdir</code>.</p>\n\n<p>Or, use <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">glob</a> and put the test right in the <code>until</code> condition</p>\n\n<pre><code>my $cond = qr(^[^\\.]); \n\nuntil (grep { $cond &amp;&amp; -f } glob \"$dir/*\") { \n    say \"no files\"; \n    sleep 1;\n}\n</code></pre>\n\n<p>This way the directory is re-read for every test. Since <code>glob</code> returns the path this simplifies things. </p>\n\n<p>It can also be shortened to</p>\n\n<pre><code>my @files;\n\nsleep 1 until @files = grep { $cond &amp;&amp; -f } glob \"$dir/*\";\n\nsay for @files;\n</code></pre>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 39740229, "answer_count": 1, "score": 1, "last_activity_date": 1480583955, "creation_date": 1475045326, "question_id": 39739952, "link": "https://stackoverflow.com/questions/39739952/perl-read-directory-until-a-file-is-there", "title": "Perl : Read directory until a file is there", "body": "<p>I am writing a simple program to check for existence of file in a directory. The file is created by some external program with no uniform time. So, I need to check for the existence of file in a loop as I need to process it as soon as it borns.</p>\n\n<p>This program runs continuously, even if the file has been created.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nmy $dir = \"/my/path\";\nopendir( my $dh, $dir ) || die \"can't opendir $dir: $!\";\nmy @files = grep { /^[^\\.]/ &amp;&amp; -f \"$dir/$_\" } readdir($dh);\nuntil (@files) {\n    print \"No files Found: Sleeping for a sec\\n\";\n    sleep(1);\n    @files = grep { /^[^\\.]/ &amp;&amp; -f \"$dir/$_\" } readdir($dh);\n}\nprint @files;\n</code></pre>\n\n<p>The below program worked as expected.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nmy $dir = \"/my/path\";\nopendir( my $dh, $dir ) || die \"can't opendir $dir: $!\";\nmy @files = grep { /^[^\\.]/ &amp;&amp; -f \"$dir/$_\" } readdir($dh);\nclosedir $dh;\nuntil (@files) {\n    opendir( my $dh, $dir ) || die \"can't opendir $dir: $!\";\n    print \"No files Found: Sleeping for a sec\\n\";\n    sleep(1);\n    @files = grep { /^[^\\.]/ &amp;&amp; -f \"$dir/$_\" } readdir($dh);\n    closedir $dh;\n}\n\nprint @files;\n</code></pre>\n\n<p>I want to know difference between both of these two approaches. Why the former one didn't work even though I am reading the directory every time in a loop. Why I need to open the directory every time in a loop to make it work?</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 2, "creation_date": 1475048709, "post_id": 39739528, "comment_id": 66779360, "body": "Wouldn&#39;t it be better to find out WHY the &#39;MySQL server has gone away&#39;? I found I sometimes have issues like this when my inserts are bigger than <code>max_allowed_packet</code> in the <code>my.cnf</code>."}], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 1001500, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/eCNDe.png?s=128&g=1", "display_name": "gfunk", "link": "https://stackoverflow.com/users/1001500/gfunk"}, "is_accepted": false, "score": 0, "last_activity_date": 1475893742, "creation_date": 1475893742, "answer_id": 39928102, "question_id": 39739528, "link": "https://stackoverflow.com/questions/39739528/migration-perl-dbi-script-leading-dbdmysqlst-execute-failed-mysql-server-ha/39928102#39928102", "title": "Migration perl dbi script leading DBD::mysql::st execute failed: MySQL server has gone away at", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\">eval</a> to catch errors:</p>\n\n<pre><code>$select = $dbh1-&gt;prepare(\"SELECT * FROM ADAP\");\n$insert = $dbh2-&gt;prepare(\"INSERT INTO ADAP VALUES (?,?,?,?,?,?,?)\");\n$select-&gt;execute;\nmy @row = $select-&gt;fetchrow_array();\nwhile(@row) {\n  eval { # suggest a fxn call, but you get it...\n    $insert-&gt;execute($row[0],$row[1],$row[2],$row[3],'NULL','N','N');\n    ++$rows2 if !$insert-&gt;err;\n  }; if($@) {\n    reconnect... etc...\n  }\n  eval {\n    @row = $select-&gt;fetchrow_array();\n  }; if($@) {\n    reconnect... etc...\n  }\n}\n</code></pre>\n\n<p>You should also batch your work:</p>\n\n<pre><code>SELECT * FROM ADP WHERE id &gt; __ ORDER BY id ASC LIMIT 1000; # assumed indexed...\nMAKE 1 single INSERT STATEMENT w/ the 1k rows to insert\nEXECUTE the insert statement\nrepeat next batch\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6012665, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f40bb4bcd1c48508b99a4198b5b0c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Wini", "link": "https://stackoverflow.com/users/6012665/wini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475893742, "creation_date": 1475044017, "last_edit_date": 1475044381, "question_id": 39739528, "link": "https://stackoverflow.com/questions/39739528/migration-perl-dbi-script-leading-dbdmysqlst-execute-failed-mysql-server-ha", "title": "Migration perl dbi script leading DBD::mysql::st execute failed: MySQL server has gone away at", "body": "<p>I have a migration script, where we are migrating the data from one db to another db.</p>\n\n<blockquote>\n  <p>my $dbh1 = DBI->connect($dsn1,$userid,$password, {mysql_enable_utf8 => 1} ) or die $DBI::errstr;<br>\n  my $dbh2 = DBI->connect($dsn2,$userid,$password, {mysql_enable_utf8 => 1} ) or  die $DBI::errstr;</p>\n</blockquote>\n\n<p>where migrating the data from dbh1 to dbh2. while running the script. we are getting error as : DBD::mysql::st execute failed: MySQL server has gone away at</p>\n\n<p>If connection is failed, we want to reconnect and continue our script. How can we handle it?</p>\n\n<blockquote>\n<pre><code>$select = $dbh1-&gt;prepare(\"SELECT * FROM ADAP\");\n$insert = $dbh2-&gt;prepare(\"INSERT INTO ADAP VALUES (?,?,?,?,?,?,?)\");\n$select-&gt;execute;\nwhile ( my ($ID,$STA,$UR,$TY) = $select-&gt;fetchrow_array ) {\n    $insert-&gt;execute($ID,$STA,$UR,$TY,'NULL','N','N');\n if(!$insert-&gt;err)\n {\n   $rows2+=1;\n }\n}\n$rows1 = $select-&gt;rows();\nprint \"\\n Total $rows2 copied out of $rows1 \\n\";\n$rows2=0;\n</code></pre>\n</blockquote>\n\n<p>while executing above loop, if disconnected, then we would reconnect and continue the loop. how can we achieve this?</p>\n"}, {"tags": ["excel", "perl", "hyperlink"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475072063, "post_id": 39738526, "comment_id": 66796311, "body": "How do you even do that in Excel by clicking around?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "edited": false, "score": 0, "creation_date": 1475054347, "post_id": 39739303, "comment_id": 66783032, "body": "Thank you so much Paddy Collins. I want to clarify a doubt here. As I see in the code that you have populated the columns using write_string method. But if I have say an array of these string how to use that to populate the columns ?"}, {"owner": {"reputation": 3264, "user_id": 829137, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ad7ffa9d3688048d577c869fecffb6da?s=128&d=identicon&r=PG", "display_name": "Patrick Collins", "link": "https://stackoverflow.com/users/829137/patrick-collins"}, "reply_to_user": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "edited": false, "score": 0, "creation_date": 1475076782, "post_id": 39739303, "comment_id": 66799800, "body": "Vivek, read the instructions for Excel::Writer:XLSX. There is a lot of details in there. Do a for loop, or use write_col() or write_row().  <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Writer/XLSX.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Write&zwnj;&#8203;r/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3264, "user_id": 829137, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ad7ffa9d3688048d577c869fecffb6da?s=128&d=identicon&r=PG", "display_name": "Patrick Collins", "link": "https://stackoverflow.com/users/829137/patrick-collins"}, "is_accepted": false, "score": 4, "last_activity_date": 1475045019, "last_edit_date": 1475045019, "creation_date": 1475043169, "answer_id": 39739303, "question_id": 39738526, "link": "https://stackoverflow.com/questions/39738526/link-excel-worksheets-using-perl/39739303#39739303", "title": "Link excel worksheets using perl", "body": "<p>Using Excel::Writer::XLSX you would use the <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Writer/XLSX.pm#write_url(_$row,_$col,_$url,_$format,_$label_)\" rel=\"nofollow\">write_url</a> followed by  <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Writer/XLSX.pm#write_formula(_$row,_$column,_$formula,_$format,_$value_)\" rel=\"nofollow\">write_formula</a> method. Here is an example:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Excel::Writer::XLSX;\nmy $workbook = Excel::Writer::XLSX-&gt;new( 'test.xlsx' );\nmy $worksheet1 = $workbook-&gt;add_worksheet('Worksheet1');\nmy $worksheet2 = $workbook-&gt;add_worksheet('Worksheet2');\n\n$worksheet2-&gt;write_string(0,0, 'Rules'); \n$worksheet2-&gt;write_string(1,0, 'R1');\n$worksheet2-&gt;write_string(2,0, 'R2');\n$worksheet2-&gt;write_string(3,0, 'R3');\n\nmy $format = $workbook-&gt;add_format( color =&gt; 'blue', underline =&gt; 1 );\n$worksheet1-&gt;write_url( 1,1,  'internal:Worksheet2!A2', $format);\n$worksheet1-&gt;write_formula( 1, 1, '=Worksheet2!A2' );\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1475045019, "creation_date": 1475039554, "question_id": 39738526, "link": "https://stackoverflow.com/questions/39738526/link-excel-worksheets-using-perl", "title": "Link excel worksheets using perl", "body": "<p>I am trying to write a perl script which links a cell value in say 1st worksheet to a value in 2nd worksheet using perl.\nI tried using the following modules which were available in perl :-</p>\n\n<ol>\n<li><p>Excel::Writer::XLSX</p></li>\n<li><p>Spreadsheet::WriteExcel</p></li>\n</ol>\n\n<p>Can anyone help me with a simple perl script that does this.</p>\n\n<p>Example :- </p>\n\n<p><strong>Worksheet1</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/DAykL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAykL.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Worksheet2</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/AefLY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AefLY.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, In the above example the Rules Column Items <strong>R1</strong>, <strong>R2</strong>, <strong>R3</strong> in Worksheet1 should be hyperlinks that takes us to Rules Column Items <strong>R1</strong>, <strong>R2</strong>, <strong>R3</strong> respectively when clicked.</p>\n\n<p>Can someone show me how it can be done using perl or atleast push me into the right direction on how to use the module <strong>Spreadsheet::WriteExcel</strong> or <strong>Excel::Writer::XLSX</strong> for this problem.</p>\n\n<p>Please help me out..!!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1475082923, "post_id": 39733314, "comment_id": 66803651, "body": "<code>system &quot;unbuffer user.pl&quot;;</code> (and possibly <code>$|=1;</code> in parent)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1475084870, "post_id": 39733314, "comment_id": 66804745, "body": "@ikegami Thanks for the suggestion, but unfortunately using <code>system &quot;unbuffer user.pl&quot;</code> seems to have some other problems. It displays the prompt correctly, but after typing the input and pressing enter it just hangs, and I have to terminate it with CTRL-C. (I had to install the <code>unbuffer</code> command first with <code>sudo apt-get install expect</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1475009829, "post_id": 39734134, "comment_id": 66766213, "body": "Nice solution, but in general the script <code>user.pl</code> cannot be modified. It must be taken as a black box."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1475009622, "creation_date": 1475009622, "answer_id": 39734134, "question_id": 39733314, "link": "https://stackoverflow.com/questions/39733314/how-to-capture-all-output-of-a-command-which-also-requires-user-input-from-termi/39734134#39734134", "title": "How to capture all output of a command which also requires user input from terminal?", "body": "<p>Write your input prompt directly to the tty.</p>\n\n<pre><code>open TTY, '&gt;', '/dev/tty';   # or 'con' in Windows\nprint TTY \"Enter URL:\";\nmy $ans = &lt;STDIN&gt;;\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1475051726, "post_id": 39736544, "comment_id": 66781212, "body": "@ikegami My answer does exactly what the OP wants. The OP wants to capture the child&#39;s output, while letting the user interact with the child process. As I explain, the problem is that because we use a tty, we have to handle reading the <code>stdin</code> on behalf of the child. Please read my answer carefully (the &#39;How to fix it&#39; part). I added a sentence for clarification. If you don&#39;t believe me, try it!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1475052976, "post_id": 39736544, "comment_id": 66782071, "body": "Thanks for the nice answer! I was not familiar with the capabilities of <code>IPC::Run</code>. I will have to study this in more detail before I can try to understand what is going on."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 3, "last_activity_date": 1475098952, "last_edit_date": 1475098952, "creation_date": 1475025241, "answer_id": 39736544, "question_id": 39733314, "link": "https://stackoverflow.com/questions/39733314/how-to-capture-all-output-of-a-command-which-also-requires-user-input-from-termi/39736544#39736544", "title": "How to capture all output of a command which also requires user input from terminal?", "body": "<p><strong>TL/DR</strong> There is a solution, it's somewhat ugly, but it works. There are some minor caveats.</p>\n\n<p><strong>What's going on?</strong> The problem is actually in <code>user.pl</code>. The sample <code>user.pl</code> that you provided works like this: It starts by printing the string <code>Enter URL:</code> to its <code>stdout</code>, it then flushes its <code>stdout</code> and it then reads a line from its <code>stdin</code>. The flushing of the <code>stdout</code> occurs automatically by perl: when you try do read from <code>stdin</code> with <code>&lt;..&gt;</code> (aka <code>readline</code>), perl flushes <code>stdout</code>. It does that precisely to make programs like this behave correctly. Unfortunately, it appears that perl only implements this behavior when <code>stdout</code> is a  tty (pseudo-terminal). If not, it does not flush <code>stdout</code> before reading from <code>stdin</code>. This is why the script works when you execute it in an interactive terminal session and it doesn't work correctly when you try to capture its output (because in that case its <code>stdout</code> is connected to a pipe).</p>\n\n<p><strong>How to fix this?</strong> Since <code>user.pl</code> misbehaves if its <code>stdout</code> is not a tty, we must use a tty. AFAIK, <a href=\"http://search.cpan.org/perldoc?IPC%3A%3ARun\" rel=\"nofollow\">IPC::Run</a> is the only perl module that can capture the output of a subprocess using a tty instead of a plain pipe. Unfortunately, when using a tty, <code>IPC::Run</code> does not allow us to redirect <code>stdout</code> only, it forces us to redirect <code>stdin</code> too. Because of that, we have to handle reading from <code>stdin</code> in the parent process on behalf of the child process (yikes!). Here's an example implementation of <code>p.pl</code> using <code>IPC::Run</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse IO::Handle;\nuse IPC::Run;\n\nmy $complete_output='';\nmy $in='';\nmy $out='';\nmy $h=IPC::Run::start ['./user.pl'],'&lt;pty&lt;',\\$in,'&gt;pty&gt;',\\$out;\nwhile ($h-&gt;pumpable) {\n    $h-&gt;pump;\n    print $out;\n    STDOUT-&gt;flush;\n    if ($out eq 'Enter URL: ') {\n        $in.=&lt;STDIN&gt;;\n    }\n    $complete_output.=$out;\n    $out='';\n}\n$h-&gt;finish;\n# do something with $complete_output here\n</code></pre>\n\n<p>So this is somewhat ugly. For example, we try do detect when the subprocess is waiting for user input (by looking for the string <code>Enter URL:</code>) and when it does, we read the user input in the parent process and then pass it to the child. Also notice that we have to implement the tee functionality ourselves since <code>IPC::Run</code> doesn't offer that.</p>\n\n<p>There are some caveats. The way we handle user input, if the subprocess uses something like the <code>readline</code> library to support line editing, this will not work, because we do all the reading in the parent process with a simple <code>&lt;STDIN&gt;</code>. Also, because a tty is used behind the scenes instead of a pipe, all user input will be echoed to <code>stdout</code>. So whatever the user types in prompt, we put it in <code>$in</code> to send it to the process and will get it back from the process (via the <code>$out</code> variable). But since our terminal has also echo, the text will appear twice. One solution is filter <code>$out</code> to remove the user input and to prevent us from printing it.</p>\n\n<p>Finally, this will not work on Windows.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 1, "accepted_answer_id": 39736544, "answer_count": 2, "score": 5, "last_activity_date": 1475098952, "creation_date": 1475006418, "last_edit_date": 1475008404, "question_id": 39733314, "link": "https://stackoverflow.com/questions/39733314/how-to-capture-all-output-of-a-command-which-also-requires-user-input-from-termi", "title": "How to capture all output of a command which also requires user input from terminal?", "body": "<p>I would like to capture all output (both <code>STDOUT</code> and <code>STDERR</code>) of a command that also requires user interaction from the terminal window, i.e. it reads <code>STDIN</code> and then prints something to <code>STDOUT</code>.</p>\n\n<p>Here is minimal version of the script I want to capture the output from:</p>\n\n<p><strong>user.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nprint \"Enter URL: \";\nmy $ans = &lt;STDIN&gt;;\n# do something based on $ans\nsay \"Verification code: AIwquj2VVkwlWEBwway\";\nsay \"Access Token: bskjZO8iZotv!\";\n</code></pre>\n\n<p>I tried using <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow\"><code>Capture::Tiny</code></a> :</p>\n\n<p><strong>p.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nuse Capture::Tiny qw(tee_merged);\n\nmy $output = tee_merged {\n    #STDOUT-&gt;autoflush(1);  # This does not work\n    system \"user.pl\";\n};\n\nif ( $output =~ /Access Token: (.*)$/ ) {\n    say $1;\n}\n</code></pre>\n\n<p>but it does not work, since the prompt is not displayed until after the user has entered the input in the terminal.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>It seems it works fine if I replace <code>user.pl</code> with a python script. For example:</p>\n\n<p><strong>user.py</strong>:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>#! /usr/bin/env python3\n\nans = input( 'Enter URL: ' )\n# do something based on $ans\nprint( 'Verification code: AIwquj2VVkwlWEBwway' )\nprint( 'Access Token: bskjZO8iZotv!' )\n</code></pre>\n"}, {"tags": ["perl", "perlbrew", "plenv"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1475038902, "post_id": 39732651, "comment_id": 66774406, "body": "You could always just install the Perl into <code>&quot;${PERLBREW_ROOT:-$HOME&#47;perl5&#47;perlbrew}&#47;perls&#47;$name&#47;&quot;</code> using your current method."}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1475042359, "post_id": 39732651, "comment_id": 66775770, "body": "That&#39;s true. And then I could still use <code>perlbrew</code> to manage them. But I&#39;d really prefer to also be able to install them using <code>plenv</code> or <code>perlbrew</code> as well. I can find how to pass options such as <code>-D usemymalloc</code> via perlbrew to <code>Configure</code> but I seem to be only able to set <code>dont_use_nlink</code> by using <code>Policy.sh</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1475042543, "post_id": 39732651, "comment_id": 66775862, "body": "<code>-D</code> is for cpp defines, so not the way. I thought <code>-A</code> might be the way, but I failed to figure out how if so."}], "answers": [{"comments": [{"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1475005467, "post_id": 39733046, "comment_id": 66763836, "body": "Hi, Bash on Ubuntu on Windows is a possibility of running native Linux applications on Windows. See <a href=\"https://msdn.microsoft.com/en-us/commandline/wsl/about\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/commandline/wsl/about</a> - while I appreciate that I can also run StrawberryPerl and use BerryBrew to manage the perls on Windows, in this case I really want to <i>also</i> run perl on Linux on Windows!"}], "tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": 1, "last_activity_date": 1475005361, "creation_date": 1475005361, "answer_id": 39733046, "question_id": 39732651, "link": "https://stackoverflow.com/questions/39732651/how-to-pass-compile-options-to-perl-using-plenv-or-perlbrew/39733046#39733046", "title": "How to pass compile options to perl using plenv or perlbrew", "body": "<p>I haven't looked at Windows 10 or the new bash shell for Windows, so I don't know how compatible that new Windows bash environment is with perlbrew or plenv.</p>\n\n<p>An alternative approach would be to leverage versions of portable <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry Perl</a>.  A while back, David Farrell wrote berrybrew to mimic perlbrew on Windows using portable Strawberry Perl rather than compiling Perl from source code.  He wrote a <a href=\"http://perltricks.com/article/119/2014/10/10/Hello-berrybrew--the-Strawberry-Perl-version-manager/\" rel=\"nofollow\">blog post</a> about it and put his stuff out on GitHub (<a href=\"https://github.com/dnmfarrell/berrybrew\" rel=\"nofollow\">berrybrew</a>).  Later, Steve Bertrand wanted to add more functionality and eventually ended up forking the project.  You can read more about it on his <a href=\"http://blogs.perl.org/users/steve_bertrand/2016/07/berrybrew-the-perlbrew-for-windows-rewritten-and-enhanced.html\" rel=\"nofollow\">blog post</a> and his forked project is out on GitHub (see <a href=\"https://github.com/stevieb9/berrybrew\" rel=\"nofollow\">here</a>).</p>\n\n<p>Unless you're needing/wanting to build Perl versions from source code, using berrybrew may provide you with the functionality that you're looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 1213, "user_id": 318944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eb3a87ab2951fb257e13ae104c4c8fb?s=128&d=identicon&r=PG", "display_name": "coffeetocode", "link": "https://stackoverflow.com/users/318944/coffeetocode"}, "is_accepted": true, "score": 1, "last_activity_date": 1483862116, "creation_date": 1483862116, "answer_id": 41530673, "question_id": 39732651, "link": "https://stackoverflow.com/questions/39732651/how-to-pass-compile-options-to-perl-using-plenv-or-perlbrew/41530673#41530673", "title": "How to pass compile options to perl using plenv or perlbrew", "body": "<p>Fortunately, it looks like the <a href=\"https://github.com/Microsoft/BashOnWindows/issues/910#issuecomment-265257588\" rel=\"nofollow noreferrer\">underlying issue in Win10 WSL is fixed</a>, and will be (hopefully) released soon.</p>\n\n<p>As MichielB pointed out, -A or -D seem like they should accomplish this, but it appears from some of my testing that perl's <a href=\"http://search.cpan.org/~mschilli/Perl-Configure-0.07/lib/Perl/Configure.pm\" rel=\"nofollow noreferrer\">Configure</a> doesn't honor <code>-A</code> or <code>-D</code> arguments when <code>-de</code> is also passed (see <a href=\"http://cpansearch.perl.org/src/JHI/metaconfig-for-Perl-5.8.0/U.check/U/all/Options.U\" rel=\"nofollow noreferrer\">\"usage\" in perl's metaconfig</a> for the significance of those args). Despite clearly seeing properly formed -A and -D flags in the args list of the generated config.sh, the dont_use_nlink never gets added.</p>\n\n<p>As it happens, perlbrew passes those as the defaults unless you use the <a href=\"https://github.com/gugod/App-perlbrew/blob/develop/perlbrew#L1547\" rel=\"nofollow noreferrer\">special <code>PERLBREW_CONFIGURE_FLAGS</code> environment variable</a>.</p>\n\n<p>However, there is a workaround. You can use <code>PERLBREW_CONFIGURE_FLAGS</code> to use <code>-f</code> to pass our own configuration file. We can use the mostly-correct config.sh generated by a failed \"perlbrew install\" run, then tweak it and pass it in.</p>\n\n<p>Steps:</p>\n\n<ol>\n<li>Run a perlbrew install that will fail, eg:</li>\n</ol>\n\n<p><code>perlbrew install perl-5.24.0\n</code></p>\n\n<ol start=\"2\">\n<li>Copy the generated config.sh file somewhere for modification and reuse:</li>\n</ol>\n\n<p><code>cp /home/USERNAME/perl5/perlbrew/build/perl-5.24.0/config.sh ~/config_dont_use_nlink.sh\n</code></p>\n\n<ol start=\"3\">\n<li>Edit the file to and insert <code>dont_use_nlink='define'</code>. If you're being tidy and filing it alphabetically, it'll go between dlsrc and doubleinfbytes:</li>\n</ol>\n\n<p><code>dlsrc='dl_dlopen.xs'\ndont_use_nlink='define'\ndoubleinfbytes='0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0x7f'</code></p>\n\n<ol start=\"4\">\n<li>Run perlbrew install, but set an environment variable that will cause \"-f\" to be passed through to the new perl's Configure script:</li>\n</ol>\n\n<p><code>PERLBREW_CONFIGURE_FLAGS=\"-de -f /home/USERNAME/config_dont_use_nlink.sh\" perlbrew install perl-5.24.0\n</code></p>\n\n<p>That compiles for me on a mostly-clean WSL on Win10 build 14393, and has nearly all tests pass (with the remainder looking like stuff with WSL bugs already filed). </p>\n"}], "owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 41530673, "answer_count": 2, "score": 5, "last_activity_date": 1483862116, "creation_date": 1475003906, "last_edit_date": 1475003970, "question_id": 39732651, "link": "https://stackoverflow.com/questions/39732651/how-to-pass-compile-options-to-perl-using-plenv-or-perlbrew", "title": "How to pass compile options to perl using plenv or perlbrew", "body": "<p>I have one machine that runs Windows 10 with Bash on Ubuntu on Windows. It uses some kind of FUSE filesystem that has no proper hard link support.</p>\n\n<p>Because of this, a typical <a href=\"https://github.com/Microsoft/BashOnWindows/issues/532\" rel=\"noreferrer\">perl compilation fails</a>. If I want to compile, I need to do:</p>\n\n<pre><code>echo \"dont_use_nlink='define'\" &gt;&gt; Policy.sh\n./Configure -des\nmake\nmake install\n</code></pre>\n\n<p>What I'd ideally want is to be able to use either <code>perlbrew</code> or <code>plenv</code> to manage my perls and pass the <code>dont_use_nlink</code> parameter to any perl I build. Is there any way to do this?</p>\n"}, {"tags": ["perl", "while-loop", "sleep"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1475003418, "post_id": 39732408, "comment_id": 66762741, "body": "From what you write I understand you want to call <code>df</code> without starting a process? Not possible. It&#39;s not the <code>while</code> and <code>sleep</code> that cause the processes, it are the backticks around <code>df | tail</code>. Btw. I <i>strongly</i> suggest you call <code>df -gP</code>. The <code>-P</code> guarantees a defined output <i>in one line</i>. Otherwise long filesystem and/or mountpoint names may wrap to a 2nd line."}, {"owner": {"reputation": 186, "user_id": 4356200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646c14b4b867d92d1174bc63de7f4c18?s=128&d=identicon&r=PG&f=1", "display_name": "zackse", "link": "https://stackoverflow.com/users/4356200/zackse"}, "edited": false, "score": 1, "creation_date": 1475003803, "post_id": 39732408, "comment_id": 66762955, "body": "If you really want to avoid starting an external process, you could use the <a href=\"http://search.cpan.org/~iguthrie/Filesys-Df-0.92/\" rel=\"nofollow noreferrer\">Filesys::Df</a> module from CPAN."}, {"owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "reply_to_user": {"reputation": 186, "user_id": 4356200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646c14b4b867d92d1174bc63de7f4c18?s=128&d=identicon&r=PG&f=1", "display_name": "zackse", "link": "https://stackoverflow.com/users/4356200/zackse"}, "edited": false, "score": 0, "creation_date": 1475009214, "post_id": 39732408, "comment_id": 66765885, "body": "@zackse , I can&#39;t use the Filesys::Df module or any other module. Is there any other way to do the thing I&#39;m trying to do ?"}, {"owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475009346, "post_id": 39732408, "comment_id": 66765954, "body": "@PerlDog , Can I kill the newly created process every time I&#39;m done getting the output in $result without disturbing the infinite loop?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1475010936, "post_id": 39732408, "comment_id": 66766736, "body": "If the code is exactly as you write, then the <code>df -gP | tail -1</code> process(es) (it&#39;s actually two processes) should only run for some millisecs and then they are gone. No need to kill them. <code>$result=`df...` </code> means: <i>run df until it&#39;s finished and store its output in <code>$result</code></i>. When your <code>$parts=...</code> line is reached, <code>df</code> has exited."}, {"owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475011098, "post_id": 39732408, "comment_id": 66766818, "body": "@PerlDog that&#39;s what I was expecting but I found 47 processes running in about 15-20 minutes.And had to kill each one of them to stop them from regenerating."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475011296, "post_id": 39732408, "comment_id": 66766904, "body": "Not from the code you show. But I don&#39;t know the <code>-g</code> switch. I assumed it returns sizes in GB, but my version of <code>df</code> (ubuntu 14.04) doesn&#39;t recognize it."}, {"owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475054049, "post_id": 39732408, "comment_id": 66782796, "body": "@PerlDog , updated the code with the sendMail sub. Any suggestions now?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475060566, "post_id": 39732408, "comment_id": 66787602, "body": "What are those 47 running processes? I don&#39;t see any error in your code."}, {"owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475062217, "post_id": 39732408, "comment_id": 66788738, "body": "@PerlDog updated the question with the output of ps. There you can see that a new proc. Is created every minute. And they keep on sending the mails until they are killed. Help ASAP please ...!!!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1475062910, "post_id": 39732408, "comment_id": 66789187, "body": "Please don&#39;t get pushy by writing <i>Help ASAP</i>. From your first description I thought you have many <code>df</code> processes.  Wrong. From your updated description I thought you have many <code>sendmail</code> processes. Also wrong. Given the perfect times your program is started (always at second :00) <b><i>I bet it gets started by <code>cron</code> every minute.</i></b>"}, {"owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475065723, "post_id": 39732408, "comment_id": 66791211, "body": "@PerlDog , it&#39;s fixed now. Thank you. Appreciated."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475065839, "post_id": 39732408, "comment_id": 66791301, "body": "Do you mind telling us what the error was?"}, {"owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "edited": false, "score": 0, "creation_date": 1475065996, "post_id": 39732408, "comment_id": 66791407, "body": "I used cron the day before to schedule it and it wasn&#39;t working that day. Then after a restart it started working again the next day, until then I completely forgot about the cron that I had scheduled. That&#39;s what was causing the problem."}], "owner": {"reputation": 11, "user_id": 6889069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1120987404616865/picture?type=large", "display_name": "Swapnil Chougule", "link": "https://stackoverflow.com/users/6889069/swapnil-chougule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475062147, "creation_date": 1475002859, "last_edit_date": 1475062147, "question_id": 39732408, "link": "https://stackoverflow.com/questions/39732408/perl-send-mail-inside-while-creating-new-process-on-unix-server", "title": "Perl : Send Mail inside while() creating new process on unix server", "body": "<p>I have to check the disk space in 3 file systems on a server every minute.\nBut whenever I execute this code a new process is created every minute along with the results. How can I avoid the creation of multiple processes in this case.</p>\n\n<p>Here's my code</p>\n\n<pre><code>my @dirList = ('/xyz', '/abc/pqr', '/lmn/pqr');\nmy @recipients = ('xyz@abc.com',  'pqr@abc.com');\nmy $from='xyz@mydomain.com';\nmy $subject='Low Disk Space';\n\nwhile(1) {\n\n    foreach $dir (@dirList) {\n        $result = `df -g $dir | tail -1`;\n\n        $parts = split(/\\s+/, $result);\n\n        $var1 = $parts[2];\n        $var2 = $parts[4];\n        chop($var2);\n\n        if(.....) {\n            my $out = \"xyz\u2026\";\n                   sendMail($out);            \n        }\n        elsif(.....) {\n            my $out = \"xyz\u2026\";\n                   sendMail($out);            \n        }\n\n    }\n\n    sleep(60);\n}\n\nsub sendMail {\n    my($out) = @_;\n\n    open(MAIL, \"|/usr/sbin/sendmail -t\");\n    print MAIL \"To: @ recipients \\n\";\n    print MAIL \"From: $from\\n\";\n    print MAIL \"Subject: $subject\\n\";\n    print MAIL $out;\n    close(MAIL);\n\n}\n\nProcesses:\n\nps -ef | grep -i diskspace\ndfnid05 59769038 55246914   0 05:45:49 pts/20  0:00 /usr/local/bin/perl -w ./diskSpaceMonitor.pl\ndfnid05 53411856  6553852   0 05:46:00      -  0:00 /usr/local/bin/perl / Swapnil/scripts/diskSpaceMonitor.pl\ndfnid05 54132874  6553852   0 05:47:00      -  0:00 /usr/local/bin/perl / Swapnil/scripts/diskSpaceMonitor.pl\ndfnid05 57081892  6553852   0 05:48:00      -  0:00 /usr/local/bin/perl / Swapnil/scripts/diskSpaceMonitor.pl\ndfnid05 59113718  6553852   0 05:49:00      -  0:00 /usr/local/bin/perl /Swapnil/scripts/diskSpaceMonitor.pl\n</code></pre>\n\n<p>Thanks in advance...!!!</p>\n"}, {"tags": ["perl", "docker"], "comments": [{"owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1475045034, "post_id": 39731364, "comment_id": 66777116, "body": "I&#39;v edited my post and added  my Dockerfile."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1475050502, "post_id": 39731364, "comment_id": 66780459, "body": "So <code>Starman</code> has some general issues with <code>Net::Server</code> <a href=\"https://github.com/miyagawa/Starman/issues/119\" rel=\"nofollow noreferrer\">github.com/miyagawa/Starman/issues/119</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1475065194, "post_id": 39731364, "comment_id": 66790821, "body": "Are <code>PearlBee</code> and <code>PearBee</code> supposed to be the same thing in your <code>RUN</code> and <code>WORKDIR</code> lines?"}, {"owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "edited": false, "score": 0, "creation_date": 1475081146, "post_id": 39731364, "comment_id": 66802671, "body": "Yes I edited to fix the typo."}], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1475080994, "creation_date": 1474999083, "last_edit_date": 1475080994, "question_id": 39731364, "link": "https://stackoverflow.com/questions/39731364/fail-to-install-starman-inside-docker-container", "title": "Fail to install Starman inside Docker container", "body": "<p>I'm trying to create a Docker container for an app with starman perl server</p>\n\n<p>So  my Dockerfile looks like this  :</p>\n\n<pre><code>FROM        perl:latest\nMAINTAINER  perl5 drd.trif@gmail.com\nRUN curl -L http://cpanmin.us | perl - App::cpanminus\n\n\nRUN cpanm  Carton Starman\n\n\nRUN cachebuster=b953b35 git clone -b pb_on_docker --single-branch https://github.com/DragosTrif/PearlBee.git\n\nRUN cd PearlBee &amp;&amp; carton install  &amp;&amp; carton install --deployment \nEXPOSE 8080\nWORKDIR PearlBee\n\nCMD carton exec starman --port 8080 bin/app.psgi\n</code></pre>\n\n<p>But it fails to install Starman</p>\n\n<p>I checked the <code>build.log</code>  and found this error :</p>\n\n<pre><code>2016/09/27-08:18:16 Starman::Server (type Net::Server::PreFork) starting! pid(13467)\nMissing port in hashref passed in port argument.\n2016/09/27-08:41:17 Starman::Server (type Net::Server::PreFork) starting! pid(13468)\nMissing port in hashref passed in port argument.\n</code></pre>\n\n<p>How can i fix this ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474999011, "post_id": 39729784, "comment_id": 66760243, "body": "<i>&quot;it only un-zipped the first folder&quot;</i> That&#39;s probably because <code>datapath</code> is a relative path. Your shell code doesn&#39;t seem to match your description of what is required. Please would you explain more clearly?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474999411, "post_id": 39729784, "comment_id": 66760450, "body": "Have you cribbed that shell code from elsewhere, or does it reflect what you&#39;re actually trying to do? Please give hard examples."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474999610, "post_id": 39729784, "comment_id": 66760556, "body": "@Borodin. In my case, all folders are *.zip and not *.gz. Also it doesn&#39;t preserve the name of the folder which is a must.  any other ideas? ...When  I execute the code above it unzips only the first folder and doesn&#39;t preserve the folder but dumps it&#39;s contents. thanks"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475000466, "post_id": 39729784, "comment_id": 66761048, "body": "I understand you have e.g. three zipfiles, <code>a.zip</code>, <code>b.zip</code>, and <code>c.zip</code> and you want to unzip them to the subdirectories (aka folders) <code>a</code>, <code>b</code>, and <code>c</code>, right? Show a bit of your directory structure. // Also: you try to run your shell script through perl (<code>my $cmd2 = `perl MDL_unzip_annotate.sh ...` </code>). That probably won&#39;t work."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475001242, "post_id": 39729784, "comment_id": 66761535, "body": "@Perl Dog. yes, that is correct! all three: a.zip, b.zip and c.zip are in &quot;/data/test_all_runs/test&quot;  folder and I don&#39;t need to move them, but only unzip them. Thanks"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475001476, "post_id": 39729784, "comment_id": 66761674, "body": "Thank you, that helps a lot. And you want to extract the content of &quot;/data/test_all_runs/test/a.zip&quot; to the (newly created) folder &quot;/data/test_all_runs/test/a&quot;? (and the same for b.zip, etc.)"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475001818, "post_id": 39729784, "comment_id": 66761859, "body": "Yes, that would be perfect! thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1475005797, "post_id": 39729784, "comment_id": 66764016, "body": "@user3781528: Please, for goodness sake, show the real directory structure. And please confirm that you have adopted the shell script; it makes a huge difference to your question."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475005966, "post_id": 39729784, "comment_id": 66764103, "body": "please clarify what you mean by &#39;real directory structure&#39;?  yes, I&#39;m running  Perl Dog&#39;s script."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475006629, "post_id": 39729784, "comment_id": 66764481, "body": "With &quot;real directory structure&quot; @Borodin means something like I put in <a href=\"http://stackoverflow.com/a/39732455/5830574\">my answer</a> in the <b>Before</b> and <b>After</b> section. With <i>real</i> filenames and directories, not something &quot;approximately&quot; or &quot;like&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475007293, "post_id": 39729784, "comment_id": 66764860, "body": "Please refer to where @PerlDog has posted that shell?"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475007333, "post_id": 39729784, "comment_id": 66764881, "body": "The original shell script posted in my question works, however, it doesn&#39;t preserve the zipped folder name. I&#39;m going to try to change the original shell  to preserve the original folder name. Perl Dog&#39;s script doesn&#39;t work for some reason. It sees the folder but can&#39;t open it. Why is this so difficult to get to work?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1475007797, "post_id": 39729784, "comment_id": 66765113, "body": "@user3781528: <b><i>&quot;No it&#39;s not mine but it works, however, it doesn&#39;t preserve the zipped folder name&quot;</i></b> So it works except when it doesn&#39;t? You&#39;ve picked up something from somewhere and thought you could change a few characters. That is a wonderful approach. I can&#39;t wait to read your novels!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475007967, "post_id": 39729784, "comment_id": 66765196, "body": "@user3781528: Again, please give me a reference to what you call &quot;Perl Dog&#39;s script&quot;"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475008110, "post_id": 39729784, "comment_id": 66765260, "body": "it unzips the folder and dumps the files into \\test_all_runs\\SN2-63-OFA_Val_5_Chip2. but the original folder is gone. My novels wouldn&#39;t be very good :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475008254, "post_id": 39729784, "comment_id": 66765336, "body": "@user3781528: <i>&quot;it unzips the folder and ...&quot;</i>. I&#39;m sorry, but what does all of this?"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475008331, "post_id": 39729784, "comment_id": 66765383, "body": "I&#39;m referring to the shell script posted in my question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1475008480, "post_id": 39729784, "comment_id": 66765469, "body": "@user3781528: You should start a new question, and clarify all of the things you&#39;ve been asked here. You should give real values for all of the variables, and something like <code>ls -R</code> to show the file structure that you&#39;re dealing with"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475008822, "post_id": 39729784, "comment_id": 66765682, "body": "This is is really confusing. I don&#39;t understand why your code doesn&#39;t work. The directory structure is correct. It even list the name of the zipped folder when I run your code. Yet, it throws an error message...I should probably think about this some more and post another question later. Thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1475009425, "post_id": 39729784, "comment_id": 66765999, "body": "@user3781528: <i>&quot;This is is really confusing&quot;</i> I&#39;m not surprised: you have the wrong expectation of what other programmers can do to help. You mustn&#39;t <i>ever</i> transplant someone else&#39;s code into your own without studying it, understanding why it works, and testing it so that it becomes your own. The rest of the world have made it as easy as they can, but in the end you need to write code to solve the problem that you&#39;re facing, and copy-pasting code and copying it back to Stack Overflow to ask for a fix will never get your system working."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475009729, "post_id": 39729784, "comment_id": 66766152, "body": "When you post another question (related to this one), please add the output of <code>find &#47;data&#47;test_all_runs -printf &#39;%M %p\\n&#39; | sort -k2</code>. It shows the files and directories below <code>&#47;data&#47;test_all_runs</code> together with their filemode. So everybody can see which is a directory and which is a file. I&#39;m suspicious that you confuse these terms."}], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475000104, "post_id": 39731587, "comment_id": 66760835, "body": "I don&#39;t think I have Archive:Extract. i have Perl 7. thanks"}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475000524, "post_id": 39731587, "comment_id": 66761088, "body": "What does <code>perl -v</code> say? I have a hard time believing you have perl 7. Most people use perl 5 and perl 6 is in use by some, but is a different language. By the way, you can test if you have Archive::Extract by typing <code>perl -MArchive::Extract -E &quot;say 1&quot;</code>. If you see 1 you have the module. I chose Archive::Extract because it was a &#39;core&#39; module for a long time and because you <i>probably</i> have it. But installing modules is also not difficult: <a href=\"http://learn.perl.org/modules/\" rel=\"nofollow noreferrer\">learn.perl.org/modules</a>"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475000680, "post_id": 39731587, "comment_id": 66761190, "body": "Sorry, I have perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi (with 29 registered patches, see perl -V for more detail)"}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475000760, "post_id": 39731587, "comment_id": 66761239, "body": "That means you typically would have the Archive::Extract module installed on your system."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475000803, "post_id": 39731587, "comment_id": 66761263, "body": "perl -MArchive::Extract -E &quot;say 1&quot; Can&#39;t locate Archive/Extract.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .)."}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475002448, "post_id": 39731587, "comment_id": 66762226, "body": "On what platform are you? <code>sudo yum install perl-core</code> on CentOS/RHEL/Fedora, <code>sudo apt-get install libarchive-extract-perl</code> on debian/ubuntu."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475002967, "post_id": 39731587, "comment_id": 66762514, "body": "just to make sure..your code will list all core modules, correct and it&#39;s safe?"}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475003071, "post_id": 39731587, "comment_id": 66762563, "body": "Yes, <code>perl-core</code> is the meta package that contains all core packages for perl on Red Hat and Fedora. Because on those platforms, the <code>perl</code> package only has a minimal set of modules. Installation is really not a problem."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475003796, "post_id": 39731587, "comment_id": 66762952, "body": "Usually you wouldn&#39;t trust someone from the internet who says &quot;Yes, install that, it&#39;s safe!&quot;. But in this case MichielB is right."}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1475004116, "post_id": 39731587, "comment_id": 66763114, "body": "Well, also I did not point to a dodgy executable on some strange website, but to just use the repositories and packages of the Linux they are already using."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1475004667, "post_id": 39731587, "comment_id": 66763391, "body": "Yes, @MichielB. It was absolutely not meant as an offense. That&#39;s why I&#39;m sure the OP can trust you here and install as you suggested."}], "tags": [], "owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "is_accepted": false, "score": 0, "last_activity_date": 1474999877, "creation_date": 1474999877, "answer_id": 39731587, "question_id": 39729784, "link": "https://stackoverflow.com/questions/39729784/unzip-folders-recursively-in-a-directory-preserving-the-folder-name/39731587#39731587", "title": "Unzip folders recursively in a directory (preserving the folder name)", "body": "<p>Use something like Archive::Extract. From the <a href=\"http://perldoc.perl.org/Archive/Extract.html\" rel=\"nofollow\" title=\"documentation\">documentation</a>:</p>\n\n<pre><code>use Archive::Extract;\n\n### build an Archive::Extract object ###\nmy $ae = Archive::Extract-&gt;new( archive =&gt; 'foo.tgz' );\n# but it works with zip as well!\n\n### extract to cwd() ###\nmy $ok = $ae-&gt;extract;\n\n### extract to /tmp ###\nmy $ok = $ae-&gt;extract( to =&gt; '/tmp' );\n\n### what if something went wrong?\nmy $ok = $ae-&gt;extract or die $ae-&gt;error;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475004729, "post_id": 39732455, "comment_id": 66763425, "body": "Then your situation (directory structure) is different from the assumption I made in the <b>Before</b> section."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475004797, "post_id": 39732455, "comment_id": 66763454, "body": "here is what i says: unzip:  cannot find or open /data/test_all_runs/SN2-63-OFA_Val_5_Chip2/analysis_MD-16-12&zwnj;&#8203;07_v1_ae0fb263-b95b-&zwnj;&#8203;4b53-a754-6b8b5c2ed6&zwnj;&#8203;08_unfiltered_result&zwnj;&#8203;s_2016-09-26, /data/test_all_runs/SN2-63-OFA_Val_5_Chip2/analysis_MD-16-12&zwnj;&#8203;07_v1_ae0fb263-b95b-&zwnj;&#8203;4b53-a754-6b8b5c2ed6&zwnj;&#8203;08_unfiltered_result&zwnj;&#8203;s_2016-09-26.zip or /data/test_all_runs/SN2-63-OFA_Val_5_Chip2/analysis_MD-16-12&zwnj;&#8203;07_v1_ae0fb263-b95b-&zwnj;&#8203;4b53-a754-6b8b5c2ed6&zwnj;&#8203;08_unfiltered_result&zwnj;&#8203;s_2016-09-26.ZIP."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475004840, "post_id": 39732455, "comment_id": 66763487, "body": "but I see that zip folder in the directory."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475004935, "post_id": 39732455, "comment_id": 66763541, "body": "Here is what I use to get the full path. <code>opendir my $dir, &quot;&#47;data&#47;test_all_runs&quot; or die &quot;Cannot open directory: $!&quot;;</code> <code>my @run_folder = readdir $dir;</code> <code>closedir $dir;</code>  <code>my $run_folder = pop @run_folder; print &quot;The folder</code> <code>is&quot;.$run_folder.&quot;\\n&quot;;</code>  <code>my $files = &quot;&#47;data&#47;test_all_runs&#47;&quot;.$run_folder;</code>"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475005010, "post_id": 39732455, "comment_id": 66763584, "body": "It prints out the  correct path. So the name of the main folder is not &quot;test&quot; but SN2-63-OFA_Val_5_Chip2."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475005214, "post_id": 39732455, "comment_id": 66763701, "body": "Then call <code>extract_zips_to_their_folders( &quot;&#47;data&#47;test_all_runs&#47;$run_folder&quot; );</code>."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475005537, "post_id": 39732455, "comment_id": 66763892, "body": "I get the same error. It sees the file but can&#39;t open in. The directory is ############# /data/test_all_runs/SN2-63-OFA_Val_5_Chip2 unzip:  cannot find or open /data/test_all_runs/SN2-63-OFA_Val_5_Chip2/analysis_MD-16-12&zwnj;&#8203;07_v1_ae0fb263-b95b-&zwnj;&#8203;4b53-a754-6b8b5c2ed6&zwnj;&#8203;08_unfiltered_result&zwnj;&#8203;s_2016-09-26, /data/test_all_runs/SN2-63-OFA_Val_5_Chip2/analysis_MD-16-12&zwnj;&#8203;07_v1_ae0fb263-b95b-&zwnj;&#8203;4b53-a754-6b8b5c2ed6&zwnj;&#8203;08_unfiltered_result&zwnj;&#8203;s_2016-09-26.zip or /data/test_all_runs/SN2-63-OFA_Val_5_Chip2/analysis_MD-16-12&zwnj;&#8203;07_v1_ae0fb263-b95b-&zwnj;&#8203;4b53-a754-6b8b5c2ed6&zwnj;&#8203;08_unfiltered_result&zwnj;&#8203;s_2016-09-26.ZIP."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475006243, "post_id": 39732455, "comment_id": 66764248, "body": "Sorry, but this currently turns into a chat where I should remotely analyse your filesystem contents. I don&#39;t see any error in my code. If it is given a directory that contains zipfiles, then it will unzip them to their respective directories. What happens when you open a terminal window and enter <code>unzip -l &#47;data&#47;test_all_runs&#47;SN2-63-OFA_Val_5_Chip2&#47;analysis_MD-16-12&zwnj;&#8203;\u200c\u200b07_v1_ae0fb263-b95&zwnj;&#8203;b-\u200c\u200b4b53-a754-6b8b5c&zwnj;&#8203;2ed6\u200c\u200b08_unfiltered_&zwnj;&#8203;result\u200c\u200bs_2016-09-26&zwnj;&#8203;.zip</code>?"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475006584, "post_id": 39732455, "comment_id": 66764449, "body": "it listed all 34 files in that folder"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475245425, "post_id": 39732455, "comment_id": 66880480, "body": "I figure out what the problem was, apparently the zip folder names were too long or perhaps there was some weird characters? When I truncated the folder names to 25 characters your code executed fine. Thanks for your help again."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1475247774, "post_id": 39732455, "comment_id": 66882036, "body": "Nice to hear that, but it&#39;s really astonishing that <code>unzip</code> doesn&#39;t complain and shows no error message. Actually I cannot believe that, but so be it."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 2, "last_activity_date": 1475003039, "creation_date": 1475003039, "answer_id": 39732455, "question_id": 39729784, "link": "https://stackoverflow.com/questions/39729784/unzip-folders-recursively-in-a-directory-preserving-the-folder-name/39732455#39732455", "title": "Unzip folders recursively in a directory (preserving the folder name)", "body": "<p>From the comments it got clear that you have some *.zip files in the directory <code>/data/test_all_runs/test</code> and you want them to be extracted to subdirectories with the zipfile's names below that directory. For example:</p>\n\n<p><strong>Before:</strong></p>\n\n<pre><code>/data/test_all_runs/test/a.zip\n/data/test_all_runs/test/b.zip\n</code></pre>\n\n<p><strong>After:</strong></p>\n\n<pre><code>/data/test_all_runs/test/a.zip\n/data/test_all_runs/test/a/file1_from_a.txt\n/data/test_all_runs/test/a/file2_from_a.txt\n/data/test_all_runs/test/a/file3_from_a.txt\n/data/test_all_runs/test/b.zip\n/data/test_all_runs/test/b/file1_from_b.txt\n/data/test_all_runs/test/b/file2_from_b.txt\n/data/test_all_runs/test/b/file3_from_b.txt\n</code></pre>\n\n<p>If I understood that right, the following code can help:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nsub extract_zips_to_their_folders\n{\n    my $source_dir = shift;\n\n    # iterate over all *.zip files in $source_dir:\n    while( my $zipfile = &lt;$source_dir/*.zip&gt; ) {\n\n        # remove '.zip' from $zipfile and store the result as $tgt_dir.\n        # If $zipfile is e.g. '/data/test_all_runs/test/a.zip',\n        # then $tgt_dir will be '/data/test_all_runs/test/a'.\n        (my $tgt_dir = $zipfile) =~ s/\\.zip$//;\n\n        # Call 'unzip' with option '-d $tgt_dir', i.e. unzip\n        # the archive to the directory with the same name.\n        # 'unzip' will create the directory for you.         \n        system(\"unzip $zipfile -d $tgt_dir\");\n    }\n}\n\nextract_zips_to_their_folders( '/data/test_all_runs/test' );\n</code></pre>\n\n<p>It calls the external command <code>unzip</code>. As noted in another answer, there are also Perl modules available to avoid such external calls.</p>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 687, "favorite_count": 0, "accepted_answer_id": 39732455, "answer_count": 2, "score": -1, "last_activity_date": 1475007077, "creation_date": 1474993511, "last_edit_date": 1475007077, "question_id": 39729784, "link": "https://stackoverflow.com/questions/39729784/unzip-folders-recursively-in-a-directory-preserving-the-folder-name", "title": "Unzip folders recursively in a directory (preserving the folder name)", "body": "<p>I'm looking for a way to unzip multiple folder (*.zip) in a specified directory and preserving the name of each folder. I would prefer this to be a part of a Perl script. Do I need to use shell? Please suggest a way to accomplish this.</p>\n\n<p>I've tried the following shell script that is called from the main Perl script:\nbut it only un-zipped the first folder and didn't preserve the folder name.</p>\n\n<pre><code>elif [[ \"$process\" == \"unzip\" ]];then\n        cd $datapath\n        folders=\"$(ls)\"\n        cd $home\n    for ff in $folders; do\n        sname=$ff\n                echo $sname\n        if [  ! -f $sname ];then\n                        cd $datapath\n                        cd $sname\n                        cmd2=\"unzip -n '*.zip'\"\n                        echo $cmd2\n                        cmd2=`unzip -n '*.zip'`\n                        echo $cmd2\n                        cmd3=\"gunzip -f *.gz\"\n                        echo $cmd3\n                        cmd3=`gunzip -f *.gz`\n                        echo $cmd3\n                        cd $home\n        fi\n    done\n</code></pre>\n\n<p>in Perl script I call:</p>\n\n<pre><code>my $cmd2 = `perl MDL_unzip_annotate.sh /data/test_all_runs unzip`;  print \"$cmd2\";\n\n**Before:**\n\\data\\test_all_runs\\SN2-63-OFA_Val_5_Chip2\\Test1.zip\n\\data\\test_all_runs\\SN2-63-OFA_Val_5_Chip2\\Test2.zip\n\n**After:**\n\\data\\test_all_runs\\SN2-63-OFA_Val_5_Chip2\\Test1\\text_stuff.txt\n\\data\\test_all_runs\\SN2-63-OFA_Val_5_Chip2\\Test2\\text-stuff2.txt\n</code></pre>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474992842, "post_id": 39729524, "comment_id": 66756551, "body": "&quot;the checked attribute usually doesn&#39;t have any value&quot; The value is optional for boolean HTML attributes. You can do either <code>checked=&quot;checked&quot;</code> or simply <code>checked</code>."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474993069, "post_id": 39729524, "comment_id": 66756717, "body": "You&#39;re not answering my question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474993260, "post_id": 39729524, "comment_id": 66756840, "body": "I&#39;m saying you can do <code>$h-&gt;attr ( checked =&gt; &#39;checked&#39; );</code> to get equivalent HTML to what you want."}], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "is_accepted": true, "score": 2, "last_activity_date": 1474994535, "last_edit_date": 1474994535, "creation_date": 1474994059, "answer_id": 39729953, "question_id": 39729524, "link": "https://stackoverflow.com/questions/39729524/how-to-create-an-html-attribute-without-a-value-using-htmlelement/39729953#39729953", "title": "How to create an HTML attribute without a value using HTML::Element", "body": "<p>EDIT: ThisSuitIsBlackNot has the correct solution above:</p>\n\n<pre><code>$h-&gt;attr ( checked =&gt; 'checked' );\n</code></pre>\n\n<p>that works.  If he adds it as an answer, I'll delete mine.  Not sure how one could derive that from the documentation, however...  If it is out there somewhere, I would love to have someone point me to it.</p>\n\n<p>OLD SOLUTION:\nNot a perfect solution, but I got it to work doing the following:</p>\n\n<pre><code>use HTML::Element;\nmy $h = HTML::Element-&gt;new ( 'input', 'checked' );\n\n$h-&gt;attr ( type =&gt; 'checkbox' );\n$h-&gt;attr ( name =&gt; 'field' );\n\nprint STDOUT $h-&gt;as_HTML, \"\\n\";\n</code></pre>\n\n<p>which produces this:</p>\n\n<pre><code>&lt;input checked name=\"field\" type=\"checkbox\" /&gt;\n</code></pre>\n\n<p>but there must be a better way of doing this....</p>\n\n<p>The CPAN documentation states the following:</p>\n\n<blockquote>\n  <p>Note that setting an attribute to undef (as opposed to \"\", the empty\n  string) actually deletes the attribute.</p>\n</blockquote>\n\n<p>which is the reason <code>$h-&gt;attr ('checked');</code> doesn't work, but there must be a way to add a non-value attribute after element creation.   It's just not obvious (at least to me) on how to do it.</p>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 39729953, "answer_count": 1, "score": 0, "last_activity_date": 1475075081, "creation_date": 1474992617, "last_edit_date": 1475075081, "question_id": 39729524, "link": "https://stackoverflow.com/questions/39729524/how-to-create-an-html-attribute-without-a-value-using-htmlelement", "title": "How to create an HTML attribute without a value using HTML::Element", "body": "<p>How can I create an HTML element with an attribute that lacks a value using <a href=\"https://metacpan.org/pod/HTML::Element\" rel=\"nofollow\">HTML::Element</a>?</p>\n\n<p>For example, the <code>checked</code> attribute usually doesn't have a value, like this:</p>\n\n<pre><code>&lt;input checked name=\"field\" type=\"checkbox\" /&gt;\n</code></pre>\n\n<p>The example below, however, gives us a <code>checked</code> attribute with an empty string as the value:</p>\n\n<pre><code>&lt;input checked=\"\" name=\"field\" type=\"checkbox\" /&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>use HTML::Element;\nmy $h = HTML::Element-&gt;new ( 'input' );\n\n$h-&gt;attr ( type =&gt; 'checkbox' );\n$h-&gt;attr ( name =&gt; 'field' );\n$h-&gt;attr ( checked =&gt; '' );\n\nprint STDOUT $h-&gt;as_HTML, \"\\n\";\n</code></pre>\n"}, {"tags": ["perl", "concatenation", "bioinformatics"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1474991365, "post_id": 39729055, "comment_id": 66755563, "body": "How large is the potential input?"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1474991463, "post_id": 39729055, "comment_id": 66755630, "body": "There is a lot wrong with the code as posted.  Off the top of my head: Reversed <code>#!</code> in the shebang, missing <code>;</code> after <code>chomp</code>, incorrect open statements (both of them).  Please fix your code, show what you&#39;re <i>actually</i> running, and maybe someone can help you."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1474991676, "post_id": 39729055, "comment_id": 66755761, "body": "If the file is relatively small, this can be done trivially in a 1-line regex: <code>$input =~ s&#47;\\s+&#47;&#47;g</code>"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1474991837, "post_id": 39729055, "comment_id": 66755859, "body": "...Or even, why use perl at all? Just do it in a 1-line shell command: <code>sed -r &#39;s&#47;\\s+&#47;&#47;g&#39; input.txt &gt; output.txt</code>"}], "answers": [{"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 3, "last_activity_date": 1474996563, "last_edit_date": 1474996563, "creation_date": 1474992379, "answer_id": 39729441, "question_id": 39729055, "link": "https://stackoverflow.com/questions/39729055/perl-to-remove-new-lines-from-input-file-and-write-to-output-file/39729441#39729441", "title": "Perl to remove new lines from input file and write to output file", "body": "<p>You can use a one line filter.</p>\n\n<p>Given:</p>\n\n<pre><code>$ cat /tmp/so.txt\nABCDEFGHIJKL\nXKGKASKGKD\nSGJKSKGS\n</code></pre>\n\n<p>Perl (using <code>-0777</code> to gulp the entire file):</p>\n\n<pre><code>$ perl -0777 -lpe 's/\\s+//g;' /tmp/so.txt &gt; /tmp/out.txt\n</code></pre>\n\n<p>Or, if you don't want to 'gulp':</p>\n\n<pre><code>$ perl -pe 's/\\s+//g' /tmp/so.txt &gt; /tmp/out.txt\n</code></pre>\n\n<p>Or <code>tr</code> if it is only newlines:</p>\n\n<pre><code>$ tr -d '\\n' &lt; /tmp/so.txt &gt; /tmp/out.txt\n</code></pre>\n\n<p>With any of those:</p>\n\n<pre><code>$ cat /tmp/out.txt\nABCDEFGHIJKLXKGKASKGKDSGJKSKGS\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474996807, "post_id": 39729553, "comment_id": 66758911, "body": "note that you should be using the 3-arg form of <code>open()</code>... <code>open my $OUTPUT, &#39;&gt;&#39;, $output or die $!</code> and <code>open my $INPUT, &#39;&lt;&#39;, $input or die $!;</code>"}], "tags": [], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "is_accepted": false, "score": 2, "last_activity_date": 1475001467, "last_edit_date": 1475001467, "creation_date": 1474992686, "answer_id": 39729553, "question_id": 39729055, "link": "https://stackoverflow.com/questions/39729055/perl-to-remove-new-lines-from-input-file-and-write-to-output-file/39729553#39729553", "title": "Perl to remove new lines from input file and write to output file", "body": "<p>So, it looks like you are missing your filehandles and I'm not sure what you are trying to accomplish with the if statement.  But here is some code that will take your input and give you the output you have above:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $input = $ARGV[0];\nmy $output = \"concatenated.txt\"; #Output sequence\n\n#Open output file\nopen (my $OUTPUT, '&gt;', $output) or die \"unable to open $output\";\n#Open input file\nopen (my $INPUT, '&lt;', $input) or die \"unable to open $input\";\n\nwhile (&lt;$INPUT&gt;) {\n    chomp;\n    $_ =~ s/\\s+//g;\n    print $OUTPUT $_;\n}\n\nclose $input;\nclose $output;\nprint \"Done!\\n\";\n</code></pre>\n\n<p>If you just want to remove the newlines and keep the rest of the whitespace, you can remove the <code>$_ =~ s/\\s+//g;</code> line.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6320360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865a234d0e895cabe36edcc3e5e48d83?s=128&d=identicon&r=PG&f=1", "display_name": "Suzie", "link": "https://stackoverflow.com/users/6320360/suzie"}, "is_accepted": false, "score": 1, "last_activity_date": 1475012169, "creation_date": 1475012169, "answer_id": 39734695, "question_id": 39729055, "link": "https://stackoverflow.com/questions/39729055/perl-to-remove-new-lines-from-input-file-and-write-to-output-file/39734695#39734695", "title": "Perl to remove new lines from input file and write to output file", "body": "<pre><code>perl -pe 'chomp' infile &gt; outfile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 1, "last_activity_date": 1475033673, "last_edit_date": 1475033673, "creation_date": 1475023845, "answer_id": 39736394, "question_id": 39729055, "link": "https://stackoverflow.com/questions/39729055/perl-to-remove-new-lines-from-input-file-and-write-to-output-file/39736394#39736394", "title": "Perl to remove new lines from input file and write to output file", "body": "<p>If I am guessing right :-) If your file looks like this with more than 1 sequence, you would need to keep newlines after the id line and the last line of the sequence.</p>\n\n<p>A perl 1 liner could be this:</p>\n\n<p><code>perl -0777 -pe 's/^[TAGC]+\\K\\n(?!&gt;)//gm' fasta.txt &gt; concatenated.txt</code></p>\n\n<p>The <code>-0777</code> says to slurp the whole file into one string.</p>\n\n<p>This substitution says to match all <code>[TAGC]</code> starting at the beginning of the line, (with <code>\\K</code>, keep everything before, don't erase). Then a newline <code>\\n</code> that is not followed by a <code>&gt;</code>, (beginning of the following line is id).</p>\n\n<p>This erases the new line provided it is a sequence line and not followed by a new id line. The <code>g</code> switch says to do this globally and the <code>m</code> switch allows the caret, <code>^</code>, to match at the beginning of a <em>line</em> rather than its usual behavior, matching at the beginning of the string.</p>\n\n<pre><code>&gt;NR_037701 1\nAGGAGCTATGAATATTAATGAAAGTGGTCCTGATGCATGCATATTAAACA\nTGCATCTTACATATGACACATGTTCACCTTGGGGTGGAGACTTAATATTT\nAAATATTGCAATCAGGCCCTATACATCAAAAGGTCTATTCAGGACATGAA\nGGCACTCAAGTATGCAATCTCTGTAAACCCGCTAGAACCAGTCATGGTCG\nGTGGGCTCCTTACCAGGAGAAAATTACCGAAATCACTCTTGTCCAATCAA\nAGCTGTAGTTATGGCTGGTGGAGTTCAGTTAGTCAGCATCTGGTGGAGCT\nGCAAGTGTTTTAGTATTGTTTATTTAGAGGCCAGTGCTTATTTAGCTGCT\nAGAGAAAAGGAAAACTTGTGGCAGTTAGAACATAGTTTATTCTTTTAAGT\nGTAGGGCTGCATGACTTAACCCTTGTTTGGCATGGCCTTAGGTCCTGTTT\nGTAATTTGGTATCTTGTTGCCACAAAGAGTGTGTTTGGTCAGTCTTATGA\nCCTCTATTTTGACATTAATGCTGGTTGGTTGTGTCTAAACCATAAAAGGG\nAGGGGAGTATAATGAGGTGTGTCTGACCTCTTGTCCTGTCATGGCTGGGA\nACTCAGTTTCTAAGGTTTTTCTGGGGTCCTCTTTGCCAAGAGCGTTTCTA\nTTCAGTTGGTGGAGGGGACTTAGGATTTTATTTTTAGTTTGCAGCCAGGG\nTCAGTACATTTCAGTCACCCCCGCCCAGCCCTCCTGATCCTCCTGTCATT\nCCTCACATCCTGTCATTGTCAGAGATTTTACAGATATAGAGCTGAATCAT\nTTCCTGCCATCTCTTTTAACACACAGGCCTCCCAGATCTTTCTAACCCAG\nGACCTACTTGGAAAGGCATGCTGGGTCTCTTCCACAGACTTTAAGCTCTC\nCCTACACCAGAATTTAGGTGAGTGCTTTGAGGACATGAAGCTATTCCTCC\nCACCACCAGTAGCCTTGGGCTGGCCCACGCCAACTGTGGAGCTGGAGCGG\nGAGGGAGGAGTACAGACATGGAATTTTAATTCTGTAATCCAGGGCTTCAG\nTTATGTACAACATCCATGCCATTTGATGATTCCACCACTCCTTTTCCATC\nTCCCAGAAGCCTGCTTTTTAATGCCCGCTTAATATTATCAGAGCCGAGCC\nTGGAATCAAACTGCCTCTTTCAAAACCTGCCACTATATCCTGGCTTTGTG\nACCTCAGCCAAGTTGCTTGACTATTCTCAGTCTCAGTTTCTGCACCTGTC\nAAATAGGGTTTATGTTAACCTAACTTTCAGGGCTGTCAGGATTAAATGAG\nCATGAACCACATAAAATGTTTGGTGTATAGTAAGTGTACAGTAAATACTT\nCCATTATCAGTCCCTGCAATTCTATTTTTCTTCCTTCTCTACACAGCCCC\nTGTCTGGCTTTAAAATGTCCTGCCCTGCTTTTTATGAGTGGATACCCCCA\nGCCCTATGTGGATTAGCAAGTTAAGTAATGACACTCAGAGACAGTTCCAT\nCTTTGTCCATAACTTGCTCTGTGATCCAGTGTGCATCACTCAAACAGACT\nATCTCTTTTCTCCTACAAAACAGACAGCTGCCTCTCAGATAATGTTGGGG\nGCATAGGAGGAATGGGAAGCCCGCTAAGAGAACAGAAGTCAAAAACAGTT\nGGGTTCTAGATGGGAGGAGGTGTGCGTGCACATGTATGTTTGTGTTTCAG\nGTCTTGGAATCTCAGCAGGTCAGTCACATTGCAGTGTGTCGCTTCACCTG\nGCTCCCTCTTTTAAAGATTTTCCTTCCCTCTTTCCAACTCCCTGGGTCCT\nGGATCCTCCAACAGTGTCAGGGTTAGATGCCTTTTATGGGCCACTTGCAT\nTAGTGTCCTGATAGAGGCTTAATCACTGCTCAGAAACTGCCTTCTGCCCA\nCTGGCAAAGGGAGGCAGGGGAAATACATGATTCTAATTAATGGTCCAGGC\nAGAGAGGACACTCAGAATTTCAGGACTGAAGAGTATACATGTGTGTGATG\nGTAAATGGGCAAAAATCATCCCTTGGCTTCTCATGCATAATGCATGGGCA\nCACAGACTCAAACCCTCTCTCACACACATACACATATACATTGTTATTCC\nACACACAAGGCATAATCCCAGTGTCCAGTGCACATGCATACACGCACACA\nTTCCCTTCCTAGGCCACTGTATTGCTTTCCTAGGGCATCTTCTTATAAGA\nCACCAGTCGTATAAGGAGCCCACCCCACTCATCTGAGCTTATCAACCAAT\nTACATTAGGAAAGACTGTATTTCCTAGTAAGGTCACATTCAGTAGTACTG\nAGGGTTGGGACTTCAACACAGCTTTTTGGGGGATCATAATTCAACCCATG\nACAGCCACTGAGATTATTATATCTCCAGAGAATAAATGTGTGGAGTTAAA\nAGGAAGATACATGTGGTACAAGGGGTGGTAAGGCAAGGGTAAAAGGGGAG\nGGAGGGGATTGAACTAGACACAGACACATGAGCAGGACTTTGGGGAGTGT\nGTTTTATATCTGTCAGATGCCTAGAACAGCACCTGAAATATGGGACTCAA\nTCATTTTAGTCCCCTTCTTTCTATAAGTGTGTGTGTGCGGATATGTGTGC\nTAGATGTTCTTGCTGTGTTAGGAGGTGATAAACATTTGTCCATGTTATAT\nAGGTGGAAAGGGTCAGACTACTAAATTGTGAAGACATCATCTGTCTGCAT\nTTATTGAGAATGTGAATATGAAACAAGCTGCAAGTATTCTATAAATGTTC\nACTGTTATTAGATATTGTATGTCTTTGTGTCCTTTTATTCATGAATTCTT\nGCACATTATGAAGAAAGAGTCCATGTGGTCAGTGTCTTACCCGGTGTAGG\nGTAAATGCACCTGATAGCAATAACTTAAGCACACCTTTATAATGACCCTA\nTATGGCAGATGCTCCTGAATGTGTGTTTCGAGCTAGAAAATCCGGGAGTG\nGCCAATCGGAGATTCGTTTCTTATCTATAATAGACATCTGAGCCCCTGGC\nCCATCCCATGAAACCCAGGCTGTAGAGAGGATTGAGGCCTTAAGTTTTGG\nGTTAAATGACAGTTGCCAGGTGTCGCTCATTAGGGAAAGGGGTTAAGTGA\nAAATGCTGTATAAACTGCATGATGTTTGCAGGCAGTTGTGGTTTTCCTGC\nCCAGCCTGCCACCACCGGGCCATGCGGATATGTTGTCCAGCCCAACACCA\nCAGGACCATTTCTGTATGTAAGACAATTCTATCCAGCCCGCCACCTCTGG\nACTCCCTCCCCTGTATGTAAGCCCTCAATAAAACCCCACGTCTCTTTTGC\nTGGCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAA\n&gt;NM_198399 1\nAACAGATTTTAACTCTGAAAAGCCATTTCCAGTGTCTATAGACTATTGTG\nAGCCTGGAGAAGTAGCATTTAGTTGGGATAGCTTCACTAGAGCTGCCTGC\nCAAAGACTTCCTTCCACAGGATCTTGTCGCACCAGCAACTGACAGGAGCT\nTGGGAGCTCGGGAGCTTGGGAGAGGGCTTATGTTTTTAATAATGTAGCTG\nTCAGTTCGAAGCCTGGAAATGTTGACCCTCAAAGGGCATAAAATCTTGTT\nATTTTAATTTGCATCTGGGAGAATGTCTGAGCAAGGAGACCTGAATCAGG\nCAATAGCAGAGGAAGGAGGGACTGAGCAGGAGACGGCCACTCCAGAGAAC\nGGCATTGTTAAATCAGAAAGTCTGGATGAAGAGGAGAAACTGGAACTGCA\nGAGGCGGCTGGAGGCTCAGAATCAAGAAAGAAGAAAATCCAAGTCAGGAG\nCAGGAAAAGGTAAACTGACTCGCAGCCTTGCTGTCTGTGAGGAATCTTCT\nGCCAGACCAGGAGGTGAAAGTCTTCAGGATCAGACTCTCTGAAAACTGCA\nAATGGAAAGGAATTCAAAAGAATTTAGATTAAAAGTTAAATAAAAAGTAG\nGCACAGTAGTGCTGAATTTTCCTCAAAGGCTCTCTTTTGATAAGGCTGAA\nCCAAATATAATCCCAAGTATCCTCTCTCCTTCCTTGTTGGAGATGTCTTA\nCCTCTCAGCTCCCCAAAATGCACTTGCCTATAAGAAACACAATTGCTGGT\nTCATATGAAACTTAGGAAATAGTGAATAAGGTGCATTTAACTTTGGAGAA\nATACTTTTATGGCTTTGGTGGAGATTTCTCAATACTGCAAAAGTTGTCCA\nGAAATGAATCTGAGCTGATGGTGACTTTAAGTTAATATTATTAATATATC\nACTGCATATTTTTACCCTTATTTTTGCTCCTTACAGCAAGATTAGTAGGT\nTATAAAAATTTAAATTTAAACAAAATTATTTCATGACAAAATGGGAAACT\nTCACATCATACTTATTTTTGTTTGCCTTTCAGGCATCATATTAGCTTTTA\nTAAAAAATGGTCTTGCTGCTGAAATTGTACTTATTTTATCAGAGGCTGGG\nTGCAGTCAAGACAAAAGTAAAATGGTTTACCTGAGCCCAGGGGAGGGAAA\nATTGATTAAGATATCATTATTTTTGTTTGGTTTGGTTTTGCTTTTTTCCT\nCTTACTTTAATTGAAATACTCTGAATTCCCCTCATGGAAACAGAGAGCAT\nTGAGAGCACTTTCTTTAAAAGGACCAAAAATAAATTCCTAATAGATTTTG\n</code></pre>\n\n<p><strong>Update</strong> If you need the solution in a script, then the following would produce the same results as the command line.</p>\n\n<p>The command line would be <code>perl yourscript.pl fasta.txt</code>\nNote that instead of explicitly opening 'fasta.txt', I used the empty filehandle, <code>&lt;&gt;</code>. That reads in the fasta file specified on the command line.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# Output sequence\nmy $output = \"concatenated.txt\";\n\nopen my $handle, '&gt;', $output or die \"unable to open $output\";\n\nmy $current = &lt;&gt;;\n\nwhile (my $next = &lt;&gt;) {\n\n    # if current line is seq characters (not a header)\n    # AND the next line isn't a header\n    if (substr($current, 0, 1) ne '&gt;' &amp;&amp; substr($next, 0, 1) ne '&gt;') {\n        chomp($current)\n    }\n\n    print $handle $current;\n    $current = $next;\n\n    # print last line if at the end of file\n    print $handle $current if eof;\n}\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 39736394, "answer_count": 4, "score": 0, "last_activity_date": 1475033673, "creation_date": 1474991259, "last_edit_date": 1474991704, "question_id": 39729055, "link": "https://stackoverflow.com/questions/39729055/perl-to-remove-new-lines-from-input-file-and-write-to-output-file", "title": "Perl to remove new lines from input file and write to output file", "body": "<p>My input is a file with a series of strings, something like this:<br>\nABCDEFGHIJKL<br>\nXKGKASKGKD<br>\nSGJKSKGS </p>\n\n<p>I want to remove the new lines and write the output to a new file: ABCDEFGHIJKLXKGKASKGKDSGJKSKGS</p>\n\n<p>So far I have this:</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\nmy $input = $ARGV[0];\nmy $output = \"concatenated.txt\"; #Output sequence\n#Open output file\nopen &gt;\"$output\"; or die \"unable to open $output\";\n#Open input file\nopen \"&lt;$input\" or die \"unable to open $input\";\n\nwhile (&lt;INPUT&gt;) {\n   if( /^[AGCT]/)\n   chomp;\n\nprint $output;\n}\n\nclose $input;\n\nclose $output;\n\n\nprint \"Done!\\n\";\n</code></pre>\n\n<p>But it doesn't work yet.<br>\nIs chomp enough to concatenate in this instance?<br>\nHow do I write what I have created to the output file?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474989359, "post_id": 39728295, "comment_id": 66754158, "body": "You formatted most of your question as a quote, and the actual question as code. Why? Please learn to use markdown properly."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1474989392, "post_id": 39728295, "comment_id": 66754181, "body": "You forgot to escape the curly brackets"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474991680, "post_id": 39728295, "comment_id": 66755767, "body": "@simbabque actually by mistake I have formatted wrongly .I will format properly."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474994186, "post_id": 39728341, "comment_id": 66757426, "body": "I have tried to replace s/NEW <i>\\{ *([02])</i> \\}/NEW{ 0x0$1}/; but its not happening. When I print its printing the entire line"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474994358, "post_id": 39728341, "comment_id": 66757522, "body": "Oops, my bad, I had misplaced a <code>*</code>. Can you try again?"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474995274, "post_id": 39728341, "comment_id": 66758035, "body": "still replacement is not happening what I want to do. Whichever places NEW is present in file it should be replaced with NEW {2}  my type --&gt; NEW {0x02}  my type"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474996078, "post_id": 39728341, "comment_id": 66758465, "body": "Well, my code does exactly that. Test the complete example I included in my answer."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 1, "last_activity_date": 1474996043, "last_edit_date": 1474996043, "creation_date": 1474989338, "answer_id": 39728341, "question_id": 39728295, "link": "https://stackoverflow.com/questions/39728295/matches-happen-but-replacement-not-happening/39728341#39728341", "title": "matches happen but replacement not happening", "body": "<p>There is no reason to use multiple substitutions you can do it with one. Try this</p>\n\n<pre><code>s/NEW *\\{ *([02])* \\}/NEW{ 0x0$1}/;\n</code></pre>\n\n<p>and you don't need the conditionals. So something like that should do it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    s/NEW *\\{ *([02]) *\\}/NEW{ 0x0$1}/;\n    # do something with $_ here, e.g.:\n    print $_;\n}\n\n__DATA__\n1.my_type   NEW{ 2} my type\n2.my_type   NEW{ 0} my type\n</code></pre>\n\n<p>Essentially, the substitution operator handles the conditionals for you. It will perform the substitution only if the regex matches.</p>\n"}, {"tags": [], "owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "is_accepted": false, "score": 0, "last_activity_date": 1474991457, "creation_date": 1474991457, "answer_id": 39729116, "question_id": 39728295, "link": "https://stackoverflow.com/questions/39728295/matches-happen-but-replacement-not-happening/39729116#39729116", "title": "matches happen but replacement not happening", "body": "<p>Your input</p>\n\n<pre><code>1.my_type   NEW{ 2} my type\n2.my_type   NEW{ 0} my type\n</code></pre>\n\n<p>does not match your test</p>\n\n<pre><code>if (/NEW\\s+[{2}]\\d+/)\nelsif (/NEW\\s+[{0}]\\d+/) \n</code></pre>\n\n<p>because the test requires at least one space between the <code>W</code> and the <code>{</code>, and disallows the space after the <code>{</code>.</p>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 39728341, "answer_count": 2, "score": 0, "last_activity_date": 1474996043, "creation_date": 1474989162, "last_edit_date": 1474995423, "question_id": 39728295, "link": "https://stackoverflow.com/questions/39728295/matches-happen-but-replacement-not-happening", "title": "matches happen but replacement not happening", "body": "<p>the line that I want to replace:</p>\n\n<pre><code>1.my_type   NEW{ 2}   my type\n2.my_type   TEST{ 0}  my type\n</code></pre>\n\n<p>my expected output:</p>\n\n<pre><code>1. my_type  NEW{ 0x02}  my type\n2. my_type  TEST{ 0x00} my type\n</code></pre>\n\n<p>I want to replace <code>NEW{2}</code> with <code>NEW{0x02}</code> and <code>NEW{0}</code> with <code>NEW{0x00}</code></p>\n\n<p>for all the occurrence it matches in a file</p>\n\n<p>my_code:</p>\n\n<pre><code>        while (&lt;DATA&gt;)\n        {\n        if (/NEW\\s+[{2}]\\d+/) \n            {\n           s/NEW{ 2}/NEW{ 0x02}/ ;\n            }\n        elsif (/NEW\\s+[{0}]\\d+/) \n            {\n           s/NEW{ 0}/NEW{ 0x00}/ ;\n            }\n        }\n</code></pre>\n\n<p>why the replacement is not happening..?</p>\n"}, {"tags": ["regex", "perl", "tcl", "tk"], "comments": [{"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474989238, "post_id": 39728019, "comment_id": 66754071, "body": "Hi @DaveCross, I am in very initial phase of TCL/perl scripting so that is why I need help to create this script. Please help me if you have any idea. I will really appreciate it. Thanks!"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1474995995, "post_id": 39728019, "comment_id": 66758423, "body": "Why are there &quot;x&quot; characters in the 2nd TDO line?"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1535551154, "post_id": 39728019, "comment_id": 91108542, "body": "Voting to close as too broad. Your account activity shows a history of questions asking for free work, sometimes repeatedly to the same contributor. It is possible you will hit into an automatic question ban soon, so please change course if you can."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1474991390, "creation_date": 1474991390, "answer_id": 39729090, "question_id": 39728019, "link": "https://stackoverflow.com/questions/39728019/how-to-create-tcl-or-perl-script-which-can-count-total-number-of-bits-and-if-the/39729090#39729090", "title": "How to create TCL or perl script which can count total number of bits and if there is a mismatch then script should add 0 for remaining bits", "body": "<p>I'm not going to give you code, because that's not really what Stack Overflow is for. But I'll talk you through how a programmer would think about this task.</p>\n\n<p>Programming is all about breaking a task down into smaller tasks. So what do we need to do here?</p>\n\n<ul>\n<li>Read your input a line at a time (Where does it come from? Is is a file? Is it piped into your program so you read it from STDIN?)</li>\n<li>Recognise the lines that you need to investigate. How do you recognise lines that contain binary numbers?</li>\n<li>For lines that you don't need to process, write them unchanged to your output (is that a file?)</li>\n<li>For lines that you need to process, how do you break the data apart into tokens that you can investigate?</li>\n<li>How do you measure the length of a binary number?</li>\n<li>What is the correct length for a binary number?</li>\n<li>How do you pad a binary number to the correct length?</li>\n</ul>\n\n<p>Think about the answers to these questions. If any question is too big to answer then think about breaking it down into smaller questions. Some of the questions you'll be able to answer by looking at the specification of your task. Some of them you'll need to get answers to by reading a programming language reference book.</p>\n\n<p>Try stuff out. When you have code that does something (even if it doesn't solve every part of the problem) come back here and update your question to include your code. Explain what works and what you're having problems with. Ask us explicit questions. And we will try to help you.</p>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 0, "last_activity_date": 1474996457, "creation_date": 1474996457, "answer_id": 39730662, "question_id": 39728019, "link": "https://stackoverflow.com/questions/39728019/how-to-create-tcl-or-perl-script-which-can-count-total-number-of-bits-and-if-the/39730662#39730662", "title": "How to create TCL or perl script which can count total number of bits and if there is a mismatch then script should add 0 for remaining bits", "body": "<p>Now that you've had a chance to advance, this is how I'd solve it:</p>\n\n<pre><code>set fh [open filename r]\nwhile {[gets $fh line] != -1} {\n    if {[regexp {(.* TDO\\s+: (\\d+)'b)([01]+)\\M} $line -&gt; prefix len bits]} {\n        set line [format \"%s%0*s\" $prefix $len $bits]\n    }\n    puts $line\n}\nclose $fh\n</code></pre>\n\n<p>See: </p>\n\n<ul>\n<li><a href=\"http://tcl.tk/man/tcl8.6/TclCmd/re_syntax.htm\" rel=\"nofollow\">http://tcl.tk/man/tcl8.6/TclCmd/re_syntax.htm</a></li>\n<li><a href=\"http://tcl.tk/man/tcl8.6/TclCmd/format.htm\" rel=\"nofollow\">http://tcl.tk/man/tcl8.6/TclCmd/format.htm</a></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 39730662, "answer_count": 2, "score": -2, "last_activity_date": 1535551009, "creation_date": 1474988423, "last_edit_date": 1535551009, "question_id": 39728019, "link": "https://stackoverflow.com/questions/39728019/how-to-create-tcl-or-perl-script-which-can-count-total-number-of-bits-and-if-the", "title": "How to create TCL or perl script which can count total number of bits and if there is a mismatch then script should add 0 for remaining bits", "body": "<p>I want to create one TCL or perl script which will compare number and total number of bit count and if there is mismatch then place 0's in the beginning:\nPartial contents of the file:</p>\n\n<pre><code>// DEBUG: TDO     : 16'b1\n// DEBUG: STEP #  : 3\n// DEBUG: TDI     : 35'b1011101001011110100000100100100\n// DEBUG: TDO     : 35'b0xx001011101001011110100000100100100\n// DEBUG: LOAD_DR ( 35 , 35'b1011101001011110100000100100100 ) ;\n// DEBUG: STEP  #  : 4\n// DEBUG: LOAD_NOP ( 2 ) ;\n// DEBUG: STEP #  : 5\n// DEBUG: TDI     : 8'b1011101001011110100000100100101\n// DEBUG: TDO     : 8'b100\n// DEBUG: LOAD_DR ( 35 , 35'b1011101001011110100000100100101 ) ;\n</code></pre>\n\n<p>Here, for some TDO , bits are incomplete.\nFor ex.:\n 8'b100, here there are only 3 bits but number is 8 so wherever this kind of scenario is there I need to place extra 0's at the beginning for remaining bits.For 8'b100 output should be 8'b<strong>00000</strong>100 and this script should replace this bit in the original file without affecting any other contents of the file:</p>\n\n<p>Partial contents of Expected output for 8'b100 after making required changes by the script</p>\n\n<pre><code>// DEBUG: STEP #  : 5\n// DEBUG: TDI     : 8'b1011101001011110100000100100101\n// DEBUG: TDO     : 8'b00000100\n</code></pre>\n\n<p>TCL script is preferable but Perl is also fine.</p>\n"}, {"tags": ["perl", "soap"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474989145, "post_id": 39727957, "comment_id": 66753995, "body": "How firm are you with Perl? Have you modified that apparently existing script yourself?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "edited": false, "score": 0, "creation_date": 1474990468, "post_id": 39728332, "comment_id": 66754972, "body": "Thanks for the input.  I tried as you suggest and when I print $date_string; It returns nothing."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "edited": false, "score": 0, "creation_date": 1474990878, "post_id": 39728332, "comment_id": 66755266, "body": "@John there was a <code>+</code> missing. Typo on my side, sorry."}, {"owner": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "edited": false, "score": 0, "creation_date": 1474991210, "post_id": 39728332, "comment_id": 66755480, "body": "Thanks simbabque.  Still no joy with the plus sign in there."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "edited": false, "score": 0, "creation_date": 1474991281, "post_id": 39728332, "comment_id": 66755518, "body": "@John it&#39;s typo-day for me today -.- I put a <code>}</code> instead of the <code>+</code>, then added the <code>+</code> and didn&#39;t remove the <code>}</code>... (facepalm)"}, {"owner": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "edited": false, "score": 0, "creation_date": 1474996476, "post_id": 39728332, "comment_id": 66758706, "body": "heck yeah!!! Thanks simbabque.  That did it.  Now to start working on the real program. :)  This was the start of a Nagios monitoring app I&#39;m creating."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "edited": false, "score": 0, "creation_date": 1474997883, "post_id": 39728332, "comment_id": 66759613, "body": "@john great. Pay attention to every character. They make a difference. :-)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1474991269, "last_edit_date": 1474991269, "creation_date": 1474989303, "answer_id": 39728332, "question_id": 39727957, "link": "https://stackoverflow.com/questions/39727957/perl-soap-request-retrieving-one-value/39728332#39728332", "title": "Perl soap request retrieving one value?", "body": "<p>The most pragmatic way would be to just take the raw result that contains the XML as a string, and parse it with a regular expression. All you want is a fixed pattern, so there is no need to actually use an XML parser (or the built-in stuff that SOAP::Lite brings).</p>\n\n<pre><code>$raw_data =~ m/Your subscription will expire: ([^&lt;]+)&lt;/;\nmy $date_string = $1;\n</code></pre>\n\n<p>Now you have <code>2017-09-29T21:18:20Z</code> inside of <code>$date_string</code> and can do with it what you want.</p>\n"}], "owner": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 39728332, "answer_count": 1, "score": 0, "last_activity_date": 1475776533, "creation_date": 1474988265, "last_edit_date": 1475776533, "question_id": 39727957, "link": "https://stackoverflow.com/questions/39727957/perl-soap-request-retrieving-one-value", "title": "Perl soap request retrieving one value?", "body": "<p>I have the following script that apparently this will not let me submit with more detail.  It basically is pulling basic scheduling details from a SOAP request into XML and i need to retrieve a value from it.:</p>\n\n<pre><code>#!perl\n#\n# Quick sample script to fetch data from Tribune's Data Direct Service\n#\n# R. Eden 2/23/08\n# (modified from XMLTV's tv_grab_na_dd, which started with a sample)\n# script provided by Tribune\n\nuse SOAP::Lite;\nuse strict;\n\nmy $USER='username';\nmy $PASS='password';\nmy $START='2016-09-27T00:00:00Z';\nmy $STOP ='2016-09-27T23:59:59Z';\n\n#\n# Set login credientials\n#\nsub SOAP::Transport::HTTP::Client::get_basic_credentials {\nreturn lc($USER) =&gt; \"$PASS\";\n}\n\n\n#\n# Deifne SOAP service\n#\nmy $dd_service='http://dd.schedulesdirect.org/tech/tmsdatadirect/schedulesdirect/tvDataDelivery.wsdl';\nmy $proxy='http://localhost/';\nmy $soap= SOAP::Lite\n       -&gt; service($dd_service)\n    -&gt; outputxml('true')\n    -&gt; proxy($proxy, options =&gt; {compress_threshold =&gt; 10000,\n                                 timeout            =&gt; 420});\n\n#\n# It's polite to set an agent string\n#\n$soap-&gt;transport-&gt;agent(\"perl/$0\");\n\n\n#\n# Now let's get our data\n#\nmy $raw_data=$soap-&gt;download($START,$STOP);\n\n\nprint $raw_data;\n\nexit 0;\n</code></pre>\n\n<hr>\n\n<p>It outputs:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'&gt;\n&lt;SOAP-ENV:Body&gt;&lt;ns1:downloadResponse SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns:ns1='urn:TMSWebServices'&gt;\n&lt;xtvdResponse xsi:type='ns1:xtvdResponse'&gt;\n\n&lt;messages xsi:type='ns1:messages'&gt;\n\n&lt;message&gt;Your subscription will expire: 2017-09-29T21:18:20Z&lt;/message&gt;\n\n&lt;/messages&gt;\n&lt;xtvd from='2016-09-27T00:00:00Z' to='2016-09-27T23:59:59Z' schemaVersion='1.3' xmlns='urn:TMSWebServices' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='urn:TMSWebServices http://dd.schedulesdirect.org/tech/xml/schemas/tmsxtvd.xsd'&gt;\n\n&lt;stations&gt;\n&lt;/stations&gt;\n&lt;lineups&gt;\n&lt;/lineups&gt;\n&lt;/xtvd&gt;\n&lt;/xtvdResponse&gt;\n&lt;/ns1:downloadResponse&gt;\n&lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt; [\n</code></pre>\n\n<hr>\n\n<p>I strictly want to date/time of the <code>&lt;message&gt;</code> part that says: </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;message&gt;Your subscription will expire: 2017-09-29T21:18:20Z&lt;/message&gt;\n</code></pre>\n\n<p>How do I do that?</p>\n"}, {"tags": ["perl", "stdout", "stdin", "filepath"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1474984953, "post_id": 39726682, "comment_id": 66750863, "body": "<code>open</code> doesn&#39;t create directories... Try <code>mkdir</code> instead, or if the parents of  the directory you want to create don&#39;t exists, then <code>make_path</code> function from <a href=\"http://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\"><code>File::Path</code></a>."}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1474986028, "post_id": 39726682, "comment_id": 66751636, "body": "@Dada thanks, used  &quot;use File::Path qw/make_path/;&quot;, works"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1474991573, "post_id": 39726682, "comment_id": 66755708, "body": "Why didn&#39;t you ask Perl to include the reason for <code>open</code>&#39;s failure in the error message?  <code>die &quot;Can&#39;t create OK folder: $!\\n&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1474985542, "post_id": 39726824, "comment_id": 66751304, "body": "but it does create files, it was easy to think it would also create folders. uhm, also thanks for correcting my post"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 3, "last_activity_date": 1474985068, "creation_date": 1474985068, "answer_id": 39726824, "question_id": 39726682, "link": "https://stackoverflow.com/questions/39726682/why-am-i-causing-the-or-die-when-trying-to-open-filehandle/39726824#39726824", "title": "Why am I causing the &quot;or die&quot; when trying to open Filehandle?", "body": "<p>No, <code>open</code> cannot create a nonexistent directory, on any platform, in any language I know.</p>\n"}, {"comments": [{"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1474985190, "post_id": 39726835, "comment_id": 66751016, "body": "sorry, thats just a Translation thingy as &quot;ordner&quot; in Germany means &quot;Folder&quot;. so thats not the problem"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 4, "creation_date": 1474985721, "post_id": 39726835, "comment_id": 66751425, "body": "@ZesaRex Please copy-and-paste the exact code you&#39;re using. Otherwise people waste their time hunting down bugs that don&#39;t exist in your actual code, and you have to waste time editing your question and responding to answers like this. There&#39;s no need to translate variable names to English; we can all read Perl."}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1474985891, "post_id": 39726835, "comment_id": 66751531, "body": "fine, will do so next time :)"}], "tags": [], "owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "is_accepted": false, "score": 1, "last_activity_date": 1474985106, "creation_date": 1474985106, "answer_id": 39726835, "question_id": 39726682, "link": "https://stackoverflow.com/questions/39726682/why-am-i-causing-the-or-die-when-trying-to-open-filehandle/39726835#39726835", "title": "Why am I causing the &quot;or die&quot; when trying to open Filehandle?", "body": "<p>The print statement refers to the <code>$folder</code> variable.</p>\n\n<p>But the open statement refers to a non-existing <code>$ordner</code> variable.</p>\n\n<p>Use <code>use strict; use warnings;</code> at the beginning of your script to easily find this kind of issues.</p>\n"}], "owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 39726824, "answer_count": 2, "score": 0, "last_activity_date": 1474987089, "creation_date": 1474984684, "last_edit_date": 1474987089, "question_id": 39726682, "link": "https://stackoverflow.com/questions/39726682/why-am-i-causing-the-or-die-when-trying-to-open-filehandle", "title": "Why am I causing the &quot;or die&quot; when trying to open Filehandle?", "body": "<p>Does anyone see the problem here? </p>\n\n<pre><code>use FindBin '$Bin';\n\n$scriptdir = $Bin;\n$folder= \"64521459\";\n$file = \"201608291350_60002015_1_Log-Minim.csv\";\n\nprint \"$scriptdir\\\\OK\\\\$folder\\\\$file\";\nopen (OKBLABLA, \"&gt;\", \"$scriptdir\\\\OK\\\\$folder\\\\$file\") or die \"Can't create OK folder\";\nprint OKBLABLA \"success\";\nclose OKBLABLA;\n</code></pre>\n\n<p>It seems like the <code>$folder</code> part is causing problems; when I remove it, it works - any idea why? Won't the script create a fresh directory by itself?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474979117, "post_id": 39724578, "comment_id": 66746535, "body": "The format of my.cnf doesn&#39;t really fit with any of the things that Config::Simple can read/write. I think you&#39;re out of luck unless you write your own compatibility layer."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1474979629, "post_id": 39724768, "comment_id": 66746891, "body": "I just started writing a monkey patch for Config::Simple. I guess I can stop. xD"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474979701, "post_id": 39724768, "comment_id": 66746944, "body": "@simbabque: Ha! :)"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 3, "last_activity_date": 1474979802, "last_edit_date": 1495540850, "creation_date": 1474979479, "answer_id": 39724768, "question_id": 39724578, "link": "https://stackoverflow.com/questions/39724578/using-configsimple-to-read-mysql-config-file-with-keys-without-values/39724768#39724768", "title": "Using Config::Simple to read MySQL config file with keys without values", "body": "<p>To extend <a href=\"https://stackoverflow.com/questions/39724578/perl-configsimple-how-to-read-files-with-keys-without-values/39724768#comment66746535_39724578\">simbabque's comment</a> I would suggest using <a href=\"https://metacpan.org/pod/Config::MySQL\" rel=\"nofollow noreferrer\">Config::MySQL</a> to deal with MySQL config files. </p>\n\n<blockquote>\n  <p>Config::MySQL extends Config::INI to support reading and writing\n  MySQL-style configuration files. Although deceptively similar to\n  standard .INI files, they can include bare boolean options <strong>with no\n  value assignment</strong> and additional features like !include and\n  !includedir.</p>\n</blockquote>\n"}], "owner": {"reputation": 425, "user_id": 5410879, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-Z4f9Zxu2mUE/AAAAAAAAAAI/AAAAAAAAD9s/-TdSeN8pmcI/photo.jpg?sz=128", "display_name": "Emil Rowland", "link": "https://stackoverflow.com/users/5410879/emil-rowland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 39724768, "answer_count": 1, "score": 2, "last_activity_date": 1474979802, "creation_date": 1474978959, "last_edit_date": 1474979627, "question_id": 39724578, "link": "https://stackoverflow.com/questions/39724578/using-configsimple-to-read-mysql-config-file-with-keys-without-values", "title": "Using Config::Simple to read MySQL config file with keys without values", "body": "<p>I try to configure my mySql config file with perl. \nI use config::simple for doing this.\nmy code is:</p>\n\n<pre><code>#!/bin/perl\nuse Config::Simple;\n\n$cfg = new Config::Simple('/etc/mysql/my.cnf');\n$cfg-&gt;param('bind-address', '192.168.1.11');\n$cfg-&gt;save();\n</code></pre>\n\n<p>the problem is that I get an error when a row only has a key and not an value to it. How do I fix this problem?</p>\n"}, {"tags": ["xml", "perl", "dom"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474972891, "post_id": 39722376, "comment_id": 66742458, "body": "Perl module names have two colons <code>::</code>, not one. Have you started working on this and are stuck, or do you not know how to start?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474973138, "post_id": 39722376, "comment_id": 66742649, "body": "What have you tried? What problems are you having? Please show us some code. Why do you think you have to use those specific modules?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474973520, "post_id": 39722376, "comment_id": 66742864, "body": "Your XML is not valid. It doesn&#39;t have a closing tag."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474973946, "post_id": 39722376, "comment_id": 66743113, "body": "Also, your is incomplete. It doesn&#39;t compile. Not even with <code>strict</code> turned off."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1474976061, "creation_date": 1474976061, "answer_id": 39723605, "question_id": 39722376, "link": "https://stackoverflow.com/questions/39722376/perl-xml-dom-xpath-insert-values-using-perl/39723605#39723605", "title": "Perl XML DOM XPATH : Insert Values Using Perl", "body": "<p>This will work. I managed to do that just by reading the documentation of XML::DOM.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::DOM;\n\nmy $parser = XML::DOM::Parser-&gt;new;\nmy $doc    = $parser-&gt;parse(*DATA);\n\n# the documentation of XML::DOM is extensive, but I'm not familiar with it,\n# so we just use good old Perl to find the right element\nmy ($badge_1020) = grep { $_-&gt;getFirstChild-&gt;getNodeValue eq '1020' ? $_ : () }\n    $doc-&gt;getElementsByTagName('BadgeID');\n\n# we need the parent to insert new nodes later\nmy $badges = $badge_1020-&gt;getParentNode;\n\nforeach my $value ( 1010, 1011 ) {\n    # create a new element based on our badge\n    my $node = $badge_1020-&gt;cloneNode(1);\n\n    # change the text\n    $node-&gt;getFirstChild-&gt;setNodeValue($value);\n\n    # put it into the Badges before the 1020 one\n    $badges-&gt;insertBefore( $node, $badge_1020 );\n}\n\nprint $doc-&gt;toString;\n\n__DATA__\n&lt;Badge-Lists&gt;\n                &lt;List&gt;\n                        &lt;Name&gt;Home&lt;/Name&gt;\n                        &lt;Badges&gt;\n                                        &lt;BadgeID&gt;1001&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;1008&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;1020&lt;/BadgeID&gt;\n                        &lt;/Badges&gt;\n                &lt;/List&gt;\n\n                &lt;List&gt;\n                        &lt;Name&gt;Office&lt;/Name&gt;\n                        &lt;Badges&gt;\n                                        &lt;BadgeID&gt;5001&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;5012&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;5040&lt;/BadgeID&gt;\n                        &lt;/Badges&gt;\n                &lt;/List&gt;\n&lt;/Badge-Lists&gt;\n</code></pre>\n\n<p>It will output:</p>\n\n<pre><code>&lt;Badge-Lists&gt;\n                &lt;List&gt;\n                        &lt;Name&gt;Home&lt;/Name&gt;\n                        &lt;Badges&gt;\n                                        &lt;BadgeID&gt;1001&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;1008&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;1010&lt;/BadgeID&gt;&lt;BadgeID&gt;1011&lt;/BadgeID&gt;&lt;BadgeID&gt;1020&lt;/BadgeID&gt;\n                        &lt;/Badges&gt;\n                &lt;/List&gt;\n\n                &lt;List&gt;\n                        &lt;Name&gt;Office&lt;/Name&gt;\n                        &lt;Badges&gt;\n                                        &lt;BadgeID&gt;5001&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;5012&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;5040&lt;/BadgeID&gt;\n                        &lt;/Badges&gt;\n                &lt;/List&gt;\n&lt;/Badge-Lists&gt;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 3234321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/329ef54a0563a45146f9d940b36e3f17?s=128&d=identicon&r=PG&f=1", "display_name": "MChiru", "link": "https://stackoverflow.com/users/3234321/mchiru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474976061, "creation_date": 1474972353, "last_edit_date": 1474974458, "question_id": 39722376, "link": "https://stackoverflow.com/questions/39722376/perl-xml-dom-xpath-insert-values-using-perl", "title": "Perl XML DOM XPATH : Insert Values Using Perl", "body": "<p>I'm new to Perl XML:DOM XML:XPath (Have to use these only.)\nHow to insert values to the following xml file:\nNeed to Insert 1010, 1011 before 1020 in BadgeID (Using only Perl DOM &amp; XPath) \nTried the following:</p>\n\n<pre><code>#!/usr/bin/perl\nuse XML::DOM;\nuse XML::XPath;\n\nmy $mainFile = \"badgelist.xml\";\n$xpmain = eval { XML::XPath-&gt;new( filename =&gt; $mainFile ); };\n\nmy $root = $main-&gt;getDocumentElement(); \n    my @list = $root-&gt;getElementsByTagName('Name');\n    foreach my $key ( @list ) {\n        if( $key-&gt;getFirstChild-&gt;getData eq 'Home' ) {\n\n           $root-&gt;insertBefore($newparam, $genericMap);\n           # Insert 1005, 1006 and 1007 before 1008\n\n        }\n    }\n\n\n\n&lt;Badge-Lists&gt;\n                &lt;List&gt;\n                        &lt;Name&gt;Home&lt;/Name&gt;\n                        &lt;Badges&gt;\n                                        &lt;BadgeID&gt;1001&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;1008&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;1020&lt;/BadgeID&gt;\n                        &lt;/Badges&gt;\n                &lt;/List&gt; \n\n                &lt;List&gt;\n                        &lt;Name&gt;Office&lt;/Name&gt;\n                        &lt;Badges&gt;\n                                        &lt;BadgeID&gt;5001&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;5012&lt;/BadgeID&gt;\n                                        &lt;BadgeID&gt;5040&lt;/BadgeID&gt;\n                        &lt;/Badges&gt;\n                &lt;/List&gt;                 \n&lt;/Badge-Lists&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474971481, "post_id": 39721606, "comment_id": 66741521, "body": "Use <code>split</code> to parse the line, take the second field unless it&#39;s a <code>{</code>, in which case you can take the next three if you need them (and strip the comma). Then parse the numbers."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474975612, "post_id": 39721606, "comment_id": 66744189, "body": "@Borodin comments are not clear to me.please explain with some code.Thanks"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474980855, "post_id": 39721606, "comment_id": 66747828, "body": "I was waiting for the solutions is my question is clear ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474999769, "post_id": 39721606, "comment_id": 66760660, "body": "I&#39;ll take that comment to be merely clumsy, other than offensive as it may sound.   I understand you are expecting full solutions. However I didn&#39;t have time but still wanted to offer something that could be useful.  My comment should be of possibly good use if you&#39;ve written all that posted code yourself."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474999412, "post_id": 39730786, "comment_id": 66760452, "body": "I have given three variable through @ARGV because in some case I want to change the input parameter(passing through command line) so I will be passing parameter type, old value and replace value so my code  first while loop is for reading through entire file by line by line. And second while loop is for extracting hex value."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 1, "creation_date": 1474999560, "post_id": 39730786, "comment_id": 66760525, "body": "@Abhishek: Please take your time and be more careful. It is very clear when someone has spent some effort on writing a question"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474999655, "post_id": 39730786, "comment_id": 66760586, "body": "yes..I am beginner in Perl scripting  and made many mistake while asking question in stack overflow..in future I will take care by doing this kind of mistake."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474999984, "post_id": 39730786, "comment_id": 66760790, "body": "want to understand 1.my $data = join &#39;,&#39;, map &quot;0x$_&quot;, map { unpack &#39;(A2)*&#39; } @data; 2. p{hex}+"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1475004365, "post_id": 39730786, "comment_id": 66763240, "body": "@Abhishek Work from right to left and use <a href=\"http://perldoc.perl.org\" rel=\"nofollow noreferrer\">perldoc</a> as a reference if you don&#39;t understand what one of the builtins does."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1475006189, "post_id": 39730786, "comment_id": 66764221, "body": "@Abhishek: It was my intention that you would want to understand my code. You were asking far too much from other people instead of trying something for yourself. There are many ways of solving your problem, and mine is only one."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1475006544, "post_id": 39730786, "comment_id": 66764419, "body": "@Abhishek: If this is a problem at work then you must say that you can&#39;t solve it. We offer <b><i>help</i></b> at Stack Overflow: we don&#39;t do other people&#39;s work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 1, "creation_date": 1475006845, "post_id": 39730786, "comment_id": 66764620, "body": "@Abhishek: <b><i>&quot;I am beginner in Perl scripting and made many mistake while asking question in stack overflow..in future I will take care by doing this kind of mistake&quot;</i></b> You should start now. It doesn&#39;t look like you have spent more than ten minutes on your question. I have edited it but it is still a poor question, which is why you have no good answers."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1475264913, "post_id": 39730786, "comment_id": 66890872, "body": "@Borodin  in this regex my ($f2) = / \\S \\s+ ( \\{ [^{}]+ \\} | \\S+ ) /x;  I want to extract the value &quot;0&quot; from this line &quot;meas_num PQRS_TN_CFG { 0}    meas_num&quot; but its showing uninitialized value at $f2.."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1475265276, "post_id": 39730786, "comment_id": 66891018, "body": "@Borodin I am debugging for  past two day but I could not figure out  why I am not able to extract &quot;0&quot; from this line &quot;meas_num PQRS_TN_CFG { 0} meas_num&quot;  please help me."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1474996951, "last_edit_date": 1495535414, "creation_date": 1474996951, "answer_id": 39730786, "question_id": 39721606, "link": "https://stackoverflow.com/questions/39721606/trouble-extracting-specific-information-from-log-file/39730786#39730786", "title": "Trouble extracting specific information from log file", "body": "<p></p>\n\n<p><em>\"I was waiting for the solutions\"</em></p>\n\n<p>You urgently need to read and absorb <a href=\"https://stackoverflow.com/questions/how-to-ask\"><strong><em>How to ask</em></strong></a></p>\n\n<p>I don't understand why you have the three variables that you pull from <code>@ARGV</code> which you use to make substitutions in each line of input</p>\n\n<p>Also, your code copies each modified line to the output file, but it doesn't appear in your \"expected output\"</p>\n\n<p>You need to do more than finding some code on line that looks like it may work, and then hacking it a bit and putting it on Stack Overflow for others to finish for you. You have instantly lost many people's respect, and you may well struggle to get answers to further questions</p>\n\n<p>This program does what you say you want</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy ( $infile, $outfile ) = qw/ input.txt output.txt /;\n\nopen my $fh, '&lt;', $infile  or die $!;\n\nmy @data;\n\nwhile ( &lt;$fh&gt; ) {\n\n    my ($f2) = / \\S \\s+ ( \\{ [^{}]+ \\} | \\S+ ) /x;\n\n    while ( $f2 =~ / 0x ( \\p{hex}+ ) | ( [+-]?\\d+ ) /xg ) {\n        push @data, $1 // sprintf '%04X', $2 &amp; 0xFFFF;\n    }\n}\n\n{\n    my $data = join ',', map \"0x$_\", map { unpack '(A2)*' } @data;\n\n    open my $fh, '&gt;', $outfile or die $!;\n    print $fh $data, \"\\n\";\n    close $fh;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>0x27,0x89,0x14,0x05,0x0B,0x00,0x00,0x00,0xFF,0x8C,0x01,0x00,0x00,0xFF,0x9B,0x00,0x00,0x00,0x36,0x01,0x00,0x00,0x00,0x07\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 39730786, "answer_count": 1, "score": 2, "last_activity_date": 1474996951, "creation_date": 1474970111, "last_edit_date": 1474972096, "question_id": 39721606, "link": "https://stackoverflow.com/questions/39721606/trouble-extracting-specific-information-from-log-file", "title": "Trouble extracting specific information from log file", "body": "<p>I have the log file here I want to extract the following information</p>\n\n<ol>\n<li>Want to extract hex value.</li>\n<li>Want to extract the decimal value if the line has second bracket{0-9} first convert to hex then extract(9-->0x09)</li>\n<li><p>Want to extract minus value(-25) first convert to hex then extract </p>\n\n<p>e.g.-25-->FFE7--> want to extract -->0xFF,0XE7</p></li>\n<li><p>If the value is 0x2789 then split and join 0x(2789--> 0x27,0x89)</p></li>\n</ol>\n\n<h3>my_input_data</h3>\n\n<pre><code>     my_info    0x2789  Uint16, unsigned short      \n     param_id   0x14    Uint8,unsigned char     \n     cell_id    0x05    Uint8,unsigned char     \n     Indicator  0x0B    Uint8,unsigned char     \n     filler1{3} { 0x00, 0x00, 0x00 }    Uint8,unsigned char     \n     rscp_tap   -116    Sint8,signed char       \n     filler2{3} { 0x01, 0x00, 0x00 }    Uint8,unsigned char     \n     dsp    -101    Sint8,signed char       \n     filler3{3} { 0x00, 0x00, 0x00 }    Uint8,unsigned char     \n     system_fm_number   0x3601  Uint16, unsigned short      \n     filler4{2} { 0x00, 0x00 }  Uint8,unsigned char \n     dsp_input      {7}\n</code></pre>\n\n<h3>my expected output:</h3>\n\n<pre><code>    0x27,0x89,0x14,0x05,0x0B,0x00,0x00,0x00,0xFF,\n    0x8C,0x01,0x00,0x00,0xFF,0x9B,0x36,0x01,0x00,0x00,0x07\n</code></pre>\n\n<h3>my_code</h3>\n\n<pre><code>#! /usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse List::MoreUtils 'true';\n\nuse feature qw(say);\n\nuse Data::Dumper;\n\n# input variable pass as a input argument\nmy $variable_name = shift @ARGV;\n\n# variable value pass as a input argument\nmy $variable_value = shift @ARGV;\n\n#variable value need to be replaced with new value\nmy $Replacement_var = shift @ARGV;\n\n# Name of the file the data is in\nmy $input_filename = 'input.txt';\n\n# Name of the file you want to dump the output to\nmy $output_filename = 'output.txt';\n\n# Open the file\nopen my $input_fh, \"&lt;\", $input_filename or die $!;\n\n# Open the output file\nopen my $output_fh, \"&gt;\", $output_filename or die $!;\n\n# Array to store the hex data\nmy @hex_array;\nmy @data_new;\n\n# Loop over each of the lines of the file\nwhile ( &lt;$input_fh&gt; ) {\n\n    # Find all the matches and push them to the array\n\n    if ( /$variable_name/ and /$variable_value/ ) {\n        s/$variable_value/$Replacement_var/;\n    }\n\n    print $output_fh $_;\n\n    #here  extracting only hex values from each line\n    while ( $_ =~ m/(0x(\\d+)(?:[0-9]|[A-f])+)/gi ) {\n        push @hex_array, ( $1 );\n    }\n}\n\n# Close the file\nclose $input_fh;\n\n# Write the data to the file\n@data_new = join( \", \", @hex_array );\n\nprint {$output_fh} @data_new;\n\n# Close the file\nclose $output_fh;\n\n# Exit\nexit();\n</code></pre>\n\n<p>The above code works for extracting the hex value, but not for extracting \nthe decimal {0-9} and minus -25 value and converting back to hex.</p>\n\n<p>I think I need to modify the regex expression.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474968799, "post_id": 39721066, "comment_id": 66739669, "body": "So what exactly do you have trouble with? I think what you want to do is parse the string, find all pairs of <code>word=&quot;number&quot;</code> and assign them to hashes. By the way, your string isn&#39;t valid Perl, because you have nested unescaped double quotes <code>&quot;&quot;</code>."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1474968810, "post_id": 39721066, "comment_id": 66739676, "body": "Show us, What have you tried so far? Its can be solved with simple regex."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474969681, "post_id": 39721066, "comment_id": 66740347, "body": "@Developer: Okay, and what is wrong with what you tried?"}], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1474969265, "post_id": 39721227, "comment_id": 66740024, "body": "$VAR1 = {} no data in $rh"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1474969507, "post_id": 39721227, "comment_id": 66740216, "body": "how can we ignore the spaces"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1474969558, "post_id": 39721227, "comment_id": 66740250, "body": "I don&#39;t understand -- ignore what spaces?"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1474969615, "post_id": 39721227, "comment_id": 66740292, "body": "spaces between abc = &quot;1234&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1474969742, "post_id": 39721227, "comment_id": 66740380, "body": "@Developer Oh, you mean if there were spaces?  Add optional multiple spaces to regex, <code>\\s*=\\s*</code> (instead of just <code>=</code>)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 6, "creation_date": 1474969761, "post_id": 39721227, "comment_id": 66740392, "body": "@Developer: Are you saying that there are spaces in your real data that you haven&#39;t shown us in your sample data? You can&#39;t expect to get useful answers if your test data doesn&#39;t cover all possibilities :-)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1477500662, "last_edit_date": 1477500662, "creation_date": 1474969109, "answer_id": 39721227, "question_id": 39721066, "link": "https://stackoverflow.com/questions/39721066/get-all-values-in-a-hash-from-string-after-equals-sign-perl/39721227#39721227", "title": "Get all values in a hash from string after equals sign Perl", "body": "<p>The regex returns the captured pairs, which can be assigned to a hash, made anonymous.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse feature 'say';\n\nmy $str = 'Test string has tes value like abc=\"123\",bcd=\"345\",or it '\n        . 'it can be xyz=\"4567\" and ytr=\"434\"';    \n\nmy $rh = { $str =~ /(\\w+)=\"(\\d+)\"/g }\n\nsay \"$_ =&gt; $rh-&gt;{$_}\" for keys %$rh ;\n</code></pre>\n\n<p>Prints</p>\n\n<pre>\nbcd => 345\nabc => 123\nytr => 434\nxyz => 4567\n</pre>\n\n<hr>\n\n<p>Following a comment &ndash; for possible spaces around the <code>=</code> sign, change it to <code>\\s*=\\s*</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1474971774, "last_edit_date": 1474971774, "creation_date": 1474969437, "answer_id": 39721354, "question_id": 39721066, "link": "https://stackoverflow.com/questions/39721066/get-all-values-in-a-hash-from-string-after-equals-sign-perl/39721354#39721354", "title": "Get all values in a hash from string after equals sign Perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nmy $string = q{Test string has tes value like abc=\"123\",bcd=\"345\" and xyz=\"523\"};\nmy %hash = $string =~ /(\\w+)=\"(\\d*)\"/g;\nprint Dumper \\%hash;\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>$VAR1 = {\n          'xyz' =&gt; '523',\n          'abc' =&gt; '123',\n          'bcd' =&gt; '345'\n        };\n</code></pre>\n\n<p><a href=\"http://ideone.com/nJFLml\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1474970438, "creation_date": 1474970438, "answer_id": 39721715, "question_id": 39721066, "link": "https://stackoverflow.com/questions/39721066/get-all-values-in-a-hash-from-string-after-equals-sign-perl/39721715#39721715", "title": "Get all values in a hash from string after equals sign Perl", "body": "<p>Your test string looks like this (editing slightly to fix the quoting problems).</p>\n\n<pre><code>'Test string has tes value like abc=\"123\",bcd=\"345\",or it it can be xyz=\"4567\" and ytr=\"434\"'\n</code></pre>\n\n<p>I used this code to test your regex:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\n\nmy $text = 'Test string has tes value like abc=\"123\",bcd=\"345\",or it it can be xyz=\"4567\" and ytr=\"434\"';\n\nmy %hash = $text =~ /(\\S+)\\s*=\\s*(\\S+)/g;\n\nsay Dumper \\%hash;\n</code></pre>\n\n<p>Which gives this output:</p>\n\n<pre><code>$VAR1 = {\n          'abc=\"123\",bcd' =&gt; '\"345\",or'\n          'ytr' =&gt; '\"434\"',\n          'xyz' =&gt; '\"4567\"'\n        };\n</code></pre>\n\n<p>The problem is that <code>\\S+</code> matches any non-whitespace character. And that's too much. You need to be more descriptive about the valid characters.</p>\n\n<p>Your keys appear to all be letters. And your values are all digits - but they are surrounded by quote characters that you don't want. So try this regex instead = <code>/([a-z]+)\\s*=\\s*\"(\\d+)\"/g</code>.</p>\n\n<p>That gives:</p>\n\n<pre><code>$VAR1 = {\n          'bcd' =&gt; '345',\n          'abc' =&gt; '123',\n          'ytr' =&gt; '434',\n          'xyz' =&gt; '4567'\n        };\n</code></pre>\n\n<p>Which looks correct to me.</p>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 39721227, "answer_count": 3, "score": -3, "last_activity_date": 1477500662, "creation_date": 1474968678, "last_edit_date": 1474968893, "question_id": 39721066, "link": "https://stackoverflow.com/questions/39721066/get-all-values-in-a-hash-from-string-after-equals-sign-perl", "title": "Get all values in a hash from string after equals sign Perl", "body": "<p>I have a string like this <code>\"Test string has tes value like abc=\"123\",bcd=\"345\",or it it can be xyz=\"4567\" and ytr=\"434\"\"</code>.</p>\n\n<p>Now what i want to get the values after equals sign.The hash structure while be like this :</p>\n\n<pre><code>$hash-&gt;{abc} =123,\n$hash-&gt;{bcd} =345,\n$hash-&gt;{xyz} =4567,\n</code></pre>\n\n<p>i have tried this <code>$str =~ / (\\S+) \\s* = \\s* (\\S+) /xg</code></p>\n"}, {"tags": ["perl", "signals"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474965988, "post_id": 39720055, "comment_id": 66737701, "body": "Pretty sure the answer is &#39;no&#39;, because it&#39;s a kernel space thing, but I&#39;m not sure I could find a reference for that."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474966032, "post_id": 39720055, "comment_id": 66737723, "body": "im able to capture this info in python because i wrote a c extension module which captures it but idk if it can be port to perl"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1474966293, "post_id": 39720055, "comment_id": 66737883, "body": "OK. Well, at a worst case you can inline C into perl. I didn&#39;t honestly think the signal handler passed that information though."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474966341, "post_id": 39720055, "comment_id": 66737898, "body": "you mean in perl it doesnt? it works on c/python. ive tested myself."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474966354, "post_id": 39720055, "comment_id": 66737913, "body": "<a href=\"http://www.perlmonks.org/?node_id=346477\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=346477</a> - I suspect the reason may be because perl does &#39;safe signals&#39; and any C based solution isn&#39;t."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474966507, "post_id": 39720055, "comment_id": 66738009, "body": "You query the system <i>very</i> heavily here!  The info you have does not come from the signal itself."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474996704, "post_id": 39720055, "comment_id": 66758843, "body": "@ealeon, That information is lost. When you install a signal handler, the actual signal handler installed just increments a counter when the signal comes in. Extra information about the signal isn&#39;t stored. The signal handler you provided will eventually be called between Perl ops."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1474970808, "last_edit_date": 1495542791, "creation_date": 1474966109, "answer_id": 39720166, "question_id": 39720055, "link": "https://stackoverflow.com/questions/39720055/capture-the-pid-of-signal-sender/39720166#39720166", "title": "Capture the pid of signal sender", "body": "<p>All that our process gets from the kernel is the signal, which I believe is just an integer.  Also, a signal may come from all kinds of events, not just another process. The list given by, for example, <code>man 7 signal</code> reveals all kinds of possible sources.</p>\n\n<p>All that is not in the signal.</p>\n\n<hr>\n\n<p><em>Update to the question edit</em></p>\n\n<p>The added C code doesn't exactly use the signal itself, but queries a whole lot more. A similar approach in Perl is discussed in <a href=\"https://stackoverflow.com/questions/6296374/how-in-perl-5-can-i-get-the-pid-of-the-process-who-sent-me-a-signal\">this post</a>, unearthed by <a href=\"https://stackoverflow.com/users/5049185/syck\">Syck</a> in a comment. </p>\n\n<p>As for digging that information up from <code>siginfo_t</code>, the <code>POSIX::SigAction</code> is meant to expose those fields, but it apparently doesn't. It may be that you are best off writing your own extension, or try with <a href=\"http://search.cpan.org/~ingy/Inline-C-0.76/lib/Inline/C.pod\" rel=\"nofollow noreferrer\">Inline::C</a> as suggested by <a href=\"https://stackoverflow.com/users/2566198/sobrique\">sobrique</a></p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1474967365, "last_edit_date": 1495540099, "creation_date": 1474967365, "answer_id": 39720602, "question_id": 39720055, "link": "https://stackoverflow.com/questions/39720055/capture-the-pid-of-signal-sender/39720602#39720602", "title": "Capture the pid of signal sender", "body": "<p>You can combine SA_SIGINFO and signalfd to find out the pid of process which sent the signal.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/8400530/how-can-i-tell-in-linux-which-process-sent-my-process-a-signal\">How can I tell in Linux which process sent my process a signal</a></p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "closed_date": 1474996604, "answer_count": 2, "score": 3, "last_activity_date": 1474970808, "creation_date": 1474965799, "last_edit_date": 1474967536, "question_id": 39720055, "link": "https://stackoverflow.com/questions/39720055/capture-the-pid-of-signal-sender", "closed_reason": "Duplicate", "title": "Capture the pid of signal sender", "body": "<pre><code>local $SIG{INT}  = \\&amp;handle_sigint;\nsub handle_sigint {\n    print \"received sigint\\n\";\n\n}\n</code></pre>\n\n<p>in handle_sigint i would like to print who (pid/process name) sent the signal.<br>\nIs there a way to capture that info in perl?  </p>\n\n<p>i can do this in C and this is ported to python as a module<br>\nI am looking for equivalent in perl</p>\n\n<pre><code>static void csignal_handler(int signum, siginfo_t *siginfo, void *context) {\n\n    char *interrupt_msg[150];\n    if (siginfo-&gt;si_pid != 0) {\n       struct passwd *pwd = getpwuid(siginfo-&gt;si_uid);\n        if (pwd != 0) {\n            sprintf(interrupt_msg, \"Received signal '%d' from process '%d' (%s) of user '%s'\\n\",\n                signum, siginfo-&gt;si_pid, get_process_name_by_pid(siginfo-&gt;si_pid), pwd-&gt;pw_name);\n\n        } else {\n            sprintf(interrupt_msg, \"Received signal '%d' from process '%d' (%s) of user '%d'\\n\",\n               signum, siginfo-&gt;si_pid, get_process_name_by_pid(siginfo-&gt;si_pid), siginfo-&gt;si_uid);\n\n        }\n\n        printf(\"%s\", interrupt_msg);\n    }\n    if (raise_interrupt) {\n        PyGILState_STATE gstate = PyGILState_Ensure();\n        PyErr_SetString(PyExc_KeyboardInterrupt, interrupt_msg );\n        PyGILState_Release(gstate);\n    } else {\n        interrupted = 1;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "paypal-ipn", "paypal-sandbox"], "comments": [{"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1475085197, "post_id": 39718517, "comment_id": 66804922, "body": "Out of curiosity, why are you using a session on the IPN URL? PayPal will post to this directly, bypassing the user, so you should be able to do what you need to do without maintaining state between requests."}, {"owner": {"reputation": 39, "user_id": 1041237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4d03dd7ed516addd741717511298a5?s=128&d=identicon&r=PG", "display_name": "Janmejay Pati", "link": "https://stackoverflow.com/users/1041237/janmejay-pati"}, "reply_to_user": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1475353346, "post_id": 39718517, "comment_id": 66913568, "body": "Without creating a pre-order, I just wanted to handle the the data from session. But finally did it and used the ipn page for order verification only."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 1041237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4d03dd7ed516addd741717511298a5?s=128&d=identicon&r=PG", "display_name": "Janmejay Pati", "link": "https://stackoverflow.com/users/1041237/janmejay-pati"}, "edited": false, "score": 0, "creation_date": 1474964157, "post_id": 39718798, "comment_id": 66736505, "body": "Friend! I just checked the same, but still found the session param is nil."}, {"owner": {"reputation": 39, "user_id": 1041237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4d03dd7ed516addd741717511298a5?s=128&d=identicon&r=PG", "display_name": "Janmejay Pati", "link": "https://stackoverflow.com/users/1041237/janmejay-pati"}, "edited": false, "score": 0, "creation_date": 1474964792, "post_id": 39718798, "comment_id": 66736907, "body": "I can see the session value in the ipn page if I just run it through url before paypal process. But it should be tracked after paypal process. No idea why it destroyed once the payment made at paypal site."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1474962568, "last_edit_date": 1474962568, "creation_date": 1474961828, "answer_id": 39718798, "question_id": 39718517, "link": "https://stackoverflow.com/questions/39718517/unable-to-get-information-from-a-specified-session-at-paypal-ipn-page/39718798#39718798", "title": "Unable to get information from a specified session at Paypal IPN page", "body": "<p>It could be that the session has expired. You should try using <code>load</code> instead of <code>new</code> because <code>new</code> will create new session if it doesn't find any.</p>\n\n<pre><code>$session = CGI::Session-&gt;load() or die CGI::Session-&gt;errstr();\nif ( !$session-&gt;is_expired &amp;&amp; !$session-&gt;is_empty ) {\n    print $session-&gt;param(\"info_var\"); \n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 1041237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4d03dd7ed516addd741717511298a5?s=128&d=identicon&r=PG", "display_name": "Janmejay Pati", "link": "https://stackoverflow.com/users/1041237/janmejay-pati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474962568, "creation_date": 1474960972, "question_id": 39718517, "link": "https://stackoverflow.com/questions/39718517/unable-to-get-information-from-a-specified-session-at-paypal-ipn-page", "title": "Unable to get information from a specified session at Paypal IPN page", "body": "<p>The page is set with notify url for paypal payment. I want to get the information from a predefined session. I am not getting any output from the predefined session in this ipn page while there are no issues with other pages.</p>\n\n<p>sample codes:</p>\n\n<pre><code>use CGI::Session;\nmy $session = CGI::Session-&gt;new or die CGI::Session-&gt;errstr;\nmy $info_var = $session-&gt;param(\"info_var\");\n</code></pre>\n"}, {"tags": ["perl", "security", "session-cookies", "login-script", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6527012, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049125141847923/picture?type=large", "display_name": "Satzoda", "link": "https://stackoverflow.com/users/6527012/satzoda"}, "edited": false, "score": 0, "creation_date": 1474959489, "post_id": 39717882, "comment_id": 66733482, "body": "I tried to install the WWW::Mechanize package from the cpan command line, however it always failed. So, I downloaded the tar file to a local directory extracted it and installed it manually using the following commands MakeFile.PL, make, make test and make install. As for the the scope of variables, I am still experimenting with the code once it gets fixed I l add the use strict and use warnings @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6527012, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049125141847923/picture?type=large", "display_name": "Satzoda", "link": "https://stackoverflow.com/users/6527012/satzoda"}, "edited": false, "score": 0, "creation_date": 1474959826, "post_id": 39717882, "comment_id": 66733683, "body": "Okay. I was waiting for you to post the &quot;following commands&quot;!"}, {"owner": {"reputation": 1, "user_id": 6527012, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049125141847923/picture?type=large", "display_name": "Satzoda", "link": "https://stackoverflow.com/users/6527012/satzoda"}, "edited": false, "score": 0, "creation_date": 1474960204, "post_id": 39717882, "comment_id": 66733919, "body": "Sorry for that..I edited the comment..Take a look. @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6527012, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049125141847923/picture?type=large", "display_name": "Satzoda", "link": "https://stackoverflow.com/users/6527012/satzoda"}, "edited": false, "score": 0, "creation_date": 1474960464, "post_id": 39717882, "comment_id": 66734089, "body": "In that case you have the module installed but you&#39;re still using the distribution package. Take out <code>use lib</code> altogether and fix <code>use WWW::Mechanize</code>. And you have it backwards for <code>use strict</code> and <code>use warnings &#39;all&#39;</code>: they will help you develop your program by revealing simple bugs in your code."}, {"owner": {"reputation": 1, "user_id": 6527012, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049125141847923/picture?type=large", "display_name": "Satzoda", "link": "https://stackoverflow.com/users/6527012/satzoda"}, "edited": false, "score": 0, "creation_date": 1474961169, "post_id": 39717882, "comment_id": 66734562, "body": "Okay..I will include the use strict and  use warnings and declare the variables as my. As for the fixing of use WWW::Mechanize, I am lost as I have tried all the possible ways to the best of my knowledge (which might be inadequate). Kindly suggest on how to proceed. @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6527012, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049125141847923/picture?type=large", "display_name": "Satzoda", "link": "https://stackoverflow.com/users/6527012/satzoda"}, "edited": false, "score": 0, "creation_date": 1474961314, "post_id": 39717882, "comment_id": 66734667, "body": "It&#39;s very simple. Just <code>use WWW::Mechanize</code>. If that doesn&#39;t work then you haven&#39;t installed it properly."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1474959039, "creation_date": 1474959039, "answer_id": 39717882, "question_id": 39717409, "link": "https://stackoverflow.com/questions/39717409/failing-to-establish-a-session-while-trying-to-log-into-a-website-and-opening-th/39717882#39717882", "title": "Failing to establish a session while trying to log into a website and opening the logged in page", "body": "<p>Here are the main issues</p>\n\n<ul>\n<li><p>You haven't installed <code>WWW::Mechanize</code>; it looks like you've just downloaded it and unpacked it, and added <code>use lib</code> to point to where it's unpacked. You need to run <code>cpan WWW::Mechanize</code> from the command line to install it properly, and then it will also be in a directory where Perl looks for libraries by default so there will be no need for a <code>use lib</code> at all</p></li>\n<li><p>You need to <code>use WWW::Mechanize</code>. Just <code>use Mechanize</code> won't do</p></li>\n<li><p>You must always start every Perl program with <code>use strict</code> and <code>use warnings 'all'</code>, and <em>declare</em> all your variables with <code>my</code></p></li>\n</ul>\n\n<p>Fixing those should get you a long way towards working</p>\n"}], "owner": {"reputation": 1, "user_id": 6527012, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049125141847923/picture?type=large", "display_name": "Satzoda", "link": "https://stackoverflow.com/users/6527012/satzoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1474967519, "creation_date": 1474957437, "last_edit_date": 1474967519, "question_id": 39717409, "link": "https://stackoverflow.com/questions/39717409/failing-to-establish-a-session-while-trying-to-log-into-a-website-and-opening-th", "title": "Failing to establish a session while trying to log into a website and opening the logged in page", "body": "<p>I am new to Perl, so as an exercise I have been trying to log in to a web page and open the logged-in page later from the command line.</p>\n\n<p>This is the code I wrote</p>\n\n<pre><code>use HTTP::Cookies;\n\nuse lib \"/home/tivo/Desktop/exp/WWW-Mechanize-1.80/lib/WWW\";\nuse Mechanize;\n\n$mech = WWW::Mechanize-&gt;new();\n$mech-&gt;cookie_jar(HTTP::Cookies-&gt;new());\n\n$url = \"&lt;url&gt;\";\n\n$mech-&gt;credentials('username' =&gt; 'password');\n$mech-&gt;get($url);\n\n$mech-&gt;save_content(\"logged_in.html\");\n</code></pre>\n\n<p>After I execute the script, I try to open the saved HTML page using the command</p>\n\n<pre><code>$ firefox logged_in.html\n</code></pre>\n\n<p>But I get the error</p>\n\n<blockquote>\n  <p>BIG-IP can not find session information in the request. This can happen because your browser restarted after an add-on was installed. If this occurred, click the link below to continue. This can also happen because cookies are disabled in your browser. If so, enable cookies in your browser and start a new session.</p>\n</blockquote>\n\n<p>The same code worked for Facebook login.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1474944564, "post_id": 39714503, "comment_id": 66728320, "body": "This is not an answer. Please edit your question if you need to add more information."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1474961682, "post_id": 39714503, "comment_id": 66734918, "body": "Actually, it <i>is</i> an answer."}], "tags": [], "owner": {"reputation": 1043, "user_id": 4513062, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/756ee9ec86172885e11e64c1bfd8e7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mookayama", "link": "https://stackoverflow.com/users/4513062/mookayama"}, "is_accepted": false, "score": 1, "last_activity_date": 1474937657, "last_edit_date": 1495541912, "creation_date": 1474937657, "answer_id": 39714503, "question_id": 39714471, "link": "https://stackoverflow.com/questions/39714471/perl-not-a-hash-reference/39714503#39714503", "title": "perl Not a HASH reference", "body": "<p>I forget to de-reference </p>\n\n<p><a href=\"https://stackoverflow.com/questions/39670453/odd-number-of-elements-in-hash-assignment-with-default\">Odd number of elements in hash assignment with default</a></p>\n\n<pre><code>sub hash2print {\n    (my $hashref, my $debug) = @_;\n    my %HoH = %$hashref; # dereference $hashref to get back the hash\n    ...\n</code></pre>\n"}], "owner": {"reputation": 1043, "user_id": 4513062, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/756ee9ec86172885e11e64c1bfd8e7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mookayama", "link": "https://stackoverflow.com/users/4513062/mookayama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1474937657, "creation_date": 1474937350, "last_edit_date": 1495535649, "question_id": 39714471, "link": "https://stackoverflow.com/questions/39714471/perl-not-a-hash-reference", "title": "perl Not a HASH reference", "body": "<p>Greeting community.</p>\n\n<p>This is related to <a href=\"https://stackoverflow.com/questions/39670453/odd-number-of-elements-in-hash-assignment-with-default\">Odd number of elements in hash assignment with default</a></p>\n\n<p>However, I use the reference as suggested but now I am passing a hash and a file handler and it gives this error Not a HASH reference when I call</p>\n\n<pre><code>    hash2file2(\\%m2,$rm3d_fh);\n</code></pre>\n\n<p>Heres my code.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Getopt::Long;\nuse POSIX qw(strftime);\n\n\n#getDate return date in string format 20161010\nsub getDate{\nmy $date = strftime \"%Y%m%d\", localtime;\n#print $date;\nreturn $date;\n}\n#end getDate\n\n#\n#file2hash : read the file in k&lt;file_name&gt; e.g.=kconfig &amp;  kmem  into hash table\n#\nsub file2hash {\n    my ($file) = @_;\n\nopen(my $data, '&lt;', $file) or die \"Could not open '$file' $!\\n\";\n\nmy %HoH;\nmy $key;\nmy $value;\nmy $who;\nmy $rec;\nmy $field;\n\n#while ( my $line = &lt;$data&gt;) {\nwhile ( &lt;$data&gt;) {\n    #print $line;\n    next unless (s/^(.*?):\\s*//);\n    $who = $1;\n    #print $who;\n    $rec = {};\n    $HoH{$who} = $rec;\n    for $field ( split ) {\n        ($key, $value) = split /=/, $field;\n        $rec-&gt;{$key} = $value;\n    }\n}\n\n    return %HoH;\n\n}\n#\n#end file2hash\n#\n\n#\n#hash2print\n#print out hash table in k&lt;file_name&gt; format\n#\nsub hash2print{\n    (my %HoH,my $debug) = @_;\n    #my ($debug)=@_||0;\n    #my %HoH = shift;\n    #my $debug = shift || 0;\n\n    my $family;\n    my $role;\n\n    for $family ( keys %HoH ) {\n        #print \"$family\\n\";\n        for $role ( keys %{ $HoH{$family} } ) {\n             if ($debug){\n               print \"family:$family\\n\";\n                print \"role: $role\\n\";\n             }\n             print \"$role=$HoH{$family}{$role}\";\n\n        }\n        print \"\\n\";\n    }\n}\n#\n#end hash2print\n#\n\n#\n#hash2file2\n#print out hash table in k&lt;file_name&gt; format\n#\nsub hash2file2{\n    #(my %HoH,my $debug) = @_;\n    (my %HoH,my $fh) = @_;\n    #my %HoH = shift;\n    #my $fh = shift;\n    #my $debug = shift ||0;\n\n    my $family;\n    my $role;\n\n    for $family ( keys %HoH ) {\n        #print \"$family\\n\";\n        for $role ( keys %{ $HoH{$family} } ) {\n             #if ($debug){\n              #  print $fh \"family:$family\\n\";\n               # print $fh \"role: $role\\n\";\n             #}\n             print $fh \"$role=$HoH{$family}{$role}\";\n\n        }\n        print $fh \"\\n\";\n    }\n\n    close $fh;\n}\n#\n#end hash2file2\n#\n\nsub dispatch{\n\n        my $event= shift;\n        my $debug = shift||0;\n        my $mail_prog = shift || \"mailx\";\n        my $config_f = shift || \"kconfig\";\n        my $memory_f = shift || \"kmem\";\n\n        my %h2=&amp;file2hash($config_f);\n        my %m2=file2hash($memory_f);\n\n        my $today=&amp;getDate();\n\n        if ($debug){\n            print \"$today\\n\";\n            print \"$event\\n\";\n            print \"$config_f\\n\";\n            print \"$memory_f\\n\";\n            print \"$mail_prog\\n\";\n        }\n\n        my $email1_tag=\"email1\";\n        my $email1_cnt_tag=\"email1_cnt\";\n        my $email2_tag=\"email2\";\n\n        my $xemail1 = $h2{$event}{$email1_tag};\n        my $xemail2 = $h2{$event}{$email2_tag};\n        my $xemail1_cnt = $h2{$event}{$email1_cnt_tag};\n\n        #initialize today_event_cnt is not happened today\n        my $today_event_cnt = $m2{$today}{$event}||1;\n        if ($today_event_cnt  == 1){\n            $m2{$today}{$event} = 1;\n        }\n\n        if ($debug){\n            print \"$xemail1\\n\";\n            print \"$xemail2\\n\";\n            print \"$xemail1_cnt\\n\";\n            print \"$today_event_cnt\\n\";\n        }\n\n        my $mail1_cmd_str = $mail_prog.\" -s \".$event.\" \".$xemail1;\n        my $mail2_cmd_str = $mail_prog.\" -s \".$event.\" \".$xemail2;\n\n        if ($today_event_cnt + 1 &gt;$xemail1_cnt){\n\n            system \"$mail2_cmd_str\";\n\n        }else{\n\n            system \"$mail1_cmd_str\";\n\n        }\n\n\n        #hash2print(\\%m2);\n        open my $rm3d_fh, '&gt;', $memory_f or die \"...$!\";\n        hash2file2(\\%m2,$rm3d_fh);\n\n\n\n\n\n}#end dispatch\n\n\n\n#my %h2=&amp;file2hash(\"kconfig\");\n#my %m2=&amp;file2hash(\"kmem\");\n#hash2print(%h2);\n#hash2print(%m2);\n#print &amp;getDate();\n#my $xcnt= &amp;dispatch(\"event_c3_z2\");\n&amp;dispatch(\"event_c3_z2\",1,\"echo\");\n#&amp;dispatch(\"event_c3_z2\",1);\n#print $xcnt;\n</code></pre>\n\n<p>my test data file1</p>\n\n<pre><code>event_a1_x1: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=8\nevent_a1_x2: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=7\nevent_b2_y1: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=6\nevent_b2_y2: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=5\nevent_c3_z1: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=4\nevent_c3_z2: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=3\n</code></pre>\n\n<p>test data file2</p>\n\n<pre><code>20160926: event_a1_x1=7\n20160926: event_a1_x2=6\n20160926: event_b2_y1=5\n20160926: event_b2_y2=4\n20160926: event_c3_z1=3\n20160926: event_c3_z2=2\n</code></pre>\n"}, {"tags": ["perl", "colors", "qr-code"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1474943167, "post_id": 39713767, "comment_id": 66728019, "body": "This is not a bad question, but you could make it even easier for people to help you by posting a <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> that we can just copy &amp; paste and run."}, {"owner": {"reputation": 21, "user_id": 6884378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abd2fecfc6ba0cf13ab5e9c85a7a242?s=128&d=identicon&r=PG", "display_name": "Joe Borge", "link": "https://stackoverflow.com/users/6884378/joe-borge"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1474997436, "post_id": 39713767, "comment_id": 66759320, "body": "I double checked the Perl Module page (<a href=\"http://search.cpan.org/~kurihara/Imager-QRCode-0.034/lib/Imager/QRCode.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~kurihara/Imager-QRCode-0.034/lib/Imager/&hellip;</a>) and I found I made a mistake by adding the single quotes (&#39;) in the code:  Incorrect:  lightcolor    =&gt; &#39;Imager::Color-&gt;new(255, 255, 255)&#39;, darkcolor     =&gt; &#39;Imager::Color-&gt;new(0, 0, 0)&#39;,  Correct (without the single quotes):  lightcolor    =&gt; Imager::Color-&gt;new(255, 255, 255), darkcolor     =&gt; Imager::Color-&gt;new(0, 0, 0),   The RBG codes can be replaced with HTML color codes (eg. #FF0000, Red)."}], "owner": {"reputation": 21, "user_id": 6884378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abd2fecfc6ba0cf13ab5e9c85a7a242?s=128&d=identicon&r=PG", "display_name": "Joe Borge", "link": "https://stackoverflow.com/users/6884378/joe-borge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1474931623, "creation_date": 1474931623, "question_id": 39713767, "link": "https://stackoverflow.com/questions/39713767/perl-imagerqrcode-module-qr-code-colors", "title": "Perl Imager::QRCode module QR Code colors?", "body": "<p>From its page, it lists the following codes but they don't seem to make any differences in colors (always black on white).</p>\n\n<pre><code>lightcolor    =&gt; Imager::Color-&gt;new(255, 255, 255),\ndarkcolor     =&gt; Imager::Color-&gt;new(0, 0, 0),\n</code></pre>\n\n<p>I tried to change the color in different combinations but only the black on white QR code is generated.</p>\n\n<p>Did anyone change the colors successfully?</p>\n"}, {"tags": ["perl", "odbc", "dsn"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474918385, "post_id": 39707492, "comment_id": 66719748, "body": "What is the underlying database?"}], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 5119598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeef4b41be9bc77a2662458f47d7da07?s=128&d=identicon&r=PG&f=1", "display_name": "j1nrg", "link": "https://stackoverflow.com/users/5119598/j1nrg"}, "edited": false, "score": 0, "creation_date": 1474919492, "post_id": 39711036, "comment_id": 66720398, "body": "Thank you so much! dbi:ODBC:DSN=MYDATABASE;Port=40450 worked. I didn&#39;t know that I had to add DSN= for it to pick up the parameters. Have been banging my head over this all day."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1474919122, "last_edit_date": 1474919122, "creation_date": 1474918755, "answer_id": 39711036, "question_id": 39707492, "link": "https://stackoverflow.com/questions/39707492/how-can-i-specify-the-port-number-with-dbdodbc/39711036#39711036", "title": "How can I specify the port number with DBD::ODBC?", "body": "\n\n<p>There are two formats for a DBI data source string for ODBC. You can say either</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dbi:ODBC:DSN=MYDATABASE\n</code></pre>\n\n<p>or you can abbreviate that to</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dbi:ODBC:MYDATABASE\n</code></pre>\n\n<p>which is what you have. If you use <em>just</em> the DSN then you can't add any more parameters, so your <code>dbi:ODBC:MYDATABASE;Port=40450</code> is looking for DSN <code>MYDATABASE;Port=40450</code> which clearly doesn't exist</p>\n\n<p>The proper way to do this is to set up a new DSN which has a copy of all the parameters of <code>MYDATABASE</code>, but with a different port name</p>\n\n<p>At a <em>guess</em>, I would say you may be able to write</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dbi:ODBC:DSN=MYDATABASE;Port=40450\n</code></pre>\n\n<p>but I can't be sure and I have no way of testing</p>\n\n<p>If your requirements are simple then you can supply all of the parameters instead of a DSN, like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dbi:ODBC:Driver={SQL Server};Server=11.22.33.44;Port=40450\n</code></pre>\n\n<p>but you will have to supply the correct driver if you aren't using a SQL Server ODBC connection, and other parameters may be necessary</p>\n\n<p>You should start by examining the values in the <code>MYDATABASE</code> DSN and go from there</p>\n"}], "owner": {"reputation": 116, "user_id": 5119598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeef4b41be9bc77a2662458f47d7da07?s=128&d=identicon&r=PG&f=1", "display_name": "j1nrg", "link": "https://stackoverflow.com/users/5119598/j1nrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 0, "accepted_answer_id": 39711036, "answer_count": 1, "score": 2, "last_activity_date": 1474919122, "creation_date": 1474905975, "last_edit_date": 1474908487, "question_id": 39707492, "link": "https://stackoverflow.com/questions/39707492/how-can-i-specify-the-port-number-with-dbdodbc", "title": "How can I specify the port number with DBD::ODBC?", "body": "<p>I currently use the following code to connect to a database in my Perl script:</p>\n\n<pre><code>my $dsn = 'dbi:ODBC:MYDATABASE';\nmy $database = 'uat_env';\nmy $user = 'user';\nmy $auth = 'password';\n\nmy $dbh = DBI-&gt;connect($dsn, $user, $auth, {\n    RaiseError =&gt; 1,\n    AutoCommit =&gt; 1\n}) or die(\"Couldn't connect to database\");\n\n$dbh-&gt;do('use '.$database);\n</code></pre>\n\n<p>Now the port has changed from 1433 to 40450.</p>\n\n<p>I am having trouble changing the port in the DSN. I thought this change would work but I am receiving a \"DSN not found\" error:</p>\n\n<pre><code>my $dsn = 'dbi:ODBC:MYDATABASE;Port=40450';\n</code></pre>\n\n<p>Any idea why this isn't working?</p>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474903761, "post_id": 39706740, "comment_id": 66711531, "body": "Are you calling that function?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1474905171, "last_edit_date": 1474905171, "creation_date": 1474904770, "answer_id": 39707105, "question_id": 39706740, "link": "https://stackoverflow.com/questions/39706740/how-to-write-multiple-lines-to-a-file-from-user-input-perl/39707105#39707105", "title": "How to write multiple lines to a file from user input (Perl)", "body": "<p>You have this line in your code:</p>\n\n<pre><code>my $input = &lt;STDIN&gt;;\n</code></pre>\n\n<p>That means \"read from STDIN up to and including the next newline character and return that data\". So, by definition, <code>$input</code> can only ever contain a single line of input.</p>\n\n<p>There are a couple of different approaches you can take here.</p>\n\n<p>1/ Put the code in a <code>while</code> loop.</p>\n\n<pre><code>while (&lt;STDIN&gt;) {\n  print $fh $_;\n\n  print \"Added  : \" . $_\n       .\"To File: \" . $self-&gt;{path} \n       .\"\\n\";\n}\n</code></pre>\n\n<p>But how does that loop end? The user would need to enter the \"end of file\" character - Ctrl-D.</p>\n\n<p>2/ Change <code>$/</code>. Strictly, <code>&lt;...&gt;</code> doesn't read to the next newline character. It reads to the next occurrence of whatever is currently in <code>$/</code> (the input record separator). The default value for <code>$/</code> is a newline, but we can change that.</p>\n\n<pre><code>{\n  local $/ = \"\\n\\n\"; # Localised change in a naked block\n\n  my $input = &lt;STDIN&gt;;\n\n  print $fh $input;\n\n  print \"Added  : \" . $input\n       .\"To File: \" . $self-&gt;{path} \n       .\"\\n\";\n}\n</code></pre>\n\n<p>Here we've changed <code>$/</code> to two newline characters. So we will continue to accept user input until they enter two consecutive newlines.</p>\n\n<p>Either of these will work, but they both make things harder for the user to use - as they need to know a special way to end their input.</p>\n"}], "owner": {"reputation": 170, "user_id": 3303402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258710bb2756b3b7bf210f9f1ef0a30b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Dees", "link": "https://stackoverflow.com/users/3303402/daniel-dees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1099, "favorite_count": 0, "accepted_answer_id": 39707105, "answer_count": 1, "score": 2, "last_activity_date": 1474905171, "creation_date": 1474903672, "question_id": 39706740, "link": "https://stackoverflow.com/questions/39706740/how-to-write-multiple-lines-to-a-file-from-user-input-perl", "title": "How to write multiple lines to a file from user input (Perl)", "body": "<p>I am trying to do a simple perl program that takes user input and writes it to a file. However I want to be able to have multiple lines in the file instead of the entire user input being on one line (for example the users types \\n so move to next line in file)</p>\n\n<p>Here is my current code </p>\n\n<pre><code>sub addContentToFile {\n\n    my ($self) = @_;\n    open(my $fh, '&gt;&gt;', $self-&gt;{path}) or die \"Could not open file: \" .$self-&gt;{path};\n    print \"File is open for writing...\\n\";\n\n    #my $input = $self-&gt;{content};\n    my $input = &lt;STDIN&gt;;\n\n    print $fh $input;\n\n    print \"Added  : \" .$input\n         .\"To File: \" .$self-&gt;{path} \n         .\"\\n\";\n\n    close $fh;\n    print \"\\nFile Closed.\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "sasl"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 1, "creation_date": 1474907656, "post_id": 39706195, "comment_id": 66713842, "body": "Have you tried to use Net::SMTP?  AFAIR versions of Net::SMTP above 3.0 support SMTPS and STARTLS."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1474910801, "post_id": 39706195, "comment_id": 66715616, "body": "@AndrzejA.Filip Thanks for the information. I tried <code>Net::SMTP</code> now and it also fails at <code>$smtp-&gt;auth( $user, $password )</code>. This time there is no internal syntax error as in <code>Net::SMTPS</code>, instead it returns <code>undef</code> indicating a failure to authenticate. I noticed that there is also a <code>$smtp-&gt;auth ( SASL )</code> where you can supply a <code>Authen::SASL</code> object instead. But I am not sure how to do that based on the documentation in <a href=\"https://metacpan.org/pod/Authen::SASL::XS\" rel=\"nofollow noreferrer\"><code>Authen::SASL::XS</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474918105, "post_id": 39709947, "comment_id": 66719579, "body": "Thanks for the code, but it does not work. Still the authentication is the problem. Here is the output I get: <a href=\"http://pastebin.com/JEMCKHNy\" rel=\"nofollow noreferrer\">pastebin.com/JEMCKHNy</a>"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474950604, "post_id": 39709947, "comment_id": 66729749, "body": "My last guess:  Try to force use of Authen::SASL::Perl -&gt; <code>use Authen::SASL qw(Perl);</code>.  Authen::SASL::Perl is implemented in perl and it supports <code>PLAIN</code> and <code>LOGIN</code> methods."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474970786, "post_id": 39709947, "comment_id": 66741039, "body": "Thanks again for your time. Using <code>Authen::SASL::Perl</code> it still does not work, but I get more information when trying to authenticate now. <a href=\"http://pastebin.com/MfUjiwkA\" rel=\"nofollow noreferrer\">Here</a> is the script, and <a href=\"http://pastebin.com/WcCWz1Fc\" rel=\"nofollow noreferrer\">here</a> is the output. Now I get the message: <code>Please log in via your web browser and then try again.</code>. I think I maybe need to use XOAuth2 login, but it seems that it is not supported by <code>Authen::SASL</code>. I am able to use <a href=\"https://github.com/joestump/python-oauth2\" rel=\"nofollow noreferrer\">python-oauth2</a> to send mail with <code>smtp.gmail.com</code> at port 587, but I wonder how to do this in Perl?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474982726, "post_id": 39709947, "comment_id": 66749186, "body": "It MAY be OK thus time. It seems that google locked out your email account for some reason - log via web browser as suggested. CHANGE YOUR PASSWORD."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474985096, "post_id": 39709947, "comment_id": 66750948, "body": "Hmm.. No, actually it seems it is not related to a lockout from google. I tried to change my password now, and I get exactly the same message when trying to authenticate. Also, if I try give a wrong password, I get <code>Username and Password not accepted.</code> from <code>$smtp-&gt;auth()</code> so it clearly accepts my username and password, but later decides that the SASL <code>LOGIN</code> mechanism is not good enough anyway.. (Also I am able to send email using a similar python script as I said in the comment above, except that I used XOAUTH2)"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474986914, "post_id": 39709947, "comment_id": 66752358, "body": "<b>Temporarily</b> turn off google two step verification - check if it makes difference <a href=\"https://support.google.com/accounts/answer/1064203?hl=en\" rel=\"nofollow noreferrer\">support.google.com/accounts/answer/1064203?hl=en</a> , If it makes difference then <b>carefully</b> consider turning it off permanently."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474992212, "post_id": 39709947, "comment_id": 66756113, "body": "No that is not the issue either. I already have it turned that  off. I rather suspect that it is the sign-in security policy, see <a href=\"http://stackoverflow.com/questions/10013736/how-can-i-avoid-google-mail-server-asking-me-to-log-in-via-browser/33244509#33244509\">this</a> question. I have not allowed less secure apps in my <a href=\"https://myaccount.google.com/security?pli=1\" rel=\"nofollow noreferrer\">account setup</a>. I will check if this is the case later today, and come back with more information."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1475002337, "post_id": 39709947, "comment_id": 66762157, "body": "Yes, I can confirm that it works if I allow less secure apps in my account setup. But this is not what I want. I do not want to reduce the security level for my account just in order to be able to send emails. I know it is possible to send email using XOAUTH2 in Python, so I would like to find out if it is possilble to do it in Perl also. Thanks for all the help an have a nice evening!"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 1, "last_activity_date": 1474950370, "last_edit_date": 1474950370, "creation_date": 1474914805, "answer_id": 39709947, "question_id": 39706195, "link": "https://stackoverflow.com/questions/39706195/sending-email-using-netsmtps-use-of-uninitialized-value/39709947#39709947", "title": "Sending email using Net::SMTPS : Use of uninitialized value $_", "body": "<p>Try the code below.  Change user and password.<br>\nIt connects to SMTPS. It seems to work on my linux.<br>\nNet::SMTP requires $smtp->starttls() to execute STARTTLS command.</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\nuse utf8;\n\nuse Net::SMTP 3.0;\n# Force use of Authen::SASL::Perl - it may fix problems with other alternatives\nuse Authen::SASL qw(Perl);\n\nmy $smtp = Net::SMTP-&gt;new(\n    'smtp.gmail.com',\n    SSL=&gt;1,\n    Timeout =&gt; 20,\n    Debug   =&gt; 1,\n);\ndie \"Initialization failed: $!\" if !defined $smtp;\n\nmy $sender = my $user = 'john.doe@gmail.com';\nmy $password = '????';\nprint \"Trying to authenticate..\";\n$smtp-&gt;auth( $user, $password) or die \"could not authenticate\\n\";\n\nmy $receiver = 'john.doe@gmail.com';\n$smtp-&gt;mail( $sender );\n$smtp-&gt;to( $receiver );\n$smtp-&gt;data();\n$smtp-&gt;datasend( \"To: $receiver\\n\" );\n$smtp-&gt;datasend( \"From: $sender\\n\" );\n$smtp-&gt;datasend( \"Content-Type: text/html\\n\" );\n$smtp-&gt;datasend( \"Subject: Testing Net::SMTP\" );\n$smtp-&gt;datasend( \"\\n\" );\n$smtp-&gt;datasend( 'The body of the email' );\n$smtp-&gt;dataend();\n$smtp-&gt;quit();\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474950370, "creation_date": 1474902137, "question_id": 39706195, "link": "https://stackoverflow.com/questions/39706195/sending-email-using-netsmtps-use-of-uninitialized-value", "title": "Sending email using Net::SMTPS : Use of uninitialized value $_", "body": "<p>I am trying to send email using <a href=\"https://metacpan.org/pod/Net::SMTPS\" rel=\"nofollow\"><code>Net::SMTPS</code></a> and gmail:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nuse Net::SMTPS;\n\nmy $smtp = Net::SMTPS-&gt;new(\n    'smtp.gmail.com',\n    Port    =&gt; 587,\n    Timeout =&gt; 20,\n    Debug   =&gt; 1,\n    doSSL   =&gt; 'starttls',\n);\ndie \"Initialization failed: $!\" if !defined $smtp;\n\nmy $sender = my $user = 'hakon.hagland@gmail.com';\nmy $password = '????';    \nsay \"Trying to authenticate..\";\n$smtp-&gt;auth( $user, $password, 'LOGIN'  ) or die \"could not authenticate\\n\";\n\nmy $receiver = 'hakon.hagland@gmail.com';    \n$smtp-&gt;mail( $sender );\n$smtp-&gt;to( $receiver );\n$smtp-&gt;data();\n$smtp-&gt;datasend( \"To: $receiver\\n\" );\n$smtp-&gt;datasend( \"From: $sender\\n\" );\n$smtp-&gt;datasend( \"Content-Type: text/html\\n\" );\n$smtp-&gt;datasend( \"Subject: Testing Net::SMTPS\" );\n$smtp-&gt;datasend( \"\\n\" );\n$smtp-&gt;datasend( 'The body of the email' );\n$smtp-&gt;dataend();\n$smtp-&gt;quit();\nsay \"Done.\";\n</code></pre>\n\n<p>The output when running this script (Ubuntu 16.04, Perl version 5.22.1) is:</p>\n\n<pre><code>Net::SMTPS&gt;&gt;&gt; Net::SMTPS(0.04)\nNet::SMTPS&gt;&gt;&gt;   IO::Socket::INET6(2.72)\nNet::SMTPS&gt;&gt;&gt;     IO::Socket(1.38)\nNet::SMTPS&gt;&gt;&gt;       IO::Handle(1.35)\nNet::SMTPS&gt;&gt;&gt;         Exporter(5.72)\nNet::SMTPS&gt;&gt;&gt;   Net::SMTP(3.05)\nNet::SMTPS&gt;&gt;&gt;     Net::Cmd(3.05)\nNet::SMTPS&gt;&gt;&gt;     IO::Socket::IP(0.37)\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 220 smtp.gmail.com ESMTP x131sm3965376lff.44 - gsmtp\nNet::SMTPS=GLOB(0x10b2dd8)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-smtp.gmail.com at your service, [195.139.193.120]\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-SIZE 35882577\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-STARTTLS\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-PIPELINING\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-CHUNKING\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250 SMTPUTF8\nNet::SMTPS=GLOB(0x10b2dd8)&gt;&gt;&gt; STARTTLS\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 220 2.0.0 Ready to start TLS\nNet::SMTPS=GLOB(0x10b2dd8)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-smtp.gmail.com at your service, [195.139.193.120]\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-SIZE 35882577\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-PIPELINING\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250-CHUNKING\nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 250 SMTPUTF8\nTrying to authenticate..\nUse of uninitialized value $_ in pattern match (m//) at /usr/share/perl/5.22/Net/Cmd.pm line 250.\nUse of uninitialized value in join or string at /usr/share/perl/5.22/Net/Cmd.pm line 249.\nNet::SMTPS=GLOB(0x10b2dd8)&gt;&gt;&gt; AUTH \nNet::SMTPS=GLOB(0x10b2dd8)&lt;&lt;&lt; 555 5.5.2 Syntax error. x131sm3965376lff.44 - gsmtp\ncould not authenticate\n</code></pre>\n\n<p>I wonder why I get this error:</p>\n\n<pre><code>Use of uninitialized value $_ in pattern match (m//) at /usr/share/perl/5.22/Net/Cmd.pm line 250.\nUse of uninitialized value in join or string at /usr/share/perl/5.22/Net/Cmd.pm line 249.\n</code></pre>\n\n<p>when trying to authenticate?</p>\n"}, {"tags": ["perl", "https", "request", "response", "dancer"], "comments": [{"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1474901708, "post_id": 39706010, "comment_id": 66710149, "body": "no error but I only see the call to the dancer route(get /gethealthadduser) on the network console, not the post request"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1474901817, "post_id": 39706010, "comment_id": 66710207, "body": "&quot;the network console&quot; \u2014 do you mean the one in the browser&#39;s Developer Tools? Since that is being made from Perl to the server, the browser isn&#39;t involved, so there is no reason for the browser to know about it."}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1474901972, "post_id": 39706010, "comment_id": 66710304, "body": "Thank you, good point :p"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1474902543, "post_id": 39706010, "comment_id": 66710640, "body": "but the second request should appear in my perl console, and does not"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474902603, "post_id": 39706010, "comment_id": 66710661, "body": "No, it would not appear in your Dancer log unless you write it to the log."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1474902603, "post_id": 39706010, "comment_id": 66710662, "body": "Which Perl console? Do you have one for the server hosting <code>https:&#47;&#47;platform.gethealth.io&#47;v1&#47;health&#47;account&#47;user</code>?"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1474902695, "post_id": 39706010, "comment_id": 66710722, "body": "no  only for the app that issues the call to gethealth.io"}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 1, "creation_date": 1474903123, "post_id": 39706370, "comment_id": 66711063, "body": "thank you @simbabque the request is sent but im getting a 301 response. Think it is because the curl post passes parameters as <code>{&quot;user&quot;: { &quot;uid&quot;:&quot;13453&quot;},&quot;access_token&quot;:&quot;3428D3194353750548196BA3FD83E&zwnj;&#8203;58474E26B8B9&quot;}</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 1, "creation_date": 1474903265, "post_id": 39706370, "comment_id": 66711166, "body": "You can use <code>`...`</code> to highlight code in comments. The ``` character is called backtick and is on the left of the <code>1</code> key on a US keyboard. The way you posted it I don&#39;t understand. Quotes and things matter here. Please refer to the markdown help if you don&#39;t know what I&#39;m talking about. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1474903475, "post_id": 39706370, "comment_id": 66711319, "body": "@Ax so you get a redirect? That&#39;s probably good. It might redirect you to the URL of the new user object. Curl just puts the JSON string into the request body, right? Anyway a 3xx response code is not an error."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1474902586, "creation_date": 1474902586, "answer_id": 39706370, "question_id": 39706010, "link": "https://stackoverflow.com/questions/39706010/post-request-with-perl-and-read-response-object-within-dancer-route/39706370#39706370", "title": "POST request with Perl and read response object within dancer route", "body": "<p>I take it you are working with Dancer already, or you are adding something to an existing application, and the goal is to hide the POST request to another service behind your API.</p>\n\n<p>In your curl example, you have the Content-Type <code>application/json</code>, but in your Perl code you are sending a form. That's likely going to be the Content-Type <code>application/x-www-form-urlencoded</code>. It might not be what the server wants.</p>\n\n<p>In addition to that, you were passing the form data as an array reference, which makes <code>POST</code> believe they are headers. That not what you want.</p>\n\n<p>In order to do the same thing you are doing with curl, you need a few more steps.</p>\n\n<ul>\n<li>You need to convert the data to JSON. Luckily Dancer brings <a href=\"https://v1.metacpan.org/pod/Dancer#to_json-structure-options\" rel=\"nofollow\">a nice DSL keyword <code>to_json</code></a> that does that easily.</li>\n<li>You need to tell LWP::UserAgent to use the right Content-Type header. That's <code>application/json</code> and you can set it either at the request level, or as a default for the user agent object. I'll do the former.</li>\n<li>In addition to that, I recommend not using HTTP::Request::Common to import keywords into a Dancer app. <code>GET</code> and <code>POST</code> and so on are upper-case and the Dancer DSL has <code>get</code> and <code>post</code> which is lower-case, but it's still confusing. Use <a href=\"http://p3rl.org/HTTP::Request\" rel=\"nofollow\">HTTP::Request</a> explicitly instead. </li>\n</ul>\n\n<p>Here's the final thing.</p>\n\n<pre><code>use LWP::UserAgent;\nuse HTTP::Request;\n\nget '/gethealthadduser/:id' =&gt; sub {\n    my $ua  = LWP::UserAgent-&gt;new;\n    my $req = HTTP::Request-&gt;new(\n        POST =&gt; 'https://platform.gethealth.io/v1/health/account/user',\n        [ 'Content-Type' =&gt; 'application/json' ],                                   # headers\n        to_json { user =&gt; param(\"id\"), access_token =&gt; config-&gt;{gethealthtoken} },  # content\n    );\n\n    my $res = $ua-&gt;request($req);\n\n    # log the call with log level debug\n    debug sprintf( 'Posted to gethealth.io with user %s and got a %s back.', \n        param('id'), \n        $res-&gt;status_line\n    );\n\n    # do things with $res\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "is_accepted": false, "score": 2, "last_activity_date": 1617157477, "last_edit_date": 1617157477, "creation_date": 1474917900, "answer_id": 39710790, "question_id": 39706010, "link": "https://stackoverflow.com/questions/39706010/post-request-with-perl-and-read-response-object-within-dancer-route/39710790#39710790", "title": "POST request with Perl and read response object within dancer route", "body": "<p>Try using HTTP::Tiny (it's on CPAN).  IMHO, it's a much cleaner module than LWP::UserAgent, although the latter is much more popular.</p>\n<p>Here's some code that should work out of the box:</p>\n<pre><code>use HTTP::Tiny 0.064;  # use a recent version or better\n\nmy $url = 'https://api.somewhere.com/api/users';\nmy $data = {\n  first_name =&gt; &quot;joe&quot;,\n  last_name =&gt; &quot;blow&quot;\n};\nmy $method = 'POST';\n\n\nmy $default_headers = {\n  'Authorization' =&gt; &quot;Bearer &quot;.$token,  # if needed\n  'Accept' =&gt; 'application/json'\n};\n\nmy $tiny = HTTP::Tiny-&gt;new(\n  agent =&gt; 'mywebsite.com',\n  default_headers =&gt; $default_headers,\n  timeout =&gt; 30\n);\n\nmy $response;\nif ( ($method eq 'POST') || ($method eq 'PUT') ) {\n  $response = $tiny-&gt;request($method, $url, {\n    headers =&gt; {\n      'Content-Type' =&gt; 'application/json'\n    },\n    content =&gt; &amp;toJSON($data)\n  });\n}\nelse {\n  if ($data) {\n    die &quot;data cannot be included with method $method&quot;; \n  }\n  $response = $tiny-&gt;request($method, $url); \n}\n\ndie unless $response-&gt;{'success'};\n</code></pre>\n<p>Good luck on your project!</p>\n"}, {"comments": [{"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1475042852, "post_id": 39739148, "comment_id": 66775998, "body": "@simbabque few minor fixes on top of your solution: <code>to_json {</code> =&gt; <code>JSON::to_json({</code> ,  param structure of <code>my %user</code> and url ending with <code>&#47;</code> if you apply edits I&#180;ll accept your answer, thanks again"}], "tags": [], "owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "is_accepted": false, "score": 0, "last_activity_date": 1475042588, "creation_date": 1475042588, "answer_id": 39739148, "question_id": 39706010, "link": "https://stackoverflow.com/questions/39706010/post-request-with-perl-and-read-response-object-within-dancer-route/39739148#39739148", "title": "POST request with Perl and read response object within dancer route", "body": "<p>Here is the solution with the correct format and structure of posted parameters:</p>\n\n<pre><code>get '/api/gethealthadduser/:id' =&gt; sub {\n    my %user = (\n        uid  =&gt; param(\"id\")\n    );\n    # my $user = {\n    #     uid  =&gt; param(\"id\")\n    # };\n\n    my $ua  = LWP::UserAgent-&gt;new;\n    my $req = HTTP::Request-&gt;new(\n        POST =&gt; 'https://platform.gethealth.io/v1/health/account/user/',\n        [ 'Content-Type' =&gt; 'application/json' ],                                   # headers\n        JSON::to_json({ user =&gt; \\%user, access_token =&gt; config-&gt;{gethealthtoken} })  # content\n    );\n    my $res = $ua-&gt;request($req);\n    print STDERR Dumper($res);\n    $res;\n};\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3603, "favorite_count": 0, "accepted_answer_id": 39706370, "answer_count": 3, "score": 0, "last_activity_date": 1617157477, "creation_date": 1474901600, "last_edit_date": 1474902421, "question_id": 39706010, "link": "https://stackoverflow.com/questions/39706010/post-request-with-perl-and-read-response-object-within-dancer-route", "title": "POST request with Perl and read response object within dancer route", "body": "<p>Trying to write the exact equivalence in perl of the following:</p>\n\n<pre><code>curl -H \"Content-Type: application/json\" -X POST -d '{\"user\": { \"uid\":\"13453\"},\"access_token\":\"3428D3194353750548196BA3FD83E58474E26B8B9\"}' https://platform.gethealth.io/v1/health/account/user/\n</code></pre>\n\n<p>Unexperienced with perl, this is what I have tried:</p>\n\n<pre><code>use HTTP::Request::Common;\nuse LWP::UserAgent;\n\nget '/gethealthadduser/:id' =&gt; sub {\n  my $ua = LWP::UserAgent-&gt;new;\n  $ua-&gt;request(POST 'https://platform.gethealth.io/v1/health/account/user', [{\"user\": { \"uid\":param(\"id\")},\"access_token\":config-&gt;{gethealthtoken}}]);\n};\n</code></pre>\n"}, {"tags": ["perl", "email", "ssl", "exchange-server", "imap"], "comments": [{"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1474906172, "post_id": 39705816, "comment_id": 66713050, "body": "Are you using openssl in the same context as PHP?  It looks like you&#39;re running it as root.  Are there user-specific firewall rules?"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1474916691, "post_id": 39705816, "comment_id": 66718788, "body": "<b><i><code>Unable to connect to imapx.servers.net</code></i></b> - if I am parsing the exception message correctly, it looks like a DNS problem. In fact <b><i><code>ping imapx.servers.net</code></i></b> results in <b><i><code>ping: cannot resolve imapx.servers.net: Unknown host</code></i></b>."}, {"owner": {"reputation": 41, "user_id": 5275424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SR2cE.jpg?s=128&g=1", "display_name": "NetNeutron", "link": "https://stackoverflow.com/users/5275424/netneutron"}, "edited": false, "score": 0, "creation_date": 1474975918, "post_id": 39705816, "comment_id": 66744404, "body": "I should have stated that the servername, user and password have been altered to protect the guilty."}, {"owner": {"reputation": 564, "user_id": 158575, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50c5f04c098fa8e109cbccc2d116a4d5?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/158575/todd"}, "edited": false, "score": 0, "creation_date": 1477694142, "post_id": 39705816, "comment_id": 67885376, "body": "Does your imapx server have a valid SSL cert or is it self signed?  You can test if it is a cert problem by changing the Ssl option to: Ssl =&gt; [ &#39;SSL_verify_mode&#39;, 0 ].  If that can connect, then you need to look at your certs."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481497253, "post_id": 39705816, "comment_id": 69389089, "body": "Can you not proceed with SSL?"}], "owner": {"reputation": 41, "user_id": 5275424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SR2cE.jpg?s=128&g=1", "display_name": "NetNeutron", "link": "https://stackoverflow.com/users/5275424/netneutron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 660, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1474916809, "creation_date": 1474900971, "last_edit_date": 1474916809, "question_id": 39705816, "link": "https://stackoverflow.com/questions/39705816/connecting-to-microsoft-exchange-imap4-service-using-perl-mailimapclient", "title": "Connecting to Microsoft Exchange IMAP4 service using perl Mail::IMAPClient", "body": "<p>I am trying to use Mail::IMAPClient to connect to a MS Exchange mailbox.\nRead messages in the INBOX and depending on the contents formats and sends email to other mailboxes.</p>\n\n<p>This snippet program is a test to only connect using IMAP and then disconnect.  The snippet fails to connect, but I can connect using openssl.</p>\n\n<pre><code>!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Mail::IMAPClient;\n\nuse lib \"/usr/local/share/perl5\";\n\nmy $IMAPserver  = \"imapx.servers.net\";\nmy $IMAPuser    = \"emailUser\";\nmy $IMAPpass    = \"resUliame\";\nmy $IMAPport    = 993;\nprint \"Start\\n\";\n# Attach a client using an SSL socket.\nmy $client = Mail::IMAPClient-&gt;new(\n        Server          =&gt; $IMAPserver,\n        Port            =&gt; $IMAPport,\n        User            =&gt; $IMAPuser,\n        Password        =&gt; $IMAPpass,\n        Ssl             =&gt; 1,\n        DEBUG           =&gt; 1\n)\nor die \"new(): $@\";\n$client-&gt;State(Mail::IMAPClient::Connected);\n\n# Close IMAP connections\n$client-&gt;logout();\nprint \"Done\\n\";\n</code></pre>\n\n<p>This is the output I get...</p>\n\n<pre><code>Start\nStarted at Mon Sep 26 10:28:16 2016\nUsing Mail::IMAPClient version 3.38 on perl 5.010001\nConnecting with IO::Socket::SSL PeerAddr imapx.servers.net PeerPort 993 Proto tcp Timeout 600 Debug 1\nERROR: Unable to connect to imapx.servers.net:  at /usr/local/share/perl5/Mail/IMAPClient.pm line 370.\n        Mail::IMAPClient::connect(Mail::IMAPClient=HASH(0x2064b98)) called at /usr/local/share/perl5/Mail/IMAPClient.pm line 313\n        Mail::IMAPClient::new(\"Mail::IMAPClient\", \"Server\", \"imapx.servers.net\", \"Port\", 993, \"User\", \"emailUser\", \"Password\", \"resUliame\", ...) called at ./testEmail.pl line 17\nnew(): Unable to connect to imapx.servers.net:  at ./testEmail.pl line 17\n</code></pre>\n\n<p>I can connect with openssl so I know the server, port, user &amp; passwd is correct.</p>\n\n<pre><code># openssl s_client -connect imapx.servers.net:993 -crlf\nCONNECTED(00000003)\n\n* OK The Microsoft Exchange IMAP4 service is ready.\n* LOGIN emailUser resUliame\n* OK LOGIN completed.\n* SELECT Inbox\n* 28027 EXISTS\n* 1 RECENT\n* FLAGS (\\Seen \\Answered \\Flagged \\Deleted \\Draft $MDNSent)\n* OK [PERMANENTFLAGS (\\Seen \\Answered \\Flagged \\Deleted \\Draft $MDNSent)] Permanent flags\n* OK [UNSEEN 27544] Is the first unseen message\n* OK [UIDVALIDITY 64268] UIDVALIDITY value\n* OK [UIDNEXT 46567390] The next unique identifier value\n* OK [READ-WRITE] SELECT completed. \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474895148, "post_id": 39703642, "comment_id": 66705403, "body": "This is very unclear. Are those <code>my@array</code> lines literal content of your file? Are you trying to programmatically change a piece of source code? Are both approaches in the same program, or did you try each of them individually?"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474895478, "post_id": 39703642, "comment_id": 66705638, "body": "I should be my @array, I was trying both the approaches on same program and also tried each of them individually ."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474895560, "post_id": 39703642, "comment_id": 66705708, "body": "Bareword found where operator expected at -e line 1, near &quot;0C0x4A0x000x010x000x000x020&quot;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474895625, "post_id": 39703642, "comment_id": 66705759, "body": "@choroba I think that first code block is the content of <code>DATA</code>. But there&#39;s a <code>0</code> too much at the end."}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "edited": false, "score": 3, "creation_date": 1474899326, "post_id": 39703642, "comment_id": 66708588, "body": "considering your history of similar questions with no accepted answers, it seems hard to help you"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474900967, "post_id": 39703642, "comment_id": 66709666, "body": "You open <code>$output_fh</code> in read mode <code>&quot;&lt;&quot;</code> and then print to it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474903748, "post_id": 39703642, "comment_id": 66711523, "body": "The code you show won&#39;t even compile. Neither <code>$output_filename</code> nor <code>input_fh</code> exist. Did you just add <code>use strict</code> and <code>use warnings</code> to your program before you posted it so that you wouldn&#39;t get told off?"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474909775, "post_id": 39703642, "comment_id": 66715028, "body": "yes $output_fh  will be write mode .just I have given some information that what I want to do"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474897693, "post_id": 39704142, "comment_id": 66707361, "body": "sorry I have not explained my requirement properly.The input my @array that is actually my hex_array dump that I have collected from my code now I want to separate hex_array element for each of 4 character by comma."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 1, "creation_date": 1474897782, "post_id": 39704142, "comment_id": 66707426, "body": "@abhi I have no idea what you are talking about. Please go back, edit your question and clearly explain, with properly indented code. We&#39;re all guessing here."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1474896312, "creation_date": 1474896312, "answer_id": 39704142, "question_id": 39703642, "link": "https://stackoverflow.com/questions/39703642/separating-array-elements-every-4-characters-in-array/39704142#39704142", "title": "separating array elements every 4 characters in array", "body": "<p>This will work for exactly your example, if that array assignment is its own line and is not multi-line.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (my $line = &lt;DATA&gt;) {\n    # find and grab the chunk of hex values inside of the array assignment\n    ( my $match ) = $line =~ m/\\(((?:0x[0-9A-F]{2})+)\\)/;\n\n    next unless $match;\n\n    # make a copy that we will change\n    my $replaced = $match;\n\n    # add a comma every four until the last one\n    # and insert comma\n    $replaced =~ s/(....)(?!$)/$1,/g;\n\n    # but the replacement back into the current line\n    $line =~ s/\\Q$match\\E/$replaced/;\n\n    print $line;\n}\n\n__DATA__\nmy@array=(0x0B0x0C0x4A0x000x010x000x000x02)\n</code></pre>\n\n<p>As soon as the initial pattern for <code>$line</code> doesn't match, it will break apart. Also note that you have an additional <code>0</code> at the end of your long string of hex numbers. My code only works if you fix that.</p>\n\n<p>Output:</p>\n\n<pre><code>my@array=(0x0B,0x0C,0x4A,0x00,0x01,0x00,0x00,0x02)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474900189, "post_id": 39704481, "comment_id": 66709139, "body": "I have tried your approach with adding more array elements I got output looks like :$VAR1 = &#39;0x0B0x0C0x4A0x000x010x000x000x020x000x000x0A0x000x000x000x0&zwnj;&#8203;40x000x000x040x050x0&zwnj;&#8203;00x001f0x001f0x007f0&zwnj;&#8203;x000x000x002b0x007f&#39;&zwnj;&#8203;;"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474900663, "post_id": 39704481, "comment_id": 66709425, "body": "<code>print Dumper @outarray;</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474900763, "post_id": 39704481, "comment_id": 66709506, "body": "And also Junk characters found in your more elements added in array."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476062215, "post_id": 39704481, "comment_id": 67180590, "body": "@ssr1012, If you examine the code, you&#39;ll see they actually have <code>my @hex_array = ( &#39;0x0B&#39;, &#39;0x0C&#39;, &#39;0x4A&#39;, &#39;0x00&#39;, &#39;0x01&#39;, &#39;0x00&#39;, &#39;0x00&#39;, &#39;0x02&#39; );</code>"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": -4, "last_activity_date": 1474900686, "last_edit_date": 1495535655, "creation_date": 1474897204, "answer_id": 39704481, "question_id": 39703642, "link": "https://stackoverflow.com/questions/39703642/separating-array-elements-every-4-characters-in-array/39704481#39704481", "title": "separating array elements every 4 characters in array", "body": "<p>Please try this:  </p>\n\n<pre><code>my @array = (\"0x0B0x0C0x4A0x000x010x000x000x020\");\nmy @outarray = map { (my $vars = $_) =~ s/\\w{4}/$&amp;\\,/g; $vars; } @array ;\nuse Data::Dumper;\nprint Dumper @outarray;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/1458454/why-is-the-list-my-perl-map-returns-just-1s\">Thanks to @derobert</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1476062325, "last_edit_date": 1476062325, "creation_date": 1474913685, "answer_id": 39709638, "question_id": 39703642, "link": "https://stackoverflow.com/questions/39703642/separating-array-elements-every-4-characters-in-array/39709638#39709638", "title": "separating array elements every 4 characters in array", "body": "<p>You don't have</p>\n\n<pre><code>my @hex_array = ( 0x0B0x0C0x4A0x000x010x000x000x020 );\n</code></pre>\n\n<p>For starters, that doesn't even compile. What you actually have is the following:</p>\n\n<pre><code>my @hex_array = ( '0x0B', '0x0C', '0x4A', '0x00', '0x01', '0x00', '0x00', '0x02' );\n</code></pre>\n\n<p>To get</p>\n\n<pre><code>my @num_array = ( 0x0B, 0x0C, 0x4A, 0x00, 0x01, 0x00, 0x00, 0x02 );\n</code></pre>\n\n<p>simply change</p>\n\n<pre><code>push @hex_array, $1;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>push @num_array, hex($1);\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 39704481, "answer_count": 3, "score": -2, "last_activity_date": 1476062325, "creation_date": 1474894981, "last_edit_date": 1474903441, "question_id": 39703642, "link": "https://stackoverflow.com/questions/39703642/separating-array-elements-every-4-characters-in-array", "title": "separating array elements every 4 characters in array", "body": "<p>I have an array like this</p>\n\n<pre><code>my @array=(0x0B0x0C0x4A0x000x010x000x000x020)\n</code></pre>\n\n<p>I want to insert comma for each of the 4 character what i mean here is</p>\n\n<pre><code>my @array=(0x0B,0x0C,0x4A,0x00,0x01,0x00,0x00,0x02)\n</code></pre>\n\n<h3>My Perl code</h3>\n\n<pre><code>#! /usr/bin/env perl\nuse strict;\nuse warnings;\nmy @hex_array;\n# Name of the input file\nmy $input_filename = 'input.txt';\n\n# Open the file\nopen my $input_fh, \"&lt;\", $input_filename or die $!;\n\n# Name of the output file\nmy $outut_filename = 'output.txt';\n\n# Open the file\nopen my $output_fh, \"&lt;\", $output_filename or die $!;\n\n# reading input file by line by line.\nwhile (&lt;input_fh&gt;)\n{\n    # here i am extracting all hex value\n    while ($_ =~ m/(0x(\\d+)(?:[0-9]|[A-f])+)/gi)\n    {\n        push @hex_array, $1; #push the element\n    } # end of second while loop\n} # end of first while loop\n\nprint @hex_array;\n</code></pre>\n\n<h3>first approach</h3>\n\n<pre><code>unpack(\"(A2)*\", $hex_array);\nprint {$output_fh} join(\"U, \", @hex_array);\n</code></pre>\n\n<h3>second approach</h3>\n\n<pre><code>foreach my $element (@hex_array)\n{\n   if (length $element eq 4)\n   {\n       #print @hex_array;\n       print {$output_fh} join(\"U, \", @hex_array);\n   }\n}\n</code></pre>\n\n<p>but both approaches did not work. What would be an appropriate solution?</p>\n"}, {"tags": ["perl", "integration", "coded-ui-tests"], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 2260923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/31mHw.png?s=128&g=1", "display_name": "Rajesh S", "link": "https://stackoverflow.com/users/2260923/rajesh-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1475216514, "creation_date": 1475216514, "answer_id": 39784930, "question_id": 39703375, "link": "https://stackoverflow.com/questions/39703375/integration-of-coded-ui/39784930#39784930", "title": "Integration of Coded UI", "body": "<p>There is no official support for Pearl script from microsoft. But you can integrate it with VB script. For your kind information, CodedUI does support all the HTML and WIN custom controls, and partially supports the 3rd party controls like KendoUI, Telerik. You just need to produce the correct properties.. Good luck !!</p>\n"}], "owner": {"reputation": 35, "user_id": 3958632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be7c97afdf158f735f48466a948369b?s=128&d=identicon&r=PG&f=1", "display_name": "solai Alagappan", "link": "https://stackoverflow.com/users/3958632/solai-alagappan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1477319393, "creation_date": 1474894307, "last_edit_date": 1474898558, "question_id": 39703375, "link": "https://stackoverflow.com/questions/39703375/integration-of-coded-ui", "title": "Integration of Coded UI", "body": "<p>Is it possible to integrate coded UI with any other scripting languages?</p>\n\n<p>Since Coded UI doesn't support many custom controls and third party controls, it would be better if we could integrate coded UI with scripting, like Perl scripting.</p>\n"}, {"tags": ["bash", "perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 7, "creation_date": 1474894146, "post_id": 39703267, "comment_id": 66704723, "body": "OK, you&#39;ve read all those answers...have you made an attempt of your own, based on what you&#39;ve read? If so, what problems are you facing?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1474894165, "post_id": 39703267, "comment_id": 66704738, "body": "You phrased this question like a code golf request. Judging from your experience, you should know better. ;)"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1474894173, "post_id": 39703267, "comment_id": 66704742, "body": "What do you want then, if you already have those answers?"}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474894425, "post_id": 39703267, "comment_id": 66704888, "body": "@simbabque I can write a script to handle this, but I think this is possible using a one-line command but I cannot find :-/ I think this could be a good question for SO, don&#39;t you ?"}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1474894616, "post_id": 39703267, "comment_id": 66705035, "body": "@123 I have posted too quicly my question. There are many similar questions I have read, but I cannot find an answer for my issue :-/"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1474894747, "post_id": 39703267, "comment_id": 66705127, "body": "@olibre I can&#39;t work out how the other questions don&#39;t answer this?"}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1474894958, "post_id": 39703267, "comment_id": 66705275, "body": "@123 Most of the other answers and my own attempts print the line <code>ccc</code>. I am checking your last command of your answer ;-)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474894971, "post_id": 39703267, "comment_id": 66705287, "body": "@fedorqui: The output is not exactly the same. It doesn&#39;t contain the borderlines, and it prints <code>ccc</code>, too."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474895110, "post_id": 39703267, "comment_id": 66705383, "body": "@choroba yep, I noticed later. The problem here is that the OP wants to print when the PAT2 occurs for the last time in a given block, so it keeps adding stuff in the buffer. Weird case. I got close adapting <a href=\"http://stackoverflow.com/a/38972737/1983854\">this answer</a> with <code>awk &#39;flag{ if (&#47;Any--END--Pattern&#47;){buf=buf $0 ORS; printf &quot;%s&quot;, buf; flag=0; buf=&quot;&quot;} else buf = buf $0 ORS}; &#47;ANY--BEGIN--PATTERN&#47;{flag=1; buf=$0 ORS}&#39; file</code>"}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1474895850, "post_id": 39703267, "comment_id": 66705937, "body": "@TomFenech Thank you for your feedback about my original question, I have explained better my issue and why the other similar questions do not apply. (I will delete this comment and other of my comments later.) Cheers"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 2, "creation_date": 1474896110, "post_id": 39703267, "comment_id": 66706127, "body": "becomes simpler by reversing input file, <code>tac ip.txt | sed -n &#39;&#47;Any--END--Pattern&#47;,&#47;ANY--BEGIN--PATTERN&#47;p&#39; | tac</code> but with unnecessary first two lines of input file..."}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1474896910, "post_id": 39703267, "comment_id": 66706732, "body": "@Sundeep Lovely tiny and understandable answer ;-) And I do not care about the little drawback about the extra <code>Any--END--Pattern</code>. Congratulations :-)"}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1474968400, "post_id": 39703267, "comment_id": 66739388, "body": "Hi @Sundeep  I am using your trick in my document: <a href=\"https://github.com/olibre/CppCoding/blob/gh-pages/cpp/rules.md#fiqc--double-quotes--and-angle-brackets-\" rel=\"nofollow noreferrer\">github.com/olibre/CppCoding/blob/gh-pages/cpp/&hellip;</a>  I am requesting to reopen this question in order to let you provide your pretty simple answer. Thank you ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474894858, "post_id": 39703577, "comment_id": 66705214, "body": "Hardly a one-liner though ;)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1474895364, "post_id": 39703577, "comment_id": 66705559, "body": "@simbabque: Updated ;-)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1474895215, "last_edit_date": 1474895215, "creation_date": 1474894803, "answer_id": 39703577, "question_id": 39703267, "link": "https://stackoverflow.com/questions/39703267/print-the-smallest-set-of-lines-between-two-patterns-begin-and-end-including-t/39703577#39703577", "title": "Print the smallest set of lines between two patterns (BEGIN and END) including the lines of these two patterns", "body": "<p>Perl to the rescue!</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $last_end;\nmy @buffer;\nwhile (&lt;&gt;) {\n    if (/BEGIN/) {\n\n        print @buffer[ 0 .. $last_end ] if defined $last_end;\n\n        @buffer = $_;\n        undef $last_end;\n        next;\n    }\n    $last_end = @buffer if @buffer &amp;&amp; /END/;\n    push @buffer, $_ if @buffer;\n}\n</code></pre>\n\n<p><code>@buffer</code> accumulates the lines from BEGIN, <code>$last_end</code> points to, well, the last END in the buffer, so you can throw away accumulated lines that don't end in an END.</p>\n\n<p>As a one-liner (but why?):</p>\n\n<pre><code>perl -ne 'defined $l &amp;&amp; print(@B[0..$l]), (@B, $l) = $_, next if /BEGIN/; $l=@B if @B &amp;&amp; /END/; push @B, $_ if @B' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "is_accepted": false, "score": 1, "last_activity_date": 1474895902, "creation_date": 1474895902, "answer_id": 39703992, "question_id": 39703267, "link": "https://stackoverflow.com/questions/39703267/print-the-smallest-set-of-lines-between-two-patterns-begin-and-end-including-t/39703992#39703992", "title": "Print the smallest set of lines between two patterns (BEGIN and END) including the lines of these two patterns", "body": "<p>This should work with sed</p>\n\n<pre><code>sed '$b1;/BEGIN/{:1;x;s/\\(BEGIN.*END[^\\n]*\\).*/\\1/;t;x;h};H;d' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "edited": false, "score": 0, "creation_date": 1474965825, "post_id": 39704443, "comment_id": 66737607, "body": "Much nicer than the <code>perl</code>-based answer and more understandable than the <code>sed</code>-based answer. Thanks ;-)"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": 1, "last_activity_date": 1474897122, "creation_date": 1474897122, "answer_id": 39704443, "question_id": 39703267, "link": "https://stackoverflow.com/questions/39703267/print-the-smallest-set-of-lines-between-two-patterns-begin-and-end-including-t/39704443#39704443", "title": "Print the smallest set of lines between two patterns (BEGIN and END) including the lines of these two patterns", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk '/BEGIN/{c=0; b=1} \n              {a[c++]=$0} \n      b&amp;&amp;/END/{for(i=0;i&lt;c;i++) print a[i]; delete a; c=0}' file\n\nANY--BEGIN--PATTERN   # print 1\nddd                   # print 2\nAny--END--Pattern     # print 3\nANY--BEGIN--PATTERN   # print 4\nggg                   # print 5\nAny--END--Pattern     # print 6\nhhh                   # print 7\nAny--END--Pattern     # print 8\n</code></pre>\n"}], "owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "closed_date": 1474896553, "accepted_answer_id": 39704443, "answer_count": 3, "score": 0, "last_activity_date": 1474968293, "creation_date": 1474894030, "last_edit_date": 1495540108, "question_id": 39703267, "link": "https://stackoverflow.com/questions/39703267/print-the-smallest-set-of-lines-between-two-patterns-begin-and-end-including-t", "closed_reason": "Not suitable for this site", "title": "Print the smallest set of lines between two patterns (BEGIN and END) including the lines of these two patterns", "body": "<h2>Input file</h2>\n\n<pre><code>aaa\nAny--END--Pattern\nbbb\nANY--BEGIN--PATTERN\nccc                   # do not print\nANY--BEGIN--PATTERN   # print 1\nddd                   # print 2\nAny--END--Pattern     # print 3\neee\nfff\nANY--BEGIN--PATTERN   # print 4\nggg                   # print 5\nAny--END--Pattern     # print 6\nhhh                   # print 7\nAny--END--Pattern     # print 8\niii                   # do not print\nANY--BEGIN--PATTERN\njjj\n</code></pre>\n\n<h2>Wanted output</h2>\n\n<pre><code>ANY--BEGIN--PATTERN   # print 1\nddd                   # print 2\nAny--END--Pattern     # print 3\nANY--BEGIN--PATTERN   # print 4\nggg                   # print 5\nAny--END--Pattern     # print 6\nhhh                   # print 7\nAny--END--Pattern     # print 8\n</code></pre>\n\n<h2>Notes</h2>\n\n<ul>\n<li>Print from the latest <code>ANY--BEGIN--PATTERN</code> before the current <code>Any--END--Pattern</code>.</li>\n<li>Print until the last <code>Any--END--Pattern</code> if no <code>ANY--BEGIN--PATTERN</code> meet.</li>\n</ul>\n\n<h2>Many similar questions but cannot find an answer for this issue</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35933989\">One-liner to print all lines between two patterns</a> [perl]</li>\n<li><a href=\"https://stackoverflow.com/questions/38972736\">How to select lines between two patterns?</a> [awk/sed/grep]</li>\n<li><a href=\"https://stackoverflow.com/questions/28895208\">awk print only lines between two patterns removing first match</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17988756\">How to select lines between two marker patterns which may occur multiple times with awk/sed</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24779667\">Extract lines between two patterns with awk and a variable regex</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17988756\">How to select lines between two marker patterns which may occur multiple times with awk/sed</a></li>\n<li>...</li>\n</ul>\n\n<p>The answers I have tested from these questions print the line <code>ccc</code> and/or the line <code>iii</code>... or do not print the lines having the <code>BEGIN</code> and <code>END</code> patterns. My several attempts have these same drawbacks and defects.</p>\n\n<p>We could write a ten lines script, but I am sure there is an elegant one-line command solving this issue but I cannot find it. Therefore I think this could be a good SO question ;-)</p>\n\n<p>I wonder what are the tricks to use from <code>sed</code>, <code>awk</code>, <code>perl</code> or any other tool available easy on our Unix-like systems. Please provide a tiny command line using : <a href=\"/questions/tagged/bash\" class=\"post-tag\" title=\"show questions tagged &#39;bash&#39;\" rel=\"tag\">bash</a>, <a href=\"/questions/tagged/grep\" class=\"post-tag\" title=\"show questions tagged &#39;grep&#39;\" rel=\"tag\">grep</a>, <a href=\"/questions/tagged/sed\" class=\"post-tag\" title=\"show questions tagged &#39;sed&#39;\" rel=\"tag\">sed</a>, <a href=\"/questions/tagged/awk\" class=\"post-tag\" title=\"show questions tagged &#39;awk&#39;\" rel=\"tag\">awk</a>, <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a> or any other tool you think...</p>\n\n<hr>\n\n<h1>EDIT:</h1>\n\n<p>Just to underline the pretty simple command line from <a href=\"https://stackoverflow.com/users/4082052/sundeep\">Sundeep</a>'s comment that simplifies the problem by reversing the input file:</p>\n\n<pre><code>tac input.txt | sed -n '/END/,/BEGIN/p' | tac\n</code></pre>\n\n<p>But this command line also prints the beginning<br>\n<sup>(this case may not happen for other users looking a similar issue)</sup></p>\n\n<pre><code>aaa\nAny--END--Pattern\nANY--BEGIN--PATTERN   # print 1\nddd                   # print 2\nAny--END--Pattern     # print 3\nANY--BEGIN--PATTERN   # print 4\nggg                   # print 5\nAny--END--Pattern     # print 6\nhhh                   # print 7\nAny--END--Pattern     # print 8\n</code></pre>\n\n<p><sub>(This answer is used within <a href=\"https://github.com/olibre/CppCoding/blob/gh-pages/cpp/rules.md#fiqc--double-quotes--and-angle-brackets-\" rel=\"nofollow noreferrer\">this C++ coding rules</a>)</sub></p>\n"}, {"tags": ["windows", "perl", "strawberry-perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474888174, "post_id": 39701169, "comment_id": 66700561, "body": "Windows does not come with Perl. If it runs a Perl 5.8.8 then you have that installed somewhere. How do you run that script that complains about the missing dependency? What command do you use? It could be that this is an issue of what program gets to run it."}, {"owner": {"reputation": 1, "user_id": 6881602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3129f867b96e13a040cc0752a7fa24bd?s=128&d=identicon&r=PG&f=1", "display_name": "R_Cunnison", "link": "https://stackoverflow.com/users/6881602/r-cunnison"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474889140, "post_id": 39701169, "comment_id": 66701175, "body": "I have recently installed Strawberry Perl 5.24 onto the system, but believe that prior to this no version was installed. The command I would use is &quot;Perl script_name input_filename&quot; but I have not got this far yet- I know that I require the Statistics::R module for the script to work, which in turn requires the Regexp::Common module that has failed dependencies on installation."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474889173, "post_id": 39701169, "comment_id": 66701204, "body": "How do you install the dependencies?"}, {"owner": {"reputation": 1, "user_id": 6881602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3129f867b96e13a040cc0752a7fa24bd?s=128&d=identicon&r=PG&f=1", "display_name": "R_Cunnison", "link": "https://stackoverflow.com/users/6881602/r-cunnison"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474889289, "post_id": 39701169, "comment_id": 66701293, "body": "I&#39;m currently using cpan/cpanm commands to install"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474889467, "post_id": 39701169, "comment_id": 66701408, "body": "You need to figure out where your cpan or cpanm is located and what its working directory is. <a href=\"http://stackoverflow.com/a/304447/1331451\">stackoverflow.com/a/304447/1331451</a> might work for that, but I am not sure. I don&#39;t have a Windows to try, sorry."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474891336, "post_id": 39701169, "comment_id": 66702685, "body": "<i>\u201cas opposed to the 5.008008 that it identifies\u201d</i> are you saying that <code>Regexp::Common</code> is telling you that you are running Perl v5.8.8? What do you do to get that information?"}, {"owner": {"reputation": 1, "user_id": 6881602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3129f867b96e13a040cc0752a7fa24bd?s=128&d=identicon&r=PG&f=1", "display_name": "R_Cunnison", "link": "https://stackoverflow.com/users/6881602/r-cunnison"}, "edited": false, "score": 0, "creation_date": 1474891873, "post_id": 39701169, "comment_id": 66703088, "body": "Yes. I tried to install it via the command &quot;cpanm Regexp::Common&quot; which failed due to the version not being at least v5.01."}, {"owner": {"reputation": 1, "user_id": 6881602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3129f867b96e13a040cc0752a7fa24bd?s=128&d=identicon&r=PG&f=1", "display_name": "R_Cunnison", "link": "https://stackoverflow.com/users/6881602/r-cunnison"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474897134, "post_id": 39701169, "comment_id": 66706903, "body": "@simbabque Thanks for the help. Found an older version of perl on the system that cpan was running from. Removed and installed a newer version and the issue has gone."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474897247, "post_id": 39701169, "comment_id": 66706989, "body": "If you can, you should self-answer your question including the steps you did to find and remove that old Perl. That&#39;s helpful for others."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6881602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3129f867b96e13a040cc0752a7fa24bd?s=128&d=identicon&r=PG&f=1", "display_name": "R_Cunnison", "link": "https://stackoverflow.com/users/6881602/r-cunnison"}, "is_accepted": false, "score": 0, "last_activity_date": 1474899692, "creation_date": 1474899692, "answer_id": 39705392, "question_id": 39701169, "link": "https://stackoverflow.com/questions/39701169/perl-modules-requiring-later-versions-of-perl-available-on-windows/39705392#39705392", "title": "Perl modules requiring later versions of perl available on windows", "body": "<p>Use the \"where\" command to locate the cpan modules that are associated with the installation of new modules. Associated Perl versions can then be removed via the Programs and Features window found in the Start Menu by clicking on the \"Uninstall\" button. Re-installation of the latest perl version from either Strawberry Perl or other Windows- compatible Perl releases will allow for a newer Perl version to be accessed.</p>\n"}], "owner": {"reputation": 1, "user_id": 6881602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3129f867b96e13a040cc0752a7fa24bd?s=128&d=identicon&r=PG&f=1", "display_name": "R_Cunnison", "link": "https://stackoverflow.com/users/6881602/r-cunnison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474899692, "creation_date": 1474887940, "last_edit_date": 1474888928, "question_id": 39701169, "link": "https://stackoverflow.com/questions/39701169/perl-modules-requiring-later-versions-of-perl-available-on-windows", "title": "Perl modules requiring later versions of perl available on windows", "body": "<p>I'm currently trying to port a copy of a script I wrote in perl that uses the Statistics::R module to communicate with R from a linux -based OS to a Windows 7 OS. I have been successful at installing R and Strawberry Perl onto the system, but have hit a stumbling block when installing the Statistics::R module. One of the modules it relies upon (Regexp::Common) requires the installation of a newer version of perl than appears to be on my system- at least 5.01 as opposed to the 5.008008 that it identifies. I believe I have the latest Strawberry Perl version installed (5.24), and this works well on the system with other scripts used. I was wondering if anyone knows of a way to install a newer version of perl onto the system, or if there is an alternate way to fix this issue? \nThanks.</p>\n"}, {"tags": ["perl", "zcat"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474887901, "post_id": 39701117, "comment_id": 66700386, "body": "That edit summary was supposed to read &quot;Please pay attention to the markdown when you add code to your answer&quot;. Also, welcome to Stack Overflow."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1474887908, "post_id": 39701117, "comment_id": 66700390, "body": "What&#39;s in the variables?  Why are you not using <code>zgrep</code>?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1474887950, "post_id": 39701117, "comment_id": 66700417, "body": "If the inputs are big (as the zipped format suggests), getting all the matches in one go would seem like a better approach."}, {"owner": {"reputation": 1, "user_id": 6881851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21faca20929a10154ff2cebbacdee97c?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous_10", "link": "https://stackoverflow.com/users/6881851/anonymous-10"}, "edited": false, "score": 0, "creation_date": 1474888152, "post_id": 39701117, "comment_id": 66700549, "body": "i edited the question, sorry for putting it up so untidily the first time, new to to this portal that&#39;s why. I tried zgrep also even that doesn&#39;t seem to be working."}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1474904292, "post_id": 39701117, "comment_id": 66711880, "body": "Most likely, your problem is with <code>$i</code>.  The code as presented is vulnerable to fun data interpretation problems.  For example, you might have spaces or other shell meta characters in the input that would cause <code>grep</code> to misbehave.  It&#39;s hard to be sure, though, unless you add some input samples to the question."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6881851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21faca20929a10154ff2cebbacdee97c?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous_10", "link": "https://stackoverflow.com/users/6881851/anonymous-10"}, "edited": false, "score": 0, "creation_date": 1474888790, "post_id": 39701361, "comment_id": 66700934, "body": "@contact_list is an array which has 355k mail ids, i need to check if these mail ids are present in my database which is in a zip file. so i need to check if each one of those 355k mail ids are present of not in the zip file. Also the zip file itself has 4 million records hence i&#39;m trying to avoid opening it and using zcat or zgrep"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 1, "user_id": 6881851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21faca20929a10154ff2cebbacdee97c?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous_10", "link": "https://stackoverflow.com/users/6881851/anonymous-10"}, "edited": false, "score": 0, "creation_date": 1474888868, "post_id": 39701361, "comment_id": 66701002, "body": "Yeah, so chances are that looping a search 355k times is going to be lots faster than looping the entire input file 355k times."}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1474904451, "post_id": 39701361, "comment_id": 66711970, "body": "This doesn&#39;t answer the question and almost certainly doesn&#39;t solve the problem."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 0, "last_activity_date": 1474888494, "creation_date": 1474888494, "answer_id": 39701361, "question_id": 39701117, "link": "https://stackoverflow.com/questions/39701117/zcat-working-in-command-line-but-not-in-perl-script/39701361#39701361", "title": "zcat working in command line but not in perl script", "body": "<p>Your question leaves us guessing about many things, but a better overall approach would seem to be opening the file just once, and processing each line in Perl itself.</p>\n\n<pre><code>open(F, \"zcat $file_list |\") or die \"$0: could not zcat: $!\\n\";\nLINE:\nwhile (&lt;F&gt;) {\n    ######## FIXME: this could be optimized a great deal still\n    foreach my $i (@contact_list) {\n        if (m/$i/) {\n            print $_;\n            next LINE;\n        }\n    }\n}\nclose (F);\n</code></pre>\n\n<p>If you want to squeeze out more from the inner loop, compile the regexes from <code>@contact_list</code> into a separate array before the loop, or perhaps combine them into a single regex if all you care about is whether one of them matched.  If, on the other hand, you want to print all matches for one pattern only at the end when you know what they are, collect matches into one array per search expression, then loop them and print when you have grepped the whole set of input files.</p>\n\n<p>Your problem is not reproducible without information about what's in <code>$i</code>, but I can guess that it contains some shell metacharacter which causes it to be processed by the shell before the <code>grep</code> runs.</p>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 5703347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S5cZY.jpg?s=128&g=1", "display_name": "dgmrdr", "link": "https://stackoverflow.com/users/5703347/dgmrdr"}, "is_accepted": true, "score": 0, "last_activity_date": 1474976429, "creation_date": 1474976429, "answer_id": 39723737, "question_id": 39701117, "link": "https://stackoverflow.com/questions/39701117/zcat-working-in-command-line-but-not-in-perl-script/39723737#39723737", "title": "zcat working in command line but not in perl script", "body": "<p>Always is better to use Perl's grep instead of using pipe :</p>\n\n<pre><code>@lines = `zcat $file_list2`;    # move output of zcat to array\ndie('zcat error') if ($?);      # will exit script with error if zcat is problem\n# chomp(@lines)                 # this will remove \"\\n\" from each line\n\nforeach $i ( @contact_list ) {\n\n    print \"$i\\n\";\n\n    @ar = grep (/$i/, @lines);\n    print @ar;\n#   print join(\"\\n\",@ar).\"\\n\";      # in case of using chomp\n}\n</code></pre>\n\n<p>Best solution is not calling zcat, but using zlib library :\n<a href=\"http://perldoc.perl.org/IO/Zlib.html\" rel=\"nofollow\">http://perldoc.perl.org/IO/Zlib.html</a></p>\n\n<pre><code>use IO::Zlib;\n\n# ....\n# place your defiiniton of $file_list2 and @contact list here.\n# ...\n\n$fh = new IO::Zlib; $fh-&gt;open($file_list2, \"rb\")\n    or die(\"Cannot open $file_list2\");\n@lines = &lt;$fh&gt;;\n$fh-&gt;close;\n\n#chomp(@lines);                    #remove \"\\n\" symbols from lines\nforeach $i ( @contact_list ) {\n\n    print \"$i\\n\";\n    @ar = grep (/$i/, @lines);\n    print (@ar);\n#   print join(\"\\n\",@ar).\"\\n\";    #in case of using chomp\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6881851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21faca20929a10154ff2cebbacdee97c?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous_10", "link": "https://stackoverflow.com/users/6881851/anonymous-10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 39723737, "answer_count": 2, "score": 0, "last_activity_date": 1474976429, "creation_date": 1474887736, "last_edit_date": 1474891609, "question_id": 39701117, "link": "https://stackoverflow.com/questions/39701117/zcat-working-in-command-line-but-not-in-perl-script", "title": "zcat working in command line but not in perl script", "body": "<p>Here is a part of my script:</p>\n\n<pre><code>foreach $i ( @contact_list ) {\n\n    print \"$i\\n\";\n\n    $e = \"zcat $file_list2| grep $i\";\n    print \"$e\\n\";\n\n    $f = qx($e);\n    print \"$f\";                                       \n}\n</code></pre>\n\n<p><code>$e</code> prints properly but <code>$f</code> gives a blank line even when <code>$file_list2</code> has a match for <code>$i</code>.</p>\n\n<p>Can anyone tell me why?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474889130, "post_id": 39700474, "comment_id": 66701169, "body": "Please <a href=\"https://stackoverflow.com/posts/39700474/edit\">edit</a> your question and add the code that <i>works</i> with pure Perl and <i>doesn&#39;t work</i> when compiled into an .exe file. This is what we call a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 11, "user_id": 6830958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debbcd8522576b48ca8df9bb9388abe9?s=128&d=identicon&r=PG&f=1", "display_name": "Jay_Palme", "link": "https://stackoverflow.com/users/6830958/jay-palme"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474890554, "post_id": 39700474, "comment_id": 66702156, "body": "The posted code works in perl, but after packaging it to an .exe file it does not anymore.  With the .exe the script stops after the &quot;SCALAR&quot;, with the .pl file it keeps on working."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474893181, "post_id": 39700474, "comment_id": 66704040, "body": "I tried exactly your posted code in Perl and as try.exe. Both give the same output. There&#39;s nothing wrong with the code you show, so I guess it&#39;s something in the code you don&#39;t show. ;-)"}, {"owner": {"reputation": 11, "user_id": 6830958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debbcd8522576b48ca8df9bb9388abe9?s=128&d=identicon&r=PG&f=1", "display_name": "Jay_Palme", "link": "https://stackoverflow.com/users/6830958/jay-palme"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474894467, "post_id": 39700474, "comment_id": 66704919, "body": "Okay, I understand, I added the full code."}, {"owner": {"reputation": 11, "user_id": 6830958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debbcd8522576b48ca8df9bb9388abe9?s=128&d=identicon&r=PG&f=1", "display_name": "Jay_Palme", "link": "https://stackoverflow.com/users/6830958/jay-palme"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474966046, "post_id": 39700474, "comment_id": 66737731, "body": "I changed my code to a minimal version, that triggers my &quot;SCALAR&quot;-Problem."}, {"owner": {"reputation": 359, "user_id": 1001500, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/eCNDe.png?s=128&g=1", "display_name": "gfunk", "link": "https://stackoverflow.com/users/1001500/gfunk"}, "edited": false, "score": 0, "creation_date": 1475893941, "post_id": 39700474, "comment_id": 67139532, "body": "print STDERR all over and debug"}, {"owner": {"reputation": 11, "user_id": 6830958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debbcd8522576b48ca8df9bb9388abe9?s=128&d=identicon&r=PG&f=1", "display_name": "Jay_Palme", "link": "https://stackoverflow.com/users/6830958/jay-palme"}, "edited": false, "score": 0, "creation_date": 1476263854, "post_id": 39700474, "comment_id": 67267576, "body": "I added a print &quot;STDERR $variable;&quot; every time i set a variable or array. Here is the difference from running cygwin to exe: cygwin: <code># new file: # GLOB(0x600077ee0) # written: # GLOB(0x600077ee0)</code> exe: <code># new file: # GLOB(0x60104b090)SCALAR(0x600f5aa50)</code>  I print directly after open and directly after write. The write is missing in the exe, but the open also already looks different?!"}], "owner": {"reputation": 11, "user_id": 6830958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debbcd8522576b48ca8df9bb9388abe9?s=128&d=identicon&r=PG&f=1", "display_name": "Jay_Palme", "link": "https://stackoverflow.com/users/6830958/jay-palme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1474965927, "creation_date": 1474885840, "last_edit_date": 1474965927, "question_id": 39700474, "link": "https://stackoverflow.com/questions/39700474/scalar-output-after-creating-executable-from-perl-script", "title": "SCALAR output after creating executable from perl script", "body": "<p>I have a working perl script that I want to create an executable from. I used PAR::Packer and</p>\n\n<pre><code>pp -o try.exe run_scenarios_1.1.pl\n</code></pre>\n\n<p>to create the .exe file. Now, when I run the .exe in cygwin with</p>\n\n<pre><code>User@PC ~/my_perls\n$ ./try.exe\n</code></pre>\n\n<p>I get the following output and the program cancels:</p>\n\n<pre><code>User@PC ~/my_perls\n$ ./try.exe\nSCALAR(0x60103eac8)\n</code></pre>\n\n<p>Here is my minimal code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse File::Slurp;\n\nmy $export_complete_path = \"C:/Prog/Cygwin/home/User/my_perls/test/\";\nmy @test_file = read_file($export_complete_path.\"Do_Test.txt\");\nmy @combined_data = read_file($export_complete_path.\"Do_Test_Copy.txt\");\n### Take the original file and add the current test data\npush (@combined_data, @test_file);\n### add data to file\nopen my $newfile, '&gt;', $export_complete_path.\"combined.txt\" or die \"\\nError: Unable to create in $export_complete_path\\n\";\nwrite_file($newfile, @combined_data);\n</code></pre>\n\n<p>It's my first bigger perl program and the first time I use the PAR::Packer.</p>\n\n<p>Do I need to force the packer to do something special?</p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["php", "perl", "web-frameworks", "mojolicious"], "comments": [{"owner": {"reputation": 1782, "user_id": 2285345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MmfZH.png?s=128&g=1", "display_name": "Epodax", "link": "https://stackoverflow.com/users/2285345/epodax"}, "edited": false, "score": 1, "creation_date": 1474885112, "post_id": 39700183, "comment_id": 66698648, "body": "Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 3, "last_activity_date": 1474885515, "creation_date": 1474885515, "answer_id": 39700362, "question_id": 39700183, "link": "https://stackoverflow.com/questions/39700183/something-like-mojolicious-for-php/39700362#39700362", "title": "Something like Mojolicious for PHP?", "body": "<p>I would prefer <a href=\"http://www.slimframework.com/\" rel=\"nofollow\">Slim</a> to write small web apps in PHP.</p>\n\n<p>Snippet from docs:</p>\n\n<pre><code>&lt;?php\nuse \\Psr\\Http\\Message\\ServerRequestInterface as Request;\nuse \\Psr\\Http\\Message\\ResponseInterface as Response;\n\nrequire 'vendor/autoload.php';\n\n$app = new \\Slim\\App;\n$app-&gt;get('/hello/{name}', function (Request $request, Response $response) {\n    $name = $request-&gt;getAttribute('name');\n    $response-&gt;getBody()-&gt;write(\"Hello, $name\");\n\n    return $response;\n});\n$app-&gt;run();\n</code></pre>\n"}], "owner": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "closed_date": 1474887455, "answer_count": 1, "score": 0, "last_activity_date": 1474885515, "creation_date": 1474884987, "question_id": 39700183, "link": "https://stackoverflow.com/questions/39700183/something-like-mojolicious-for-php", "closed_reason": "Not suitable for this site", "title": "Something like Mojolicious for PHP?", "body": "<p>Mojolicious is a very good web framework for Perl. Does anyone perhaps know if there is something similar to it for PHP? </p>\n"}, {"tags": ["php", "python", "perl", "pdf", "replace"], "comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1474885735, "post_id": 39700076, "comment_id": 66699047, "body": "Please indicate (with the appropriate tag) which language you&#39;re working in.  As it is, this question is liable to be closed as &#39;too broad&#39;."}, {"owner": {"reputation": 29, "user_id": 5751479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670e4904ac4199bc4050c0fa9a8f1f03?s=128&d=identicon&r=PG&f=1", "display_name": "S.Alfano", "link": "https://stackoverflow.com/users/5751479/s-alfano"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1474889250, "post_id": 39700076, "comment_id": 66701264, "body": "I dont any specific language for this project ... i can indicate some language that i know but i  think that could block some user to provide some information but as wish"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 2, "creation_date": 1474895597, "post_id": 39700076, "comment_id": 66705732, "body": "Automatized replacement in general can be pretty difficult. One problem is the identification of the strings to replace as you already found out. Another one is constituted by fonts which only are embedded as subsets: they may simply not contain the glyphs for the characters in your replacement string. Yet another problem comes up if your replacement string is much longer or shorter than the original one, reflowing PDFs is a non-trivial problem by itself. And there are more problems to come. A proper solution to your requirement might be really hard to find..."}, {"owner": {"reputation": 29, "user_id": 5751479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670e4904ac4199bc4050c0fa9a8f1f03?s=128&d=identicon&r=PG&f=1", "display_name": "S.Alfano", "link": "https://stackoverflow.com/users/5751479/s-alfano"}, "edited": false, "score": 0, "creation_date": 1474896451, "post_id": 39700076, "comment_id": 66706391, "body": "Thx for your comment ^^. Now i understand approximatly how does it work i can use changepagestring.pl to search occurence."}], "owner": {"reputation": 29, "user_id": 5751479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670e4904ac4199bc4050c0fa9a8f1f03?s=128&d=identicon&r=PG&f=1", "display_name": "S.Alfano", "link": "https://stackoverflow.com/users/5751479/s-alfano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1474899446, "creation_date": 1474884703, "last_edit_date": 1474899446, "question_id": 39700076, "link": "https://stackoverflow.com/questions/39700076/search-and-replace-inside-some-pdfs", "title": "Search and replace inside some pdfs", "body": "<p>I have got huge problem. I have some pdf files, inside of them i have some text that i would like to change (dont need OCR).</p>\n\n<p>I've tried some solution has <a href=\"http://search.cpan.org/dist/CAM-PDF/bin/changepagestring.pl\" rel=\"nofollow\">changepagestring</a> work  but not for all occurence sometime it doesnt match but the occurence exist ...(example it  find S but i cant find SF and acrobat or other solution find SF) </p>\n\n<p>I've tried pdftotext/pdfgrep all  occurent seems to  be find but i cant regenerate a pdf .</p>\n\n<p>Actually i have about 500 occurences and 200 pdfs i cant afford to do it one by  one .</p>\n\n<p>If you any clue(s), it would be realy helpfull.</p>\n\n<p><strong>Edit 1 :</strong>\nTheir is some improvement, i've uncompress a file and applie cmd string\nand the result is :</p>\n\n<pre><code>[(feu)6.9( HDU)-5.3(130)-5.8(RRFI )]TJ\n[(feu)6.8( HD)7.3(U)-5.4(10)-5.9(1H)-9.7(RRFI )]TJ\n[(feu)6.8( HD)7.3(U)-5.4(80)-5.9(1H)-9.7(RRFI )]TJ\n[(feu)6.8( HD)7.3(U)-5.4(3055)-5.9(1H)-9.7(RRFI )]TJ\n</code></pre>\n\n<p>Here we can see the word i would like to  find:<br>\nfirst ligne: ( HD).(U).(130).(RRFI ) = HDU130RRFI</p>\n"}, {"tags": ["java", "perl", "netbeans"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1474871897, "post_id": 39696116, "comment_id": 66690875, "body": "perl is not found!! Add the full path"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 6318215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/874a77bcea722236f58014d5f5d37294?s=128&d=identicon&r=PG&f=1", "display_name": "Kristin.Y", "link": "https://stackoverflow.com/users/6318215/kristin-y"}, "edited": false, "score": 0, "creation_date": 1474872458, "post_id": 39696176, "comment_id": 66691158, "body": "Now, I got &#39;Command Successful&#39; after adding the path to perl. But I still cannot see the expected output &#39;hi Lala&#39; Any advice? Thanks"}, {"owner": {"reputation": 39, "user_id": 6318215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/874a77bcea722236f58014d5f5d37294?s=128&d=identicon&r=PG&f=1", "display_name": "Kristin.Y", "link": "https://stackoverflow.com/users/6318215/kristin-y"}, "edited": false, "score": 0, "creation_date": 1474874274, "post_id": 39696176, "comment_id": 66692175, "body": "I put in this line of code <code>OutputStream outs = process.getOutputStream(); System.out.println(&quot;Outs: &quot;+ outs);</code> The output is <code>Outs: java.io.BufferedOutputStream@6e8cf4c6</code> Why isn&#39;t it in strings?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 39, "user_id": 6318215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/874a77bcea722236f58014d5f5d37294?s=128&d=identicon&r=PG&f=1", "display_name": "Kristin.Y", "link": "https://stackoverflow.com/users/6318215/kristin-y"}, "edited": false, "score": 0, "creation_date": 1474874615, "post_id": 39696176, "comment_id": 66692377, "body": "@Kristin.Y Because of the implementation of the <code>toString()</code> method. Read about you have to use an OutputStream"}, {"owner": {"reputation": 39, "user_id": 6318215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/874a77bcea722236f58014d5f5d37294?s=128&d=identicon&r=PG&f=1", "display_name": "Kristin.Y", "link": "https://stackoverflow.com/users/6318215/kristin-y"}, "edited": false, "score": 0, "creation_date": 1474877534, "post_id": 39696176, "comment_id": 66693878, "body": "Ok. Got it! Thanks a lot for your help"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 0, "last_activity_date": 1474871995, "creation_date": 1474871995, "answer_id": 39696176, "question_id": 39696116, "link": "https://stackoverflow.com/questions/39696116/run-as-simple-perl-script-in-netbean-using-java-language/39696176#39696176", "title": "Run as simple perl script in NetBean using Java language", "body": "<p><code>perl</code> is not found. \nin your script you are refer to <code>#!/usr/bin/perl</code> wich is not existence in a Windows path. So you have to add the complete path to perl Interpreter.</p>\n\n<pre><code>String testFile = \"&lt;path_to_perl&gt;perl C:\\\\Strawberry\\\\perl_tests\\\\hello_world.pl\";\n</code></pre>\n\n<p>Also add the correct path in your perl script:</p>\n\n<pre><code>#!&lt;path_to_perl&gt;perl\nuse strict;\nuse warnings;\n\nprint \"hi Lala\\n\";\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6318215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/874a77bcea722236f58014d5f5d37294?s=128&d=identicon&r=PG&f=1", "display_name": "Kristin.Y", "link": "https://stackoverflow.com/users/6318215/kristin-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 39696176, "answer_count": 1, "score": 0, "last_activity_date": 1474872516, "creation_date": 1474871767, "last_edit_date": 1474872516, "question_id": 39696116, "link": "https://stackoverflow.com/questions/39696116/run-as-simple-perl-script-in-netbean-using-java-language", "title": "Run as simple perl script in NetBean using Java language", "body": "<p>I am in the progress of learning perl language. \nI have made a simple perl script (as shown as below). </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nprint \"hi Lala\\n\";\n</code></pre>\n\n<p>I am trying to run this script in NetBean using java language.\nMy code is as below:</p>\n\n<pre><code>public class javaProgram {\n    public static void main(String[] args) {\n        Process process;\n\n        try\n        {\n            String testFile = \"perl C:\\\\Strawberry\\\\perl_tests\\\\hello_world.pl\";\n            process = Runtime.getRuntime().exec(testFile);\n            process.getOutputStream();\n\n            process.waitFor();\n            if(process.exitValue() == 0)\n            {\n                System.out.println(\"Command Successful\");\n\n            }\n            else\n            {\n                System.out.println(\"Command Failure\");\n            }\n        }\n        catch(Exception e)\n        {\n            System.out.println(\"Exception: \"+ e.toString());\n        }\n    }\n\n}\n</code></pre>\n\n<p>But I got this error</p>\n\n<blockquote>\n  <p>Exception: java.io.IOException: Cannot run program \"perl C:\\Strawberry\\perl_tests\\hello_world.pl\": CreateProcess error=2, The system cannot find the file specified</p>\n</blockquote>\n\n<p>I have save the script as hello_world.pl in the directory as shown above. So, I am not sure what I am doing wrong.\nIs it NetBean problem? The script problem? But when I run the script using Strawberry IDE, there is no problem or errors.</p>\n"}, {"tags": ["perl", "callback", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474872809, "post_id": 39696143, "comment_id": 66691340, "body": "But the callback is executed well after the object has finished being constructed, so it doesn&#39;t make any sense."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474873277, "post_id": 39696143, "comment_id": 66691617, "body": "@CJ7 This is about the call inside <code>onerror</code>, where the page is retrieved successfully.  I don&#39;t know when that gets executed -- how it is implemented.  Except that <code>$mech</code> doesn&#39;t get that content. I just tried -- remove the bad call and just print content right after the <code>new</code>. It is uninitialized."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474876109, "post_id": 39696143, "comment_id": 66693175, "body": "If you remove the bad call then <code>onerror</code> definitely won&#39;t be called so what are you expecting to happen?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474877539, "post_id": 39696143, "comment_id": 66693882, "body": "@CJ7  You are right.  I was referring to some other things I tried, sorry for the imprecise comment.  I&#39;ve updated the answer to what I think is likely to be going on.  In short, it&#39;s just unsupported.  The class would have to go out of its way so that the callback code, executed during another call, can change the state of the object.  But since this is not the intent of it, it doesn&#39;t do anything toward that end."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474877912, "post_id": 39696143, "comment_id": 66694089, "body": "Yes, I think that must be what is happening.  The callback seems to be referencing a different <code>$mech</code> or not being able to change its state as you say.  It would be good to be able to check the memory address of the object reference to see if it is the same, but I can&#39;t find a function to do that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474877987, "post_id": 39696143, "comment_id": 66694135, "body": "@CJ7 Right, another thing I should&#39;ve stated -- the callback knows what <code>$mech</code> is just because it&#39;s global. So I think that it is the same object so the code in the callback works, but the state of the object cannot be changed during that call."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474878124, "post_id": 39696143, "comment_id": 66694209, "body": "I have noticed that <code>$mech-&gt;uri</code> will be updated correctly after returning from the callback.  It&#39;s just not updating <code>content</code> correctly."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474878262, "post_id": 39696143, "comment_id": 66694284, "body": "@CJ7 That&#39;s interesting -- that would be the &quot;undefined behavior.&quot;  Some things may work some may not."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474878283, "post_id": 39696143, "comment_id": 66694296, "body": "I think maybe the <code>Mechanize</code> code is changing <code>content</code> at the end of the callback, but when I looked at the source I couldn&#39;t see it doing this."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474880302, "post_id": 39696143, "comment_id": 66695459, "body": "@CJ7 Yes, that may well be the case, that it overwrites it. I&#39;ll look at code tomorrow, I am curious."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474917719, "post_id": 39696143, "comment_id": 66719382, "body": "@CJ7 I looked through the code, I agree that it is likely that the content gets overwritten with the error.  But I think it&#39;s pulled from one of the classes W::M inherits from (the error printed seems to be coming from ... <code>HTTP::Response</code> perhaps?)  But the bottom line is that it&#39;s just not supported -- even if the error weren&#39;t overwriting the content we couldn&#39;t be sure that the object&#39;s state is OK, since it does nothing in the callback to ensure that.  (In normal operation all kinds of methods are involved for it.)  I updated my post so to sumarrize some of this."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474918009, "post_id": 39696143, "comment_id": 66719537, "body": "@zdim LWP::UserAgent (which WWW::Mechanize inherits from) returns errors as HTTP::Response objects, probably so you don&#39;t have to add special handling for HTTP errors vs. other types of errors. See <a href=\"https://metacpan.org/pod/LWP::UserAgent#ua-get-url\" rel=\"nofollow noreferrer\">metacpan.org/pod/LWP::UserAgent#ua-get-url</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474918422, "post_id": 39696143, "comment_id": 66719768, "body": "@ThisSuitIsBlackNot  Ah, thank you! I know that <code>get</code> is from LWP and that we get <code>HTTP::Response</code>.  But since  <code>W::M::content</code> checks a bunch of parameters (which are hard to trace) I wasn&#39;t sure where the error is from.  It looks like it&#39;d have to be in <code>response()-&gt;decoded_content</code> part, which is <code>HTTP::Response</code>. I think that bulk of W::M is LWP, but it sometimes pulls in other things directly.  Thank you."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474924365, "post_id": 39696143, "comment_id": 66723015, "body": "@ThisSuitIsBlackNot <code>$mech-&gt;content</code> is being set to an error string. It has nothing to do with <code>HTTP::Response</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474925531, "post_id": 39696143, "comment_id": 66723497, "body": "@CJ7 <code>$mech-&gt;content</code> calls <code>$mech-&gt;response()-&gt;content()</code> or <code>$mech-&gt;response()-&gt;decoded_content()</code> <a href=\"https://metacpan.org/source/OALDERS/WWW-Mechanize-1.80/lib/WWW/Mechanize.pm#L244\" rel=\"nofollow noreferrer\">behind the scenes</a>, where <code>$mech-&gt;response()</code> returns an HTTP::Response object; so yes, it has everything to do with HTTP::Response. This is a feature of LWP::UserAgent."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474927527, "post_id": 39696143, "comment_id": 66724276, "body": "@ThisSuitIsBlackNot OK, I see that <code>$mech-&gt;response-&gt;decoded_content</code> does contain the content, but <code>$mech-&gt;content</code> only has the error string.  Why?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474965427, "post_id": 39696143, "comment_id": 66737325, "body": "@CJ7 The <code>$mech-&gt;content</code> uses <code>$mech-&gt;response-&gt;decoded_content</code> from <code>HTTP::Response</code>, inherited from <code>LWP::UserAgent</code> (W::M doesn&#39;t have a method with that name, nor does LWP::UA).  This displays the error string written previously, at some point during the bad call, which overwrote the page initially written by <code>get</code> in the callback, like you said.  Note that almost all work done in <code>W::M</code> is really from other classes, like <code>LWP::UserAgent</code> (and a number of others).  The error message itself bears clear trademark of <code>HTTP::Response</code>.  I added some of this to the end of the answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474965575, "post_id": 39696143, "comment_id": 66737428, "body": "@CJ7  At what exact point the overwriting happened is nigh impossible to say since the trail of calls and arguments passed around in W::M&#39;s code gets more and more complex."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1482818257, "last_edit_date": 1482818257, "creation_date": 1474871883, "answer_id": 39696143, "question_id": 39695109, "link": "https://stackoverflow.com/questions/39695109/why-does-mechanize-onerror-callback-set-content-to-error-message/39696143#39696143", "title": "Why does Mechanize onerror callback set content to error message?", "body": "<p>The <code>onerror</code> callback of <a href=\"http://search.cpan.org/~oalders/WWW-Mechanize-1.80/lib/WWW/Mechanize.pm\" rel=\"nofollow noreferrer\">WWW::Mechanize</a> is meant to supply a response to error</p>\n\n<blockquote>\n  <ul>\n  <li>onerror => \\&amp;func<br>\n  Reference to a die-compatible function, such as Carp::croak, that is called when there's a fatal error.</li>\n  </ul>\n</blockquote>\n\n<p>It is clearly not intended for recovery or any use of the object that is being constructed.  </p>\n\n<p>That said, your call in <code>onerror</code> works, but the object doesn't get to know about it.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse WWW::Mechanize;\n\nmy $mech = new WWW::Mechanize( onerror =&gt; \\&amp;mecherror );\n$mech-&gt;get(\"http://stackoverflow.comxxxx\");\nsay $mech-&gt;content;\n\nsub mecherror {\n    my $response = $mech-&gt;get(\"http://stackoverflow.com\");\n    # say $mech-&gt;content;\n    say \"response is \" . ref($response);\n    say $response-&gt;decoded_content;\n}\n</code></pre>\n\n<p>This shows that we duly got an <a href=\"http://search.cpan.org/~ether/HTTP-Message-6.11/lib/HTTP/Response.pm\" rel=\"nofollow noreferrer\">HTTP::Response</a> object, and prints out the page. Then we may hope to pass a reference to the callback to connect it to the calling code. However, a mechanism for this is not provided -- this is not supported. We <em>are</em> warned against messing with internals, though.</p>\n\n<p>As for why the object isn't updated, it depends on the callback implementation. From the <a href=\"http://cpansearch.perl.org/src/OALDERS/WWW-Mechanize-1.80/lib/WWW/Mechanize.pm\" rel=\"nofollow noreferrer\">source code</a> we see that the code reference goes into object's data and is run when needed via the wrapper</p>\n\n<pre><code>sub die {\n    my $self = shift;\n    return unless my $handler = $self-&gt;{onerror};\n    return $handler-&gt;(@_);\n}\n</code></pre>\n\n<p>A lot of other code is involved when this triggers, while nothing is done here to change the object's state. That is just unsupported and may result in undefined behavior.</p>\n\n<p>Note that the callback here knows what <code>$mech</code> is because it is global, so it has the right object.</p>\n\n<hr>\n\n<p>To summarize discussions in comments, it is plausible that the page retrieved by the callback gets overwritten by the error message. We get to see this when invoking <code>content</code>, and it appears to be due to this part of the method (see source)</p>\n\n<pre><code>$content = $self-&gt;response()-&gt;decoded_content(charset =&gt; 'none');\n</code></pre>\n\n<p>The <code>decoded_content</code> method is from <code>HTTP::Response</code>, inherited via <a href=\"http://search.cpan.org/~ether/libwww-perl-6.15/lib/LWP/UserAgent.pm\" rel=\"nofollow noreferrer\">LWP::UserAgent</a>, and the error message indeed seems to have come from that class. (Neither W::M nor LWP::UA have a method named \"decode_content.\") This is summarized in <a href=\"http://search.cpan.org/~oalders/WWW-Mechanize-1.80/lib/WWW/Mechanize.pm#$mech-%3Econtent%28...%29\" rel=\"nofollow noreferrer\">W::M::content</a> page</p>\n\n<blockquote>\n  <p><code>$mech-&gt;content(...)</code><br>\n  Returns the content that the mech uses internally for the last page fetched. Ordinarily this is the same as <code>$mech-&gt;response()-&gt;decoded_content()</code>,  [ ... ]</p>\n</blockquote>\n\n<p>However, we anyway couldn't rely on the object being in a consistent state, as discussed.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482818257, "creation_date": 1474866853, "last_edit_date": 1474867367, "question_id": 39695109, "link": "https://stackoverflow.com/questions/39695109/why-does-mechanize-onerror-callback-set-content-to-error-message", "title": "Why does Mechanize onerror callback set content to error message?", "body": "<pre><code>use WWW::Mechanize;\n$mech = new WWW::Mechanize( onerror =&gt; \\&amp;mecherror );\n$mech-&gt;get(\"http://stackoverflow.comxxxx\");\nprint $mech-&gt;content;\nsub mecherror {\n    $mech-&gt;get(\"http://stackoverflow.com\");\n}\n</code></pre>\n\n<p>The output on line 4 is an error string relating to the first failed get and not the content of the get executed in <code>sub mecherror</code>.  Why?</p>\n"}, {"tags": ["perl", "scope", "anonymous-function", "www-mechanize"], "answers": [{"tags": [], "owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "is_accepted": false, "score": 1, "last_activity_date": 1474905136, "creation_date": 1474905136, "answer_id": 39707219, "question_id": 39694177, "link": "https://stackoverflow.com/questions/39694177/how-to-refer-to-object-in-anonymous-sub-when-calling-constructor/39707219#39707219", "title": "How to refer to object in anonymous sub when calling constructor?", "body": "<p>This is the wrong way to solve this problem.  <code>WWW::Mechanize</code> wants a <code>croak</code>-compatible function here in order to be able to exit on fatal error.  It's going to pass a list of strings, and the <code>$mech</code> object won't be visible -- nor necessarily valid.</p>\n\n<p>If you want to retry requests, put that logic around the requests with a <code>try</code> block.  If you want to generalize this to all requests, subclass <code>WWWM</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474905451, "post_id": 39707332, "comment_id": 66712608, "body": "There&#39;s also <a href=\"https://metacpan.org/pod/WWW::Mechanize::Plugin::Retry\" rel=\"nofollow noreferrer\">WWW::Mechanize::Plugin::Retry</a>, but it appears to be broken."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474918811, "post_id": 39707332, "comment_id": 66720015, "body": "This is the right way to retry, in my opinion  (this is what I do, just w/o <code>try</code>-ing). The exception handling is more to make sure to cover it all, right? It should work with only checking the object with its own methods?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474920042, "post_id": 39707332, "comment_id": 66720737, "body": "@zdim By default, WWW::Mechanize dies on error, so you have to either turn off <code>autocheck</code> or trap exceptions. I&#39;d rather leave <code>autocheck</code> on so the mech can still die automatically elsewhere in the code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474920181, "post_id": 39707332, "comment_id": 66720817, "body": "OK, right, forgot about that.  (In what I do I norally turn it off and handle errors.)"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 1, "last_activity_date": 1474911512, "last_edit_date": 1474911512, "creation_date": 1474905430, "answer_id": 39707332, "question_id": 39694177, "link": "https://stackoverflow.com/questions/39694177/how-to-refer-to-object-in-anonymous-sub-when-calling-constructor/39707332#39707332", "title": "How to refer to object in anonymous sub when calling constructor?", "body": "<p>There are a lot of other conditions besides a failed request that can trigger your <code>onerror</code> handler; in those cases, it doesn't make sense to send a new request.</p>\n\n<p>You should catch exceptions thrown by <code>$mech-&gt;get</code> and re-throw any that aren't connection errors. You can do this in a subroutine:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse Try::Tiny;\nuse WWW::Mechanize;\n\nsub retry {\n    my ($mech, $uri, $options) = @_;\n\n    $options //= {};\n\n    my $method   = $options-&gt;{method}   // 'get';\n    my $retries  = $options-&gt;{retries}  // 3;\n    my $interval = $options-&gt;{interval} // 3;\n\n    _try_request($mech, $uri, $method);\n\n    while (! $mech-&gt;success &amp;&amp; $retries-- &gt; 0) {\n        warn \"Failed \" . uc($method) . \"ing $uri. Re-trying ...\\n\";\n        sleep $interval;\n\n        _try_request($mech, $uri, $method);\n    }\n}\n\nsub _try_request {\n    my ($mech, $uri, $method) = @_;\n\n    try {\n        $mech-&gt;$method($uri);\n    }\n    catch {\n        die $_ unless /Can't connect/; # re-throw other errors\n    };\n}\n\nmy $mech = WWW::Mechanize-&gt;new;\nretry($mech, 'http://www.stackoverflow.comx', { retries =&gt; 1 });\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Failed GETing http://www.stackoverflow.comx. Re-trying ...\n</code></pre>\n\n<p>Alternatively, you can subclass WWW::Mechanize and override the request methods. That would save you from having to pass around the <code>$mech</code> object.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1474911512, "creation_date": 1474859532, "last_edit_date": 1474859870, "question_id": 39694177, "link": "https://stackoverflow.com/questions/39694177/how-to-refer-to-object-in-anonymous-sub-when-calling-constructor", "title": "How to refer to object in anonymous sub when calling constructor?", "body": "<pre><code>$mech = new WWW::Mechanize(\n    onerror =&gt; sub { \n        say \"Failed to get \" . $mech-&gt;uri  . \". Retrying.\";\n        $mech-&gt;get($mech-&gt;uri);\n    }\n);\n</code></pre>\n\n<p>How can I get the above code to work?  I want to refer to the URI that the Mechanize object just tried to get and then re-try, but I can't work out how to refer to this inside the call to the constructor.</p>\n"}, {"tags": ["perl", "jsp"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1474855993, "creation_date": 1474855993, "answer_id": 39693795, "question_id": 39693230, "link": "https://stackoverflow.com/questions/39693230/how-do-i-crawl-a-website-written-in-jsp-java-server-pages-using-perl-script/39693795#39693795", "title": "How do I crawl a website written in JSP (Java Server Pages) using Perl Script?", "body": "<p>As far as the client is concerned, JavaServer Pages is identical to PHP, Perl, or even static HTML files. The result is a page of HTML that can be rendered and displayed, and the source of the data isn't the reason for <code>WWW::Mechanize</code> failing to do what you want</p>\n\n<p><strong><em>Doesn't work</em></strong> is useless as a problem description, and the issue could be pretty much anything. However, if the HTML is associated with some JavaScript (which is executed on the <em>client</em> system after the page has been retrieved and not on the server) then it may be more or less handicapped because <code>WWW::Mechanize</code> doesn't support JavaScript. For that you will need to use <code>WWW::Mechanize::Firefox</code> or similar, which works by using a real instance of Firefox to render the HTML and execute any JavaScript</p>\n"}], "owner": {"reputation": 3, "user_id": 6798558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/me1Au.jpg?s=128&g=1", "display_name": "Bryern", "link": "https://stackoverflow.com/users/6798558/bryern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 39693795, "answer_count": 1, "score": -5, "last_activity_date": 1474855993, "creation_date": 1474850439, "question_id": 39693230, "link": "https://stackoverflow.com/questions/39693230/how-do-i-crawl-a-website-written-in-jsp-java-server-pages-using-perl-script", "title": "How do I crawl a website written in JSP (Java Server Pages) using Perl Script?", "body": "<p>I have here this website:<a href=\"https://www.connect2nse.com/iislNet/UserFolder.jsp\" rel=\"nofollow\">https://www.connect2nse.com/iislNet/UserFolder.jsp</a>\nFirstly i tried using WWW::Mechanize, but it doesn't seem to work. WWW::Mechanize doesn't work with JSP written website. So I researched about how to download a file in a website written in JSP, but can't find a good one. Can anybody help me with this one? Thanks in advance.</p>\n"}, {"tags": ["perl", "asterisk", "agi"], "comments": [{"owner": {"reputation": 871, "user_id": 2437063, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/vt5Qr.jpg?s=128&g=1", "display_name": "Shirker", "link": "https://stackoverflow.com/users/2437063/shirker"}, "edited": false, "score": 0, "creation_date": 1474847379, "post_id": 39692105, "comment_id": 66684999, "body": "actually I figured out why AMI couldn&#39;t run from my agi. there was a lack of libraries, that I couldn&#39;t know. Was fixed by <code>cp -r &#47;root&#47;perl5&#47;lib&#47;perl5&#47;x86_64-linux-thread-multi&#47;AnyEvent* &#47;usr&#47;local&#47;lib64&#47;perl5&#47;</code> command. So via AMI i can get the channel status, but not via agi. I found <code>$AGI-&gt;get_full_variable(&#39;status&#39;, &#39;SIP&#47;4382&#39;);</code> but it doesn&#39;t return anything either"}], "answers": [{"tags": [], "owner": {"reputation": 14851, "user_id": 861388, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e67c6ded563e65de617062d3c47d79c2?s=128&d=identicon&r=PG", "display_name": "arheops", "link": "https://stackoverflow.com/users/861388/arheops"}, "is_accepted": true, "score": 1, "last_activity_date": 1474908608, "creation_date": 1474908608, "answer_id": 39708246, "question_id": 39692105, "link": "https://stackoverflow.com/questions/39692105/asteriskagi-perl-check-if-sip-channel-is-online/39708246#39708246", "title": "Asterisk::AGI perl - check if SIP channel is online?", "body": "<p>You can get result of function SIP_PEER or function CHANNEL</p>\n\n<pre><code>pro-sip*CLI&gt; core show function SIPPEER \n\n  -= Info about function 'SIPPEER' =- \n\n[Synopsis]\nGets SIP peer information. \n\n[Description]\nNot available\n\n[Syntax]\nSIPPEER(peername[,item])\n\n[Arguments]\nitem\n    ip - (default) The ip address.\n    port - The port number.\n    mailbox - The configured mailbox.\n    context - The configured context.\n    expire - The epoch time of the next expire.\n    dynamic - Is it dynamic? (yes/no).\n    callerid_name - The configured Caller ID name.\n    callerid_num - The configured Caller ID number.\n    callgroup - The configured Callgroup.\n    pickupgroup - The configured Pickupgroup.\n    codecs - The configured codecs.\n    status - Status (if qualify=yes).\n    regexten - Registration extension.\n    limit - Call limit (call-limit).\n    busylevel - Configured call level for signalling busy.\n    curcalls - Current amount of calls. Only available if call-limit\n    is set.\n    language - Default language for peer.\n    accountcode - Account code for this peer.\n    useragent - Current user agent id for peer.\n    maxforwards - The value used for SIP loop prevention in outbound\n    requests\n    chanvar[name] - A channel variable configured with setvar for this\n    peer.\n    codec[x] - Preferred codec index number &lt;x&gt; (beginning with\n    zero).\n\n[See Also]\nNot available\npro-sip*CLI&gt; \n\n\npro-sip*CLI&gt; core show function CHANNEL\n\n  -= Info about function 'CHANNEL' =- \n\n[Synopsis]\nGets/sets various pieces of information about the channel. \n\n[Description]\nGets/sets various pieces of information about the channel, additional &lt;item&gt;\nmay be available from the channel driver; see its documentation for details.\nAny &lt;item&gt; requested that is not available on the current channel will return\nan empty string.\n\n[Syntax]\nCHANNEL(item)\n\n[Arguments]\nitem\n    Standard items (provided by all channel technologies) are:\n    amaflags - R/W the Automatic Message Accounting (AMA) flags on the\n    channel. When read from a channel, the integer value will always be\n    returned. When written to a channel, both the string format or integer\n    value is accepted.\n        1 - 'OMIT'\n        2 - 'BILLING'\n        3 - 'DOCUMENTATION'\n    accountcode - R/W the channel's account code.\n    audioreadformat - R/O format currently being read.\n    audionativeformat - R/O format used natively for audio.\n    audiowriteformat - R/O format currently being written.\n    callgroup - R/W call groups for call pickup.\n    channeltype - R/O technology used for channel.\n    checkhangup - R/O Whether the channel is hanging up (1/0)\n    language - R/W language for sounds played.\n    musicclass - R/W class (from musiconhold.conf) for hold music.\n    name - The name of the channel\n    parkinglot - R/W parkinglot for parking.\n    rxgain - R/W set rxgain level on channel drivers that support it.\n    secure_bridge_signaling - Whether or not channels bridged to this\n    channel require secure signaling\n    secure_bridge_media - Whether or not channels bridged to this channel\n    require secure media\n    state - R/O state for channel\n    tonezone - R/W zone for indications played\n    transfercapability - R/W ISDN Transfer Capability, one of:\n        SPEECH\n        DIGITAL\n        RESTRICTED_DIGITAL\n        3K1AUDIO\n        DIGITAL_W_TONES\n        VIDEO\n    txgain - R/W set txgain level on channel drivers that support it.\n    videonativeformat - R/O format used natively for video\n    trace - R/W whether or not context tracing is enabled, only available\n    *if CHANNEL_TRACE is defined*.\n    *chan_sip* provides the following additional options:\n    peerip - R/O Get the IP address of the peer.\n    recvip - R/O Get the source IP address of the peer.\n    from - R/O Get the URI from the From: header.\n    uri - R/O Get the URI from the Contact: header.\n    useragent - R/O Get the useragent.\n    peername - R/O Get the name of the peer.\n    t38passthrough - R/O '1' if T38 is offered or enabled in this channel,\n    otherwise '0'\n    rtpqos - R/O Get QOS information about the RTP stream\n        This option takes two additional arguments:\n        Argument 1:\n         'audio'             Get data about the audio stream\n         'video'             Get data about the video stream\n         'text'              Get data about the text stream\n        Argument 2:\n         'local_ssrc'        Local SSRC (stream ID)\n         'local_lostpackets' Local lost packets\n         'local_jitter'      Local calculated jitter\n         'local_maxjitter'   Local calculated jitter (maximum)\n         'local_minjitter'   Local calculated jitter (minimum)\n         'local_normdevjitter'Local calculated jitter (normal\n         deviation)\n         'local_stdevjitter' Local calculated jitter (standard\n         deviation)\n         'local_count'       Number of received packets\n         'remote_ssrc'       Remote SSRC (stream ID)\n         'remote_lostpackets'Remote lost packets\n         'remote_jitter'     Remote reported jitter\n         'remote_maxjitter'  Remote calculated jitter (maximum)\n         'remote_minjitter'  Remote calculated jitter (minimum)\n         'remote_normdevjitter'Remote calculated jitter (normal\n         deviation)\n         'remote_stdevjitter'Remote calculated jitter (standard\n         deviation)\n         'remote_count'      Number of transmitted packets\n         'rtt'               Round trip time\n         'maxrtt'            Round trip time (maximum)\n         'minrtt'            Round trip time (minimum)\n         'normdevrtt'        Round trip time (normal deviation)\n         'stdevrtt'          Round trip time (standard deviation)\n         'all'               All statistics (in a form suited to\n         logging, but not for parsing)\n    rtpdest - R/O Get remote RTP destination information.\n       This option takes one additional argument:\n        Argument 1:\n         'audio'             Get audio destination\n         'video'             Get video destination\n         'text'              Get text destination\n       Defaults to 'audio' if unspecified.\n    rtpsource - R/O Get source RTP destination information.\n       This option takes one additional argument:\n        Argument 1:\n         'audio'             Get audio destination\n         'video'             Get video destination\n         'text'              Get text destination\n       Defaults to 'audio' if unspecified.\n    *chan_iax2* provides the following additional options:\n    osptoken - R/O Get the peer's osptoken.\n    peerip - R/O Get the peer's ip address.\n    peername - R/O Get the peer's username.\n    secure_signaling - R/O Get the if the IAX channel is secured.\n    secure_media - R/O Get the if the IAX channel is secured.\n    *chan_dahdi* provides the following additional options:\n    dahdi_channel - R/O DAHDI channel related to this channel.\n    dahdi_span - R/O DAHDI span related to this channel.\n    dahdi_type - R/O DAHDI channel type, one of:\n        analog\n        mfc/r2\n        pri\n        pseudo\n        ss7\n    keypad_digits - R/O PRI Keypad digits that came in with the SETUP\n    message.\n    reversecharge - R/O PRI Reverse Charging Indication, one of:\n        -1 - None\n         1 - Reverse Charging Requested\n    no_media_path - R/O PRI Nonzero if the channel has no B channel.\n    The channel is either on hold or a call waiting call.\n    buffers - W/O Change the channel's buffer policy (for the current\n    call only)\n    This option takes two arguments:\n        Number of buffers,\n        Buffer policy being one of:\n            'full'\n            'immediate'\n            'half'\n    echocan_mode - W/O Change the configuration of the active echo\n    canceller on the channel (if any), for the current call only.\n    Possible values are:\n        'on'    Normal mode (the echo canceller is actually reinitalized)\n        'off'   Disabled\n        'fax'   FAX/data mode (NLP disabled if possible, otherwise co\n        mpletely disabled)\n        'voice' Voice mode (returns from FAX mode, reverting the changes\n        that were made)\n\n[See Also]\nNot available\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 871, "user_id": 2437063, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/vt5Qr.jpg?s=128&g=1", "display_name": "Shirker", "link": "https://stackoverflow.com/users/2437063/shirker"}, "is_accepted": false, "score": 0, "last_activity_date": 1475191388, "creation_date": 1475191388, "answer_id": 39781494, "question_id": 39692105, "link": "https://stackoverflow.com/questions/39692105/asteriskagi-perl-check-if-sip-channel-is-online/39781494#39781494", "title": "Asterisk::AGI perl - check if SIP channel is online?", "body": "<p>Based on answer of arheops this is the working AGI to test a SIP channel status:</p>\n\n<pre><code>$AGI-&gt;exec(\"EXEC Set(TESTVAR=\\${SIPPEER(8880101,status)})\");\nmy $testvar = $AGI-&gt;get_variable('TESTVAR'); \n$AGI-&gt;verbose(\"testvar $testvar\");\n</code></pre>\n\n<p>Cli log:</p>\n\n<p><code>AGI.agi: testvar OK (170 ms)</code></p>\n\n<p>of course <code>qualify=yes</code> should be set for the peer or globally </p>\n"}], "owner": {"reputation": 871, "user_id": 2437063, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/vt5Qr.jpg?s=128&g=1", "display_name": "Shirker", "link": "https://stackoverflow.com/users/2437063/shirker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 0, "accepted_answer_id": 39708246, "answer_count": 2, "score": 0, "last_activity_date": 1475191388, "creation_date": 1474839606, "question_id": 39692105, "link": "https://stackoverflow.com/questions/39692105/asteriskagi-perl-check-if-sip-channel-is-online", "title": "Asterisk::AGI perl - check if SIP channel is online?", "body": "<p>I'm writing asterisk agi script for 1.8 asterisk. Before dial, I want to check if desired SIP channel is available.\nBut I cant find a way to check if SIP channel is online using Asterisk::AGI</p>\n\n<p>trying <code>$AGI-&gt;channel_status('SIP/1001');</code> </p>\n\n<p>but it always returns -1</p>\n\n<p>I was thinking to use AMI, but it doesn't work from AGI script (only in debug <code>asterisk -vvvvc</code>)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1474844557, "post_id": 39691513, "comment_id": 66684499, "body": "There&#39;s no way to distinguish returning 0 scalars using <code>return;</code> from returning 0 scalars using <code>return @z;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 6, "last_activity_date": 1474885730, "last_edit_date": 1474885730, "creation_date": 1474836516, "answer_id": 39691703, "question_id": 39691513, "link": "https://stackoverflow.com/questions/39691513/is-there-a-way-to-distinguish-error-and-empty-array-returned-from-subroutine-whe/39691703#39691703", "title": "Is there a way to distinguish error and empty array returned from subroutine when it is called in list context?", "body": "<p>A way to distingish between the empty list and an error in this case would be to return an array reference, e.g.</p>\n\n<pre><code>sub t0 {\n    return undef;     # We return undef for ERROR\n}\n\nsub t1 {\n    @z =  ();\n    return \\@z;  # We return array (which maybe empty) for no ERROR\n}\n</code></pre>\n\n<p>So basically the functions do not behave differently in list context. They always return a single scalar, which may be <code>undef</code>, which indicates an error, or return a reference to an array.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1474854179, "last_edit_date": 1495541214, "creation_date": 1474836525, "answer_id": 39691704, "question_id": 39691513, "link": "https://stackoverflow.com/questions/39691513/is-there-a-way-to-distinguish-error-and-empty-array-returned-from-subroutine-whe/39691704#39691704", "title": "Is there a way to distinguish error and empty array returned from subroutine when it is called in list context?", "body": "<p>In list context a sub <em>will return a list</em>, even if it only has one element which is <code>undef</code>. If you must return data in a flat list &ndash; if it is not feasible to change the callers, say in a large codebase -- you can <code>die</code> on error and <code>eval</code> somewhere at a top level. (As <code>die</code> is an exception it \"bubbles.\")</p>\n\n<p>The other option for the flat list is rather unappealing, and it still requires changes to callers. You can return an empty list or an <code>undef</code> and then test accordingly -- but see the comment below.</p>\n\n<pre><code>sub test {  \n    # set @z (but not with undef!), $error\n    return undef if $error;\n    return @z;\n}\n\nmy @ret = test();\n\nif (not @ret) {\n    # empty list\n} \nelse {\n    foreach my $elem (@ret) {\n        if (not defined $elem) {\n            warn \"Undefined\";\n            last\n        }\n        # ...\n    }\n}\n</code></pre>\n\n<p>However, as pointed out by <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>, if <code>@z</code> gets assigned an <code>undef</code> legitimately (without error), for example a variable that happens to be undefined, this code can't tell the difference.  So the function would have to be changed further to deal with that.</p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1474836540, "creation_date": 1474836540, "answer_id": 39691708, "question_id": 39691513, "link": "https://stackoverflow.com/questions/39691513/is-there-a-way-to-distinguish-error-and-empty-array-returned-from-subroutine-whe/39691708#39691708", "title": "Is there a way to distinguish error and empty array returned from subroutine when it is called in list context?", "body": "<p>No.</p>\n\n<p>Return an array reference if successful (which the caller will have to dereference) and undef on failure.</p>\n\n<p>Or throw an exception on failure (which the calling code could catch).</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 39691703, "answer_count": 3, "score": 1, "last_activity_date": 1474885730, "creation_date": 1474835253, "question_id": 39691513, "link": "https://stackoverflow.com/questions/39691513/is-there-a-way-to-distinguish-error-and-empty-array-returned-from-subroutine-whe", "title": "Is there a way to distinguish error and empty array returned from subroutine when it is called in list context?", "body": "<p>I have script:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nsub t0 {\n    return;     # We return nothing for ERROR\n}\n\nsub t1 {\n    @z =  ();\n    return @z;  # We return array (which maybe empty) for no ERROR\n}\n</code></pre>\n\n<p>In scalar context I can distinguish error and OK status:</p>\n\n<pre><code>my $x1 =  t0();  # undef\nmy $x2 =  t1();  # 0\n</code></pre>\n\n<p>Is there a way to distinguish error and empty array returned from subroutine when it is called in list context?</p>\n\n<pre><code>my @x1 =  t0();  # empty list\nmy @x2 =  t1();  # empty list\n</code></pre>\n\n<p>I am feeling that I need \"0E0\" (Zero but TRUE) but for list context.</p>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474833912, "post_id": 39691215, "comment_id": 66681846, "body": "How is the code failing? What is it producing?"}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474834147, "post_id": 39691215, "comment_id": 66681913, "body": "@choroba It is not printing anything, trying to understand"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474834279, "post_id": 39691215, "comment_id": 66681950, "body": "if you&#39;re not understanding, you&#39;re trying to be too clever with the <code>map</code>."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474834698, "post_id": 39691215, "comment_id": 66682069, "body": "@Sobrique : it splits the data by : and stores the left value as key and right as value"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474838049, "post_id": 39691215, "comment_id": 66683065, "body": "You&#39;d need <code>split &quot;,&quot;, ($result_hash{$key} =~ &#47;([^;]+)&#47;)[0];</code>.  However, I recommend separate statements"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1474834774, "last_edit_date": 1474834774, "creation_date": 1474834418, "answer_id": 39691367, "question_id": 39691215, "link": "https://stackoverflow.com/questions/39691215/split-the-data-with-3-delimiters-and-store-it-in-2-separate-arrays-at-a-time/39691367#39691367", "title": "Split the data with 3 delimiters and store it in 2 separate arrays at a time", "body": "<p>Many problems: <a href=\"http://p3rl.org/open\" rel=\"nofollow\">open</a> needs a file name, not filehandle contents (unless DATA contains the file name, which it doesn't). To keep the values in the arrays, use <a href=\"http://p3rl.org/push\" rel=\"nofollow\">push</a>, not assignment - you can't assign to two arrays at the same time, anyway, as the first one eats everything. Also, doing everything in one command might be possible, but definitely not readable and maintainable.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $fh = *DATA{IO};\nmy (@A, @B);                                            # The comments just fix\n                                                        # the stupid SO syntax highlighter.\nmy %result_hash = map { chomp; split /:/ } &lt;$fh&gt;;       #/\nfor my $key (sort { $a &lt;=&gt; $b } keys %result_hash) {\n    my ($left, $right) = split /;/, $result_hash{$key}; #/\n    push @A, split /,/, $left;                          #/\n    push @B, split /,/, $right // q();\n}\n\nuse Data::Dumper; print Dumper(\\@A, \\@B, \\%result_hash);\n\n__DATA__\n1:X,Y,X,A,B;C,D,E,F\n2:A,C,B,D\n3:W,R,T,E;E\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 0, "last_activity_date": 1474837198, "last_edit_date": 1474837198, "creation_date": 1474836765, "answer_id": 39691743, "question_id": 39691215, "link": "https://stackoverflow.com/questions/39691215/split-the-data-with-3-delimiters-and-store-it-in-2-separate-arrays-at-a-time/39691743#39691743", "title": "Split the data with 3 delimiters and store it in 2 separate arrays at a time", "body": "<p>The trick is to do each step separately, and in a different order. The order is <a href=\"https://en.wikipedia.org/wiki/Lexical_analysis#Tokenization\" rel=\"nofollow\"><em>tokenize</em></a> then <em>parse</em>. Basically, break it up into pieces, then do something with those pieces.</p>\n\n<p>The next trick is to tokenize <em>recursively</em>. That is rather than trying to tokenize everything in one go, break big tokens up into smaller tokens, and those into smaller tokens, and so on until you hit bottom. First the line, then the CSVs.</p>\n\n<p>Looking at it this way, the first layer of the grammar looks something like this (whitespace is ignored).</p>\n\n<pre><code>LINE = LINENUM : CSV ; CSV\n</code></pre>\n\n<p>Note that at this point we don't care what's in the CSV. We'll assume we don't have to deal with quoting and escaping else things get complicated.</p>\n\n<p>There's a few ways to deal with this. One is to use a regex to tokenize the whole thing in one shot.</p>\n\n<pre><code>my($linenum, @csvs) = $line =~ /^(.*?) : ([^;]*) ; (.*)$/x;\n</code></pre>\n\n<p>Now that you have the <code>@csvs</code> separated from everything else they need to be tokenized. You can turn them into more tokens by splitting on commas.</p>\n\n<pre><code>push @$a, split /,/, $csvs[0];\npush @$b, split /,/, $csvs[1];\n</code></pre>\n\n<p>And there you go. By tokenizing each layer you avoid the complexity of trying to parse everything in one go.</p>\n\n<hr>\n\n<p>As to your function, there's many things which can be done to improve it. Mostly have it do <em>one thing</em>, parse the file. Something else opens the file.</p>\n\n<p>Also everything it needs should be passed in and returned, no using globals (yes, <code>my</code> from outside the function counts as a global).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;  # for say()\n\nmy($left, $right) = parse_whatever_this_format_is_called(*DATA);\n\nsay \"Left:  \". join \", \", @$left;\nsay \"Right: \". join \", \", @$right;\n\nsub parse_whatever_this_format_is_called {\n    # Take the filehandle to read as input\n    my $fh = shift;\n\n    # Declare our outputs\n    my(@left, @right);\n\n    # Parse each line\n    while( my $line = &lt;$fh&gt;) {\n        # Tokenize LINE = LINENUM : CSV ; CSV\n        my($linenum, @csvs) = $line =~ /^(.*?) : ([^;]*) ; (.*)$/x;\n\n        # Skip lines that didn't match\n        next if !$linenum;\n\n        # Split the CSVs\n        push @left,  split /,/, $csvs[0];\n        push @right, split /,/, $csvs[1];\n    }\n\n    # Return our outputs as references.\n    # It's the only way to return multiple lists.\n    # Also it avoids the expense of a copy.\n    return( \\@left, \\@right );\n}\n\n__DATA__\n1:X,Y,X,A,B;C,D,E,F\n2:A,C,B,D\n3:W,R,T,E;E\n</code></pre>\n"}], "owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 39691367, "answer_count": 2, "score": 0, "last_activity_date": 1474837198, "creation_date": 1474833414, "last_edit_date": 1474834819, "question_id": 39691215, "link": "https://stackoverflow.com/questions/39691215/split-the-data-with-3-delimiters-and-store-it-in-2-separate-arrays-at-a-time", "title": "Split the data with 3 delimiters and store it in 2 separate arrays at a time", "body": "<p>I have data with 3 delimiters (: , and ;)  And in the data  : and ; appear only once</p>\n\n<pre><code>__DATA__\n\n1:X,Y,X,A,B;C,D,E,F \n2:A,C,B,D\n3:W,R,T,E;E\n</code></pre>\n\n<p>Step 1: </p>\n\n<blockquote>\n  <p>Split by : and build a hash</p>\n</blockquote>\n\n<p>Step 2:</p>\n\n<blockquote>\n  <p>Split by , and store every comma separated value in a array till we find  ; </p>\n</blockquote>\n\n<p>Step 3:</p>\n\n<blockquote>\n  <p>Everything that follows ; would be in another array</p>\n</blockquote>\n\n<p>From the above data, i am trying to store all the values before ; in array A and everything on right in array B</p>\n\n<pre><code>Output\nA = [X,Y,X,B,A,B,C,D,W,R,T,E]  B=[C,D,E,F,E]\n</code></pre>\n\n<p>Below is the code i tried</p>\n\n<pre><code>my (@A,@B);\nsub Compare_results  \n{\n  my %result_hash = map { chomp; split ':', $_ } &lt;DATA&gt; ; #split by    colon and futher split by , and ; if any (doing it in insert_array)\n foreach my $key ( sort { $a &lt;=&gt; $b } (keys %result_hash) )\n {\n\n   @A = split \",\", (/([^;]+)/)[0], $result_hash{$key};\n   @B = split \",\", (/;([^;]+)/)[0], $result_hash{$key};\n   print Dumper \\@A,\\@B;\n }    \n\n}\n</code></pre>\n\n<p>But this is not producing the any results, The output arrays are empty \nWhats the right approach of splitting data by , and ; at a time store in separate array\nIs there also a way split data by three delimiters (one split for building up a hash ) at one shot</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "email", "smtp", "timeout"], "comments": [{"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 4, "creation_date": 1474846921, "post_id": 39689992, "comment_id": 66684924, "body": "You do not appear to be reading the error message carefully. A  <code>connect: timeout</code> should have nothing to do with what address you&#39;re sending to.  Your connection to the SMTP server is timing out, which implies that there&#39;s a firewall on your Internet connection that is dropping your outbound traffic... nothing to do with your code or the modules you&#39;re using.  Troubleshoot that problem. Try <code>telnet smtp.gmail.com 587</code> or <code>openssl s_client -connect smtp.gmail.com:587</code>. What do you see?"}, {"owner": {"reputation": 103, "user_id": 3522223, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb304ce9f86008bb10ad0176d5aefa5f?s=128&d=identicon&r=PG&f=1", "display_name": "adrenalin", "link": "https://stackoverflow.com/users/3522223/adrenalin"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1474872449, "post_id": 39689992, "comment_id": 66691154, "body": "@Michael-sqlbot, and how can i run it on server? I have only ftp and cpanel acsess to my website..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474878981, "post_id": 39689992, "comment_id": 66694690, "body": "You can also use <a href=\"https://metacpan.org/pod/Email::Send::SMTP::Gmail\" rel=\"nofollow noreferrer\"><code>Email::Send::SMTP::Gmail</code></a>. I have tested it <a href=\"http://www.perlmonks.org/?node_id=1170831\" rel=\"nofollow noreferrer\">here</a>. If you don&#39;t want to change your gmail account settings to allow access for less secure apps, you could try to use OAuth2 authentications, but I was not able to find out how to do this in Perl. I managed to do it in Python though, using <a href=\"https://github.com/joestump/python-oauth2\" rel=\"nofollow noreferrer\">python-oauth2</a> ."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 2, "creation_date": 1474881622, "post_id": 39689992, "comment_id": 66696303, "body": "@adrenalin in that case, you are not in an environment where you can troubleshoot this further, and will need to contact the vendor or your next level of support, as mentioned by Dave Cross, below.  In a restricted environment, such access may not be allowed by the vendor."}, {"owner": {"reputation": 103, "user_id": 3522223, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb304ce9f86008bb10ad0176d5aefa5f?s=128&d=identicon&r=PG&f=1", "display_name": "adrenalin", "link": "https://stackoverflow.com/users/3522223/adrenalin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474884055, "post_id": 39689992, "comment_id": 66697975, "body": "@H&#229;konH&#230;gland I have the same problem with Email::Send::SMTP::Gmail"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1474877014, "creation_date": 1474877014, "answer_id": 39697585, "question_id": 39689992, "link": "https://stackoverflow.com/questions/39689992/perl-smtp-email-send-is-not-working/39697585#39697585", "title": "Perl smtp email send is not working", "body": "<blockquote>\n  <p>Error sending email: Connect failed :IO::Socket::INET: connect: timeout at /home/tas/perl5/lib/perl5/Email/Send/SMTP/TLS.pm line 45</p>\n</blockquote>\n\n<p>Looks like there is nothing wrong with your Perl code. It looks like this is a networking problem. Something in your network is preventing you from connecting to Gmail on port 587.</p>\n\n<p>You probably need to discuss this with the system support people for your server.</p>\n"}], "owner": {"reputation": 103, "user_id": 3522223, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb304ce9f86008bb10ad0176d5aefa5f?s=128&d=identicon&r=PG&f=1", "display_name": "adrenalin", "link": "https://stackoverflow.com/users/3522223/adrenalin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 1, "accepted_answer_id": 39697585, "answer_count": 1, "score": 1, "last_activity_date": 1474877014, "creation_date": 1474826231, "last_edit_date": 1474827262, "question_id": 39689992, "link": "https://stackoverflow.com/questions/39689992/perl-smtp-email-send-is-not-working", "title": "Perl smtp email send is not working", "body": "<p>I'm trying to send emails from my gmail account, and get the error:</p>\n\n<pre><code>Error sending email: Connect failed :IO::Socket::INET: connect: timeout at /home/tas/perl5/lib/perl5/Email/Send/SMTP/TLS.pm line 45\n</code></pre>\n\n<p>I've tried several different email adresses (gmail and others) but the result is the same.</p>\n\n<p>I use this code:</p>\n\n<pre><code>#!/usr/bin/perlml\nuse Email::Send;\nprint \"Content-type: text/html\\n\\n\";\nmy $mailer = Email::Send-&gt;new( {\n    mailer =&gt; 'SMTP::TLS',\n    mailer_args =&gt; [\n        Host =&gt; 'smtp.gmail.com',\n        Port =&gt; 587,\n        User =&gt; 'XXXX@gmail.com',\n        Password =&gt; 'XXXXXXXXX',\n        Hello =&gt; 'fayland.org',\n    ]\n} );\n\nuse Email::Simple::Creator; # or other Email::\nmy $email = Email::Simple-&gt;create(\n    header =&gt; [\n        From    =&gt; 'XXXX@gmail.com',\n        To      =&gt; 'XXXX@gmail.com',\n        Subject =&gt; 'test',\n    ],\n    body =&gt; 'test',\n);\neval { $mailer-&gt;send($email) };\ndie \"Error sending email: $@\" if $@;\n</code></pre>\n\n<p>What is wrong here? Any other ways to send emails using smtp?</p>\n"}, {"tags": ["xml", "perl", "parsing"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1474833885, "post_id": 39689921, "comment_id": 66681839, "body": "The XML::LibXML tutorial has a page on <a href=\"http://grantm.github.io/perl-libxml-by-example/namespaces.html\" rel=\"nofollow noreferrer\">working with namespaces</a>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1474830093, "creation_date": 1474830093, "answer_id": 39690664, "question_id": 39689921, "link": "https://stackoverflow.com/questions/39689921/parsing-an-special-xml-file-using-perl/39690664#39690664", "title": "Parsing an special xml file using perl", "body": "<p>When you want to work with namespaces in <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>, you need to use <a href=\"http://p3rl.org/XML::LibXML::XPathContext\" rel=\"nofollow\">XML::LibXML::XPathContext</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::LibXML;\n\nmy $dom = 'XML::LibXML'-&gt;load_xml(location =&gt; 'above.xml');\n\nmy $xpc = 'XML::LibXML::XPathContext'-&gt;new;\n$xpc-&gt;registerNs('con', 'http://some%20web%20link');\n\nfor my $property ($xpc-&gt;findnodes('//con:properties', $dom)) {\n    my @names = $xpc-&gt;findnodes('con:string/@name', $property);\n    say join ' ', map $_-&gt;getValue, @names;\n}\n</code></pre>\n\n<p>A bit shorter in <a href=\"http://metacpan.org/pod/distribution/XML-XSH2/xsh\" rel=\"nofollow\">xsh</a>:</p>\n\n<pre><code>open above.xml ;\nregister-namespace con http://some%20web%20link ;\necho //con:properties/con:string/@name ;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 0, "last_activity_date": 1474830120, "creation_date": 1474830120, "answer_id": 39690670, "question_id": 39689921, "link": "https://stackoverflow.com/questions/39689921/parsing-an-special-xml-file-using-perl/39690670#39690670", "title": "Parsing an special xml file using perl", "body": "<p>The problem is that <code>$entry-&gt;getElementsByTagName('con:string')</code> returns an array so you need a second loop inside the one that you have. So you can do something like this:</p>\n\n<pre><code>foreach my $entry ($doc-&gt;getElementsByTagName('con:properties')) {\n        foreach my $elem ($entry-&gt;getElementsByTagName('con:string')) {\n                my $name = $elem-&gt;getAttribute('name');\n                my $value = $elem-&gt;getAttribute('value');\n                print \"$name = $value\\n\";\n    }\n}\n</code></pre>\n\n<p>Note that extracting information like that from xml documents is really tedious, so you may want to look for a solution that allows you to use xpath to access parts of the document. See also choroba's answer for that.</p>\n"}], "owner": {"reputation": 13, "user_id": 6878667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9cb5446f793278dfb7b67f9c1e3aaf?s=128&d=identicon&r=PG&f=1", "display_name": "dreamer", "link": "https://stackoverflow.com/users/6878667/dreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 39690670, "answer_count": 2, "score": 1, "last_activity_date": 1474898405, "creation_date": 1474825810, "last_edit_date": 1474898405, "question_id": 39689921, "link": "https://stackoverflow.com/questions/39689921/parsing-an-special-xml-file-using-perl", "title": "Parsing an special xml file using perl", "body": "<p>I am trying parse below xml file and get the values of bBranch,Branch...</p>\n\n<pre><code>&lt;xml-fragment xmlns:con=\"http://some web link\"&gt;\n  &lt;con:properties&gt;\n\n        &lt;con:string name=\"bBranch\" value=\"in\" export=\"never\" /&gt;\n        &lt;con:string name=\"Branch\" value=\"in\" export=\"never\" /&gt;\n\n        &lt;con:boolean name=\"cBranch\" value=\"0\" export=\"never\" /&gt;\n  &lt;/con:properties&gt;\n&lt;/xml-fragment&gt;\n</code></pre>\n\n<p>I have tried with XML:LibXML and XML::DOM</p>\n\n<p>Here is a code that i tried:-</p>\n\n<pre><code>use XML::DOM;\nmy $file =\"above.xml\";\nmy $parser = XML::DOM::Parser-&gt;new();\n\nmy $doc = $parser-&gt;parsefile($file);\n\nforeach my $entry ($doc-&gt;getElementsByTagName('con:properties')) {\n        my $parent = $entry-&gt;getElementsByTagName('con:string')-&gt;item(0)-&gt;getFirstChild-&gt;getNodeValue;\n        print $parent;\n\n}\n</code></pre>\n\n<p>Output:-\nCan't call method \"getNodeValue\" on an undefined value at ./test2.pl line 6.</p>\n\n<p>Am I missing anything or going in any wrong direction? </p>\n\n<p>Please help.\nthanks in advance!</p>\n\n<p><strong>:UPDATE:</strong></p>\n\n<p>If I were to change my xml file as follows,</p>\n\n<pre><code>&lt;xml-fragment xmlns:con=\"http://some web link\"&gt;\n  &lt;con:properties&gt;           \n        &lt;con:string name=\"Branch\" value=\"Batman\" export=\"never\" /&gt;\n        &lt;con:boolean name=\"cBranch\" value=\"$Branch\" export=\"never\" /&gt;\n  &lt;/con:properties&gt;\n&lt;/xml-fragment&gt;\n</code></pre>\n\n<p>How can I get the value for <code>cBranch</code> such that it will fetch me <code>$Branch</code> value <code>Batman</code>?</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1474823181, "post_id": 39689510, "comment_id": 66678290, "body": "<code>os.system(&quot;bash -c &quot;+bashcode)</code> ?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1474824463, "post_id": 39689510, "comment_id": 66678652, "body": "Using Perl just to get a dump of the environment seems dubious, unless you specifcally need it in the Perlish format generated by <code>data::dumper</code>.  Just <code>env</code> in the shell should give you the output you want.  Whether you call <code>bash -c &quot;code&quot;</code> from Perl or Python should be immaterial; the only question is really why you are using <i>either</i> when clearly this is a Bash task.  If the task is to import these variables to Python, perhaps look at <a href=\"https://docs.python.org/3/library/shlex.html\" rel=\"nofollow noreferrer\"><code>shlex</code></a>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1474829426, "post_id": 39689510, "comment_id": 66680311, "body": "The existing code is using a bash script to call two other scripts to set some environment variables, and then getting that modified environment back to the original perl script by dumping in perl format from the bash script.  You will need to replace that part (perhaps just with <code>env</code> as the third line of the bash script) and use some pythony way to run <code>bash -c ...</code> and capture and parse the output."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6878593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f595769ea2de360368fc36da94306c?s=128&d=identicon&r=PG&f=1", "display_name": "mrthingfish", "link": "https://stackoverflow.com/users/6878593/mrthingfish"}, "edited": false, "score": 0, "creation_date": 1474823567, "post_id": 39689580, "comment_id": 66678395, "body": "Yes, that&#39;s where I&#39;m stuck. The example posted is from the original perl script. Im not using it in the python code, but I do want to figure out how to translate it to the python equivalent"}, {"owner": {"reputation": 3601, "user_id": 390785, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/635df493ae4dbd67aad6009c0b77675b?s=128&d=identicon&r=PG", "display_name": "sureshvv", "link": "https://stackoverflow.com/users/390785/sureshvv"}, "reply_to_user": {"reputation": 1, "user_id": 6878593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f595769ea2de360368fc36da94306c?s=128&d=identicon&r=PG&f=1", "display_name": "mrthingfish", "link": "https://stackoverflow.com/users/6878593/mrthingfish"}, "edited": false, "score": 0, "creation_date": 1474823715, "post_id": 39689580, "comment_id": 66678443, "body": "I suspect that it just dumps your environment variables in a readable manner. Just use the shell command  &quot;env&quot;  and that may be enough."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474826015, "post_id": 39689580, "comment_id": 66679205, "body": "note that <code>%env</code> is not the same as <code>%ENV</code>. Although that&#39;s what could be in <code>%env</code>, it&#39;s probably worth-while checking to ensure that&#39;s the case."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1474827911, "post_id": 39689580, "comment_id": 66679836, "body": "and it should be Data::Dumper and Dumper too"}], "tags": [], "owner": {"reputation": 3601, "user_id": 390785, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/635df493ae4dbd67aad6009c0b77675b?s=128&d=identicon&r=PG", "display_name": "sureshvv", "link": "https://stackoverflow.com/users/390785/sureshvv"}, "is_accepted": false, "score": 1, "last_activity_date": 1474823473, "creation_date": 1474823473, "answer_id": 39689580, "question_id": 39689510, "link": "https://stackoverflow.com/questions/39689510/from-perl-to-python/39689580#39689580", "title": "From perl to python", "body": "<p>Your program is generating a script and running it.</p>\n\n<p>A first python approximation is:</p>\n\n<pre><code>import os\nscript=\"\"\". /opt/qip/etc/qiprc;\n          . /opt/sybase/sybase.sh\n          perl -mdata::dumper -e 'print dumper \\%env';\n\"\"\"\nos.system(script)\n</code></pre>\n\n<p>As you can see, perl is still being used inside your script which is using the module data::dumper. If you want to use python here, you may need the equivalent module.</p>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1474825621, "last_edit_date": 1474825621, "creation_date": 1474823563, "answer_id": 39689599, "question_id": 39689510, "link": "https://stackoverflow.com/questions/39689510/from-perl-to-python/39689599#39689599", "title": "From perl to python", "body": "<p>This part:</p>\n\n<pre><code>my $bashcode=&lt;&lt;'__bash__';\n. /opt/qip/etc/qiprc;\n. /opt/sybase/sybase.sh\nperl -mdata::dumper -e 'print dumper \\%env';\n__bash__\n</code></pre>\n\n<p>Is a here doc and you would do this in Python:</p>\n\n<pre><code>bashcode=\"\"\"\\\n. /opt/qip/etc/qiprc;\n. /opt/sybase/sybase.sh\nperl -mdata::dumper -e 'print dumper \\%env';\n\"\"\"\n</code></pre>\n\n<p>You would shell out to Bash using something like <a href=\"https://docs.python.org/2/library/os.html#os.system\" rel=\"nofollow\">os.system</a> or <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.check_output\" rel=\"nofollow\">subprocess.check_output</a>.</p>\n\n<p>The result of that is then fed to <code>eval</code> to be run as Perl code. </p>\n\n<p>(The wisdom, and the result of the <code>eval</code> is dependant on what these Bash commands produce. It would appear that those commands are producing a Perl script. Obviously, that will not execute in Python. Python also has eval. Use <code>eval</code> in any language cautiously.)</p>\n\n<p>The use of <code>\\%env</code> in Perl would seem to indicate access to the environment of the host. However, the actual Perl variable to access the OS environment hash is <code>ENV</code> in uppercase. In Bash, you access the environment with a lowercase <code>env</code></p>\n\n<p>To access the host environment in Python, use <a href=\"https://docs.python.org/2/library/os.html#process-parameters\" rel=\"nofollow\">os.environ</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6878593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f595769ea2de360368fc36da94306c?s=128&d=identicon&r=PG&f=1", "display_name": "mrthingfish", "link": "https://stackoverflow.com/users/6878593/mrthingfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1474825621, "creation_date": 1474823025, "question_id": 39689510, "link": "https://stackoverflow.com/questions/39689510/from-perl-to-python", "title": "From perl to python", "body": "<p>I've got some code that I've translated from perl into python, but I am having a time trying to figure out this last part. </p>\n\n<pre><code>my $bashcode=&lt;&lt;'__bash__';\n. /opt/qip/etc/qiprc;\n. /opt/sybase/sybase.sh\nperl -mdata::dumper -e 'print dumper \\%env';\n__bash__\nmy $var1;\neval qx(bash -c \"$bashcode\");\n</code></pre>\n\n<p>While I understand (a bit) what this is doing, I can't seem to find out how to do this in python. Any help would be greatly appreciated.</p>\n"}, {"tags": ["perl", "random", "subcommand"], "answers": [{"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 0, "last_activity_date": 1474818196, "creation_date": 1474818196, "answer_id": 39688732, "question_id": 39688672, "link": "https://stackoverflow.com/questions/39688672/edit-executavble-command-to-make-random-number-generator-in-perl/39688732#39688732", "title": "Edit executavble command to make random number generator in Perl", "body": "<p>How about</p>\n\n<pre><code>random_string_from(\"123456789\", 1) . random_string_from(\"1234567890\", $n-1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "is_accepted": false, "score": 0, "last_activity_date": 1474818280, "creation_date": 1474818280, "answer_id": 39688748, "question_id": 39688672, "link": "https://stackoverflow.com/questions/39688672/edit-executavble-command-to-make-random-number-generator-in-perl/39688748#39688748", "title": "Edit executavble command to make random number generator in Perl", "body": "<p>Put the <code>Crypt::PRNG</code> code in a while loop until the leading character is not a 0.</p>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 39688732, "answer_count": 2, "score": -1, "last_activity_date": 1474818280, "creation_date": 1474817852, "question_id": 39688672, "link": "https://stackoverflow.com/questions/39688672/edit-executavble-command-to-make-random-number-generator-in-perl", "title": "Edit executavble command to make random number generator in Perl", "body": "<p>I was using this module for Perl, <a href=\"https://metacpan.org/pod/Crypt::PRNG\" rel=\"nofollow\">Crypt::PRNG</a>, to generate random numbers. The number-generation seems truly random when using the random string command, it can use digits 0-9 as well as other characters and create a random string of the specified number of digits, the problem is the leading 0's. </p>\n\n<pre><code>perl -MCrypt::PRNG=:all -E \"say random_string_from(\"1234567890\", n)\"\n</code></pre>\n\n<p>where n is the number of digits, is there a executable command similar to the one above to fix the leading 0's so I can for sure get an n digit number? My intent is to fix only the first digit to \"123456789\". Does anyone know how to do this? Thanks in advance.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1474824582, "post_id": 39688607, "comment_id": 66678693, "body": "Your code has a few syntax errors. Are you SURE this is the real code you actually ran?"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5688915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8G3VE0Ym3qE/AAAAAAAAAAI/AAAAAAAAEuQ/hgUeCw_q3sk/photo.jpg?sz=128", "display_name": "vaisakh raveendran", "link": "https://stackoverflow.com/users/5688915/vaisakh-raveendran"}, "edited": false, "score": 0, "creation_date": 1474873473, "post_id": 39688777, "comment_id": 66691721, "body": "Thanks. but i am connecting to entdb server. using user name entdb.  $datasetname=&quot;DBI:mysql:database=applications;host=entdb&quot;. not to vpl121 server. in code no where i mentioned vpl121. FYI codes are ruuning on VPL121 server."}], "tags": [], "owner": {"reputation": 30756, "user_id": 5389997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d227900a17ca5c34bad6d2b27122c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Shadow", "link": "https://stackoverflow.com/users/5389997/shadow"}, "is_accepted": false, "score": 1, "last_activity_date": 1474818427, "creation_date": 1474818427, "answer_id": 39688777, "question_id": 39688607, "link": "https://stackoverflow.com/questions/39688607/perl-codes-always-connecting-to-same-mysql-database-although-it-is-configured-to/39688777#39688777", "title": "Perl codes always connecting to same MySQL database although it is configured to connect to different server", "body": "<p>In mysql all user accounts are identified via <a href=\"http://dev.mysql.com/doc/refman/5.7/en/account-names.html\" rel=\"nofollow\">username@hostname format</a>,  where hostname is the host name or ip address of the computer from which the code connects to the mysql database.</p>\n\n<p>You did write that the perl code runs on <code>vpl121</code>, therefore this is the hostname that mysql uses. Apparently, you do not have any user account that matches the 'entdb'@'vpl121' or the password is incorrect or the given user does not have access to the entdb database.</p>\n\n<p>My guess is that you do not have any matching user accounts. Consider perhaps creating an 'entdb'@'%' user account, where % as hostname stands for any host name or ip address.</p>\n"}], "owner": {"reputation": 53, "user_id": 5688915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8G3VE0Ym3qE/AAAAAAAAAAI/AAAAAAAAEuQ/hgUeCw_q3sk/photo.jpg?sz=128", "display_name": "vaisakh raveendran", "link": "https://stackoverflow.com/users/5688915/vaisakh-raveendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474824569, "creation_date": 1474817468, "last_edit_date": 1474824569, "question_id": 39688607, "link": "https://stackoverflow.com/questions/39688607/perl-codes-always-connecting-to-same-mysql-database-although-it-is-configured-to", "title": "Perl codes always connecting to same MySQL database although it is configured to connect to different server", "body": "<p>Perl codes always connecting to same MySQL(local but in error showing FQDN of server) database although it is configured to connect to different server. \nplease see the codes.</p>\n\n<pre><code>$datasetname=\"DBI:mysql:database=applications;host=entdb\"\n\n$$dbobject = DBI -&gt; connect ($datasetname, $username, $password,\n                           {RaiseError =&gt; 0, PrintError =&gt; 0})\n                  or $errflg2 = 1;\nprint TT (\"                   : \".time().\"\\n\");\nclose (TT);\nif ($errflg2 &gt; 0)\n{\n $errmsg  = \"ERROR opening up the database: $datasetname\\n\";\n $errmsg .= \"  Error number: \" . $DBI::err . \"\\n\";\n $errmsg .= \"  Error text  : \" . $DBI::errstr . \"\\n\";\n print \"$errmsg\";\n ilog ($ifile, $errmsg);\n mail_it ($errmsg);\n if ($debug != 0) { close (DB); }\n exit (1);\n}\nelse\n{ print \"Opened the '\" . $datasetname . \"' database.\\n\"; }**\nenter code here\n</code></pre>\n\n<p><strong>error\nERROR opening up the database: DBI:mysql:database=applications;host=entdb\n  Error number: 1045\n  Error text  : Access denied for user 'entdb'@'vpl121' (using password: YES)</strong></p>\n\n<p>see in code i referred entdb, but Perl connecting to  VPL121. Perl codes are running on vpl121.</p>\n"}, {"tags": ["mysql", "perl", "encoding", "character-encoding"], "comments": [{"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1474814377, "post_id": 39687480, "comment_id": 66675434, "body": "Is your program really able to handle both HTML and XML? If not, you should fix the Accept header to tell the server exactly what you want."}, {"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "reply_to_user": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1474814685, "post_id": 39687480, "comment_id": 66675546, "body": "yes can accept both"}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1474815579, "post_id": 39687480, "comment_id": 66675823, "body": "Your code extract does not show how the XML is parsed. Do you use an XML parser?"}, {"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "reply_to_user": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1474815802, "post_id": 39687480, "comment_id": 66675902, "body": "yes: my $jobXml = XML::LibXML::Reader-&gt;new (string =&gt; $doc-&gt;content) or die &quot;error reading xml&quot;;"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1474847278, "post_id": 39687480, "comment_id": 66684977, "body": "Seems like the better course of action would be to fix the table, or maybe convert the unicode characters to HTML entities (yes, that&#39;s a really bad idea, too, but far more correct than just casually throwing away characters)."}], "answers": [{"comments": [{"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 1, "creation_date": 1474814726, "post_id": 39687637, "comment_id": 66675564, "body": "This will also encode character in the upper part of the Latin-1 character set."}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1474820033, "post_id": 39687637, "comment_id": 66677203, "body": "ASCII is inadequate for English text\u2014it really is. Don\u2019t try it. With such a na&#239;ve approach, you will loose \u20ac."}, {"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "edited": false, "score": 0, "creation_date": 1474928845, "post_id": 39687637, "comment_id": 66724726, "body": "correct. euro is excluded from the regex. maybe can do some preprocessing before for the euro,pound and other symbols: $desc=~ s/\u20ac/&amp;#8364;/sgi;"}, {"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "edited": false, "score": 0, "creation_date": 1474931268, "post_id": 39687637, "comment_id": 66725426, "body": "thanks, is the best solution for removing non latin-1 chars. only problem with this solution is it removes the visible charcter &#39;...&#39; which comes after the signature part. this character is not latin1 but seems to be stored well in latin1 mysql table. with dolmen&#39;s answer was able to show the text exactly as is coming including the control characters([]) stored as their html entity code &quot;&amp;#61482;&amp;#61472;&amp;#61472;&quot; instead of &quot;?&quot;. only problem with that sprintf approach is the euro is not translated properly  to its html entity code, but if doing a replace before then works fine."}, {"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "edited": false, "score": 0, "creation_date": 1474931775, "post_id": 39687637, "comment_id": 66725560, "body": "best option is to replace control characters (white square) that translate into &#39;?&#39; , and keep other utf8 chars that store well in latin1"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474932155, "post_id": 39687637, "comment_id": 66725642, "body": "You can do <code>$desc=~s&#47;\u2026&#47;...&#47;g</code> to convert the ellipsis character to 3 dots."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 2, "last_activity_date": 1474929098, "last_edit_date": 1474929098, "creation_date": 1474811889, "answer_id": 39687637, "question_id": 39687480, "link": "https://stackoverflow.com/questions/39687480/perl-remove-invalid-characters-invalid-latin1-characters-from-string/39687637#39687637", "title": "Perl Remove invalid characters, invalid latin1 characters from string", "body": "<p>If you just want to remove the characters outside the 7-bit ascii set (which are sufficient to display messages in english), you can you do this:</p>\n\n<pre><code>$desc=~s/[^\\x00-\\x7f]//g\n</code></pre>\n\n<p><strong>Edit</strong>: If you want something more elaborate that supports the entire <code>latin-1</code> set, you can do this:</p>\n\n<pre><code>use Encode;\n\n$desc=encode('latin-1',$desc,sub {''});\n</code></pre>\n\n<p>This will remove exactly the characters that cannot be represented by <code>latin-1</code>. Note that this line expects that the <code>utf-8</code> flag is on for the string <code>$desc</code> and that the resulting string will have the <code>utf-8</code> flag is off.</p>\n\n<p>Finally, if you want to preserve the euro sign (\u20ac), please note that you cannot do that with <code>latin-1</code> because it is not part of that encoding. You will have to use a different encoding, such as <code>ISO-8859-15</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "edited": false, "score": 0, "creation_date": 1474816908, "post_id": 39688340, "comment_id": 66676252, "body": "yes only problem why seems better to remove them is in this doc there are two utf8 characters: one is displayed as a square[] and needs removed (seems originally was a bullet point from the context) and the other one is inside the signature which comes displays as a valid character &#39;\u2026&#39; however both are valid utf8 characters"}, {"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "edited": false, "score": 0, "creation_date": 1474816944, "post_id": 39688340, "comment_id": 66676261, "body": "wouldnt it need the &#39;#&#39; : sprintf(&quot;&amp;#%d;&quot;, ord $1) ?"}], "tags": [], "owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1474815759, "creation_date": 1474815759, "answer_id": 39688340, "question_id": 39687480, "link": "https://stackoverflow.com/questions/39687480/perl-remove-invalid-characters-invalid-latin1-characters-from-string/39688340#39688340", "title": "Perl Remove invalid characters, invalid latin1 characters from string", "body": "<p>The content sent by the web service is XML that contains HTML in the <code>Description</code> tag. If this is that content that worries you, another option than deleting non-Latin-1 character is to encode characters using HTML encoding:</p>\n\n<pre><code>$desc =~ s/([^\\x00-\\x7f])/sprintf(\"&amp;%d;\", ord $1)/ge\n</code></pre>\n\n<p>Here is an example:</p>\n\n<pre><code>$ echo '\u00e9' | perl -C -pE 's/([^\\x00-\\x7f])/sprintf(\"&amp;%d;\", ord $1)/ge'\n&amp;233;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "edited": false, "score": 0, "creation_date": 1474931595, "post_id": 39713485, "comment_id": 66725519, "body": "got restrictions with this, is a generic schema used for many clients (key,value) and prefer to keep latin1 even if chars are replaced by another representation"}, {"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "reply_to_user": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "edited": false, "score": 0, "creation_date": 1474932770, "post_id": 39713485, "comment_id": 66725781, "body": "latin1 characters can be converted to UTF-8, but not vice versa.  The connection parameters allow for that conversion, but it requires that the column(s) be converted to utf8mb4."}], "tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1474929569, "creation_date": 1474929569, "answer_id": 39713485, "question_id": 39687480, "link": "https://stackoverflow.com/questions/39687480/perl-remove-invalid-characters-invalid-latin1-characters-from-string/39713485#39713485", "title": "Perl Remove invalid characters, invalid latin1 characters from string", "body": "<p>Change your column definition to <code>CHARACTER SET utf8mb4</code> so that the naughty character does not need to be removed, and can actually be stored.</p>\n"}], "owner": {"reputation": 675, "user_id": 1685405, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8b4370be5aafab68a94ee037d9da265d?s=128&d=identicon&r=PG", "display_name": "kandan", "link": "https://stackoverflow.com/users/1685405/kandan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "accepted_answer_id": 39687637, "answer_count": 3, "score": 0, "last_activity_date": 1474929569, "creation_date": 1474810985, "question_id": 39687480, "link": "https://stackoverflow.com/questions/39687480/perl-remove-invalid-characters-invalid-latin1-characters-from-string", "title": "Perl Remove invalid characters, invalid latin1 characters from string", "body": "<p>I have a perl script that reads from a web service and saves in a mysql table. this table uses latin1. from the web service there are coming some wrong characters and need to remove them before saving them in the database, otherwise they get saved as '<strong>?</strong>'</p>\n\n<p>wanted to do something similar as: \n    <strong>$desc=~s/\uf020//gsi;</strong></p>\n\n<p>but is not removing them.</p>\n\n<p>the webservice that has the wrong characters is: <strong><a href=\"https://jobvacancies.services.businesslink.gov.uk:8443/vacancy/26653478\" rel=\"nofollow\">https://jobvacancies.services.businesslink.gov.uk:8443/vacancy/26653478</a></strong></p>\n\n<p>using a user agent to get the data, seems coming in utf8 but the characters need to be removed:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new ();\n\n$ua-&gt;default_headers-&gt;push_header ('Accept' =&gt; \n                   \"text/html,application/xhtml\" .\n                   \"+xml,application/xml\");\n$ua-&gt;default_headers-&gt;push_header ('Accept-Charset' =&gt; \"utf-8\");\n\nmy $doc = $ua-&gt;get (\"https://jobvacancies.services.businesslink.gov.uk:8443/vacancy/26653478\")\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 1958295, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dce738831c2712369e3ce16cab9a26b6?s=128&d=identicon&r=PG", "display_name": "Mojo", "link": "https://stackoverflow.com/users/1958295/mojo"}, "edited": false, "score": 0, "creation_date": 1474871468, "post_id": 39687427, "comment_id": 66690672, "body": "Hi , not quite , cause in the middle of the 60 seconds sleep , someone can send CONT signal , and then STOP signal again , so the &quot;first&quot; sleep will be initiated and the sleep is be less the 60 seconds.. I hope I&#39;m clear enough. @redneb"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 147, "user_id": 1958295, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dce738831c2712369e3ce16cab9a26b6?s=128&d=identicon&r=PG", "display_name": "Mojo", "link": "https://stackoverflow.com/users/1958295/mojo"}, "edited": false, "score": 0, "creation_date": 1474888500, "post_id": 39687427, "comment_id": 66700733, "body": "@Mojo Your requirements are very unclear. You have to gives us some more details."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": false, "score": 2, "last_activity_date": 1474810674, "creation_date": 1474810674, "answer_id": 39687427, "question_id": 39687267, "link": "https://stackoverflow.com/questions/39687267/sig-stop-to-process-with-timeout-in-perl/39687427#39687427", "title": "sig STOP to process with timeout in Perl", "body": "<p>A process can use the <code>waitpid</code> syscall (with the <code>WUNTRACED</code>/<code>WCONTINUED</code> flags) to monitor when a child process was stopped/resumed. This only works if the monitored process is a child of the original process. But regardless of being a child or not, you can always send the signals <code>SIGSTOP</code>/<code>SIGCONT</code> to other processes (provided that they are owned by the same user). If a process has resumed running because it received a <code>SIGCONT</code>, it is totally harmless to send a second <code>SIGCONT</code>. So you could just do</p>\n\n<pre><code>kill 'STOP',$pid or die \"cannot send STOP signal: $!\";\nsleep 60;\nkill 'CONT',$pid or die \"cannot send CONT signal: $!\";\n</code></pre>\n\n<p>and not worry about the second signal.</p>\n"}], "owner": {"reputation": 147, "user_id": 1958295, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dce738831c2712369e3ce16cab9a26b6?s=128&d=identicon&r=PG", "display_name": "Mojo", "link": "https://stackoverflow.com/users/1958295/mojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474810674, "creation_date": 1474809562, "question_id": 39687267, "link": "https://stackoverflow.com/questions/39687267/sig-stop-to-process-with-timeout-in-perl", "title": "sig STOP to process with timeout in Perl", "body": "<p>Is that possible to send a SIG STOP to a process ID through a perl script and then , if some time passed, lets say 1 minute , to send a SIG CONT to the PID unless \"someone else\" already send this SIG CONT to the process?</p>\n\n<p>thanks.</p>\n"}, {"tags": ["macos", "perl", "glib"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1474827061, "post_id": 39686986, "comment_id": 66679581, "body": "This compiled fine for me on 10.11.6 using glib2 @ 2.48.2 from <a href=\"https://www.macports.org/\" rel=\"nofollow noreferrer\">MacPorts</a> with Perl 5.20.2 installed via perlbrew. The MacPorts version <a href=\"https://trac.macports.org/browser/trunk/dports/devel/glib2/files\" rel=\"nofollow noreferrer\">has patches</a> that it&#39;s possible HomeBrew does not."}, {"owner": {"reputation": 21, "user_id": 6877766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bda41bc6342a22b7a454bf20170ebd1?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Renaud", "link": "https://stackoverflow.com/users/6877766/benjamin-renaud"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1475366513, "post_id": 39686986, "comment_id": 66916432, "body": "Thanks for the answer. After updating perl (5.24.0 via perlbrew), I finally succeeded to build Glib! Unfortunately, now it is Gtk2 that won\u2019t compile\u2026 !"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1475368487, "post_id": 39686986, "comment_id": 66916714, "body": "Graphics libraries and Perl are notoriously wonky. But it Worked For Me!\u2122 Again using gtk2 @ 2.24.31 from MacPorts with 5.20.2 from Perlbrew. MacPorts also provides a Gtk2.pm package (p5-gtk2). You might want to back up to Perl 5.20 or 5.22 to let modules fix any issues 5.24 caused."}, {"owner": {"reputation": 21, "user_id": 6877766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bda41bc6342a22b7a454bf20170ebd1?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Renaud", "link": "https://stackoverflow.com/users/6877766/benjamin-renaud"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1475966176, "post_id": 39686986, "comment_id": 67157811, "body": "Unfortunately, still not working with Perl 5.20.2, neither with 5.22.2. I will maybe start a new topic, as it is now Gtk2 that fails to build, and not Glib. Thanks anyway for your help!"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6877766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bda41bc6342a22b7a454bf20170ebd1?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Renaud", "link": "https://stackoverflow.com/users/6877766/benjamin-renaud"}, "edited": false, "score": 0, "creation_date": 1475966378, "post_id": 39908759, "comment_id": 67157845, "body": "Thanks for your help! Glib is now building fine, after I installed a new Perl via perlbrew. Unfortunately, I still can\u2019t build Gtk2\u2026"}, {"owner": {"reputation": 32008, "user_id": 322020, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dce43cb8158a14c3fed02bea797becd7?s=128&d=identicon&r=PG", "display_name": "Nakilon", "link": "https://stackoverflow.com/users/322020/nakilon"}, "edited": false, "score": 0, "creation_date": 1481369113, "post_id": 39908759, "comment_id": 69356287, "body": "<code>ARCHFLAGS=&quot;-arch x86_64&quot;</code> helped me to install Ruby glib2 gem."}], "tags": [], "owner": {"reputation": 88, "user_id": 827325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b7ba3c37793ca4e420d75c66ae8f1a?s=128&d=identicon&r=PG", "display_name": "Zakariyya Mughal", "link": "https://stackoverflow.com/users/827325/zakariyya-mughal"}, "is_accepted": false, "score": 3, "last_activity_date": 1475851329, "last_edit_date": 1475851329, "creation_date": 1475809782, "answer_id": 39908759, "question_id": 39686986, "link": "https://stackoverflow.com/questions/39686986/can-t-install-perl-module-glib-on-os-x-el-capitan/39908759#39908759", "title": "can\u2019t install perl module Glib on OS X (El Capitan)", "body": "<p>This was posted to a <a href=\"https://github.com/Homebrew/homebrew-core/issues/5404\" rel=\"nofollow\">GitHub issue</a>.</p>\n\n<p>I tracked down the problem by running:</p>\n\n<p><code>cpanm --verbose --build-args=NOECHO=' ' Glib</code></p>\n\n<p>so that I could see the specific compilation command that failed:</p>\n\n<p><code>cc -c  -I. -I/usr/local/Cellar/glib/2.50.0/include/glib-2.0 -I/usr/local/Cellar/glib/2.50.0/lib/glib-2.0/include -I/usr/local/opt/gettext/include -I/usr/local/Cellar/pcre/8.39/include -D_REENTRANT -arch x86_64 -arch i386 -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -fstack-protector -Os   -DVERSION=\\\"1.323\\\" -DXS_VERSION=\\\"1.323\\\" -o Glib.o  \"-I/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE\"   Glib.c</code></p>\n\n<p>Since the problem was something to do with mismatching <code>sizeof</code>'s, I figured that the problem was that the architecture that Perl was building with does not the architecture that Homebrew's libglib-2.0 was built against.</p>\n\n<p>The fix is to specify that you only want to build for <code>x86_64</code> by setting the <code>ARCHFLAGS</code> environment variable:</p>\n\n<p><code>ARCHFLAGS=\"-arch x86_64\" cpanm --verbose Glib</code></p>\n\n<p>This is all using the system Perl. If you want the install to work in the long run across system upgrades, you will want to install your own user Perl using either perlbrew or plenv.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1475966328, "post_id": 39920713, "comment_id": 67157839, "body": "Thanks for the answer, but that would result in a different error."}], "tags": [], "owner": {"reputation": 520, "user_id": 1018355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae5f3af8cdabf70532ad86f53dcc192f?s=128&d=identicon&r=PG", "display_name": "NateFriedman", "link": "https://stackoverflow.com/users/1018355/natefriedman"}, "is_accepted": false, "score": -1, "last_activity_date": 1475853626, "creation_date": 1475853626, "answer_id": 39920713, "question_id": 39686986, "link": "https://stackoverflow.com/questions/39686986/can-t-install-perl-module-glib-on-os-x-el-capitan/39920713#39920713", "title": "can\u2019t install perl module Glib on OS X (El Capitan)", "body": "<p>I ran into the same issue.</p>\n\n<p>Installing gtk+ as a prerequisite fixed it.</p>\n"}], "owner": {"reputation": 21, "user_id": 6877766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bda41bc6342a22b7a454bf20170ebd1?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Renaud", "link": "https://stackoverflow.com/users/6877766/benjamin-renaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1475853626, "creation_date": 1474807564, "question_id": 39686986, "link": "https://stackoverflow.com/questions/39686986/can-t-install-perl-module-glib-on-os-x-el-capitan", "title": "can\u2019t install perl module Glib on OS X (El Capitan)", "body": "<p>I want to install perl Gtk2, and for this I need first to have Glib installed. I tried <code>sudo cpanm Glib</code>, but I get an error when compiling (I also tried downloading the .tar.gz source etc., with the same effect). I also tried with an older version of Glib. I\u2019m on OS X 10.11 (El Capitan). Here\u2019s the error :</p>\n\n<pre><code>error: '_GStaticAssertCompileTimeAssertion_0' declared as an array with a negative size\n</code></pre>\n\n<p>I don\u2019t know how to fix it\u2026 Thanks a lot if anyone can do something for me\u00a0!\n(BTW, <code>brew install glib</code> works fine, but it seems the app that I\u2019m trying to build and run \u2014\u00a0auto-multiple-choice, for instance \u2014 is looking for a Gtk2.pm somewhere. So, the \u2018glib\u2019 installed by Homebrew is of no help.)</p>\n\n<p>Benjamin</p>\n\n<p>p.-s. : below is the complete log, if it helps :</p>\n\n<pre><code>cpanm (App::cpanminus) 1.7042 on perl 5.018002 built for darwin-thread-multi-2level\nWork directory is /Users/benjamin/.cpanm/work/1474765262.7331\nYou have make /usr/bin/make\nYou have LWP 6.05\nYou have /usr/bin/tar: bsdtar 2.8.3 - libarchive 2.8.3\nYou have /usr/bin/unzip\nSearching Glib () on cpanmetadb ...\n--&gt; Working on Glib\nFetching http://www.cpan.org/authors/id/X/XA/XAOC/Glib-1.322.tar.gz\n-&gt; OK\nUnpacking Glib-1.322.tar.gz\nEntering Glib-1.322\nChecking configure dependencies from META.json\nChecking if you have ExtUtils::MakeMaker 6.58 ... Yes (6.66)\nChecking if you have ExtUtils::PkgConfig 1.000 ... Yes (1.15)\nChecking if you have ExtUtils::Depends 0.300 ... Yes (0.306)\nConfiguring Glib-1.322\nRunning Makefile.PL\nIncluding generated API documentation...\nChecking if your kit is complete...\nLooks good\nWriting Makefile for Glib\nWriting MYMETA.yml and MYMETA.json\n-&gt; OK\nChecking dependencies from MYMETA.json ...\nChecking if you have ExtUtils::Depends 0.300 ... Yes (0.306)\nChecking if you have ExtUtils::PkgConfig 1.000 ... Yes (1.15)\nChecking if you have ExtUtils::MakeMaker 0 ... Yes (6.66)\nBuilding and testing Glib-1.322\ncp lib/Glib/CodeGen.pm blib/lib/Glib/CodeGen.pm\ncp /Users/benjamin/.cpanm/work/1474765262.7331/Glib-1.322/typemap blib/arch/Glib/Install/typemap\ncp lib/Glib/ParseXSDoc.pm blib/lib/Glib/ParseXSDoc.pm\ncp doctypes blib/arch/Glib/Install/doctypes\ncp devel.pod blib/lib/Glib/devel.pod\ncp gperl_marshal.h blib/arch/Glib/Install/gperl_marshal.h\ncp lib/Glib/MakeHelper.pm blib/lib/Glib/MakeHelper.pm\ncp gperl.h blib/arch/Glib/Install/gperl.h\ncp lib/Glib.pm blib/lib/Glib.pm\ncp lib/Glib/Object/Subclass.pm blib/lib/Glib/Object/Subclass.pm\ncp build/IFiles.pm blib/arch/Glib/Install/Files.pm\ncp lib/Glib/GenPod.pm blib/lib/Glib/GenPod.pm\n[ XS Glib.xs ]\n[ CC Glib.c ]\nIn file included from Glib.xs:22:\nIn file included from ./gperl.h:37:\nIn file included from /usr/local/Cellar/glib/2.48.2/include/glib-2.0/glib-object.h:23:\nIn file included from /usr/local/Cellar/glib/2.48.2/include/glib-2.0/gobject/gbinding.h:28:\nIn file included from /usr/local/Cellar/glib/2.48.2/include/glib-2.0/glib.h:30:\nIn file included from /usr/local/Cellar/glib/2.48.2/include/glib-2.0/glib/galloca.h:32:\n/usr/local/Cellar/glib/2.48.2/include/glib-2.0/glib/gtypes.h:422:3: error: '_GStaticAssertCompileTimeAssertion_0' declared as an array with a negative size\n  G_STATIC_ASSERT(sizeof (unsigned long long) == sizeof (guint64));\n  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/usr/local/Cellar/glib/2.48.2/include/glib-2.0/glib/gmacros.h:232:103: note: expanded from macro 'G_STATIC_ASSERT'\n#define G_STATIC_ASSERT(expr) typedef char G_PASTE (_GStaticAssertCompileTimeAssertion_, __COUNTER__)[(expr) ? 1 : -1] G_GNUC_UNUSED\n                                                                                                      ^~~~~~~~~~~~~~~\n1 error generated.\nmake: *** [Glib.o] Error 1\n-&gt; FAIL Installing Glib failed. See \n/Users/benjamin/.cpanm/work/1474765262.7331/build.log for details. Retry with --force to force install it.\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1767, "user_id": 193717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6446a74c47a3050a34a84b2de38a1bb6?s=128&d=identicon&r=PG", "display_name": "Calum", "link": "https://stackoverflow.com/users/193717/calum"}, "edited": false, "score": 0, "creation_date": 1474798641, "post_id": 39685704, "comment_id": 66670921, "body": "Should this have the C# tag?"}, {"owner": {"reputation": 5, "user_id": 691931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4TE6.jpg?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/691931/gaurav"}, "reply_to_user": {"reputation": 1767, "user_id": 193717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6446a74c47a3050a34a84b2de38a1bb6?s=128&d=identicon&r=PG", "display_name": "Calum", "link": "https://stackoverflow.com/users/193717/calum"}, "edited": false, "score": 0, "creation_date": 1474798891, "post_id": 39685704, "comment_id": 66670983, "body": "yes any tag but the issue in regex is to not work with operatior."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 3, "creation_date": 1474804361, "post_id": 39685704, "comment_id": 66672439, "body": "What is the result you are looking for?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474810839, "post_id": 39685704, "comment_id": 66674287, "body": "You don&#39;t appear to have asked a question, and it&#39;s far from clear what you want"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 691931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4TE6.jpg?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/691931/gaurav"}, "edited": false, "score": 0, "creation_date": 1474823288, "post_id": 39686650, "comment_id": 66678311, "body": "Thanks, this is what i am looking for."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1474805926, "last_edit_date": 1474805926, "creation_date": 1474805480, "answer_id": 39686650, "question_id": 39685704, "link": "https://stackoverflow.com/questions/39685704/regular-expression-to-match-and-split-with-operator-in-perl/39686650#39686650", "title": "Regular Expression to match and split with operator in Perl", "body": "<p>You could try using a tokenizer to handle parsing the string for you, so as not to reinvent the wheel.  Here is an example using <a href=\"http://search.cpan.org/~adamk/PPI-1.215/lib/PPI/Tokenizer.pm\" rel=\"nofollow\">PPI::Tokenizer</a></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse List::MoreUtils qw( any );\nuse PPI::Tokenizer;\n\nmy @operators_i_care_about = qw( = =&gt; &gt;= &lt;= != &lt;&lt;= =&gt;&gt; ++ -- );\n\nmy $data = \"long i = sbyte.MinValue ; i =&gt; sbyte.MaxValue ; &gt; i++\";\n\nmy $tokenizer = PPI::Tokenizer-&gt;new( \\$data );\n\nfor my $token ( @{ $tokenizer-&gt;all_tokens } ) {\n    if ( 'PPI::Token::Operator' eq ref $token\n         and any { $_ eq $token-&gt;content } @operators_i_care_about ) {\n         print \"\\nOPERATOR: $token\\n\";\n    } else {\n        print $token; # Stringifies\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>long i\nOPERATOR: =\n sbyte.MinValue ; i\nOPERATOR: =&gt;\n sbyte.MaxValue ; &gt; i\nOPERATOR: ++\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1474818280, "creation_date": 1474818280, "answer_id": 39688749, "question_id": 39685704, "link": "https://stackoverflow.com/questions/39685704/regular-expression-to-match-and-split-with-operator-in-perl/39688749#39688749", "title": "Regular Expression to match and split with operator in Perl", "body": "<p>I'm still very hazy about what you're trying to do, but the immediate problem I can see in your code is that you have a regex pattern of <code>\\b=\\b</code> while the equals sign <code>=</code> appears in your target string only preceded by a space and followed by a space or a greater-than sign <code>&gt;</code></p>\n\n<p>The zero-width pattern <code>\\b</code> matches the position between a word character and a non-word character or the beginning or end of the string</p>\n\n<p>Word characters include only upper and lower-case letters, decimal digits, and the underscore <code>_</code>, so equals, space and greater-than are all non-word characters, and your regex pattern matches nowhere in the string</p>\n\n<p>It's likely that you meant the equals sign to be surrounded by space characters, and you can do that with <code>\\s=\\s</code>, or if you want the beginning and end of the string to work in the same way as they do for <code>\\b</code> then you can use negative look-arounds with <code>(?&lt;!\\S)=(?!\\S)</code></p>\n"}], "owner": {"reputation": 5, "user_id": 691931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4TE6.jpg?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/691931/gaurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 1, "accepted_answer_id": 39686650, "answer_count": 2, "score": 0, "last_activity_date": 1474818280, "creation_date": 1474798431, "last_edit_date": 1474811234, "question_id": 39685704, "link": "https://stackoverflow.com/questions/39685704/regular-expression-to-match-and-split-with-operator-in-perl", "title": "Regular Expression to match and split with operator in Perl", "body": "<p>I need a regular expression that matches exact keywords as well as special characters or operators.</p>\n\n<p>For instance, I have a string and I want to split this with regular expression.</p>\n\n<pre><code> my $data=\"long i = sbyte.MinValue ; i =&gt; sbyte.MaxValue ; &gt; i++\";\n</code></pre>\n\n<p>If I split this on the equals character <code>=</code> then it should return two strings:</p>\n\n<ol>\n<li><p><code>long i</code></p></li>\n<li><p><code>sbyte.MinValue ; i =&gt; sbyte.MaxValue ; &gt; i++</code></p></li>\n</ol>\n\n<p>If I split with <code>=&gt;</code> then it will return:</p>\n\n<ol>\n<li><p><code>long i = sbyte.MinValue ; i</code></p></li>\n<li><p><code>sbyte.MaxValue ; &gt; i++</code></p></li>\n</ol>\n\n<p>Here is the example code:</p>\n\n<pre><code>my $key = \"=\";\n\nmy $data = \"long i = sbyte.MinValue ; i =&gt; sbyte.MaxValue ; &gt; i++\";\n\n#=~/\\b$s\\b/\n#/\\b$key\\b/\n\nmy @matches = ( $data =~/\\b$key\\b/ );\n\nmy @string = split (/\\b$key\\b/, $data); # split ~ /^=$/, $data;\n\nif ( scalar(@string) &gt; 0 ) {\n\n    foreach my $item ( @string ) {\n        print \"$item \\n\";\n    }\n}\nelse {\n    print \"Nothing found \\n\";\n}\n</code></pre>\n\n<p>The issue comes with an operator to search and split in string.\nExact match works with keywords or other text, but with operators\nlike <code>=</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>!=</code>, <code>&lt;&lt;=</code>, <code>=&gt;&gt;</code>, <code>++</code>, <code>--</code> it's not working.</p>\n\n<p>I need to search one by one and split the text.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 203, "user_id": 6866505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4cf76e0e357a5d6be330fa33f2bec20?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran Tomlinson", "link": "https://stackoverflow.com/users/6866505/kiran-tomlinson"}, "edited": false, "score": 1, "creation_date": 1474774075, "post_id": 39683069, "comment_id": 66666050, "body": "Can you give an example of what you want and what code you have already?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474774607, "post_id": 39683069, "comment_id": 66666128, "body": "Please do show us something you&#39;ve tried or explored."}], "answers": [{"comments": [{"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1475876294, "post_id": 39683192, "comment_id": 67135918, "body": "That uses a 3rd party library; I want to be able to do it using just the standard library."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1475880201, "post_id": 39683192, "comment_id": 67137013, "body": "Are you asking me to copy IPC::Run here?"}, {"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1475883760, "post_id": 39683192, "comment_id": 67137838, "body": "I am basically looking for the primitive operation here.  Specifically, I am looking for the Perl primitive that calls <code>fork()</code> + <code>exec()</code> (Unix) or <code>CreateProcess()</code> (Windows).  Given that, I can implement the rest myself using pipes; the question is what that primitive is.  Do I do it using <code>fork()</code> even on Windows, or does Perl have a better way?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1475884186, "post_id": 39683192, "comment_id": 67137934, "body": "<code>fork</code> is available as <code>fork</code>. <code>exec</code> is available as <code>exec</code>, and <code>CreateProcess</code> is available from Win32::Process. You&#39;ll also need <code>select</code> or threads. <code>select</code> doesn&#39;t work on pipes in Windows, so you&#39;d need to use sockets instead."}, {"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1475884401, "post_id": 39683192, "comment_id": 67137975, "body": "is Win32::Process always available on WIndows?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1475884513, "post_id": 39683192, "comment_id": 67138007, "body": "I think it is of you use ActivePerl or Strawberry Perl. Maybe not if you build your own."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1474782595, "last_edit_date": 1474782595, "creation_date": 1474775321, "answer_id": 39683192, "question_id": 39683069, "link": "https://stackoverflow.com/questions/39683069/in-perl-how-do-i-pipe-the-output-of-one-command-to-the-input-of-another/39683192#39683192", "title": "In Perl, how do I pipe the output of one command to the input of another?", "body": "<p>This is easy using <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"noreferrer\">IPC::Run</a>.</p>\n\n<pre><code>run \\@cmd1, '|', \\@cmd2;\n</code></pre>\n\n<p>For example,</p>\n\n<p><code>prog0</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse IPC::Run qw( run );\nprint(\"The parent's PID is $$\\n\");\nrun([ 'prog1' ], '|', [ 'prog2' ]);\n</code></pre>\n\n<p><code>prog1</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nprint(\"cmd1's parent's PID is \".getppid().\"\\n\");\n</code></pre>\n\n<p><code>prog2</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nwhile (&lt;&gt;) {\n   chomp;\n   print(\"Got &lt;&lt;$_&gt;&gt;\\n\");\n}\nprint(\"cmd2's parent's PID is \".getppid().\"\\n\");\n</code></pre>\n\n<p>Output from <code>prog0</code>:</p>\n\n<pre><code>The parent's PID is 6619\nGot &lt;&lt;cmd1's parent's PID is 6619&gt;&gt;\ncmd2's parent's PID is 6619\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "edited": false, "score": 0, "creation_date": 1474816705, "post_id": 39687542, "comment_id": 66676186, "body": "That uses the shell, which I don&#39;t want."}], "tags": [], "owner": {"reputation": 137, "user_id": 6547823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuDy7.jpg?s=128&g=1", "display_name": "Avikd", "link": "https://stackoverflow.com/users/6547823/avikd"}, "is_accepted": false, "score": 0, "last_activity_date": 1474811298, "creation_date": 1474811298, "answer_id": 39687542, "question_id": 39683069, "link": "https://stackoverflow.com/questions/39683069/in-perl-how-do-i-pipe-the-output-of-one-command-to-the-input-of-another/39687542#39687542", "title": "In Perl, how do I pipe the output of one command to the input of another?", "body": "<p>Using <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow\">exec</a>:</p>\n\n<pre><code>perl -e 'exec(bash =&gt; (-o =&gt; \"pipefail\", -c =&gt; \"find . -type f|xargs ls -l\"));'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -e 'exec(\"bash\", \"-o\",  \"pipefail\", \"-c\", \" find . -type f|xargs ls -l\");\n</code></pre>\n"}], "owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 1, "accepted_answer_id": 39683192, "answer_count": 2, "score": -2, "last_activity_date": 1474816677, "creation_date": 1474773872, "last_edit_date": 1474816677, "question_id": 39683069, "link": "https://stackoverflow.com/questions/39683069/in-perl-how-do-i-pipe-the-output-of-one-command-to-the-input-of-another", "title": "In Perl, how do I pipe the output of one command to the input of another?", "body": "<p>In Perl, how can pipe the output of one command to the input of another?</p>\n\n<p>I want to do it the way the shell does it, but without using the shell.</p>\n\n<p>I know that I can do this using the shell and escaping the arguments to the command, but I don't want to use the shell.  I would also prefer using modules that are distributed with Perl, as opposed to ones on CPAN.</p>\n\n<p>I could use <code>fork</code> and <code>exec</code> manually, but that doesn't work on Windows.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1474764599, "post_id": 39682270, "comment_id": 66664777, "body": "Thanks for the quick response. You logic helps."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474773152, "post_id": 39682270, "comment_id": 66665936, "body": "Tip: <code>if (&#47;print\\(&quot;Hi&quot;, ?&quot;My name is&quot;, ?&quot;([^&quot;]+)&quot;\\);&#47;) {             push @array, $1;         }</code> can be written as <code>if (my ($name) = &#47;print\\(&quot;Hi&quot;, ?&quot;My name is&quot;, ?&quot;([^&quot;]+)&quot;\\);&#47;) {             push @array, $name;         }</code> (to avoid using globals unnecessarily) or even as <code>push @array, &#47;print\\(&quot;Hi&quot;, ?&quot;My name is&quot;, ?&quot;([^&quot;]+)&quot;\\);&#47;;</code>"}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": -1, "last_activity_date": 1474772966, "last_edit_date": 1474772966, "creation_date": 1474763491, "answer_id": 39682270, "question_id": 39682234, "link": "https://stackoverflow.com/questions/39682234/find-a-word-which-is-after-a-pattern-and-before-another-pattern-using-perl/39682270#39682270", "title": "Find a word which is after a pattern and before another pattern using perl", "body": "<p>Here's how I would do it:</p>\n\n<pre><code>sub search {                                    \n    my $file_handle = shift;\n    while (&lt;$file_handle&gt;) {\n        if (/print\\(\"Hi\", ?\"My name is\", ?\"([^\"]+)\"\\);/) {\n            push @array, $1;\n        }\n    }\n}\n</code></pre>\n\n<p>I escaped the special characters inside the regex (i.e. <code>(</code> and <code>)</code> in this case), and I used <code>\"([^\"]+)\"</code> to match all the non quotes inside the quotes.</p>\n\n<p>The question mark after the space makes the presence of the space optional.</p>\n"}], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 39682270, "answer_count": 1, "score": 0, "last_activity_date": 1474772966, "creation_date": 1474763188, "last_edit_date": 1474772914, "question_id": 39682234, "link": "https://stackoverflow.com/questions/39682234/find-a-word-which-is-after-a-pattern-and-before-another-pattern-using-perl", "title": "Find a word which is after a pattern and before another pattern using perl", "body": "<p>I want to find a word in a file which is after a particular pattern and before a particular pattern.\nHere is the content from the file:</p>\n\n<pre><code>print(\"Hi\", \"My name is\", \"Tej\");\n</code></pre>\n\n<p>So, I want to get the word <code>Tej</code> alone and store it into an array. Similarly, I have many such files with similar pattern as above but with different names, so I want to push all those names into an array. i.e. I want the words from the from the files which are after the pattern <code>print(\"Hi\", \"My name is\", \"</code> and before the pattern <code>\");</code> .</p>\n\n<p>Sometimes, the space after the commas are missing.</p>\n\n<p>I wrote the script for opening files and passing the file handle to a function to search for the word which is after and before the pattern. The code for the function is as follows:</p>\n\n<pre><code>sub search{                                    \nmy $file_handle = shift;\nwhile (&lt;$file_handle&gt;)\n{\n/.print(\"Hi\", \"My name is\", \"[\\s]+([A-Za-z_0-9]+)/ ;\npush @array, $1;\n}\n}  \n</code></pre>\n\n<p>I know the regex doesn't work but I am not sure about how to find the word I need. Any help provided is appreciated.\nThanks </p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1474760459, "post_id": 39681975, "comment_id": 66664088, "body": "Are you sure you&#39;re not supposed to split on <code>=</code>?"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1474760497, "post_id": 39681975, "comment_id": 66664094, "body": "That&#39;s what I&#39;m going to tell too"}, {"owner": {"reputation": 11, "user_id": 6478107, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b35aa555f8d6308ae8733022917ec71?s=128&d=identicon&r=PG&f=1", "display_name": "John Ambers", "link": "https://stackoverflow.com/users/6478107/john-ambers"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1474761328, "post_id": 39681975, "comment_id": 66664209, "body": "@tadman I am using split to split name field and phone numbers field."}, {"owner": {"reputation": 523, "user_id": 2872574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e918dc08739c9c264bb14ee8ea3a3174?s=128&d=identicon&r=PG&f=1", "display_name": "wwn", "link": "https://stackoverflow.com/users/2872574/wwn"}, "edited": false, "score": 0, "creation_date": 1474762181, "post_id": 39681975, "comment_id": 66664328, "body": "It looks like name and phone no is separated by &quot;=&quot; and not space. Try splitting on &quot;=&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474788076, "post_id": 39681975, "comment_id": 66668492, "body": "Some suggestions for improvement. 1/ <code>-w</code> went out of fashion when Perl 5.6 was released in 2000. 1/ Include <code>$!</code> in your file open error message (<code>open ... or die $!</code>). 3/ Use 3-arg open and lexical filehandles - <code>open my $file_h, &#39;&lt;&#39;, &#39;new-cgi&#47;data.dat&#39; or die $!</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "is_accepted": true, "score": 2, "last_activity_date": 1474766395, "creation_date": 1474766395, "answer_id": 39682537, "question_id": 39681975, "link": "https://stackoverflow.com/questions/39681975/use-of-uninitialized-value-error-in-perl-cgi/39682537#39682537", "title": "Use of uninitialized value error in perl cgi", "body": "<p>Hard to see without seeing your <code>new-cgi/data.dat</code> file, but I assume that the data format is a bunch of lines like \"Bob=416-333-6363\" in which case you want to split on <code>/=/</code> not <code>\" \"</code>.</p>\n\n<p>What's happening now is that you're splitting on a non-existant whitespace so <code>$name</code> (the eventual <code>key</code>) gets the entire line and <code>$phone</code> the eventual <code>value</code>, gets an <code>undef</code> value. So when you iterate over the hash later, you have a hash with lots of keys (albeit with odd data for the keys) and <code>undef</code> values.</p>\n"}], "owner": {"reputation": 11, "user_id": 6478107, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b35aa555f8d6308ae8733022917ec71?s=128&d=identicon&r=PG&f=1", "display_name": "John Ambers", "link": "https://stackoverflow.com/users/6478107/john-ambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 39682537, "answer_count": 1, "score": 0, "last_activity_date": 1474766395, "creation_date": 1474760318, "question_id": 39681975, "link": "https://stackoverflow.com/questions/39681975/use-of-uninitialized-value-error-in-perl-cgi", "title": "Use of uninitialized value error in perl cgi", "body": "<p>I am getting the following error when I try to execute my CGI script from the terminal:</p>\n\n<pre><code>Use of uninitialized value $friends{\"Bob=416-333-6363\"} in print at ./new-cgi/data.cgi line 24\n</code></pre>\n\n<p>Here is my script:</p>\n\n<pre><code>    #!/usr/bin/perl -w\n\nuse strict;\n\nmy %friends;\nmy $name;\nmy $phone;\n\nopen FILE, \"new-cgi/data.dat\" or die (\"No File\\n\");\n\nwhile (&lt;FILE&gt;) {\n\n        chomp;\n\n        ($name, $phone) = split(\" \", $_);\n\n        $friends{$name}=$phone;\n\n}\n\nforeach (keys %friends) {\n\n        print \"Name:\", $_, \"\\n\";\n        print \"Phone:\", $friends{$_}, \"\\n\"; &lt;--This is line 24\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474737078, "post_id": 39678809, "comment_id": 66658099, "body": "It&#39;s unclear what you are asking. The length (=number of elements) of an array is returned in scalar context, i.e. a simple <code>my $len = @array;</code> will do. // The <code>length</code> function returns the length of a <i>string</i>, so <code>length(&#39;foo&#39;)</code> gives <code>3</code>. // <code>0x0B</code> as a hex number is actually 11 in decimal. However, the <i>length</i> of the <i>string</i> <code>0x0B</code> is 4."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474737697, "post_id": 39678935, "comment_id": 66658286, "body": "Apparently I must improve my capabilities as a clairvoyant to keep up with you. ;-)"}, {"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474815598, "post_id": 39678935, "comment_id": 66675835, "body": "0x0B0x0C0x4A0x000x010x000x000x020x000x000x0A0x000x000x000x04&zwnj;&#8203;0x000x000x040x050x00&zwnj;&#8203;0x001f0x001f0x007f0x , i have input like this now i need to place comma for each of length 4(i.e 0x0B,0x0C,0x4A,0x00,0x01)"}, {"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474817424, "post_id": 39678935, "comment_id": 66676386, "body": "i was doing my@array=0x0B0x0C0x4A0x000x010x000x000x020x000x000x0A0x000x0&zwnj;&#8203;00x000x04\u200c\u200b0x000x000&zwnj;&#8203;x040x050x00\u200c\u200b0x001f0&zwnj;&#8203;x001f0x007f0x then unpack(&quot;(A2)*&quot;, @array); but it did not work"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474828619, "post_id": 39678935, "comment_id": 66680067, "body": "@Ria: You&#39;ve changed the question significantly, making it even less clear than before. Use a new question to ask a new question."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1474737584, "last_edit_date": 1474737584, "creation_date": 1474737150, "answer_id": 39678935, "question_id": 39678809, "link": "https://stackoverflow.com/questions/39678809/how-to-find-the-lengh-of-the-input-in-an-array-and-match-pattern-in-perl/39678935#39678935", "title": "how to find the lengh of the input in an array and match pattern in perl", "body": "<p>The \"index\" of an array element is usualy the number, not the element itself. \n<code>=~</code> is the binding operator, I doubt you want to create a regex from a length of a numeric comparison.\nBut I guess you want something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @array = qw( 0x0B 0x04 0x02767 0x0000 0xffffaf );\nfor my $element (@array) {\n    my @parts;\n    if (4 &lt; length $element) {\n        pos $element = 2;  # skip 0x\n        @parts = map \"0x$_\", $element =~ /../g;\n    } else {\n        @parts = $element;\n    }\n    say join ', ', @parts;\n}\n</code></pre>\n\n<p>I.e. if the element is longer than 4 characters, get pairs of its characters except the first one, prepend <code>0x</code> to them, and output.</p>\n\n<p>The code might be simplified if you don't mind burning some CPU cycles on removing <code>0x</code> from the short inputs and putting it back:</p>\n\n<pre><code>my @array = qw( 0x0B 0x04 0x02767 0x0000 0xffffaf );\nfor my $element (@array) {\n    pos $element = 2;  # skip 0x\n    my @parts = map \"0x$_\", $element =~ /../g;\n    say join ', ', @parts;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474779826, "post_id": 39682057, "comment_id": 66666912, "body": "Thanks for your solution.when i  have added  my input file then i am   getting  this error  &quot;  Unrecognized syntax at line 1 &quot; but if i add the input data ( which is i have given only few lines) then its work fine."}, {"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474786755, "post_id": 39682057, "comment_id": 66668237, "body": "i have debug the issue and i had found Sint16,Uint32 and Sint32 all these three type does not exist in my file then i tried to change the this line from map { unpack &#39;l&#39;, pack &#39;l&#39;, hex $_ } to  map { unpack &#39;c&#39;, pack &#39;c&#39;, hex $_ } getting error Use of uninitialized value $vals ,$type and Use of uninitialized value $type in concatenation (.) or string how to fix this issue ?"}, {"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474791631, "post_id": 39682057, "comment_id": 66669278, "body": "please ignore my above comments ,i have found the issue i was giving space in the beginning of the line and if the line start with1.non_tcs_adding_newcell\t(my_new_max = (0x00), padd1{3} = ({ 0x00, 0x00, 0x00 })) 2.new_st[0] then the above code not working"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474817800, "post_id": 39682057, "comment_id": 66676503, "body": "Again, I gotta ask what&#39;s your point? Is there a question you want to ask? Is it even on topic? I showed you how to do the conversions (and even went <i>way</i> beyond that to help you), so I consider the matter closed unless you have a question about the conversions. If you need help parsing other lines, I expect to see effort"}, {"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474818831, "post_id": 39682057, "comment_id": 66676871, "body": "i don&#39;t now how to do conversation i am sorry please don&#39;t block my account ."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474818944, "post_id": 39682057, "comment_id": 66676906, "body": "No, no,  there&#39;ll be no blocking of accounts. If you have a new question,  simply ask a new question. There are chat rooms, but SO is all about questions and answers"}, {"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474918760, "post_id": 39682057, "comment_id": 66719986, "body": "please help me to understand your solution..looks like i wont able to ask new question due to some account related issue ..Thanks"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474918923, "post_id": 39682057, "comment_id": 66720085, "body": "There&#39;s very little to it. /// The regex matches extra the desired information from the input. /// <code>unpack &#39;l&#39;, pack &#39;l&#39;, hex $_</code> takes the hex of the 32-bit number (e.g. <code>0x0B</code>, <code>0xffffffaf</code>) and convert its to the number it represents (11, -81). /// The packers convert the number into the desired format."}, {"owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474961309, "post_id": 39682057, "comment_id": 66734664, "body": "I want to understand more about the regex pattern matching  then want to modify the regex for matching following three properties  basically present code does not match all these three condition.  1.if the line start with some header--&gt; then it should igonre 2.myinfo_st[0]--&gt;then it should igonre 3.non_my_info\t(non_t_max = (0x00), padd1{3} = ({ 0x00, 0x00, 0x00 }))\t--&gt;then it should extract hex value  I dont know whether i should asked in comments or raise new question if possible please help me..Thanks"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "edited": false, "score": 0, "creation_date": 1474990566, "post_id": 39682057, "comment_id": 66755031, "body": "The regex pattern is rather trivial. What part do you not understand? /// As for your new question about parsing, it&#39;s unreadable, it doesn&#39;t demonstrate any effort whatsoever, and it&#39;s posted as a comment instead of a question. I already told you I wouldn&#39;t answer it in comments!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1474762327, "last_edit_date": 1474762327, "creation_date": 1474761112, "answer_id": 39682057, "question_id": 39678809, "link": "https://stackoverflow.com/questions/39678809/how-to-find-the-lengh-of-the-input-in-an-array-and-match-pattern-in-perl/39682057#39682057", "title": "how to find the lengh of the input in an array and match pattern in perl", "body": "<p>Sounds like you have a bunch of 32-bit values as hex, and that you want to pack them into the specified big-endian type, and that you want a hex representation of the packed structure.</p>\n\n<p>(Note that this assumes you are wrong about the output for <code>gtotal</code>. If I understand correctly, <code>0xffffffaf</code> means <code>-81</code>, which is <code>0xAF</code> as a <code>Sint8</code>.)</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nmy %packers = (\n   Uint8  =&gt; sub { pack 'C*',  @_ },\n   Sint8  =&gt; sub { pack 'c*',  @_ },\n   Uint16 =&gt; sub { pack 'S&gt;*', @_ },\n   Sint16 =&gt; sub { pack 's&gt;*', @_ },\n   Uint32 =&gt; sub { pack 'L&gt;*', @_ },\n   Sint32 =&gt; sub { pack 'l&gt;*', @_ },\n);\n\nmy $packed = '';\n\nwhile (&lt;DATA&gt;) {\n   my ($vals, $type);\n   if (/^\\S+ \\s+ \\{ \\s* ( 0x[0-9a-fA-F]+ (?: \\s* , \\s* 0x[0-9a-fA-F]+ )* ) \\s* \\} \\s+ ([^\\s,]+) /x) {\n      $vals = $1;\n      $type = $2;\n   }\n   elsif (/^\\S+ \\s+ ( 0x[0-9a-fA-F]+ )\\s+ ([^\\s,]+) /x) {\n      $vals = $1;\n      $type = $2;\n   }\n   else {\n      die(\"Unrecognized syntax at line $.\\n\");\n   }\n\n   my @vals =\n       map { unpack 'l', pack 'l', hex $_ }  # Convert to number and fix the sign\n          split /\\s*,\\s*/,\n             $vals;\n\n   my $packer = $packers{$type}\n      or die(\"Unsupported type \\\"$type\\\"\\n\");\n\n   $packed .= $packer-&gt;(@vals);\n}\n\n# say sprintf '%v02X', $packed;\n\nsay\n   join ',',\n      map { sprintf(\"0x%02X\", $_) }\n         unpack 'C*',\n            $packed;\n\n__DATA__\ntotal_sum   0x0B    Uint8,unsigned char\nnum     0x0C    Uint8,unsigned char\nmax     0x4A    Uint8,unsigned char\npadd    0x00     Uint8,unsigned char\nideal   0x01    Uint16, unsigned short\nnewtext{2}  { 0x00, 0x00 }  Uint8,unsigned char\nmy_new  0x02     Uint16, unsigned short\nnewtest2{2} { 0x00, 0x00 }  Uint8,unsigned char\nxyz         0x0A     Uint8,unsigned char\nnewtest4{3} { 0x00, 0x00, 0x00 }    Uint8,unsigned char\ngtotal 0xffffffaf   Sint8,signed char\ninfo    0x2767  Uint16, unsigned short\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0x0B,0x0C,0x4A,0x00,0x00,0x01,0x00,0x00,0x00,0x02,0x00,0x00,0x0A,0x00,0x00,0x00,0xAF,0x27,0x67\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6871400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fb068edfcb50c025923441f565def62?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/6871400/ria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 39682057, "answer_count": 2, "score": -3, "last_activity_date": 1474762327, "creation_date": 1474736311, "last_edit_date": 1474744733, "question_id": 39678809, "link": "https://stackoverflow.com/questions/39678809/how-to-find-the-lengh-of-the-input-in-an-array-and-match-pattern-in-perl", "title": "how to find the lengh of the input in an array and match pattern in perl", "body": "<p>i am new to to the perl scripting\n   i have an array like this \n   my @array (0x0B,0x04,0x02767,0x0000,0xffffaf)\n   my expected output:\n   if the length of the index is more than 4(i have assumed 0x0B=4) then do \n   the split and join the string like this\n   0x2767-->0x27,0x67\n   0xffffaf->0xff,0xff,0xaf</p>\n\n<p>here i am trying to find out the length of the input string and matching \n   pattern if the length of the input string  is more than 2 and match the\n   pattern then it should be satisfy the if condition</p>\n\n<pre><code>my $input = \"0x0B\";\n# Name of the file the data is in\nmy $input_filename  = 'my_input_original.txt';\n</code></pre>\n\n<p># Name of the file you want to dump the output to\n   my $output_filename = 'my_org_output.txt';</p>\n\n<p># Open the file\n   open my $input_fh, \"&lt;\", $input_filename or die $!;</p>\n\n<p># Open the output file\n    open my $output_fh, \">\", $output_filename or die $!; to\n     my $output_filename = 'my_org_output.txt'\n     my updated code what i want to do</p>\n\n<pre><code>here is what i want to do\nmy input data:\ntotal_sum   0x0B    Uint8,unsigned char     \nnum     0x0C    Uint8,unsigned char     \nmax     0x4A    Uint8,unsigned char     \npadd    0x00     Uint8,unsigned char        \nideal   0x01    Uint16, unsigned short      \nnewtext{2}  { 0x00, 0x00 }  Uint8,unsigned char     \nmy_new  0x02     Uint16, unsigned short     \nnewtest2{2} { 0x00, 0x00 }  Uint8,unsigned char     \nxyz         0x0A     Uint8,unsigned char        \nnewtest4{3} { 0x00, 0x00, 0x00 }    Uint8,unsigned char\ngtotal 0xffffffaf   Sint8,signed char\ninfo    0x2767  Uint16, unsigned short\nmy_output:\n\n0x0B,0x0C,0x4A,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x02,\n0x00,0x00,0x0A,0x00,0x00,0x00\n\n1.if the line contain Uint16 then pad with 0x00 with the value\n\n2.if the line contain the value with 0x2767 split and join \n with(e.g.0x2767-&gt;0x27,0x67) or \n 0xffffaf (0xffffaf-&gt;0xff,0xff,0xaf)\nmy code :\n#here is extracting only hex value\nwhile ($_ =~ m/(0x(\\d+)(?:[0-9]|[A-f])+)/gi)\n{\n push @hex_array, $1; # here i get only hex value of for my input data\n #here if the array contain index value more than two then i need to\n #split the data and join also if the line contain Uint16 then i need to \n #padd with 0x00 before the value (for e.g. 0x04--&gt;0x00,0x04)\n  foreach my $element (@hex_array) \n    {\n   my @parts;\n  if (4 &lt; length $element) \n   {\n    pos $element = 2;  # skip 0x\n    @hex_array = map \"0x$_\", $element =~ /../g;\n } else \n {\n    @hex_array = $element;\n }\n}\n}\n# Write the data to the file\nprint {$output_fh} join(\"U, \", @hex_array);\nplease help me\n</code></pre>\n"}, {"tags": ["perl", "shell", "unix", "awk", "sed"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474725853, "post_id": 39677155, "comment_id": 66654602, "body": "are you looking to collect/print out all occurances within the file?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1474725885, "post_id": 39677155, "comment_id": 66654616, "body": "What is your expected output?"}, {"owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "edited": false, "score": 0, "creation_date": 1474726294, "post_id": 39677155, "comment_id": 66654738, "body": "I just wish to get the value of X_RULE which in above case is STUDENT for both the patterns. In my actual file, value of X_RULE will be unique in each pattern. thanks@divesh"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "edited": false, "score": 1, "creation_date": 1474728017, "post_id": 39677297, "comment_id": 66655289, "body": "Thanks Anubhava, That&#39;s perfect for my requirement."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 0, "last_activity_date": 1474726442, "creation_date": 1474726442, "answer_id": 39677297, "question_id": 39677155, "link": "https://stackoverflow.com/questions/39677155/how-to-get-value-of-a-specific-grepped-pattern-using-awk/39677297#39677297", "title": "how to get value of a specific grepped pattern using awk", "body": "<p>You can use this common regex for both lines of input in <code>grep -oP</code>:</p>\n\n<pre><code>grep -oP 'X_RULE\\s*=\\s*\"\\K[^\"]+' file\n\nSTUDENT\nSTUDENT\n</code></pre>\n\n<p><strong>RegEx Breakup:</strong></p>\n\n<pre><code>X_RULE  # match literal text X_RULE\n\\s*=\\s* # match = surrounded by optional spaces on each side\n\"       # match starting double quote\n\\K      # match reset to forget what we've matched so far\n[^\"]+   # match 1 or more of anything that is not \" to get desired value\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "is_accepted": false, "score": 0, "last_activity_date": 1474728214, "creation_date": 1474728214, "answer_id": 39677595, "question_id": 39677155, "link": "https://stackoverflow.com/questions/39677155/how-to-get-value-of-a-specific-grepped-pattern-using-awk/39677595#39677595", "title": "how to get value of a specific grepped pattern using awk", "body": "<p>Modified anubhabva's example as per my requirements and got what I exactly needed.   </p>\n\n<pre><code>grep X_RULE $i | grep -oP 'X_RULE\\s*=\\s*\"[^\"]+' | awk -F \" \" '{print $3}' | sed -e 's/\\\"//' | sort -u &gt;&gt; tmp_a.list\n</code></pre>\n\n<p>Again, thanks a lot anubhava for your quick help.</p>\n\n<p>Regards,\nDivesh</p>\n"}], "owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 39677297, "answer_count": 2, "score": 1, "last_activity_date": 1474728214, "creation_date": 1474725470, "last_edit_date": 1474726193, "question_id": 39677155, "link": "https://stackoverflow.com/questions/39677155/how-to-get-value-of-a-specific-grepped-pattern-using-awk", "title": "how to get value of a specific grepped pattern using awk", "body": "<p>Looking out to get value of X_RULE only.  My input file might have patterns like </p>\n\n<pre><code>TMP_LEARN A B \n-antmove [ X_RULE = \"STUDENT\" ]\n-antmove [ X_CLASS = \"COMMERCE\" ]\n-antmove [ X_DISCRIPTION = \"COLLEGE STUDENTS\" ]\n...\n...\n\n\nTMP_PROP -antmove [ X_RULE = \"STUDENT\" ] -antmove [ X_CLASS = \"SCIENCE\" ]  .....\n</code></pre>\n\n<p>Simple </p>\n\n<pre><code>grep \"X_RULE\" inputFile |awk -F \" \" '{print $1}' \n</code></pre>\n\n<p>will return correct results for first pattern but won't work on second pattern. How can I use </p>\n\n<pre><code>regex( i.e -- (/^\\s*\\[\\s*X_RULE\\s*=\\s*([^\\]]+)\\]) ...) \n</code></pre>\n\n<p>on shell to segregate the value in this case?</p>\n\n<p>Regards,\nDivesh</p>\n"}, {"tags": ["regex", "perl", "numbers"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1474725708, "post_id": 39677140, "comment_id": 66654556, "body": "If you have a problem with your code then you need to show clearly your program, and your input and output data, together with the output that you require. If you haven&#39;t written anything yet then you must at least try: Stack Overflow isn&#39;t a source of free programming effort."}, {"owner": {"reputation": 4744, "user_id": 3921295, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0963d67306dbf89032a1063d9270a3ba?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Bdeir", "link": "https://stackoverflow.com/users/3921295/ali-bdeir"}, "edited": false, "score": 2, "creation_date": 1474727441, "post_id": 39677140, "comment_id": 66655109, "body": "We aren&#39;t here to write your code and we aren&#39;t magicians to predict your code, what have you tried, and what&#39;s wrong. Please include a specific problem with what you&#39;ve tried and what&#39;s not working, and include the code, the error, and the line of error. Keep in mind we&#39;re not here to give out tutorials nor are we here to write your code. Edit your question and include what I said and your question will <b>possibly</b> be answered."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474730210, "post_id": 39677140, "comment_id": 66655957, "body": "Also, are you sure it&#39;s <code>$</code> versus <code>eur</code>, but not <code>\u20ac</code>, and euros versus dollar, but not dollars?"}, {"owner": {"reputation": 37, "user_id": 5261326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-8EaRlRIA0U8/AAAAAAAAAAI/AAAAAAAAAQg/TRdJScSR11w/photo.jpg?sz=128", "display_name": "rohit gowtham", "link": "https://stackoverflow.com/users/5261326/rohit-gowtham"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474732548, "post_id": 39677140, "comment_id": 66656700, "body": "@choroba it can be eur or \u20ac, but i mostly observed eur in the text"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 37, "user_id": 5261326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-8EaRlRIA0U8/AAAAAAAAAAI/AAAAAAAAAQg/TRdJScSR11w/photo.jpg?sz=128", "display_name": "rohit gowtham", "link": "https://stackoverflow.com/users/5261326/rohit-gowtham"}, "edited": false, "score": 0, "creation_date": 1474737355, "post_id": 39678518, "comment_id": 66658179, "body": "Thank you, but actually <a href=\"http://stackoverflow.com/a/39678548/5830574\">@choroba&#39;s answer</a> is more general and takes different currencies and magnitudes (thousands/million) into account. I&#39;d go for that one."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1474735403, "last_edit_date": 1474735403, "creation_date": 1474734451, "answer_id": 39678518, "question_id": 39677140, "link": "https://stackoverflow.com/questions/39677140/perl-regex-to-convert-currency/39678518#39678518", "title": "perl regex to convert currency", "body": "<p>Your regex does <em>not</em> give the result you claim it does.</p>\n\n<pre><code>s/([\\$])([0-9.])([million])/ $2 $3 dollars/g;\n</code></pre>\n\n<p>With the help of the <code>/x</code> modifier we can add whitespace (even newlines and comments) to the pattern to improve readability. Your pattern can then be re-written as</p>\n\n<pre><code>s/([\\$])        # match a literal $ and capture that as $1\n  ([0-9.])      # match ONE digit or a dot and capture as $2\n  ([million])   # match ONE character of 'm', 'i', 'l', 'o', 'n'\n                # and capture as $3\n / $2 $3 dollars/gx;\n</code></pre>\n\n<p>There is no way <code>$100 million</code> matches this pattern and results in <code>.2 million</code>. Possible inputs would be\n<code>$3i</code>, <code>$.o</code> or <code>$9m</code>. They would give <code>3 i dollars</code>, <code>. o dollars</code>, and <code>9 m dollars</code>.</p>\n\n<p>What you are looking for is a pattern like this:</p>\n\n<pre><code>s/\\$        # a literal '$'\n  ([\\d.]+)  # one or more digits or dots, like e.g. '99.5',\n            # captured as $1\n  \\s+       # one or more whitespace\n  (million) # the literal text 'million', captured as $2\n  /$1 $2 dollars/gx;\n</code></pre>\n\n<p>(or, as a one-liner: <code>s/\\$([\\d.]+)\\s+(million)/$1 $2 dollars/g;</code>)</p>\n\n<p>Note that <code>$2</code> in this case <em>always</em> is <code>million</code> and you could also rewrite it as <code>s/\\$([\\d.]+)\\s+million/$1 million dollars/g;</code> (omitting the <code>()</code> around <code>million</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 5261326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-8EaRlRIA0U8/AAAAAAAAAAI/AAAAAAAAAQg/TRdJScSR11w/photo.jpg?sz=128", "display_name": "rohit gowtham", "link": "https://stackoverflow.com/users/5261326/rohit-gowtham"}, "edited": false, "score": 0, "creation_date": 1474737312, "post_id": 39678548, "comment_id": 66658166, "body": "this code is worked as expected thank you very much for the code"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1474734637, "creation_date": 1474734637, "answer_id": 39678548, "question_id": 39677140, "link": "https://stackoverflow.com/questions/39677140/perl-regex-to-convert-currency/39678548#39678548", "title": "perl regex to convert currency", "body": "<p><code>[...]</code> in a regex introduces a character class, so <code>[million]</code> is the same as <code>[nolim]</code>, and it matches <em>one</em> of those characters.</p>\n\n<p>I'd create a translation table for the currencies in a hash. From the keys of the hash, you can build a regex that matches them, and use it in the replacement:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse utf8;\nuse feature qw{ say };\n\nmy %currency = ( '$' =&gt; 'dollar',  # or dollars?\n                 eur =&gt; 'euros',\n                 '\u20ac' =&gt; 'euros',\n);\n\nmy $regex = join '|', map quotemeta, keys %currency;\n\nfor my $input ('$100 million', 'eur20 million', '\u20ac13.2 thousand') {\n    ( my $output = $input )\n        =~ s/($regex)([0-9.]+ (?:million|thousand))/$2 $currency{$1}/g;\n    say $output;\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5261326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-8EaRlRIA0U8/AAAAAAAAAAI/AAAAAAAAAQg/TRdJScSR11w/photo.jpg?sz=128", "display_name": "rohit gowtham", "link": "https://stackoverflow.com/users/5261326/rohit-gowtham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1474737527, "creation_date": 1474725404, "last_edit_date": 1474737527, "question_id": 39677140, "link": "https://stackoverflow.com/questions/39677140/perl-regex-to-convert-currency", "title": "perl regex to convert currency", "body": "<p>i need some help in text cleaning/normalization process</p>\n\n<p>i struck at a place where i need to convert a currency format</p>\n\n<p>input:  $100 million            output: 100 million dollar </p>\n\n<p>input: eur20 million            output: 20 million euros</p>\n\n<p>i'm using perl regex for the cleaning process, help will be appreciated if someone can help me in providing a regex to convert input to output</p>\n\n<p>this is my code so far</p>\n\n<pre><code>s/([\\$])([0-9\\.])([million])/ $2 $3 dollars/g;\n</code></pre>\n\n<p>example number is $4.2 million</p>\n\n<p>this is what i tried for converting dollars symbol into word \"dollars\" and shift it to end of phrase, but it is not providing the result as expected, it provide me \".2 million\" as output</p>\n"}, {"tags": ["ios", "xcode", "perl", "dyld", "perlbrew"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 0, "last_activity_date": 1474865446, "creation_date": 1474865446, "answer_id": 39694912, "question_id": 39675929, "link": "https://stackoverflow.com/questions/39675929/dyld-library-not-loaded-libperl-dylib-referenced-from-perl5-18/39694912#39694912", "title": "dyld: Library not loaded: libperl.dylib Referenced from: perl5.18", "body": "<p>Looking at the the error message</p>\n\n<pre><code>Setting Perl 5.16.0 to default bash: line 94: perlbrew: command not found\n</code></pre>\n\n<p>I can see that you used below to install Perl</p>\n\n<pre><code>curl -L https://raw.githubusercontent.com/ranguard/installing-perl/master/scripts/install_perl_on_osx.sh | bash\n</code></pre>\n\n<p>The above script uses <code>perlbrew</code> therefore you are seeing the same error while installing <code>perlbrew</code> using <code>\\curl -L https://install.perlbrew.pl | bash</code>.</p>\n\n<p>I think you have corrupted your system Perl. You should take backup of your system and reinstall OSX. After that install <code>perlbrew</code> and <strong>never touch your system perl again</strong>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6517192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 39694912, "answer_count": 1, "score": 3, "last_activity_date": 1553946484, "creation_date": 1474717262, "last_edit_date": 1553946484, "question_id": 39675929, "link": "https://stackoverflow.com/questions/39675929/dyld-library-not-loaded-libperl-dylib-referenced-from-perl5-18", "title": "dyld: Library not loaded: libperl.dylib Referenced from: perl5.18", "body": "<p>Im getting dyld library not found error in my xcode.</p>\n\n<blockquote>\n  <p>dyld: Library not loaded:\n  /System/Library/Perl/5.18/darwin-thread-multi-2level/CORE/libperl.dylib\n  Referenced from: /usr/bin/perl5.18</p>\n</blockquote>\n\n<p>So I tried to reinstall perl as following.But i got the following error message in my terminal when it is getting downloaded</p>\n\n<blockquote>\n  <p>Setting Perl 5.16.0 to default bash: line 94: perlbrew: command not\n  found</p>\n</blockquote>\n\n<p>So i tried to install perlbrew as follows,</p>\n\n<pre><code>\\curl -L https://install.perlbrew.pl | bash\n</code></pre>\n\n<p>But it is providing the same dyld error message as follows,</p>\n\n<blockquote>\n  <p>dyld: Library not loaded:\n  /System/Library/Perl/5.18/darwin-thread-multi-2level/CORE/libperl.dylib\n  Referenced from: /usr/bin/perl5.18</p>\n</blockquote>\n\n<p>How can i be able to sort this out?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1474706907, "post_id": 39674178, "comment_id": 66649346, "body": "Usually you can&#39;t make your program run faster and use less memory at the same time. <a href=\"https://metacpan.org/pod/DBM::Deep::Cookbook#PERFORMANCE\" rel=\"nofollow noreferrer\">Tying a hash</a> will have significant impact on hash speed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1474713843, "post_id": 39674178, "comment_id": 66651256, "body": "Why do you have <code>no warnings &#39;numeric&#39;</code>?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474738748, "post_id": 39674178, "comment_id": 66658644, "body": "@Borodin Because the code gives (beyond other warnings) <code>Argument &quot;@NS500278 AGAT...&quot; isn&#39;t numeric in addition (+) at x.pl line 24, &lt;&gt; chunk 2.</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474790475, "post_id": 39674178, "comment_id": 66669010, "body": "(1) What do you mean by &quot;<i>number of occurrence of each paragraph in each file</i>&quot;?  How many times each paragraph occurs in all files? Can it be anywhere in a file? Can you please clarify?  (2) You build a monster hash, with the whole file in it -- that surely breaks for large files. (3) The counting is not correct -- the <code>+=</code> attempts to add the text.  (4) You split on tab <code>\\t</code> -- where is that tab? Can&#39;t see it in posted examples."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1474790574, "post_id": 39674178, "comment_id": 66669032, "body": "I suggest -- don&#39;t turn off warnings, but find and eliminate reasons."}, {"owner": {"reputation": 19, "user_id": 6873886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15d9ad26d64649c039b2a09d25f8495?s=128&d=identicon&r=PG&f=1", "display_name": "Umay Kulsum", "link": "https://stackoverflow.com/users/6873886/umay-kulsum"}, "edited": false, "score": 0, "creation_date": 1474889176, "post_id": 39674178, "comment_id": 66701208, "body": "yes the hash breaks for large files. I am searching for a way out that the hash doesn&#39;t break for however large the file may be. The count of each paragraph is given in the second column of each file. I want to sum the count in all files only if second line of a paragraph matches."}], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 3386748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b6e81d98b16cbe9003c3439a2b83f7?s=128&d=identicon&r=PG&f=1", "display_name": "hkdtam", "link": "https://stackoverflow.com/users/3386748/hkdtam"}, "is_accepted": false, "score": 0, "last_activity_date": 1479390488, "creation_date": 1479390488, "answer_id": 40656620, "question_id": 39674178, "link": "https://stackoverflow.com/questions/39674178/modification-of-the-perl-script-to-consume-less-memory-with-higher-speed/40656620#40656620", "title": "modification of the PERL script to consume less memory with higher speed", "body": "<p>I guess the scale problem is of bigger concern as stated by the others in comments.  Tying the monster hashes to disk should be your next step on solving the problem.  Please consult <a href=\"http://perldoc.perl.org/perltie.html\" rel=\"nofollow noreferrer\">perltie</a> and if you want an example, <a href=\"http://pleac.sourceforge.net/include/perl/ch14/userstats\" rel=\"nofollow noreferrer\">this Perl Cookbook script</a> should be useful.  If my memory serves, both keys and values in Berkeley DB can hold up to four gigabytes which should be more than ample for your need.  By the way, a nice side effect of this approach is that you can easily reuse the previous results.</p>\n"}], "owner": {"reputation": 19, "user_id": 6873886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15d9ad26d64649c039b2a09d25f8495?s=128&d=identicon&r=PG&f=1", "display_name": "Umay Kulsum", "link": "https://stackoverflow.com/users/6873886/umay-kulsum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1479390488, "creation_date": 1474705362, "last_edit_date": 1474889703, "question_id": 39674178, "link": "https://stackoverflow.com/questions/39674178/modification-of-the-perl-script-to-consume-less-memory-with-higher-speed", "title": "modification of the PERL script to consume less memory with higher speed", "body": "<p>I have written a script which compares multiple files and give the number of occurrence of each paragraph in each file. The script is working fine with smaller files but when applied to large files the program is stuck with no output. I need some help in modifying the script so that it can run on all files even if its very large. My script:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nno warnings qw( numeric );\nmy %seen;\n\n$/ = \"\";\nwhile (&lt;&gt;) {\n    chomp;\n    my ($key, $value) = split ('\\t', $_);\n\n    my @lines = split /\\n/, $key;\n    my $key1 = $lines[1];\n\n    $seen{$key1} //= [ $key ];\n    push (@{$seen{$key1}}, $value);\n}\n\nmy $tot;\nmy $file_count = @ARGV;\nwhile ( my ( $key1, $aref ) = each %seen ) {\n    $tot = 0;\n    for my $val ( @{ $aref } ) {\n        $tot += $val;\n    }\n    if ( @{ $aref } &gt;= $file_count ) {\n        print join \"\\t\", @{ $aref };\n        print \"\\tcount:\". $tot.\"\\n\\n\";\n    }\n}\n</code></pre>\n\n<p>I am providing sample file for understanding the situation better. data1.txt and data2.txt contains sample of data I have with me. I need to sum the occurrence of read in all the files if the second line of each read matches i.e the output the two files should be like shown in output.txt:</p>\n\n<pre><code>**data1.txt**\n\n@NS500278\nAGATCNGAAGAGCACACGTCTGAACTCCAGTCACAACGTGATATCTCGTATGCCGTCTTC\n+\n=CCGGGCGGG1GGJJCGJJCJJJCJJGGGJJGJGJJJCG8JGJJJJ1JGG8=JGCJGG$G     1 :data1.txt\n\n@NS500278\nCATTGNACCAAATGTAATCAGCTTTTTTCGTCGTCATTTTTCTTCCTTTTGCGCTCAGGC\n+\nCCCGGGGGGGGGGJGJJJJJJJJJJJJJGJG$JJJJ$GGJ&gt;JJJGGG8$CGJJGGCJ8JJ     3 :data1.txt\n\n@NS500278\nTACAGNGAGCAAACTGAAATGAAAAAGAAATTAATCAGCGGACTGTTTCTGATGTTATGG\n+\nCCCGGGGGGGGGGJGJJJJJJJJJJJJJGJG$JJJJ$GGJJJJJGGG8$CGJJGGCJ8JJ     2 :data1.txt\n\n**data2.txt**\n\n@NS500278\nAGATCNGAAGAGCACACGTCTGAACTCCAGTCACAACGTGATATCTCGTATGCCGTCTTC\n+\nAAAAA#EEEEEEEEEEEEEEEE6EEEEEAEEEAE/AEEEEEEEAE&lt;EEEEA&lt;/AE&lt;EE   1 :data2.txt\n\n@NS500278\nCATTGNACCAAATGTAATCAGCTTTTTTCGTCGTCATTTTTCTTCCTTTTGCGCTCAGGC\n+\nAAAAA#E/&lt;EEEEEEEEEEAEEEEEEEEA/EAAEEEEEEEEEEEE/EEEE/A6&lt;E&lt;EEE  2 :data2.txt\n\n@NS500278\nTACAGNGAGCAAACTGAAATGAAAAAGAAATTAATCAGCGGACTGTTTCTGATGTTATGG\n+\nAAAAA#EEEEEEEEAEEEEEEEEEEEEEEEEEEEEAEEEEEEEE/EEEAE6AE&lt;EAEEAE     2 :data2.txt\n\n**output.txt**\n\n@NS500278\nAGATCNGAAGAGCACACGTCTGAACTCCAGTCACAACGTGATATCTCGTATGCCGTCTTC\n+\n=CCGGGCGGG1GGJJCGJJCJJJCJJGGGJJGJGJJJCG8JGJJJJ1JGG8=JGCJGG$G     1 :data1.txt    1 :data2.txt   count:2\n\n@NS500278\nCATTGNACCAAATGTAATCAGCTTTTTTCGTCGTCATTTTTCTTCCTTTTGCGCTCAGGC\n+\nCCCGGGGGGGGGGJGJJJJJJJJJJJJJGJG$JJJJ$GGJ&gt;JJJGGG8$CGJJGGCJ8JJ     3 :data1.txt    2 :data2.txt   count:5\n\n@NS500278\nTACAGNGAGCAAACTGAAATGAAAAAGAAATTAATCAGCGGACTGTTTCTGATGTTATGG\n+\nCCCGGGGGGGGGGJGJJJJJJJJJJJJJGJG$JJJJ$GGJJJJJGGG8$CGJJGGCJ8JJ     2 :data1.txt    2 :data2.txt   count:4\n</code></pre>\n\n<p>I was trying to tie my hash to a file but unable to understand the concept. It would be of great help if anyone can explain the solution with a short example. Any help will be appreciated.</p>\n"}, {"tags": ["perl", "unix", "join", "awk", "sed"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474956604, "post_id": 39672051, "comment_id": 66731949, "body": "You may like to see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474996296, "post_id": 39672051, "comment_id": 66758597, "body": "Thank you so much @ZIm will keep that in mind"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474769628, "post_id": 39673560, "comment_id": 66665464, "body": "Thank you @James ...Awk solution worked for two columns but each file has n number of columns for example 32 columns in files a 32 columns in file b and 32 columns in file c. column header and column number will remain same in each file.how can I get the desired result."}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "reply_to_user": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474813438, "post_id": 39673560, "comment_id": 66675078, "body": "Introduced a revised version."}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 2, "last_activity_date": 1474813264, "last_edit_date": 1474813264, "creation_date": 1474700692, "answer_id": 39673560, "question_id": 39672051, "link": "https://stackoverflow.com/questions/39672051/concatenate-column-values-when-header-is-matching-from-multiple-files/39673560#39673560", "title": "Concatenate column values when header is Matching from multiple files", "body": "<p>The output order is Gnu awk default:</p>\n\n<pre><code>$ cat &gt; combine.txt \nFNR==NR {\n    a[$1]=$2                                # gather the 2 dates in variables\n    b[$1]=$3\n    next\n} \nFNR&gt;1 &amp;&amp; ($1 in a) {\n    a[$1]=a[$1] \"/\" $2\n    b[$1]=b[$1] \"/\" $3\n} \nEND {                                       # print built up variables in the end\n    # PROCINFO[\"sorted_in\"]=\"@ind_str_asc\"  # output order control with this\n                                            # in Gnu awk \n    for(i in a) print i, a[i], b[i]\n}\n</code></pre>\n\n<p>Test it:</p>\n\n<pre><code>$ awk -f comnine.awk a.txt b.txt c.txt\ny 2/14/26 8/20/32\nz 3/15/27 9/21/33\na 4/16/28 10/22/34\nb 5/17/29 11/23/35\nc 6/18/30 12/24/36\nX 1/13/25 7/19/31\nName 9/1 9/2\n</code></pre>\n\n<p>Revised version in Gnu awk that <em>should</em> support more than 2 fields of data. I only tested with the data you provided. Let me know if it works and I delete the original limited version.</p>\n\n<pre><code>FNR==NR {\n    for(i=2;i&lt;=NF;i++)\n        a[$1][i]=$i\n    next\n}\nFNR&gt;1 &amp;&amp; ($1 in a) {\n    for(i=2;i&lt;=NF;i++)\n        a[$1][i]=a[$1][i] \"/\" $i\n}\nEND {                                       # print built up variables in the end                                                                              \n    # PROCINFO[\"sorted_in\"]=\"@ind_str_asc\"  # output order control with this    \n                                            # in Gnu awk                        \n    for(i in a) {\n        printf \"%s\", i OFS\n        for(j=2;j&lt;=NF;j++)\n            printf \"%s\", a[i][j] (j&lt;NF?OFS:ORS)\n    }\n}\n</code></pre>\n\n<p>As you had tagget <code>join</code> also I decided to give it a try:</p>\n\n<pre><code>$ join -o 1.1 1.2 2.2 2.4 1.3 2.3 2.5 a.txt &lt;(join b.txt c.txt) | sed 's/ /\\//g2; s/\\// /3'\nName 9/1/9 1/9/1/9/2/9/2/9/2\nX 1/13/25 7/19/31\ny 2/14/26 8/20/32\nz 3/15/27 9/21/33\na 4/16/28 10/22/34\nb 5/17/29 11/23/35\nc 6/18/30 12/24/36\n</code></pre>\n\n<p>ie. first join <code>b.txt</code> and <code>c.txt</code> and join that result with <code>a.txt</code>. <code>sed</code> is used for output control on replacing some of the spaces with <code>/</code>. <code>man join</code> reveals <code>--header</code> switch but it did not want to cooperate with me on this.</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474769666, "post_id": 39673566, "comment_id": 66665467, "body": "@Zim ...thank you very much ...each file has n number of columns for example 32 columns in files a 32 columns in file b and 32 columns in file c. column header and column number will remain same in each file.how can I get the desired result."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474785271, "post_id": 39673566, "comment_id": 66667894, "body": "@Neha  I updated the answer, with a script at the beginning. It joins same fields in each line of all files, so second fields in the same line of all files are joined (with <code>&#47;</code>), then third, etc. It works for any number of columns, and any number of files."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474956567, "post_id": 39673566, "comment_id": 66731937, "body": "@Neha Great :) A script should be a solid solution, easy to tweak if what you need to do changes. Please let me know if questions pop up."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1475693676, "last_edit_date": 1475693676, "creation_date": 1474700723, "answer_id": 39673566, "question_id": 39672051, "link": "https://stackoverflow.com/questions/39672051/concatenate-column-values-when-header-is-matching-from-multiple-files/39673566#39673566", "title": "Concatenate column values when header is Matching from multiple files", "body": "<p>This reads a line from all files at a time and joins the same field from each, for any number of files and columns. The first field of each line  across all files is assumed the same. (Submit sorted files.)</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\n# Implicit filehandles. Use readline() to read from them, not &lt;&gt;\nmy @fh = map { open my $fh, '&lt;', $_  or die \"Can't open $_: $!\"; $fh } @ARGV;\n\nwhile (1) \n{ \n    # Read a line from all files. Exit loop if any is undefined\n    my @line = map { scalar readline $_ } @fh;\n    last if  grep { not defined $line[$_] } 0..$#line;\n    # Print first line (header) from one file, skip further processing\n    if ($. == 1) { \n        print $line[0];\n        next;\n    }   \n\n    # Get the first column from one file, assumed the same for all  \n    my @out_line = (split ' ', $line[0])[0];\n    # Join same column from all files with '/', for all columns\n    for my $i (1..$#line) {\n        push @out_line, join '/', map { (split)[$i] } @line;\n    }   \n    print \"@out_line\\n\";\n}\n</code></pre>\n\n<p>Produces the required output with <code>script.pl a.txt b.txt c.txt</code>, given sorted input files.</p>\n\n<p>Comments. Let me know if fuller explanations would be helpful.  </p>\n\n<ul>\n<li><p>Assumes the same first column. Exits as soon as one file is exhausted</p></li>\n<li><p>Uses \"<em>implicit filehandles</em>\" -- read from it via <code>readline</code>, not <code>&lt;&gt;</code> <em>operator</em>. See <a href=\"http://perldoc.perl.org/perlfaq5.html#How-can-I-use-a-filehandle-indirectly%3F\" rel=\"nofollow\">in perlfaq5</a></p></li>\n<li><p>The <code>scalar readline $_</code> forces scalar context so that one line is read</p></li>\n<li><p>Leaves the newline. To remove it add <code>chomp(@lines)</code>, after <code>last if ...</code></p></li>\n<li><p>The first two lines can be used to form the <code>while (...)</code> condition</p></li>\n</ul>\n\n<hr>\n\n<p><em>Original post, condensed. Left here for possible usefulness of discussion of <code>join</code></em></p>\n\n<p>This gets you almost there with <code>join</code>, and completes the job with Perl.  </p>\n\n<p>First, <code>join</code> takes only two files at the time.  So you can run it with the first two, then run it with the resulting file and the last one. We also need to tell it how to format output.  This is done with its <code>-o</code> option, \nwhich allows us to list the elements of an output line as <code>FileN.fieldN, ...</code></p>\n\n<p>What you need is: <code>1.1</code> <code>1.2</code> <code>2.2</code> <code>1.3</code> <code>2.3</code> -- Fields 1,2 from File 1 then 2 from 2, etc.</p>\n\n<pre>\njoin -o 1.1,1.2,2.2,1.3,2.3 a.txt b.txt  > ab.txt\n</pre>\n\n<p>File <code>ab.txt</code> has a different format so the <code>-o</code> format of lines changes for the next step</p>\n\n<pre>\njoin -o 1.1,1.2,1.3,2.2,1.4,1.5,2.3 ab.txt c.txt  > abc.txt\n</pre>\n\n<p>This has two glitches -- headers are joined, fields merged with space. Fix with Perl one-liners.</p>\n\n<p>Collect in a bash script. A working sketch, to run as <code>script.sh a.txt b.txt c.txt</code></p>\n\n<pre><code>#!/bin/bash\n\njoin -o 1.1,1.2,2.2,1.3,2.3         $1     $2  &gt; tmp.$$\njoin -o 1.1,1.2,1.3,2.2,1.4,1.5,2.3 tmp.$$ $3  &gt; abc.txt\n\n# Remove extra fields in the header    \nperl -i -wpe '$.==1 &amp;&amp; s{(\\d/\\d) \\1 \\1}{$1}g'  abc.txt\n\n# Replace space with `/` between every three numbers\nperl -i -wpe 's{(\\d+) (\\d+) (\\d+)}{$1/$2/$3}g' abc.txt\n\nrm -f tmp.$$\n</code></pre>\n\n<p>Please choose temporary names more carefully and add error checking. The output <code>abc.txt</code></p>\n\n<pre>\nName 9/1 9/2\nX 1/13/25 7/19/31\ny 2/14/26 8/20/32\n...\n</pre>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1474723145, "last_edit_date": 1474723145, "creation_date": 1474704799, "answer_id": 39674112, "question_id": 39672051, "link": "https://stackoverflow.com/questions/39672051/concatenate-column-values-when-header-is-matching-from-multiple-files/39674112#39674112", "title": "Concatenate column values when header is Matching from multiple files", "body": "<p>This might work for you (GNU sed &amp; bash):</p>\n\n<p>For the example given (two columns):</p>\n\n<pre><code>sed -sr '1d;s#(.*\\t)(.*)\\t(.*)#/^\\1/s@(\\t.*)(\\t.*)@\\\\1/\\2\\\\2/\\3@#' file{b,c} |\nsed -rf - filea\n</code></pre>\n\n<p>This builds a sed script from the files other than the first that inserts values matching the key of each line. No sorting is needed other than placing the files in the correct order when building the script. The created script is then piped and run against the first file to obtain the required result.</p>\n\n<p>N.B. the <code>-s</code> option allows the header line of each file to be disregared from each daughter file, the parent file will have no match and will be unchanged.</p>\n\n<p>However the question allowed for an unspecified number of columns, this requires a similar but more involved solution:</p>\n\n<pre><code>sed -sr '1d;s#[^\\t]+#/^&amp;/{#;s#\\t([^\\t]+)#s@\\\\t([^\\\\t]+)@\\\\n\\\\1/\\1@;#g;s#$#y/\\\\n/\\\\t/;}#' file{b,c}|\nsed -rf - filea\n</code></pre>\n\n<p>In this solution each tab in the parent/daughter files requires a substitution command (as in the previous solution the backreferences were named and hence limited to 9). Each substitution is closed by removing the tab and replacing it by a newline thus reducing the backreference to one only, the newlines are then replaced at the end by translating them to tabs again.</p>\n"}], "owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "accepted_answer_id": 39673566, "answer_count": 3, "score": 3, "last_activity_date": 1475693676, "creation_date": 1474686050, "question_id": 39672051, "link": "https://stackoverflow.com/questions/39672051/concatenate-column-values-when-header-is-matching-from-multiple-files", "title": "Concatenate column values when header is Matching from multiple files", "body": "<p>there can be n number of columns but the number of columns and header name will remain same in all 3 files. Files are tab Delimited.</p>\n\n<p>a.txt</p>\n\n<pre><code>Name  9/1   9/2\nX   1   7\ny   2   8\nz   3   9\na   4   10\nb   5   11\nc   6   12\n</code></pre>\n\n<p>b.xt </p>\n\n<pre><code>Name  9/1   9/2\nX   13  19\ny   14  20\nz   15  21\na   16  22\nb   17  23\nc   18  24\n</code></pre>\n\n<p>c.txt</p>\n\n<pre><code>Name  9/1   9/2\nX   25  31\ny   26  32\nz   27  33\na   28  34\nb   29  35\nc   30  36\n</code></pre>\n\n<p>required output</p>\n\n<pre><code>Name  9/1   9/2\nX   1/13/25 7/19/31\ny   2/14/26 8/20/32\nz   3/15/27 9/21/33\na   4/16/28 10/22/34\nb   5/17/29 11/23/35\nc   6/16/30 12/24/36\n</code></pre>\n\n<p>I Want to merge all three file on the basis of matching header and if values are same in the row then print one value \nand if different then concatenate values from all three files under that column. like in file a.txt,b.txt,c.txt, \nrow 2 has same value under column name \"NAME\" so print only X but column \"9/1\" has different values so print one header \" 9/1\" and under it print all values from three files e.g. 1/13/25.</p>\n\n<p>tried below </p>\n\n<pre><code>join &lt;(sort a.txt) &lt;(sort b.txt) &lt;(sort c.txt) &gt;out.txt\n</code></pre>\n\n<p>but it is printing all the rows from file a then starting file b then c \nsame thing with this</p>\n\n<pre><code>awk 'FNR==NR{a[$1]=$2;next} ($1 in a){ print $0, a[$1]}' a.txt b.txt c.txt\n</code></pre>\n"}, {"tags": ["perl", "enzyme", "bioperl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1474673011, "post_id": 39670629, "comment_id": 66643242, "body": "What is the expected behavior?"}, {"owner": {"reputation": 27, "user_id": 6823539, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f3415ead13e025f532871d6457061cd8?s=128&d=identicon&r=PG&f=1", "display_name": "berge2015", "link": "https://stackoverflow.com/users/6823539/berge2015"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1474673747, "post_id": 39670629, "comment_id": 66643414, "body": "It&#39;s supposed to report the cut position &amp; also the cut fragment size. Also edited the question above to clarify."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474676537, "post_id": 39670629, "comment_id": 66643954, "body": "What you do with your own code is up to you. But if you&#39;re asking for free help then it&#39;s rather crude to post a block of Perl that isn&#39;t indented to make it readable."}, {"owner": {"reputation": 27, "user_id": 6823539, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f3415ead13e025f532871d6457061cd8?s=128&d=identicon&r=PG&f=1", "display_name": "berge2015", "link": "https://stackoverflow.com/users/6823539/berge2015"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474676781, "post_id": 39670629, "comment_id": 66644005, "body": "@Borodin why so salty bro? i am obviously not seeking free help... otherwise wouldn&#39;t be showing my code to learn where i am making mistakes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474677017, "post_id": 39670629, "comment_id": 66644051, "body": "@berge2015: I don&#39;t understand. Are you saying that you intend to pay us? I&#39;m just saying that it seems unfair to ask for help when you can&#39;t be bothered to lay out your code properly. It&#39;s also quite likely that you would have seen the problem for yourself if you had made it readable."}, {"owner": {"reputation": 27, "user_id": 6823539, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f3415ead13e025f532871d6457061cd8?s=128&d=identicon&r=PG&f=1", "display_name": "berge2015", "link": "https://stackoverflow.com/users/6823539/berge2015"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474677118, "post_id": 39670629, "comment_id": 66644068, "body": "@Borodin well, if it isn&#39;t readable to you, then you shouldn&#39;t spend your good evening here sir."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474677201, "post_id": 39670629, "comment_id": 66644082, "body": "It seems quite likely that the <code>sizes</code> method returns numeric sizes. That means all the elements of <code>@bothsize</code> are numbers, so I don&#39;t understand why you&#39;re surprised to get decimal output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474677457, "post_id": 39670629, "comment_id": 66644122, "body": "You think we should suck up your poor layout as well as trying to help you? No. You should have the good manners to write readable code when you are asking for help. Most people abide by <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\"><code>perlstyle</code></a>"}, {"owner": {"reputation": 27, "user_id": 6823539, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f3415ead13e025f532871d6457061cd8?s=128&d=identicon&r=PG&f=1", "display_name": "berge2015", "link": "https://stackoverflow.com/users/6823539/berge2015"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474677578, "post_id": 39670629, "comment_id": 66644149, "body": "@Borodin Thanks for pointing that out but I guess you are not familiar with the biology of restriction enzymes and base pairs... they are not in decimal figures. Besides, as I explained clearly, the method (including <code>sizes</code>) works for individual enzymes. The trouble is when both enzymes are used."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474678471, "post_id": 39670629, "comment_id": 66644295, "body": "@berge2015: It&#39;s probably best if you read <a href=\"http://search.cpan.org/dist/BioPerl/Bio/Restriction/Analysis.pm\" rel=\"nofollow noreferrer\">the documentation</a> for the software you&#39;re using instead of coming over all entitled."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474690000, "post_id": 39671426, "comment_id": 66645850, "body": "@ber A look <a href=\"https://metacpan.org/source/CJFIELDS/BioPerl-1.6.924/Bio/Restriction/Analysis.pm#L618\" rel=\"nofollow noreferrer\">at the code</a> makes it even more clear. <code>&#39;MspI&#39;</code> is passed as the second argument. That&#39;s a true value, so it does a bit of math to convert to the nearest 0.1 kb, whatever that means. All you need to do is call that function twice. It doesn&#39;t take domain knowledge to read a few simple lines of code. But it does help to include relevant domain knowledge in the question know more about the tools you use can help you better. If your chainsaw broke, you&#39;d tell them how big the tree was, wouldn&#39;t you?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1474678201, "creation_date": 1474678201, "answer_id": 39671426, "question_id": 39670629, "link": "https://stackoverflow.com/questions/39670629/double-restriction-enzyme-digest-in-bioperl/39671426#39671426", "title": "Double restriction enzyme digest in Bioperl", "body": "<p>The <code>sizes</code>method of a <a href=\"http://search.cpan.org/dist/BioPerl/Bio/Restriction/Analysis.pm#sizes\" rel=\"nofollow\"><code>Bio::Restriction::Analysis</code></a> object doesn't accept multiple enzymes</p>\n\n<p>The second parameter is <em>\"kilobases to the nearest 0.1 kb\"</em></p>\n"}], "owner": {"reputation": 27, "user_id": 6823539, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f3415ead13e025f532871d6457061cd8?s=128&d=identicon&r=PG&f=1", "display_name": "berge2015", "link": "https://stackoverflow.com/users/6823539/berge2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1474678201, "creation_date": 1474671101, "last_edit_date": 1474673706, "question_id": 39670629, "link": "https://stackoverflow.com/questions/39670629/double-restriction-enzyme-digest-in-bioperl", "title": "Double restriction enzyme digest in Bioperl", "body": "<p>I am trying to analyze several thousand sequences for double restriction enzyme cuts. For this example, let's say these two enzymes are EcoRI and MspI. I am using Bioperl modules for this (see the code below) and can make it work for single enzymes. It's just that the two enzymes working altogether are giving either weird results, or not working as expected.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Bio::Seq;\nuse Bio::SeqIO;\nuse Bio::Restriction::Analysis;\nuse Bio::Restriction::EnzymeCollection;\nuse List::Util qw(min max sum);\n\nmy $usage = \"perl $0 &lt;in&gt;&lt;out&gt;\";\nmy $in = shift or die $usage;\nmy $out = shift or die $usage;\n\nmy ($ra, $seq);\nmy $enz_collection = Bio::Restriction::EnzymeCollection-&gt;new();\nmy (@ecorbp, @ecorsize, @mspbp, @mspsize);\n\nmy $seq_in = Bio::SeqIO-&gt;new( \n                            -format =&gt; 'fasta', \n                            -file =&gt; $in,\n                            );\nopen OUT, \"&gt;$out\";\nwhile ($seq = $seq_in -&gt; next_seq) \n{\n$ra = Bio::Restriction::Analysis-&gt;new(-seq=&gt;$seq);\n\n#how many times does each enzyme cut\nmy $EcoRIcuts = $ra-&gt;cuts_by_enzyme('EcoRI');\nmy $MspIcuts = $ra-&gt;cuts_by_enzyme('MspI');\nmy $bothcuts = $ra-&gt;cuts_by_enzyme('EcoRI', 'MspI');\n#print $bothcuts.\"\\n\";\n\n#doing something with bp\n@ecorbp = $ra-&gt;positions('EcoRI');\n@mspbp = $ra-&gt;positions('MspI');\nmy $ecorbp_min = min(@ecorbp); \nmy $ecorbp_max = max(@ecorbp); \nmy $mspbp_min = min(@mspbp); \nmy $mspbp_max = max(@mspbp); \nmy $ecorbp_avg = sum(@ecorbp)/@ecorbp;\nmy $mspbp_avg = sum(@mspbp)/@mspbp;\n\n#doing something with cut size/fragment\n@ecorsize = $ra-&gt;sizes('EcoRI');\n@mspsize = $ra-&gt;sizes('MspI');\nmy $ecorsize_min = min(@ecorsize); \nmy $ecorsize_max = max(@ecorsize); \nmy $mspsize_min = min(@mspsize); \nmy $mspsize_max = max(@mspsize); \nmy $ecorsize_avg = sum(@ecorsize)/@ecorsize;\nmy $mspsize_avg = sum(@mspsize)/@mspsize;\n\nmy @bothsize = $ra-&gt;sizes('EcoRI','MspI');\nmy $bothsize_max = max (@bothsize);\nmy $bothsize_min = min (@bothsize);\nprint $bothsize_max,\"\\n\";\nprint $bothsize_min,\"\\n\";\n\n#do similar thing with the cut positions; this part not written yet\n@bothbp = $ra-&gt;positions('EcoRI','MspI');\n\n#print OUT \"EcoRI cuts \",$seq -&gt; display_id,\" $EcoRIcuts times with at minimum base position of $ecorbp_min, maximum base position of $ecorbp_max with average base position of $ecorbp_avg to give minimum frament size of $ecorsize_min bp, maximum fragment size of $ecorsize_max bp with average fragment size of $ecorsize_avg bp\\n\";\n#print OUT \"MspI cuts \",$seq -&gt; display_id,\" $MspIcuts times with at minimum base position of $mspbp_min, maximum base position of $mspbp_max with average base position of $mspbp_avg to give minimum frament size of $mspsize_min bp, maximum fragment size of $mspsize_max bp with average fragment size of $mspsize_avg bp\\n\";\n}\n\nclose OUT;\n</code></pre>\n\n<p>The problem comes when the code reaches the 'bothsize' part... printing numbers in decimals for some weird reason.</p>\n\n<p>Here's my very short input file that I am using for testing the code:</p>\n\n<pre><code>&gt;Seq1\nAAAAGAATTCAAAAAAAAGAAAACAATAAGTAAAAGACAGACCGGCAGAGAAAACTTACCCGAC\n&gt;Seq2\nAAACGAGAATTCAAAAAATAGAAAACCGGAATAAGTAAAAGACAGGAATTCAGCAGCCGGAGAA\n</code></pre>\n\n<p>The code is expected to report the position where both enzymes cut (similar to <code>ecorbp</code>, <code>mspbp</code>) &amp; also the cut fragment size (similar to <code>ecorsize</code> and <code>mspsize</code>).</p>\n\n<p>I would appreciate any help or pointers on how I can code this right. Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474687968, "post_id": 39670453, "comment_id": 66645578, "body": "I edited your post to turn off the wrong (red) coloring. It happens often after a regex or such where the editor gets confused by slashes or such and then colors everything red after that point. Most of the time adding a comment <code># &#47;</code> solves it, but sometimes you need to try different characters in the comment.  If you don&#39;t like this please &quot;roll back&quot; my edit -- go to &quot;edited (time)&quot; link above my username and you&#39;ll see revisions."}], "answers": [{"tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": true, "score": 1, "last_activity_date": 1474672617, "last_edit_date": 1474672617, "creation_date": 1474670837, "answer_id": 39670597, "question_id": 39670453, "link": "https://stackoverflow.com/questions/39670453/odd-number-of-elements-in-hash-assignment-with-default/39670597#39670597", "title": "Odd number of elements in hash assignment with default", "body": "<p>You want to pass your hashes by value to your subroutine and this creates the problem. Try to pass your hash <code>%h2</code> by reference instead (notice the <code>\\</code> before the <code>%</code>):</p>\n\n<pre><code>&amp;hash2print(\\%h2, 1);\n</code></pre>\n\n<p>Then in your sub <code>hash2print</code>, you can get the hash back in the following way:</p>\n\n<pre><code>sub hash2print {\n    (my $hashref, my $debug) = @_;\n    my %HoH = %$hashref; # dereference $hashref to get back the hash\n    ...\n</code></pre>\n\n<p>You can read more about references <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">here</a> if you don't understand the concepts behind them.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474789074, "post_id": 39670787, "comment_id": 66668695, "body": "@ikegami Thank you very much for the fix."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1474958950, "last_edit_date": 1495541376, "creation_date": 1474672222, "answer_id": 39670787, "question_id": 39670453, "link": "https://stackoverflow.com/questions/39670453/odd-number-of-elements-in-hash-assignment-with-default/39670787#39670787", "title": "Odd number of elements in hash assignment with default", "body": "<p>Arguments are passed to a function as one flat list. On the other hand, a hash can be assigned a list, <code>%h = qw(a b)</code>, where consecutive elements form key-value pairs, <code>$h{a}</code> is <code>'b'</code>. So when a hash is the first variable that receives arguments in a function it scoops up all of them.  Here is a <a href=\"https://stackoverflow.com/questions/39502670/perl-subroutine-returning-array-and-str-but-they-are-getting-merged/39502917#39502917\">recent post</a> on how a function <em>returns</em>, where the exact same story applies.</p>\n\n<p>So everything is assigned to the hash, the remaining scalar as well.  Thus the hash gets one more element than intended and ends up with an odd number of elements.</p>\n\n<p>A solution -- in this case, only to pass hash by reference, as in the answer by <a href=\"https://stackoverflow.com/users/1379631/inferno\">Inferno</a></p>\n\n<pre><code>sub hash2print{\n    my ($rHoH, $debug) = @_;\n    my %HoH = %$rHoH;\n    # ...\n}\nhash2print(\\%h2, 1);\n</code></pre>\n\n<p>It is in principle a good idea to pass lists by reference, unless they are very short.</p>\n\n<p>In general you can pass the scalar first then the hash</p>\n\n<pre><code>sub hash2print{\n    my ($value, %HoH) = @_;\n    # ...\n}\nhash2print(1, %h2);\n</code></pre>\n\n<p>But in your case this doesn't go since the <code>$debug</code> is optional, and if we leave it out when calling the function the first key of the hash would wind up in <code>$value</code>.</p>\n\n<p>A few other comments</p>\n\n<ul>\n<li><p>Don't use globals unless there is a non-negotiable reason for that. Declare in small scope.</p></li>\n<li><p>You don't have to do <code>$rec = {};</code>, can just declare it <code>my $rec;</code>.</p></li>\n<li><p>In general, don't put <code>&amp;</code> in front of a function call but use just <code>file2hash(...)</code>;</p></li>\n</ul>\n"}], "owner": {"reputation": 1043, "user_id": 4513062, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/756ee9ec86172885e11e64c1bfd8e7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mookayama", "link": "https://stackoverflow.com/users/4513062/mookayama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 39670597, "answer_count": 2, "score": 1, "last_activity_date": 1496626284, "creation_date": 1474669948, "last_edit_date": 1496626284, "question_id": 39670453, "link": "https://stackoverflow.com/questions/39670453/odd-number-of-elements-in-hash-assignment-with-default", "title": "Odd number of elements in hash assignment with default", "body": "<p>Greeting Dear Community.</p>\n\n<p>I'm trying to make a <code>sub</code> in perl that takes a hash and a debug flag which defaults to zero. However I keep getting this error <code>Odd number of elements in hash assignment</code>. If I don't use the debug flag, it seems to work. </p>\n\n<p>Thanks for all the help.</p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Getopt::Long;\nuse POSIX qw(strftime);\n\n\n#\n#file2hash : read the file in k&lt;file_name&gt; e.g.=kconfig &amp;  kmem  into hash table\n#\n\nsub file2hash {\n    my ($file) = @_;\n\nopen(my $data, '&lt;', $file) or die \"Could not open '$file' $!\\n\";\n\nmy %HoH;\nmy $key;\nmy $value;\nmy $who;\nmy $rec;\nmy $field;\n\n#while ( my $line = &lt;$data&gt;) {\nwhile ( &lt;$data&gt;) {\n    #print $line;\n    next unless (s/^(.*?):\\s*//); # / turn off editor coloring\n    $who = $1;\n    #print $who;\n    $rec = {};\n    $HoH{$who} = $rec;\n    for $field ( split ) {\n        ($key, $value) = split /=/, $field;\n        $rec-&gt;{$key} = $value;\n    }\n}\n\n    return %HoH;\n\n}\n#\n#end file2hash\n#\n\n\n#\n#print out hash table in k&lt;file_name&gt; format\n#\nsub hash2print{\n    (my %HoH,my $debug) = @_;\n    #my ($debug)=@_||0;\n    #my %HoH = shift;\n    #my $debug = shift || 0;\n\n    my $family;\n    my $role;\n\n    for $family ( keys %HoH ) {\n        #print \"$family\\n\";\n        for $role ( keys %{ $HoH{$family} } ) {\n             if ($debug){\n                print \"family:$family\\n\";\n                print \"role: $role\\n\";\n             }\n             print \"$role=$HoH{$family}{$role}\";\n\n        }\n        print \"\\n\";\n    }\n}\n#\n#end hash2print\n#\n\nsub dispatch{\n\n        my $inc= shift;\n        my $config_f = shift || \"kconfig\";\n        my $memory_f = shift || \"kmem\";\n\n        my %h2=&amp;file2hash($config_f);\n        my %m2=file2hash($memory_f);\n\n        my $today=&amp;getDate();\n\n        print \"$today\\n\";\n        print \"$inc\\n\";\n        my $inc_cnt = $m2{$today}{$inc} || -999999999;\n        print \"$inc_cnt\\n\";\n\n        #my %config = shift;\n        #my %mem = shift;\n        #my $event = shift;\n        #print $m2{$inc}{$today};\n}\n\nsub getDate{\nmy $date = strftime \"%m/%d/%Y\", localtime;  # \"\n#print $date;\nreturn $date;\n}\n\nmy %h2=&amp;file2hash(\"kconfig\");\nmy %m2=&amp;file2hash(\"kmem\");\n&amp;hash2print(%h2,1);\n&amp;hash2print(%m2,1);\n#print &amp;getDate();\n#my $xcnt= &amp;dispatch(\"event_c3_z2\");\n#&amp;dispatch(\"event_c3_z2\");\n#print $xcnt;\n</code></pre>\n\n<p>Test file1:</p>\n\n<pre><code>event_a1_x1: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=6\nevent_a1_x2: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=5 \nevent_b2_y1: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=4 \nevent_b2_y2: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=3 \nevent_c3_z1: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=2 \nevent_c3_z2: email1=ackee0000@gmail.com email2=kym018@gmail.com email1_cnt=1\n</code></pre>\n\n<p>test file2:</p>\n\n<pre><code>201609230012: event_a1_x1=6\n201609230744: event_a1_x2=5\n201609230844: event_b2_y1=4\n201609230342: event_b2_y2=3\n201609230245: event_c3_z1=2\n201609230100: event_c3_z2=1\n</code></pre>\n"}, {"tags": ["perl", "file-upload", "cgi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474731705, "post_id": 39670198, "comment_id": 66656437, "body": "Has nothing to do with the server-side script you posted"}], "owner": {"reputation": 199, "user_id": 3602996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646d71fdd0ab9fcde79dcf18c371a1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Bernard", "link": "https://stackoverflow.com/users/3602996/maxim-bernard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1474682435, "creation_date": 1474668260, "last_edit_date": 1474682435, "question_id": 39670198, "link": "https://stackoverflow.com/questions/39670198/getting-a-404-error-when-uploading-multiple-files-with-a-perl-cgi-script", "title": "Getting a 404 error when uploading multiple files with a Perl CGI script", "body": "<p>I have this very simple Perl script (actually much more complex but simplified to demonstrate the problem) :</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse CGI qw(:standard);\nuse Log::Log4perl;\nuse Data::Dumper;\n\nLog::Log4perl::init_and_watch('log.conf', 10);\nmy $logger = Log::Log4perl-&gt;get_logger('UPLOADER');\n\nprint header;\n\nmy $req = CGI-&gt;new;\n$logger-&gt;debug(Dumper($req-&gt;upload('files')));\n</code></pre>\n\n<p>I have a form on the client side that sends files using AJAX.</p>\n\n<p>When I send a single file, everything works as expected.</p>\n\n<p>However, when I send multiple files, I get a 404 error. And nothing is written in the log.</p>\n\n<p>What am I missing ?</p>\n\n<p>Tested with Chrome and Firefox.</p>\n\n<p>Perl version : 5.20</p>\n"}, {"tags": ["perl", "loops", "optimization", "ternary-operator"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1474669373, "post_id": 39670180, "comment_id": 66642290, "body": "Those parens are unnecessary, they make it look like something more is going on. It&#39;s easier to read without them."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474669817, "post_id": 39670180, "comment_id": 66642410, "body": "Presumably you have read the entirety of a file into <code>$content</code> by altering <code>$&#47;</code>? If so then you may as well just leave <code>$&#47;</code>as it is and read the file line by line. That also has the advantage that you don&#39;t need to add a newline back to the end of each output line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1474669838, "post_id": 39670180, "comment_id": 66642417, "body": "A hyphen <code>-</code> in a regex pattern doesn&#39;t need to be escaped."}, {"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1474686037, "post_id": 39670180, "comment_id": 66645324, "body": "my $re = qr/^-{2,}$/o; my $return = join &quot;\\n&quot;, map { $_ = &quot;\\N{ZERO WIDTH SPACE}&quot;.$_ if $_ =~ $re; } split(/\\n/, $content);"}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 3, "creation_date": 1474738319, "post_id": 39670180, "comment_id": 66658492, "body": "Please don&#39;t use the ternary operator as an alternative way to write <code>if</code>. The operator returns a value, so use it! <code>$return .= expr ? &quot;$line\\n&quot; : &quot;\\N{ZERO WIDTH SPACE}$line\\n&quot;;</code>"}, {"owner": {"reputation": 365, "user_id": 5328549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/53285261dcb03c4418f29c2b66ae3c92?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/5328549/st%c3%a9phane"}, "reply_to_user": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1474745341, "post_id": 39670180, "comment_id": 66660625, "body": "@oals, yes this is what I did, as Schwern suggested."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1474776625, "post_id": 39670180, "comment_id": 66666402, "body": "In lower-level languages, there can be a difference because of CPU cache misses. But with heavy languages like Perl, that&#39;s no longer a factor."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1474669759, "last_edit_date": 1474669759, "creation_date": 1474669432, "answer_id": 39670378, "question_id": 39670180, "link": "https://stackoverflow.com/questions/39670180/optimization-of-the-ternary-operator-in-perl/39670378#39670378", "title": "Optimization of the ternary operator in Perl", "body": "<blockquote>\n  <p><em>When you have a test which you know that it will choose one branch in 99% of the cases, does it change something (performance) to write it with that branch first?</em></p>\n</blockquote>\n\n<p>In the simple if/else case (which is what the ternary operator is), the answer is <strong><em>no</em></strong>. The order of the branches does not matter, the condition will run every time and pick which branch to go down.</p>\n\n<p>In an if/elsif/else case it would matter because there are multiple conditionals to be run. Putting the most common case first would make things faster.</p>\n\n<p>If an if/else pick the order that makes the most sense for the reader, and that usually means avoiding negatives. <code>$line =~ /^\\-{2,}$/</code> is easier to read than <code>$line !~ /^\\-{2,}$/</code>. <code>$line =~ /^-{2,}$/</code> is even better (there's no need to escape <code>-</code> in a regex).</p>\n\n<p>At least it <em>shouldn't matter</em>. As with anything as complicated as Perl, it's best to benchmark these things. It's a bit troublesome to come up with something that will exercise the CPU enough so as not to be lost in the normal benchmarking jitter. Be sure to run this multiple times with plenty of iterations before drawing conclusions.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nuse Benchmark qw(cmpthese);\n\nmy $Iterations = shift;\n\nmy $Threshhold = 100_000;\n\n# I've picked something that isn't constant to avoid constant folding\nsub a_then_b {\n    my $num = shift;\n    return $num &gt; $Threshhold ? sqrt($num) + sqrt($num) ** 2\n                              : $num + $num;\n}\n\nsub b_then_a {\n    my $num = shift;\n    return $num &lt;= $Threshhold ? $num + $num\n                               : sqrt($num) + sqrt($num) ** 2;\n}\n\nsay \"First one side\";\ncmpthese $Iterations, {\n    a_then_b =&gt; sub { a_then_b($Threshhold - 1) },\n    b_then_a =&gt; sub { b_then_a($Threshhold - 1) }\n};\n\nsay \"Then the other\";\ncmpthese $Iterations, {\n    a_then_b =&gt; sub { a_then_b($Threshhold + 1) },\n    b_then_a =&gt; sub { b_then_a($Threshhold + 1) }\n};\n</code></pre>\n\n<p>As a final note, to take proper advantage of a ternary the assignment should go on the left-hand-side. The ternary returns the result of its branch.</p>\n\n<pre><code>$return .= $line =~ /^-{2,}$/ ? \"\\N{ZERO WIDTH SPACE}$line\\n\"\n                               : \"$line\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 365, "user_id": 5328549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/53285261dcb03c4418f29c2b66ae3c92?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/5328549/st%c3%a9phane"}, "edited": false, "score": 0, "creation_date": 1474671739, "post_id": 39670607, "comment_id": 66642934, "body": "Thx. With your code, wouldn&#39;t I lose the EOL? Does split conserves it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 365, "user_id": 5328549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/53285261dcb03c4418f29c2b66ae3c92?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/5328549/st%c3%a9phane"}, "edited": false, "score": 0, "creation_date": 1474675429, "post_id": 39670607, "comment_id": 66643753, "body": "@St&#233;phane: I apologise; I&#39;m not near a working PC so I couldn&#39;t test my code. It&#39;s fixed now, but it would be much simpler if the lines were read in a <code>while</code> loop straight from the file handle. As it stands you&#39;re making multiple copies of your file."}, {"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1474685644, "post_id": 39670607, "comment_id": 66645273, "body": "my $re = qr/^-{2,}$/o; my $return = join &quot;\\n&quot;, map { $_ = &quot;\\N{ZERO WIDTH SPACE}&quot;.$_ if $_ =~ $re; } split(/\\n/, $content);"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 1, "creation_date": 1474713574, "post_id": 39670607, "comment_id": 66651179, "body": "@JiriKlouda: If you want to offer a solution then you should post your own answer. It&#39;s not a legitimate comment on my solution, and code is virtually unreadable in comments. Also, the <code>&#47;o</code> modifier has been unnecessary for a long time now, and anyway your regex pattern contains no variables."}, {"owner": {"reputation": 365, "user_id": 5328549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/53285261dcb03c4418f29c2b66ae3c92?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/5328549/st%c3%a9phane"}, "edited": false, "score": 0, "creation_date": 1474730739, "post_id": 39670607, "comment_id": 66656147, "body": "@Borodin I&#39;m not working with a file handle, $content is already a scalar\u2026 I wasn&#39;t thinking about the order of many tests. I was thinking about the reason why there are likely() and unlikely() functions in C++. In the assembler code, one of the branching costs an additional &quot;jump&quot; (so you&#39;d better use it for the less probable branch)\u2026 I was wondering if such consideration could apply to the Perl bytecode."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 365, "user_id": 5328549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/53285261dcb03c4418f29c2b66ae3c92?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/5328549/st%c3%a9phane"}, "edited": false, "score": 2, "creation_date": 1474767647, "post_id": 39670607, "comment_id": 66665229, "body": "@St&#233;phane Could be, but I&#39;m doubtful. Unlike C++, Perl does not compile down to machine instructions. It has its own opcodes for its own VM. Perl must already jump from opcode to opcode, so there isn&#39;t much benefit to optimizing one branch over another. For more information about the internals, see <a href=\"https://metacpan.org/pod/B::Concise\" rel=\"nofollow noreferrer\">B::Concise</a> and <a href=\"http://cpansearch.perl.org/src/RURBAN/illguts-0.49/index.html\" rel=\"nofollow noreferrer\">Perl Guts Illustrated</a>."}, {"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1474841552, "post_id": 39670607, "comment_id": 66683891, "body": "I added it as a comment as the original poster has asked for performance and to precompile the regex is the only thing you can do for performance short of a C routine embedded through XS. I&#39;ve included the /o option as I&#39;ve been working in enterprise and you would be surprise how old version of perl you can find lying around. Your solution was good, just added the map as it can optimize the passthrough of arrays, memory allocation, etc."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1474675251, "last_edit_date": 1474675251, "creation_date": 1474670920, "answer_id": 39670607, "question_id": 39670180, "link": "https://stackoverflow.com/questions/39670180/optimization-of-the-ternary-operator-in-perl/39670607#39670607", "title": "Optimization of the ternary operator in Perl", "body": "<p>What you may be thinking of is that, in a chain of <code>if ... elsif ... elsif ... else</code>, it is most efficient if the tests are written in decreasing order of probability. That minimises the expected number of tests and should result in faster code. But in your case you have only a single test, so it is already sorted, and inverting the logic of that test is irrelevant.</p>\n\n<p>In any case you're worrying about detail much too fine to make any significant difference. You should always write all of your code to be as <strong><em>clear</em></strong> and <strong><em>readable</em></strong> as possible</p>\n\n<p>It is only once you have finished writing and debugging your code that you should even consider performance. Most often your run time will be plenty fast enough and, because you have written for readability, it will also be highly maintainable</p>\n\n<p>If your code needs to be optimised then you should start by profiling it to find the bottlenecks. I have <strong><em>never</em></strong> found inverting the sense of a conditional to be of any use at all. Regardless of the language you're using I would expect the difference between branch and no-branch to be insignificant</p>\n\n<p>I would prefer to see more idiomatic Perl. In addition to reading your file line by line as I wrote in my comment above, I would use the default variable <code>$_</code> and add your <strong>zero width space</strong> independently of the rest of the line</p>\n\n<pre><code>for ( split /\\n/, $content ) {\n    $return .= \"\\N{ZERO WIDTH SPACE}\" if /^-{2,}$/;\n    $return .= \"$_\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 5328549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/53285261dcb03c4418f29c2b66ae3c92?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/5328549/st%c3%a9phane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 39670378, "answer_count": 2, "score": 2, "last_activity_date": 1474675251, "creation_date": 1474668152, "last_edit_date": 1474668513, "question_id": 39670180, "link": "https://stackoverflow.com/questions/39670180/optimization-of-the-ternary-operator-in-perl", "title": "Optimization of the ternary operator in Perl", "body": "<p>I have this loop :</p>\n\n<pre><code>for my $line (split /\\n/, $content) {\n    ($line !~ /^\\-{2,}$/) ? ( $return .= \"$line\\n\" )\n                          : ( $return .= \"\\N{ZERO WIDTH SPACE}$line\\n\" );\n}\n</code></pre>\n\n<p>There will be mostly lines that doesn't match the regex (ie : most of the time the condition will be true).</p>\n\n<p>I've first wrote the condition using the <code>=~</code> operator (with the two conditional instructions swapped) but then this is the <strong>second</strong> instruction would have been executed most of the times.</p>\n\n<p>In other words\u2026 When you have a test which you know that it will choose one branch in 99% of the cases, does it change something (performance) to write it with that branch first?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1474658095, "post_id": 39667985, "comment_id": 66637674, "body": "Pasting a snippet of the two files would be very useful to understanding the problem. No need for fancy formatting, just highlight it and hit <code>{}</code> for a code sample."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474659735, "post_id": 39667985, "comment_id": 66638439, "body": "An example is always better than a description, as long as you show a full set of cases. <i>&quot;file_one with a list of names (name_1, name_2, name_3...) and numbers (number_1, number_2, number_3...) associated respectively&quot;</i> <b>Schwern</b>, below, seems fairly confident in his interpretation of your words, but I have my doubts"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474659927, "post_id": 39667985, "comment_id": 66638523, "body": "There is no way to construct a table in markdown. The best option would be to copy and paste several lines of your data files into your question. If you indent all of those lines by four spaces (which you can do by selecting all the lines and hitting <i>Ctrl-K</i>) then they will be displayed pre-formatted."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1474663470, "post_id": 39667985, "comment_id": 66640047, "body": "Why no modules?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6872030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pILgRPdUHIQ/AAAAAAAAAAI/AAAAAAAAAC8/MxboTsuprpU/photo.jpg?sz=128", "display_name": "Gutinu", "link": "https://stackoverflow.com/users/6872030/gutinu"}, "edited": false, "score": 0, "creation_date": 1474660248, "post_id": 39668273, "comment_id": 66638683, "body": "Yes, basically your interpretation is correct, thank you for answering. But I would need to use only perl for this, and also no modules, as I would like to learn how to do it... I mean of course if it is possible"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 19, "user_id": 6872030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pILgRPdUHIQ/AAAAAAAAAAI/AAAAAAAAAC8/MxboTsuprpU/photo.jpg?sz=128", "display_name": "Gutinu", "link": "https://stackoverflow.com/users/6872030/gutinu"}, "edited": false, "score": 0, "creation_date": 1474662700, "post_id": 39668273, "comment_id": 66639707, "body": "@Gutinu of course that&#39;s possible. The people who wrote Array::Utils did it. Read the source of that to see how that&#39;s done."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 19, "user_id": 6872030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pILgRPdUHIQ/AAAAAAAAAAI/AAAAAAAAAC8/MxboTsuprpU/photo.jpg?sz=128", "display_name": "Gutinu", "link": "https://stackoverflow.com/users/6872030/gutinu"}, "edited": false, "score": 3, "creation_date": 1474663063, "post_id": 39668273, "comment_id": 66639866, "body": "@Gutinu &quot;I don&#39;t want to/can&#39;t use modules&quot; raises a red flag for Perl programmers. They&#39;re so important, and many places have misguided &quot;no CPAN modules&quot; policies. For learning what I would suggest is to do it long hand, then do it with modules, then do it with SQLite. That covers &quot;I want to try writing it myself&quot; and also &quot;this is how you&#39;d do it for production with a real amount of data&quot;. Try writing <code>intersect</code> yourself, then <a href=\"https://metacpan.org/source/ZMIJ/Array-Utils-0.5/Utils.pm\" rel=\"nofollow noreferrer\">peek inside Array::Utils</a> to see how they did it."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 19, "user_id": 6872030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pILgRPdUHIQ/AAAAAAAAAAI/AAAAAAAAAC8/MxboTsuprpU/photo.jpg?sz=128", "display_name": "Gutinu", "link": "https://stackoverflow.com/users/6872030/gutinu"}, "edited": false, "score": 1, "creation_date": 1474665004, "post_id": 39668273, "comment_id": 66640768, "body": "@Gutinu I highly recommend you <a href=\"https://metacpan.org/source/TRENDELS/Set-Tiny-0.04/lib/Set/Tiny.pm\" rel=\"nofollow noreferrer\">read the source of Set::Tiny</a> to see how one works efficiently with sets in Perl. It&#39;s very straight forward."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1474664944, "last_edit_date": 1474664944, "creation_date": 1474659046, "answer_id": 39668273, "question_id": 39667985, "link": "https://stackoverflow.com/questions/39667985/combine-hashes-with-arrays-for-some-keys/39668273#39668273", "title": "Combine hashes with arrays for some keys", "body": "<p>If I'm understanding you correctly, you have this:</p>\n\n<pre><code>foo =&gt; 1\nbar =&gt; 2\nbaz =&gt; 3\n</code></pre>\n\n<p>Then you have:</p>\n\n<pre><code>2 =&gt; a, b\n3 =&gt; b, c\n</code></pre>\n\n<p>And you want to know what items <code>bar</code> and <code>baz</code> share (for example).</p>\n\n<p>One option is to put them into two tables in a <a href=\"https://metacpan.org/pod/DBD::SQLite\" rel=\"nofollow\">SQLite</a> database and use SQL. This can be the simplest, most flexible, and most performant way to deal with relational data like this. Especially if there's a lot of it, and especially if you want to do a lot of different searches on it. This avoids having to write a bunch of custom code and a probably increasingly complicated data structure.</p>\n\n<hr>\n\n<p>Doing it in Perl, here's a sketch.</p>\n\n<p>First, read in the second file, which contains the leaves (the items don't point to anything else), into a hash of arrays. You wind up with a structure like:</p>\n\n<pre><code>$nums2items{2} = [qw(a, b)];\n</code></pre>\n\n<p>Then read in the first file into a hash but instead of storing the numbers as values, store what <code>%nums2items</code> references.</p>\n\n<pre><code>$names2items{foo} = $nums2items{1};\n</code></pre>\n\n<p>Now if you want to check if <code>bar</code> and <code>baz</code> share anything, you can get the arrays and find their intersection with <a href=\"https://metacpan.org/pod/Array::Utils\" rel=\"nofollow\">Array::Utils</a>.</p>\n\n<pre><code>use Array::Utils qw(intersect);\n\nprint join \", \", intersect( @{$names2items{bar}}, @{$names2items{baz}});\n</code></pre>\n\n<p>If you're going to do this a lot, and the order of the items does not matter, it is more efficient to store the items as a hash. This avoids having to sort and compare two lists. It's what <code>intersect</code> does anyway, turns one list into a hash (or a set) and compares it against the other list.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy %nums2items = (\n    2   =&gt; { a =&gt; 1, b =&gt; 1,         d =&gt; 1 },\n    3   =&gt; {         b =&gt; 1, c =&gt; 1, d =&gt; 1, e =&gt; 1 },\n);\nmy %names2nums = (\n    bar =&gt; $nums2items{2},\n    baz =&gt; $nums2items{3}\n);\n\n# Take the intersection in O(n) time.\nsay join \", \", grep { $names2nums{bar}{$_} } keys %{$names2nums{baz}};\n</code></pre>\n\n<p>Using a hash like that, where the key is the thing and the value is 1, is a very common and efficient way of representing a set.</p>\n\n<p>Or you can use the <a href=\"https://metacpan.org/pod/Set::Tiny\" rel=\"nofollow\">Set::Tiny</a> module. It's very straight forward. If you want to learn how to work with sets in Perl, I highly recommend reading its source.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1474663377, "post_id": 39668859, "comment_id": 66640004, "body": "&quot;<i>Why not use nested loops?</i>&quot; The answer is because it&#39;s highly inefficient and very difficult to understand <i>four</i> nested loops. Your loop is at least <code>O(n!)</code> and probably worse, meaning as the list of keys doubles your runtime will quadruple. Finally, dereferencing all the lists makes copies of each of them increasing memory usage. Or you&#39;re being very clever and illustrating why one should use modules rather than write it yourself. :)"}, {"owner": {"reputation": 1419, "user_id": 204275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c1d7c7d7d48017ce55936bff356688?s=128&d=identicon&r=PG", "display_name": "HerbN", "link": "https://stackoverflow.com/users/204275/herbn"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1474663723, "post_id": 39668859, "comment_id": 66640170, "body": "I am well aware of the inefficiency but the OP has indicated he wishes to avoid using modules which leaves few methods beyond brute force.  I much prefer your Arrays::Utils method to this.  I would tend to use Set::Scalar&#39;s intersection.  That&#39;s why at the end I pointed out the importance of knowing and using available modules."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1474664653, "post_id": 39668859, "comment_id": 66640610, "body": "I added to my answer an O(n) solution using hashes as sets. Have a look."}], "tags": [], "owner": {"reputation": 1419, "user_id": 204275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c1d7c7d7d48017ce55936bff356688?s=128&d=identicon&r=PG", "display_name": "HerbN", "link": "https://stackoverflow.com/users/204275/herbn"}, "is_accepted": false, "score": 0, "last_activity_date": 1474661663, "creation_date": 1474661663, "answer_id": 39668859, "question_id": 39667985, "link": "https://stackoverflow.com/questions/39667985/combine-hashes-with-arrays-for-some-keys/39668859#39668859", "title": "Combine hashes with arrays for some keys", "body": "<p>From your comment to Schwern it appears you files look something like this:</p>\n\n<pre><code>foo, 1\nbar, 2\nbiz, 3\nbas, 4\n</code></pre>\n\n<p>and</p>\n\n<pre><code>1, jacks blue horse\n2, the green horse\n3, jacks\n4, bing\n</code></pre>\n\n<p>and you are successfully reading them into two hashes with values before the comma as the key and that after as the value.  Now you what to take the words pair wise and print out words they have in common.  You don't want to use any modules but do it in raw Perl.</p>\n\n<p>First, why isn't the second an array of arrays instead of a hash if it is numerically keyed?</p>\n\n<p>Second, why are you merging them?  Why not use nested loops:</p>\n\n<pre><code>my @key_list = keys %hash_1;\nwhile ( @key_list )\n   {\n   my $curr_key = shift @key_list;\n   for my $next_key ( @key_list )\n      {\n      my @curr_list = @{$hash_2{$hash_1{$curr_key}}};\n      my @next_list = @{$hash_2{$hash_1{$next_key}}};\n      while ( @curr_list )\n         {\n         my $curr_word = shift @curr_list;\n         for my $next_word ( @next_list )\n            {\n            print \"$curr_key and $next_key share $curr_word\\n\"\n               if $curr_word eq $next_word;\n            }\n         }\n      }\n   }\n</code></pre>\n\n<p>It's a bit brute force but it would get the job done.  Instead you could use the excellent Set:: modules.  Part of knowing and using a modern language like Perl or C++ well is knowing the standard and common libraries and using them.</p>\n"}], "owner": {"reputation": 19, "user_id": 6872030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pILgRPdUHIQ/AAAAAAAAAAI/AAAAAAAAAC8/MxboTsuprpU/photo.jpg?sz=128", "display_name": "Gutinu", "link": "https://stackoverflow.com/users/6872030/gutinu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1474664944, "creation_date": 1474657864, "last_edit_date": 1474660814, "question_id": 39667985, "link": "https://stackoverflow.com/questions/39667985/combine-hashes-with-arrays-for-some-keys", "title": "Combine hashes with arrays for some keys", "body": "<p>I am relatively new with perl and I have been stuck with this for some days. Hope you can help me.</p>\n\n<p>I work with two files that I will simplify as I had to process them beforehand: </p>\n\n<p><code>file_one</code> with a list of <code>names</code> (name_1, name_2, name_3...) and <code>numbers</code> (number_1, number_2, number_3...) respectively associated</p>\n\n<p>And <code>file_two</code> with a list of <code>numbers</code> (number_2 and number_6) and <code>items</code> (item_a, item_b associated with number_2, and item_b,item_c associated with number_6)</p>\n\n<p>My idea was to make hashes of both files and combine them. The point I get stuck is when I need to join the list of items into the hash (hash of an array) and then use it. So the first hash works fine, but the second has the issue.</p>\n\n<p>I tried using <code>push (@{ $hash2{$numbers} }, $items)</code>, but then I do not know how to combine it with the other because of the reference I used.</p>\n\n<p>The final task would be to compare two names in order to get which items they share. And it would be great if it could be done just with perl and using no modules if possible.</p>\n\n<p>Thank you very much</p>\n"}, {"tags": ["perl", "cpan", "cpanm"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474656540, "post_id": 39666443, "comment_id": 66636852, "body": "It sure looks like it&#39;s the same issue that&#39;s documented in that very recent RT."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1474657512, "post_id": 39666443, "comment_id": 66637373, "body": "Same issue: <a href=\"http://www.cpantesters.org/cpan/report/dc685bca-6bf8-1014-86c7-0a1de40d07e9\" rel=\"nofollow noreferrer\">cpantesters.org/cpan/report/&hellip;</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1474740635, "post_id": 39666443, "comment_id": 66659237, "body": "This may be a bug in older versions of <a href=\"https://metacpan.org/pod/Role::Tiny\" rel=\"nofollow noreferrer\">Role::Tiny</a> that was <a href=\"https://metacpan.org/source/HAARG/Role-Tiny-2.000003/Changes#L27\" rel=\"nofollow noreferrer\">fixed in 1.003003</a>. Which version of Role::Tiny do you have? Does upgrading it fix it?"}, {"owner": {"reputation": 322, "user_id": 1416040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/579162c0a40876566051a3940ef8b53e?s=128&d=identicon&r=PG", "display_name": "Nate H", "link": "https://stackoverflow.com/users/1416040/nate-h"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1474894963, "post_id": 39666443, "comment_id": 66705284, "body": "@melpomene Holy script, that fixed it!  Thanks for the assistance, it is <i>very</i> much appreciated.  Can you add that as an answer and I&#39;ll mark it as such?"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1474923062, "creation_date": 1474923062, "answer_id": 39712159, "question_id": 39666443, "link": "https://stackoverflow.com/questions/39666443/cpan-specioconstraintsimple-install-error/39712159#39712159", "title": "CPAN - Specio::Constraint::Simple install error", "body": "<p>This is caused by a bug in older versions of <a href=\"https://metacpan.org/pod/Role::Tiny\" rel=\"nofollow\">Role::Tiny</a> that was <a href=\"https://metacpan.org/source/HAARG/Role-Tiny-2.000003/Changes#L27\" rel=\"nofollow\">fixed in version 1.003003</a>:</p>\n\n<blockquote>\n  <ul>\n  <li>overloads specified as method names rather than subrefs are now applied\n  properly</li>\n  </ul>\n</blockquote>\n\n<p>Upgrading Role::Tiny should fix it and allow Specio::Constraint::Simple to be installed normally.</p>\n\n<p>Actually, you don't even need to do that manually: Version 0.26 of Specio <a href=\"https://metacpan.org/changes/release/DROLSKY/Specio-0.26#L1\" rel=\"nofollow\">now requires at least version 1.003003 of Role::Tiny</a>. Any future attempt to install Specio will upgrade Role::Tiny automatically (if required).</p>\n"}], "owner": {"reputation": 322, "user_id": 1416040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/579162c0a40876566051a3940ef8b53e?s=128&d=identicon&r=PG", "display_name": "Nate H", "link": "https://stackoverflow.com/users/1416040/nate-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 39712159, "answer_count": 1, "score": 1, "last_activity_date": 1474923062, "creation_date": 1474651698, "last_edit_date": 1474651840, "question_id": 39666443, "link": "https://stackoverflow.com/questions/39666443/cpan-specioconstraintsimple-install-error", "title": "CPAN - Specio::Constraint::Simple install error", "body": "<p>Attempting to install <a href=\"https://metacpan.org/pod/Specio::Constraint::Simple\" rel=\"nofollow\">Specio::Constraint::Simple</a>, running into the following error:</p>\n\n<blockquote>\n  <p>Can't resolve method \"???\" overloading \"&amp;{}\" in package\n  \"Specio::Constraint::Simple\" at Specio::Constraint::Simple->new line\n  35.</p>\n</blockquote>\n\n<p>Only related article I have found has been: <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=117975\" rel=\"nofollow\">https://rt.cpan.org/Public/Bug/Display.html?id=117975</a></p>\n\n<p>Any suggestions would be appreciated.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474649420, "post_id": 39665732, "comment_id": 66633255, "body": "I have tried to replace total_sum  0x0C--&gt;0xE  but its not working replace all the value with 0x00"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474650420, "post_id": 39665732, "comment_id": 66633770, "body": "its not replace with 0x00 actually replacement is not happening."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1474648984, "creation_date": 1474648984, "answer_id": 39665732, "question_id": 39665410, "link": "https://stackoverflow.com/questions/39665410/command-line-replacement-with-new-value-not-working/39665732#39665732", "title": "command line replacement with new value not working", "body": "<pre><code>$eachline=~/^$variable_name/ and /$variable_value/\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>$eachline=~/^$variable_name/ and $eachline=~/$variable_value/\n</code></pre>\n\n<p>When the bind operator (<code>=~</code>) is not used explicitly to the left side of a regular expression, Perl implicitly binds it to the <code>$_</code> variable.</p>\n\n<hr/>\n\n<p>You also want to use the bind operator in another place and say</p>\n\n<pre><code>$eachline =~ s/$variable_value/$Replacement_var/ ;\n</code></pre>\n\n<p>rather than</p>\n\n<pre><code>$eachline = s/$variable_value/$Replacement_var/ ;\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474648984, "creation_date": 1474647739, "last_edit_date": 1474648121, "question_id": 39665410, "link": "https://stackoverflow.com/questions/39665410/command-line-replacement-with-new-value-not-working", "title": "command line replacement with new value not working", "body": "<p>I am very new to the perl \n         Here is what I am   doing I have input line like this\n         I want to substitute the value of each line that matches with the\n         string by passing variable name,variable value and replace value \n         as input argument through command line </p>\n\n<pre><code>     input_data:\n     total_sum  0x0C    Uint8,unsigned char     \n     num     0x0D   Uint8,unsigned char     \n     max    0x4A    Uint8,unsigned char     \n     padd   0x00    Uint8,unsigned char     \n     ideal  0x01    Uint16, unsigned short\n     min    0xffdd7f Uint16, unsigned short\n</code></pre>\n\n<p>expected output:</p>\n\n<pre><code>     1.total_sum    0x0C    Uint8,unsigned char  //change 0x0B with 0x0C\n     2.also if the string conation Uin16 then I need to pad 0x00 as i \n        want to read only one byte at a time\n        for e.g ideal should be pad with (0x00,0x01)\n     3.also if the string contain value more than one byte then i need \n        to split with 1 byte each\n        for e.g oxffdd7f should be (0x0ff,0xdd,0x7f)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>    #! /usr/bin/env perl\n\n     use strict;\n     use warnings;\n     # input variable pass as a input argument\n     my $variable_name =shift @ARGV;\n     # variable value pass as a input argument\n     my $variable_value =shift @ARGV;\n     #variable value need to be replaced with new value \n     my $Replacement_var = shift @ARGV;\n     # Name of the file the data is in\n     my $input_filename  = 'my_input.txt';\n     # Name of the file you want to dump the output to\n     my $output_filename = 'my_output.txt';\n\n     open my $input_fh, \"&lt;\", $input_filename or die $!; \n     my @array;   \n     while (my $eachline = &lt;$input_fh&gt;)\n     {\n     if ($eachline=~/^$variable_name/ and /$variable_value/)\n        {\n         $eachline=s/$variable_value/$Replacement_var/ ;\n        }\n        #here  extracting only hex values from each line\n        while ($eachline =~ m/(0x(?:[0-9]|[A-f])+)/gi)  \n        {\n          push @array, $1;\n        }\n     }\n\n     close $input_fh;\n     open my $output_fh, \"&gt;\", $output_filename or die $!;\n     print {$output_fh} join(\", \", @array);\n</code></pre>\n\n<p>I am checking variable name and value then replace variable value \n         with  new one but replace is not happening (field_ind 0x0B->0x0C)\n         please help me where I am doing mistake.</p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 2, "creation_date": 1474643410, "post_id": 39664058, "comment_id": 66629922, "body": "Python (<code>regex</code> module) also supports it."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1474643546, "post_id": 39664058, "comment_id": 66629978, "body": "@revo, are you adding an answer to that effect (presumably with a link to <a href=\"https://pypi.python.org/pypi/regex\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/regex</a> and/or <a href=\"https://bitbucket.org/mrabarnett/mrab-regex\" rel=\"nofollow noreferrer\">bitbucket.org/mrabarnett/mrab-regex</a>), or shall I?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1474643695, "post_id": 39664058, "comment_id": 66630062, "body": "(...also pertinent, <a href=\"https://bitbucket.org/mrabarnett/mrab-regex/issues/151/request-k\" rel=\"nofollow noreferrer\">bitbucket.org/mrabarnett/mrab-regex/issues/151/request-k</a> -- the ticket for <code>\\K</code> being added to the regex module)."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1474643755, "post_id": 39664058, "comment_id": 66630100, "body": "You can simulate <code>\\K</code> on simple cases with lookbehinds as well it all depends on your pattern. @CharlesDuffy go ahead."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1474644397, "post_id": 39664058, "comment_id": 66630487, "body": "@revo &quot;You can simulate \\K on simple cases with lookbehinds&quot; That&#39;s already mentioned in the docs that eugene quoted."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474644499, "post_id": 39664058, "comment_id": 66630543, "body": "And I didn&#39;t read that quote entirely. @ThisSuitIsBlackNot"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1474648241, "post_id": 39664058, "comment_id": 66632611, "body": "Note also that the method <code>re.findall</code> returns only capturing groups and not the whole match: <code>re.findall(&#39;I need (that)&#39;, s)</code> =&gt; <code>[&#39;that&#39;]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 11, "last_activity_date": 1474643784, "creation_date": 1474643784, "answer_id": 39664218, "question_id": 39664058, "link": "https://stackoverflow.com/questions/39664058/is-there-any-equivalent-to-the-perl-regexes-k-backslash-sequence-in-python/39664218#39664218", "title": "Is there any equivalent to the Perl regexes&#39; \\K backslash sequence in Python?", "body": "<p>The proposed replacement to the Python <code>re</code> module, <a href=\"https://pypi.python.org/pypi/regex\" rel=\"noreferrer\">available from <code>pypi</code> under the name <code>regex</code></a>, has this feature. Its canonical source repository and bug tracker are <a href=\"https://bitbucket.org/mrabarnett/mrab-regex\" rel=\"noreferrer\">in bitbucket</a>.</p>\n\n<p>This was added in late 2015, in <a href=\"https://bitbucket.org/mrabarnett/mrab-regex/issues/151/request-k\" rel=\"noreferrer\">ticket 151</a>; taking an example of its use from that ticket:</p>\n\n<blockquote>\n<pre><code>import regex as mrab\n&gt;&gt;&gt; bsk = mrab.compile(r'start=&gt;\\K.*')\n&gt;&gt;&gt; print(bsk.search('boring stuff start=&gt;interesting stuff'))\n&lt;regex.Match object; span=(20, 37), match='interesting stuff'&gt;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1838, "favorite_count": 1, "accepted_answer_id": 39664218, "answer_count": 1, "score": 10, "last_activity_date": 1583115540, "creation_date": 1474643299, "last_edit_date": 1474643420, "question_id": 39664058, "link": "https://stackoverflow.com/questions/39664058/is-there-any-equivalent-to-the-perl-regexes-k-backslash-sequence-in-python", "title": "Is there any equivalent to the Perl regexes&#39; \\K backslash sequence in Python?", "body": "<p>Perl's regular expressions have the <a href=\"http://perldoc.perl.org/perlrebackslash.html#Misc\" rel=\"noreferrer\"><code>\\K</code></a> backslash sequence:</p>\n\n<blockquote>\n  <p><strong>\\K</strong><br>\n  This appeared in perl 5.10.0. Anything matched left of <code>\\K</code> is not\n  included in <code>$&amp;</code>, and will not be replaced if the pattern is used in a\n  substitution. This lets you write <code>s/PAT1 \\K PAT2/REPL/x</code> instead of\n  <code>s/(PAT1) PAT2/${1}REPL/x</code> or <code>s/(?&lt;=PAT1) PAT2/REPL/x</code>.</p>\n  \n  <p>Mnemonic: <em>Keep</em>.</p>\n</blockquote>\n\n<p>Is there anything equivalent in Python?</p>\n"}, {"tags": ["arrays", "perl", "loops", "overriding"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474660413, "post_id": 39663906, "comment_id": 66638772, "body": "I hope you have <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of your program? They are essential in every Perl program that you write. And you must not declare all of your variables at the top of the file, as it makes simple bugs much harder to find. That used to be necessary for very old C compilers, but I can&#39;t think of any language now where it isn&#39;t better to declare every variable where it is first defined."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1474643113, "post_id": 39663977, "comment_id": 66629735, "body": "and from the description, it sounds like they need two different arrays in the while loop, one for each if condition"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1474645583, "last_edit_date": 1474645583, "creation_date": 1474643023, "answer_id": 39663977, "question_id": 39663906, "link": "https://stackoverflow.com/questions/39663906/perl-array-overriding/39663977#39663977", "title": "Perl array overriding", "body": "<p><code>@array = ...</code> overwrites the contents of the array. Use <a href=\"http://p3rl.org/push\" rel=\"nofollow\">push</a> to add elements to an existing array.</p>\n\n<p>For sum, see <code>sum</code> (or <code>sum0</code>) in <a href=\"http://p3rl.org/List::Util\" rel=\"nofollow\">List::Util</a>.</p>\n"}], "owner": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 39663977, "answer_count": 1, "score": 1, "last_activity_date": 1474645583, "creation_date": 1474642816, "question_id": 39663906, "link": "https://stackoverflow.com/questions/39663906/perl-array-overriding", "title": "Perl array overriding", "body": "<p>I am trying to do sum of the array in my perl code but I was not able to get the right output.</p>\n\n<p>Here is my sample code</p>\n\n<pre><code>use File::Find::Rule;\nuse Date::Parse;\n\nmy ($dir,   $type,  $fh,    $line,  $str_1,\n    $str_2,$str_3, $str_4);\n\nmy @array;\n\n$dir = '/dir/test/';\n$type = '*';\n$str_1           = 'somestr1';\n$str_2           = 'somestr2';\n$str_3           = 'somestr3';\n$str_4           = 'somestr4';\n\nmy @files = File::Find::Rule-&gt;file()-&gt;name($type)-&gt;in($dir);\n\nopen $out, '&gt;&gt;', \"output_log\" or die \"Unable to open 'output_log' : $!\";\nprint $out \"\\Logs \\n\";\nprint $out \"--------------------------\\n\";\nclose $out or die \"Unable to finish writing output_log : $!\";\n\nfor my $file (@files) {\n\n    open $fh,  '&lt;',  $file        or die \"can't open $file: $!\";\n    open $out, '&gt;&gt;', \"output_log\" or die \"Unable to open 'output_log' : $!\";\n\n    while ( $line = &lt;$fh&gt; ) {\n\n        if ( $line !~ /$str_1/ &amp;&amp; $line =~ /$str_2/ ) \n         {\n              @array = $somevar  # result of this loop 2,3   \n         }\n\n       if ( $line !~ /$str_3/ &amp;&amp; $line =~ /$str_4/ ) \n         {\n            @array = $somevar   #result of this loop 2,3,4,5,6\n         } \n\n\n    }\n\n    close $out or die \"Unable to finish writing output_log : $!\";\n}\n</code></pre>\n\n<h1>So Here is what I want</h1>\n\n<pre><code>@array = (2,3,2,3,4,5,6)\nand sum of @array \n</code></pre>\n\n<p>but unfornately,if i print this array that is running each and every line but instead i want to write a loop which stores the result in array from both if blocks..\nnow the code is overriding the @array in the second if block. Hope I made this clear!! Please help</p>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1474813287, "post_id": 39663925, "comment_id": 66675024, "body": "@Eugen your edit was not correct. The whole idea of that first code block is that <code>@_</code> is empty in the function, so there is absolutely no need to pass it on. I explain that in the paragraph below. I rolled back your edit."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1474814761, "post_id": 39663925, "comment_id": 66675573, "body": "First and second example works differently in this case. If <code>start_home</code> get two or more arguments the first example will discard them all but second one will pass through them. Pass through <code>@_</code> at first example explicitly shows that difference between examples only at first argument."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1474813157, "last_edit_date": 1474813157, "creation_date": 1474642897, "answer_id": 39663925, "question_id": 39663614, "link": "https://stackoverflow.com/questions/39663614/mojolicious-cant-call-method-render-on-an-undefined-value/39663925#39663925", "title": "Mojolicious: Can&#39;t call method &quot;render&quot; on an undefined value", "body": "<p>You need to pass the context object <code>$c</code>/<code>$d</code> to your second function. The <em>undefined value</em> is your <code>$c</code> in <code>go_somewhere_else</code>, because you call it without a parameter.</p>\n\n<p>Initially, to make it work, do this.</p>\n\n<pre><code>sub start_home {\n  my $d = shift;\n  my $something = $d-&gt;param('something');\n\n  go_somewhere_else($d);\n}\n</code></pre>\n\n<p>You are now passing the context, which you named <code>$d</code> (that's not the conventional name), to the other function, and the warning will go away. </p>\n\n<p>That's because the form <code>&amp;subname;</code> without parenthesis <code>()</code> makes <code>@_</code> (that's the list of arguments to the function) available inside of <code>go_somewhere_else</code>, but because you <code>shift</code>ed <code>$d</code> off, <code>@_</code> is now empty, and hence your <code>$c</code> inside <code>go_somewhere_else</code> is <code>undef</code>.</p>\n\n<p>Alternatively, you could also change the <code>shift</code> to an assignment with <code>@_</code>. But please, <strong>don't do that</strong>!</p>\n\n<pre><code>sub start_home {\n  my ( $d ) = @_;\n  my $something = $d-&gt;param('something');\n\n  &amp;go_somewhere_else;\n}\n</code></pre>\n\n<hr>\n\n<p>There are more things odd to the point of almost wrong here.</p>\n\n<pre><code>get '/' =&gt; sub { &amp;start_home; };\n</code></pre>\n\n<p>You are <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"nofollow\">currying</a> the the <code>start_home</code> function, but you are not actually adding another parameter. I explained above why this works. But it's not great. In fact, it's confusing and complicated.</p>\n\n<p>Instead, you should use a code reference for the route.</p>\n\n<pre><code>get '/' =&gt; \\&amp;start_home;\n</code></pre>\n\n<p>Inside of <code>start_home</code>, you should call your context <code>$c</code> as is the convention. You should also not use the ampersand <code>&amp;</code> notation for calling functions. That changes the behavior in a way you most certainly do not want.</p>\n\n<pre><code>sub start_home {\n  my $c = shift;\n  my $something = $c-&gt;param('something');\n\n  # ...\n  go_somewhere_else($c);\n}\n</code></pre>\n\n<p>To learn more about how function calls work in Perl, refer to <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow\">perlsub</a>.</p>\n"}], "owner": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 39663925, "answer_count": 1, "score": 1, "last_activity_date": 1474813157, "creation_date": 1474641906, "question_id": 39663614, "link": "https://stackoverflow.com/questions/39663614/mojolicious-cant-call-method-render-on-an-undefined-value", "title": "Mojolicious: Can&#39;t call method &quot;render&quot; on an undefined value", "body": "<p>I'm getting this error and cannot understand why this happens. It happens when I jump to another subroutine. Perhaps there is something I need to understand about Mojolicious on why this happens.</p>\n\n<p>Here is the source code of my program:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Mojolicious::Lite;\n\nget '/' =&gt; sub { &amp;start_home; };\n\napp-&gt;start;\n\nsub start_home {\n  my $d = shift;\n  my $something = $d-&gt;param('something');\n  ### Do things with $something.... etc.. etc..\n  &amp;go_somewhere_else; ### Go somewhere else\n}\n\nsub go_somewhere_else {\n my $c = shift;\n $c-&gt;render(text =&gt; \"Hello World!\");\n ### End of program\n}\n</code></pre>\n\n<p>I am passing a value on to the renderer and there is a value - Why would it say it is undefined? My understanding is that this only happens if you jump to a subroutine and try to render output.</p>\n\n<p>My operating system is Windows and I am using Strawberry Perl.</p>\n"}, {"tags": ["regex", "perl", "brackets"], "answers": [{"tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 0, "last_activity_date": 1474634015, "creation_date": 1474634015, "answer_id": 39660891, "question_id": 39660793, "link": "https://stackoverflow.com/questions/39660793/perl-regex-square-brackets-and-single-quotes/39660891#39660891", "title": "perl regex square brackets and single quotes", "body": "<p>Clean up <code>$ado_symbol</code> after split:</p>\n\n<pre><code>$ado_symbol =~ s/^\\['//;\n$ado_symbol =~ s/'\\]$//;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1474634141, "post_id": 39660892, "comment_id": 66623442, "body": "awesome <code>Something that&#39;s useful to know is this - that split takes a regex</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1474634189, "last_edit_date": 1474634189, "creation_date": 1474634021, "answer_id": 39660892, "question_id": 39660793, "link": "https://stackoverflow.com/questions/39660793/perl-regex-square-brackets-and-single-quotes/39660892#39660892", "title": "perl regex square brackets and single quotes", "body": "<p>Something that's useful to know is this - that <code>split</code> takes a regex. (It'll even let you capture, but that'll insert into the returned list, which is why I've got <code>(?:</code> for non capturing groups)</p>\n\n<p>I observe your data only has <code>['</code> right next to the delimiter - so how about:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nwhile ( &lt;DATA&gt; ) {\n  chomp;\n  my @fields = split /(?:\\'])?,(?:\\[\\')?/; \n  print Dumper \\@fields;\n}\n\n__DATA__\nABC,-0.5,10Y,10Y,['TEST'],ABC.1000145721ABC,-0.5,20Y,10Y,['TEST'],ABC.1000145722\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          'ABC',\n          '-0.5',\n          '10Y',\n          '10Y',\n          'TEST',\n          'ABC.1000145721ABC',\n          '-0.5',\n          '20Y',\n          '10Y',\n          'TEST',\n          'ABC.1000145722'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6870886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85db281abf030d2a51584bc846391b3b?s=128&d=identicon&r=PG&f=1", "display_name": "pradeep behera", "link": "https://stackoverflow.com/users/6870886/pradeep-behera"}, "is_accepted": false, "score": 1, "last_activity_date": 1474641316, "last_edit_date": 1474641316, "creation_date": 1474640761, "answer_id": 39663233, "question_id": 39660793, "link": "https://stackoverflow.com/questions/39660793/perl-regex-square-brackets-and-single-quotes/39663233#39663233", "title": "perl regex square brackets and single quotes", "body": "<pre><code>my $str = \"ABC,-0.5,10Y,10Y,['TEST'],ABC.1000145721ABC,-0.5,20Y,10Y,['TEST'],ABC.1000145722\";\n\n$str =~ s/\\['|'\\]//g;\n\nprint $str;\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>ABC,-0.5,10Y,10Y,TEST,ABC.1000145721ABC,-0.5,20Y,10Y,TEST,ABC.1000145722\n</code></pre>\n\n<p>Now you can split.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1474644702, "last_edit_date": 1474644702, "creation_date": 1474644147, "answer_id": 39664356, "question_id": 39660793, "link": "https://stackoverflow.com/questions/39660793/perl-regex-square-brackets-and-single-quotes/39664356#39664356", "title": "perl regex square brackets and single quotes", "body": "<p>You can use a global regex match to find all substrings that are not a comma, a single quote, or a square bracket</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $s = q{ABC,-0.5,10Y,10Y,['TEST'],ABC.1000145721ABC,-0.5,20Y,10Y,['TEST'],ABC.1000145722};\n\nmy @data = $s =~ /[^,'\\[\\]]+/g;\n\nmy ( $currency, $strike, $tenor, $tenor2, $ado_symbol ) = @data;\n\nprint \"\\$currency   = $currency\\n\";\nprint \"\\$strike     = $strike\\n\";\nprint \"\\$tenor      = $tenor\\n\";\nprint \"\\$tenor2     = $tenor2\\n\";\nprint \"\\$ado_symbol = $ado_symbol\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$currency   = ABC\n$strike     = -0.5\n$tenor      = 10Y\n$tenor2     = 10Y\n$ado_symbol = TEST\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 6547823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuDy7.jpg?s=128&g=1", "display_name": "Avikd", "link": "https://stackoverflow.com/users/6547823/avikd"}, "is_accepted": false, "score": 0, "last_activity_date": 1474798587, "creation_date": 1474798587, "answer_id": 39685724, "question_id": 39660793, "link": "https://stackoverflow.com/questions/39660793/perl-regex-square-brackets-and-single-quotes/39685724#39685724", "title": "perl regex square brackets and single quotes", "body": "<p>Another alternative</p>\n\n<pre><code>my $str = \"ABC,-0.5,10Y,10Y,['TEST'],ABC.1000145721ABC,-0.5,20Y,10Y,['TEST'],ABC.1000145722\";\n\nmy ($currency, $strike, $tenor, $tenor2,$ado_symbol) = map{ s/[^A-Z0-9\\.-]//g; $_} split ',',$str;\nprint \"$currency, $strike, $tenor, $tenor2, $ado_symbol\",$/;\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>ABC, -0.5, 10Y, 10Y, TEST\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4849331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8df727c8e04972922207b8c13b73b98?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4849331/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 1, "accepted_answer_id": 39660892, "answer_count": 5, "score": 1, "last_activity_date": 1474798587, "creation_date": 1474633733, "last_edit_date": 1474633765, "question_id": 39660793, "link": "https://stackoverflow.com/questions/39660793/perl-regex-square-brackets-and-single-quotes", "title": "perl regex square brackets and single quotes", "body": "<p>Have this string:</p>\n\n<pre><code>ABC,-0.5,10Y,10Y,['TEST'],ABC.1000145721ABC,-0.5,20Y,10Y,['TEST'],ABC.1000145722\n</code></pre>\n\n<p>The data is repeated.</p>\n\n<p>I need to remove the []' characters from the data so it looks like this:</p>\n\n<pre><code>ABC,-0.5,10Y,10Y,TEST,ABC.1000145721ABC,-0.5,20Y,10Y,TEST,ABC.1000145722\n</code></pre>\n\n<p>I'm also trying to split the data to assign it to variables as seen below:</p>\n\n<pre><code>my($currency, $strike, $tenor, $tenor2,$ado_symbol) = split /,/, $_;\n</code></pre>\n\n<p>This works for everything but the ['TEST'] section. Should I remove the []' characters first then keep my split the same or is there an easier way to do this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "shell", "unix", "ssh"], "answers": [{"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": false, "score": 2, "last_activity_date": 1474623525, "creation_date": 1474623525, "answer_id": 39657509, "question_id": 39657317, "link": "https://stackoverflow.com/questions/39657317/display-output-of-the-command-over-ssh-on-run-time/39657509#39657509", "title": "Display output of the command over SSH on run time", "body": "<p>You can try to turn the autoflush mode on. The old fashioned way to it is by adding the following at the top of your script:</p>\n\n<pre><code>$| = 1;\n</code></pre>\n\n<p>or you can do it with the more modern way:</p>\n\n<pre><code>use IO::Handle;\n\nSTDOUT-&gt;autoflush(1);\n</code></pre>\n\n<p>Alternatively, you can flush the STDOUT on demand with:</p>\n\n<pre><code>use IO::Handle;\n\nprint \"Sleeping \\n\";\nSTDOUT-&gt;flush;\nsleep(60);\nprint \"Waking Up\";\nSTDOUT-&gt;flush;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 4, "last_activity_date": 1474623772, "creation_date": 1474623772, "answer_id": 39657612, "question_id": 39657317, "link": "https://stackoverflow.com/questions/39657317/display-output-of-the-command-over-ssh-on-run-time/39657612#39657612", "title": "Display output of the command over SSH on run time", "body": "<p>You are <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow\">suffering from buffering</a>.</p>\n\n<p>You may either set <code>$|</code> to <code>1</code> for the block.</p>\n\n<pre><code>{\n    local $| = 1;\n    print \"Sleeping \\n\";\n    sleep(60);\n    print \"Waking Up\";\n}\n</code></pre>\n\n<p>Or use IO::Handle</p>\n\n<pre><code>use IO::Handle;\nSTDOUT-&gt;autoflush(1);\n</code></pre>\n"}], "owner": {"reputation": 2230, "user_id": 2492443, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/5bE6e.png?s=128&g=1", "display_name": "Dipu H", "link": "https://stackoverflow.com/users/2492443/dipu-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1474623772, "creation_date": 1474623003, "last_edit_date": 1474623593, "question_id": 39657317, "link": "https://stackoverflow.com/questions/39657317/display-output-of-the-command-over-ssh-on-run-time", "title": "Display output of the command over SSH on run time", "body": "<p>I am running a perl script over ssh like the below:</p>\n\n<pre><code>[dipuh@local ~]$ ssh dipuh@myremote_001 'perl /home/dipuh/a.pl'\n</code></pre>\n\n<p>The content of a.pl is the below:</p>\n\n<pre><code>print \"Sleeping \\n\";\nsleep(60);\nprint \"Waking Up\";\n</code></pre>\n\n<p>Here my local terminal waits for the perl script to execute completely and once finished displays the complete output. The initial \"Sleeping\" text also will be printed only with the final output.</p>\n\n<p>Is there any way, in my local terminal, I can display the output of each command in the perl script at the run time, instead of waiting for the whole perl script to finish.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 2, "creation_date": 1474622984, "post_id": 39657194, "comment_id": 66616738, "body": "Why have you tagged with <a href=\"https://stackoverflow.com/questions/tagged/awk\">awk</a> if your current attempt is in <a href=\"https://stackoverflow.com/questions/tagged/perl\">perl</a>?"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 3, "creation_date": 1474624872, "post_id": 39657194, "comment_id": 66617917, "body": "@TomFenech : apparently the spec has changed :-)  <a href=\"http://stackoverflow.com/questions/39612637/unix-awk-scripting-to-convert-columns-to-rows\" title=\"unix awk scripting to convert columns to rows\">stackoverflow.com/questions/39612637/&hellip;</a> . Good luck to all."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1474629368, "creation_date": 1474629368, "answer_id": 39659437, "question_id": 39657194, "link": "https://stackoverflow.com/questions/39657194/unix-script-to-transpose-rows-to-columns-with-defined-file-layout-as-output/39659437#39659437", "title": "Unix script to transpose rows to columns with defined file layout as output", "body": "<p>I think your life gets a lot easier if you know about <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split()</code></a></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy (@head);\nwhile (&lt;&gt;) {\n  chomp;\n  if ($. == 1) {\n    @head = split /,/;\n    next;\n  }\n\n  my @data = split /,/;\n\n  say \"$head[0]|$data[0]|$data[1]|$data[2]|$head[$_]|$data[$_+2]\" for (1 .. $#head);\n}\n</code></pre>\n\n<p>I've written it as a program rather than as a command line as I think it's too long to be run on the command line.</p>\n\n<p>Also, I hope that the dot after \"MMR\" in your sample input is a typo for a comma. If that's not the case it gets a little more complex - but not very much.</p>\n\n<p>Oh, and there's no \"PPS\" in your sample input, so I've no idea where that comes from in your sample output.</p>\n"}], "owner": {"reputation": 23, "user_id": 6857487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf92111bb3b1c9e6206e9f107a0b268?s=128&d=identicon&r=PG&f=1", "display_name": "udayadevan", "link": "https://stackoverflow.com/users/6857487/udayadevan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1474629368, "creation_date": 1474622596, "last_edit_date": 1474628323, "question_id": 39657194, "link": "https://stackoverflow.com/questions/39657194/unix-script-to-transpose-rows-to-columns-with-defined-file-layout-as-output", "title": "Unix script to transpose rows to columns with defined file layout as output", "body": "<p>Script tried: </p>\n\n<pre><code>perl -nle '\nif($. == 1)\n{ (@a)=/([\\w - .]+)(?=,|\\s*$)/g }\nelse\n{\n    (@b)=/([\\w - .]+)(?=,|\\s*$)/g;\n    print \"$a[0]|$b[0]|$b[1]|$b[2}|$a[$_]|$b[$_+3]\" foreach (0..$#a)\n}\n' ip.txt &gt;op.txt\n</code></pre>\n\n<p>input data :   </p>\n\n<pre><code>src,FI,QMA,PCG,PCC,PREI,G T\nPIM2016.csv,MMR.S T - RED,334,114,120,34,123,725\n</code></pre>\n\n<p>output with latest script:  </p>\n\n<pre><code>SRC|PIM2016.csv|MMRPPS|RED|SRC|334\nSRC|PIM2016.csv|MMRPPS|RED|FI|114\nSRC|PIM2016.csv|MMRPPS|RED|QMA|120\nSRC|PIM2016.csv|MMRPPS|RED|PCG|34\nSRC|PIM2016.csv|MMRPPS|RED|PCC|123\nSRC|PIM2016.csv|MMRPPS|RED|PREI|725\nSRC|PIM2016.csv|MMRPPS|RED|G T|\n</code></pre>\n\n<p>Required output:  </p>\n\n<pre><code>SRC|PIM2016.csv|MMRPPS|S T - RED|FI|334\nSRC|PIM2016.csv|MMRPPS|S T - RED|QMA|114\nSRC|PIM2016.csv|MMRPPS|S T - RED|PCG|120\nSRC|PIM2016.csv|MMRPPS|S T - RED|PCC|34\nSRC|PIM2016.csv|MMRPPS|S T - RED|PREI|123\nSRC|PIM2016.csv|MMRPPS|S T - RED|G T|725\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474623442, "post_id": 39657095, "comment_id": 66616989, "body": "How do you get <code>$fd</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474624018, "post_id": 39657095, "comment_id": 66617354, "body": "@\u0421\u0443\u0445\u043e\u043927 that&#39;s what I was getting at. If <code>RS</code> in awk is more than one char, it&#39;s a regex. Piping through something like <code>awk &#39;BEGIN{RS=&quot;[aeiou]&quot;; FS=&quot;\\n&quot;} {print;}&#39;</code> would split on all vocals and turn the lines into something that <code>$&#47;</code> can process. Though <code>\\n</code> might be something you&#39;d want to preserve, so use a BELL or a <code>\\0</code> or whatever instead."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474624287, "post_id": 39657095, "comment_id": 66617546, "body": "@simbabque OP could also pipe his input through perl filter, <code>perl -pe &#39;tr|\\r|\\n|&#39; file | script.pl</code> as he is only looking for <code>&#47;\\r|\\n&#47;</code> separator."}, {"owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474626735, "post_id": 39657095, "comment_id": 66618998, "body": "@simbabque @\u0421\u0443\u0445\u043e\u043927 Your solutions destroy the information which line terminator was used for each line. So the <code>handler</code> will not be able to reconstruct the original information from what it gets."}, {"owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474627155, "post_id": 39657095, "comment_id": 66619248, "body": "@\u0421\u0443\u0445\u043e\u043927 That will not work because this will still wait for a newline and only do the translation once it found a <code>\\n</code>. Try out this: <code>{ echo -ne &quot;blubber\\r&quot;; sleep 1; echo -n &quot;blabber\\r&quot;; sleep 1; echo &quot;foo&quot; } | perl -pe &#39;tr|\\r|\\n|&#39;</code>"}, {"owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474627287, "post_id": 39657095, "comment_id": 66619331, "body": "@simbabque The <code>awk</code> solution doesn&#39;t work as expected because it will not immediately print a &quot;line&quot; once the terminator as defined by <code>RS</code> is encountered. Try running this: <code>{ echo -ne &quot;blubber\\r&quot;; sleep 1; echo -n &quot;blabber\\r&quot;; sleep 1; echo &quot;foo&quot; } | awk &#39;BEGIN{RS=&quot;[\\r\\n]&quot;; FS=&quot;\\n&quot;} {print;}&#39;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474630488, "post_id": 39657095, "comment_id": 66621207, "body": "I learned a new error message. <i>Setting $/ to a REGEXP reference is forbidden</i> :)"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1474639649, "post_id": 39657095, "comment_id": 66627426, "body": "<a href=\"https://metacpan.org/pod/Acme::InputRecordSeparatorIsRegexp\" rel=\"nofollow noreferrer\"><code>Acme::InputRecordSeparatorIsRegexp</code></a> with a <code>bufsize</code> of 1?"}], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 2, "last_activity_date": 1474630165, "creation_date": 1474630165, "answer_id": 39659692, "question_id": 39657095, "link": "https://stackoverflow.com/questions/39657095/read-perl-file-handle-with-input-record-separator-as-a-regex/39659692#39659692", "title": "Read perl file handle with $INPUT_RECORD_SEPARATOR as a regex", "body": "<p>Setting $INPUT_RECORD_SEPARATOR to a regex wouldn't help, because Perl's <code>readline</code> uses buffered IO, too. The trick is to use your second approach but with unbuffered <code>sysread</code> instead of <code>read</code>. If you <code>sysread</code> from a pipe, the call will return as soon as data is available, even if the whole buffer couldn't be filled (at least on Unix).</p>\n"}, {"tags": [], "owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "is_accepted": false, "score": 0, "last_activity_date": 1474635162, "creation_date": 1474635162, "answer_id": 39661284, "question_id": 39657095, "link": "https://stackoverflow.com/questions/39657095/read-perl-file-handle-with-input-record-separator-as-a-regex/39661284#39661284", "title": "Read perl file handle with $INPUT_RECORD_SEPARATOR as a regex", "body": "<p>The suggestion by nwellnhof allowed me to implement a solution to this problem:</p>\n\n<pre><code>my $acc = \"\";\nwhile (1) {\n    my $ret = sysread($fh, my $buf, 1000);\n    if ($ret == 0) {\n        last;\n    }\n    # we split with a capturing group so that we also retain which line\n    # terminator was used\n    # a negative limit is used to also produce trailing empty fields if\n    # required\n    my @parts = split /(\\r|\\n)/, $buf, -1;\n    my $numparts = scalar @parts;\n    if ($numparts == 1) {\n        # line terminator was not found\n        $acc .= $buf;\n    } elsif ($numparts &gt;= 3) {\n        # first match needs special treatment as it needs to be\n        # concatenated with $acc\n        my $first = shift @parts;\n        my $term = shift @parts;\n        handler($acc . $first . $term);\n        my $last = pop @parts;\n        for (my $i = 0; $i &lt; $numparts - 3; $i+=2) {\n            handler($parts[$i] . $parts[$i+1]);\n        }\n        # the last part is put into the accumulator. This might\n        # just be the empty string if $buf ended in a line\n        # terminator\n        $acc = $last;\n    }\n}\n# if the output didn't end with a linebreak, handle the rest\nif ($acc ne \"\") {\n    handler($acc);\n}\n</code></pre>\n\n<p>My tests show that indeed <code>sysread</code> will return even before having read 1000 characters if there is a pause in the input stream. The code above takes care to concatenate multiple messages of length 1000 and split messages with a lesser length or multiple terminators correctly.</p>\n\n<p>Please shout if you see any bug in above code.</p>\n"}], "owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1474635162, "creation_date": 1474622309, "question_id": 39657095, "link": "https://stackoverflow.com/questions/39657095/read-perl-file-handle-with-input-record-separator-as-a-regex", "title": "Read perl file handle with $INPUT_RECORD_SEPARATOR as a regex", "body": "<p>I'm looking for a way to read from a file handle line by line (and then execute a function on each line) with the following twist: what I want to treat as a \"line\" shall be terminated by varying characters and not just a single character that I define as <code>$/</code>. I now that <code>$INPUT_RECORD_SEPARATOR</code> or <code>$/</code> do not support regular expressions or passing a list of characters to be treated as line terminators and this is where my problem lies.</p>\n\n<p>My file handle comes from stdout of a process. Thus, I cannot seek inside the file handle and the full content is not available immediately but is produced bit by bit as the process is executed. I want to be able to attach things like a timestamp to each \"line\" the process produces using a function that I called <code>handler</code> in my examples. Each line should be handled as soon as it gets produced by the program.</p>\n\n<p>Unfortunately, I can only come up with a way that either executes the <code>handler</code> function immediately but seems horribly inefficient or a way that uses a buffer but will only lead to \"grouped\" calls of the <code>handler</code> function and thus, for example, produce wrong timestamps.</p>\n\n<p>In fact, in my specific case, my regex would even be very simple and just read <code>/\\n|\\r/</code>. So for this particular problem I don't even need full regex support but just the possibility to treat more than one character as the line terminator. But <code>$/</code> doesn't support this.</p>\n\n<p>Is there an efficient way to solve this problem in Perl?</p>\n\n<p>Here is some quick pseudo-perl code to demonstrate my two approaches:</p>\n\n<h2>read the input file handle byte-by-byte</h2>\n\n<p>This would look like this:</p>\n\n<pre><code>my $acc = \"\";\nwhile (read($fd, my $b, 1)) {\n    $acc .= $b;\n    if ($acc =~ /someregex$/) {\n        handler($acc);\n        $acc = \"\";\n    }\n}\n</code></pre>\n\n<p>The advantage here is, that <code>handler</code> gets immediately dispatched once enough bytes are read. The disadvantage is, that we do string appending and check the regex for every single byte we read from <code>$fd</code>.</p>\n\n<h2>read the input file handle with blocks of X-byte at a time</h2>\n\n<p>This would look like this:</p>\n\n<pre><code>my $acc = \"\";\nwhile (read($fd, my $b, $bufsize)) {\n    if ($b =~ /someregex/) {\n        my @parts = split /someregex/, $b;\n        # for brevity lets assume we always get more than 2 parts...\n        my $first = shift @parts;\n        handler(acc . $first);\n        my $last = pop @parts;\n        foreach my $part (@parts) {\n            handler($part);\n        }\n        $acc = $last;\n    }\n}\n</code></pre>\n\n<p>The advantage here is, that we are more efficient as we only check every <code>$bufsize</code> bytes. The disadvantage is, that the execution of <code>handler</code> has to wait until <code>$bufsize</code> bytes have been read.</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 2922, "user_id": 378826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0eed752c6937edcf8597e360c627582?s=128&d=identicon&r=PG", "display_name": "Dilettant", "link": "https://stackoverflow.com/users/378826/dilettant"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1474621097, "post_id": 39656562, "comment_id": 66615619, "body": "At least strong overlap and the answers on SO discussion &quot;Perl: Capturing correct return value from &#39;system&#39; command&quot; pointed to by @Jean-Fran&#231;oisFabre should bring all needed info to the table."}], "owner": {"reputation": 289, "user_id": 3570620, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2124859c0126e41b31e30ee5eb5be681?s=128&d=identicon&r=PG&f=1", "display_name": "user3570620", "link": "https://stackoverflow.com/users/3570620/user3570620"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1474621695, "answer_count": 0, "score": 1, "last_activity_date": 1474620582, "creation_date": 1474620582, "question_id": 39656562, "link": "https://stackoverflow.com/questions/39656562/how-to-get-error-message-from-system-command-in-perl-both-windows-and-unix", "closed_reason": "Duplicate", "title": "How to get error message from system command in perl (both windows and Unix)", "body": "<p>My below perl script (version 5.8.8) is calling python script via system command. Right now only the ERROR_CODE is being retured. How to get error message from system command in perl (both windows and Unix)?</p>\n\n<pre><code>@cmd = (\"myscript.py\");                \nmy ($exit_code) =  system(@cmd);\n</code></pre>\n"}, {"tags": ["git", "bash", "apache", "perl"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 3071196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gAhPg.jpg?s=128&g=1", "display_name": "Suresh J", "link": "https://stackoverflow.com/users/3071196/suresh-j"}, "edited": false, "score": 0, "creation_date": 1474635516, "post_id": 39655274, "comment_id": 66624382, "body": "I have followed this links. no luck.:)"}, {"owner": {"reputation": 117, "user_id": 3071196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gAhPg.jpg?s=128&g=1", "display_name": "Suresh J", "link": "https://stackoverflow.com/users/3071196/suresh-j"}, "edited": false, "score": 1, "creation_date": 1476774566, "post_id": 39655274, "comment_id": 67475303, "body": "This is a bug in new version. had moved  back to Git 1.9. issue solved"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 0, "last_activity_date": 1528105338, "last_edit_date": 1528105338, "creation_date": 1474616316, "answer_id": 39655274, "question_id": 39654315, "link": "https://stackoverflow.com/questions/39654315/git-server-setup-using-apache-2-2-on-windows-7/39655274#39655274", "title": "Git Server Setup using Apache 2.2 on Windows 7", "body": "<p>Similar issue has already been reported. See below thread for discussion and workarounds for the same.</p>\n\n<p><a href=\"https://github.com/git-for-windows/git/issues/493\" rel=\"nofollow noreferrer\">https://github.com/git-for-windows/git/issues/493</a></p>\n\n<p>Also, see following Cygwin faq: <a href=\"https://cygwin.com/faq.html#faq.using.bloda\" rel=\"nofollow noreferrer\">What applications have been found to interfere with Cygwin?</a></p>\n"}], "owner": {"reputation": 117, "user_id": 3071196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gAhPg.jpg?s=128&g=1", "display_name": "Suresh J", "link": "https://stackoverflow.com/users/3071196/suresh-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1066, "favorite_count": 1, "accepted_answer_id": 39655274, "answer_count": 1, "score": 3, "last_activity_date": 1528106984, "creation_date": 1474613296, "last_edit_date": 1528106984, "question_id": 39654315, "link": "https://stackoverflow.com/questions/39654315/git-server-setup-using-apache-2-2-on-windows-7", "title": "Git Server Setup using Apache 2.2 on Windows 7", "body": "<p></p>\n\n<p><strong>Environment</strong> Windows 7 64-bit</p>\n\n<p><strong>Software</strong> Git 2.10, Apache 2.2, Python 3.3.5, Strawberry Perl 5.24, Libgti2 0.22, Open LDAP</p>\n\n<p>Git Server setup has been done. The <code>httpdf.config</code> file from Apache 2.2 has config entry</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ScriptAlias \"/git\" \"../interceptor.pl\n</code></pre>\n\n<p>After a few validations, the Perl script calls <code>httpbackend</code> using code <code>system(path to httpbackend)</code></p>\n\n<p>With this, git is supposed to execute pre-receive and post-receive hooks in bash.</p>\n\n<p>But I am getting getting error</p>\n\n<blockquote>\n  <p>Counting objects: 3, done.<br>\n      Delta compression using up to 4 threads.<br>\n      Compressing objects: 100% (2/2), done.<br>\n      Writing objects: 100% (3/3), 308 bytes | 0 bytes/s, done.<br>\n      Total 3 (delta 0), reused 0 (delta 0)<br>\n      remote:       0 [main] bash 17820 C:\\Program Files\\Git\\bin..\\usr\\bin\\bash.exe: *** fatal error - add_item (\"\\??\\C:\\Program Files\\Git\", \"/\", ...) failed, errno 1<br>\n      remote: Stack trace:<br>\n      remote: Frame        Function    Args<br>\n      remote: 000FFFF9BB0  0018007164E (00180273652, 00180224DD9, 000FFFF9BB0, 000FFFF8B30)<br>\n      remote: 000FFFF9BB0  00180046669 (000FFFFABE0, 000FFFF9BB0, 1D2156132A99C69, 00000000000)<br>\n      remote: 000FFFF9BB0  001800466A2 (000FFFF9BB0, 00000000001, 000FFFF9BB0, 505C3A435C3F3F5C)<br>\n      remote: 000FFFF9BB0  001800DF22B (00000000000, 000FFFFCE00, 001800CEE68, 1D215613B9BEF57)<br>\n      remote: 000FFFFCC00  0018012D735 (00000000000, 00000000000, 001800C753E, 00000000000)<br>\n      remote: 000FFFFCCC0  00180046CE5 (00000000000, 00000000000, 00000000000, 00000000000)<br>\n      remote: 00000000000  0018004590C (00000000000, 00000000000, 00000000000, 00000000000)<br>\n      remote: 000FFFFFFF0  001800459A4 (00000000000, 00000000000, 00000000000, 00000000000)<br>\n      remote: End of stack trace<br>\n      remote:       0 [main] bash 17708 C:\\Program Files\\Git\\bin..\\usr\\bin\\bash.exe: *** fatal error - add_item (\"\\??\\C:\\Program Files\\Git\", \"/\", ...) failed, errno 1<br>\n      remote: Stack trace:<br>\n      remote: Frame        Function    Args<br>\n      remote: 000FFFF9BB0  0018007164E (00180273652, 00180224DD9, 000FFFF9BB0,     000FFFF8B30)<br>\n      remote: 000FFFF9BB0  00180046669 (000FFFFABE0, 000FFFF9BB0, 1D215613BB15B5D, 00000000000)<br>\n      remote: 000FFFF9BB0  001800466A2 (000FFFF9BB0, 00000000001, 000FFFF9BB0, 505C3A435C3F3F5C)<br>\n      remote: 000FFFF9BB0  001800DF22B (00000000000, 000FFFFCE00, 001800CEE68, 1D2156144A312D3)<br>\n      remote: 000FFFFCC00  0018012D735 (00000000000, 00000000000, 001800C753E, 00000000000)<br>\n      remote: 000FFFFCCC0  00180046CE5 (00000000000, 00000000000, 00000000000,     00000000000)<br>\n      remote: 00000000000  0018004590C (00000000000, 00000000000, 00000000000, 00000000000)<br>\n      remote: 000FFFFFFF0  001800459A4 (00000000000, 00000000000, 00000000000, 00000000000)<br>\n      remote: End of stack trace<br>\n      To <a href=\"http://localhost:8113/git/MyDemo.git\" rel=\"nofollow noreferrer\">http://localhost:8113/git/MyDemo.git</a><br>\n      9a34da9..939214d  master -> master  </p>\n</blockquote>\n\n<p>Due to this error, hooks are not getting executed.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1474607425, "post_id": 39652838, "comment_id": 66608820, "body": "<code>my @hex = $line =~ &#47;(0x[0-9A-F]+)&#47;ig;</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1474613794, "post_id": 39652838, "comment_id": 66611400, "body": "in your expected output, the commas and spaces aren&#39;t consistent.  is that an error?"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474627785, "post_id": 39653019, "comment_id": 66619607, "body": "if the value is more than 1 byte(0x002b and 0xffffffaf ) then I need to split with  0x00,0x2b and 0xff,0xff, 0xff, 0xaf  how to do this"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474634244, "post_id": 39653019, "comment_id": 66623502, "body": "@Abhishek: This is a different question. Please put it in a new post."}], "tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": false, "score": 2, "last_activity_date": 1474608009, "last_edit_date": 1474608009, "creation_date": 1474607532, "answer_id": 39653019, "question_id": 39652838, "link": "https://stackoverflow.com/questions/39652838/extracting-hex-values-from-line-in-perl/39653019#39653019", "title": "extracting hex values from line in perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $input = &lt;&lt; 'DATA'; # this is what you read from your file\name (header(...))  0x0D 0x0C 0x4A 0x00 0x01 0x00, 0x02 0x00, 0x0A 0x00,  \n0x04 0x00, 0x04 0x05 0x00 0x001f 0x001f 0x007f 0x00, 0x002b 0x007f 0x0000\n0x00 0x0000 0xffffffaf 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0x00, \n(non_t_crmax 0x0D 0x00,  TDD 0x5D 0x2760 Invalid 0x0000 0x02 0x00, \n(rat_type (rat_type (rat_type (rat_type (rat_type (rat_type (rat_type\nDATA\n\nmy @hexvals = $input =~ /(0x[\\da-f]+)/ig;\n\nprint join ', ', @hexvals; # output\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0x0D, 0x0C, 0x4A, 0x00, 0x01, 0x00, 0x02, 0x00, 0x0A, 0x00, 0x04, 0x00,\n0x04, 0x05, 0x00, 0x001f, 0x001f, 0x007f, 0x00, 0x002b, 0x007f, 0x0000,\n0x00, 0x0000, 0xffffffaf, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00,\n0x0D, 0x00, 0x5D, 0x2760, 0x0000, 0x02, 0x00\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474965770, "post_id": 39653033, "comment_id": 66737564, "body": "Thanks. Here I want add little more information I want extract the decimal value started with only for this braces {1}  e.g.1.  pccpch_rscp\t-47Sint8,signed char .  2.fail_ind\tSUCCESS { 1}  I was trying with m/(0x(\\-d+)(?:[0-9]|[A-f])+)/gi ..but it did not work for me .could you please help me"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474966052, "post_id": 39653033, "comment_id": 66737735, "body": "@Abhishek: That sounds like you&#39;re asking a completely new question. Probably best to post that separately."}], "tags": [], "owner": {"reputation": 1, "user_id": 5050637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554522ebe746d2fcdbefde184b41fcda?s=128&d=identicon&r=PG&f=1", "display_name": "dronenb", "link": "https://stackoverflow.com/users/5050637/dronenb"}, "is_accepted": false, "score": 0, "last_activity_date": 1474607623, "creation_date": 1474607623, "answer_id": 39653033, "question_id": 39652838, "link": "https://stackoverflow.com/questions/39652838/extracting-hex-values-from-line-in-perl/39653033#39653033", "title": "extracting hex values from line in perl", "body": "<p>The following code should do what you want, where $input_filename is the name/path of the file the data is in, and $output_filename is the name/path of the file you want to write the data to.  Always remember to use strict; and use warnings;</p>\n\n<pre><code>#! /usr/bin/env perl\n\n# Enforce good programming\nuse strict;\nuse warnings;\n\n# Name of the file the data is in\nmy $input_filename  = 'input.txt';\n\n# Name of the file you want to dump the output to\nmy $output_filename = 'output.txt';\n\n# Open the file\nopen my $input_fh, \"&lt;\", $input_filename or die $!;\n\n# Array to store the hex data\nmy @hex_array;\n\n# Loop over each of the lines of the file\nwhile (my $line = &lt;$input_fh&gt;){\n    # Find all the matches and push them to the array\n    while ($line =~ m/(0x(?:[0-9]|[A-f])+)/gi){\n        push @hex_array, $1;\n    }\n}\n\n# Close the file\nclose $input_fh;\n\n# Open the output file\nopen my $output_fh, \"&gt;\", $output_filename or die $!;\n\n# Write the data to the file\nprint {$output_fh} join(\", \", @hex_array);\n\n# Close the file\nclose $output_fh;\n\n# Exit\nexit();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 3, "creation_date": 1474622650, "post_id": 39654683, "comment_id": 66616549, "body": "Better you should have used <code>grep</code> instead of <code>map</code>."}, {"owner": {"reputation": 448, "user_id": 6782635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vi3AT.jpg?s=128&g=1", "display_name": "Mathieu Kerjouan", "link": "https://stackoverflow.com/users/6782635/mathieu-kerjouan"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1474623522, "post_id": 39654683, "comment_id": 66617037, "body": "<code>map</code> seems more malleable and extensible than <code>grep</code>, but could give me an example? :)"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 3, "creation_date": 1474623988, "post_id": 39654683, "comment_id": 66617340, "body": "I believe both <code>map</code> and <code>grep</code> are  <i>malleable</i> and <i>extensible</i> based on their place of use. Here for example:  <code>map({ push(@buf,$_) if $_ =~ &#47;^0x[0-9a-f]+$&#47;i} split(&#47;\\s+&#47;, $_));</code> can be replaced with <code>my @buf = grep { &#47;^0x[0-9a-f]+$&#47;i } split(&#47;\\s+&#47;, $_)</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1474625972, "post_id": 39654683, "comment_id": 66618569, "body": "@MathieuK: <code>map</code> used in void context is always a code smell and should usually be replaced with a <code>foreach</code> loop. To use <code>map</code> as intended (i.e. to transform a list) your code should be rewritten as <code>@buf = map { &#47;^0x[0-9a-f]+$&#47;i ? $_ : () } split</code>. But as @AruneshSingh says, to filter a list (as you are doing here), <code>grep</code> should be your tool of choice. (Also worth mentioning that <code>split()</code> with no arguments is the same as <code>split(&#47;\\s+&#47;, $_)</code>.)"}, {"owner": {"reputation": 448, "user_id": 6782635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vi3AT.jpg?s=128&g=1", "display_name": "Mathieu Kerjouan", "link": "https://stackoverflow.com/users/6782635/mathieu-kerjouan"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474626302, "post_id": 39654683, "comment_id": 66618747, "body": "Thanks for these advises! @DaveCross: your snippet is clear and pretty  elegant!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474626428, "post_id": 39654683, "comment_id": 66618829, "body": "Some <a href=\"http://stackoverflow.com/questions/4174492/in-perl-is-it-appropriate-to-use-map-in-void-context-instead-of-a-foreach-loop\">more discussion</a> on this topic."}], "tags": [], "owner": {"reputation": 448, "user_id": 6782635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vi3AT.jpg?s=128&g=1", "display_name": "Mathieu Kerjouan", "link": "https://stackoverflow.com/users/6782635/mathieu-kerjouan"}, "is_accepted": true, "score": 1, "last_activity_date": 1474614430, "creation_date": 1474614430, "answer_id": 39654683, "question_id": 39652838, "link": "https://stackoverflow.com/questions/39652838/extracting-hex-values-from-line-in-perl/39654683#39654683", "title": "extracting hex values from line in perl", "body": "<p>Here a simple perl script (with comments), parsing input and output what do you need.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\n# buffer creation, will contain all desired values\nmy @buf;\n\n# main loop from stdin\nwhile (&lt;&gt;) {\n\n\n      # 2. push value in @buf if match desired regrex\n  map({ push(@buf,$_) if $_ =~ /^0x[0-9a-f]+$/i}\n      # 1. split every line on null char\n      split(/\\s+/, $_));\n} \n\n# print comma separated result\nprint join(\",\", @buf).\"\\n\";\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>chmod +x script.pl\ncat data | ./script.pl\nmycoolcommand | ./script.pl\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0x0D,0x0C,0x4A,0x00,0x01,0x02,0x0A,0x04,0x04,0x05,0x00,0x001f,0x001f,0x007f,0x002b,0x007f,0x0000,0x00,0x0000,0xffffffaf,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x0D,0x5D,0x2760,0x0000,0x02\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474641286, "post_id": 39656651, "comment_id": 66628557, "body": "Re &quot;<i>but they seem to make things far harder than necessary.</i>&quot;, That&#39;s virtually identical Inferno&#39;s answer, 4 hours earlier. The difference is that you use <code>$&quot;</code> (without localizing it at that), which is awful enough for a downvote as far as I&#39;m concerned."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1474620864, "creation_date": 1474620864, "answer_id": 39656651, "question_id": 39652838, "link": "https://stackoverflow.com/questions/39652838/extracting-hex-values-from-line-in-perl/39656651#39656651", "title": "extracting hex values from line in perl", "body": "<p>All of the answers you have so far are correct, but they seem to make things far harder than necessary.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy @hex;\npush @hex, /(0x[0-9a-f]+)/ig while &lt;&gt;;\n\n$\" = ',';\nsay \"@hex\";\n</code></pre>\n\n<p>This is written as a Unix filter (so much more flexible than hard-coding filenames) so it reads from STDIN and writes to STDOUT. Call it like this:</p>\n\n<pre><code>$ ./extract_hex &lt; your_input_txt\n</code></pre>\n\n<p>It's actually possible to simplify even further and lose the intermediate <code>@hex</code> array.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nsay join ',', map { /(0x[0-9a-f]+)/ig } &lt;&gt;;\n</code></pre>\n\n<p>But that might be a little too terse for many people :-)</p>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "accepted_answer_id": 39654683, "answer_count": 4, "score": 0, "last_activity_date": 1474620864, "creation_date": 1474606224, "last_edit_date": 1474610895, "question_id": 39652838, "link": "https://stackoverflow.com/questions/39652838/extracting-hex-values-from-line-in-perl", "title": "extracting hex values from line in perl", "body": "<p>I have a string like this, I need to extract only the hex values from line then copy the hex values in new file.</p>\n\n<p>Input line in file:   </p>\n\n<pre><code>ame (header(...))  0x0D 0x0C 0x4A 0x00 0x01 0x00, 0x02 0x00, 0x0A 0x00,  \n0x04 0x00, 0x04 0x05 0x00 0x001f 0x001f 0x007f 0x00, 0x002b 0x007f 0x0000\n0x00 0x0000 0xffffffaf 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0x00, \n(non_t_crmax 0x0D 0x00,  TDD 0x5D 0x2760 Invalid 0x0000 0x02 0x00, \n(rat_type (rat_type (rat_type (rat_type (rat_type (rat_type (rat_type\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>0x0D, 0x0C, 0x4A, 0x00, 0x01, 0x00, 0x02, 0x00, 0x0A, 0x00, 0x04, 0x00, \n0x04, 0x05,0x00, 0x001f, 0x001f, 0x007f, 0x00, 0x002b, 0x007f, 0x0000, 0x00 \n0x0000, 0xffffffaf,0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x0D, \n0x00,0x5D 0x2760 0x0000 0x02 ,0x00,  \n</code></pre>\n"}, {"tags": ["perl", "year2038"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1474602609, "post_id": 39652264, "comment_id": 66607552, "body": "Is your perl more than 6 years old (older than 5.12)?"}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1474606709, "post_id": 39652693, "comment_id": 66608639, "body": "This is explains the problem, but not how to fix it."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1474605249, "creation_date": 1474605249, "answer_id": 39652693, "question_id": 39652264, "link": "https://stackoverflow.com/questions/39652264/why-perl-cannot-convert-unix-timestamp-over-year-2038/39652693#39652693", "title": "Why perl cannot convert unix timestamp over year 2038?", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Year_2038_problem\" rel=\"nofollow\">Year 2038 problem</a> </p>\n\n<blockquote>\n  <p>The Year 2038 problem is an issue for computing and data storage situations in which time values are stored or calculated as a signed 32-bit integer, and this number is interpreted as the number of seconds since 00:00:00 UTC on 1 January 1970 (\"the epoch\").<a href=\"https://en.wikipedia.org/wiki/Year_2038_problem\" rel=\"nofollow\">1</a> Such implementations cannot encode times after 03:14:07 UTC on 19 January 2038, a problem similar to but not entirely analogous to the \"Y2K problem\" (also known as the \"Millennium Bug\"), in which 2-digit values representing the number of years since 1900 could not encode the year 2000 or later. Most 32-bit Unix-like systems store and manipulate time in this \"Unix time\" format</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 6537675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0567733825ed70a22c92a8abbd2f1235?s=128&d=identicon&r=PG&f=1", "display_name": "Fehan", "link": "https://stackoverflow.com/users/6537675/fehan"}, "edited": false, "score": 0, "creation_date": 1474618466, "post_id": 39652897, "comment_id": 66614109, "body": "Schwern, thanks for this.  I will extract the necessity and convert them in Excel.  thanks for the explanation."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 31, "user_id": 6537675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0567733825ed70a22c92a8abbd2f1235?s=128&d=identicon&r=PG&f=1", "display_name": "Fehan", "link": "https://stackoverflow.com/users/6537675/fehan"}, "edited": false, "score": 3, "creation_date": 1474618669, "post_id": 39652897, "comment_id": 66614220, "body": "@Fehan What does Excel have to do with this?"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 8, "last_activity_date": 1474607033, "last_edit_date": 1474607033, "creation_date": 1474606684, "answer_id": 39652897, "question_id": 39652264, "link": "https://stackoverflow.com/questions/39652264/why-perl-cannot-convert-unix-timestamp-over-year-2038/39652897#39652897", "title": "Why perl cannot convert unix timestamp over year 2038?", "body": "<p>The <a href=\"https://en.wikipedia.org/wiki/Year_2038_problem\">year 2038 bug</a> on 32 bit systems was <a href=\"http://perldoc.perl.org/5.14.1/perl5120delta.html#Y2038-compliance\">worked around in Perl 5.12.0</a> (64 bit systems are unaffected by the 2038 bug). I know because <a href=\"http://perl5.git.perl.org/perl.git?a=search&amp;h=HEAD&amp;st=free&amp;s=y2038\">I did it</a> (with help). :) Simply upgrade your Perl and the problem (and a lot of others) is solved.</p>\n\n<p>Alternatively, use a date library such as <a href=\"http://metacpan.org/pod/DateTime\">DateTime</a>. It does not rely on system time functions (the root of the 2038 bug), is unaffected by the y2038 bug, and is generally much, much easier to use.</p>\n\n<p>If you can't upgrade Perl and <em>must</em> use <code>localtime</code> and <code>gmtime</code>, you can use <a href=\"https://metacpan.org/pod/Time::y2038\">Time::y2038</a> to get versions of those functions unaffected by the 2038 bug.</p>\n"}], "owner": {"reputation": 31, "user_id": 6537675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0567733825ed70a22c92a8abbd2f1235?s=128&d=identicon&r=PG&f=1", "display_name": "Fehan", "link": "https://stackoverflow.com/users/6537675/fehan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1474607033, "creation_date": 1474602486, "last_edit_date": 1474606821, "question_id": 39652264, "link": "https://stackoverflow.com/questions/39652264/why-perl-cannot-convert-unix-timestamp-over-year-2038", "title": "Why perl cannot convert unix timestamp over year 2038?", "body": "<p>I am trying to use below perl command to convert epoch times to readable localtime:</p>\n\n<pre><code>       bash-3.2$ perl -le print\\ scalar\\ localtime\\ 32503651200\n       Thu Mar  9 19:13:52 1911\n</code></pre>\n\n<p>Below year 2038 is possible to be converted correctly, but for year numbers is greater than 2038 I couldn't get expected result.</p>\n\n<p>Please advise how to fix.  Thanks.</p>\n"}, {"tags": ["jquery", "json", "ajax", "perl", "cgi"], "comments": [{"owner": {"reputation": 15122, "user_id": 4452553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TdlCJ.jpg?s=128&g=1", "display_name": "guradio", "link": "https://stackoverflow.com/users/4452553/guradio"}, "edited": false, "score": 0, "creation_date": 1474601373, "post_id": 39652020, "comment_id": 66607259, "body": "add <code>dataType:&#39;json&#39;</code> in ajax"}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "reply_to_user": {"reputation": 15122, "user_id": 4452553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TdlCJ.jpg?s=128&g=1", "display_name": "guradio", "link": "https://stackoverflow.com/users/4452553/guradio"}, "edited": false, "score": 0, "creation_date": 1474601541, "post_id": 39652020, "comment_id": 66607292, "body": "tried, still not successful"}, {"owner": {"reputation": 30794, "user_id": 1906356, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nOR-lGSM4OQ/AAAAAAAAAAI/AAAAAAAAAKc/JK3VzYOOB-I/photo.jpg?sz=128", "display_name": "madalinivascu", "link": "https://stackoverflow.com/users/1906356/madalinivascu"}, "edited": false, "score": 0, "creation_date": 1474603115, "post_id": 39652020, "comment_id": 66607677, "body": "open the ajaxed page in a browser window and see the errors , i think to_json can&#39;t convert a string to json, better use a array"}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "edited": false, "score": 0, "creation_date": 1474604525, "post_id": 39652020, "comment_id": 66608048, "body": "Yup..that&#39;s the problem. I used an array and encode_json instead and  it works now"}], "owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1474601001, "creation_date": 1474600691, "last_edit_date": 1474601001, "question_id": 39652020, "link": "https://stackoverflow.com/questions/39652020/getting-json-response-from-cgi-doesnt-work-with-ajax", "title": "Getting json response from CGI doesn&#39;t work with AJAX", "body": "<p>My JS code is like this. I am basically testing to get a json response back from CGI. But what I get is \"failed\". Looks like cgi is not properly opened</p>\n\n<pre><code>    $.ajax({\n        url     : 'perl.cgi',\n        method  : 'post',\n        data    : \"username=\" + name + \"&amp;birthday=\" + birthday,\n        success : function(response) {\n            alert(response);\n        },\n        error: function (request) {\n            alert(\"failed\");\n        }\n    });\n</code></pre>\n\n<p>My CGI:</p>\n\n<pre><code>use CGI;\nuse strict;\nuse warnings;\nuse JSON;\n\nmy $cgi = CGI-&gt;new;\nmy $word = 'hey';\nprint $cgi-&gt;header('application/json');\nprint to_json($word);\n</code></pre>\n\n<p>If I use <code>print $cgi-&gt;header('text/plain;charset=UTF-8');</code>, the call will be successful but nothing shows in my alert from <code>alert(response)</code>.</p>\n\n<p>Any suggestion?</p>\n"}, {"tags": ["arrays", "perl", "duplicates", "unique"], "answers": [{"tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": false, "score": 2, "last_activity_date": 1474605216, "last_edit_date": 1474605216, "creation_date": 1474604253, "answer_id": 39652560, "question_id": 39651988, "link": "https://stackoverflow.com/questions/39651988/how-do-i-separate-unique-and-duplicate-items-from-two-arrays-in-perl/39652560#39652560", "title": "How do I separate unique and duplicate items from two arrays in perl?", "body": "<p>This should do the job:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @original = qw/foo bar hello world foo bar f00 bar barr/; # = array with input data\nmy %uniques;\nmy @dupes = grep $uniques{$_}++, @original;\n\nprint \"unique:    \";\nprint join ', ', keys %uniques; # output unique elements\n\nprint \"\\nduplicate: \";\nprint join ', ', @dupes; # output duplicate elements\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>unique:    foo, barr, hello, f00, world, bar\nduplicate: foo, bar , bar\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>With <code>grep</code> you look at each array element in <code>@original</code>. Each element (temporary placed in <code>$_</code>) is inserted into the hash <code>%uniques</code> as a key. A hash doesn't allow to have multiple keys with the same name in it, so that's how you get rid of the duplicates.</p>\n"}, {"tags": [], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1494345537, "creation_date": 1494345537, "answer_id": 43874641, "question_id": 39651988, "link": "https://stackoverflow.com/questions/39651988/how-do-i-separate-unique-and-duplicate-items-from-two-arrays-in-perl/43874641#43874641", "title": "How do I separate unique and duplicate items from two arrays in perl?", "body": "<p>Below program will iterate over <code>@original</code> and will make two new arrays, each for unique and duplicate respectively. Duplicate will contain the element <code>n</code> times, if its repeated <code>n</code> times in array.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @original = qw/foo bar hello world foo bar f00 bar barr/; # = array with input data\n\nmy %hash = ();\nmap {$hash{$_}++} @original;\nmy (@uniques, @duplicates) = ((), ());\nfor my $key (keys %hash) {\n    if ($hash{$key} == 1) {\n        push (@uniques, $key);\n    } else {\n        push (@duplicates, $key) for (1..$hash{$key});\n    }\n}\nprint \"@uniques\\n\";\nprint \"=============\\n\";\nprint \"@duplicates\\n\";\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6867914"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1494345537, "creation_date": 1474600450, "question_id": 39651988, "link": "https://stackoverflow.com/questions/39651988/how-do-i-separate-unique-and-duplicate-items-from-two-arrays-in-perl", "title": "How do I separate unique and duplicate items from two arrays in perl?", "body": "<p>I have this program and I think I'm close but I can't figure out where to go from here.  I have entered the loop where I am currently trying to get rid of duplicate numbers from the unique array and enter them into the duplicate array.  I think I need to use a hash but am unsure on how to go about it.  Any help would be appreciated.</p>\n\n<pre><code>while ($second != -1){\n    $second = &lt;STDIN&gt;;\n    chomp $second;\n    @second[$j] = $second;\n    @unique[$j+$i-1] = $second;\n    while($x&lt;10){\n        if($second == @unique[$x]){\n            @duplicate[$x]=$second;\n            pop @unique;\n        }\n        $x++;\n    }\n    $x=0;\n    $j++;\n}\npop @second;\npop @unique;\n</code></pre>\n"}, {"tags": ["perl", "sqlite", "template-toolkit", "dancer"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1474589394, "post_id": 39650601, "comment_id": 66604666, "body": "it&#39;s been a while, but could this be a case of case-sensitivity? I see that in the <code>TT</code> template you have lower-case, but in the hashref, you have upper-case. MS has a history of not caring or deciphering..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474621285, "post_id": 39650601, "comment_id": 66615732, "body": "Side-question: Why not use DBIC and let that take care of your switching needs?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474621434, "post_id": 39650601, "comment_id": 66615813, "body": "I second @stevieb &#39;s idea. What does the datastructure look like that comes of the MSSQL query?"}, {"owner": {"reputation": 21, "user_id": 6867334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mojvf.jpg?s=128&g=1", "display_name": "Our Man in India", "link": "https://stackoverflow.com/users/6867334/our-man-in-india"}, "edited": false, "score": 0, "creation_date": 1474711102, "post_id": 39650601, "comment_id": 66650460, "body": "Thanks a ton! It was indeed cases sensitivity in SQLite which was not there with MS_SQL."}], "owner": {"reputation": 21, "user_id": 6867334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mojvf.jpg?s=128&g=1", "display_name": "Our Man in India", "link": "https://stackoverflow.com/users/6867334/our-man-in-india"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1474588819, "creation_date": 1474588819, "question_id": 39650601, "link": "https://stackoverflow.com/questions/39650601/issues-using-code-after-exporting-mssql-to-sqllite", "title": "issues using code after exporting mssql to sqllite", "body": "<p>I am trying to shift a website from using a MS-SQL database to SQLite. I have therefore exported the MS-SQL database to SQLite and connected it successfully with Dancer, the lightweight Perl web framework which uses Template Toolkit.</p>\n\n<p>I now have an issue with the FOREACH loops. Data is being passed as usual - as tested with the debug to_dumper($test) statement - but TT does not show it. Are you aware of any differences between MS-SSQL and SQLite? Other FOREACH loops also appear to have the same non display of data issue.</p>\n\n<p>Any ideas are much appreciated!</p>\n\n<p>a tail on the data passed is:</p>\n\n<pre><code>{\n    'OneLiner' =&gt; 'Cruise on the Kerala backwaters',\n    'Meta_Descr' =&gt; 'Get inspired by the trip ideas on our Traveller\\'s Palm website. We are passionate about India and will be delighted to help you in designing your own tailor-made tour.',\n    'PageName' =&gt; 'Popular Tours',\n    'Introduction' =&gt; 'Tried and tested by thousands of clients over thirty years, these tours are the classics that always deliver. Tweaked and perfected based on our clients\\' feedback these tours give you that perfect introduction to India or are the quickest way to travel between your old favourites. Rajasthan, Kerala, Goa and North India all feature on these tours and with good reason.\n\n  We\\'d also be happy to make any personalized changes or additions to these itineraries if you so choose and add your personal twist to these well-loved highlights.',\n    'Meta_Title' =&gt; 'Popular Tours - Experience India | Traveller\\'s Palm',\n    'url' =&gt; 'popular-tours',\n    'Themes_id' =&gt; 7,\n    'Meta_Keywords' =&gt; 'popular holidays india, tailor-made popular india tours, popular india custom tour'\n  },\n  {\n    'Meta_Title' =&gt; 'Romance - Experience India | Traveller\\'s Palm',\n    'Introduction' =&gt; 'Muslin draped four poster bed or a gently moving boat in the tropical backwaters? Tracking a tiger or exploring a working farm? Your romantic getaway can be what you want it to be; a sybaritic time with your beloved or an active and adventurous time shared with your spouse.',\n    'Meta_Descr' =&gt; 'Get inspired by the trip ideas on our Traveller\\'s Palm website. We are passionate about India and will be delighted to help you experience the romance of travel in India.',\n    'PageName' =&gt; 'Romance',\n    'OneLiner' =&gt; 'Looking for a romantic getaway',\n    'Meta_Keywords' =&gt; 'romantic holidays india, tailor-made india romantic holidays, india honeymoon tour',\n    'Themes_id' =&gt; 12,\n    'url' =&gt; 'romance'\n  }\n]; in /home/user/webapps/travelo/lib/xxx/MemcacheDB.pm l. 1483\n</code></pre>\n\n<p>the memcached query is identical as used with the MS-SQL based site:</p>\n\n<pre><code>sub themes {\nreturn memcached_get_or_set('themes',sub {\nmy $qry =  \"SELECT pagename,introduction,url, oneliner,\n                    meta_title,meta_descr,meta_keywords,themes_id\n             FROM themes\";\n\nmy $test = database('sqlserver')\n            -&gt;selectall_arrayref( $qry, { Slice =&gt; {} } );\ndebug to_dumper($test);\nreturn $test;\n});\n}\n</code></pre>\n\n<p>The relevant html section in TT is:</p>\n\n<pre><code>    &lt;ul class=\"slides image-box style1\"&gt;\n      [% FOREACH theme in themes %]\n      &lt;li&gt;\n        &lt;article class=\"box\"&gt;\n          &lt;figure&gt;\n            &lt;a class=\"hover-effect\" title=\"[% theme.title %]\" href=\"[% request.uri_base %]/destinations/[% country %]/[% THEMES %]/[% theme.url %]\"&gt;\n             &lt;img width=\"270\" height=\"160\" alt=\"\" src=\"[% IMAGE %]/themes/themes_[% theme.themes_id %].jpg\" /&gt;\n           &lt;/a&gt;\n         &lt;/figure&gt;\n         &lt;div class=\"details\"&gt;\n          &lt;h4 class=\"box-title\"&gt;[% theme.pagename %]&lt;/h4&gt;\n        &lt;/div&gt;\n      &lt;/article&gt;\n    &lt;/li&gt;\n    [% END %]\n  &lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["perl", "memory", "goto"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 6, "creation_date": 1474579689, "post_id": 39649123, "comment_id": 66601671, "body": "<a href=\"http://www.perlmonks.org/?node_id=1159029\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1159029</a> can help"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474583493, "post_id": 39649123, "comment_id": 66603089, "body": "In Perl, if you don&#39;t create any circular dependencies (ie. references to things that point back at themselves) that you manually purge, everything is cleaned up (automatic garbage collection) when the current scope exits. The final scope is the script file itself."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 4, "creation_date": 1474583661, "post_id": 39649123, "comment_id": 66603151, "body": "all that said, I&#39;d recommend structuring code in a way that doesn&#39;t need <code>goto</code> (it&#39;s pretty easy). If in a loop, we have <code>next</code> and <code>last</code>."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474583879, "post_id": 39649123, "comment_id": 66603229, "body": "@stevieb I&#39;m not intending to use <code>goto</code> in my code, just wondering :) But what if we have a label and we <code>goto</code> it inside the same scope and in between we declare a variable? That&#39;s a bit unclear to me"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474584009, "post_id": 39649123, "comment_id": 66603263, "body": "capiche. Just putting it out there for others :) ++ on the question."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 9, "creation_date": 1474596156, "post_id": 39651236, "comment_id": 66606094, "body": "not a leak, since perl doesn&#39;t lose track of the memory, and will free it all at scope exit."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1474745084, "post_id": 39651236, "comment_id": 66660565, "body": "just to make sure I got this, in your example, Perl will still track all the <code>my $x</code>s for each <code>goto</code> and in this case, will eventually fill all the available memory?"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1474833911, "post_id": 39651236, "comment_id": 66681845, "body": "yonyon100: it seems so, yes. I only ran the first example for about 1 minute, and memory use continued to climb."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": true, "score": 2, "last_activity_date": 1474733996, "last_edit_date": 1474733996, "creation_date": 1474594422, "answer_id": 39651236, "question_id": 39649123, "link": "https://stackoverflow.com/questions/39649123/can-goto-label-cause-a-memory-leak/39651236#39651236", "title": "Can `goto LABEL` cause a memory leak?", "body": "<p>After 1 minute of testing, the answer seems to be: <del>yes</del> <strong>no</strong> (see update below)</p>\n\n<p>Watching <code>top</code> while this is running, <code>%MEM</code> continually increments</p>\n\n<pre><code>{\n    THIS:\n    my $x = 1;\n    goto THIS;\n}\n</code></pre>\n\n<p>This does not exhibit the same incrementing <code>%MEM</code> counter</p>\n\n<pre><code>while (1) {\n    my $x = 1;\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I misunderstood the question. My take on the question was whether memory would be allocated for a lexical variable that already existed in that lexical scope with the use of a <code>goto</code>, and my test seems to say yes. Strictly speaking, this is not a memory leak. Should perl ever exit this lexical scope, the allocated space would be released.</p>\n"}], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 39651236, "answer_count": 1, "score": 11, "last_activity_date": 1474733996, "creation_date": 1474579528, "last_edit_date": 1474580733, "question_id": 39649123, "link": "https://stackoverflow.com/questions/39649123/can-goto-label-cause-a-memory-leak", "title": "Can `goto LABEL` cause a memory leak?", "body": "<p>Can using <code>goto</code> with labels cause memory leaks? All I found in the <a href=\"http://perldoc.perl.org/functions/goto.html\" rel=\"noreferrer\">documentation for <code>goto</code></a> that seems relevant is:</p>\n\n<blockquote>\n  <p>The <code>goto LABEL</code> form finds the statement labeled with LABEL and resumes execution there.</p>\n</blockquote>\n\n<p>Is it safe to use <code>goto LABEL</code>?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1474575937, "post_id": 39646075, "comment_id": 66599917, "body": "Also, the <code>strftime</code> call is less error prone because you don&#39;t have to remember that quirky <code>+1900</code> and <code>+1</code> stuff."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1474569692, "last_edit_date": 1474569692, "creation_date": 1474567884, "answer_id": 39646075, "question_id": 39645806, "link": "https://stackoverflow.com/questions/39645806/using-posixstrftime-vs-localtime-some-custom-formatting-to-generate-a-times/39646075#39646075", "title": "Using POSIX::strftime vs. localtime + some custom formatting to generate a timestamp in perl", "body": "<p>If we clean up your code snippets and make them portable (by avoiding <code>%F</code> and <code>%T</code>), we get</p>\n\n<pre><code>use POSIX qw( strftime );\nmy $timestamp = strftime('%Y-%m-%d %H:%M:%S', localtime);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my ($sec, $min, $hour, $day, $month, $year) = localtime;\nmy $timestamp = sprintf(\"%d-%02d-%02d %02d:%02d:%02d\",\n   $year+1900, $month+1, $day, $hour, $min, $sec);\n</code></pre>\n\n<p>I would use the former because it's much simpler. This is true regardless of the OS.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474569424, "post_id": 39646371, "comment_id": 66596319, "body": "<code>&#39;%F %T</code> doesn&#39;t work with this for me either. But I don&#39;t think it&#39;s a wrapper. In <a href=\"https://metacpan.org/source/ESAYM/Time-Piece-1.31/Piece.pm#L613\" rel=\"nofollow noreferrer\">metacpan.org/source/ESAYM/Time-Piece-1.31/Piece.pm#L613</a> it says <i>we don&#39;t want to load POSIX</i>. I&#39;m trying to figure out how it works right now."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1474569873, "post_id": 39646371, "comment_id": 66596541, "body": "<a href=\"http://stackoverflow.com/q/18970859/176646\">Why does Perl&#39;s POSIX::strftime %F specifier not work on Windows?</a> (neither <code>%F</code> nor <code>%T</code> is portable)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474570030, "post_id": 39646371, "comment_id": 66596614, "body": "It doesn&#39;t use the POSIX version. It&#39;s built in C and attached with XS, and it loads a header file named <i>time.h</i> <a href=\"https://metacpan.org/source/ESAYM/Time-Piece-1.31/Piece.xs#L8\" rel=\"nofollow noreferrer\">in Piece.xs</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1474570974, "post_id": 39646371, "comment_id": 66597156, "body": "That doesn&#39;t contradict what I said. In fact, I just confirmed the guess I had previously stated: <code>%F</code> and <code>%T</code> as supported by neither POSIX nor Time::Piece because <code>POSIX::strftime</code> and <code>Time::Piece</code>&#39;s <code>strftime</code> both call the same function (C&#39;s <code>strftime</code>). That makes <code>use Time::Piece; my $timestamp = localtime-&gt;strftime(&#39;%Y-%m-%d %H:%M:%S&#39;);</code> nothing more than a more complex version of <code>use POSIX qw( strftime ); my $timestamp = strftime(&#39;%Y-%m-%d %H:%M:%S&#39;, localtime);</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1474643210, "last_edit_date": 1495541304, "creation_date": 1474568893, "answer_id": 39646371, "question_id": 39645806, "link": "https://stackoverflow.com/questions/39645806/using-posixstrftime-vs-localtime-some-custom-formatting-to-generate-a-times/39646371#39646371", "title": "Using POSIX::strftime vs. localtime + some custom formatting to generate a timestamp in perl", "body": "<p><strong>This is an alternative solution</strong> that uses the same underlying C library as the solutions <a href=\"https://stackoverflow.com/a/39646075/1331451\">ikegami explained</a>. I have not done any benchmarking to see which one is faster or more efficient.</p>\n\n<p>You can <em>also</em> use <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a>, which has been in core since Perl 5.10. It upgrades the return value of <code>localtime</code> to an object with handy methods. You can use those directly on the return value without assigning it to a variable.</p>\n\n<pre><code>use Time::Piece;\nmy $timestamp = localtime-&gt;strftime('%Y-%m-%d %H:%M:%S');\n   # Neither %F nor %T work on Windows.\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 1856455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab4ad74c360c729f4760221135724b5?s=128&d=identicon&r=PG", "display_name": "Mayank Sharma", "link": "https://stackoverflow.com/users/1856455/mayank-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1474643210, "creation_date": 1474566943, "question_id": 39645806, "link": "https://stackoverflow.com/questions/39645806/using-posixstrftime-vs-localtime-some-custom-formatting-to-generate-a-times", "title": "Using POSIX::strftime vs. localtime + some custom formatting to generate a timestamp in perl", "body": "<p>I'm trying to generate a timestamp based on system time in perl in \"YYYY-MM-DD HH:MM:SS\" format and currently using the POSIX module to do that:</p>\n\n<pre><code>require POSIX;\n$timestamp = POSIX::strftime('%F %T', localtime);\n</code></pre>\n\n<p>There is an alternative to this which is a little more primitive:</p>\n\n<pre><code>my ($s,$min,$h,$d,$m,$y) = (localtime)[0..5];\n$y += 1900;\n$m   = sprintf('%.2d', ++$m);\n$d   = sprintf('%.2d', $d);\n$h   = sprintf('%.2d', $h);\n$min = sprintf('%.2d', $min);\n$s   = sprintf('%.2d', $s);\n$timestamp = \"$y-$m-$d $h:$min:$s\";\n</code></pre>\n\n<p>All I need is to generate the timestamp in the above format but cannot decide which approach to use. This code is expected to run on multiple platforms (including Linux) and at a reasonably high frequency. I am thinking of using $^O to evaluate the OS name and using the former for Linux and latter for all else.</p>\n\n<p>What are the benefits/drawbacks of each (other than more lines of code obviously). I'd be grateful if someone more knowledgeable in Perl could point me in the right direction. I have searched over the internet and perldocs but could not find the answer. It would be very helpful if someone can answer this directly or point me to a resource (website/blog/book) that could help me with this.</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["perl", "unix", "timestamp", "ext4"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474568060, "post_id": 39645621, "comment_id": 66595534, "body": "<code>$t0-$fs, &quot; &quot;, $t1-$fs</code> show that both $t0 and $t1 are very close to each other, and far ahead of $fs"}], "answers": [{"tags": [], "owner": {"reputation": 38146, "user_id": 533399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Pem8D.jpg?s=128&g=1", "display_name": "DhruvPathak", "link": "https://stackoverflow.com/users/533399/dhruvpathak"}, "is_accepted": true, "score": 5, "last_activity_date": 1474572321, "last_edit_date": 1474572321, "creation_date": 1474567839, "answer_id": 39646063, "question_id": 39645621, "link": "https://stackoverflow.com/questions/39645621/why-are-these-timestamps-out-of-order-with-perl-timehires/39646063#39646063", "title": "Why are these timestamps out of order with Perl Time::HiRes?", "body": "<p>This might be because of a difference in the precision of both timestamps as mentioned in the doc <a href=\"http://perldoc.perl.org/Time/HiRes.html#stat\" rel=\"nofollow\">here</a>:</p>\n\n<blockquote>\n  <p>As stat or lstat but\n  with the access/modify/change file timestamps in subsecond resolution,\n  if the operating system and the filesystem both support such\n  timestamps. To override the standard stat():</p>\n\n<pre><code>use Time::HiRes qw(stat);\n</code></pre>\n  \n  <p>Test for the value of &amp;Time::HiRes::d_hires_stat to find out whether the operating system\n  supports subsecond file timestamps: a value larger than zero means\n  yes. There are unfortunately no easy ways to find out whether the\n  filesystem supports such timestamps. UNIX filesystems often do; NTFS\n  does; FAT doesn't (FAT timestamp granularity is <strong>two</strong> seconds).</p>\n  \n  <p>A zero\n  return value of &amp;Time::HiRes::d_hires_stat means that\n  Time::HiRes::stat is a no-op passthrough for CORE::stat() (and\n  likewise for lstat), and therefore the timestamps will stay integers.\n  The same thing will happen if the filesystem does not do subsecond\n  timestamps, even if the &amp;Time::HiRes::d_hires_stat is non-zero.</p>\n  \n  <p>In any\n  case do not expect nanosecond resolution, or even a microsecond\n  resolution. Also note that the modify/access timestamps might have\n  different resolutions, and that they need not be synchronized, e.g. if\n  the operations are</p>\n\n<pre><code>write\nstat # t1\nread\nstat # t2\n</code></pre>\n  \n  <p>the access time stamp from t2 need not be greater-than the modify\n  time stamp from t1: it may be equal or <em>less</em>.</p>\n</blockquote>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 39646063, "answer_count": 1, "score": 5, "last_activity_date": 1474652320, "creation_date": 1474566334, "last_edit_date": 1474652320, "question_id": 39645621, "link": "https://stackoverflow.com/questions/39645621/why-are-these-timestamps-out-of-order-with-perl-timehires", "title": "Why are these timestamps out of order with Perl Time::HiRes?", "body": "<p>I'm seeing some strange behaviour with the timestamp reported by Perl's <code>Time::HiRes</code> module.</p>\n\n<p>I have a script that gets three timestamps:</p>\n\n<ol>\n<li>Get timestamp with <code>Time::HiRes::time</code></li>\n<li>Create a new file, and get its modification time with <code>Time::HiRes::stat</code></li>\n<li>Get timestamp with <code>Time::HiRes::time</code></li>\n</ol>\n\n<p>I'd expect the timestamps to be ordered<code>1 &lt; 2 &lt; 3</code>, however this isn't always the case; often (but not always), the time reported by <code>stat</code> in 2. is <em>before</em> the timestamp from 1.. </p>\n\n<p>I'm on an Ext4 filesystem. Here's an experiment:</p>\n\n<pre><code>use Time::HiRes qw/ time stat /;\n\nwhile( 1 ){\n    # t0\n    my $t0 = time;\n\n    # Create a file\n    my $f = '/tmp/dummy.test';\n    open(my $fh, '&gt;', $f) || die;\n    print $fh \"hi\\n\";\n    close($fh) || die;\n\n    # FS: file modification time, according to the filestystem\n    my $fs = (stat($f))[9];\n\n    # t1\n    my $t1 = time;\n\n    ## Report how the timestamps relate to each other\n    # A. All good\n    if( $t0 &lt; $fs &amp;&amp; $fs &lt; $t1 ){\n       print \"$t1,0\\n\";\n    }\n    # B. FS before t0\n    elsif( $t0 &gt; $fs &amp;&amp; $fs &lt; $t1 ){\n       print \"$t1,1\\n\";\n    }\n    # C. FS after t1\n    elsif( $t0 &lt; $fs &amp;&amp; $fs &gt; $t1 ){\n       print \"$t1,2\\n\";\n    }\n    # D. this should never happen (t0 and t1 probably can't flip)\n    elsif( $t0 &gt; $fs &amp;&amp; $fs &gt; $t1 ){\n       print \"$t1,3\\n\";\n    }\n}\n</code></pre>\n\n<p>Here are the results of letting the above loop run for a few seconds. where the blue points on the bottom are incidents of the \"correct\" behaviour. More often than not, I get condition <code>B</code>, where the modification time from <code>stat</code> is <em>before</em> the first timestamp. </p>\n\n<p><a href=\"https://i.stack.imgur.com/9J5F0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9J5F0.png\" alt=\"enter image description here\"></a></p>\n\n<p>What could explain this behaviour?</p>\n\n<p><strong>Update:</strong> Here's a plot of the timestamp lags for the fist 2000 iterations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mRHAM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mRHAM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["sql-server", "perl", "stored-procedures", "dbi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474557639, "post_id": 39642918, "comment_id": 66589231, "body": "Can you give examples of what a query you&#39;re doing would look like, and of the output? It might help others google for a solution."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474558019, "post_id": 39642918, "comment_id": 66589513, "body": "<code>fetchrow_array</code> only returns a single row (hence the name). What happens if you do <code>while (my @row = $sth-&gt;fetchrow_array) { print &quot;@row\\n&quot;; }</code>"}, {"owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1474558094, "post_id": 39642918, "comment_id": 66589576, "body": "i am doing <code>while (my @aData = $rQuery-&gt;fetchrow_array()) {       print $rOutputHandler join(&#39;,&#39;,@aData).&quot;\\n&quot;;     }</code>"}, {"owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1474562132, "post_id": 39642918, "comment_id": 66592331, "body": "Which database are you working with? Try fetching the rows as hashes (since the status of stored procedure is bound to come out with a different key than the column names of your rows)."}], "answers": [{"tags": [], "owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "is_accepted": false, "score": 1, "last_activity_date": 1474562406, "creation_date": 1474562406, "answer_id": 39644521, "question_id": 39642918, "link": "https://stackoverflow.com/questions/39642918/difference-between-fetchrow-array-and-fetchall-arrayref-when-working-with-stored/39644521#39644521", "title": "Difference between fetchrow_array and fetchall_arrayref when working with stored procedures", "body": "<p>Depending on which database type you are working with (and depending on the Perl DBD driver), it is likely that you are getting multiple result sets.</p>\n\n<p>There is a way for processing multiple result sets (For ex., if you have executed two statements which have resulted in two result sets; and you want both of them). </p>\n\n<p>Look <a href=\"http://infocenter.sybase.com/help/index.jsp?topic=/com.sybase.infocenter.dc01776.1604/doc/html/san1357754965430.html\" rel=\"nofollow\">here</a> for sample code.</p>\n\n<p>Since, in your case, you want to ignore the status of the stored procedure, you may feel it convenient just to fetch the results as hashes (all rows in one pull OR each one one by one), and then use the names of the columns to get the data.</p>\n"}], "owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1474562406, "creation_date": 1474557530, "last_edit_date": 1474557911, "question_id": 39642918, "link": "https://stackoverflow.com/questions/39642918/difference-between-fetchrow-array-and-fetchall-arrayref-when-working-with-stored", "title": "Difference between fetchrow_array and fetchall_arrayref when working with stored procedures", "body": "<p>I have recently used both to fetch result of a stored procedure. I have noticed that fetchrow_array returns the output of rows I select inside the stored procedure. Whereas fetchall_arrayref returns status of the stored procedure in the last row, along with selected rows in stored procedure.</p>\n\n<p>Why we have this difference and is there a way to avoid getting the status of stored procedure inside fetchall_arrayref?</p>\n\n<p>My stored Procedure</p>\n\n<pre><code>    CREATE PROCEDURE [dbo].[check_date_proc]\n       @dateStart DATETIME\nAS\nBEGIN\nSELECT\n       check_date\nFROM\n       date_Table\n\nWHERE\n       data_date = @dateStart\nEND;\n\nGO\n</code></pre>\n\n<p>and i call it like this </p>\n\n<pre><code>exec check_date_proc '20160920';\n</code></pre>\n\n<p>fetchrow_array returns</p>\n\n<pre><code>20160920\n</code></pre>\n\n<p>fetchall_arrayref returns</p>\n\n<pre><code>20160920\n0\n</code></pre>\n\n<p>Thanks</p>\n"}]