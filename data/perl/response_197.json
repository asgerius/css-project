[{"tags": ["perl", "server", "system", "admin"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1539815807, "post_id": 52864424, "comment_id": 92643341, "body": "There are a number of ways you can track machines from HTTP requests: remote IP and cookies being the most common. You can&#39;t see the requester&#39;s environment, only what they send and where they send it from."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1539818323, "post_id": 52864424, "comment_id": 92643981, "body": "I think this is too broad; there are various ways of identifying users (cookies, email address, credit card number). You can even go as far as blocking whole IP addresses or ranges, like Wikipedia sometimes does. It will depend on how much effort you want to spend and how bad false classifications are."}, {"owner": {"reputation": 47, "user_id": 6437905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0148e34a275395e33da0c81d21292357?s=128&d=identicon&r=PG&f=1", "display_name": "Fred Garvin", "link": "https://stackoverflow.com/users/6437905/fred-garvin"}, "edited": false, "score": 0, "creation_date": 1539824244, "post_id": 52864424, "comment_id": 92645125, "body": "We&#39;ve deleted all relevant cookies for this site. So they aren&#39;t relying on cookies. I was hoping to be able to identify machine ID, Serial Number,  Hardware UUID or similar. Guess not."}], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": true, "score": 2, "last_activity_date": 1540408306, "last_edit_date": 1540408306, "creation_date": 1539844123, "answer_id": 52868153, "question_id": 52864424, "link": "https://stackoverflow.com/questions/52864424/identifying-machine-user-id-perl/52868153#52868153", "title": "Identifying Machine/User ID Perl", "body": "<p>I understand you correctly, that your client is using computers A and B inside the same network so that the requests come from the same IP, correct?</p>\n\n<p>On the server side - this is what you are doing - you can only identify a user by their IP address. Everything else (cookies, user agent information, language preferences, ...) is sent on a voluntary basis and unreliable.</p>\n\n<p>Repeat your experiment with JavaScript disabled and the remote side will probably fail to identify the user. With JavaScript you can collect an astonshing amout of information about the user's hard- and software: OS, plug-ins installed, fonts installed, screen resolution, properties of the graphics hardware (by painting to a canvas and analyzing the result), properties of the audio hardware, and lots of other stuff. See <a href=\"https://github.com/Valve/fingerprintjs2\" rel=\"nofollow noreferrer\">https://github.com/Valve/fingerprintjs2</a> for an impression of what is possible.</p>\n\n<p>You can then send all that information in an AJAX request back to the server and react upon it. But this approach is also inherently limited:</p>\n\n<ol>\n<li>The user may disable JavaScript (although you can avoid that by requiring JavaScript for the registration process).</li>\n<li>The user may manipulate the information sent.</li>\n<li>The user may block AJAX calls or this particular AJAX call.</li>\n</ol>\n\n<p>But practice shows that this approach is quite successful.</p>\n"}], "owner": {"reputation": 47, "user_id": 6437905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0148e34a275395e33da0c81d21292357?s=128&d=identicon&r=PG&f=1", "display_name": "Fred Garvin", "link": "https://stackoverflow.com/users/6437905/fred-garvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 52868153, "answer_count": 1, "score": 0, "last_activity_date": 1540408306, "creation_date": 1539814874, "last_edit_date": 1539847376, "question_id": 52864424, "link": "https://stackoverflow.com/questions/52864424/identifying-machine-user-id-perl", "title": "Identifying Machine/User ID Perl", "body": "<p>There is a web site that has banned a client of mine. If he signs up for an account at this site with computer 'A' his account is immediately cancelled. If he signs up for an account with computer 'B' there's not a problem. (the site is unable to identify him)\nI would like to be able to do this with my site. (ie: identify a user by his computer) I can identify environmental variables but this doesn't seem to be what this site is using. \nI'm not sure how to even tag this question. Any help is appreciated. </p>\n\n<pre><code>#!/usr/local/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\nprint \"&lt;pre&gt;\\n\";\n\nforeach my $key (sort keys(%ENV)) {\nprint \"$key = $ENV{$key}&lt;p&gt;\";\n}\nprint \"&lt;/pre&gt;\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "search"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1539802686, "post_id": 52861581, "comment_id": 92638117, "body": "Tip: <code>for</code>/<code>foreach my $entry (@phoneBook)</code> is easier to read and less error-prone."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "is_accepted": false, "score": 1, "last_activity_date": 1539801828, "creation_date": 1539801828, "answer_id": 52861635, "question_id": 52861581, "link": "https://stackoverflow.com/questions/52861581/perl-regex-finding-value-too-small-and-appending/52861635#52861635", "title": "Perl Regex finding value too small and appending", "body": "<p>The issue was I was using the substitute rather than the match tag in the line.</p>\n\n<pre><code>$splitIndex[1] =~ s/^(\\d{3})-(\\d{4})//\n</code></pre>\n\n<p>To </p>\n\n<pre><code>$splitIndex[1] =~ m/^(\\d{3})-(\\d{4})/\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539849618, "creation_date": 1539801645, "last_edit_date": 1539849618, "question_id": 52861581, "link": "https://stackoverflow.com/questions/52861581/perl-regex-finding-value-too-small-and-appending", "title": "Perl Regex finding value too small and appending", "body": "<p>I am working on an assignment which requires me to read in a bunch of names and phonebook and essentially create a search that works much like the dialer on your phone. If a number only consists of xxx-xxxx then an area code should be appended. I am successfully able to pick out strings that consist of xxx-xxxx but when I try to print that string I just get an empty line. When I call the previous index, it successful prints out the name.</p>\n\n<pre><code>foreach my $i (0 .. $#phoneBook) {\n    my @splitIndex = split(':', $phoneBook[$i]); #index 0 and 1 of splitIndex\n    #If the length of the number is too short append the 701 before\n    if($splitIndex[1] =~ s/^(\\d{3})-(\\d{4})//) {\n      print \"$splitIndex[1]\\n\";\n    }\n    foreach my $j (0 .. $#splitIndex) {\n      #print \"$splitIndex[$j]\";\n    }\n    if(($splitIndex[0] =~ /$searchValue/i) || ($splitIndex[1] =~ /$searchValue/i)) {\n      #print \"Found\\n\";\n    } else {\n      #print \"Not Found $searchValue\\n\";\n    }\n  }\n</code></pre>\n\n<p>In my file, the text John:888-8888 is saved in my phoneBook array. But when I call splitIndex[1] (the phone number) I get an empty line.</p>\n"}, {"tags": ["perl", "batch-file", "ssh", "cisco"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10519087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f2ee080c12cc5836d915db69d8cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "thedustytexan", "link": "https://stackoverflow.com/users/10519087/thedustytexan"}, "edited": false, "score": 0, "creation_date": 1539800775, "post_id": 52858170, "comment_id": 92637178, "body": "Thanks! I looked at Net::SSH2 when I was researching Windows compatible alternatives to Net::SSH:Expect, but unfortunately with little to no knowledge of the language I&#39;m afraid I&#39;m lost looking at your code. I already have Strawberry Perl installed, and I&#39;m taking some beginner courses to get my bearings. In the meantime I am still tinkering with batch files and Putty and praying I make a breakthrough!"}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 0, "last_activity_date": 1539789087, "creation_date": 1539789087, "answer_id": 52858170, "question_id": 52857924, "link": "https://stackoverflow.com/questions/52857924/batch-file-to-ssh-cisco-phone-and-reboot-it/52858170#52858170", "title": "Batch file to SSH Cisco phone and reboot it", "body": "<p>If you are on Windows, take a look at <a href=\"https://metacpan.org/pod/Net::SSH2\" rel=\"nofollow noreferrer\">Net::SSH2</a>, which comes included with Strawberry Perl. Using it, you should be able to talk to your IP phones:</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\nuse Net::SSH2;\n\nmy $ssh2 = Net::SSH2-&gt;new();\n\n$ssh2-&gt;connect('example.com') or $ssh2-&gt;die_with_error;\n\nif ($ssh2-&gt;auth_password($debuglogin, $debugpassword)) {\n    my $chan = $ssh2-&gt;channel();\n    $chan-&gt;shell();\n    while (!$channel-&gt;eof) {\n        if (my ($o, $e) = $channel-&gt;read2) {\n            $out .= $o;\n            $err .= $e;\n        } else {\n            $ssh2-&gt;die_with_error;\n        }\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10519087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f2ee080c12cc5836d915db69d8cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "thedustytexan", "link": "https://stackoverflow.com/users/10519087/thedustytexan"}, "edited": false, "score": 0, "creation_date": 1539800462, "post_id": 52860353, "comment_id": 92637033, "body": "Thanks for the reply. After running that format, I get a flash of a cmd window before it closes, and the output.txt is blank. In previous iterations I couldn&#39;t make the &quot;-m&quot; work, it only ran when I used &lt;"}, {"owner": {"reputation": 851, "user_id": 2956477, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3a9d27d28b362af4521f2f508e278990?s=128&d=identicon&r=PG&f=1", "display_name": "user2956477", "link": "https://stackoverflow.com/users/2956477/user2956477"}, "reply_to_user": {"reputation": 1, "user_id": 10519087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f2ee080c12cc5836d915db69d8cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "thedustytexan", "link": "https://stackoverflow.com/users/10519087/thedustytexan"}, "edited": false, "score": 0, "creation_date": 1540121995, "post_id": 52860353, "comment_id": 92739874, "body": "Try to delete output redirection <code>&gt;output.txt</code> and add one more line with command <code>pause</code>"}, {"owner": {"reputation": 1, "user_id": 10519087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f2ee080c12cc5836d915db69d8cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "thedustytexan", "link": "https://stackoverflow.com/users/10519087/thedustytexan"}, "edited": false, "score": 0, "creation_date": 1540213710, "post_id": 52860353, "comment_id": 92769397, "body": "so something like: <code>@echo off  plink.exe -t -ssh -pw Abcd1234 -m &quot;C:\\commands\\commands.txt&quot; XXXXXXX@111.111.1.1  pause</code> (Forgive the edits I&#39;ve never tried embedding code in a comment.)"}, {"owner": {"reputation": 1, "user_id": 10519087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f2ee080c12cc5836d915db69d8cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "thedustytexan", "link": "https://stackoverflow.com/users/10519087/thedustytexan"}, "edited": false, "score": 0, "creation_date": 1540216513, "post_id": 52860353, "comment_id": 92771346, "body": "the above code brings up a cmd window that already has the pause active. No indication it actually ran the commands."}, {"owner": {"reputation": 851, "user_id": 2956477, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3a9d27d28b362af4521f2f508e278990?s=128&d=identicon&r=PG&f=1", "display_name": "user2956477", "link": "https://stackoverflow.com/users/2956477/user2956477"}, "reply_to_user": {"reputation": 1, "user_id": 10519087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f2ee080c12cc5836d915db69d8cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "thedustytexan", "link": "https://stackoverflow.com/users/10519087/thedustytexan"}, "edited": false, "score": 0, "creation_date": 1540309437, "post_id": 52860353, "comment_id": 92813842, "body": "So open your console window first, than type command and press enter? What happens now?"}], "tags": [], "owner": {"reputation": 851, "user_id": 2956477, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3a9d27d28b362af4521f2f508e278990?s=128&d=identicon&r=PG&f=1", "display_name": "user2956477", "link": "https://stackoverflow.com/users/2956477/user2956477"}, "is_accepted": false, "score": 0, "last_activity_date": 1539796638, "creation_date": 1539796638, "answer_id": 52860353, "question_id": 52857924, "link": "https://stackoverflow.com/questions/52857924/batch-file-to-ssh-cisco-phone-and-reboot-it/52860353#52860353", "title": "Batch file to SSH Cisco phone and reboot it", "body": "<p>Try this format of plink command:</p>\n\n<pre><code>plink.exe -t -ssh -pw Abcd1234 -m \"C:\\commands\\commands.txt\" XXXXXXX@111.111.1.1 &gt;output.txt\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10519087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f2ee080c12cc5836d915db69d8cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "thedustytexan", "link": "https://stackoverflow.com/users/10519087/thedustytexan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1539796638, "creation_date": 1539788369, "question_id": 52857924, "link": "https://stackoverflow.com/questions/52857924/batch-file-to-ssh-cisco-phone-and-reboot-it", "title": "Batch file to SSH Cisco phone and reboot it", "body": "<p>First post, new to batch and scripting in general so please go easy on me.</p>\n\n<p>I was tasked with writing a Perl script that would initiate SSH sessions with 6 phones and send them one CLI command to reboot them. Funny thing is, I know JACK about Perl. I do know a little batch automation and figured it'd be pretty simple to use plink to do what I needed. How wrong I was.</p>\n\n<p>Here is an example of my plink batch.</p>\n\n<pre><code>@echo off\nplink.exe -t -ssh XXXXXXX@111.111.1.1 -pw Abcd1234 &lt; \"C:\\commands\\commands.txt\"&gt;output.txt\npause\n</code></pre>\n\n<p>Commands.txt:</p>\n\n<pre><code>debug\n\ndebug\n\nreset hard\n</code></pre>\n\n<p>Running the batch file returns a cmd window displaying: Using Username \"XXXXXXX\"\nAnd my output.txt shows: </p>\n\n<pre><code>debug\n\n\n\ndebug\n\n\n\nreset hardsnoopyplus login:\n</code></pre>\n\n<p>It was at this point I realized I'd need some insight on how to service this second set of login credentials before sending my reset command.</p>\n\n<p>Here we are at day 3 and my boss would like some results. I have about 4 broken iterations of my script and a good attitude. What can I try?</p>\n\n<p>Also, here is a portion of a Perl script I found that claimed to be able to handle the snoopyplus debug login for cisco phones that I was unable to get working. The little bit of info I found told me to rewrite it in OpenSSH which I don't think is supported on Windows.</p>\n\n<pre><code>sub reboot{ \n\nmy ($ip,$sshpassword,$sshusername,$debuglogin,$debugusername,$debugpassword,$debugprompt,$command) = @_;\n\nprint \"\\nPlease be patient whilst Cisco phone at address $ip is rebooted. This may take up to 90 seconds to complete...\\n\";  \n\nmy $ssh = Net::SSH::Perl-&gt;new(\"111.111.1.1\"); \n\nmy $login_output = $ssh-&gt;login();\n\n#my $ssh-&gt;login($sshusername, $sshpassword) || myAuditLog(LOG,\"Login has failed. $!\");\n\n$ssh-&gt;waitfor('/'.$debuglogin.'&gt;.*$/');\n$ssh-&gt;send($debugusername);\n\n$ssh-&gt;waitfor('/Password :.*$/');\n$ssh-&gt;send($debugpassword);\n\n$ssh-&gt;waitfor('/'.$debugprompt.'&gt;.*$/');\n$ssh-&gt;exec($command);\n\n$ssh-&gt;close();\n</code></pre>\n"}, {"tags": ["perl", "urxvt"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 901025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328ccd35ea4c8938e01121709cdaa15f?s=128&d=identicon&r=PG", "display_name": "raphaelfournier", "link": "https://stackoverflow.com/users/901025/raphaelfournier"}, "edited": false, "score": 0, "creation_date": 1539900565, "post_id": 52863962, "comment_id": 92679938, "body": "Yes, thanks for the idea! However, and I should have added that in the question, my idea is to not &quot;disturb&quot; the current shell session by launching a tied command inside (if I close the term, Nautilus would close too)."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 77, "user_id": 901025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328ccd35ea4c8938e01121709cdaa15f?s=128&d=identicon&r=PG", "display_name": "raphaelfournier", "link": "https://stackoverflow.com/users/901025/raphaelfournier"}, "edited": false, "score": 0, "creation_date": 1539902946, "post_id": 52863962, "comment_id": 92680597, "body": "Are you sure about that? If run <code>nautilus</code> from the command-line in a <code>gnome-terminal</code> window, it fires up an entirely independent file manager window - which continues to run if I close the terminal. If <code>urxvt</code> doesn&#39;t do that for you, then you can probably workaround it by using <code>nohup</code> in the alias."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1539812105, "creation_date": 1539812105, "answer_id": 52863962, "question_id": 52856359, "link": "https://stackoverflow.com/questions/52856359/urxvt-open-graphical-file-explorer-in-the-current-folder/52863962#52863962", "title": "urxvt: Open graphical file explorer in the current folder", "body": "<p>Assuming you're using Bash as your shell, here's an alias you could add to your <code>.bashrc</code>:</p>\n\n<pre><code>alias nh=\"nautilus file://$(pwd)\"\n</code></pre>\n\n<p>I called it <code>nh</code> for \"Nautilus here\".  So from the comman-line you would simply type:</p>\n\n<pre><code>nh\n</code></pre>\n\n<p>for a nautilus window in the shell's current directory.</p>\n\n<p>I have no idea what's involved in adding something to the urxvt context menu - sorry.</p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 901025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328ccd35ea4c8938e01121709cdaa15f?s=128&d=identicon&r=PG", "display_name": "raphaelfournier", "link": "https://stackoverflow.com/users/901025/raphaelfournier"}, "is_accepted": false, "score": 0, "last_activity_date": 1540678107, "creation_date": 1540678107, "answer_id": 53026699, "question_id": 52856359, "link": "https://stackoverflow.com/questions/52856359/urxvt-open-graphical-file-explorer-in-the-current-folder/53026699#53026699", "title": "urxvt: Open graphical file explorer in the current folder", "body": "<p>Well, I quickly hacked a small extension to do this: <a href=\"https://github.com/raphaelfournier/urxvt-perl\" rel=\"nofollow noreferrer\">https://github.com/raphaelfournier/urxvt-perl</a>. </p>\n\n<p>The opening of the file browser can be triggered with the right-click menu or a keyboard shortcut. The selection can be a directory, but also a filename, which will then be opened by the application associated with it in the file browser.</p>\n"}], "owner": {"reputation": 77, "user_id": 901025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328ccd35ea4c8938e01121709cdaa15f?s=128&d=identicon&r=PG", "display_name": "raphaelfournier", "link": "https://stackoverflow.com/users/901025/raphaelfournier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540678107, "creation_date": 1539783689, "question_id": 52856359, "link": "https://stackoverflow.com/questions/52856359/urxvt-open-graphical-file-explorer-in-the-current-folder", "title": "urxvt: Open graphical file explorer in the current folder", "body": "<p>While the command line is very useful for most of the tasks, I sometimes resort to a graphical file explorer (like Nautilus, Thunar, PCmanFM). I would like a keyboard shortcut or a context-menu entry to open such a graphical file explorer _in the current directory. I know the converse is possible with <code>nautilus-open-terminal</code>. Is there currently a way to do that?</p>\n\n<p>It may require writing a perl-extension, but I do not know enough of perl and urxvt to find how to capture the current <code>PWD</code>.</p>\n"}, {"tags": ["arrays", "perl", "join", "delimited"], "comments": [{"owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "edited": false, "score": 3, "creation_date": 1539780552, "post_id": 52855108, "comment_id": 92625653, "body": "Show how you tried to solve the problem and where you stucked"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1539781038, "post_id": 52855108, "comment_id": 92625980, "body": "Where&#39;s your array? All you have shown us is text that looks like it might be from CSV files, with inconsistent white space."}, {"owner": {"reputation": 1, "user_id": 10518525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350d2b5e395208519cdb0143fa877e1a?s=128&d=identicon&r=PG&f=1", "display_name": "AdamR", "link": "https://stackoverflow.com/users/10518525/adamr"}, "edited": false, "score": 0, "creation_date": 1539781811, "post_id": 52855108, "comment_id": 92626486, "body": "Sorry for the formatting issues. This is my first time to post. The output of a windows command is inputted into an array. The array would look something like this:"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1539793572, "post_id": 52855108, "comment_id": 92633727, "body": "What have you tried? What problems are you having? Show us your code."}], "answers": [{"tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": false, "score": 0, "last_activity_date": 1539781172, "creation_date": 1539781172, "answer_id": 52855475, "question_id": 52855108, "link": "https://stackoverflow.com/questions/52855108/perl-combining-first-2-lines-of-pipe-delimited-file-into-one-pipe-delimited-line/52855475#52855475", "title": "Perl Combining first 2 lines of Pipe delimited file into one pipe delimited line", "body": "<p>Check this out:</p>\n\n<pre><code>&gt; cat cpu.txt\ntime|cpu|mem|\nstamp|util|util|\n&gt; perl -F'/\\|/' -lane ' { push(@line,@F)} END { for($i=0;$i&lt;3;$i++) { printf(\"%s\", \"${line[$i]}_${line[$i+3]}|\") }print}' cpu.&gt;\ntime_stamp|cpu_util|mem_util|\n&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10518525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350d2b5e395208519cdb0143fa877e1a?s=128&d=identicon&r=PG&f=1", "display_name": "AdamR", "link": "https://stackoverflow.com/users/10518525/adamr"}, "is_accepted": false, "score": 0, "last_activity_date": 1539885492, "creation_date": 1539885492, "answer_id": 52879932, "question_id": 52855108, "link": "https://stackoverflow.com/questions/52855108/perl-combining-first-2-lines-of-pipe-delimited-file-into-one-pipe-delimited-line/52879932#52879932", "title": "Perl Combining first 2 lines of Pipe delimited file into one pipe delimited line", "body": "<pre><code>  For a newbie, this is what I came up with, but I think there is probably a more elegant solution. \n\n\n\n    @netifdata_array = (      Time|Interface    |     Network|         In|        Out|,\n                                  Stamp|Name   |       Speed|    KB Rate|    KB Rate|);\n    my  (@line1, @line2, @line3);\n    my $ct;\n    @line1 = split(/\\s*\\|\\s*/, @netifdata_array[0]);                                 \n    @line1 = grep(s/\\s*//g, @line1);\n    @line2 = split(/\\s*\\|\\s*/, @netifdata_array[1]);\n    @line2 = grep(s/\\s*//g, @line2);\n    $ct = $ct + scalar(@line2);\n        for (my $i = 0; $i &lt; $ct; $i++)\n         {\n            push (@line3, $line1[$i], $line2[$i], \"|\");\n         }\n          print @line3,\"\\n\";  \n</code></pre>\n\n<p>output:\nTimeStamp|InterfaceName|NetworkSpeed|InKBRate|OutKBRate|</p>\n"}], "owner": {"reputation": 1, "user_id": 10518525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350d2b5e395208519cdb0143fa877e1a?s=128&d=identicon&r=PG&f=1", "display_name": "AdamR", "link": "https://stackoverflow.com/users/10518525/adamr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539885492, "creation_date": 1539780060, "question_id": 52855108, "link": "https://stackoverflow.com/questions/52855108/perl-combining-first-2-lines-of-pipe-delimited-file-into-one-pipe-delimited-line", "title": "Perl Combining first 2 lines of Pipe delimited file into one pipe delimited line", "body": "<p>Trying to combine first 2 lines of a perl array as shown below:<br>\n<strong>time |cpu |mem|</strong><br>\n<strong>stamp|util|util |</strong>  </p>\n\n<p>to:<br>\n<strong>time_stamp|cpu_util|mem_util|</strong>  </p>\n\n<p>Using perl as this needs to work on both windows and linux</p>\n"}, {"tags": ["perl", "unix", "exit", "secure-crt"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1539774743, "post_id": 52853470, "comment_id": 92622154, "body": "Where does the <code>capture()</code> function come from? Maybe it already returns the exit status somewhere? Or maybe it sets <code>$?</code> ?"}, {"owner": {"reputation": 15, "user_id": 10484688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ETsJ.png?s=128&g=1", "display_name": "Mohammed Dirir", "link": "https://stackoverflow.com/users/10484688/mohammed-dirir"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539776827, "post_id": 52853470, "comment_id": 92623354, "body": "what do you exacltly mean? can you be more specific?"}, {"owner": {"reputation": 15, "user_id": 10484688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ETsJ.png?s=128&g=1", "display_name": "Mohammed Dirir", "link": "https://stackoverflow.com/users/10484688/mohammed-dirir"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539776832, "post_id": 52853470, "comment_id": 92623359, "body": "use IPC::System::Simple qw(system capture);"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539798461, "post_id": 52853470, "comment_id": 92636061, "body": "capture from IPC::System::Simple will already die by default if the command fails or returns a nonzero exit status (this is the &quot;simple&quot; part). You can specify that it not die on certain exit codes (or any exit code), see <a href=\"https://metacpan.org/pod/IPC::System::Simple#Exit-values\" rel=\"nofollow noreferrer\">the docs</a>."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10484688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ETsJ.png?s=128&g=1", "display_name": "Mohammed Dirir", "link": "https://stackoverflow.com/users/10484688/mohammed-dirir"}, "edited": false, "score": 0, "creation_date": 1539783345, "post_id": 52855029, "comment_id": 92627497, "body": "Top Lad, Thanks!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1539779799, "creation_date": 1539779799, "answer_id": 52855029, "question_id": 52853470, "link": "https://stackoverflow.com/questions/52853470/how-to-capture-the-exit-status-of-capture-calling-another-perl-script-within-a-p/52855029#52855029", "title": "how to capture the exit status of capture calling another perl script within a perl script and if it fails it should die", "body": "<p><a href=\"https://metacpan.org/pod/IPC::System::Simple#$EXITVAL\" rel=\"nofollow noreferrer\">IPC::System::Simple provides <code>$EXITVAL</code></a>, which captures the exit code of commands run via <code>capture</code> and the other functions.</p>\n\n<blockquote>\n  <p>The exit value of any command executed by IPC::System::Simple can\n  always be retrieved from the <code>$IPC::System::Simple::EXITVAL</code> variable:</p>\n  \n  <p>This is particularly useful when inspecting results from capture,\n  which returns the captured text from the command.</p>\n\n<pre><code>use IPC::System::Simple qw(capture $EXITVAL EXIT_ANY);\n\nmy @enemies_defeated = capture(EXIT_ANY, \"defeat_evil\", \"/dev/mordor\");\n\nprint \"Program exited with value $EXITVAL\\n\";\n</code></pre>\n  \n  <p><code>$EXITVAL</code> will be set to -1 if the command did not exit normally (eg,\n  being terminated by a signal) or did not start. In this situation an\n  exception will also be thrown.</p>\n</blockquote>\n"}], "owner": {"reputation": 15, "user_id": 10484688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ETsJ.png?s=128&g=1", "display_name": "Mohammed Dirir", "link": "https://stackoverflow.com/users/10484688/mohammed-dirir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 52855029, "answer_count": 1, "score": 0, "last_activity_date": 1539779799, "creation_date": 1539774621, "last_edit_date": 1539776860, "question_id": 52853470, "link": "https://stackoverflow.com/questions/52853470/how-to-capture-the-exit-status-of-capture-calling-another-perl-script-within-a-p", "title": "how to capture the exit status of capture calling another perl script within a perl script and if it fails it should die", "body": "<p>I've just started using Perl 5.26 on secure-CRT and i wrote a Perl script that capture calls multiple Perl scripts. </p>\n\n<pre><code> my @secondCommand = capture(\"perl clientquery.pl -r $cid -l test.log -is $sqlFile\");\n</code></pre>\n\n<p>I was wondering how can I capture the exit status of each capture calling and if it fails how can i make the original script die.</p>\n"}, {"tags": ["perl", "execute"], "answers": [{"comments": [{"owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "edited": false, "score": 0, "creation_date": 1539777407, "post_id": 52852438, "comment_id": 92623710, "body": "I just wrote a small program where I show the problem with two perl scripts."}, {"owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "edited": false, "score": 0, "creation_date": 1539779023, "post_id": 52852438, "comment_id": 92624721, "body": "Hi, yes I tried to do that but I could not get it to work. I don&#39;t understand where do I have to write that line. Am I supposed to write it before as a flag, inside the while working as a flush, change all $_ for $|++... ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "edited": false, "score": 0, "creation_date": 1539779189, "post_id": 52852438, "comment_id": 92624833, "body": "Just put it on a line by itself, somewhere near the top of <code>test.pl</code> - perhaps just after the <code>use</code> lines."}, {"owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "edited": false, "score": 0, "creation_date": 1539779596, "post_id": 52852438, "comment_id": 92625051, "body": "Thanks. I just tried writing it in the test2.pl, (the script being called) and it worked. But writing in it in test.pl (the main script) it does not work."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "edited": false, "score": 1, "creation_date": 1539779749, "post_id": 52852438, "comment_id": 92625149, "body": "@nck: Sorry, yes, you&#39;re right. It&#39;s <code>test2.pl</code>&#39;s copy of STDOUT that is doing the buffering, so that&#39;s the one you need to change. That was a typo in my comment."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1539779873, "last_edit_date": 1539779873, "creation_date": 1539771295, "answer_id": 52852438, "question_id": 52852036, "link": "https://stackoverflow.com/questions/52852036/call-system-command-from-perl-script-printing-the-output-and-storing-it-into-a-v/52852438#52852438", "title": "Call system command from perl script printing the output AND storing it into a variable", "body": "<p>This code works exactly as expected for me (I changed the syntax of your <code>ping</code> call slightly).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $command = 'ping -c 5 google.es';\n\nmy $variable;\nopen my $command_pipe, \"-|\", $command or die \"Pipe from $command failed: $!\";\nwhile (&lt;$command_pipe&gt;) {\n    print  $_;\n    $variable .= $_;\n}\n\nprint \"Loop finished:\\n$variable\\n\";\n</code></pre>\n\n<p>If it's not working for you, you might be <a href=\"https://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">Suffering from Buffering</a>. Alternatively, can you give us a complete, self-contained program that demonstrates your problem?</p>\n\n<p><strong>Update:</strong> As I suggested above, you're Suffering from Buffering. Did you read the article that I linked to? All you need to do is to switch off buffering on STDOUT.</p>\n\n<pre><code>$|++;\n</code></pre>\n\n<p><strong>Update 2:</strong> To be clear, you need to put that code in <code>test2.pl</code> - that's the program that's doing the buffered prints, so that's where you need to turn buffering off.</p>\n"}], "owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 948, "favorite_count": 0, "accepted_answer_id": 52852438, "answer_count": 1, "score": 1, "last_activity_date": 1539779873, "creation_date": 1539770093, "last_edit_date": 1539778853, "question_id": 52852036, "link": "https://stackoverflow.com/questions/52852036/call-system-command-from-perl-script-printing-the-output-and-storing-it-into-a-v", "title": "Call system command from perl script printing the output AND storing it into a variable", "body": "<p>I want to send a command, for example, execute a ping:</p>\n\n<pre><code>ping google.es -n 500\n</code></pre>\n\n<p>I can execute the command with:</p>\n\n<pre><code>my $command =  \"ping google.es -n 500\";\nsystem($command);\n</code></pre>\n\n<p>And I will get the output printed while it runs.</p>\n\n<p>I can store it into a variable with:</p>\n\n<pre><code>my $command =  \"ping google.es -n 500\";\nmy $output = `$command`;\n</code></pre>\n\n<p>But how can I get the output of the command <strong>WHILE</strong> it is running and then use the output in a variable?</p>\n\n<p>I\u00b4ve see a solution like this, but it does not work. It runs the script and <strong>when it has finished</strong> it will print the result:</p>\n\n<pre><code>my $variable = '';\nopen my $command_pipe, \"-|\", $command or die \"Pipe from $command failed: $!\";\nwhile (&lt;$command_pipe&gt;) {\n    print  $_;\n    $variable . = $_;\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>: \nExample to show the problem. I have 2 perl scripts and one calls the other:</p>\n\n<p>test.pl:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $command = 'perl test2.pl';\n\nprint \"Localtime: \" . localtime() . \"\\n\";\n\nmy $variable = '';\nopen my $command_pipe, \"-|\", $command or die \"Pipe from $command failed: $!\";\nwhile (&lt;$command_pipe&gt;) {\n    print \"[\" .  localtime() . \"] \" . $_;\n    $variable .= $_;\n}\n\nprint \"Localtime: \" . localtime() . \"\\n\";\nprint \"Loop finished:\\n$variable\\n\";\n</code></pre>\n\n<p>Second file test2.pl:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nprint \"Waiting 10 sec\\n\";\nmy $i = 0;\nwhile($i &lt; 10){\n    sleep(1);\n    print \"$i\\n\";\n    $i++;\n}\nprint \"That's it!\\n\";\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>C:\\Users\\****\\Desktop\\****&gt;perl test.pl\nLocaltime: Wed Oct 17 13:47:06 2018\n[Wed Oct 17 13:47:16 2018] Waiting 10 sec\n[Wed Oct 17 13:47:16 2018] 0\n[Wed Oct 17 13:47:16 2018] 1\n[Wed Oct 17 13:47:16 2018] 2\n[Wed Oct 17 13:47:16 2018] 3\n[Wed Oct 17 13:47:16 2018] 4\n[Wed Oct 17 13:47:16 2018] 5\n[Wed Oct 17 13:47:16 2018] 6\n[Wed Oct 17 13:47:16 2018] 7\n[Wed Oct 17 13:47:16 2018] 8\n[Wed Oct 17 13:47:16 2018] 9\n[Wed Oct 17 13:47:16 2018] That's it!\nLocaltime: Wed Oct 17 13:47:16 2018\nLoop finished:\nWaiting 10 sec\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\nThat's it!\n</code></pre>\n\n<p>As you can see everything is just printed after the 10 seconds of the second script.</p>\n"}, {"tags": ["sql", "database", "windows", "perl"], "comments": [{"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "edited": false, "score": 0, "creation_date": 1539844915, "post_id": 52850041, "comment_id": 92650121, "body": "What is your question? And please post the output of the script, including error messages. And try adding semi-colons between the SQL statements."}], "answers": [{"tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": false, "score": 0, "last_activity_date": 1543272125, "creation_date": 1543272125, "answer_id": 53490225, "question_id": 52850041, "link": "https://stackoverflow.com/questions/52850041/need-help-in-running-select-statement-in-a-perl-script/53490225#53490225", "title": "Need help in running select statement in a perl script", "body": "<p>Why use SQLPLUS from within Perl, while it already has excellent modules to interact with databases ?</p>\n\n<p>First of all you need to install modules <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a> and <a href=\"https://metacpan.org/pod/DBD::Oracle\" rel=\"nofollow noreferrer\">DBD::Oracle</a>, and then you can do something like :</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(\n    \"dbi:Oracle:host=locahost;port=1521;sid=$PLANSTAGE_DB_ALIAS\",  # DSN of the database to connect \n    $PLANSTAGE_DB_USER,      # username\n    $PLANSTAGE_DB_PASSWORD,  # password\n    { RaiseError =&gt; 1 }      # die on any DBI error\n);\n\nmy ($status) = $dbh-&gt;selectrow_array(\n    \"select STATUS from jdaabppd.DFXHA_ENGINE_STATUS where ENGINE_NAME ='?\", # your sql query\n    undef,                 # no specific options needed \n    $ENV{PRI_AA_ENGINE}    # bind value\n);\n</code></pre>\n\n<p>You may need to adjust the DSN according to your use case, I made a few assumptions based on the code snippet you showed. Read the DBI docs for more details.</p>\n"}], "owner": {"reputation": 1, "user_id": 10517246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3c1627ab6edf4022ff2988d032e3e55?s=128&d=identicon&r=PG&f=1", "display_name": "Udit", "link": "https://stackoverflow.com/users/10517246/udit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1600902634, "creation_date": 1539763453, "last_edit_date": 1600902634, "question_id": 52850041, "link": "https://stackoverflow.com/questions/52850041/need-help-in-running-select-statement-in-a-perl-script", "title": "Need help in running select statement in a perl script", "body": "<pre><code>$START_PRI_AA=1;\n\n$expression = \"$SQLPLUS_DIR\\\\$SQLPLUS_EXEC -S $PLANSTAGE_DB_USER/$PLANSTAGE_DB_PASSWORD\\@$PLANSTAGE_DB_ALIAS  \n        'set pagesize 0\n        set feedback off\n        set verify off\n        set heading off\n        set echo off \n        select STATUS from jdaabppd.DFXHA_ENGINE_STATUS where ENGINE_NAME ='$ENV{PRI_AA_ENGINE}';\n        exit;\n        /'\n        \";\n\nprint \"\\n\\n expression is $expression \\n\\n\";\n$status = system($expression);\n\nprint \"$status\\n\\n\";\n</code></pre>\n"}, {"tags": ["file", "perl", "io"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "edited": false, "score": 0, "creation_date": 1539739525, "post_id": 52846027, "comment_id": 92608104, "body": "I added the line my $fileName = &#39;./&#39;.chomp($userInput); but it still goes into the else part of the if statement if I when I do the -e part"}, {"owner": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "reply_to_user": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "edited": false, "score": 3, "creation_date": 1539739647, "post_id": 52846027, "comment_id": 92608135, "body": "That is not the same because you are appending the chomp function return value. Add the code I mentioned as a new line right after you get the user input."}, {"owner": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "reply_to_user": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "edited": false, "score": 1, "creation_date": 1539739804, "post_id": 52846027, "comment_id": 92608188, "body": "You can make your print statements show the file name so it is more obvious what is happening <code>print &quot;File &#39;$fileName&#39; doesnt exist.\\n&quot;;</code> for example"}, {"owner": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "edited": false, "score": 0, "creation_date": 1539739927, "post_id": 52846027, "comment_id": 92608222, "body": "When I do &quot;-e &#39;./file.txt&#39; I get a match but when I use fileName I don&#39;t so I figured the text are not the same so when I compare them in a if statement my suspicions were true. Even after I chomp userInput or fileName they don&#39;t. Im not sure why."}, {"owner": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "edited": false, "score": 0, "creation_date": 1539740059, "post_id": 52846027, "comment_id": 92608261, "body": "Have you also changed the line I mentioned about the dot before the slash when building the path? I&#39;ll edit the answer with how the code should look like"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539740139, "post_id": 52846027, "comment_id": 92608275, "body": "@SantiagoBruno Note that prepending <code>.&#47;</code> is a no-op (unless <code>$userInput</code> itself starts with a slash)."}, {"owner": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539740238, "post_id": 52846027, "comment_id": 92608289, "body": "@melpomene the original code prepended only <code>&#47;</code> so it would look for files only in the filesystem root."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1539740330, "post_id": 52846027, "comment_id": 92608306, "body": "Right. What I&#39;m saying is you can just remove that code and do <code>my $fileName = $userInput;</code> (or get rid of the extra variable)."}, {"owner": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "edited": false, "score": 0, "creation_date": 1539740406, "post_id": 52846027, "comment_id": 92608317, "body": "The issue seemed to be that I was chomping userInput in the same statement where I initiate fileName. Or at least that is what I had to change in order to get mine to work which is weird because I tried this before posting my first response. Thanks very much."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "edited": false, "score": 2, "creation_date": 1539740800, "post_id": 52846027, "comment_id": 92608391, "body": "@motherloadmining You can do it in the same statement: <code>chomp(my $userInput = readline STDIN);</code>"}], "tags": [], "owner": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "is_accepted": false, "score": 4, "last_activity_date": 1539740146, "last_edit_date": 1539740146, "creation_date": 1539739169, "answer_id": 52846027, "question_id": 52845840, "link": "https://stackoverflow.com/questions/52845840/perl-user-input-file-searching/52846027#52846027", "title": "Perl user input file searching", "body": "<p>The problem is that you are also getting the newline as part of the filename when you hit enter key. You can notice that if you print <code>$filename</code></p>\n\n<p>You can get rid of it by using <code>chomp</code> function after getting the input:</p>\n\n<p><code>chomp($userInput);</code></p>\n\n<p>Also, I'm not sure if you actually want to check for the file in the root directory or in current directory. If it is in the current maybe you missed a dot before the slash:\n<code>'./' . $userInput;</code></p>\n\n<p>With this two changes your code should look like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\n\nprint \"Enter the name of a file: \";\nmy $userInput = &lt;STDIN&gt;;\nchomp($userInput);\nmy $fileName = './' . $userInput;\n\nif(-e $fileName) {\n  print \"File '$fileName' exist.\\n\";\n  die();\n} else {\n  print \"File '$fileName' doesnt exist.\\n\";\n  die();\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10515888, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-who6RgWAcyU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWWBo4cQ2omJELP4lLFIK7G2UJHSw/mo/photo.jpg?sz=128", "display_name": "mother loadmining", "link": "https://stackoverflow.com/users/10515888/mother-loadmining"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539740146, "creation_date": 1539737387, "question_id": 52845840, "link": "https://stackoverflow.com/questions/52845840/perl-user-input-file-searching", "title": "Perl user input file searching", "body": "<p>I am currently trying to take user input in for a file name and then search for that file. The program has to terminate gracefully if it isn't found and then continue if it is. For some reason from the research I found, the \"-e\" function isn't working for me. I am on a mac if that makes a difference although I have the shabang. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\n\nprint \"Enter the name of a file: \";\nmy $userInput = &lt;STDIN&gt;;\nmy $fileName = '/' . $userInput;\n\nif(-e $fileName) {\n  print \"File exist.\\n\";\n  die();\n} else {\n  print \"File doesnt exist.\\n\";\n  die();\n}\n</code></pre>\n\n<p>Never ends up finding the file if it is named right or not.</p>\n"}, {"tags": ["regex", "perl", "replace"], "comments": [{"owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 0, "creation_date": 1539736624, "post_id": 52845684, "comment_id": 92607475, "body": "What is your expected output from <code>[abc@def&quot;ghi&quot;jkl&#39;123]</code>?"}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 1, "creation_date": 1539737578, "post_id": 52845684, "comment_id": 92607688, "body": "Your understanding is correct, <i>however</i> each of those multiple instances is your whole match.  Since your first instance consumes the whole example string...it&#39;s done after one iteration.  So that&#39;s the problem.  Which is easier to describe than fix in your case.  It could be solved with a variable-length look behind, which perl does not support, or recursion, which it does.  Hopefully someone smarter than me will come along with a more straightforward approach."}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "reply_to_user": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 0, "creation_date": 1539737580, "post_id": 52845684, "comment_id": 92607689, "body": "@Nick it would be [abc@defghijkl123] in the first scenario and [abc@defXghiXjklX123] in the second (when replacing with &quot;X&quot;)"}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "reply_to_user": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 1, "creation_date": 1539738661, "post_id": 52845684, "comment_id": 92607912, "body": "@zzxyz That makes sense ... even to a non-expert like me ... and when you write it&#39;s &quot;easier to describe than fix&quot; that makes me think at least my question wasn&#39;t as basic as I thought  :-P"}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 1, "creation_date": 1539740981, "post_id": 52846012, "comment_id": 92608415, "body": "That&#39;s great.  I had no idea of the existence of the <code>\\K</code> that makes many things much easier (in general) ... always learning.   Just out of curiosity:  when you write <code>[^]a-zA-Z0-9]</code> why don&#39;t you have to escape the <code>]</code> like this <code>[^\\]a-zA-Z0-9]</code>?"}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 1, "creation_date": 1539750865, "post_id": 52846012, "comment_id": 92610504, "body": "Because a [] set requires at least one character. So Perl interprets a ] there as literal vs illegal. On my phone where I have no backticks. Hopefully makes sense."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1539802932, "post_id": 52846012, "comment_id": 92638231, "body": "@jan - definitely the most delightful way I&#39;ve ever had an answer unaccepted, and I think I&#39;ll follow suit in my future questions.  Melpomene&#39;s answer is definitely superior, too, so good call on that."}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 1, "creation_date": 1539832939, "post_id": 52846012, "comment_id": 92646776, "body": ":) ... it&#39;s sometimes difficult, I often profit from multiple answers/comments ... sure, one can upvote, but sometimes it&#39;d be great to accept more than one answer."}], "tags": [], "owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "is_accepted": false, "score": 1, "last_activity_date": 1539740197, "last_edit_date": 1539740197, "creation_date": 1539739051, "answer_id": 52846012, "question_id": 52845684, "link": "https://stackoverflow.com/questions/52845684/regex-to-find-replace-multiple-instances-of-character-in-string/52846012#52846012", "title": "Regex to find(/replace) multiple instances of character in string", "body": "<p>So...I'm going to suggest a marvelously computationally inefficient approach to this.  Marvelously inefficient, but possibly still faster than a <code>variable-length lookbehind</code> would be...and also easy (for you):</p>\n\n<p>The <code>\\K</code> causes everything before it to be dropped....so only the character after it is actually replaced.</p>\n\n<pre><code>perl -pe 'while (s/\\[[^]]*@[^]]*\\K[^]a-zA-Z0-9]//){}' file\n</code></pre>\n\n<p>Basically we just have an empty loop that executes until the search and replace replaces nothing.</p>\n\n<p>Slightly improved version:</p>\n\n<pre><code>perl -pe 'while (s/\\[[^]]*?@[^]]*?\\K[^]a-zA-Z0-9](?=[^]]*?])//){}' file\n</code></pre>\n\n<p>The <code>(?=)</code> verifies that its content exists after the match without being part of the match.  This is a <code>variable-length lookahead</code> (what we're missing going the other direction).  I also made the <code>*</code>s lazy with the <code>?</code> so we get the shortest match possible.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539742035, "post_id": 52846271, "comment_id": 92608587, "body": "That also gets rid of the <code>[abc@</code> part."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539742112, "post_id": 52846271, "comment_id": 92608599, "body": "@melpomene Ugh, thakn you - fixed (along with antother piece)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539742300, "post_id": 52846271, "comment_id": 92608631, "body": "OP&#39;s code finds a match in <code>&quot;[\\n\\@a.b]&quot;</code>; your code doesn&#39;t."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539742570, "post_id": 52846271, "comment_id": 92608687, "body": "@melpomene I didn&#39;t worry about the exact nature of &quot;<i>possibly with some characters in between</i>&quot; and used the <code>.</code> ... replaced it now by OP&#39;s code.  Thank you"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1539797281, "last_edit_date": 1539797281, "creation_date": 1539741475, "answer_id": 52846271, "question_id": 52845684, "link": "https://stackoverflow.com/questions/52845684/regex-to-find-replace-multiple-instances-of-character-in-string/52846271#52846271", "title": "Regex to find(/replace) multiple instances of character in string", "body": "<p>Here is another approach. Capture precisely the substring that needs work, and in the replacement part run a regex on it that cleans it of non-alphanumeric characters</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $var = q(ah [abc@def\"ghi\"jkl'123] oh); #'\nsay $var;\n\n$var =~ s{ \\[ [^\\[\\]]*? \\@\\K ([^\\]]+) }{\n    (my $v = $1) =~ s{[^0-9a-zA-Z]}{}g;\n    $v\n}ex;\n\nsay $var;\n</code></pre>\n\n<p>where the lone <code>$v</code> is needed so to return that and not the number of matches, what <code>s/</code> operator itself returns. This can be improved by using the <code>/r</code> modifier, which returns the changed string and doesn't change the original (so it doesn't attempt to change <code>$1</code>, what isn't allowed)</p>\n\n<pre><code>$var =~ s{ \\[ [^\\[\\]]*? \\@\\K ([^\\]]+) }{\n    $1 =~ s/[^0-9a-zA-Z]//gr;\n}ex;\n</code></pre>\n\n<p>The <code>\\K</code> is there so that all matches before it are \"dropped\" -- they are not consumed so we don't need to capture them in order to put them back.  The <code>/e</code> modifier makes the replacement part be evaluated as code.</p>\n\n<p>The code in the question doesn't work because everything matched is consumed, and (under <code>/g</code>) the search continues from the position after the last match, attempting to find that <em>whole</em> pattern again further down the string. That fails and only that first occurrence is replaced.</p>\n\n<p>The problem with matches that we want to leave in the string  can often be remedied by <code>\\K</code> (used in all current answers), which makes it so that all  matches before it are <em>not</em> consumed.</p>\n"}, {"comments": [{"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1539796400, "post_id": 52846294, "comment_id": 92635078, "body": "this indeed seems the most straightforward solution ... thank you for the detailed explanations, very helpful"}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1539798833, "post_id": 52846294, "comment_id": 92636254, "body": "Quick question, just as I&#39;m learning: what&#39;s the difference between <code>\\[ [^\\[\\]\\@]* \\@</code> and <code>\\[ [^\\[\\]]*? \\@</code>?  And are the spaces between mainly for readability or do they have any other function?  (is the latter related to using <code>{}{}</code> instead of <code>&#47;&#47;&#47;</code>?)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 1, "creation_date": 1539807225, "post_id": 52846294, "comment_id": 92640127, "body": "@jan The spaces are for readability. The <code>&#47;x</code> flag lets you format the regex however you want (you can even use multiple lines and add comments). I think <code>{}</code> delimiters look better than <code>&#47;&#47;</code> when the replacement part is a block of code (technically you can use any punctuation character you want). A nice side effect is that it frees up <code>&#47;</code> to be used inside the code (e.g. for <code>tr&#47;&#47;&#47;</code> in my case)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 1, "creation_date": 1539807684, "post_id": 52846294, "comment_id": 92640352, "body": "@jan As for <code>[^\\[\\]]*?</code>, I generally distrust non-greedy quantifiers. Whenever possible I try to write my regexes in a way that makes it irrelevant whether quantifiers are greedy or not. In this concrete case there&#39;s not much difference, but you have to be careful: E.g. <code>\\[ [^\\[\\]\\@]* \\@ A</code> and <code>\\[ [^\\[\\]]*? \\@ A</code> behave differently when applied to a string of <code>[foo@bar@A</code>; the former regex will not match, the latter regex matches the whole string. That&#39;s because the <code>[...]*?</code> part in <code>[...]*? X</code> can match <code>X</code> if necessary to make the whole regex succeed whereas <code>[^X]*</code> will never match <code>X</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1539814614, "post_id": 52846294, "comment_id": 92643014, "body": "Rather than distrusting non-greedy quantifiers (their behavior is just as deterministic as greedy quantifiers), just remember that the regex engine goes from left to right then backtracks to try alternatives when necessary, and it&#39;s easier (less attempts) for it to &quot;match as many characters that aren&#39;t X as it can find&quot; than for it to &quot;match as few characters as it can find while still having X afterward&quot;. It happens that there will very often be an easier (for the engine) alternative to using non-greedy quantifiers."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539842613, "post_id": 52846294, "comment_id": 92649209, "body": "@Grinnz By &quot;distrust&quot; I don&#39;t mean they&#39;re unreliable. I know what they do. It&#39;s just that they&#39;re a bit of a red flag; whenever I see one, I have to spend a couple of extra seconds thinking through what exactly the code is doing, which (as shown above) depends on the rest of the regex, because often it doesn&#39;t match what the author intended."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1539742000, "last_edit_date": 1539742000, "creation_date": 1539741568, "answer_id": 52846294, "question_id": 52845684, "link": "https://stackoverflow.com/questions/52845684/regex-to-find-replace-multiple-instances-of-character-in-string/52846294#52846294", "title": "Regex to find(/replace) multiple instances of character in string", "body": "<p>The reason your code doesn't work is that <code>/g</code> doesn't rescan the string after a substitution. It finds all non-overlapping matches of the given regex and then substitutes the replacement part in.</p>\n\n<p>In <code>[abc@def\"ghi\"jkl'123]</code>, there is only a single match (which is the <code>[abc@def\"</code> part of the string, with <code>$1 = '[abc@def'</code> and <code>$2 = ''</code>), so only the first <code>\"</code> is removed.</p>\n\n<p>After the first match, Perl scans the remaining string (<code>ghi\"jkl'123]</code>) for another match, but it doesn't find another <code>[</code> (or <code>@</code>). </p>\n\n<hr>\n\n<p>I think the most straightforward solution is to use a nested search/replace operation. The outer match identifies the string within which to substitute, and the inner match does the actual replacement.</p>\n\n<p>In code:</p>\n\n<pre><code>s{ \\[ [^\\[\\]\\@]* \\@ \\K ([^\\[\\]]*) (?= \\] ) }{ $1 =~ tr/a-zA-Z0-9//cdr }xe;\n</code></pre>\n\n<p>Or to replace each match by <code>X</code>:</p>\n\n<pre><code>s{ \\[ [^\\[\\]\\@]* \\@ \\K ([^\\[\\]]*) (?= \\] ) }{ $1 =~ tr/a-zA-Z0-9/X/cr }xe;\n</code></pre>\n\n<p>We match a prefix of <code>[</code>, followed by 0 or more characters that are not <code>[</code> or <code>]</code> or <code>@</code>, followed by <code>@</code>.</p>\n\n<p><code>\\K</code> is used to mark the virtual beginning of the match (i.e. everything matched so far is not included in the matched string, which simplifies the substitution).</p>\n\n<p>We match and capture 0 or more characters that are not <code>[</code> or <code>]</code>.</p>\n\n<p>Finally we match a suffix of <code>]</code> in a look-ahead (so it's not part of the matched string either).</p>\n\n<p>The replacement part is executed as a piece of code, not a string (as indicated by the <code>/e</code> flag). Here we could have used <code>$1 =~ s/[^a-zA-Z0-9]//gr</code> or <code>$1 =~ s/[^a-zA-Z0-9]/X/gr</code>, respectively, but since each inner match is just a single character, it's also possible to use a transliteration.</p>\n\n<p>We return the modified string (as indicated by the <code>/r</code> flag) and use it as the replacement in the outer <code>s</code> operation.</p>\n"}], "owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "accepted_answer_id": 52846294, "answer_count": 3, "score": 3, "last_activity_date": 1539797281, "creation_date": 1539736037, "question_id": 52845684, "link": "https://stackoverflow.com/questions/52845684/regex-to-find-replace-multiple-instances-of-character-in-string", "title": "Regex to find(/replace) multiple instances of character in string", "body": "<p>I have a (probably very basic) question about how to construct a (perl) regex, <code>perl -pe 's///g;'</code>, that would find/replace multiple instances of a given character/set of characters in a specified string.  Initially, I thought the g \"global\" flag would do this, but I'm clearly misunderstanding something very central here. :/ </p>\n\n<p>For example, I want to eliminate any non-alphanumeric characters in a specific string (within a larger text corpus). Just by way of example, the string is identified by starting with [ followed by @, possibly with some characters in between.</p>\n\n<pre><code>[abc@def\"ghi\"jkl'123]\n</code></pre>\n\n<p>The following regex</p>\n\n<pre><code>s/(\\[[^\\[\\]]*?@[^\\[\\]]*?)[^a-zA-Z0-9]+?([^\\[\\]]*?)/$1$2/g;\n</code></pre>\n\n<p>will find the first \" and if I run it three times I have all three.\nSimilarly, what if I want to replace the non-alphanumeric characters with something else, let's say an X. </p>\n\n<pre><code>s/(\\[[^\\[\\]]*?@[^\\[\\]]*?)[^a-zA-Z0-9]+?([^\\[\\]]*?)/$1X$2/g; \n</code></pre>\n\n<p>does the trick for one instance.  But how can I find all of them in one go?  </p>\n"}, {"tags": ["perl", "perl-xs"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1539718733, "post_id": 52842810, "comment_id": 92601644, "body": "<a href=\"http://matrix.cpantesters.org/?dist=Crypt-Sodium+0.11\" rel=\"nofollow noreferrer\">Your chances of success</a> don&#39;t look good."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1539718870, "post_id": 52842810, "comment_id": 92601720, "body": "but <a href=\"http://matrix.cpantesters.org/?dist=Crypt-Sodium%200.10\" rel=\"nofollow noreferrer\">they look better</a> if you try to install <code>Crypt::Sodium 0.10</code>."}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1539719721, "post_id": 52842810, "comment_id": 92602137, "body": "Thanks, I just tried and it does work ok if I use the code as it existed just before that heredoc block was added. Of course, it&#39;s preferable to have an up-to-date build when it comes to security stuff, but RHEL makes that tough sometimes."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1539721028, "post_id": 52842810, "comment_id": 92602775, "body": "You can always use perlbrew or whatever to setup a local, up-to-date perl installation that you use instead of the system perl."}], "answers": [{"comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1540649976, "post_id": 53021741, "comment_id": 92947758, "body": "<code>cpan install ExtUtils::ParseXS</code> followed by <code>cpan install Crypt::Sodium</code> did it. Thanks."}], "tags": [], "owner": {"reputation": 76, "user_id": 5348698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b84b26135ca852f3b10d582b62e983a?s=128&d=identicon&r=PG", "display_name": "Sherwin Daganato", "link": "https://stackoverflow.com/users/5348698/sherwin-daganato"}, "is_accepted": true, "score": 4, "last_activity_date": 1540642324, "last_edit_date": 1540642324, "creation_date": 1540641974, "answer_id": 53021741, "question_id": 52842810, "link": "https://stackoverflow.com/questions/52842810/unable-to-compile-cryptsodium-on-centos-6/53021741#53021741", "title": "Unable to compile Crypt::Sodium on CentOS 6", "body": "<p>The version of <code>ExtUtils::ParseXS</code> that comes stock with Centos 6 does not support  embedded <code>typemap</code>. Installing the latest <code>ExtUtils::ParseXS</code> and <code>libsodium</code> should fix the issue.</p>\n\n<p>From <a href=\"https://perldoc.perl.org/perlxstypemap.html#Anatomy-of-a-typemap\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlxstypemap.html#Anatomy-of-a-typemap</a>:  </p>\n\n<blockquote>\n  <p>Traditionally, typemaps needed to be written to a separate file, conventionally called <code>typemap</code> in a CPAN distribution. With ExtUtils::ParseXS (the XS compiler) version 3.12 or better which comes with perl 5.16, typemaps can also be embedded directly into XS code using a HERE-doc like syntax:</p>\n\n<pre><code>TYPEMAP: &lt;&lt;HERE\n...\nHERE\n</code></pre>\n  \n  <p>where <code>HERE</code> can be replaced by other identifiers like with normal Perl HERE-docs. All details below about the typemap textual format remain valid.</p>\n</blockquote>\n"}], "owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 53021741, "answer_count": 1, "score": 1, "last_activity_date": 1540642324, "creation_date": 1539718312, "question_id": 52842810, "link": "https://stackoverflow.com/questions/52842810/unable-to-compile-cryptsodium-on-centos-6", "title": "Unable to compile Crypt::Sodium on CentOS 6", "body": "<p>System installed Perl is version 5.10.1, which I know is old; these are the joys of RHEL-based distributions! I get the same results whether I use <code>cpan</code>, or download the module and <code>make</code> it:</p>\n\n<pre><code>/usr/bin/perl /usr/share/perl5/ExtUtils/xsubpp  -typemap /usr/share/perl5/ExtUtils/typemap  Sodium.xs &gt; Sodium.xsc &amp;&amp; mv Sodium.xsc Sodium.c\nError: Cannot parse function definition from 'crypto_generichash_state * T_PTRREF' in Sodium.xs, line 715\nError: 'crypto_generichash_state *' not in typemap in Sodium.xs, line 735\nError: 'crypto_generichash_state *' not in typemap in Sodium.xs, line 739\nError: 'crypto_generichash_state *' not in typemap in Sodium.xs, line 748\nmake: *** [Sodium.c] Error 1\n</code></pre>\n\n<p>The section around <a href=\"https://github.com/mgregoro/Crypt-Sodium/blob/master/Sodium.xs#L715\" rel=\"nofollow noreferrer\">line 715</a> looks like this:</p>\n\n<pre><code>TYPEMAP: &lt;&lt;EOT\ncrypto_generichash_state * T_PTRREF\nEOT\n</code></pre>\n\n<p>I assume the \"not in typemap\" errors are a result of the initial one, but I'm completely inexperienced with how Perl modules are built; I'm not even sure what this XS stuff is. Any suggestions for how to continue?</p>\n"}, {"tags": ["perl", "foreach"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539720325, "post_id": 52842771, "comment_id": 92602459, "body": "How much data is typically in <code>$hash</code>?  (Btw, it should be <code>keys %$hash</code> or <code>keys %hash</code>)"}, {"owner": {"reputation": 41, "user_id": 10360144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f045cc610cd3bc6112fcc532637a87?s=128&d=identicon&r=PG&f=1", "display_name": "FranceMadrid9", "link": "https://stackoverflow.com/users/10360144/francemadrid9"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539720415, "post_id": 52842771, "comment_id": 92602498, "body": "@zdim About 8 keys, so 8 lines. And thanks for catching that, I had that in my code, but was manually typing it into Stack Overflow."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539725459, "post_id": 52842771, "comment_id": 92604632, "body": "Thanks.  Was asking to check that your data isn&#39;t huge, what could make it challenging"}], "answers": [{"tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": false, "score": 2, "last_activity_date": 1539720577, "creation_date": 1539720577, "answer_id": 52843341, "question_id": 52842771, "link": "https://stackoverflow.com/questions/52842771/how-to-find-and-delete-occurrence-of-duplicate-value-in-a-string-within-a-foreac/52843341#52843341", "title": "How to find and delete occurrence of duplicate value in a string within a foreach loop in perl", "body": "<p>You can store the result in one more hash variable and then print if the entry is unique.</p>\n\n<p>Check this out:</p>\n\n<pre><code>$hash{100}{'value'}=23422;\n$hash{65464}{'value'}=65464;\n$hash{32453}{'value'}=32453;\n$hash{76654}{'value'}=76654;\n$hash{21341}{'value'}=21341;\n$hash{65437}{'value'}=65437;\n$hash{102}{'value'}=23422;\n$hash{67658}{'value'}=67658;\n\nforeach my $val(sort keys %hash) {\n\n$string = $hash{$val}{'value'};\n\n$my_unique{$string}++\n\n}\n\nforeach my $val( keys %my_unique)\n{\n\nprint \"$val\\n\" if $my_unique{$val} == 1\n\n}\n</code></pre>\n\n<p>Results in the shell</p>\n\n<pre><code>$ perl -f dup_delete.pl\n65437\n65464\n21341\n67658\n32453\n76654\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1539787426, "last_edit_date": 1539787426, "creation_date": 1539721080, "answer_id": 52843451, "question_id": 52842771, "link": "https://stackoverflow.com/questions/52842771/how-to-find-and-delete-occurrence-of-duplicate-value-in-a-string-within-a-foreac/52843451#52843451", "title": "How to find and delete occurrence of duplicate value in a string within a foreach loop in perl", "body": "<p>Make a pass to count occurrences of each value, then go over your hash and delete all entries with their value count larger than 1 (that value appears elsewhere in the hash)</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @data = qw(23422 65464 32453 76654 21341 65437 23422 67658);\n\n# Make up a hash with above values    \nmy %h = map { $_ =&gt; $data[$_] } 0..$#data;\n\n# Get the count for each value\nmy %val_cnt;\n++$val_cnt{$_} for values %h; \n\n# Delete hash entries for which the value appears more than once\nfor (keys %h) {\n    delete $h{$_} if $val_cnt{$h{$_}} &gt; 1;\n\n    # Or, to keep %h intact and only print\n    # say $h{$_} if $val_cnt{$h{$_}} == 1;\n}\n\nsay join ' ', values %h;\n</code></pre>\n\n<p>prints </p>\n\n<pre>\n76654 67658 32453 65464 21341 65437\n</pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/delete.html\" rel=\"nofollow noreferrer\">delete</a> and\n<a href=\"http://perldoc.perl.org/functions/values.html\" rel=\"nofollow noreferrer\">values</a></p>\n\n<p>If you'd rather keep the hash and only print desired values then instead of <code>delete</code>-ing from the hash just print, for elements whose value count is <code>1</code> (the commented out line)</p>\n"}], "owner": {"reputation": 41, "user_id": 10360144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f045cc610cd3bc6112fcc532637a87?s=128&d=identicon&r=PG&f=1", "display_name": "FranceMadrid9", "link": "https://stackoverflow.com/users/10360144/francemadrid9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1539787426, "creation_date": 1539718159, "last_edit_date": 1539720381, "question_id": 52842771, "link": "https://stackoverflow.com/questions/52842771/how-to-find-and-delete-occurrence-of-duplicate-value-in-a-string-within-a-foreac", "title": "How to find and delete occurrence of duplicate value in a string within a foreach loop in perl", "body": "<p>I have a foreach loop with a string inside of it:</p>\n\n<pre><code>foreach my $val(sort keys %hash) {\n\n$string = $hash{$val}{'value'};\n\nprint \"$string\\n\";\n\n}\n</code></pre>\n\n<p>The output for printing my <code>$string</code> is:</p>\n\n<pre><code>23422\n65464\n32453\n76654\n21341\n65437\n23422\n67658\n</code></pre>\n\n<p>I want to be able to find where there are two duplicate values, in this case, '23422' and delete them from the string entirely. So that when I print the string, it will print:</p>\n\n<pre><code>    65464\n    32453\n    76654\n    21341\n    65437\n    67658\n</code></pre>\n\n<p>I am not sure how to go about this however because of the logic inside the foreach loop. I have tried testing if statements to check for equals and not equals but it is to no avail because it is not detecting the values to do it being inside a foreach loop.</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1539715706, "post_id": 52842089, "comment_id": 92600245, "body": "Can you just add blank values using <code>undef</code> for the fields that are missing?  <code>$config, undef, undef, $produce, undef, $positive, $dying</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539715817, "post_id": 52842089, "comment_id": 92600309, "body": "What is your desired output? (How does <code>LSF-13</code> get &quot;appended&quot; to the <code>Config</code> field ... like <code>RDF-12 LSF-13</code> ...?"}, {"owner": {"reputation": 59, "user_id": 10377474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066fbba87b33a9807ecbfd2a393f8afa?s=128&d=identicon&r=PG&f=1", "display_name": "JohnEgg", "link": "https://stackoverflow.com/users/10377474/johnegg"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539716104, "post_id": 52842089, "comment_id": 92600457, "body": "@zdim Edited a desired output section"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539716440, "post_id": 52842089, "comment_id": 92600601, "body": "Well <code>say $fh $config, &#39;,&#39;, &#39;,&#39;, $produce ...</code> (etc).  But, isn&#39;t there more to it? What if you have more lines to add, how do you designate variables (hash with column names?)"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 2, "last_activity_date": 1539717169, "last_edit_date": 1539717169, "creation_date": 1539716412, "answer_id": 52842307, "question_id": 52842089, "link": "https://stackoverflow.com/questions/52842089/how-to-print-to-specific-column-in-a-csv-from-perl-script/52842307#52842307", "title": "How to print to specific column in a CSV from perl script", "body": "<p>Using <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse Text::CSV;\n\nmy %row = (\n  Config =&gt; 'LSF-13', # keys must match the case of the columns in your CSV exactly\n  produce =&gt; 34,\n  positive =&gt; 6,\n  dying =&gt; 3,\n);\nmy $file = \"/lsd/filepath/text.csv\";\n\n# open to read the existing column names from the first line\nopen my $readfh, '&lt;:encoding(UTF-8)', $file or die \"can't open $file: $!\";\nmy $csv = Text::CSV-&gt;new({eol =&gt; $/, binary =&gt; 1, auto_diag =&gt; 2});\n$csv-&gt;column_names($csv-&gt;getline($readfh));\nclose $readfh;\n\n# open to append a new line\nopen my $writefh, '&gt;&gt;:encoding(UTF-8)', $file or die \"can't open $file: $!\";\n$csv-&gt;print_hr($writefh, \\%row);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 10377474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066fbba87b33a9807ecbfd2a393f8afa?s=128&d=identicon&r=PG&f=1", "display_name": "JohnEgg", "link": "https://stackoverflow.com/users/10377474/johnegg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 2, "accepted_answer_id": 52842307, "answer_count": 1, "score": 0, "last_activity_date": 1539717169, "creation_date": 1539715563, "last_edit_date": 1539716091, "question_id": 52842089, "link": "https://stackoverflow.com/questions/52842089/how-to-print-to-specific-column-in-a-csv-from-perl-script", "title": "How to print to specific column in a CSV from perl script", "body": "<p>I have a CSV file in the following format:</p>\n\n<pre><code>Config,name,sub,produce,negative,positive,dying\nRDF-12,jakl,xol,12,4,2,4\n</code></pre>\n\n<p>In my perl script, I have following variables:</p>\n\n<pre><code>$config = 'LSF-13'\n$produce = 34;\n$positive = 6;\n$dying = 3;\n</code></pre>\n\n<p>I am missing variables for the columns 'name', 'sub', and 'negative' but still want to place(append) my variables in their respective columns.</p>\n\n<pre><code>$file = \"/lsd/filepath/text.csv\";\nopen $fh, '&gt;&gt;', $file or warn \"can't open\";\nprint $fh $config, $produce, $positive, $dying;\n</code></pre>\n\n<p>My code is not allowing me to specify the columns I want to match with my variable however.</p>\n\n<p>Desired Output:</p>\n\n<pre><code>Config,name,sub,produce,negative,positive,dying\nRDF-12,jakl,xol,12,4,2,4\nLSF-13,,,34,,6,3\n</code></pre>\n"}, {"tags": ["perl", "xs"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1540229329, "post_id": 52840683, "comment_id": 92778623, "body": "Have a look at <a href=\"https://metacpan.org/pod/Devel::CheckLib\" rel=\"nofollow noreferrer\"><code>Devel::CheckLib</code></a>, a useful module to build XS code with external libraries."}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 7, "last_activity_date": 1539710080, "creation_date": 1539710080, "answer_id": 52840750, "question_id": 52840683, "link": "https://stackoverflow.com/questions/52840683/deploying-xs-module-on-cpan/52840750#52840750", "title": "deploying xs module on CPAN", "body": "<p>These distributions expect the libraries to be available on the system they are installing to. So for example for Crypt::OpenSSL::RSA it expects you to have <code>openssl-dev</code> or the equivalent package installed for your system. An option for making a distribution that doesn't require this is to (separately) release an <a href=\"https://metacpan.org/pod/Alien\" rel=\"noreferrer\">Alien</a> distribution, and the easiest way to do this now is with <a href=\"https://metacpan.org/pod/Alien::Build\" rel=\"noreferrer\">Alien::Build</a>. An Alien distribution represents either using the existing installed library or installing the library within Perl's library directories, either way it is made available for Perl to use. For example both <a href=\"https://metacpan.org/pod/Alien::OpenSSL\" rel=\"noreferrer\">Alien::OpenSSL</a> and <a href=\"https://metacpan.org/pod/Alien::LibreSSL\" rel=\"noreferrer\">Alien::LibreSSL</a> exist and can be used by distributions that want to make sure a SSL library is available. Your XS distribution would add the Alien distribution as a dependency and then can use the library via that.</p>\n"}], "owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 52840750, "answer_count": 1, "score": 3, "last_activity_date": 1539710080, "creation_date": 1539709786, "question_id": 52840683, "link": "https://stackoverflow.com/questions/52840683/deploying-xs-module-on-cpan", "title": "deploying xs module on CPAN", "body": "<p>i was looking on different xs cpan modules and they didn't contains the actucal source code of the library they are binding ,</p>\n\n<p>for example on this library <a href=\"https://st.aticpan.org/source/NANIS/Net-Sharktools-0.009/\" rel=\"nofollow noreferrer\">https://st.aticpan.org/source/NANIS/Net-Sharktools-0.009/</a>  the xs module :<a href=\"https://st.aticpan.org/source/NANIS/Net-Sharktools-0.009/Sharktools.xs\" rel=\"nofollow noreferrer\">https://st.aticpan.org/source/NANIS/Net-Sharktools-0.009/Sharktools.xs</a> </p>\n\n<p>has \"#include \"sharktools_core.h\" but if i browse the files on metacpan i didn't find this file .</p>\n\n<p>the same issue with this module : <a href=\"https://metacpan.org/pod/Crypt::OpenSSL::RSA\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Crypt::OpenSSL::RSA</a> \nthe .xs file contains #include to different openssl files but the files aren't on the distribution.</p>\n\n<p>when such xs module installed how it include the header and compile the C files if they arn't part of the distribution?</p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1539709486, "post_id": 52840443, "comment_id": 92597069, "body": "<code>&#47;i</code> and <code>&#47;s</code> do the same thing as they do in python, i.e. ignore case (<code>&#47;i</code>) and let dot match everything including new line (<code>&#47;s</code>). <code>&#47;is</code> just means that both <code>&#47;i</code> and <code>&#47;s</code> gets applied."}, {"owner": {"reputation": 103, "user_id": 10181416, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yiwf2xyJgas/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q_dy5MPKnhOk9yVqKiRi-JI3a_gA/mo/photo.jpg?sz=128", "display_name": "Supez38", "link": "https://stackoverflow.com/users/10181416/supez38"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1539711656, "post_id": 52840443, "comment_id": 92598137, "body": "Oh okay, I think i figured out the second one using that but I still don&#39;t particularly understand the first. Do you have an idea on how to convert it?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1539713718, "post_id": 52840443, "comment_id": 92599171, "body": "<a href=\"https://docs.python.org/3/library/re.html#re.sub\" rel=\"nofollow noreferrer\">As documented</a> global substitution like you have in the first example should be done with <code>re.sub</code> and <code>count=0</code>."}, {"owner": {"reputation": 103, "user_id": 10181416, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yiwf2xyJgas/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q_dy5MPKnhOk9yVqKiRi-JI3a_gA/mo/photo.jpg?sz=128", "display_name": "Supez38", "link": "https://stackoverflow.com/users/10181416/supez38"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1539785461, "post_id": 52840443, "comment_id": 92628939, "body": "Steffen Ulrich, I found out that the first one just adds &quot;ref:///docs to the beginning of what it finds with the regex search. How would I do that in python? Also, to use modifiers in the second such as s and i, s, how do I do that in python?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1539790134, "post_id": 52840443, "comment_id": 92631906, "body": "<i>&quot;Also, to use modifiers in the second such as s and i, s, how do I do that in python..&quot;</i> - use <code>(?is)regex</code>  in python is is same as /regex/is in Perl."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1539790207, "post_id": 52840443, "comment_id": 92631961, "body": "<i>&quot;I found out that the first one just adds &quot;ref:///docs to the beginning of what it finds with the regex search. How would I do that in python?&quot;</i> - please read the documentation to <code>re.sub</code>."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 10181416, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yiwf2xyJgas/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q_dy5MPKnhOk9yVqKiRi-JI3a_gA/mo/photo.jpg?sz=128", "display_name": "Supez38", "link": "https://stackoverflow.com/users/10181416/supez38"}, "edited": false, "score": 0, "creation_date": 1540062465, "post_id": 52898108, "comment_id": 92728969, "body": "Thanks so much for all the info! I didn&#39;t see this until now but I fixed the first one like 3 days ago and ended up just using BeautifulSoup for the second one. The second one replaces that specific &lt;li&gt; tag with $test which is a custom &lt;li&gt; tag. I looped through all li tags in the file and if it&#39;s text contained a specific text, I changed it with a different tag. Should I change it to the regex, would it be more efficient or does it not matter?"}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 103, "user_id": 10181416, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yiwf2xyJgas/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q_dy5MPKnhOk9yVqKiRi-JI3a_gA/mo/photo.jpg?sz=128", "display_name": "Supez38", "link": "https://stackoverflow.com/users/10181416/supez38"}, "edited": false, "score": 0, "creation_date": 1540201971, "post_id": 52898108, "comment_id": 92762525, "body": "Regex is most often heavy on system, we should avoid it (complex regexes)."}], "tags": [], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "is_accepted": true, "score": 1, "last_activity_date": 1539973814, "creation_date": 1539973814, "answer_id": 52898108, "question_id": 52840443, "link": "https://stackoverflow.com/questions/52840443/having-trouble-understanding-regex-modifiers-in-perl-to-convert-to-python/52898108#52898108", "title": "Having trouble understanding regex modifiers in perl to convert to python", "body": "<p>First regex does nothing but appends <code>ref///docs</code> to the beginning. <br><br><strong>Explanation</strong>:<br></p>\n\n<pre><code>/\\]\\((\\/uploads\\/.*?\\.pdf)\\)/g\n</code></pre>\n\n<ul>\n<li><code>\\]</code> matches the character \"]\"</li>\n<li><code>\\(</code> matches the character \"(\"\n<br>1st Capturing Group (/uploads/.*?.pdf)</li>\n<li><code>\\/</code> matches the character \"/\"</li>\n<li><code>uploads</code> matches the characters \"uploads\" (case sensitive)</li>\n<li><code>\\/</code> matches the character \"/\"</li>\n<li><code>.*?</code> matches any character (except for line terminators)</li>\n<li><code>*?</code> Quantifier \u2014 Matches between zero and unlimited times, as few times as possible, expanding as needed (lazy)</li>\n<li><code>\\.</code> matches the character \".</li>\n<li><code>pdf</code> matches the characters pdf (case sensitive)</li>\n<li><code>\\)</code> matches the character ) <br>\n<br></li>\n</ul>\n\n<p><strong>Global pattern flags</strong><br></p>\n\n<ul>\n<li><code>g</code> modifier: global. All matches (don't return after first match)</li>\n</ul>\n\n<p><strong>Consider the example</strong>:</p>\n\n<p><code>test_str = \"](/uploads/something.pdf)\"</code></p>\n\n<p>perl:</p>\n\n<pre><code>my $test_str = \"](/uploads/something.pdf)\";\n$test_str =~ s/\\]\\((\\/uploads\\/.*?\\.pdf)\\)/\\]\\(ref\\/\\/\\/docs$1\\)/g;\n</code></pre>\n\n<p>python:</p>\n\n<pre><code>test_str = \"](/uploads/something.pdf)\"\ntest_str = re.sub(r\"\\]\\((\\/uploads\\/.*?\\.pdf)\\)\", r\"](ref///docs\\1)\", test_str)\n</code></pre>\n\n<p>Output of printing <code>test_str</code> after substitution:</p>\n\n<pre><code>](ref///docs/uploads/something.pdf)\n</code></pre>\n\n<p><br>\nI don't know what you really want to do in second regex, but the perl regex says to replace any URL of example.com to any variable <code>$test</code>. Lets play around:\n<br><br>perl:</p>\n\n<pre><code>my $test = \"test\";\nmy $data = \"&lt;li&gt;list 1 https://www.example.com/site &lt;/li&gt;\";\n$data =~ s/&lt;li&gt;.*?https:\\/\\/www\\.example\\.com.*?&lt;\\/li&gt;/$test/is;\n</code></pre>\n\n<p>python:</p>\n\n<pre><code>data = \"&lt;li&gt;list 1 https://www.example.com/site &lt;/li&gt;\";\ntest = \"test\"\ndata = re.sub(r\"&lt;li&gt;.*?https:\\/\\/www\\.example\\.com.*?&lt;\\/li&gt;\", test, data, re.S|re.I)\n</code></pre>\n\n<p>Output of printing <code>data</code> after substitution:</p>\n\n<pre><code>test\n</code></pre>\n\n<p><strong>Modifiers</strong>:</p>\n\n<ul>\n<li><code>i</code> means ignore case (case insensitive search)</li>\n<li><code>s</code> means dot will now match any character (including newline)</li>\n</ul>\n"}], "owner": {"reputation": 103, "user_id": 10181416, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yiwf2xyJgas/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q_dy5MPKnhOk9yVqKiRi-JI3a_gA/mo/photo.jpg?sz=128", "display_name": "Supez38", "link": "https://stackoverflow.com/users/10181416/supez38"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 52898108, "answer_count": 1, "score": 1, "last_activity_date": 1539973947, "creation_date": 1539708781, "last_edit_date": 1539973947, "question_id": 52840443, "link": "https://stackoverflow.com/questions/52840443/having-trouble-understanding-regex-modifiers-in-perl-to-convert-to-python", "title": "Having trouble understanding regex modifiers in perl to convert to python", "body": "<p>I'm having trouble converting these perl regex to python, I've converted simpler ones before. I don't really understand the modifiers /s and /is, I know that /g is global.</p>\n\n<p>I also don't know what the first one exactly does. The second removes a specific li tag with a message in html files.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># First\n$data =~ s/\\]\\((\\/uploads\\/.*?\\.pdf)\\)/\\]\\(ref\\/\\/\\/docs$1\\)/g;\n\n# Second\n$data =~ s/&lt;li&gt;.*?https:\\/\\/www\\.example\\.com.*?&lt;\\/li&gt;/$test/is;\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code># What I think might work in python\ndata = re.sub('&lt;li&gt;.*?https:\\/\\/www\\.example\\.com.*?&lt;\\/li&gt;/' + test, data, 1)\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 1, "creation_date": 1539694043, "post_id": 52835719, "comment_id": 92587668, "body": "<a href=\"https://stackoverflow.com/questions/25399728/perl-variable-will-not-stay-shared\" title=\"perl variable will not stay shared\">stackoverflow.com/questions/25399728/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1609909947, "post_id": 52835964, "comment_id": 115966323, "body": "Lexical named subroutines became stable in Perl v5.26."}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 5, "last_activity_date": 1539694690, "last_edit_date": 1539694690, "creation_date": 1539694547, "answer_id": 52835964, "question_id": 52835719, "link": "https://stackoverflow.com/questions/52835719/how-to-create-sub-inside-a-sub-in-perl/52835964#52835964", "title": "How to create sub inside a sub in perl?", "body": "<p>Lexical named subroutines are still (very) experimental in Perl. The easy approach is to use an anonymous subroutine instead, which will circumvent the problems of losing shared variables while still not being experimental:</p>\n\n<pre><code>sub fun2{\n    my $var2 = 10;\n\n    my $fun1 = sub {\n        print\"$var2\";\n        $var2++;\n    };\n    $fun1-&gt;();\n    print \"$var2\";\n }\n\n fun2();\n</code></pre>\n\n<p>The problem of nested named subroutines not keeping access to shared variables has already been linked to at <a href=\"https://stackoverflow.com/questions/25399728/perl-variable-will-not-stay-shared\">Perl: &quot;Variable will not stay shared&quot;</a> .</p>\n"}, {"tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": false, "score": 0, "last_activity_date": 1539694665, "creation_date": 1539694665, "answer_id": 52836006, "question_id": 52835719, "link": "https://stackoverflow.com/questions/52835719/how-to-create-sub-inside-a-sub-in-perl/52836006#52836006", "title": "How to create sub inside a sub in perl?", "body": "<p>Shouldn't this be:</p>\n\n<pre><code> my $fun1 = sub {\n    print\"$var2\";\n    $var2++;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1539697301, "creation_date": 1539697301, "answer_id": 52836883, "question_id": 52835719, "link": "https://stackoverflow.com/questions/52835719/how-to-create-sub-inside-a-sub-in-perl/52836883#52836883", "title": "How to create sub inside a sub in perl?", "body": "<p>The syntax you are using is valid since 5.18, but you need to add <code>use feature qw( lexical_subs );</code> to enable it.</p>\n\n<pre><code>use strict;\nuse warnings;\nno warnings qw( experimental::lexical_subs );  # Needed before 5.26. Harmless in 5.26+\nuse feature qw( lexical_subs say );\n\nsub fun2 {\n    my $var2 = 10;\n\n    my sub fun1 {\n        say $var2;\n        ++$var2;\n    }\n\n    fun1();\n    say $var2;\n}\n\nfun2();\n</code></pre>\n\n<p>Before 5.18, you can use </p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nsub fun2 {\n    my $var2 = 10;\n\n    my $fun1 = sub {\n        say $var2;\n        ++$var2;\n    };\n\n    $fun1-&gt;();\n    say $var2;\n}\n\nfun2();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nsub fun2 {\n    my $var2 = 10;\n\n    local *fun1 = sub {\n        say $var2;\n        ++$var2;\n    };\n\n    fun1();\n    say $var2;\n}\n\nfun2();\n</code></pre>\n"}], "owner": {"reputation": 396, "user_id": 7625104, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2ZpSIzmaVwQ/AAAAAAAAAAI/AAAAAAAAABI/OBi4JV3mrT4/photo.jpg?sz=128", "display_name": "Vicky Gupta", "link": "https://stackoverflow.com/users/7625104/vicky-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 52835964, "answer_count": 3, "score": 1, "last_activity_date": 1539697301, "creation_date": 1539693744, "question_id": 52835719, "link": "https://stackoverflow.com/questions/52835719/how-to-create-sub-inside-a-sub-in-perl", "title": "How to create sub inside a sub in perl?", "body": "<pre><code>sub fun2{\n    my $var2 = 10;\n\n    my sub fun1{\n        print\"$var2\";\n        $var2++;\n    }\n   fun1();\n   print \"$var2\";\n }\n\n fun2();\n</code></pre>\n\n<p>I want to print 10 and 11, this code gives error \"Experimental \"my\" subs not enabled at source_file\",  if I remove \"my\" keyword from \"my sub fun1\" then it gives error \"Variable \"$var2\" will not stay shared at source_file.pl line\" \nHow can we allow the inner sub to modify the data of the outer sub?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["regex", "bash", "perl", "awk", "grep"], "comments": [{"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 1, "creation_date": 1539694214, "post_id": 52834507, "comment_id": 92587772, "body": "<code>$string | | ...</code> ??? What&#39;s that construct?"}, {"owner": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "reply_to_user": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1539796555, "post_id": 52834507, "comment_id": 92635156, "body": "oops, it was a typo... I just edited my description."}, {"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1539800592, "post_id": 52834507, "comment_id": 92637090, "body": "maybe <code>echo $string | grep -oP &#39;(?&lt;=Speed).*&#39;</code> or even <code>grep -oP &#39;(?&lt;=Speed).*&#39; &lt;&lt;&lt; $string</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1539689600, "creation_date": 1539689600, "answer_id": 52834546, "question_id": 52834507, "link": "https://stackoverflow.com/questions/52834507/extract-number-from-constant-output-in-bash/52834546#52834546", "title": "Extract Number from Constant Output in Bash", "body": "<p>You may use</p>\n\n<pre><code>grep -Po 'Speed\\s*\\K\\d+'\n</code></pre>\n\n<p>Or, to also get the fractional part if it is necessary</p>\n\n<pre><code>grep -Po 'Speed\\s*\\K\\d+(\\.\\d+)?'\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/qZzz5A\" rel=\"nofollow noreferrer\">online demo</a></p>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>Speed</code> - a literal substring</li>\n<li><code>\\s*</code> - 0+ whitespaces</li>\n<li><code>\\K</code> - a match reset operator (discarding all text matched so far from the match value)</li>\n<li><code>\\d+</code> - 1+ digits</li>\n<li><code>(\\.\\d+)?</code> - an optional sequence of a <code>.</code> and 1+ digits</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "edited": false, "score": 0, "creation_date": 1539690242, "post_id": 52834562, "comment_id": 92585338, "body": "I got the sed version working, but the awk part doesn&#39;t output anything...."}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "reply_to_user": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "edited": false, "score": 0, "creation_date": 1539692459, "post_id": 52834562, "comment_id": 92586692, "body": "@ethereal1m what is the problem you are encountering?"}, {"owner": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "edited": false, "score": 0, "creation_date": 1539692896, "post_id": 52834562, "comment_id": 92587007, "body": "when executing $string | awk &#39;match($0,&quot;Speed [0-9]+.?[0-9]*&quot;){print substr($0,RSTART+6,RLENGTH-6)}&#39; , I got nothing"}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "reply_to_user": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "edited": false, "score": 0, "creation_date": 1539692961, "post_id": 52834562, "comment_id": 92587038, "body": "@ethereal1m did you forget <code>echo</code>?  You should type <code>echo &quot;$string&quot; | awk ...</code>"}, {"owner": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "edited": false, "score": 0, "creation_date": 1539776137, "post_id": 52834562, "comment_id": 92622961, "body": "oh ok, I was trying to use the awk by piping the output of a script that keep printing the string, which works with sed"}], "tags": [], "owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "is_accepted": false, "score": 1, "last_activity_date": 1539693098, "last_edit_date": 1539693098, "creation_date": 1539689642, "answer_id": 52834562, "question_id": 52834507, "link": "https://stackoverflow.com/questions/52834507/extract-number-from-constant-output-in-bash/52834562#52834562", "title": "Extract Number from Constant Output in Bash", "body": "<pre><code>awk 'match($0,\"Speed [0-9]+.?[0-9]*\"){print substr($0,RSTART+6,RLENGTH-6)}'\nsed '/Speed/s/.*Speed \\([^ ]*\\).*/\\1/'\n</code></pre>\n\n<p>and if each line is always the same way formatted, you can do:</p>\n\n<pre><code>awk '{print $6}' file\n</code></pre>\n\n<p>This means, that every line always has the word speed in column 5 and you want to print column 6.</p>\n"}, {"comments": [{"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1539693046, "post_id": 52834684, "comment_id": 92587097, "body": "This is indeed the best solution if the output is always the same way formatted."}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1539699749, "post_id": 52834684, "comment_id": 92591471, "body": "Interesting how this can be both the best solution and not an answer, depending on who&#39;s reading."}, {"owner": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "edited": false, "score": 0, "creation_date": 1539776540, "post_id": 52834684, "comment_id": 92623177, "body": "the format of the string could change in the future, but not for now."}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 2, "last_activity_date": 1539690143, "creation_date": 1539690143, "answer_id": 52834684, "question_id": 52834507, "link": "https://stackoverflow.com/questions/52834507/extract-number-from-constant-output-in-bash/52834684#52834684", "title": "Extract Number from Constant Output in Bash", "body": "<p>If the output it <em>always</em> like that (i.e. not extra lines in between), a simple <code>cut -d' ' -f6</code> will do the job.</p>\n"}, {"comments": [{"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1539692502, "post_id": 52835141, "comment_id": 92586723, "body": "This will fail if the line does not contain <code>Speed</code>"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1539693312, "post_id": 52835141, "comment_id": 92587273, "body": "@kvantour, yes please I have added warning in my solution too now."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 1, "last_activity_date": 1539693287, "last_edit_date": 1539693287, "creation_date": 1539691726, "answer_id": 52835141, "question_id": 52834507, "link": "https://stackoverflow.com/questions/52834507/extract-number-from-constant-output-in-bash/52835141#52835141", "title": "Extract Number from Constant Output in Bash", "body": "<p>Could you please try following. Considering that your Input_file is same as shown samples.</p>\n\n<pre><code>awk '{sub(/.*Speed /,\"\");sub(/ .*/,\"\")} 1' Input_file\n</code></pre>\n\n<p>In case you want to save output into Input_file itself then try following.</p>\n\n<pre><code>awk '{sub(/.*Speed /,\"\");sub(/ .*/,\"\")} 1' Input_file &gt; temp_file &amp;&amp; mv temp_file Input_file\n</code></pre>\n\n<p>Explanation: Adding explanation too here.</p>\n\n<pre><code>awk '                  ##awk script starts from here.\n{\n  sub(/.*Speed /,\"\")   ##Using sub for substitution operation which will substitute from starting of line to till Speed string with NULL fir current line.\n  sub(/ .*/,\"\")        ##Using sub for substitution of everything starting from space to till end in current line with NULL.\n}\n1                      ##Mentioning 1 will print edited/non-edited lines in Input_file.\n' Input_file           ##Mentioning Input_file name here.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1539785475, "post_id": 52835950, "comment_id": 92628948, "body": "Thanks for the love. :)"}], "tags": [], "owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "is_accepted": false, "score": 1, "last_activity_date": 1539694499, "creation_date": 1539694499, "answer_id": 52835950, "question_id": 52834507, "link": "https://stackoverflow.com/questions/52834507/extract-number-from-constant-output-in-bash/52835950#52835950", "title": "Extract Number from Constant Output in Bash", "body": "<p>sed works too.</p>\n\n<pre><code>$: echo $string | sed -En '/ Speed /{ s/.* Speed ([0-9]+).*/\\1/; p; }'\n377\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 3326499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOmW3.png?s=128&g=1", "display_name": "ethereal1m", "link": "https://stackoverflow.com/users/3326499/ethereal1m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 52834546, "answer_count": 5, "score": 1, "last_activity_date": 1539796522, "creation_date": 1539689486, "last_edit_date": 1539796522, "question_id": 52834507, "link": "https://stackoverflow.com/questions/52834507/extract-number-from-constant-output-in-bash", "title": "Extract Number from Constant Output in Bash", "body": "<p>I have a script that producing this kind of output stream in infinite loop:</p>\n\n<pre><code>m  17:24:34|ethminer  Speed 377.61 Mh/s    gpu/0 29.01  gpu/1 29.91  gpu/2 30.21  gpu/3 28.71  gpu/4 28.11  gpu/5 27.96  gpu/6 28.71  gpu/7 29.01  gpu/8 28.48  gpu/9 28.86  gpu/10 29.91  gpu/11 29.08  gpu/12 29.68  [A1484+5:R0+0:F0] Time: 04:19\n</code></pre>\n\n<p>I want to extract the integer after \"Speed\", which is 377 in this case. So far I have, suppose the string is named string:</p>\n\n<pre><code>$string |  grep -oP '(?&lt;=Speed).*'\n</code></pre>\n\n<p>I got</p>\n\n<pre><code>377.61 Mh/s    gpu/0 29.01  gpu/1 29.91  gpu/2 30.21  gpu/3 28.71  gpu/4 28.11  gpu/5 27.96  gpu/6 28.71  gpu/7 29.01  gpu/8 28.48  gpu/9 28.86  gpu/10 29.91\n</code></pre>\n\n<p>I want to get rid of the trailing string by executing:</p>\n\n<pre><code>$string |  grep -oP '(?&lt;=Speed).*'  | grep -o -E '[1-9][0-9][0-9]*'\n</code></pre>\n\n<p>but that regular expression is wrong, it doesn't come out with anything. How can I fix this? </p>\n\n<p>regards</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 3, "creation_date": 1539684464, "post_id": 52832550, "comment_id": 92582086, "body": "<a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\">File::Find</a> would be very useful for this."}], "answers": [{"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 3, "last_activity_date": 1539684709, "creation_date": 1539684709, "answer_id": 52833096, "question_id": 52832550, "link": "https://stackoverflow.com/questions/52832550/getting-the-names-and-sizes-of-all-the-files-in-sub-directories-using-perl/52833096#52833096", "title": "Getting the names and sizes of all the files in sub-directories using PERL", "body": "<p>This check will most likely always be wrong because you're looking at the wrong thing.</p>\n\n<pre><code>   unless (-d $subdir) {\n</code></pre>\n\n<p><code>$subdir</code> is the filename of a file or directory inside <code>$dir</code> so to access it you need to use the full relative path of <code>$dir/$subdir</code> just like you're doing here:</p>\n\n<pre><code>        my $size = -s \"$dir/$subdir\";\n</code></pre>\n\n<p>You'll also have problems if you do fix that <code>unless</code> check because doing <code>chdir</code> will also cause problems as you're doing it whilst in the middle of reading <code>$dir</code>'s content so will be in the wrong place to see later instances of <code>$dir/$subdir</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5654295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4387154a14c5671f6984db0970b4c7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Sproggit", "link": "https://stackoverflow.com/users/5654295/sproggit"}, "edited": false, "score": 0, "creation_date": 1539874020, "post_id": 52841092, "comment_id": 92666835, "body": "Hi, Grinnz -  Many thanks for your assistance - after I installed the  Path::Iterator::Rule module from CSPAN this then worked !!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539987146, "post_id": 52841092, "comment_id": 92713245, "body": "Yes, a few modules have such iterators which are sometimes really handy, just what you want.  As a note, I was taken aback a little to see that <code>File::pushd</code> doesn&#39;t (seem to) cleanly support a simple <code>chdir</code> back; what if I want to go back within the same scope? Can <code>undef</code> it but why not have a method? If not that, then I&#39;d expect to be able to keep <code>pushd</code>-ing and then use my stack to <code>chdir</code> to where I&#39;ve been; a <code>popd</code> of sorts. I don&#39;t see that it would take away the simplicity. Just a comment, it&#39;s a nice functionality as it is."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539990205, "post_id": 52841092, "comment_id": 92713920, "body": "That is how pushd works in shell, but File::pushd decided to take advantage of Perl&#39;s dynamic scoping. Logically I think it would get confusing if it tried to provide both a scope guard and an explicit pushd/popd stack. You could emulate that by making a @dirs array at the top level and do <code>push @dirs, pushd $foo;</code> then <code>pop @dirs;</code> as your popd, so the objects are held by that array instead of the lexical scope."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539990299, "post_id": 52841092, "comment_id": 92713945, "body": "Edited to mention File::chdir which is an older but similarly dynamically scoped approach, using <code>local</code> instead of a scope guard."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1540067482, "post_id": 52841092, "comment_id": 92730428, "body": "There are surely design questions there, and I imagine that it was a thoughtful decision that lead to the way the module is.  But it does feel it&#39;s missing a half (so to speak) -- I just can&#39;t go back (other than the gruesome <code>undef $obj</code> to destroy it); so just a teeny tiny little simple <code>chdir_back</code> or such. (I mentioned keeping the stack as another alternative but I agree that that might take things elsewhere.)"}, {"owner": {"reputation": 39, "user_id": 5654295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4387154a14c5671f6984db0970b4c7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Sproggit", "link": "https://stackoverflow.com/users/5654295/sproggit"}, "edited": false, "score": 0, "creation_date": 1540295493, "post_id": 52841092, "comment_id": 92804665, "body": "Hi, Grinnz - I was trying to refine the output from this routine by stripping out the directory paths in each $item leaving the file names only. I tried fiddling around with the $rule-&gt;iter method by testing the various additional options available, i.e using $rule-&gt;iter( @dirs, \\%options);\\%options); but could not find one that stripped out the directory path. Any advice on how to do this? Aain sorry if it seems obvious but I am a Perl novice. Alternatively we could afterwards process the output files to strip out the directory paths from each file, but it is better to do this interactively."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 39, "user_id": 5654295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4387154a14c5671f6984db0970b4c7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Sproggit", "link": "https://stackoverflow.com/users/5654295/sproggit"}, "edited": false, "score": 0, "creation_date": 1540310429, "post_id": 52841092, "comment_id": 92814446, "body": "@Sproggit You can&#39;t strip out the directory paths automatically, each result will always be a full relative or absolute path (or relative to the starting directory if you pass <code>relative</code>) since it does not change directories and won&#39;t otherwise differentiate between the same named file in different subdirectories. You can use Path::Tiny to get the basename inside the iteration loop: <code>my $basename = path($item)-&gt;basename;</code> or you can use <a href=\"https://perldoc.pl/File::Basename\" rel=\"nofollow noreferrer\">File::Basename</a>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 39, "user_id": 5654295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4387154a14c5671f6984db0970b4c7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Sproggit", "link": "https://stackoverflow.com/users/5654295/sproggit"}, "edited": false, "score": 0, "creation_date": 1540311186, "post_id": 52841092, "comment_id": 92814872, "body": "@Sproggit I added an example using the <code>visitor</code> callback option which also gets the basename passed to it automatically. Just remember you cannot use the basename for file operations like filetest operators, as was the problem in your original question."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1540311134, "last_edit_date": 1540311134, "creation_date": 1539711495, "answer_id": 52841092, "question_id": 52832550, "link": "https://stackoverflow.com/questions/52832550/getting-the-names-and-sizes-of-all-the-files-in-sub-directories-using-perl/52841092#52841092", "title": "Getting the names and sizes of all the files in sub-directories using PERL", "body": "<p>It's much easier to do logic like this without changing directories, but if you do use <a href=\"https://metacpan.org/pod/File::chdir\" rel=\"nofollow noreferrer\">File::chdir</a> or <a href=\"https://metacpan.org/pod/File::pushd\" rel=\"nofollow noreferrer\">File::pushd</a> so that you return to the previous directory when exiting that scope. However, this problem is much easier to solve by using a recursive iterator like <a href=\"https://metacpan.org/pod/Path::Iterator::Rule\" rel=\"nofollow noreferrer\">Path::Iterator::Rule</a> that handles the subdirectory logic:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Path::Iterator::Rule;\nuse Path::Tiny;\n\nmy $rule = Path::Iterator::Rule-&gt;new-&gt;not_directory;\nforeach my $dir (@ARGV) {\n    my $fh = path(\"FileSize_$dir.txt\")-&gt;openw;\n    my $next = $rule-&gt;iter($dir);\n    while (defined(my $item = $next-&gt;())) {\n        my $size = -s $item;\n        print $fh \"$item $size\\n\";\n    }\n}\n</code></pre>\n\n<p>Alternatively you can use the <code>visitor</code> callback which gets passed both the full path (for file operations) and basename of each item:</p>\n\n<pre><code>my $rule = Path::Iterator::Rule-&gt;new-&gt;not_directory;\nforeach my $dir (@ARGV) {\n    my $fh = path(\"FileSize_$dir.txt\")-&gt;openw;\n    $rule-&gt;all($dir, {visitor =&gt; sub {\n        my ($path, $basename) = @_;\n        my $size = -s $path;\n        print $fh \"$basename $size\\n\";\n    }});\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5654295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4387154a14c5671f6984db0970b4c7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Sproggit", "link": "https://stackoverflow.com/users/5654295/sproggit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1540311134, "creation_date": 1539683078, "question_id": 52832550, "link": "https://stackoverflow.com/questions/52832550/getting-the-names-and-sizes-of-all-the-files-in-sub-directories-using-perl", "title": "Getting the names and sizes of all the files in sub-directories using PERL", "body": "<p>I have written a routine to read all the names and sizes of the files contained in two folders and all their sub-folders. The root folder names are supplied in the command line arguments and each folder is processed in a for loop, with the details being output to a separate file for each of the two folders. But I am finding that only the filenames/sizes of the files in the two root folders are being output, I am unable to change  into the sub-folders and repeat the process, so the files in the sub-directories are ignored. Debug traces show that the chdir command is never executed so there is something wrong with my evaluation but I can't see what it is.\nThe code looks like this</p>\n\n<pre><code>#!/usr/bin/perl\n#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $dir = $ARGV[0];\nopendir(DIR, $dir) or die \"Could not open directory '$dir' $!\";\nmy @subdirs = readdir(DIR) or die \"Unable to read directory '$dir': $!\";\n\nfor (my $loopcount = 1; $loopcount &lt; 3; $loopcount = $loopcount + 1) {\n    my $filename = 'FileSize_'.$dir.'.txt';\n    open (my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";      \n    for my $subdir (sort @subdirs) {\n        unless (-d $subdir) {\n            # Ignore Sub-Directories in this inner loop\n            # only process files\n            # print the file name and file size to the output file\n            print \"Processing files\\n\";\n            my $size = -s \"$dir/$subdir\";\n            print $fh \"$subdir\",\" \",\"$size\\n\";\n        }\n        elsif (-s \"$dir/$subdir\") {\n        # We are here because the entry is a sub-folder and not a file\n        # if this sub-folder is non-zero size, i.e has files then\n        # change to this directory and repeat the outer for loop\n            chdir $subdir;\n            print \"Changing to directory $subdir\\n\";\n            print \"Processing Files in $subdir\\n\";\n        };\n    }\n    # We have now processed all the files in First Folder and all it's subdirecorries\n    # Now assign the second root directory to the $dir variable and repeat the loop\n    print \"Start For Next Directory\\n\";\n    $dir = $ARGV[1];\n    opendir(DIR, $dir) or die \"Could not open directory '$dir' $!\";\n    @subdirs = readdir(DIR) or die \"Unable to read directory '$dir': $!\";;\n}\nexit 0;\n</code></pre>\n\n<p>Command line invocation is \"perl FileComp.pl DiskImage DiskImage1\"\nBut  only the file names and file sizes of the files in the root DiskImage and DiskImage1 folders are output,  all the files in the sub-folders are ignored.\nThe code to change to the \"elseif\" condition is never met and the code never executed, so there is an error there.\nThanks in advance for any advice.</p>\n"}, {"tags": ["linux", "perl", "centos", "vps"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 2, "creation_date": 1539683217, "post_id": 52832431, "comment_id": 92581320, "body": "Can you please show us a short, self-contained program that reproduces the error? It&#39;s hard to guess what could be causing this without seeing the relevant source code."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4649767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161683ccee92947fdce8ab9a71b26f59?s=128&d=identicon&r=PG&f=1", "display_name": "mohammed qadoora", "link": "https://stackoverflow.com/users/4649767/mohammed-qadoora"}, "edited": false, "score": 0, "creation_date": 1539692975, "post_id": 52833717, "comment_id": 92587050, "body": "the file forkmanager.pm is too long maybe this code can help in declare the problem ` if ( $args[0] =~ /^\\d+$/ ) {         $args{max_proc} = shift @args;         $args{tempdir} = shift @args if @args;     }     else {         %args = @args;     }      return \\%args; }`"}], "tags": [], "owner": {"reputation": 11, "user_id": 1451155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce26a2e720bb85aca01f31c06420e9bc?s=128&d=identicon&r=PG", "display_name": "Ricaz", "link": "https://stackoverflow.com/users/1451155/ricaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1539686910, "creation_date": 1539686910, "answer_id": 52833717, "question_id": 52832431, "link": "https://stackoverflow.com/questions/52832431/running-perl-script-on-linux-with-forkmanager/52833717#52833717", "title": "Running Perl script on Linux with ForkManager", "body": "<p>No way for us to know what <code>$args[0]</code> contains (or doesn't contain). Please provide a full code snippet where the error is reproducible.</p>\n\n<p>As for the ForkManager error: First, try instantiating the ForkManager object with its newer Moose-style arguments, ie. <code>my $forkmanager = Parallel::ForkManager-&gt;new(max_procs =&gt; 200);</code></p>\n\n<p>Also note that using the <code>new</code> keyword is discouraged. From <a href=\"https://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perlobj</a>:</p>\n\n<blockquote>\n  <p>Outside of the file handle case, use of this syntax is discouraged as it can confuse the Perl interpreter. See below for more details.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 4649767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161683ccee92947fdce8ab9a71b26f59?s=128&d=identicon&r=PG&f=1", "display_name": "mohammed qadoora", "link": "https://stackoverflow.com/users/4649767/mohammed-qadoora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543922601, "creation_date": 1539682744, "last_edit_date": 1539683092, "question_id": 52832431, "link": "https://stackoverflow.com/questions/52832431/running-perl-script-on-linux-with-forkmanager", "title": "Running Perl script on Linux with ForkManager", "body": "<p>I am trying to run Perl script on my vps serer that it gets the Ip title of <code>text-file</code> where <code>text-file</code> is a list of ips.\nbut i am getting this error :</p>\n\n<pre><code> Use of uninitialized value $args[0] in pattern match (m//) at /usr/local/share/perl5/Parallel/ForkManager.pm line 73.\nMissing required arguments: max_proc at ./get line 12.\n</code></pre>\n\n<p>where line 73 is <code>if ( $args[0] =~ /^\\d+$/ ) {</code>\nand line 12 is <code>my $forkmanager = new Parallel::ForkManager-&gt;new(\"200\");</code></p>\n\n<p>my question is about how get this error fixed ?\nany help please</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 1, "creation_date": 1539681655, "post_id": 52831992, "comment_id": 92580385, "body": "That&#39;s good answer, but that <code>if</code> is still redundant - <code>$color</code> isn&#39;t initialized, so it&#39;s always undefined, so that code could be simplified to <code>my $color = $ARGV[0];</code>"}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 2, "last_activity_date": 1539681347, "creation_date": 1539681347, "answer_id": 52831992, "question_id": 52831901, "link": "https://stackoverflow.com/questions/52831901/unable-to-give-value-to-a-scalar-from-command-line-in-perl/52831992#52831992", "title": "unable to give value to a scalar from command line in perl", "body": "<p>You are declaring the variable <code>$color</code> twice:</p>\n\n<pre><code> my $color;\n if (undef $color)\n {\n     my $color = $ARGV[0];\n }\n</code></pre>\n\n<p>The second <code>my $color</code> will create a second binding of the name <code>$color</code> and the value you assign to it and that binding will not be visibile outside of the scope, the enclosing curly brackets.</p>\n\n<p>The expression</p>\n\n<pre><code> if (undef $color)\n</code></pre>\n\n<p>does not do what you intend it to do. <a href=\"http://perldoc.perl.org/functions/undef.html\" rel=\"nofollow noreferrer\">undef</a> will always set a value to <code>undef</code>. You want to use <a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow noreferrer\">defined</a> instead.</p>\n\n<p>After applying those two changes, the code could look like:</p>\n\n<pre><code> my $color;\n if (! defined $color)\n {\n     $color = $ARGV[0];\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1539686700, "creation_date": 1539686700, "answer_id": 52833657, "question_id": 52831901, "link": "https://stackoverflow.com/questions/52831901/unable-to-give-value-to-a-scalar-from-command-line-in-perl/52833657#52833657", "title": "unable to give value to a scalar from command line in perl", "body": "<pre><code>my $color;\nif (undef $color)\n{\nmy $color = $ARGV[0];\n}\n</code></pre>\n\n<p>This looks rather strange. In line 1 you declare a scalar variable called <code>$color</code>. In line 2, you call <a href=\"http://perldoc.perl.org/functions/undef.html\" rel=\"nofollow noreferrer\"><code>undef()</code></a> on that variable which replaces the contents of <code>$color</code> with <code>undef()</code> (that's unnecessary as a newly-declared Perl scalar will always contain <code>undef()</code>). This expression will return <code>undef</code>, which is false, so the code in your <code>if</code> block is never executed.</p>\n\n<p>In line 4, you declare a new variable, also called <code>$color</code> and set that to <code>$ARGV[0]</code>. There are two problems with this. Firstly, that line will never be executed for the reasons explained in the previous paragraph. And, secondly, your new <code>$color</code> variable will cease to exist once you leave the block, so you would never see the effect of this change.</p>\n\n<p>I think the main problem here is that you have confused <a href=\"http://perldoc.perl.org/functions/undef.html\" rel=\"nofollow noreferrer\"><code>undef()</code></a> with <a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow noreferrer\"><code>defined()</code></a>. <code>undef()</code> will always give a variable an undefined values, but I suspect you wanted <code>defined()</code> which tells you whether or not a variable contains a defined value.</p>\n\n<p>What you probably wanted was:</p>\n\n<pre><code>my $color;\n\nif (!defined $color) {\n  $color = $ARGV[0];\n}\n</code></pre>\n\n<p>Which can be written as:</p>\n\n<pre><code>my $color //= $ARGV[0];\n</code></pre>\n\n<p>But it's still slightly confusing as it's not clear why you think <code>$color</code> could ever be defined immediately after being declared.</p>\n"}], "owner": {"reputation": 5, "user_id": 10305571, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pHQ6Eh3WrkU/AAAAAAAAAAI/AAAAAAAAAGo/7I1BtePPSAE/photo.jpg?sz=128", "display_name": "shanuj garg", "link": "https://stackoverflow.com/users/10305571/shanuj-garg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539686700, "creation_date": 1539681023, "question_id": 52831901, "link": "https://stackoverflow.com/questions/52831901/unable-to-give-value-to-a-scalar-from-command-line-in-perl", "title": "unable to give value to a scalar from command line in perl", "body": "<p>I am trying the following perl code:</p>\n\n<pre><code> use strict;\n use warnings;\n use Scalar::Util (\"looks_like_number\"); \n my $color;\n if (undef $color)\n {\n my $color = $ARGV[0];\n }\n print \"$0\\n\";\n print \"$ARGV[0]\\n\";\n my @colors = (\"blue\", \"yellow\", \"brown\", \"white\");\n print \"Please select a num:\\n\";\n foreach my $i (0..$#colors)\n {\n my $j = $i+1;\n print \" $j $colors[$i]\\n\"; \n }\n\n my $num = &lt;STDIN&gt;;\n chomp($num);\n if (looks_like_number($num) and defined $colors[$num-1])\n {\n $color = $colors[$num-1];\n }\n\n else\n {\n print \"Bad Selection\\n\";\n }\n print \"selected color is $color\\n\";       \n</code></pre>\n\n<p>I want to select any number for the corresponding color choice or I should be able to provide a value of color by $color variable through command line, I am trying to run it in windows cmd using ' perl [C:/scriptname.pl] [color] ' but its not taking the argument but when I am printing ARGV[0] it is showing the argument being passed correctly. so what is the issue with my 'if (undef ARGV[0])' statement that its not getting executed.</p>\n"}, {"tags": ["perl", "otrs"], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "is_accepted": true, "score": 1, "last_activity_date": 1539693854, "creation_date": 1539693854, "answer_id": 52835756, "question_id": 52831388, "link": "https://stackoverflow.com/questions/52831388/change-customer-information-field-in-agentticketzoom-otrs6/52835756#52835756", "title": "Change Customer Information field in AgentTicketZoom OTRS6", "body": "<p>Look at files:</p>\n\n<pre><code>Kernel/Output/HTML/Templates/Standard/AdminCustomerTableView.tt\n\nKernel/Output/HTML/Layout/Ticket.pm\n</code></pre>\n\n<p>You also may need to change mappings, take a look at <code>Kernel/Config/Defaults.pm</code></p>\n\n<p>Usefull link <a href=\"https://blog.otrs.com/2017/10/25/otrs-6-dynamic-fields-customer-user/\" rel=\"nofollow noreferrer\">https://blog.otrs.com/2017/10/25/otrs-6-dynamic-fields-customer-user/</a></p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 734662, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/dff07278125a302350e0dafd8ba9cca4?s=128&d=identicon&r=PG", "display_name": "Juan Clavero", "link": "https://stackoverflow.com/users/734662/juan-clavero"}, "is_accepted": false, "score": 0, "last_activity_date": 1542789336, "creation_date": 1542789336, "answer_id": 53408035, "question_id": 52831388, "link": "https://stackoverflow.com/questions/52831388/change-customer-information-field-in-agentticketzoom-otrs6/53408035#53408035", "title": "Change Customer Information field in AgentTicketZoom OTRS6", "body": "<p>If your source of customer information is a different database or an LDAP source, it would be enough to add a field in the <code>map</code> section.</p>\n"}], "owner": {"reputation": 33, "user_id": 1849542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2917e4d0c0fb8154589def8a265058c4?s=128&d=identicon&r=PG", "display_name": "Nikhil Raikar", "link": "https://stackoverflow.com/users/1849542/nikhil-raikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 52835756, "answer_count": 2, "score": 1, "last_activity_date": 1542789336, "creation_date": 1539679463, "last_edit_date": 1539680275, "question_id": 52831388, "link": "https://stackoverflow.com/questions/52831388/change-customer-information-field-in-agentticketzoom-otrs6", "title": "Change Customer Information field in AgentTicketZoom OTRS6", "body": "<p>I want to change few fields of customer Information table of AgentTicketZoom file of OTRS6. How to do this? Is there any way?</p>\n\n<p>I need to add a TicketLicense input box below LastName of the field</p>\n\n<p><a href=\"https://i.stack.imgur.com/X1wvT.jpg\" rel=\"nofollow noreferrer\">Yellow circle displays where I need to add my input box</a></p>\n"}, {"tags": ["perl", "activeperl"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539679787, "post_id": 52830905, "comment_id": 92579278, "body": "Can you please post the lines leading up to this error message? There is more relevant information up there."}, {"owner": {"reputation": 461, "user_id": 1197804, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ItT7b.jpg?s=128&g=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/1197804/ssharma"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539685520, "post_id": 52830905, "comment_id": 92582696, "body": "@Corion  Added more information for your reference."}], "answers": [{"tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 0, "last_activity_date": 1539687495, "creation_date": 1539687495, "answer_id": 52833894, "question_id": 52830905, "link": "https://stackoverflow.com/questions/52830905/c-perl64-bin-perl-exe-makefile-pl-installdirs-site-not-ok/52833894#52833894", "title": "C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALLDIRS=site -- NOT OK", "body": "<p>The error message is quite descriptive:</p>\n\n<pre><code>'mysql_config' is not recognized as an internal or external command,\noperable program or batch file.\nFailed to determine directory of mysql.h. Use\n\n  perl Makefile.PL --cflags=-I&lt;dir&gt;\n\nto set this directory. For details see DBD::mysql::INSTALL,\nsection \"C Compiler flags\" or type\n\n  perl Makefile.PL --help\n</code></pre>\n\n<p>You don't have the MySQL client libraries installed, or at least the module installation could not find where you have the MySQL client libraries installed.</p>\n\n<p>Both, Strawberry Perl and ActiveState Perl come with DBD::mysql included resp. ready to install. Are you sure you need to manually install them?</p>\n\n<p>Alternatively, follow the instructions in the <code>INSTALL</code> file of the distribution. You can read it online at <a href=\"https://metacpan.org/pod/distribution/DBD-mysql/lib/DBD/mysql/INSTALL.pod\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/distribution/DBD-mysql/lib/DBD/mysql/INSTALL.pod</a></p>\n"}], "owner": {"reputation": 461, "user_id": 1197804, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ItT7b.jpg?s=128&g=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/1197804/ssharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1308, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1539687495, "creation_date": 1539677828, "last_edit_date": 1539685457, "question_id": 52830905, "link": "https://stackoverflow.com/questions/52830905/c-perl64-bin-perl-exe-makefile-pl-installdirs-site-not-ok", "title": "C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALLDIRS=site -- NOT OK", "body": "<p>The command is failing to execute while trying to install package through below command. Please note that I'm trying to configure Bugzilla version 5.0.4 on Windows 10 using Perl version 5.26.</p>\n\n<pre><code>cpan DBD::mysql\n</code></pre>\n\n<p>Complete Command Response:</p>\n\n<pre><code>PS D:\\Workspace\\bugzilla-5.0.4&gt; cpan DBD::mysql\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: Term::ANSIColor loaded ok (v4.06)\nReading 'C:\\Perl64\\cpan\\Metadata'\n  Database was generated on Mon, 15 Oct 2018 00:29:03 GMT\nRunning install for module 'DBD::mysql'\nCPAN: Digest::SHA loaded ok (v5.98)\nCPAN: Compress::Zlib loaded ok (v2.074)\nChecksum for C:\\Perl64\\cpan\\sources\\authors\\id\\M\\MI\\MICHIELB\\DBD-mysql-4.048.tar.gz ok\nCPAN: Archive::Tar loaded ok (v2.26)\nDBD-mysql-4.048/\nDBD-mysql-4.048/MANIFEST.SKIP\nDBD-mysql-4.048/Makefile.PL.embedded\nDBD-mysql-4.048/myld\nDBD-mysql-4.048/mysql.xs\nDBD-mysql-4.048/constants.h\nDBD-mysql-4.048/dbdimp.c\nDBD-mysql-4.048/Changes\nDBD-mysql-4.048/MANIFEST\nDBD-mysql-4.048/lib/\nDBD-mysql-4.048/lib/Bundle/\nDBD-mysql-4.048/lib/Bundle/DBD/\nDBD-mysql-4.048/lib/Bundle/DBD/mysql.pm\nDBD-mysql-4.048/lib/DBD/\nDBD-mysql-4.048/lib/DBD/mysql.pm\nDBD-mysql-4.048/lib/DBD/mysql/\nDBD-mysql-4.048/lib/DBD/mysql/INSTALL.pod\nDBD-mysql-4.048/lib/DBD/mysql/GetInfo.pm\nDBD-mysql-4.048/README.md\nDBD-mysql-4.048/Makefile.PL\nDBD-mysql-4.048/LICENSE\nDBD-mysql-4.048/META.json\nDBD-mysql-4.048/socket.c\nDBD-mysql-4.048/dbdimp.h\nDBD-mysql-4.048/META.yml\nDBD-mysql-4.048/t/\nDBD-mysql-4.048/t/87async.t\nDBD-mysql-4.048/t/41bindparam.t\nDBD-mysql-4.048/t/rt50304-column_info_parentheses.t\nDBD-mysql-4.048/t/40bit.t\nDBD-mysql-4.048/t/16dbi-get_info.t\nDBD-mysql-4.048/t/99_bug_server_prepare_blob_null.t\nDBD-mysql-4.048/t/41blobs_prepare.t\nDBD-mysql-4.048/t/56connattr.t\nDBD-mysql-4.048/t/65segfault.t\nDBD-mysql-4.048/t/92ssl_riddle_vulnerability.t\nDBD-mysql-4.048/t/40bindparam.t\nDBD-mysql-4.048/t/35prepare.t\nDBD-mysql-4.048/t/70takeimp.t\nDBD-mysql-4.048/t/rt75353-innodb-lock-timeout.t\nDBD-mysql-4.048/t/rt61849-bind-param-buffer-overflow.t\nDBD-mysql-4.048/t/version.t\nDBD-mysql-4.048/t/76multi_statement.t\nDBD-mysql-4.048/t/40server_prepare_crash.t\nDBD-mysql-4.048/t/40bindparam2.t\nDBD-mysql-4.048/t/mysql.dbtest\nDBD-mysql-4.048/t/53comment.t\nDBD-mysql-4.048/t/29warnings.t\nDBD-mysql-4.048/t/92ssl_optional.t\nDBD-mysql-4.048/t/35limit.t\nDBD-mysql-4.048/t/65types.t\nDBD-mysql-4.048/t/40types.t\nDBD-mysql-4.048/t/rt25389-bin-case.t\nDBD-mysql-4.048/t/rt83494-quotes-comments.t\nDBD-mysql-4.048/t/30insertfetch.t\nDBD-mysql-4.048/t/05dbcreate.t\nDBD-mysql-4.048/t/40blobs.t\nDBD-mysql-4.048/t/40nulls_prepare.t\nDBD-mysql-4.048/t/00base.t\nDBD-mysql-4.048/t/80procs.t\nDBD-mysql-4.048/t/55utf8mb4.t\nDBD-mysql-4.048/t/rt118977-zerofill.t\nDBD-mysql-4.048/t/89async-method-check.t\nDBD-mysql-4.048/t/lib.pl\nDBD-mysql-4.048/t/40nulls.t\nDBD-mysql-4.048/t/rt91715.t\nDBD-mysql-4.048/t/88async-multi-stmts.t\nDBD-mysql-4.048/t/rt110983-valid-mysqlfd.t\nDBD-mysql-4.048/t/86_bug_36972.t\nDBD-mysql-4.048/t/42bindparam.t\nDBD-mysql-4.048/t/32insert_error.t\nDBD-mysql-4.048/t/40keyinfo.t\nDBD-mysql-4.048/t/51bind_type_guessing.t\nDBD-mysql-4.048/t/43count_params.t\nDBD-mysql-4.048/t/50chopblanks.t\nDBD-mysql-4.048/t/55utf8.t\nDBD-mysql-4.048/t/40server_prepare_error.t\nDBD-mysql-4.048/t/40server_prepare.t\nDBD-mysql-4.048/t/40listfields.t\nDBD-mysql-4.048/t/91errcheck.t\nDBD-mysql-4.048/t/25lockunlock.t\nDBD-mysql-4.048/t/15reconnect.t\nDBD-mysql-4.048/t/52comment.t\nDBD-mysql-4.048/t/75supported_sql.t\nDBD-mysql-4.048/t/rt88006-bit-prepare.t\nDBD-mysql-4.048/t/10connect.t\nDBD-mysql-4.048/t/92ssl_backronym_vulnerability.t\nDBD-mysql-4.048/t/manifest.t\nDBD-mysql-4.048/t/60leaks.t\nDBD-mysql-4.048/t/71impdata.t\nDBD-mysql-4.048/t/rt86153-reconnect-fail-memory.t\nDBD-mysql-4.048/t/40numrows.t\nDBD-mysql-4.048/t/40catalog.t\nDBD-mysql-4.048/t/rt85919-fetch-lost-connection.t\nDBD-mysql-4.048/t/41int_min_max.t\nDBD-mysql-4.048/t/pod.t\nDBD-mysql-4.048/t/81procs.t\nDBD-mysql-4.048/t/85init_command.t\nDBD-mysql-4.048/t/31insertid.t\nDBD-mysql-4.048/t/20createdrop.t\nDBD-mysql-4.048/t/50commit.t\nCPAN: YAML::XS loaded ok (v0.66)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v2.150010)\nCPAN: CPAN::Meta loaded ok (v2.150010)\nCPAN: Module::CoreList loaded ok (v5.20171120)\nConfiguring M/MI/MICHIELB/DBD-mysql-4.048.tar.gz with Makefile.PL\n'mysql_config' is not recognized as an internal or external command,\noperable program or batch file.\n\n\nPLEASE NOTE:\n\nFor 'make test' to run properly, you must ensure that the\ndatabase user '' can connect to your MySQL server\nand has the proper privileges that these tests require such\nas 'drop table', 'create table', 'drop procedure', 'create procedure'\nas well as others.\n\nmysql&gt; grant all privileges on test.* to ''@'localhost' identified by 's3kr1t';\n\nYou can also optionally set the user to run 'make test' with:\n\nperl Makefile.PL --testuser=username\n\n'mysql_config' is not recognized as an internal or external command,\noperable program or batch file.\nFailed to determine directory of mysql.h. Use\n\n  perl Makefile.PL --cflags=-I&lt;dir&gt;\n\nto set this directory. For details see DBD::mysql::INSTALL,\nsection \"C Compiler flags\" or type\n\n  perl Makefile.PL --help\nWarning: No success on command[C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALLDIRS=site]\n  MICHIELB/DBD-mysql-4.048.tar.gz\n  C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALLDIRS=site -- NOT OK\n</code></pre>\n"}, {"tags": ["perl", "oracle11g"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1539694871, "post_id": 52830044, "comment_id": 92588185, "body": "You don&#39;t think it might be useful to show us the code that generates this error?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1539767620, "post_id": 52830044, "comment_id": 92617999, "body": "Can you produce a small, self-contained example that we can run to see this error?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1539767725, "post_id": 52830044, "comment_id": 92618064, "body": "I&#39;ve edited your question to reformat your code example as code. Please do that yourself in future."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 2042150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gF6ah.jpg?s=128&g=1", "display_name": "vedagiri", "link": "https://stackoverflow.com/users/2042150/vedagiri"}, "edited": false, "score": 0, "creation_date": 1539691496, "post_id": 52833427, "comment_id": 92586088, "body": "if i write test file with below contents works fine. <code>require DBD::Oracle;   eval qq{package                     # hide from PAUSE                 DBI::_firesafe;         # just in case             require DBD::Oracle;      # load the driver     };  require DBI; $dbh = DBI-&gt;connect(&#39;dbi:Oracle:host=xxx;service_name=xx;port=xx&#39;,&#39;&zwnj;&#8203;xx&#39;, &#39;xx&#39;, { RaiseError =&gt; 1, AutoCommit =&gt; 0 }); print $dbh;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 21, "user_id": 2042150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gF6ah.jpg?s=128&g=1", "display_name": "vedagiri", "link": "https://stackoverflow.com/users/2042150/vedagiri"}, "edited": false, "score": 0, "creation_date": 1539694589, "post_id": 52833427, "comment_id": 92588017, "body": "@vedagiri:  Please edit your question to add this information. Code in Stack Overflow comments is (deliberately) unreadable."}, {"owner": {"reputation": 21, "user_id": 2042150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gF6ah.jpg?s=128&g=1", "display_name": "vedagiri", "link": "https://stackoverflow.com/users/2042150/vedagiri"}, "edited": false, "score": 0, "creation_date": 1539766822, "post_id": 52833427, "comment_id": 92617517, "body": "in test file,if i add lines <code>my $row = $schema-&gt;resultset( &#39;test&#39; )-&gt;search ({cols1 =&gt; $arg2, cols2=&gt;$arg1}); if($row-&gt;count == 1) </code> Throws same error"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 21, "user_id": 2042150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gF6ah.jpg?s=128&g=1", "display_name": "vedagiri", "link": "https://stackoverflow.com/users/2042150/vedagiri"}, "edited": false, "score": 0, "creation_date": 1539767643, "post_id": 52833427, "comment_id": 92618012, "body": "@vedagiri: Once again, please don&#39;t share code in comments."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1539694830, "last_edit_date": 1539694830, "creation_date": 1539685844, "answer_id": 52833427, "question_id": 52830044, "link": "https://stackoverflow.com/questions/52830044/dbixclassresultsetcount-dbi-connection-failed-dbdoracle-at-usr-shar/52833427#52833427", "title": "DBIx::Class::ResultSet::count(): DBI Connection failed: DBD::Oracle at /usr/share/perl5/DBIx/Class/Storage/DBI.pm line 1249", "body": "<p>Well, the error message mentions both DBD::Oracle and DBIx::Class, so it looks like you installed those correctly :-)</p>\n\n<p>The important part of the error message is \"DBI Connection failed\", so I suggest you double-check all of the connection details.</p>\n\n<p><strong>Update:</strong> In a comment below, you share some code that you say works. If you have some code that works and some code that doesn't work, then you should probably compare the two pieces of code and work out what the differences are. We would be happy to help with that, but you haven't shown us the code that doesn't work.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2042150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gF6ah.jpg?s=128&g=1", "display_name": "vedagiri", "link": "https://stackoverflow.com/users/2042150/vedagiri"}, "is_accepted": false, "score": 0, "last_activity_date": 1539769405, "creation_date": 1539769405, "answer_id": 52851817, "question_id": 52830044, "link": "https://stackoverflow.com/questions/52830044/dbixclassresultsetcount-dbi-connection-failed-dbdoracle-at-usr-shar/52851817#52851817", "title": "DBIx::Class::ResultSet::count(): DBI Connection failed: DBD::Oracle at /usr/share/perl5/DBIx/Class/Storage/DBI.pm line 1249", "body": "<p>I have found the solution. Oracle instant client installation steps few missed. \nMainly missed step: sudo sh -c \"echo /opt/oracle/instantclient_18_3 > \\\n      /etc/ld.so.conf.d/oracle-instantclient.conf\"</p>\n"}], "owner": {"reputation": 21, "user_id": 2042150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gF6ah.jpg?s=128&g=1", "display_name": "vedagiri", "link": "https://stackoverflow.com/users/2042150/vedagiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539769405, "creation_date": 1539674773, "last_edit_date": 1539767678, "question_id": 52830044, "link": "https://stackoverflow.com/questions/52830044/dbixclassresultsetcount-dbi-connection-failed-dbdoracle-at-usr-shar", "title": "DBIx::Class::ResultSet::count(): DBI Connection failed: DBD::Oracle at /usr/share/perl5/DBIx/Class/Storage/DBI.pm line 1249", "body": "<p>I have installed DBIX::Class and DBD::Oracle modules. but getting error below</p>\n\n<blockquote>\n  <p>DBIx::Class::ResultSet::count(): DBI Connection failed: DBD::Oracle at\n  /usr/share/perl5/DBIx/Class/Storage/DBI.pm line 1249.</p>\n</blockquote>\n\n<p>Could you please help me to get resolved</p>\n\n<p>Above Error throws from the below line in my code</p>\n\n<pre><code>my $row = $schema-&gt;resultset( 'test' )-&gt;search ({cols1 =&gt; $arg2, cols2=&gt;$arg1});\nif($row-&gt;count == 1) //thorws error\n</code></pre>\n"}, {"tags": ["eclipse", "perl", "microcontroller", "post-build"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1539675001, "post_id": 52830003, "comment_id": 92576583, "body": "Can you please show a script where the differences show up? I would expect floating point calculations to be different, but as you are using two different <code>libc</code>s and compilers, it is somewhat expected that the parts where the C libraries differ will result in different outcomes for the script."}, {"owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "edited": false, "score": 0, "creation_date": 1539675970, "post_id": 52830003, "comment_id": 92577138, "body": "Code you want us to look at must here in the question. Links may go bad."}, {"owner": {"reputation": 136, "user_id": 4319235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bb2aef0f39294a920b366e035b6637?s=128&d=identicon&r=PG&f=1", "display_name": "Catosh", "link": "https://stackoverflow.com/users/4319235/catosh"}, "edited": false, "score": 0, "creation_date": 1539676337, "post_id": 52830003, "comment_id": 92577334, "body": "Ok, added outcome of the perl script and the perl script itself."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1539681439, "post_id": 52830003, "comment_id": 92580252, "body": "The script relies on a lot on undefined hash iteration order which may produce inconsistent results \u2013 it&#39;s difficult to tell with this code because it is somewhat sloppily written. Do multiple runs under the same Perl version always produce the same output?"}, {"owner": {"reputation": 136, "user_id": 4319235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bb2aef0f39294a920b366e035b6637?s=128&d=identicon&r=PG&f=1", "display_name": "Catosh", "link": "https://stackoverflow.com/users/4319235/catosh"}, "edited": false, "score": 0, "creation_date": 1539681946, "post_id": 52830003, "comment_id": 92580570, "body": "I didn&#39;t check yet, I&#39;ll perform some measurement and update the post."}, {"owner": {"reputation": 136, "user_id": 4319235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bb2aef0f39294a920b366e035b6637?s=128&d=identicon&r=PG&f=1", "display_name": "Catosh", "link": "https://stackoverflow.com/users/4319235/catosh"}, "edited": false, "score": 0, "creation_date": 1539682603, "post_id": 52830003, "comment_id": 92580929, "body": "Post updated, don&#39;t think it&#39;s useful to post the output of the iterations."}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1539682851, "post_id": 52830003, "comment_id": 92581068, "body": "Can you provide the output of the underlying call to <code>arm-none-eabi-objdump -dr $objfile</code> via pastebin? And also the <code>.su</code> files."}, {"owner": {"reputation": 136, "user_id": 4319235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bb2aef0f39294a920b366e035b6637?s=128&d=identicon&r=PG&f=1", "display_name": "Catosh", "link": "https://stackoverflow.com/users/4319235/catosh"}, "edited": false, "score": 0, "creation_date": 1539683732, "post_id": 52830003, "comment_id": 92581647, "body": "Yes I can but I don&#39;t know how to redirect that output. Right now the perl script s executed in a bat file in the form of   <code>perl avstack.pl ^ Outputfiles&#47;clockMan1.o ^ ... Outputfiles&#47;main.o&gt; stackUsage.txt</code>  So I think I should print the output of the call to objdump somewhere in the perl script."}], "owner": {"reputation": 136, "user_id": 4319235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bb2aef0f39294a920b366e035b6637?s=128&d=identicon&r=PG&f=1", "display_name": "Catosh", "link": "https://stackoverflow.com/users/4319235/catosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1539682435, "creation_date": 1539674598, "last_edit_date": 1539682435, "question_id": 52830003, "link": "https://stackoverflow.com/questions/52830003/is-it-normal-that-two-different-versions-of-perl-produce-different-results", "title": "Is it normal that two different versions of perl produce different results?", "body": "<p>I am trying to perform some stack analysis on an MCU following the steps described <a href=\"https://mcuoneclipse.com/2015/08/21/gnu-static-stack-usage-analysis/\" rel=\"nofollow noreferrer\">here</a>. The site links then to a <a href=\"https://dlbeer.co.nz/oss/avstack.html\" rel=\"nofollow noreferrer\">Perl script</a> that I launch as a post-build operation by meanings of a simple batch file. \nThe IDEA based on Eclipse uses the Perl executable at the path:</p>\n\n<pre><code>C:\\..\\S32DS_ARM_v2018.R1\\utils\\msys32\\usr\\bin\\perl.exe\n</code></pre>\n\n<p>perl.exe -v gives: </p>\n\n<pre><code>This is perl 5, version 22, subversion 1 (v5.22.1) built for i686-msys-thread-multi-64int \n</code></pre>\n\n<p>The OS (windows) has a perl installation at </p>\n\n<pre><code>C:\\Perl64\\bin\\perl.exe\n</code></pre>\n\n<p>perl.exe -v gives: </p>\n\n<pre><code>This is perl 5, version 24, subversion 3 (v5.24.3) built for MSWin32-x64-multi-thread\n(with 1 registered patch, see perl -V for more detail)\n</code></pre>\n\n<p>I can confirm that avstak.pl (the perl script I am referring some lines above)  produces different results with the former or the latter. \nWHY this happens, is out of my area of expertise at the moment.</p>\n\n<p>What I would like to understand is </p>\n\n<ol>\n<li>Understand why this is happening;</li>\n<li>Understand which perl provides the right outputs (pretty sure I suppose the 5.24.3 is the correct one);</li>\n<li>Learning how to prevent this issue if I am going to use perl in future.</li>\n</ol>\n\n<p>Thanks and best regards, \nL.</p>\n\n<p>Edit: the outcome of the script with the two different perl versions (reduced output for readability):\nThis one is result_5.22.1</p>\n\n<pre><code>  Func                               Cost    Frame   Height\n------------------------------------------------------------------------\n&gt; I2C_MasterGetTransferStatus         292      292        1\n&gt; FLEXIO_I2C_DRV_MasterStartTransfer      236      236        1\n&gt; CLOCK_DRV_Init                      172      172        1\n&gt; CLOCK_SYS_SetConfiguration          172      172        1\n&gt; EDMA_DRV_ConfigScatterGatherTransfer      132      132        1\n&gt; CLOCK_SYS_SetSystemClockConfig       76       76        1\n&gt; FLEXIO_I2C_DRV_MasterInit            60       60        1\n&gt; EDMA_DRV_ConfigSingleBlockTransfer       60       60        1\n&gt; main                                 52       52        1\n&gt; LPI2C_DRV_MasterSetBaudRate          52       52        1\n&gt; LPI2C_DRV_MasterStartDmaTransfer       52       52        1\n&gt; FLEXIO_DRV_InitDriver                52       52        1\n&gt; I2C_MasterInit                       44       44        1\n&gt; LPI2C_DRV_SlaveStartDmaTransfer       44       44        1\n&gt; CLOCK_SYS_UpdateConfiguration        44       44        1\n&gt; CLOCK_DRV_SetClockSource             44       44        1\n&gt; LPI2C_DRV_SlaveInit                  44       44        1\n&gt; EDMA_DRV_Init                        44       44        1\n&gt; EDMA_DRV_Deinit                      36       36        1\n&gt; CLOCK_SYS_ConfigureSOSC              36       36        1\n&gt; CLOCK_SYS_ConfigureFIRC              36       36        1\n</code></pre>\n\n<p>vs\nresult_5.24.3</p>\n\n<pre><code> Func                               Cost    Frame   Height\n------------------------------------------------------------------------\n&gt; main                                536       52        9\n  I2C_MasterSendDataBlocking          484       28        8\n&gt; I2C_MasterReceiveDataBlocking       484       28        8\n&gt; I2C_MasterReceiveData               468       20        7\n&gt; I2C_MasterSendData                  468       20        7\n  FLEXIO_I2C_DRV_MasterReceiveDataBlocking      456       28        7\n  FLEXIO_I2C_DRV_MasterSendDataBlocking      456       28        7\n  FLEXIO_I2C_DRV_MasterSendData       448       20        5\n  FLEXIO_I2C_DRV_MasterReceiveData      448       20        5\n  FLEXIO_I2C_DRV_MasterStartTransfer      428      236        4\n&gt; I2C_MasterGetTransferStatus         408      292        6\n  CLOCK_SYS_UpdateConfiguration       336       44        6\n  CLOCK_SYS_SetConfiguration          292      172        5\n&gt; CLOCK_DRV_Init                      292      172        5\n  LPI2C_DRV_MasterReceiveDataBlocking      256       20        7\n&gt; I2C_SlaveReceiveDataBlocking        252       12        8\n&gt; I2C_SlaveSendDataBlocking           252       12        8\n</code></pre>\n\n<p>As you can see the hight number in the first version doesn't increase (and it should). \nCost and frame suffer the same issue I suppose. </p>\n\n<p>the script is here: </p>\n\n<pre><code>#!/usr/bin/perl -w\n# avstack.pl: AVR stack checker\n# Copyright (C) 2013 Daniel Beer &lt;dlbeer@gmail.com&gt;\n#\n# Permission to use, copy, modify, and/or distribute this software for\n# any purpose with or without fee is hereby granted, provided that the\n# above copyright notice and this permission notice appear in all\n# copies.\n#\n# THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL\n# WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED\n# WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE\n# AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL\n# DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR\n# PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n# TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n# PERFORMANCE OF THIS SOFTWARE.\n#\n# Usage\n# -----\n#\n# This script requires that you compile your code with -fstack-usage.\n# This results in GCC generating a .su file for each .o file. Once you\n# have these, do:\n#\n#    ./avstack.pl &lt;object files&gt;\n#\n# This will disassemble .o files to construct a call graph, and read\n# frame size information from .su. The call graph is traced to find, for\n# each function:\n#\n#    - Call height: the maximum call height of any callee, plus 1\n#      (defined to be 1 for any function which has no callees).\n#\n#    - Inherited frame: the maximum *inherited* frame of any callee, plus\n#      the GCC-calculated frame size of the function in question.\n#\n# Using these two pieces of information, we calculate a cost (estimated\n# peak stack usage) for calling the function. Functions are then listed\n# on stdout in decreasing order of cost.\n#\n# Functions which are recursive are marked with an 'R' to the left of\n# them. Their cost is calculated for a single level of recursion.\n#\n# The peak stack usage of your entire program can usually be estimated\n# as the stack cost of \"main\", plus the maximum stack cost of any\n# interrupt handler which might execute.\n\nuse strict;\n\n# Configuration: set these as appropriate for your architecture/project.\n\nmy $objdump = \"arm-none-eabi-objdump\";\nmy $call_cost = 4;\n\n# First, we need to read all object and corresponding .su files. We're\n# gathering a mapping of functions to callees and functions to frame\n# sizes. We're just parsing at this stage -- callee name resolution\n# comes later.\n\nmy %frame_size;     # \"func@file\" -&gt; size\nmy %call_graph;     # \"func@file\" -&gt; {callees}\nmy %addresses;      # \"addr@file\" -&gt; \"func@file\"\n\nmy %global_name;    # \"func\" -&gt; \"func@file\"\nmy %ambiguous;      # \"func\" -&gt; 1\n\nforeach (@ARGV) {\n    # Disassemble this object file to obtain a callees. Sources in the\n    # call graph are named \"func@file\". Targets in the call graph are\n    # named either \"offset@file\" or \"funcname\". We also keep a list of\n    # the addresses and names of each function we encounter.\n    my $objfile = $_;\n    my $source;\n\n    open(DISASSEMBLY, \"$objdump -dr $objfile|\") ||\n    die \"Can't disassemble $objfile\";\n    while (&lt;DISASSEMBLY&gt;) {\n    chomp;\n\n    if (/^([0-9a-fA-F]+) &lt;(.*)&gt;:/) {\n        my $a = $1;\n        my $name = $2;\n\n        $source = \"$name\\@$objfile\";\n        $call_graph{$source} = {};\n        $ambiguous{$name} = 1 if defined($global_name{$name});\n        $global_name{$name} = \"$name\\@$objfile\";\n\n        $a =~ s/^0*//;\n        $addresses{\"$a\\@$objfile\"} = \"$name\\@$objfile\";\n    }\n\n    if (/: R_[A-Za-z0-9_]+_CALL[ \\t]+(.*)/) {\n        my $t = $1;\n\n        if ($t eq \".text\") {\n        $t = \"\\@$objfile\";\n        } elsif ($t =~ /^\\.text\\+0x(.*)$/) {\n        $t = \"$1\\@$objfile\";\n        }\n\n        $call_graph{$source}-&gt;{$t} = 1;\n    }\n    }\n    close(DISASSEMBLY);\n\n    # Extract frame sizes from the corresponding .su file.\n    if ($objfile =~ /^(.*).o$/) {\n    my $sufile = \"$1.su\";\n\n    open(SUFILE, \"&lt;$sufile\") || die \"Can't open $sufile\";\n    while (&lt;SUFILE&gt;) {\n        $frame_size{\"$1\\@$objfile\"} = $2 + $call_cost\n        if /^.*:([^\\t ]+)[ \\t]+([0-9]+)/;\n    }\n    close(SUFILE);\n    }\n}\n\n# In this step, we enumerate each list of callees in the call graph and\n# try to resolve the symbols. We omit ones we can't resolve, but keep a\n# set of them anyway.\n\nmy %unresolved;\n\nforeach (keys %call_graph) {\n    my $from = $_;\n    my $callees = $call_graph{$from};\n    my %resolved;\n\n    foreach (keys %$callees) {\n    my $t = $_;\n\n    if (defined($addresses{$t})) {\n        $resolved{$addresses{$t}} = 1;\n    } elsif (defined($global_name{$t})) {\n        $resolved{$global_name{$t}} = 1;\n        warn \"Ambiguous resolution: $t\" if defined ($ambiguous{$t});\n    } elsif (defined($call_graph{$t})) {\n        $resolved{$t} = 1;\n    } else {\n        $unresolved{$t} = 1;\n    }\n    }\n\n    $call_graph{$from} = \\%resolved;\n}\n\n# Create fake edges and nodes to account for dynamic behaviour.\n$call_graph{\"INTERRUPT\"} = {};\n\nforeach (keys %call_graph) {\n    $call_graph{\"INTERRUPT\"}-&gt;{$_} = 1 if /^__vector_/;\n}\n\n# Trace the call graph and calculate, for each function:\n#\n#    - inherited frames: maximum inherited frame of callees, plus own\n#      frame size.\n#    - height: maximum height of callees, plus one.\n#    - recursion: is the function called recursively (including indirect\n#      recursion)?\n\nmy %has_caller;\nmy %visited;\nmy %total_cost;\nmy %call_depth;\n\nsub trace {\n    my $f = shift;\n\n    if ($visited{$f}) {\n    $visited{$f} = \"R\" if $visited{$f} eq \"?\";\n    return;\n    }\n\n    $visited{$f} = \"?\";\n\n    my $max_depth = 0;\n    my $max_frame = 0;\n\n    my $targets = $call_graph{$f} || die \"Unknown function: $f\";\n    if (defined($targets)) {\n    foreach (keys %$targets) {\n        my $t = $_;\n\n        $has_caller{$t} = 1;\n        trace($t);\n\n        my $is = $total_cost{$t};\n        my $d = $call_depth{$t};\n\n        $max_frame = $is if $is &gt; $max_frame;\n        $max_depth = $d if $d &gt; $max_depth;\n    }\n    }\n\n    $call_depth{$f} = $max_depth + 1;\n    $total_cost{$f} = $max_frame + ($frame_size{$f} || 0);\n    $visited{$f} = \" \" if $visited{$f} eq \"?\";\n}\n\nforeach (keys %call_graph) { trace $_; }\n\n# Now, print results in a nice table.\nprintf \"  %-30s %8s %8s %8s\\n\",\n    \"Func\", \"Cost\", \"Frame\", \"Height\";\nprint \"------------------------------------\";\nprint \"------------------------------------\\n\";\n\nmy $max_iv = 0;\nmy $main = 0;\n\nforeach (sort { $total_cost{$b} &lt;=&gt; $total_cost{$a} } keys %visited) {\n    my $name = $_;\n\n    if (/^(.*)@(.*)$/) {\n    $name = $1 unless $ambiguous{$name};\n    }\n\n    my $tag = $visited{$_};\n    my $cost = $total_cost{$_};\n\n    $name = $_ if $ambiguous{$name};\n    $tag = \"&gt;\" unless $has_caller{$_};\n\n    if (/^__vector_/) {\n    $max_iv = $cost if $cost &gt; $max_iv;\n    } elsif (/^main@/) {\n    $main = $cost;\n    }\n\n    if ($ambiguous{$name}) { $name = $_; }\n\n    printf \"%s %-30s %8d %8d %8d\\n\", $tag, $name, $cost,\n    $frame_size{$_} || 0, $call_depth{$_};\n}\n\nprint \"\\n\";\n\nprint \"Peak execution estimate (main + worst-case IV):\\n\";\nprintf \"  main = %d, worst IV = %d, total = %d\\n\",\n      $total_cost{$global_name{\"main\"}},\n      $total_cost{\"INTERRUPT\"},\n      $total_cost{$global_name{\"main\"}} + $total_cost{\"INTERRUPT\"};\n\nprint \"\\n\";\n\nprint \"The following functions were not resolved:\\n\";\nforeach (keys %unresolved) { print \"  $_\\n\"; }\n</code></pre>\n\n<p>Edit2: \nAs Amon suggested to check, subsequent iterations of the script on the same dataset doesn't produce the same output. Values (cost/frame/height) are always the same but the order in which the functions are reported is different.</p>\n"}, {"tags": ["linux", "perl", "ssl", "encryption", "ssl-certificate"], "owner": {"reputation": 39, "user_id": 7596757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a9135dd11e4c5745df8e64502842eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Unixquest945", "link": "https://stackoverflow.com/users/7596757/unixquest945"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539674527, "creation_date": 1539674527, "question_id": 52829981, "link": "https://stackoverflow.com/questions/52829981/how-to-access-variables-in-perl-from-the-config-file-for-ssl-cipher-list", "title": "How to access variables in Perl from the config file for SSL cipher list", "body": "<p>I am new to perl , need to edit the code in a way that the code takes the cipher-list from another file say B file.The cipherlist should be a variable in another file B(config file), the value of the variable has to be used in 'IO:Socket' object used in the Perl code in file A. </p>\n\n<p>Below is the code from the file A(bin file). Instead of 'SSL cipher list' line (3rd line), it  has to be edited  in such a way that it takes the value of the cipher list (as variable) from the B file (config file).</p>\n\n<p><strong>A file:</strong></p>\n\n<pre><code># Create the SSL Socket:\nif($useSSL) {\n$socket = 10::Socket::SSL-&gt;new(\nPeerAddr    =&gt; \"${address}\",\nPeerPort    =&gt; \"${port}\",\nSSL cipher list =&gt;'ECDH+AES128:ECDH+AESGCM:ECDH+AES256:DH+AES:DH+AESGCM:DH+AES256:RSA+AES:RSA+AESGCM:LaNULL:!RC4:!MD5:!DSS:!3DES:!SSLy3'A\n) \n</code></pre>\n\n<p>Below lines I have selectively pasted instead of including all the lines.Config file is already defined in the code:</p>\n\n<p><strong>A file (bin file)</strong> :</p>\n\n<pre><code>$args{ ' client '} &amp;&amp; do { client (\n\n'address' =&gt; $args{address},\n\n' config' =&gt; $config,\n</code></pre>\n\n<p><strong>B file (config file)</strong> . Need to edit here as well , this looks something like :</p>\n\n<pre><code>   .................................... # \n\nDaemon Section # ################## section daemon\nset listenTimeout        \nset port        \nset ssl        \nset http        \nset sslKey\nset sslCert        \nset maxConnections\nset shimDir\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 5, "creation_date": 1539667987, "post_id": 52828509, "comment_id": 92573570, "body": "<code>printName({name =&gt; &quot;vicky&quot;});</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 1451155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce26a2e720bb85aca01f31c06420e9bc?s=128&d=identicon&r=PG", "display_name": "Ricaz", "link": "https://stackoverflow.com/users/1451155/ricaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1539678448, "creation_date": 1539678448, "answer_id": 52831095, "question_id": 52828509, "link": "https://stackoverflow.com/questions/52828509/how-to-pass-hash-reference-created-in-parameter-at-call-time-of-a-method/52831095#52831095", "title": "How to pass hash reference created in parameter at call time of a method?", "body": "<p>Your subroutine is fine except you need to declare <code>$ref</code>. You can simply pass an anonymous hash to it like so:</p>\n\n<p><code>printName({ name =&gt; \"vicky\" });</code></p>\n"}], "owner": {"reputation": 396, "user_id": 7625104, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2ZpSIzmaVwQ/AAAAAAAAAAI/AAAAAAAAABI/OBi4JV3mrT4/photo.jpg?sz=128", "display_name": "Vicky Gupta", "link": "https://stackoverflow.com/users/7625104/vicky-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539678448, "creation_date": 1539667942, "question_id": 52828509, "link": "https://stackoverflow.com/questions/52828509/how-to-pass-hash-reference-created-in-parameter-at-call-time-of-a-method", "title": "How to pass hash reference created in parameter at call time of a method?", "body": "<pre><code>sub printName{ \n    $ref = shift;\n    print \"$ref-&gt;{name}\";\n};\n\nprintName(\\%hs = (name =&gt; \"vicky\"));\n</code></pre>\n\n<p>This is giving the error, is there any way to pass?\nThank you</p>\n"}, {"tags": ["bash", "python-2.7", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1539640399, "post_id": 52824825, "comment_id": 92567420, "body": "The first line has <code>a,b</code> only. The first time the third field has something is <code>e</code> and you use that to fill the slot in the first line. But, next comes <code>i</code> in that field, a few lines down. Do you always use the first that comes along? Then, the line with <code>p,q</code> uses <code>m</code> to fill the third field-- which appeared in an <i>earlier</i> line.  What is the general rule? If an item to fill a field has been seen (and wasn&#39;t used) then use that one, otherwise the first next? What when there are more unused items for a field, which ones do you use? Can one item be re-used to fill spots in multiple lines?"}, {"owner": {"reputation": 1, "user_id": 10248678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpnLA.jpg?s=128&g=1", "display_name": "oguz ismail", "link": "https://stackoverflow.com/users/10248678/oguz-ismail"}, "edited": false, "score": 0, "creation_date": 1539644100, "post_id": 52824825, "comment_id": 92568298, "body": "Could you include the code you have tried in your question, please?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539649088, "post_id": 52824825, "comment_id": 92569321, "body": "@zdim, Combine rows with same value in second field."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539649698, "post_id": 52824825, "comment_id": 92569459, "body": "@ikegami  The row with <code>e</code> that&#39;s used to fill the first row (<code>a,b</code>) has nothing in the second field? Or am I missing stuff ...?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539650308, "post_id": 52824825, "comment_id": 92569582, "body": "@zdim It looks like everything resets when there&#39;s a new value in the time column."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539651529, "post_id": 52824825, "comment_id": 92569831, "body": "@Shawn Ah, I didn&#39;t read the third bullet carefully.  Then one can just keep a buffer and collapse it into a line once epoch time changes (if we&#39;re given uniqueness and completeness of field entries)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539652396, "post_id": 52824825, "comment_id": 92570009, "body": "@zdiff, hum? Every row has a value in the second field (<code>epochtime</code>), either <code>time-a</code>, <code>time-b</code> or <code>time-c</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539652635, "post_id": 52824825, "comment_id": 92570060, "body": "@blue_bandana, The two posted snippets assume the rows are grouped by <code>epochtime</code>. Is that the case, you didn&#39;t say it was."}, {"owner": {"reputation": 43, "user_id": 10508987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d72ff13a4c70a593ec0c1525ae702685?s=128&d=identicon&r=PG&f=1", "display_name": "blue_bandana", "link": "https://stackoverflow.com/users/10508987/blue-bandana"}, "edited": false, "score": 0, "creation_date": 1539696704, "post_id": 52824825, "comment_id": 92589431, "body": "epochtime is chronological and values are grouped by time. As zdim mentioned, &quot;uniqueness and completeness of field entries&quot; is given."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539714787, "post_id": 52824825, "comment_id": 92599741, "body": "@ikegami Eh, I was counting those fields that are up for grabs. You are right, lines are grouped for the (same) value in the second field.  I skimmed over that third bullet too quick."}], "answers": [{"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 2, "last_activity_date": 1539644713, "creation_date": 1539644713, "answer_id": 52825844, "question_id": 52824825, "link": "https://stackoverflow.com/questions/52824825/merging-multiple-csv-rows-with-mostly-empty-fields-into-single-row-per-timestamp/52825844#52825844", "title": "Merging multiple CSV rows with mostly empty fields into single row per timestamp", "body": "<pre><code>$ cat tst.awk\nBEGIN { FS=OFS=\",\" }\n$2 != prev { if (NR&gt;1) prt(); prev=$2 }\n{\n    for (i=1; i&lt;=NF; i++) {\n        if ($i != \"\") {\n            rec[i] = $i\n        }\n    }\n}\nEND { prt() }\nfunction prt() {\n    for (i=1; i&lt;=NF; i++) {\n        printf \"%s%s\", rec[i], (i&lt;NF ? OFS : ORS)\n    }\n    delete rec\n}\n\n$ awk -f tst.awk file\nsomething,epochtime,time-human-readable,some,header,for,the,values,here\nsame,time-a,don-t_care,a,b,e,f,c,d\nsame,time-b,don-t_care,g,h,i,j,l,k\nsame,time-c,don-t_care,p,q,m,n,o,r\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 1, "last_activity_date": 1539654618, "last_edit_date": 1539654618, "creation_date": 1539649516, "answer_id": 52826368, "question_id": 52824825, "link": "https://stackoverflow.com/questions/52824825/merging-multiple-csv-rows-with-mostly-empty-fields-into-single-row-per-timestamp/52826368#52826368", "title": "Merging multiple CSV rows with mostly empty fields into single row per timestamp", "body": "<p>Perl version, using a CSV parser instead of naive splitting on commas in order to be more robust - you mention some of the columns are strings, so this will handle cases where they have embedded commas and such.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n# Install the following non-core modules through your\n# OS package manager or favorite CPAN client.\nuse List::MoreUtils qw/pairwise/;\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new({ auto_diag =&gt; 2, blank_is_undef =&gt; 1 });\nmy $header = &lt;&gt;;\nprint $header;\nmy $merged = $csv-&gt;getline(\\*ARGV);\nwhile (my $cols = $csv-&gt;getline(\\*ARGV)) {\n  if ($merged-&gt;[1] ne $cols-&gt;[1]) {\n    $csv-&gt;say(\\*STDOUT, $merged);\n    $merged = $cols;\n  } else {\n    $merged = [ pairwise { $a // $b } @$merged, @$cols ];\n  }\n}\n$csv-&gt;say(\\*STDOUT, $merged);\n</code></pre>\n\n<p>running it:</p>\n\n<pre><code>$ perl merge.pl data.csv\nsomething,epochtime,time-human-readable,some,header,for,the,values,here\nsame,time-a,don-t_care,a,b,e,f,c,d\nsame,time-b,don-t_care,g,h,i,j,l,k\nsame,time-c,don-t_care,p,q,m,n,o,r\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": false, "score": 0, "last_activity_date": 1539730516, "creation_date": 1539730516, "answer_id": 52845038, "question_id": 52824825, "link": "https://stackoverflow.com/questions/52824825/merging-multiple-csv-rows-with-mostly-empty-fields-into-single-row-per-timestamp/52845038#52845038", "title": "Merging multiple CSV rows with mostly empty fields into single row per timestamp", "body": "<p>Another Perl solution:</p>\n\n<pre><code>open $CSV, \"&lt;\" , \"ugly.csv\";\n@R=();\n  while (&lt;$CSV&gt;) {\n      if ($.==1 ) { print ; next; }\n      chomp;\n      @F=split(/,/,$_);\n      $k=join(\",\",@F[0..2]);\n      if( $k ne $prevk ) { @R=() }\n      push(@R,@F[3..9],\"|\");\n      $hash{\"$k\"}=join(\",\",@R);\n      $prevk=$k;\n    }\nforeach $val (sort keys %hash)\n{\n @arr=split(/\\|/,$hash{$val});\n $x=join(\"\",reverse sort @arr);\n $x=~s/(^[,])|([,]{2,})/$1 eq \",\" ? \"\" : \",\"/eg;\n print \"$val,$x\\n\";\n}\n</code></pre>\n\n<p>Shell Output:</p>\n\n<pre><code>$ perl -f ugly_csv.pl\nsomething,epochtime,time-human-readable,some,header,for,the,values,here\nsame,time-a,don-t_care,a,b,e,f,c,d,\nsame,time-b,don-t_care,g,h,i,j,l,k,\nsame,time-c,don-t_care,p,q,m,n,o,r,\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10508987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d72ff13a4c70a593ec0c1525ae702685?s=128&d=identicon&r=PG&f=1", "display_name": "blue_bandana", "link": "https://stackoverflow.com/users/10508987/blue-bandana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 52825844, "answer_count": 3, "score": 3, "last_activity_date": 1539730516, "creation_date": 1539637908, "last_edit_date": 1539698201, "question_id": 52824825, "link": "https://stackoverflow.com/questions/52824825/merging-multiple-csv-rows-with-mostly-empty-fields-into-single-row-per-timestamp", "title": "Merging multiple CSV rows with mostly empty fields into single row per timestamp", "body": "<p>I've got a problem converting an \"ugly\" csv into a \"pretty\" one.\ne.g., I have:</p>\n\n<pre><code>something,epochtime,time-human-readable,some,header,for,the,values,here\nsame,time-a,don-t_care,a,b,,,,\nsame,time-a,don-t_care,,,,,c,\nsame,time-a,don-t_care,,,,,,d\nsame,time-a,don-t_care,,,e,f,,\nsame,time-b,don-t_care,g,h,,,,\nsame,time-b,don-t_care,,,i,j,,\nsame,time-b,don-t_care,,,,,,k\nsame,time-b,don-t_care,,,,,l,\nsame,time-c,don-t_care,,,m,n,,\nsame,time-c,don-t_care,,,,,o,\nsame,time-c,don-t_care,p,q,,,,\nsame,time-c,don-t_care,,,,,,r\n</code></pre>\n\n<p>But what I need is:</p>\n\n<pre><code>something,epochtime,time-human-readable,some,header,for,the,values,here\nsame,time-a,don-t_care,a,b,e,f,c,d\nsame,time-b,don-t_care,g,h,i,j,l,k\nsame,time-c,don-t_care,p,q,m,n,o,r\n</code></pre>\n\n<p>Data behaviour:</p>\n\n<ul>\n<li>Columns in question contain signed-integer or float (except first and third column which are of type string and not part of the problem).</li>\n<li>Always exactly 1 value per column and epochtime. (One could interpret empty fields as 0 and sum all values in one column belonging to a single epochtime.)  </li>\n<li>Values to one epochtime spread across the same number of lines every time.</li>\n<li>Values belonging to a single epochtime <em><strong>might</strong></em> always appear spread across the rows in the same pattern (unlike the example) ... but that's not guaranteed.</li>\n</ul>\n\n<p>I tried to solve this problem with my limited skill using sed / awk but to no avail.</p>\n\n<p>Any solution that can be executed by crontab is welcome, while bash / sed / awk / perl / python or any \"apt-get install ...\" capable command-line tool is preferred. Host OS is XUbuntu 16.04 LTS.</p>\n\n<p>Addendum: (2018-10-16 13:55 UTC)</p>\n\n<ul>\n<li>Rows are sorted chronological according to epochtime</li>\n<li>Values are grouped by epochtime</li>\n<li>Even though first and third column contain string, it consists of Letters, Numbers and <code>-</code> or <code>_</code>, no whitespace or <code>,</code> --> no string-headache<br>\ni.e. <code>dummy,1539697764,2018-10-16_13-49-24,p,q,,,,</code></li>\n</ul>\n"}, {"tags": ["perl", "recursion"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1539638355, "post_id": 52824809, "comment_id": 92566848, "body": "Try to pass around a reference to the <code>$strBuffer</code> and not the string variable itself."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7434602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf03886c819caa9b28830cb2ccdd980b?s=128&d=identicon&r=PG&f=1", "display_name": "SDCode", "link": "https://stackoverflow.com/users/7434602/sdcode"}, "edited": false, "score": 0, "creation_date": 1539640252, "post_id": 52825154, "comment_id": 92567385, "body": "Yes. That worked. Just tried it out. So basically the scope of reference the variable remains during the recursive calls but the variable doesn&#39;t? Is that where I was missing it? If that&#39;s case state should have helped too right?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 27, "user_id": 7434602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf03886c819caa9b28830cb2ccdd980b?s=128&d=identicon&r=PG&f=1", "display_name": "SDCode", "link": "https://stackoverflow.com/users/7434602/sdcode"}, "edited": false, "score": 1, "creation_date": 1539640852, "post_id": 52825154, "comment_id": 92567555, "body": "@SDCode Yes for each recursive call you passed a new copy of <code>$strBuffer</code> (instead of a reference) and that copy was never returned to the caller. That is the purpose of the reference, any modifications in the called sub will be visible in the caller&#39;s variable (through the reference)"}, {"owner": {"reputation": 27, "user_id": 7434602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf03886c819caa9b28830cb2ccdd980b?s=128&d=identicon&r=PG&f=1", "display_name": "SDCode", "link": "https://stackoverflow.com/users/7434602/sdcode"}, "edited": false, "score": 0, "creation_date": 1539641542, "post_id": 52825154, "comment_id": 92567739, "body": "Okay. That makes more sense. Thanks a lot!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1539639749, "creation_date": 1539639749, "answer_id": 52825154, "question_id": 52824809, "link": "https://stackoverflow.com/questions/52824809/perl-capturing-data-from-recursive-calls/52825154#52825154", "title": "Perl : Capturing data from recursive calls", "body": "<p>Here is an example passing <code>$strBuffer</code> as a reference:</p>\n\n<pre><code>sub constructTree {\n    my ($test, $indentStr) = @_;\n\n    my $strBuffer = \"\";\n    my $strBufferRef = populateTree($test, $indentStr, \\$strBuffer);\n    $strBuffer = \"name my_gen_XML;\\n\\n\\n\".$$strBufferRef;\n    return $strBuffer;\n}\n\nsub populateTree {\n    my ($array, $indentText, $strBuffer) = @_;\n\n    my $item = shift @$array;\n    $$strBuffer .= \"    $indentText \\\"$item\\\";\\n\";\n    my $newIndentText = \"    $indentText\";\n\n    foreach my $child ( @$array ) {\n        populateTree($child, $newIndentText, $strBuffer);\n        $$strBuffer .= \"    $indentText\\n\";\n    }\n    return $strBuffer;\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>name my_gen_XML;\n\n\n        name \"main\";\n            name \"fred\";\n                name \"barney\";\n            name\n        name\n            name \"george\";\n                name \"jane\";\n                    name \"elroy\";\n                name\n            name\n        name\n            name \"homer\";\n                name \"marge\";\n                    name \"bart\";\n                name\n            name\n        name\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 7434602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf03886c819caa9b28830cb2ccdd980b?s=128&d=identicon&r=PG&f=1", "display_name": "SDCode", "link": "https://stackoverflow.com/users/7434602/sdcode"}, "edited": false, "score": 0, "creation_date": 1539702922, "post_id": 52825558, "comment_id": 92593495, "body": "Thank you for response and for making me learn new way(s) of doing the same. I wanted to ask about your final method(aliasing behaviour of foreach loop), won&#39;t it add an extra for loop and increase the execution time for the same."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 27, "user_id": 7434602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf03886c819caa9b28830cb2ccdd980b?s=128&d=identicon&r=PG&f=1", "display_name": "SDCode", "link": "https://stackoverflow.com/users/7434602/sdcode"}, "edited": false, "score": 1, "creation_date": 1539708783, "post_id": 52825558, "comment_id": 92596768, "body": "Not noticeably: it loops over one item, so it&#39;s the same as running a regular code block, just with the variable aliased. (Fun fact: <a href=\"https://perldoc.pl/perlsyn#Basic-BLOCKs\" rel=\"nofollow noreferrer\">bare blocks</a> are actually loops that run once, too.)"}, {"owner": {"reputation": 27, "user_id": 7434602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf03886c819caa9b28830cb2ccdd980b?s=128&d=identicon&r=PG&f=1", "display_name": "SDCode", "link": "https://stackoverflow.com/users/7434602/sdcode"}, "edited": false, "score": 0, "creation_date": 1539716394, "post_id": 52825558, "comment_id": 92600585, "body": "Woah. Interesting! Thanks for sharing that link!"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1539643001, "last_edit_date": 1539643001, "creation_date": 1539642534, "answer_id": 52825558, "question_id": 52824809, "link": "https://stackoverflow.com/questions/52824809/perl-capturing-data-from-recursive-calls/52825558#52825558", "title": "Perl : Capturing data from recursive calls", "body": "<p>The statement <code>my ($foo, $bar) = @_;</code> copies each element of @_ to those variables. This means that if one of those elements is a string, its value is copied to the variable, and changing that variable does not change the original.</p>\n\n<p>Aside from passing a scalar reference to the string instead of the string itself, as covered in the other answer (which I recommend), you can use the aliasing behavior of Perl, but this is generally not well-known behavior so it may be less clear to the reader (comments probably useful here).</p>\n\n<p>The elements of <code>@_</code> itself are not copies, but aliases, so you can modify the original value by accessing that element directly instead of copying it to another variable, but this is not very readable.</p>\n\n<pre><code>sub populateTree {\n    my ($array, $indentText) = @_;\n\n    my $item = shift @$array;\n    $_[2] .= \"    $indentText \\\"$item\\\";\\n\";\n    my $newIndentText = \"    $indentText\";\n\n    foreach my $child ( @$array ) {\n        populateTree($child, $newIndentText, $_[2]);\n        $_[2] .= \"    $indentText\\n\";\n    }\n    return $_[2];\n}\n</code></pre>\n\n<p>On very recent versions of Perl (5.22+) there is an experimental feature called <a href=\"https://perldoc.pl/feature#The-&#39;refaliasing&#39;-feature\" rel=\"nofollow noreferrer\">refaliasing</a> which allows you to easily create your own aliased variable.</p>\n\n<pre><code>use experimental 'refaliasing';\n\nsub populateTree {\n    my ($array, $indentText) = @_;\n    \\my $strBuffer = \\$_[2];\n\n    my $item = shift @$array;\n    $strBuffer .= \"    $indentText \\\"$item\\\";\\n\";\n    my $newIndentText = \"    $indentText\";\n\n    foreach my $child ( @$array ) {\n        populateTree($child, $newIndentText, $strBuffer);\n        $strBuffer .= \"    $indentText\\n\";\n    }\n    return $strBuffer;\n}\n</code></pre>\n\n<p>The CPAN module <a href=\"https://metacpan.org/pod/Data::Alias\" rel=\"nofollow noreferrer\">Data::Alias</a> allows you to do this on any version of Perl.</p>\n\n<pre><code>use Data::Alias;\n\nsub populateTree {\n    my ($array, $indentText) = @_;\n    alias my $strBuffer = $_[2];\n\n    my $item = shift @$array;\n    $strBuffer .= \"    $indentText \\\"$item\\\";\\n\";\n    my $newIndentText = \"    $indentText\";\n\n    foreach my $child ( @$array ) {\n        populateTree($child, $newIndentText, $strBuffer);\n        $strBuffer .= \"    $indentText\\n\";\n    }\n    return $strBuffer;\n}\n</code></pre>\n\n<p>And finally, you can (ab)use the aliasing behavior of the <a href=\"https://perldoc.pl/perlsyn#Foreach-Loops\" rel=\"nofollow noreferrer\">foreach loop</a> to make your own alias in a slightly odder (but more compatible) way.</p>\n\n<pre><code>sub populateTree {\n    my ($array, $indentText) = @_;\n    foreach my $strBuffer ($_[2]) {\n        my $item = shift @$array;\n        $strBuffer .= \"    $indentText \\\"$item\\\";\\n\";\n        my $newIndentText = \"    $indentText\";\n\n        foreach my $child ( @$array ) {\n            populateTree($child, $newIndentText, $strBuffer);\n            $strBuffer .= \"    $indentText\\n\";\n        }\n        return $strBuffer;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7434602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf03886c819caa9b28830cb2ccdd980b?s=128&d=identicon&r=PG&f=1", "display_name": "SDCode", "link": "https://stackoverflow.com/users/7434602/sdcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 52825154, "answer_count": 2, "score": 1, "last_activity_date": 1539643001, "creation_date": 1539637830, "question_id": 52824809, "link": "https://stackoverflow.com/questions/52824809/perl-capturing-data-from-recursive-calls", "title": "Perl : Capturing data from recursive calls", "body": "<p>I have written a function to take in a Array of Arrays and print it in something like an XML format without the tags. The function works when I keep the Buffer string variable global. But since I want to avoid bad practices, I was trying to pass it to the function. I am providing a MWE which shows all the cases.</p>\n\n<p>Input : </p>\n\n<pre><code>( \"main\",\n         [\"fred\", \n                 [\"barney\"] ],\n         [\"george\", \n                   [\"jane\", \n                           [\"elroy\"] ] ],\n         [\"homer\", \n                  [\"marge\", \n                           [\"bart\"] ] ]\n);\n</code></pre>\n\n<p>This basically represents a tree structure if I may call it that. It stores the hierarchy of few folders. </p>\n\n<p>Correct Output for me -</p>\n\n<pre><code>name my_gen_XML;\n\n\n    name \"main\";\n        name \"fred\";\n            name \"barney\";\n            name\n        name\n        name \"george\";\n            name \"jane\";\n                name \"elroy\";\n                name\n            name\n        name\n        name \"homer\";\n            name \"marge\";\n                name \"bart\";\n                name\n            name\n        name\n</code></pre>\n\n<p>Wrong output -</p>\n\n<pre><code>name my_gen_XML;\n\n\n    name \"main\";\n        name\n        name\n        name\n</code></pre>\n\n<p>In the code snippet below, I've mentioned 2 cases called working and non-working. The working case produces the correct output. The non-working case provides the wrong output.</p>\n\n<p>My part of the code -</p>\n\n<pre><code>    #!/usr/bin/perl\n    use strict;\n    use warnings;\n    use Data::Dumper;        \n    my @test = ( \"main\",\n                        [\"fred\", \n                                [\"barney\"] ],\n                        [\"george\", \n                                [\"jane\", \n                                        [\"elroy\"] ] ],\n                        [\"homer\", \n                                [\"marge\", \n                                        [\"bart\"] ] ]\n                );\n    my $testRef = \\@test;\n    ## Working - Case\n    #my $strBuffer;\n\n    my $final = constructTree($testRef,\"    name\");\n\n    print \"$final \\n\";\n\n    # Name : constructTree\n    sub constructTree {\n        my ($test, $indentStr) = @_;\n        my $strBuffer = \"\";\n        ## Non-Working Case\n        $strBuffer = populateTree($test, $indentStr, $strBuffer);\n        ## Working - Case\n        #$strBuffer = populateTree($test, $indentStr);\n\n        $strBuffer = \"name my_gen_XML;\\n\\n\\n\".$strBuffer;\n\n        return $strBuffer;\n    }\n\n    # Name : populateTree\n    sub populateTree {\n        ## Non-Working Case\n        my ($array, $indentText, $strBuffer) = @_;\n        ## Working - Case\n        #my ($array, $indentText) = @_;\n        my @list = @$array;\n\n        $strBuffer .= \"    $indentText \\\"$list[0]\\\";\\n\";\n        $indentText = \"    $indentText\";\n        shift(@list);\n\n        foreach my $child ( @list ) {\n            ## Non-Working Case\n            populateTree(\\@$child, $indentText, $strBuffer);\n            ## Working - Case\n            #populateTree(\\@$child, $indentText);\n            $strBuffer .= \"    $indentText\\n\";\n        }\n        return $strBuffer;\n    }\n</code></pre>\n\n<p>I tried using state variables for <code>$strBuffer</code> but to of no avail. I also tried capturing the output of the recursive function but that duplicated my case. Also tried using a temporary variable but didn't help my case either.</p>\n\n<p>I would like to know how to get the \"correct output\" using \"non-working code\". I thought it is a simple fix but I'm not sure.</p>\n"}, {"tags": ["regex", "perl", "hashmap"], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539633711, "post_id": 52823576, "comment_id": 92565044, "body": "I like the invocation <code>use List::Util 1.45 &#39;uniq&#39;;</code> in examples as it results in a clearer error message if people blindly copy paste the code and don&#39;t have a new enough List::Util."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1539633737, "post_id": 52823576, "comment_id": 92565051, "body": "More specifically, the installer should have a dependency on List::Util version 1.45. There&#39;s no need to specify it against in the script or module."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539643548, "post_id": 52823576, "comment_id": 92568177, "body": "It should, yes, but that&#39;s assuming the person who copy-pasted it has a dependency toolchain set up for their project, and I don&#39;t like to assume; plus it&#39;s easier to get people to use useful tools if they don&#39;t have to install things first (and if they&#39;re on Perl 5.26+, they don&#39;t, in this case)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1539633018, "last_edit_date": 1539633018, "creation_date": 1539631951, "answer_id": 52823576, "question_id": 52823508, "link": "https://stackoverflow.com/questions/52823508/retrieving-hash-keys-from-map/52823576#52823576", "title": "Retrieving hash-keys from map", "body": "<p>You forgot to actually create a hash!</p>\n\n<pre><code>my @arr = keys %{ +{ map { $_ =&gt; 1 } grep /foo/, $str =~ /\\b(\\w+)\\b/g } };\n</code></pre>\n\n<p>But there's a better way of getting rid of duplicates.</p>\n\n<pre><code>my %seen;\nmy @arr = grep !$seen{$_}++, grep /foo/, $str =~ /\\b(\\w+)\\b/g;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub uniq { my %seen; grep !$seen{$_}++, @_ }\n\nmy @arr = uniq grep /foo/, $str =~ /\\b(\\w+)\\b/g;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>use List::Util qw( uniq );\n\nmy @arr = uniq grep /foo/, $str =~ /\\b(\\w+)\\b/g;\n</code></pre>\n\n<hr>\n\n<p>By the way,</p>\n\n<pre><code>grep /foo/, $str =~ /\\b(\\w+)\\b/g\n</code></pre>\n\n<p>can be simplified to</p>\n\n<pre><code>$str =~ /\\b\\w*foo\\w*+/g\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 52823576, "answer_count": 1, "score": 2, "last_activity_date": 1539633018, "creation_date": 1539631641, "question_id": 52823508, "link": "https://stackoverflow.com/questions/52823508/retrieving-hash-keys-from-map", "title": "Retrieving hash-keys from map", "body": "<p>There is some string with words, separated by spaces. I need to gain an array of words with specific substring in every word, the words should be unique. It could be done e.g. such way:</p>\n\n<pre><code>%arr = map { $_ =&gt; 1 } grep /foo/, $str=~/\\b(\\w+)\\b/g;\n@arr = keys %arr;\n</code></pre>\n\n<p>But this is one-liner and to be concise I tried to do:</p>\n\n<pre><code>@arr = keys map { $_ =&gt; 1 } grep /foo/, $str=~/\\b(\\w+)\\b/g;\n</code></pre>\n\n<p>However I got the error (in Perl 5.24.1):</p>\n\n<blockquote>\n  <p>Experimental keys on scalar is now forbidden</p>\n</blockquote>\n\n<p>Unfortunately <a href=\"https://stackoverflow.com/questions/41192532/experimental-values-on-scalar-is-now-forbidden-perl\">1</a> and <a href=\"https://www.perlmonks.org/?node_id=1214264\" rel=\"nofollow noreferrer\">2</a> posts didn't help me to understand how it should be done properly.</p>\n"}, {"tags": ["perl", "ffmpeg"], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "edited": false, "score": 0, "creation_date": 1539626785, "post_id": 52822380, "comment_id": 92561825, "body": "what you recommend for recording videos using perl script?"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1539626592, "creation_date": 1539626592, "answer_id": 52822380, "question_id": 52821866, "link": "https://stackoverflow.com/questions/52821866/difference-between-alien-ffmpeg-and-ffmpeg/52822380#52822380", "title": "difference between Alien-ffmpeg and ffmpeg", "body": "<p><a href=\"https://metacpan.org/pod/Alien\" rel=\"nofollow noreferrer\">Alien</a> modules are designed to ensure that you have the library available, either already installed in the system or by installing it within Perl's library paths itself. It does not provide an interface to use the library, another module would have to be written to provide this Perl interface, but it doesn't look like anyone has done so on CPAN. The <code>FFmpeg</code> module provides a Perl interface, but without using the Alien module so it requires the library to already be installed. It's also extremely old as you noted and <a href=\"https://rt.cpan.org/Dist/Display.html?Name=FFmpeg\" rel=\"nofollow noreferrer\">doesn't seem to be installable anymore</a>. An alternative might be <a href=\"https://metacpan.org/pod/FFmpeg::Command\" rel=\"nofollow noreferrer\">FFmpeg::Command</a> which is not a Perl interface to the library but a wrapper for running the external command that must be installed separately. However I am not sure if FFmpeg is the best solution for recording your screen or an input device from Perl.</p>\n"}], "owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539626592, "creation_date": 1539624285, "question_id": 52821866, "link": "https://stackoverflow.com/questions/52821866/difference-between-alien-ffmpeg-and-ffmpeg", "title": "difference between Alien-ffmpeg and ffmpeg", "body": "<p>I want to record a video with perl i found the following 2 modules on cpan :</p>\n\n<p>Alien-ffmpeg (<a href=\"https://metacpan.org/pod/release/GETTY/Alien-ffmpeg-0.103/lib/Alien/ffmpeg.pm\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/release/GETTY/Alien-ffmpeg-0.103/lib/Alien/ffmpeg.pm</a> ) and ffmpeg <a href=\"https://metacpan.org/pod/FFmpeg\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/FFmpeg</a></p>\n\n<p>what is the difference between those 2 modules , i see the Alien module don't have a documentaiton but its more up to date than ffmpeg module , how can i use it ?</p>\n\n<p>are there also other recommeneded perl modules how to record mp4 file with Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1539624158, "post_id": 52821795, "comment_id": 92560526, "body": "Please post text as text, not pictures of text."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1539624378, "post_id": 52821795, "comment_id": 92560643, "body": "<code>use strict</code> and you&#39;ll see."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1539624402, "post_id": 52821795, "comment_id": 92560652, "body": "@m0skit0 The code is already using strict."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1539624426, "post_id": 52821795, "comment_id": 92560668, "body": "<code>$route-&gt;{start}{epoch} = ...</code> overwrites your <code>epoch</code> values."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539624474, "post_id": 52821795, "comment_id": 92560686, "body": "@melpomene I can&#39;t see it on the posted code, neither can the browser..."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 2, "creation_date": 1539624509, "post_id": 52821795, "comment_id": 92560710, "body": "@m0skit0 strict is imported by <code>use Modern::Perl;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 6, "last_activity_date": 1539625389, "last_edit_date": 1539625389, "creation_date": 1539625025, "answer_id": 52822038, "question_id": 52821795, "link": "https://stackoverflow.com/questions/52821795/perl-variable-is-changing-without-any-writing-to-it/52822038#52822038", "title": "Perl variable is changing without any writing to it", "body": "<p>In these lines:</p>\n\n<pre><code>$route-&gt;{start} = first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$prev_free_time_idx] } @{ $params{data} } ;\n$route-&gt;{finish} = first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$next_free_time_idx] } @{ $params{data} } ;\n</code></pre>\n\n<p>You assign hashrefs from the <code>data</code> parameter into your <code>$route</code> structure. These are shallow copies, so they reference the same hashes as referenced by the <code>data</code> parameter. That means these lines:</p>\n\n<pre><code>$route-&gt;{start}{epoch} = $params{all_epochs}-&gt;[ $busy_start_idx ];\n$route-&gt;{finish}{epoch} = $params{all_epochs}-&gt;[ $busy_finish_idx ];\n</code></pre>\n\n<p>modify the original hashes.</p>\n\n<p>You can instead assign copies (at least, one level of copy) from the <code>data</code> parameter by dereferencing the hashref (<code>%{}</code>) then creating a new hash reference containing the resulting list (<code>{}</code>):</p>\n\n<pre><code>my $start = first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$prev_free_time_idx] } @{ $params{data} } ;\nmy $finish = first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$next_free_time_idx] } @{ $params{data} } ;\n$route-&gt;{start} = { %{ $start // {} } };\n$route-&gt;{finish} = { %{ $finish // {} } };\n</code></pre>\n\n<p>The <code>// {}</code> ensures that even if your calls to <code>first</code> return undef (when it finds no match) that the dereference will simply result in an empty list.</p>\n\n<p>If your data structure may have further nested references, a general solution would be a deep copy from modules such as <a href=\"https://metacpan.org/pod/Bencher::Scenario::CloneModules#BENCHMARKED-MODULES\" rel=\"noreferrer\">listed here</a>.</p>\n\n<pre><code>use Sereal::Dclone 'dclone';\n$route-&gt;{start} = dclone first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$prev_free_time_idx] } @{ $params{data} } ;\n$route-&gt;{finish} = dclone first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$next_free_time_idx] } @{ $params{data} } ;\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 52822038, "answer_count": 1, "score": 1, "last_activity_date": 1539625389, "creation_date": 1539624047, "question_id": 52821795, "link": "https://stackoverflow.com/questions/52821795/perl-variable-is-changing-without-any-writing-to-it", "title": "Perl variable is changing without any writing to it", "body": "<p>I have following script:</p>\n\n<pre><code>use Modern::Perl;\nuse List::Compare;\nuse Set::IntSpan;\nuse List::Util qw/first/;\nuse List::MoreUtils qw/firstidx onlyidx/;\nuse Data::Dumper;\n\nsub get_index_by_data {\n    my ( $data, $arr ) = @_;\n    return onlyidx { $_ eq $data } @$arr;\n}\n\nsub detect_busy_intervals {\n  my %params = @_;\n\n  $params{epoch_key} = 'epoch' if ( !defined $params{epoch_key} ) ;\n\n  my @all_epochs = @ { $params{all_epochs} };\n  my @free_epochs = map { $_-&gt;{ $params{epoch_key} } } @{ $params{data} };\n  my $lc = List::Compare-&gt;new( $params{all_epochs}, \\@free_epochs );\n  my @busy_epochs = $lc-&gt;get_Lonly;\n\n  @all_epochs = sort { $a &lt;=&gt; $b } @all_epochs;\n  @free_epochs = sort { $a &lt;=&gt; $b } @free_epochs;\n  @busy_epochs = sort { $a &lt;=&gt; $b } @busy_epochs;\n\n  my @busy_indexes_list = map { get_index_by_data( $_, \\@all_epochs) } @busy_epochs;\n\n  my $int_span = Set::IntSpan-&gt;new(join \",\", @busy_indexes_list);\n  my @spans = spans $int_span;\n\n  my @res = ();\n\n  for my $i ( @spans ) {\n    my $busy_start_idx = $i-&gt;[0];\n    my $busy_finish_idx = $i-&gt;[1];\n\n    my $busy_start_time = $all_epochs[ $busy_start_idx ];\n    my $busy_finish_time = $all_epochs[ $busy_finish_idx ];\n\n    my $prev_free_time_idx = $busy_start_idx - 1;\n    my $next_free_time_idx = $busy_finish_idx + 1;\n\n    my $route = {};\n\n    $route-&gt;{start} = first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$prev_free_time_idx] } @{ $params{data} } ;\n    $route-&gt;{finish} = first { $_-&gt;{ $params{epoch_key} } == $all_epochs[$next_free_time_idx] } @{ $params{data} } ;\n\n    $route-&gt;{start}{epoch} = $params{all_epochs}-&gt;[ $busy_start_idx ];\n    $route-&gt;{finish}{epoch} = $params{all_epochs}-&gt;[ $busy_finish_idx ];\n\n    push @res, $route;\n  }\n\n  return \\@res;\n}\n\n\nmy @checks_arr = ( 100, 200, 300, 400, 500 );\n\nmy $data = [\n  { 'epoch' =&gt; 100, 'cron_data_id' =&gt; 1 },\n  { 'epoch' =&gt; 500, 'cron_data_id' =&gt; 5 },\n];\n\nprint \"Data 1: \".Dumper $data;\n\nmy $res = [\n  { 'start' =&gt; { 'epoch' =&gt; 200, 'cron_data_id' =&gt; 1 }, 'finish' =&gt; { 'epoch' =&gt; 400, 'cron_data_id' =&gt; 5 } },\n];\n\nmy $a = detect_busy_intervals( data =&gt; $data, all_epochs =&gt; \\@checks_arr );\nprint \"Result: \".Dumper $a;\nprint \"Data 2: \".Dumper $data;\n</code></pre>\n\n<p>After using variable <code>$data</code> in function <code>detect_busy_intervals</code> <code>$data</code> changed its value (in particular, <code>epoch</code> value is different). But no any writing to <code>$params{data}</code> inside <code>detect_busy_intervals</code> sub !</p>\n\n<p><a href=\"https://i.stack.imgur.com/oTC8X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oTC8X.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any ideas what could be wrong?</p>\n\n<p>I checked code via perlcritic, maybe I made some syntax misprint that lead to variable change, but no problems detected.</p>\n"}, {"tags": ["apache", "perl", "output", "flush"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539616170, "post_id": 52819495, "comment_id": 92556774, "body": "Try using <code>select-&gt;autoflush(1)</code> instead of depending on a previously set magical value."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539618048, "post_id": 52819495, "comment_id": 92557737, "body": "@choroba, Is that a style suggestion? Cause that won&#39;t make any functional difference. (And if you want to avoid the magic of <code>$|++;</code>, all you need is <code>$| = 1;</code>. Obviously, <code>select-&gt;autoflush(1);</code> is clearer, though, but far more expensive as it involves three calls to <code>select</code> and two assignments to <code>$|</code>.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539618234, "post_id": 52819495, "comment_id": 92557819, "body": "Re &quot;<i>Is there a way to configure apache</i>&quot;, I confirm that it&#39;s not in a difference in Perl that&#39;s causing this."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539622741, "post_id": 52819495, "comment_id": 92559906, "body": "Note that <code>use IO::Handle ();</code> is required for <code>autoflush</code> to be callable as a method on handles in 5.8.8. My preference would be <code>\\*STDOUT-&gt;autoflush(1);</code> as long as you know you are dealing with STDOUT, but you&#39;re right that it shouldn&#39;t make a functional difference."}, {"owner": {"reputation": 41, "user_id": 2159862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f624854d0050595647242d41f26cf3cd?s=128&d=identicon&r=PG", "display_name": "user2159862", "link": "https://stackoverflow.com/users/2159862/user2159862"}, "edited": false, "score": 0, "creation_date": 1539623309, "post_id": 52819495, "comment_id": 92560146, "body": "select-&gt;autoflush(1); or *STDOUT-&gt;autoflush(1); has no effect; I think it is an apache setting not a difference in perl."}, {"owner": {"reputation": 41, "user_id": 2159862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f624854d0050595647242d41f26cf3cd?s=128&d=identicon&r=PG", "display_name": "user2159862", "link": "https://stackoverflow.com/users/2159862/user2159862"}, "edited": false, "score": 0, "creation_date": 1539623590, "post_id": 52819495, "comment_id": 92560272, "body": "For regular pages this is not a problem, but I run procedures that require hours to complete and with no output the browser close the connection after few minutes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539633527, "post_id": 52819495, "comment_id": 92564937, "body": "Re &quot;<i>as long as you know you are dealing with STDOUT</i>&quot;, I&#39;m with @choroba on this one. If you print to the selected handle, you should autoflush the selected  handle, even if you &quot;happen to know&quot; STDOUT is selected."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1539654221, "post_id": 52819495, "comment_id": 92570356, "body": "Compare the output, especially the headers. Is Apache 2.4 using compression by default when 2.2 is not? Compression enabled would nullify flushing. Look if <code>mod_gzip</code> is enabled."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 2159862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f624854d0050595647242d41f26cf3cd?s=128&d=identicon&r=PG", "display_name": "user2159862", "link": "https://stackoverflow.com/users/2159862/user2159862"}, "is_accepted": false, "score": 0, "last_activity_date": 1539791407, "creation_date": 1539791407, "answer_id": 52858906, "question_id": 52819495, "link": "https://stackoverflow.com/questions/52819495/apache-output-flush-configuration/52858906#52858906", "title": "Apache output flush configuration", "body": "<p>To flush the output I had to disable both varnish and mod_deflate.</p>\n\n<p>Thank you for helping me out.</p>\n\n<p>cl.</p>\n"}], "owner": {"reputation": 41, "user_id": 2159862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f624854d0050595647242d41f26cf3cd?s=128&d=identicon&r=PG", "display_name": "user2159862", "link": "https://stackoverflow.com/users/2159862/user2159862"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539791407, "creation_date": 1539615324, "question_id": 52819495, "link": "https://stackoverflow.com/questions/52819495/apache-output-flush-configuration", "title": "Apache output flush configuration", "body": "<p>I have the following perl script on two different servers, Centos and Debian, both running Apache web server:</p>\n\n<pre><code>$|++;\nprint \"Content-type: text/plain\\n\\n\";\n\nfor ($i=1; $i&lt;=10;$i++) {\n    print \"$i\\n\";\n    sleep(1);\n}\nprint \"Done.\\n\";\n</code></pre>\n\n<p>On centos with Apache/2.2.3 and perl v5.8.8 output flush works fine and I can see the counter progression in browser as it proceeds.</p>\n\n<p>On Debian Apache/2.4.10 and perl v5.20.2 output flush is not working and I see the whole page in the browser only after 10 sec.</p>\n\n<p>Is there a way to configure apache in order to flush the output as on centos?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 6832488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HeGV4.jpg?s=128&g=1", "display_name": "Mario Klebsch", "link": "https://stackoverflow.com/users/6832488/mario-klebsch"}, "edited": false, "score": 0, "creation_date": 1539616527, "post_id": 52819234, "comment_id": 92556950, "body": "Using this file handle with print is just my test case, whether <code>$fh</code> really can be used as a file handle."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1539614454, "creation_date": 1539614454, "answer_id": 52819234, "question_id": 52819137, "link": "https://stackoverflow.com/questions/52819137/using-file-handle-returned-by-select/52819234#52819234", "title": "using file handle returned by select", "body": "<p>The point of <a href=\"http://p3rl.org/select\" rel=\"nofollow noreferrer\">select</a> is you don't need to specify the handle at all, since it's the default one.</p>\n\n<pre><code>sub test {\n    print \"@_\\n\";\n}\n</code></pre>\n\n<p>That's also the reason why <code>select</code> isn't recommended: it introduces global state which is hard to track and debug.</p>\n"}, {"comments": [{"owner": {"reputation": 313, "user_id": 6832488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HeGV4.jpg?s=128&g=1", "display_name": "Mario Klebsch", "link": "https://stackoverflow.com/users/6832488/mario-klebsch"}, "edited": false, "score": 0, "creation_date": 1539616363, "post_id": 52819321, "comment_id": 92556867, "body": "Using XML::Simple was not my choice. It is used in old code I need to maintain. The reason, why I want to use the OutputFile option is, that I do not want to store the XML output in a variable, when it can be directly written to the file handle, where it needs to go."}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 0, "last_activity_date": 1539614752, "creation_date": 1539614752, "answer_id": 52819321, "question_id": 52819137, "link": "https://stackoverflow.com/questions/52819137/using-file-handle-returned-by-select/52819321#52819321", "title": "using file handle returned by select", "body": "<p>First of all, you shouldn't use XML::Simple , because it will need lots of work to make sure that your output will generate consistent XML. At least make sure you're using the appropriate <code>ForceArray</code> parameters.</p>\n\n<p>Instead of doing filehandle shenanigans, why don't you use the simpler</p>\n\n<pre><code>print XMLout($data, %options);\n</code></pre>\n\n<p>... instead of trying to pass a default filehandle around?</p>\n"}, {"comments": [{"owner": {"reputation": 313, "user_id": 6832488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HeGV4.jpg?s=128&g=1", "display_name": "Mario Klebsch", "link": "https://stackoverflow.com/users/6832488/mario-klebsch"}, "edited": false, "score": 0, "creation_date": 1539679515, "post_id": 52820420, "comment_id": 92579122, "body": "Your code did the trick! The magic seems to be not using strict. My original code also works, when I comment out <code>use strict;</code>. Thank you very much."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1539702196, "last_edit_date": 1539702196, "creation_date": 1539618576, "answer_id": 52820420, "question_id": 52819137, "link": "https://stackoverflow.com/questions/52819137/using-file-handle-returned-by-select/52820420#52820420", "title": "using file handle returned by select", "body": "<p>Just use</p>\n\n<pre><code>print XMLout(...); \n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>It seems, that select is not returning a reference to the file handle but a string containing the name of the file handle.</em></p>\n</blockquote>\n\n<p>It can indeed return a plain ordinary string.</p>\n\n<pre><code>&gt;perl -MDevel::Peek -E\"Dump(select())\"\nSV = PV(0x6cbe38) at 0x260e850\n  REFCNT = 1\n  FLAGS = (PADTMP,POK,pPOK)\n  PV = 0x261ce48 \"main::STDOUT\"\\0\n  CUR = 12\n  LEN = 24\n</code></pre>\n\n<p>But that's perfectly acceptable as a file handle to Perl. There are four things that Perl accepts as file handles:</p>\n\n<ul>\n<li><p>A reference to an IO object.</p>\n\n<pre><code>&gt;perl -e\"my $fh = *STDOUT{IO}; CORE::say($fh 'foo');\"\nfoo\n</code></pre></li>\n<li><p>A glob that contains a reference to an IO object.</p>\n\n<pre><code>&gt;perl -e\"my $fh = *STDOUT; CORE::say($fh 'foo');\"\nfoo\n</code></pre></li>\n<li><p>A reference to a glob that contains a reference to an IO object.</p>\n\n<pre><code>&gt;perl -e\"my $fh = \\*STDOUT; CORE::say($fh 'foo');\"\nfoo\n</code></pre></li>\n<li><p>A \"symbolic reference\" to a glob that contains a reference to an IO object.</p>\n\n<pre><code>&gt;perl -e\"my $fh = 'STDOUT'; CORE::say($fh 'foo');\"\nfoo\n</code></pre>\n\n<p>This type doesn't work under strict refs, though.</p>\n\n<pre><code>&gt;perl -Mstrict -e\"my $fh = 'STDOUT'; CORE::say($fh 'foo');\"\nCan't use string (\"STDOUT\") as a symbol ref while \"strict refs\" in use at -e line 1.\n</code></pre></li>\n</ul>\n\n<blockquote>\n  <p><em>What do I have to do to always get a usable file handle from select's return value?</em></p>\n</blockquote>\n\n<p>As demonstrated above, it already returns a perfectly usable file handle. If <code>XMLout</code> doesn't support it, then it's a bug in <code>XMLout</code>. You could work around it as follows:</p>\n\n<pre><code>my $fh = select();\nif (!ref($fh) &amp;&amp; ref(\\$fh) ne 'GLOB') {\n   no strict qw( refs );\n   $fh = \\*$fh;\n}\n</code></pre>\n\n<p>This can also be used to make the handle usable in a strict environment</p>\n\n<hr>\n\n<p>As bad as XML::Simple is at reading XML, it's a million times worse at generating it. See <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple Discouraged?</a>.</p>\n\n<p>Consider <a href=\"http://search.cpan.org/perldoc?XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> or <a href=\"http://search.cpan.org/perldoc?XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> if you're modifying XML.</p>\n\n<p>Consider <a href=\"http://search.cpan.org/perldoc?XML::Writer\" rel=\"nofollow noreferrer\">XML::Writer</a> if you're generating XML.</p>\n"}], "owner": {"reputation": 313, "user_id": 6832488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HeGV4.jpg?s=128&g=1", "display_name": "Mario Klebsch", "link": "https://stackoverflow.com/users/6832488/mario-klebsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 52820420, "answer_count": 3, "score": 1, "last_activity_date": 1539702196, "creation_date": 1539614101, "question_id": 52819137, "link": "https://stackoverflow.com/questions/52819137/using-file-handle-returned-by-select", "title": "using file handle returned by select", "body": "<p>I am pulling out my hair on using the file handle returned by select.</p>\n\n<p>The documentation about select reads: </p>\n\n<blockquote>\n  <ul>\n  <li><strong>select</strong><br>\n  Returns the currently selected filehandle.</li>\n  </ul>\n</blockquote>\n\n<p>I have a piece of code, that prints some data and usually is executed without any re-direction. But there is one use case, where select is used to re-direct the print output to a file.</p>\n\n<p>In this piece of code, I need to use the current selected file handle. I tried the following code fragment:</p>\n\n<pre><code>my $fh = select;\nprint $fh \"test\\n\";\n</code></pre>\n\n<p>I wrote a short test program to demonstrate my problem:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nsub test\n{\n  my $fh=select;\n  print $fh \"@_\\n\";\n}\n\nmy $oldfh;\n\n# this works :-)\nopen my $test1, \"&gt; test1.txt\";\n$oldfh = select $test1;\ntest(\"test1\");\nclose select $oldfh if defined $oldfh;\n\n#this doesn't work. :-(\n# Can't use string (\"main::TEST2\") as a symbol ref while \"strict refs\" in use\nopen TEST2,\"&gt;test2.txt\";\n$oldfh = select TEST2;\ntest(\"test2\");\nclose select $oldfh if defined $oldfh;\n\n#this doesn't work, too. :-(\n# gives Can't use string (\"main::STDOUT\") as a symbol ref while \"strict refs\" in use at\ntest(\"test\");\n</code></pre>\n\n<p>It seems, that select is not returning a reference to the file handle but a string containing the name of the file handle.</p>\n\n<p>What do I have to do to always get a usable file handle from select's return value?</p>\n\n<p>P.S. I need to pass this file handle as OutputFile to XML::Simple's XMLout().</p>\n"}, {"tags": ["bash", "macos", "perl"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1539607944, "post_id": 52817003, "comment_id": 92551672, "body": "I don&#39;t think so, but I don&#39;t want ot spend time on it. Deleted my 2nd comment and will delete this shortly. Good luck."}], "answers": [{"comments": [{"owner": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "edited": false, "score": 0, "creation_date": 1539607806, "post_id": 52817141, "comment_id": 92551573, "body": "This really is useful. +1 - but it doesn&#39;t answer the question"}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "reply_to_user": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "edited": false, "score": 0, "creation_date": 1539676653, "post_id": 52817141, "comment_id": 92577536, "body": "Why this doesn&#39;t answer to the question, the accepted answer is telling the same thing"}, {"owner": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "edited": false, "score": 0, "creation_date": 1539677472, "post_id": 52817141, "comment_id": 92578012, "body": "It&#39;s more than &quot;same thing&quot;. It elaborates on why hello is converted to 0. It explains why I mistakenly thought it to be a bash behavior and how it&#39;s actually just per. It also introduced the keyword &quot;bareword&quot; and added the warnings details as well. See - for a newbie in Perl such details make the difference between a copy paste answer or an understood one"}], "tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": false, "score": 4, "last_activity_date": 1539607604, "creation_date": 1539607604, "answer_id": 52817141, "question_id": 52817003, "link": "https://stackoverflow.com/questions/52817003/why-perl-e-print-lc-hello-world-n-prints-0/52817141#52817141", "title": "why perl -e &quot;print lc &quot;Hello-World\\n&quot;&quot; prints 0", "body": "<p>The following can be useful to see code parsed by perl:</p>\n\n<pre><code>$ perl -MO=Deparse -e \"print lc \"Hello-World\\n\"\"\nprint lc 'Hello' - 'Worldn';\n</code></pre>\n\n<p>And <code>'Hello'</code> and <code>'Worldn'</code> converted as int is 0.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 13, "last_activity_date": 1539607868, "creation_date": 1539607868, "answer_id": 52817211, "question_id": 52817003, "link": "https://stackoverflow.com/questions/52817003/why-perl-e-print-lc-hello-world-n-prints-0/52817211#52817211", "title": "why perl -e &quot;print lc &quot;Hello-World\\n&quot;&quot; prints 0", "body": "<p>There's a useful trick to find out what perl is 'thinking'. </p>\n\n<p>run <code>perl -MO=Deparse -e \"print lc \"Hello-World\\n\"\"</code></p>\n\n<pre><code>perl -MO=Deparse -e \"print lc \"Hello-World\\n\"\"\nprint lc 'Hello' - 'Worldn';\n-e syntax OK\n</code></pre>\n\n<p>What's happening here is that <code>perl</code> is \"seeing\" <code>Hello - Worldn</code> as an arithmetic sum. And because the strings are numerically zero, you're printing <code>0-0</code>. It's nothing to do with <code>bash</code>, but rather with <code>perl</code> and how it treats numeric values. </p>\n\n<p>This is because barewords are acceptable if you're not using <code>strict</code> and <code>warnings</code>, but are coerced to numeric values by the subtraction (e.g. 0)</p>\n\n<p>If you had turned on <code>warnings</code>:</p>\n\n<pre><code>perl -Mwarnings -e \"print lc \"Hello-World\\n\"\"\nArgument \"Worldn\" isn't numeric in subtraction (-) at -e line 1.\nArgument \"Hello\" isn't numeric in subtraction (-) at -e line 1.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1539620200, "creation_date": 1539620200, "answer_id": 52820857, "question_id": 52817003, "link": "https://stackoverflow.com/questions/52817003/why-perl-e-print-lc-hello-world-n-prints-0/52820857#52820857", "title": "why perl -e &quot;print lc &quot;Hello-World\\n&quot;&quot; prints 0", "body": "<p>Inside a one-liner I tend to use <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">generalized quotes</a> to avoid these problems:</p>\n\n<pre><code>$ perl -e \"print lc qq(Hello-World\\n)\"\n</code></pre>\n\n<p>If the double quotes are there just for the newline, you can use the <code>-l</code> switch to add a newline to every <code>print</code> (but not <code>printf</code>):</p>\n\n<pre><code>$ perl -le \"print lc 'Hello-World'\"\n</code></pre>\n\n<p>With <code>-E</code> you can turn on v5.10 features, including <code>say</code>, which also adds a newline to the output:</p>\n\n<pre><code>$ perl -E \"say lc 'Hello-World'\"\n</code></pre>\n\n<p>You've tagged this as <code>macOS</code>, which means that you can use single quotes for the argument to <code>-e</code> (Windows does not allow that):</p>\n\n<pre><code>$ perl -e 'print lc qq(Hello-World\\n)'\n$ perl -e 'print lc \"Hello-World\\n\"'\n</code></pre>\n\n<p>Inside the double quotes on a Unix like shell, things that start with <code>$</code> are variables. This fails because the shell interpolates <code>$HOME</code> before Perl even sees the program string (it's <code>print /Users/brian</code>). This is a silly example but it shows the problem:</p>\n\n<pre><code> $ perl -le \"print $HOME\"\n Unknown regexp modifier \"/b\" at -e line 1, at end of line\n Unknown regexp modifier \"/r\" at -e line 1, at end of line\n-e had compilation errors.\n</code></pre>\n\n<p>Either escape the <code>$</code> or use single quotes:</p>\n\n<pre><code> $ perl -le \"print \\$HOME\"\n $ perl -le 'print  $HOME'\n</code></pre>\n"}], "owner": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 52817211, "answer_count": 3, "score": 3, "last_activity_date": 1539668704, "creation_date": 1539607132, "last_edit_date": 1539668704, "question_id": 52817003, "link": "https://stackoverflow.com/questions/52817003/why-perl-e-print-lc-hello-world-n-prints-0", "title": "why perl -e &quot;print lc &quot;Hello-World\\n&quot;&quot; prints 0", "body": "<p>I have a code that I want to debug with perl's <code>-e</code> option from the command line. <em>(from a Mac OS terminal, to be exact)</em></p>\n\n<p>When I called a subroutine like that, I forgot to correctly match the double quote marks, kinda like that:</p>\n\n<pre><code>perl -e \"print lc \"Hello-World\\n\"\"\n#Output: 0\n</code></pre>\n\n<p>I was surprised to see <code>0</code> but, after looking closer, I saw that I had a problem with my double quote marks. Unsurprisingly, using outer single quote marks fixes the issue</p>\n\n<pre><code>perl -e 'print lc \"Hello-World\\n\"'\n# Output(fixed): hello-world\n</code></pre>\n\n<p>And now that I saw what the problem was, I am intrigued to see that it returned <code>0</code> in the first place. It looks like bash performed some kind of subtraction operation because if I repeat the same mistake by not having a dash there, I don't have that issue even with wrong double quote marks:</p>\n\n<pre><code>perl -e \"print lc \"HelloWorld\\n\"\"\n                  ^ closing the quotes too soon\n#Output: helloworldn\n</code></pre>\n\n<p>So why is it that this syntax <code>perl -e \"print lc \"Hello-World\\n\"\"</code> prints 0? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1539574315, "post_id": 52809364, "comment_id": 92536770, "body": "show the code that sets $lines and its content"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1539574317, "post_id": 52809364, "comment_id": 92536771, "body": "Can you post your <i>real</i> code, please?"}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1539619413, "post_id": 52809432, "comment_id": 92558413, "body": "I&#39;d probably add some optional whitespace to the split: <code>&#47;\\s*:\\s*&#47;</code> since the whitespace disappears in the desired output."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1539621009, "post_id": 52809432, "comment_id": 92559094, "body": "@briandfoy That&#39;s fair. Edited my answer to account for that."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1539620977, "last_edit_date": 1539620977, "creation_date": 1539574445, "answer_id": 52809432, "question_id": 52809364, "link": "https://stackoverflow.com/questions/52809364/how-to-split-left-data-as-keys-and-right-data-ask-values-in-perl/52809432#52809432", "title": "How to split left data as keys and right data ask values in perl", "body": "<p>Problems with your code:</p>\n\n<ol>\n<li>We don't know what <code>$lines</code> is</li>\n<li><code>while ($lines)</code> doesn't make any sense</li>\n<li>You're re-initializing <code>%hash</code> on every iteration of the loop</li>\n<li><code>last</code> doesn't make any sense</li>\n</ol>\n\n<p>Solution:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %hash;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @parts = split(/\\s*:\\s*/);\n    $hash{$parts[0]} = $parts[1];\n}\n\nprint Dumper(\\%hash);\n\n__DATA__\nLin :202020 123 455\nStar :21334 1233 555\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 8170574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4f03afa3e0ea844eabfa3228f16a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Elamparithi", "link": "https://stackoverflow.com/users/8170574/elamparithi"}, "is_accepted": false, "score": 0, "last_activity_date": 1539602521, "creation_date": 1539602521, "answer_id": 52815629, "question_id": 52809364, "link": "https://stackoverflow.com/questions/52809364/how-to-split-left-data-as-keys-and-right-data-ask-values-in-perl/52815629#52815629", "title": "How to split left data as keys and right data ask values in perl", "body": "<pre><code>use 5.18.2;\nuse strict ;\nuse warnings ;\nuse Data::Dumper;\n\nmy @Data = ( \"Lin :202020 123 455\" , \"Star :21334 1233 555\" ) ;\nmy %hash = map { (split(':'))[0] =&gt; (split(':'))[1] } @Data ; # you can also use &lt;STDIN&gt; instead of @Data                                             \nprint Dumper(\\%hash);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 52809432, "answer_count": 2, "score": -1, "last_activity_date": 1539620977, "creation_date": 1539573942, "question_id": 52809364, "link": "https://stackoverflow.com/questions/52809364/how-to-split-left-data-as-keys-and-right-data-ask-values-in-perl", "title": "How to split left data as keys and right data ask values in perl", "body": "<p>my input file:</p>\n\n<pre><code>Lin :202020 123 455\nStar :21334 1233 555\n</code></pre>\n\n<p>I'm trying to split Lin &amp; Star as keys and the rest of the numbers as values.\nHowever, I'm getting output like this :</p>\n\n<pre><code>'202020 123 455 Star' =&gt; undef,\n</code></pre>\n\n<p>my expected output :</p>\n\n<pre><code>$VAR1 = {\n'Lin' =&gt;'202020 123 455',\n'Star'=&gt;'21334 1233 555'\n}\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n.\n.\n.\n.\nwhile($lines)\n{\nmy %hash = split /[:]/,$lines;\nprint Dumper (%hash);\nlast;\n}\n</code></pre>\n"}, {"tags": ["perl", "loops", "for-loop"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539566130, "post_id": 52808465, "comment_id": 92535172, "body": "How do the &quot;chr1&quot;, &quot;chr2&quot;, etc. map to your fasta filenames? Or do they?"}, {"owner": {"reputation": 147, "user_id": 9426481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d9e5d67bf0ef6f703fffa820ba1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor.H", "link": "https://stackoverflow.com/users/9426481/victor-h"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539566482, "post_id": 52808465, "comment_id": 92535243, "body": "No, chr1 and chr2...do not match the file name. I only can identiy thme by the end of number from the file name"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539566585, "post_id": 52808465, "comment_id": 92535262, "body": "If the filenames don&#39;t correspond to the chr lines... how in the world do you know what file to look in?"}, {"owner": {"reputation": 147, "user_id": 9426481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d9e5d67bf0ef6f703fffa820ba1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor.H", "link": "https://stackoverflow.com/users/9426481/victor-h"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539566617, "post_id": 52808465, "comment_id": 92535270, "body": "And for the files name, some files name as AAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.X.fa; AAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.MT.fa"}, {"owner": {"reputation": 147, "user_id": 9426481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d9e5d67bf0ef6f703fffa820ba1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor.H", "link": "https://stackoverflow.com/users/9426481/victor-h"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539566814, "post_id": 52808465, "comment_id": 92535300, "body": "When I read the number at the end of filename. I can understand this file is for which chr"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539566844, "post_id": 52808465, "comment_id": 92535306, "body": "So they <i>do</i> map to filenames?"}, {"owner": {"reputation": 147, "user_id": 9426481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d9e5d67bf0ef6f703fffa820ba1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor.H", "link": "https://stackoverflow.com/users/9426481/victor-h"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539566898, "post_id": 52808465, "comment_id": 92535317, "body": "yes, depending on the number at the end of filename"}], "answers": [{"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": true, "score": 2, "last_activity_date": 1539572868, "last_edit_date": 1539572868, "creation_date": 1539569515, "answer_id": 52808881, "question_id": 52808465, "link": "https://stackoverflow.com/questions/52808465/how-to-open-and-read-a-file-by-a-for-loop-control-in-perl/52808881#52808881", "title": "how to open and read a file by a for loop control in perl", "body": "<p>The key here is to only look in the particular FastA file that you need for a given line in your reference file. From the excerpts of code you posted, it looks like you're trying to read every single file for every single line (And not managing to do that).</p>\n\n<p>So, consider the following:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse autodie;\nuse feature qw/say/;\nuse File::Basename;\n\n# Map the fasta files in a given directory to chr numbers.\nmy $fa_dir = '/home/Documents/Folder/';\nmy %fa_files =\n  map { (split /\\./, fileparse($_, '.fa'))[5] =&gt; $_ } glob(\"$fa_dir/*.fa\");\n\nopen my $chrs, '&lt;', 'CanFam3_SNP_POS.txt';\n# Read each line of the reference file\nwhile (&lt;$chrs&gt;) {\n  chomp;\n  # Split up the chr and offsets\n  my @fields = split /\\s+/, $_;  #/\n\n  # Extract the chr number\n  my $chr = $fields[0];\n  $chr =~ s/^chr//;      #/\n  warn \"Unknown chr $chr!\\n\" and next unless exists $fa_files{$chr};\n\n  # And read from the appropriate fasta file\n  # You should probably use a library to read the file instead of\n  # this mess, but I don't know which ones are good. Based on your code\n  # you might be trying to use one already?\n  open my $fa, '&lt;', $fa_files{$chr};\n  my $hdr = &lt;$fa&gt;;\n  my $data = join \"\", &lt;$fa&gt;;\n  $data =~ s/[^ACGT]+//sg;\n  close $fa;\n\n  # And display the requested part\n  warn \"Invalid offset for chr $chr\\n\" and next unless length($data) &gt; $fields[1];\n  my $range = substr $data, $fields[1], $fields[2] - $fields[1];\n  say \"chr$chr $range\";\n}\n</code></pre>\n\n<p>It stores every <code>.fa</code> file in a given directory into a hashtable, keyed by that last element of the filename that corresponds to what's after <code>chr</code> in the reference file. That makes it easy to look up the exact file you need to read from to print out the requested fragment.</p>\n\n<p>Also note the use of <a href=\"https://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">glob()</a> to read the filenames, instead of <code>opendir()</code>/<code>readdir()</code>. Simpler to filter based on the extension that way, and using <a href=\"https://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\">File::Basename</a> to get just the filename minus the path and extension in an OS-independent way.</p>\n"}], "owner": {"reputation": 147, "user_id": 9426481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d9e5d67bf0ef6f703fffa820ba1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor.H", "link": "https://stackoverflow.com/users/9426481/victor-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 52808881, "answer_count": 1, "score": 1, "last_activity_date": 1539572868, "creation_date": 1539565152, "question_id": 52808465, "link": "https://stackoverflow.com/questions/52808465/how-to-open-and-read-a-file-by-a-for-loop-control-in-perl", "title": "how to open and read a file by a for loop control in perl", "body": "<p>I have many files in a folder. And I want to open and read them in the sequence order depending on a reference file.\nmy file name:  </p>\n\n<pre><code>AAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.1.fa   \nAAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.2.fa   \nAAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.3.fa   \nAAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.4.fa   \n.  \n.  \n.   \n</code></pre>\n\n<p>The reference file structure:  </p>\n\n<pre><code> chr1   744     745  \n chr1   1208    1209  \n chr2   1250    1251   \n chr2   1454    1455  \n chr3   1676    1677  \n chr3   1683    1684  \n</code></pre>\n\n<p>The input file structure:  </p>\n\n<pre><code>AAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.1.fa\n&gt;1 dna:\nNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN\nNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNTATGTGAGAAGATAGCTGAA\nCGCCTTGTCCACATCATCTTACTGCTGAGAGTTGAGCTCACCCTCAGTCCCTCACAGTTC   \n\nAAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.2.fa\n&gt;2 dna:\nGAGAGCTGGCTTCTAGGCATGCTTCCTTTTGAGAGCTGAGGACAGGACAGAACCCTCCCG\nCATCCTGCCTGACTGTAGACGTACCTGCTAACCTCCTCATGTTAGTGGCTGGGATAGATT\nGTGGGAAAAGCATGTGTAAGCATTGGGCCTGAACTCCCGTGTATCTGAGTTGAATACAGC\nGATTTCCAACATCCTTCTTCAATAGGAGTGTAGCTAGGTTCCAACTCCCATGTCCGAGTG\nGGTAGCAGACATCTGCCTTCCATGCATACACACTTCTGAGAGTTGAGCTTATGGCCTGTA\nACCCTACCTCCTGCCTGCAGCTACCTTTTGCTTCCAAAAGTCCTAGGCTCGCTGCTTCAC\nCAAAGTGTTGGGAGAGGTAACTGTTGTCTCCCGGCACACAAGACTAGTGCCTCCAAGCTC\nAATCCAGCGATTTCCCAGTAATTCCTGGGTTAGACTGGTGCTACATACTAAGTTCCATAC\nGTGAGTAGGTAGTTGAAAGCCTTGTCCAAAAACATCTTACTTCTGAGAGTTGAGCTCACC\nCTCAGTCCCTCACAGTTCCACACTGCCTGCAGAGTGAGTTTCCCACGTCTTCATCAGAGA\nCTTTTGCCAGAGGCTTCTGAGACGCAAGTTAACAATGCAAACAGGAGGGTATACCCAGGT\nGCAGTAGATTGGTTATCTGGGAACCTCCTTACTCAGAATACTGTTACCTTCACACTGTCA\nTAAGAATGCAGCTAGTTGAGAGCTGGCTTCTAGGCATGCTTCCCTGTGAGAGCTGAGGAC\n</code></pre>\n\n<p>my outputs:<br>\n    chr1    A<br>\n    chr1    G<br>\n    chr2    C<br>\n    chr2    C<br>\n    chr3    T<br>\n    chr3    T     </p>\n\n<p>I can use bioperl to find the position and print out the values one by one (file by file). </p>\n\n<p>Then I try to do the open and read files from a folder.</p>\n\n<pre><code>my $dir = '/home/Documents/Folder/';\nopendir(DIR, $dir) or die $!;\nmy @files = grep (/.fa$/, readdir(DIR));\n\nfor my $list(@files){  ##try to get the last number from file name##\nmy @lines = split /\\./, $list}  \n</code></pre>\n\n<p>open and read my reference file</p>\n\n<pre><code>open my $POS, '&lt;', 'CanFam3_SNP_POS.txt' or die $!;\n</code></pre>\n\n<p>I put all the files into an array and sort them.  </p>\n\n<pre><code>  my @sorted = @files;\n  foreach my $i (0..$#sorted)\n</code></pre>\n\n<p>Then I try to use a loop control to open and read a file depending on reference file column 1 values. For example chr1, the AAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.1.fa should be read and process. If reading  the chr2 from reference file, break the loop, and then open and read the AAAAA_AAAAA.CCCCC3.1.bbb.DDDDD.2.fa, process the file with chr2.</p>\n\n<pre><code>open my $fh, '&lt;', \"/home/Documents/Folder/$sorted[$i]\" or die $!;\nwhile (my $line = &lt;$POS&gt;){\n\n  chomp($line);\n\n  if ($line =~ /chr$lines[5]/g){\n\n  my @positions = split (/\\t/, $line);\n\n  print \"$positions[0]\",\"\\t\",\"$positions[1]\",\"\\t\", substr($so-&gt;seq(), \n  $positions[1], $positions[2] - $positions[1]),\"\\n\";\n\n  last if ($line !~ /chr$lines[5]/g)\n\n    }\n }\n</code></pre>\n\n<p>I think I have some problems with this codes. Can I use perl to do this process? Do I misunderstand some points? </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1539550280, "post_id": 52806973, "comment_id": 92532099, "body": "This requires <code>&#47;s</code> if the string can contain newlines."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539567932, "post_id": 52806973, "comment_id": 92535508, "body": "I missed that this solution was already suggested so I&#39;ll add my explanation here. The key to remember with regex is that it always works left to right and that each component will match as much as possible individually while still allowing the whole expression to match. This means that the <code>.*</code> will first try matching the whole string, then backtrack until it matches as much of the string as it can while still having a following comma. The <code>\\K</code> then prevents anything before the comma from being replaced."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1539550327, "last_edit_date": 1539550327, "creation_date": 1539550140, "answer_id": 52806973, "question_id": 52806895, "link": "https://stackoverflow.com/questions/52806895/how-can-i-remove-the-last-comma-from-a-string-in-perl/52806973#52806973", "title": "How can I remove the last comma from a string in Perl", "body": "<p>Not sure why you are specifying /r in your code but not using the return value.  If in fact you are using it, add it back.</p>\n\n<pre><code>s/.*\\K,//\n</code></pre>\n\n<p>Ah, if there may not be a trailing comma that you don't want, this won't work; it will always delete the last comma.  Use Bart's answer then.</p>\n"}, {"comments": [{"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1539550681, "post_id": 52806977, "comment_id": 92532194, "body": "Thank you @bartkiers that was it.  I am still trying to learn Regex. Can I assume that if we leave out the &#39;*&#39; that it would only work if the line ended with a comma and just one whitespace?"}, {"owner": {"reputation": 153096, "user_id": 50476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6326af218d1a113fd9a8fd9668b2d7c8?s=128&d=identicon&r=PG", "display_name": "Bart Kiers", "link": "https://stackoverflow.com/users/50476/bart-kiers"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 1, "creation_date": 1539550896, "post_id": 52806977, "comment_id": 92532249, "body": "Yes, that is correct. Note that <code>\\s</code> not only matches a space, but also tabs, new line chars (and possible other unicode space characters)"}], "tags": [], "owner": {"reputation": 153096, "user_id": 50476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6326af218d1a113fd9a8fd9668b2d7c8?s=128&d=identicon&r=PG", "display_name": "Bart Kiers", "link": "https://stackoverflow.com/users/50476/bart-kiers"}, "is_accepted": true, "score": 6, "last_activity_date": 1539550180, "creation_date": 1539550180, "answer_id": 52806977, "question_id": 52806895, "link": "https://stackoverflow.com/questions/52806895/how-can-i-remove-the-last-comma-from-a-string-in-perl/52806977#52806977", "title": "How can I remove the last comma from a string in Perl", "body": "<p>Try this</p>\n\n<pre><code>$value =~ s/,\\s*$//;\n</code></pre>\n\n<p>The pattern <code>,\\s*$</code> matches a comma (<code>,</code>) followed by zero or more space-chars (<code>\\s*</code>), followed by the end of the line/input (<code>$</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 983, "user_id": 3419535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fc0329501359ea67262fd819afaf03?s=128&d=identicon&r=PG&f=1", "display_name": "FantomX1", "link": "https://stackoverflow.com/users/3419535/fantomx1"}, "edited": false, "score": 0, "creation_date": 1616781249, "post_id": 52807095, "comment_id": 118119842, "body": "What do you mean by &quot;tlle character&quot;?"}, {"owner": {"reputation": 983, "user_id": 3419535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fc0329501359ea67262fd819afaf03?s=128&d=identicon&r=PG&f=1", "display_name": "FantomX1", "link": "https://stackoverflow.com/users/3419535/fantomx1"}, "edited": false, "score": 0, "creation_date": 1616786700, "post_id": 52807095, "comment_id": 118121992, "body": "Sorry,  in a hurry I did not use the regular expression , ~ , the tilde operator , when  I just copy-pasted it. So perhaps not surprisingly, I ended up with an empty string. Since other responders often used it in a full form, rather ready to use , when I was testing other options, so for a few whiles I got stuck."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1539551135, "creation_date": 1539551135, "answer_id": 52807095, "question_id": 52806895, "link": "https://stackoverflow.com/questions/52806895/how-can-i-remove-the-last-comma-from-a-string-in-perl/52807095#52807095", "title": "How can I remove the last comma from a string in Perl", "body": "<p><code>s/,//</code> removes the first comma. So,</p>\n\n<pre><code>$value = reverse(reverse($value) =~ s/,//r);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": false, "score": 1, "last_activity_date": 1539551849, "creation_date": 1539551849, "answer_id": 52807182, "question_id": 52806895, "link": "https://stackoverflow.com/questions/52806895/how-can-i-remove-the-last-comma-from-a-string-in-perl/52807182#52807182", "title": "How can I remove the last comma from a string in Perl", "body": "<p>The accepted answer removes a comma followed by zero or more white space characters at the end of a string. But you asked about removing the last comma. Either is consistent with your example, but if you really want to remove the last comma, one way is:</p>\n\n<pre><code>$value =~ s/,([^,]*$)/$1/\n</code></pre>\n\n<p>This will, for example, change <code>\"foo,bar,baz\"</code> to <code>\"foo,barbaz\", and in your example</code>\"cat, dog, fish, \"<code>to</code>\"cat, dog, fish \"` (leaving the trailing space).</p>\n\n<p>The <code>reverse</code> trick in choruba's answer also works.</p>\n\n<p>If nothing else, this shows the importance of a precise problem statement.</p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1539553865, "creation_date": 1539553865, "answer_id": 52807406, "question_id": 52806895, "link": "https://stackoverflow.com/questions/52806895/how-can-i-remove-the-last-comma-from-a-string-in-perl/52807406#52807406", "title": "How can I remove the last comma from a string in Perl", "body": "<p>Using positive look ahead,</p>\n\n<pre><code>$value =~ s/,(?=[^,]*\\z)//;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 8170574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4f03afa3e0ea844eabfa3228f16a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Elamparithi", "link": "https://stackoverflow.com/users/8170574/elamparithi"}, "is_accepted": false, "score": 0, "last_activity_date": 1539613695, "last_edit_date": 1539613695, "creation_date": 1539603020, "answer_id": 52815805, "question_id": 52806895, "link": "https://stackoverflow.com/questions/52806895/how-can-i-remove-the-last-comma-from-a-string-in-perl/52815805#52815805", "title": "How can I remove the last comma from a string in Perl", "body": "<p>I suggest this pattern: <code>,*\\s*$</code>. It matches all commas (if any) and all white spaces (if any) and the end of the string.</p>\n\n<p>A full example:</p>\n\n<pre><code>use 5.18.2;\nuse strict ;\nuse warnings ;\nuse Data::Dumper;\n\nmy $data = \"cat, dog, fish,,,,,,,,,,,,,                          \";                                                                                   \n$data =~ s/,*\\s*$// ;\nprint $data;\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2067, "favorite_count": 0, "accepted_answer_id": 52806977, "answer_count": 6, "score": 2, "last_activity_date": 1539613695, "creation_date": 1539549539, "last_edit_date": 1539550217, "question_id": 52806895, "link": "https://stackoverflow.com/questions/52806895/how-can-i-remove-the-last-comma-from-a-string-in-perl", "title": "How can I remove the last comma from a string in Perl", "body": "<p>I have a string coming in from raw data.  I can't guarantee that there might or might not be an extra comma.  I thought I might be able to remove it like this:</p>\n\n<pre><code>$value = \"cat, dog, fish, \";\n\n$value =~ s/,//r;\n</code></pre>\n\n<p>Sadly that doesn't work.  Of course I could do a loop to check the last char of the string one by one, but I would like to learn how to do it with the Regex backslash method.</p>\n\n<p>Can someone help me please?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8681526, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OE10Ixx6OaQ/AAAAAAAAAAI/AAAAAAAARdU/vJehS9sXKL4/photo.jpg?sz=128", "display_name": "nA Na", "link": "https://stackoverflow.com/users/8681526/na-na"}, "edited": false, "score": 0, "creation_date": 1539583241, "post_id": 52800018, "comment_id": 92538938, "body": "I used your suggestion and found that my regex was showing that error when it was not matching then stating it could not replace with the field!"}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 1, "last_activity_date": 1539497882, "creation_date": 1539497882, "answer_id": 52800018, "question_id": 52798836, "link": "https://stackoverflow.com/questions/52798836/perl-script-gets-stuck/52800018#52800018", "title": "Perl Script gets stuck", "body": "<p>For finding where a regular expression fails, I find <a href=\"https://metacpan.org/pod/Regexp::Debugger\" rel=\"nofollow noreferrer\">Regexp::Debugger</a> very helpful. It allows you to single-step through a regular expression so you can see where your regular expression is not general enough for your input data.</p>\n\n<p>The input data from your \"running events\" program is the most interesting here to diagnose why your regular expression fails, but if you have that, putting it into a small test program makes things very simple:</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\nuse Regexp::Debugger;\n\nwhile(&lt;DATA&gt;) {\n    s/(?:(?&lt;field2&gt;[0-9A-Za-z]{4}_8[0-9A-Za-z]{2}_[0-9A-Za-z]{2}[A-Za-z][0-9A-Za-z]0[0-9]\\.[Ss][Tt][Rr]|[Pp][Ii][Cc][Oo]_8[Dd][0-9]_2{2}6[0-9]-1{2}\\.[Ss][Tt][Rr])|\\{\"[Pp][Ii][Dd] 8[0-9A-Za-z]{2}\",\"|[\",0-9ginru{}]{34,$\n};\n\n__DATA__\n... the data that your shell script outputs ...\n</code></pre>\n\n<p>Also, your regular expression seems to be cut off, can you please update your question with the correct regular expression?</p>\n"}], "owner": {"reputation": 29, "user_id": 8681526, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OE10Ixx6OaQ/AAAAAAAAAAI/AAAAAAAARdU/vJehS9sXKL4/photo.jpg?sz=128", "display_name": "nA Na", "link": "https://stackoverflow.com/users/8681526/na-na"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 52800018, "answer_count": 1, "score": 1, "last_activity_date": 1539500854, "creation_date": 1539482011, "last_edit_date": 1539500854, "question_id": 52798836, "link": "https://stackoverflow.com/questions/52798836/perl-script-gets-stuck", "title": "Perl Script gets stuck", "body": "<p>I have a folder that contains old files that need to be deleted without deleting the running files.</p>\n\n<p>I have a command in linux to list running files that contains the running file names.</p>\n\n<pre><code>{\"xxxxxx\",\"235235235.filename\",{xxx},xxxx,xxxx,xxxx}\n</code></pre>\n\n<p>I just need the <code>235235235.filename</code>s and a script to compare to files in a linux directory and delete the files that don't match, however the directory also has <code>xxxxxxxxxxx_235235235.filename</code>s.</p>\n\n<p>Here is where I am at now: </p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nmy $dir = \"****\";\nopendir(DIR, $dir) or die \"Could not open $dir: $!\\n\";\nmy @allfiles = readdir DIR;\nclose DIR;\n\nforeach my $oldfiles(@allfiles) {\n$oldfiles =~ s/^(?&gt;\\N*?_)((?&lt;field3&gt;[^\\n\\r.]*?)\\.str)$/$+{field3}/img;\n\n#print \"$oldfiles\\n\";\n}\n\nmy $cmd =\"****\";\n#my $cmd =\"ls\";\nmy @runEvents = `$cmd`;\nchomp @runEvents;\nprint \"done.\";\nforeach my $running(@runEvents) {\n$running =~ s/(?&lt;field2&gt;[0-9a-z]{4}_8[0-9a-z]{2}_[0-9a-z]{2}[a-z][0-9a-z]0[0-9]\\.str|PICO_8D[0-9]_2{2}6[0-9]-1{2}\\.str)|\\{\"PID 8[0-9a-z]{2}\",\"/$+{field2}/ig;\n\n\n        print \"$running\\n\";\n}\n</code></pre>\n\n<p>When the last regex is ran I get</p>\n\n<blockquote>\n  <p>Use of uninitialized value $+(\"field2\"} in substitution iterator at line 24.</p>\n</blockquote>\n\n<p>Can anyone point me in a good direction?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1539504889, "post_id": 52798656, "comment_id": 92520389, "body": "<code>tr&#47;&#47;&#47;</code> doesn&#39;t use the regex engine, so it&#39;s a little more efficient."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1539526551, "post_id": 52798656, "comment_id": 92525544, "body": "@Dave Cross, Neither does <code>split &#47;S&#47;</code> (or if it does, it&#39;s in some mode that&#39;s much faster than a normal match). Still, <code>tr&#47;S&#47;&#47;</code> should still be simpler and faster."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1539539215, "post_id": 52798656, "comment_id": 92529232, "body": "Split, in addition to being not as efficient, also returns one more than the number of S or Ts."}], "tags": [], "owner": {"reputation": 1, "user_id": 9111829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46906a277204ee88473f3a3eac2e7255?s=128&d=identicon&r=PG&f=1", "display_name": "k12l", "link": "https://stackoverflow.com/users/9111829/k12l"}, "is_accepted": false, "score": 0, "last_activity_date": 1539526652, "last_edit_date": 1539526652, "creation_date": 1539479333, "answer_id": 52798656, "question_id": 52798585, "link": "https://stackoverflow.com/questions/52798585/passing-strings-as-array-to-subroutine-and-return-count-of-specific-char/52798656#52798656", "title": "Passing strings as array to subroutine and return count of specific char", "body": "<p>Why <code>tr///</code>??</p>\n\n<pre><code>sub main {\n    my @array = @_;\n\n    while (@array) {\n        my $s = split(/S/, $_, -1) - 1;\n        my $t = split(/T/, $_, -1) - 1;\n        print \"ST are in total $s + $t\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539512828, "post_id": 52799011, "comment_id": 92522164, "body": "Thanks @Chris. This explanation not only answers the question but also teaches me a lot of things. As a newbie to Perl, this is the best answer. Thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539526477, "post_id": 52799011, "comment_id": 92525524, "body": "<code>$s = ($_ = tr&#47;S&#47;&#47;)</code> actually worked as it mean <code>$s = $_ = ($_ =~ tr&#47;S&#47;&#47;)</code>. That said, it needlessly clobbered the contents of <code>@array</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539539041, "post_id": 52799011, "comment_id": 92529179, "body": "@ikegami but the assignment to $_ breaks the following tr/T//, doesn&#39;t it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539539140, "post_id": 52799011, "comment_id": 92529212, "body": "Indeed, it does"}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 7, "last_activity_date": 1539526424, "last_edit_date": 1539526424, "creation_date": 1539484655, "answer_id": 52799011, "question_id": 52798585, "link": "https://stackoverflow.com/questions/52798585/passing-strings-as-array-to-subroutine-and-return-count-of-specific-char/52799011#52799011", "title": "Passing strings as array to subroutine and return count of specific char", "body": "<p>A few comments on your question. Perl programs hardly ever define <code>main()</code> as a sub. That's a Python approach.</p>\n\n<p><code>while (@array)</code> will be an infinite loop since <code>@array</code> never gets smaller. You can't read into the default variable <code>$_</code> this way. For this to work, use <code>for (@array)</code> which will read the array items into <code>$_</code> one at a time until all have been read.</p>\n\n<p>The <code>tr</code> transliteration operator is the right tool for your task.</p>\n\n<p>The code needed to get your results could be:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @data = (\"QQQRRRRSCCTTTS\", \"ZZZSTTKQSST\", \"ZBQLDKSSSS\");\n\nmy $i = 1;\n\nfor (@data) {\n    my $count = tr/ST//;\n    print \"Element $i Counts of ST = $count\\n\";\n    $i++;\n}   \n</code></pre>\n\n<p>Also, note that <code>my $count = tr/ST//;</code> doesn't require the binding of the transliteration operator with <code>$_</code>. Perl assumes this when <code>$_</code> holds the value to be counted here. Your code tried <code>my $s = ($_ = tr/S//);</code> which will give the results but the shorter way I've shown is the preferred way.</p>\n\n<p>(Just noticed you had <code>=</code> instead of <code>=~</code> in your statement. That is an error. Has to be <code>$s = ($_ =~ tr/S//);</code>)</p>\n\n<p>You can combine the 2 sought letters as in my code. Its not necessary to do them separately.</p>\n\n<p>I got the output you want.</p>\n\n<pre><code>Element 1 Counts of ST = 5\nElement 2 Counts of ST = 6\nElement 3 Counts of ST = 4\n</code></pre>\n\n<p>Also, you can't perform math operations in a quoted string like you had.</p>\n\n<p><code>print \"ST are in total $s + $t\\n\";</code></p>\n\n<p>Instead, you would need to do:</p>\n\n<p><code>print \"ST are in total \", $s + $t, \"\\n\";</code></p>\n\n<p>where the operation is performed outside of the string.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1539505084, "creation_date": 1539505084, "answer_id": 52800782, "question_id": 52798585, "link": "https://stackoverflow.com/questions/52798585/passing-strings-as-array-to-subroutine-and-return-count-of-specific-char/52800782#52800782", "title": "Passing strings as array to subroutine and return count of specific char", "body": "<p>Don't use <code>while</code> to traverse an array - your array gets no smaller, so the condition is always true and you get an infinite loop. You should use <code>for</code> (or <code>foreach</code>) instead.</p>\n\n<pre><code>for (@array) {\n  my $s = tr/S//; # No need for =~ as tr/// works on $_ by default\n  my $t = tr/T//;\n  print \"ST are in total $s + $t\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52799011, "answer_count": 3, "score": 0, "last_activity_date": 1539526652, "creation_date": 1539478228, "question_id": 52798585, "link": "https://stackoverflow.com/questions/52798585/passing-strings-as-array-to-subroutine-and-return-count-of-specific-char", "title": "Passing strings as array to subroutine and return count of specific char", "body": "<p>I was trying to think in the right way to tackle this: \n-I would to pass say, n elements array as argument to a subroutine. And for each element match two char types <em>S</em> and <em>T</em> and print for each element, the count of these letters. So far I did this but I am locked and found some infinite loops in my code.</p>\n\n<p>use strict;\nuse warnings;</p>\n\n<pre><code>sub main {\n\nmy @array = @_;\n\nwhile (@array) {\n    my $s = ($_ = tr/S//);\n    my $t = ($_ = tr/T//);\n    print \"ST are in total $s + $t\\n\";\n    }\n}\n\nmy @bunchOfdata = (\"QQQRRRRSCCTTTS\", \"ZZZSTTKQSST\", \"ZBQLDKSSSS\");\nmain(@bunchOfdata);\n</code></pre>\n\n<p>I would like the output to be:</p>\n\n<pre><code>Element 1 Counts of ST = 5\nElement 2 Counts of ST = 6\nElement 3 Counts of ST = 4\n</code></pre>\n\n<p>Any clue how to solve this?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539462615, "post_id": 52797014, "comment_id": 92513923, "body": "the else, should be <i>$e are 0</i> actually!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 1, "creation_date": 1539463597, "post_id": 52797014, "comment_id": 92514138, "body": "Sorry, tired, that&#39;s what I meant. But hey, you got the point, and that&#39;s what counts :) Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1539463592, "last_edit_date": 1539463592, "creation_date": 1539462330, "answer_id": 52797014, "question_id": 52796948, "link": "https://stackoverflow.com/questions/52796948/finding-values-from-array-in-hash-key-and-return-counts-of-zero/52797014#52797014", "title": "Finding values from array in hash key and return counts of zero", "body": "<pre><code>if (exists $hashy{$e}) {\n    print \"$e are $hashy{$e}\\n\";\n} else {\n    print \"$e are 0\\n\";\n}\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>printf \"%s are %s\\n\", $e, $hashy{$e} || 0;\n</code></pre>\n\n<p>If you actually want zeros in the hash,</p>\n\n<pre><code>my %hashy;\n$hashy{$_} = 0 for @Source;\n++$hashy{$_} for @ArrToHash;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 2, "last_activity_date": 1539509049, "last_edit_date": 1539509049, "creation_date": 1539462420, "answer_id": 52797028, "question_id": 52796948, "link": "https://stackoverflow.com/questions/52796948/finding-values-from-array-in-hash-key-and-return-counts-of-zero/52797028#52797028", "title": "Finding values from array in hash key and return counts of zero", "body": "<pre><code>    if (exists $hashy{$e}) {\n        print \"$e are $hashy{$e}\\n\";\n    }else{\n        print \"$e are 0\\n\";\n    }\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>    printf \"%s are %d\\n\", $e, $hashy{$e} // 0 ; \n</code></pre>\n\n<hr>\n\n<p><strong>Comment:</strong><br>\nI prefer <code>$hashy{$e} // 0</code>.  It returns <code>$hashy{$e}</code> if <code>$hashy{$e}</code> exits and it is not undef.<br>\nIkegami prefers <code>$hashy{$e} || 0</code>. It returns <code>0</code> also when <code>$hashy{$e}</code> is an empty string. It works with older perl versions without <code>//</code> operator support.<br>\nIMHO  It is a matter of \"style-guide\" in most situations. </p>\n"}], "owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 52797028, "answer_count": 2, "score": 1, "last_activity_date": 1539509049, "creation_date": 1539461887, "last_edit_date": 1592644375, "question_id": 52796948, "link": "https://stackoverflow.com/questions/52796948/finding-values-from-array-in-hash-key-and-return-counts-of-zero", "title": "Finding values from array in hash key and return counts of zero", "body": "<p>I have one array which I am checking for values in a hash (which I created). The idea is to check each element of the array if exists in the hash keys. If it does not exists, it should say that the non-existent element appears zero times. The hash I created to count frequency of numbers on a second array.</p>\n<p>Here's what I did:</p>\n<pre><code>use strict;\nuse warnings;\n\nsub main {\n    \n    my @Source = (&quot;A&quot;, &quot;B&quot;, &quot;D&quot;);\n    my @ArrToHash = (&quot;A&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, &quot;E&quot;, &quot;F&quot;);\n    \n    my %hashy;\n    ++$hashy{$_} for @ArrToHash;\n    \n    foreach my $e (@Source) {\n        if (exists $hashy{$e}) {\n            print &quot;$e are $hashy{$e}\\n&quot;;\n        }\n    }\n}\nmain();\n</code></pre>\n<p>I am getting</p>\n<blockquote>\n<p>A are 2</p>\n<p>B are 1</p>\n</blockquote>\n<p>While in reality I would like:</p>\n<blockquote>\n<p>A are 2</p>\n<p>B are 1</p>\n<p>D are 0</p>\n</blockquote>\n<p>Any clue? How to fix my code?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539453242, "post_id": 52795590, "comment_id": 92511595, "body": "what about the count of each number?"}, {"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539453275, "post_id": 52795590, "comment_id": 92511600, "body": "Like this: Num 1 are 4 with 22.22% Num 2 are 5 with 27.78% Num 4 are 3 with 16.67% Num 7 are 3 with 16.67% Num 9 are 3 with 16.67%"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1539453330, "post_id": 52795590, "comment_id": 92511612, "body": "The count is $freq{$_} so you just add that to your string. The reason the percentatge wasn&#39;t working as you did it is because you can only interpolate variables into a string, not the division operator."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539453542, "post_id": 52795590, "comment_id": 92511665, "body": "@feijao Added that and edited explanation. Let me know if it&#39;s not clear"}, {"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539454073, "post_id": 52795590, "comment_id": 92511797, "body": "I get an error like: Enter the number: 112219992221474774 Can&#39;t locate object method &quot;freq&quot; via package &quot;1&quot; (perhaps you forgot to load &quot;1&quot;?) at /Volumes/Downloads/Text-5.pl line 18, &lt;STDIN&gt; line 1."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539454171, "post_id": 52795590, "comment_id": 92511819, "body": "@feijao oh, I lost the <code>$</code> in front in pasting .. fixed"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1539500143, "last_edit_date": 1539500143, "creation_date": 1539452207, "answer_id": 52795590, "question_id": 52795366, "link": "https://stackoverflow.com/questions/52795366/split-distinct-numbers-count-occurance-and-return-percents-of-each/52795590#52795590", "title": "Split distinct numbers, count occurance and return percents of each", "body": "<p>You split the input string correctly using an empty string <code>//</code>, what returns the list of characters in that string; in this case the digits you need. Why then split the first element of <code>@Array</code> again, and by space? That results in your <code>%numbers</code> being <code>(1 =&gt; 1)</code>. </p>\n\n<p>As the <code>split //</code> returned the list of digits just count them.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nwhile (1) {\n    print \"Enter the number: \";\n\n    my $num = &lt;STDIN&gt;;\n    chomp $num;\n    if ($num =~ /[^0-9]/) {\n        say \"Non-digit(s) in input $num. Please try again.\";\n        next;\n    }\n\n    my @digits = split //, $num;   #/\n\n    my %freq;\n    ++$freq{$_} for @digits;\n\n    for (sort keys %freq) { \n        say \"Num are $freq{$_} with \", (sprintf \"%.2f%%\", ($freq{$_}/@digits)*100) \n    }\n}\n</code></pre>\n\n<p>Quit with Ctrl-C.  With input of <code>112219992221474774</code> the output is</p>\n\n<pre>\nNum 1 are 4 with 22.22%\nNum 2 are 5 with 27.78%\nNum 4 are 3 with 16.67%\nNum 7 are 3 with 16.67%\nNum 9 are 3 with 16.67%\n</pre>\n"}], "owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 52795590, "answer_count": 1, "score": 1, "last_activity_date": 1539500143, "creation_date": 1539450711, "question_id": 52795366, "link": "https://stackoverflow.com/questions/52795366/split-distinct-numbers-count-occurance-and-return-percents-of-each", "title": "Split distinct numbers, count occurance and return percents of each", "body": "<p>I would like to split a user input of numbers and split the numbers into a list in perl and return their count and percents sorted by numbers splitted:</p>\n\n<p>For instance users inputs in stdin: 112219992221474774</p>\n\n<p>Num 1 are 4 with 22.22%</p>\n\n<p>Num 2 are 5 with 27.77%</p>\n\n<p>Num 4 are 3 with 16.67%</p>\n\n<p>Num 7 are 3 with 16.67%</p>\n\n<p>Num 9 are 3 with 16.67%</p>\n\n<p>What I have done so far? </p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub main {\n\n    print (\"Enter the numbers: \");\n    chomp(my $num = &lt;STDIN&gt;);\n\n    my @Array = split (//, $num);\n\n    my %numbers;\n    $numbers{$_}++ for split / /, $Array[0];\n\n    my $total;\n\n    while (my ($k, $v) = each %numbers){\n        $total += $v;\n        print \"Num $k are $v with $v/$total %\\n\";   \n    }\n\n}\n\nmain();\n</code></pre>\n\n<p>When I run this I get: </p>\n\n<blockquote>\n  <p>Num 1 are 1 with 1/1 %</p>\n</blockquote>\n\n<p>Any clue why is so?</p>\n"}, {"tags": ["perl", "scripting-language"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1539444210, "post_id": 52794394, "comment_id": 92508983, "body": "You never reassign the value of <code>$name</code>, which means <code>$var</code> can never be anything other than 1, which evaluates to true."}], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539445233, "post_id": 52794482, "comment_id": 92509292, "body": "But if $var = 0 is after if/else, if the condition falls in &quot;else&quot; then it will ask only once and then stops the while execution if the user enters again the wrong name. The idea is to let while run until a correct match is entered."}, {"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 1, "creation_date": 1539445508, "post_id": 52794482, "comment_id": 92509381, "body": "Will accept @Gilles solution as it works best! Thanks though :-)"}], "tags": [], "owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "is_accepted": false, "score": 1, "last_activity_date": 1539444624, "last_edit_date": 1539444624, "creation_date": 1539444311, "answer_id": 52794482, "question_id": 52794394, "link": "https://stackoverflow.com/questions/52794394/while-loop-infinite-when-wrong-input-is-entered/52794482#52794482", "title": "While-loop infinite when wrong input is entered", "body": "<p>You're resetting $var only if the name is found.</p>\n\n<p>Move this line...</p>\n\n<p>$var = 0</p>\n\n<p>After the if/else.</p>\n\n<p>You also need to move this line...</p>\n\n<p>chomp(my $name = );</p>\n\n<p>Inside the while loop, before the if.</p>\n"}, {"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539445816, "post_id": 52794631, "comment_id": 92509464, "body": "Didn&#39;t notice you removed the while loop. This is the best solution. Thanks!"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 1, "last_activity_date": 1539445298, "creation_date": 1539445298, "answer_id": 52794631, "question_id": 52794394, "link": "https://stackoverflow.com/questions/52794394/while-loop-infinite-when-wrong-input-is-entered/52794631#52794631", "title": "While-loop infinite when wrong input is entered", "body": "<p>Use this, simplified, no need a loop (recursive function) :</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub main {\n    my %profession = (\n        \"Emelie\"  =&gt; \"Economist\",\n        \"Hugo\" =&gt; \"Scientist\",\n        \"Maria\"  =&gt; \"Accountant\",\n        \"Linn\u00e9a\"  =&gt; \"Medical Doctor\",\n    );\n\n    print (\"Enter first name: \");\n    chomp(my $name = &lt;STDIN&gt;);\n\n    if (exists $profession{$name}) { \n        print \"The profession is: \", $profession{$name}, \"\\n\";\n    }\n    else {\n        print \"No such name found :-(, try once again\\n\";\n        main();\n    }\n}\nmain();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1539618899, "post_id": 52794707, "comment_id": 92558163, "body": "The semicolon line 20 isn&#39;t needed."}], "tags": [], "owner": {"reputation": 1, "user_id": 10499100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdsU1.jpg?s=128&g=1", "display_name": "cedsam", "link": "https://stackoverflow.com/users/10499100/cedsam"}, "is_accepted": false, "score": 0, "last_activity_date": 1539445832, "creation_date": 1539445832, "answer_id": 52794707, "question_id": 52794394, "link": "https://stackoverflow.com/questions/52794394/while-loop-infinite-when-wrong-input-is-entered/52794707#52794707", "title": "While-loop infinite when wrong input is entered", "body": "<p>line 20, a \";\" is missing</p>\n\n<p>it is not working because you need to ask the name again when it is not found otherwise it will loop ($var won't change to 0)</p>\n\n<p>simple example : </p>\n\n<pre><code>else{\n    print \"No such name found :-(, try once again\\n\";\n    chomp($name = &lt;STDIN&gt;);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 1, "creation_date": 1539446639, "post_id": 52794767, "comment_id": 92509692, "body": "Thanks a lot. Nice explanation (never thought of using <i>DATA</i> or &quot;last&quot; as I am new to this language). Will thumbs up but will have to stick with @Gilles&#39; recursive function."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 3, "last_activity_date": 1539473854, "last_edit_date": 1539473854, "creation_date": 1539446280, "answer_id": 52794767, "question_id": 52794394, "link": "https://stackoverflow.com/questions/52794394/while-loop-infinite-when-wrong-input-is-entered/52794767#52794767", "title": "While-loop infinite when wrong input is entered", "body": "<p>There is a logic error in your code.  For purposes of demonstration I'll switch from using <code>STDIN</code> as your input handle, in its place using <code>DATA</code> so that I can bake-in some test data.  I'll also eliminate the outer subroutine, as it's not pertinent to the discussion.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %profession = (\n    Emelie    =&gt; 'Economist',\n    Hugo      =&gt; 'Scientist',\n    Maria     =&gt; 'Accountant',\n    Linn\u00e9a    =&gt; 'Medical Doctor',\n);\n\nchomp(my $name = &lt;DATA&gt;);\n\nmy $var = 1;\nwhile($var) {\n    if (exists $profession{$name}) {\n        print \"The profession for $name is $profession{$name}\\n\";\n        $var = 0;  # This could just be the 'last' keyword.\n    }\n    else {\n        print \"No such name ($name) found. Try again.\\n\";\n    }\n}\n\n__DATA__\nJohn\nDave\nMaria\n</code></pre>\n\n<p>As you can see from the sample data you would expect a program with correct logic to terminate after the third try, because <code>Maria</code> is one of your hash keys.  But if you run it you see this:</p>\n\n<pre><code>No such name (John) found. Try again.\nNo such name (John) found. Try again.\nNo such name (John) found. Try again.\nNo such name (John) found. Try again.\nNo such name (John) found. Try again.\nNo such name (John) found. Try again.\nNo such name (John) found. Try again.\nNo such name (John) found. Try again.\n^C\nCommand terminated\n</code></pre>\n\n<p>(The <code>^C</code> and <code>Command terminated</code> lines are coming from when I finally hit -c to terminate the run.)</p>\n\n<p>At this point, with the additional information of printing the name that was most recently read from <code>&lt;DATA&gt;</code> it's pretty easy to see that we are only ever looking at <code>John</code>.  But why?  Because your loop doesn't read from the <code>&lt;DATA&gt;</code> filehandle.  You're doing that outside the loop.</p>\n\n<p>Here's a more Perlish way to accomplish what you're wanting to do:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %profession = (\n    'Emelie'    =&gt; 'Economist',\n    'Hugo'      =&gt; 'Scientist',\n    'Maria'     =&gt; 'Accountant',\n    'Linn\u00e9a'    =&gt; 'Medical Doctor',\n);\n\nwhile(my $name = &lt;DATA&gt;) {\n    chomp $name;\n\n    if (exists $profession{$name}) {\n        print \"The profession for $name is $profession{$name}\\n\";\n        last;\n    }\n\n    print \"No such name ($name) found. Try again.\\n\";\n}\n\n__DATA__\nJohn\nDave\nMaria\n</code></pre>\n\n<p>Now the output will be:</p>\n\n<pre><code>No such name (John) found. Try again.\nNo such name (Dave) found. Try again.\nThe profession for Maria is Accountant\n</code></pre>\n\n<p>The first time through this <code>while</code> loop we read from <code>DATA</code> and obtain <code>John\\n</code>. We assign it to <code>$name</code>, <code>chomp</code> it, and then check to see if <code>John</code> exists as a hash key. It doesn't, so we print the name and move on to the next iteration. On the second iteration <code>&lt;DATA&gt;</code> reads <code>Dave\\n</code>, chomps it, and checks if it exists. It doesn't, so we print the name and move on to the next iteration.</p>\n\n<p>On the third iteration we <code>&lt;DATA&gt;</code> obtains <code>Maria\\n</code>, chomps it, and checks if a hash key <code>Maria</code> exists. It does, so it prints the value associated with that key, and then hits the <code>last</code> statement.  <code>last</code> tells the control of flow to exit the enclosing loop immediately. The remainder of the lines within the main block of the loop are skipped, and there are no more iterations.  It is often more legible than a sentinel variable such as <code>$var</code> in your example code, as there's no need for the reader of the code to keep track of what state a variable may be in.</p>\n\n<p>So in short, your mistake was only reading from the input filehandle one time, and then expecting your loop to encounter changes in <code>$name</code> despite it only being assigned to one time, before entering the loop. The solution was to move the file read to become part of the loop.</p>\n\n<p>This pattern is documented in <code>perldoc perlvar</code>, which I encourage you to spend a few minutes reading over to gain a better familiarity with the language.</p>\n\n<p>Update: I do see an answer where calling <code>main()</code> again is used as a means of iterating over the file read, and this is not wrong. But in a real script <code>main()</code> is likely to grow larger, and when that happens the file read loop would either need to become an explicit loop again, or be broken out to a different subroutine that can call itself.  Additionally, the <code>while</code> loop approach is an idiomatic or common solutions, more likely to be found in code written by others. Using recursion to read a file is a less common pattern.</p>\n"}], "owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 52794631, "answer_count": 4, "score": 1, "last_activity_date": 1539473854, "creation_date": 1539443826, "last_edit_date": 1592644375, "question_id": 52794394, "link": "https://stackoverflow.com/questions/52794394/while-loop-infinite-when-wrong-input-is-entered", "title": "While-loop infinite when wrong input is entered", "body": "<p>I am creating a hash that contains names of 4 people. I would like a user to under one of the names and get the profession. At the same time I want the program to continue to ask for entering name if the name input was wrong.  However when I run my code, it goes into infinite while loop when name is not found. Any clues how to fix this?</p>\n<pre><code>use strict;\nuse warnings;\n\nsub main {\n\nmy %profession = (\n    &quot;Emelie&quot;  =&gt; &quot;Economist&quot;,\n    &quot;Hugo&quot; =&gt; &quot;Scientist&quot;,\n    &quot;Maria&quot;  =&gt; &quot;Accountant&quot;,\n    &quot;Linn\u00e9a&quot;  =&gt; &quot;Medical Doctor&quot;,\n    );\n\nprint (&quot;Enter first name: &quot;);\nchomp(my $name = &lt;STDIN&gt;);\n\nmy $var = 1;\nwhile ($var) {\n    if (exists $profession{$name}) {\n        print &quot;The profession is: &quot;, $profession{$name}, &quot;\\n&quot;;\n        $var = 0\n    }\n    else {\n        print &quot;No such name found :-(, try once again\\n&quot;;\n    }\n\n}\n\n}\nmain();\n</code></pre>\n<p>The infinite loop gives this:</p>\n<blockquote>\n<p>No such name found :-(, try once again</p>\n<p>No such name found :-(, try once again</p>\n<p>No such name found :-(, try once again</p>\n<p>No such name found :-(, try once again</p>\n</blockquote>\n<p>and continues....</p>\n<p>Thanks in advance:-)</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "perl", "scripting"], "comments": [{"owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 3, "creation_date": 1539385720, "post_id": 52788039, "comment_id": 92497499, "body": "What does the <code>-Sx</code> option do?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1539386024, "post_id": 52788039, "comment_id": 92497555, "body": "Two <i>different</i> options. <code>-S</code> and <code>-x</code> that do two different things. Did you read the documentation you were given a link to earlier to see what they do? Did you look at Python documentation to see if there are any equivalents? Are you sure you even <i>need</i> equivalents? Have you thought about if that bit of shell you were asking about is really necessary for what you&#39;re doing? Or are you just trying to blindly translate without understanding what things are doing? (I don&#39;t recommend that last)"}, {"owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539386186, "post_id": 52788039, "comment_id": 92497585, "body": "-S searches for the script in PATH variables. -x mentions that the actual script to execute starts from the line that begins with <code>#!</code>"}, {"owner": {"reputation": 213454, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539386202, "post_id": 52788039, "comment_id": 92497589, "body": "<a href=\"https://docs.python.org/3/using/cmdline.html\" rel=\"nofollow noreferrer\">Here are the Python docs it sounds like you didn&#39;t find.</a>"}, {"owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539386309, "post_id": 52788039, "comment_id": 92497616, "body": "Yeah. I read the documentation for Python at <a href=\"https://docs.python.org/3/using/cmdline.html\" rel=\"nofollow noreferrer\">docs.python.org/3/using/cmdline.html</a> . But there is no much info about what those -S and -x do in Python."}, {"owner": {"reputation": 213454, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1539386707, "post_id": 52788039, "comment_id": 92497688, "body": "Are you saying you looked at Python docs saying &quot;Skip the first line of the source&quot; and Perl docs saying &quot;Leading garbage will be discarded until the first line that starts with #! and contains the string &quot;perl&quot;. Any meaningful switches on that line will be applied.&quot;, and you still do not know whether those docs describe the same functionality?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539622918, "post_id": 52788580, "comment_id": 92559983, "body": "No. The -Sx are not needed like really. But will the script execute in same way if I put the python code in same shell script. I&#39;m thinking it would be better to put the whole python code in a different script file and call that file from shell script file. Can we do that?"}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": true, "score": 1, "last_activity_date": 1539391741, "creation_date": 1539391741, "answer_id": 52788580, "question_id": 52788039, "link": "https://stackoverflow.com/questions/52788039/what-is-the-pythonic-equivalent-of-perls-sx-command-line-options/52788580#52788580", "title": "What is the Pythonic equivalent of Perl&#39;s -Sx command line options?", "body": "<p>Questions I asked in a comment: </p>\n\n<blockquote>\n  <p>Have you thought about if that bit of shell you were asking about is really necessary for what you're doing? Or are you just trying to blindly translate without understanding what things are doing? </p>\n</blockquote>\n\n<p>I'm pretty sure the answers are no and yes respectively. That's not a good place to be when you're trying to translate code from one language to another; you should understand <strong>what</strong> is going on in the original and make your new version do the same thing in whatever way is most appropriate for the new language, and not get trapped into some blind-leading-the-blind cargo cult code where you have no idea what's going on or how to fix it when it invariably doesn't work.</p>\n\n<p>It doesn't help that based on your <a href=\"https://stackoverflow.com/questions/52785232/what-does-exec-perl-perl-sx-0-1-mean-in-shell-script\">other question</a> your source program that you're trying to translate is rather confusing if you've never seen one like it before.</p>\n\n<p>You have a shell script that, as the only thing it does, is run perl with a program whose source is directly embedded in the shell script. The reason to do this is to have the real script run under different perl installs on the same computer depending on the environment (Personally I'd put the perl code in its own separate file instead of trying to be clever with having it directly in the shell script; <a href=\"https://perlbrew.pl/Perlbrew-In-Shell-Scripts.html\" rel=\"nofollow noreferrer\">perlbrew documentation</a> examples take that approach). Is that something you need to be concerned about with the python version? I'm guessing probably not (and if it is, look into pythonic ways to do it, not obscure perlish ways). Which means the answer to another question</p>\n\n<blockquote>\n  <p>Are you sure you even <em>need</em> equivalents [to -S and -x]? </p>\n</blockquote>\n\n<p>is no, I don't think you do. I think you should just keep it to pure python, making the things those options do irrelevant.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1539409699, "creation_date": 1539409699, "answer_id": 52789936, "question_id": 52788039, "link": "https://stackoverflow.com/questions/52788039/what-is-the-pythonic-equivalent-of-perls-sx-command-line-options/52789936#52789936", "title": "What is the Pythonic equivalent of Perl&#39;s -Sx command line options?", "body": "<p>The following snippet is used to support ancient systems that predate the existence of <code>python</code>:</p>\n\n<pre><code>#!/bin/sh\nexec perl -Sx $0 ${1+\"$@\"}\n   if 0;\n</code></pre>\n\n<p>Now, <a href=\"https://stackoverflow.com/questions/52785232/what-does-exec-perl-perl-sx-0-1-mean-in-shell-script\">it appears</a> that you are dealing with a bastardized and modified version, but it makes no more sense to use that. If the caller wants to use a specific <code>perl</code>, they should use <code>\"$PERL\" script</code> instead of relying on <code>script</code> to use <code>$PERL</code>.</p>\n\n<p>So, you should be using the following for the Perl script:</p>\n\n<pre><code>#!/usr/bin/env perl\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#!/path/to/the/installing/perl\n</code></pre>\n\n<p>So, you should be using the following for the Python script:</p>\n\n<pre><code>#!/usr/bin/env python\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#!/path/to/the/installing/python\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52788580, "answer_count": 2, "score": -1, "last_activity_date": 1539409699, "creation_date": 1539385647, "question_id": 52788039, "link": "https://stackoverflow.com/questions/52788039/what-is-the-pythonic-equivalent-of-perls-sx-command-line-options", "title": "What is the Pythonic equivalent of Perl&#39;s -Sx command line options?", "body": "<p>I'm given a task to convert a <strong>Perl script to Python</strong>.</p>\n\n<p>I'm really new to Perl and understanding it where I came across a command line option which is <code>-Sx</code>. </p>\n\n<p>There is good documentation provided for these parameters in Perl. But there is no much documentation for the same in python (Didn't find much info in Python official  site).</p>\n\n<p>My question is are those command line options <code>-Sx</code> same for both <strong>Perl</strong> and <strong>Python</strong>?</p>\n\n<p>Do they achieve same task in both?</p>\n"}, {"tags": ["perl", "search", "text", "replace", "applescript"], "comments": [{"owner": {"reputation": 229624, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1539428042, "post_id": 52786067, "comment_id": 92504837, "body": "Unrelated but the second line <code>set txtFiles to ((every file in...</code> throws always an error."}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "reply_to_user": {"reputation": 229624, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1539451341, "post_id": 52786067, "comment_id": 92511047, "body": "@vadian The second line is supposed to handle the case when there&#39;s only one single matching file in the respective folder."}, {"owner": {"reputation": 229624, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1539451689, "post_id": 52786067, "comment_id": 92511153, "body": "But you get no error in the first line if there is only one txt file, not even if there is no txt file at all, actually you can remove the entire try block. And the syntax <code>whose name extension is &quot;txt&quot;</code> is preferable"}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "reply_to_user": {"reputation": 229624, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1539465905, "post_id": 52786067, "comment_id": 92514657, "body": "@vadian  You&#39;re actually right.  Thanks for pointing that out, that makes it much nicer.  I extracted that code from some other workflow (I don&#39;t remember what the original purpose was, maybe there was something to it, or maybe AppleScript years ago worked differently), but in this case it&#39;s clearly redundant."}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1539466511, "post_id": 52791280, "comment_id": 92514814, "body": "That works thanks very much.  I like the second block. (Actually the <code>set xyz</code> in AppleScript requires a <code>to</code> instead of the <code>=</code>)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1539466623, "post_id": 52791280, "comment_id": 92514838, "body": "Oops, yeah, I saw that <code>to</code> was needed; I&#39;m just so used to using <code>=</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1539466586, "last_edit_date": 1539466586, "creation_date": 1539421223, "answer_id": 52791280, "question_id": 52786067, "link": "https://stackoverflow.com/questions/52786067/applescript-to-replace-text-in-multiple-files/52791280#52791280", "title": "AppleScript to replace text in multiple files", "body": "<p>According to <a href=\"http://applescript.wikia.com/wiki/Line-Continuation_Symbol\" rel=\"nofollow noreferrer\">this</a>, you could use</p>\n\n<pre><code>do shell script \"perl -pi -e  '\" &amp; \u00ac\n\" s/replace/me/g;\" &amp; \u00ac\n\" s/andme/too/g;\" &amp; \u00ac\n\" s/andhere/measwell/g;\" &amp; \u00ac\n\"' \" &amp; quoted form of (POSIX path of CurrentFile)\n</code></pre>\n\n<p>Pardon my lack of knowledge of AppleScript, but maybe you can even do something like the following:</p>\n\n<pre><code>set PerlProg to \"\" &amp; \u00ac\n\"s/replace/me/g; \" &amp; \u00ac\n\"s/andme/too/g; \" &amp; \u00ac\n\"s/andhere/measwell/g;\"\n\nset PerlCmd to \"perl -i -pe'\" &amp; PerlProg &amp; \"'\"\n\ndo shell script PerlCmd &amp; \" \" &amp; quoted form of (POSIX path of CurrentFile)\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 52791280, "answer_count": 1, "score": 0, "last_activity_date": 1539466586, "creation_date": 1539373363, "question_id": 52786067, "link": "https://stackoverflow.com/questions/52786067/applescript-to-replace-text-in-multiple-files", "title": "AppleScript to replace text in multiple files", "body": "<p>I'm trying to come up with a general multi-purpose way of replacing text in multiple files through AppleScript.  This solution is using Perl.  Is there maybe a more elegant way of doing this?  </p>\n\n<pre><code>set myFolder to choose folder with prompt \"Choose a folder:\"\ntell application \"Finder\"\n    try \n        set txtFiles to (every file in entire contents of myFolder whose name ends with \".txt\") as alias list\n    on error \n        try\n            set txtFiles to ((every file in entire contents of myFolder whose name ends with \".txt\") as alias) as list\n        on error \n            set txtFiles to {}\n        end try\n    end try\n    set myFiles to txtFiles\nend tell\n\nrepeat with CurrentFile in myFiles\n    set CurrentFile to CurrentFile as string\n\n    do shell script \"perl -pi -e  's/replace/me/g; s/andme/too/g;' \" &amp; quoted form of (POSIX path of CurrentFile)\n\nend repeat\n</code></pre>\n\n<p>Also, ideally, I'd like to make the Perl part a bit more readable, having each search/replace pattern on a separate line, but the <code>do shell script</code> in AppleScript seems to be unable to deal with line breaks, e.g., </p>\n\n<pre><code>do shell script \"perl -pi -e  '\ns/replace/me/g; \ns/andme/too/g;\ns/andhere/measwell/g;\n' \" &amp; quoted form of (POSIX path of CurrentFile)\n</code></pre>\n\n<p>So essentially, is there a better/more elegant way of doing this? \nDoesn't necessarily have to be with <code>perl</code>, yet for a non-expert I continue to find <code>perl</code> the easiest way for handling this, especially as it's great at regexes (the solution should be able to do regexes). </p>\n"}, {"tags": ["python", "python-3.x", "shell", "perl", "scripting"], "comments": [{"owner": {"reputation": 1230, "user_id": 4856945, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/--udy8-fpdzI/AAAAAAAAAAI/AAAAAAAAABI/uJkDDjNTrfU/photo.jpg?sz=128", "display_name": "Nick Slavsky", "link": "https://stackoverflow.com/users/4856945/nick-slavsky"}, "edited": false, "score": 0, "creation_date": 1539370463, "post_id": 52785232, "comment_id": 92492436, "body": "What does the script do when you execute it? How would verify that you correctly converted the code if you you&#39;re not running the scripts to compare the results?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539370636, "post_id": 52785232, "comment_id": 92492511, "body": "See <a href=\"https://linux.die.net/man/1/bash\" rel=\"nofollow noreferrer\">man bash</a> and <a href=\"http://p3rl.org/perlrun\" rel=\"nofollow noreferrer\">perlrun</a>."}, {"owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539370864, "post_id": 52785232, "comment_id": 92492614, "body": "How to run Python interpreter instead of Perl in the shell script. Is there anything like <code>${PYTHON-python}</code> that I can mention after <code>exec</code> command?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1539377911, "post_id": 52785232, "comment_id": 92495194, "body": "After reading a bit about the <code>-S</code> and <code>-x</code> options for <code>perl</code>, are you sure it makes any sense to keep these lines around if you convert the script to Python? It&#39;s really all about starting a Perl script, which you got rid of. Can&#39;t you replace the first three lines with <code>#!&#47;usr&#47;bin&#47;env python3</code> or something like it?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539371107, "post_id": 52785621, "comment_id": 92492719, "body": "ok. thanks for that. and what does that <code>-Sx</code> means? The documentation says <code>-S</code> checks if the file is socket and <code>-x</code> checks if the file is executable. How can a file be both?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539372347, "post_id": 52785621, "comment_id": 92493176, "body": "@Baelish2285 Perl command line options are documented <a href=\"https://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">here</a>. You&#39;re looking at something else."}, {"owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539373964, "post_id": 52785621, "comment_id": 92493769, "body": "I still don&#39;t understand whether the 2nd line parameters are interpreted as shell script options or perl options? Which documentation do I need to consider?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1539374061, "post_id": 52785621, "comment_id": 92493803, "body": "@Baelish2285 The whole line is a shell command, but <code>perl</code> takes command line options specific to Perl."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "edited": false, "score": 0, "creation_date": 1554319240, "post_id": 52785621, "comment_id": 97711761, "body": "@Baelish2285, ...it&#39;s like if you run <code>ls -l</code>; the relevant meaning of <code>-l</code> is documented in the manual for <code>ls</code>, not for the shell itself. Similarly, for <code>perl -Sx</code>, it&#39;s <code>perl</code>&#39;s manual that tells you what <code>-S</code> or <code>-x</code> mean in that context."}], "tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": true, "score": 4, "last_activity_date": 1554318973, "last_edit_date": 1554318973, "creation_date": 1539370943, "answer_id": 52785621, "question_id": 52785232, "link": "https://stackoverflow.com/questions/52785232/what-does-exec-perl-perl-sx-0-1-mean-in-shell-script/52785621#52785621", "title": "What does exec ${PERL-perl} -Sx $0 ${1+&quot;$@&quot;} mean in Shell script?", "body": "<p><code>${PERL-perl}</code> is a <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_02\" rel=\"nofollow noreferrer\">parameter expansion</a>: if the <code>PERL</code> shell variable is unset, use <code>perl</code>, else use the content of <code>PERL</code>. (Arguably, this should be <code>${PERL:-perl}</code>, because if <code>PERL</code> is set but empty, the empty string will be used.)</p>\n\n<p><code>${1+\"$@\"}</code> stands for \"if <code>$1</code> is set, use <code>\"$@\"</code> (all positional parameters), else substitute null\". This is a hack for older shells that get confused by <code>\"$@\"</code> if there are no positional parameters and expand to a single parameter instead of none at all. Bash would work with just <code>\"$@\"</code> instead.</p>\n\n<p>For the options to <code>perl</code>, see <a href=\"https://perldoc.pl/perlrun\" rel=\"nofollow noreferrer\"><code>perldoc perlrun</code></a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 10496576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c2ffef0368281fce809d115afdd37?s=128&d=identicon&r=PG&f=1", "display_name": "Baelish2285", "link": "https://stackoverflow.com/users/10496576/baelish2285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 52785621, "answer_count": 1, "score": 0, "last_activity_date": 1554318973, "creation_date": 1539369050, "last_edit_date": 1539369691, "question_id": 52785232, "link": "https://stackoverflow.com/questions/52785232/what-does-exec-perl-perl-sx-0-1-mean-in-shell-script", "title": "What does exec ${PERL-perl} -Sx $0 ${1+&quot;$@&quot;} mean in Shell script?", "body": "<p>I'm given a task to convert a shell script which contains Shell script, Perl code to Python.</p>\n\n<p>I managed to convert the Perl code to Python. </p>\n\n<p>But there is this shell script statement which I didn't understand.</p>\n\n<pre><code>#! /usr/bin/sh\nexec ${PERL-perl} -Sx $0 ${1+\"$@\"}\n#! /opt/tools/perl5/bin/perl\nSome Perl code which I converted to Python\n</code></pre>\n\n<p>What does this 2nd line means?</p>\n\n<p>I understood that <code>$0</code> will be evaluated to the script name. </p>\n\n<p>And I'm assuming that <code>${PERL-perl}</code> will evaluate to whatever Perl interpreter is installed on the machine (correct me if I'm wrong and also please let me know how do I mention the similar thing for Python).</p>\n\n<p>Can someone explain what those remaining parameters in that <code>exec</code> command do?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "edited": false, "score": 0, "creation_date": 1539368711, "post_id": 52784984, "comment_id": 92491650, "body": "This doesn&#39;t even seem to be a valid regex. It has $ character in middle of string and not even escaped so this string when used as regex will give errors."}, {"owner": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "reply_to_user": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "edited": false, "score": 2, "creation_date": 1539370714, "post_id": 52784984, "comment_id": 92492541, "body": "@PushpeshKumarRajwanshi : as a line of code from Perl, it makes sense :  the <code>$my_string</code> will be expanded first, and then that value will be the pattern for the regex matching"}, {"owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "reply_to_user": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1539370910, "post_id": 52784984, "comment_id": 92492629, "body": "@landru27: Ahh ok, you got a point. I am a noob in perl so oversaw that. Thank for pointing it out."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1539409939, "post_id": 52784984, "comment_id": 92500894, "body": "Re &quot;<i>I simply can&#39;t figure out what this matches.</i>&quot;, Nothing. That code doesn&#39;t perform any matching."}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 8151093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f16c9255f50ab844599d253da13ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ren Chen", "link": "https://stackoverflow.com/users/8151093/ren-chen"}, "edited": false, "score": 0, "creation_date": 1539629473, "post_id": 52785312, "comment_id": 92563131, "body": "Thanks for your great explanation. I was not able to find good explanation about the combined usage of &quot;!&quot; and &quot;qr&quot;. Any good reference about this kind of combined usage in perl? Thanks."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 155, "user_id": 8151093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f16c9255f50ab844599d253da13ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ren Chen", "link": "https://stackoverflow.com/users/8151093/ren-chen"}, "edited": false, "score": 0, "creation_date": 1539644129, "post_id": 52785312, "comment_id": 92568306, "body": "@RenChen  I doubt there&#39;s anything specific, since <code>!</code> is used merely as a delimiter (a character that marks where the quotation starts and stops).  One can say <code>qr&#47;...&#47;</code> or <code>qr(...)</code> or <code>qr{...}</code> or <code>qr!...!</code> ... That quotes the string inside under slightly special rules (in comparison with <code>&quot;&quot;</code>,  which is <code>qq(...)</code>) for regex. It also allows regex <i>modifiers</i> (like <code>my $re = qr&#47;...&#47;i;</code> for example).  Such a properly quoted and set up &quot;regex pattern&quot; is saved into a variable which is then ready to be used in a regex."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 155, "user_id": 8151093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f16c9255f50ab844599d253da13ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ren Chen", "link": "https://stackoverflow.com/users/8151093/ren-chen"}, "edited": false, "score": 0, "creation_date": 1558070588, "post_id": 52785312, "comment_id": 98985875, "body": "@RenChen Revisited this accidentally and recalled a post may be useful, added a link"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 155, "user_id": 8151093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f16c9255f50ab844599d253da13ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ren Chen", "link": "https://stackoverflow.com/users/8151093/ren-chen"}, "edited": false, "score": 0, "creation_date": 1558070654, "post_id": 52785312, "comment_id": 98985892, "body": "@RenChen Btw, see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 9, "last_activity_date": 1558112752, "last_edit_date": 1558112752, "creation_date": 1539369357, "answer_id": 52785312, "question_id": 52784984, "link": "https://stackoverflow.com/questions/52784984/what-matches-this-regex-in-perl-qrline/52785312#52785312", "title": "What matches this regex in perl: qr!$line!;", "body": "<p>Most <a href=\"http://perldoc.perl.org/5.14.0/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">quote-like operators</a> can take nearly anything for delimiters.<sup>&dagger;</sup> The <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">qr</a> is no exception, here using <code>!</code> as delimiter. It also evaluates (\"interpolates\") variables that are quoted. So that line of code builds a regex pattern using what is in <code>$my_string</code> variable. This pattern is presumably used later in code in regex expressions.  This is normal use.</p>\n\n<p>A complete example:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $str = q(hey); \n\nmy $re = qr!$str!; \n\nmy $tgt = q(A_hey_C); \n\n$tgt =~ s/$re/B/; \n\nsay $tgt;  #--&gt;  A_B_C\n</code></pre>\n\n<p>The purpose of <code>qr</code> is specifically to construct a regex pattern so one would expect that the <code>$str</code> above (<code>$my_string</code> in the question), or the pattern in <code>qr</code>, would contain regex-specific patterns, perhaps along with other variables assembled in the program. The <code>$str</code> above with just a plain string can nicely be used directly in a regex, so this isn't a realistic example.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>&thinsp;See\n &nbsp; <a href=\"https://stackoverflow.com/questions/43617820/what-are-the-legal-delimiters-for-perl-5s-pick-your-own-quotes-operators/43617962#43617962\">What are the legal delimiters for Perl 5&#39;s pick-your-own-quotes operators?</a></p>\n"}], "owner": {"reputation": 155, "user_id": 8151093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f16c9255f50ab844599d253da13ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ren Chen", "link": "https://stackoverflow.com/users/8151093/ren-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558112752, "creation_date": 1539367798, "last_edit_date": 1558070520, "question_id": 52784984, "link": "https://stackoverflow.com/questions/52784984/what-matches-this-regex-in-perl-qrline", "title": "What matches this regex in perl: qr!$line!;", "body": "<p>In one source code I found this regex:</p>\n\n<pre><code>my $var = qr!$my_string!;\n</code></pre>\n\n<p>I simply can't figure out what this matches. I also searched online, the explanation to qr is quite simple.</p>\n\n<p>Can someone explain it in an human language, please? :)</p>\n"}, {"tags": ["perl", "scalar"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1539361736, "post_id": 52783404, "comment_id": 92488537, "body": "You&#39;ve shown a pattern of providing excessive information. Please post a <i>minimal</i> demonstration of the problem. The fact that you want to perform the operation on multiple arrays and that the arrays are referenced by a hash is irrelevant."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539362097, "post_id": 52783441, "comment_id": 92488707, "body": "Given their earlier question (about rearranging <code>Z X A Y X Y A</code> into <code>Z X X A A Y Y</code>), your assumption is probably valid."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1539362055, "last_edit_date": 1539362055, "creation_date": 1539361052, "answer_id": 52783441, "question_id": 52783404, "link": "https://stackoverflow.com/questions/52783404/how-to-print-the-scalar-value-of-the-first-different-value/52783441#52783441", "title": "how to print the scalar value of the first different value", "body": "<p>Replace</p>\n\n<pre><code>print scalar \"VALUE= @$v\\n\"; #But this will print all the value\n</code></pre>\n\n<p>with</p>\n\n<pre><code>say \"VALUE:0 \", join ' ', grep $v-&gt;[$_] ne $v-&gt;[$_ - 1], 1 .. $#$v;\n</code></pre>\n\n<ul>\n<li>zero is always printed</li>\n<li>only show the indices for which the corresponding element is different to the previous one</li>\n</ul>\n\n<p>This only works if the same letter never appears outside of the group of its first appearance (e.g. <code>A A B B A</code> doesn't happen). If this can happen, see ikegami's answer with a hash to keep track of the already reported letters.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539367214, "post_id": 52783580, "comment_id": 92491007, "body": "I don&#39;t know how to implement this code with the hash of arrays above."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539367259, "post_id": 52783580, "comment_id": 92491026, "body": "Just replace <code>@vals</code> with the array you want to examine."}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539367827, "post_id": 52783580, "comment_id": 92491250, "body": "but for all arrays in a hash?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539368227, "post_id": 52783580, "comment_id": 92491422, "body": "You mean for each array? You already have a loop that gives you each array"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1539362065, "last_edit_date": 1539362065, "creation_date": 1539361682, "answer_id": 52783580, "question_id": 52783404, "link": "https://stackoverflow.com/questions/52783404/how-to-print-the-scalar-value-of-the-first-different-value/52783580#52783580", "title": "how to print the scalar value of the first different value", "body": "<pre><code>my @vals = qw( Z X X A A Y Y );\n\nmy %seen;\nmy @positions = grep { !$seen{ $vals[$_] }++ } 0..$#vals;\n</code></pre>\n\n<p>This solution works even if identical strings haven't been grouped.</p>\n"}], "owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539373880, "creation_date": 1539360900, "last_edit_date": 1539373880, "question_id": 52783404, "link": "https://stackoverflow.com/questions/52783404/how-to-print-the-scalar-value-of-the-first-different-value", "title": "how to print the scalar value of the first different value", "body": "<p>The script below will print all the scalar value for every elements for every keys, how to print only the first scalar value from each element in the hash.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Tie::IxHash;    \n\nmy %KEY_VALUE;\ntie %KEY_VALUE,'Tie::IxHash';\n\n\nmy %KEY_VALUE= (\n    0 =&gt; ['A','A','C','B','D'],\n    1 =&gt; ['C','C','C','F','E','E'],\n    2 =&gt; ['Z','X','X','A','A','Y','Y'],\n    3 =&gt; ['A','A','B','B'],\n    4 =&gt; ['E','E','R','M','M'],\n    5 =&gt; ['D','F','F','F','E','E'],\n    );\n\n while (my ($k, $v) = each %KEY_VALUE) \n{\n  print \"KEY= $k  \";\n  print scalar \"VALUE= @$v\\n\"; #But this will print all the value\n}\n</code></pre>\n\n<p>Wanted Output:</p>\n\n<pre><code>KEY= 0  VALUE:0 2 3 4   #The scalar value of first A C B D, start with 0\nKEY= 1  VALUE:0 3 4     #The scalar value of first C F E\nKEY= 2  VALUE:0 1 3 5   #The scalar value of first Z X A Y\nKEY= 3  VALUE:0 2       #The scalar value of first A B\nKEY= 4  VALUE:0 2 3     #The scalar value of first E R M\nKEY= 5  VALUE:0 1 4     #The scalar value of first D F E\n</code></pre>\n"}, {"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539358891, "post_id": 52782852, "comment_id": 92487190, "body": "No. You could write a sub that does anything you want, but there&#39;s no clear shortcut because of the <code>-&gt;{cpu}</code> after the index."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1539358980, "post_id": 52782852, "comment_id": 92487233, "body": "Unless <code>$me-&gt;{arr1}</code> is previously undefined, that is. Then you could use <code>$me-&gt;{arr1} = [ map  { +{ cpu =&gt; $_ } } @{ $me-&gt;{arr2} } ];</code>"}, {"owner": {"reputation": 67, "user_id": 6187954, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-5VTopX-72lM/AAAAAAAAAAI/AAAAAAAAABA/749aiJKdadQ/photo.jpg?sz=128", "display_name": "Hariprasad C R", "link": "https://stackoverflow.com/users/6187954/hariprasad-c-r"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539359656, "post_id": 52782852, "comment_id": 92487558, "body": "@ikegami Thanks it worked with that, can u pls post it as answer so that I can mark it."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 0, "last_activity_date": 1539364748, "creation_date": 1539364748, "answer_id": 52784277, "question_id": 52782852, "link": "https://stackoverflow.com/questions/52782852/perl-copying-one-array-to-another-multi-dimensional/52784277#52784277", "title": "perl: copying one array to another (multi-dimensional)", "body": "<p>postfix <code>for</code> is a little more concise</p>\n\n<pre><code>$me-&gt;{arr1}[$_]{cpu} = $me-&gt;{arr2}[$_] for 0..$TOTAL_CNT_VAL-1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539605289, "post_id": 52816268, "comment_id": 92550036, "body": "<code>@me-&gt;</code> is wrong. <code>@me</code> is an array, not a reference."}], "tags": [], "owner": {"reputation": 3, "user_id": 8170574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4f03afa3e0ea844eabfa3228f16a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Elamparithi", "link": "https://stackoverflow.com/users/8170574/elamparithi"}, "is_accepted": false, "score": -1, "last_activity_date": 1539604679, "creation_date": 1539604679, "answer_id": 52816268, "question_id": 52782852, "link": "https://stackoverflow.com/questions/52782852/perl-copying-one-array-to-another-multi-dimensional/52816268#52816268", "title": "perl: copying one array to another (multi-dimensional)", "body": "<pre><code>use 5.18.2;\nuse strict ;\nuse warnings ;\nuse Data::Dumper;\n$me-&gt;{arr1}[$_]{cpu} = @me-&gt;{arr2}[$_][0..$TOTAL_CNT_VAL-1];\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6187954, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-5VTopX-72lM/AAAAAAAAAAI/AAAAAAAAABA/749aiJKdadQ/photo.jpg?sz=128", "display_name": "Hariprasad C R", "link": "https://stackoverflow.com/users/6187954/hariprasad-c-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52784277, "answer_count": 2, "score": 1, "last_activity_date": 1539604679, "creation_date": 1539358783, "question_id": 52782852, "link": "https://stackoverflow.com/questions/52782852/perl-copying-one-array-to-another-multi-dimensional", "title": "perl: copying one array to another (multi-dimensional)", "body": "<p>I have a code for copying few elements of one array to another array using a for loop as shown below</p>\n\n<pre><code>for $count_val (0..($TOTAL_CNT_VAL-1)) {\n      $me-&gt;{arr1}[$count_val]{cpu} = $me-&gt;{arr2}[$count_val];  \n}\n</code></pre>\n\n<p>Is there any way that the same thing can be achieved using a single line command something like <strong>\"push\"</strong> or something similar ?</p>\n"}, {"tags": ["perl", "match"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1539354077, "post_id": 52781296, "comment_id": 92484433, "body": "Can you show a sample of the input and the corresponding expected output? It&#39;s not clear what should happen if one of the paths is absolute and the second one is relative. Using a path as a regex seems wrong, too."}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539354564, "post_id": 52781296, "comment_id": 92484720, "body": "@choroba, I have update my question, does it answered your questions? yes, I feel that way too but I don&#39;t know if there is alternative simple method. just to check the 2 paths and print out if there is any mismatch."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1539355014, "post_id": 52781296, "comment_id": 92485029, "body": "Your algorithm outputs nothing for <code>music&#47;media&#47;perl.mp3</code>. Is it correct?"}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539357167, "post_id": 52781296, "comment_id": 92486203, "body": "@choroba, yes indeed, because it takes the elements in <code>$comparedPath</code>, and then stored it in a hash <code>%compared_hash</code>,then compare it with another hash <code>realpath_hash</code> with the elements in <code>$realPath</code>, and if it is match, it will delete the keys in the <code>%compared_hash</code> leaving only unmatch keys, which is only <code>classic</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539357353, "post_id": 52781296, "comment_id": 92486304, "body": "Please, check again. There&#39;s no <code>classic</code> involved in my comment, it compares <code>C&#47;library&#47;media&#47;music&#47;retro&#47;perl.mp3</code> and <code>music&#47;media&#47;perl.mp3</code>."}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539357495, "post_id": 52781296, "comment_id": 92486389, "body": "@choroba, yes you are correct. I have misunderstood you, sorry."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1539358232, "creation_date": 1539358232, "answer_id": 52782725, "question_id": 52781296, "link": "https://stackoverflow.com/questions/52781296/how-to-pinpoint-unmatch-segment-parse-between-two-paths-perl/52782725#52782725", "title": "How to Pinpoint Unmatch Segment/Parse Between Two Paths Perl", "body": "<p>There's several ways they could compare.</p>\n\n<ul>\n<li>They don't overlap at all.</li>\n<li>They overlap, but one is too short.</li>\n<li>They partially overlap.</li>\n<li>They overlap perfectly.</li>\n</ul>\n\n<p>Turn the paths into arrays using <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow noreferrer\">File::Spec->splitpath and splitdir</a>. Then the problem becomes a matter of comparing arrays. It's also much simpler inside its own function because we can <code>return</code> as soon as we reach a conclusion.</p>\n\n<p>First, we can use <a href=\"https://metacpan.org/pod/List::MoreUtils#after_incl-BLOCK-LIST\" rel=\"nofollow noreferrer\">List::MoreUtils::after_incl</a> to find the point where they start overlapping. In your example <code>@remainder</code> is <code>qw(music retro perl.mp3)</code>.</p>\n\n<pre><code>my @remainder = after_incl { $_ eq $rel_path-&gt;[0] } @$abs_path;\nif( !@remainder ) {\n    say \"The paths do not overlap\";\n    return;\n}\n</code></pre>\n\n<p>Then we can walk <code>@remainder</code> and the path together to find where they diverge. And we also need to make sure we don't walk off the path.</p>\n\n<pre><code>for my $idx (1..$#remainder) {\n    if( $idx &gt; $#$rel_path ) {\n        say \"The path is too short\";\n        return;\n    }\n    if( $remainder[$idx] ne $rel_path-&gt;[$idx] ) {\n        say \"The paths differ at $remainder[$idx] vs $rel_path-&gt;[$idx]\";\n        return;\n    }\n}\n</code></pre>\n\n<p>Finally, if they match we need to check if there's more on the end of the path.</p>\n\n<pre><code>if( @$rel_path &gt; @remainder ) {\n    say \"The path is too long\";\n    return;\n}\n</code></pre>\n\n<p>And if it passes all that, they overlap.</p>\n\n<pre><code>say \"The path is a child\";\nreturn;\n</code></pre>\n\n<p>Put it all together...</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nuse List::MoreUtils qw(after_incl);\n\nsub find_difference {\n    my($abs_path, $rel_path) = @_;\n\n    my @remainder = after_incl { $_ eq $rel_path-&gt;[0] } @$abs_path;\n    if( !@remainder ) {\n        say \"The paths do not overlap\";\n        return;\n    }\n\n    for my $idx (1..$#remainder) {\n        if( $remainder[$idx] ne $rel_path-&gt;[$idx] ) {\n            say \"The paths differ at $remainder[$idx] vs $rel_path-&gt;[$idx]\";\n            return;\n        }\n    }\n\n    if( @$rel_path &gt; @remainder ) {\n        say \"The path is too long\";\n        return;\n    }\n\n    say \"The path is a child\";\n    return;\n}\n\nfind_difference(\n    [qw(library media music retro perl.mp3)],\n    [qw(music retro perl.mp3 foo bar)]\n);\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539568998, "creation_date": 1539353199, "last_edit_date": 1539568998, "question_id": 52781296, "link": "https://stackoverflow.com/questions/52781296/how-to-pinpoint-unmatch-segment-parse-between-two-paths-perl", "title": "How to Pinpoint Unmatch Segment/Parse Between Two Paths Perl", "body": "<p>I have 2 paths that need to be compared, and if it is unmatch, I want to point out which sub-path or path that is not match. Is there any better way to do this? This is just for 2 path, I have a lot of paths that need to be compared.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $realPath= 'C/library/media/music/retro/perl.mp3'; #Absolute\nmy $comparedPath= 'music/classic/perl.mp3';           #Relative, a sample that need to be compare with the $realPath\nmy @compared_array;\nmy @realpath_array;\nmy %compared_hash;\ntie %compared_hash, 'Tie::IxHash';\nmy %realpath_hash;\ntie %realpath_hash, 'Tie::IxHash';\n\n\nif ( $realPath=~ m/$comparedPath$/)\n{\n print \"$comparedPath exist\";\n}\nelse\n{\n print \"$comparedPath is not exist\";\n @compared_array=split /\\//,$comparedPath;\n @realpath_array=split /\\//,$realPath;\n}\n@compared_hash{@compared_array}=1;\n@realpath_hash{@realpath_array}=1;\nforeach my $key (keys %compared_hash)\n{\n    delete $compared_hash{$key} if (grep {$_ =~/$key/} (keys %realpath_hash));\n#leaving only unmatch Path Segment/Parse\n}\nprint join(\"\\n\",%compared_hash);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>classic\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 2, "last_activity_date": 1539353583, "creation_date": 1539353583, "answer_id": 52781417, "question_id": 52781219, "link": "https://stackoverflow.com/questions/52781219/ppm-bat-install-failed-cant-find-any-package-that-provides-gd-graph3d/52781417#52781417", "title": "ppm.bat install failed: Can&#39;t find any package that provides GD-Graph3d", "body": "<p>The <a href=\"https://code.activestate.com/ppm/GD-Graph3d/\" rel=\"nofollow noreferrer\">ActiveState build for GD::Graph3d</a> fails since Perl 5.24. See also <a href=\"http://ppm4.activestate.com/MSWin32-x86-64int/5.24/2400/W/WA/WADG/GD-Graph3d-0.63.d/log-20160730T080736.txt\" rel=\"nofollow noreferrer\">the patch that ActiveState try to apply</a>. Maybe you can install the module by using the <code>cpan</code> tool instead?</p>\n\n<pre><code>cpan GD::Graph3d\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 1197804, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ItT7b.jpg?s=128&g=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/1197804/ssharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 52781417, "answer_count": 1, "score": 0, "last_activity_date": 1539353583, "creation_date": 1539352955, "question_id": 52781219, "link": "https://stackoverflow.com/questions/52781219/ppm-bat-install-failed-cant-find-any-package-that-provides-gd-graph3d", "title": "ppm.bat install failed: Can&#39;t find any package that provides GD-Graph3d", "body": "<p>Getting an exception while installing Perl package through below command. Running Perl 5.26 on Windows 10.</p>\n\n<pre><code>ppm install GD-Graph3d\n</code></pre>\n\n<p>ppm.bat install failed: Can't find any package that provides GD-Graph3d</p>\n"}, {"tags": ["perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539354039, "post_id": 52778789, "comment_id": 92484418, "body": "@ikegami, thank you very much. I have update my question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539354274, "post_id": 52778789, "comment_id": 92484564, "body": "Oh I see, I didn&#39;t realise you wanted to change the sort order"}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539354766, "post_id": 52778789, "comment_id": 92484867, "body": "@ikegami, yes indeed, thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539354869, "post_id": 52779287, "comment_id": 92484931, "body": "@ikegami, would you like to explain what is the usage of ($_) x $found{$_}   , the x part? thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1539354930, "post_id": 52779287, "comment_id": 92484975, "body": "<code>x</code> is the repetition operator, documented in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>"}], "tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": false, "score": 2, "last_activity_date": 1539355360, "last_edit_date": 1539355360, "creation_date": 1539346309, "answer_id": 52779287, "question_id": 52778789, "link": "https://stackoverflow.com/questions/52778789/sort-hash-value-in-a-first-element-manner-perl/52779287#52779287", "title": "Sort Hash Value In A First Element Manner Perl", "body": "<p>If you view it as a sorting problem, you can build a mapping between the values and their desired order:</p>\n\n<pre><code>my @unsorted = qw( Z X X A Y X Y A );\n\nmy %order; @order{ reverse @unsorted } = reverse 0..$#unsorted;   # Z=&gt;0, X=&gt;1, A=&gt;3, Y=&gt;4\nmy @sorted = sort { $order{$a} &lt;=&gt; $order{$b} } @unsorted;        # ZXXXAAYY\n</code></pre>\n\n<p>But it's not actually sorting problem. Sorting is O(N log N), but this can be done in O(N).</p>\n\n<pre><code>my @unsorted = qw( Z X X A Y X Y A );\n\nmy %counts;\nmy @uniques = grep { !$counts{$_}++ } @unsorted;\nmy @sorted = map { ($_) x $counts{$_} } @uniques;                 # ZXXXAAYY\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539353742, "post_id": 52779910, "comment_id": 92484226, "body": "yes, you are correct, from my script I sorted out the values in alphabetical manner, but what I really want is to sort it according to what values comes first, for example, key 0 with the values of A C B A D, the first value is A, so it sort all A first, then C, and then B and lastly D, I know how to sort it alphabetically but I can&#39;t figure out how to do with my wanted order."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1539348642, "creation_date": 1539348642, "answer_id": 52779910, "question_id": 52778789, "link": "https://stackoverflow.com/questions/52778789/sort-hash-value-in-a-first-element-manner-perl/52779910#52779910", "title": "Sort Hash Value In A First Element Manner Perl", "body": "<p>You get what I think you want, is pretty simple. You just walk the hash in sorted key order and then dereference the array and sort that.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %KEY_VALUE= (\n    0 =&gt; [ 'A', 'C', 'B', 'A' ,'D'],\n    5 =&gt; [ 'D', 'F', 'E', 'F', 'F','E'],\n    2 =&gt; [ 'Z', 'X', 'A', 'Y', 'X', 'Y', 'A' ],\n    4 =&gt; [ 'E', 'R', 'M' ,'M','E'],\n    3 =&gt; [ 'A', 'B', 'B', 'A' ],\n    1 =&gt; [ 'C', 'C', 'F', 'E', 'C', 'E'],\n);\n\nfor my $key (sort { $a &lt;=&gt; $b } keys %KEY_VALUE) {\n  print $key, \" -&gt; \", sort(@{ $KEY_VALUE{$key} }), \"\\n\";\n}\n</code></pre>\n\n<p>But that doesn't give the results you show. Please explain how each array should be sorted. I thought you wanted them sorted in alphabetical order, but that's not the case in your example.</p>\n\n<p>I get this:</p>\n\n<pre><code>0 -&gt; AABCD\n1 -&gt; CCCEEF\n2 -&gt; AAXXYYZ\n3 -&gt; AABB\n4 -&gt; EEMMR\n5 -&gt; DEEFFF\n</code></pre>\n\n<p>But you ask for:</p>\n\n<pre><code>0 -&gt; AACBD\n1 -&gt; CCCFEE\n2 -&gt; ZXXAAYY\n3 -&gt; AABB\n4 -&gt; EERMM\n5 -&gt; DFFFEE\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1539355360, "creation_date": 1539344492, "last_edit_date": 1539354013, "question_id": 52778789, "link": "https://stackoverflow.com/questions/52778789/sort-hash-value-in-a-first-element-manner-perl", "title": "Sort Hash Value In A First Element Manner Perl", "body": "<p>I have a hash that I want to sort its values in first found element manner. From below script, I sorted out the values in alphabetical manner, but what I really want is to sort it according to what values comes first, for example, key 0 with the values of A C B A D, the first value is A, so it sort all A first, then C, and then B and lastly D, I know how to sort it alphabetically but I can't figure out how to do with my wanted order.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse List::MoreUtils;\nuse Tie::IxHash;    \n\nmy %KEY_VALUE;\n#tie %KEY_VALUE,'Tie::IxHash';\n\n\nmy %KEY_VALUE= (\n    0 =&gt; [ 'A', 'C', 'B', 'A' ,'D'],\n    5 =&gt; [ 'D', 'F', 'E', 'F', 'F','E'],\n    2 =&gt; [ 'Z', 'X', 'A', 'Y', 'X', 'Y', 'A' ],\n    4 =&gt; [ 'E', 'R', 'M' ,'M','E'],\n    3 =&gt; [ 'A', 'B', 'B', 'A' ],\n    1 =&gt; [ 'C', 'C', 'F', 'E', 'C', 'E'],\n    );\n\n    #Code from Schwern user:14660\n    # Iterate through the keys in numeric order.\n    for my $key (sort {$a &lt;=&gt; $b } keys %KEY_VALUE)\n    {\n    # Get the value\n    my $val = $KEY_VALUE{$key};\n\n    # Sort it in place  #How to sort it in First Found Element instead of alphabetically increasing?\n\n    @$val = sort { $a cmp $b } @$val;\n\n    # Display it\n    print \"$key -&gt; @$val\\n\";\n    }\n</code></pre>\n\n<p>The wanted output is like this, and I want to print out the sorted keys and values. </p>\n\n<pre><code>    0 -&gt; AACBD\n    1 -&gt; CCCFEE\n    2 -&gt; ZXXAAYY\n    3 -&gt; AABB\n    4 -&gt; EERMM\n    5 -&gt; DFFFEE\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1539378268, "post_id": 52778338, "comment_id": 92495316, "body": "<a href=\"https://www.perlmonks.org/?node_id=1223910\" rel=\"nofollow noreferrer\">Crossposted to PerlMonks</a>."}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 9998415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f582fcef6ee949146244491721dcdc?s=128&d=identicon&r=PG&f=1", "display_name": "Kanewilliam", "link": "https://stackoverflow.com/users/9998415/kanewilliam"}, "edited": false, "score": 0, "creation_date": 1539350310, "post_id": 52778419, "comment_id": 92482196, "body": "It&#39;s awesome. This is i am expecting. Thanks ."}], "tags": [], "owner": {"reputation": 1324, "user_id": 6508520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80809cfc27b89f5dbd342937b64bafbd?s=128&d=identicon&r=PG&f=1", "display_name": "VinothRaja", "link": "https://stackoverflow.com/users/6508520/vinothraja"}, "is_accepted": true, "score": 2, "last_activity_date": 1539343385, "last_edit_date": 1539343385, "creation_date": 1539343147, "answer_id": 52778419, "question_id": 52778338, "link": "https://stackoverflow.com/questions/52778338/how-to-get-last-month-date-using-datecalc-in-perl/52778419#52778419", "title": "How to get last month date using Date::Calc in perl?", "body": "<p>Try this below code</p>\n\n<pre><code>use Date::Calc qw(:all);\n\nmy ($current_year,$current_month,$current_day)=Today;\n\nmy ($result_year,$result_month,$result_day)=Add_Delta_YM($current_year,$current_month,$current_day,0,-1);\n</code></pre>\n\n<p>If you need fulll month name use below format</p>\n\n<pre><code>my $result_month_name=Month_to_Text($result_month);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 9998415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f582fcef6ee949146244491721dcdc?s=128&d=identicon&r=PG&f=1", "display_name": "Kanewilliam", "link": "https://stackoverflow.com/users/9998415/kanewilliam"}, "edited": false, "score": 0, "creation_date": 1539350364, "post_id": 52778626, "comment_id": 92482223, "body": "Thanks for reply."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1539351065, "post_id": 52778626, "comment_id": 92482620, "body": "The DateTime version is not equivalent; it uses the date at UTC+0 instead of the local date. <code>DateTime-&gt;today</code> should be <code>DateTime-&gt;now( time_zone =&gt; &#39;local&#39; )-&gt;set_time_zone(&#39;floating&#39;)-&gt;truncate( to =&gt; &#39;days&#39; )</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539364168, "post_id": 52778626, "comment_id": 92489671, "body": "@ikegami you can pass the time_zone to today() directly (and any other DateTime constructor). <code>DateTime-&gt;today(time_zone =&gt; &#39;local&#39;)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539364226, "post_id": 52778626, "comment_id": 92489688, "body": "@Grinnz, No, not safely, you can&#39;t. In at least three time zones around the world, that will <a href=\"https://stackoverflow.com/q/18489927/589924\">crash</a> one day a year"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539364453, "post_id": 52778626, "comment_id": 92489782, "body": "@ikegami interesting. Well the time of day is not important to this problem anyway so <code>-&gt;now(time_zone =&gt; &#39;local&#39;)</code> is fine."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1539351081, "last_edit_date": 1539351081, "creation_date": 1539343918, "answer_id": 52778626, "question_id": 52778338, "link": "https://stackoverflow.com/questions/52778338/how-to-get-last-month-date-using-datecalc-in-perl/52778626#52778626", "title": "How to get last month date using Date::Calc in perl?", "body": "<p>Date::Calc seems to make everything far more complex than it needs to be:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Date::Calc qw[Today Add_Delta_Days];\n\nmy @today = Today;\n\nmy ($year, $month) = Add_Delta_Days(@today, -$today[2]);\n\nsay \"$month/$year\";\n</code></pre>\n\n<p>I'd recommend looking at <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow noreferrer\">DateTime</a> instead.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse DateTime;\n\nmy $today = DateTime-&gt;today;\n$today-&gt;subtract(days =&gt; $today-&gt;day);\nsay $today-&gt;strftime('%m/%Y');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 0, "last_activity_date": 1539364345, "creation_date": 1539364345, "answer_id": 52784191, "question_id": 52778338, "link": "https://stackoverflow.com/questions/52778338/how-to-get-last-month-date-using-datecalc-in-perl/52784191#52784191", "title": "How to get last month date using Date::Calc in perl?", "body": "<p><a href=\"https://metacpan.org/pod/Time::Moment\" rel=\"nofollow noreferrer\">Time::Moment</a> provides a nice alternative as well:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse Time::Moment;\n\nsay Time::Moment-&gt;now-&gt;minus_months(1)-&gt;strftime('%m/%Y');\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 9998415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f582fcef6ee949146244491721dcdc?s=128&d=identicon&r=PG&f=1", "display_name": "Kanewilliam", "link": "https://stackoverflow.com/users/9998415/kanewilliam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 52778419, "answer_count": 3, "score": 1, "last_activity_date": 1539364345, "creation_date": 1539342789, "last_edit_date": 1539343227, "question_id": 52778338, "link": "https://stackoverflow.com/questions/52778338/how-to-get-last-month-date-using-datecalc-in-perl", "title": "How to get last month date using Date::Calc in perl?", "body": "<p>How to get last month date using Date::Calc in perl?</p>\n\n<p>For example, today is 8/2018 - I would like the function to return 7/2018.</p>\n\n<p>If the date today is 1/2019 - it should return 12/2018 </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1539337084, "post_id": 52776520, "comment_id": 92474957, "body": "Welcome to Stack Overflow and the Perl tag. Please take a moment to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>. When asking a question about programming (not only here, but really in general), it&#39;s important to be as precise as possible. Your question contains a lot of whitespace that looks odd. I&#39;ve fixed some of the layout issues, but I don&#39;t know if your input file really has all this blank space in it, or if you just didn&#39;t know how markdown works. Please <a href=\"https://stackoverflow.com/posts/52776520/edit\">edit</a> your question and make the input and expected output look <i>exactly</i> like your real data. Please also include your <b>full, real code</b>. Thanks"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1539337184, "post_id": 52776520, "comment_id": 92475038, "body": "Can you please explain why those two lines are considered the same: ` &quot;placement Z  F97342&quot; / placement Z  F97342&quot;` ? One has two double quote signs, the other only has one double quote sign."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1539337207, "post_id": 52776520, "comment_id": 92475048, "body": "You say you are trying to extract a string and put it into a hash. But your code attempts neither of these things. So far all it does is print all the lines that contain the word <i>placement</i>. You need to be more specific with what you want help with. For example, you haven&#39;t told us about that hash. Is the match the key or the value? Do you want to count something? Why a hash? Again, you need to be as precise as possible. There are no half-truths in programming."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539337303, "post_id": 52776520, "comment_id": 92475101, "body": "Also, if you just want to remove duplicates, see the Perl FAQ on &quot;How can I remove duplicate elements from a list or array&quot;: <a href=\"http://perldoc.perl.org/perlfaq4.html#How-can-I-remove-duplicate-elements-from-a-list-or-array%3f\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 10488424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3XCM21boVJA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUJq3RyLdkC7KASQ8bNf_4CPKpb0g/mo/photo.jpg?sz=128", "display_name": "Philip Eleanya", "link": "https://stackoverflow.com/users/10488424/philip-eleanya"}, "edited": false, "score": 0, "creation_date": 1539337307, "post_id": 52776520, "comment_id": 92475105, "body": "Okay, maybe my expression was wrong. I just want to get unique values of the strings."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10488424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3XCM21boVJA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUJq3RyLdkC7KASQ8bNf_4CPKpb0g/mo/photo.jpg?sz=128", "display_name": "Philip Eleanya", "link": "https://stackoverflow.com/users/10488424/philip-eleanya"}, "edited": false, "score": 0, "creation_date": 1539339862, "post_id": 52776847, "comment_id": 92476512, "body": "Where is $placement_id initialized here?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3, "user_id": 10488424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3XCM21boVJA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUJq3RyLdkC7KASQ8bNf_4CPKpb0g/mo/photo.jpg?sz=128", "display_name": "Philip Eleanya", "link": "https://stackoverflow.com/users/10488424/philip-eleanya"}, "edited": false, "score": 0, "creation_date": 1539349668, "post_id": 52776847, "comment_id": 92481865, "body": "It&#39;s not initialized at all - that&#39;s a meaningless action in <code>perl</code>. It&#39;s declared with <code>my</code> within the loop lexical scope. So a new &#39;version&#39; of it is created for each line."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1539337680, "creation_date": 1539337680, "answer_id": 52776847, "question_id": 52776520, "link": "https://stackoverflow.com/questions/52776520/trying-to-extract-unique-strings-from-a-text-file-in-perl/52776847#52776847", "title": "Trying to extract unique strings from a text file in Perl", "body": "<p>You've misunderstood a bunch of things I think. You're doing a regular expression match, but then not really doing anything with the result. </p>\n\n<p>What do you think:</p>\n\n<pre><code>        $_ =~/placement/g;\n</code></pre>\n\n<p>is doing? (Because the answer is 'nothing' right now). </p>\n\n<p>And likewise - you're \"just\" printing <code>$_</code> as you go, so you're literally just printing every line in the file. </p>\n\n<p>At what level do you need to test duplicate? Is it 'full line' or is it just the 'placement' ID, or the 'number' following it? </p>\n\n<p>But if you need to test for duplicates, what you need is a hash. </p>\n\n<p>Something like this will do the trick:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen( my $input, '&lt;', \"test.txt\" ) or die \"Cannot open file $!\";\n\nmy %seen; \n\nwhile (my $line = &lt;$input&gt;) {\n   print $line unless $seen{$line}++;\n}\n</code></pre>\n\n<p>Also:</p>\n\n<ul>\n<li>It's good style to use lexical file handles with 3 argument open. My example reflects this. </li>\n<li>get <code>perltidy</code> and use it. <code>perltidy -pbp</code> will indent and format your code to a commonly accepted standard. (You can customize this how you like - the formatting/indentation can be anything you like as long as it's <em>consistent</em>). </li>\n<li>You don't need to <code>chomp</code> if all you do is re-insert the linefeed by hand. </li>\n<li>You should ALWAYS <code>use strict;</code> and <code>use warnings;</code>. </li>\n</ul>\n\n<p>If you were wanting to be more selective as to which bit of the line to test for duplicates, you can capture sub elements using regular expressions. Say for example - only the 'placement letter' mattered:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen( my $input, '&lt;', \"test.txt\" ) or die \"Cannot open file $!\";\n\nmy %seen; \n\nwhile ( &lt;$input&gt;) {\n   my ( $placement_id ) = m/placement (\\d+)/;\n   print unless $seen{$placement_id}++;\n}\n</code></pre>\n\n<p>Note here - I don't assign the content of <code>&lt;$input&gt;</code> - it's set to <code>$_</code>, but I feel as a style point you should avoid using <code>$_</code> in your code - name it if you're going to use it. </p>\n\n<p>This works because both <code>m//</code> regular expression matching, and <code>print</code> both default to operating on <code>$_</code> which is \"the current line\". The capture brackets in the regex on the right hand side are used to populate <code>$placement_id</code> - but note you <em>need</em> the brackets on the left hand side, because otherwise <code>$placement_id_</code> will only be a 'true/false' result on whether the pattern matched.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1539340231, "creation_date": 1539340231, "answer_id": 52777603, "question_id": 52776520, "link": "https://stackoverflow.com/questions/52776520/trying-to-extract-unique-strings-from-a-text-file-in-perl/52777603#52777603", "title": "Trying to extract unique strings from a text file in Perl", "body": "<p>In cases like this, there's really no need to explicitly open filehandles. Perl will automatically open any files whose names are given on the command line and you can read their data using an empty file input operator (<code>&lt;&gt;</code>).</p>\n\n<p>So your code can be a simple as this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %seen;\n\nwhile (&lt;&gt;) {\n  print unless $seen{$_}++;\n}\n</code></pre>\n\n<p>And if this code is in a file called <code>filter</code>, you can call it like this:</p>\n\n<pre><code>$ filter test.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": false, "score": 1, "last_activity_date": 1539355347, "creation_date": 1539355347, "answer_id": 52781939, "question_id": 52776520, "link": "https://stackoverflow.com/questions/52776520/trying-to-extract-unique-strings-from-a-text-file-in-perl/52781939#52781939", "title": "Trying to extract unique strings from a text file in Perl", "body": "<p>using Perl one-liner</p>\n\n<pre><code>&gt; cat file.txt\n             \"placement Z  F97342\"\n             \"placement Z  F97342\"\n             \"placement d  F97342\"\n             \"placement g  F97342\"\n             \"placement Z  F97342\"\n&gt; perl -ne  '{ print \"$_\" unless $data{$_}++; } ' file.txt\n             \"placement Z  F97342\"\n             \"placement d  F97342\"\n             \"placement g  F97342\"\n&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10488424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3XCM21boVJA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUJq3RyLdkC7KASQ8bNf_4CPKpb0g/mo/photo.jpg?sz=128", "display_name": "Philip Eleanya", "link": "https://stackoverflow.com/users/10488424/philip-eleanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 1, "accepted_answer_id": 52776847, "answer_count": 3, "score": 0, "last_activity_date": 1539355347, "creation_date": 1539336687, "last_edit_date": 1539337501, "question_id": 52776520, "link": "https://stackoverflow.com/questions/52776520/trying-to-extract-unique-strings-from-a-text-file-in-perl", "title": "Trying to extract unique strings from a text file in Perl", "body": "<p>I am 5 days in learning perl and have this problem.\nTrying to extract a certain string from a file using regular expression and put these strings in a harsh and print OUT only the unique values e.g the text file contains strings like:</p>\n\n<pre><code>             \"placement Z  F97342\" \n             \"placement Z  F97342\"\n             \"placement d  F97342\"\n             \"placement g  F97342\" \n             \"placement Z  F97342\" \n</code></pre>\n\n<p>Expected output :</p>\n\n<pre><code>            \"placement Z  F97342\"\n            \"placement d  F97342\"\n            \"placement g  F97342\"\n</code></pre>\n\n<p>Below is my code but it gives me duplicate lines with \"placement Z\"</p>\n\n<pre><code>             open(FHR, \"&lt;test.txt\") or die \"Cannot open file $!\";\n\n            while (&lt;FHR&gt;){\n\n            chomp($_);\n            $_ =~/placement/g;\n\n            print \"$_\\n\";\n\n            }\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["perl", "http", "unix", "stdout"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 5, "creation_date": 1539317315, "post_id": 52772076, "comment_id": 92466205, "body": "Suffering from buffering?"}], "answers": [{"tags": [], "owner": {"reputation": 1329, "user_id": 1924274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cae5d0f32db0b220e470a24594e0aeb9?s=128&d=identicon&r=PG", "display_name": "dmc7z", "link": "https://stackoverflow.com/users/1924274/dmc7z"}, "is_accepted": true, "score": 2, "last_activity_date": 1539318586, "creation_date": 1539318586, "answer_id": 52772294, "question_id": 52772076, "link": "https://stackoverflow.com/questions/52772076/perl-piping-child-stdout-to-parent-process/52772294#52772294", "title": "Perl: Piping child stdout to parent process", "body": "<p>It was buffering issues. I needed to add the <code>-U</code> flag to <code>tcpdump</code>. This causes packets to be written as soon as they're received. </p>\n"}], "owner": {"reputation": 1329, "user_id": 1924274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cae5d0f32db0b220e470a24594e0aeb9?s=128&d=identicon&r=PG", "display_name": "dmc7z", "link": "https://stackoverflow.com/users/1924274/dmc7z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 52772294, "answer_count": 1, "score": 2, "last_activity_date": 1539318586, "creation_date": 1539316862, "question_id": 52772076, "link": "https://stackoverflow.com/questions/52772076/perl-piping-child-stdout-to-parent-process", "title": "Perl: Piping child stdout to parent process", "body": "<p>In Perl, I can open a child process and pipe its output to the calling Perl script, like this:</p>\n\n<pre><code>open(my $cmd, '-|', 'ls') or die $!;\nwhile (&lt;$cmd&gt;) {\n   print $_;\n}\n</code></pre>\n\n<p>This prints the files in my working folder, e.g.:</p>\n\n<pre>\n> foo.txt\n> bar.txt\n> ...\n</pre>\n\n<p>But I would like to do the same thing for a child process that remains open, e.g. to pipe <code>tcpdump</code>'s stdout to Perl, I attempt something similar:</p>\n\n<pre><code>open(my $cmd, '-|', 'tcpdump') or die $!;\nwhile (&lt;$cmd&gt;) {\n   print $_;\n}\n</code></pre>\n\n<p>... but other than the <code>tcpdump</code> startup text, this doesn't mete out any http logs. It just seems to hang. What gives?</p>\n"}, {"tags": ["perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1539317673, "post_id": 52772027, "comment_id": 92466273, "body": "One question at a time, please."}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1539325408, "post_id": 52772027, "comment_id": 92468740, "body": "@Schwern, okey. Thank you for your positive comment!"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539325704, "post_id": 52772177, "comment_id": 92468874, "body": "thank you for this knowledge! By the way, for my additional question/problem, is it doable using hash?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 1, "creation_date": 1539355310, "post_id": 52772177, "comment_id": 92485229, "body": "@DanialHaris The important thing to realize is that part has nothing to do with the hash. It&#39;s a thing you want to do to arrays. They just happen to be values in a hash. Consider how you&#39;d accomplish turning the array <code>[&#39;A&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;]</code> into <code>0, 2, 3, 4</code>. Code that up. Then put that code into the loop to work on each value of the hash. Or better, put that code into a function and use that function on each value in the loop."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1539317947, "last_edit_date": 1539317947, "creation_date": 1539317645, "answer_id": 52772177, "question_id": 52772027, "link": "https://stackoverflow.com/questions/52772027/sort-hash-key-and-value-simultaneously-perl/52772177#52772177", "title": "Sort Hash Key and Value simultaneously Perl", "body": "<p>Hash keys have no defined order. Generally you sort the keys as you're iterating through the hash.</p>\n\n<p>The values can be sorted as you iterate through the hash.</p>\n\n<pre><code># Iterate through the keys in numeric order.\nfor my $key (sort {$a &lt;=&gt; $b } keys %hash) {\n    # Get the value\n    my $val = $hash{$key};\n\n    # Sort it in place\n    @$val = sort { $a cmp $b } @$val;\n\n    # Display it\n    say \"$key -&gt; @$val\";\n}\n</code></pre>\n\n<p>Note that by default <code>sort</code> sorts in ASCII order as strings. That means <code>sort keys %KEY_VALUE</code> is not sorting as numbers but as strings. <code>sort(2,3,10)</code> is <code>(10,2,3)</code>. <code>\"10\"</code> is less than <code>\"2\"</code> like <code>\"ah\"</code> is less than <code>\"b\"</code>. Be sure to use <code>sort { $a &lt;=&gt; $b }</code> for numeric sorting and <code>sort { $a cmp $b }</code> for strings.</p>\n\n<p>You could use a different data structure such as <a href=\"https://metacpan.org/pod/Tie::IxHash\" rel=\"nofollow noreferrer\">Tie::Ixhash</a> though tying has a significant performance penalty. Generally it's better to sort in place unless your hash gets very large.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539325492, "post_id": 52772211, "comment_id": 92468780, "body": "I see, that is why, the value of the hash can&#39;t be update even though I have sorted it. Thank you for this knowledge."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 2, "last_activity_date": 1539317949, "creation_date": 1539317949, "answer_id": 52772211, "question_id": 52772027, "link": "https://stackoverflow.com/questions/52772027/sort-hash-key-and-value-simultaneously-perl/52772211#52772211", "title": "Sort Hash Key and Value simultaneously Perl", "body": "<p>You can't sort a hash, you can at best print it sorted (or keep the sorted keys in another array). Finding the position of the first value can be done with <code>first_index</code>; we remove duplicates with <code>uniq</code>.</p>\n\n<pre><code>foreach my $key (sort keys %KEY_VALUE) {\n  my @value = @{$KEY_VALUE{$key}};\n  my @indices = map { my $e = $_; first_index { $_ eq $e } @value } (uniq (sort @value));\n  print \"$key: \" . (join ', ', @indices) . \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539317949, "creation_date": 1539316571, "question_id": 52772027, "link": "https://stackoverflow.com/questions/52772027/sort-hash-key-and-value-simultaneously-perl", "title": "Sort Hash Key and Value simultaneously Perl", "body": "<p>I have a hash that I want to sort the keys numerically in ascending order and\nits values in ascending alphabetically manner.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse List::MoreUtils;\nuse Tie::IxHash;    \n\nmy %KEY_VALUE;\n#tie %KEY_VALUE,'Tie::IxHash';\n\n\nmy %KEY_VALUE= (\n    0 =&gt; [ 'A', 'C', 'B', 'A' ,'D'],\n    5 =&gt; [ 'D', 'F', 'E', ],\n    2 =&gt; [ 'Z', 'X', 'Y' ],\n    4 =&gt; [ 'E', 'R', 'M' ],\n    3 =&gt; [ 'A', 'B', 'B', 'A' ],\n    1 =&gt; [ 'C', 'C', 'F', 'E' ],\n    );\n\n#while (my ($k, $av) = each %KEY_VALUE) \n#{\n#  print \"$k @$av\\n \";\n#}\n\n#Sort the key numerically   \nforeach my $key (sort keys %KEY_VALUE)\n{\n print \"$key\\n\";\n}\n\n#To sort the value alphabetically\nforeach my $key (sort {$KEY_VALUE{$a} cmp $KEY_VALUE{$b}} keys %KEY_VALUE){\n       print \"$key: $KEY_VALUE{$key}\\n\";\n}   \n</code></pre>\n\n<p>The wanted input is like this, and I want to print out the sorted keys and values.</p>\n\n<pre><code>%KEY_VALUE= (\n    0 =&gt; [ 'A','A','B','C','D'],\n    1 =&gt; [ 'C','C','E','F' ],\n    2 =&gt; [ 'X','Y','Z' ],\n    3 =&gt; [ 'A', 'A', 'B', 'B' ],\n    4 =&gt; [ 'E','M','R' ],\n    5 =&gt; [ 'D','E','F', ],\n);\n</code></pre>\n\n<p>Additional problem, how to print the key and the scalar value of the first different value</p>\n\n<p>Wanted Output:</p>\n\n<pre><code>KEY= 0  VALUE:0 2 3 4   #The scalar value of first A B C D, start with 0\nKEY= 1  VALUE:0 2 3     #The scalar value of first C E F\nKEY= 2  VALUE:0 1 2     #The scalar value of first X Y Z\nKEY= 3  VALUE:0 2       #The scalar value of first A B\nKEY= 4  VALUE:0 1 2     #The scalar value of first E M R\nKEY= 5  VALUE:0 1 2     #The scalar value of first D E F\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539298268, "post_id": 52769859, "comment_id": 92462407, "body": "This is a bug in BioPerl or probably this VEP install script, so you probably need to ask them for support - <a href=\"https://bioperl.org/Support.html\" rel=\"nofollow noreferrer\">bioperl.org/Support.html</a> - however I will note that the latest version of BioPerl on CPAN is 1.7.2. Also see <a href=\"https://bioperl.org/INSTALL.html\" rel=\"nofollow noreferrer\">bioperl.org/INSTALL.html</a>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1539298313, "post_id": 52769859, "comment_id": 92462418, "body": "Sounds like the file is corrupted somehow if multiple programs couldn&#39;t read it."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10499100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdsU1.jpg?s=128&g=1", "display_name": "cedsam", "link": "https://stackoverflow.com/users/10499100/cedsam"}, "is_accepted": false, "score": 0, "last_activity_date": 1539446756, "creation_date": 1539446756, "answer_id": 52794818, "question_id": 52769859, "link": "https://stackoverflow.com/questions/52769859/problem-with-extracting-bioperl-1-6-1-tar-gz-when-running-veps-install-pl-scrip/52794818#52794818", "title": "Problem with extracting BioPerl-1.6.1.tar.gz when running VEP&#39;s INSTALL.pl script", "body": "<p>this archive seems corrupted : /opt/vep/src/ensembl-vep/ensembl-tools-release-77/scripts/variant_effect_predictor/Bio/tmp/BioPerl-1.6.1.tar.gz</p>\n\n<p>/bin/tar is giving you an error \"/bin/tar: This does not look like a tar archive\"</p>\n\n<p>can you replace this file or delete it and restart the installation?</p>\n"}], "owner": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539446756, "creation_date": 1539297665, "last_edit_date": 1539298262, "question_id": 52769859, "link": "https://stackoverflow.com/questions/52769859/problem-with-extracting-bioperl-1-6-1-tar-gz-when-running-veps-install-pl-scrip", "title": "Problem with extracting BioPerl-1.6.1.tar.gz when running VEP&#39;s INSTALL.pl script", "body": "<p>I'm trying to install version 77 of Variant Effect Predictor (VEP) on a linux machine and keep encountering errors when running <code>perl INSTALL.pl</code>. After resolving an error with missing the perl module <code>Archive::Extract</code>, I ran into this error:</p>\n\n<pre><code>Hello! This installer is configured to install v77 of the Ensembl API for use by the VEP.\nIt will not affect any existing installations of the Ensembl API that you may have.\n\nIt will also download and install cache files from Ensembl's FTP server.\n\nChecking for installed versions of the Ensembl API...done\n\nSetting up directories\n\nDownloading required files\n - fetching ensembl\n** GET https://github.com/Ensembl/ensembl/archive/release/77.zip ==&gt; 501 Protocol scheme 'https' is not supported (LWP::Protocol::https not installed)\n** GET https://github.com/Ensembl/ensembl/archive/release/77.zip ==&gt; 501 Protocol scheme 'https' is not supported (LWP::Protocol::https not installed)\nTrying to fetch using curl\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   124    0   124    0     0    730      0 --:--:-- --:--:-- --:--:--   729\n100 10.7M    0 10.7M    0     0  3535k      0 --:--:--  0:00:03 --:--:-- 4859k\n - unpacking ./Bio/tmp/ensembl.zip\n - moving files\n - fetching ensembl-variation\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   134    0   134    0     0    737      0 --:--:-- --:--:-- --:--:--   740\n100 3986k    0 3986k    0     0  4378k      0 --:--:-- --:--:-- --:--:-- 7182k\n - unpacking ./Bio/tmp/ensembl-variation.zip\n - moving files\n - fetching ensembl-funcgen\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   132    0   132    0     0    798      0 --:--:-- --:--:-- --:--:--   800\n100 2016k    0 2016k    0     0  3354k      0 --:--:-- --:--:-- --:--:-- 5156k\n - unpacking ./Bio/tmp/ensembl-funcgen.zip\n - moving files\n - fetching BioPerl\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   178  100   178    0     0   2695      0 --:--:-- --:--:-- --:--:--  2738\n100  9340  100  9340    0     0  46698      0 --:--:-- --:--:-- --:--:-- 46698\n - unpacking ./Bio/tmp/BioPerl-1.6.1.tar.gz\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nInvalid header block at offset unknown at /usr/local/share/perl/5.22.1/Archive/Extract.pm line 893.\nUnable to extract '/opt/vep/src/ensembl-vep/ensembl-tools-release-77/scripts/variant_effect_predictor/Bio/tmp/BioPerl-1.6.1.tar.gz': Invalid header block at offset unknown at INSTALL.pl line 905.\nError listing contents of archive '/opt/vep/src/ensembl-vep/ensembl-tools-release-77/scripts/variant_effect_predictor/Bio/tmp/BioPerl-1.6.1.tar.gz': /bin/tar: This does not look like a tar archive\n/bin/tar: Skipping to next header\n/bin/tar: Exiting with failure status due to previous errors\n at INSTALL.pl line 905.\nExtract failed due to errors at INSTALL.pl line 905.\nCan't call method \"error\" on an undefined value at INSTALL.pl line 905.\n</code></pre>\n\n<p>And line 905 of the INSTALL.pl script is:</p>\n\n<pre><code>900 # unpack a tarball\n901 sub unpack_arch {\n902   my ($arch_file, $dir) = @_;\n903 \n904   my $ar = Archive::Extract-&gt;new(archive =&gt; $arch_file);\n905   my $ok = $ar-&gt;extract(to =&gt; $dir) or die $ae-&gt;error;\n906   unlink($arch_file);\n907 }\n</code></pre>\n\n<p>I'm not familiar enough with perl to know what's going wrong exactly, but I tried un-taring the BioPerl-1.6.1.tar.gz myself with <code>tar -xvzf</code> and that did not work. How can I resolve this issue?</p>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539312922, "post_id": 52769341, "comment_id": 92465296, "body": "What is the purpose of this -- why do you need the script names broken into words? In the context of that, what is the tolerance for errors?  You can&#39;t just parse a bundle of glued words correctly into language without any other clue."}, {"owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539356628, "post_id": 52769341, "comment_id": 92485936, "body": "I have two files, a plugin file and the file it is intended for.  The plugin file is named after the file that uses it. For example, cgi-bin/folder/new_folder/abc_script.pl would use a plugin called cgibin_folder_newfolder_abcscript.pm.  Some files aren&#39;t following the formatting, so I want to write a test that looks at cgibin_folder_newfolder_abcscript.pm and can then see if its parent script exists."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539625697, "post_id": 52769341, "comment_id": 92561297, "body": "Ah, I see.  I don&#39;t see that it takes <i>language</i> to do that (which is a good thing since that is hard :).  As you pick a file whose ancestry you need to search for, use regex on each filename from the list of files in the directory where the parent is expected to be. You are searching for matching words after all, right? Regex can do that with all the flexibility you need, without going into a language analysis."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539625957, "post_id": 52769341, "comment_id": 92561415, "body": "A trivial exampe: <code>my $patt = qr&#47;abc.*script&#47;i; for (@files) { if (&#47;$patt&#47;) { ... } }</code>, where you build <code>$patt</code> to account for the expected variations."}], "answers": [{"comments": [{"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 1, "creation_date": 1539294879, "post_id": 52769416, "comment_id": 92461553, "body": "The reason why best summarized by this 5 second clip: <a href=\"https://www.youtube.com/watch?v=raka8Gxmqwc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=raka8Gxmqwc</a>"}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 4, "creation_date": 1539295096, "post_id": 52769416, "comment_id": 92461624, "body": "On a serious note, there won&#39;t be a perfect solution: <code>island.pl</code>  <code>is land</code> or <code>island</code>"}, {"owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "edited": false, "score": 0, "creation_date": 1539295857, "post_id": 52769416, "comment_id": 92461857, "body": "First of all, that&#39;s hilarious. And second, lovely. :)"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 2, "last_activity_date": 1539294773, "creation_date": 1539294773, "answer_id": 52769416, "question_id": 52769341, "link": "https://stackoverflow.com/questions/52769341/identifying-words-in-perl/52769416#52769416", "title": "Identifying words in perl", "body": "<p>It's unlikely you're going to find a perfect solution without developing an AI. But to start with you need a module that knows English words, so look in the <a href=\"https://metacpan.org/search?q=Lingua%3A%3AEN\" rel=\"nofollow noreferrer\">Lingua::EN</a> namespace. <a href=\"https://metacpan.org/pod/Lingua::EN::Segment\" rel=\"nofollow noreferrer\">Lingua::EN::Segment</a> looks similar to your use case.</p>\n"}], "owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 52769416, "answer_count": 1, "score": 0, "last_activity_date": 1539294783, "creation_date": 1539294236, "last_edit_date": 1539294783, "question_id": 52769341, "link": "https://stackoverflow.com/questions/52769341/identifying-words-in-perl", "title": "Identifying words in perl", "body": "<p>I'm trying to go through a list of files that have words sashed together and break the words apart.</p>\n\n<pre><code>my @file_list = (\n    'myfirstperlfile.pl',\n    'mashpotatorecipes.pl',\n    'badhaircuts.pl',\n    'jonisntverygoodatsoftball.pl',\n    'thatnewcomedianislol.pl',\n);\n</code></pre>\n\n<p>My list could be delineated by anything, but for the example's sake, it could look like this.</p>\n\n<pre><code>my @delineated_file_list = (\n    'my first perl file',\n    'mash potato recipes',\n    'bad haircuts',\n    'jon isnt very good at soft ball',\n    'that new comedian is lol',\n);        \n</code></pre>\n\n<p>In my particular case, there are a lot of files, so looking for static words isn't ideal.  </p>\n\n<p>What's the best for perl to know my,first,perl &amp; file are separate words? I'm also worried about identifying abbreviations, misspelled or fake words. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1539282178, "post_id": 52766490, "comment_id": 92456048, "body": "What happens when you run your code? What&#39;s the result?"}, {"owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1539282378, "post_id": 52766490, "comment_id": 92456141, "body": "Your example is just printing a newline. Surely, you aren&#39;t needing to print &quot;$Bday\\n&quot;. As @Matt asked, what is your result and how is it wrong?"}, {"owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "edited": false, "score": 0, "creation_date": 1539313338, "post_id": 52766490, "comment_id": 92465394, "body": "Sorry Matt and UncleCarl , I am getting syntax error at script.pl line 13, near &quot;/^([a-z]||_)/:&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "edited": false, "score": 0, "creation_date": 1539313988, "post_id": 52767075, "comment_id": 92465511, "body": "Thank you Shawn, your code works perfectly. Ya, i just realize the s operator is missing in my code.  However, my code cannot get the output if the  &quot;cat&quot; changed to &quot;cat[1]&quot; and &quot;dog&quot; changed to &quot;dog3&quot;.  I tried to use : str =~ s/\\s*([a-zA-Z0-9_ &#93;]+)((?: \\d+)+)/$1:$2\\n/g; but im getting  cat[]: 11052000 &quot;\\n&quot;  cow_and_owner_01011999 12031981 dog3: 22032011."}, {"owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "edited": false, "score": 0, "creation_date": 1539314263, "post_id": 52767075, "comment_id": 92465569, "body": "May i know what is the meaning of  &quot;?:&quot; in the bracket? Appreciate if you can help to explain"}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "reply_to_user": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "edited": false, "score": 0, "creation_date": 1539375610, "post_id": 52767075, "comment_id": 92494364, "body": "@thx94 A regular <code>(...)</code> is a capture group, meaning the contents will be placed in variables <code>$1</code>, <code>$2</code>, etc. depending on the order of appearance. <code>(?:...)</code> makes the group non-capturing, allowing you to just group and multiply or make optional complex things without capturing them."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1539380852, "post_id": 52767075, "comment_id": 92496281, "body": "An example would be that to match either the word &quot;child&quot; or the plural &quot;children&quot;, you could use a regex pattern <code>&#47;\\bchild(?:ren)?\\b&#47;</code>, which groups the &quot;ren&quot; and makes it optional as a whole (and not each letter separately). Most of the times you wouldn&#39;t want to capture the &quot;ren&quot; unless you were checking for the presence of the plural. (The <code>\\b</code> or some other method of checking for word boundaries are needed to avoid matching &quot;childless&quot; or &quot;Fairchild&quot;.)"}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": true, "score": 2, "last_activity_date": 1539289008, "last_edit_date": 1539289008, "creation_date": 1539283993, "answer_id": 52767075, "question_id": 52766490, "link": "https://stackoverflow.com/questions/52766490/how-to-insert-a-colon-between-word-and-number/52767075#52767075", "title": "How to insert a colon between word and number", "body": "<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nmy $str = \"cat 11052000 cow_and_owner_ 01011999 12031981 dog 22032011\";\n$str =~ s/\\s*([a-z_]+)((?: \\d+)+)/$1:$2\\n/g;\nprint $str;\n</code></pre>\n\n<p>produces your desired output from your sample input.</p>\n\n<p>Edit: Note the use of the <code>s</code> operator for regular expression substitution. One of the many problems with your code is that you're not using that (IF your intent is to modify the string in place and not extract bits from it for further processing)</p>\n"}, {"tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": false, "score": 0, "last_activity_date": 1539356046, "creation_date": 1539356046, "answer_id": 52782119, "question_id": 52766490, "link": "https://stackoverflow.com/questions/52766490/how-to-insert-a-colon-between-word-and-number/52782119#52782119", "title": "How to insert a colon between word and number", "body": "<p>One more variant - </p>\n\n<pre><code>&gt; cat test_perl.pl\n#!/usr/bin/perl\nuse strict;\nuse warnings;\nwhile ( \"cat 11052000 cow_and_owner_ 01011999 12031981 dog 22032011\" =~ m/([a-z_]+)\\s+([0-9 ]+)/g )\n{\nprint \"$1:$2\\n\";\n}\n&gt; test_perl.pl\ncat:11052000\ncow_and_owner_:01011999 12031981\ndog:22032011\n&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "is_accepted": false, "score": 0, "last_activity_date": 1539379939, "creation_date": 1539379939, "answer_id": 52787254, "question_id": 52766490, "link": "https://stackoverflow.com/questions/52766490/how-to-insert-a-colon-between-word-and-number/52787254#52787254", "title": "How to insert a colon between word and number", "body": "<p>The original code <code>$Bday=~ /^([a-z]||\\_)/:/^([0-9])/</code> doesn't make much sense. Apart from missing a semicolon and having too many delimiters (matching patterns are of the format <code>/.../</code> or <code>m/.../</code> and replacing ones <code>s/.../.../</code>), it could never match anything. </p>\n\n<ol>\n<li><p><code>([a-z]||\\_)</code> would match:</p>\n\n<ul>\n<li>one lowercase ASCII letter (a through z);</li>\n<li>an empty string (the space between the two <code>|</code>s; or</li>\n<li>one underscore (escape with a backslash is superfluous).</li>\n</ul>\n\n<p>To get it (or the corresponding subexpression for numbers) to match a sequence of one \nor more of the characters, you need to follow it with a <code>+</code>.</p></li>\n<li><p><code>^([0-9])</code> would fail to match unless it was at the beginning of the string. There it would match a single digit.</p></li>\n</ol>\n\n<hr>\n\n<p>My solution (taking into account the later comments by the OP about having input such as <code>cat[1]</code> or <code>dog3</code>):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $bday = \"cat 11052000 cow_and_owner_ 01011999 12031981 dog 22032011 cat[1] 01012018 dog3 02012018\";\n\n# capture groups:\n#          $1------------------------\\   $2-------------\\\n$bday =~ s/([A-Za-z][A-Za-z0-9_\\[\\]]*)\\h+(\\d+(?:\\h+\\d+)*)(?!\\S)\\s*/$1:$2\\n/g;\n\nprint $bday;\n</code></pre>\n\n<p>will print out:</p>\n\n<pre><code>cat:11052000\ncow_and_owner_:01011999 12031981\ndog:22032011\ncat[1]:01012018\ndog3:02012018\n</code></pre>\n\n<p>Breakdown:</p>\n\n<ul>\n<li><p><code>[A-Za-z]</code>: Begin with a letter.</p></li>\n<li><p><code>[A-Za-z0-9_\\[\\]]*</code>: Follow with zero or more letters, numbers, underscores and square brackets.</p></li>\n<li><p><code>\\h+</code>: Separate with one or more horizontal whitespace.</p></li>\n<li><p><code>\\d+(?:\\h+\\d+)*</code>: One sequence of digits (<code>\\d+</code>) followed by zero or more sequences of horizontal whitespace and digits.</p></li>\n<li><p><code>(?!\\S)</code>: Can't be followed by non-whitespace.</p></li>\n<li><p><code>\\s*</code>: Consume following whitespace (including line feeds; this allows the input to be separated on multiple lines, as long as a single entry is not spread on multiple lines. To get that, replace all the <code>\\h+</code> with <code>\\s+</code>.).</p></li>\n</ul>\n\n<p>The replace pattern will repeat (the <code>/g</code> modifier) sequentially in the source string as long as it matches, placing each heading-date record on its own line and then proceeding with the rest of the string.</p>\n\n<hr>\n\n<p>Note that if your headers (<code>dog</code> etc.) might contain non-ASCII letters, use <code>\\pL</code> or <code>\\p{XPosixAlpha}</code> instead of <code>[A-Za-z]</code>:</p>\n\n<pre><code>$bday =~ s/\\pL[\\pL0-9_\\[\\]]*)\\h+(\\d+(?:\\h+\\d+)*)(?!\\S)\\s*/$1:$2\\n/g;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 52767075, "answer_count": 3, "score": 1, "last_activity_date": 1539379939, "creation_date": 1539281471, "question_id": 52766490, "link": "https://stackoverflow.com/questions/52766490/how-to-insert-a-colon-between-word-and-number", "title": "How to insert a colon between word and number", "body": "<p>I want to insert a colon between word and number then add a new line after a number.\nFor example:</p>\n\n<pre><code>\"cat 11052000 cow_and_owner_ 01011999 12031981 dog 22032011\";\n</code></pre>\n\n<p>my expected output:</p>\n\n<pre><code>cat:11052000\ncow_and_owner_:01011999 12031981\ndog:22032011\n</code></pre>\n\n<p>My attempt :</p>\n\n<pre><code>$Bday=~ /^([a-z]||\\_)/:/^([0-9])/\nprint \"\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1539281398, "post_id": 52766408, "comment_id": 92455645, "body": "You have to choose perl. Try <code>Hello({((?:[^{}]*+|(?1))*)})</code> and replace with <code>\\2</code>. See live demo here <a href=\"https://regex101.com/r/AIlUV5/1\" rel=\"nofollow noreferrer\">regex101.com/r/AIlUV5/1</a>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1539289503, "post_id": 52766408, "comment_id": 92459515, "body": "Regex is notoriously bad at directly finding balanced delimiters without a hugely overcomplicated expression. Some alternatives are <a href=\"https://metacpan.org/pod/Text::Balanced\" rel=\"nofollow noreferrer\">Text::Balanced</a> or tokenizing your text with something like <a href=\"https://metacpan.org/pod/Parser::MGC\" rel=\"nofollow noreferrer\">Parser::MGC</a>."}], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 8767753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b33c292d3b4b70d1d64bc4b89a670e?s=128&d=identicon&r=PG&f=1", "display_name": "PJProudhon", "link": "https://stackoverflow.com/users/8767753/pjproudhon"}, "edited": false, "score": 0, "creation_date": 1539332163, "post_id": 52766736, "comment_id": 92472112, "body": "Is the possessive quantifier really needed here (on left part of the alternation)? It works well without, maybe the interest is elsewhere, for some kind of optimisation maybe?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 821, "user_id": 8767753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b33c292d3b4b70d1d64bc4b89a670e?s=128&d=identicon&r=PG&f=1", "display_name": "PJProudhon", "link": "https://stackoverflow.com/users/8767753/pjproudhon"}, "edited": false, "score": 0, "creation_date": 1539332830, "post_id": 52766736, "comment_id": 92472470, "body": "@PJProudhon It&#39;s needed to avoid catastrophic backtracking on failures. See what happens without it <a href=\"https://regex101.com/r/AIlUV5/2\" rel=\"nofollow noreferrer\">regex101.com/r/AIlUV5/2</a>"}, {"owner": {"reputation": 1366, "user_id": 4007564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01af7cacfa049e7dc6a9f6132bcdafce?s=128&d=identicon&r=PG&f=1", "display_name": "Tohiko", "link": "https://stackoverflow.com/users/4007564/tohiko"}, "edited": false, "score": 0, "creation_date": 1539351453, "post_id": 52766736, "comment_id": 92482827, "body": "Thanks! Can you please explain what you mean by &quot;it fails on facing with escaped braces.&quot;?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 1366, "user_id": 4007564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01af7cacfa049e7dc6a9f6132bcdafce?s=128&d=identicon&r=PG&f=1", "display_name": "Tohiko", "link": "https://stackoverflow.com/users/4007564/tohiko"}, "edited": false, "score": 1, "creation_date": 1539364618, "post_id": 52766736, "comment_id": 92489839, "body": "@Tohiko Sure. It means <code>Hello{Some{ \\{Text}}</code> will not produce a match. This regex doesn&#39;t match escaped braces."}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 3, "last_activity_date": 1539282451, "creation_date": 1539282451, "answer_id": 52766736, "question_id": 52766408, "link": "https://stackoverflow.com/questions/52766408/replace-string-with-matched-expression/52766736#52766736", "title": "Replace string with matched expression", "body": "<p>You have to choose <code>perl</code> since it supports sub-routine calls. A recursive match on <code>{[^{}]*}</code> should occur continuously and should fail if an unbalanced brace is found. Below regex does the job:</p>\n\n<pre><code>Hello({((?:[^{}]*+|(?1))*)})\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/AIlUV5/1\" rel=\"nofollow noreferrer\">live demo here</a></p>\n\n<p>Note: it fails on facing with escaped braces.</p>\n\n<p>Perl:</p>\n\n<pre><code>$ echo 'Hello{Some { other} Text}' | perl -pe 's~Hello({((?:[^{}]*+|(?1))*)})~$2~g'\nSome { other} Text\n</code></pre>\n\n<p>Regex breakdown:</p>\n\n<pre><code>Hello # Match `Hello`\n( # Start of 1st capturing group\n    { # Match `{`\n    ( # Start of 2nd capturing group\n        (?: # Start of non-capturing group\n            [^{}]*+ # Match anything but `{` or `}` possessively\n            | # Or\n            (?1) # Recurs first group\n        )* # End of NCG, repeat as much as possible\n    ) # End of 2nd CP\n    } # Match `}`\n) # End of 1st CP\n</code></pre>\n"}], "owner": {"reputation": 1366, "user_id": 4007564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01af7cacfa049e7dc6a9f6132bcdafce?s=128&d=identicon&r=PG&f=1", "display_name": "Tohiko", "link": "https://stackoverflow.com/users/4007564/tohiko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 52766736, "answer_count": 1, "score": 1, "last_activity_date": 1539282451, "creation_date": 1539281090, "question_id": 52766408, "link": "https://stackoverflow.com/questions/52766408/replace-string-with-matched-expression", "title": "Replace string with matched expression", "body": "<p>I have the following text in <em>multiple</em> files <code>Hello{Some Text}</code>, and I want to replace it with <code>Some Text</code>. Where <code>Some Text</code> might include balanced braces <code>{ }</code>. For example: <code>Hello{Some { other} Text}</code> should be replaced by <code>Some { other} Text</code>.</p>\n\n<p>Is there an easy way to achieve this in <code>sed</code>, <code>awk</code>, <code>perl</code> or some other tool?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 13110, "user_id": 845034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f8d643d24f2f605806e260b57977541?s=128&d=identicon&r=PG", "display_name": "steffen", "link": "https://stackoverflow.com/users/845034/steffen"}, "edited": false, "score": 0, "creation_date": 1539272448, "post_id": 52763756, "comment_id": 92450990, "body": "Do you want to get <code>foobar</code> from <code>(foobar)</code> or shouldn&#39;t that match at all?"}, {"owner": {"reputation": 103, "user_id": 3676932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhKJr.jpg?s=128&g=1", "display_name": "Gilles Maisonneuve", "link": "https://stackoverflow.com/users/3676932/gilles-maisonneuve"}, "reply_to_user": {"reputation": 13110, "user_id": 845034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f8d643d24f2f605806e260b57977541?s=128&d=identicon&r=PG", "display_name": "steffen", "link": "https://stackoverflow.com/users/845034/steffen"}, "edited": false, "score": 0, "creation_date": 1539372433, "post_id": 52763756, "comment_id": 92493208, "body": "@steffen: no, you are right, I don&#39;t want to have (foo) nor [foo] nor {foo} nor ;foo;, etc."}, {"owner": {"reputation": 13110, "user_id": 845034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f8d643d24f2f605806e260b57977541?s=128&d=identicon&r=PG", "display_name": "steffen", "link": "https://stackoverflow.com/users/845034/steffen"}, "edited": false, "score": 0, "creation_date": 1539637961, "post_id": 52763756, "comment_id": 92566715, "body": "Hey, move the second part to a new answer and accept it ;)"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 3676932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhKJr.jpg?s=128&g=1", "display_name": "Gilles Maisonneuve", "link": "https://stackoverflow.com/users/3676932/gilles-maisonneuve"}, "edited": false, "score": 0, "creation_date": 1539288621, "post_id": 52764085, "comment_id": 92459117, "body": "Thank you for <code>@foos=($s=~&#47;(?:(?&lt;=\\h)|^)(\\w*foo\\w*)(?=\\h|$)&#47;g);</code> It worked for me. However I honestly did not understand half of your regexp... Would you be kind enough to explain it a little so that I can modify it for my own use(s) it in the future? TIA."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 103, "user_id": 3676932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhKJr.jpg?s=128&g=1", "display_name": "Gilles Maisonneuve", "link": "https://stackoverflow.com/users/3676932/gilles-maisonneuve"}, "edited": false, "score": 0, "creation_date": 1539292284, "post_id": 52764085, "comment_id": 92460658, "body": "@GillesMaisonneuve: Explanation added."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 2, "last_activity_date": 1539292121, "last_edit_date": 1539292121, "creation_date": 1539272629, "answer_id": 52764085, "question_id": 52763756, "link": "https://stackoverflow.com/questions/52763756/perl-regexp-how-to-match-substring-from-words-w-o-alternate-patterns/52764085#52764085", "title": "Perl-REGEXP How to match substring from words w/o alternate patterns?", "body": "<p>Perhaps filter the unwanted words first then use grep against the filtered words:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s=\n'foo bar quux foofoo foobar fooquux barfoo barbar barquux quuxfoo quuxbar quuxquux ' .\n'[foo] (foo) {foo} foofoo barfoo quuxfoo foo2foo foo2bar foo2quux foo2foo bar2foo quux2foo';\n\nmy @words = ( $s=~/(?:(?&lt;=\\h)|^)(\\w+)(?=\\h|$)/g );\n\nmy @foos = grep(/foo/, @words);\n\nwhile (my ($i, $v) = each @foos) {\n    printf \"%02d: %s\\n\", $i,$v;\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>00: foo\n01: foofoo\n02: foobar\n03: fooquux\n04: barfoo\n05: quuxfoo\n06: foofoo\n07: barfoo\n08: quuxfoo\n09: foo2foo\n10: foo2bar\n11: foo2quux\n12: foo2foo\n13: bar2foo\n14: quux2foo\n</code></pre>\n\n<p>Alternatively, you can combine the filtering on a list of the words split by horizontal spaces and testing the resulting word is all alphanumeric:</p>\n\n<pre><code>@foos=grep {/foo/ &amp;&amp; /^\\w+$/} split /\\h/, $s;  # same result\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>@foos=grep {/^\\w*foo\\w*$/} split /\\h/, $s; \n</code></pre>\n\n<p>Or, in a <a href=\"https://regex101.com/r/wMNNeW/1/\" rel=\"nofollow noreferrer\">single regex</a>:</p>\n\n<pre><code>@foos=($s=~/(?:(?&lt;=\\h)|^)(\\w*foo\\w*)(?=\\h|$)/g);\n</code></pre>\n\n<hr>\n\n<p>As requested in comments, with:</p>\n\n<pre><code>$s=~/(?:(?&lt;=\\h)|^)(\\w*foo\\w*)(?=\\h|$)/g\n\n\n(?:(?&lt;=\\h)|^)  Assert either after a \\h (horizontal space) or at start of line ^\n(\\w*foo\\w*)    Capture a 'word' with 'foo' and only \\w characters (or, [a-zA-Z0-9_] characters)\n(?=\\h|$)       Assert before either a \\h horizontal space or end of line $\n</code></pre>\n\n<p>The only tricky part is <code>(?:(?&lt;=\\h)|^)</code>. It is illegal in Perl to have a non-fixed width lookback such as <code>(?&lt;=\\h|^)</code> since <code>^</code> is a zero width and <code>\\h</code> is not. (The regex <code>(?&lt;=\\h|^)</code> is legal in the PCRE library interestingly.) So <code>(?:(?&lt;=\\h)|^)</code> breaks the two assertion into one group. </p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539275541, "post_id": 52764404, "comment_id": 92452566, "body": "In order to exclude <code>(</code> before the word or <code>)</code> after (so parens as word-boundary) I&#39;d find it clearer to make your own word boundary (<code>[^()...]</code>) in the first example (in a variable with <code>qr</code>)"}], "tags": [], "owner": {"reputation": 13110, "user_id": 845034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f8d643d24f2f605806e260b57977541?s=128&d=identicon&r=PG", "display_name": "steffen", "link": "https://stackoverflow.com/users/845034/steffen"}, "is_accepted": true, "score": 4, "last_activity_date": 1539273688, "creation_date": 1539273688, "answer_id": 52764404, "question_id": 52763756, "link": "https://stackoverflow.com/questions/52763756/perl-regexp-how-to-match-substring-from-words-w-o-alternate-patterns/52764404#52764404", "title": "Perl-REGEXP How to match substring from words w/o alternate patterns?", "body": "<p>It depends: if you want to get <code>foobar</code> from <code>(foobar)</code>, it's easy. You just match <code>foo</code> with optional word characters before and after, and then on both sides a word boundary <code>\\b</code> (which could be begin of input or some non-word character):</p>\n\n<pre><code>my @m = ($s=~/(\\b\\w*foo\\w*\\b)/g);\nprint( sprintf(\"%02d: \",$_),\n    ($s=~/(\\b\\w*foo\\w*\\b)/g)[$_],\n    qq(\\n) )\nfor (0..@m-1);\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>00: foo\n01: foofoo\n02: foobar\n03: fooquux\n04: barfoo\n05: quuxfoo\n06: foo\n07: foo\n08: foo\n09: foofoo\n10: barfoo\n11: quuxfoo\n12: foo2foo\n13: foo2bar\n14: foo2quux\n15: foo2foo\n16: bar2foo\n17: quux2foo\n</code></pre>\n\n<p>If not, then it's a bit more difficult. Here I'd match begin-of-input or a space, then <code>foo</code> surrounded by optional word characters and then we need a (zero-length) assertion which requires a whitespace or end-of-input:</p>\n\n<pre><code>my @m = ($s=~/(?:^|\\s)(\\w*foo\\w*)(?=\\s|$)/g);\nprint( sprintf(\"%02d: \",$_),\n    ($s=~/(?:^|\\s)(\\w*foo\\w*)(?=\\s|$)/g)[$_],\n    qq(\\n) )\nfor (0..@m-1);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>00: foo\n01: foofoo\n02: foobar\n03: fooquux\n04: barfoo\n05: quuxfoo\n06: foofoo\n07: barfoo\n08: quuxfoo\n09: foo2foo\n10: foo2bar\n11: foo2quux\n12: foo2foo\n13: bar2foo\n14: quux2foo\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1539278846, "post_id": 52764580, "comment_id": 92454326, "body": "This is the right direction. Keep things simple. Just remember that the definition of &#39;word character&#39; as used by regex is letters, digits, and underscore, so you may need to construct a <a href=\"https://perldoc.pl/perlrecharclass\" rel=\"nofollow noreferrer\">character class</a> if you have more specific requirements."}, {"owner": {"reputation": 103, "user_id": 3676932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhKJr.jpg?s=128&g=1", "display_name": "Gilles Maisonneuve", "link": "https://stackoverflow.com/users/3676932/gilles-maisonneuve"}, "edited": false, "score": 0, "creation_date": 1539379403, "post_id": 52764580, "comment_id": 92495751, "body": "Nice! Thanks. I did not get it at first glance. Now I think I understand it better. I won&#39;t make progress in regexps with that but it solves my pb right away. I&#39;m balanced between quick solution and learning. I&#39;ll try to do both. Really, as Pelr gurus say, there is more than one way to do it."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 3, "last_activity_date": 1539274275, "creation_date": 1539274275, "answer_id": 52764580, "question_id": 52763756, "link": "https://stackoverflow.com/questions/52763756/perl-regexp-how-to-match-substring-from-words-w-o-alternate-patterns/52764580#52764580", "title": "Perl-REGEXP How to match substring from words w/o alternate patterns?", "body": "<p>You can split your string and filter the array:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s=\n'foo bar quux foofoo foobar fooquux barfoo barbar barquux quuxfoo quuxbar quuxquux ' .\n'[foo] (foo) {foo} foofoo barfoo quuxfoo foo2foo foo2bar foo2quux foo2foo bar2foo quux2foo';\n\nmy @res = grep {/foo/ &amp;&amp; !/\\W/}  split /\\s/, $s;\n\nprint join(\" \", @res);\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 3676932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhKJr.jpg?s=128&g=1", "display_name": "Gilles Maisonneuve", "link": "https://stackoverflow.com/users/3676932/gilles-maisonneuve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 52764404, "answer_count": 3, "score": 1, "last_activity_date": 1539376031, "creation_date": 1539271542, "last_edit_date": 1539376031, "question_id": 52763756, "link": "https://stackoverflow.com/questions/52763756/perl-regexp-how-to-match-substring-from-words-w-o-alternate-patterns", "title": "Perl-REGEXP How to match substring from words w/o alternate patterns?", "body": "<p>Good afternoon all,</p>\n\n<p>I have a string of blank separated words. I need to find the words from that string that matches an alphanumeric pattern, partial or whole word.\nI need words made only of alphanumeric characters.</p>\n\n<p>To make my purpose clearer I have the string:</p>\n\n<p>'foo bar quux foofoo foobar fooquux barfoo barbar barquux ' . <br>\n'quuxfoo quuxbar quuxquux [foo] (foo) {foo} foofoo barfoo ' . <br>\n'quuxfoo foo2foo foo2bar foo2quux foo2foo bar2foo quux2foo' <br></p>\n\n<p>and I want to find all words with 'foo' inside (only once per word) but not those with special characters (non alpha) like \"[foo]\", \"{foo}\"...</p>\n\n<p>I have done this with the following piece of code in Perl:</p>\n\n<pre><code>my $s=\n'foo bar quux foofoo foobar fooquux barfoo barbar barquux quuxfoo quuxbar quuxquux ' .\n'[foo] (foo) {foo} foofoo barfoo quuxfoo foo2foo foo2bar foo2quux foo2foo bar2foo quux2foo';\nmy @m = ($s=~/(\\w+foo|foo\\w+|^foo|foo$)/g) ;\nsay \"@m\";\nsay \"Number of sub-strings matching the pattern: \", scalar @m;\nprint( sprintf(\"%02d: \",$_),\n       ($s=~/(\\w+foo|foo\\w+|^foo|foo$)/g)[$_],\n       qq(\\n) )\n    for (0..@m-1);\n</code></pre>\n\n<p>I get the result I want:</p>\n\n<pre><code>foo foofoo foobar fooquux barfoo quuxfoo foofoo barfoo quuxfoo foo2foo foo2bar foo2quux foo2foo bar2foo quux2foo\nNumber of sub-strings matching the pattern: 15 \n00: foo\n01: foofoo\n02: foobar\n03: fooquux\n04: barfoo\n05: quuxfoo\n06: foofoo\n07: barfoo\n08: quuxfoo\n09: foo2foo\n10: foo2bar\n11: foo2quux\n12: foo2foo\n13: bar2foo\n14: quux2foo\n</code></pre>\n\n<p>But if I need (and I will) to add more patterns to search for in a more complex string it quickly becomes messy and I get confused with the succession of alternate patterns ('|').</p>\n\n<p>Is there is someone to help me writing a shorter/cleaner pattern regexp to delimit the 'foo' (or any other) word/sub-word in a way that it could be written in one single pattern?</p>\n\n<p>Thank you in advance.</p>\n\n<p>GM</p>\n\n<p>Strawberry 5.022 on W7/64, but I think it's fairly generic to any Perl above 5.016 or even 5.008;</p>\n\n<hr>\n\n<p>I found the solution of <b>dawg</b> (and <b>steffen</b> too) suitable for me. Not the most readable, the grep one is more in accordance with my level of Perl, but I think, as pure regexp based, more able to handle future add of words with <i>word limits\nhandling</i>.</p>\n\n<pre><code>$s=~/(?:(?&lt;=\\h)|^)(\\w*foo\\w*)(?=\\h|$)/g\n\n\n(?:(?&lt;=\\h)|^)  Assert either after a \\h (horizontal space) or at start of line ^\n(\\w*foo\\w*)    Capture a 'word' with 'foo' and only \\w characters (or, [a-zA-Z0-9_] characters)\n(?=\\h|$)       Assert before either a \\h horizontal space or end of line $\n</code></pre>\n\n<p>I would like to write here down what I understood of it so that you can correct me if I'm wrong before I intend to expand it for my actual needs.</p>\n\n<pre><code>(?:         # You start a non capturing group.\n(?&lt;=        # You start a lookbehind (so non capturing BY NATURE, am I right ?, because\n            # if not, as it is being enclosed in round-brackets '()' it restarts to be\n            # capturing even inside a non capturing group, isn't it?)\n \\h         # In the lookbehind you look for an horizontal space (could \\s have been used\n            # there?)\n ^          # in the non capturing group but outside of the lookbehind you look for the\n            # start of string anchor. Must not be present in the lookbehind group because\n            # it requires a same length pattern size and ^ has length==0 while \\h is\n            # non zero.\n\\w*foo\\w*   # You look for foo within an alphanum word. No pb to have '*' rather than '+'\n            # because your left (and right, that we'll see it down) bound has been well\n            # restricted.\n(?=         # You start a lookforward pattern (non capturing by nature here again, right?),\n            # to look for:\n\\h or $     # horiz space or end of string anchor. However the lookaround size is\n            # different here as $ is still 0 length (as ^ anchor) and \\h still non\n            # zero. \"AND YET IT MOVES\" (I tested your regexp and it worked) because\n            # only the lookbehind has the 'same-size' pattern restriction, right?\n</code></pre>\n\n<p>Thank you for your help, all of you, after that last point I won't bother you any longer with my little problems and consider my question fully answered.\nG.</p>\n"}, {"tags": ["perl", "package", "cpan"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1539268640, "post_id": 52762701, "comment_id": 92448544, "body": "There are plenty of examples on CPAN. It&#39;s all just code. You can read it right there. Feel free to take a peak. :)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1539268647, "post_id": 52762701, "comment_id": 92448546, "body": "<a href=\"https://metacpan.org/source/LEEJO/CGI-4.40/lib/CGI.pm#L464\" rel=\"nofollow noreferrer\">metacpan.org/source/LEEJO/CGI-4.40/lib/CGI.pm#L464</a>"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1539268892, "post_id": 52762701, "comment_id": 92448717, "body": "Ideally you don&#39;t. Make one package that is OO, and a second package that exports the OO module in a functional style, like <code>Object::Import</code> ( <a href=\"https://metacpan.org/pod/Object::Import\" rel=\"nofollow noreferrer\">metacpan.org/pod/Object::Import</a> )."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1539270260, "post_id": 52762701, "comment_id": 92449647, "body": "@choroba blargh :D"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 2, "creation_date": 1539270770, "post_id": 52762701, "comment_id": 92449982, "body": "The question you are asking is how to allow a procedural style user interface to co-exist in a module alongside an object oriented style interface.  Functional programming is a completely different paradigm."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1539269973, "post_id": 52763057, "comment_id": 92449481, "body": "@simbabque No. That&#39;s a very good point. Completely overlooked that. I&#39;ll update the answer with that statement."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1539300408, "post_id": 52763057, "comment_id": 92462841, "body": "Just replace <code>shift if @_ &gt; 1;</code> with <code>my $self = @_ &gt; 1 ? shift : get_global_object();</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539300523, "post_id": 52763057, "comment_id": 92462862, "body": "@ikegami Thanks, as always. That&#39;s really nice!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539300664, "post_id": 52763057, "comment_id": 92462887, "body": "This approach prevents variable-length argument lists. I think I&#39;d miss that. One could instead inspect the first argument (e.g. like CGI.pm does)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539300960, "post_id": 52763057, "comment_id": 92462948, "body": "@ikegami Yep, it does. This is pretty much a pass-args-to-C-and-forget though, and to be honest, was one of my first real C library wrappers that I&#39;ve done. Because it&#39;s been stable a couple years or so, I haven&#39;t revisited (I have however delved deep into perlxs, perlguts and perlcall since then, so this may be a good time to make this code a bit more dynamic)."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1539270023, "last_edit_date": 1539270023, "creation_date": 1539269408, "answer_id": 52763057, "question_id": 52762701, "link": "https://stackoverflow.com/questions/52762701/make-package-both-functional-and-oo/52763057#52763057", "title": "Make package both Functional and OO", "body": "<p>My <a href=\"https://metacpan.org/pod/WiringPi::API\" rel=\"nofollow noreferrer\">WiringPi::API</a> distribution is written in such a way. Note that in this case here, there's no state saving required, so if keeping state is a necessity, this way of doing it won't work as-is.</p>\n\n<p>You can use it functionally:</p>\n\n<pre><code>use WiringPi::API qw(:all)\n\nsetup_gpio();\n...\n</code></pre>\n\n<p>Or use its Object Oriented interface:</p>\n\n<pre><code>use WiringPi::API;\n\nmy $api = WiringPi::API-&gt;new;\n$api-&gt;setup_gpio();\n...\n</code></pre>\n\n<p>For functional, I use <code>@EXPORT_OK</code>, so that the user's namespace isn't polluted unnecessarily:</p>\n\n<pre><code>our @EXPORT_OK;\n\n@EXPORT_OK = (@wpi_c_functions, @wpi_perl_functions);\nour %EXPORT_TAGS;\n\n$EXPORT_TAGS{wiringPi} = [@wpi_c_functions];\n$EXPORT_TAGS{perl} = [@wpi_perl_functions];\n$EXPORT_TAGS{all} = [@wpi_c_functions, @wpi_perl_functions];\n</code></pre>\n\n<p>...and a few example functions/methods. Essentially, we check the number of parameters coming in, and if there's an extra one (which would be the class/object), we manually just <code>shift</code> it out:</p>\n\n<pre><code>sub serial_open {\n    shift if @_ &gt; 2;\n    my ($dev_ptr, $baud) = @_;\n    my $fd = serialOpen($dev_ptr, $baud);\n    die \"could not open serial device $dev_ptr\\n\" if $fd == -1;\n    return $fd;\n}\nsub serial_close {\n    shift if @_ &gt; 1;\n    my ($fd) = @_;\n    serialClose($fd);\n}\nsub serial_flush {\n    shift if @_ &gt; 1;\n    my ($fd) = @_;\n    serialFlush($fd);\n}\n</code></pre>\n\n<p>Typically I would do some parameter checking to ensure that we're shifting off the correct thing, but in testing, it was faster to allow the back end C/XS code worry about that for me.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539368624, "post_id": 52765665, "comment_id": 92491602, "body": "As for &quot;<i>indistinguishable from the subroutine itself</i>&quot; -- correct, but no method expects its own object as an argument (it&#39;s already got it);  that example use is unreasonable (or, nearly impossible).  I agree that this is a cleaner and safer approach.  But you don&#39;t show an implementation (only use example from known modules) -- it isn&#39;t so clean and trouble free, which is why I think we have this question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539373518, "post_id": 52765665, "comment_id": 92493609, "body": "That example is <i>wrong</i>. I don&#39;t mean to assault your post but this matters. The equivalent of <code>$obj-&gt;func(&#39;foo&#39;)</code> is the call <code>func(&#39;foo&#39;)</code>, and not the one you show, <code>func($obj, &#39;foo&#39;)</code>. That one is just an error, wrong use of a function. Perhaps you mean to raise the question of how <i>an error</i> plays out?  But those are open seas -- one can always break code with wrong input (normally trivial if you know the source)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539375020, "post_id": 52765665, "comment_id": 92494159, "body": "@zdim You seem to have misinterpreted. From the perspective of the subroutine, <code>$obj-&gt;func(&#39;foo&#39;)</code> and <code>func($obj, &#39;foo&#39;)</code> result in the exact same contents of <code>@_</code> (though the first one may end up calling a different class due to method dispatch)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539375434, "post_id": 52765665, "comment_id": 92494300, "body": "Hang on -- that sub call to <code>func()</code> is an outright error.  If the method <code>func</code> expects <code>&#39;foo&#39;</code> as its first argument then the function <code>func</code> in the same module must expect <code>&#39;foo&#39;</code> as its first argument.  Call <code>func($obj, &#39;foo&#39;)</code> is an error.  If you consider that first argument to possibly be an object, of some other class, then that can easily be correctly dispatched as a function call (see my answer)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539375510, "post_id": 52765665, "comment_id": 92494328, "body": "@zdim I am talking about the implementation of Perl, not a specific subroutine&#39;s API."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539375657, "post_id": 52765665, "comment_id": 92494390, "body": "I understand.  But in a class that we are talking about one <i>cannot</i> have such a sub call (ie, it is a direct error) since the code for method <code>func</code> and sub <code>func</code> is the same.  Since it is legal code for the interpreter (and cannot be disambiguated), as you cay, I did accept raising it as a question of how an error is handled."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539376062, "post_id": 52765665, "comment_id": 92494532, "body": "@zdim this statement was not supposed to be specific to how you might implement this, that was discussed on your answer. Let me put it this way. You write a subroutine that takes one optional string argument. <code>@_</code> contains a Path::Tiny object. Was it called as a method? <code>@_</code> contains your class name. Was it called as a method? There is no (sensible) way to programmatically distinguish if it was invoked as <code>Class-&gt;foo</code> or <code>foo(&#39;Class&#39;)</code> once the sub has been called and those are the contents of <code>@_</code>, so you can only guess, it might even be a good guess."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539376359, "post_id": 52765665, "comment_id": 92494637, "body": "Again, (I think that) I get what you mean. (1) passing a <code>Path::Tiny</code> to a function results in the function call, correctly (2) My point: calling <code>foo(&#39;Class&#39;)</code> <i>is an error</i>.  It is equivalent to <code>Class-&gt;foo(&#39;Class&#39;)</code> which makes no sense.  (If it were in <i>another</i> hierarchy then it is taken as a function call, correctly). And it does matter that it is in this particular API since it <i>must</i> be an error in it. So: yes, it cannot be distinguished but it is an error. So it belongs to a different discussion (which is definitely legitimate and worthy), not as a generic failure of some approach."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539376764, "post_id": 52765665, "comment_id": 92494782, "body": "@zdim How do you know &#39;Class&#39; makes no sense as the first argument? Do I need to construct a whole hypothetical package where class names, or objects of that class, are common arguments? Regardless, it&#39;s an optional argument; calling the method with no argument on <code>Class</code> results in the exact same <code>@_</code> as <code>foo(&#39;Class&#39;)</code>. So if you say this must be an error, you can only disallow both, this is the limitation I am referring to."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539377740, "post_id": 52765665, "comment_id": 92495125, "body": "Alright, slowly since there is an agreement mixed with other.  Let me start from the <i>method</i> syntax: For <code>Class-&gt;func()</code> the correct call is <code>func()</code>; for <code>Class-&gt;func(&#39;Class&#39;)</code> the call is <code>func(&#39;Class&#39;)</code>. So once <code>func(&#39;Class&#39;)</code> is seen it gets dispatched to a (non-existent) <code>-&gt;func()</code>, incorrectly. This is a limitation, related to an unreasonable (while possible) use that I referred to in my first comment here.  It implies that a method takes an obj/class, not caring <i>which</i> it is and allowing its own."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539377783, "post_id": 52765665, "comment_id": 92495144, "body": "... I think that the statement in the post I commented on doesn&#39;t clearly identify the point. The CGI you mention did quite well for being &quot;<i>a mess</i>&quot; (and I don&#39;t see that @choroba meant his link as criticism?)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1539378776, "post_id": 52765665, "comment_id": 92495510, "body": "Another point.  Imagine I write a method that takes an obj/class, and it doesn&#39;t care which it is (so, it&#39;s not meant to be <code>Path::Tiny</code> but it&#39;s <i>meant to be</i> any).  Whoa, what does <i>that</i> method do?  Well, perhaps something quite meaningful.  Now ... it is precisely <i>me</i> who is going to write that function interface (or, the person who does will be well aware of what the method does).  So I <i>will not</i> provide a function call for that involved method. Or, for it, I&#39;ll provide it as a separate name and rules.  My point: this is really a subtle, I&#39;d say fringe, &quot;limitation.&quot;"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1539279638, "last_edit_date": 1539279638, "creation_date": 1539278130, "answer_id": 52765665, "question_id": 52762701, "link": "https://stackoverflow.com/questions/52762701/make-package-both-functional-and-oo/52765665#52765665", "title": "Make package both Functional and OO", "body": "<p>A core example is <a href=\"https://perldoc.pl/File::Spec\" rel=\"nofollow noreferrer\">File::Spec</a>, which has a <a href=\"https://perldoc.pl/File::Spec::Functions\" rel=\"nofollow noreferrer\">File::Spec::Functions</a> wrapper. It's not so much object oriented but it does use the object oriented principle of inheritance, so its main API uses method calls, but it doesn't need to keep any state.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Spec;\nuse File::Spec::Functions 'catfile';\n\nprint File::Spec-&gt;catfile('/', 'foo', 'bar');\nprint catfile '/', 'foo', 'bar';\n</code></pre>\n\n<p>Another example is <a href=\"https://metacpan.org/pod/Sereal\" rel=\"nofollow noreferrer\">Sereal</a>, whose encoder and decoder can be used both as objects or via exported functions which wrap them.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Sereal::Encoder 'encode_sereal';\n\nmy $data = {foo =&gt; 'bar'};\n\nmy $encoded = Sereal::Encoder-&gt;new-&gt;encode($data);\nmy $encoded = encode_sereal $data;\n</code></pre>\n\n<p>Sereal aside, it's usually good organizational practice to keep your object classes and your exporting modules separate. Especially don't try to have the same function be callable as a method or an exported function; the primary issue is that it's indistinguishable from the subroutine itself whether it was called as <code>$obj-&gt;function('foo')</code> or <code>function($obj, 'foo')</code>. As @choroba noted, <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow noreferrer\">CGI.pm</a> tries to do this and it's a mess.</p>\n"}, {"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539291950, "post_id": 52768578, "comment_id": 92460520, "body": "There are two problems with your &quot;method detection&quot; (which are shared by the unfortunate CGI.pm code): it doesn&#39;t respect inheritance, so it will break for subclasses; and it will assume you called it as a method if you pass an object as the first argument when calling it as a function, even if it&#39;s something like a Path::Tiny object which is commonly used as a string."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539292044, "post_id": 52768578, "comment_id": 92460563, "body": "@Grinnz  Um, I thought the opposite (so excluded the call to <code>isa</code> --- see text) ... let me check ..."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539292239, "post_id": 52768578, "comment_id": 92460641, "body": "Not just that call to <code>isa</code>, but you also need to use <code>isa</code> rather than <code>eq</code> to check if it&#39;s a class name when it&#39;s not a ref, in order to allow the class method call on subclasses (e.g. <code>Subclass-&gt;f1</code>). It also needs to return an instance of $self or the class that $self is blessed into, rather than <code>__PACKAGE__</code>. All this work, and it still will also break when you do something perfectly valid like <code>my $sub = Class-&gt;can(&#39;f1&#39;); OtherClass-&gt;$sub</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539292243, "post_id": 52768578, "comment_id": 92460643, "body": "@Grinnz Well, no, when called with a wrong class&#39;s object it gets redirected to the normal method resolution, like in any straight-up class.  Perhaps I&#39;m not see things straight?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539292435, "post_id": 52768578, "comment_id": 92460724, "body": "@Grinnz The comment on the class-method call is good, of course; there is more work to do. It&#39;s meant as an illustration but maybe I pushed it too far.  Will review and add further commentary..."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539292494, "post_id": 52768578, "comment_id": 92460751, "body": "I think it&#39;s good to explore why it&#39;s a bad idea to do this :)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539292964, "post_id": 52768578, "comment_id": 92460918, "body": "in response to &quot;when called with a wrong class&#39;s object&quot; - the point is that when you call the function and pass a Path::Tiny object as the first argument expecting it to be used as a string, you probably weren&#39;t planning on it thinking that you called the method <i>on the Path::Tiny object</i>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539293238, "post_id": 52768578, "comment_id": 92461031, "body": "@Grinnz  Ah, that&#39;s what escaped, right.  I&#39;ll review and perhaps take care of these (busy right now) ... it was meant only as an illustration.  I added a comment for now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539323224, "post_id": 52768578, "comment_id": 92467885, "body": "@Grinnz Completed edit with tests, I see no issues. Thanks for comments, it pushed me to complete the post."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539363611, "post_id": 52768578, "comment_id": 92489420, "body": "My example <code>my $sub = Class-&gt;can(&#39;f1&#39;); OtherClass-&gt;$sub</code> was meant to display usage with an unrelated class, and you may discover there is no way to both prevent ambiguity with passing unrelated objects as the first argument, and support this paradigm. Not to mention maybe it&#39;s a function where passing the package&#39;s class name as the first argument is valid usage! Your code is as close as you can get but it&#39;s still introducing logic that breaks expectations in certain cases, and there&#39;s no way to disambiguate it in a foolproof manner."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539366908, "post_id": 52768578, "comment_id": 92490878, "body": "@Grinnz  But that would be a direct error, which can break just about anything.  Of course that there is no way to disambiguate -- no normal subroutine can handle that, and some will pop while some will carry on merrily.  How can one expect any sub to handle an arbitrary wrong input?  Besides, I can break established and good modules with <code>can</code>. That&#39;s a thorough test, and this behaves well <i>with correct input</i>.  I agree that it is not the best way, as I stated clearly -- but for reasons of style and design."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539366969, "post_id": 52768578, "comment_id": 92490908, "body": "@Grinnz Or are you saying that you expect to be able to pull code for a method from one class and run it as a class method <i>by another class</i>?  That&#39;d be horrible code, from which I wouldn&#39;t expect correct behavior in general. (I mean for any class, not this one.)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539367351, "post_id": 52768578, "comment_id": 92491059, "body": "It&#39;s not a common case, but there is an expectation that it will behave as a method, at least. <code>$some_obj-&gt;Mojo::Base::tap(sub { ... })</code> is perfectly valid because the <code>tap</code> method doesn&#39;t care what it is invoked on."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539367621, "post_id": 52768578, "comment_id": 92491161, "body": "My other point is more likely to come up: you might pass $input to the function, and at some point, that $input could be &#39;SomeClassThatInheritsYours&#39;. I&#39;m just trying to point out that you can handle 99% of cases but it is impossible to prevent bugs in this approach."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539368222, "post_id": 52768578, "comment_id": 92491414, "body": "@Grinnz Well, hang on.  (1) What&#39;s that <code>tap</code> method? In general methods and subs very much care what their input is (2) So you are saying that if I call it as a function but pass an object/class_name of a derived  class, it gets dispatched as a class/method call, which wasn&#39;t intended? That&#39;s correct, but again it&#39;s a <i>kind of use</i> with which I can break anything.  It&#39;s unreasonable. This is a (different) interface to a method code and one is fine to expect reasonable usage patterns."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539368247, "post_id": 52768578, "comment_id": 92491432, "body": "@Grinnz Sure, it&#39;s not bullet-proof in any sense; I stated that prominently, right before the code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539368998, "post_id": 52768578, "comment_id": 92491788, "body": "@Grinnz No approach to any kind of acrobatics with OO is bullet-proof. Nearly any module can be made to misbehave with precisely crafted input.  The question is whether that input is (at least somewhat) reasonable to expect in intended use."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539374915, "post_id": 52768578, "comment_id": 92494120, "body": "To put it even simpler: you don&#39;t have to jump through any of these hoops, and don&#39;t have any of these bugs by default, if you avoid sharing methods and functions entirely."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539375174, "post_id": 52768578, "comment_id": 92494204, "body": "@Grinnz Heh, mixed good words and qualifications I object to :) -- (1) it&#39;s not much hoop jumping, one <code>if</code> statement to dispatch (2) What bugs? We talked above, I disagree that there are &quot;bugs&quot; -- there is a question of how <i>wrong use</i> (ie, outright errors) is handled, and that is valid; but it&#39;s not a bug (3) I agree that it is better to separate, as I state clearly at multiple places in the post (and in these comments)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539375342, "post_id": 52768578, "comment_id": 92494262, "body": "The hoop-jumping of getting the code right which took you a few iterations (&quot;one if statement&quot; that pretty much every implementation on CPAN gets wrong), avoiding the bugs such as your original code had, and the ones that remain which you disagree are bugs."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539375974, "post_id": 52768578, "comment_id": 92494493, "body": "@Grinnz Correct, it took a few iterations and that&#39;s not desirable (if I were writing it as production code and not as an illustration in a typically hard-to-gauge SO post it wouldn&#39;t have).  As for what &quot;remains,&quot; I agree that there is an ambiguity that affects <i>error handling</i>, and this is an issue. However, I do disagree that that is a bug -- or, half of CPAN has such bugs (perhaps lesser).  However, I will think more about it; maybe I <i>am</i> not gauging it right."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539376024, "post_id": 52768578, "comment_id": 92494514, "body": "@Grinnz  Above all, thank you for comments and this discussion.  Who knows whether I would have fixed and completed it otherwise.  I normally <i>do not</i> resort to these kinds of things in my code. If it&#39;s a class it&#39;s a class."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1587106259, "last_edit_date": 1587106259, "creation_date": 1539290288, "answer_id": 52768578, "question_id": 52762701, "link": "https://stackoverflow.com/questions/52762701/make-package-both-functional-and-oo/52768578#52768578", "title": "Make package both Functional and OO", "body": "<p>As stated, there are a number of modules that do this and some have been named. A good practice is to write a separate module for the functional interface, that <code>use</code>s the class and exports its (select) functions. </p>\n\n<p>But it is quite possible to have both interfaces in one package, with same method/function names, if there is a specific need for that. See the section at the end for one <em>very</em> specific and rare use case that wouldn't be handled by the following basic example, and for how to resolve it.</p>\n\n<p>Here is a basic package that has both interfaces</p>\n\n<pre><code>package Duplicious;  # having interfaces to two paradigms may be confusing\n\nuse warnings;\nuse strict;\nuse feature 'say';\n\nuse Scalar::Util qw(blessed);    \nuse Exporter qw(import);\n\nour @EXPORT_OK = qw(f1);\n\nmy $obj_cache;  # so repeated function calls don't run constructor\n\nsub new {\n    my ($class, %args) = @_; \n    return bless { }, $class;\n}\n\nsub f1 {\n    say \"\\targs in f1: \", join ', ', @_;  # see how we are called\n\n    my $self = shift;\n    # Functional interface\n    # (first argument not object or class name in this or derived class)\n    if ( not ( (blessed($self) and $self-&gt;isa(__PACKAGE__)) \n            or (not ref $self  and $self-&gt;isa(__PACKAGE__)) ) )\n    { \n        return ($obj_cache || __PACKAGE__-&gt;new)-&gt;f1($self, @_);\n    }   \n\n    # Now method definition goes\n    # ...\n    return 23;\n}\n\n1;\n</code></pre>\n\n<p>The caller</p>\n\n<pre><code>use warnings;            # DEMO only --\nuse strict;              # Please don't mix uses in the same program\nuse feature 'say';\n\nuse Duplicious qw(f1);\n\nmy $obj = Duplicious-&gt;new;\n\nsay \"Call as class method: \";\nDuplicious-&gt;f1(\"called as class method\");\n\nsay \"Call as method:\";\nmy $ret_meth = $obj-&gt;f1({}, \"called as method\");\n\nsay \"\\nCall as function:\";\nmy $ret_func = f1({}, \"called as function\");\n</code></pre>\n\n<p>Output</p>\n\n<pre>\nCall as class method: \n    args in f1: Duplicious, called as class method\nCall as method:\n    args in f1: Duplicious=HASH(0x21b1b48), HASH(0x21a8738), called as method\nCall as function:\n    args in f1: HASH(0x21a8720), called as function\n    args in f1: Duplicious=HASH(0x218ba68), HASH(0x21a8720), called as function\n</pre>\n\n<p>The function call dispatches to the method, thus two lines (note arguments).</p>\n\n<p>I find it in principle awkward to use <code>Exporter</code> in a module that defines a class (but I am not aware of any actual problems with doing it); it results in a potentially confusing interface.  This on its own is a good reason to separate interfaces so that the functional one <em>has to</em> load a specific module.</p>\n\n<p>There is also one detail that requires attention. The method call</p>\n\n<pre><code>($obj_cache || __PACKAGE__-&gt;new)-&gt;f1(...)\n</code></pre>\n\n<p>uses the cached <code>$obj_cache</code> (if this sub has been called already) to make the call. Thus the object's state is kept, that may or not have been manipulated in the previous calls to <code>f1</code>. </p>\n\n<p>That is rather non-trivial in a call meant to be used in a non object-oriented context and should be carefully investigated.  If there are issues just drop that cacheing or expand it into a full <code>if</code> statement where the state can be reset as needed. </p>\n\n<p>These two uses should absolutely <em>not</em> be mixed in the same program.</p>\n\n<hr>\n\n<p>To test with a derived class I use the minimal</p>\n\n<pre><code>package NextDupl;\n\nuse warnings;\nuse strict;\nuse feature 'say';\n\nuse parent 'Duplicious';\n\n1;\n</code></pre>\n\n<p>and add to the main program above the following</p>\n\n<pre><code># Test with a subclass (derived, inherited class)\nmy $inh = NextDupl-&gt;new;\n\nsay \"\\nCall as method of derived class\";\n$inh-&gt;f1(\"called as method of derived class\");\n\n# Retrieve with UNIVERSAL::can() from parent to use by subclass    \nmy $rc_orig = Duplicious-&gt;can('f1');\n\nsay \"\\nCall via coderef pulled from parent, by derived class\";\nNextDupl-&gt;$rc_orig(\"called via coderef of parent by derived class\");\n</code></pre>\n\n<p>The additional output is</p>\n\n<pre>\nCall as method of derived class\n    args in f1: NextDupl=HASH(0x11ac720), called as method of derived class\n\nCall via coderef pulled from parent, by derived class\n    args in f1: NextDupl, called via coderef of parent by derived clas\n</pre>\n\n<p>This incorporates a test using <code>UNIVERSAL::can</code>, as it came up in a comment.</p>\n\n<hr>\n\n<p>There is one specific limitation (that I am aware of), raised and discussed in comments.</p>\n\n<p>Imagine that we write a method that takes an object (or a class name) as its first argument, so to be invoked as <code>-&gt;func($obj)</code>; further &ndash; and this is what matters &ndash; this method allows <em>any</em> class as it works in a way that doesn't care what class it has. This would be very particular, but it is possible and it raises the following problem.  </p>\n\n<p>The function call corresponding to this method would be <code>func($obj)</code>, and when <code>$obj</code> happens to be in the hierarchy of this class that would result in the method call <code>-&gt;func()</code>, <em>incorrectly</em>.</p>\n\n<p>There is no way to disambiguate this in the code that decides on whether \nit's called as a function or as a method, since all it does is it looks at the first argument. If it's an object/class in our own hierarchy it decides that this was a method call on that object (or a class method call), and in this particular case that is wrong.</p>\n\n<p>There are two simple ways, and possibly another one, for the module's author to settle this </p>\n\n<ul>\n<li><p>Do not provide the functional interface for this highly specific method</p></li>\n<li><p>Give it a separate (clearly related) name</p></li>\n<li><p>The <code>if</code> condition that decides how we are called, by checking the first argument, is canned but still written for every method that has that interface. So in this method check one more argument: if the first one is object/class of this class <em>and</em> the next is (any) object/class then it's a method call. <em>This does not work if that second argument is optional.</em></p></li>\n</ul>\n\n<p>All this is completely reasonable.  In a class that exercises its defining trait, to have and use data (\"attributes\"), there will likely be methods that cannot be translated into function calls. This is because a single program should only use <em>one</em> interface, and with functions there is no state so methods that rely on it won't fly. (Use of a cached object for this is highly treacherous.)</p>\n\n<p>So one will always have to decide carefully about the interface, and to pick and choose.</p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/5848200/grinnz\">Grinnz</a> for comments. </p>\n\n<hr>\n\n<p>Note that there is a completely different paradigm of \"functional programming,\" and the title leaves that a little unclear. All this is about the functional interface in a procedural approach.</p>\n"}], "owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1587106259, "creation_date": 1539268390, "last_edit_date": 1539268579, "question_id": 52762701, "link": "https://stackoverflow.com/questions/52762701/make-package-both-functional-and-oo", "title": "Make package both Functional and OO", "body": "<p>I've seen CPAN Perl modules that can be used in a functional or OO way. I usually write OO and Functional packages depending on what I need, but I'm still not how write modules that can used both ways.</p>\n\n<p>Could somebody give me a simple example of a package that can be used in functional and/or OO way? I'm obviously interested in the pieces that allows the package be used both ways.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["shell", "perl", "process", "signals", "alarm"], "comments": [{"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1539266081, "post_id": 52761724, "comment_id": 92446610, "body": "Perl&#39;s built-in alarm/$SIG{ALRM} functionality.  This function, and its associated signal handler, allow you to arrange for your program to receive a SIGALRM signal, which you can then catch and deal with appropriately. An usefull example here <a href=\"https://docstore.mik.ua/orelly/weblinux2/modperl/ch06_10.htm\" rel=\"nofollow noreferrer\">docstore.mik.ua/orelly/weblinux2/modperl/ch06_10.htm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "edited": false, "score": 0, "creation_date": 1539269780, "post_id": 52762002, "comment_id": 92449352, "body": "Is there any Pythonic equivalent to do the same task ?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "edited": false, "score": 0, "creation_date": 1539269845, "post_id": 52762002, "comment_id": 92449398, "body": "Have you tried Google? Googling for <code>python signal handler</code> gives me <a href=\"https://docs.python.org/2/library/signal.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/signal.html</a> - what is problematic with that library?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "edited": false, "score": 2, "creation_date": 1539269980, "post_id": 52762002, "comment_id": 92449484, "body": "Also, if porting programs from one programming language to another, it would be good to know at least one of them. You don&#39;t seem to know either Perl or Python, so maybe ask one of your colleagues for help."}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "reply_to_user": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "edited": false, "score": 1, "creation_date": 1539275001, "post_id": 52762002, "comment_id": 92452322, "body": "@anudeep The pythonic way to handle task timeouts is with <a href=\"https://docs.python.org/3/library/asyncio-task.html\" rel=\"nofollow noreferrer\">async/await</a>, but if you don&#39;t know them, just use <code>signal</code>."}, {"owner": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "edited": false, "score": 0, "creation_date": 1539354835, "post_id": 52762002, "comment_id": 92484903, "body": "Considering the that there is another function <code>spawn</code>, what is the following thing going to do?  <code>$SIG{&#39;ALRM&#39;} = \\&amp;sigalrm_handler;  alarm 50;  shift @ARGV;  $proc = spawn (@ARGV);  wait;  exit ($?);</code>  It is going to wait for 50 seconds for what? What is it expecting to happen from that code which blows the alarm? Updated code in the question."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539355458, "post_id": 52762002, "comment_id": 92485311, "body": "Maybe now is a good time to learn about the alarm() syscall - <a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/alarm.html</a> ? I already linked you to it, so maybe read the link in my answer and ask a new question about how alarm() can be used in conjunction with some <code>spawn()</code> subroutine you don&#39;t declare?"}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 6, "last_activity_date": 1539269920, "last_edit_date": 1539269920, "creation_date": 1539266426, "answer_id": 52762002, "question_id": 52761724, "link": "https://stackoverflow.com/questions/52761724/what-does-sigalrm-do-in-perl/52762002#52762002", "title": "What does $SIG{&#39;ALRM&#39;} do in Perl", "body": "<p>The <code>%SIG</code> hash sets up signal handlers for Unix signals. The signal handlers will be called when the kernel sends a signal to the Perl process.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\">alarm</a> function instructs the kernel to send a signal after <em>n</em> seconds. The <code>$SIG{ALRM}</code> handler will then be invoked and do its thing.</p>\n\n<p>In your specific case, the signal handler will print <code>Timeout: Timeout Error Occured.</code> , kill the PID stored in <code>$proc</code> and then exit the program.</p>\n\n<p>A Python equivalent might be <a href=\"https://docs.python.org/2/library/signal.html\" rel=\"nofollow noreferrer\">signal</a> or <a href=\"https://docs.python.org/3/library/signal.html\" rel=\"nofollow noreferrer\">signal</a> for Python 3.</p>\n"}], "owner": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1813, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539354949, "creation_date": 1539265639, "last_edit_date": 1539354949, "question_id": 52761724, "link": "https://stackoverflow.com/questions/52761724/what-does-sigalrm-do-in-perl", "title": "What does $SIG{&#39;ALRM&#39;} do in Perl", "body": "<p>I'm really new to <strong>shell scripting</strong> and <strong>Perl</strong> and trying to convert a <strong>Perl</strong> script to <strong>Python</strong> script.</p>\n\n<p>I came across a the below code snippet which I didn't clearly understand.</p>\n\n<pre><code>sub sigalrm_handler\n{\n  printf (STDOUT \"Timeout: Timeout Error Occured.\\n\");\n  kill (1, $proc);\n  exit (1);\n}\n\nsub main\n{\n  ...\n  ...\n    $SIG{'ALRM'} = \\&amp;sigalrm_handler;\n    alarm ($ARGV[0]);\n    shift @ARGV;\n\n    $proc = spawn (@ARGV);\n    wait;\n    exit ($?);\n  ...\n  ...\n}\nmain ()\n</code></pre>\n\n<p>What is this <code>$SIG{'ALRM'}</code> command going to do? Is it some kind of special keyword in Python.</p>\n\n<p>I have seen lots of sources where <code>$SIGALRM</code> is being used but didn't find any source where they mentioned why it is being used like <code>$SIGALRM</code> only why not other name. </p>\n\n<p>What does this <code>$SIG{'ALRM'}</code>'s value going to be after that assignment?</p>\n\n<p>Can anyone help me understand this code?</p>\n"}, {"tags": ["perl", "perl-module", "bugzilla"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539267211, "post_id": 52761405, "comment_id": 92447474, "body": "Are you really sure that the command was <code>ppm install TimeDate</code> ? Bugzilla is more likely to use <code>DateTime</code> as module, so the command would be <code>ppm install DateTime</code> . Did you inspect the downloaded file whether it is corrupt? Maybe you have a proxy that blocks downloads?"}, {"owner": {"reputation": 461, "user_id": 1197804, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ItT7b.jpg?s=128&g=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/1197804/ssharma"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539267272, "post_id": 52761405, "comment_id": 92447534, "body": "Ya! command is correct."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539267370, "post_id": 52761405, "comment_id": 92447620, "body": "Indeed - [Bugzilla installation instructions](<a href=\"https://bugzilla.readthedocs.io/en/latest/installing/windows.html\" rel=\"nofollow noreferrer\">bugzilla.readthedocs.io/en/latest/installing/w&zwnj;&#8203;indows.html</a> )"}, {"owner": {"reputation": 461, "user_id": 1197804, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ItT7b.jpg?s=128&g=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/1197804/ssharma"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1539323951, "post_id": 52761405, "comment_id": 92468159, "body": "Worked fine after installing gzip and setting the path to environment variables."}], "owner": {"reputation": 461, "user_id": 1197804, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ItT7b.jpg?s=128&g=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/1197804/ssharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539264804, "creation_date": 1539264804, "question_id": 52761405, "link": "https://stackoverflow.com/questions/52761405/ppm-bat-install-failed-cant-uncompress-gz-file", "title": "ppm.bat install failed: Can&#39;t uncompress .gz file", "body": "<p>Getting exception while trying to install below Perl module. I require this module for Bugzilla.</p>\n\n<pre><code>ppm install TimeDate\n</code></pre>\n\n<p>ppm.bat install failed: Can't uncompress C:\\Users\\SATISH~1.SHA\\AppData\\Local/ActiveState/ActivePerl/2404/ppm-MSWin32-x64-multi-thread-5_24.db.gz:</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1539258667, "post_id": 52759257, "comment_id": 92441768, "body": "So, you want to remove duplicate URLs?"}, {"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1539258757, "post_id": 52759257, "comment_id": 92441841, "body": "no i want to ignore them from the start"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539259398, "post_id": 52759257, "comment_id": 92442275, "body": "So you want to remove duplicate URLs from an array?"}, {"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1539259605, "post_id": 52759257, "comment_id": 92442394, "body": "yeah thats what i wanna do"}], "answers": [{"comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1539263791, "post_id": 52760061, "comment_id": 92445041, "body": "It is good style to <i>always</i> include a hashing function in singularization code, even if it simply returns the parameter in the simplest case. It is reusable and easier to find."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1539265534, "post_id": 52760061, "comment_id": 92446186, "body": "I don&#39;t think that a hashing function is good style, so the above answer is quite good."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1539260775, "creation_date": 1539260775, "answer_id": 52760061, "question_id": 52759257, "link": "https://stackoverflow.com/questions/52759257/how-to-not-save-existed-parsed-string-in-file/52760061#52760061", "title": "How to not save existed parsed string in file", "body": "<p>If you're looking to collapse duplicates, a hash is the tool for the job. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %seen; \n\nwhile ( &lt;DATA&gt; ) {\n   print unless $seen{$_}++;\n}\n\n__DATA__\nhttps://facebook.com/hello\nhttp://google.com\nhttps://facebook.com/hello\nhttps://facebook.com/hello\nhttp://google.com\n</code></pre>\n\n<p>Iterates the special <code>DATA</code> filehandle (e.g. inline) so you'd use whatever file of URLs you've opened. And then test to see if the current line is in the <code>%seen</code> hash already - and if it is, skips it. </p>\n\n<p>Doesn't do any sorting though - just prints the first instance.</p>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 0, "last_activity_date": 1539277525, "creation_date": 1539277525, "answer_id": 52765484, "question_id": 52759257, "link": "https://stackoverflow.com/questions/52759257/how-to-not-save-existed-parsed-string-in-file/52765484#52765484", "title": "How to not save existed parsed string in file", "body": "<p>A hash is the best solution for checking for duplicates as you retrieve input. If you already have an array full of strings and want only one of each string, use uniq from <a href=\"https://perldoc.pl/List::Util#uniq\" rel=\"nofollow noreferrer\">List::Util</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util 1.45 'uniq';\nmy @urls = qw(https://facebook.com/hello http://google.com https://facebook.com/hello https://facebook.com/hello http://google.com);\nprint \"$_\\n\" foreach uniq @urls;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>https://facebook.com/hello\nhttp://google.com\n</code></pre>\n"}], "owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539277525, "creation_date": 1539258281, "question_id": 52759257, "link": "https://stackoverflow.com/questions/52759257/how-to-not-save-existed-parsed-string-in-file", "title": "How to not save existed parsed string in file", "body": "<p>I want to parse a single string by using LWP::UserAgent;\nwhat actually I get when I parse strings from Url and saved in file is like</p>\n\n<pre><code>https://facebook.com/hello\nhttp://google.com\nhttps://facebook.com/hello\nhttps://facebook.com/hello\nhttp://google.com\n</code></pre>\n\n<p>is there a way to print just a single string in file like :</p>\n\n<pre><code>https://facebook.com/hello\nhttp://google.com\n</code></pre>\n\n<p>and its more than 1000 string so its absurd to check it manually</p>\n"}, {"tags": ["regex", "perl", "replace", "path", "substitution"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 4, "creation_date": 1539257637, "post_id": 52759019, "comment_id": 92441114, "body": "<code>|</code>s are delimiters for <code>s</code> (substitution) and <code>.*&#47;</code> means anything up to last <code>&#47;</code>. It replaces it with nothing."}, {"owner": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1539258088, "post_id": 52759019, "comment_id": 92441385, "body": "ok ok. Now I got it. :-)"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1539276933, "post_id": 52759490, "comment_id": 92453294, "body": "@z0lupka <code>$0</code> can be set to anything (and thus, <code>__FILE__</code> may be a better choice for certain cases but the use case in the OP is unclear). <code>perl -E&#39;$0 = &quot;foo\\nbar&quot;; say $0&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1539291192, "post_id": 52759490, "comment_id": 92460220, "body": "@Grinnz., <code>__FILE__</code> can be set to anything too via the <code>#line</code> pragma"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1539291633, "post_id": 52759490, "comment_id": 92460397, "body": "@ikegami It would require some black magic to do such without being apparent to the code relying on it (also it&#39;s far less common and usually used to fix <code>__LINE__</code>), whereas <code>$0</code> can be globally altered by anything at any time..."}, {"owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1539331494, "post_id": 52759490, "comment_id": 92471787, "body": "@Grinnz Do you think it makes sense to consider all possible conditions when you write cgi-script with certainly well-defined invocation semantics? And when you are sure that you don&#39;t use such obscene pre-defining like &#39;$0 = &quot;foo\\nbar&quot;;`"}], "tags": [], "owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "is_accepted": false, "score": 1, "last_activity_date": 1539262768, "last_edit_date": 1539262768, "creation_date": 1539259012, "answer_id": 52759490, "question_id": 52759019, "link": "https://stackoverflow.com/questions/52759019/what-does-do-in-perl-regex-substitution/52759490#52759490", "title": "What does |.*/|| do in Perl regex substitution?", "body": "<p>Given that the special variable <code>$0</code> does not contain line feeds - the <code>s|.*/||</code> regexp actually removes <code>.*</code> (everything) before the last (and including last) <code>/</code> from your string. So you can cut the path and keep only the filename (everything <strong>after</strong> the last <code>/</code>).</p>\n\n<p>There are different delimiters for substitution. It can be <code>s///</code> or whatever. Anyway you need to read about the <a href=\"https://docstore.mik.ua/orelly/perl3/lperl/ch09_06.htm\" rel=\"nofollow noreferrer\">perl substitution</a>.</p>\n\n<p>FYI.\nAlso keep in mind, that <code>.*?</code> means <a href=\"https://stackoverflow.com/questions/11898998/how-can-i-write-a-regex-which-matches-non-greedy\">non-greedy regexp</a>. So it will match anything before the first <code>/</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1539278096, "post_id": 52760203, "comment_id": 92453901, "body": "A side comment for the fine answer -- <code>$0</code> won&#39;t give the path but it rather &quot;<a href=\"https://perldoc.perl.org/perlvar.html#%240\" rel=\"nofollow noreferrer\"><i>Contains the name of the program</i></a>.&quot;  (At least, it&#39;s not guaranteed to give the path.)  The problem with it is (I think) that it doesn&#39;t guarantee to return only the name either :)  There&#39;s also <code>FindBin::$RealScript</code>. One of ways in Python is <code>os.path.basename(__file__)</code>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1539261229, "creation_date": 1539261229, "answer_id": 52760203, "question_id": 52759019, "link": "https://stackoverflow.com/questions/52759019/what-does-do-in-perl-regex-substitution/52760203#52760203", "title": "What does |.*/|| do in Perl regex substitution?", "body": "<p>The Perl substitution operator looks like this:</p>\n\n<pre><code>s/PATTERN/STRING/\n</code></pre>\n\n<p>But it's also one of those Perl operators that let you choose your own delimiters. So another way to write that is:</p>\n\n<pre><code>s|PATTERN|STRING|\n</code></pre>\n\n<p>And that's the version that you're seeing here. Your pattern is <code>.*/</code> and the replacement string is empty. So your substitution means \"find as many (non-newline) characters as possible that are followed by a slash and replace them with nothing\". Looking at that alongside the assignment in the line above it (which uses <code>$0</code> - the path of the program) it looks like we have code that removes the directories from the front of a path and just leaves the filename.</p>\n\n<p>That is, if you start with a program name of <code>/usr/local/bin/my_program</code>, then <code>$p</code> will end up just containing <code>my_program</code>.</p>\n\n<p>The better way to write that in Perl is to use the <a href=\"https://metacpan.org/pod/File::Basename\" rel=\"noreferrer\">File::Basename</a> module. I'd be astonished if Python didn't have something similar.</p>\n\n<pre><code>use File::Basename;\n\nmy $p = basename($0);\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 10411651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d234526fd125b27fcf07a5eb1d93db8?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep", "link": "https://stackoverflow.com/users/10411651/anudeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 52760203, "answer_count": 2, "score": 1, "last_activity_date": 1539262768, "creation_date": 1539257510, "question_id": 52759019, "link": "https://stackoverflow.com/questions/52759019/what-does-do-in-perl-regex-substitution", "title": "What does |.*/|| do in Perl regex substitution?", "body": "<p>I'm working on converting Perl cgi script to Python.</p>\n\n<p>Inside the script, I'm came across this below code which I didn't understand.</p>\n\n<p>Help me figure this out.</p>\n\n<pre><code>my $p = $0;\n$p =~ s|.*/||;\n</code></pre>\n\n<p>I understood that <code>my $p = $0;</code> assigns the absolute path+name of the script file to variable <strong>p</strong>. </p>\n\n<p>and the second line is going to perform regex substitution and give only the file name without path.</p>\n\n<p>But what I didn't understand are those <code>|.*/||</code> after <code>s</code>.</p>\n\n<p>I searched many resources but didn't understand what it does.</p>\n\n<p>What are those things actually going to do to give me only the script name?</p>\n"}, {"tags": ["php", "perl", "caching", "memcached", "php-7"], "answers": [{"tags": [], "owner": {"reputation": 299, "user_id": 4704172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R6PkH.png?s=128&g=1", "display_name": "gk.", "link": "https://stackoverflow.com/users/4704172/gk"}, "is_accepted": true, "score": 0, "last_activity_date": 1539855722, "creation_date": 1539855722, "answer_id": 52871261, "question_id": 52756195, "link": "https://stackoverflow.com/questions/52756195/php-memcacheds-payload-failure-error-and-how-to-set-value-in-perl-compatible-to/52871261#52871261", "title": "Php Memcached&#39;s PAYLOAD_FAILURE error and how to set value in perl compatible to php-memcached", "body": "<p>php-memcache and php-memcache<strong>D</strong> are not compatible so this is not possible.</p>\n"}], "owner": {"reputation": 299, "user_id": 4704172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R6PkH.png?s=128&g=1", "display_name": "gk.", "link": "https://stackoverflow.com/users/4704172/gk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 1, "accepted_answer_id": 52871261, "answer_count": 1, "score": 1, "last_activity_date": 1539855722, "creation_date": 1539248572, "last_edit_date": 1592644375, "question_id": 52756195, "link": "https://stackoverflow.com/questions/52756195/php-memcacheds-payload-failure-error-and-how-to-set-value-in-perl-compatible-to", "title": "Php Memcached&#39;s PAYLOAD_FAILURE error and how to set value in perl compatible to php-memcached", "body": "<p>I am trying to <strong>GET</strong> the earlier stored data using PHP's MemcacheD extension but receives Memcached::RES_PAYLOAD_FAILURE saying unable to serialize the data. As per the <a href=\"http://php.net/manual/en/memcached.constants.php\" rel=\"nofollow noreferrer\">official php manual</a>, it appears to be compression or serialization issue.</p>\n<blockquote>\n<p><strong>Memcached::RES_PAYLOAD_FAILURE</strong></p>\n<p>Payload failure: could not compress/decompress or serialize/unserialize the value.</p>\n</blockquote>\n<p>But the given data is a Json value and via Telnet I can get the JSON data</p>\n<p>The data is set using a Perl batch  with <a href=\"https://metacpan.org/pod/Cache::Memcached::Fast\" rel=\"nofollow noreferrer\">Cache::Memcached::Fast</a> , earlier with php memcache it could read but now with php memcached it cannot.</p>\n<p>Regarding the error, as mentioned: <a href=\"http://php.net/manual/en/book.memcached.php#115667\" rel=\"nofollow noreferrer\">on php doc</a> the 2 extensions memcache and memcacheD appears to incompatible when mixing, but I am not sure is the real problem.</p>\n<blockquote>\n<p>You can't safely switch between memcache and memcached without a either a cache flush or isolated cache environments.</p>\n</blockquote>\n<p>So my question is</p>\n<ol>\n<li>Is it really the incompatibility issue between PHP's Memcache and Memcached causing this error?</li>\n<li>If so, for fixing it I am willing to set data from perl but how can I set the data compatible with PHP memcache<strong>d</strong></li>\n</ol>\n<p>Note: Since with PHP7, I cannot use Memcache, I want to do with Memcached.</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 2, "last_activity_date": 1539246207, "creation_date": 1539246207, "answer_id": 52755479, "question_id": 52755144, "link": "https://stackoverflow.com/questions/52755144/make-a-hash-with-two-arrays-a-hash-that-has-a-key-to-array-values/52755479#52755479", "title": "Make a hash with two arrays, a Hash that has a key to array values", "body": "<p>Sounds like you want a hash where the values are arrayrefs holding all the values corresponding to a given key from those two arrays? Something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Tie::IxHash;\n# Install from CPAN or your OS's package manager; not a core module\nuse List::MoreUtils qw/each_array/;\n\ntie my %KEY_VALUE,'Tie::IxHash';    \nmy @KEY = qw(0 0 5 1 1 1 2 2 2 2 3 4);\nmy @VALUE = qw(A B C D E F G H I J K L);\n\nmy $ea = each_array @KEY, @VALUE;\nwhile (my ($k, $v) = $ea-&gt;()) {\n  push @{$KEY_VALUE{$k}}, $v;\n}\n\nwhile (my ($k, $av) = each %KEY_VALUE) {\n  print \"$k @$av \";\n}\nprint \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1539249817, "post_id": 52755482, "comment_id": 92436305, "body": "I read document. However I couldn&#39;t understand this line <code>push @{ $key_value{ $keys[$_] } }, $values[$_] for 0 .. $#keys;</code>. Could you please.."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1539250684, "post_id": 52755482, "comment_id": 92436875, "body": "@ssr1012: <code>$_</code> loops over the range of indices of the @keys and pushes each value into the array corresponding to the key at the same position."}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539264880, "post_id": 52755482, "comment_id": 92445737, "body": "@choroba, thank you, can I know for additional knowledge, can I sort the keys in ascending  numerical order? and can I also sort the values in ascending alphabetical manner for each keys."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539267285, "post_id": 52755482, "comment_id": 92447544, "body": "@DanialHaris: Start a new question if you have a new question. Why are you using IxHash when you want different key order?"}, {"owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "edited": false, "score": 0, "creation_date": 1539307419, "post_id": 52755482, "comment_id": 92464229, "body": "@choroba, because I thought, I need to match the values with its corresponding keys first, then I can sort it. If I sort it earlier, I scared the values and the keys is not tally with each other. Thank you for your suggestion to open a new question."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1539246218, "creation_date": 1539246218, "answer_id": 52755482, "question_id": 52755144, "link": "https://stackoverflow.com/questions/52755144/make-a-hash-with-two-arrays-a-hash-that-has-a-key-to-array-values/52755482#52755482", "title": "Make a hash with two arrays, a Hash that has a key to array values", "body": "<p>Just push the values to an array reference stored under each key. You can't output the structure directly, though.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Tie::IxHash;\n\ntie my %key_value,'Tie::IxHash';\n\nmy @keys   = qw( 0 0 5 1 1 1 2 2 2 2 3 4 );\nmy @values = qw( A B C D E F G H I J K L );\n\npush @{ $key_value{ $keys[$_] } }, $values[$_] for 0 .. $#keys;\n\nprint join ' ', map \"$_ @{ $key_value{$_} }\", keys %key_value;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 10253542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyU6n.jpg?s=128&g=1", "display_name": "Danial Haris", "link": "https://stackoverflow.com/users/10253542/danial-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539246218, "creation_date": 1539245070, "question_id": 52755144, "link": "https://stackoverflow.com/questions/52755144/make-a-hash-with-two-arrays-a-hash-that-has-a-key-to-array-values", "title": "Make a hash with two arrays, a Hash that has a key to array values", "body": "<p>I have 2 arrays that I want to use to make a hash</p>\n\n<pre><code>use warnings;\nuse strict;\nuse List::MoreUtils;\nuse Tie::IxHash;    \n\nmy %KEY_VALUE;\ntie %KEY_VALUE,'Tie::IxHash';\n\nmy @KEY= qw(\n0\n0\n5\n1\n1\n1\n2\n2\n2\n2\n3\n4\n);\n\nmy @VALUE= qw(\nA\nB\nC\nD\nE\nF\nG\nH\nI\nJ\nK\nL\n);\n\n@KEY_VALUE{@KEY}=@VALUE;\n\nprint join(\"\\t\",%KEY_VALUE);\n</code></pre>\n\n<p>The result that I get is:</p>\n\n<pre><code>0   B   5   C   1   F   2   J   3   K   4   L\n</code></pre>\n\n<p>This is because the value of the %KEY_VALUE keep updating as, it can only have 1 Key and 1 Value, in this case.</p>\n\n<p>So, I would like to know if there is a method that I can save all the values with its corresponding keys.</p>\n\n<p>Expected result:</p>\n\n<pre><code>0   A   B   5   C   1   D   E   F   2   G   H   I   J   3   K   4   L\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539243504, "post_id": 52754221, "comment_id": 92432736, "body": "What is the expected result?"}, {"owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1539244589, "post_id": 52754221, "comment_id": 92433273, "body": "Sorry melpomene,  this is the expected result.    %hash(     james1 =&gt;[         84012345     ],     aaron5 =&gt; [         2332111,         42332,         2345112,         18238     ]     &#39;wayne[2]&#39; =&gt; [         3505554,     ] )"}], "answers": [{"comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1539243375, "post_id": 52754548, "comment_id": 92432666, "body": "I don&#39;t think the split is going to work as the data has keys and values on multiple lines."}, {"owner": {"reputation": 11, "user_id": 1451155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce26a2e720bb85aca01f31c06420e9bc?s=128&d=identicon&r=PG", "display_name": "Ricaz", "link": "https://stackoverflow.com/users/1451155/ricaz"}, "reply_to_user": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1539247755, "post_id": 52754548, "comment_id": 92435013, "body": "@JGNI, I know, but I think the question was geared towards general knowledge of how to parse files. Parsing inconsistent input is always a pain, and in this case, there was no obvious way to tell which data should be keys and which should be values."}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1539248042, "post_id": 52754548, "comment_id": 92435183, "body": "@Ricaz his input data looks like key, new line, (value, new line) +, blank line. So you can split each record on the blank line when reading in the data and then use a split on <code>&#47;[ \\n]&#47;</code> taking the first element as the key and all the others as values"}], "tags": [], "owner": {"reputation": 11, "user_id": 1451155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce26a2e720bb85aca01f31c06420e9bc?s=128&d=identicon&r=PG", "display_name": "Ricaz", "link": "https://stackoverflow.com/users/1451155/ricaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1539242786, "creation_date": 1539242786, "answer_id": 52754548, "question_id": 52754221, "link": "https://stackoverflow.com/questions/52754221/how-to-assign-data-into-hash-from-an-input-file/52754548#52754548", "title": "how to assign data into hash from an input file", "body": "<p>You have opened a file with <code>open()</code> and attached the file handle to <code>$data</code>. The regular way of reading data from a file is to loop over each line, like so:</p>\n\n<pre><code>#!/usr/bin/env perl                                           \nuse strict;                                                   \nuse warnings;                                                 \nuse Data::Dumper;                                             \n\nmy $input = $ARGV[0];\nmy %hash;\nopen my $data , '&lt;', $input or die \" cannot open file : $_\\n\";\nwhile (my $line = &lt;$data&gt;) {\n    chomp $line; # Removes extra newlines (\\n)\n    if ($line) { # Checks if line is empty\n        my ($key, $value) = split ' ', $line;\n        $hash{$key} = $value;\n    }\n}\nprint Dumper \\%hash;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "edited": false, "score": 0, "creation_date": 1539244354, "post_id": 52754674, "comment_id": 92433132, "body": "Hi JGNI, appreciate for your info. Yes , this is the data structure  that I want.  I will go and read the perldsc that you gave. Thank you!"}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 0, "last_activity_date": 1539243217, "creation_date": 1539243217, "answer_id": 52754674, "question_id": 52754221, "link": "https://stackoverflow.com/questions/52754221/how-to-assign-data-into-hash-from-an-input-file/52754674#52754674", "title": "how to assign data into hash from an input file", "body": "<p>OK, +1 for using <code>strict</code> and <code>warnings</code>. </p>\n\n<p>First Take a look at the <code>$/</code> variable for controlling how a file is broken into records when it's read in.</p>\n\n<p><code>$data</code> is a file handle you need to extract the data from the file, if it's not to big you can load it all into an array, if it's a large file you can loop over each record at a time. See the <code>&lt;&gt;</code> operator in <code>perlop</code></p>\n\n<p>Looking at you code it appears that you want to end up with the following data structure from your input file</p>\n\n<pre><code>%hash(\n    james1 =&gt;[\n        84012345\n    ],\n    aaron5 =&gt; [\n        2332111,\n        42332,\n        2345112,\n        18238\n    ]\n    'wayne[2]' =&gt; [\n        3505554,\n    ]\n)\n</code></pre>\n\n<p>See <code>perldsc</code> on how to do that.</p>\n\n<p>All the documentation can be read using the <code>perldoc</code> command which comes with Perl. Running <code>perldoc</code> on its own will give you some tips on how to use it and running <code>perldoc perldoc</code> will give you possibly far more info than you need at the moment.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1539245103, "creation_date": 1539245103, "answer_id": 52755153, "question_id": 52754221, "link": "https://stackoverflow.com/questions/52754221/how-to-assign-data-into-hash-from-an-input-file/52755153#52755153", "title": "how to assign data into hash from an input file", "body": "<p>I'mma go over your code real quick:</p>\n\n<pre><code>#!/usr/bin/perl -w\n</code></pre>\n\n<p><code>-w</code> is not recommended. You should <code>use warnings;</code> instead (which you're already doing, so just remove <code>-w</code>).</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>Very good.</p>\n\n<pre><code>use Data::Dumper;\nmy $input= $ARGV[0];\n</code></pre>\n\n<p>OK.</p>\n\n<pre><code>my %hash;\n</code></pre>\n\n<p>Don't declare variables before you need them. Declare them in the smallest scope possible, usually right before their first use.</p>\n\n<pre><code>open my $data , '&lt;', $input or die \" cannot open file : $_\\n\";\n</code></pre>\n\n<p>You have a spurious space at the beginning of your error message and <code>$_</code> is unset at this point. You should include <code>$input</code> (the name of the file that failed to open) and <code>$!</code> (the error reason) instead.</p>\n\n<pre><code>my @names  = split ' ', $data;\nmy @values = split ' ', $data;\n</code></pre>\n\n<p>Well, this doesn't make sense. <code>$data</code> is a filehandle, not a string. Even if it were a string, this code would assign the same list to both <code>@names</code> and <code>@values</code>.</p>\n\n<pre><code>@hash{@names} = @values;\nprint Dumper \\%hash;\n</code></pre>\n\n<hr>\n\n<p>My version (untested):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n@ARGV == 1\n    or die \"Usage: $0 FILE\\n\";\nmy $file = $ARGV[0];\n\nmy %hash;\n{\n    open my $fh, '&lt;', $file or die \"$0: can't open $file: $!\\n\";\n    local $/ = '';\n    while (my $paragraph = readline $fh) {\n        my @words = split ' ', $paragraph;\n        my $key = shift @words;\n        $hash{$key} = \\@words;\n    }\n}\n\nprint Dumper \\%hash;\n</code></pre>\n\n<p>The idea is to set <code>$/</code> (the <a href=\"https://perldoc.pl/perlvar#IO::Handle-%3Einput_record_separator(-EXPR-)\" rel=\"nofollow noreferrer\">input record separator</a>) to <code>\"\"</code> for the duration of the input loop, which makes <code>readline</code> return whole paragraphs, not lines.</p>\n\n<p>The first (whitespace separated) word of each paragraph is taken to be the key; the remaining words are the values.</p>\n"}], "owner": {"reputation": 43, "user_id": 8968793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460f7ab4664ea2383d8608cd480221fb?s=128&d=identicon&r=PG&f=1", "display_name": "thx94", "link": "https://stackoverflow.com/users/8968793/thx94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 52755153, "answer_count": 3, "score": 0, "last_activity_date": 1539245103, "creation_date": 1539241615, "last_edit_date": 1539242173, "question_id": 52754221, "link": "https://stackoverflow.com/questions/52754221/how-to-assign-data-into-hash-from-an-input-file", "title": "how to assign data into hash from an input file", "body": "<p>I am new to perl. \nInside my input file is :</p>\n\n<pre><code>james1\n84012345\n\naaron5\n2332111 42332\n2345112 18238\n\nwayne[2]\n3505554\n</code></pre>\n\n<p>Question: I am not sure what is the correct way to get the input and set the name as key and number as values. example \"james\" is key  and \"84012345\" is the value.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Data::Dumper;\nmy $input= $ARGV[0];\nmy %hash;\nopen my $data , '&lt;', $input or die \" cannot open file : $_\\n\";\nmy @names  = split ' ', $data;\nmy @values = split ' ', $data;\n@hash{@names} = @values;\nprint Dumper \\%hash;\n</code></pre>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1539236913, "post_id": 52752056, "comment_id": 92429668, "body": "Well, what tests failed?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1539238442, "post_id": 52752056, "comment_id": 92430214, "body": "What means did you use to install this module, and did you have any problem installing the dependencies?  It&#39;s not correct to just download the tarball, unpack it and expect it to work without first working your way up the dependency tree. And that&#39;s a lot of work... generally it&#39;s much easier to use a tool like cpanm (cpan minus) to deal with pulling in everything needed."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 2304217, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c6e689c7c74bc5535aa0eb45262a06e3?s=128&d=identicon&r=PG", "display_name": "Karthik S", "link": "https://stackoverflow.com/users/2304217/karthik-s"}, "edited": false, "score": 0, "creation_date": 1539249904, "post_id": 52755511, "comment_id": 92436355, "body": "Hi Corion, I used cpan to install Mechanize using following command, cpan install WWW::Mechanize::Chrome. But its installation is not succesfule because of following modules, AnyEvent::Future,Future::HTTP,Image::Info,Imager::File::PNG,&zwnj;&#8203;Object::Import. While installing dependency AnyEvent::Future, installation is not succesful."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 97, "user_id": 2304217, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c6e689c7c74bc5535aa0eb45262a06e3?s=128&d=identicon&r=PG", "display_name": "Karthik S", "link": "https://stackoverflow.com/users/2304217/karthik-s"}, "edited": false, "score": 0, "creation_date": 1539250296, "post_id": 52755511, "comment_id": 92436631, "body": "Yes, so the failure is with the <code>AnyEvent::Future</code> module. First fix that problem, then come back to <code>WWW::Mechanize::Chrome</code>."}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 0, "last_activity_date": 1539246309, "creation_date": 1539246309, "answer_id": 52755511, "question_id": 52752056, "link": "https://stackoverflow.com/questions/52752056/mechanize-module-is-not-installing-in-windows-machine-and-ubuntu-machine/52755511#52755511", "title": "Mechanize module is not installing in Windows machine and Ubuntu machine", "body": "<p>The module name is <a href=\"https://metacpan.org/pod/WWW::Mechanize::Chrome\" rel=\"nofollow noreferrer\">WWW::Mechanize::Chrome</a>, not \"Mechanize\".</p>\n\n<p>You can install WWW::Mechanize::Chrome and all its prerequisites by running</p>\n\n<pre><code>cpanm WWW::Mechanize::Chrome\n</code></pre>\n\n<p>or by running</p>\n\n<pre><code>cpan install WWW::Mechanize::Chrome\n</code></pre>\n\n<p>This will pull in all the missing prerequisites that the error message above lists. If you find that the module <code>Object::Import</code> is failing, you can force the installation. The module failing automatic installation is a known bug.</p>\n"}], "owner": {"reputation": 97, "user_id": 2304217, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c6e689c7c74bc5535aa0eb45262a06e3?s=128&d=identicon&r=PG", "display_name": "Karthik S", "link": "https://stackoverflow.com/users/2304217/karthik-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539253165, "creation_date": 1539230913, "last_edit_date": 1539253165, "question_id": 52752056, "link": "https://stackoverflow.com/questions/52752056/mechanize-module-is-not-installing-in-windows-machine-and-ubuntu-machine", "title": "Mechanize module is not installing in Windows machine and Ubuntu machine", "body": "<p>I tried to install Mechanize module in my windows machine and Ubunu, but there was some problems to install Mechanize module. Is there any alternative way to install Mechanize module. Due to following dependencies I could not install Mechanize module. </p>\n\n<p>Some modules that failed are AnyEvent::Future, Future::HTTP, Image::Info, Imager::File::PNG, Object::Import</p>\n\n<p>I am getting following error message:</p>\n\n<pre><code>Failed 41/41 test programs. 1/1 subtests failed.\ndmake.exe:  Error code 130, while making 'test_dynamic'\n  CORION/WWW-Mechanize-Chrome-0.22.tar.gz\n5 dependencies missing (AnyEvent::Future,Future::HTTP,Image::Info,Imager::File::PNG,Object::Import); additionally test harness failed\n  C:\\devhome\\tools\\perl\\site\\bin\\dmake.exe test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports CORION/WWW-Mechanize-Chrome-0.22.tar.gz\nFailed during this command:\n MSCHOUT/Text-Template-1.53.tar.gz            : make_test NO\n LEONT/Software-License-0.103013.tar.gz       : make_test NO one dependency not OK (Text::Template); additionally test harness failed\n BBYRD/Software-License-CCpack-1.11.tar.gz    : make_test NO one dependency not OK (Software::License); additionally test harness failed\n ISHIGAKI/Module-CPANTS-Analyse-0.96.tar.gz   : make_test NO 2 dependencies missing (Software::License,Software::License::CC_BY_SA_3_0); additionally test harness failed\n ETHER/Test-Kwalitee-1.27.tar.gz              : make_test NO one dependency not OK (Module::CPANTS::Analyse); additionally test harness failed\n JONASBN/Test-Timer-2.09.tar.gz               : make_test NO one dependency not OK (Test::Kwalitee)\n PEVANS/AnyEvent-Future-0.03.tar.gz           : make_test NO one dependency not OK (Test::Timer); additionally test harness failed\n CORION/Future-HTTP-0.09.tar.gz               : make_test NO\n SREZIC/Image-Info-1.41.tar.gz                : make_test NO\n TONYC/Imager-File-PNG-0.92.tar.gz            : writemakefile NO 'C:\\devhome\\tools\\perl\\bin\\perl.exe Makefile.PL INSTALLDIRS=site' returned status 512\n AMBRUS/Object-Import-1.004.tar.gz            : make_test NO\n CORION/WWW-Mechanize-Chrome-0.22.tar.gz      : make_test NO 5 dependencies missing (AnyEvent::Future,Future::HTTP,Image::Info,Imager::File::PNG,Object::Import); additionally test harness failed\n</code></pre>\n"}]