[{"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 23477, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 1, "creation_date": 1430958071, "post_id": 30089751, "comment_id": 48292665, "body": "To slightly expand: a model instance is exactly one row in the database, this is what you get when you use <code>Membership.find(42)</code>, for example. Running <code>.where</code> on a <i>row</i> make no sense. This is why it needs to be on either on the model class (<code>Membership.where(...)</code>), or on a collection of rows (which is what <code>.where()</code> returns)."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1430986968, "post_id": 30089751, "comment_id": 48303217, "body": "and how would look like a suitable solution?"}, {"owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "edited": false, "score": 1, "creation_date": 1430994648, "post_id": 30089751, "comment_id": 48308498, "body": "If you need to simply call the where on a class while having its instance <code>self.class.where(..</code> will work, but you should try operating on scopes and relations instead"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1431071775, "post_id": 30089751, "comment_id": 48347447, "body": "I&#39;ve added the original query bevore I&#39;ve done the transformation. <code>self.class.where</code> dosn&#39;t work"}], "tags": [], "owner": {"reputation": 2569, "user_id": 514040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/98bb1ee1a1f3d1297acf493776066086?s=128&d=identicon&r=PG", "display_name": "neuronaut", "link": "https://stackoverflow.com/users/514040/neuronaut"}, "is_accepted": true, "score": 5, "last_activity_date": 1430957196, "creation_date": 1430957196, "answer_id": 30089751, "question_id": 30089688, "link": "https://stackoverflow.com/questions/30089688/ruby-on-rails-self-joins-or-self-where-doesnt-work/30089751#30089751", "title": "Ruby on Rails self.joins or self.where doesn&#39;t work?", "body": "<p>This is because the <code>where</code> method is defined at the class level rather than the instance level. In your second example (where you're doing <code>Membership.joins</code>) you are doing the right thing by calling <code>joins</code> and <code>where</code> on the <code>Membership</code> class rather than on an instance of that class. The reason you get an error with that second example is probably because you need to run your migrations to create the memberships table (if you have no migration you'll need to create one).</p>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1340, "favorite_count": 0, "accepted_answer_id": 30089751, "answer_count": 1, "score": 2, "last_activity_date": 1431071743, "creation_date": 1430956792, "last_edit_date": 1431071743, "question_id": 30089688, "link": "https://stackoverflow.com/questions/30089688/ruby-on-rails-self-joins-or-self-where-doesnt-work", "title": "Ruby on Rails self.joins or self.where doesn&#39;t work?", "body": "<p>my actual code looks like this</p>\n\n<pre><code>user_lesson = self.where(\"worked = ? AND passed = ?\", true, false).order(\"lessons.sort\")\n</code></pre>\n\n<p>But it doesn't work ... error is: </p>\n\n<pre><code>undefined method `where' for #&lt;Membership:0x000000059f22e8&gt;\n</code></pre>\n\n<p>.. I've tried it this way:</p>\n\n<pre><code>user_lesson = Membership.joins(\"user_lessons\").where(\"id = ? AND worked = ? AND passed = ?\",self.id, true, false).order(\"lessons.sort\")\n</code></pre>\n\n<p>But then I got this error:</p>\n\n<pre><code>Unknown table 'memberships': SELECT `memberships`.*\nFROM `memberships` user_lessons\nWHERE (id = 4 AND worked = 1 AND passed = 0)\nORDER BY lessons.sort\n</code></pre>\n\n<p>How should it look like correctly?</p>\n\n<p>Original Query</p>\n\n<pre><code>user_lesson = self.user_lessons.find :first,\n  :include =&gt; [:lesson],\n  :conditions =&gt; [\"worked = ? AND passed = ?\", true, false],\n  :order =&gt; \"lessons.sort\"\n</code></pre>\n"}, {"tags": ["ruby", "inheritance", "instance"], "answers": [{"comments": [{"owner": {"reputation": 2463, "user_id": 897968, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3dbec4dfd2edf8e609220dfdd8a960ca?s=128&d=identicon&r=PG", "display_name": "FriendFX", "link": "https://stackoverflow.com/users/897968/friendfx"}, "edited": false, "score": 0, "creation_date": 1430960709, "post_id": 30090140, "comment_id": 48293309, "body": "Thanks for your answer. As far as I understand, this will not execute the <code>define_block</code> code in the context of the <code>Provider</code> (in your case <code>Messaging</code>), but in the context of the <code>Parent</code>. I know my names are strange, I was trying to explain that <code>define_block</code> only holds the code (which could be a block instead of a method but I&#39;m not sure) to be executed in the <code>Provider</code>&#39;s context."}, {"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "reply_to_user": {"reputation": 2463, "user_id": 897968, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3dbec4dfd2edf8e609220dfdd8a960ca?s=128&d=identicon&r=PG", "display_name": "FriendFX", "link": "https://stackoverflow.com/users/897968/friendfx"}, "edited": false, "score": 0, "creation_date": 1430961376, "post_id": 30090140, "comment_id": 48293474, "body": "Now I really don&#39;t understand. I think your concept of &quot;context&quot; may need clarification. The context is set by the object that is calling the method. So, when you call <code>child.run_block</code> it is run in the child&#39;s context. Perhaps you can rework your example to express your question better...."}, {"owner": {"reputation": 2463, "user_id": 897968, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3dbec4dfd2edf8e609220dfdd8a960ca?s=128&d=identicon&r=PG", "display_name": "FriendFX", "link": "https://stackoverflow.com/users/897968/friendfx"}, "edited": false, "score": 0, "creation_date": 1430965333, "post_id": 30090140, "comment_id": 48294403, "body": "I reworked the question, hope it is more clear now - let me know, thanks!"}, {"owner": {"reputation": 2463, "user_id": 897968, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3dbec4dfd2edf8e609220dfdd8a960ca?s=128&d=identicon&r=PG", "display_name": "FriendFX", "link": "https://stackoverflow.com/users/897968/friendfx"}, "edited": false, "score": 0, "creation_date": 1431046582, "post_id": 30090140, "comment_id": 48338968, "body": "+1 for mentioning <code>binding</code>, I wasn&#39;t aware of this powerful feature! Unfortunately when trying to <a href=\"http://bit.ly/1ITAxiI\" rel=\"nofollow noreferrer\">incorporate it into my desired code</a>, I noticed that whatever gets executed by <code>eval</code> inherits the execution context of that binding <i>only</i>, there is nothing left of the original context (such as the <code>runnable</code> instance or its <code>run</code> method). Or, <a href=\"http://bit.ly/1P4ZCfN\" rel=\"nofollow noreferrer\">with a slightly different configuration</a> the <code>ExecutionContext</code>&#39;s instance methods."}], "tags": [], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "is_accepted": false, "score": 1, "last_activity_date": 1431008244, "last_edit_date": 1431008244, "creation_date": 1430960172, "answer_id": 30090140, "question_id": 30089687, "link": "https://stackoverflow.com/questions/30089687/extending-an-instance-with-methods-from-another-instance-of-another-class/30090140#30090140", "title": "Extending an instance with methods from another instance of another class", "body": "<p>Yes, you don't want to use <code>method_missing</code> in this case.</p>\n\n<p>I don't really understand what you are trying to accomplish. Perhaps <code>define_block</code> is not the correct name...?</p>\n\n<p>However, a module seems to have the functionality that you want.</p>\n\n<pre><code>module Messaging\n  def message(text)\n    puts \"Provider.message: #{text}\"\n  end \nend\n\nclass Parent\n  include Messaging\n  ...\n</code></pre>\n\n<p>EDIT: I think you want to use binding. It allows you to pass the current scope (context) to another scope.</p>\n\n<pre><code>def print_local binding\n  puts 'local is ' + binding.eval('local')\nend\n\ndef foo\n  local = 'value'\n  print_local binding\nend\n\nfoo \n=&gt; local is value\n</code></pre>\n\n<p>In this case, print_local wants to print foo's <code>local</code> variable. But it doesn't have access to it because <code>local</code> exists only in foo's scope (or context).</p>\n\n<p>So, you can pass in foo's scope as <code>binding</code>. </p>\n\n<p>See <a href=\"http://ruby-doc.org/core-2.2.0/Binding.html\" rel=\"nofollow\">binding</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 2463, "user_id": 897968, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3dbec4dfd2edf8e609220dfdd8a960ca?s=128&d=identicon&r=PG", "display_name": "FriendFX", "link": "https://stackoverflow.com/users/897968/friendfx"}, "edited": false, "score": 0, "creation_date": 1430979920, "post_id": 30092459, "comment_id": 48299112, "body": "Thanks for your answer. Two things: 1. Unfortunately I need <code>ExecutionContext</code> to be a class as it has to behave differently for different instances. 2. Could you give an example/explanation why extending like that is a bad idea and how it might bite?"}, {"owner": {"reputation": 6890, "user_id": 2140872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d6527.jpg?s=128&g=1", "display_name": "robertjlooby", "link": "https://stackoverflow.com/users/2140872/robertjlooby"}, "reply_to_user": {"reputation": 2463, "user_id": 897968, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3dbec4dfd2edf8e609220dfdd8a960ca?s=128&d=identicon&r=PG", "display_name": "FriendFX", "link": "https://stackoverflow.com/users/897968/friendfx"}, "edited": false, "score": 0, "creation_date": 1431008250, "post_id": 30092459, "comment_id": 48318744, "body": "For one, if you&#39;re not inheriting from a class or including a module it&#39;s impossible to reason about the Runnable class. Where are <code>answer?</code> and <code>message</code> defined? How do you test it?"}], "tags": [], "owner": {"reputation": 6890, "user_id": 2140872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d6527.jpg?s=128&g=1", "display_name": "robertjlooby", "link": "https://stackoverflow.com/users/2140872/robertjlooby"}, "is_accepted": false, "score": 0, "last_activity_date": 1430975715, "last_edit_date": 1495541710, "creation_date": 1430975715, "answer_id": 30092459, "question_id": 30089687, "link": "https://stackoverflow.com/questions/30089687/extending-an-instance-with-methods-from-another-instance-of-another-class/30092459#30092459", "title": "Extending an instance with methods from another instance of another class", "body": "<p>I think what <a href=\"https://stackoverflow.com/a/30090140/2140872\">B Seven</a> said was correct. It makes the most sense to create the shared functionality in a <code>Module</code> and <code>include</code> that module in the class. However if you <em>really</em> want something like your <code>extend_from_instance</code> you can use Ruby's <a href=\"http://ruby-doc.org/core-2.2.2/Object.html#method-i-extend\" rel=\"nofollow noreferrer\">Object#extend</a> method to dynamically extend the module in an instance of the class (though I think this is a bad idea). Working form your desired code:</p>\n\n<pre><code>module ExecutionContext\n  def message(text)\n    puts \"ExecutionContext.message: #{text}\"\n  end \n  def answer?\n    puts \"ExecutionContext.answer called\"\n    true\n  end\nend\n\nclass Controller\n  def do_run(context_module, runnable)\n    runnable.extend(context_module)\n    runnable.run\n  end\nend\n\nclass Runnable\n  def run\n    if answer?\n      message \"Runnable's block executing!\"\n    end\n  end\nend\n\nrunnable = Runnable.new\nController.new.do_run(ExecutionContext, runnable)\n</code></pre>\n\n<p>Again though, this is a bad idea and will probably come back to bite you in the long run.</p>\n"}], "owner": {"reputation": 2463, "user_id": 897968, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3dbec4dfd2edf8e609220dfdd8a960ca?s=128&d=identicon&r=PG", "display_name": "FriendFX", "link": "https://stackoverflow.com/users/897968/friendfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1431008244, "creation_date": 1430956788, "last_edit_date": 1430982054, "question_id": 30089687, "link": "https://stackoverflow.com/questions/30089687/extending-an-instance-with-methods-from-another-instance-of-another-class", "title": "Extending an instance with methods from another instance of another class", "body": "<p>Currently I am doing something like the following to have the <code>Runnable</code> classes' <code>run</code> method access methods of the <code>ExecutionContext</code>:</p>\n\n<pre><code>class ExecutionContext\n  def message(text)\n    puts \"ExecutionContext.message: #{text}\"\n  end \n  def answer?\n    puts \"ExecutionContext.answer called\"\n    true\n  end\nend\n\nclass Controller\n  def do_run(context)\n    @context = context\n    run\n    @context = nil\n  end\n\n  def method_missing(mth, *args)\n    @context.send(mth, *args)\n  end\nend\n\nclass Runnable &lt; Controller\n  def run\n    if answer?\n      message \"Runnable's block executing!\"\n    end\n  end\nend\n\nrunnable = Runnable.new\n\ncontext = ExecutionContext.new\nrunnable.do_run(context)\n</code></pre>\n\n<p>The idea is that the <code>Runnable</code> class is written by \"end users\" who want to access functionality (such as the <code>message</code> and <code>answer?</code> methods) of an <code>ExecutionContext</code> instance which is provided from elsewhere. In fact, the <code>Runnable</code> class is all the \"end user\" is concerned about and it should be as small and simple as possible.</p>\n\n<p>The code above works as expected in that all methods called by <code>Runnable.run</code> are provided by the <code>ExecutionContext</code>.</p>\n\n<p>However I am wondering if there is a more elegant way to achieve the same thing, where I can avoid using <code>method_missing</code> and defining the temporary <code>@context</code> instance variable.</p>\n\n<p>Ideally, I would like to modify the code to something similar to this (<code>ExecutionContext</code> stays the same):</p>\n\n<pre><code>class Controller\n  def do_run(context, runnable)\n    runnable.extend_from_instance(context)\n    runnable.run\n  end\nend\n\nclass Runnable\n  def run\n    if answer?\n      message \"Runnable's block executing!\"\n    end\n  end\nend\n\nrunnable = Runnable.new\ncontext = ExecutionContext.new\nController.new.do_run(context, runnable)\n</code></pre>\n\n<p>Is there such thing as <code>extend_from_instance</code>?</p>\n\n<h2>Update</h2>\n\n<p>Thanks everyone for looking into this. </p>\n\n<p>Since it has come up in the two answers I got so far, I realised I should mention the following restrictions: Unfortunately neither <code>Runnable</code> nor <code>ExecutionContext</code> can be turned into <code>module</code>s. They need to be <code>class</code>es as their instances will behave differently for different cases (both will have their own instance variables etc).</p>\n\n<p>I really need the <code>run</code> method to execute as if it was part of the <code>ExecutionContext</code> <em>instance</em> (<code>context</code> in the code).</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "enums", "scope"], "answers": [{"tags": [], "owner": {"reputation": 1581, "user_id": 29770, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/de81a91f81b65f41953df5929b8a3c79?s=128&d=identicon&r=PG", "display_name": "Cesar", "link": "https://stackoverflow.com/users/29770/cesar"}, "is_accepted": true, "score": 2, "last_activity_date": 1431016990, "creation_date": 1431016990, "answer_id": 30107090, "question_id": 30089631, "link": "https://stackoverflow.com/questions/30089631/how-to-add-a-scope-for-multiple-enums-in-rails/30107090#30107090", "title": "How to add a scope for multiple enums in rails", "body": "<p>I got it working with this scope:</p>\n\n<pre><code> scope :state, lambda { |enum_ids|\n  return nil  if enum_ids.empty?\n    objArray = []\n    enum_ids.each do |key|\n      if (User.estados[key])\n        objArray &lt;&lt; User.estados[key] \n      end\n    end\n    return nil  if objArray.empty?\n    where ([\"account.state in (?)\" ,  objArray])\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10647, "user_id": 64669, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Vg5iU.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/64669/aaron"}, "is_accepted": false, "score": 7, "last_activity_date": 1479480734, "last_edit_date": 1479480734, "creation_date": 1464203637, "answer_id": 37445772, "question_id": 30089631, "link": "https://stackoverflow.com/questions/30089631/how-to-add-a-scope-for-multiple-enums-in-rails/37445772#37445772", "title": "How to add a scope for multiple enums in rails", "body": "<p>Not sure if you're still looking for something like this but here's what I found.</p>\n\n<h2>Solution</h2>\n\n<p>I was able to implement this using the following</p>\n\n<pre><code>scope :for_states, -&gt; (*state_names) {\n  where(state: states.values_at(*Array(state_names).flatten))\n}\n</code></pre>\n\n<p>The <code>*state_names</code> argument will allow any number of arguments to get packaged up into a <code>state_names</code> array. <code>Array(state_names)</code> ensures that this if a single argument was passed it will be treated as an array. Finally, <code>flatten</code> allows a single array to be passed as an argument. After all that, the splat (<code>*</code>) unpacks all elements of this array as arguments to the <code>values_at</code> method.</p>\n\n<p>You can use this as follows:</p>\n\n<ol>\n<li><code>User.for_states :one_state</code></li>\n<li><code>User.for_states :state_1, :state_2</code></li>\n<li><code>User.for_states [:state_1, :state_2]</code></li>\n</ol>\n\n<p>If you don't need the method to be as flexible, it could be simplified.</p>\n\n<h2>The Future</h2>\n\n<p>According to the <a href=\"http://edgeapi.rubyonrails.org/classes/ActiveRecord/Enum.html\" rel=\"noreferrer\">Edge Rails Docs</a> this should be even simpler in Rails 5 and you'll simply be able to do</p>\n\n<pre><code>User.where(state: [:state_1, :state_2])\n</code></pre>\n"}], "owner": {"reputation": 1581, "user_id": 29770, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/de81a91f81b65f41953df5929b8a3c79?s=128&d=identicon&r=PG", "display_name": "Cesar", "link": "https://stackoverflow.com/users/29770/cesar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 30107090, "answer_count": 2, "score": 4, "last_activity_date": 1479480734, "creation_date": 1430956443, "last_edit_date": 1430991114, "question_id": 30089631, "link": "https://stackoverflow.com/questions/30089631/how-to-add-a-scope-for-multiple-enums-in-rails", "title": "How to add a scope for multiple enums in rails", "body": "<p>I have a select that displays all enums of an object:</p>\n\n<pre><code>&lt;%= f.select( :state_user \n            , User.states.keys.map {|state| [state.titleize,state] }) %&gt;\n</code></pre>\n\n<p>How can I create an scope that allows me to select multiple states?</p>\n\n<p>For example I want to filter all users that are either inactive or suspended. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "routes", "form-for"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430955580, "post_id": 30089419, "comment_id": 48291947, "body": "<code>params: {id: course.id}}</code> is unnecessary just use <code>id: course.id</code>"}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430955620, "post_id": 30089419, "comment_id": 48291958, "body": "also - if they are already signed up, why display the form at all... why not just redirect them to the course straight away?"}, {"owner": {"reputation": 958, "user_id": 3535074, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf0e1152c6926ac3405d5831d74c9e14?s=128&d=identicon&r=PG&f=1", "display_name": "user3535074", "link": "https://stackoverflow.com/users/3535074/user3535074"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430956781, "post_id": 30089419, "comment_id": 48292294, "body": "Thanks for the input! The user has to do certain preparation tasks before the course starts so its important that they can see from the courses list which ones they are signed up to and be able to enter snd perform the pre-course tasks they are already signed up for."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430958438, "post_id": 30089419, "comment_id": 48292752, "body": "Yes, but for that, they just need the course show page... they don&#39;t need to see the &quot;sign up for the course&quot; form. They never need to see this form at all, but instead, the &quot;new&quot; action should redirect them directly to the show page"}, {"owner": {"reputation": 958, "user_id": 3535074, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf0e1152c6926ac3405d5831d74c9e14?s=128&d=identicon&r=PG&f=1", "display_name": "user3535074", "link": "https://stackoverflow.com/users/3535074/user3535074"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430983779, "post_id": 30089419, "comment_id": 48301302, "body": "The user needs to be able to go to The signup page to view and edit The signup details not only when they first sign up but later when they have already signed up. They need a link or button of some kind as the web app won&#39;t decide for the user when they have to complete the tasks, the user decides."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430984333, "post_id": 30089419, "comment_id": 48301646, "body": "Ok, there&#39;s al kinds of assumed knowledge that you aren&#39;t including here. Standard RESTful rails has these action as: :new :crate :edit :update - :show - they each do different things. The way it normally works is: :new and :edit display the form_for... and rails is smart enough to accept either an existing resource (<code>course</code> in this instance) in the form_for and itis smart enough to determine that a form_for a <i>new</i> course will POST to :create, but a form_for an <i>existing</i> course will PATCH to :update instead. That&#39;s how it works all by itself without you needing to put the url in the form."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430984432, "post_id": 30089419, "comment_id": 48301712, "body": "By default, a standard generated RESTful rails controller will automatically redirect to the :show page of a course after you create or update it... you don&#39;t need to do that yourself - and certainly not in the form. You most definitey don&#39;t need to put that in a url-block in the form - because you really can&#39;t post a form to a get - that&#39;s not how it works (and it&#39;s dangerous to boot)."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430984506, "post_id": 30089419, "comment_id": 48301770, "body": "If you want specific, non RESTful behaviour - rather than exploining it in tiny pieces here in the comments - please update your question and give a full run-down of how your app departs from standard RESTful practice and WHY and what you expect to happen instead - under which circumstance - because otherwise it&#39;ll be impossible for us to hep you debug it."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430984645, "post_id": 30089419, "comment_id": 48301877, "body": "You also need to explain what a &quot;signup&quot; is - because you are using the word &quot;signup&#39; but you have described code for a &quot;course&quot; - how do these two different things interact? If they are not different things, then please go through your question and remove the word &quot;signup&quot; and instead refer to things as &quot;creating a course&quot; because it&#39;s really confusing when you use different words for the same thing (you can display whatever you like to the users, but we are looking at the code here)."}], "answers": [{"comments": [{"owner": {"reputation": 958, "user_id": 3535074, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf0e1152c6926ac3405d5831d74c9e14?s=128&d=identicon&r=PG&f=1", "display_name": "user3535074", "link": "https://stackoverflow.com/users/3535074/user3535074"}, "edited": false, "score": 0, "creation_date": 1431028048, "post_id": 30099009, "comment_id": 48331513, "body": "Thanks! I switched out as you suggested and got the error message:  &#39;param is missing or the value is empty: signup&#39;. Howeve the error suggested that a patch request was being sent rather than a get request as I wanted, so I added the action as follows: &#39;&lt;%= form_for course, url: signup_path(course), :method =&gt; &#39;get&#39; do |f| %&gt;&#39; and it does indeed call the show action in the signups controller. I really appreciate the suggestion but would you be able to explain why this works where the original form_for options hash did not?"}], "tags": [], "owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "is_accepted": false, "score": 0, "last_activity_date": 1430995979, "creation_date": 1430995979, "answer_id": 30099009, "question_id": 30089419, "link": "https://stackoverflow.com/questions/30089419/controller-action-not-being-found-when-passing-an-options-hash-for-specific-cont/30099009#30099009", "title": "Controller action not being found when passing an options hash for specific controller and action in a form_for block", "body": "<p>Try replacing</p>\n\n<pre><code>&lt;%= form_for course, :url =&gt; {:controller =&gt; \"signups\", :action =&gt; \"show\", params: {id: course.id}}, :method =&gt; \"get\" do |f| %&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;%= form_for course, url: signup_path(course) do |f| %&gt;\n</code></pre>\n"}], "owner": {"reputation": 958, "user_id": 3535074, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf0e1152c6926ac3405d5831d74c9e14?s=128&d=identicon&r=PG&f=1", "display_name": "user3535074", "link": "https://stackoverflow.com/users/3535074/user3535074"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430995979, "creation_date": 1430955062, "question_id": 30089419, "link": "https://stackoverflow.com/questions/30089419/controller-action-not-being-found-when-passing-an-options-hash-for-specific-cont", "title": "Controller action not being found when passing an options hash for specific controller and action in a form_for block", "body": "<p>I'm trying to create a form in rails 4 using form_for based on an object representing a training course. Before loading the page, the app checks whether the current user has already signed up for the course. If not, then the submit button on the form creates a new 'signup' marking the course id and the user id in the signups table. This works correctly.</p>\n\n<p>If the user is already signed up then I'd like the submit button to have  a different function - to make a get request for the particular signup record and show the details of it on the screen. Essentially like a re-direct to 'signups/id'. This is not working however.</p>\n\n<p>This is the form displayed if the user is not signed up. It triggers a post request to the create action in the signups controller (and it works):</p>\n\n<pre><code> &lt;%= form_for course, :url =&gt; {:controller =&gt; \"signups\", :action =&gt; \"create\"}, :method =&gt; \"post\" do |f| %&gt; \n\n    &lt;%= hidden_field_tag :course_id, course.id %&gt;\n\n    &lt;%= f.label :\"Course Title\" %&gt;\n    &lt;%= f.text_field :courseTitle, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Course Title\" %&gt;\n    &lt;%= f.text_field :courseTitle, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Detailed Description Of Course Dates &amp; Times\" %&gt;\n    &lt;%= f.text_area :courseDatesAndTimes, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"General Course Location eg 'Malaga'\" %&gt;\n    &lt;%= f.text_field :courseGeneralLocation, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Exact Course Address including Postal Code\" %&gt;\n    &lt;%= f.text_field :courseExactAddress, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Course Description\" %&gt;\n    &lt;%= f.text_area :courseDescription, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Maximum Number of Students\" %&gt;\n    &lt;%= f.text_field :courseMaximumNumberStudents, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Normal Course Price\" %&gt;\n    &lt;%= f.text_field :courseNormalPrice, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"'Listener' Course Price\" %&gt;\n    &lt;%= f.text_field :courseListenerPrice, class: 'form-control' %&gt;          \n\n    &lt;%= f.submit \"Sign Up!\", class: \"btn btn-primary\" %&gt;\n\n  &lt;% end %&gt;\n</code></pre>\n\n<p>This is the form displayed if the user is already signed up to the course:</p>\n\n<pre><code>  &lt;%= form_for course, :url =&gt; {:controller =&gt; \"signups\", :action =&gt; \"show\", params: {id: course.id}}, :method =&gt; \"get\" do |f| %&gt; \n\n    &lt;%= hidden_field_tag :course_id, course.id %&gt;\n    &lt;%= hidden_field_tag :user_id, current_user.id %&gt;\n\n    &lt;%= f.label :\"Course Title\" %&gt;\n    &lt;%= f.text_field :courseTitle, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Course Title\" %&gt;\n    &lt;%= f.text_field :courseTitle, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Detailed Description Of Course Dates &amp; Times\" %&gt;\n    &lt;%= f.text_area :courseDatesAndTimes, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"General Course Location eg 'Malaga'\" %&gt;\n    &lt;%= f.text_field :courseGeneralLocation, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Exact Course Address including Postal Code\" %&gt;\n    &lt;%= f.text_field :courseExactAddress, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Course Description\" %&gt;\n    &lt;%= f.text_area :courseDescription, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Maximum Number of Students\" %&gt;\n    &lt;%= f.text_field :courseMaximumNumberStudents, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"Normal Course Price\" %&gt;\n    &lt;%= f.text_field :courseNormalPrice, class: 'form-control' %&gt;\n\n    &lt;%= f.label :\"'Listener' Course Price\" %&gt;\n    &lt;%= f.text_field :courseListenerPrice, class: 'form-control' %&gt;\n\n\n    &lt;%= f.submit \"You're Signed Up! View Details\", class: \"btn btn-primary\" %&gt;\n\n  &lt;% end %&gt;\n</code></pre>\n\n<p>This does not work - I get the error:</p>\n\n<p>ActionController::UrlGenerationError in CoursesController#index\nNo route matches {:action=>\"show\", :controller=>\"signups\"}</p>\n\n<p>The show action is in the signups_controller (right below the functioning 'Create' action) like so:</p>\n\n<pre><code>def show\n  @courseID = params[:course_id]\n  @userID = current_user.id\n  @signup = getSignup(@courseID,@userID)\n  redirect_to signups(@signup)\nend\n</code></pre>\n\n<p>...and in the routes.rb file I simply have the following line:</p>\n\n<pre><code>resources :signups\n</code></pre>\n\n<p>I've tried to read the rails guides on routing, and the form_for guides on how the options should be tailored to correctly call a different action in a different controller but I think I'm missing some basic knowledge here as I can't get it to call the show action in the signups controller, seemingly because of a routes.rb problem.</p>\n\n<p>Can anybody tell me whats wrong?</p>\n\n<p>Thank-you!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mailchimp"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5007611, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/02482e2ed641b3831d79946429bc071e?s=128&d=identicon&r=PG", "display_name": "Hugo Nascimento", "link": "https://stackoverflow.com/users/5007611/hugo-nascimento"}, "is_accepted": false, "score": 0, "last_activity_date": 1434258564, "creation_date": 1434258564, "answer_id": 30826127, "question_id": 30089192, "link": "https://stackoverflow.com/questions/30089192/rails-mailchimp-api-groups/30826127#30826127", "title": "Rails MailChimp API Groups", "body": "<p>Try add an array for each group into groupings.. In your case you should count 4 arrays....</p>\n\n<p>See if my PHP code can help you:</p>\n\n<pre><code>'merge_vars' =&gt; array('fname' =&gt; $firstName, 'lname' =&gt; $lastName, 'groupings' =&gt; array(array('name'=&gt; 'Test', 'groups' =&gt; array('Test1'))));\n</code></pre>\n"}], "owner": {"reputation": 770, "user_id": 643539, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/da80a22e0941ff002b8e15de0147bff7?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/643539/zach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434258564, "creation_date": 1430953736, "last_edit_date": 1430954044, "question_id": 30089192, "link": "https://stackoverflow.com/questions/30089192/rails-mailchimp-api-groups", "title": "Rails MailChimp API Groups", "body": "<p>I'm using the mailchimp-api gem in a rails 4 project. I can successfully subscribe a users email to a list, but can't get users into the group I'm specifying. </p>\n\n<p>In Mailchimp I setup a Group with the name \"UserType\" as a checkbox. It has two groups within \"User\" and \"Tech\".</p>\n\n<p><img src=\"https://i.stack.imgur.com/OXglg.png\" alt=\"enter image description here\"> </p>\n\n<p>Here is my subscribe code:</p>\n\n<pre><code>@mc.lists.subscribe(list_id, {'email' =&gt; email}, {'merge_vars' =&gt; { 'groupings' =&gt; [{'name' =&gt; 'UserType', 'groups' =&gt; ['User']}]}})\n</code></pre>\n\n<p>I'm not receiving any errors and the email is still successfully being inserted into the list. Any ideas on why the user isn't being inserted into the \"User\" group?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "capistrano", "capistrano3"], "answers": [{"comments": [{"owner": {"reputation": 1305, "user_id": 1316445, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8ee338d1fce5d86272575b291b2dd35e?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1316445/brandon"}, "edited": false, "score": 0, "creation_date": 1430967563, "post_id": 30089481, "comment_id": 48295007, "body": "ya I noticed that and tried it too. I created the database with the name JonesJems. I have also tried using different users for the database admin but I have listed the databases and I can see jonesjems along with the correct owner."}], "tags": [], "owner": {"reputation": 10091, "user_id": 4625365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/l6v41.jpg?s=128&g=1", "display_name": "Matt Brictson", "link": "https://stackoverflow.com/users/4625365/matt-brictson"}, "is_accepted": false, "score": -1, "last_activity_date": 1430955465, "creation_date": 1430955465, "answer_id": 30089481, "question_id": 30089121, "link": "https://stackoverflow.com/questions/30089121/capistrano-3-rails-deploy-cant-find-database/30089481#30089481", "title": "Capistrano 3 rails deploy cant find database", "body": "<p>I see the database.yml file and the ActiveRecord error message both refer to the database name as <code>JonesJems</code> (title case), whereas the psql error refers to <code>jonesjems</code> (lower case).</p>\n\n<p>Perhaps the ActiveRecord database adapter is case sensitive with respect to database names?</p>\n\n<p>Try changing the production.yml to <code>database: jonesjems</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2832, "user_id": 295019, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/060fca8931e559cbf983b3dd7397e0f1?s=128&d=identicon&r=PG", "display_name": "racl101", "link": "https://stackoverflow.com/users/295019/racl101"}, "edited": false, "score": 0, "creation_date": 1473896054, "post_id": 30092498, "comment_id": 66319667, "body": "And if you&#39;re doing it on the production server then run: <code>$ RAILS_ENV=production rake db:create</code>"}], "tags": [], "owner": {"reputation": 1305, "user_id": 1316445, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8ee338d1fce5d86272575b291b2dd35e?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1316445/brandon"}, "is_accepted": false, "score": 1, "last_activity_date": 1430975967, "creation_date": 1430975967, "answer_id": 30092498, "question_id": 30089121, "link": "https://stackoverflow.com/questions/30089121/capistrano-3-rails-deploy-cant-find-database/30092498#30092498", "title": "Capistrano 3 rails deploy cant find database", "body": "<p>I ended up just running rake db:create in on of the release directories</p>\n"}], "owner": {"reputation": 1305, "user_id": 1316445, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8ee338d1fce5d86272575b291b2dd35e?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1316445/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1691, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1430975967, "creation_date": 1430953284, "question_id": 30089121, "link": "https://stackoverflow.com/questions/30089121/capistrano-3-rails-deploy-cant-find-database", "title": "Capistrano 3 rails deploy cant find database", "body": "<p>DigitalOcean Ubuntu 14.04 x64 + Rails 4 + Nginx + Unicorn + PostgreSQL + Capistrano 3</p>\n\n<p>I used this walkthrough to deploy my digital ocean rails app. </p>\n\n<p><a href=\"https://gist.github.com/ChuckJHardy/f44dda5f94c6bbdba9a4\" rel=\"nofollow\">https://gist.github.com/ChuckJHardy/f44dda5f94c6bbdba9a4</a></p>\n\n<p>The instructions are very clear and too the point so I did not have to deviate from the walkthrough.</p>\n\n<p>I have finished everything and when i run</p>\n\n<pre><code>cap production deploy:check\n</code></pre>\n\n<p>there are no errors. But when I run</p>\n\n<pre><code>cap production deploy\n</code></pre>\n\n<p>It crashes saying </p>\n\n<pre><code>INFO [deploy:migrate] Checking changes in /db/migrate\nDEBUG [87821ebd] Running /usr/bin/env diff -q /home/deployer/apps/jones_jems/releases/20150506224711/db/migrate /home/deployer/apps/jones_jems/current/db/migrate as deployer@107.170.222.154\nDEBUG [87821ebd] Command: diff -q /home/deployer/apps/jones_jems/releases/20150506224711/db/migrate /home/deployer/apps/jones_jems/current/db/migrate\nDEBUG [87821ebd]    diff: \nDEBUG [87821ebd]    /home/deployer/apps/jones_jems/current/db/migrate\nDEBUG [87821ebd]    : No such file or directory\nDEBUG [87821ebd]    \nDEBUG [87821ebd] Finished in 0.085 seconds with exit status 2 (failed).\nINFO [deploy:migrate] Run `rake db:migrate`\nDEBUG [b41648f9] Running /usr/bin/env if test ! -d /home/deployer/apps/jones_jems/releases/20150506224711; then echo \"Directory does not exist '/home/deployer/apps/jones_jems/releases/20150506224711'\" 1&gt;&amp;2; false; fi as deployer@107.170.222.154\nDEBUG [b41648f9] Command: if test ! -d /home/deployer/apps/jones_jems/releases/20150506224711; then echo \"Directory does not exist '/home/deployer/apps/jones_jems/releases/20150506224711'\" 1&gt;&amp;2; false; fi\nDEBUG [b41648f9] Finished in 0.074 seconds with exit status 0 (successful).\nINFO [bde04a76] Running ~/.rvm/bin/rvm default do bundle exec rake db:migrate as deployer@107.170.222.154\nDEBUG [bde04a76] Command: cd /home/deployer/apps/jones_jems/releases/20150506224711 &amp;&amp; ( RAILS_ENV=production ~/.rvm/bin/rvm default do bundle exec rake db:migrate )\nDEBUG [bde04a76]    rake aborted!\nDEBUG [bde04a76]    ActiveRecord::NoDatabaseError: FATAL:  database \"JonesJems\" does not exist\n</code></pre>\n\n<p>I followed the walkthrough on creating the database listed below</p>\n\n<p><strong>Create Postgres User</strong></p>\n\n<pre><code>sudo -u postgres psql\ncreate user deployer with password 'password';\nalter role deployer superuser createrole createdb replication;\ncreate database JonesJems owner deployer;\n</code></pre>\n\n<p>If i try to do this walkthrough again it says the says the database already exists.</p>\n\n<pre><code>postgres=# create database JonesJems owner deployer;\nERROR:  database \"jonesjems\" already exists\n</code></pre>\n\n<p>Here is my rails database.yml file</p>\n\n<pre><code>production:\n  adapter: postgresql\n  host: 127.0.0.1\n  port: 5432\n  encoding: unicode\n  database: JonesJems\n  pool: 5\n  username: &lt;%= ENV['JJ_DB_USER'] %&gt;\n  password: &lt;%= ENV['JJ_DB_PASSWORD'] %&gt;\n</code></pre>\n\n<p>with the env variables being stored in etc/environment</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rails-activerecord", "upsert"], "comments": [{"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1430954562, "post_id": 30089111, "comment_id": 48291645, "body": "Is this a rhetorical question?"}, {"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1430957038, "post_id": 30089111, "comment_id": 48292382, "body": "Isn&#39;t this satisfied by simply using good validations?  Remember that the concept behind rails is convention over configuration.  Why complicate something if it&#39;s not necessary to do so?"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "reply_to_user": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 1, "creation_date": 1430963815, "post_id": 30089111, "comment_id": 48294052, "body": "@DavidHoelzer Because validations are subject to race conditions, that&#39;s why certain logic must go in the database."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "reply_to_user": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1430982839, "post_id": 30089111, "comment_id": 48300705, "body": "@HolgerJust Well, sort of. I expect somebody to prove me wrong. Not happening yet. Or right. So not really rhetorical."}], "answers": [{"comments": [{"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 1, "creation_date": 1430964093, "post_id": 30090222, "comment_id": 48294103, "body": "But a violation of a unique constraint in the database <i>is</i> an error. Just because something is an error at one level doesn&#39;t mean it has to be an error at all levels. BTW, <code>find_or_create_by</code> is just <code>find_by(...) || create(...)</code> so it is still subject to race conditions, The <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Relation.html#method-i-find_or_create_by\" rel=\"nofollow noreferrer\">documentation</a> even recommends wrapping it in an exception handler if uniqueness is required."}], "tags": [], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "is_accepted": false, "score": -1, "last_activity_date": 1430960818, "creation_date": 1430960818, "answer_id": 30090222, "question_id": 30089111, "link": "https://stackoverflow.com/questions/30089111/how-to-properly-insert-or-update-record-in-rails/30090222#30090222", "title": "How to properly insert or update record in rails?", "body": "<p>Because <code>begin...rescue</code> should not be used for that.</p>\n\n<p><code>begin...rescue</code> is for when an error condition occurs. </p>\n\n<p>Here is an example from <a href=\"http://rubylearning.com/satishtalim/ruby_exceptions.html\" rel=\"nofollow\">Ruby Learning</a>.</p>\n\n<pre><code>def inverse(x)  \n  raise ArgumentError, 'Argument is not numeric' unless x.is_a? Numeric  \n  1.0 / x  \nend\n</code></pre>\n\n<p>Your example of a duplicate record isn't really an \"error\", because it can happen whenever duplicate data is submitted.</p>\n\n<p><code>find_or_create_by</code> elegantly handles both cases, without the notion of an \"error condition\".</p>\n"}], "owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 751, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1430983200, "creation_date": 1430953191, "last_edit_date": 1495541178, "question_id": 30089111, "link": "https://stackoverflow.com/questions/30089111/how-to-properly-insert-or-update-record-in-rails", "title": "How to properly insert or update record in rails?", "body": "<p>Apparently, I saw <a href=\"https://stackoverflow.com/questions/9373540/rails-3-1-active-record-insert-or-update\">all</a> <a href=\"https://stackoverflow.com/questions/14599113/activerecord-update-a-record-if-exists-else-create\">those</a> <a href=\"https://stackoverflow.com/questions/12988091/rails-3-2-8-insert-or-update-based-on-condition\">questions</a> with answers like: \"Use <code>find_or_create_by</code>/<code>initialize_by(&lt;cols&gt;)</code>.\"</p>\n\n<p>And the question is: \"Is it just me, or those answers are a little bit 'broken'?\" If one asks for insert or update, it usually means that the records are supposed to be unique: no two records with matching <code>&lt;cols&gt;</code> should exist. Following those answers one will either eventually get duplicate rows in database, or will occasionally have exceptions (if uniqueness is enforced with unique index).</p>\n\n<p>Why nobody suggests this way?</p>\n\n<pre><code>begin\n  Counter.create(name: '...', value: 1)\nrescue ActiveRecord::RecordNotUnique\n  Counter.where(name: '...').update_all('value = value + 1')\nend\n</code></pre>\n\n<p>So which is it? Should I go with <code>find_or_create_by</code>/<code>initialize_by</code>? Or should I rely on db's unique index? On a side note, I can't think of any case where one wants to do insert or update <em>and</em> okay with having duplicate rows.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "performance", "postgresql", "orm"], "comments": [{"owner": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 1, "creation_date": 1437861862, "post_id": 30089073, "comment_id": 51210342, "body": "That guy who opened that issue?  He&#39;s doing it wrong.  There&#39;s no way to guarantee that the values in the first table&#39;s array exist in the table it is referencing.  That&#39;s why no one does this.  Unless you&#39;re doing your joins wrong or don&#39;t have the appropriate indexes in place, the amount of overhead produced from joining in 2 extra tables in your query is negligible."}], "answers": [{"tags": [], "owner": {"reputation": 2957, "user_id": 2651774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nuslP.jpg?s=128&g=1", "display_name": "seanlinsley", "link": "https://stackoverflow.com/users/2651774/seanlinsley"}, "is_accepted": false, "score": 1, "last_activity_date": 1608659786, "last_edit_date": 1608659786, "creation_date": 1437860603, "answer_id": 31631447, "question_id": 30089073, "link": "https://stackoverflow.com/questions/30089073/use-postgres-array-column-for-rails-many-to-many-relationship/31631447#31631447", "title": "Use Postgres Array Column for Rails Many-to-Many Relationship", "body": "<p>EDITOR: On the page of this gem it says, use it on your own risk</p>\n<blockquote>\n<p>WARNING: This gem is a work in progress and hasn't released yet.</p>\n</blockquote>\n<p>I haven't tried it yet, but appears that someone built a gem to support arrays for associations: <a href=\"https://github.com/marshall-lee/has_array_of\" rel=\"nofollow noreferrer\">https://github.com/marshall-lee/has_array_of</a>. Copying from the README:</p>\n<h1>How does it work?</h1>\n<p>Suppose we have a playlist that contains many videos. One video can be included in many playlists. It's a classic many-to-many situation but we implement it differently.</p>\n<pre><code># db/migrate/20141027125227_create_playlist.rb\nclass CreatePlaylist &lt; ActiveRecord::Migration\n  def change\n    create_table :playlists do |t|\n      t.integer :video_ids, array: true # adding array fields works only starting from Rails 4\n      t.index :video_ids, using: :gin   # we add GIN index to speed up specific queries on array\n    end\n  end\nend\n\n# app/models/playlist.rb\nclass Playlist &lt; ActiveRecord::Base\n  has_array_of :videos  # by convention, it assumes that Post has a video_ids array field\nend\n\n# app/models/video.rb\nclass Video &lt; ActiveRecord::Base\n  belongs_to_array_in_many :playlists # optional\nend\n</code></pre>\n<p>Now we can work with <code>videos</code> like with regular array. It will correctly proxy all changes to <code>video_ids</code> field.</p>\n<pre><code>playlist = Playlist.find(1)\nplaylist.videos = [video1,video2]  # playlist.video_ids = [1, 2]\nplaylist.videos[0] = video3        # playlist.video_ids[0] = 3\nplaylist.videos.insert(1, video4)  # playlist.video_ids = [3, 4, 2]\nplaylist.videos.delete_at(1)       # playlist.video_ids = [3, 2]\nplaylist.videos.pop                # playlist.video_ids = [3]\n# ... and so on\n\nvideo3.playlists\n# =&gt; [playlist]\n</code></pre>\n"}], "owner": {"reputation": 6019, "user_id": 1149459, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6ejcM.png?s=128&g=1", "display_name": "Eric H.", "link": "https://stackoverflow.com/users/1149459/eric-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1790, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1608659786, "creation_date": 1430952949, "last_edit_date": 1430953843, "question_id": 30089073, "link": "https://stackoverflow.com/questions/30089073/use-postgres-array-column-for-rails-many-to-many-relationship", "title": "Use Postgres Array Column for Rails Many-to-Many Relationship", "body": "<p>I've been hearing lately that some <code>many-to-many</code> and <code>one-to-many</code> relationships (without additional join data, eg user-membership-group) can be queried <em>significantly</em> faster in Postgres using array columns of id's rather than join tables <a href=\"https://github.com/tgriesser/bookshelf/issues/363\" rel=\"nofollow\">see discussion for Node Postgres ORM</a>. </p>\n\n<p>For a <code>many-to-many</code> relationship, choosing which table (or both) to maintain the relationship arrays would depend on which direction the query goes (users&lt;->groups would need array columns on both tables, users->tag would only require the relationship to be maintained in an array column on the users table only.</p>\n\n<p>Several questions:</p>\n\n<ul>\n<li>Are there any gems (Rails or otherwise) that are using the new Postgres array column to maintain relationships?</li>\n<li>Does anyone have any benchmarks for comparing a simple join table vs array column on a bi-directional and one directional <code>many-to-many</code> relationships? </li>\n<li>To capture the performance improvements with Ruby, very basic functionality would look something like below. Aside from configuration for custom primary keys, method and class names, do you see any obvious improvement to be made from the code below?</li>\n</ul>\n\n<p>```</p>\n\n<pre><code>module ArrayRelationships\n\n def self.included(base)\n   base.extend(ClassMethods)\n end\n\n module ClassMethods\n   # association must be lower case, pluralized name of associated class\n   def array_has_many(association)\n    define_method(association) do \n      instance_name = association.singularize\n      class_name = instance_name.titleize\n      class_name.constantize.where(id: self.send(\"#{instance_name}_ids\"))\n    end\n   end\n end\n end\n\n class User &lt;&lt; ActiveRecord::Base\n   include ArrayRelationships\n   array_has_many :tags\n end\n</code></pre>\n\n<p>Of course, the users table would have to have the <code>:tag_ids</code> array field in the database. If we wanted to add the inverse relationship for Tag#users, we would simply add the db field, include ArrayRelationships, and <code>array_has_many :users</code>.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "windows", "ruby-on-rails-3", "heroku"], "comments": [{"owner": {"reputation": 8545, "user_id": 2856441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca44efe87577e6c75bc508b38131072f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Kennedy", "link": "https://stackoverflow.com/users/2856441/joe-kennedy"}, "edited": false, "score": 1, "creation_date": 1430951999, "post_id": 30088908, "comment_id": 48290809, "body": "Did you run <code>bundle install</code> after adding that line to your Gemfile?"}, {"owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "edited": false, "score": 1, "creation_date": 1430952010, "post_id": 30088908, "comment_id": 48290816, "body": "Have you run <code>bundle install</code>?"}, {"owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "edited": false, "score": 0, "creation_date": 1430953100, "post_id": 30088908, "comment_id": 48291197, "body": "Yes I have ran bundle install since add the gem"}, {"owner": {"reputation": 447, "user_id": 4400945, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wh8dqBhRWFA/AAAAAAAAAAI/AAAAAAAAAB8/sTru1sWgFy8/photo.jpg?sz=128", "display_name": "tykowale", "link": "https://stackoverflow.com/users/4400945/tykowale"}, "edited": false, "score": 0, "creation_date": 1430960955, "post_id": 30088908, "comment_id": 48293367, "body": "in config/database.yml does it specify to use postgres?"}], "answers": [{"tags": [], "owner": {"reputation": 1407, "user_id": 6455212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a78aa4604a0d12d2a4b755ae8165d2?s=128&d=identicon&r=PG", "display_name": "Shahin", "link": "https://stackoverflow.com/users/6455212/shahin"}, "is_accepted": false, "score": 0, "last_activity_date": 1470921469, "creation_date": 1470921469, "answer_id": 38897530, "question_id": 30088908, "link": "https://stackoverflow.com/questions/30088908/installing-pg-gem-for-deploying-rails-app-via-heroku-windows/38897530#38897530", "title": "Installing pg gem for deploying rails app via heroku (windows)", "body": "<p>You need to specify in the config file using pg gem as well as running bundle install </p>\n"}], "owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470921469, "creation_date": 1430951883, "question_id": 30088908, "link": "https://stackoverflow.com/questions/30088908/installing-pg-gem-for-deploying-rails-app-via-heroku-windows", "title": "Installing pg gem for deploying rails app via heroku (windows)", "body": "<p>Running 'heroku run rails console' I get the following error:</p>\n\n<pre><code>Running `rails console` attached to terminal... up, run.7453\n    /app/vendor/bundle/ruby/2.1.0/gems/activerecord4.2.1/lib/active_record/connection_adapters/connection_specification.rb:177:in\n `rescue in spec': Specified 'postgresql' for database adapter, but the gem is\n not loaded. Add `gem 'pg'` to your Gemfile (and ensure its version is at the\n minimum required by ActiveRecord). (Gem::LoadError)\n</code></pre>\n\n<p>This is in my Gemfile :</p>\n\n<pre><code>gem 'pg', '~&gt; 0.18.1'\n</code></pre>\n"}, {"tags": ["ruby", "rspec", "rspec3", "rexml"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1430980891, "post_id": 30088334, "comment_id": 48299622, "body": "Can you show us what you tried. Some sample data and what you expect the output to be, and what the actual output was instead?"}, {"owner": {"reputation": 39041, "user_id": 27358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fed1635f89478c88eda07e87de452bcf?s=128&d=identicon&r=PG", "display_name": "David Moles", "link": "https://stackoverflow.com/users/27358/david-moles"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1431035181, "post_id": 30088334, "comment_id": 48335372, "body": "I don&#39;t think it&#39;s worth showing. String comparison is a dead-end approach without first converting it to <a href=\"http://www.w3.org/TR/xml-c14n2/\" rel=\"nofollow noreferrer\">canonical XML</a> or something."}, {"owner": {"reputation": 39041, "user_id": 27358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fed1635f89478c88eda07e87de452bcf?s=128&d=identicon&r=PG", "display_name": "David Moles", "link": "https://stackoverflow.com/users/27358/david-moles"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 1, "creation_date": 1431035279, "post_id": 30088334, "comment_id": 48335406, "body": "Also, it&#39;s not really a question of a mismatch between actual results and expectations. If I&#39;m converting two XML elements to strings, and they differ only in the order (though not names or values) of their attributes, I pretty much know comparing the strings is going to fail."}], "answers": [{"tags": [], "owner": {"reputation": 39041, "user_id": 27358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fed1635f89478c88eda07e87de452bcf?s=128&d=identicon&r=PG", "display_name": "David Moles", "link": "https://stackoverflow.com/users/27358/david-moles"}, "is_accepted": true, "score": 0, "last_activity_date": 1527883708, "creation_date": 1527883708, "answer_id": 50650387, "question_id": 30088334, "link": "https://stackoverflow.com/questions/30088334/compare-rexml-elements-for-name-attribute-equality-in-rspec/50650387#50650387", "title": "Compare REXML elements for name/attribute equality in RSpec", "body": "<p>I ended up using the <a href=\"https://rubygems.org/gems/equivalent-xml/versions/0.6.0\" rel=\"nofollow noreferrer\"><code>equivalent-xml</code></a> gem and writing an RSpec <a href=\"https://relishapp.com/rspec/rspec-expectations/v/3-7/docs/custom-matchers\" rel=\"nofollow noreferrer\">custom matcher</a> to convert the REXML to Nokogiri, compare with <code>equivalent-xml</code>, and pretty-print the result if needed.</p>\n\n<p>The test assertion is pretty simple:</p>\n\n<pre><code>expect(actual).to be_xml(expected)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>expect(actual).to be_xml(expected, path)\n</code></pre>\n\n<p>if you want to display the file path or some sort of identifier (e.g. if you're comparing a lot of documents).</p>\n\n<p>The match code is a little fancier than it needs to be because it handles REXML, Nokogiri, and strings.</p>\n\n<pre><code>  module XMLMatchUtils\n    def self.to_nokogiri(xml)\n      return nil unless xml\n      case xml\n      when Nokogiri::XML::Element\n        xml\n      when Nokogiri::XML::Document\n        xml.root\n      when String\n        to_nokogiri(Nokogiri::XML(xml, &amp;:noblanks))\n      when REXML::Element\n        to_nokogiri(xml.to_s)\n      else\n        raise \"be_xml() expected XML, got #{xml.class}\"\n      end\n    end\n\n    def self.to_pretty(nokogiri)\n      return nil unless nokogiri\n      out = StringIO.new\n      save_options = Nokogiri::XML::Node::SaveOptions::FORMAT | Nokogiri::XML::Node::SaveOptions::NO_DECLARATION\n      nokogiri.write_xml_to(out, encoding: 'UTF-8', indent: 2, save_with: save_options)\n      out.string\n    end\n\n    def self.equivalent?(expected, actual, filename = nil)\n      expected_xml = to_nokogiri(expected) || raise(\"expected value #{expected || 'nil'} does not appear to be XML#{\" in #{filename}\" if filename}\")\n      actual_xml = to_nokogiri(actual)\n\n      EquivalentXml.equivalent?(expected_xml, actual_xml, element_order: false, normalize_whitespace: true)\n    end\n\n    def self.failure_message(expected, actual, filename = nil)\n      expected_string = to_pretty(to_nokogiri(expected))\n      actual_string = to_pretty(to_nokogiri(actual)) || actual\n\n      # Uncomment this to dump expected/actual to file for manual diffing\n      #\n      # now = Time.now.to_i\n      # FileUtils.mkdir('tmp') unless File.directory?('tmp')\n      # File.open(\"tmp/#{now}-expected.xml\", 'w') { |f| f.write(expected_string) }\n      # File.open(\"tmp/#{now}-actual.xml\", 'w') { |f| f.write(actual_string) }\n\n      diff = Diffy::Diff.new(expected_string, actual_string).to_s(:text)\n\n      \"expected XML differs from actual#{\" in #{filename}\" if filename}:\\n#{diff}\"\n    end\n\n    def self.to_xml_string(actual)\n      to_pretty(to_nokogiri(actual))\n    end\n\n    def self.failure_message_when_negated(actual, filename = nil)\n      \"expected not to get XML#{\" in #{filename}\" if filename}:\\n\\t#{to_xml_string(actual) || 'nil'}\"\n    end\n  end\n</code></pre>\n\n<p>The actual matcher is fairly straightforward:    </p>\n\n<pre><code>  RSpec::Matchers.define :be_xml do |expected, filename = nil|\n    match do |actual|\n      XMLMatchUtils.equivalent?(expected, actual, filename)\n    end\n\n    failure_message do |actual|\n      XMLMatchUtils.failure_message(expected, actual, filename)\n    end\n\n    failure_message_when_negated do |actual|\n      XMLMatchUtils.failure_message_when_negated(actual, filename)\n    end\n  end\n</code></pre>\n"}], "owner": {"reputation": 39041, "user_id": 27358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fed1635f89478c88eda07e87de452bcf?s=128&d=identicon&r=PG", "display_name": "David Moles", "link": "https://stackoverflow.com/users/27358/david-moles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 50650387, "answer_count": 1, "score": 1, "last_activity_date": 1527883719, "creation_date": 1430949403, "last_edit_date": 1527883719, "question_id": 30088334, "link": "https://stackoverflow.com/questions/30088334/compare-rexml-elements-for-name-attribute-equality-in-rspec", "title": "Compare REXML elements for name/attribute equality in RSpec", "body": "<p>Is there a matcher for comparing REXML elements for logical equality in RSpec? I tried writing a custom matcher that converts them to formatted strings, but it fails if the attribute order is different. (As <a href=\"http://www.w3.org/TR/REC-xml/#sec-starttags\" rel=\"nofollow\">noted in the XML spec</a>, the order of attributes should not be significant.)</p>\n\n<p>I could grind through writing a custom matcher that compares the name, namespace, child nodes, attributes, etc., etc., but this seems time-consuming and error-prone, and if someone else has already done it I'd rather not reinvent the wheel.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "rake"], "comments": [{"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 1, "creation_date": 1430949190, "post_id": 30088264, "comment_id": 48289643, "body": "Have you run <code>bundle install</code> yet?"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1430949347, "post_id": 30088264, "comment_id": 48289721, "body": "sorry forgetten to mention. Yes of course done it severel times. also deleted the Gemfile.lock several times"}, {"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1430949406, "post_id": 30088264, "comment_id": 48289751, "body": "What&#39;s your rails  version?"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1430949442, "post_id": 30088264, "comment_id": 48289772, "body": "I&#39;ve got Rails 4.2 ... I have uprgaded from 3.2.12"}, {"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1430949496, "post_id": 30088264, "comment_id": 48289792, "body": "<code>prototype-rails</code> mentions that it might not work on rails 4.1 and above. try reverting to a lower rails version and see what happens. if that makes it work, then the rails version is breaking things."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1430949553, "post_id": 30088264, "comment_id": 48289814, "body": "hmmm ... do you know whats going on when I delete the gem? what does prototype do?"}, {"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1430949570, "post_id": 30088264, "comment_id": 48289825, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/77129/discussion-between-micah-and-felix\">continue this discussion in chat</a>."}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430950651, "creation_date": 1430949075, "last_edit_date": 1430950651, "question_id": 30088264, "link": "https://stackoverflow.com/questions/30088264/error-while-running-rake-command", "title": "Error while running rake command", "body": "<p>I got this error:</p>\n\n<pre><code>git://github.com/rails/prototype-rails.git (at 4.2) is not yet checked out. Run `bundle install` first.\n</code></pre>\n\n<p>When I run this:</p>\n\n<pre><code>sudo rake crons:generate\n</code></pre>\n\n<p>From what does this come? And how can I solve this?</p>\n\n<p>I have defined this in the gemfile:</p>\n\n<pre><code>gem 'prototype-rails', :github =&gt; 'rails/prototype-rails', :branch =&gt; '4.2'\n</code></pre>\n\n<p>Everything else works fine except for the cronjob.</p>\n\n<p>This is the GemFile:</p>\n\n<pre><code>source 'http://rubygems.org'\ngem 'rails', '4.2.0'\ngem \"airbrake\"\n#gem \"mysql\"\n#gem 'mysql2',  '~&gt;0.3.7'\ngem 'mysql2', '~&gt;0.3.9'\ngem 'fastercsv'\ngem 'newrelic_rpm', :group =&gt; [:production, :staging]\ngem \"xml-simple\", :require =&gt; \"xmlsimple\"\ngem \"will_paginate\", \"~&gt; 3.0.0\"\ngem \"json\", '1.7.7'\ngem \"default_value_for\"\ngem \"whenever\"\ngem 'charlock_holmes'\ngem 'rails_autolink'\ngem 'mocha'\ngem 'daemons'\ngem \"paperclip\", \"~&gt; 4.2\"\ngem 'thread_safe', '0.3.5'\ngem 'web-console', '~&gt; 2.1.2'\n\ngroup :development do\n gem 'capistrano'\n gem 'capistrano-ext'\n gem 'railroady'\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "activerecord", "model"], "comments": [{"owner": {"reputation": 564, "user_id": 1063998, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4c63266bcec44bdb115df81ddfc67fca?s=128&d=identicon&r=PG", "display_name": "user1063998", "link": "https://stackoverflow.com/users/1063998/user1063998"}, "edited": false, "score": 0, "creation_date": 1430951406, "post_id": 30088099, "comment_id": 48290619, "body": "I think you are after a join, not an include. An includes statement will preload the car and company records that are associated with the results of the query. The query is failing because you haven&#39;t joined to the <code>cars</code> or <code>companies</code> table. Try replacing <code>includes</code> with <code>joins</code> as I don&#39;t think includes will be necessary (unless after running the search you will need to know the owner&#39;s car and company, in which case preloading will improve performance)"}, {"owner": {"reputation": 3232, "user_id": 2430657, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8bfe1d100d07683f88d44c5fb17bc416?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2430657/alexander"}, "reply_to_user": {"reputation": 564, "user_id": 1063998, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4c63266bcec44bdb115df81ddfc67fca?s=128&d=identicon&r=PG", "display_name": "user1063998", "link": "https://stackoverflow.com/users/1063998/user1063998"}, "edited": false, "score": 0, "creation_date": 1430952830, "post_id": 30088099, "comment_id": 48291112, "body": "I tried replacing <code>includes</code> with <code>joins</code>, and it unfortunately didn&#39;t resolve the issue."}], "answers": [{"comments": [{"owner": {"reputation": 3232, "user_id": 2430657, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8bfe1d100d07683f88d44c5fb17bc416?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2430657/alexander"}, "edited": false, "score": 0, "creation_date": 1430952952, "post_id": 30088492, "comment_id": 48291156, "body": "Thank you very much for the help! It does the same thing, but I ended up changing the syntax for the <code>includes</code> to Rails 3+ like so: <code>@results = Owner.includes(car: [ :company ]).where(&quot;name LIKE ? OR cars.name LIKE ? OR companies.name LIKE ?&quot;, sql_query, sql_query, sql_query).references(:cars, :companies)</code>"}], "tags": [], "owner": {"reputation": 1329, "user_id": 4067206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744808f16c60746bdad874140156c809?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/4067206/mario"}, "is_accepted": true, "score": 2, "last_activity_date": 1430950010, "creation_date": 1430950010, "answer_id": 30088492, "question_id": 30088099, "link": "https://stackoverflow.com/questions/30088099/rails-4-1-activerecord-using-associated-model-properties-in-query/30088492#30088492", "title": "Rails 4.1 ActiveRecord - Using Associated Model Properties in Query", "body": "<p>You need to use the <code>references</code> method in order for Rails to add the JOIN it needs. <a href=\"http://apidock.com/rails/ActiveRecord/QueryMethods/references\" rel=\"nofollow\">Like so</a>.</p>\n\n<p>Your code would turn into</p>\n\n<pre><code>@results = Owner.includes(:car =&gt; :company).where(\"name LIKE ? OR cars.name LIKE ? OR companies.name LIKE ?\", sql_query, sql_query, sql_query).references(:cars, :companies)\n</code></pre>\n\n<p>Please notice that <code>references</code> uses the actual table name, unlike <code>includes</code> which uses association names</p>\n"}], "owner": {"reputation": 3232, "user_id": 2430657, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8bfe1d100d07683f88d44c5fb17bc416?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2430657/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 30088492, "answer_count": 1, "score": 0, "last_activity_date": 1430950010, "creation_date": 1430948430, "last_edit_date": 1495540283, "question_id": 30088099, "link": "https://stackoverflow.com/questions/30088099/rails-4-1-activerecord-using-associated-model-properties-in-query", "title": "Rails 4.1 ActiveRecord - Using Associated Model Properties in Query", "body": "<p>I'm building a search in my app, and I have three models: Company, Car, and Owner</p>\n\n<pre><code>class Company &lt; ActiveRecord::Base\n  has_many :cars\nend\n\nclass Car &lt; ActiveRecord::Base\n  belongs_to :company\n  has_many :owners\nend\n\nclass Owner &lt; ActiveRecord::Base\n  belongs_to :car\nend\n</code></pre>\n\n<p>Each model has a <code>name</code> field.</p>\n\n<p>I'm trying to write an ActiveRecord query that returns all owners whose names, car name, or car's company name contains the search query. So if the owner's name doesn't contain the search query but his car's name does, the owner will still be returned.</p>\n\n<p>Here's what I've got going so far:</p>\n\n<pre><code>sql_query = \"%honda%\"\n\n@results = Owner.includes(:car =&gt; :company).where(\"name LIKE ? OR cars.name LIKE ? OR companies.name LIKE ?\", sql_query, sql_query, sql_query)\n</code></pre>\n\n<p>However, I'm receiving the following error message when the query is run:</p>\n\n<pre><code>PG::UndefinedTable: ERROR:  missing FROM-clause entry for table \"cars\"\n</code></pre>\n\n<p>I've looked at the marked answer on <a href=\"https://stackoverflow.com/questions/11149340/nested-association-join-in-rails\">this</a> SO question, but the answer doesn't seem to be working when I apply it to my models.</p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "is_accepted": false, "score": 1, "last_activity_date": 1430948346, "last_edit_date": 1430948346, "creation_date": 1430947922, "answer_id": 30087950, "question_id": 30087865, "link": "https://stackoverflow.com/questions/30087865/ruby-on-rails-require-doesnt-work/30087950#30087950", "title": "Ruby on Rails require doesn&#39;t work?", "body": "<p><code>require</code>just loads file's content in memory, so you still have to use <code>FromDb::Users::UserBase</code> and I recommend it, its clearer.</p>\n\n<p>You cant camelize the name: its is meant to be a file name.</p>\n\n<p>You have to give the path from the root, its safer:</p>\n\n<pre><code>require \"#{Rails.root}/app/models/from_db/users/user_base\"\n</code></pre>\n\n<p>Notice you dont need <code>require</code> since you have your code in <code>/app</code></p>\n\n<hr>\n\n<p>in order to create a shortcut you could do:</p>\n\n<pre><code>def default\n  user = user_base_class.new\nend\n\ndef user_base_class\n  ::FromDb::Users::UserBase\nend\n</code></pre>\n\n<p>this way you dont create useless constant.</p>\n"}, {"comments": [{"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "edited": false, "score": 2, "creation_date": 1430948193, "post_id": 30088014, "comment_id": 48289163, "body": "I wouldnt include a <code>module</code> for so called <code>shortcut</code> sake, you;d just pollute and duplicate methods and classes all over the place + danger of collisions"}], "tags": [], "owner": {"reputation": 1746, "user_id": 1364489, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a14de6f4e93dddde282d1edd68029f6b?s=128&d=identicon&r=PG", "display_name": "apotry", "link": "https://stackoverflow.com/users/1364489/apotry"}, "is_accepted": false, "score": 2, "last_activity_date": 1430948817, "last_edit_date": 1430948817, "creation_date": 1430948104, "answer_id": 30088014, "question_id": 30087865, "link": "https://stackoverflow.com/questions/30087865/ruby-on-rails-require-doesnt-work/30088014#30088014", "title": "Ruby on Rails require doesn&#39;t work?", "body": "<p>With regards to the first question, try the following to import the namespace</p>\n\n<pre><code>include FromDb::Users\n</code></pre>\n\n<p>Don't use imports all over the place as they might cause conflicts within your class (see comment by apneadiving).</p>\n\n<p>Or simply create an alias:</p>\n\n<pre><code>FUsers = FromDb::Users\nFUsers::UserBase.new...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 3232354, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1744440947/picture?type=large", "display_name": "user3232354", "link": "https://stackoverflow.com/users/3232354/user3232354"}, "edited": false, "score": 0, "creation_date": 1431113950, "post_id": 30088015, "comment_id": 48373244, "body": "Thank you. It helps me to better understand Rails :) + Information about autoreloading is a nice tip"}], "tags": [], "owner": {"reputation": 4008, "user_id": 473691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70392f746cd5f360decc22e04ae99215?s=128&d=identicon&r=PG", "display_name": "James Mason", "link": "https://stackoverflow.com/users/473691/james-mason"}, "is_accepted": true, "score": 2, "last_activity_date": 1430948106, "creation_date": 1430948106, "answer_id": 30088015, "question_id": 30087865, "link": "https://stackoverflow.com/questions/30087865/ruby-on-rails-require-doesnt-work/30088015#30088015", "title": "Ruby on Rails require doesn&#39;t work?", "body": "<p>While <code>require</code> is similar to Java's <code>import</code>, it doesn't have any of the namespace manipulation stuff that <code>import</code> provides. If you <em>really</em> want to have shorter references, you'll need to create them yourself.</p>\n\n<pre><code>class MyController &lt; ApplicationController\n  UserBase = FromDb::Users::UserBase\n\n  def default\n    user = UserBase.new\n    # ... etc\n  end\nend\n</code></pre>\n\n<p>Also, since this is a Rails application, you don't need the explicit call to <code>require</code> (and it's better if you leave it off). If you name everything following the standard conventions, Rails will <code>require</code> the file for you automatically, then reload it whenever the file changes. If you do a manual <code>require</code> you'll lose the autoreloading.</p>\n"}], "owner": {"reputation": 51, "user_id": 3232354, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1744440947/picture?type=large", "display_name": "user3232354", "link": "https://stackoverflow.com/users/3232354/user3232354"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 30088015, "answer_count": 3, "score": 0, "last_activity_date": 1430948817, "creation_date": 1430947614, "question_id": 30087865, "link": "https://stackoverflow.com/questions/30087865/ruby-on-rails-require-doesnt-work", "title": "Ruby on Rails require doesn&#39;t work?", "body": "<p>It's my first RoR application.</p>\n\n<p>I want to use this class (app/models/from_db/users/user_base.rb)</p>\n\n<pre><code>module FromDb::Users\n  class UserBase\n      include ActiveModel::Serializers::JSON\n\n      attr_accessor :Login, :Email\n end\nend\n</code></pre>\n\n<p>In this controller (app/controllers/my_controller.rb)</p>\n\n<pre><code>class MyController &lt; ApplicationController\n  require \"from_db/users/user_base\"\n\n  def default\n    user = UserBase.new\n    user.Login = \"Marcin\"\n    user.Email = \"ja@gmail.com\"\n  end\nend\n</code></pre>\n\n<p>user = UserBase.new throw this error:</p>\n\n<blockquote>\n  <p>uninitialized constant MyController::UserBase</p>\n</blockquote>\n\n<p>When I put FromDb::Users::UserBase.new everything works fine but I thought that 'require' is like 'using' in C# or 'import' in java. I don't want to have to put this namespace all time before class from other dir. What I am doing wrong?</p>\n\n<p>My second question. Is any way to write <strong>require \"FromDb/Users/UserBase\"</strong> instand of <strong>require \"from_db/users/user_base\"</strong> ? Now when I put first version (FromDb/Users/UserBase) it throw that error: </p>\n\n<blockquote>\n  <p>cannot load such file -- FromDb/Users/UserBase</p>\n</blockquote>\n\n<p>I use ruby 2.1.5 and Rails 4.2.1</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "amazon-web-services", "amazon-elastic-beanstalk"], "comments": [{"owner": {"reputation": 15775, "user_id": 634513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/328293e03f2d7b888ecf197ec1ffb7a7?s=128&d=identicon&r=PG", "display_name": "Ismael Abreu", "link": "https://stackoverflow.com/users/634513/ismael-abreu"}, "edited": false, "score": 1, "creation_date": 1430948932, "post_id": 30087816, "comment_id": 48289522, "body": "This looks like the server has not enough memory to compile the assets. Could you maybe try to compile them locally?"}, {"owner": {"reputation": 15775, "user_id": 634513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/328293e03f2d7b888ecf197ec1ffb7a7?s=128&d=identicon&r=PG", "display_name": "Ismael Abreu", "link": "https://stackoverflow.com/users/634513/ismael-abreu"}, "edited": false, "score": 1, "creation_date": 1430948957, "post_id": 30087816, "comment_id": 48289532, "body": "Also, I think you can simply do <code>&#47;&#47;= require components&#47;bootstrap&#47;dist&#47;js&#47;bootstrap.min</code>"}, {"owner": {"reputation": 5648, "user_id": 1492005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jLmY9.jpg?s=128&g=1", "display_name": "Jaison Brooks", "link": "https://stackoverflow.com/users/1492005/jaison-brooks"}, "reply_to_user": {"reputation": 15775, "user_id": 634513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/328293e03f2d7b888ecf197ec1ffb7a7?s=128&d=identicon&r=PG", "display_name": "Ismael Abreu", "link": "https://stackoverflow.com/users/634513/ismael-abreu"}, "edited": false, "score": 0, "creation_date": 1430950669, "post_id": 30087816, "comment_id": 48290334, "body": "Thanks for the response @IsmaelAbreu . After further investigation, it seems my issue was related to just a very large amount of assets in my vendor/assets/components/*  that i actually didnt need. I have resolved the issue."}, {"owner": {"reputation": 15775, "user_id": 634513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/328293e03f2d7b888ecf197ec1ffb7a7?s=128&d=identicon&r=PG", "display_name": "Ismael Abreu", "link": "https://stackoverflow.com/users/634513/ismael-abreu"}, "edited": false, "score": 1, "creation_date": 1430950717, "post_id": 30087816, "comment_id": 48290349, "body": "Oh. Cool! Don&#39;t forget to add that as an answer as it can help others in the future."}, {"owner": {"reputation": 394, "user_id": 3774664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a0983fee248833a9feb94b294ff806?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/3774664/vishal"}, "edited": false, "score": 1, "creation_date": 1483786148, "post_id": 30087816, "comment_id": 70246931, "body": "Was getting the same error and removing some of the assets didn&#39;t help. Adding swap did it for me as explained in this answer - <a href=\"http://stackoverflow.com/questions/11013755/rails-assets-pipeline-cannot-allocate-memory-nodejs\" title=\"rails assets pipeline cannot allocate memory nodejs\">stackoverflow.com/questions/11013755/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5648, "user_id": 1492005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jLmY9.jpg?s=128&g=1", "display_name": "Jaison Brooks", "link": "https://stackoverflow.com/users/1492005/jaison-brooks"}, "is_accepted": true, "score": 3, "last_activity_date": 1430950763, "creation_date": 1430950763, "answer_id": 30088669, "question_id": 30087816, "link": "https://stackoverflow.com/questions/30087816/elastic-beanstalkrails-deploy-issue-cannot-allocate-memory/30088669#30088669", "title": "Elastic beanstalk[Rails] deploy issue - Cannot allocate memory", "body": "<p>The issue has been resolved by removing a large amount of assets that were not needed or used, for instance i had the entire bootstrap project source and a few 3rd party library project source tree's and corresponding files, instead of just the src files that i was using. </p>\n"}], "owner": {"reputation": 5648, "user_id": 1492005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jLmY9.jpg?s=128&g=1", "display_name": "Jaison Brooks", "link": "https://stackoverflow.com/users/1492005/jaison-brooks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "accepted_answer_id": 30088669, "answer_count": 1, "score": 2, "last_activity_date": 1430950763, "creation_date": 1430947476, "question_id": 30087816, "link": "https://stackoverflow.com/questions/30087816/elastic-beanstalkrails-deploy-issue-cannot-allocate-memory", "title": "Elastic beanstalk[Rails] deploy issue - Cannot allocate memory", "body": "<p>I'm experiencing the below error when deploying to Elastic beanstalk. This is a ruby app running Rails 4.1.9 and Ruby 2.1.4 on Puma.</p>\n\n<p>The stacktrace is as follows:</p>\n\n<pre><code>Errno::ENOMEM: Cannot allocate memory - node\n(in /var/app/ondeck/app/assets/javascripts/my_javascript.js)\n</code></pre>\n\n<p>My javascript file is pretty basic, it looks like this</p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require ../../../vendor/assets/components/bootstrap/dist/js/bootstrap.min\n//= require ../../../vendor/assets/components/thirdpartylib.js\n\n... and then basic functions\n</code></pre>\n\n<p>Unsure why exactly this is failing. I have not changed anything in the javascript file or the vendor assets.</p>\n\n<p>Any ideas on how to resolve will be greatly appreciated.</p>\n"}, {"tags": ["ruby", "printing", "link-to"], "comments": [{"owner": {"reputation": 470, "user_id": 3843343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77f7394cd7daa550d757575afe7f9d95?s=128&d=identicon&r=PG&f=1", "display_name": "Sprout", "link": "https://stackoverflow.com/users/3843343/sprout"}, "edited": false, "score": 0, "creation_date": 1430944516, "post_id": 30086989, "comment_id": 48287292, "body": "Tried this also  &lt;%= link_to_function(&quot;Print this Page&quot;, &quot;javascript:print()&quot;), class: &quot;btn btn-primary&quot; %&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 3843343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77f7394cd7daa550d757575afe7f9d95?s=128&d=identicon&r=PG&f=1", "display_name": "Sprout", "link": "https://stackoverflow.com/users/3843343/sprout"}, "edited": false, "score": 0, "creation_date": 1430945659, "post_id": 30087148, "comment_id": 48287930, "body": "Thanks, would you know how I could generate a pdf doing this?"}], "tags": [], "owner": {"reputation": 21521, "user_id": 78613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fa1dc97175c4cc1ea4ecf506119961c?s=128&d=identicon&r=PG", "display_name": "Nick Veys", "link": "https://stackoverflow.com/users/78613/nick-veys"}, "is_accepted": true, "score": 7, "last_activity_date": 1430944941, "last_edit_date": 1495541030, "creation_date": 1430944941, "answer_id": 30087148, "question_id": 30086989, "link": "https://stackoverflow.com/questions/30086989/ruby-print-button/30087148#30087148", "title": "Ruby print button", "body": "<p>You need to tell the browser that you want to execute Javascript there.  So you either need to use <code>onClick</code>, which can be given via a <code>:onclick =&gt;</code> parameter, or prefix the code with <code>javascript:</code>.</p>\n\n<p>Here is a similar SO question: <a href=\"https://stackoverflow.com/questions/6789880/how-can-i-put-a-print-link-button-on-my-project-page-to-printout-an-infomation\">How can I put a print link/button on my project page to printout an infomation?</a></p>\n\n<p>Try something like this:</p>\n\n<pre><code>&lt;%= link_to \"Print\", '#', class: \"btn btn-primary\", \n            onclick: 'window.print();return false;' %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4286, "user_id": 2423093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ao9H5.png?s=128&g=1", "display_name": "Alex Peachey", "link": "https://stackoverflow.com/users/2423093/alex-peachey"}, "is_accepted": false, "score": 2, "last_activity_date": 1430945117, "creation_date": 1430945117, "answer_id": 30087199, "question_id": 30086989, "link": "https://stackoverflow.com/questions/30086989/ruby-print-button/30087199#30087199", "title": "Ruby print button", "body": "<p>I believe you are making this more complicated than it has to be. You don't need to use the <code>link_to</code> helper as you aren't doing anything that would benefit from it. Just use a simple <code>a</code> or <code>button</code> tag.</p>\n\n<p><code>&lt;a onclick='window.print(); return false;' class='btn btn-primary'&gt;Print&lt;/a&gt;</code></p>\n\n<p>or</p>\n\n<p><code>&lt;button onclick='window.print(); return false;' class='btn btn-primary'&gt;Print&lt;/button&gt;</code></p>\n"}], "owner": {"reputation": 470, "user_id": 3843343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77f7394cd7daa550d757575afe7f9d95?s=128&d=identicon&r=PG&f=1", "display_name": "Sprout", "link": "https://stackoverflow.com/users/3843343/sprout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "accepted_answer_id": 30087148, "answer_count": 2, "score": 1, "last_activity_date": 1430945117, "creation_date": 1430944439, "question_id": 30086989, "link": "https://stackoverflow.com/questions/30086989/ruby-print-button", "title": "Ruby print button", "body": "<pre><code> &lt;%= link_to \"Print\", 'window.print();return false;', class: \"btn btn-primary\" %&gt;\n</code></pre>\n\n<p>Trying to implement a print button but I don't know what format to use. Could anyone help me. I want it to be using the class btn btn-primary</p>\n"}, {"tags": ["ruby", "marc"], "comments": [{"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1430950850, "post_id": 30086975, "comment_id": 48290403, "body": "I think you also need to invert your logic. Iterate over the optional fields and check if each one is in the record."}, {"owner": {"reputation": 387, "user_id": 1463788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a87bd7788b25685b65135313865f5356?s=128&d=identicon&r=PG", "display_name": "ND Geek", "link": "https://stackoverflow.com/users/1463788/nd-geek"}, "reply_to_user": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1431008813, "post_id": 30086975, "comment_id": 48319149, "body": "@Max, You&#39;re correct. Thanks for the catch! I probably wouldn&#39;t have noticed the logic error until I had more specific use cases to test with and found I wasn&#39;t getting errors I expected to see."}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 1463788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a87bd7788b25685b65135313865f5356?s=128&d=identicon&r=PG", "display_name": "ND Geek", "link": "https://stackoverflow.com/users/1463788/nd-geek"}, "edited": false, "score": 0, "creation_date": 1431444072, "post_id": 30087597, "comment_id": 48495297, "body": "It took a little bit of experimentation and reading, but between Regexp.union and the triple-equals, I was able to get my code working.  One thing to note that gave me trouble is that the left side determines how <code>===</code> functions.  Without knowing that, it can be a bit messy."}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "reply_to_user": {"reputation": 387, "user_id": 1463788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a87bd7788b25685b65135313865f5356?s=128&d=identicon&r=PG", "display_name": "ND Geek", "link": "https://stackoverflow.com/users/1463788/nd-geek"}, "edited": false, "score": 0, "creation_date": 1431445186, "post_id": 30087597, "comment_id": 48496164, "body": "It&#39;s important to remember that <code>===</code> is a method, so it makes sense that the left side determines the behavior. The same goes for <code>==</code>, in fact."}, {"owner": {"reputation": 387, "user_id": 1463788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a87bd7788b25685b65135313865f5356?s=128&d=identicon&r=PG", "display_name": "ND Geek", "link": "https://stackoverflow.com/users/1463788/nd-geek"}, "edited": false, "score": 0, "creation_date": 1431445315, "post_id": 30087597, "comment_id": 48496292, "body": "Yeah, not being familiar with Ruby, that was new to me.  Now that I understand it, though, it&#39;s very useful."}], "tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": true, "score": 1, "last_activity_date": 1430946680, "creation_date": 1430946680, "answer_id": 30087597, "question_id": 30086975, "link": "https://stackoverflow.com/questions/30086975/in-ruby-how-can-i-test-input-strings-against-a-set-of-mixed-data-types/30087597#30087597", "title": "In ruby, how can I test input strings against a set of mixed data types?", "body": "<p>You probably want to use <code>===</code>, which you can read as \"kinda equals\". It works for both strings and regexps as you would expect:</p>\n\n<pre><code>'100' === '100'\n# true\n/1\\d\\d/ === '100'\n# true\n</code></pre>\n\n<p>For your arrays, you can use <a href=\"http://ruby-doc.org/core-2.2.2/Regexp.html#method-c-union\" rel=\"nofollow\"><code>Regexp.union</code></a> which turns an array of strings into a regexp that matches any of those strings.</p>\n"}], "owner": {"reputation": 387, "user_id": 1463788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a87bd7788b25685b65135313865f5356?s=128&d=identicon&r=PG", "display_name": "ND Geek", "link": "https://stackoverflow.com/users/1463788/nd-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 30087597, "answer_count": 1, "score": 2, "last_activity_date": 1430946680, "creation_date": 1430944364, "question_id": 30086975, "link": "https://stackoverflow.com/questions/30086975/in-ruby-how-can-i-test-input-strings-against-a-set-of-mixed-data-types", "title": "In ruby, how can I test input strings against a set of mixed data types?", "body": "<p>I'm attempting to write a rudimentary MARC validator in ruby based on a short list of required and optional but desirable fields, partly as an exercise to write something in ruby, which I'm not terribly familiar with.</p>\n\n<p>I've come up with what looks like valid ruby code to store my \"optional\" fields (and the script executes when this is enabled code):</p>\n\n<pre><code>Optional = ['006', '007', '010', '020', '022', {'040' =&gt; ['c']}, '041', ['050',  '060',  '082',  '086',  /09\\d/], {/1\\d\\d/ =&gt; ['a']}, {'240' =&gt; ['a']}, '250', {'260' =&gt; ['a',  'b',  'c']}, {'300' =&gt; ['a']}, '490', /7[0-5]\\d/, '830']\n</code></pre>\n\n<p>Based on my limited reading, this is technically feasible...but I'm not sure where to go from here.  I'd like to iterate over the various fields in the record and if a field (or subfield if noted) is missing, write a warning to the screen:</p>\n\n<pre><code>sysnum = record['001']\nrecord.fields.each do |field|\n  Optional.each do |optfield|\n    if field.tag =~ optfield\n      break\n    else\n      puts \"#{sysnum} is missing #{field.tag}\"\n    end\n  end\nend\n</code></pre>\n\n<p>However, that won't work for all of my cases, since not all of the <code>optfield</code> values will be a string. Should I be using an if block to test for hashes?  What about the regex values?  Will <code>=~</code> test true for when the right side isn't a regex (<code>string =~ otherstring</code> instead of <code>string =~ regex</code>)?</p>\n\n<p>Am I barking up the wrong tree altogether here?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "twitter-bootstrap", "cloud9-ide"], "comments": [{"owner": {"reputation": 2376, "user_id": 3311657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d1d7b5444ea5fbb3b5e0ecb8303a88e?s=128&d=identicon&r=PG", "display_name": "steve klein", "link": "https://stackoverflow.com/users/3311657/steve-klein"}, "edited": false, "score": 1, "creation_date": 1430944049, "post_id": 30086552, "comment_id": 48287011, "body": "What version of Rails are you running?  I believe if you are on Rails 4.2, it should be very easy to add Bootstrap."}, {"owner": {"reputation": 2376, "user_id": 3311657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d1d7b5444ea5fbb3b5e0ecb8303a88e?s=128&d=identicon&r=PG", "display_name": "steve klein", "link": "https://stackoverflow.com/users/3311657/steve-klein"}, "edited": false, "score": 1, "creation_date": 1430944663, "post_id": 30086552, "comment_id": 48287378, "body": "In <code>application.js</code> change the directive to <code>&#47;&#47;= require bootstrap</code>."}, {"owner": {"reputation": 2376, "user_id": 3311657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d1d7b5444ea5fbb3b5e0ecb8303a88e?s=128&d=identicon&r=PG", "display_name": "steve klein", "link": "https://stackoverflow.com/users/3311657/steve-klein"}, "edited": false, "score": 1, "creation_date": 1430944858, "post_id": 30086552, "comment_id": 48287493, "body": "You may need <code>gem &#39;sass-rails&#39;</code> (I use version 5.0.1).  Not sure if it is causing an issue, but I don&#39;t think you should change <code>application.css</code> - just add a new file like <code>custom.css.scss</code> to the same folder and put the two import commands there."}, {"owner": {"reputation": 45, "user_id": 2064404, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/NPF15.jpg?s=128&g=1", "display_name": "Malice Sloth", "link": "https://stackoverflow.com/users/2064404/malice-sloth"}, "reply_to_user": {"reputation": 2376, "user_id": 3311657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d1d7b5444ea5fbb3b5e0ecb8303a88e?s=128&d=identicon&r=PG", "display_name": "steve klein", "link": "https://stackoverflow.com/users/3311657/steve-klein"}, "edited": false, "score": 0, "creation_date": 1430959674, "post_id": 30086552, "comment_id": 48293030, "body": "Ruby &amp;&amp; Rails version:  ruby 2.1.5p273 (2014-11-13 revision 48405) [x86_64-linux] Rails 4.1.6"}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 4687895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31d016bf1923003fe6c93b29f1361c7?s=128&d=identicon&r=PG", "display_name": "William Dembinski", "link": "https://stackoverflow.com/users/4687895/william-dembinski"}, "is_accepted": true, "score": 1, "last_activity_date": 1430944295, "creation_date": 1430944295, "answer_id": 30086951, "question_id": 30086552, "link": "https://stackoverflow.com/questions/30086552/how-to-resolve-bootstrap-not-being-applied-on-rails-application-developed-on-clo/30086951#30086951", "title": "How to resolve bootstrap not being applied on rails application developed on cloud9 ide?", "body": "<p>There are several possibilities for your issue, however, we dont have enough info to help.  Useful info would be: Rails version, ruby version, a quick look at your gem-file etc.</p>\n\n<p>For the interim, just use these CDN's in your application.html.erb file in the layouts.</p>\n\n<p>CSS: <code>&lt;link rel='stylesheet' href=\"ttps://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css\"&gt;</code></p>\n\n<p>JS: <code>&lt;script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js'&gt;&lt;/script&gt;</code></p>\n\n<p>Things to definitely check:</p>\n\n<ul>\n<li>Gemfile syntax (<a href=\"http://bundler.io/gemfile.html\" rel=\"nofollow\">http://bundler.io/gemfile.html</a>)</li>\n<li>Whether your config file (application.css/js files)for the asset pipeline is set-up correctly.</li>\n<li>If you have any simple syntax issues anywhere. (I know, this is redundant.)</li>\n</ul>\n"}], "owner": {"reputation": 45, "user_id": 2064404, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/NPF15.jpg?s=128&g=1", "display_name": "Malice Sloth", "link": "https://stackoverflow.com/users/2064404/malice-sloth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "accepted_answer_id": 30086951, "answer_count": 1, "score": 0, "last_activity_date": 1435839150, "creation_date": 1430942892, "last_edit_date": 1435839150, "question_id": 30086552, "link": "https://stackoverflow.com/questions/30086552/how-to-resolve-bootstrap-not-being-applied-on-rails-application-developed-on-clo", "title": "How to resolve bootstrap not being applied on rails application developed on cloud9 ide?", "body": "<p>I'm a beginner in developing applications using Ruby on Rails and I'm currently signed up and using Cloud9 as my development IDE.</p>\n\n<p>I've created my first Rails project without a hitch and I'm following a tutorial on how to create a Rails website applying bootstrap. </p>\n\n<p>I've installed the necessary gems <code>bootstrap-sass</code> and <code>autoprefixer-rails</code>, renamed my <code>application.css</code> to <code>application.css.scss</code>, added <code>@import \"bootstrap-sprockets\"</code> &amp; <code>@import \"bootstrap\"</code>, added <code>//= require bootstrap-sprockets</code> to <code>application.js</code> and added a navbar copied directly from the bootstrap homepage.</p>\n\n<p>The tutorial I've been following is this youtube tutorial video:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=v002f5-9hx8\" rel=\"nofollow\">https://www.youtube.com/watch?v=v002f5-9hx8</a></p>\n\n<p>The problem is that after saving all changes and even after restarting my rails server, bootstrap never seems to be applied and I can't get it to work in my application. Any insights on this problem which may help me to resolve it. I've been trying to search google but it seems that it's a rare case so I can't find any good information to solve this problem.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-3"], "answers": [{"tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": false, "score": 1, "last_activity_date": 1430942830, "last_edit_date": 1430942830, "creation_date": 1430942479, "answer_id": 30086438, "question_id": 30086379, "link": "https://stackoverflow.com/questions/30086379/how-to-check-for-an-attribute-in-an-array-in-ruby-on-rails/30086438#30086438", "title": "how to check for an attribute in an array in ruby-on-rails", "body": "<p><code>User.where(id: [1,2,3])</code> would return a relation (which behaves pretty much as an array, but that's another story). It means, that is consists of objects - instances of <code>User</code> class.</p>\n\n<p>You check if this collection includes string (<code>'address'</code>). It is not, as you may guess by now. </p>\n\n<p>If you need to map all users by address, you can use <a href=\"http://apidock.com/rails/ActiveRecord/Calculations/pluck\" rel=\"nofollow\">pluck</a>:</p>\n\n<pre><code>User.where(id: [1,2,3]).pluck(:address)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 4515528, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TfEIc2wwaJI/AAAAAAAAAAI/AAAAAAAAAsM/sQFC1KjoZtA/photo.jpg?sz=128", "display_name": "pauloancheta", "link": "https://stackoverflow.com/users/4515528/pauloancheta"}, "is_accepted": false, "score": 0, "last_activity_date": 1430942657, "creation_date": 1430942657, "answer_id": 30086485, "question_id": 30086379, "link": "https://stackoverflow.com/questions/30086379/how-to-check-for-an-attribute-in-an-array-in-ruby-on-rails/30086485#30086485", "title": "how to check for an attribute in an array in ruby-on-rails", "body": "<p>You could use: <code>User.where(id: [1,2,3]).map(&amp;:address)</code> which will return an array containing the addresses. </p>\n\n<p>And you can use <code>User.where(id: [1,2,3]).map(&amp;:address).map(&amp;:present?)</code> if you want an array with true or false value</p>\n"}], "owner": {"reputation": 2908, "user_id": 662503, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/881a236ca533281bb9c9ac92f380b5a0?s=128&d=identicon&r=PG", "display_name": "rubyist", "link": "https://stackoverflow.com/users/662503/rubyist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1430960675, "creation_date": 1430942291, "last_edit_date": 1430960675, "question_id": 30086379, "link": "https://stackoverflow.com/questions/30086379/how-to-check-for-an-attribute-in-an-array-in-ruby-on-rails", "title": "how to check for an attribute in an array in ruby-on-rails", "body": "<p>I need to find whether a specific attribute is present or not with where statement that takes an array in ruby.</p>\n\n<p>I tried like the below.</p>\n\n<pre><code>User.where(id: [1,2,3]).include?('address')\n</code></pre>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "database"], "comments": [{"owner": {"reputation": 2808, "user_id": 1214183, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/377e94edc47e0b8e79f53de660b37011?s=128&d=identicon&r=PG", "display_name": "Josef Engelfrost", "link": "https://stackoverflow.com/users/1214183/josef-engelfrost"}, "edited": false, "score": 1, "creation_date": 1430942217, "post_id": 30086208, "comment_id": 48285843, "body": "Well, for starters it seems like your app is attempting to connect to the MySQL database without a password. Unfortunately I can&#39;t tell you why, but start by double checking your settings."}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 1, "creation_date": 1430942330, "post_id": 30086208, "comment_id": 48285913, "body": "The title of the question could be more descriptive."}, {"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1430949327, "post_id": 30086208, "comment_id": 48289709, "body": "what&#39;s the command you use to login to your sql server from the command line? do you specify the user as &quot;root&quot; there as well?"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4835232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-HO0QhbLZmnc/AAAAAAAAAAI/AAAAAAAAAE0/zq4oKIGBunE/photo.jpg?sz=128", "display_name": "tapas kumar Mahanta", "link": "https://stackoverflow.com/users/4835232/tapas-kumar-mahanta"}, "is_accepted": true, "score": 1, "last_activity_date": 1430943567, "creation_date": 1430943567, "answer_id": 30086746, "question_id": 30086208, "link": "https://stackoverflow.com/questions/30086208/mysql-doesnt-work-with-ruby-on-rails/30086746#30086746", "title": "mysql doesn&#39;t work with Ruby on Rails", "body": "<p>I was editing some global database.yml file previously .Then i found out a specific database.yml file on config folder of the project directory ,which i think is specific to that project.After few indentation errors ,Finally got it.  </p>\n"}], "owner": {"reputation": 61, "user_id": 4835232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-HO0QhbLZmnc/AAAAAAAAAAI/AAAAAAAAAE0/zq4oKIGBunE/photo.jpg?sz=128", "display_name": "tapas kumar Mahanta", "link": "https://stackoverflow.com/users/4835232/tapas-kumar-mahanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "accepted_answer_id": 30086746, "answer_count": 1, "score": 0, "last_activity_date": 1431123845, "creation_date": 1430941746, "last_edit_date": 1430942761, "question_id": 30086208, "link": "https://stackoverflow.com/questions/30086208/mysql-doesnt-work-with-ruby-on-rails", "title": "mysql doesn&#39;t work with Ruby on Rails", "body": "<p>Hi I am new to <strong>Ruby on Rails</strong>. I created a new project using <strong>Aptana Studio</strong> and started the server using <code>rails server</code> command. But when I'm trying to access the server via browser I'm getting the following error.</p>\n\n<p><a href=\"http://i.stack.imgur.com/7P0FE.png\" rel=\"nofollow\">http://i.stack.imgur.com/7P0FE.png</a></p>\n\n<pre><code>Access denied for user root@localhost (using password: NO)\n\n\n      socket = socket.to_s unless socket.nil?\n\n      connect user, pass, host, port, database, socket, flags\n    end\n\ndef self.default_query_options\n</code></pre>\n\n<p>Rails.root: /home/tapas/RubyWorkspace/myproj</p>\n\n<pre><code>Application Trace | Framework Trace | Full Trace\nmysql2 (0.3.18) lib/mysql2/client.rb:70:in `connect'\nmysql2 (0.3.18) lib/mysql2/client.rb:70:in `initialize'\nactiverecord (4.2.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'\nactiverecord (4.2.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'\n/home/tapas/.rbenv/versions/2.2.2/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'\n/home/tapas/.rbenv/versions/2.2.2/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'\nactiverecord (4.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'\nactiverecord (4.2.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'\nactiverecord (4.2.1) lib/active_record/connection_handling.rb:87:in `connection'\nactiverecord (4.2.1) lib/active_record/migration.rb:384:in `connection'\nactiverecord (4.2.1) lib/active_record/migration.rb:371:in `call'\nactionpack (4.2.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'\nactivesupport (4.2.1) lib/active_support/callbacks.rb:88:in `call'\nactivesupport (4.2.1) lib/active_support/callbacks.rb:88:in `_run_callbacks'\nactivesupport (4.2.1) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'\nactivesupport (4.2.1) lib/active_support/callbacks.rb:81:in `run_callbacks'\n</code></pre>\n\n<p>I tried using all host:port combinations e.g. 3000,3306..etc ,but nothing works. And here's how my <code>database.yml</code> file looks like.</p>\n\n<p><a href=\"http://i.stack.imgur.com/a9ok1.png\" rel=\"nofollow\">http://i.stack.imgur.com/a9ok1.png</a></p>\n\n<pre><code>development:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: mysql_dev\n  pool:5\n  username: root\n  password: tapaskumar\n  socket: /var/run/mysqld/mysqld.sock\n  host: localhost\n  port: 3306\n\ntest:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: mysql_test\n  pool: 5\n  username: root\n  password: tapaskumar\n  socket: /var/run/mysqld/mysqld.sock\n  host: localhost\n  port: 3306\n\nproduction:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: mysql2_prod\n  pool: 5\n  username: root\n  password: tapaskumar\n  socket: /var/run/mysqld/mysqld.sock\n  host: localhost\n  port: 3306\n</code></pre>\n\n<p>When I'm trying to access mysql from terminal, it works fine. Also I installed mysql using this command.</p>\n\n<p><code>sudo apt-get install mysql-server mysql-client libmysqlclient-dev</code></p>\n\n<p>And also have the mysql gem installed for the project. I'm unable to figure out whats wrong.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1430940473, "post_id": 30085547, "comment_id": 48284781, "body": "Welcome to Stack Overflow. Please read the documentation for formatting text in questions and answers. Correctly formatting code, code snippets, variable names in your question helps us help you."}], "answers": [{"tags": [], "owner": {"reputation": 32682, "user_id": 120518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/edf1077f9152b361937f12707e3af891?s=128&d=identicon&r=PG", "display_name": "Shadwell", "link": "https://stackoverflow.com/users/120518/shadwell"}, "is_accepted": true, "score": 4, "last_activity_date": 1430939730, "creation_date": 1430939730, "answer_id": 30085655, "question_id": 30085547, "link": "https://stackoverflow.com/questions/30085547/seed-data-not-loading/30085655#30085655", "title": "Seed data not loading", "body": "<p>Because prior to each <code>Advert.create!</code> you're doing <code>Advert.delete_all</code> which deletes all the ones you'd previously created leaving only the last one undeleted.</p>\n"}], "owner": {"reputation": 1377, "user_id": 3734125, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4c82fc440ab08376bc41a5e229c86e26?s=128&d=identicon&r=PG", "display_name": "ARTLoe", "link": "https://stackoverflow.com/users/3734125/artloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 30085655, "answer_count": 1, "score": 1, "last_activity_date": 1430940588, "creation_date": 1430939318, "last_edit_date": 1430940588, "question_id": 30085547, "link": "https://stackoverflow.com/questions/30085547/seed-data-not-loading", "title": "Seed data not loading", "body": "<p>I am unsure why my seed data is not loading.</p>\n\n<p>I created five adverts, but when I run <code>rake db:seed</code>, only the last advert (a5) displays. In my console when I run <code>Advert.count</code> it displays '1', meaning, though I have created five adverts with my seed data only one advert pulled through.  </p>\n\n<p>This is my seed file:</p>\n\n<pre><code>CategoryFeedback.delete_all\ncf1 = CategoryFeedback.create!(name:'good')\ncf2 = CategoryFeedback.create!(name:'better')\ncf3 = CategoryFeedback.create!(name:'best')\n\nCategoryBusinesstype.delete_all\ncb1 = CategoryBusinesstype.create!(name:'Employer')\ncb2 = CategoryBusinesstype.create!(name:'Recruiter Agency')\ncb3 = CategoryBusinesstype.create!(name:'HR / Business Consultancy')\n\nCategoryJobtype.delete_all\ncj1 = CategoryJobtype.create!(name:'Permanent - Full Time Hours')\ncj2 = CategoryJobtype.create!(name:'Permanent - Part Time Hours')\ncj3 = CategoryJobtype.create!(name:'Temporary - Full Time Hours')\ncj4 = CategoryJobtype.create!(name:'Temporary - Part Time Hours')\ncj5 = CategoryJobtype.create!(name:'Contract - Full Time Hours')\ncj6 = CategoryJobtype.create!(name:'Contract - Part Time Hours')\n\nCategoryPositiontype.delete_all\ncp1 = CategoryPositiontype.create!(name:'Intern')\ncp2 = CategoryPositiontype.create!(name:'Apprentice')\ncp3 = CategoryPositiontype.create!(name:'Entry Level')\ncp4 = CategoryPositiontype.create!(name:'Graduate')\ncp5 = CategoryPositiontype.create!(name:'Experienced (non manager)')\ncp6 = CategoryPositiontype.create!(name:'Management')\ncp7 = CategoryPositiontype.create!(name:'Senior Executive')\n\nCategoryCountry.delete_all\ncc1 = CategoryCountry.create!(name:'Ghana')\ncc2 = CategoryCountry.create!(name:'Nigeria')\ncc3 = CategoryCountry.create!(name:'South Africa')\ncc4 = CategoryCountry.create!(name:'Libera')\n\nCategoryEditorialapproval.delete_all\nce1 = CategoryEditorialapproval.create!(name:'I want approve changes')\nce2 = CategoryEditorialapproval.create!(name:'I do not want to approve changes (Fastest)')\nce3 = CategoryEditorialapproval.create!(name:'I do not want any changes made')\n\nCategoryApplicationrequest.delete_all\ncar1 = CategoryApplicationrequest.create!(name:'No application form is required')\ncar2 = CategoryApplicationrequest.create!(name:'Ask the applicant to visit and online application form')\ncar3 = CategoryApplicationrequest.create!(name:'Ask the applicant to download an application form')\n\nCategoryRole.delete_all\ncr1 = CategoryRole.create!(name:'Finance')\ncr2 = CategoryRole.create!(name:'Human Resource')\ncr3 = CategoryRole.create!(name:'Purchasing')\ncr4 = CategoryRole.create!(name:'Management')\ncr5 = CategoryRole.create!(name:'Partner/Owner')\ncr6 = CategoryRole.create!(name:'Support')\n\nCategoryFeedbackr.delete_all\ncfr1 = CategoryFeedbackr.create!(name:'1')\ncfr2 = CategoryFeedbackr.create!(name:'2')\ncfr3 = CategoryFeedbackr.create!(name:'3')\ncfr4 = CategoryFeedbackr.create!(name:'4')\ncfr5 = CategoryFeedbackr.create!(name:'5')\ncfr6 = CategoryFeedbackr.create!(name:'6')\ncfr7 = CategoryFeedbackr.create!(name:'7')\ncfr8 = CategoryFeedbackr.create!(name:'8')\ncfr9 = CategoryFeedbackr.create!(name:'9')\ncfr10 = CategoryFeedbackr.create!(name:'10')\n\nCategoryAdvert.delete_all\nca1 = CategoryAdvert.create!(name:'Finance')\nca2 = CategoryAdvert.create!(name:'Management')\nca3 = CategoryAdvert.create!(name:'Consultancy')\nca4 = CategoryAdvert.create!(name:'Investment')\nca5 = CategoryAdvert.create!(name:'Construction')\n\nUserr.delete_all\nu1 = Userr.new(\n  email: 'richill@gmail.com', \n  password: 'password', \n  password_confirmation: 'password', \n  firstname: 'richill', \n  lastname: 'artloe', \n  companyname: 'artloe ltd',\n  category_businesstype_id: cb3.id,\n  category_role_id: cr2.id,\n  staff: 10,\n  number: 2089587999,\n  hear: 'google'\n  )\nu1.save!\n\nAdvert.delete_all\na1 = Advert.create!(\n  title: 'software engineer',\n  content: 'Lorem ipsum dolor sit amet ac dapibus',\n  category_jobtype_id: cj1.id,\n  category_positiontype_id: cp4.id,\n  salarystart: 1200,\n  salaryend: 2000,\n  category_country_id: cc1.id,\n  city: 'accra',\n  town: 'tesano estates',\n  postcode: '1206',\n  category_editorialapproval_id: ce1.id, \n  category_applicationrequest_id: car1.id,\n  userr_id: u1.id,\n  category_advert_id: ca3.id \n  )\n\nAdvert.delete_all\na2 = Advert.create!(\n  title: 'management consultant',\n  content: 'Lorem ipsum dolor sit amet ac dapibus',\n  category_jobtype_id: cj3.id,\n  category_positiontype_id: cp1.id,\n  salarystart: 2500,\n  salaryend: 3000,\n  category_country_id: cc1.id,\n  city: 'accra',\n  town: 'dzorwulu',\n  postcode: '1206',\n  category_editorialapproval_id: ce1.id, \n  category_applicationrequest_id: car1.id,\n  userr_id: u1.id,\n  category_advert_id: ca2.id \n  )\n\nAdvert.delete_all\na3 = Advert.create!(\n  title: 'risk analyst',\n  content: 'Lorem ipsum dolor sit amet ac dapibus',\n  category_jobtype_id: cj6.id,\n  category_positiontype_id: cp2.id,\n  salarystart: 1000,\n  salaryend: 1500,\n  category_country_id: cc2.id,\n  city: 'lagos',\n  town: 'leki',\n  postcode: '1141',\n  category_editorialapproval_id: ce1.id, \n  category_applicationrequest_id: car1.id,\n  userr_id: u1.id,\n  category_advert_id: ca4.id \n  )\n\nAdvert.delete_all\na4 = Advert.create!(\n  title: 'business analyst',\n  content: 'Lorem ipsum dolor sit amet ac dapibus',\n  category_jobtype_id: cj6.id,\n  category_positiontype_id: cp2.id,\n  salarystart: 2000,\n  salaryend: 2500,\n  category_country_id: cc2.id,\n  city: 'lagos',\n  town: 'victoria',\n  postcode: '1223',\n  category_editorialapproval_id: ce1.id, \n  category_applicationrequest_id: car1.id,\n  userr_id: u1.id,\n  category_advert_id: ca1.id \n  )\n\nAdvert.delete_all\na5 = Advert.create!(\n  title: 'accountant',\n  content: 'Lorem ipsum dolor sit amet ac dapibus',\n  category_jobtype_id: cj1.id,\n  category_positiontype_id: cp4.id,\n  salarystart: 1500,\n  salaryend: 2500,\n  category_country_id: cc1.id,\n  city: 'accra',\n  town: 'labone',\n  postcode: '1209',\n  category_editorialapproval_id: ce1.id, \n  category_applicationrequest_id: car1.id,\n  userr_id: u1.id,\n  category_advert_id: ca1.id \n  )\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "concurrency", "celluloid"], "answers": [{"comments": [{"owner": {"reputation": 804, "user_id": 697745, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4c84733ec3e140af306dcd5a540594f0?s=128&d=identicon&r=PG", "display_name": "Dol", "link": "https://stackoverflow.com/users/697745/dol"}, "edited": false, "score": 0, "creation_date": 1430951660, "post_id": 30088578, "comment_id": 48290708, "body": "Good idea giving the worker its own class. Why did you choose 4 actors for the pool? / How would you decide which number that should be? Thanks"}, {"owner": {"reputation": 15775, "user_id": 634513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/328293e03f2d7b888ecf197ec1ffb7a7?s=128&d=identicon&r=PG", "display_name": "Ismael Abreu", "link": "https://stackoverflow.com/users/634513/ismael-abreu"}, "reply_to_user": {"reputation": 804, "user_id": 697745, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4c84733ec3e140af306dcd5a540594f0?s=128&d=identicon&r=PG", "display_name": "Dol", "link": "https://stackoverflow.com/users/697745/dol"}, "edited": false, "score": 1, "creation_date": 1430951988, "post_id": 30088578, "comment_id": 48290806, "body": "It really depends on the task in hand. I&#39;ve set it to 4 for no good reason. On MRI I guess 20 would be a better size. Just make sure your DB connection pool is higher then that. If it was a CPU heavy task, and you where using Jruby you should set that to the number of cores your CPU has."}, {"owner": {"reputation": 804, "user_id": 697745, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4c84733ec3e140af306dcd5a540594f0?s=128&d=identicon&r=PG", "display_name": "Dol", "link": "https://stackoverflow.com/users/697745/dol"}, "edited": false, "score": 0, "creation_date": 1430953370, "post_id": 30088578, "comment_id": 48291275, "body": "Ah interesting, I am specifically considering Jruby. So the answer is just set it to the number of cores your machine has! Could you add that to the answer? Then I&#39;ll make it correct."}], "tags": [], "owner": {"reputation": 15775, "user_id": 634513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/328293e03f2d7b888ecf197ec1ffb7a7?s=128&d=identicon&r=PG", "display_name": "Ismael Abreu", "link": "https://stackoverflow.com/users/634513/ismael-abreu"}, "is_accepted": true, "score": 2, "last_activity_date": 1430950358, "creation_date": 1430950358, "answer_id": 30088578, "question_id": 30085520, "link": "https://stackoverflow.com/questions/30085520/dynamically-assigning-actors-in-celluloid/30088578#30088578", "title": "Dynamically assigning actors in Celluloid", "body": "<p>First, in your case you should create a different class for your actor.</p>\n\n<pre><code>class Model &lt; ActiveRecord::Base\n  def self.save_from_csv(row)\n    new.tap do |m|\n      m.name = row[0]\n      m.alt_id = row[1]\n      m.definition = row[2]\n      m.save\n    end\n  end    \nend\n\nclass CSVWorker\n  include Celluloid\n\n  def persist_from_csv(row)\n    Model.persist_from_csv(row)\n  end\nend\n</code></pre>\n\n<p>Then you can create a pool and do the work for each row.</p>\n\n<pre><code>pool = CSVWorker.pool(size: 4)\nCSV.foreach(\"./files/my_file.csv\") do |row|\n  pool.async.persist_from_csv(row)\nend\n</code></pre>\n\n<p>Notice the <code>async</code>. That's what makes it run in pseudo parallel.</p>\n\n<p>I admit I haven't tested this, but even if it Works\u2122, you should benchmark it to see if there's actually any gain from paralysation. I doubt that it will be much faster in MRI because the only IO involved is DB queries.</p>\n"}], "owner": {"reputation": 804, "user_id": 697745, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4c84733ec3e140af306dcd5a540594f0?s=128&d=identicon&r=PG", "display_name": "Dol", "link": "https://stackoverflow.com/users/697745/dol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 30088578, "answer_count": 1, "score": 1, "last_activity_date": 1430950358, "creation_date": 1430939244, "question_id": 30085520, "link": "https://stackoverflow.com/questions/30085520/dynamically-assigning-actors-in-celluloid", "title": "Dynamically assigning actors in Celluloid", "body": "<p>I'm learning how to use <code>Celluloid</code>. I\u2019ve read all the documentation and think I have the idea of how to use it but lack practise. I'm about to test it with a CSV file with almost 12,000 rows.\u00a0</p>\n\n<p>I\u2019m unsure how many actors I should assign to a job. I'm guessing this number should be dynamic. According to <a href=\"http://railscasts.com/episodes/367-celluloid\" rel=\"nofollow\">this railscasts episode</a> the default number is set to the number of cores in your machine, but surely you should change this number based on your workload?</p>\n\n<p>I have 12,000 records to get through, if I execute the code below I'm guessing it will initiate all the actors in my pool and queue them up to handle the jobs.\u00a0But how should I gauge how many actors to dynamically assign to the work? </p>\n\n<p>There are still many holes in my understanding, so feel free to challenge my whole implementation.</p>\n\n<pre><code>class Model &lt; ActiveRecord::Base\n  include Celluloid\n  def initialize(row)\n    self.name = row[0]\n    self.alt_id = row[1]\n    self.definition = row[2]\n    self.save\n    self.terminate\n  end    \nend\n\nCSV.open(\"./files/my_file.csv\", \"wb\") do |csv|\n  Model.supervise(csv)\nend\n</code></pre>\n"}, {"tags": ["ruby", "csv", "encoding", "smartercsv"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1430940392, "post_id": 30085334, "comment_id": 48284736, "body": "What happens if you use the built-in <a href=\"http://ruby-doc.org/stdlib-2.2.2/libdoc/csv/rdoc/index.html\" rel=\"nofollow noreferrer\">CSV</a> class?"}, {"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1430950984, "post_id": 30085334, "comment_id": 48290452, "body": "Same issue as using SmarterCSV."}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 4687895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31d016bf1923003fe6c93b29f1361c7?s=128&d=identicon&r=PG", "display_name": "William Dembinski", "link": "https://stackoverflow.com/users/4687895/william-dembinski"}, "is_accepted": false, "score": 0, "last_activity_date": 1430944587, "creation_date": 1430944587, "answer_id": 30087036, "question_id": 30085334, "link": "https://stackoverflow.com/questions/30085334/smartercsv-and-file-encoding-issues-in-ruby/30087036#30087036", "title": "SmarterCSV and file encoding issues in Ruby", "body": "<p>Unfortunately, you're using a 'flat-file' style of storage and character encoding is going to be an issue on both ends (reading or writing).</p>\n\n<p>I would suggest using something along the lines of <code>str = str.force_encoding(\"UTF-8\")</code> and see if you can get that to work.</p>\n"}, {"comments": [{"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430951068, "post_id": 30087860, "comment_id": 48290490, "body": "This addresses the first issue I was having, but still causes the SmarterCSV issue:  <code>=~&#39;: invalid byte sequence in UTF-8 (ArgumentError)</code>"}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430951384, "post_id": 30087860, "comment_id": 48290611, "body": "Added to the answer to address your second problem."}, {"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430951638, "post_id": 30087860, "comment_id": 48290702, "body": "It doesn&#39;t seem like there&#39;s a way to specify binmode for SmarterCSV - the error has now changed to what I was originally getting in my <code>File.read</code> step: <code>ASCII incompatible encoding needs binmode (ArgumentError)</code>."}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430951909, "post_id": 30087860, "comment_id": 48290789, "body": "In the example in SmarterCSV it has this <code>f = File.open(filename, &quot;r:bom|utf-8&quot;)</code>. perhaps change your write statement to <code>File.open(&#39;&#47;tmp&#47;tmp_file&#39;, &#39;w:bom|utf-16le&#39;)</code>"}, {"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430952894, "post_id": 30087860, "comment_id": 48291130, "body": "Nope, no luck.  Any reason why this code would work in a Rails console, but not just simply running the code as a Ruby program (subbing out the SmarterCSV gem)?"}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430953003, "post_id": 30087860, "comment_id": 48291170, "body": "On the Ruby console you might need to specify the encoding, eg <code>ruby -E UTF-16LE program.rb</code>"}, {"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430953543, "post_id": 30087860, "comment_id": 48291330, "body": "Still no luck.  I&#39;m going to just call it a day on this one.  Encoding can be unnecessarily frustrating."}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430953609, "post_id": 30087860, "comment_id": 48291346, "body": "Sorry to hear that. If you&#39;re willing to share the file, I&#39;d be interested to have a go at trying it out (Would also like to know the answer!) Perhaps I can just use that first line you posted?"}, {"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430953789, "post_id": 30087860, "comment_id": 48291391, "body": "I can share a sample file definitely - appreciate the offer.  How do I go about doing that through Stack Overflow?  Also, is there a surefire way to determine the encoding of a file?  Perhaps it&#39;s as simple as me not having the correct encoding."}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430954014, "post_id": 30087860, "comment_id": 48291481, "body": "<a href=\"http://www.filedropper.com/\" rel=\"nofollow noreferrer\">filedropper.com</a> for sharing the file is a good way. Unfortunately detecting code pages can be difficult, you really need to know what the file was - check this out <a href=\"http://stackoverflow.com/questions/90838/how-can-i-detect-the-encoding-codepage-of-a-text-file\" title=\"how can i detect the encoding codepage of a text file\">stackoverflow.com/questions/90838/&hellip;</a>"}, {"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430954177, "post_id": 30087860, "comment_id": 48291530, "body": "Thanks for the link.  Here&#39;s a sample file (same format as the ones I&#39;m trying to read in and process): <a href=\"http://www.filedropper.com/psy-gentlemen-messages\" rel=\"nofollow noreferrer\">filedropper.com/psy-gentlemen-messages</a>"}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1430954202, "post_id": 30087860, "comment_id": 48291541, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/77132/discussion-between-rots-and-avocadorivalry\">continue this discussion in chat</a>."}, {"owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1431549448, "post_id": 30087860, "comment_id": 48553289, "body": "Thanks @Rots for all the help - I updated my question with the solution I ultimately used and some commentary!"}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1431550953, "post_id": 30087860, "comment_id": 48554056, "body": "@AvocadoRivalry Nice job! You can add that as an answer if you like, rather than an update. If you&#39;d like me to do that let me know, as I know we discussed this in our chat :)"}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "edited": false, "score": 0, "creation_date": 1431553489, "post_id": 30087860, "comment_id": 48555337, "body": "No problem @AvocadoRivalry it was great working on this with you. I have updated this answer with your solution. Cheers!!"}], "tags": [], "owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "is_accepted": true, "score": 2, "last_activity_date": 1431553460, "last_edit_date": 1431553460, "creation_date": 1430947596, "answer_id": 30087860, "question_id": 30085334, "link": "https://stackoverflow.com/questions/30085334/smartercsv-and-file-encoding-issues-in-ruby/30087860#30087860", "title": "SmarterCSV and file encoding issues in Ruby", "body": "<p>Add binmode to the <code>File.read</code> call.</p>\n\n<pre><code>File.read(file, :encoding =&gt; 'utf-16le', mode: \"rb\")\n</code></pre>\n\n<blockquote>\n  <p>\"b\"  Binary file mode\n       Suppresses EOL &lt;-> CRLF conversion on Windows. And\n       sets external encoding to ASCII-8BIT unless explicitly\n       specified.</p>\n</blockquote>\n\n<p>ref: <a href=\"http://ruby-doc.org/core-2.0.0/IO.html#method-c-read\" rel=\"nofollow\">http://ruby-doc.org/core-2.0.0/IO.html#method-c-read</a></p>\n\n<p>Now pass the correct encoding to SmarterCSV</p>\n\n<pre><code>SmarterCSV.process('/tmp/tmp_file', {\n:file_encoding =&gt; \"utf-16le\", ...\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>It was found that <code>smartercsv</code> does not support binary mode. After the OP attempted to modify the code with no success it was decided the simple solution was to convert the input to <code>UTF-8</code> which <code>smartercsv</code> supports. </p>\n"}], "owner": {"reputation": 401, "user_id": 3233838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a5d9a23641727266f169f25e1d03b76?s=128&d=identicon&r=PG&f=1", "display_name": "AvocadoRivalry", "link": "https://stackoverflow.com/users/3233838/avocadorivalry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1523, "favorite_count": 2, "accepted_answer_id": 30087860, "answer_count": 2, "score": 3, "last_activity_date": 1431553460, "creation_date": 1430938639, "last_edit_date": 1431549414, "question_id": 30085334, "link": "https://stackoverflow.com/questions/30085334/smartercsv-and-file-encoding-issues-in-ruby", "title": "SmarterCSV and file encoding issues in Ruby", "body": "<p>I'm working with a file that appears to have UTF-16LE encoding.  If I run </p>\n\n<pre><code>File.read(file, :encoding =&gt; 'utf-16le')\n</code></pre>\n\n<p>the first line of the file is:</p>\n\n<pre><code>\"&lt;U+FEFF&gt;=\\\"25/09/2013\\\"\\t18:39:17\\t=\\\"Unknown\\\"\\t=\\\"+15168608203\\\"\\t\\\"Message.\\\"\\r\\n\n</code></pre>\n\n<p>If I read the file using something like </p>\n\n<pre><code>csv_text = File.read(file, :encoding =&gt; 'utf-16le')\n</code></pre>\n\n<p>I get an error stating </p>\n\n<pre><code>ASCII incompatible encoding needs binmode (ArgumentError)\n</code></pre>\n\n<p>If I switch the encoding in the above to </p>\n\n<pre><code>csv_text = File.read(file, :encoding =&gt; 'utf-8')\n</code></pre>\n\n<p>I make it to the <code>SmarterCSV</code> section of the code, but get an error that states</p>\n\n<pre><code>`=~': invalid byte sequence in UTF-8 (ArgumentError)\n</code></pre>\n\n<p>The full code is below.  If I run this in the Rails console, it works just fine, but if I run it using <code>ruby test.rb</code>, it gives me the first error:</p>\n\n<pre><code>require 'smarter_csv'\nheaders = [\"date_of_message\", \"timestamp_of_message\", \"sender\", \"phone_number\", \"message\"]\npath = '/path/'\nDir.glob(\"#{path}*.CSV\").each do |file|\n  csv_text = File.read(file, :encoding =&gt; 'utf-16le')\n  File.open('/tmp/tmp_file', 'w') { |tmp_file| tmp_file.write(csv_text) }\n  puts 'made it here'\n  SmarterCSV.process('/tmp/tmp_file', {\n    :col_sep =&gt; \"\\t\",\n    :force_simple_split =&gt; true,\n    :headers_in_file =&gt; false,\n    :user_provided_headers =&gt; headers\n   }).each do |row|\n    converted_row = {}\n    converted_row[:date_of_message] = row[:date_of_message][2..-2].to_date\n    converted_row[:timestamp] = row[:timestamp]\n    converted_row[:sender] = row[:sender][2..-2]\n    converted_row[:phone_number] = row[:phone_number][2..-2]\n    converted_row[:message] = row[:message][1..-2]\n    converted_row[:room] = file.gsub(path, '')\n  end\nend\n</code></pre>\n\n<p><strong>Update - 05/13/15</strong></p>\n\n<p>Ultimately, I decided to encode the file string as UTF-8 rather than diving deeper into the SmarterCSV code.  The first problem in the SmarterCSV code is that it does not allow a user to specify binary mode when reading in a file, but after adjusting the source to handle that, a myriad of other encoding-related issues popped-up, many of which related to the handling of various parameters on files that were not UTF-8 encoded.  It may have been the easy way out, but encoding everything as UTF-8 before feeding it into SmarterCSV solved my issue.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "edited": false, "score": 1, "creation_date": 1430938761, "post_id": 30085289, "comment_id": 48283708, "body": "Look for <code>references</code> in <a href=\"http://edgeguides.rubyonrails.org/active_record_migrations.html\" rel=\"nofollow noreferrer\">edgeguides.rubyonrails.org/active_record_migrations.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "is_accepted": true, "score": 3, "last_activity_date": 1430939148, "last_edit_date": 1430939148, "creation_date": 1430938695, "answer_id": 30085343, "question_id": 30085289, "link": "https://stackoverflow.com/questions/30085289/is-there-a-way-to-set-up-model-associations-when-you-generate-a-migration/30085343#30085343", "title": "Is there a way to set up model associations when you generate a migration?", "body": "<p>If you have not created the model (or can overwrite it), use</p>\n\n<pre><code>rails g model Neighborhood listing:references\n</code></pre>\n\n<p>If you have the model and just need to create the appropriate migration:</p>\n\n<pre><code>rails g migration AddListingsToNeighborhoods listing:references\n</code></pre>\n\n<p>The DB migration <strong><em>will not</em></strong> modify the model.</p>\n\n<p>In these examples, <code>Neighborhood</code> gets the foreign key.</p>\n\n<p>If you want <code>Listing</code> to have the foreign key (and have <code>belongs_to</code>), then you would need to reverse them:</p>\n\n<pre><code>rails g model Listing neighborhood:references\n\nrails g migration AddNeighborhoodToListings neighborhood:references\n</code></pre>\n\n<p>FWIW, as you grow your apps, you will often be modifying existing models and adding relationships. This means manually adding <code>belongs_to</code> and running the migration. </p>\n"}], "owner": {"reputation": 3879, "user_id": 2778483, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/N4uVS.jpg?s=128&g=1", "display_name": "hidace", "link": "https://stackoverflow.com/users/2778483/hidace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 30085343, "answer_count": 1, "score": 0, "last_activity_date": 1430939148, "creation_date": 1430938524, "question_id": 30085289, "link": "https://stackoverflow.com/questions/30085289/is-there-a-way-to-set-up-model-associations-when-you-generate-a-migration", "title": "Is there a way to set up model associations when you generate a migration?", "body": "<p>New to rails and wondering if there is a way to have all the associations you generate from a migration show up in that model. For example, working on a mock  AirBNB app. If i were to generate a migration like so (with these models already created)</p>\n\n<pre><code>rails g migration AddListingsToNeighborhood listing:belongs_to\n</code></pre>\n\n<p>When I run rake db:migrate, my models are still empty. Just wondering if there is a shortcut to have these associations fill the models. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "windows", "heroku", "procfile"], "comments": [{"owner": {"reputation": 253, "user_id": 2627975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqa6g.jpg?s=128&g=1", "display_name": "Marc K", "link": "https://stackoverflow.com/users/2627975/marc-k"}, "edited": false, "score": 1, "creation_date": 1430938256, "post_id": 30085101, "comment_id": 48283390, "body": "I don&#39;t see any errors, just warnings. What does <code>heroku logs</code> show? <a href=\"https://devcenter.heroku.com/articles/logging#log-retrieval\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/logging#log-retrieval</a>"}, {"owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 2, "creation_date": 1430938315, "post_id": 30085101, "comment_id": 48283430, "body": "What is the contents of your <code>Procfile</code>?"}, {"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 1, "creation_date": 1430938581, "post_id": 30085101, "comment_id": 48283611, "body": "Make sure P is capital in Procfile"}, {"owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "edited": false, "score": 1, "creation_date": 1430939018, "post_id": 30085101, "comment_id": 48283878, "body": "My Procfile contains - &#39;web: bundle exec rails server -p $PORT&#39;"}, {"owner": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "edited": false, "score": 0, "creation_date": 1430939176, "post_id": 30085101, "comment_id": 48283964, "body": "So if you use <code>Thin</code>, you need to replace <code>rails server</code> by <code>thin</code> in your <code>Procfile</code>"}, {"owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "edited": false, "score": 0, "creation_date": 1430939218, "post_id": 30085101, "comment_id": 48283990, "body": "I am also getting this error -  Could not detect rake tasks remote:        ensure you can run <code>$ bundle exec rake -P</code> against your app with no environment variables present remote:        and using the production group of your Gemfile. remote:        rake aborted! remote:        LoadError: cannot load such file -- nokogiri"}, {"owner": {"reputation": 253, "user_id": 2627975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqa6g.jpg?s=128&g=1", "display_name": "Marc K", "link": "https://stackoverflow.com/users/2627975/marc-k"}, "edited": false, "score": 0, "creation_date": 1430952908, "post_id": 30085101, "comment_id": 48291139, "body": "What happens when you try to run bundle exec rake -P on your local? You may have an error in your rake file. You also might try <code>rake assets:precompile</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2308, "user_id": 446106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f85c140d1efdc501c26c0e911c6bd5d0?s=128&d=identicon&r=PG", "display_name": "mwfearnley", "link": "https://stackoverflow.com/users/446106/mwfearnley"}, "edited": false, "score": 0, "creation_date": 1583239888, "post_id": 30085690, "comment_id": 107042737, "body": "What&#39;s the error in the Procfile there, aside from the fact it defaults to Webrick?"}], "tags": [], "owner": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "is_accepted": false, "score": 6, "last_activity_date": 1430939861, "creation_date": 1430939861, "answer_id": 30085690, "question_id": 30085101, "link": "https://stackoverflow.com/questions/30085101/no-procfile-detected-using-the-default-web-server-webrick/30085690#30085690", "title": "No Procfile detected, using the default web server (webrick)", "body": "<p>In top of information given in comments, you have this error because in your <code>Procfile</code>, you have:</p>\n\n<pre><code>web: bundle exec rails server -p $PORT\n</code></pre>\n\n<p>So the default <code>webrick</code> will be used.</p>\n\n<p>In order to remove this warning, you should use an another web server like Unicorn, Thin or Puma.</p>\n\n<p>Heroku now advocates to use Puma ( see <a href=\"https://devcenter.heroku.com/changelog-items/594\" rel=\"noreferrer\">Changelog</a> ).</p>\n\n<p>And to getting started with Puma and Heroku, you can follow article <a href=\"https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server\" rel=\"noreferrer\">Deploying Rails Applications with the Puma Web Server</a> on Heroku website.</p>\n"}, {"tags": [], "owner": {"reputation": 417, "user_id": 4678741, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0cfb28e3efa0d6c796ca29074d2fc897?s=128&d=identicon&r=PG&f=1", "display_name": "casamia", "link": "https://stackoverflow.com/users/4678741/casamia"}, "is_accepted": false, "score": 1, "last_activity_date": 1452735814, "creation_date": 1452735814, "answer_id": 34780317, "question_id": 30085101, "link": "https://stackoverflow.com/questions/30085101/no-procfile-detected-using-the-default-web-server-webrick/34780317#34780317", "title": "No Procfile detected, using the default web server (webrick)", "body": "<p>In my case, I ignored Procfile in .gitignore, due to the other online guide pages. At that time, they gave a instruction to hide files which declares environment variables containing mailer account info.\nSo, check your .gitignore file and remove if you see Procfile in it. </p>\n"}], "owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6695, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1572373864, "creation_date": 1430937926, "last_edit_date": 1572373864, "question_id": 30085101, "link": "https://stackoverflow.com/questions/30085101/no-procfile-detected-using-the-default-web-server-webrick", "title": "No Procfile detected, using the default web server (webrick)", "body": "<p>I get this error when trying to deploy my Ruby on Rails app. Here is the error in my command line:</p>\n\n<pre><code> ###### WARNING:\nremote:        No Procfile detected, using the default web server (webrick)\nremote:        https://devcenter.heroku.com/articles/ruby-default-web-server\n\nremote:\nremote: -----&gt; Discovering process types\nremote:        Procfile declares types -&gt; (none)\nremote:        Default types for Ruby  -&gt; console, rake, web, worker\nremote:\nremote: -----&gt; Compressing... done, 29.5MB\nremote: -----&gt; Launching... done, v21\nremote:        https://agile-sea-1900.herokuapp.com/ deployed to Heroku\nremote:\nremote: Verifying deploy... done.\nTo https://git.heroku.com/agile-sea-1900.git\n   e5d3ad8..975d5eb  master -&gt; master\n</code></pre>\n\n<p>I tried following the advice in \"<a href=\"http://blog.taylorrf.com/blog/2014/12/15/heroku-default-server/\" rel=\"nofollow noreferrer\">No Procfile detected, using the default web server</a>\" [<a href=\"http://web.archive.org/web/20181122100122/http://blog.taylorrf.com/blog/2014/12/15/heroku-default-server/\" rel=\"nofollow noreferrer\">archive.org</a>] - bundling the <code>thin</code> gem and creating a Procfile containing:</p>\n\n<pre><code>web: bundle exec thin start -p $PORT\n</code></pre>\n\n<p>But that didn't help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "comments": [{"owner": {"reputation": 9845, "user_id": 119822, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wnqih.jpg?s=128&g=1", "display_name": "Andy Waite", "link": "https://stackoverflow.com/users/119822/andy-waite"}, "edited": false, "score": 4, "creation_date": 1430941340, "post_id": 30085016, "comment_id": 48285264, "body": "Don&#39;t name your controller &#39;IndexController&#39;, it will just lead to confusion. Name it after the resource it represents."}], "answers": [{"tags": [], "owner": {"reputation": 706, "user_id": 4706028, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0f9ab6c0881ff54e5053ea8c3e07bbc0?s=128&d=identicon&r=PG&f=1", "display_name": "Zippo9", "link": "https://stackoverflow.com/users/4706028/zippo9"}, "is_accepted": true, "score": 0, "last_activity_date": 1430949540, "creation_date": 1430949540, "answer_id": 30088373, "question_id": 30085016, "link": "https://stackoverflow.com/questions/30085016/how-to-enable-registration/30088373#30088373", "title": "How to enable registration", "body": "<p>Check out this link About Adding Custom fields to a Devise registration: <a href=\"http://jacopretorius.net/2014/03/adding-custom-fields-to-your-devise-user-model-in-rails-4.html\" rel=\"nofollow\">http://jacopretorius.net/2014/03/adding-custom-fields-to-your-devise-user-model-in-rails-4.html</a>. What you will need to do is set up a Registrations Controller that inherits from Devise::RegistrationsController. This quick tutorial is easy to read and understand.</p>\n"}], "owner": {"reputation": 394, "user_id": 4560524, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93fd1b4dc20e90c6123f25003039ed8b?s=128&d=identicon&r=PG&f=1", "display_name": "stackov8", "link": "https://stackoverflow.com/users/4560524/stackov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 30088373, "answer_count": 1, "score": 2, "last_activity_date": 1430949540, "creation_date": 1430937646, "last_edit_date": 1430938508, "question_id": 30085016, "link": "https://stackoverflow.com/questions/30085016/how-to-enable-registration", "title": "How to enable registration", "body": "<p>I have a website that works without problems. Here is the routes file:</p>\n\n<pre><code>Testpager::Application.routes.draw do\n  devise_for :users\n  resources :news,      only: [:index, :show]\n  resources :documents, only: [:index, :show]\n\n  namespace :admin do\n    resources :documents, only: [:index, :show, :destroy, :edit, :update, :new, :create]\n    resources :news,      only: [:index, :show, :destroy, :edit, :update, :new, :create]\n    get \"admin\" =&gt; 'documents#index'\n  end\n\n  get \"contacts/index\"\n  get \"services/index\"\n  get \"index/index\"\n  get \"admin/index\"\n\n  root 'index#index'\nend\n</code></pre>\n\n<p>I would like to add a registration system. To do this I'm using <a href=\"https://github.com/plataformatec/devise\" rel=\"nofollow\">Devise</a>.</p>\n\n<p>My actions are:</p>\n\n<ol>\n<li>I installed the Devise gem.</li>\n<li>Ran <code>rails g devise:install</code></li>\n<li><p>Added this to application.html.erb:</p>\n\n<pre><code>&lt;p class=\"notice\"&gt;&lt;%= notice %&gt;&lt;/p&gt;\n&lt;p class=\"alert\"&gt;&lt;%= alert %&gt;&lt;/p&gt;\n</code></pre></li>\n<li><p>Ran <code>rails g devisw User</code></p></li>\n<li>Ran <code>rake db:migrate</code></li>\n<li>Ran <code>rails server</code></li>\n<li>I opened the URL <code>http://localhost:3000/users/sign_up</code></li>\n</ol>\n\n<p>I got the following error message:</p>\n\n<pre><code>ActionController::UrlGenerationError in Devise::Registrations#new\nShowing /home/kalinin/rails/testpager/app/views/shared/_nav_main.html.erb where line #6 raised:\nNo route matches {:action=&gt;\"index\", :controller=&gt;\"devise/index\"}\nExtracted source (around line #6):      \n    &lt;ul&gt;\n        &lt;li&gt;\n            &lt;%= link_to 'index', controller: \"index\", action: \"index\" %&gt;\n        &lt;/li&gt;\nTrace of template inclusion: app/views/layouts/application.html.erb\n</code></pre>\n\n<p>Here is the controller:</p>\n\n<pre><code>class IndexController &lt; ApplicationController\n  def index\n  end\nend\n</code></pre>\n\n<p>The view for IndexController exists.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "migration"], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 4871897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d01c6c09f2e3c2631ef2d776d640a2bb?s=128&d=identicon&r=PG&f=1", "display_name": "marilyne.christiansen", "link": "https://stackoverflow.com/users/4871897/marilyne-christiansen"}, "is_accepted": true, "score": 1, "last_activity_date": 1430937443, "creation_date": 1430937443, "answer_id": 30084950, "question_id": 30084847, "link": "https://stackoverflow.com/questions/30084847/can-create-join-table-only-take-2-3-arguments/30084950#30084950", "title": "Can create_join_table only take 2-3 arguments?", "body": "<p>The <a href=\"http://apidock.com/rails/ActiveRecord/ConnectionAdapters/SchemaStatements/create_join_table\" rel=\"nofollow\">create_join_table</a> accept only 3 args (last of them is optionals, look at link). So, you can't create join table for 3 tables use this method. </p>\n\n<p>In you case you should create join table use <a href=\"http://apidock.com/rails/v4.2.1/ActiveRecord/ConnectionAdapters/SchemaStatements/create_table\" rel=\"nofollow\">create_table</a> and specify correspond reference fields.</p>\n"}], "owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 30084950, "answer_count": 1, "score": 0, "last_activity_date": 1430937443, "creation_date": 1430937153, "last_edit_date": 1495542513, "question_id": 30084847, "link": "https://stackoverflow.com/questions/30084847/can-create-join-table-only-take-2-3-arguments", "title": "Can create_join_table only take 2-3 arguments?", "body": "<p>I've tried a bunch of variations of this <strong>migration</strong> file:</p>\n\n<pre><code>class CombineTags &lt; ActiveRecord::Migration\n  def change\n    create_join_table :habits, :valuations, :quantifieds, :goals do |t|\n\n        t.timestamps null: false\n    end\n    t.index :habits, [:habit_id, :tag_list], :valuations, [:valuation_id, :tag_list], :quantifieds, [:quantified_id, :tag_list] :goals, [:goal_id, :tag_list]\n  end\nend\n</code></pre>\n\n<p>but I keep getting this error upon running <code>rake db:migrate</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Anthony-Gallis-MacBook-Pro:pecoce galli01anthony$ rake db:migrate\r\n== 20150506172844 CombineTags: migrating ======================================\r\n-- create_join_table(:habits, :valuations, :quantifieds, :goals)\r\nrake aborted!\r\nStandardError: An error has occurred, this and all later migrations canceled:\r\n\r\nwrong number of arguments (4 for 2..3)/Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/activerecord-4.2.0.rc3/lib/active_record/connection_adapters/abstract/schema_statements.rb:248:in `create_join_table'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is just one step in trying to achieve my ultimate goal: <a href=\"https://stackoverflow.com/questions/29906256/how-to-use-multiple-models-for-tag-cloud\">How to use multiple models for tag_cloud?</a></p>\n"}, {"tags": ["ruby", "xml-parsing", "nokogiri", "libxml-ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1430938895, "post_id": 30084829, "comment_id": 48283793, "body": "Welcome to Stack Overflow. Please create a minimal example of the XML that is syntactically correct. Anything beyond minimal or that doesn&#39;t work only slows our ability to help you, or worse, keeps us from helping you. What code have you written to solve this? It&#39;s easier for us to fix it than it is to write something from scratch and explain how to use it."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1430939017, "post_id": 30084829, "comment_id": 48283876, "body": "What Nokogiri code do you have so far?"}, {"owner": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "edited": false, "score": 0, "creation_date": 1430939047, "post_id": 30084829, "comment_id": 48283895, "body": "<code>require &#39;open-uri&#39; doc = Nokogiri::HTML(open(&quot;url&quot;))   </code>"}], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "edited": false, "score": 0, "creation_date": 1430940383, "post_id": 30085748, "comment_id": 48284733, "body": "awesome, Its creating the array of hashes. Now I am trying to how can I use it.acccess the individual array from the created hash.  ` full_hash = topic_label_hash(doc)` &#39;<code>full_hash[&quot;TV&quot;]</code> = to access only tv array ``full_hash[&quot;TV&quot;] [0]` to access an element"}, {"owner": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "edited": false, "score": 0, "creation_date": 1430940559, "post_id": 30085748, "comment_id": 48284838, "body": "Thats really awesoem help @maerics, I really appreciate your help. Thanks a ton maerics."}, {"owner": {"reputation": 132392, "user_id": 244128, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/300502d6109af88a009074c42ff56c73?s=128&d=identicon&r=PG", "display_name": "maerics", "link": "https://stackoverflow.com/users/244128/maerics"}, "reply_to_user": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "edited": false, "score": 0, "creation_date": 1430940686, "post_id": 30085748, "comment_id": 48284931, "body": "@beginner_yaml_user: yup, you got it.  Glad it helped you out."}], "tags": [], "owner": {"reputation": 132392, "user_id": 244128, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/300502d6109af88a009074c42ff56c73?s=128&d=identicon&r=PG", "display_name": "maerics", "link": "https://stackoverflow.com/users/244128/maerics"}, "is_accepted": true, "score": 1, "last_activity_date": 1430940079, "creation_date": 1430940079, "answer_id": 30085748, "question_id": 30084829, "link": "https://stackoverflow.com/questions/30084829/xml-parsing-using-ruby-for-provided-url/30085748#30085748", "title": "XML parsing using Ruby for provided URL", "body": "<p>Assuming your XML is well formed and valid (proper closing of nested tags, etc.) then you simply need to fetch the contents of the URL (e.g. using the <a href=\"http://ruby-doc.org/stdlib-2.2.0/libdoc/open-uri/rdoc/OpenURI.html\" rel=\"nofollow\">builtin <code>open-uri</code></a>) and then use an XML parsing technique (e.g. XPath) to retrieve the desired data.</p>\n\n<p>For example, assuming you want a hash of topic name to a list of nested labels:</p>\n\n<pre><code>require 'open-uri'\nrequire 'nokogiri'\n\ndef topic_label_hash(doc)\n  doc.xpath('//topic').each_with_object({}) do |topic, hash|\n    labels = topic.xpath('.//label/text()').map(&amp;:to_s)\n    name = topic.attr('name')\n    hash[name] = labels\n  end\nend\n\nxml = open(my_url)\ndoc = Nokogiri::XML(xml)\ntopic_label_hash(doc) # =&gt;\n# {\n#   \"TV\" =&gt; [\n#     \"I am here First. \",\n#     \"I am here Second. \",\n#     \"I am here Third. \",\n#     ...\n#   ],\n#   \"Internet\" =&gt; [\n#     \"I am here Fourth. \",\n#     \"I am here Fifth. \",\n#     \"I am here Sixth. \"\n#   ],\n#   ...\n# }\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 30085748, "answer_count": 1, "score": -1, "last_activity_date": 1430940958, "creation_date": 1430937060, "last_edit_date": 1430940958, "question_id": 30084829, "link": "https://stackoverflow.com/questions/30084829/xml-parsing-using-ruby-for-provided-url", "title": "XML parsing using Ruby for provided URL", "body": "<p>I am trying to use Nokogiri to parse my XML which is I am getting from an URL, but I am not able to create an array of it so that it would be accessible all over the project.</p>\n\n<p>My XML:</p>\n\n<pre><code>&lt;component name=\"Hero\"&gt;\n    &lt;topic name=\"i1\"&gt;\n      &lt;subtopic name=\"\"&gt;\n          &lt;links&gt;\n            &lt;link Dur=\"\" Id=\"\" type=\"article\"&gt;\n                &lt;label&gt;I am here First. &lt;/label&gt;\n\n    &lt;topic name=\"i2\"&gt;\n      &lt;subtopic name=\"\"&gt;\n          &lt;links&gt;\n            &lt;link Dur=\"\" Id=\"\" type=\"article\"&gt;\n                &lt;label&gt;I am here Fourth. &lt;/label&gt;\n                &lt;label&gt;I am here Sixth. &lt;/label&gt;\n    &lt;topic name=\"i3\"&gt;\n      &lt;subtopic name=\"\"&gt;\n          &lt;links&gt;\n            &lt;link Dur=\"\" Id=\"\" type=\"article\"&gt;\n                &lt;label&gt;I am here Fourth. &lt;/label&gt;\n</code></pre>\n\n<p>I am planning to create an array for each topic, which would contains labels inside it. For example:  </p>\n\n<p>hro_array = [\"I am here First.\",\"I am here Second.\",\"I am here Third\".]</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "linux", "rake", "redmine"], "comments": [{"owner": {"reputation": 4631, "user_id": 579849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/sJ3nj.jpg?s=128&g=1", "display_name": "Sebastian vom Meer", "link": "https://stackoverflow.com/users/579849/sebastian-vom-meer"}, "edited": false, "score": 2, "creation_date": 1430935985, "post_id": 30084393, "comment_id": 48282043, "body": "Have you tried <code>bundle install</code> before? It should install all dependencies."}, {"owner": {"reputation": 1129, "user_id": 1098303, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TxaL.png?s=128&g=1", "display_name": "djcaesar9114", "link": "https://stackoverflow.com/users/1098303/djcaesar9114"}, "reply_to_user": {"reputation": 4631, "user_id": 579849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/sJ3nj.jpg?s=128&g=1", "display_name": "Sebastian vom Meer", "link": "https://stackoverflow.com/users/579849/sebastian-vom-meer"}, "edited": false, "score": 0, "creation_date": 1430936556, "post_id": 30084393, "comment_id": 48282383, "body": "Yes,  <code>bundle install --local</code>. And it told me everything was installed correctly."}, {"owner": {"reputation": 574, "user_id": 117501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf628d464cdf62fd491a62e75ac046?s=128&d=identicon&r=PG", "display_name": "kevinthompson", "link": "https://stackoverflow.com/users/117501/kevinthompson"}, "edited": false, "score": 0, "creation_date": 1430937383, "post_id": 30084393, "comment_id": 48282905, "body": "Is rake a dependency define in your gemfile, or is another gem dependent on it? If rake isn&#39;t a dependency, it will not exist inside of the scope of the bundle."}, {"owner": {"reputation": 1129, "user_id": 1098303, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TxaL.png?s=128&g=1", "display_name": "djcaesar9114", "link": "https://stackoverflow.com/users/1098303/djcaesar9114"}, "edited": false, "score": 0, "creation_date": 1430939655, "post_id": 30084393, "comment_id": 48284277, "body": "It didn&#39;t exist originally (what quite surprised me as I took the original redmine Gemfile), so I added the line. Same effect, sadly."}, {"owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "edited": false, "score": 0, "creation_date": 1430942328, "post_id": 30084393, "comment_id": 48285911, "body": "The problem isn\u2019t that rake isn\u2019t installed, but that the <code>rake</code> executable isn\u2019t on your path. Check that the directory your gems executables are installed into is in your <code>$PATH</code> env variable."}, {"owner": {"reputation": 1129, "user_id": 1098303, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TxaL.png?s=128&g=1", "display_name": "djcaesar9114", "link": "https://stackoverflow.com/users/1098303/djcaesar9114"}, "edited": false, "score": 0, "creation_date": 1430984365, "post_id": 30084393, "comment_id": 48301669, "body": "Actually <code>rake</code> alone works fine. It&#39;s when I write the whole command that I get this message."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 4871897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d01c6c09f2e3c2631ef2d776d640a2bb?s=128&d=identicon&r=PG&f=1", "display_name": "marilyne.christiansen", "link": "https://stackoverflow.com/users/4871897/marilyne-christiansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1430936782, "last_edit_date": 1430936782, "creation_date": 1430936572, "answer_id": 30084687, "question_id": 30084393, "link": "https://stackoverflow.com/questions/30084393/issue-with-bundler-ruby/30084687#30084687", "title": "Issue with bundler (ruby)", "body": "<p>You should run <code>bundle install</code>. It will download and install all gems required for running application.</p>\n"}], "owner": {"reputation": 1129, "user_id": 1098303, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TxaL.png?s=128&g=1", "display_name": "djcaesar9114", "link": "https://stackoverflow.com/users/1098303/djcaesar9114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 643, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430989123, "creation_date": 1430935610, "last_edit_date": 1430989123, "question_id": 30084393, "link": "https://stackoverflow.com/questions/30084393/issue-with-bundler-ruby", "title": "Issue with bundler (ruby)", "body": "<p>When I run this command (step 5 of Redmine installation): </p>\n\n<pre><code>bundle exec rake generate_secret_token\n</code></pre>\n\n<p>I get this error message:</p>\n\n<pre><code>bundler: command not found: rake\nInstall missing gem executables with `bundle install`\n</code></pre>\n\n<p>But rake is already installed.\nCan somebody help me?</p>\n\n<p>Thanks a lot.</p>\n\n<p>Notes:</p>\n\n<p>1) 'bundle install --local' works fine</p>\n\n<p>2) 'rake' didn't exist originally (what quite surprised me as I took the original redmine Gemfile), so I added the line. Same effect, sadly.</p>\n\n<p>3) 'rake' alone works fine. It's when I write the whole command that I get this message</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "server"], "comments": [{"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 1, "creation_date": 1430935445, "post_id": 30084184, "comment_id": 48281732, "body": "This looks suspiciously as though you have simply posted in a massive error message."}, {"owner": {"reputation": 4631, "user_id": 579849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/sJ3nj.jpg?s=128&g=1", "display_name": "Sebastian vom Meer", "link": "https://stackoverflow.com/users/579849/sebastian-vom-meer"}, "edited": false, "score": 0, "creation_date": 1430935902, "post_id": 30084184, "comment_id": 48281996, "body": "And a very self-explanatory error message I might add..."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 2303829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0de61fa5c7e0b1b2f519a6d8d7420ea?s=128&d=identicon&r=PG", "display_name": "kartik7153", "link": "https://stackoverflow.com/users/2303829/kartik7153"}, "edited": false, "score": 0, "creation_date": 1430969448, "post_id": 30084867, "comment_id": 48295459, "body": "I installed readline and then reinstalled ruby but it is giving the same error"}, {"owner": {"reputation": 1329, "user_id": 4067206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744808f16c60746bdad874140156c809?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/4067206/mario"}, "reply_to_user": {"reputation": 193, "user_id": 2303829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0de61fa5c7e0b1b2f519a6d8d7420ea?s=128&d=identicon&r=PG", "display_name": "kartik7153", "link": "https://stackoverflow.com/users/2303829/kartik7153"}, "edited": false, "score": 0, "creation_date": 1430972196, "post_id": 30084867, "comment_id": 48296220, "body": "Are you sure you&#39;re using MRI ruby 2.0.0 or above? It&#39;s a requirement for byebug"}, {"owner": {"reputation": 193, "user_id": 2303829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0de61fa5c7e0b1b2f519a6d8d7420ea?s=128&d=identicon&r=PG", "display_name": "kartik7153", "link": "https://stackoverflow.com/users/2303829/kartik7153"}, "edited": false, "score": 0, "creation_date": 1431053652, "post_id": 30084867, "comment_id": 48340796, "body": "Actually I am beginner so I don&#39;t know what MRI is. But when i did ruby -v it gave ruby 2.1.5p273 (2014-11-13 revision 48405) [x86_64-linux]"}], "tags": [], "owner": {"reputation": 1329, "user_id": 4067206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744808f16c60746bdad874140156c809?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/4067206/mario"}, "is_accepted": false, "score": 0, "last_activity_date": 1430937200, "creation_date": 1430937200, "answer_id": 30084867, "question_id": 30084184, "link": "https://stackoverflow.com/questions/30084184/bin-rails-server-not-working/30084867#30084867", "title": "bin/rails server not working", "body": "<p>Like your error says, you need to install readline (libreadline-dev in Ubuntu) and then reinstall Ruby... Please do this.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 3157949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfb50136d455368ca5c340740db11f00?s=128&d=identicon&r=PG", "display_name": "baer", "link": "https://stackoverflow.com/users/3157949/baer"}, "is_accepted": false, "score": 2, "last_activity_date": 1476928168, "last_edit_date": 1476928168, "creation_date": 1437635465, "answer_id": 31580488, "question_id": 30084184, "link": "https://stackoverflow.com/questions/30084184/bin-rails-server-not-working/31580488#31580488", "title": "bin/rails server not working", "body": "<p>Besides installing <code>libreadline-dev</code>, try to add <code>--with-readline-dir</code> option to the compilation of Ruby. </p>\n\n<pre><code>CONFIGURE_OPTS=\"--with-readline-dir=/usr/include/readline\" rbenv install 2.3.1\n</code></pre>\n\n<p>Please double check that the readline directory exists beforehand.</p>\n"}, {"comments": [{"owner": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "edited": false, "score": 0, "creation_date": 1497882098, "post_id": 40276023, "comment_id": 76251671, "body": "This worked for me. I have no need for byebug. Thanks."}, {"owner": {"reputation": 764, "user_id": 3930758, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2d20d71ca93a31bf75a5fd36f302babe?s=128&d=identicon&r=PG&f=1", "display_name": "Balaji Radhakrishnan", "link": "https://stackoverflow.com/users/3930758/balaji-radhakrishnan"}, "reply_to_user": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "edited": false, "score": 0, "creation_date": 1497883145, "post_id": 40276023, "comment_id": 76252402, "body": "@BryceJohnson you can install the gem &#39;rb-readline&#39; as an alternative to this and keep on using byebug."}], "tags": [], "owner": {"reputation": 764, "user_id": 3930758, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2d20d71ca93a31bf75a5fd36f302babe?s=128&d=identicon&r=PG&f=1", "display_name": "Balaji Radhakrishnan", "link": "https://stackoverflow.com/users/3930758/balaji-radhakrishnan"}, "is_accepted": false, "score": 1, "last_activity_date": 1477541840, "creation_date": 1477541840, "answer_id": 40276023, "question_id": 30084184, "link": "https://stackoverflow.com/questions/30084184/bin-rails-server-not-working/40276023#40276023", "title": "bin/rails server not working", "body": "<p>If you are in a hurry,</p>\n\n<p>Open your byebug's history.rb</p>\n\n<pre><code>/Users/user/.rvm/gems/ruby-2.1.5@rails/gems/byebug-9.0.5/lib/byebug/history.rb\n</code></pre>\n\n<p>and comment out the following line,</p>\n\n<pre><code>require 'readline'\n</code></pre>\n\n<p>But, It is recommended to use byebug for beginners to debug. But, there are alternatives like</p>\n\n<pre><code>pry, pry-byebug\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21111, "user_id": 32043, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/3df83952dc426143757b8891f68bfbfc?s=128&d=identicon&r=PG", "display_name": "guerda", "link": "https://stackoverflow.com/users/32043/guerda"}, "is_accepted": false, "score": 0, "last_activity_date": 1477746320, "creation_date": 1477746320, "answer_id": 40319381, "question_id": 30084184, "link": "https://stackoverflow.com/questions/30084184/bin-rails-server-not-working/40319381#40319381", "title": "bin/rails server not working", "body": "<p>If you are on Fedora, install readline-devel, then re-install ruby (for me it was with <code>ruby-installer</code>)</p>\n\n<pre><code>sudo dnf install readline-devel\nruby-install ruby\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109, "user_id": 6497131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WvNaN.jpg?s=128&g=1", "display_name": "Alba Hoo", "link": "https://stackoverflow.com/users/6497131/alba-hoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1493866351, "creation_date": 1493866351, "answer_id": 43773055, "question_id": 30084184, "link": "https://stackoverflow.com/questions/30084184/bin-rails-server-not-working/43773055#43773055", "title": "bin/rails server not working", "body": "<pre><code>ln -s /usr/local/opt/readline/lib/libreadline.dylib \n/usr/local/opt/readline/lib/libreadline.6.dylib\n</code></pre>\n\n<p>works for me, what a magic!</p>\n"}], "owner": {"reputation": 193, "user_id": 2303829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0de61fa5c7e0b1b2f519a6d8d7420ea?s=128&d=identicon&r=PG", "display_name": "kartik7153", "link": "https://stackoverflow.com/users/2303829/kartik7153"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2150, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1493866351, "creation_date": 1430934918, "last_edit_date": 1477746351, "question_id": 30084184, "link": "https://stackoverflow.com/questions/30084184/bin-rails-server-not-working", "title": "bin/rails server not working", "body": "<p>Ruby Version - ruby 2.1.5p273 (2014-11-13 revision 48405) [x86_64-linux]</p>\n\n<pre><code>Error: \nSorry, you can't use byebug without Readline. To solve this, you need to\nrebuild Ruby with Readline support. If using Ubuntu, try `sudo apt-get\ninstall libreadline-dev` and then reinstall your Ruby.\nbin/rails:6: warning: already initialized constant APP_PATH\n/home/kg/Mysite/bin/rails:6: warning: previous definition of APP_PATH was here\nUsage: rails COMMAND [ARGS]\n</code></pre>\n"}, {"tags": ["sql", "ruby-on-rails", "ruby", "parsing"], "answers": [{"tags": [], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "is_accepted": false, "score": 1, "last_activity_date": 1430935812, "creation_date": 1430935812, "answer_id": 30084449, "question_id": 30084146, "link": "https://stackoverflow.com/questions/30084146/ruby-parse-sql-query-string-into-hash/30084449#30084449", "title": "Ruby parse SQL query string into hash", "body": "<pre><code>sql_query = 'field = value AND field2 = value2 OR field3 = value3'\n\ndef hash_for sql_query\n  parts = sql_query.split /(and|or)/i\n  parts.map do | p | \n    fv = p.split('=').map &amp;:strip\n    { fv[0].to_sym =&gt; fv[1] }\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 603, "user_id": 1780215, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/41378ece0852fb6cd9c4535bb6707ebf?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1780215/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430935812, "creation_date": 1430934791, "question_id": 30084146, "link": "https://stackoverflow.com/questions/30084146/ruby-parse-sql-query-string-into-hash", "title": "Ruby parse SQL query string into hash", "body": "<p>I am trying to parse a SQL query string into a hash. Example:\n<code>field = value AND field2 = value2</code> becomes <code>{ field: 'value', field2: 'value2' }</code></p>\n\n<p>I have tried <code>Rack::Utils.parse</code>, which works great for URL params, but doesn't for SQL query string.</p>\n\n<p>My initial thoughts are to split by <code>AND, OR</code> etc and then use <code>Rack::Utils.parse</code> recursively.</p>\n\n<p>I was thinking there would be a straightforward way of doing this in Rails, but I haven't found anything yet. Has anyone accomplished this before?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "file-handling"], "comments": [{"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "edited": false, "score": 2, "creation_date": 1430936151, "post_id": 30083762, "comment_id": 48282146, "body": "Why do you &quot;want to use the method which we generally use in C,C++ without using any temporary file&quot;?"}, {"owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "edited": false, "score": 0, "creation_date": 1430945555, "post_id": 30083762, "comment_id": 48287867, "body": "\u201cmethod which we generally use in C,C++...\u201d \u2013 can you provide an example of this method? Note that the Ruby IO API fairly closely matches the C API, so you should be able to do anything you can do in C with Ruby."}], "answers": [{"tags": [], "owner": {"reputation": 74, "user_id": 1970952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c22cfafc2bcda6d1ba61b466aa8449df?s=128&d=identicon&r=PG", "display_name": "pepegasca", "link": "https://stackoverflow.com/users/1970952/pepegasca"}, "is_accepted": false, "score": 0, "last_activity_date": 1430937804, "creation_date": 1430937804, "answer_id": 30085060, "question_id": 30083762, "link": "https://stackoverflow.com/questions/30083762/remove-trailing-white-spaces-from-each-line-in-a-file/30085060#30085060", "title": "Remove trailing white-spaces from each line in a file", "body": "<p>You can use something like:</p>\n\n<pre><code>file_name = 'testFile.txt'\n\ninput_content = File.open(file_name).read\noutput_content = []\n\nfile.each_line do |line|\n  line.gsub!(\"\\n\",'').strip!\n  output_content &lt;&lt; line\nend\n\nFile.open(file_name,'w').write(output_content.join(\"\\n\"))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1810, "user_id": 3078630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5a853b560f56e60ba05073e5b121ef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Kumar", "link": "https://stackoverflow.com/users/3078630/naveen-kumar"}, "edited": false, "score": 0, "creation_date": 1430979303, "post_id": 30091643, "comment_id": 48298841, "body": "looking fine, use rstrip instead of just strip because I want to remove trailing white-spaces and not from the beginning."}, {"owner": {"reputation": 1810, "user_id": 3078630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5a853b560f56e60ba05073e5b121ef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Kumar", "link": "https://stackoverflow.com/users/3078630/naveen-kumar"}, "edited": false, "score": 0, "creation_date": 1431525761, "post_id": 30091643, "comment_id": 48538152, "body": "Just do little change as below to avoid infinity loop.     <code>while (io.seek(r_pos, IO::SEEK_SET); io.gets)           r_pos = io.tell           io.seek(w_pos, IO::SEEK_SET)           if io.eof?              break           end           io.puts $_.rstrip           w_pos = io.tell     end</code>"}], "tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": true, "score": 1, "last_activity_date": 1430981545, "last_edit_date": 1430981545, "creation_date": 1430971014, "answer_id": 30091643, "question_id": 30083762, "link": "https://stackoverflow.com/questions/30083762/remove-trailing-white-spaces-from-each-line-in-a-file/30091643#30091643", "title": "Remove trailing white-spaces from each line in a file", "body": "<p>Here is the one way to modify the file content in place.</p>\n\n<pre><code># a.rb\nFile.open \"#{__dir__}/out1.txt\", 'r+' do |io|\n  r_pos = w_pos = 0\n\n  while (io.seek(r_pos, IO::SEEK_SET); io.gets)\n    r_pos = io.tell\n    io.seek(w_pos, IO::SEEK_SET)\n    # line read in by IO#gets will be returned and also assigned to $_.\n    io.puts $_.rstrip\n    w_pos = io.tell\n  end\n\n  io.truncate(w_pos)\nend\n</code></pre>\n\n<p>Here is the output of the file.</p>\n\n<pre><code>[arup@Ruby]$ cat out1.txt\n foo \n    biz\n bar\n\n[arup@Ruby]$ ruby a.rb\n[arup@Ruby]$ cat out1.txt\n foo\n    biz\n bar\n\n[arup@Ruby]$\n</code></pre>\n"}], "owner": {"reputation": 1810, "user_id": 3078630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5a853b560f56e60ba05073e5b121ef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Kumar", "link": "https://stackoverflow.com/users/3078630/naveen-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 30091643, "answer_count": 2, "score": 1, "last_activity_date": 1430981545, "creation_date": 1430933617, "last_edit_date": 1430933783, "question_id": 30083762, "link": "https://stackoverflow.com/questions/30083762/remove-trailing-white-spaces-from-each-line-in-a-file", "title": "Remove trailing white-spaces from each line in a file", "body": "<p>I am using ruby and I want to remove trailing white-spaces at the end of each line in a file.</p>\n\n<p>One way to do this,\niterate line by line and save it in another file and then replace new file with the old one.</p>\n\n<pre><code>  temp_file = Tempfile.new(\"temp\")\n  f.each_line do |line|\n    new_line = line.rstrip\n    temp_file.puts  new_line\n  end\n</code></pre>\n\n<p>but this is not what I want.\nI want to use the method which we generally use in C,C++ without using any temporary file that is, move file pointer to the front of line by new line and overwrite it.</p>\n\n<p>How can we do this in ruby ??</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "rvm"], "comments": [{"owner": {"reputation": 1603, "user_id": 4111480, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/efe2b8fc71222d6b38cf9f0e866a9878?s=128&d=identicon&r=PG&f=1", "display_name": "Yorkshireman", "link": "https://stackoverflow.com/users/4111480/yorkshireman"}, "edited": false, "score": 0, "creation_date": 1430932801, "post_id": 30083446, "comment_id": 48279990, "body": "I should add that everything still works fine in the first tab, but now I have to shut down my laptop. I expect that when I reboot this won&#39;t be the case anymore :-("}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 4871897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d01c6c09f2e3c2631ef2d776d640a2bb?s=128&d=identicon&r=PG&f=1", "display_name": "marilyne.christiansen", "link": "https://stackoverflow.com/users/4871897/marilyne-christiansen"}, "is_accepted": false, "score": 10, "last_activity_date": 1430938074, "creation_date": 1430938074, "answer_id": 30085149, "question_id": 30083446, "link": "https://stackoverflow.com/questions/30083446/rails-v-cannot-load-such-file-rails-cli-loaderror/30085149#30085149", "title": "rails -v cannot load such file -- rails/cli (LoadError)", "body": "<p>You have installed <code>rvm</code> but forget to install <code>rails</code> gem. Install it use:</p>\n\n<pre><code>gem install rails\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1603, "user_id": 4111480, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/efe2b8fc71222d6b38cf9f0e866a9878?s=128&d=identicon&r=PG&f=1", "display_name": "Yorkshireman", "link": "https://stackoverflow.com/users/4111480/yorkshireman"}, "is_accepted": true, "score": 0, "last_activity_date": 1430940971, "creation_date": 1430940971, "answer_id": 30085982, "question_id": 30083446, "link": "https://stackoverflow.com/questions/30083446/rails-v-cannot-load-such-file-rails-cli-loaderror/30085982#30085982", "title": "rails -v cannot load such file -- rails/cli (LoadError)", "body": "<p>Turns out I just had to run \n    bundle install \nand everything was fine. However, for my pinteresting repo, which uses the paperclip gem, I had to run \n    sudo apt-get install imagemagick\nin order to upload images in development.</p>\n\n<p>Haven't dared commit anything new and push and deploy to heroku yet though. I think it should be fine though (touch wood).</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 966747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e15aae794c5e7f8fe26c847bcf46ac?s=128&d=identicon&r=PG", "display_name": "blazetango", "link": "https://stackoverflow.com/users/966747/blazetango"}, "is_accepted": false, "score": 0, "last_activity_date": 1447834084, "last_edit_date": 1447834084, "creation_date": 1447830025, "answer_id": 33773682, "question_id": 30083446, "link": "https://stackoverflow.com/questions/30083446/rails-v-cannot-load-such-file-rails-cli-loaderror/33773682#33773682", "title": "rails -v cannot load such file -- rails/cli (LoadError)", "body": "<p>I too had the same error. I forgot to switch to correct ruby version and correct gemset using rvm. That's it, I was able to sort this issue.  </p>\n\n<pre><code>$rvm list\n$rvm use ruby version \n$rvm gemset use gemset-name \n</code></pre>\n"}], "owner": {"reputation": 1603, "user_id": 4111480, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/efe2b8fc71222d6b38cf9f0e866a9878?s=128&d=identicon&r=PG&f=1", "display_name": "Yorkshireman", "link": "https://stackoverflow.com/users/4111480/yorkshireman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10941, "favorite_count": 3, "accepted_answer_id": 30085982, "answer_count": 3, "score": 11, "last_activity_date": 1447834084, "creation_date": 1430932632, "last_edit_date": 1430937244, "question_id": 30083446, "link": "https://stackoverflow.com/questions/30083446/rails-v-cannot-load-such-file-rails-cli-loaderror", "title": "rails -v cannot load such file -- rails/cli (LoadError)", "body": "<p>Ubuntu 14.04.</p>\n\n<p>So everything was working fine and I had my terminal open with two tabs - one tab had webbrick running on my sebcoles project, and the other tab I used to clone my english_teacher repo. It all downloaded fine and I changed into the directory.</p>\n\n<p>I'll just paste everything here - it's all pretty clear:</p>\n\n<pre><code>andrew:projects$ cd pinteresting\nRVM used your Gemfile for selecting Ruby, it is all fine - Heroku does that too,\nyou can ignore these warnings with 'rvm rvmrc warning ignore /home/andrew/projects/pinteresting/Gemfile'.\nTo ignore the warning for all files run 'rvm rvmrc warning ignore allGemfiles'.\n\nruby-2.1.5 is not installed.\nTo install do: 'rvm install ruby-2.1.5'\n\nandrew:pinteresting$ rvm install ruby-2.1.5\n\nWarning, new version of rvm available '1.26.11', you are using older version '1.26.10'.\nYou can disable this warning with:    echo rvm_autoupdate_flag=0 &gt;&gt; ~/.rvmrc\nYou can enable  auto-update  with:    echo rvm_autoupdate_flag=2 &gt;&gt; ~/.rvmrc\nSearching for binary rubies, this might take some time.\nFound remote file https://rvm_io.global.ssl.fastly.net/binaries/ubuntu/14.04/x86_64/ruby-2.1.5.tar.bz2\nChecking requirements for ubuntu.\nRequirements installation successful.\nruby-2.1.5 - #configure\nruby-2.1.5 - #download\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 23.1M  100 23.1M    0     0  1189k      0  0:00:19  0:00:19 --:--:-- 1381k\nNo checksum for downloaded archive, recording checksum in user configuration.\nruby-2.1.5 - #validate archive\nruby-2.1.5 - #extract\nruby-2.1.5 - #validate binary\nruby-2.1.5 - #setup\nruby-2.1.5 - #gemset created /home/andrew/.rvm/gems/ruby-2.1.5@global\nruby-2.1.5 - #importing gemset /home/andrew/.rvm/gemsets/global.gems....................................\nruby-2.1.5 - #generating global wrappers........\nruby-2.1.5 - #gemset created /home/andrew/.rvm/gems/ruby-2.1.5\nruby-2.1.5 - #importing gemsetfile /home/andrew/.rvm/gemsets/default.gems evaluated to empty gem list\nruby-2.1.5 - #generating default wrappers........\n\nandrew:pinteresting$ heroku status\n\n=== Heroku Status\nDevelopment: No known issues at this time.\nProduction:  No known issues at this time.\n\nandrew:pinteresting$ rails s\n\n/home/andrew/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- rails/cli (LoadError)\n    from /home/andrew/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n    from /usr/bin/rails:7:in `&lt;main&gt;'\n\nandrew:pinteresting$ rails -v\n\n/home/andrew/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- rails/cli (LoadError)\n    from /home/andrew/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n    from /usr/bin/rails:7:in `&lt;main&gt;'\n</code></pre>\n\n<p>So, basically I'm screwed at the moment - I can't do anything. Help!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "xml"], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 1819614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9eb6ba22e482b71b266daadf9c9a080?s=128&d=identicon&r=PG", "display_name": "Bradley Schaefer", "link": "https://stackoverflow.com/users/1819614/bradley-schaefer"}, "is_accepted": false, "score": 1, "last_activity_date": 1444078009, "creation_date": 1444078009, "answer_id": 32957605, "question_id": 30083191, "link": "https://stackoverflow.com/questions/30083191/when-using-saxerator-gem-ruby-the-put-attributes-in-hash-method-grabs-a-tag/32957605#32957605", "title": "When using saxerator gem (ruby), the put_attributes_in_hash! method grabs a tag&#39;s inner text and not the attribute", "body": "<p><a href=\"https://github.com/soulcutter/saxerator\" rel=\"nofollow\">Saxerator</a> author here. I know this is way late, apologies. The documentation for this could use some improvement, as you're not the first person to wonder <a href=\"https://github.com/soulcutter/saxerator/issues/24\" rel=\"nofollow\">what happens to attributes on elements that have inner text</a>.</p>\n\n<p>The objects that appear to be strings in your array (e.g. <code>\"Welcome home!\"</code>) are actually <a href=\"https://github.com/soulcutter/saxerator/blob/master/lib/saxerator/builder/string_element.rb\" rel=\"nofollow\"><code>StringElement</code></a> objects, and you can access the attributes on them through the <code>#attributes</code> method.</p>\n\n<p>As of Saxerator 0.9.5 this fact is hidden because the library inherited from the <code>String</code> object, which inherits <code>String#inspect</code> and gives no clue that there's anything else on that object. I plan to release a new version soon that makes this more-clear by relying on <code>Delegate</code> classes and exposing its attributes through <code>inspect</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 3471422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6740eca3752f44a7cd38f4a84ac5eeb1?s=128&d=identicon&r=PG&f=1", "display_name": "user3471422", "link": "https://stackoverflow.com/users/3471422/user3471422"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444078009, "creation_date": 1430931903, "last_edit_date": 1430981681, "question_id": 30083191, "link": "https://stackoverflow.com/questions/30083191/when-using-saxerator-gem-ruby-the-put-attributes-in-hash-method-grabs-a-tag", "title": "When using saxerator gem (ruby), the put_attributes_in_hash! method grabs a tag&#39;s inner text and not the attribute", "body": "<p>I'm attempting to use the saxerator gem to parse an xml file, and I want to get the attributes for some xml tags.  I am using the put_attributes_in_hash! method to accomplish this, and it's working well, except for tags that have inner text.  The method ignores attributes for these tags, and instead grabs the inner text and the inner text alone.  I want to be sure I can get the attributes for ANY tag, whether it contains text or not.</p>\n\n<p>Here's my xml</p>\n\n<pre><code>&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660734.jpg\" \n    ModificationDate=\"2014-10-03T09:50:14\" Primary=\"true\"&gt;Welcome home!\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660736.jpg\" \n    ModificationDate=\"2014-10-03T09:50:38\"&gt;Bathroom 1\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660737.jpg\" \n    ModificationDate=\"2014-10-03T09:50:43\"&gt;Bedroom 1\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660738.jpg\" \n    ModificationDate=\"2014-10-03T09:50:48\"&gt;Bedroom 2\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660739.jpg\" \n    ModificationDate=\"2014-10-03T09:50:54\"&gt;Bedroom 3\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660740.jpg\" \n    ModificationDate=\"2014-10-03T09:50:58\"&gt;Backyard\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660741.jpg\" \n    ModificationDate=\"2014-10-03T09:51:05\"&gt;Dining room\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660742.jpg\" \n    ModificationDate=\"2014-10-03T09:51:10\"&gt;Living room\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660743.jpg\" \n    ModificationDate=\"2014-10-03T09:51:19\"&gt;Bathroom 2\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/6660744.jpg\" \n    ModificationDate=\"2014-10-03T09:51:24\"&gt;Kitchen\n&lt;/PropertyPhoto&gt;\n&lt;PropertyPhoto \n    ImageUrl=\"http://example.com/L600/9987810.png\" \n    ModificationDate=\"2015-03-09T15:06:17\"&gt;Rental Images-07\n&lt;/PropertyPhoto&gt;\n</code></pre>\n\n<p>and my output looks like this...</p>\n\n<pre><code>\"PropertyPhoto\"=&gt;[\"Welcome home!\", \"Bathroom 1\", \"Bedroom 1\", \"Bedroom 2\", \"Bedroom 3\", \"Backyard\", \"Dining room\", \"Living room\", \"Bathroom 2\", \"Kitchen\", \"Rental Images-07\"]\n</code></pre>\n\n<p>and here's an example of it working for tags with no inner text</p>\n\n<p>xml:</p>\n\n<pre><code>&lt;Property PropertyID=\"1234567\" LocalPropertyID=\"\"&gt;\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>\"PropertyID\"=&gt;\"1234567\",\n  \"LocalPropertyID\"=&gt;\"\",\n</code></pre>\n\n<p>(in a hash)</p>\n\n<p>and I'm invoking put_attributes_in_hash in the proper, functional way:</p>\n\n<pre><code>feed = Saxerator.parser(Net::HTTP.get(@xml_file)) do |config|\n   config.put_attributes_in_hash!\nend\n</code></pre>\n\n<p>Please help!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "methods", "model"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1430932954, "post_id": 30082817, "comment_id": 48280067, "body": "<code>n_days</code> is scoped to the <code>current_level</code>method which only returns one of those values in case. as soon as it returns <code>n_days</code> falls out of scope. Also <code>current_level</code> does not accept arguments so you will get an <code>ArgumentError</code> if you want <code>n_days</code> to be accessible either build it out as a method and reference it where needed or create it as an instance variable and reference it. Also <code>current_level</code> does not return an <code>Array</code> it returns a string or Integer so <code>current_level[n_days]</code> will end up being a single letter,<code>nil</code>, or the the case of an integer this will be a bit reference 0 or 1"}], "answers": [{"comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 2, "creation_date": 1430932777, "post_id": 30082982, "comment_id": 48279975, "body": "as a note <code>current_level</code> does not accept arguments so you will get an <code>ArgumentError: wrong number of arguments (1 for 0)</code>"}], "tags": [], "owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "is_accepted": true, "score": 0, "last_activity_date": 1430931277, "creation_date": 1430931277, "answer_id": 30082982, "question_id": 30082817, "link": "https://stackoverflow.com/questions/30082817/undefined-local-variable-or-method-n-days-when-calling-case-variable-in-model/30082982#30082982", "title": "undefined local variable or method `n_days&#39; when calling case variable in model method", "body": "<p>You can't access <code>n_days</code> in <code>current_level_days</code> because it hasn't been declared, hence the undefined. Up at the top of your class add:</p>\n\n<p><code>attr_accessor n_days</code> and you should be good to go.</p>\n\n<p>Unless it's stored in your database somewhere? I'm sorry it's not clear.</p>\n\n<p>However, if it is stored in the table, you should be able to access it with <code>self.n_days</code> so <code>current_level(self.n_days)</code> should work in that instance</p>\n"}], "owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 30082982, "answer_count": 1, "score": -1, "last_activity_date": 1430931277, "creation_date": 1430930801, "last_edit_date": 1495540262, "question_id": 30082817, "link": "https://stackoverflow.com/questions/30082817/undefined-local-variable-or-method-n-days-when-calling-case-variable-in-model", "title": "undefined local variable or method `n_days&#39; when calling case variable in model method", "body": "<p>In my habit model I created a new method:</p>\n\n<pre><code>def current_level_days\n  current_level[n_days]\nend\n</code></pre>\n\n<p>How can we call the case variable of <code>n_days</code> in the new method so that I can achieve my larger goal of <a href=\"https://stackoverflow.com/questions/30067159/counting-the-days-from-the-current-level\">Counting the Days from the current_level?</a> </p>\n\n<p><strong>habit.rb</strong></p>\n\n<pre><code>class Habit &lt; ActiveRecord::Base\n    belongs_to :user\n    has_many :comments, as: :commentable\n    has_many :levels\n    serialize :committed, Array\n    validates :date_started, presence: true\n    before_save :current_level\n    acts_as_taggable\n    scope :private_submit, -&gt; { where(private_submit: true) }\n    scope :public_submit, -&gt; { where(private_submit: false) }\n\nattr_accessor :missed_one, :missed_two, :missed_three\n\n    def save_with_current_level\n        self.levels.build\n        self.levels.build\n        self.levels.build\n        self.levels.build\n        self.levels.build\n        self.save\n    end\n\n    def self.committed_for_today\n    today_name = Date::DAYNAMES[Date.today.wday].downcase\n    ids = all.select { |h| h.committed.include? today_name }.map(&amp;:id)\n    where(id: ids)\n  end \n\n    def current_level_strike\n      levels[current_level - 1] # remember arrays indexes start at 0\n    end\n\n    def current_level_days\n      current_level(:n_days) # remember arrays indexes start at 0\n    end\n\n    def current_level\n            return 0 unless date_started\n            committed_wdays = committed.map { |day| Date::DAYNAMES.index(day.titleize) }\n            n_days = ((date_started.to_date)..Date.today).count { |date| committed_wdays.include? date.wday } - self.missed_days\n\n      case n_days     \n          when 0..9\n            1\n          when 10..24\n            2\n          when 25..44\n            3\n          when 45..69\n            4\n          when 70..99\n            5\n          else\n            \"Mastery\"\n        end\n    end\nend\n</code></pre>\n\n<p>The <strong>Gist</strong> of it: <a href=\"https://gist.github.com/RallyWithGalli/c66dee6dfb9ab5d338c2\" rel=\"nofollow noreferrer\">https://gist.github.com/RallyWithGalli/c66dee6dfb9ab5d338c2</a></p>\n\n<p>Thank you so much for your expertise!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "gem"], "comments": [{"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 1, "creation_date": 1430930582, "post_id": 30082606, "comment_id": 48278538, "body": "What did you do to &quot;screw up?&quot; We need a little more information, my friend."}, {"owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "edited": false, "score": 0, "creation_date": 1430930608, "post_id": 30082606, "comment_id": 48278559, "body": "Did you recently update your Gemfile? Try <code>bundle install</code> to make sure the gems are installed."}, {"owner": {"reputation": 3, "user_id": 4871499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206686922039619/picture?type=large", "display_name": "pedal", "link": "https://stackoverflow.com/users/4871499/pedal"}, "edited": false, "score": 0, "creation_date": 1430931150, "post_id": 30082606, "comment_id": 48278915, "body": "I was trying to run &quot;rails server&quot; after just installed ruby and rails but a huge error message came up. (This one: <a href=\"http://stackoverflow.com/questions/24357144/rails-server-bug\">stackoverflow.com/questions/24357144/rails-server-bug</a>)  Then I re-installed sqlite3 becuase that seemed to work for that other user and this error message started to come up."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4871499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206686922039619/picture?type=large", "display_name": "pedal", "link": "https://stackoverflow.com/users/4871499/pedal"}, "edited": false, "score": 0, "creation_date": 1430931015, "post_id": 30082746, "comment_id": 48278841, "body": "I did that and this happened: <code>pedal@RN-145-97-138-125:~&#47;railsbridge&#47;test_app$ gem pristine --all Restoring gems to pristine condition... ERROR:  While executing gem ... (Errno::EACCES)     Permission denied @ rb_sysopen - &#47;Users&#47;pedal&#47;.rvm&#47;rubies&#47;ruby-2.2.2&#47;lib&#47;ruby&#47;gems&#47;2.2.0&#47;gems&zwnj;&#8203;&#47;actionmailer-4.2.1&#47;&zwnj;&#8203;CHANGELOG.md</code>"}, {"owner": {"reputation": 3, "user_id": 4871499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206686922039619/picture?type=large", "display_name": "pedal", "link": "https://stackoverflow.com/users/4871499/pedal"}, "edited": false, "score": 0, "creation_date": 1430931628, "post_id": 30082746, "comment_id": 48279226, "body": "Oh, I think that managed to solve it. I just re-installed and now the server is running as it should. Cheers!"}], "tags": [], "owner": {"reputation": 481, "user_id": 2553761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ecec2e9eecacbd2a946aec15bd4d049?s=128&d=identicon&r=PG", "display_name": "Stormy", "link": "https://stackoverflow.com/users/2553761/stormy"}, "is_accepted": true, "score": 2, "last_activity_date": 1430930600, "creation_date": 1430930600, "answer_id": 30082746, "question_id": 30082606, "link": "https://stackoverflow.com/questions/30082606/rails-not-working-anymore-i-think-i-messed-up/30082746#30082746", "title": "Rails not working anymore... I think I messed up", "body": "<p>Try </p>\n\n<pre><code>gem pristine --all\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>bundle install\n</code></pre>\n\n<p>In the terminal of project folder</p>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 1500334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b17e0513baf25cfd057eb38b99b4ec6?s=128&d=identicon&r=PG", "display_name": "Jonathan Jin", "link": "https://stackoverflow.com/users/1500334/jonathan-jin"}, "is_accepted": false, "score": 0, "last_activity_date": 1430930667, "creation_date": 1430930667, "answer_id": 30082764, "question_id": 30082606, "link": "https://stackoverflow.com/questions/30082606/rails-not-working-anymore-i-think-i-messed-up/30082764#30082764", "title": "Rails not working anymore... I think I messed up", "body": "<p>It looks like you're missing the <code>actionpack</code> gem. Try (re-)installing it with <code>gem install actionpack</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 4871499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206686922039619/picture?type=large", "display_name": "pedal", "link": "https://stackoverflow.com/users/4871499/pedal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 1, "accepted_answer_id": 30082746, "answer_count": 2, "score": 0, "last_activity_date": 1430932414, "creation_date": 1430930151, "last_edit_date": 1430932414, "question_id": 30082606, "link": "https://stackoverflow.com/questions/30082606/rails-not-working-anymore-i-think-i-messed-up", "title": "Rails not working anymore... I think I messed up", "body": "<p>I think I screwed up and now I'm stuck with this error message :(\nHow do I get out of here?</p>\n\n<pre><code>pedal@RN-145-97-138-125:~$ rails -v\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/dependency.rb:315:in\n`to_specs': Could not find 'actionpack' (= 4.2.1) among 62 total\ngem(s) (Gem::LoadError) Checked in\n'GEM_PATH=/Users/pedal/.rvm/gems/ruby-2.2.1:/Users/pedal/.rvm/gems/ruby-2.2.1@global',\nexecute `gem env` for more information  from\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/specification.rb:1311:in\n`block in activate_dependencies'    from\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/specification.rb:1300:in\n`each'  from\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/specification.rb:1300:in\n`activate_dependencies'     from\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/specification.rb:1282:in\n`activate'  from\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_gem.rb:67:in\n`block in gem'  from\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_gem.rb:66:in\n`synchronize'   from\n/Users/pedal/.rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_gem.rb:66:in\n`gem'   from /Users/pedal/.rvm/rubies/ruby-2.2.1/bin/rails:22:in\n`&lt;main&gt;'    from\n/Users/pedal/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in\n`eval'  from\n/Users/pedal/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in\n`&lt;main&gt;'\u00a7\u00a7\u00a7\u00a7\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "paperclip"], "comments": [{"owner": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "edited": false, "score": 0, "creation_date": 1430930694, "post_id": 30082389, "comment_id": 48278619, "body": "So according to <a href=\"http://www.rubydoc.info/github/thoughtbot/paperclip/Paperclip/Shoulda/Matchers\" rel=\"nofollow noreferrer\">Paperclip-Shoulda-Matchers documentation</a> you can test that your model has a attached file, validate presence, content type or size. Can you be more precise on your need here ?"}, {"owner": {"reputation": 510, "user_id": 219984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/47fb42de0ac729856592c5570e64c13a?s=128&d=identicon&r=PG", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/219984/ragnar"}, "reply_to_user": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "edited": false, "score": 0, "creation_date": 1430931054, "post_id": 30082389, "comment_id": 48278862, "body": "Yes, that is all fine and dandy. But how do I attach said file to test against?"}, {"owner": {"reputation": 510, "user_id": 219984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/47fb42de0ac729856592c5570e64c13a?s=128&d=identicon&r=PG", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/219984/ragnar"}, "reply_to_user": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "edited": false, "score": 0, "creation_date": 1430931240, "post_id": 30082389, "comment_id": 48278961, "body": "Like, for example, if I want to test the validity of my user, I first create my user <code>user = create(:user, username: &#39;testuser&#39;, email: &#39;testuser@email.com&#39;, password: &#39;testpassword&#39;)</code> and then <code>expect(user).to be_valid</code>. How do I do the same with my attachment?"}, {"owner": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "edited": false, "score": 0, "creation_date": 1430931421, "post_id": 30082389, "comment_id": 48279095, "body": "You can write <code>let(:user) { create(:user) }</code>, <code>subject { user }</code> and <code>it { should have_attached_file(:avatar) }</code>."}, {"owner": {"reputation": 510, "user_id": 219984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/47fb42de0ac729856592c5570e64c13a?s=128&d=identicon&r=PG", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/219984/ragnar"}, "reply_to_user": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "edited": false, "score": 0, "creation_date": 1430932168, "post_id": 30082389, "comment_id": 48279607, "body": "That doesn&#39;t really answer my question but I appreciate your help! :)"}, {"owner": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "edited": false, "score": 0, "creation_date": 1430932631, "post_id": 30082389, "comment_id": 48279887, "body": "I guess I understand your need here. In model spec, you test your model, but for testing uploading you need to do it in Controller Spec, or Request Spec, or Feature Spec, so I think this <a href=\"http://stackoverflow.com/questions/7260394/test-a-file-upload-using-rspec-rails\">http://stackoverflow.com/questions/7260394/test-a-file-uploa&zwnj;&#8203;d-using-rspec-rails</a> should answer your question."}, {"owner": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "reply_to_user": {"reputation": 510, "user_id": 219984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/47fb42de0ac729856592c5570e64c13a?s=128&d=identicon&r=PG", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/219984/ragnar"}, "edited": false, "score": 0, "creation_date": 1430932657, "post_id": 30082389, "comment_id": 48279901, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/77112/discussion-between-florent-ferry-and-ragnar\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "is_accepted": false, "score": 0, "last_activity_date": 1430930726, "creation_date": 1430930726, "answer_id": 30082791, "question_id": 30082389, "link": "https://stackoverflow.com/questions/30082389/attach-and-validate-an-image-in-model-specs-using-rspec-and-paperclip/30082791#30082791", "title": "Attach and validate an image in model specs using Rspec and Paperclip", "body": "<p>You need to look at the source for Paperclip's <code>validate_attachment_content_type</code> matcher to make sure that you are happy with how they are testing things.</p>\n\n<p>See: <a href=\"https://github.com/thoughtbot/paperclip/blob/dca87ec5d8038b2d436a75ad6119c8eb67b73e70/lib/paperclip/matchers/validate_attachment_content_type_matcher.rb\" rel=\"nofollow\">https://github.com/thoughtbot/paperclip/blob/dca87ec5d8038b2d436a75ad6119c8eb67b73e70/lib/paperclip/matchers/validate_attachment_content_type_matcher.rb</a></p>\n"}], "owner": {"reputation": 510, "user_id": 219984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/47fb42de0ac729856592c5570e64c13a?s=128&d=identicon&r=PG", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/219984/ragnar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1829, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430930726, "creation_date": 1430929566, "question_id": 30082389, "link": "https://stackoverflow.com/questions/30082389/attach-and-validate-an-image-in-model-specs-using-rspec-and-paperclip", "title": "Attach and validate an image in model specs using Rspec and Paperclip", "body": "<p>I'm writing my User model spec with RSpec and I want to test if photo uploading works as it should - pretty straight forward.</p>\n\n<p>But I haven't gotten very far. An excerpt of my model spec is like this:</p>\n\n<pre><code>it \"does not allow uploading files other than images for avatar\" do\n  user = create(:user)\n  user.avatar = File.new(\"#{Rails.root}/public/robots.txt\")\nend\n</code></pre>\n\n<p>I have created my user, trying to attach my file\u2026 but as to how to actually test the upload or just to validate if it indeed is an image or not (I suppose uploading isn't necessary per se, I just need to validate the attached file). No idea.</p>\n\n<p>I have looked into Paperclip shoulda matchers, like for example</p>\n\n<pre><code>it { should validate_attachment_content_type(:icon).\n            allowing('image/png', 'image/gif').\n            rejecting('text/plain', 'text/xml') }\n</code></pre>\n\n<p>but to me it seems entirely pointless, as all it does is say it should validate content type. But does it? How do I know if it does? How do I attach a file and see if it does?</p>\n\n<p>I have searched far and wide, with all the possible keyword combinations to find an answer to this, but with no luck so far. Am I just somehow conceptually not getting it? I'm clearly a beginner, so please don't burn me for asking what might seem dumb to you.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "checkbox", "cucumber", "capybara"], "comments": [{"owner": {"reputation": 3050, "user_id": 1810434, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/498Wj.png?s=128&g=1", "display_name": "Joe Essey", "link": "https://stackoverflow.com/users/1810434/joe-essey"}, "edited": false, "score": 0, "creation_date": 1430931472, "post_id": 30082271, "comment_id": 48279138, "body": "Use save_and_open_page to see if the element is actually rendering.  Is it possible that the view you&#39;re rendering does not have an <code>Interest</code> with <code>id == 2</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 732, "user_id": 958503, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AqaXx.png?s=128&g=1", "display_name": "Raza Hussain", "link": "https://stackoverflow.com/users/958503/raza-hussain"}, "is_accepted": false, "score": 1, "last_activity_date": 1430937085, "creation_date": 1430937085, "answer_id": 30084830, "question_id": 30082271, "link": "https://stackoverflow.com/questions/30082271/capybara-and-cucumber-cannot-find-checkboxes-even-with-unique-id/30084830#30084830", "title": "Capybara and Cucumber cannot find checkboxes even with unique ID", "body": "<p>Try the find the checkboxes in this way:</p>\n\n<pre><code> within('.form-group') do\n    page.find('input[type=checkbox]').set(true)\n end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1079, "user_id": 4584772, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/800138940080213/picture?type=large", "display_name": "Josh Hunter", "link": "https://stackoverflow.com/users/4584772/josh-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1431124082, "creation_date": 1431124082, "answer_id": 30133755, "question_id": 30082271, "link": "https://stackoverflow.com/questions/30082271/capybara-and-cucumber-cannot-find-checkboxes-even-with-unique-id/30133755#30133755", "title": "Capybara and Cucumber cannot find checkboxes even with unique ID", "body": "<p>If you use chrome, you can inspect the element and copy the css or xpath.  That helps me a lot.  Also, if you use the pry gem, I sometimes set js: true on capybara, so I can see what's going on in the browser, then walk through step by step until I get what I want.  For me, it's way easier to do it that way.</p>\n"}], "owner": {"reputation": 11, "user_id": 3703869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2625204875a11574e425372c877a7f51?s=128&d=identicon&r=PG&f=1", "display_name": "user3703869", "link": "https://stackoverflow.com/users/3703869/user3703869"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1431124082, "creation_date": 1430929217, "question_id": 30082271, "link": "https://stackoverflow.com/questions/30082271/capybara-and-cucumber-cannot-find-checkboxes-even-with-unique-id", "title": "Capybara and Cucumber cannot find checkboxes even with unique ID", "body": "<p>I have been encountering a problem when running cucumber to test the functionality of some of my checkboxes. The checkboxes are located on the edit profile page for users and allow users to check off their interests. However, every time I run cucumber it says that it is unable to find the checkbox. But this does not happen for all of the checkboxes on the page, only the checkboxes for the interests. Originally we thought that it was because the checkboxes did not have unique IDs, but now we have updated the checkboxes to have unique ids and they still cannot be found by capybara and cucumber. </p>\n\n<p>The view code looks like this:</p>\n\n<pre><code>&lt;% @interests.each do |interest| %&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;%= label_tag 'interests', interest.name, class: 'col-sm-2 control-label'  %&gt;\n    &lt;div class=\"col-sm-6\"&gt;\n      &lt;%= check_box_tag 'interests[]', interest.id, resource.interest_ids.include?(interest.id), {class: 'form-control', id: \"interest_#{interest.id}\"} %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>The step definition is:</p>\n\n<pre><code>When /^(?:|I )check \"([^\"]*)\"$/ do |field|\n  check(field)\nend\n</code></pre>\n\n<p>The feature look like this:</p>\n\n<pre><code>Feature: Edit Profile as a User\n\n  As a BoardBank User\n  So I can keep my info up to date\n  I want to be able to edit my profile\n\nBackground:\n    Given  I login as a User\n    And I am on the home page\n\nScenario: Edit profile\n    When I follow \"Profile\"\n    And I follow \"Edit Profile\"\n    And I fill in \"user_firstname\" with \"User\"\n    And I fill in \"user_lastname\" with \"Joe\"\n    And I fill in \"user_address\" with \"123 userville\"\n    And I fill in \"user_city\" with \"Userton\"\n    And I select \"Alabama\" from \"user_state\"\n    And I fill in \"user_zipcode\" with \"90210\"\n    And I fill in \"user_phonenumber\" with \"555-555-5555\"\n    And I select \"Bachelors\" from \"user_education\"\n    And I fill in \"user_areaofstudy\" with \"Magic\"\n    And I check \"interest_2\"\n    And I check \"user_previous_experience\"\n    And I fill in \"user_current_password\" with \"password\"\n    And I press \"Update\"\n    Then I should see \"Your account has been updated successfully.\"\n    And I should be on the homepage\n</code></pre>\n\n<p>When I run cucumber this is what happens:</p>\n\n<pre><code> And I check \"interest_2\"    #features/step_definitions/web_steps.rb:89\n  Unable to find checkbox \"interest_2\" (Capybara::ElementNotFound)\n  ./features/step_definitions/web_steps.rb:90:in `/^(?:|I )check \"([^\"]*)\"$/'\n  features/edit_profile.feature:23:in `And I check \"interest_2\"'\n</code></pre>\n\n<p>We think that it must be an issue with the view code and how the checkboxes are appearing on the page, but we could not find any solution to this issue when searching. </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 5521, "user_id": 55534, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ff07daac6864c4d671f4ccef443eb80b?s=128&d=identicon&r=PG", "display_name": "levinalex", "link": "https://stackoverflow.com/users/55534/levinalex"}, "edited": false, "score": 0, "creation_date": 1430930097, "post_id": 30082205, "comment_id": 48278224, "body": "what&#39;s the bug? The exception you&#39;re getting (<code>Net::FTPConnectionError: not connected</code>) seems sensible."}, {"owner": {"reputation": 70793, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "edited": false, "score": 0, "creation_date": 1430930382, "post_id": 30082205, "comment_id": 48278394, "body": "The OP seems to be wrong about this being a bug that was fixed.  <code>Net::FTP.new.close</code> raises the same exception for me in Ruby 2.2.0.  If you look at <a href=\"https://github.com/ruby/ruby/blob/trunk/lib/net/ftp.rb\" rel=\"nofollow noreferrer\">github.com/ruby/ruby/blob/trunk/lib/net/ftp.rb</a> you can see they still have the same basic structure; they call <code>@sock.closed?</code> on the NullSocket, which raises an exception."}, {"owner": {"reputation": 669, "user_id": 258622, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3163faf8c9751ed7d2e3c3735c0fcbc8?s=128&d=identicon&r=PG", "display_name": "ZeDalaye", "link": "https://stackoverflow.com/users/258622/zedalaye"}, "reply_to_user": {"reputation": 70793, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "edited": false, "score": 0, "creation_date": 1430930613, "post_id": 30082205, "comment_id": 48278563, "body": "@DavidGrayson you are right again. The have implemented NullSocket#close but not NullSocket#closed?"}, {"owner": {"reputation": 1463, "user_id": 2448104, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QEF9u.jpg?s=128&g=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2448104/john-smith"}, "edited": false, "score": 0, "creation_date": 1432121612, "post_id": 30082205, "comment_id": 48789326, "body": "is patching the right way to go even in recent ruby versions? 2.2.x"}], "answers": [{"tags": [], "owner": {"reputation": 70793, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "is_accepted": true, "score": 1, "last_activity_date": 1430930052, "last_edit_date": 1430930052, "creation_date": 1430929922, "answer_id": 30082522, "question_id": 30082205, "link": "https://stackoverflow.com/questions/30082205/how-to-monkey-patch-inner-ruby-class/30082522#30082522", "title": "How to monkey patch inner ruby class?", "body": "<p>The backtrace provided by Ruby shows the exception is raised by line 908 of ftp.rb, which reads:</p>\n\n<pre><code>def close\n  @sock.close if @sock and not @sock.closed?\nend\n</code></pre>\n\n<p>You can see that code <a href=\"https://github.com/ruby/ruby/blob/v1_9_3_551/lib/net/ftp.rb#L907-909\" rel=\"nofollow\">on GitHub</a> or on your local computer at the path indicated in the stack trace.</p>\n\n<p>The <code>@sock</code> object is a NullSocket object, so when <code>@sock.closed?</code> is called, it will just raise an exception.  You should monkey patch <code>closed?</code> to return <code>true</code> and then it probably will be unnecessary to monkey patch <code>close</code> because it won't get called.</p>\n\n<p>To answer your question: yes, it is possible to monkeypatch classes included in the Ruby standard library.</p>\n"}], "owner": {"reputation": 669, "user_id": 258622, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3163faf8c9751ed7d2e3c3735c0fcbc8?s=128&d=identicon&r=PG", "display_name": "ZeDalaye", "link": "https://stackoverflow.com/users/258622/zedalaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 30082522, "answer_count": 1, "score": 0, "last_activity_date": 1430930467, "creation_date": 1430928993, "last_edit_date": 1430930467, "question_id": 30082205, "link": "https://stackoverflow.com/questions/30082205/how-to-monkey-patch-inner-ruby-class", "title": "How to monkey patch inner ruby class?", "body": "<p>There is a bug with old versions of Net::FTP :</p>\n\n<pre><code>f = Net::FTP.new\nf.close\n\nNet::FTPConnectionError: not connected\n        from /usr/local/lib/ruby/1.9.1/net/ftp.rb:1032:in `method_missing'\n        from /usr/local/lib/ruby/1.9.1/net/ftp.rb:908:in `close'\n        from (irb):17\n        from /usr/local/bin/irb:12:in `&lt;main&gt;'\n</code></pre>\n\n<p>This bug has been fixed in Ruby 2+ by adding a null-method #close to NullSocket but is still in 1.9.3</p>\n\n<p>I want to patch the inner class NullSocket like this :</p>\n\n<pre><code>if defined?(Net::FTP::NullSocket) and !Net::FTP::NullSocket.instance_methods.include?(:close)\n  class Net::FTP::NullSocket\n     def close\n      # Do nothing 'cause it's a null-method in a null-object\n    end\n  end\nend\n</code></pre>\n\n<p>But it don't works. I get the exact same error as if method_missing was called instead of my new close method.</p>\n\n<p>What strange is that if I get a reference to the inner private @sock variable, I can call close on it without raising the exception.</p>\n\n<pre><code>irb(main):010:0* f = Net::FTP.new\n=&gt; #&lt;Net::FTP:0x00000000f5d048 @mon_owner=nil, @mon_count=0, @mon_mutex=#&lt;Mutex:0x00000000f5cff8&gt;, @binary=true, @passive=false, @debug_mode=false, @resume=false, @sock=#&lt;Net::FTP::NullSocket:0x00000000f5cfd0&gt;, @logged_in=false&gt;\nirb(main):011:0&gt; z = f.instance_variable_get('@sock')\n=&gt; #&lt;Net::FTP::NullSocket:0x00000000f5cfd0&gt;\nirb(main):012:0&gt; z.methods\n=&gt; [:method_missing, :close, :nil?, :===, :=~, :!~, :eql?, :hash, :&lt;=&gt;, :class, :singleton_class, :clone, :dup, :initialize_dup, :initialize_clone, :taint, :tainted?, :untaint, :untrust, :untrusted?, :trust, :freeze, :frozen?, :to_s, :inspect, :methods, :singleton_methods, :protected_methods, :private_methods, :public_methods, :instance_variables, :instance_variable_get, :instance_variable_set, :instance_variable_defined?, :instance_of?, :kind_of?, :is_a?, :tap, :send, :public_send, :respond_to?, :respond_to_missing?, :extend, :display, :method, :public_method, :define_singleton_method, :object_id, :to_enum, :enum_for, :==, :equal?, :!, :!=, :instance_eval, :instance_exec, :__send__, :__id__]\nirb(main):013:0&gt; z.close\n</code></pre>\n\n<p>Is there a way to patch such an inner class ?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I finally workaround by patching Net::FTP#close</p>\n\n<pre><code>class Net::FTP\n  def close\n    @sock.close if @sock &amp;&amp; !@sock.is_a?(NullSocket) &amp;&amp; !@sock.closed?\n  end\nend\n</code></pre>\n\n<p>But the real answer to this question is to patch the right method as explained by David:</p>\n\n<pre><code>if defined?(Net::FTP::NullSocket) and !Net::FTP::NullSocket.instance_methods.include?(:'closed?')\n  class Net::FTP::NullSocket\n    def closed?\n      true\n    end\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec"], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 262575, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5213b326c19df5a05196ec652148b048?s=128&d=identicon&r=PG", "display_name": "James Smith", "link": "https://stackoverflow.com/users/262575/james-smith"}, "edited": false, "score": 0, "creation_date": 1430989529, "post_id": 30082409, "comment_id": 48304899, "body": "Bloody hell. That was exactly it. I was thrown off the scent because I guess Rails was autoloading everything in the concerns folder with wild disregard for filenames. Thanks, Matt."}], "tags": [], "owner": {"reputation": 13585, "user_id": 693349, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b030858982f80cfd886667ec36074da4?s=128&d=identicon&r=PG", "display_name": "Matt Gibson", "link": "https://stackoverflow.com/users/693349/matt-gibson"}, "is_accepted": true, "score": 2, "last_activity_date": 1430929614, "creation_date": 1430929614, "answer_id": 30082409, "question_id": 30082183, "link": "https://stackoverflow.com/questions/30082183/uninitialized-constant-when-running-rspec-test-with-concerns-used-in-models/30082409#30082409", "title": "uninitialized constant when running rspec test with concerns used in models", "body": "<p>This can be caused by not having the correct file name. For <code>Type1Fixture</code>, the file containing the class should be called <code>app/models/concerns/type1_fixture.rb</code>. Is this the case?</p>\n"}], "owner": {"reputation": 501, "user_id": 262575, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5213b326c19df5a05196ec652148b048?s=128&d=identicon&r=PG", "display_name": "James Smith", "link": "https://stackoverflow.com/users/262575/james-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 30082409, "answer_count": 1, "score": 0, "last_activity_date": 1430929614, "creation_date": 1430928920, "last_edit_date": 1430929199, "question_id": 30082183, "link": "https://stackoverflow.com/questions/30082183/uninitialized-constant-when-running-rspec-test-with-concerns-used-in-models", "title": "uninitialized constant when running rspec test with concerns used in models", "body": "<p>When I run <code>rspec spec/models/football_match_spec.rb</code> I get an <code>uninitialized constant</code> error:</p>\n\n<pre><code>/Users/jamessmith/project/app/models/football_match.rb:3:in `&lt;class:FootballMatch&gt;': uninitialized constant FootballMatch::Type1Fixture (NameError)     \nfrom /Users/jamessmith/project/app/models/football_match.rb:1:in `&lt;top (required)&gt;'     \nfrom /Users/jamessmith/project/spec/models/football_match_spec.rb:3:in `&lt;top (required)&gt;'   \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/configuration.rb:1226:in `load'    \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/configuration.rb:1226:in `block in load_spec_files'    \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/configuration.rb:1224:in `each'    \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/configuration.rb:1224:in `load_spec_files'     \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/runner.rb:97:in `setup'    \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/runner.rb:85:in `run'  \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/runner.rb:70:in `run'  \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/lib/rspec/core/runner.rb:38:in `invoke'   \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/gems/rspec-core-3.2.0/exe/rspec:4:in `&lt;top (required)&gt;'     \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/bin/rspec:23:in `load'  from /Users/jamessmith/.rvm/gems/ruby-2.1.2/bin/rspec:23:in `&lt;main&gt;'    \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/bin/ruby_executable_hooks:15:in `eval'  \nfrom /Users/jamessmith/.rvm/gems/ruby-2.1.2/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\n</code></pre>\n\n<p>Type1Fixture concern:</p>\n\n<pre><code>module Type1Fixture\n  extend ActiveSupport::Concern\n\n  def competitors\n    [competitor_1, competitor_2]\n  end\n\n  def competitor_1_score\n    [fhhts || 0, shhts || 0, ethts || 0].reduce(:+)\n  end\n\n  def competitor_2_score\n    [fhats || 0, shats || 0, etats || 0].reduce(:+)\n  end\n\n  def name_with_scores\n    if [Fixture::IN_PROGRESS_STATUS, Fixture::COMPLETED_STATUS].include?(status)\n      \"#{competitor_1.name} #{home_team_score} - #{away_team_score} #{competitor_2.name}\"\n    else\n      \"#{competitor_1.name} vs #{competitor_2.name}\"\n    end\n  end\nend\n</code></pre>\n\n<p>Edited FootballMatch model:</p>\n\n<pre><code>class FootballMatch &lt; Fixture\n  include Mongoid::Document\n  include Type1Fixture\nend\n</code></pre>\n\n<p>I've added <code>app/models/concerns</code> to the <code>config.autoload_paths</code> array in <code>environments/test.rb</code>.</p>\n"}, {"tags": ["ruby", "switch-statement"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1430931830, "post_id": 30082095, "comment_id": 48279373, "body": "In Ruby <code>$</code>-prefixed variables like <code>$browser</code> are global and these are almost always trouble, so they&#39;re best avoided."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 1738702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77eacb1fe5737a2183868d96f93d28a6?s=128&d=identicon&r=PG", "display_name": "user1738702", "link": "https://stackoverflow.com/users/1738702/user1738702"}, "edited": false, "score": 0, "creation_date": 1430987815, "post_id": 30082886, "comment_id": 48303702, "body": "This looks straight forward, though i&#39;m wondering, if the user opts for the &#39;all&#39; option as declared here, will all browsers be executed concurrently or consecutively?"}, {"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "reply_to_user": {"reputation": 1, "user_id": 1738702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77eacb1fe5737a2183868d96f93d28a6?s=128&d=identicon&r=PG", "display_name": "user1738702", "link": "https://stackoverflow.com/users/1738702/user1738702"}, "edited": false, "score": 0, "creation_date": 1431014573, "post_id": 30082886, "comment_id": 48323707, "body": "@user1738702 consecutively. Unless you&#39;re somehow running it in a thread environment. A single threaded program will have to wait for whatever it&#39;s currently working on to end before it starts on the next bit."}], "tags": [], "owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "is_accepted": false, "score": 0, "last_activity_date": 1430952995, "last_edit_date": 1430952995, "creation_date": 1430931020, "answer_id": 30082886, "question_id": 30082095, "link": "https://stackoverflow.com/questions/30082095/ruby-case-switch-statement-execute-every-case/30082886#30082886", "title": "Ruby case switch statement, execute every case", "body": "<p>You don't want a switch then. The purpose of a switch statement is to NOT run every other case (it's designed to be exclusive). Just use <code>if</code> statements instead. </p>\n\n<p>There are actually several ways to set up the <code>if</code>s but if you want to keep it looking kind of like a switch, this is probably your best bet:</p>\n\n<pre><code>if ENV['BROWSER'] == 'safari' || ENV['BROWSER'] == 'all'\n  # do safari stuff\nend\nif ENV['BROWSER'] == 'mobile' || ENV['BROWSER'] == 'all'\n  # do mobile stuff\nend\nif ENV['BROWSER'] == 'chrome' || ENV['BROWSER'] == 'all'\n  # do chrome stuff\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 1738702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77eacb1fe5737a2183868d96f93d28a6?s=128&d=identicon&r=PG", "display_name": "user1738702", "link": "https://stackoverflow.com/users/1738702/user1738702"}, "edited": false, "score": 0, "creation_date": 1430987701, "post_id": 30083154, "comment_id": 48303637, "body": "Thanks for this. I will give this a go and see where i end up @tadman"}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 3, "last_activity_date": 1430931790, "creation_date": 1430931790, "answer_id": 30083154, "question_id": 30082095, "link": "https://stackoverflow.com/questions/30082095/ruby-case-switch-statement-execute-every-case/30083154#30083154", "title": "Ruby case switch statement, execute every case", "body": "<p>If you need that sort of thing, a <code>case</code> statement is only part of the solution. You need to iterate as well. Break it out a little differently:</p>\n\n<pre><code>BROWSERS = %w[ safari chrome mobile ]\nBROWSER_ALIASES = {\n  all: BROWSERS\n}\n\n# Interpret the environment variable as either an alias, or a single\n# step to run.\nbrowsers = BROWSER_ALIASES[ENV['BROWSER']] || [ ENV['BROWSER'] ]\n\nbrowsers.each do |browser|\n  case (browser)\n  when 'safari'\n    # ... Safari specific action\n  when 'mobile'\n    # ...\n  end\nend\n</code></pre>\n\n<p>This expansion allows you to trigger zero, one or many of the browsers, plus set up arbitrary aliases as necessary.</p>\n"}], "owner": {"reputation": 1, "user_id": 1738702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77eacb1fe5737a2183868d96f93d28a6?s=128&d=identicon&r=PG", "display_name": "user1738702", "link": "https://stackoverflow.com/users/1738702/user1738702"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430952995, "creation_date": 1430928690, "question_id": 30082095, "link": "https://stackoverflow.com/questions/30082095/ruby-case-switch-statement-execute-every-case", "title": "Ruby case switch statement, execute every case", "body": "<p>I'm no Ruby guru so please can I get some help: I want to add whatever code is needed so that there is an option where the following case statement will execute every case. Basically if the user declares a 'browser' name at command line then Cucumber selenium tests will be run against a certain platform/browser. I want it so that if they declare 'all',  or if they declare nothing (else) then every case will be executed. </p>\n\n<p>Thanks</p>\n\n<pre><code>case ENV['BROWSER']\n  when 'safari'\n    $browser = Selenium::WebDriver.for :safari\n    $browser_name = 'Safari'\n  when 'mobile'\n    $browser = Selenium::WebDriver.for :chrome\n    $browser_name = 'Mobile'\n    $browser.manage.window.resize_to(400, 650)\n   else\n   $browser = Selenium::WebDriver.for :chrome\n   $browser_name = 'Chrome'\nend\n</code></pre>\n"}, {"tags": ["ruby", "regex", "file", "split", "partitioning"], "comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 1, "creation_date": 1430942992, "post_id": 30081987, "comment_id": 48286355, "body": "You may want to experiment with <code>Enumerable#slice_before</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "reply_to_user": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1430931474, "post_id": 30082062, "comment_id": 48279141, "body": "How are you going to skip a line baseD on the content without reading it?"}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1430937341, "post_id": 30082062, "comment_id": 48282880, "body": "Never mind, I thought you were saying you had to slurp the entire file at once."}], "tags": [], "owner": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "is_accepted": false, "score": 1, "last_activity_date": 1430928584, "creation_date": 1430928584, "answer_id": 30082062, "question_id": 30081987, "link": "https://stackoverflow.com/questions/30081987/splitting-a-ruby-file-at-a-pattern/30082062#30082062", "title": "Splitting a ruby file at a pattern?", "body": "<p>The file will be readed complete, there's no way to avoid it. But you can iterate over each line and ignore the one that matches the expresion:</p>\n\n<pre><code>File.open(\"file.txt\", \"r\") do |file|\n  file.each_line do |line|\n    if # condition\n    #fancy stuff\n    else\n    # not that fancy\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110733, "user_id": 1009479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wlrC5.jpg?s=128&g=1", "display_name": "Yu Hao", "link": "https://stackoverflow.com/users/1009479/yu-hao"}, "is_accepted": true, "score": 1, "last_activity_date": 1430928970, "creation_date": 1430928970, "answer_id": 30082195, "question_id": 30081987, "link": "https://stackoverflow.com/questions/30081987/splitting-a-ruby-file-at-a-pattern/30082195#30082195", "title": "Splitting a ruby file at a pattern?", "body": "<p><code>\\A</code> and <code>\\z</code> match the beginning and end of a string, respectively. While what you want is to match the beginning and end of a line. Instead, you should use <code>^</code> and <code>$</code>anchors:</p>\n\n<pre><code>/^product \\d+:$/i\n</code></pre>\n"}], "owner": {"reputation": 22074, "user_id": 4703663, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kN6k0.jpg?s=128&g=1", "display_name": "Richard Hamilton", "link": "https://stackoverflow.com/users/4703663/richard-hamilton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 30082195, "answer_count": 2, "score": 0, "last_activity_date": 1430929583, "creation_date": 1430928365, "last_edit_date": 1592644375, "question_id": 30081987, "link": "https://stackoverflow.com/questions/30081987/splitting-a-ruby-file-at-a-pattern", "title": "Splitting a ruby file at a pattern?", "body": "<p>I have a large ruby file that contains product data. I'm trying to split the file into sections based on a regular expression. I have product headers denoted by the word <code>Product</code> followed by a space and then a number. After that, I have a bunch of lines containing product information.</p>\n<p>The format looks like this.</p>\n<blockquote>\n<p>Product 1:</p>\n<pre><code>...data\n</code></pre>\n<p>Product 2:</p>\n<p>...data</p>\n<p>...</p>\n<p>Product N:</p>\n<p>...data</p>\n</blockquote>\n<p>When reading from the file, I would like to ignore the Product Headers and instead only show the product data. For that, I'm trying to split the file based on a regular expression.</p>\n<pre><code>file = File.read('products.txt')\nproducts = file.split(/\\Aproduct \\d+:\\z/i)\n</code></pre>\n<p>This regex works and finds all product headers. The problem is, the file isn't being split into the appropriate sections.</p>\n<p>When I run <code>puts products[0],</code> the entire file gets printed out to the console.</p>\n"}, {"tags": ["ruby", "upload", "vimeo"], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 1447973, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07880ac74f4bf088fc809e25cbac441f?s=128&d=identicon&r=PG", "display_name": "Lindsey B", "link": "https://stackoverflow.com/users/1447973/lindsey-b"}, "edited": false, "score": 0, "creation_date": 1430929429, "post_id": 30082091, "comment_id": 48277782, "body": "As mentioned in the post the vimeo gem uses the deprecated API and is therefore no longer a valid option."}, {"owner": {"reputation": 11760, "user_id": 2926641, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/962e08aff17872bda3f89a9ee6849ab3?s=128&d=identicon&r=PG", "display_name": "asiniy", "link": "https://stackoverflow.com/users/2926641/asiniy"}, "reply_to_user": {"reputation": 496, "user_id": 1447973, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07880ac74f4bf088fc809e25cbac441f?s=128&d=identicon&r=PG", "display_name": "Lindsey B", "link": "https://stackoverflow.com/users/1447973/lindsey-b"}, "edited": false, "score": 0, "creation_date": 1430931383, "post_id": 30082091, "comment_id": 48279069, "body": "Oh I didn&#39;t understand that you mean exactly this gem."}], "tags": [], "owner": {"reputation": 11760, "user_id": 2926641, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/962e08aff17872bda3f89a9ee6849ab3?s=128&d=identicon&r=PG", "display_name": "asiniy", "link": "https://stackoverflow.com/users/2926641/asiniy"}, "is_accepted": false, "score": 0, "last_activity_date": 1430928665, "creation_date": 1430928665, "answer_id": 30082091, "question_id": 30081898, "link": "https://stackoverflow.com/questions/30081898/uploading-a-video-to-vimeo-via-the-api-in-ruby/30082091#30082091", "title": "Uploading a video to vimeo via the API in ruby", "body": "<p>Consider the uploading through <a href=\"https://github.com/matthooks/vimeo/tree/master#vimeoadvancedupload\" rel=\"nofollow\">gem vimeo</a>. It seems <code>Video::Advanced::Upload</code> fit your needs better than <code>HTTParty</code></p>\n"}, {"tags": [], "owner": {"reputation": 496, "user_id": 1447973, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07880ac74f4bf088fc809e25cbac441f?s=128&d=identicon&r=PG", "display_name": "Lindsey B", "link": "https://stackoverflow.com/users/1447973/lindsey-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1430945473, "creation_date": 1430945473, "answer_id": 30087289, "question_id": 30081898, "link": "https://stackoverflow.com/questions/30081898/uploading-a-video-to-vimeo-via-the-api-in-ruby/30087289#30087289", "title": "Uploading a video to vimeo via the API in ruby", "body": "<p>HTTParty is the wrong tool to use for this. Changing it to work with the normal <code>Net::HTTP</code> lib did the trick. </p>\n\n<pre><code>  File.open(\"movie.mp4\", \"rb\") do |f|\n    uri = URI(target)\n    while last_byte &lt; size do\n      req = Net::HTTP::Put.new(\"#{uri.path}?#{uri.query}\", initheader = { \"Authorization\" =&gt; auth, \"Content-Length\" =&gt; size.to_s, \"Content-Range\" =&gt; \"bytes: #{last_byte}-#{size}/#{size}\"} )\n      req.body = f.read\n\n      begin\n        response = Net::HTTP.new(uri.host, uri.port).start {|http| http.request(req) }\n      rescue Errno::EPIPE\n        puts \"error'd\"\n      end\n\n      progress_resp = HTTParty.put target, headers: { \"Content-Range\" =&gt; 'bytes */*', \"Authorization\" =&gt; auth}\n      last_byte = progress_resp.headers[\"range\"].split(\"-\").last.to_i\n      puts last_byte\n    end\n  end\n</code></pre>\n"}], "owner": {"reputation": 496, "user_id": 1447973, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07880ac74f4bf088fc809e25cbac441f?s=128&d=identicon&r=PG", "display_name": "Lindsey B", "link": "https://stackoverflow.com/users/1447973/lindsey-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 1, "accepted_answer_id": 30087289, "answer_count": 2, "score": 1, "last_activity_date": 1434611146, "creation_date": 1430928090, "question_id": 30081898, "link": "https://stackoverflow.com/questions/30081898/uploading-a-video-to-vimeo-via-the-api-in-ruby", "title": "Uploading a video to vimeo via the API in ruby", "body": "<p>I've been trying to upload an MP4 video to vimeo via ruby. At first I thought I would try the ruby gem, but looking at it it uses the now deprecated vimeo API. I've been able to upload via a form I made myself, but entirely with code doesn't seem to be working yet. </p>\n\n<p>I have the following code to upload via the streaming API (it's largely based on the vimeo python library):</p>\n\n<pre><code>auth = \"Bearer #{ACCESS_TOKEN}\"\nresp = HTTParty.post \"https://api.vimeo.com/me/videos\", headers: { \"Authorization\" =&gt; auth, \"Accept\" =&gt; \"application/vnd.vimeo.*+json;version=3.2\" }, body: { type: \"streaming\"}\n\nticket = JSON.parse(resp.body)\ntarget = ticket[\"upload_link\"]\nsize = File.size(\"movie.mp4\") \nlast_byte = 0\n\nFile.open(\"movie.mp4\") do |f|\n  while last_byte &lt; size do\n    resp = HTTParty.put target, headers: { \"Authorization\" =&gt; auth, \"Content-Length\" =&gt; size.to_s, \"Content-Range\" =&gt; \"bytes: #{last_byte}-#{size}/#{size}\" }, body: { data: a }\n    progress_resp = HTTParty.put target, headers: { \"Content-Range\" =&gt; 'bytes */*', \"Authorization\" =&gt; auth }\n    last_byte = progress_resp.headers[\"range\"].split(\"-\").last.to_i\n    puts last_byte \n  end\nend\n\nresp = HTTParty.delete \"https://api.vimeo.com#{ticket[\"complete_uri\"]}\", headers: { \"Authorization\" =&gt; auth }\n</code></pre>\n\n<p>for the very last line the resp outputs the following error: </p>\n\n<pre><code> \"{\\\"error\\\":\\\"Your video file is not valid. Either you have uploaded an invalid file format, or your upload is incomplete. Make sure you verify your upload before marking it as complete.\\\"}\" \n</code></pre>\n\n<p>and also last_byte outputs: <code>28518622</code> after a single run through the loop which is larger than the actual file size (11458105). </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "tire"], "comments": [{"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1430928715, "post_id": 30081849, "comment_id": 48277336, "body": "this happens because the <code>params</code> hash is only available in your controllers and views. You have to pass it as an argument, probably in your <code>options</code> hash ;)"}, {"owner": {"reputation": 21, "user_id": 3797652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U8OZD.jpg?s=128&g=1", "display_name": "Syed Shah Asad", "link": "https://stackoverflow.com/users/3797652/syed-shah-asad"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1430976985, "post_id": 30081849, "comment_id": 48297873, "body": "I don&#39;t have any model &amp; view. Its an isolated ruby script. So how can I access kaminari with tire for pagination without params[:page]?"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1431003146, "post_id": 30081849, "comment_id": 48314508, "body": "from where do you call <code>self.aggregate_cost</code>? from that place, you should be able to use the params hash, then call <code>SearchTest.aggregate_cost(account_id, start_date, end_date, page: params[:page])</code> and use <code>option[:page]</code> instead of <code>params[:page]</code>"}, {"owner": {"reputation": 21, "user_id": 3797652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U8OZD.jpg?s=128&g=1", "display_name": "Syed Shah Asad", "link": "https://stackoverflow.com/users/3797652/syed-shah-asad"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1431016172, "post_id": 30081849, "comment_id": 48324707, "body": "Actually params[:page] is the parameter that is passed by kaminari gem. &amp; I am calling <code>self.aggregate_cost</code> in via shell script as <code>rails runner -development tasks&#47;SearchTest.rb</code>"}], "owner": {"reputation": 21, "user_id": 3797652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U8OZD.jpg?s=128&g=1", "display_name": "Syed Shah Asad", "link": "https://stackoverflow.com/users/3797652/syed-shah-asad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1430928862, "creation_date": 1430927946, "last_edit_date": 1430928862, "question_id": 30081849, "link": "https://stackoverflow.com/questions/30081849/pagination-with-tire", "title": "Pagination with tire", "body": "<p>I am looking to use Tire gem for pagination in Elastic Search in my ruby-script but params[:page] is detected as an undefined local variable:</p>\n\n<pre><code>require 'rubygems'\nrequire 'tire'\nrequire 'json'\nrequire 'pp'\nrequire 'fileutils'\nrequire 'bigdecimal'\nrequire 'bigdecimal/util'\nrequire 'kaminari'\n\ndef SearchTesh\n\ndef self.aggregate_cost(account_id, start_date, end_date, options)\n\n  return nil if options[:tax_query] &amp;&amp; options[:total_query] # both can't be true\n  if options[:tax_query] || options[:total_query] #strip day (keep only month) if either is true\n    start_date,end_date = start_date[0...-3], end_date[0...-3]\n  end\n\n  query_string = \"PayerAccountId:\\\"#{account_id}\\\" AND UsageStartDate:[#{start_date} TO #{end_date}]\"\n  opt = { :page =&gt; (params[:page] || 1), :size =&gt; 100 }\n  search_results = Tire.search '*', opt do\n    query { string \"#{query_string}\" }\n    from opt[:size].to_i * (opt[:page].to_i-1)\n  end\n  return nil if search_results.blank?\n  aggregated_results = parse_search_result(\n      search_results, {tax_query: options[:tax_query], total_query: options[:total_query]})\n  return aggregated_results\n end\nend\n</code></pre>\n\n<p>This is my function and at the line:\n<code>opt = { :page =&gt; (params[:page] || 1), :size =&gt; 100 }</code>\nthe following error comes up:</p>\n\n<blockquote>\n  <p>tasks/test_search.rb:27:in <code>aggregate_cost': undefined local variable or method</code>params' for SearchTest:Class (NameError)</p>\n</blockquote>\n"}, {"tags": ["ruby-on-rails", "ruby", "windows", "heroku"], "comments": [{"owner": {"reputation": 13585, "user_id": 693349, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b030858982f80cfd886667ec36074da4?s=128&d=identicon&r=PG", "display_name": "Matt Gibson", "link": "https://stackoverflow.com/users/693349/matt-gibson"}, "edited": false, "score": 5, "creation_date": 1430927806, "post_id": 30081714, "comment_id": 48276736, "body": "&quot;but that was a huge pain&quot; What exactly went wrong? Heroku is by far and away the easiest way to deploy Rails apps."}, {"owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "reply_to_user": {"reputation": 13585, "user_id": 693349, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b030858982f80cfd886667ec36074da4?s=128&d=identicon&r=PG", "display_name": "Matt Gibson", "link": "https://stackoverflow.com/users/693349/matt-gibson"}, "edited": false, "score": 0, "creation_date": 1430933252, "post_id": 30081714, "comment_id": 48280272, "body": "I get the error &#39;Removing Gemfile.lock because it was generated on Windows.&#39; - After searching I found I had to delete &#39; PLATFORMS x86-mingw32&#39; - I did that but when I do bundle install, it just re-adds it again. \u2013  Mark Shakespeare 27 mins ago"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "edited": false, "score": 0, "creation_date": 1430931563, "post_id": 30081838, "comment_id": 48279194, "body": "I get the error &#39;Removing <code>Gemfile.lock</code> because it was generated on Windows.&#39; - After searching I found I had to delete &#39; PLATFORMS   x86-mingw32&#39;    - I did that but when I do bundle install, it just re-adds it again."}], "tags": [], "owner": {"reputation": 45, "user_id": 1241104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbP0r.jpg?s=128&g=1", "display_name": "jensblond", "link": "https://stackoverflow.com/users/1241104/jensblond"}, "is_accepted": false, "score": 0, "last_activity_date": 1430927905, "creation_date": 1430927905, "answer_id": 30081838, "question_id": 30081714, "link": "https://stackoverflow.com/questions/30081714/easiest-way-to-deploy-a-rails-app-windows/30081838#30081838", "title": "Easiest way to deploy a Rails app (windows)", "body": "<p>Have you tried Digital Ocean? </p>\n\n<p><a href=\"https://www.digitalocean.com/features/one-click-apps/ruby-on-rails/\" rel=\"nofollow\">https://www.digitalocean.com/features/one-click-apps/ruby-on-rails/</a></p>\n\n<p>Normally deployment at heroku works like charm, what was the problem?</p>\n"}, {"comments": [{"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1430928628, "post_id": 30081923, "comment_id": 48277285, "body": "The guys is saying he found Heroku confusing, and you are suggesting he uses Capistrano? Seriously?"}], "tags": [], "owner": {"reputation": 647, "user_id": 660942, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/eEMKd.jpg?s=128&g=1", "display_name": "Adri&#224; Carro", "link": "https://stackoverflow.com/users/660942/adri%c3%a0-carro"}, "is_accepted": false, "score": 0, "last_activity_date": 1430928174, "creation_date": 1430928174, "answer_id": 30081923, "question_id": 30081714, "link": "https://stackoverflow.com/questions/30081714/easiest-way-to-deploy-a-rails-app-windows/30081923#30081923", "title": "Easiest way to deploy a Rails app (windows)", "body": "<p>Try <a href=\"https://github.com/capistrano/rails/\" rel=\"nofollow\">Capistrano gem</a>. Is an especific gem to deploy Ruby on Rails projects and it works perfect!</p>\n\n<p>You have a good tutorial <a href=\"http://vladigleba.com/blog/2014/04/04/deploying-rails-apps-part-5-configuring-capistrano/\" rel=\"nofollow\">here</a> to configure Capistrano.</p>\n"}, {"tags": [], "owner": {"reputation": 13585, "user_id": 693349, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b030858982f80cfd886667ec36074da4?s=128&d=identicon&r=PG", "display_name": "Matt Gibson", "link": "https://stackoverflow.com/users/693349/matt-gibson"}, "is_accepted": false, "score": 2, "last_activity_date": 1430943344, "last_edit_date": 1495541657, "creation_date": 1430943344, "answer_id": 30086681, "question_id": 30081714, "link": "https://stackoverflow.com/questions/30081714/easiest-way-to-deploy-a-rails-app-windows/30086681#30086681", "title": "Easiest way to deploy a Rails app (windows)", "body": "<p>It sounds like you need to follow a specific procedure to get Gemfile.lock to work for Heroku. This answer has some basic instructions: <a href=\"https://stackoverflow.com/a/21488679/693349\">https://stackoverflow.com/a/21488679/693349</a></p>\n\n<p>However, you'd probably do better to read the full Heroku docs about \"Deploying a Ruby Project Generated on Windows\": <a href=\"https://devcenter.heroku.com/articles/bundler-windows-gemfile\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/bundler-windows-gemfile</a>.</p>\n"}], "owner": {"reputation": 115, "user_id": 4159752, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/711771207/picture?type=large", "display_name": "Mark Shakespeare", "link": "https://stackoverflow.com/users/4159752/mark-shakespeare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1430943344, "creation_date": 1430927537, "last_edit_date": 1430928388, "question_id": 30081714, "link": "https://stackoverflow.com/questions/30081714/easiest-way-to-deploy-a-rails-app-windows", "title": "Easiest way to deploy a Rails app (windows)", "body": "<p>I have a rails app that needs to be put online (anywhere) - I am using a windows machine, I tried to deploy it using Heroku but that was a huge pain. The app only needs to go online so I can show it to someone - It only needs to be up about a week, so setting up a Virtual Linux system on my windows laptop is not a preference for me.</p>\n"}, {"tags": ["ruby", "twitter", "gem", "posts", "favorite"], "answers": [{"tags": [], "owner": {"reputation": 1535, "user_id": 1326518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PcaV1.jpg?s=128&g=1", "display_name": "Scott Matthewman", "link": "https://stackoverflow.com/users/1326518/scott-matthewman"}, "is_accepted": false, "score": 1, "last_activity_date": 1430929823, "creation_date": 1430929823, "answer_id": 30082474, "question_id": 30081305, "link": "https://stackoverflow.com/questions/30081305/ruby-twitter-gem-how-to-get-people-who-favorite-my-posts/30082474#30082474", "title": "Ruby twitter gem. how to get people who favorite my posts", "body": "<p>That information isn't exposed in the Twitter API, either through a timeline collection or via <a href=\"https://dev.twitter.com/rest/reference/get/statuses/show/%3Aid\" rel=\"nofollow\">the endpoint representing a single tweet</a>. This'll be why the twitter gem, which provides a useable interface around the Rest API, cannot give you what you're after.</p>\n\n<p>Third party sites such as <a href=\"http://favstar.fm\" rel=\"nofollow\">Favstar</a> do display that information, but as far as I know their own API does not expose the relevant users in any manageable way.</p>\n"}], "owner": {"reputation": 383, "user_id": 4847170, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/dffff1120ce7fce426c128efc46bb125?s=128&d=identicon&r=PG&f=1", "display_name": "EasternDude", "link": "https://stackoverflow.com/users/4847170/easterndude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430929823, "creation_date": 1430926418, "last_edit_date": 1430927363, "question_id": 30081305, "link": "https://stackoverflow.com/questions/30081305/ruby-twitter-gem-how-to-get-people-who-favorite-my-posts", "title": "Ruby twitter gem. how to get people who favorite my posts", "body": "<p>Im trying to make an app which would iterate through my own posts and get a list of users who favorited a post. Afterwards I would like the application to follow each of those users if I am not already following them. I am using Ruby for this. </p>\n\n<p>This is my code now:</p>\n\n<pre><code>@client = Twitter::REST::Client.new(config)\nOpenSSL::SSL::VERIFY_PEER = OpenSSL::SSL::VERIFY_NONE\nuser = @client.user()\ntweets = @client.user_timeline(user).take(20)\nnum_of_tweets = tweets.length\nputs \"tweets found: #{tweets.length}\"\ntweets.each do |item|\n    puts \"#{ item}\" #iterating through my posts here\nend\n</code></pre>\n\n<p>any suggestions?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "methods", "callback"], "answers": [{"comments": [{"owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430926883, "post_id": 30081394, "comment_id": 48276103, "body": "I made a mistake in my original code where <code>quote_file_changed?</code> was repeated for each callback. Sorry about that, it\u2019s updated now. How might I refactor your answer to reflect the change?"}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430926942, "post_id": 30081394, "comment_id": 48276144, "body": "Ok, hang on.  I take it they&#39;re meant to be <code>survey_file.changed?</code>, <code>sign_off_sheet_file_changed?</code> etc?"}, {"owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430927616, "post_id": 30081394, "comment_id": 48276618, "body": "Thanks! It\u2019s working perfectly when I create and remove the file, but not when I update the file with a new value."}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430927802, "post_id": 30081394, "comment_id": 48276732, "body": "Put some logging in to have a look at the associated file (which we&#39;re testing with `&quot;#{filetype}_file_changed?&quot;.  Sometimes with proxy associations the object can have an associated object in memory and not &quot;notice&quot; that it&#39;s changed in the database."}, {"owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430928165, "post_id": 30081394, "comment_id": 48276985, "body": "Ah, gotcha! Will investigate and post up the answer when I\u2019ve got it. Thanks for the help."}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430928399, "post_id": 30081394, "comment_id": 48277137, "body": "Also bear in mind &quot;order effects&quot; - eg, if the changes made to the quote_file happen after the changes to the object in question here.  If you&#39;re changing both with the same form submission, for example, then check things are being done in the right order.  There&#39;s probably a less fragile way to arrange this but i can&#39;t say what since i&#39;m not familiar with your code."}, {"owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430960401, "post_id": 30081394, "comment_id": 48293222, "body": "Would you recommend keeping the code verbose in this case? I\u2019m still having trouble getting it working using the refactored version."}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1430981225, "post_id": 30081394, "comment_id": 48299815, "body": "Well, it will be good for you to figure out why it&#39;s not working and fix it - step through it in the console. Re the verbosity, I personally wouldn&#39;t do something like my solution in my job because I know my colleagues would see it and say &quot;what the hell is happening there?&quot;. Readability is important."}, {"owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "edited": false, "score": 0, "creation_date": 1431007679, "post_id": 30081394, "comment_id": 48318289, "body": "I solved it! Solution was to change <code>before_update</code> to <code>before_save</code> (so it gets fired on the create action too), and then edit the callback to <code>before_save :survey_file_updated?, if: -&gt;(r) { r.survey_file_changed? or r.remove_survey_file.to_b }</code> (the <code>to_b</code> converting the <code>0</code> or <code>1</code> to boolean, to evaluate whether the file is being removed or not. And then in the callback method do a similar thing again <code>remove_quote_file.to_b ? self.quote_file_date = nil : self.quote_file_date = Time.now</code>. There\u2019s probably a better way but this seems to work well."}], "tags": [], "owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "is_accepted": false, "score": 2, "last_activity_date": 1430927219, "last_edit_date": 1430927219, "creation_date": 1430926653, "answer_id": 30081394, "question_id": 30081222, "link": "https://stackoverflow.com/questions/30081222/rails-refactor-combine-similar-before-update-callback-methods-into-one/30081394#30081394", "title": "Rails refactor/combine similar before_update callback methods into one", "body": "<pre><code>before_update :set_updated_fields, on: [:create, :update]\n\ndef set_updated_fields\n  [\"quote\", \"survey\", \"sign_off_sheet\", \"invoice\", \"cert\"].each do |filetype|\n    if self.send(\"#{filetype}_file_changed?\")\n      self.attributes = {\"#{filetype}_file_date\" =&gt; self.send(\"remove_#{filetype}_file\") ? nil : Time.now}\n    end\n  end\nend\n</code></pre>\n\n<p>This is a bit incomprehensible but i think it will work.</p>\n"}, {"tags": [], "owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "is_accepted": true, "score": 1, "last_activity_date": 1431007995, "creation_date": 1431007995, "answer_id": 30103683, "question_id": 30081222, "link": "https://stackoverflow.com/questions/30081222/rails-refactor-combine-similar-before-update-callback-methods-into-one/30103683#30103683", "title": "Rails refactor/combine similar before_update callback methods into one", "body": "<p>It\u2019s better to keep the code verbose in this case, as it\u2019s hard to see what\u2019s going on. The callbacks should be changed so that the <code>before_update</code> becomes <code>before_save</code> (so it\u2019s fired on the create action too).</p>\n\n<p>The callback should be:</p>\n\n<pre><code>before_save :quote_file_updated?, if: -&gt;(r) { r.quote_file_changed? or r.remove_quote_file.to_b }\n</code></pre>\n\n<p>The <code>to_b</code> is a method that converts the <code>0</code> or <code>1</code> from the <code>remove_quote_file</code> to a boolean. Based on this we can set the datestamp to <code>nil</code> when the file is removed.</p>\n\n<p>The method itself should then become:</p>\n\n<pre><code>def quote_file_updated?\n  remove_quote_file.to_b ? self.quote_file_date = nil : self.quote_file_date = Time.now\nend\n</code></pre>\n\n<p>We do a similar thing again evaluating the <code>remove_quote_file</code> as a boolean and then updating or removing the timestamp based on this.</p>\n"}], "owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 30103683, "answer_count": 2, "score": 2, "last_activity_date": 1431007995, "creation_date": 1430926247, "last_edit_date": 1430926818, "question_id": 30081222, "link": "https://stackoverflow.com/questions/30081222/rails-refactor-combine-similar-before-update-callback-methods-into-one", "title": "Rails refactor/combine similar before_update callback methods into one", "body": "<p>I\u2019ve created some model callback methods that timestamp an attribute every time a file is created, changed or removed. </p>\n\n<p>I was wondering whether there was a more elegant way to write these callbacks, without having to repeat similar method code five times:</p>\n\n<pre><code>before_update :quote_file_updated?, on: [:create, :update], if: -&gt;(r) { r.quote_file_changed? }\nbefore_update :survey_file_updated?, on: [:create, :update], if: -&gt;(r) { r.survey_file_changed? }\nbefore_update :sign_off_sheet_file_updated?, on: [:create, :update], if: -&gt;(r) { r.sign_off_sheet_file_changed? }\nbefore_update :invoice_file_updated?, on: [:create, :update], if: -&gt;(r) { r.invoice_file_changed? }\nbefore_update :cert_file_updated?, on: [:create, :update], if: -&gt;(r) { r.cert_file_changed? }\n\n\ndef quote_file_updated?\n  self.remove_quote_file ? self.quote_file_date = nil : self.quote_file_date = Time.now\nend\n\ndef survey_file_updated?\n  self.remove_survey_file ? self.survey_file_date = nil : self.survey_file_date = Time.now\nend\n\ndef sign_off_sheet_file_updated?\n  self.remove_sign_off_sheet_file ? self.sign_off_sheet_file_date = nil : self.sign_off_sheet_file_date = Time.now\nend\n\ndef invoice_file_updated?\n  self.remove_invoice_file ? self.invoice_file_date = nil : self.invoice_file_date = Time.now\nend\n\ndef cert_file_updated?\n  self.remove_cert_file ? self.cert_file_date = nil : self.cert_file_date = Time.now\nend\n</code></pre>\n"}, {"tags": ["mysql", "ruby", "sinatra", "datamapper"], "comments": [{"owner": {"reputation": 1348, "user_id": 1811317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09c33846082cd28153cc47f4e3e2695e?s=128&d=identicon&r=PG", "display_name": "MKaama", "link": "https://stackoverflow.com/users/1811317/mkaama"}, "edited": false, "score": 0, "creation_date": 1456033884, "post_id": 30081188, "comment_id": 58754765, "body": "The 1st code snippet is correct and creates two perfectly normal rows in database, with id-s 1 and 2. The devil is in the missing details: how do you get to the (rdb:1) prompt?"}], "answers": [{"tags": [], "owner": {"reputation": 1348, "user_id": 1811317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09c33846082cd28153cc47f4e3e2695e?s=128&d=identicon&r=PG", "display_name": "MKaama", "link": "https://stackoverflow.com/users/1811317/mkaama"}, "is_accepted": false, "score": 0, "last_activity_date": 1456036124, "creation_date": 1456036124, "answer_id": 35533046, "question_id": 30081188, "link": "https://stackoverflow.com/questions/30081188/sinatra-datamapper-mysql/35533046#35533046", "title": "sinatra +Datamapper + mysql", "body": "<p>Add these two lines to models.rb:</p>\n\n<pre><code>adapter = DataMapper.repository(:default).adapter\nprint adapter.select(\"SELECT * FROM items\")\n</code></pre>\n\n<p>(Notice <code>.adapter</code>, not <code>.adapt</code>.) It prints</p>\n\n<blockquote>\n  <p>[#&lt;struct id=1, item=\"item_one\">, #&lt;struct id=2, item=\"item_two\">]</p>\n</blockquote>\n\n<p>Everything works as expected (ruby 2.1.7p400 (2015-08-18 revision 51632)).</p>\n"}], "owner": {"reputation": 11, "user_id": 4871124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8208dc7168d31472dd5ab0d69221fc50?s=128&d=identicon&r=PG&f=1", "display_name": "crazy_coder", "link": "https://stackoverflow.com/users/4871124/crazy-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1456036124, "creation_date": 1430926141, "question_id": 30081188, "link": "https://stackoverflow.com/questions/30081188/sinatra-datamapper-mysql", "title": "sinatra +Datamapper + mysql", "body": "<p>I am using Sinatra and DataMapper with MySQL and i getting issues when i query the database.</p>\n\n<p>My models.rb is the folloging:</p>\n\n<pre><code>require 'sinatra'\nrequire 'dm-core'\nrequire 'dm-migrations/adapters/dm-mysql-adapter'\n\nDataMapper::Logger.new(\"log/datamapper.log\", :debug)\nDataMapper.setup(:default, 'mysql://user:password@localhost/testdb')\n\nclass Item\n  include DataMapper::Resource\n\n  property :id,           Serial\n  property :item,         String, :length =&gt; 50  \n\nend\n\nDataMapper.finalize\nDataMapper.auto_upgrade!\n\n\nItem.create(item:\"item_one\")\nItem.create(item:\"item_two\")\n</code></pre>\n\n<p>The items are inserted in the database but when i query de database always returns nil values, example:</p>\n\n<pre><code>(rdb:1) @items =Item.all\n[#&lt;Item @id=nil @item=nil&gt;, #&lt;Item @id=nil @item=nil&gt;]\n</code></pre>\n\n<p>if i query the numbers of items i get the expected result:</p>\n\n<pre><code>(rdb:1) @items.count\n2\n</code></pre>\n\n<p>I have tried to make a query directly getting the same result :</p>\n\n<pre><code>adapter = DataMapper.repository(:default).adapt\nadapter.select(\"SELECT * FROM items\")\n</code></pre>\n\n<p>Does anyone know what I'm doing wrong or have suggestions on what to look for to fix problem? </p>\n"}, {"tags": ["ruby", "io"], "comments": [{"owner": {"reputation": 59, "user_id": 1138717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7602a9347c37395987616579fe4c9b1e?s=128&d=identicon&r=PG", "display_name": "davidesantangelo", "link": "https://stackoverflow.com/users/1138717/davidesantangelo"}, "edited": false, "score": 0, "creation_date": 1430926649, "post_id": 30081077, "comment_id": 48275915, "body": "check this link [how to read image file in ruby][1]        [1]: <a href=\"http://stackoverflow.com/questions/3334179/how-to-read-image-file-in-ruby\" title=\"how to read image file in ruby\">stackoverflow.com/questions/3334179/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3420, "user_id": 675723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f525203adb5093c5954b43a5b6420c2?s=128&d=identicon&r=PG", "display_name": "BadZen", "link": "https://stackoverflow.com/users/675723/badzen"}, "is_accepted": true, "score": 3, "last_activity_date": 1430933825, "last_edit_date": 1430933825, "creation_date": 1430926508, "answer_id": 30081354, "question_id": 30081077, "link": "https://stackoverflow.com/questions/30081077/reading-a-whole-file-in-ruby-possibly-a-bug/30081354#30081354", "title": "Reading a whole file in Ruby (possibly a bug)", "body": "<p>Use <code>File.binread</code> to read binary data.</p>\n\n<p>On certain operating systems (notably Windows), there is a difference between opening a file in \"binary mode\" (8-bit characters) and \"text mode\" (7-bit characters).   Because of this, these IO implementations can do things like detect end-of-file when there is a zero character, or mangle up characters outside of the ASCII range if you don't tell them to expect binary data.</p>\n\n<p>If you open a file in Ruby, using mode \"rb\" instead of \"r\" will tell the OS that you expect binary data, and if it cares about that, it will do the right thing.   <code>File.binread()</code> opens the underlying file it will read from with that mode.</p>\n"}], "owner": {"reputation": 135, "user_id": 2227650, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29cc4affdc06a3106ce45efbdc47ff8f?s=128&d=identicon&r=PG", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/2227650/vladimir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 30081354, "answer_count": 1, "score": 0, "last_activity_date": 1430933825, "creation_date": 1430925863, "last_edit_date": 1495542513, "question_id": 30081077, "link": "https://stackoverflow.com/questions/30081077/reading-a-whole-file-in-ruby-possibly-a-bug", "title": "Reading a whole file in Ruby (possibly a bug)", "body": "<p>In <a href=\"https://stackoverflow.com/questions/3328495/how-to-read-whole-file-in-ruby\">similar question</a> people recommend use File.read to read a whole file. But when I try to read png file (see fig. 1) I get only first line (see fig. 2). What am I doing wrong?\n<img src=\"https://i.stack.imgur.com/kBIpO.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/DiShr.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "markdown", "redcarpet"], "answers": [{"comments": [{"owner": {"reputation": 1366, "user_id": 133059, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1dce9f8ba8935e237da5890ffe6714a?s=128&d=identicon&r=PG", "display_name": "Jonathan Musso", "link": "https://stackoverflow.com/users/133059/jonathan-musso"}, "edited": false, "score": 0, "creation_date": 1430944408, "post_id": 30081126, "comment_id": 48287234, "body": "Thank you kindly for your explanation on what I was doing wrong and how it was supposed to be. This worked perfectly. Cheers!"}, {"owner": {"reputation": 8545, "user_id": 2856441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca44efe87577e6c75bc508b38131072f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Kennedy", "link": "https://stackoverflow.com/users/2856441/joe-kennedy"}, "reply_to_user": {"reputation": 1366, "user_id": 133059, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1dce9f8ba8935e237da5890ffe6714a?s=128&d=identicon&r=PG", "display_name": "Jonathan Musso", "link": "https://stackoverflow.com/users/133059/jonathan-musso"}, "edited": false, "score": 0, "creation_date": 1430945758, "post_id": 30081126, "comment_id": 48287977, "body": "Excellent! Glad to help."}], "tags": [], "owner": {"reputation": 8545, "user_id": 2856441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca44efe87577e6c75bc508b38131072f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Kennedy", "link": "https://stackoverflow.com/users/2856441/joe-kennedy"}, "is_accepted": true, "score": 2, "last_activity_date": 1430925990, "creation_date": 1430925990, "answer_id": 30081126, "question_id": 30080572, "link": "https://stackoverflow.com/questions/30080572/redcarpet-markdown-conversion-method-nomethoderror/30081126#30081126", "title": "Redcarpet Markdown Conversion Method, NoMethodError", "body": "<p>A few things here. First, you've made <code>markdown_title</code> a private method in your class, so it won't be accessible in your view. You need to remove the word <code>private</code> from above your <code>markdown_title</code> and <code>markdown_body</code> methods in order to make them available to your views. In addition, since the requirement is to make <code>render_as_markdown</code> private, you need to move that <em>below</em> the <code>private</code> keyword. Long story short, your methods should be structured in your class as follows:</p>\n\n<pre><code>def markdown_title(markdown)\n  ...\nend\n\ndef markdown_body(markdown)\n  ...\nend\n\nprivate \n\ndef render_as_markdown(markdown)\n  ...\nend\n</code></pre>\n\n<p>Second, if you take a look at how <code>markdown_title</code> and <code>markdown_body</code> are supposed to be called (below), they don't take in any parameters.</p>\n\n<pre><code>&lt;%= post.markdown_title %&gt;\n&lt;%= post.markdown_body %&gt;\n</code></pre>\n\n<p>So, your <code>Post</code> object methods <code>markdown_title</code> and <code>markdown_body</code> shouldn't take in any parameters. And since they are called on a specific object of class <code>Post</code>, they don't need to take in any.</p>\n\n<pre><code>def markdown_title\n  render_as_markdown(self.title)\nend\n\ndef markdown_body\n  render_as_markdown(self.body)\nend\n</code></pre>\n\n<p>Then, in your view, you can use <code>markdown_title</code> and <code>markdown_body</code> according to the requirements:</p>\n\n<pre><code>&lt;h1&gt;&lt;%= @post.markdown_title %&gt;&lt;/h1&gt;\n\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-8\"&gt;\n    &lt;p&gt;&lt;%= @post.markdown_body %&gt;\n  &lt;/div&gt;\n  ...\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1366, "user_id": 133059, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1dce9f8ba8935e237da5890ffe6714a?s=128&d=identicon&r=PG", "display_name": "Jonathan Musso", "link": "https://stackoverflow.com/users/133059/jonathan-musso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 30081126, "answer_count": 1, "score": 0, "last_activity_date": 1430926247, "creation_date": 1430924630, "last_edit_date": 1430926247, "question_id": 30080572, "link": "https://stackoverflow.com/questions/30080572/redcarpet-markdown-conversion-method-nomethoderror", "title": "Redcarpet Markdown Conversion Method, NoMethodError", "body": "<p>Working on an assignment here. Was just introduced to Redcarpet and the Markdown conversion Method.</p>\n\n<p>This was placed inside my Helper:</p>\n\n<pre><code>def markdown_to_html(markdown)\n  renderer = Redcarpet::Render::HTML.new\n  extensions = { fenced_code_blocks: true }\n  redcarpet = Redcarpet::Markdown.new(renderer, extensions)\n  (redcarpet.render markdown).html_safe\nend\n</code></pre>\n\n<p>And I could call the method in my views like so:</p>\n\n<p><strong>views/posts/show.html.erb:</strong></p>\n\n<pre><code>&lt;h1&gt;&lt;%= markdown_to_html @post.title %&gt;&lt;/h1&gt;\n\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-8\"&gt;\n    &lt;p&gt;&lt;%= markdown_to_html @post.body %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"col-md-4\"&gt;\n    &lt;% if policy(@post).edit? %&gt;\n      &lt;%= link_to \"Edit\", edit_topic_post_path(@topic, @post), class: 'btn btn-success' %&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now I have to do the following:</p>\n\n<blockquote>\n  <p>The goal is to render markdown like so:</p>\n</blockquote>\n\n<pre><code>&lt;%= post.markdown_title %&gt;\n&lt;%= post.markdown_body %&gt;\n</code></pre>\n\n<blockquote>\n  <p>Add Post#markdown_title and Post#markdown_body to Post:</p>\n  \n  <p>Create a private Post#render_as_markdown method that markdown_title\n  and markdown_body can call. This will keep the markdown_title and\n  markdown_body DRY.</p>\n  \n  <p>Remove the markdown_to_html method from application_helper.rb.</p>\n  \n  <p>Update your views to use the Post#markdown_title and\n  Post#markdown_body methods.</p>\n</blockquote>\n\n<p>I have so far attempted to do this:</p>\n\n<p><strong>models/post.rb:</strong></p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  has_many :comments\n  belongs_to :user\n  belongs_to :topic\n\n  # Sort by most recent posts first\n  default_scope { order('created_at DESC') }\n\n  # Post must have at least 5 characters in the title\n  validates :title, length: { minimum: 5 }, presence: true\n  # Post must have at least 20 characters in the body\n  validates :body, length: { minimum: 20 }, presence: true\n  # Post must have an associated topic and user\n  validates :topic, presence: true\n  validates :user, presence: true\n\n  def render_as_markdown(markdown)\n    renderer = Redcarpet::Render::HTML.new\n    extensions = { fenced_code_blocks: true }\n    redcarpet = Redcarpet::Markdown.new(renderer, extensions)\n    (redcarpet.render markdown).html_safe\n  end\n\n  private \n\n  def markdown_title(markdown)\n    render_as_markdown(markdown).title\n  end\n\n  def markdown_body(markdown)\n    render_as_markdown(markdown).body\n  end\nend\n</code></pre>\n\n<p>If we go back to my <strong>views/posts/show.html.erb:</strong> </p>\n\n<pre><code>&lt;h1&gt;&lt;%= @post.title.markdown_title %&gt;&lt;/h1&gt;\n</code></pre>\n\n<p>Will render:</p>\n\n<blockquote>\n  <p>NoMethodError in Posts#show</p>\n</blockquote>\n\n<pre><code>undefined method `markdown_title' for \"chopper mag\":String\nExtracted source (around line #1):\n\n&lt;h1&gt;&lt;%= @post.title.markdown_title %&gt;&lt;/h1&gt;\n\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-8\"&gt;\n    &lt;p&gt;&lt;%= markdown_to_html @post.body %&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>What am I doing wrong and how can I rectify this issue?</p>\n\n<p>Thanks kindly.</p>\n"}, {"tags": ["ruby", "rubymine"], "comments": [{"owner": {"reputation": 9447, "user_id": 1380867, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5dc27a551f77074a1dcc431e4158704b?s=128&d=identicon&r=PG", "display_name": "MZaragoza", "link": "https://stackoverflow.com/users/1380867/mzaragoza"}, "edited": false, "score": 0, "creation_date": 1430939915, "post_id": 30080501, "comment_id": 48284438, "body": "Their help docs do a good job showing how to do this:  <a href=\"https://www.jetbrains.com/ruby/help/configuring-ruby-sdk.html#d724185e110\" rel=\"nofollow noreferrer\">jetbrains.com/ruby/help/configuring-ruby-sdk.html#d724185e11&zwnj;&#8203;0</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3872, "user_id": 399113, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/Ok15f.jpg?s=128&g=1", "display_name": "John John Pichler", "link": "https://stackoverflow.com/users/399113/john-john-pichler"}, "is_accepted": false, "score": 0, "last_activity_date": 1441311049, "creation_date": 1441311049, "answer_id": 32384611, "question_id": 30080501, "link": "https://stackoverflow.com/questions/30080501/adding-an-interpreter-to-rubymine/32384611#32384611", "title": "Adding an interpreter to RubyMine", "body": "<p>Probably you are using a Ruby SDK version that is not supported by the RubyMine.</p>\n\n<p>Try downgrading Ruby, and configuring IDE again.</p>\n"}], "owner": {"reputation": 1, "user_id": 4871155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19da060d87829e10f9d2631c85af9543?s=128&d=identicon&r=PG&f=1", "display_name": "James Rectenwald", "link": "https://stackoverflow.com/users/4871155/james-rectenwald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441311049, "creation_date": 1430924469, "question_id": 30080501, "link": "https://stackoverflow.com/questions/30080501/adding-an-interpreter-to-rubymine", "title": "Adding an interpreter to RubyMine", "body": "<p>I recently downloaded RubyMine 7.1. This is my first time using Ruby. I am trying to add an interpreter to my first project. When I go to Settings -> Languages and Frameworks -> Ruby SDK and Gems, and I try to add an interpreter path, it says \"The selected file is not a valid home for Ruby SDK.\" What does this mean and how can I add an SDK?</p>\n"}, {"tags": ["ruby", "teamcity", "rake-task", "rakefile", "albacore"], "answers": [{"comments": [{"owner": {"reputation": 13020, "user_id": 4505446, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GXF8z.png?s=128&g=1", "display_name": "A-Sharabiani", "link": "https://stackoverflow.com/users/4505446/a-sharabiani"}, "edited": false, "score": 0, "creation_date": 1430922854, "post_id": 30079730, "comment_id": 48272851, "body": "Where should I put this Gemfile ?"}, {"owner": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "reply_to_user": {"reputation": 13020, "user_id": 4505446, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GXF8z.png?s=128&g=1", "display_name": "A-Sharabiani", "link": "https://stackoverflow.com/users/4505446/a-sharabiani"}, "edited": false, "score": 1, "creation_date": 1430922992, "post_id": 30079730, "comment_id": 48272956, "body": "In the root folder of the project. The error stats it."}], "tags": [], "owner": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1430923004, "last_edit_date": 1430923004, "creation_date": 1430922638, "answer_id": 30079730, "question_id": 30079584, "link": "https://stackoverflow.com/questions/30079584/cannot-start-build-runner-cannot-find-gemfile-in-working-directory/30079730#30079730", "title": "Cannot start build runner: Cannot find Gemfile in working directory", "body": "<p><code>Gemfile</code> is the standard resource used by <code>Bundler</code> in order to require the gem dependencies into the current folder and create a wrapper around them:</p>\n\n<pre><code>http://bundler.io/\n</code></pre>\n\n<p>You need to create a file named <code>Gemfile</code> in the project root folder. Define the source for the gems, And the bundler will install the dependencies from there.</p>\n\n<p>In the step 3 you marked the bundler check. That's why your project is requiring it. If you don't need it, just uncheck it.</p>\n"}], "owner": {"reputation": 13020, "user_id": 4505446, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GXF8z.png?s=128&g=1", "display_name": "A-Sharabiani", "link": "https://stackoverflow.com/users/4505446/a-sharabiani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 669, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430923004, "creation_date": 1430922287, "question_id": 30079584, "link": "https://stackoverflow.com/questions/30079584/cannot-start-build-runner-cannot-find-gemfile-in-working-directory", "title": "Cannot start build runner: Cannot find Gemfile in working directory", "body": "<p>I made a Rakefile to build my ASP.NET solution and run test cases. (My Rakefile requires Albacore and I am using Windows)\nIn <strong>TeamCity</strong> I created a build step with the runner type: Rake.</p>\n\n<p>When running the build steps in Team City I get this error:</p>\n\n<blockquote>\n  <p>Cannot find Gemfile in working directory : 'C:\\TeamCity\\buildAgent\\work\\78c29356760be3bf'. \n  If Gemfile is located in other directory please specify Gemfile relative path using system property: system.teamcity.rake.runner.custom.gemfile</p>\n</blockquote>\n\n<p>Here are my settings:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7d1Wv.jpg\" alt=\"Build Step Zoomed\"></p>\n\n<p>This is my Rakefile:</p>\n\n<pre><code>require 'albacore'\n\nclr_version = \"v4.0.30319\"\nframework = File.join(ENV['windir'].dup, 'Microsoft.NET', 'Framework64', clr_version)\n\n@solution = \"../../Codex.Repository.sln\"\n@bin_folder = \"App.Repositor\n\ny/bin\"\n@obj_folder = \"App.Repository/obj\"\n@test_bin = \"UnitTestsRepository/bin\"\n@test_obj = \"UnitTestsRepository/obj\"\n@tests_dll = \"UnitTests.Repository/bin/Release/Codex.Repository.UnitTests.dll\"\n@nuget_packages = \"../../packages\"\n@msbuild = File.join(framework, \"msbuild.exe\")\n@vstest = File.join(ENV['VS12COMNIDE'].dup, 'CommonExtensions/Microsoft/TestWindow/vstest.console.exe')\n\ntask :default =&gt; [:clean, :restore, :build]\ntask :tests =&gt; [:unittest]\n\ndesc \"Remove all binaries and NuGet packages\"\ntask :clean do\n  if(Dir.exists?(@nuget_packages))\n    sh \"rd \\\"#{@nuget_packages}\\\" /s /q\"\n  end\n  if(Dir.exists?(@bin_folder))\n    sh \"rd \\\"#{@bin_folder}\\\" /s /q\"\n  end\n  if(Dir.exists?(@obj_folder))\n    sh \"rd \\\"#{@obj_folder}\\\" /s /q\"\n  end\n  if(Dir.exists?(@test_bin))\n    sh \"rd \\\"#{@test_bin}\\\" /s /q\"\n  end\n  if(Dir.exists?(@test_obj))\n    sh \"rd \\\"#{@test_obj}\\\" /s /q\"\n  end\nend\n\ndesc \"Restoring NuGet packages\"\ntask :restore do\n  sh \"nuget restore \\\"#{@solution}\\\"\"\nend\n\ndesc \"Building the solution\"\ntask :build do\n  sh \"\\\"#{@msbuild}\\\" \\\"#{@solution}\\\" /p:VisualStudioVersion=12.0;Configuration=Release\"\nend\n\ndesc \"Running the unit tests\"\ntask :unittest do\n  sh \"\\\"#{@vstest}\\\" \\\"#{@tests_dll}\\\"\"\nend\n</code></pre>\n\n<p>How can I run this? And where can i add the Gemfiles? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "elasticsearch", "spree"], "comments": [{"owner": {"reputation": 499, "user_id": 3788480, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/g45ZW.jpg?s=128&g=1", "display_name": "Haymaker87", "link": "https://stackoverflow.com/users/3788480/haymaker87"}, "edited": false, "score": 0, "creation_date": 1430923875, "post_id": 30079572, "comment_id": 48273664, "body": "Hello. I&#39;m a fellow spree user, but I can&#39;t possibly answer your question because you&#39;re way ahead of me. Do you have any guidance for implementing elastic search and getting to the point that you are at now? Any links on elastic search in rails that you recommend? Sorry that this won&#39;t help your question."}, {"owner": {"reputation": 67, "user_id": 2500601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4a3ff16afc0d68d46dd87c7e7bd7783a?s=128&d=identicon&r=PG", "display_name": "Art", "link": "https://stackoverflow.com/users/2500601/art"}, "reply_to_user": {"reputation": 499, "user_id": 3788480, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/g45ZW.jpg?s=128&g=1", "display_name": "Haymaker87", "link": "https://stackoverflow.com/users/3788480/haymaker87"}, "edited": false, "score": 0, "creation_date": 1430924569, "post_id": 30079572, "comment_id": 48274241, "body": "Hi! That is not my code :) Check <a href=\"https://github.com/javereec/spree_elasticsearch\" rel=\"nofollow noreferrer\">spree_elasticsearch</a>"}, {"owner": {"reputation": 438, "user_id": 716185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29912acf4124f78d29de7a0f5adf89d0?s=128&d=identicon&r=PG", "display_name": "amalrik maia", "link": "https://stackoverflow.com/users/716185/amalrik-maia"}, "edited": false, "score": 0, "creation_date": 1430925378, "post_id": 30079572, "comment_id": 48274906, "body": "whats the gem youre using to connect to ElasticSearch?"}, {"owner": {"reputation": 67, "user_id": 2500601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4a3ff16afc0d68d46dd87c7e7bd7783a?s=128&d=identicon&r=PG", "display_name": "Art", "link": "https://stackoverflow.com/users/2500601/art"}, "edited": false, "score": 0, "creation_date": 1430925563, "post_id": 30079572, "comment_id": 48275062, "body": "<a href=\"https://github.com/elastic/elasticsearch-rails\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch-rails</a>"}], "owner": {"reputation": 67, "user_id": 2500601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4a3ff16afc0d68d46dd87c7e7bd7783a?s=128&d=identicon&r=PG", "display_name": "Art", "link": "https://stackoverflow.com/users/2500601/art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 767, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1430922252, "creation_date": 1430922252, "question_id": 30079572, "link": "https://stackoverflow.com/questions/30079572/filtering-spree-products-by-size-using-elastic-search", "title": "Filtering spree products by size using elastic search", "body": "<p>Here is my spree_elasticsearch_product_decorator.rb file where all search logic comes from\nmodule Spree\n  Product.class_eval do\n    include Elasticsearch::Model</p>\n\n<pre><code>index_name Spree::ElasticsearchSettings.index\ndocument_type 'spree_product'\n\nmapping _all: {\"index_analyzer\" =&gt; \"nGram_analyzer\", \"search_analyzer\" =&gt; \"whitespace_analyzer\"} do\n  indexes :name, type: 'multi_field' do\n    indexes :name, type: 'string', analyzer: 'nGram_analyzer', boost: 100\n    indexes :untouched, type: 'string', include_in_all: false, index: 'not_analyzed'\n  end\n  indexes :description, analyzer: 'snowball'\n  indexes :available_on, type: 'date', format: 'dateOptionalTime', include_in_all: false\n  indexes :price, type: 'double'\n  indexes :sku, type: 'string', index: 'not_analyzed'\n  indexes :taxon_ids, type: 'string', index: 'not_analyzed'\n  indexes :collection_ids, type: 'string', index: 'not_analyzed'\n  indexes :properties, type: 'string', index: 'not_analyzed'\nend\n\ndef as_indexed_json(options={})\n  result = as_json({\n    methods: [:price, :sku],\n    only: [:available_on, :description, :name],\n    include: {\n      variants: {\n        only: [:sku],\n        include: {\n          option_values: {\n            only: [:name, :presentation]\n          }\n        }\n      }\n    }\n  })\n  result[:properties] = property_list unless property_list.empty?\n  result[:taxon_ids] = taxons.map(&amp;:self_and_ancestors).flatten.uniq.map(&amp;:id) unless taxons.empty?\n  result[:collection_ids] = collections.uniq.map(&amp;:id) unless collections.empty?\n  result\nend\n\n# Inner class used to query elasticsearch. The idea is that the query is dynamically build based on the parameters.\nclass Product::ElasticsearchQuery\n  include ::Virtus.model\n\n  attribute :from, Integer, default: 0\n  attribute :price_min, Float\n  attribute :price_max, Float\n  attribute :properties, Hash\n  attribute :query, String\n  attribute :taxons, Array\n  attribute :collections, Array\n  attribute :browse_mode, Boolean\n  attribute :sorting, String\n\n  def to_hash\n    q = { match_all: {} }\n    unless query.blank? # nil or empty\n      q = { query_string: { query: query, fields: ['name^5','description','sku'], default_operator: 'AND', use_dis_max: true } }\n    end\n    query = q\n\n    and_filter = []\n    unless @properties.nil? || @properties.empty?\n      # transform properties from [{\"key1\" =&gt; [\"value_a\",\"value_b\"]},{\"key2\" =&gt; [\"value_a\"]}\n      # to { terms: { properties: [\"key1||value_a\",\"key1||value_b\"] }\n      #    { terms: { properties: [\"key2||value_a\"] }\n      # This enforces \"and\" relation between different property values and \"or\" relation between same property values\n      properties = @properties.map {|k,v| [k].product(v)}.map do |pair|\n        and_filter &lt;&lt; { terms: { properties: pair.map {|prop| prop.join(\"||\")} } }\n      end\n    end\n\n    sorting = case @sorting\n    when \"name_asc\"\n      [ {\"name.untouched\" =&gt; { order: \"asc\" }}, {\"price\" =&gt; { order: \"asc\" }}, \"_score\" ]\n    when \"name_desc\"\n      [ {\"name.untouched\" =&gt; { order: \"desc\" }}, {\"price\" =&gt; { order: \"asc\" }}, \"_score\" ]\n    when \"price_asc\"\n      [ {\"price\" =&gt; { order: \"asc\" }}, {\"name.untouched\" =&gt; { order: \"asc\" }}, \"_score\" ]\n    when \"price_desc\"\n      [ {\"price\" =&gt; { order: \"desc\" }}, {\"name.untouched\" =&gt; { order: \"asc\" }}, \"_score\" ]\n    when \"score\"\n      [ \"_score\", {\"name.untouched\" =&gt; { order: \"asc\" }}, {\"price\" =&gt; { order: \"asc\" }} ]\n    else\n      [ {\"name.untouched\" =&gt; { order: \"asc\" }}, {\"price\" =&gt; { order: \"asc\" }}, \"_score\" ]\n    end\n\n    # facets\n    facets = {\n      price: { statistical: { field: \"price\" } },\n      properties: { terms: { field: \"properties\", order: \"count\", size: 100 } }, \n      taxon_ids: { terms: { field: \"taxon_ids\", size: 1000000 } },\n      collection_ids: { terms: { field: \"collection_ids\", size: 1000000 } }\n    }\n\n    # basic skeleton\n    result = {\n      min_score: 0.1,\n      query: { filtered: {} },\n      sort: sorting,\n      from: from,\n      facets: facets\n    }\n\n    # add query and filters to filtered\n    result[:query][:filtered][:query] = query\n    # taxon and property filters have an effect on the facets\n    and_filter &lt;&lt; { terms: { taxon_ids: taxons } } unless taxons.empty?\n    and_filter &lt;&lt; { terms: { collection_ids: collections } } unless collections.empty?\n    # only return products that are available\n    and_filter &lt;&lt; { range: { available_on: { lte: \"now\" } } }\n    result[:query][:filtered][:filter] = { \"and\" =&gt; and_filter } unless and_filter.empty?\n\n    # add price filter outside the query because it should have no effect on facets\n    if price_min &amp;&amp; price_max &amp;&amp; (price_min &lt; price_max)\n      result[:filter] = { range: { price: { gte: price_min, lte: price_max } } }\n    end\n\n    result\n  end\nend\n\nprivate\n\ndef property_list\n  product_properties.map{|pp| \"#{pp.property.name}||#{pp.value}\"}\nend\n</code></pre>\n\n<p>I need somehow implement size filter</p>\n\n<p>For each size I have a Spree::Variant which belongs_to Spree::Product and stores value of size in name column, e.g\nSpree::Variant.name = \"13 US\"</p>\n\n<p>How can I sort products by variants using elasticsearch ?</p>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["javascript", "ruby", "npm"], "comments": [{"owner": {"reputation": 5953, "user_id": 1366624, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/a2eEo.jpg?s=128&g=1", "display_name": "lxe", "link": "https://stackoverflow.com/users/1366624/lxe"}, "edited": false, "score": 0, "creation_date": 1431045177, "post_id": 30079465, "comment_id": 48338588, "body": "<a href=\"http://npmjs.org\" rel=\"nofollow noreferrer\">npmjs.org</a> is good, but there&#39;s a LOT of stuff."}, {"owner": {"reputation": 7893, "user_id": 254046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23164d8e3973e48e56921f7600538ca1?s=128&d=identicon&r=PG", "display_name": "Javid Jamae", "link": "https://stackoverflow.com/users/254046/javid-jamae"}, "edited": false, "score": 0, "creation_date": 1453752915, "post_id": 30079465, "comment_id": 57731007, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11422888/list-of-major-javascript-frameworks-libraries\">List of major javascript frameworks/libraries</a>"}, {"owner": {"reputation": 767, "user_id": 6027959, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/O87Wy.jpg?s=128&g=1", "display_name": "Nirupa", "link": "https://stackoverflow.com/users/6027959/nirupa"}, "edited": false, "score": 0, "creation_date": 1462937445, "post_id": 30079465, "comment_id": 61842572, "body": "I found something on github if it&#39;s helpful, <a href=\"https://github.com/blackwatertepes/js-toolbox\" rel=\"nofollow noreferrer\">github.com/blackwatertepes/js-toolbox</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 961659, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bdb691a787425ea504a6e72aa97ddae5?s=128&d=identicon&r=PG", "display_name": "radlab", "link": "https://stackoverflow.com/users/961659/radlab"}, "reply_to_user": {"reputation": 1978, "user_id": 1952477, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lZGJD.jpg?s=128&g=1", "display_name": "dcohenb", "link": "https://stackoverflow.com/users/1952477/dcohenb"}, "edited": false, "score": 0, "creation_date": 1463366247, "post_id": 37150692, "comment_id": 62020510, "body": "@dcohenb you&#39;re right I was mistaken. I edited my answer."}], "tags": [], "owner": {"reputation": 53, "user_id": 961659, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bdb691a787425ea504a6e72aa97ddae5?s=128&d=identicon&r=PG", "display_name": "radlab", "link": "https://stackoverflow.com/users/961659/radlab"}, "is_accepted": false, "score": 1, "last_activity_date": 1463366200, "last_edit_date": 1463366200, "creation_date": 1462923602, "answer_id": 37150692, "question_id": 30079465, "link": "https://stackoverflow.com/questions/30079465/cannot-find-equivalent-of-ruby-toolbox-for-javascript-libraries/37150692#37150692", "title": "Cannot find equivalent of ruby-toolbox for javascript libraries", "body": "<p>I would appreciate as well learning what the NPM community is favoring for module comparisons.  </p>\n\n<p>I think the original poster was looking for something like the side by side comparison tools of ruby-toolbox.  npmjs has data points like download statistics, repository update dates and issues in github per package on, but not a side by side comparison.  I found the rating system on <a href=\"https://npmcompare.com\" rel=\"nofollow\">https://npmcompare.com</a> to be more similar to rubytool-box.</p>\n\n<p>Even though I find the side by side analysis helpful, it's worth noting that it's good for a developer to become skilled with how to assess for themselves modules for any platform. Here are some of the questions to ask. </p>\n\n<ol>\n<li>Is the project active and current?</li>\n<li>Is it popular?</li>\n<li>Does the project have a good amount of dependencies for your needs?</li>\n<li>Can you get visibility into it's code climate?</li>\n<li>Are there tests?</li>\n<li>Are issues responded too?</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1337, "user_id": 160104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d4f0025ee5860281cae8f5716c37e002?s=128&d=identicon&r=PG", "display_name": "Stan Bright", "link": "https://stackoverflow.com/users/160104/stan-bright"}, "is_accepted": false, "score": 0, "last_activity_date": 1476280535, "creation_date": 1476280535, "answer_id": 40000514, "question_id": 30079465, "link": "https://stackoverflow.com/questions/30079465/cannot-find-equivalent-of-ruby-toolbox-for-javascript-libraries/40000514#40000514", "title": "Cannot find equivalent of ruby-toolbox for javascript libraries", "body": "<p>I would recommend <a href=\"https://js.libhunt.com\" rel=\"nofollow\">https://js.libhunt.com</a> &amp; <a href=\"https://nodejs.libhunt.com\" rel=\"nofollow\">https://nodejs.libhunt.com</a> . Both sites have well categorized projects that are ordered by popularity in Github and their development activity. Moreover, you can compare different libs.</p>\n\n<p>I hope this helps! </p>\n"}], "owner": {"reputation": 2202, "user_id": 1156761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c259c1adbed8fb52084c9b80c5d9f52a?s=128&d=identicon&r=PG", "display_name": "Chris Yeung", "link": "https://stackoverflow.com/users/1156761/chris-yeung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1476280535, "creation_date": 1430921965, "last_edit_date": 1430984354, "question_id": 30079465, "link": "https://stackoverflow.com/questions/30079465/cannot-find-equivalent-of-ruby-toolbox-for-javascript-libraries", "title": "Cannot find equivalent of ruby-toolbox for javascript libraries", "body": "<p>I am looking for a website that is similar to <a href=\"http://ruby-toolbox.com\" rel=\"noreferrer\">ruby-toolbox.com</a> but after much effort I can't be able to find one. </p>\n\n<p>Do you have any recommendation to an up-to-date and well maintained JS libraries registry?</p>\n"}, {"tags": ["ruby", "activerecord", "callback", "scope"], "answers": [{"tags": [], "owner": {"reputation": 1150, "user_id": 2476257, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4897f73627f361b897c3b8fa368ab58f?s=128&d=identicon&r=PG&f=1", "display_name": "borisano", "link": "https://stackoverflow.com/users/2476257/borisano"}, "is_accepted": true, "score": 3, "last_activity_date": 1430920891, "creation_date": 1430920891, "answer_id": 30079037, "question_id": 30078974, "link": "https://stackoverflow.com/questions/30078974/triggering-a-callback-whenever-activerecords-after-save-callbacks-trigger/30079037#30079037", "title": "Triggering a callback whenever Activerecord&#39;s :after_save callbacks trigger", "body": "<p>Your code will only get messier over time with this approach.</p>\n\n<p>Consider using <a href=\"https://github.com/krisleech/wisper\" rel=\"nofollow\">Wisper Gem</a>. It implements event-listeners pattern and helps you maintain clean code.</p>\n"}], "owner": {"reputation": 98, "user_id": 3385839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b576b66592cd6bbf32bc0af9468ac6f?s=128&d=identicon&r=PG&f=1", "display_name": "svart", "link": "https://stackoverflow.com/users/3385839/svart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 30079037, "answer_count": 1, "score": 1, "last_activity_date": 1430920891, "creation_date": 1430920718, "question_id": 30078974, "link": "https://stackoverflow.com/questions/30078974/triggering-a-callback-whenever-activerecords-after-save-callbacks-trigger", "title": "Triggering a callback whenever Activerecord&#39;s :after_save callbacks trigger", "body": "<p>I have the following code, and i want to trigger FooClass's callbacks whenever ActiveRecord's <code>on_new_annoucement</code> triggers. I have making the callbacks array a class variable of the module but it's outside the scope of Activerecord's callback.</p>\n\n<pre><code>module FooModule\n    class FooClass\n        attr_reader :callbacks\n        def initialize\n            @@callbacks = Hash.new { |h, k| h[k] = [] }\n        end\n\n        def on_new_announcement(&amp;block)\n             @@callbacks[:on_new_announcement] &lt;&lt; block\n        end\n     end\n\n     class Announcement &lt; ActiveRecord::Base\n          after_save :on_new_announcement\n          def on_new_announcement \n              ....\n          end\n     end\n end\n</code></pre>\n"}, {"tags": ["html", "ruby-on-rails", "ruby", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 2395, "user_id": 1626261, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/v6cN0.jpg?s=128&g=1", "display_name": "Sonalkumar sute", "link": "https://stackoverflow.com/users/1626261/sonalkumar-sute"}, "edited": false, "score": 0, "creation_date": 1430918658, "post_id": 30078059, "comment_id": 48269594, "body": "try  <code>style=&quot;width: #{@progress} &gt;</code>"}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 2, "creation_date": 1430918706, "post_id": 30078059, "comment_id": 48269631, "body": "You need to give some more information about what is happening here.  For example, where is @progress set?  Is this view code in a partial which is being refreshed at regular intervals?  If so what is the trigger to refresh it?"}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1430918811, "post_id": 30078059, "comment_id": 48269720, "body": "What is the value of @progress?  Is it <code>70</code> or is it <code>&quot;70%&quot;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 1842796, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c38057b059d9aaa8ed5a42b1762108c2?s=128&d=identicon&r=PG", "display_name": "crispychicken", "link": "https://stackoverflow.com/users/1842796/crispychicken"}, "reply_to_user": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430918826, "post_id": 30078084, "comment_id": 48269740, "body": "Your aria-valuenow is missing some quotes. Maybe this could produce an error. Is there any message in the console?"}], "tags": [], "owner": {"reputation": 2402, "user_id": 1842796, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c38057b059d9aaa8ed5a42b1762108c2?s=128&d=identicon&r=PG", "display_name": "crispychicken", "link": "https://stackoverflow.com/users/1842796/crispychicken"}, "is_accepted": false, "score": 1, "last_activity_date": 1430918542, "creation_date": 1430918542, "answer_id": 30078084, "question_id": 30078059, "link": "https://stackoverflow.com/questions/30078059/how-to-use-ruby-inside-html-tag/30078084#30078084", "title": "How to use ruby inside html tag", "body": "<p>You need an equal sign to render it:</p>\n\n<pre><code>\"width:&lt;%= @progress %&gt;\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430918789, "post_id": 30078104, "comment_id": 48269700, "body": "width:#{@progress} will return width:200px like that? or only width:200"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430918836, "post_id": 30078104, "comment_id": 48269750, "body": "@progress return integer value?"}, {"owner": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430918855, "post_id": 30078104, "comment_id": 48269761, "body": "it gives me mismatched property value erro on #{@progress}"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430918898, "post_id": 30078104, "comment_id": 48269804, "body": "What is &quot;width:&lt;%= @progress %&gt;&quot;  returns?"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430918924, "post_id": 30078104, "comment_id": 48269834, "body": "px or % is not added in the end of width please add"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430918947, "post_id": 30078104, "comment_id": 48269854, "body": "&quot;width:&lt;%= @progress %&gt;px&quot;"}, {"owner": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430919078, "post_id": 30078104, "comment_id": 48269974, "body": "it was missing the &quot;%&quot; after the value :(((("}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1430919137, "post_id": 30078104, "comment_id": 48270034, "body": "Yes, please add % after the tag. :)"}], "tags": [], "owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1430918943, "last_edit_date": 1430918943, "creation_date": 1430918582, "answer_id": 30078104, "question_id": 30078059, "link": "https://stackoverflow.com/questions/30078059/how-to-use-ruby-inside-html-tag/30078104#30078104", "title": "How to use ruby inside html tag", "body": "<pre><code>&lt;%= @progress %&gt; is \"=\" missing \nor use \"width:&lt;%= @progress %&gt;px\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1615, "user_id": 2524123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/gVqbX.jpg?s=128&g=1", "display_name": "rick", "link": "https://stackoverflow.com/users/2524123/rick"}, "is_accepted": false, "score": 1, "last_activity_date": 1430918893, "creation_date": 1430918893, "answer_id": 30078245, "question_id": 30078059, "link": "https://stackoverflow.com/questions/30078059/how-to-use-ruby-inside-html-tag/30078245#30078245", "title": "How to use ruby inside html tag", "body": "<p>Change these,</p>\n\n<pre><code>\"aria-valuenow = &lt;%= @progress%&gt;\" and\n    style=\"width : #{@progress}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "is_accepted": true, "score": 2, "last_activity_date": 1430918912, "creation_date": 1430918912, "answer_id": 30078250, "question_id": 30078059, "link": "https://stackoverflow.com/questions/30078059/how-to-use-ruby-inside-html-tag/30078250#30078250", "title": "How to use ruby inside html tag", "body": "<p>I think your html needs to be rewritten as follows: you're missing some quotes and percentage symbols.  I'm assuming that the value of <code>@progress</code> is a number, eg <code>70</code>, and i've therefore just replaced every instance of <code>70</code> in your desired html with <code>&lt;%= @progress %&gt;</code> in the template code.</p>\n\n<pre><code>&lt;div class=\"progress\"&gt;\n  &lt;div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"&lt;%= @progress %&gt;\"\n  aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:&lt;%= @progress %&gt;%\"&gt;\n    &lt;%= @progress %&gt;%\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1000, "user_id": 3474458, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rQgYL.jpg?s=128&g=1", "display_name": "Miguel Moruj&#227;o", "link": "https://stackoverflow.com/users/3474458/miguel-moruj%c3%a3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 30078250, "answer_count": 4, "score": 0, "last_activity_date": 1484394738, "creation_date": 1430918498, "last_edit_date": 1430918611, "question_id": 30078059, "link": "https://stackoverflow.com/questions/30078059/how-to-use-ruby-inside-html-tag", "title": "How to use ruby inside html tag", "body": "<p>I'm using a bootstrap progress bar, and i need to dinamically change the progress value, and to do that i must use a ruby variable inside the html tag code, some thing like this: </p>\n\n<p>This is the sample code:</p>\n\n<pre><code>&lt;div class=\"progress\"&gt;\n  &lt;div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"70\"\n  aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:70%\"&gt;\n    70%\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is what i would like to do:</p>\n\n<pre><code>&lt;div class=\"progress\"&gt;\n  &lt;div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=&lt;%= @progress %&gt;\n  aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:&lt;%= @progress %&gt;\"&gt;\n    &lt;%= @progress %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Any help would be appreciated, thanks!</p>\n"}, {"tags": ["javascript", "ruby", "vagrant", "jekyll"], "comments": [{"owner": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 0, "creation_date": 1430942679, "post_id": 30077976, "comment_id": 48286151, "body": "Cannot reproduce on my Ubuntu 14.04. Can you push your code on a github repository ? We&#39;ll first investigate code editor glitches. Things like encoding (utf-8) and no BOM..."}, {"owner": {"reputation": 11590, "user_id": 774395, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/468lE.jpg?s=128&g=1", "display_name": "EngineerBetter_DJ", "link": "https://stackoverflow.com/users/774395/engineerbetter-dj"}, "reply_to_user": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 0, "creation_date": 1430942790, "post_id": 30077976, "comment_id": 48286225, "body": "Thanks for getting in touch. Editing the files in vi on the Trusty guest seems to not cause the issue. I&#39;ll try and get the Vagrant file and site into a repo for testing."}, {"owner": {"reputation": 5610, "user_id": 413924, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a5fae9bf6a8e05a023c96ba434a1dfd5?s=128&d=identicon&r=PG", "display_name": "DannyB", "link": "https://stackoverflow.com/users/413924/dannyb"}, "edited": false, "score": 1, "creation_date": 1437597807, "post_id": 30077976, "comment_id": 51102135, "body": "Having the same issue. Sometimes it adds nul characters, and sometimes it saves the file only half way. Any idea whats causing it? I am also on Ubuntu 14 through Vagrant, editing with Sublime on Windows."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 5953759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7JlO_9hgcYY/AAAAAAAAAAI/AAAAAAAABQ8/iHjCxGbbQjQ/photo.jpg?sz=128", "display_name": "Samuel Briesemeister", "link": "https://stackoverflow.com/users/5953759/samuel-briesemeister"}, "is_accepted": false, "score": 5, "last_activity_date": 1468448639, "creation_date": 1468448639, "answer_id": 38362694, "question_id": 30077976, "link": "https://stackoverflow.com/questions/30077976/jekyll-adding-null-characters-to-javascript/38362694#38362694", "title": "Jekyll adding Null Characters to JavaScript", "body": "<p>(Following up to a super-old question, I know.)</p>\n\n<p>TL;DR: <strong>Solution</strong>: <em>apply frontmatter to the Javascript file</em>.</p>\n\n<p>I kept running into this issue, over the course of a few months, and turned up no solutions in search. Finally today, I think I've resolved my own case of it...</p>\n\n<p>It turns out Jekyll is trying to process that file (at least it appears in my case) as a page document, so it looks for the frontmatter, and for some reason fails to render the file when it's missing.  </p>\n\n<p>After adding some frontmatter to my script, even though it breaks Javascript compatibility for the file on its own, Jekyll seems to play nice with it, and I'm no longer seeing the trailing <code>^@</code> characters (etc).</p>\n\n<p><strong>Sample script with frontmatter</strong></p>\n\n<p>This tactic has a few ancillary features too...</p>\n\n<pre><code>---\nsome_variable: \"yourvalue\"\n---\n// access the value from the frontmatter within your script.\ndocument.body.getElementById(\"mydiv\").innerHTML = \"{{some_variable}}\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1749, "user_id": 3945895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkLoz.jpg?s=128&g=1", "display_name": "Neal", "link": "https://stackoverflow.com/users/3945895/neal"}, "is_accepted": false, "score": 0, "last_activity_date": 1497280269, "creation_date": 1497280269, "answer_id": 44502853, "question_id": 30077976, "link": "https://stackoverflow.com/questions/30077976/jekyll-adding-null-characters-to-javascript/44502853#44502853", "title": "Jekyll adding Null Characters to JavaScript", "body": "<p>Before adding front-matter (which fixed it for me, but breaks compatibility as noted by Samuel), try this first. </p>\n\n<p>My JS file started out like this:</p>\n\n<pre><code>\"use strict\";\n\nvar filterView = {\n</code></pre>\n\n<p>Change it to this:</p>\n\n<pre><code>//A comment here helps Jekyll not get confused about file rendering\n\"use strict\";\n\nvar filterView = {\n</code></pre>\n\n<p>In my case, I was only having problems with one of my JS files which was getting null characters added to it by Jekyll, and starting with \"use strict\" with nothing before it was the difference. I don't know if this will fix all causes of this problem but worth a shot. </p>\n"}], "owner": {"reputation": 11590, "user_id": 774395, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/468lE.jpg?s=128&g=1", "display_name": "EngineerBetter_DJ", "link": "https://stackoverflow.com/users/774395/engineerbetter-dj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1497280269, "creation_date": 1430918280, "question_id": 30077976, "link": "https://stackoverflow.com/questions/30077976/jekyll-adding-null-characters-to-javascript", "title": "Jekyll adding Null Characters to JavaScript", "body": "<p>I'm trying to use <a href=\"https://github.com/CloudCannon/Strata-Jekyll-Theme\" rel=\"nofollow\">this theme</a> with Jekyll. However, my generated JavaScript has illegal characters appended to it, causing errors when the page is rendered.</p>\n\n<p>In particular <code>js/init.js</code> seems to have two characters added to the end of it once rendered into <code>_site</code>. In Sublime Text they show as <code>NUL</code>, and in vi they show as <code>^@</code>.</p>\n\n<p>I'm running Jekyll from a Trusty Vagrant VM, and the source repo is a mapped volume to my Windows host. I've not edited any of the files at this point, so I can't see it being anything to do with line endings.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "attributes"], "comments": [{"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1430916977, "post_id": 30076972, "comment_id": 48268059, "body": "Can you take a step back and explain what you are trying to achieve (in english, not in code)?  The code you have here has a lot of issues and so it&#39;s hard to advise you on what to do."}], "answers": [{"tags": [], "owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "is_accepted": true, "score": 4, "last_activity_date": 1435567096, "last_edit_date": 1435567096, "creation_date": 1430916163, "answer_id": 30077094, "question_id": 30076972, "link": "https://stackoverflow.com/questions/30076972/setting-the-attribute-of-an-object-to-be-and-attribute-of-another-object/30077094#30077094", "title": "Setting the attribute of an object to be and attribute of another object", "body": "<p><a href=\"http://guides.rubyonrails.org/association_basics.html\" rel=\"nofollow\">Consider using associations</a>\nto easily define relations between models using helpers like</p>\n\n<pre><code>Product    \nbelongs_to :user\n\nUser\nhas_many :products\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 4870223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uYgEG.png?s=128&g=1", "display_name": "Graciela Runolfsdottir", "link": "https://stackoverflow.com/users/4870223/graciela-runolfsdottir"}, "is_accepted": false, "score": 1, "last_activity_date": 1430916283, "creation_date": 1430916283, "answer_id": 30077144, "question_id": 30076972, "link": "https://stackoverflow.com/questions/30076972/setting-the-attribute-of-an-object-to-be-and-attribute-of-another-object/30077144#30077144", "title": "Setting the attribute of an object to be and attribute of another object", "body": "<p>Your code won't works because model doesn't have access to <code>params</code>. So, you should assign User instance in action of your controller:</p>\n\n<pre><code>def your_action\n  ...\n  product = ...\n  product.user = User.new(params[:id])\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4866180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--OhtIsNtHVQ/AAAAAAAAAAI/AAAAAAAAAEc/ripSBKFaCAE/photo.jpg?sz=128", "display_name": "IhaveABadGirl", "link": "https://stackoverflow.com/users/4866180/ihaveabadgirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 30077094, "answer_count": 2, "score": 0, "last_activity_date": 1435567096, "creation_date": 1430915900, "last_edit_date": 1430916817, "question_id": 30076972, "link": "https://stackoverflow.com/questions/30076972/setting-the-attribute-of-an-object-to-be-and-attribute-of-another-object", "title": "Setting the attribute of an object to be and attribute of another object", "body": "<p>Im very new to Ruby on rails. I am trying to set a Product object (:userid) to  the user object id (user.id). So far I have got this </p>\n\n<pre><code>class Product &lt; ActiveRecord::Base\n  before_create :set_userid\n  def set_userid\n    self.userid = User.new(params[:id])\n  end\nend\n</code></pre>\n\n<p>Is there any other way to set the value before the product object is created?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mongodb", "mongoid"], "comments": [{"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "edited": false, "score": 0, "creation_date": 1430916293, "post_id": 30076684, "comment_id": 48267487, "body": "yeah, _id should be unique"}, {"owner": {"reputation": 3534, "user_id": 871354, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2b6ef2c52b3585bd23220bdd8ad1a81a?s=128&d=identicon&r=PG", "display_name": "benams", "link": "https://stackoverflow.com/users/871354/benams"}, "reply_to_user": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "edited": false, "score": 0, "creation_date": 1430917299, "post_id": 30076684, "comment_id": 48268350, "body": "@apneadiving, What do you mean by &quot;should be unique&quot;? Duplicate _ids situation makes sense or shouldn&#39;t happen?"}, {"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "edited": false, "score": 0, "creation_date": 1430917670, "post_id": 30076684, "comment_id": 48268680, "body": "I think it doesnt make sense"}, {"owner": {"reputation": 3534, "user_id": 871354, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2b6ef2c52b3585bd23220bdd8ad1a81a?s=128&d=identicon&r=PG", "display_name": "benams", "link": "https://stackoverflow.com/users/871354/benams"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1430985712, "post_id": 30076684, "comment_id": 48302495, "body": "@muistooshort, mongoid assigns it"}, {"owner": {"reputation": 3534, "user_id": 871354, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2b6ef2c52b3585bd23220bdd8ad1a81a?s=128&d=identicon&r=PG", "display_name": "benams", "link": "https://stackoverflow.com/users/871354/benams"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1431242574, "post_id": 30076684, "comment_id": 48405320, "body": "@muistooshort, That&#39;s exactly my question..."}], "answers": [{"comments": [{"owner": {"reputation": 3534, "user_id": 871354, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2b6ef2c52b3585bd23220bdd8ad1a81a?s=128&d=identicon&r=PG", "display_name": "benams", "link": "https://stackoverflow.com/users/871354/benams"}, "edited": false, "score": 0, "creation_date": 1430920915, "post_id": 30078086, "comment_id": 48271397, "body": "Hi,  The collection you described is not my case. I attached to my question an example of what I have in my Database."}, {"owner": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "reply_to_user": {"reputation": 3534, "user_id": 871354, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2b6ef2c52b3585bd23220bdd8ad1a81a?s=128&d=identicon&r=PG", "display_name": "benams", "link": "https://stackoverflow.com/users/871354/benams"}, "edited": false, "score": 0, "creation_date": 1430922888, "post_id": 30078086, "comment_id": 48272881, "body": "@benams Thnak you for having clarified that. I&#39;ve add a couple of paragraphs to my answer concerning that."}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 1, "creation_date": 1430932390, "post_id": 30078086, "comment_id": 48279757, "body": "With Mongoid, embedded documents are <code>Mongoid::Document</code>s just like root documents are. So embedded documents get <code>_id</code>s just like every other document because, well, the ODM wants them too and the <code>_id</code>s make the illusion of &quot;real&quot; relations better (i.e. you can say <code>o.embeddeds.find(id)</code> just like you&#39;d say <code>o.relateds.find(id)</code> in a relational system). You can, of course, manually work with arrays of hashes instead of the Mongoid-wrapped embedded documents if you so desire."}], "tags": [], "owner": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "is_accepted": false, "score": 3, "last_activity_date": 1430923504, "last_edit_date": 1430923504, "creation_date": 1430918548, "answer_id": 30078086, "question_id": 30076684, "link": "https://stackoverflow.com/questions/30076684/mongoid-create-2-embedded-document-with-the-same-mongo-id/30078086#30078086", "title": "mongoid create 2 embedded document with the same mongo &quot;_id&quot;", "body": "<p>In order to make things clear:</p>\n\n<ul>\n<li>The <code>_id</code> field is <em>mandatory</em> on each <em>root</em> document of a collection. It is used to <em>uniquely</em> identify your document. Think of it as the primary key on your collection. There is <em>always</em> an index on that <code>_id</code> field.</li>\n<li><em>Typically</em>, there is no <em>unique</em> identifier for embedded documents (they simply don't need that: embedded documents are really part of their parent document -- this not a view on two \"joined\" collections).</li>\n<li><em>But</em>, you can add an id field in embedded documents as a foreign key for example. Even if this could be rather confusing, you might even call it <code>_id</code> if you want. However it will not have any special meaning in that context.</li>\n</ul>\n\n<p>As NoSQL databases tend to use denormalized schema, it is quite common in MongoDB to have identical documents embedded in different root documents. In fact, this is one way to represent a many-to-many relationship.</p>\n\n<hr>\n\n<p>Here is a perfectly valid example (even if, as I said before, the use of <code>_id</code> as a field name might be confusing at first sight):</p>\n\n<pre><code>{\n   _id: \"123\",\n   name: \"sylvain\",\n   friends: [ ]\n},\n{\n   _id: \"245\",\n   name: \"sonia\",\n   friends: [ {\n      _id: 123,\n      name: \"sylvain\"\n   } ]\n},\n{\n   _id: \"456\",\n   name: \"bob\",\n   friends: [ {\n      _id: 123,\n      name: \"sylvain\"\n   } ]\n}\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p>As about having <em>two</em> identical documents embedded in the <em>same</em> parent document: this might be a way to \"count\" the number of references from the parent to the child. Think of you parent-child document relation as a graph. You might very well have two links from one node to the other -- On the other hand, one would think of adding some \"weight\" field to the embedded document instead (so, qualifying the <em>link</em>). Depending your use case, both solutions might have pros and cons.</p>\n\n<p>Here is an example using two different models representing the following facts:</p>\n\n<blockquote>\n  <p>\"The customer <em>sylvain</em> currently hold <em>two</em> coupons for a free MP3 download on our store\"</p>\n</blockquote>\n\n<pre><code>// customer\n{\n   _id: \"123\",\n   name: \"sylvain\",\n   coupons: [ {\n        _id: 9905,\n        desc: \"Free MP3 download\"\n   },\n   {\n        _id: 9905,\n        desc: \"Free MP3 download\"\n   } ]\n}\n</code></pre>\n\n<p>Alternatively, one might think of it more that way:</p>\n\n<pre><code>// customer\n{\n   _id: \"123\",\n   name: \"sylvain\",\n   coupons: [ {\n        _id: 9905,\n        desc: \"Free MP3 download\",\n        qty: 2\n   } ]\n}\n</code></pre>\n\n<p>As of myself, I think it is not that obvious if that latter is <em>really</em> better than the former one. For example, in the latter case, when the customer uses a coupon, you will have to <code>decrease the qty -- and remove the coupon if qty == 0</code>. Seems to be more work than in the former case. But YMMV.</p>\n"}], "owner": {"reputation": 3534, "user_id": 871354, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2b6ef2c52b3585bd23220bdd8ad1a81a?s=128&d=identicon&r=PG", "display_name": "benams", "link": "https://stackoverflow.com/users/871354/benams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430923504, "creation_date": 1430915119, "last_edit_date": 1430920910, "question_id": 30076684, "link": "https://stackoverflow.com/questions/30076684/mongoid-create-2-embedded-document-with-the-same-mongo-id", "title": "mongoid create 2 embedded document with the same mongo &quot;_id&quot;", "body": "<p>Does it make sense that I have a mongodb record which one of its field is an array of two identical embedded documents (even the \"_id\" is identical).</p>\n\n<p>I encounter this problem when I use mongoid to create records. I don't know much about mongoid's embedded documents implementation, but I guess if those embedded documents are \"documents\", none of them should have an \"_id\" that is already in use by another doc.</p>\n\n<p>An example of what I got:</p>\n\n<pre><code>{\n   _id: \"123\",\n   name: \"sylvain\",\n   friends: [ ]\n},\n{\n   _id: \"245\",\n   name: \"sonia\",\n   friends: [ {\n      _id: 123,\n      name: \"sylvain\"\n   },\n   {\n      _id: 123,\n      name: \"sylvain\"\n   } ]\n},\n{\n   _id: \"456\",\n   name: \"bob\",\n   friends: [ {\n      _id: 123,\n      name: \"sylvain\"\n   } ]\n}\n</code></pre>\n"}, {"tags": ["ruby", "rubygems"], "answers": [{"comments": [{"owner": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "edited": false, "score": 0, "creation_date": 1430915638, "post_id": 30076819, "comment_id": 48267012, "body": "Of course I could do that, but it should be simple online coding similar to codingground."}, {"owner": {"reputation": 1502, "user_id": 1014587, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/990x8.jpg?s=128&g=1", "display_name": "Mast", "link": "https://stackoverflow.com/users/1014587/mast"}, "edited": false, "score": 0, "creation_date": 1430915674, "post_id": 30076819, "comment_id": 48267034, "body": "Suggesting a VPS here is out of context."}], "tags": [], "owner": {"reputation": 49, "user_id": 4870223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uYgEG.png?s=128&g=1", "display_name": "Graciela Runolfsdottir", "link": "https://stackoverflow.com/users/4870223/graciela-runolfsdottir"}, "is_accepted": false, "score": -1, "last_activity_date": 1430919637, "last_edit_date": 1430919637, "creation_date": 1430915485, "answer_id": 30076819, "question_id": 30076620, "link": "https://stackoverflow.com/questions/30076620/install-ruby-gem-feedjira-on-codingground-online-coding-platform/30076819#30076819", "title": "Install ruby gem feedjira on codingground online coding platform", "body": "<p>You problem can be related to memory size available for environment. Seems like for building this gem required more memory than available. </p>\n\n<p>So, I recommend to develop your ruby script locally or purchase a VPS, like Digital Ocean, for development.</p>\n"}, {"tags": [], "owner": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "is_accepted": true, "score": 0, "last_activity_date": 1431075361, "creation_date": 1431075361, "answer_id": 30119731, "question_id": 30076620, "link": "https://stackoverflow.com/questions/30076620/install-ruby-gem-feedjira-on-codingground-online-coding-platform/30119731#30119731", "title": "Install ruby gem feedjira on codingground online coding platform", "body": "<p>It showed that a dependency to libcurl was missing, wich is used by curb, which is a dependency of feedjira.</p>\n\n<p>Finally I switched to Cloud9 <a href=\"https://c9.io/\" rel=\"nofollow\">https://c9.io/</a> for simple online ruby programming, because it gives you more freedom. Unfortunately you have to sign up for this.</p>\n"}], "owner": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 30119731, "answer_count": 2, "score": 0, "last_activity_date": 1431075361, "creation_date": 1430914942, "last_edit_date": 1430915544, "question_id": 30076620, "link": "https://stackoverflow.com/questions/30076620/install-ruby-gem-feedjira-on-codingground-online-coding-platform", "title": "Install ruby gem feedjira on codingground online coding platform", "body": "<p>I cannot install feddjira on Codingground online coding plataform (<a href=\"http://www.tutorialspoint.com/execute_ruby_online.php\" rel=\"nofollow\">http://www.tutorialspoint.com/execute_ruby_online.php</a>) via</p>\n\n<pre><code>gem install feedjira\n</code></pre>\n\n<p>It says</p>\n\n<pre><code>sh-4.2# gem install feedjira                                                                                                                                                                                                                           \nFetching: sax-machine-1.3.2.gem (100%)                                                                                                                                                                                                                 \nSuccessfully installed sax-machine-1.3.2                                                                                                                                                                                                               \nFetching: curb-0.8.8.gem (100%)                                                                                                                                                                                                                        \nBuilding native extensions.  This could take a while...                                                                                                                                                                                                \nKilled\n</code></pre>\n\n<p>Feedjira is not installed</p>\n\n<pre><code>bash-4.2# gem list                                                                                                                                                                                                                                     \n\n*** LOCAL GEMS ***                                                                                                                                                                                                                                     \n\nbigdecimal (1.2.0)                                                                                                                                                                                                                                     \nfeed (0.0.4)                                                                                                                                                                                                                                           \nhoe (3.13.1)                                                                                                                                                                                                                                           \nio-console (0.4.2)                                                                                                                                                                                                                                     \njson (1.7.7)                                                                                                                                                                                                                                           \npsych (2.0.0)                                                                                                                                                                                                                                          \nrake (10.4.2)                                                                                                                                                                                                                                          \nrdoc (4.0.1)                                                                                                                                                                                                                                           \nsax-machine (1.3.2)                                                                                                                                                                                                                                    \nthrift (0.9.2.0)\n</code></pre>\n\n<p>Is there a way to use this feedjira on this platform or are there better alternatives? Alternatives to use feejira here? Alternatives for coding ruby online?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "paypal", "activemerchant"], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 2406586, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4693b4eb39f13137c7687bdfee342fbe?s=128&d=identicon&r=PG", "display_name": "IT_puppet_master", "link": "https://stackoverflow.com/users/2406586/it-puppet-master"}, "is_accepted": true, "score": 0, "last_activity_date": 1431421225, "creation_date": 1431421225, "answer_id": 30186215, "question_id": 30076578, "link": "https://stackoverflow.com/questions/30076578/capistrano-and-activemerchant-paypal-will-not-deploy-due-to-argumenterror-an-ap/30186215#30186215", "title": "Capistrano and ActiveMerchant Paypal will not Deploy due to ArgumentError: An API Certificate or API Signature is required to make requests to PayPal", "body": "<p>Right, Im sure this is not a good way to do it but I moved the ActiveMerchant initilizer into its own Module and out of the production.rb and all seems well. If anyone knows any good reasons why this is a <em>bad</em> idea, please do let me know, but for now its working!</p>\n\n<p>Cheers</p>\n"}], "owner": {"reputation": 592, "user_id": 2406586, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4693b4eb39f13137c7687bdfee342fbe?s=128&d=identicon&r=PG", "display_name": "IT_puppet_master", "link": "https://stackoverflow.com/users/2406586/it-puppet-master"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 30186215, "answer_count": 1, "score": 0, "last_activity_date": 1431421225, "creation_date": 1430914827, "last_edit_date": 1495539823, "question_id": 30076578, "link": "https://stackoverflow.com/questions/30076578/capistrano-and-activemerchant-paypal-will-not-deploy-due-to-argumenterror-an-ap", "title": "Capistrano and ActiveMerchant Paypal will not Deploy due to ArgumentError: An API Certificate or API Signature is required to make requests to PayPal", "body": "<p>I have an eCommerce site that I use paypal via ActiveMechant. In Development everything works well, but when I deploy it gives me this error...</p>\n\n<pre><code>ArgumentError: An API Certificate or API Signature is required to make requests to PayPal\n/var/www/ross_store/shared/bundle/ruby/2.2.0/gems/activemerchant-1.48.0/lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:78:in `initialize'\n</code></pre>\n\n<p>My production.rb config looks like...</p>\n\n<pre><code>config.after_initialize do\nActiveMerchant::Billing::Base.mode = :production\npaypal_options = {\n:login =&gt; ENV[\"PAYPAL_USER\"],\n:password =&gt; ENV[\"PAYPAL_PASS\"],\n:signature =&gt; ENV[\"PAYPAL_SIGNATURE\"]\n}\n    ::EXPRESS_GATEWAY = ActiveMerchant::Billing::PaypalExpressGateway.new(paypal_options)\nend\n</code></pre>\n\n<p>All the ENV vars are available on the Host machine.</p>\n\n<p>Similar to <a href=\"https://stackoverflow.com/questions/12082805/api-signature-is-required-to-make-requests-to-paypal-error-i-have-an-api-signat\">API Signature is required to make requests to PayPal error, I have an API signature set already</a> but not on Heroku.</p>\n\n<p>Anyone any Ideas? </p>\n\n<p>Many Thanks in advance.</p>\n\n<p>Alex</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json", "proxy", "rest-client"], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 4614631, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f265ae565682c3f4c98ec4a55b2ebc72?s=128&d=identicon&r=PG&f=1", "display_name": "Sulaiman Adeeyo", "link": "https://stackoverflow.com/users/4614631/sulaiman-adeeyo"}, "edited": false, "score": 0, "creation_date": 1430915014, "post_id": 30076570, "comment_id": 48266482, "body": "I already set the Accept type in my request, I set content_type to :json... It&#39;s working on DEV perfectly but not on TEST."}], "tags": [], "owner": {"reputation": 49, "user_id": 4870223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uYgEG.png?s=128&g=1", "display_name": "Graciela Runolfsdottir", "link": "https://stackoverflow.com/users/4870223/graciela-runolfsdottir"}, "is_accepted": false, "score": 0, "last_activity_date": 1430914817, "creation_date": 1430914817, "answer_id": 30076570, "question_id": 30076478, "link": "https://stackoverflow.com/questions/30076478/restclient-not-returning-the-server-response-message/30076570#30076570", "title": "RESTClient not returning the Server Response Message", "body": "<p>If this is your API you can enable response in JSON format to any request. Just add this to your base API controller:</p>\n\n<pre><code>  before_filter :default_request_format\n\n  private\n\n  def default_request_format\n    request.format = :json\n  end\n</code></pre>\n\n<p>If this is not your API you should specify <code>Accept</code> header with JSON content type.</p>\n"}], "owner": {"reputation": 445, "user_id": 4614631, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f265ae565682c3f4c98ec4a55b2ebc72?s=128&d=identicon&r=PG&f=1", "display_name": "Sulaiman Adeeyo", "link": "https://stackoverflow.com/users/4614631/sulaiman-adeeyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 739, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430914817, "creation_date": 1430914547, "question_id": 30076478, "link": "https://stackoverflow.com/questions/30076478/restclient-not-returning-the-server-response-message", "title": "RESTClient not returning the Server Response Message", "body": "<p>I am working on a ruby project which involve using RESTClient to reach out to an API. The API returns a 400 HTTP Status Code for a particular result with an accompanying response message (A JSON Response). </p>\n\n<p>But when I check the response of my call:</p>\n\n<pre><code>response = RESTClient.post(...) {\n    logger.info response.to_s\n}\n</code></pre>\n\n<p>I am getting a Proxy Server 400 page html:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n &lt;html&gt;&lt;head&gt;\n   &lt;title&gt;400 Bad Request&lt;/title&gt;\n &lt;/head&gt;&lt;body&gt;\n &lt;h1&gt;Bad Request&lt;/h1&gt;\n  &lt;p&gt;Your browser sent a request that this server could not understand.&lt;br /&gt;\n  &lt;/p&gt;\n &lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>which is not what I'm expecting.</p>\n\n<p>Please what could be wrong?</p>\n\n<p>Also, the behaviour is different with DEV and TEST Environment. On DEV Environment, it's giving the JSON while on TEST, I'm getting this issue.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "windows", "rmagick"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4836442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UZN5SUaudUc/AAAAAAAAAAI/AAAAAAAAEHY/JKvzJLwTeMU/photo.jpg?sz=128", "display_name": "Sushant Rai", "link": "https://stackoverflow.com/users/4836442/sushant-rai"}, "edited": false, "score": 0, "creation_date": 1431340023, "post_id": 30133808, "comment_id": 48436942, "body": "yes this seems to be final alternative if I fail to setup it up this week. nitrous io was little slower so i was avoiding it,"}], "tags": [], "owner": {"reputation": 1079, "user_id": 4584772, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/800138940080213/picture?type=large", "display_name": "Josh Hunter", "link": "https://stackoverflow.com/users/4584772/josh-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1431124407, "creation_date": 1431124407, "answer_id": 30133808, "question_id": 30076317, "link": "https://stackoverflow.com/questions/30076317/gem-install-fails-on-windows-mkmf-log-cannot-find-lx11/30133808#30133808", "title": "Gem install fails on windows. mkmf.log cannot find -lX11", "body": "<p>Have you considered developing with nitrous io?  Developing rails in windows is much harder because there are a lot of errors you have to deal with that others don't and there's not a whole lot of documentation/support.  Most answers boil down to something like \"windows and rails don't mix\".</p>\n"}], "owner": {"reputation": 1, "user_id": 4836442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UZN5SUaudUc/AAAAAAAAAAI/AAAAAAAAEHY/JKvzJLwTeMU/photo.jpg?sz=128", "display_name": "Sushant Rai", "link": "https://stackoverflow.com/users/4836442/sushant-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 585, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431124407, "creation_date": 1430914130, "last_edit_date": 1430922542, "question_id": 30076317, "link": "https://stackoverflow.com/questions/30076317/gem-install-fails-on-windows-mkmf-log-cannot-find-lx11", "title": "Gem install fails on windows. mkmf.log cannot find -lX11", "body": "<p>I am trying to install rmagick gem on for my rails framework.\nI have installed imagemagick and set lib and include path in system variables</p>\n\n<p>But when installing gem install rmagick -- '--with-opt-dir=\"c:\\RailsInstaller\\ImageMagick-6.7.9-Q8\"' i still get errors.</p>\n\n<p>gem command</p>\n\n<pre><code>C:\\sites\\redmine&gt; gem install rmagick -- '--with-opt-dir=\"c:\\RailsInstaller\\ImageMagick-6.7.9-Q8\"'\ngem.bat : ERROR:  While executing gem ... (OptionParser::InvalidOption)\nAt line:1 char:4\n+ gem &lt;&lt;&lt;&lt;  install rmagick -- '--with-opt-dir=\"c:\\RailsInstaller\\ImageMagick-6\n.7.9-Q8\"'\n    + CategoryInfo          : NotSpecified: (ERROR:  While e...:InvalidOption) \n   :String) [], RemoteException\n    + FullyQualifiedErrorId : NativeCommandError\n\n    invalid option: --with-opt-dir=c:\\RailsInstaller\\ImageMagick-6.7.9-Q8\n</code></pre>\n\n<p>mkmf.log file says</p>\n\n<pre><code>assert_minimum_ruby_version!: checking for Ruby version &gt;= 1.8.5... -------------------- yes\n\n--------------------\n\n\"gcc -o conftest.exe -IC:/RailsInstaller/Ruby2.1.0/include/ruby-2.1.0/i386-mingw32 -IC:/RailsInstaller/Ruby2.1.0/include/ruby-2.1.0/ruby/backward -IC:/RailsInstaller/Ruby2.1.0/include/ruby-2.1.0 -I. -DFD_SETSIZE=2048 -D_WIN32_WINNT=0x0501 -D__MINGW_USE_VC2005_COMPAT -D_FILE_OFFSET_BITS=64   -O3 -fno-omit-frame-pointer -fno-fast-math -g -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wunused-variable -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration conftest.c  -L. -LC:/RailsInstaller/Ruby2.1.0/lib -L.    -lCORE_RL_magick_ -lX11  -lmsvcrt-ruby210  -lshell32 -lws2_32 -liphlpapi -limagehlp -lshlwapi  \"\nc:/railsinstaller/devkit/mingw/bin/../lib/gcc/i686-w64-mingw32/4.7.2/../../../../i686-w64-mingw32/bin/ld.exe: cannot find -lCORE_RL_magick_\nc:/railsinstaller/devkit/mingw/bin/../lib/gcc/i686-w64-mingw32/4.7.2/../../../../i686-w64-mingw32/bin/ld.exe: cannot find -lX11\ncollect2.exe: error: ld returned 1 exit status\nchecked program was:\n/* begin */\n1: #include \"ruby.h\"\n2: \n3: #include &lt;winsock2.h&gt;\n4: #include &lt;windows.h&gt;\n5: int main(int argc, char **argv)\n6: {\n7:   return 0;\n8: }\n/* end */\n</code></pre>\n\n<p>From log it is clear that devkit is not able to locate ImageMagick\nBut i have set it PATH = C:\\RailsInstaller\\ImageMagick-6.7.9-Q8</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 1328, "user_id": 4434754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f3471c616c096f92e3d2ef79f87e7?s=128&d=identicon&r=PG", "display_name": "Florent Ferry", "link": "https://stackoverflow.com/users/4434754/florent-ferry"}, "is_accepted": false, "score": 1, "last_activity_date": 1430914751, "last_edit_date": 1430914751, "creation_date": 1430914423, "answer_id": 30076422, "question_id": 30076045, "link": "https://stackoverflow.com/questions/30076045/locate-file-loaded-on-respond-with-jobs/30076422#30076422", "title": "locate file loaded on respond_with @jobs", "body": "<p>In your case, your action is <code>show</code> so the template associated with is <code>show.json</code> in <code>views/[namespace]/show.json</code>.</p>\n\n<p>You should create this template, or if this template is not found Rails will automatically invoke <a href=\"http://apidock.com/rails/ActiveRecord/Serialization/to_json\" rel=\"nofollow\"><code>to_json</code></a> on the object passed to <code>respond_with</code>.</p>\n\n<p>Refer to <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#rendering-xml-and-json-data\" rel=\"nofollow\">documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": true, "score": 2, "last_activity_date": 1430914829, "last_edit_date": 1430914829, "creation_date": 1430914517, "answer_id": 30076459, "question_id": 30076045, "link": "https://stackoverflow.com/questions/30076045/locate-file-loaded-on-respond-with-jobs/30076459#30076459", "title": "locate file loaded on respond_with @jobs", "body": "<p>Because <code>respond_to :json</code> does not render a view, rather it calls <code>render json: @job_pattern</code>. </p>\n\n<p><code>render json:@job_pattern</code> calls <code>@job_pattern.to_json</code> and sets the JSON string as the response body. You can do the same with XML or YML.</p>\n\n<p>This is an example of the rails convention over configuration philosophy - if there is a <code>show.json.[erb|haml]</code> it takes priority. Otherwise rails will look for an instance variable which corresponds with the name of the controller (<code>@job</code> or <code>@jobs</code> for index) and attempt to serialize it as JSON. </p>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"http://www.justinweiss.com/blog/2014/11/03/respond-to-without-all-the-pain/\" rel=\"nofollow\">Justin Weiss: <code>respond_to</code> Without All the Pain</a></li>\n<li><a href=\"http://guides.rubyonrails.org/layouts_and_rendering.html\" rel=\"nofollow\">Rails Guides: Layouts and Rendering in Rails</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 4850661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f7193735eb81ee0e4264e12ec3140c?s=128&d=identicon&r=PG&f=1", "display_name": "Francesco Pirrone", "link": "https://stackoverflow.com/users/4850661/francesco-pirrone"}, "is_accepted": false, "score": 0, "last_activity_date": 1430916872, "last_edit_date": 1430916872, "creation_date": 1430914998, "answer_id": 30076643, "question_id": 30076045, "link": "https://stackoverflow.com/questions/30076045/locate-file-loaded-on-respond-with-jobs/30076643#30076643", "title": "locate file loaded on respond_with @jobs", "body": "<p>Recents version of Rails with generated scaffold use show.json.jbuilder as template file.\nFor more info about it:\n<a href=\"https://github.com/rails/jbuilder\" rel=\"nofollow\">jbuilder</a></p>\n"}], "owner": {"reputation": 2453, "user_id": 2647198, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fhjZv.jpg?s=128&g=1", "display_name": "Vikram", "link": "https://stackoverflow.com/users/2647198/vikram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 30076459, "answer_count": 3, "score": 1, "last_activity_date": 1430916872, "creation_date": 1430913463, "question_id": 30076045, "link": "https://stackoverflow.com/questions/30076045/locate-file-loaded-on-respond-with-jobs", "title": "locate file loaded on respond_with @jobs", "body": "<p>On my project I have</p>\n\n<pre><code>respond_to :json\nload_and_authorize_resource\n\ndef show\n  respond_with @job_pattern\nend\n</code></pre>\n\n<p>as per tutorial here <a href=\"http://blog.plataformatec.com.br/2009/08/embracing-rest-with-mind-body-and-soul/\" rel=\"nofollow\">http://blog.plataformatec.com.br/2009/08/embracing-rest-with-mind-body-and-soul/</a>\nit works like this: when a request comes, for example with format xml, it will first search for a template at users/index.xml</p>\n\n<p>so I checked for job_patterns/index.json but didnt find any file with this name </p>\n\n<p>can anyone guide me where i can find the file or how the output is generated here if it is not with the file.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sorting"], "comments": [{"owner": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 0, "creation_date": 1430912984, "post_id": 30075754, "comment_id": 48264945, "body": "Do you always know it&#39;s index? or do you need to locate it? and do you want/need it sorted?"}, {"owner": {"reputation": 2052, "user_id": 2052543, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f5705f62134d8892f04256b9ff9cb59?s=128&d=identicon&r=PG&f=1", "display_name": "DonMB", "link": "https://stackoverflow.com/users/2052543/donmb"}, "reply_to_user": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 0, "creation_date": 1430913038, "post_id": 30075754, "comment_id": 48264981, "body": "No I don&#39;t know its index, I would need to locate it. There are always different items in the collection depending on what the customer shops. So it would need to get sorted indeed."}], "answers": [{"comments": [{"owner": {"reputation": 2052, "user_id": 2052543, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f5705f62134d8892f04256b9ff9cb59?s=128&d=identicon&r=PG&f=1", "display_name": "DonMB", "link": "https://stackoverflow.com/users/2052543/donmb"}, "edited": false, "score": 0, "creation_date": 1430913090, "post_id": 30075856, "comment_id": 48265030, "body": "Sorry was not precise here, I don&#39;t know its index. I need to locate it first. And then sort the array."}], "tags": [], "owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "is_accepted": false, "score": 0, "last_activity_date": 1430913540, "last_edit_date": 1430913540, "creation_date": 1430912994, "answer_id": 30075856, "question_id": 30075754, "link": "https://stackoverflow.com/questions/30075754/put-specific-collection-array-item-on-the-last-position-in-rails/30075856#30075856", "title": "Put specific collection/array item on the last position in rails", "body": "<p>If you have an index of an item it boils down to</p>\n\n<pre><code>@collection &lt;&lt; @collection.delete_at(3)\n</code></pre>\n\n<p>If you don't, you could try finding it using</p>\n\n<pre><code>@collection.find_index{ |el| el[\"order_number\"] == \"123\" }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 4870223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uYgEG.png?s=128&g=1", "display_name": "Graciela Runolfsdottir", "link": "https://stackoverflow.com/users/4870223/graciela-runolfsdottir"}, "is_accepted": false, "score": 1, "last_activity_date": 1430913422, "creation_date": 1430913422, "answer_id": 30076027, "question_id": 30075754, "link": "https://stackoverflow.com/questions/30075754/put-specific-collection-array-item-on-the-last-position-in-rails/30076027#30076027", "title": "Put specific collection/array item on the last position in rails", "body": "<p>Just split your collection on two (without 342 order and with 342 order), then just join them. It should looks like:</p>\n\n<pre><code>@collection = @collection.select {|e| e[:order_number] != '342' } + @collection.select {|e| e[:order_number] == '342' }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3809, "user_id": 518500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/853a5fb8148dc8e1678c983f0a4cbaf5?s=128&d=identicon&r=PG", "display_name": "codingbunny", "link": "https://stackoverflow.com/users/518500/codingbunny"}, "is_accepted": true, "score": 3, "last_activity_date": 1430913447, "creation_date": 1430913447, "answer_id": 30076040, "question_id": 30075754, "link": "https://stackoverflow.com/questions/30075754/put-specific-collection-array-item-on-the-last-position-in-rails/30076040#30076040", "title": "Put specific collection/array item on the last position in rails", "body": "<p>how about:</p>\n\n<pre><code>@collection &lt;&lt; @collection.delete_at[@collection.index{|x| x[:order_number] == \"342\"}]\n</code></pre>\n\n<p>This basically searches the index of element with <code>:order_number</code> 342 first, uses that index to delete it, and then store the deleted element at the end again.</p>\n"}, {"tags": [], "owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "is_accepted": false, "score": 0, "last_activity_date": 1430914100, "creation_date": 1430914100, "answer_id": 30076299, "question_id": 30075754, "link": "https://stackoverflow.com/questions/30075754/put-specific-collection-array-item-on-the-last-position-in-rails/30076299#30076299", "title": "Put specific collection/array item on the last position in rails", "body": "<p>Alternative you can try this too:</p>\n\n<pre><code>&gt; @collection.each_with_index{ |key,value| @collection.push(@collection.delete_at(value)) if key[:order_number] == \"344\" }\n#=&gt;[{:order_number=&gt;\"123\", :item=&gt;\"Paper\"}, {:order_number=&gt;\"567\", :item=&gt;\"Ruler\"}, {:order_number=&gt;\"342\", :item=&gt;\"Pencil\"}, {:order_number=&gt;\"877\", :item=&gt;\"Keyboard\"}, {:order_number=&gt;\"344\", :item=&gt;\"Pen\"}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": false, "score": 2, "last_activity_date": 1430914768, "creation_date": 1430914768, "answer_id": 30076554, "question_id": 30075754, "link": "https://stackoverflow.com/questions/30075754/put-specific-collection-array-item-on-the-last-position-in-rails/30076554#30076554", "title": "Put specific collection/array item on the last position in rails", "body": "<p>You can also use the <a href=\"http://ruby-doc.org/core-2.2.2/Enumerable.html#method-i-partition\" rel=\"nofollow\"><code>partition</code></a> method:</p>\n\n<pre><code>@collection = @collection.partition { |h| h['order_number'] != '342' }.flatten\n</code></pre>\n"}], "owner": {"reputation": 2052, "user_id": 2052543, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f5705f62134d8892f04256b9ff9cb59?s=128&d=identicon&r=PG&f=1", "display_name": "DonMB", "link": "https://stackoverflow.com/users/2052543/donmb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 30076040, "answer_count": 5, "score": 0, "last_activity_date": 1430914768, "creation_date": 1430912701, "last_edit_date": 1430913191, "question_id": 30075754, "link": "https://stackoverflow.com/questions/30075754/put-specific-collection-array-item-on-the-last-position-in-rails", "title": "Put specific collection/array item on the last position in rails", "body": "<p>I have a collection/array in rails, transformed to json it looks like this:</p>\n\n<pre><code>@collection = [{\"order_number\":\"123\",\"item\":\"Paper\"},{\"order_number\":\"567\",\"item\":\"Ruler\"},{\"order_number\":\"344\",\"item\":\"Pen\"},{\"order_number\":\"342\",\"item\":\"Pencil\"},{\"order_number\":\"877\",\"item\":\"Keyboard\"}]\n</code></pre>\n\n<p>I would like to pick the item with the order_number \"342\" and put it at the last position of the collection, so the new collection looks like this:</p>\n\n<pre><code>@collection = [{\"order_number\":\"123\",\"item\":\"Paper\"},{\"order_number\":\"567\",\"item\":\"Ruler\"},{\"order_number\":\"344\",\"item\":\"Pen\"},{\"order_number\":\"877\",\"item\":\"Keyboard\"},{\"order_number\":\"342\",\"item\":\"Pencil\"}]\n</code></pre>\n\n<p>In theory, it would look like this:</p>\n\n<pre><code>@collection.last = @collection[3]\n</code></pre>\n\n<p>but that is obviously not fancy ruby style nor would it re-sort the array as in my example.\nAlso I don't know the index of the item as it can change depending on what the user shops.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "solr", "sunspot-solr"], "comments": [{"owner": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "edited": false, "score": 1, "creation_date": 1430911048, "post_id": 30075059, "comment_id": 48263617, "body": "if you migrate to solr 5.0.0 <a href=\"https://cwiki.apache.org/confluence/display/solr/SolrCloud\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/solr/SolrCloud</a> otherwise you can think of scaling it by sharding and replication..."}, {"owner": {"reputation": 2931, "user_id": 1523560, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a04c8a5d97cf0b1c298c85b20c21f113?s=128&d=identicon&r=PG", "display_name": "bmalets", "link": "https://stackoverflow.com/users/1523560/bmalets"}, "reply_to_user": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "edited": false, "score": 0, "creation_date": 1430911140, "post_id": 30075059, "comment_id": 48263679, "body": "@AbhijitBashetti also, what&#39;s a difference between sharding and replication?)"}, {"owner": {"reputation": 2931, "user_id": 1523560, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a04c8a5d97cf0b1c298c85b20c21f113?s=128&d=identicon&r=PG", "display_name": "bmalets", "link": "https://stackoverflow.com/users/1523560/bmalets"}, "reply_to_user": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "edited": false, "score": 0, "creation_date": 1430911565, "post_id": 30075059, "comment_id": 48263982, "body": "@AbhijitBashetti does solr 4 support SolrCloud ?"}, {"owner": {"reputation": 2931, "user_id": 1523560, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a04c8a5d97cf0b1c298c85b20c21f113?s=128&d=identicon&r=PG", "display_name": "bmalets", "link": "https://stackoverflow.com/users/1523560/bmalets"}, "reply_to_user": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "edited": false, "score": 0, "creation_date": 1430911797, "post_id": 30075059, "comment_id": 48264128, "body": "@AbhijitBashetti <a href=\"http://stackoverflow.com/questions/30075423/whats-a-difference-between-solr-replication-sharding-and-solrcloud\" title=\"whats a difference between solr replication sharding and solrcloud\">stackoverflow.com/questions/30075423/&hellip;</a>"}, {"owner": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "edited": false, "score": 0, "creation_date": 1430912203, "post_id": 30075059, "comment_id": 48264395, "body": "SolrCloud which was introduced with Solr 4.0"}, {"owner": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "edited": false, "score": 0, "creation_date": 1430912329, "post_id": 30075059, "comment_id": 48264492, "body": "<a href=\"https://cwiki.apache.org/confluence/display/solr/Distributed+Search+with+Index+Sharding\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/solr/&hellip;</a>"}, {"owner": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "reply_to_user": {"reputation": 2931, "user_id": 1523560, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a04c8a5d97cf0b1c298c85b20c21f113?s=128&d=identicon&r=PG", "display_name": "bmalets", "link": "https://stackoverflow.com/users/1523560/bmalets"}, "edited": false, "score": 0, "creation_date": 1430912364, "post_id": 30075059, "comment_id": 48264512, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/77083/discussion-between-abhijit-bashetti-and-bmalets\">continue this discussion in chat</a>."}], "owner": {"reputation": 2931, "user_id": 1523560, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a04c8a5d97cf0b1c298c85b20c21f113?s=128&d=identicon&r=PG", "display_name": "bmalets", "link": "https://stackoverflow.com/users/1523560/bmalets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430913387, "creation_date": 1430910699, "last_edit_date": 1430913387, "question_id": 30075059, "link": "https://stackoverflow.com/questions/30075059/how-to-configure-solr-on-few-servers", "title": "How to configure Solr on few servers?", "body": "<p>I'm supporting on rails project, which contain rails app and additional instance with Solr 4.1. Unfortunately, clould provider is not so stable, and oftentimes some server goes on maintenance. </p>\n\n<p>So, I think about how to make 2 identical search servers and some load balancer, instead of one... It will be more stable - if one server will be down, other will continue working.</p>\n\n<p>My environment: rails 3.2.1, ruby 2.1.2, sunspot 2.1.0, Solr 4.1.6.</p>\n\n<p>Is it possible to configure? Please, advise me a right way to do it.\nThanks. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "session", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 3048, "user_id": 2374626, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Z78U0.jpg?s=128&g=1", "display_name": "Satishakumar Awati", "link": "https://stackoverflow.com/users/2374626/satishakumar-awati"}, "edited": false, "score": 0, "creation_date": 1430912204, "post_id": 30075002, "comment_id": 48264396, "body": "Please find I updated gem version as well, I am using latest version."}], "tags": [], "owner": {"reputation": 49, "user_id": 4870223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uYgEG.png?s=128&g=1", "display_name": "Graciela Runolfsdottir", "link": "https://stackoverflow.com/users/4870223/graciela-runolfsdottir"}, "is_accepted": false, "score": 1, "last_activity_date": 1430910564, "creation_date": 1430910564, "answer_id": 30075002, "question_id": 30074740, "link": "https://stackoverflow.com/questions/30074740/warning-activerecordsessionstore-failed-to-save-session-content-dropped/30075002#30075002", "title": "Warning! ActiveRecord::SessionStore failed to save session. Content dropped", "body": "<p>Seems like you are using outdated version of <code>activerecord-session_store</code> gem (this functionality was extracted from Rails to separate gem). So, try to update it and reproduce problem again.</p>\n"}], "owner": {"reputation": 3048, "user_id": 2374626, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Z78U0.jpg?s=128&g=1", "display_name": "Satishakumar Awati", "link": "https://stackoverflow.com/users/2374626/satishakumar-awati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1276, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545288926, "creation_date": 1430909815, "last_edit_date": 1430913405, "question_id": 30074740, "link": "https://stackoverflow.com/questions/30074740/warning-activerecordsessionstore-failed-to-save-session-content-dropped", "title": "Warning! ActiveRecord::SessionStore failed to save session. Content dropped", "body": "<p><img src=\"https://i.stack.imgur.com/GSarq.png\" alt=\"Command prompt this warning is getting logged\"></p>\n\n<p>I am using database for storing session(active_record_store). </p>\n\n<p>I am unable to trace out the root cause for this warning message and why rails logging this message and whats its impacts on application.</p>\n\n<p>Similar question asked here but no/not detailed responses \n<a href=\"http://w3facility.org/question/warning-activerecordsessionstore-failed-to-save-session-content-dropped/?wb48617274=3127E325\" rel=\"nofollow noreferrer\">click here.</a></p>\n\n<p>RubyGem used is <a href=\"https://rubygems.org/gems/activerecord-session_store/versions/0.1.1\" rel=\"nofollow noreferrer\">'activerecord-session_store', '~> 0.1.1'</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "date", "datetime"], "comments": [{"owner": {"reputation": 15090, "user_id": 310892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jy9kc.jpg?s=128&g=1", "display_name": "Lee Jarvis", "link": "https://stackoverflow.com/users/310892/lee-jarvis"}, "edited": false, "score": 0, "creation_date": 1430909614, "post_id": 30074609, "comment_id": 48262669, "body": "You want to use it as an instance method <code>start_date.iso8601</code>. The class method <a href=\"http://ruby-doc.org/stdlib-1.9.3/libdoc/time/rdoc/Time.html#method-c-xmlschema\" rel=\"nofollow noreferrer\">expects a String</a>"}, {"owner": {"reputation": 1989, "user_id": 1995600, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7a20921c83940ce92363d28a6d84a712?s=128&d=identicon&r=PG", "display_name": "DMH", "link": "https://stackoverflow.com/users/1995600/dmh"}, "reply_to_user": {"reputation": 15090, "user_id": 310892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jy9kc.jpg?s=128&g=1", "display_name": "Lee Jarvis", "link": "https://stackoverflow.com/users/310892/lee-jarvis"}, "edited": false, "score": 0, "creation_date": 1430909753, "post_id": 30074609, "comment_id": 48262753, "body": "hey Lee that works great if you add an answer I shall accept it."}, {"owner": {"reputation": 15090, "user_id": 310892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jy9kc.jpg?s=128&g=1", "display_name": "Lee Jarvis", "link": "https://stackoverflow.com/users/310892/lee-jarvis"}, "edited": false, "score": 0, "creation_date": 1430920898, "post_id": 30074609, "comment_id": 48271381, "body": "I&#39;ll let G.B take the upvotes :)"}], "answers": [{"tags": [], "owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "is_accepted": true, "score": 6, "last_activity_date": 1430909708, "creation_date": 1430909708, "answer_id": 30074708, "question_id": 30074609, "link": "https://stackoverflow.com/questions/30074609/convert-rails-datetime-to-yyyy-mm-ddthhmmssz/30074708#30074708", "title": "Convert Rails Datetime to YYYY-MM-DDThh:mm:ssZ", "body": "<p>try following:</p>\n\n<pre><code>start_date.iso8601\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>=&gt; \"2015-05-06T15:53:51+05:00\"\n</code></pre>\n"}], "owner": {"reputation": 1989, "user_id": 1995600, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7a20921c83940ce92363d28a6d84a712?s=128&d=identicon&r=PG", "display_name": "DMH", "link": "https://stackoverflow.com/users/1995600/dmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1957, "favorite_count": 0, "accepted_answer_id": 30074708, "answer_count": 1, "score": 3, "last_activity_date": 1430918764, "creation_date": 1430909434, "last_edit_date": 1430918764, "question_id": 30074609, "link": "https://stackoverflow.com/questions/30074609/convert-rails-datetime-to-yyyy-mm-ddthhmmssz", "title": "Convert Rails Datetime to YYYY-MM-DDThh:mm:ssZ", "body": "<p>I have ann app that has a start_date and an end_date that is currently in the format <code>Thu, 23 Apr 2015 17:00:00 UTC +00:00</code> and the field type is datetime. </p>\n\n<p>I am needing to convert it into this <code>YYYY-MM-DDThh:mm:ssZ</code> for the Eventbrite API but I am having little luck.</p>\n\n<p>I have tried <code>iso = Time.iso8601(start_date)</code> but I get the following error <code>TypeError: no implicit conversion of ActiveSupport::TimeWithZone into String\n</code></p>\n\n<p>Anyone able to point me in the right direction it would be very much appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "ruby-on-rails-4", "associations"], "answers": [{"comments": [{"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1430909992, "post_id": 30074676, "comment_id": 48262918, "body": "Thanks, that helps. What would this mean for the migration files? How should these need to be changed? Because also with <code>has_one :actioncode</code>, <code>belongs_to :organization</code>, and the <code>t.references</code> line in the migration file, it still expects an actioncode_id in the organization table."}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1430910252, "post_id": 30074676, "comment_id": 48263114, "body": "I also wonder that if you use <code>belongs_to :organization</code> for actioncode, an actioncode could only be used by 1 organization instead of many organizations using that same actioncode.   At guides.rubyonrails.org/association_basics.html#the-belongs-t&zwnj;&#8203;o-association I read &quot;such that each instance of the declaring model &quot;belongs to&quot; one instance of the other model&quot;."}, {"owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1430910440, "post_id": 30074676, "comment_id": 48263237, "body": "<code>organizations</code> table will no longer have the <code>actioncode_id</code> column so you need to remove that reference from it, but instead each <code>Actioncode</code> will point to the <code>Organization</code> it <b>belongs_to</b>, so you need to add the reference to <code>:organization</code> in your <code>Actioncode</code> migration (or create another migration that makes those changes)"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1430911243, "post_id": 30074676, "comment_id": 48263755, "body": "I tried <code>t.belongs_to :organization, index: true</code> in the actioncodes migration file (I tried it with and without including <code>foreign_key: true</code>), and <code>has_one :actioncode</code> in the organization model file. When I try to seed this still produces the error <code>ActiveRecord::AssociationTypeMismatch: Actioncode(#36377580) expected, got Fixnum(#6043080)</code>. So it still seems to expect an actioncode for each organization."}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431685418, "post_id": 30074676, "comment_id": 48613874, "body": "If creating an additional association model would be the way to go, would the setup mentioned in the update be correct?"}], "tags": [], "owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "is_accepted": false, "score": 1, "last_activity_date": 1430911449, "last_edit_date": 1430911449, "creation_date": 1430909619, "answer_id": 30074676, "question_id": 30074497, "link": "https://stackoverflow.com/questions/30074497/what-would-be-the-appropriate-model-association/30074676#30074676", "title": "What would be the appropriate model association?", "body": "<p>You have a logic/flow problem here.</p>\n\n<p><code>Organization</code> shouldn't belong to <code>Actioncode</code>, if anything an <code>Organization</code> can <strong>own</strong> one code. Or not. That's why</p>\n\n<p>Organization</p>\n\n<pre><code>has_one :actioncode\n</code></pre>\n\n<p>Actioncode</p>\n\n<pre><code>belongs_to :organization\n</code></pre>\n\n<p>That way <code>Organization</code> won't hold the <code>actioncode_id</code>, but <code>Actioncode</code> will hold <code>organization_id</code>.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>Do as I mentioned above and make <code>Actioncode</code> posess a <code>type</code> or <code>value</code> field which would contain a <code>'AC-08821'</code> string for example. That way you could maintain the relations expected between those two models and still be able to e.g. search for all codes with the same <code>value</code>.</p>\n\n<p><strong>OR</strong></p>\n\n<p>Create an association table, for example using <code>has_and_belongs_to_many</code></p>\n\n<p>More info here: <a href=\"http://guides.rubyonrails.org/association_basics.html#choosing-between-has-many-through-and-has-and-belongs-to-many\" rel=\"nofollow\">http://guides.rubyonrails.org/association_basics.html#choosing-between-has-many-through-and-has-and-belongs-to-many</a></p>\n\n<p>Basically you create another table which represents a connection between the two models.</p>\n"}, {"comments": [{"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431597408, "post_id": 30223290, "comment_id": 48570865, "body": "Thanks, so I think I should first upgrade to PostgreSQL to test if it then works. I was already using it in production but SQLite in development. I&#39;ll post back once I have upgraded (so far without success: <a href=\"http://stackoverflow.com/questions/30233999/postgresql-could-not-connect-to-server-connection-timed-out\" title=\"postgresql could not connect to server connection timed out\">stackoverflow.com/questions/30233999/&hellip;</a>)"}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431626246, "post_id": 30223290, "comment_id": 48589148, "body": "Yes, you should definitely use the same DB for development and production."}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431684693, "post_id": 30223290, "comment_id": 48613433, "body": "I&#39;ve upgraded to PostgreSQL. I used <code>rake db:drop</code> and then <code>rake db:setup</code> with the three lines at the beginning of the original post included in the code. Unfortunately, on seeding I still get the same error message."}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431700926, "post_id": 30223290, "comment_id": 48624530, "body": "Can you show the SQL that the migration used to create the table and add the foreign key"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431702864, "post_id": 30223290, "comment_id": 48625847, "body": "I&#39;ve added the SQL of the migration to the original post. I left out the SQL for the other tables (included actioncode and organization)."}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431883546, "post_id": 30223290, "comment_id": 48676528, "body": "I also added information in that when I keep the three lines in the migration file but leave out <code>index: true, foreign_key: true</code> in the first line, that it does migrate without errors. I don&#39;t understand what could be causing the error message. I don&#39;t belief I have deferred anywhere from naming conventions."}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431891354, "post_id": 30223290, "comment_id": 48679209, "body": "It turned out that the migration order was the problem. It migrated Organizations before Actionmodels. See: <a href=\"http://stackoverflow.com/questions/30290250/pgundefinedtable-error-relation-does-not-exist\" title=\"pgundefinedtable error relation does not exist\">stackoverflow.com/questions/30290250/&hellip;</a>"}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1431899356, "post_id": 30223290, "comment_id": 48681462, "body": "Good news. Funny how these things can throw you down the wrong path."}], "tags": [], "owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "is_accepted": true, "score": 1, "last_activity_date": 1431543985, "creation_date": 1431543985, "answer_id": 30223290, "question_id": 30074497, "link": "https://stackoverflow.com/questions/30074497/what-would-be-the-appropriate-model-association/30223290#30223290", "title": "What would be the appropriate model association?", "body": "<p>Based on, \"... an organization has no or 1 actioncode and an actioncode can be used by many organizations\", your modelling is correct, it's just that the foreign key that has been created by the migration does not allow nulls in the actioncode_id column. You might check the migration SQL to see what command is used.</p>\n\n<p>Maybe the database you're using doesn't allow nil foreign key columns, but most do. You might have to construct the foreign key with SQL instead of with Rails in order to allow nulls.</p>\n\n<p>From the postgresql docs: <a href=\"http://www.postgresql.org/docs/9.3/static/ddl-constraints.html\" rel=\"nofollow\">http://www.postgresql.org/docs/9.3/static/ddl-constraints.html</a></p>\n\n<blockquote>\n  <p>Now it is impossible to create orders with non-NULL product_no entries that do not appear in the products table.</p>\n</blockquote>\n\n<p>Note, \"... with non-NULL product_no entries ...\", null entries should be fine, and your modelling is correct.</p>\n"}], "owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 30223290, "answer_count": 2, "score": 0, "last_activity_date": 1431883849, "creation_date": 1430909143, "last_edit_date": 1431883849, "question_id": 30074497, "link": "https://stackoverflow.com/questions/30074497/what-would-be-the-appropriate-model-association", "title": "What would be the appropriate model association?", "body": "<p>I have an Organization and Actioncode model. When signing up for a premium account, an organization can enter an actioncode for a discount. Hence, an organization has used no or 1 actioncode, while an actioncode can be used by many organizations.</p>\n\n<p><strong>Current association:</strong></p>\n\n<pre><code>Organizations migration file:  t.references :actioncode,   index: true,    foreign_key: true\nOrganization model:            belongs_to :actioncode\nActioncode model:              has_many :organizations\n</code></pre>\n\n<p><strong>Initial problem with this setup: actioncode_id should not be mandatory</strong> On seeding I used to get the error code <code>ActiveRecord::AssociationTypeMismatch: Actioncode(#23575660) expected, got Fixnum(#5494220)</code>. The cause seemed to be that actioncode_id had become a mandatory column in the Organization model. This should not be the case; actioncode should also be able to be <code>nil</code> as an organization may also <em>not</em> use/have any actioncode when paying for a premium account. </p>\n\n<p><strong>Current situation: After upgrading to PostgreSQL:</strong> In response I've upgraded my db to PostgreSQL. Nevertheless, now on migration I get the error message (see full message at bottom of post):</p>\n\n<blockquote>\n  <p>PG::UndefinedTable: ERROR:  relation \"actioncodes\" does not exist</p>\n</blockquote>\n\n<p><strong>The error message:</strong> Any ideas what is causing this error? Removing the three lines under 'current association' and I have no problems with migration and seeding. In fact, keeping all three lines but removing <code>index: true, foreign_key: true</code> from the first line and it also migrates correctly. When I keep <code>index: true</code> on migration it gives the error: <code>SyntaxError: xxx_create_organizations.rb:17: syntax error, unexpected tSYMBEG, expecting =&gt; t.boolean :activated</code>. When I keep <code>foreign_key: true</code> it produces the original error message <code>PG::UndefinedTable</code>.</p>\n\n<p>And if I change the first line to the incorrect code of: <code>t.references :actioncode_id, index: true, foreign_key: true</code> it gives as the following error: </p>\n\n<pre><code>PG::UndefinedTable: ERROR:  relation \"actioncode_ids\" does not exist\n: ALTER TABLE \"organizations\" ADD CONSTRAINT \"fk_rails_604f95d1a1\"\nFOREIGN KEY (\"actioncode_id_id\")\n  REFERENCES \"actioncode_ids\" (\"id\")\n</code></pre>\n\n<p>So given _ids on the last line, Rails somehow does seem to have problems with the name of the table. Adding <code>self.table_name = 'actioncodes'</code> to the actioncode model file makes no difference. What to do?</p>\n\n<hr>\n\n<p><em>Alternative associations:</em></p>\n\n<p>I wonder if I need an alternative association to meet my need. I've looked into several other associations but am unsure what to do. Best case scenario I just have a column in the organization model that includes the used actioncode or is nil if no actioncode was used. I need a model association to for example print all the organizations that have used a specific actioncode.</p>\n\n<p><strong>Alternative association 1:</strong> Problem with this association is that actioncode remains a mandatory variable in the organization model and thus cannot be nil.</p>\n\n<pre><code>Organization migration:  t.references :actioncode,   index: true,    foreign_key: true\nOrganization model:      has_one :actioncode\nActioncode model:        has_many :organizations\n</code></pre>\n\n<p><strong>Alternative association 2:</strong> This association would hold the organization_id in the actioncodes table (I guess as an array), while from my perspective it would make much more sense to include the actioncode_id in the organization table. Also, the code below still expects an actioncode for each organization.</p>\n\n<pre><code>Organization model:          has_one :actioncode\nActioncodes migration file:  t.belongs_to :organization, index: true\n</code></pre>\n\n<p><strong>Alternative association 3:</strong> I've also looked at creating an additional association model but it makes me wonder if I'm not overthinking things when I would follow this strategy, as this would add an extra table/model. Also, I'm unsure if the organization model below wouldn't still require a value for discount, thereby not really solving the original problem. But if this would be the way to go, I was thinking of:</p>\n\n<pre><code>Organization model:    has_one :discount\n                       has_one :actioncode, through: :discount\nDiscount model:        belongs_to :organization\n                       has_one :actioncode\nActioncode model:      belongs_to :discount\nDiscount migration:    t.belongs_to :organization, index: true\n                       doesn;t need any other columns\nActioncode migration:  t.belongs_to :discount, index: true\n</code></pre>\n\n<p><strong>Alternative association 4:</strong> Lastly, the has_and_belongs_to_many Association didn't make sense to me since how I understand it that's intended for a many:many relationship, while organization:actioncode is a many:1/0 relationship.</p>\n\n<p><strong>What setup should I use and doesn't have actioncode as a mandatory variable for an organization?</strong></p>\n\n<hr>\n\n<p><strong>Additional information:</strong> The SQL from running <code>rake db:migrate</code> after <code>rake db:drop</code> and <code>rake db:create</code>):</p>\n\n<pre><code>== 20150410153815 CreateUsers: migrating ===============================\n-- create_table(:users)\n   -&gt; 0.0582s\n== 20150410153815 CreateUsers: migrated (0.0628s) ======================\n\n== 20150410200022 AddIndexToUsersEmailAndUsername: migrating ===========\n-- add_index(:users, :email, {:unique=&gt;true})\n   -&gt; 0.0109s\n-- add_index(:users, :username, {:unique=&gt;true})\n   -&gt; 0.0100s\n== 20150410200022 AddIndexToUsersEmailAndUsername: migrated (0.0219s) ==\n\n== 20150416113853 CreateOrganizations: migrating ==============================\n-- create_table(:organizations)\nrake aborted!\nStandardError: An error has occurred, this and all later migrations canceled:\n\nPG::UndefinedTable: ERROR:  relation \"actioncodes\" does not exist\n: ALTER TABLE \"organizations\" ADD CONSTRAINT \"fk_rails_4ecaa2493e\"\nFOREIGN KEY (\"actioncode_id\")\n  REFERENCES \"actioncodes\" (\"id\")\n/usr/local/rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql/database_statements.rb:155:in `async_exec'\n&lt;&lt;SNIP&gt;&gt;\nActiveRecord::StatementInvalid: PG::UndefinedTable: ERROR:  relation \"actioncodes\" does not exist\n: ALTER TABLE \"organizations\" ADD CONSTRAINT \"fk_rails_4ecaa2493e\"\nFOREIGN KEY (\"actioncode_id\")\n  REFERENCES \"actioncodes\" (\"id\")\n/usr/local/rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql/database_statements.rb:155:in `async_exec'\n&lt;&lt;SNIP&gt;&gt;\n</code></pre>\n\n<p><strong>Additional information:</strong> The SQL from the migration running the current association (running <code>rake db:drop</code> and then <code>rake db:setup</code>):</p>\n\n<pre><code>-- enable_extension(\"plpgsql\")\n   -&gt; 0.0664s\n-- create_table(\"actioncodes\", {:force=&gt;:cascade})\n   -&gt; 0.0412s\n-- add_index(\"actioncodes\", [\"actioncode\"], {:name=&gt;\"index_actioncodes_on_actioncode\", :unique=&gt;true, :using=&gt;:btree})\n   -&gt; 0.0217s\n-- create_table(\"organizations\", {:force=&gt;:cascade})\n   -&gt; 0.0237s\n-- add_index(\"organizations\", [\"summ\"], {:name=&gt;\"index_organizations_on_summ\", :unique=&gt;true, :using=&gt;:btree})\n   -&gt; 0.0106s\n-- add_index(\"organizations\", [\"name\"], {:name=&gt;\"index_organizations_on_name\", :unique=&gt;true, :using=&gt;:btree})\n   -&gt; 0.0197s\n&lt;&lt;SNIP, OTHER TABLES &gt;&gt;\n-- initialize_schema_migrations_table()\n   -&gt; 0.0352s\n-- enable_extension(\"plpgsql\")\n   -&gt; 0.0405s\n-- create_table(\"actioncodes\", {:force=&gt;:cascade})\n   -&gt; 0.0176s\n-- add_index(\"actioncodes\", [\"actioncode\"], {:name=&gt;\"index_actioncodes_on_actioncode\", :unique=&gt;true, :using=&gt;:btree})\n   -&gt; 0.0085s\n-- create_table(\"organizations\", {:force=&gt;:cascade})\n   -&gt; 0.0148s\n-- add_index(\"organizations\", [\"summ\"], {:name=&gt;\"index_organizations_on_summ\", :unique=&gt;true, :using=&gt;:btree})\n   -&gt; 0.0113s\n-- add_index(\"organizations\", [\"name\"], {:name=&gt;\"index_organizations_on_name\", :unique=&gt;true, :using=&gt;:btree})\n   -&gt; 0.0195s\n&lt;&lt;SNIP, OTHER TABLES &gt;&gt;\n-- initialize_schema_migrations_table()\n   -&gt; 0.0342s\nrake aborted!\nActiveRecord::AssociationTypeMismatch: Actioncode(#39911240) expected, got Fixnum(#20092360)\n/usr/local/rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/associations/association.rb:216:in `raise_on_type_mismatch!'\n&lt;&lt;SNIP &gt;&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4870060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b46203562df3c6456955ea69b55ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Brett A", "link": "https://stackoverflow.com/users/4870060/brett-a"}, "edited": false, "score": 0, "creation_date": 1430958225, "post_id": 30074572, "comment_id": 48292706, "body": "Thank you.  This still didn&#39;t work for me.  I have added an answer with what I was able to get to work"}], "tags": [], "owner": {"reputation": 2467, "user_id": 3703048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/953952e7b8c1e4929c87cd7eec72bc51?s=128&d=identicon&r=PG", "display_name": "Shahzad Tariq", "link": "https://stackoverflow.com/users/3703048/shahzad-tariq"}, "is_accepted": false, "score": 0, "last_activity_date": 1430910991, "last_edit_date": 1430910991, "creation_date": 1430909333, "answer_id": 30074572, "question_id": 30074433, "link": "https://stackoverflow.com/questions/30074433/rails-cant-display-postgres-array-count-results-in-view/30074572#30074572", "title": "rails, can&#39;t display postgres array count results in view", "body": "<p>Count is an attribute, try this like</p>\n\n<pre><code> &lt;% @deployment.each do |e| %&gt;\n   &lt;%= e['deployed'] %&gt; &lt;%= e['count'] %&gt;\n &lt;% end %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4870060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b46203562df3c6456955ea69b55ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Brett A", "link": "https://stackoverflow.com/users/4870060/brett-a"}, "edited": false, "score": 0, "creation_date": 1430958220, "post_id": 30075079, "comment_id": 48292702, "body": "Thank you.  This still didn&#39;t work for me.  I have added an answer with what I was able to get to work"}], "tags": [], "owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1430910759, "creation_date": 1430910759, "answer_id": 30075079, "question_id": 30074433, "link": "https://stackoverflow.com/questions/30074433/rails-cant-display-postgres-array-count-results-in-view/30075079#30075079", "title": "rails, can&#39;t display postgres array count results in view", "body": "<p>As query returns results in hashes so you would have to do it like this</p>\n\n<pre><code> &lt;% @deployment.each do |e| %&gt;\n   &lt;%= e['deployed'] %&gt; &lt;%= e['count'] %&gt;\n &lt;% end %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4870060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b46203562df3c6456955ea69b55ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Brett A", "link": "https://stackoverflow.com/users/4870060/brett-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1430958408, "creation_date": 1430958408, "answer_id": 30089905, "question_id": 30074433, "link": "https://stackoverflow.com/questions/30074433/rails-cant-display-postgres-array-count-results-in-view/30089905#30089905", "title": "rails, can&#39;t display postgres array count results in view", "body": "<p>I was able to use this approach to the hash results</p>\n\n<pre><code>&lt;% @deployment.each do |key, value| %&gt;\n  &lt;%= key %&gt; &lt;%= value %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4870060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b46203562df3c6456955ea69b55ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Brett A", "link": "https://stackoverflow.com/users/4870060/brett-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 30089905, "answer_count": 3, "score": 1, "last_activity_date": 1430958408, "creation_date": 1430908978, "last_edit_date": 1430913426, "question_id": 30074433, "link": "https://stackoverflow.com/questions/30074433/rails-cant-display-postgres-array-count-results-in-view", "title": "rails, can&#39;t display postgres array count results in view", "body": "<p>Rails 4.2.1 Ruby 2.0.0</p>\n\n<p>I want to display the results of a postgres array count query as a simple table in a rails view.  The table should have 2 columns; deployed and count.</p>\n\n<p>I am able to successfully query postgres using the following SQL </p>\n\n<pre><code>select unnest(deployed), count(deployed) from current_customer_profiles group by current_customer_profiles.deployed;\n</code></pre>\n\n<p>The results of the postgres query are</p>\n\n<pre><code>deployed | count\n\non prem  | 4\n\nsaas     | 2\n</code></pre>\n\n<p>I have tried using <code>select_rows</code> and <code>find_by_sql</code> in rails:</p>\n\n<pre><code>@deployment = CurrentCustomerProfile.connection.select_rows('select unnest(deployed) as deployed, count(deployed) as count from current_customer_profiles group by current_customer_profiles.deployed')\n\n@deployment = CurrentCustomerProfile.find_by_sql(%q{select unnest(deployed) as deployed, count(deployed) as count from current_customer_profiles group by current_customer_profiles.deployed})\n</code></pre>\n\n<p>I have tried many different ways to get the data to display as a simple table in a rails view.</p>\n\n<p>The problems that I have faced are:</p>\n\n<ol>\n<li>The string (deploy column) is shown as [] in the view instead of the value (interestingly the count displays fine, so the result looks like; [] 4 and [] 2)</li>\n<li>The results are returned as a string of the deployed column and count, i.e. \"on prem 4\" instead of two columns, on prem, 4</li>\n</ol>\n\n<p>Below are two view examples I have tried (in respective order of the two items above):</p>\n\n<pre><code>&lt;% @deployment.each do |e| %&gt;\n    &lt;%= e.deployed %&gt; &lt;%= e.count %&gt;\n&lt;% end %&gt;\n\n\n&lt;% @deployment.each do |b| %&gt;\n    &lt;% b.each do |bb| %&gt;\n     &lt;%= bb %&gt;\n        &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>How can I display the results of a count of the items in a postgres array in a table in a rails view?  This is my first post on stack overflow so please let me know if I should provide more information.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rails-activerecord", "models", "model-associations"], "comments": [{"owner": {"reputation": 4205, "user_id": 3102766, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NXF1I.jpg?s=128&g=1", "display_name": "tirdadc", "link": "https://stackoverflow.com/users/3102766/tirdadc"}, "edited": false, "score": 0, "creation_date": 1430916027, "post_id": 30074351, "comment_id": 48267285, "body": "Can a job have more than one worker user?"}], "answers": [{"tags": [], "owner": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "is_accepted": false, "score": 0, "last_activity_date": 1430910594, "creation_date": 1430910594, "answer_id": 30075015, "question_id": 30074351, "link": "https://stackoverflow.com/questions/30074351/how-to-obtain-different-type-of-collections-for-the-same-model-in-an-association/30075015#30075015", "title": "How to obtain different type of collections for the same Model in an Association in Rails 4?", "body": "<p>you can use <a href=\"http://apidock.com/rails/Enumerable/group_by\" rel=\"nofollow\">group_by</a>..example like this if you have <code>Job</code> and <code>Proposal</code> model..so you can do something like..</p>\n\n<pre><code>@results = @results.group_by(&amp;:class)\n@jobs = @results[Job]\n@proposals = @results[Proposal] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 4849163, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/efrZ0.jpg?s=128&g=1", "display_name": "Andres", "link": "https://stackoverflow.com/users/4849163/andres"}, "edited": false, "score": 0, "creation_date": 1430915018, "post_id": 30076428, "comment_id": 48266485, "body": "Thanks for your response. Does this mean that the subscribed jobs cannot be handled as a model collection like @user.jobs, and has to be &#39;accessed&#39; the way you specified?"}], "tags": [], "owner": {"reputation": 79, "user_id": 4850661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f7193735eb81ee0e4264e12ec3140c?s=128&d=identicon&r=PG&f=1", "display_name": "Francesco Pirrone", "link": "https://stackoverflow.com/users/4850661/francesco-pirrone"}, "is_accepted": false, "score": 0, "last_activity_date": 1430917745, "last_edit_date": 1430917745, "creation_date": 1430914432, "answer_id": 30076428, "question_id": 30074351, "link": "https://stackoverflow.com/questions/30074351/how-to-obtain-different-type-of-collections-for-the-same-model-in-an-association/30076428#30076428", "title": "How to obtain different type of collections for the same Model in an Association in Rails 4?", "body": "<p>So</p>\n\n<pre><code>@user.jobs.all #list of all jobs posted by the user\n</code></pre>\n\n<p>If u want the list of jobs subscribed by the user you have to do some more work</p>\n\n<pre><code>#subscribeds = [] if u want only the list of jobs subscribeds but not posted\nsubscribeds = @user.jobs.all # if u want the list of all jobs related to user\n@user.proposals.each do |proposal| \n     @subscribeds &lt;&lt; proposal.job\nend\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>For a direct way to handle the models you can go this way: </p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n   has_many :proposals\n   has_many :subscribeds_jobs, class_name: 'Job', through: :proposals\n   has_many :jobs\n   def all_jobs\n      return self.jobs.all + self.subscribeds.jobs.all\n   end\nend\n</code></pre>\n\n<p>This way Rails will recover the proposals jobs by records association.</p>\n"}, {"tags": [], "owner": {"reputation": 4205, "user_id": 3102766, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NXF1I.jpg?s=128&g=1", "display_name": "tirdadc", "link": "https://stackoverflow.com/users/3102766/tirdadc"}, "is_accepted": true, "score": 1, "last_activity_date": 1430916696, "last_edit_date": 1495542685, "creation_date": 1430916696, "answer_id": 30077324, "question_id": 30074351, "link": "https://stackoverflow.com/questions/30074351/how-to-obtain-different-type-of-collections-for-the-same-model-in-an-association/30077324#30077324", "title": "How to obtain different type of collections for the same Model in an Association in Rails 4?", "body": "<p>Assuming your Job can only have one worker that is set when a Proposal is accepted, you'd want something like this:</p>\n\n<pre><code>class Job &lt; ActiveRecord::Base\n   belongs_to :poster, class_name: 'User', foreign_key: 'poster_id'\n   belongs_to :worker, class_name: 'User', foreign_key: 'worker_id'\n   has_many :proposals, dependent: :destroy\nend\n\nclass User &lt; ActiveRecord::Base\n   has_many :posted_jobs, class_name: 'Job', foreign_key: 'poster_id', dependent: :destroy\n   has_many :current_jobs, class_name: 'Job', foreign_key: 'worker_id'\n   has_many :proposals, through: :jobs\nend\n\nclass Proposal &lt; ActiveRecord::Base\n    belongs_to :job\n    belongs_to :user\nend\n</code></pre>\n\n<p>With this approach, you can get user.posted_jobs and user.current_jobs.</p>\n\n<p>See this: <a href=\"https://stackoverflow.com/questions/5294775/same-model-for-two-belongs-to-associations\">Same Model for Two belongs_to Associations</a></p>\n"}], "owner": {"reputation": 75, "user_id": 4849163, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/efrZ0.jpg?s=128&g=1", "display_name": "Andres", "link": "https://stackoverflow.com/users/4849163/andres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 30077324, "answer_count": 3, "score": 1, "last_activity_date": 1430917745, "creation_date": 1430908711, "last_edit_date": 1430913459, "question_id": 30074351, "link": "https://stackoverflow.com/questions/30074351/how-to-obtain-different-type-of-collections-for-the-same-model-in-an-association", "title": "How to obtain different type of collections for the same Model in an Association in Rails 4?", "body": "<p>In my application I have a User model and a Job model. Users can post many jobs, and other users can apply to these jobs by posting proposals. The job poster can then select a user from the list of users who have applied, later this user will be assigned to work on this job.</p>\n\n<p>This means that the Job model should have two kinds of foreign keys for User, maybe something like poster_id and worker_id.</p>\n\n<p>Currently my models look like this:</p>\n\n<pre><code>class Job &lt; ActiveRecord::Base\n   belongs_to :user\n   has_many :proposals, dependent: :destroy\nend\n\nclass User &lt; ActiveRecord::Base\n   has_many :jobs, dependent: :destroy\n   has_many :proposals, through: :jobs\nend\n\nclass Proposal &lt; ActiveRecord::Base\n    belongs_to :job\n    belongs_to :user\nend\n</code></pre>\n\n<p>My question is, what are the correct associations between these models in order to work the way I described?</p>\n\n<p>For example, I need to access the posted jobs of a certain user, as well as the jobs this user is subscribed to (worker_id). These are different collections, but of the same model Job...</p>\n\n<p>Something like:</p>\n\n<pre><code>@user.posted_jobs.all\n@user.current_jobs.all\n</code></pre>\n\n<p>These would return different Jobs for the same @user.</p>\n\n<p>Would really appreciate help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "rails-activerecord"], "answers": [{"tags": [], "owner": {"reputation": 32682, "user_id": 120518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/edf1077f9152b361937f12707e3af891?s=128&d=identicon&r=PG", "display_name": "Shadwell", "link": "https://stackoverflow.com/users/120518/shadwell"}, "is_accepted": true, "score": 1, "last_activity_date": 1430909318, "creation_date": 1430909318, "answer_id": 30074570, "question_id": 30074349, "link": "https://stackoverflow.com/questions/30074349/not-in-rewhere-active-record-rails/30074570#30074570", "title": "not in rewhere active record rails", "body": "<p>You might have to <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-unscope\" rel=\"nofollow\"><code>unscope</code></a> your name condition and add it again:</p>\n\n<pre><code>Field.where(name: 'Bukk').unscope(where: :name).where.not(name: 'Tolgy')\n</code></pre>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-rewhere\" rel=\"nofollow\"><code>rewhere</code></a> uses <code>unscope</code> to do its work anyway.</p>\n"}], "owner": {"reputation": 2871, "user_id": 443501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49a21b86a7574b48ac486b5880146b49?s=128&d=identicon&r=PG", "display_name": "Boti", "link": "https://stackoverflow.com/users/443501/boti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 30074570, "answer_count": 1, "score": 0, "last_activity_date": 1430918775, "creation_date": 1430908710, "last_edit_date": 1430918775, "question_id": 30074349, "link": "https://stackoverflow.com/questions/30074349/not-in-rewhere-active-record-rails", "title": "not in rewhere active record rails", "body": "<p>How can I use the 'not' together with the 'rewhere' statement in active_record?</p>\n\n<p>bad example (not working):</p>\n\n<pre><code>Field.where(name: 'Bukk').rewhere.not(name: 'Tolgy')\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "forms", "ruby-on-rails-4", "search"], "comments": [{"owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "edited": false, "score": 0, "creation_date": 1430909130, "post_id": 30074346, "comment_id": 48262350, "body": "run your server in development mode and see the error log. or paste your production log"}, {"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1430909944, "post_id": 30074346, "comment_id": 48262888, "body": "your search action in the products controller isn&#39;t rendering/redirecting"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4225838, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rt08HP9SaP4/AAAAAAAAAAI/AAAAAAAAAB0/2pEpGZEyySU/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0441\u0435\u043d\u0438\u0439 \u041f\u043b\u0430\u043a\u0441\u0438\u043d", "link": "https://stackoverflow.com/users/4225838/%d0%90%d1%80%d1%81%d0%b5%d0%bd%d0%b8%d0%b9-%d0%9f%d0%bb%d0%b0%d0%ba%d1%81%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1430982960, "post_id": 30079354, "comment_id": 48300773, "body": "Do you mean file log/test.log ? or log/development.log ?"}, {"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "reply_to_user": {"reputation": 13, "user_id": 4225838, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rt08HP9SaP4/AAAAAAAAAAI/AAAAAAAAAB0/2pEpGZEyySU/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0441\u0435\u043d\u0438\u0439 \u041f\u043b\u0430\u043a\u0441\u0438\u043d", "link": "https://stackoverflow.com/users/4225838/%d0%90%d1%80%d1%81%d0%b5%d0%bd%d0%b8%d0%b9-%d0%9f%d0%bb%d0%b0%d0%ba%d1%81%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1430991525, "post_id": 30079354, "comment_id": 48306302, "body": "development.log file or screenshot of your console when you get this error."}], "tags": [], "owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "is_accepted": false, "score": 0, "last_activity_date": 1430921712, "creation_date": 1430921712, "answer_id": 30079354, "question_id": 30074346, "link": "https://stackoverflow.com/questions/30074346/simple-search-form-error-rails-4/30079354#30079354", "title": "Simple search form Error Rails 4", "body": "<p>There is no problem in your code. Your code should run absolutely fine. I guess you are missing some logs info. Its better to share screen shot of your log file so that we can see if any valuable info is missing.</p>\n"}], "owner": {"reputation": 13, "user_id": 4225838, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rt08HP9SaP4/AAAAAAAAAAI/AAAAAAAAAB0/2pEpGZEyySU/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0441\u0435\u043d\u0438\u0439 \u041f\u043b\u0430\u043a\u0441\u0438\u043d", "link": "https://stackoverflow.com/users/4225838/%d0%90%d1%80%d1%81%d0%b5%d0%bd%d0%b8%d0%b9-%d0%9f%d0%bb%d0%b0%d0%ba%d1%81%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430921712, "creation_date": 1430908706, "last_edit_date": 1430909493, "question_id": 30074346, "link": "https://stackoverflow.com/questions/30074346/simple-search-form-error-rails-4", "title": "Simple search form Error Rails 4", "body": "<p>I am trying to add a simple search form in layout in my application.It should search products by title or description.I created partials, methods in Products model, but when I try to put render _search into application.html.erb, it crashes the application with \"We're sorry, but something went wrong.\" Any ideas how to fix that?\nFiles:</p>\n\n<p>app/models/product.rb</p>\n\n<pre><code>class Product &lt; ActiveRecord::Base\n#...\ndef self.search(search)\n    search_condition = \"%\" + search + \"%\"\n    find(:all, :conditions =&gt; ['title LIKE ? OR description LIKE ?', search_condition, search_condition])\n  end\n\n  #...\n</code></pre>\n\n<p>app/controllers/products_controller.rb</p>\n\n<pre><code>class ProductsController &lt; ApplicationController\n  before_action :set_product, only: [:show, :edit, :update, :destroy]\n#...\n def search\n      @products = Product.search params[:search]\n  end\n#...\n</code></pre>\n\n<p>app/views/products/_search.html.erb</p>\n\n<pre><code>&lt;%= form_tag :controller =&gt; 'products', :action =&gt; 'search', :method =&gt; 'get' do %&gt;\n      &lt;%= text_field_tag :search, params[:search], :id =&gt; 'search_field' %&gt;\n      &lt;%= submit_tag \"Search\", :name =&gt; nil %&gt; \n      &lt;%= link_to_function \"Clear\", \"$('search_field').clear()\" %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>app/views/products/_search_results.html.erb</p>\n\n<pre><code>    &lt;ul&gt;\n     &lt;% @products.each do |product| %&gt;\n &lt;li&gt;&lt;%= link_to product.title, :action =&gt; 'show', :id =&gt; product.id  %&gt;&lt;/li&gt;\n      &lt;% end %&gt;\n      &lt;/ul&gt;\n</code></pre>\n\n<p>app/views/layouts/application.html.erb</p>\n\n<pre><code>&lt;!DOCTYPE html&gt; &lt;%# \u042d\u0442\u043e \u0444\u0430\u0439\u043b \u043c\u0430\u043a\u0435\u0442\u0430-\u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0432\u0435\u0431-\u0441\u0442\u0440\u0430\u043d\u0438\u0446%&gt;\n&lt;html&gt;\n\n\n\n&lt;head&gt;\n\n  &lt;title&gt;MyGift.com&lt;/title&gt; \n...\n&lt;div id=\"search\"&gt;\n   &lt;%= render :partial =&gt; \"products/search\" %&gt;\n&lt;/div&gt;\n\n...\n</code></pre>\n\n<p>The error from server console:\n Rendered store/index.html.erb within layouts/application (9.5ms)\n  Rendered products/_search.html.erb (0.9ms)\nCompleted 500 Internal Server Error in 499ms</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "asset-pipeline"], "comments": [{"owner": {"reputation": 39, "user_id": 1498444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5WNlE.jpg?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/1498444/sandeep"}, "edited": false, "score": 0, "creation_date": 1430910545, "post_id": 30074296, "comment_id": 48263295, "body": "Thanks for the edits Akarienta."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 1498444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5WNlE.jpg?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/1498444/sandeep"}, "edited": false, "score": 0, "creation_date": 1431010351, "post_id": 30077315, "comment_id": 48320390, "body": "Hi Connor,   Many thanks for such an elaborate response. What you have suggested could be quite relevant in my case. I will optimise my application.js file based on your suggestions."}], "tags": [], "owner": {"reputation": 1592, "user_id": 4271743, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Nivk1.jpg?s=128&g=1", "display_name": "ConnorCMcKee", "link": "https://stackoverflow.com/users/4271743/connorcmckee"}, "is_accepted": true, "score": 5, "last_activity_date": 1431026274, "last_edit_date": 1431026274, "creation_date": 1430916691, "answer_id": 30077315, "question_id": 30074296, "link": "https://stackoverflow.com/questions/30074296/application-js-more-than-1-mb-rails/30077315#30077315", "title": "Application.js more than 1 Mb rails", "body": "<p><em>This may not be feasible in your particular case, but has certainly helped me keep Application.js from bloating.</em></p>\n\n<p>As I'm sure you know, Application.js compiles all specified files (by default, all of them) into a single .js file, which is loaded (again, by default) as part of your layout in every page. Often times this results in the inclusion of entirely unnecessary custom scripts loading in every page, and slowing down the entire application. I personally find this behavior undesirable. What I find works for my sites is only including my \"core\" javascript components in Application.js (jquery, bootstrap's js libraries, and any scripts that pertain to layout.html.erb itself), and specifying the rest in the pages that need them. For example:</p>\n\n<h2>application.js</h2>\n\n<p>Note that it does NOT include <code>require tree .</code>. This is important, as that is the line which specifies the inclusion of the entire assets/javascripts folder. \"Template\" in this case is the .js file a defined which pertains to layout.html.erb</p>\n\n<pre><code>//= require jquery\n//= require jquery.turbolinks\n//= require jquery_ujs\n//= require bootstrap-sprockets\n//= require template\n//= require turbolinks\n</code></pre>\n\n<h2>layout.html.erb</h2>\n\n<p>The following is the very end of my layout, immediately before the closing body tag. This loads application.js on every page, and after that loads any js specified in the view.</p>\n\n<pre><code>&lt;%= javascript_include_tag 'application', 'data-turbolinks-track' =&gt; true %&gt;\n&lt;% if content_for?(:javascript) %&gt;\n    &lt;%= yield :javascript%&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<h2>The View(s)</h2>\n\n<p>In any view that requires page-specific javascript, you may specify the files with a Rails javascript helper</p>\n\n<pre><code>&lt;% content_for :javascript do %&gt;\n   &lt;%= javascript_include_tag 'pages/profile', 'data-turbolinks-track' =&gt; true %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<h2>initializers/assets.rb</h2>\n\n<p>Finally, make sure that your scripts are still being precompiled, even though they aren't a part of Application.js.</p>\n\n<pre><code>Rails.application.config.assets.precompile += %w( pages/profile.js )\n</code></pre>\n\n<p>...or, more efficiently assuming you have many pages with their own scripts...</p>\n\n<pre><code>Rails.application.config.assets.precompile += %w( pages/* )\n</code></pre>\n\n<h2>In Conclusion</h2>\n\n<p>I find this  technique really helps keep the size of Application.js down, and makes for good practice in general. I hope you find it useful, and apologize if it is extraneous to your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 1241104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbP0r.jpg?s=128&g=1", "display_name": "jensblond", "link": "https://stackoverflow.com/users/1241104/jensblond"}, "is_accepted": false, "score": 1, "last_activity_date": 1430916761, "creation_date": 1430916761, "answer_id": 30077358, "question_id": 30074296, "link": "https://stackoverflow.com/questions/30074296/application-js-more-than-1-mb-rails/30077358#30077358", "title": "Application.js more than 1 Mb rails", "body": "<p>Have you ever thought about using the CDN hosted jQuery Version? Could you provide your uncompiled application.js.</p>\n\n<p>You could also try to use <a href=\"http://browserify.org\" rel=\"nofollow\">browserify</a> or <a href=\"http://requirejs.org/\" rel=\"nofollow\">require.js</a></p>\n"}], "owner": {"reputation": 39, "user_id": 1498444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5WNlE.jpg?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/1498444/sandeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 1, "accepted_answer_id": 30077315, "answer_count": 2, "score": 0, "last_activity_date": 1431026274, "creation_date": 1430908579, "last_edit_date": 1430918784, "question_id": 30074296, "link": "https://stackoverflow.com/questions/30074296/application-js-more-than-1-mb-rails", "title": "Application.js more than 1 Mb rails", "body": "<p>I have a rails application and the <code>application.js</code> after asset compilation takes more than 1 MB. This is slowing down my entire site. </p>\n\n<p>I use Apache, Rails 4, jQuery, quite heavy JavaScript and AJAX. I would be very grateful if someone could point me in the right direction. </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "edited": false, "score": 0, "creation_date": 1430909544, "post_id": 30074203, "comment_id": 48262624, "body": "do you want to use response from <code>event_one</code> into <code>event_two</code> ?"}, {"owner": {"reputation": 3925, "user_id": 732973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf7f32088ada37e7b24af7fa17984e94?s=128&d=identicon&r=PG", "display_name": "alfakini", "link": "https://stackoverflow.com/users/732973/alfakini"}, "edited": false, "score": 0, "creation_date": 1430920749, "post_id": 30074203, "comment_id": 48271274, "body": "What do you mean with ** ?"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4716473, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/26c6d88e370c8421a384bd4cb52c2320?s=128&d=identicon&r=PG&f=1", "display_name": "Gayathri Govindaraj", "link": "https://stackoverflow.com/users/4716473/gayathri-govindaraj"}, "edited": false, "score": 0, "creation_date": 1430911469, "post_id": 30074372, "comment_id": 48263911, "body": "thanks, but i want to reduce my execution time. i don&#39;t want to read the endpoint connection lines again and again."}, {"owner": {"reputation": 732, "user_id": 958503, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AqaXx.png?s=128&g=1", "display_name": "Raza Hussain", "link": "https://stackoverflow.com/users/958503/raza-hussain"}, "reply_to_user": {"reputation": 63, "user_id": 4716473, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/26c6d88e370c8421a384bd4cb52c2320?s=128&d=identicon&r=PG&f=1", "display_name": "Gayathri Govindaraj", "link": "https://stackoverflow.com/users/4716473/gayathri-govindaraj"}, "edited": false, "score": 0, "creation_date": 1430912180, "post_id": 30074372, "comment_id": 48264380, "body": "You can only call this method where it is needed  same kind of question here:  <a href=\"http://stackoverflow.com/questions/9330486/same-instance-variable-for-all-actions-of-a-controller\" title=\"same instance variable for all actions of a controller\">stackoverflow.com/questions/9330486/&hellip;</a>"}], "tags": [], "owner": {"reputation": 732, "user_id": 958503, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AqaXx.png?s=128&g=1", "display_name": "Raza Hussain", "link": "https://stackoverflow.com/users/958503/raza-hussain"}, "is_accepted": false, "score": 1, "last_activity_date": 1430908777, "creation_date": 1430908777, "answer_id": 30074372, "question_id": 30074203, "link": "https://stackoverflow.com/questions/30074203/ruby-instace-variable-scope-in-homecontroller/30074372#30074372", "title": "ruby instace variable scope in homecontroller", "body": "<p>you can achieve use a private method to set evnets</p>\n\n<pre><code>class HomeController &lt; ApplicationController\n  def event_one\n    set_events\n  end\n  def event_two\n    set_events\n  end\nprivate \n\ndef set_events\n    Req = **endpoint.connection**\n    res = req.body**(json format)**  \n    @events = res       \nend\n\nend \n</code></pre>\n\n<p>You can also call this method using filter of you want to set for every action of this controller.</p>\n\n<p>Hope this will help!</p>\n"}, {"comments": [{"owner": {"reputation": 2572, "user_id": 2862049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffd65bc37e559c2c407f064f308828a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Baliak", "link": "https://stackoverflow.com/users/2862049/lukas-baliak"}, "edited": false, "score": 0, "creation_date": 1430910985, "post_id": 30074587, "comment_id": 48263579, "body": "@GB I thing you have error in your code. bcs. this before_action: :set_events, only: [:event_one, :event_two] returns syntax error, unexpected &#39;:&#39;"}, {"owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "reply_to_user": {"reputation": 2572, "user_id": 2862049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffd65bc37e559c2c407f064f308828a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Baliak", "link": "https://stackoverflow.com/users/2862049/lukas-baliak"}, "edited": false, "score": 0, "creation_date": 1430911083, "post_id": 30074587, "comment_id": 48263634, "body": "@LukasBaliak now see the edit. yes there was error. now removed"}], "tags": [], "owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1430911013, "last_edit_date": 1430911013, "creation_date": 1430909374, "answer_id": 30074587, "question_id": 30074203, "link": "https://stackoverflow.com/questions/30074203/ruby-instace-variable-scope-in-homecontroller/30074587#30074587", "title": "ruby instace variable scope in homecontroller", "body": "<p>try using this DRY code:</p>\n\n<pre><code>class HomeController &lt; ApplicationController\n  before_action :set_events, only: [:event_one, :event_two]\n\n  def event_one\n    #your code here\n    # for example puts @events\n  end\n\n  def event_two\n    #your code here\n    # for example puts @events        \n  end\n\n  private \n\n  def set_events\n    req = **endpoint.connection**\n    res = req.body**(json format)**  \n    @events = res       \n  end\n\nend \n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4716473, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/26c6d88e370c8421a384bd4cb52c2320?s=128&d=identicon&r=PG&f=1", "display_name": "Gayathri Govindaraj", "link": "https://stackoverflow.com/users/4716473/gayathri-govindaraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430911013, "creation_date": 1430908329, "last_edit_date": 1430909481, "question_id": 30074203, "link": "https://stackoverflow.com/questions/30074203/ruby-instace-variable-scope-in-homecontroller", "title": "ruby instace variable scope in homecontroller", "body": "<p>i have class HomeController</p>\n\n<pre><code>class HomeController &lt; ApplicationController\n  def event_one\n    Req = **endpoint.connection**\n    res = req.body**(json format)**  \n    @events = res       \n  end\n  def event_two\n    @events\n  end\nend\n</code></pre>\n\n<p>Can i use one instance variable(@events) which got response from endpoint in event_one method,from another event_two method. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 5933, "user_id": 3501228, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/6ocDo.jpg?s=128&g=1", "display_name": "Noman Ur Rehman", "link": "https://stackoverflow.com/users/3501228/noman-ur-rehman"}, "is_accepted": false, "score": 3, "last_activity_date": 1430934187, "last_edit_date": 1592644375, "creation_date": 1430908650, "answer_id": 30074327, "question_id": 30074112, "link": "https://stackoverflow.com/questions/30074112/validations-for-api-build-with-rails/30074327#30074327", "title": "Validations for api build with rails", "body": "<p>From the Rails guide <a href=\"http://guides.rubyonrails.org/active_record_validations.html\" rel=\"nofollow noreferrer\">validation</a> section:</p>\n<blockquote>\n<p>The following methods trigger validations, and will save the object to\nthe database only if the object is valid:</p>\n<p>create<br />\ncreate!<br />\nsave<br />\nsave!<br />\nupdate<br />\nupdate!</p>\n<p>The bang versions (e.g. save!) raise an exception if the record is\ninvalid. The non-bang versions don't, save and update return false,\ncreate just returns the object.</p>\n</blockquote>\n<p>When you create an object using the <code>new</code> method, the validation rules do not fire as the object is not persisted to the database.</p>\n<p>You can call <code>Person.save</code> or <code>Person.save!</code> after <code>Person.new</code> or create a <code>Person</code> object using <code>create</code> or <code>create!</code>. Both of these methods persist the object to the database so a validation error will be raised.</p>\n<p>Also, in your case, you can do something like this:</p>\n<pre><code>Person.new(user_id: @current_user.id, type_id: params[:type_id]).valid? # =&gt; false\n</code></pre>\n<p>This way, you can check if the object is a valid object and then proceed with the rest of your code.</p>\n"}, {"comments": [{"owner": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "edited": false, "score": 0, "creation_date": 1430910724, "post_id": 30074438, "comment_id": 48263426, "body": "Could I also suggest moving this code from an index method to a create method in the person controller? This would a better suited place for this action and free&#39;s up your index method for other logic like list all persons."}], "tags": [], "owner": {"reputation": 221, "user_id": 1021163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee291fdacfed607c169a03e3852274?s=128&d=identicon&r=PG", "display_name": "Jonathan Goodman", "link": "https://stackoverflow.com/users/1021163/jonathan-goodman"}, "is_accepted": true, "score": 1, "last_activity_date": 1430908987, "creation_date": 1430908987, "answer_id": 30074438, "question_id": 30074112, "link": "https://stackoverflow.com/questions/30074112/validations-for-api-build-with-rails/30074438#30074438", "title": "Validations for api build with rails", "body": "<p><code>.new</code> is not going to persist your Person to the database.</p>\n\n<p>Validation will not be carried out unless using <code>.save</code> after <code>.new</code> or in a <code>.create</code> or <code>.create!</code> method.</p>\n\n<p><a href=\"http://guides.rubyonrails.org/active_record_validations.html\" rel=\"nofollow\">Check out point 1.2 here in Rails validation guides \u203a</a></p>\n"}], "owner": {"reputation": 604, "user_id": 2839522, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6fcf4038aacabe58e8bd492c9c204e8e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/2839522/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 30074438, "answer_count": 2, "score": 0, "last_activity_date": 1430934187, "creation_date": 1430908043, "last_edit_date": 1430913495, "question_id": 30074112, "link": "https://stackoverflow.com/questions/30074112/validations-for-api-build-with-rails", "title": "Validations for api build with rails", "body": "<p>I have a model <code>Person</code>.</p>\n\n<p>One controller <code>Api::V1::PersonsController</code></p>\n\n<p>In my controller:</p>\n\n<pre><code>def index\n  @persons = Person.new(user_id: @current_user.id, type_id: params[:type_id]).method\n  render json: @persons, status: :ok\nend\n</code></pre>\n\n<p>In my model:</p>\n\n<pre><code>attr_accessor :user_id, :type_id\nvalidates_presence_of :type_id\n</code></pre>\n\n<p>Also tried:</p>\n\n<pre><code>validates :type_id, :presence =&gt; true\n</code></pre>\n\n<p>When I create my Person with no type_id, I don't get any error, what else do I need to do, or is there a better way of doing this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "circleci"], "answers": [{"tags": [], "owner": {"reputation": 598, "user_id": 4261618, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fqB2U1sB7Qc/AAAAAAAAAAI/AAAAAAAABPc/dGsae9FMi50/photo.jpg?sz=128", "display_name": "Luke Grayland", "link": "https://stackoverflow.com/users/4261618/luke-grayland"}, "is_accepted": true, "score": 2, "last_activity_date": 1431530490, "creation_date": 1431530490, "answer_id": 30219111, "question_id": 30073950, "link": "https://stackoverflow.com/questions/30073950/circleci-heroku-git-subtree-testing-conundrum/30219111#30219111", "title": "CircleCI Heroku Git subtree testing conundrum", "body": "<p>Having contacted the guys at CircleCi, they helped me figure out the correct command to use which was </p>\n\n<pre><code>general:\n  build_dir: server\ndeployment:\n  staging:\n    branch: staging\n    commands:\n      - cd .. &amp;&amp; git push git@heroku.com:app-name-staging.git master\n</code></pre>\n\n<p>This works like a charm, testing the rails server app then deploying only this app to Heroku</p>\n"}], "owner": {"reputation": 598, "user_id": 4261618, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fqB2U1sB7Qc/AAAAAAAAAAI/AAAAAAAABPc/dGsae9FMi50/photo.jpg?sz=128", "display_name": "Luke Grayland", "link": "https://stackoverflow.com/users/4261618/luke-grayland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 1, "accepted_answer_id": 30219111, "answer_count": 1, "score": 3, "last_activity_date": 1431530490, "creation_date": 1430907674, "last_edit_date": 1431370986, "question_id": 30073950, "link": "https://stackoverflow.com/questions/30073950/circleci-heroku-git-subtree-testing-conundrum", "title": "CircleCI Heroku Git subtree testing conundrum", "body": "<p>I am working on an project which runs a Rails backend and a Angularjs web app on the front end. Both the apps are in a main project folder as subdirectories to keep the two in check and I have been using the git subtree push to deploy the Rails app to Heroku from the root folder. </p>\n\n<p>I am now looking to use CircleCI and am having difficulties using this project structure and getting CircleCI to run the correct tests and only deploy the Rails app to Heroku. </p>\n\n<p>I tried the follow in the circle.yml </p>\n\n<pre><code>general:\n  build_dir: server\ndeployment:\n  staging:\n    branch: staging\n    commands:\n      - git subtree push --prefix server git@heroku.com:app-name-staging.git master\n</code></pre>\n\n<p>This configuration allows me to run the tests that are in the Rails app but will not deploy, coming back with the error \"You need to run this command from the toplevel of the working tree.\"</p>\n\n<pre><code>general:\n  build_dir: server\ndeployment:\n  staging:\n    branch: staging\n    commands:\n      - git push git@heroku.com:app-name-staging.git master\n</code></pre>\n\n<p>This gave me the error \"Push rejected, no Cedar-supported app detected\" as Heroku was not detecting the buildpack for the Rails.</p>\n\n<p>I have also tried putting a simple shell script test in the root folder and removing the the build_dir from the circle.yml and it will pass the test and do the subtree push of the Rails app to Heroku, but does not run the tests in the Rails app.</p>\n\n<p>I have two options, one runs the tests of the Rails app but wont deploy only the Rails app to Heroku and the second run tests in the root but not on the actual Rails app but will deploy correctly. \nI am looking for a way to combine these two options so that I am able to run the tests of the Rails app and then deploy only the Rails app to Heroku.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "fedena"], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 4809238, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c436800fb28c3e18f1279c5ce40da177?s=128&d=identicon&r=PG&f=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/4809238/naveed"}, "is_accepted": true, "score": 0, "last_activity_date": 1480281189, "last_edit_date": 1480281189, "creation_date": 1432212746, "answer_id": 30374353, "question_id": 30073592, "link": "https://stackoverflow.com/questions/30073592/fedena-translation-missing-error/30374353#30374353", "title": "Fedena translation_missing error", "body": "<p>This problem was because of corrupt files. Once I replaced the copy of fedena it worked like charm.</p>\n"}], "owner": {"reputation": 49, "user_id": 4809238, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c436800fb28c3e18f1279c5ce40da177?s=128&d=identicon&r=PG&f=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/4809238/naveed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 30374353, "answer_count": 1, "score": 0, "last_activity_date": 1480281189, "creation_date": 1430906807, "last_edit_date": 1460714389, "question_id": 30073592, "link": "https://stackoverflow.com/questions/30073592/fedena-translation-missing-error", "title": "Fedena translation_missing error", "body": "<p>My <code>Fedena</code> Installed correctly, working fine but the top search box showing this as placeholder</p>\n\n<blockquote>\n  <p>en, autosuggest_menu, search_actions_links_and_people</p>\n</blockquote>\n\n<p>and the inspect element in chrome is below.</p>\n\n<pre><code>&lt;input autocomplete=\"off\" class=\"ui-autocomplete-input\" id=\"autosuggest_menu_input\" name=\"autosuggest_menu\" placeholder=\"&lt;span class=&amp;quot;translation_missing&amp;quot;&gt;en, autosuggest_menu, search_actions_links_and_people&lt;/span&gt;\" value=\"\" type=\"text\"&gt;\n</code></pre>\n\n<p>I dont see this error when I install it on my <code>VPS</code>, but when I install it at home on <code>ubuntu 12.04 Desktop</code> then I see this error.</p>\n\n<p>Gem list is 100% the same.<br>\nPls help.<br>\nThanks in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex", "string", "gem"], "comments": [{"owner": {"reputation": 890, "user_id": 1942262, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/SFmTN.png?s=128&g=1", "display_name": "Kanna", "link": "https://stackoverflow.com/users/1942262/kanna"}, "edited": false, "score": 0, "creation_date": 1430907212, "post_id": 30073343, "comment_id": 48261032, "body": "<a href=\"https://www.ruby-toolbox.com/categories/Natural_Language_Date_Parsing\" rel=\"nofollow noreferrer\">ruby-toolbox.com/categories/Natural_Language_Date_Parsing</a> --&gt; May be it will use for u"}, {"owner": {"reputation": 103, "user_id": 3203372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EOZE.jpg?s=128&g=1", "display_name": "Akhil Nair", "link": "https://stackoverflow.com/users/3203372/akhil-nair"}, "reply_to_user": {"reputation": 890, "user_id": 1942262, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/SFmTN.png?s=128&g=1", "display_name": "Kanna", "link": "https://stackoverflow.com/users/1942262/kanna"}, "edited": false, "score": 0, "creation_date": 1430908342, "post_id": 30073343, "comment_id": 48261810, "body": "None of them are able to handle the first scenario, they identify only one date."}, {"owner": {"reputation": 890, "user_id": 1942262, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/SFmTN.png?s=128&g=1", "display_name": "Kanna", "link": "https://stackoverflow.com/users/1942262/kanna"}, "edited": false, "score": 0, "creation_date": 1430908868, "post_id": 30073343, "comment_id": 48262173, "body": "First scenario,its confusing.Do you want to have a range between two dates or separates date which belongs to Sep Month or Apr you can use date parse rails console to have the bellow output but it will neglect the one month from the input Date.parse(&quot;sep 04 apr 06&quot;)  =&gt; Tue, 04 Apr 2006"}, {"owner": {"reputation": 3925, "user_id": 732973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf7f32088ada37e7b24af7fa17984e94?s=128&d=identicon&r=PG", "display_name": "alfakini", "link": "https://stackoverflow.com/users/732973/alfakini"}, "edited": false, "score": 0, "creation_date": 1430921030, "post_id": 30073343, "comment_id": 48271472, "body": "Where did these input strings came from? Could you change them?"}], "answers": [{"comments": [{"owner": {"reputation": 455, "user_id": 4680338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16bb8a33f61a735c68cbd458cc13b121?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Gupta", "link": "https://stackoverflow.com/users/4680338/gaurav-gupta"}, "edited": false, "score": 0, "creation_date": 1430907146, "post_id": 30073664, "comment_id": 48260978, "body": "but this will not work for &#39;DateTime.parse(&quot;may 2006 may 2008&quot;)&#39;, will throw invalid date error:"}, {"owner": {"reputation": 103, "user_id": 3203372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EOZE.jpg?s=128&g=1", "display_name": "Akhil Nair", "link": "https://stackoverflow.com/users/3203372/akhil-nair"}, "edited": false, "score": 1, "creation_date": 1430907337, "post_id": 30073664, "comment_id": 48261108, "body": "But those are two seperate dates. September 2004 and April 2006."}, {"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1430907523, "post_id": 30073664, "comment_id": 48261237, "body": "Indeed, you&#39;ll need to separate those two dates if you want it to work."}, {"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1430908951, "post_id": 30073664, "comment_id": 48262239, "body": "You&#39;d have to use regex to split those strings containing two or more dates. As for parsing usually known dates, my answer has some added value."}], "tags": [], "owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "is_accepted": false, "score": 0, "last_activity_date": 1430906944, "creation_date": 1430906944, "answer_id": 30073664, "question_id": 30073343, "link": "https://stackoverflow.com/questions/30073343/how-to-identify-a-set-of-dates-from-a-string-in-rails/30073664#30073664", "title": "How to identify a set of dates from a string in rails", "body": "<p>You can use the <a href=\"http://ruby-doc.org/stdlib-2.2.2/libdoc/date/rdoc/DateTime.html#method-c-_strptime\" rel=\"nofollow\">DateTime</a> class like so:</p>\n\n<pre><code>DateTime.parse('sep 04 apr 06')\n</code></pre>\n\n<p>which outputs a DateTime object:</p>\n\n<pre><code>#&lt;DateTime: 2006-04-04T00:00:00+00:00 ((2453830j,0s,0n),+0s,2299161j)&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 3203372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EOZE.jpg?s=128&g=1", "display_name": "Akhil Nair", "link": "https://stackoverflow.com/users/3203372/akhil-nair"}, "edited": false, "score": 0, "creation_date": 1430908616, "post_id": 30073782, "comment_id": 48261993, "body": "strptime requires format as an argument and unfortunately I can&#39;t predict in which format the date is going to be in."}], "tags": [], "owner": {"reputation": 155, "user_id": 1120888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d485de470e3932291f1e52568d9dbb63?s=128&d=identicon&r=PG", "display_name": "Lucky", "link": "https://stackoverflow.com/users/1120888/lucky"}, "is_accepted": false, "score": 0, "last_activity_date": 1430907195, "creation_date": 1430907195, "answer_id": 30073782, "question_id": 30073343, "link": "https://stackoverflow.com/questions/30073343/how-to-identify-a-set-of-dates-from-a-string-in-rails/30073782#30073782", "title": "How to identify a set of dates from a string in rails", "body": "<p>You can use <a href=\"http://ruby-doc.org/stdlib-2.2.2/libdoc/date/rdoc/DateTime.html#method-c-strptime\" rel=\"nofollow\">DateTime.strptime</a> method</p>\n"}, {"tags": [], "owner": {"reputation": 24970, "user_id": 73673, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/H81Fx.jpg?s=128&g=1", "display_name": "berkes", "link": "https://stackoverflow.com/users/73673/berkes"}, "is_accepted": false, "score": 2, "last_activity_date": 1430922607, "last_edit_date": 1430922607, "creation_date": 1430911178, "answer_id": 30075216, "question_id": 30073343, "link": "https://stackoverflow.com/questions/30073343/how-to-identify-a-set-of-dates-from-a-string-in-rails/30075216#30075216", "title": "How to identify a set of dates from a string in rails", "body": "<p>When you say \"unfortunately I can't predict in which format the date is going to be in.\", you imply that you actually need \"natural language parsing\". Which is something core Date or DateTime objects cannot and should not do.</p>\n\n<p>So, either you will need to parse the strings so you can present them to the more strict parser in an understandable format. Like <code>DateTime.parse('sep 04')</code>. For your examples, it could be as simple as:</p>\n\n<pre><code>datestring = 'sep 04 apr 06'\nmatches = datestring.match(/[a-z]{3}\\s\\d{2,4}/)\nif matches.many?\n  matches.map{|m| Date.parse(m) }.join(' and ')\nelse\n  Date.parse(datestring)\nend\n</code></pre>\n\n<p>However, when you want true natural language parsing, have a look at <a href=\"https://github.com/mojombo/chronic\" rel=\"nofollow\">Chronic</a>. Which has all sorts of fancy parsers like <code>Chronic.parse('summer')</code>.</p>\n\n<p>Edit: on closer inspection, it seems Chronic too can only identify one string, so your example <code>'sep 04 apr 06'</code> still needs some pre-processing.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 3203372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EOZE.jpg?s=128&g=1", "display_name": "Akhil Nair", "link": "https://stackoverflow.com/users/3203372/akhil-nair"}, "edited": false, "score": 0, "creation_date": 1430992049, "post_id": 30094253, "comment_id": 48306656, "body": "This is really helpful, Thanks."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 1, "last_activity_date": 1430982848, "creation_date": 1430982848, "answer_id": 30094253, "question_id": 30073343, "link": "https://stackoverflow.com/questions/30073343/how-to-identify-a-set-of-dates-from-a-string-in-rails/30094253#30094253", "title": "How to identify a set of dates from a string in rails", "body": "<p>The approach I took is as follows:</p>\n\n<ol>\n<li>Divide the string into an array of words.</li>\n<li>If the array contains fewer than two words, return an array containing all the date strings found; else go to step 3.</li>\n<li>If the array contains at least three words and the first three words represent a date, save it, delete the first three words in the array and repeat step 2; else go to step 4.</li>\n<li>If the first two words represent a date, save it, delete the first two words in the array and repeat step 2; else go to step 5.</li>\n<li>Delete the first word in the array and go to step 2.</li>\n</ol>\n\n<p>I search for dates using the class method <a href=\"http://ruby-doc.org/stdlib-2.2.0/libdoc/date/rdoc/Date.html#method-c-strptime\" rel=\"nofollow\">Date::strptime</a>. <code>strptime</code> employs a format string. For example, <code>'%d %b %Y'</code> searches for the day of the month, followed by a space, followed by a (case-insensitive) three-character month abbreviation ('Jan', 'Feb',...,'Dec'), followed by a four-digit year. (I initially consider using <a href=\"http://ruby-doc.org/stdlib-2.2.0/libdoc/date/rdoc/Date.html#method-c-parse\" rel=\"nofollow\">Date::parse</a>, but that does not discriminate dates adequately.)</p>\n\n<p><strong>Code</strong></p>\n\n<p>I first generate all the <code>strptime</code> format strings of interest for month, day and year:</p>\n\n<pre><code>MON = %w{ %b %B } # '%b' for 'Jan', '%B' for 'January'\nYR  = %w{ %y %Y } # '%y' for '11', '%Y' for 2011\nDAY = %w{ %d }    # '4', '04' or '28' \n\nPERM3 = MON.product(YR, DAY).\n            flat_map { |arr| arr.permutation(3).to_a }.\n            map { |arr| arr.join(' ') }\n  #=&gt; [\"%b %y %d\", \"%b %d %y\", \"%y %b %d\", \"%y %d %b\", \"%d %b %y\", \"%d %y %b\",\n  #    \"%b %Y %d\", \"%b %d %Y\", \"%Y %b %d\", \"%Y %d %b\", \"%d %b %Y\", \"%d %Y %b\",\n  #    \"%B %y %d\", \"%B %d %y\", \"%y %B %d\", \"%y %d %B\", \"%d %B %y\", \"%d %y %B\",\n  #    \"%B %Y %d\", \"%B %d %Y\", \"%Y %B %d\", \"%Y %d %B\", \"%d %B %Y\", \"%d %Y %B\"] \n</code></pre>\n\n<p>I then do the same for permutations of day and month and month and year:</p>\n\n<pre><code>PERM2 = MON.product(YR).\n            concat(MON.product(DAY)).\n            flat_map { |arr| arr.permutation(2).to_a }.\n            map { |arr| arr.join(' ') }               \n  #=&gt; [\"%b %y\", \"%y %b\", \"%b %Y\", \"%Y %b\", \"%B %y\", \"%y %B\",\n  #    \"%B %Y\", \"%Y %B\", \"%b %d\", \"%d %b\", \"%B %d\", \"%d %B\"] \n</code></pre>\n\n<p>I then proceed as follows:</p>\n\n<pre><code>require 'date'\n\ndef pull_dates(str)\n  arr = str.split\n  dates = []\n  while arr.size &gt; 1\n    if arr.size &gt; 2\n      a = depunc(arr[0,3])\n      if date?(a, PERM3)\n        dates &lt;&lt; a.join(' ')\n        arr.shift(3)\n        next\n      end\n    end\n    a = depunc(arr[0,2])\n    if date?(a, PERM2)\n      dates &lt;&lt; a.join(' ')\n      arr.shift(2)\n      next\n    end\n    arr.shift\n  end\n  dates\nend\n</code></pre>\n\n<p><code>depunc</code> removes any punctuations at the beginning and end of the string <code>arr.join(' ')</code>.</p>\n\n<pre><code>def depunc(arr)\n  arr.join(' ').gsub(/^\\W|\\W$/,'').split  \nend\n</code></pre>\n\n<p><code>date?</code> determines if the three- or two-element string <code>arr</code> represents a date. I first obtain a \"cleaned\" string from <code>arr</code>, and then search through the applicable <code>strptime</code> format strings (the argument <code>perm</code>), looking for one that shows the cleaned string can be converted to a date.</p>\n\n<pre><code>def date?(arr, perm)\n  clean = to_str_and_clean(arr)\n  perm.find do |s|\n    begin\n      d = Date.strptime(clean, s)\n      return true\n    rescue\n      false \n    end\n  end\n  false\nend\n</code></pre>\n\n<p><code>to_str_and_clean</code> returns a cleaned string that has punctuation removed and strings such as <code>'st'</code>, <code>'nd'</code>, <code>'rd'</code>, and <code>'th'</code> following the numerical representation of the day.</p>\n\n<pre><code>def to_str_and_clean(arr)\n  str = arr.map { |s| s[0][/\\d/] ? s.to_i.to_s : s }.join(' ').tr('.?!,:;', '')\nend\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<p>Let's try it.</p>\n\n<pre><code>str =\n\"Bubba sighted a flying saucer on sep 04 2013 and again in apr 06. \\\nGreta was born on 29th may 1982. Hey, may 2006 may 2008 are two years apart.\\\nWe have been at loose ends since oct 11 of this year.\"\n\npull_dates(str)\n  #=&gt; [\"sep 04 2013\", \"apr 06\", \"29th may 1982\", \"may 2006 may\", \"oct 11\"] \n</code></pre>\n\n<p>Well, as you see, it's not perfect. Some tweaking is required, but this might get you started.</p>\n"}], "owner": {"reputation": 103, "user_id": 3203372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EOZE.jpg?s=128&g=1", "display_name": "Akhil Nair", "link": "https://stackoverflow.com/users/3203372/akhil-nair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 30094253, "answer_count": 4, "score": 3, "last_activity_date": 1430982848, "creation_date": 1430906154, "last_edit_date": 1430918820, "question_id": 30073343, "link": "https://stackoverflow.com/questions/30073343/how-to-identify-a-set-of-dates-from-a-string-in-rails", "title": "How to identify a set of dates from a string in rails", "body": "<p>I have the following strings  </p>\n\n<pre><code>\"sep 04 apr 06\"\n\"29th may 1982\"\n\"may 2006 may 2008\"\n\"since oct 11\"\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>\"September 2004 and April 2006\"\n\"29 May 1982\"\n\"May 2006 and May 2008\"\n\"October 2011\"\n</code></pre>\n\n<p>Is there a way to obtain the dates from these string. I used the gem 'dates_from_string', but it is unable to correctly obtain date from first scenario. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "left-join", "rails-activerecord"], "answers": [{"comments": [{"owner": {"reputation": 7251, "user_id": 2493089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c34c815a19c6a2f6ed200cbd95503682?s=128&d=identicon&r=PG", "display_name": "SHS", "link": "https://stackoverflow.com/users/2493089/shs"}, "edited": false, "score": 0, "creation_date": 1430910168, "post_id": 30074489, "comment_id": 48263042, "body": "Good analysis. But I&#39;d like to add that the &quot;explicitly naming all of them&quot; part can be made a lot easier with <code>Model.column_names.map</code> as I&#39;ve shown in my response."}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "reply_to_user": {"reputation": 7251, "user_id": 2493089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c34c815a19c6a2f6ed200cbd95503682?s=128&d=identicon&r=PG", "display_name": "SHS", "link": "https://stackoverflow.com/users/2493089/shs"}, "edited": false, "score": 0, "creation_date": 1430912623, "post_id": 30074489, "comment_id": 48264683, "body": "Sure - I was mostly thinking about the fact that there is no way in sql to say everything but the id column"}, {"owner": {"reputation": 7251, "user_id": 2493089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c34c815a19c6a2f6ed200cbd95503682?s=128&d=identicon&r=PG", "display_name": "SHS", "link": "https://stackoverflow.com/users/2493089/shs"}, "edited": false, "score": 0, "creation_date": 1430913069, "post_id": 30074489, "comment_id": 48265011, "body": "Found a very simple workaround for this particular case: simply change the order of select-columns. :P I&#39;ve updated my answer to include this."}], "tags": [], "owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "is_accepted": false, "score": 2, "last_activity_date": 1430912593, "last_edit_date": 1430912593, "creation_date": 1430909109, "answer_id": 30074489, "question_id": 30073340, "link": "https://stackoverflow.com/questions/30073340/primary-key-is-null-when-left-join-is-used/30074489#30074489", "title": "Primary key is null when left join is used", "body": "<p>The problem is that the answers table probably also has a column named <code>id</code>, which is shadowing the question's id. Although in the result set one column is called questions.id and the other a.id, active record just looks at the last part ('id')</p>\n\n<p>There's no good way around this that I am aware of other than aliasing problematic columns from the answers table, which unfortunately means explicitly naming all of them (although you can of course automate this to an extent)</p>\n"}, {"comments": [{"owner": {"reputation": 7251, "user_id": 2493089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c34c815a19c6a2f6ed200cbd95503682?s=128&d=identicon&r=PG", "display_name": "SHS", "link": "https://stackoverflow.com/users/2493089/shs"}, "reply_to_user": {"reputation": 381, "user_id": 2379083, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f416af2ee892cc70fd84addc6bd0acf?s=128&d=identicon&r=PG&f=1", "display_name": "bokzor", "link": "https://stackoverflow.com/users/2379083/bokzor"}, "edited": false, "score": 0, "creation_date": 1430912172, "post_id": 30074749, "comment_id": 48264372, "body": "In addition to those, you can easily add the <code>has_many :questions, through: :answers</code> to your <code>User</code> model, and things will work as I described - no database changes will be required."}, {"owner": {"reputation": 381, "user_id": 2379083, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f416af2ee892cc70fd84addc6bd0acf?s=128&d=identicon&r=PG&f=1", "display_name": "bokzor", "link": "https://stackoverflow.com/users/2379083/bokzor"}, "edited": false, "score": 0, "creation_date": 1430912755, "post_id": 30074749, "comment_id": 48264787, "body": "But then   current_user.questions will only returns the questions that have been answered."}, {"owner": {"reputation": 7251, "user_id": 2493089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c34c815a19c6a2f6ed200cbd95503682?s=128&d=identicon&r=PG", "display_name": "SHS", "link": "https://stackoverflow.com/users/2493089/shs"}, "reply_to_user": {"reputation": 381, "user_id": 2379083, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f416af2ee892cc70fd84addc6bd0acf?s=128&d=identicon&r=PG&f=1", "display_name": "bokzor", "link": "https://stackoverflow.com/users/2379083/bokzor"}, "edited": false, "score": 0, "creation_date": 1430913094, "post_id": 30074749, "comment_id": 48265032, "body": "Of course. I mention this in my answer that <code>unless you absolutely need a LEFT JOIN along with those select-columns</code>"}], "tags": [], "owner": {"reputation": 7251, "user_id": 2493089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c34c815a19c6a2f6ed200cbd95503682?s=128&d=identicon&r=PG", "display_name": "SHS", "link": "https://stackoverflow.com/users/2493089/shs"}, "is_accepted": true, "score": 1, "last_activity_date": 1430912996, "last_edit_date": 1430912996, "creation_date": 1430909824, "answer_id": 30074749, "question_id": 30073340, "link": "https://stackoverflow.com/questions/30073340/primary-key-is-null-when-left-join-is-used/30074749#30074749", "title": "Primary key is null when left join is used", "body": "<p>This is probably because of the ID columns of two tables conflicting with one another.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Simply changing the order of select columns will help. So instead of <code>.select(\"questions.*\", \"answers.*\")</code>, try <code>.select(\"answers.*\", \"questions.*\")</code>.</p>\n\n<p><strong>Old answer:</strong></p>\n\n<p>Try the following:</p>\n\n<pre><code># Assuming the following:\n#   Question.table_name == \"questions\"\n#   Answer.table_name == \"answers\"\n\nquestion_columns = Question.column_names # or %w{questions.*}\nanswer_columns = Answer.column_names.map { |c| \"answer_#{c}\" }\ncolumns = question_columns + answer_columns\n@questions = \n  Question.\n  joins(\"LEFT OUTER JOIN answers ON (\n    answers.question_id = questions.id\n    AND\n    answers.user_id = #{current_user.id}\n  )\").\n  select(*columns)\n@questions.first.id #=&gt; should return some integer\n@questions.first.answer_id #=&gt; may or may not return something\n</code></pre>\n\n<p>However, unless you absolutely need a <code>LEFT JOIN</code> along with those select-columns, it would be much cleaner to accomplish your task using the following:</p>\n\n<pre><code>class Answer\n  belongs_to :question\nend\n\nclass User\n  has_many :answers\n  has_many :questions, through: :answers\nend\n\ncurrent_user.questions\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 2379083, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f416af2ee892cc70fd84addc6bd0acf?s=128&d=identicon&r=PG&f=1", "display_name": "bokzor", "link": "https://stackoverflow.com/users/2379083/bokzor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 30074749, "answer_count": 2, "score": 1, "last_activity_date": 1430912996, "creation_date": 1430906147, "last_edit_date": 1430911976, "question_id": 30073340, "link": "https://stackoverflow.com/questions/30073340/primary-key-is-null-when-left-join-is-used", "title": "Primary key is null when left join is used", "body": "<p>When I use this request </p>\n\n<pre><code>@questions = Question.joins(\"left join answers as a on a.user_id = #{current_user.id} and a.question_id = questions.id\").select('questions.*, a.*')\n</code></pre>\n\n<p><code>Question.id</code> is null. Does anyone know why? Maybe it needs an alias or something like that.</p>\n\n<p>My schema:</p>\n\n<pre><code>class Answer:\n  belong_to: User\n  belongs_to: Question\nend\n\nclass User:\n  has_many: answers\nend\n\nclass Question:\n  has_one: answer\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "gem"], "comments": [{"owner": {"reputation": 7525, "user_id": 1805902, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0W7rW.png?s=128&g=1", "display_name": "pangpang", "link": "https://stackoverflow.com/users/1805902/pangpang"}, "edited": false, "score": 0, "creation_date": 1430907757, "post_id": 30072917, "comment_id": 48261425, "body": "what ruby version are you using?"}, {"owner": {"reputation": 646, "user_id": 4553034, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aLeXg.jpg?s=128&g=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/4553034/mac"}, "edited": false, "score": 0, "creation_date": 1430908084, "post_id": 30072917, "comment_id": 48261644, "body": "does  @artifact consist of body only?"}], "owner": {"reputation": 83, "user_id": 1592539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5e7381b060c7dcdef079189d09fe2f6d?s=128&d=identicon&r=PG", "display_name": "dmkathayat", "link": "https://stackoverflow.com/users/1592539/dmkathayat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430904998, "creation_date": 1430904998, "question_id": 30072917, "link": "https://stackoverflow.com/questions/30072917/ror-with-ideone-api-wrong-number-of-arguments", "title": "ROR with ideone-api: wrong number of arguments", "body": "<p>I'm completely new to rails and I'm using <a href=\"http://www.rubydoc.info/gems/ideone-ruby-api/2.1.2\" rel=\"nofollow\">ideone-ruby-api</a> to build a code evaluator.\nHowever, I can't get it to run despite following the documentation as this error pops up:</p>\n\n<p><strong>ArgumentError in CodeEvalController#create</strong></p>\n\n<p><strong>wrong number of arguments (0 for 1)</strong></p>\n\n<p><strong>Extracted source (around line #18):</strong></p>\n\n<pre><code>18     $instance = Ideone.new('username','password')\n19     assert_not_nil($instance)\n</code></pre>\n\n<p>Here's the complete controller.rb file I'm using:</p>\n\n<pre><code>1 require 'rubygems'\n2 require 'bundler'\n3 require 'ideone'\n4\n5 class CodeEvalController &lt; ApplicationController\n6\n7   def index\n8     @message = Sourcecode.first.body\n9   end\n10\n11  def create\n12     @artifact = Sourcecode.first\n13     if params[:reset_button]\n14       @artifact.update_attributes(body: \"Hello World\")\n15     else\n16       @artifact.update_attributes(body: params[:code][:body])\n17     end\n18     $instance = Ideone.new('username','password')\n19     assert_not_nil($instance)\n20     redirect_to code_eval_index_path(@artifact)\n21  end\n22 end\n</code></pre>\n\n<p>The problem seems with the <em>Ideone.new</em> method and the number of arguments that it takes. The <a href=\"http://www.rubydoc.info/gems/ideone-ruby-api/2.1.2\" rel=\"nofollow\">doc</a> suggests it takes in a username and a password, which is exactly what I am doing, and yet the error says wrong number of arguments. \nI have already specified <em>gem 'ideone-ruby-api'</em> in the Gemfile and done a <em>bundle install</em>. Can anyone help me debug this issue?</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "jquery-ui", "autocomplete"], "comments": [{"owner": {"reputation": 7899, "user_id": 2685386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bDdVL.png?s=128&g=1", "display_name": "blgt", "link": "https://stackoverflow.com/users/2685386/blgt"}, "edited": false, "score": 0, "creation_date": 1430905967, "post_id": 30072383, "comment_id": 48260142, "body": "I&#39;m not aware of haml plugging into jquery in any way. What&#39;s in <code>data-autocomplete-source</code>? Looks like it should be a string, not an array"}], "answers": [{"tags": [], "owner": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "is_accepted": false, "score": 0, "last_activity_date": 1430906504, "creation_date": 1430906504, "answer_id": 30073468, "question_id": 30072383, "link": "https://stackoverflow.com/questions/30072383/json-for-jqueryui-autocomplete-rails/30073468#30073468", "title": "JSON for JQueryUI autocomplete - Rails", "body": "<p>if you are looking for autocomplete,I would recommend <a href=\"http://loopj.com/jquery-tokeninput/\" rel=\"nofollow\">Jquery TokenInput</a>, I have used it myself and its easy to setup.let me show you an example:-</p>\n\n<p><strong>in your form fields</strong></p>\n\n<pre><code>&lt;% form_for(@user,:url=&gt;new_user_path) do |f|%&gt;\n\n//other input text and text area fields\n//autocomplete field to add tag to user and also show existing tags\n//suppose this field is user_tag_list\n&lt;%= f.text_field :tag_list, \"data-pre\" =&gt; @user.tags.map(&amp;:attributes).to_json  %&gt;\n&lt;%end%&gt;\n</code></pre>\n\n<p><strong>in js code:-</strong></p>\n\n<pre><code>//activate the autocomplete text field(user_tag_list) and call ajax to return json from the controller\n   $(\"#user_tag_list\").tokenInput(\"/users/show_user_tags.json\", {\n    crossDomain: false,\n    placeholder: \"Add your Favorite user tags\",\n    prePopulate: $(\"#user_tag_list\").data(\"pre\"),\n    theme: \"facebook\",\n    hintText: \"Tag this user with your fav tags\",\n    noResultsText: \"Well,search for you fav tags\",\n    searchingText: \"here it comes &lt;i class='fa fa-spinner fa-spin fa-lg'&gt;&lt;/i&gt;\",\n    tokenLimit:3,\n    //add title to search on basis of title on form submit\n    tokenValue: 'name',\n    resultsLimit:10,\n    resultsFormatter: function(item){ return \"&lt;li&gt;&lt;p&gt;&lt;span style='font-size:1em !important;'&gt;&lt;b&gt;\" + item.name + \"&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;\" },\n    tokenFormatter: function(item) { return \"&lt;li&gt;&lt;p&gt;\" + item.name + \"&lt;/p&gt;&lt;/li&gt;\" },\n    preventDuplicates: true\n  });\n</code></pre>\n\n<p><strong>controller code ...that calls show_user_tags in users controller</strong></p>\n\n<pre><code>def show_user_tags\n  @tags = UserTag.where(\"title like ?\", \"#{params[:q].capitalize}%\")\n  @tags = @tags.map do |c|\n      { :id =&gt; c.id,:name =&gt; c.title}\n    end   \n    respond_to do |format|\n      format.html\n      format.json { render :json =&gt; @tags }\n    end\n end \n</code></pre>\n"}], "owner": {"reputation": 8640, "user_id": 4055042, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cd04c63d95d27033b53d4d83fea40c02?s=128&d=identicon&r=PG&f=1", "display_name": "SRack", "link": "https://stackoverflow.com/users/4055042/srack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430918848, "creation_date": 1430903569, "last_edit_date": 1430918848, "question_id": 30072383, "link": "https://stackoverflow.com/questions/30072383/json-for-jqueryui-autocomplete-rails", "title": "JSON for JQueryUI autocomplete - Rails", "body": "<p>I'm working on an autocomplete form field and am having a little trouble formatting the JSON I want to pass into this. I'm using an ID field for the autocomplete, though the JSON is returning as follows:</p>\n\n<pre><code>{\"users\":[\"12345\",\"23456\",\"34567\", ... ]}\n</code></pre>\n\n<p>As I understand it, I need an array of data for JQuery's autocomplete - which I'm using - though I can't seem to lose the hash surrounding this. Any advice? Or if I'm going wrong elsewhere, guidance would be great!</p>\n\n<p>Here's the other relevant code to this:</p>\n\n<p>JS</p>\n\n<pre><code>$(document).on('ready page:load', function(){\n    $( \"#user_****Id\" ).autocomplete({\n      source: $('#user_****Id').data('autocomplete-source')\n    })\n})\n</code></pre>\n\n<p>Form (haml)</p>\n\n<pre><code>= simple_form_for [:admins, @user] do |f|\n  ...\n  = f.input :****Id, input_html: { data: { autocomplete_source: new_admins_user_path } }\n  ...\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>def new\n    @hospitals = Hospital.all\n    @hospitals_autocomplete = @hospitals.map(&amp;:id)\n\n    respond_to do |format|\n      format.html\n      format.json {render json: @hospitals_autocomplete}\n    end\n  end\n</code></pre>\n\n<p>Thanks everyone - Steve.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "session"], "answers": [{"tags": [], "owner": {"reputation": 12784, "user_id": 1373987, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bca7defe7b8087d8e261d32b29cf425e?s=128&d=identicon&r=PG", "display_name": "joshua.paling", "link": "https://stackoverflow.com/users/1373987/joshua-paling"}, "is_accepted": true, "score": 1, "last_activity_date": 1430906475, "last_edit_date": 1592644375, "creation_date": 1430906475, "answer_id": 30073460, "question_id": 30072302, "link": "https://stackoverflow.com/questions/30072302/is-server-side-session-storage-not-enabled-in-rails-4-1/30073460#30073460", "title": "Is server side session storage not enabled in rails 4.1", "body": "<p>There is support for server-side session storage - see <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#session\" rel=\"nofollow noreferrer\">http://guides.rubyonrails.org/action_controller_overview.html#session</a></p>\n<p>The relevant bits:</p>\n<blockquote>\n<p>The session is only available in the controller and the view and can use one of a number of different storage mechanisms:</p>\n<p>ActionDispatch::Session::CookieStore - Stores everything on the client.\nActionDispatch::Session::CacheStore - Stores the data in the Rails cache.\nActionDispatch::Session::ActiveRecordStore - Stores the data in a database using &gt; Active Record. (require activerecord-session_store gem).\nActionDispatch::Session::MemCacheStore - Stores the data in a memcached cluster (this is a legacy implementation; consider using CacheStore instead).</p>\n</blockquote>\n<p>and...</p>\n<blockquote>\n<p>If you need a different session storage mechanism, you can change it in the config/initializers/session_store.rb file</p>\n</blockquote>\n<p>If you search around you'll also find other server-side session storage options which are not part of the Rails core, using things such as Redis.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1011792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "accepted_answer_id": 30073460, "answer_count": 1, "score": 0, "last_activity_date": 1430918858, "creation_date": 1430903343, "last_edit_date": 1592644375, "question_id": 30072302, "link": "https://stackoverflow.com/questions/30072302/is-server-side-session-storage-not-enabled-in-rails-4-1", "title": "Is server side session storage not enabled in rails 4.1", "body": "<p>In <a href=\"http://guides.rubyonrails.org/security.html\" rel=\"nofollow noreferrer\">Rails security code</a> it is stated that sessions are stored by default as cookies in client side, however it doesn't state how to switch to server side storage. It just says:</p>\n<blockquote>\n<p>Rails provides several storage mechanisms for the session hashes. The\nmost important is ActionDispatch::Session::CookieStore</p>\n</blockquote>\n<p>I have made some search and according to this <a href=\"http://blog.remarkablelabs.com/2012/12/activerecord-sessionstore-gem-extraction-rails-4-countdown-to-2013\" rel=\"nofollow noreferrer\">blog</a>:</p>\n<blockquote>\n<p>As of Rails 4, the Active Record session store has be removed from the core framework and is now deprecated.</p>\n</blockquote>\n<p>And it says there is a Gem for server side storage, but it says there is no guaranteed support for versions of Rails 4.1 and higher.</p>\n<p>So is there no core support for server side session storage in rails?</p>\n"}, {"tags": ["ruby", "date", "if-statement", "rspec"], "answers": [{"tags": [], "owner": {"reputation": 13004, "user_id": 887128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/21dfdd82b179972af12332a8db35ac64?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/887128/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1430907721, "creation_date": 1430907721, "answer_id": 30073975, "question_id": 30072282, "link": "https://stackoverflow.com/questions/30072282/date-based-condition-check-in-ruby/30073975#30073975", "title": "date based condition check in ruby", "body": "<p>You can set up expectations on the <code>Date</code> class.</p>\n\n<pre><code>today = Date.parse(\"2012-02-02\")\nDate.expects(:today).returns(today)\n</code></pre>\n\n<p>Something like this. </p>\n"}], "owner": {"reputation": 1103, "user_id": 354164, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ee3236365cc26de65364d4ad6f0d32ef?s=128&d=identicon&r=PG", "display_name": "imalik8088", "link": "https://stackoverflow.com/users/354164/imalik8088"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430908017, "creation_date": 1430903302, "last_edit_date": 1592644375, "question_id": 30072282, "link": "https://stackoverflow.com/questions/30072282/date-based-condition-check-in-ruby", "title": "date based condition check in ruby", "body": "<p>I want to check a category based on the age of a member. My test are looking like this:</p>\n<pre><code>it &quot;should return 'CATEGORY B' if member turn 15 on the 01-11-2015&quot; do\n  Timecop.freeze(Date.parse(&quot;01-11-2015&quot;))\n  @member.date_of_birth = &quot;2000-11-01&quot;\n  expect(@member.category).to eq('CATEGORY B')\nend\n\nit &quot;should return 'CATEGORY C' if member turn 15 on the 31-10-2015&quot; do\n  Timecop.freeze(Date.parse(&quot;01-11-2015&quot;))\n  @member.date_of_birth = &quot;2000-10-31&quot;\n  expect(@member.category).to eq('CATEGORY C')\nend\n</code></pre>\n<p>and my method in the model is looking like this:</p>\n<pre><code>def category\n  local_age = age\n  next_november = &quot;01-11-#{Date.today.year}&quot;\n  last_day_in_oktober = &quot;31-10-#{Date.today.year}&quot;\n  if local_age &lt; 7 then\n    'CATEGORY A'\n  elsif local_age &gt;= 7 &amp;&amp; local_age &lt; 15\n    'CATEGORY B'\n  elsif local_age &gt; 15 &amp;&amp; local_age &lt; 40\n    'CATEGORY C'\n  elsif local_age &gt;= 40\n    'CATEGORY D'\n  end\nend\n</code></pre>\n<p>How can I implement the and freeze the time in the model in order pass the tests? Any idea</p>\n<h2>Solution</h2>\n<p>I have solved the problem in adding a parameter to my age method like this:</p>\n<pre><code>  def age(_date = Time.now.utc.to_date)\n    _date.year - date_of_birth.year - (date_of_birth.to_date.change(:year =&gt; _date.year) &gt; _date ? 1 : 0)\n  end\n</code></pre>\n<p>AND MY Condition check is looking like this:</p>\n<pre><code> next_november = Date.parse(&quot;01-11-#{Date.today.year}&quot;)\n    last_day_in_oktober = Date.parse(&quot;31-10-#{Date.today.year}&quot;)\nelsif age &gt;= 7 &amp;&amp; age(next_november) &lt;= 15\n</code></pre>\n"}, {"tags": ["ruby", "reflection"], "comments": [{"owner": {"reputation": 6363, "user_id": 2837813, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/5Xggf.png?s=128&g=1", "display_name": "ProGM", "link": "https://stackoverflow.com/users/2837813/progm"}, "edited": false, "score": 0, "creation_date": 1430901891, "post_id": 30071286, "comment_id": 48257339, "body": "@AndreyDeineko Because I want to do something like: <code>list_of_strings.reject { |s| !string_defined?(s) }</code>, with <code>list_of_strings</code> parametric."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1538468292, "post_id": 30071286, "comment_id": 92143073, "body": "Note that all the current answers return <code>true</code> even if <code>a</code> is defined after the query."}], "answers": [{"comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 3, "creation_date": 1430901968, "post_id": 30071734, "comment_id": 48257394, "body": "Your answer is correct (the first upvote is from me), but be ready for stupid users starting to downvote on you. Cf. <a href=\"http://meta.stackoverflow.com/questions/291823/how-to-deal-with-users-who-unconditionally-react-against-eval\" title=\"how to deal with users who unconditionally react against eval\">meta.stackoverflow.com/questions/291823/&hellip;</a>."}, {"owner": {"reputation": 6363, "user_id": 2837813, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/5Xggf.png?s=128&g=1", "display_name": "ProGM", "link": "https://stackoverflow.com/users/2837813/progm"}, "edited": false, "score": 0, "creation_date": 1430902222, "post_id": 30071734, "comment_id": 48257595, "body": "This is very clever. This will do <b>exactly</b> what I asked, because it uses the original <code>defined?</code> method."}], "tags": [], "owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "is_accepted": true, "score": 3, "last_activity_date": 1430902234, "last_edit_date": 1430902234, "creation_date": 1430901903, "answer_id": 30071734, "question_id": 30071286, "link": "https://stackoverflow.com/questions/30071286/check-if-local-variable-is-defined-given-its-name-as-string-in-ruby/30071734#30071734", "title": "Check if local variable is defined given it&#39;s name as string in ruby", "body": "<p>You can do it using <a href=\"http://ruby-doc.org/core-2.2.2/Kernel.html#method-i-eval\" rel=\"nofollow\"><code>eval</code></a>:</p>\n\n<pre><code>a = 'cat'\neval(\"defined?(#{'a'})\")\n=&gt; \"local-variable\"\neval(\"defined?(#{'b'})\")\n=&gt; nil\n</code></pre>\n\n<p>Disclaimer: This answer makes use of <code>eval</code>, so it can be dangerous if you don't strictly control the string you want to pass into it. And definitely you shouldn't do it this way if these strings come from user input.</p>\n"}, {"comments": [{"owner": {"reputation": 6363, "user_id": 2837813, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/5Xggf.png?s=128&g=1", "display_name": "ProGM", "link": "https://stackoverflow.com/users/2837813/progm"}, "edited": false, "score": 0, "creation_date": 1430902133, "post_id": 30071739, "comment_id": 48257530, "body": "So <code>local_variables</code> contains a list of all symbolic names of variables defined in the scope?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1538455164, "post_id": 30071739, "comment_id": 92138351, "body": "@EricDuminil &quot;This isn&#39;t equivalent to defined?&quot;-- Right. And how is that relevant to the question?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1538455460, "post_id": 30071739, "comment_id": 92138427, "body": "@EricDuminil The question does not mention the timing. Returning whether it is going to be defined in that context is one interpretation of the question. Do not force your interpretation."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1538457656, "post_id": 30071739, "comment_id": 92138948, "body": "@EricDuminil The situation is the same with the other two (non-deleted) answers. Why do you particularly target this answer?"}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 4, "last_activity_date": 1538464466, "last_edit_date": 1538464466, "creation_date": 1430901915, "answer_id": 30071739, "question_id": 30071286, "link": "https://stackoverflow.com/questions/30071286/check-if-local-variable-is-defined-given-its-name-as-string-in-ruby/30071739#30071739", "title": "Check if local variable is defined given it&#39;s name as string in ruby", "body": "<p>The following will return <code>true</code> when the local variable in question is (to be) defined in the context, not necessary in a position preceding the point of it:</p>\n\n<pre><code>local_variables.include?(\"a\".to_sym)\n#=&gt; true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": false, "score": 4, "last_activity_date": 1430907801, "creation_date": 1430907801, "answer_id": 30074015, "question_id": 30071286, "link": "https://stackoverflow.com/questions/30071286/check-if-local-variable-is-defined-given-its-name-as-string-in-ruby/30074015#30074015", "title": "Check if local variable is defined given it&#39;s name as string in ruby", "body": "<p>Starting with Ruby 2.1.0 you can use <a href=\"http://ruby-doc.org/core-2.2.2/Binding.html#method-i-local_variable_defined-3F\" rel=\"nofollow\"><code>Binding#local_variable_defined?</code></a>:</p>\n\n<pre><code>a = 'cat'\nbinding.local_variable_defined? 'a' #=&gt; true\nbinding.local_variable_defined? 'b' #=&gt; false\n</code></pre>\n"}], "owner": {"reputation": 6363, "user_id": 2837813, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/5Xggf.png?s=128&g=1", "display_name": "ProGM", "link": "https://stackoverflow.com/users/2837813/progm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 30071734, "answer_count": 3, "score": 3, "last_activity_date": 1538464466, "creation_date": 1430900669, "question_id": 30071286, "link": "https://stackoverflow.com/questions/30071286/check-if-local-variable-is-defined-given-its-name-as-string-in-ruby", "title": "Check if local variable is defined given it&#39;s name as string in ruby", "body": "<p>Can I check if a local variable is defined given it's name as string?</p>\n\n<p>I know there is the function <code>defined?</code>, but you have to give the variable itself.</p>\n\n<p>Example:</p>\n\n<pre><code>a = 'cat'\nprint defined?(a) # =&gt; \"cat\"\nprint defined?(b) # =&gt; nil\n</code></pre>\n\n<p>What I need is:</p>\n\n<pre><code>a = 'cat'\nprint string_defined?(\"a\") # =&gt; \"cat\"\nprint string_defined?(\"b\") # =&gt; nil\n</code></pre>\n\n<p>Or something like that. I can't find it in the docs...</p>\n\n<p>I tried to use <code>respond_to?</code>, but doesn't seems to work...</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1430905738, "post_id": 30070696, "comment_id": 48260025, "body": "The resulting html (which the javascript works on) has an id of &quot;test_level&quot;, not &quot;level-AS&quot;.  Once you are selecting the right element then <code>$(&#39;#&lt;elementID&gt;&#39;).val()</code> will give you the currently selected value. (substitute &lt;elementID&gt; for the id of the element you want to get)."}], "answers": [{"comments": [{"owner": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900255, "post_id": 30071004, "comment_id": 48256306, "body": "that still gives me undefined...I&#39;ve edited it to include the code for the form_helper I am trying to target"}, {"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "reply_to_user": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900384, "post_id": 30071004, "comment_id": 48256390, "body": "and what if you do: <code>$(&#39;#level-A2&#39;).val()</code> ? seems you have a typo"}, {"owner": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900442, "post_id": 30071004, "comment_id": 48256434, "body": "Sorry that was from a different page...I&#39;ve corrected the edit now"}, {"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "reply_to_user": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900510, "post_id": 30071004, "comment_id": 48256477, "body": "well, the js way to retrieve the value is what we suggest you, cant tell much more... whats the resulting html?"}, {"owner": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900707, "post_id": 30071004, "comment_id": 48256578, "body": "I know, which is why I&#39;m so confused as well...I&#39;ve edited it again to include the html"}, {"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "reply_to_user": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900747, "post_id": 30071004, "comment_id": 48256600, "body": "well here id is  <code>test_level</code> :)"}, {"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "reply_to_user": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900976, "post_id": 30071004, "comment_id": 48256749, "body": "happens to all of us :)"}], "tags": [], "owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "is_accepted": true, "score": 4, "last_activity_date": 1430910640, "last_edit_date": 1430910640, "creation_date": 1430899738, "answer_id": 30071004, "question_id": 30070696, "link": "https://stackoverflow.com/questions/30070696/targetting-f-select-rails-form-helper-with-javascript/30071004#30071004", "title": "targetting f.select rails form helper with javascript", "body": "<p>You should simply do:</p>\n\n<pre><code>$('#level-AS').val()\n</code></pre>\n\n<p>Or according to your html:</p>\n\n<pre><code>$('#test_level').val()\n</code></pre>\n\n<hr>\n\n<p>Sidenote, instead of targeting by id, you could do:</p>\n\n<pre><code>$('select[name=\"test[level]\"]').val()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430900246, "post_id": 30071122, "comment_id": 48256299, "body": "that gives me undefined still...I have included the code for the form_helper I am trying to target..."}], "tags": [], "owner": {"reputation": 1099, "user_id": 2024073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mETW6.jpg?s=128&g=1", "display_name": "Sarwan Kumar", "link": "https://stackoverflow.com/users/2024073/sarwan-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1430900127, "creation_date": 1430900127, "answer_id": 30071122, "question_id": 30070696, "link": "https://stackoverflow.com/questions/30070696/targetting-f-select-rails-form-helper-with-javascript/30071122#30071122", "title": "targetting f.select rails form helper with javascript", "body": "<p>You can call val() method to get value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#level-AS').val()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430906125, "post_id": 30073240, "comment_id": 48260259, "body": "thanks, I couldn&#39;t figure out why the id that I wanted wasn&#39;t correctly showing up in the html..."}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "edited": false, "score": 0, "creation_date": 1430910357, "post_id": 30073240, "comment_id": 48263182, "body": "The documentation is quite unclear, but the arguments to f.select are <code>field, options to use in the select, hash of special options for the select helper, hash of general other options</code>  If you don&#39;t wrap the last two in curly braces it thinks all the passed options are part of the third argument.  It&#39;s an example where ruby&#39;s optional braces kind of screw you over if you don&#39;t use them."}], "tags": [], "owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "is_accepted": false, "score": 1, "last_activity_date": 1430905928, "creation_date": 1430905928, "answer_id": 30073240, "question_id": 30070696, "link": "https://stackoverflow.com/questions/30070696/targetting-f-select-rails-form-helper-with-javascript/30073240#30073240", "title": "targetting f.select rails form helper with javascript", "body": "<p>I think your problem is that the ID in your f.select is getting lost.  I think it's due to how rails is splitting up the arguments into the various sections.  Try this:</p>\n\n<pre><code>= f.select :level, [[\"L1 - Super easy\", 1], [\"L2 - Warm-up\", 2], [\"L3 - Easy exam questions\", 3], [\"L4 - Moderate exam questions\", 4], [\"L5 - Difficult exam questions\", 5]], {}, {id: \"level-AS\"}\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 4262212, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ENDig.jpg?s=128&g=1", "display_name": "camillavk", "link": "https://stackoverflow.com/users/4262212/camillavk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 30071004, "answer_count": 3, "score": 2, "last_activity_date": 1430918867, "creation_date": 1430898786, "last_edit_date": 1430918867, "question_id": 30070696, "link": "https://stackoverflow.com/questions/30070696/targetting-f-select-rails-form-helper-with-javascript", "title": "targetting f.select rails form helper with javascript", "body": "<p>I'm trying to retrieve the value of a <code>f.select</code> form helper in my rails application. </p>\n\n<p>The code for the f.select is (in HAML):</p>\n\n<pre><code>= f.select :level, [[\"L1 - Super easy\", 1], [\"L2 - Warm-up\", 2], [\"L3 - Easy exam questions\", 3], [\"L4 - Moderate exam questions\", 4], [\"L5 - Difficult exam questions\", 5]], id: \"level-AS\"\n</code></pre>\n\n<p>which results in the following html:</p>\n\n<pre><code>&lt;select id=\"test_level\" name=\"test[level]\"&gt;\n\n    &lt;option value=\"1\" selected=\"selected\"&gt;L1 - Super easy&lt;/option&gt;\n    &lt;option value=\"2\"&gt;L2 - Warm-up&lt;/option&gt;\n    &lt;option value=\"3\"&gt;L3 - Easy exam questions&lt;/option&gt;\n    &lt;option value=\"4\"&gt;L4 - Moderate exam questions&lt;/option&gt;\n    &lt;option value=\"5\"&gt;L5 - Difficult exam questions&lt;/option&gt;\n\n&lt;/select&gt;\n</code></pre>\n\n<p>The f.select has an id of \"level-AS\" and I have managed to target it using</p>\n\n<pre><code>$('#level-AS').select()\n</code></pre>\n\n<p>and that gives me <code>Object { context: HTMLDocument \u2192 new, selector: \"#level-AS\" }</code> but what I want is for it to return the actual value that has been selected, i.e. \"Easy\" or \"Hard\".</p>\n\n<p>I also tried </p>\n\n<pre><code>$('#level-AS').select().val()\n</code></pre>\n\n<p>and I have also tried</p>\n\n<pre><code>$('#level-AS').val()\n</code></pre>\n\n<p>but this returns undefined....</p>\n"}, {"tags": ["ruby", "sinatra"], "comments": [{"owner": {"reputation": 34664, "user_id": 390819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee2ef44de10f7791cca06df317246935?s=128&d=identicon&r=PG", "display_name": "Cristian Lupascu", "link": "https://stackoverflow.com/users/390819/cristian-lupascu"}, "edited": false, "score": 0, "creation_date": 1430898767, "post_id": 30070654, "comment_id": 48255426, "body": "try <a href=\"http://stackoverflow.com/a/2777863/390819\">this</a> for example."}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 1138717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7602a9347c37395987616579fe4c9b1e?s=128&d=identicon&r=PG", "display_name": "davidesantangelo", "link": "https://stackoverflow.com/users/1138717/davidesantangelo"}, "is_accepted": false, "score": 1, "last_activity_date": 1558691853, "last_edit_date": 1558691853, "creation_date": 1430902962, "answer_id": 30072141, "question_id": 30070654, "link": "https://stackoverflow.com/questions/30070654/ruby-sinatra-how-to-capture-post-json-data-and-save-to-file/30072141#30072141", "title": "Ruby Sinatra - How to capture post json data and save to file", "body": "<p>To write file in ruby you can use:</p>\n\n<pre><code>File.open('/your/path/file', 'w') { |file| file.write(values) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 477, "user_id": 4844307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9370e4a0e3c86962f9e438f19d874011?s=128&d=identicon&r=PG&f=1", "display_name": "Tedha", "link": "https://stackoverflow.com/users/4844307/tedha"}, "edited": false, "score": 0, "creation_date": 1430913368, "post_id": 30074128, "comment_id": 48265220, "body": "Thanks for posting.. but somehow it is not working for me. I don&#39;t even see the file &quot;file.txt&quot; in the current directory, and even if I create a file.txt, after posting, the file.txt is empty. I wonder if  there something I missed."}], "tags": [], "owner": {"reputation": 2467, "user_id": 3703048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/953952e7b8c1e4929c87cd7eec72bc51?s=128&d=identicon&r=PG", "display_name": "Shahzad Tariq", "link": "https://stackoverflow.com/users/3703048/shahzad-tariq"}, "is_accepted": true, "score": 2, "last_activity_date": 1430908083, "creation_date": 1430908083, "answer_id": 30074128, "question_id": 30070654, "link": "https://stackoverflow.com/questions/30070654/ruby-sinatra-how-to-capture-post-json-data-and-save-to-file/30074128#30074128", "title": "Ruby Sinatra - How to capture post json data and save to file", "body": "<p>Try this</p>\n\n<pre><code>#!/usr/bin/env ruby\nrequire 'rubygems'\nrequire 'sinatra'\nrequire 'json'\n\npost '/' do\n  values = JSON.parse(request.env[\"rack.input\"].read)\n  File.open('file.txt', 'w') { |file| file.write(values) }\nend\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 4844307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9370e4a0e3c86962f9e438f19d874011?s=128&d=identicon&r=PG&f=1", "display_name": "Tedha", "link": "https://stackoverflow.com/users/4844307/tedha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1626, "favorite_count": 0, "accepted_answer_id": 30074128, "answer_count": 2, "score": 2, "last_activity_date": 1558691853, "creation_date": 1430898648, "last_edit_date": 1430898706, "question_id": 30070654, "link": "https://stackoverflow.com/questions/30070654/ruby-sinatra-how-to-capture-post-json-data-and-save-to-file", "title": "Ruby Sinatra - How to capture post json data and save to file", "body": "<p>How do I capture a Json data from POST route and save it to file? I have simple ruby sinatra code as below.</p>\n\n<pre><code>#!/usr/bin/env ruby\nrequire 'rubygems'\nrequire 'sinatra'\nrequire 'json'\n\npost '/' do\n  values = JSON.parse(request.env[\"rack.input\"].read)\n# How do I save \"values\" of JSON to file..\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 1523, "user_id": 2710542, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/I6OxP.jpg?s=128&g=1", "display_name": "HXH", "link": "https://stackoverflow.com/users/2710542/hxh"}, "edited": false, "score": 0, "creation_date": 1430979555, "post_id": 30072392, "comment_id": 48298960, "body": "Display the current time, like &lt;%= Time.now %&gt;. If it doesn&#39;t change when you reload the page, it&#39;s been cached."}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 1523, "user_id": 2710542, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/I6OxP.jpg?s=128&g=1", "display_name": "HXH", "link": "https://stackoverflow.com/users/2710542/hxh"}, "edited": false, "score": 0, "creation_date": 1431001648, "post_id": 30072392, "comment_id": 48313418, "body": "Have you restarted your server after changing the config?  What is the instance variable <code>@dmeo</code>?  What happens if you just have <code>-cache do</code> then <code>h1 The time is  #{Time.now}</code>"}, {"owner": {"reputation": 1523, "user_id": 2710542, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/I6OxP.jpg?s=128&g=1", "display_name": "HXH", "link": "https://stackoverflow.com/users/2710542/hxh"}, "edited": false, "score": 0, "creation_date": 1431053592, "post_id": 30072392, "comment_id": 48340778, "body": "<code>-chache do</code> will raise <code>wrong number of arguments (0 for 1)</code>"}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 1523, "user_id": 2710542, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/I6OxP.jpg?s=128&g=1", "display_name": "HXH", "link": "https://stackoverflow.com/users/2710542/hxh"}, "edited": false, "score": 0, "creation_date": 1431072431, "post_id": 30072392, "comment_id": 48347789, "body": "I was going off this - <a href=\"http://guides.rubyonrails.org/caching_with_rails.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/caching_with_rails.html</a>   Which version of rails are you using?"}], "tags": [], "owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "is_accepted": true, "score": 1, "last_activity_date": 1430903587, "creation_date": 1430903587, "answer_id": 30072392, "question_id": 30070637, "link": "https://stackoverflow.com/questions/30070637/where-is-fragment-caching-in-development/30072392#30072392", "title": "where is Fragment Caching in development", "body": "<p>The app config tells Rails <strong>how</strong> to cache things, via the <code>cache_store</code> option.  Whole pages are cached to disk but fragments are by default cached in memory.</p>\n\n<p><a href=\"http://guides.rubyonrails.org/caching_with_rails.html#cache-stores\" rel=\"nofollow\">http://guides.rubyonrails.org/caching_with_rails.html#cache-stores</a></p>\n\n<p>if you want everything in tmp/cache try setting</p>\n\n<pre><code>config.cache_store = :file_store, \"tmp/cache\"\n</code></pre>\n\n<p>I haven't tried this myself but according to the docs it looks like it would work.</p>\n"}], "owner": {"reputation": 1523, "user_id": 2710542, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/I6OxP.jpg?s=128&g=1", "display_name": "HXH", "link": "https://stackoverflow.com/users/2710542/hxh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 30072392, "answer_count": 1, "score": 0, "last_activity_date": 1430918876, "creation_date": 1430898582, "last_edit_date": 1430918876, "question_id": 30070637, "link": "https://stackoverflow.com/questions/30070637/where-is-fragment-caching-in-development", "title": "where is Fragment Caching in development", "body": "<p>I want use Fragment Caching in my app ,so I write a test in <code>home/index.slim</code> in development mode:</p>\n\n<pre><code>-cache @dmeo do\n  h1 hello wold\n</code></pre>\n\n<p>But I can't find the cache file in <code>tmp/cache</code>.</p>\n\n<p>and I have set <code>config.action_controller.perform_caching = true</code> in <code>config/environments/development.rb</code>.</p>\n\n<p>Now I don't know whether the Fragment Caching work,where the cache file?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "edited": false, "score": 0, "creation_date": 1430906743, "post_id": 30070484, "comment_id": 48260706, "body": "if you want to just use max and min count..you can use the default maxlenght and  minlenght provided by html..."}, {"owner": {"reputation": 8321, "user_id": 2925295, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/phStt.jpg?s=128&g=1", "display_name": "SujitS", "link": "https://stackoverflow.com/users/2925295/sujits"}, "reply_to_user": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "edited": false, "score": 0, "creation_date": 1430908280, "post_id": 30070484, "comment_id": 48261765, "body": "Sorry, but that didn&#39;t worked for me."}, {"owner": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "edited": false, "score": 0, "creation_date": 1430909179, "post_id": 30070484, "comment_id": 48262381, "body": "You can give a try to jquery.validate js and set up validations on any field that you want....refer <a href=\"http://jqueryvalidation.org/documentation/\" rel=\"nofollow noreferrer\">jqueryvalidation.org/documentation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8321, "user_id": 2925295, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/phStt.jpg?s=128&g=1", "display_name": "SujitS", "link": "https://stackoverflow.com/users/2925295/sujits"}, "is_accepted": true, "score": 0, "last_activity_date": 1430911131, "creation_date": 1430911131, "answer_id": 30075203, "question_id": 30070484, "link": "https://stackoverflow.com/questions/30070484/how-to-add-front-end-validation-in-bootstrap-wysihtml5-rails/30075203#30075203", "title": "How to add front end validation in bootstrap-wysihtml5-rails", "body": "<p>Found the solution by adding the events as suggested by the <a href=\"https://guides.github.com/features/mastering-markdown/\" rel=\"nofollow\">documentation</a></p>\n\n<pre><code>$('#some-textarea').wysihtml5({\n    \"events\": {\n        \"load\": function() { \n            console.log(\"Loaded!\");\n        },\n        \"blur\": function() { \n            console.log(\"Blured\");\n        }\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 8321, "user_id": 2925295, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/phStt.jpg?s=128&g=1", "display_name": "SujitS", "link": "https://stackoverflow.com/users/2925295/sujits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 30075203, "answer_count": 1, "score": 0, "last_activity_date": 1430911131, "creation_date": 1430898164, "last_edit_date": 1592644375, "question_id": 30070484, "link": "https://stackoverflow.com/questions/30070484/how-to-add-front-end-validation-in-bootstrap-wysihtml5-rails", "title": "How to add front end validation in bootstrap-wysihtml5-rails", "body": "<p>I have integrated the <code>bootstrap-wysihtml5</code> editor to description section in my rails application. Now I want to add the client side validation so that it would validate the presence of description field. I used <a href=\"https://github.com/Nerian/bootstrap-wysihtml5-rails\" rel=\"nofollow noreferrer\">bootstrap-wysihtml5-rails</a> gem.</p>\n<p>The editor is being initialized with following code:</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\n$(document).ready(function(){\n\n    $('#description').each(function(i, elem) {\n        $(elem).wysihtml5({\n            toolbar: {\n                &quot;fa&quot;: true, // use Font Awesome\n                &quot;font-styles&quot;: false, // Font styling, e.g. h1, h2, etc.\n                &quot;emphasis&quot;: true, // Italics, bold, etc.\n                &quot;lists&quot;: false, // (Un)ordered lists, e.g. Bullets, Numbers.\n                &quot;html&quot;: false, // Button which allows you to edit the generated HTML.\n                &quot;link&quot;: true, // Button to insert a link.\n                &quot;image&quot;: true, // Button to insert an image.\n                &quot;color&quot;: false, // Button to change color of font\n                &quot;blockquote&quot;: false // Blockquote\n            }\n        });\n    });\n\n})\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ruby", "watir"], "comments": [{"owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "edited": false, "score": 0, "creation_date": 1430903070, "post_id": 30070448, "comment_id": 48258188, "body": "Depending on what you mean by completely loaded?"}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1430958416, "post_id": 30070448, "comment_id": 48292749, "body": "Looking at <a href=\"https://github.com/watir/watirspec/blob/master/browser_spec.rb\" rel=\"nofollow noreferrer\">watir-spec</a>, <code>#status</code> is browser-dependent.  But--FWIW--that method doesn&#39;t seem to work for me on any browser (and I can&#39;t recall ever using it)."}], "answers": [{"comments": [{"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1430914056, "post_id": 30072312, "comment_id": 48265733, "body": "hi, First of all, I was asking the watir code, not selenium code and then Even I know this waiting code something like b.text_field.when_present.set() or I could use wait_until_present, but I don&#39;t want this, When I check the browser, if the page is being loaded, then it needs to tell me false, it&#39;s loaded completely then it needs to be tell me true."}, {"owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "reply_to_user": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1430981325, "post_id": 30072312, "comment_id": 48299864, "body": "Ad stated you can only check if the HTML has been loaded. If you have javascripts loading afterwards it will not wait for them. Then you have to wait for the specific element"}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431023002, "post_id": 30072312, "comment_id": 48328664, "body": "hi, I have executed your code but it throws the following error for me. &quot;<code>&lt;main&gt;&#39;: undefined method </code>ready_state&#39; for #&lt;Watir::Browser:0x..fc4dc3de4 url=&quot;about:blank&quot; title=&quot;&quot;&gt; (NoMethodError)"}, {"owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "reply_to_user": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431074705, "post_id": 30072312, "comment_id": 48348976, "body": "What are your gems version number?"}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431075945, "post_id": 30072312, "comment_id": 48349794, "body": "watir (4.0.2 x86-mingw32) watir-classic (3.7.0) watir-webdriver (0.7.0)"}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431076373, "post_id": 30072312, "comment_id": 48350081, "body": "hi I tried with &#39;watir (5.0.0 x86-mingw32, 4.0.2 x86-mingw32) watir-classic (4.0.1, 3.7.0) watir-webdriver (0.7.0)&#39; as well, but throws the same error &quot;<code>&lt;main&gt;&#39;: undefined method </code>ready_state&#39; for #&lt;Watir::Browser:0x7552f376 url=&quot;about:blank&quot; title=&quot;&quot;&gt; (NoMethodError)&quot;"}, {"owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "reply_to_user": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431081986, "post_id": 30072312, "comment_id": 48353383, "body": "Can you check this? lib/watir-webdriver/browser.rb for ready_state"}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431089855, "post_id": 30072312, "comment_id": 48358433, "body": "hi, Thank you very much, Actually I was using WATIR instead of WATI-WEBDRIVER, that&#39;s what I haven&#39;t gotten the output, As soon as I use the WATIR-WEBDRIVER, it&#39;s reported correctly. But is it not possible in WATIR?"}, {"owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "reply_to_user": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431092535, "post_id": 30072312, "comment_id": 48360259, "body": "Watir almost doesnt have any functions at all. See <a href=\"http://www.rubydoc.info/gems/watir/Watir\" rel=\"nofollow noreferrer\">Watir Doc</a>"}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431092770, "post_id": 30072312, "comment_id": 48360431, "body": "Okay, I am scared to use this watir-webdriver because it doesn&#39;t provide the way to attach the browser like Watir::IE.attach(:index,0)."}, {"owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "reply_to_user": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431092869, "post_id": 30072312, "comment_id": 48360500, "body": "See link for ways to do it in watir-webdriver. <a href=\"http://h3manth.com/content/watir-webdriver-attach-window\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "reply_to_user": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431092982, "post_id": 30072312, "comment_id": 48360567, "body": "Also see this <a href=\"http://stackoverflow.com/questions/26386418/how-to-use-attach-an-existing-browser-using-selenium\">link.</a>"}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1431177111, "post_id": 30072312, "comment_id": 48389366, "body": "hi, I know of this link before &#39;<a href=\"http://h3manth.com/content/watir-webdriver-attach-window\" rel=\"nofollow noreferrer\">h3manth.com/content/watir-webdriver-attach-window</a>&#39;, But it&#39;s not working for me, did you try that out by yourself? If I opened more than browser, I can&#39;t connect to the previous browsers as he explained in his article, Could you please try that out and let me know whether it&#39;s working for you?"}], "tags": [], "owner": {"reputation": 184, "user_id": 3170623, "user_type": "registered", "profile_image": "https://graph.facebook.com/703956801/picture?type=large", "display_name": "Andreas Waldahl", "link": "https://stackoverflow.com/users/3170623/andreas-waldahl"}, "is_accepted": false, "score": 3, "last_activity_date": 1430981225, "last_edit_date": 1430981225, "creation_date": 1430903372, "answer_id": 30072312, "question_id": 30070448, "link": "https://stackoverflow.com/questions/30070448/how-can-i-check-whether-new-page-is-completely-loaded-or-not-using-watir/30072312#30072312", "title": "How can I check whether new page is completely loaded or not using Watir", "body": "<p>Depending on what you mean by completely loaded? All HTML or all HTML and JavaScripts.</p>\n\n<p>For HTML</p>\n\n<pre><code>browser = Watir::Browser.new\n#To check if page has been loaded\nready = browser.ready_state.eql? \"complete\"\n#To wait until page has been loaded\nbrowser.wait\n</code></pre>\n\n<p>For JavaScript and HTML. For these you have to wait for each specific element\nThis code will wait until the element i enable, meaning clickable.</p>\n\n<pre><code>browser = Watir::Browser.new    \nbrowser.text_field(:id =&gt; 'id_of_object').wait_until_present\n</code></pre>\n"}], "owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3345, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1430981225, "creation_date": 1430898030, "last_edit_date": 1430898514, "question_id": 30070448, "link": "https://stackoverflow.com/questions/30070448/how-can-i-check-whether-new-page-is-completely-loaded-or-not-using-watir", "title": "How can I check whether new page is completely loaded or not using Watir", "body": "<p>Is there any way I can check whether a particular page completely loaded or not using Watir?</p>\n\n<p>I tried with <code>browser.status</code> but it's not printing anything.</p>\n"}, {"tags": ["javascript", "jquery", "ruby-on-rails", "ruby", "cloud9-ide"], "comments": [{"owner": {"reputation": 2186, "user_id": 4682796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9a34ec3ed56e290f3afa5319aa187ed?s=128&d=identicon&r=PG&f=1", "display_name": "jmgross", "link": "https://stackoverflow.com/users/4682796/jmgross"}, "edited": false, "score": 2, "creation_date": 1430897989, "post_id": 30070376, "comment_id": 48254917, "body": "You should clear your includes and remove deplicate jQuery and jQuery Validate"}], "answers": [{"tags": [], "owner": {"reputation": 78237, "user_id": 2025923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYYVM.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2025923/tushar"}, "is_accepted": false, "score": 2, "last_activity_date": 1430897998, "creation_date": 1430897998, "answer_id": 30070436, "question_id": 30070376, "link": "https://stackoverflow.com/questions/30070376/validate-is-not-a-function/30070436#30070436", "title": "$(...).validate is not a function", "body": "<p>You are including the <code>jquery</code>, <code>jquery.validate.js</code> and <code>rego</code> twice. Remove that and it should work.</p>\n\n<p>After seeing your page, I see you are loading <code>jquery</code> three times.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4869466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b29c46bf79a1b88fb5e1142baa98753?s=128&d=identicon&r=PG&f=1", "display_name": "dynaman", "link": "https://stackoverflow.com/users/4869466/dynaman"}, "edited": false, "score": 0, "creation_date": 1430912293, "post_id": 30073293, "comment_id": 48264465, "body": "Thanks for the input :D"}], "tags": [], "owner": {"reputation": 911, "user_id": 1063230, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c36d453c7020e4859dd6db667cf44fa8?s=128&d=identicon&r=PG", "display_name": "Kishore Mohan", "link": "https://stackoverflow.com/users/1063230/kishore-mohan"}, "is_accepted": true, "score": 0, "last_activity_date": 1430906055, "creation_date": 1430906055, "answer_id": 30073293, "question_id": 30070376, "link": "https://stackoverflow.com/questions/30070376/validate-is-not-a-function/30073293#30073293", "title": "$(...).validate is not a function", "body": "<p>You are duplicating <code>'jquery-2.1.3.min', 'jquery.validate.min', 'rego'</code> in both HTML and Rails. Maintain either Rails or HTML code.\nGood practice is to mention your Javascript and Stylesheet in application.css and application.js. And just load application file in HTML/Rails. </p>\n\n<p><strong>Good Practice</strong></p>\n\n<p><em>application.js</em></p>\n\n<p><code>//= require jquery\n//= require jquery.validate.min\n//= require rego</code></p>\n\n<p><em>application.html.erb</em></p>\n\n<p><code>&lt;%= javascript_include_tag 'application' %&gt;</code></p>\n"}], "owner": {"reputation": 31, "user_id": 4869466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b29c46bf79a1b88fb5e1142baa98753?s=128&d=identicon&r=PG&f=1", "display_name": "dynaman", "link": "https://stackoverflow.com/users/4869466/dynaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "accepted_answer_id": 30073293, "answer_count": 2, "score": 1, "last_activity_date": 1430919274, "creation_date": 1430897813, "last_edit_date": 1430919274, "question_id": 30070376, "link": "https://stackoverflow.com/questions/30070376/validate-is-not-a-function", "title": "$(...).validate is not a function", "body": "<p>I am having trouble with the JQuery validation plugin specifically actually getting the function to be recognised. I am currently using Cloud9 Ruby on Rails development base and although the code I am using seems to work on my local machine it does not work on Cloud 9.</p>\n\n<p><a href=\"http://ipt-dynaman.c9.io/register\" rel=\"nofollow\">http://ipt-dynaman.c9.io/register</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n    $(\"#Register\").validate({\r\n       errorElement: 'div',    \r\n       rules: {\r\n            Username: \"required\",\r\n            password: {\r\n            required: true,\r\n            minlength: 6\r\n            },\r\n            rePassword: {\r\n            required: true,\r\n            minlength: 6,\r\n            equalTo:\"#password\"\r\n            },\r\n       },\r\n       messages: {\r\n            Username: \"Please specify a username\",\r\n            Password: {\r\n            required: \"Please specify a password\",\r\n            minlength: \"Please entire at least 6 characters\"\r\n            },\r\n            rePassword: {\r\n            required: \"Please re-enter your password\",\r\n            equalTo: \"Password mismatch\"\r\n            },\r\n       }\r\n    });\r\n    console.log(\"eqwfqewqef\");\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"CSS/style.css\" /&gt;\r\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"CSS/SI.css\" /&gt;\r\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"CSS/unsemantic-grid-responsive.css\" /&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"CSS/font-awesome-4.3.0\\font-awesome-4.3.0\\css\\font-awesome.min.css\" /&gt;\r\n    &lt;script type=\"application/javascript\" src=\"js/jquery-2.1.3.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script type=\"application/javascript\" src=\"js/rego.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"js/jquery-validation-1.13.1/dist/jquery.validate.min.js\"&gt;&lt;/script&gt;\r\n    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' =&gt; true %&gt;\r\n    &lt;%= javascript_include_tag 'jquery-2.1.3.min', 'jquery.validate.min', 'rego', 'application' %&gt;\r\n    &lt;%= csrf_meta_tags %&gt;\r\n&lt;title&gt;Page links&lt;/title&gt;\r\n&lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;%= render partial: \"layouts/sign_header\" %&gt;  \r\n        &lt;%= yield %&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>All file paths are correct (I assume) as Chrome console could only detect an error in the validate function.</p>\n\n<p>Please help I am going hard as hell to get 100% for my year 12 IT project. Please tell me if I am missing any valuable info as well.</p>\n"}, {"tags": ["ruby", "ruby-2.1.5"], "comments": [{"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1430898421, "post_id": 30070319, "comment_id": 48255218, "body": "I may be wrong but I suspect there&#39;s an ambiguity for the parser knowing where to split things, adding parentheses remove this ambiguity giving what is a parameter to what."}], "answers": [{"comments": [{"owner": {"reputation": 94, "user_id": 1744430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b751f4b5a8aeedc5017a2e1ffa869035?s=128&d=identicon&r=PG", "display_name": "Ram Kumar", "link": "https://stackoverflow.com/users/1744430/ram-kumar"}, "edited": false, "score": 0, "creation_date": 1430982891, "post_id": 30073733, "comment_id": 48300732, "body": "Thanks for your explanation"}], "tags": [], "owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "is_accepted": true, "score": 0, "last_activity_date": 1430907098, "creation_date": 1430907098, "answer_id": 30073733, "question_id": 30070319, "link": "https://stackoverflow.com/questions/30070319/ruby-ternary-operator-and-method-call/30073733#30073733", "title": "Ruby ternary operator and method call", "body": "<p>When you use the shorthand syntax (without brackets), ruby expects everything until the end of the line to be parameters to your method. So your \"syntax error\" example is understood as:</p>\n\n<pre><code>request.xhr?  ? render(:json =&gt; \"success\"  : redirect_to index_url)\n</code></pre>\n\n<p>which is obviously wrong.</p>\n"}], "owner": {"reputation": 94, "user_id": 1744430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b751f4b5a8aeedc5017a2e1ffa869035?s=128&d=identicon&r=PG", "display_name": "Ram Kumar", "link": "https://stackoverflow.com/users/1744430/ram-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 30073733, "answer_count": 1, "score": -2, "last_activity_date": 1430907098, "creation_date": 1430897672, "question_id": 30070319, "link": "https://stackoverflow.com/questions/30070319/ruby-ternary-operator-and-method-call", "title": "Ruby ternary operator and method call", "body": "<p>I am using ruby 2.1.5, facing some problem with ternary operator</p>\n\n<p>Syntax error</p>\n\n<pre><code>request.xhr?  ? render :json =&gt; \"success\"  : redirect_to index_url\n</code></pre>\n\n<p>working </p>\n\n<pre><code>request.xhr?  ? render(:json =&gt; \"success\") : redirect_to(index_url)\n</code></pre>\n\n<p>Can some please explain How its works and why above one not working? Thanks in advance</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "devise"], "answers": [{"tags": [], "owner": {"reputation": 5714, "user_id": 2389501, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/23f6a708c04c660111117c4613592689?s=128&d=identicon&r=PG", "display_name": "Mateusz Urba\u0144ski", "link": "https://stackoverflow.com/users/2389501/mateusz-urba%c5%84ski"}, "is_accepted": true, "score": 1, "last_activity_date": 1430904966, "last_edit_date": 1430904966, "creation_date": 1430898109, "answer_id": 30070467, "question_id": 30070226, "link": "https://stackoverflow.com/questions/30070226/ruby-on-rails-uncaught-throw-warden-with-devise/30070467#30070467", "title": "Ruby on Rails uncaught throw :warden with Devise.", "body": "<p>Everything is explained here:\n<a href=\"https://github.com/plataformatec/devise/issues/2332\" rel=\"nofollow\">https://github.com/plataformatec/devise/issues/2332</a></p>\n\n<blockquote>\n  <p>Wrapping my routes in an authenticate do...end block is a great\n  workaround</p>\n</blockquote>\n"}], "owner": {"reputation": 5714, "user_id": 2389501, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/23f6a708c04c660111117c4613592689?s=128&d=identicon&r=PG", "display_name": "Mateusz Urba\u0144ski", "link": "https://stackoverflow.com/users/2389501/mateusz-urba%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 30070467, "answer_count": 1, "score": 1, "last_activity_date": 1430904966, "creation_date": 1430897428, "question_id": 30070226, "link": "https://stackoverflow.com/questions/30070226/ruby-on-rails-uncaught-throw-warden-with-devise", "title": "Ruby on Rails uncaught throw :warden with Devise.", "body": "<p>I have a very strange problem in my Ruby on Rails application. I have controller that looks like this:</p>\n\n<pre><code>class PersonReportsController &lt; ApplicationController\n  include ActionController::Live\n  load_and_authorize_resource except: [:index]\n\n  def index\n    #some code\n  end\nend\n</code></pre>\n\n<p>and when I try to access it as an unlogged user application throws following error:</p>\n\n<pre><code>uncaught throw :warden\n</code></pre>\n\n<p>But when I delete from my controller:</p>\n\n<pre><code>include ActionController::Live\n</code></pre>\n\n<p>everything works fine...\nAny ideas how to solve this problem?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "foreman"], "answers": [{"comments": [{"owner": {"reputation": 11760, "user_id": 2926641, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/962e08aff17872bda3f89a9ee6849ab3?s=128&d=identicon&r=PG", "display_name": "asiniy", "link": "https://stackoverflow.com/users/2926641/asiniy"}, "edited": false, "score": 0, "creation_date": 1430904818, "post_id": 30072111, "comment_id": 48259435, "body": "Thanks for help, but this seems little strange for me, because of there is no way to solve this issue beautiful"}, {"owner": {"reputation": 32682, "user_id": 120518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/edf1077f9152b361937f12707e3af891?s=128&d=identicon&r=PG", "display_name": "Shadwell", "link": "https://stackoverflow.com/users/120518/shadwell"}, "reply_to_user": {"reputation": 11760, "user_id": 2926641, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/962e08aff17872bda3f89a9ee6849ab3?s=128&d=identicon&r=PG", "display_name": "asiniy", "link": "https://stackoverflow.com/users/2926641/asiniy"}, "edited": false, "score": 1, "creation_date": 1430906437, "post_id": 30072111, "comment_id": 48260497, "body": "There is this (closed) issue on the gem : <a href=\"https://github.com/ddollar/foreman/issues/466\" rel=\"nofollow noreferrer\">github.com/ddollar/foreman/issues/466</a> . The work around suggests using <code>all=1</code> so your call would be <code>foreman start -c all=1,faking_custom_process=0</code>."}, {"owner": {"reputation": 11760, "user_id": 2926641, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/962e08aff17872bda3f89a9ee6849ab3?s=128&d=identicon&r=PG", "display_name": "asiniy", "link": "https://stackoverflow.com/users/2926641/asiniy"}, "edited": false, "score": 0, "creation_date": 1430906700, "post_id": 30072111, "comment_id": 48260685, "body": "Oh, ok!  I think I can close the issue"}], "tags": [], "owner": {"reputation": 32682, "user_id": 120518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/edf1077f9152b361937f12707e3af891?s=128&d=identicon&r=PG", "display_name": "Shadwell", "link": "https://stackoverflow.com/users/120518/shadwell"}, "is_accepted": true, "score": 1, "last_activity_date": 1430903267, "last_edit_date": 1430903267, "creation_date": 1430902879, "answer_id": 30072111, "question_id": 30070104, "link": "https://stackoverflow.com/questions/30070104/foreman-conditional-running-processes/30072111#30072111", "title": "Foreman conditional running processes", "body": "<p>There's no option in foreman to just skip a process. I think you'd need to extend your start invocation to do something different too if you want to run the other processes. Otherwise you're just telling it to run zero copies of <code>faking_custom_process</code> and nothing else:</p>\n\n<pre><code>foreman start -m web=1,custom_process=1,faking_custom_process=0\n</code></pre>\n\n<p>or for the faking version:</p>\n\n<pre><code>foreman start -m web=1,custom_process=0,faking_custom_process=1\n</code></pre>\n\n<p>You could of course script that so you've got two scripts running those different versions.</p>\n\n<hr>\n\n<p>An alternative would be to switch faking on or off using a variable in the environment (I'm not convinced it's any easier but it's an alternative):</p>\n\n<pre><code>web: bundle exec rails d\ncustom_process: PROCESS=$FAKING\"process\" &amp;&amp; bundle exec rake custom:$PROCESS\n</code></pre>\n\n<p>A normal <code>foreman start</code> will just run <code>bundle exec rake custom:process</code>. </p>\n\n<p>For the faking equivalent you can do: </p>\n\n<pre><code>export FAKING=\"faking_\"\n</code></pre>\n\n<p>which will mean that from then on <code>foreman start</code> it will call <code>bundle exec rake custom:faking_process</code> instead.</p>\n\n<p>You can return to the normal process by clearing the <code>FAKING</code> variable with:</p>\n\n<pre><code>export FAKING=\n</code></pre>\n\n<p>You could of course encapsulate that into a shell script too.</p>\n"}, {"tags": [], "owner": {"reputation": 11012, "user_id": 153786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/858efee2f87addacc484359ec7e2bbb5?s=128&d=identicon&r=PG", "display_name": "Wojtek Kruszewski", "link": "https://stackoverflow.com/users/153786/wojtek-kruszewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1447064332, "last_edit_date": 1447064332, "creation_date": 1447063546, "answer_id": 33606655, "question_id": 30070104, "link": "https://stackoverflow.com/questions/30070104/foreman-conditional-running-processes/33606655#33606655", "title": "Foreman conditional running processes", "body": "<p>You can use .profile to store default options for <code>foreman start</code>:</p>\n\n<pre><code>concurrency: web=1,custom_process=1,faking_custom_process=0\n</code></pre>\n\n<p>or using shortcut:</p>\n\n<pre><code>concurrency: all=1,faking_custom_process=0\n</code></pre>\n\n<p>And then you override this default option to switch to fake process:</p>\n\n<pre><code>foreman start -c all=1,custom_process=0\n</code></pre>\n\n<p>See: <a href=\"http://ddollar.github.io/foreman/#DEFAULT-OPTIONS\" rel=\"nofollow\">http://ddollar.github.io/foreman/#DEFAULT-OPTIONS</a></p>\n"}], "owner": {"reputation": 11760, "user_id": 2926641, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/962e08aff17872bda3f89a9ee6849ab3?s=128&d=identicon&r=PG", "display_name": "asiniy", "link": "https://stackoverflow.com/users/2926641/asiniy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 30072111, "answer_count": 2, "score": 0, "last_activity_date": 1447064332, "creation_date": 1430897004, "question_id": 30070104, "link": "https://stackoverflow.com/questions/30070104/foreman-conditional-running-processes", "title": "Foreman conditional running processes", "body": "<p>I have a foreman app with a Procfile like this</p>\n\n<pre><code>web: bundle exec rails s\ncustom_process: bundle exec rake custom:process\nfaking_custom_process: bundle exec rake custom:faking_process\n</code></pre>\n\n<p>And I want to run <code>custom_process</code> or <code>faking custom_process</code> depends on my needs:</p>\n\n<pre><code>foreman start # run web &amp; custom_process\nFAKING_PROCESS # run web &amp; faking_custom_process\n</code></pre>\n\n<p>Yes, I know about ability of running like that <code>foreman start -c faking_custom_process=0</code>, but this is more difficult than I expect, right?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "oauth", "omniauth", "aweber"], "answers": [{"comments": [{"owner": {"reputation": 5289, "user_id": 1603071, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/276bfc5a10ac57a2732b127239bf4c32?s=128&d=identicon&r=PG", "display_name": "GMA", "link": "https://stackoverflow.com/users/1603071/gma"}, "edited": false, "score": 0, "creation_date": 1431409101, "post_id": 30181866, "comment_id": 48470824, "body": "I ended up solving it by storing the token secret in the session instead of some kind of global state (see my answer). But thanks a lot for your effort, I really appreciate it."}], "tags": [], "owner": {"reputation": 1329, "user_id": 4067206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744808f16c60746bdad874140156c809?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/4067206/mario"}, "is_accepted": false, "score": 1, "last_activity_date": 1431407027, "last_edit_date": 1592644375, "creation_date": 1431405315, "answer_id": 30181866, "question_id": 30070101, "link": "https://stackoverflow.com/questions/30070101/how-can-i-connect-aweber-to-my-rails-app-using-oauth/30181866#30181866", "title": "How can I connect Aweber to my Rails app using OAuth?", "body": "<p>Reading through the AWeber API Ruby Library, this bit stands out</p>\n<blockquote>\n<h3>What if I don\u2019t want to verify every time?</h3>\n<p>After verifying once, the oauth object contains an\noauth.access_token.token and and oauth.access_token.secret which may\nbe used to authorize your application without having to verify via\nurl:</p>\n<pre><code>... oauth.authorize_with_verifier('verification_code') puts 'Access\ntoken: ' + oauth.access_token.token puts 'Access token secret: ' +\noauth.access_token.secret The token and secret can then be saved, and\n</code></pre>\n<p>authorization can be performed as follows:</p>\n<pre><code>require 'aweber'\noauth = AWeber::OAuth.new('consumer_key', 'consumer_secret')\n#Rather than authorizing with the verification code, we use the token and secret \noauth.authorize_with_access(YOUR_ACCESS_TOKEN, YOUR_ACCESS_TOKEN_SECRET) \naweber = AWeber::Base.new(oauth)\n</code></pre>\n</blockquote>\n<p>So let's run through this:</p>\n<p>You can create a class that keeps an object in memory for each User for enough time to finish the sign in and then save the token and secret for use until they expire.</p>\n<p>Please note current_user is meant to be anything that uniquely identifies the user. You could use the session ID if your users aren't logged in yet at this point</p>\n<pre><code>class AWeberSignIn\n    \n    def self.start_signing user\n        oauth = Rails.cache.fetch(&quot;#{user}/aweber&quot;, expires_in: 5.minutes) do\n            AWeber::OAuth.new(ENV[&quot;AWEBER_CONSUMER_KEY&quot;], ENV[&quot;AWEBER_CONSUMER_SECRET&quot;])\n        end\n        oauth.request_token(oauth_callback: &quot;http://127.0.0.1:3000/auth/aweber/callback&quot;).authorize_url\n    end\n\n    def self.authorize_with_verifier user, oauth_verifier\n        oauth = Rails.cache.fetch(&quot;#{user}/aweber&quot;)\n        oauth.authorize_with_verifier(oauth_verifier)\n        [oauth.access_token.token, oauth.access_token.secret]\n    end\n\n    def self.get_base_from_token token, secret\n        oauth = AWeber::OAuth.new(ENV[&quot;AWEBER_CONSUMER_KEY&quot;], ENV[&quot;AWEBER_CONSUMER_SECRET&quot;])\n        oauth.authorize_with_access(token, secret)\n        AWeber::Base.new(oauth)\n    end\nend\n</code></pre>\n<p>With this class, your controller methods become:</p>\n<pre><code>def aweber\n  redirect_to  AWeberSignIn.start_signin current_user #Assuming you have a current_user helper. Use whatever gives you a unique value per user\nend\n\ndef aweber_callback\n  token, secret = AWeberSignIn.authorize_with_verifier(current_user, params[:oauth_verifier]) \n  #Do something with token and secret. Maybe save it to User attributes?\n  #You can then use them to get a AWeber base object via AWeberSignIn.get_base_from_token token, secret\nend\n</code></pre>\n<p>Please note that this is using low-level Rails caching. Make sure you set up your caching technique if you want something different from the default</p>\n"}, {"comments": [{"owner": {"reputation": 9015, "user_id": 155826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/55RCe.jpg?s=128&g=1", "display_name": "Ryan Crispin Heneise", "link": "https://stackoverflow.com/users/155826/ryan-crispin-heneise"}, "edited": false, "score": 1, "creation_date": 1490636208, "post_id": 30182456, "comment_id": 73190263, "body": "&quot;I&#39;m very unimpressed by Aweber&#39;s documentation and API setup.&quot; - understatement of the week."}, {"owner": {"reputation": 1370, "user_id": 1939905, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2EG59.png?s=128&g=1", "display_name": "overallduka", "link": "https://stackoverflow.com/users/1939905/overallduka"}, "edited": false, "score": 0, "creation_date": 1510592714, "post_id": 30182456, "comment_id": 81490309, "body": "Thanks a lot, its really bad documented the ruby sdk, did not have any clue of this information that you provide. Working fine with your code, thanks!"}], "tags": [], "owner": {"reputation": 5289, "user_id": 1603071, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/276bfc5a10ac57a2732b127239bf4c32?s=128&d=identicon&r=PG", "display_name": "GMA", "link": "https://stackoverflow.com/users/1603071/gma"}, "is_accepted": false, "score": 7, "last_activity_date": 1431486363, "last_edit_date": 1431486363, "creation_date": 1431408424, "answer_id": 30182456, "question_id": 30070101, "link": "https://stackoverflow.com/questions/30070101/how-can-i-connect-aweber-to-my-rails-app-using-oauth/30182456#30182456", "title": "How can I connect Aweber to my Rails app using OAuth?", "body": "<p>I finally got this working by storing the <code>oauth_token_secret</code> in the session. (And I have to say, I'm very unimpressed by Aweber's documentation and API setup. This took 10 times longer than it should have.)</p>\n\n<p><strong>Gemfile</strong></p>\n\n<p><code>gem 'aweber', '~&gt; 1.6.1', require: \"aweber\"</code></p>\n\n<p><strong>Routes</strong></p>\n\n<pre><code>get \"auth/aweber\", to: \"integrations#aweber\", as: :aweber\nget \"auth/aweber/callback\", to: \"integrations#aweber_callback\", as: :aweber_callback\n</code></pre>\n\n<p><strong>Integrations Controller</strong></p>\n\n<pre><code>def aweber\n  oauth = get_aweber_oauth\n\n  request_token = oauth.request_token(oauth_callback: aweber_redirect_uri)\n  session[:aweber_oauth_token_secret] = request_token.secret\n\n  redirect_to request_token.authorize_url\nend\n\n\ndef aweber_callback\n  oauth = get_aweber_oauth\n\n  oauth.request_token = OAuth::RequestToken.from_hash(\n    oauth.consumer,\n    oauth_token: params[:oauth_token],\n    oauth_token_secret: session[:aweber_oauth_token_secret],\n  )\n\n  access_token = oauth.authorize_with_verifier(params[:oauth_verifier])\n\n  # TODO save access_token.token and access_token.secret\nend\n\nprivate\n\ndef get_aweber_oauth\n  AWeber::OAuth.new(ENV[\"AWEBER_CONSUMER_KEY\"], ENV[\"AWEBER_CONSUMER_SECRET\"])\nend\n\ndef aweber_redirect_uri\n  @_aweber_callback_uri ||= begin\n    if Rails.env.production?\n      redirect_host = \"http://myproductionurl.com\"\n    else\n      redirect_host = \"http://127.0.0.1:3000\"\n    end\n    \"#{redirect_host}#{Rails.application.routes.url_helpers.aweber_callback_path}\"\n  end\nend\n</code></pre>\n\n<p>The next step is to store <code>access_token.token</code> and <code>.secret</code> in my DB,\nthen I'll be able to authorize users on future requests like this:</p>\n\n<pre><code>oauth = AWeber::OAuth.new(ENV[\"AWEBER_CONSUMER_KEY\"], ENV[\"AWEBER_CONSUMER_SECRET\"])\noauth.authorize_with_access(current_user.aweber_token, current_user.aweber_secret)\naweber = AWeber::Base.new(oauth)\n# Make calls using \"aweber\"...\n</code></pre>\n\n<p>I tried using the gem <strong><code>omniauth-aweber</code></strong> in combination with the <strong><code>omniauth</code></strong> gem, but I couldn't get it working (which is a shame, because I'm using other <code>omniauth-xxx</code> gems in this app and it would have been nice to keep things consistent.) Basically, that gem automatically handles the <code>/auth/aweber</code> part of the process, but after it redirects me back to <code>/auth/aweber/callback/</code> I can't see any way to get the <code>oauth_token_secret</code> - it's not in the request params, the session, or the cookies.</p>\n\n<p>I've answered my own question now but I'll give the bounty to anyone who can come up with an obvious improvement on the above, or figure out a way to make it all work with <code>omniauth-aweber</code>.</p>\n"}], "owner": {"reputation": 5289, "user_id": 1603071, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/276bfc5a10ac57a2732b127239bf4c32?s=128&d=identicon&r=PG", "display_name": "GMA", "link": "https://stackoverflow.com/users/1603071/gma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 2, "score": 10, "last_activity_date": 1431486363, "creation_date": 1430896993, "last_edit_date": 1431402338, "question_id": 30070101, "link": "https://stackoverflow.com/questions/30070101/how-can-i-connect-aweber-to-my-rails-app-using-oauth", "title": "How can I connect Aweber to my Rails app using OAuth?", "body": "<p>I'm trying to integrate my Rails app with Aweber via OAuth, using the <a href=\"https://github.com/aweber/AWeber-API-Ruby-Library/\">official aweber gem</a>.</p>\n\n<p>If I follow their flow in the Rails console, I can get an access token, no problems:</p>\n\n<pre><code>oauth = AWeber::OAuth.new(ENV[\"AWEBER_CONSUMER_KEY\"], ENV[\"AWEBER_CONSUMER_SECRET\"])\nputs oauth.request_token.authorize_url\n# =&gt; https://auth.aweber.com/1.0/oauth/authorize?oauth_token=xxxxxxxxxxxxxx\n</code></pre>\n\n<p>Then I visit that URL, type in my credentials, get a verification code, and go back to the rails console:</p>\n\n<pre><code>oauth.authorize_with_verifier 'xxxxxx'\n# =&gt; #&lt;OAuth::AccessToken&gt;\n</code></pre>\n\n<p>Success!</p>\n\n<p>The problem is, I want to do this in the real world, not just at the console, which means my Ruby code needs to be broken up into two separate actions. First, there's the controller action which redirects to Aweber's Oauth page:</p>\n\n<pre><code>def aweber\n  oauth = AWeber::OAuth.new(ENV[\"AWEBER_CONSUMER_KEY\"], ENV[\"AWEBER_CONSUMER_SECRET\"])\n  redirect_to  oauth.request_token(oauth_callback: \"http://127.0.0.1:3000/auth/aweber/callback\").authorize_url\nend\n</code></pre>\n\n<p>Then there's the action which gets the access token after the user has input their credentials and been redirected:</p>\n\n<pre><code>def aweber_callback\n  oauth = AWeber::OAuth.new(ENV[\"AWEBER_CONSUMER_KEY\"], ENV[\"AWEBER_CONSUMER_SECRET\"])\n  oauth.authorize_with_verifier(params[:oauth_verifier]) \nend\n</code></pre>\n\n<p>When I do it this way, the final line (<code>authorize_with_verifier</code>) always raises <code>#&lt;OAuth::Unauthorized: 401 Unauthorized&gt;</code>.</p>\n\n<p>Seems like the problem is that I'm initializing the <code>oauth</code> variable twice, meaning I have two unrelated instances of <code>AWeber::Oauth</code> ... and <strong>only the instance of AWeber::Oauth that generated the authorize_url can get the access token</strong>. But I can't get the <em>same</em> instance in both <code>aweber_callback</code> and <code>aweber</code> because I'm dealing with two completely different threads and instances of the controller.</p>\n\n<p>When I inspect <code>oauth</code>, I can see that the internal variables <code>oauth.request_token.params[\"oauth_token\"]</code> and <code>oauth.request_token.params[\"oauth_token_secret\"]</code> are different in each <code>oauth</code>, which I'm guessing is the cause of the problem. I can get the 'correct' <code>oauth_token</code> from the params (<code>params[:oauth_token]</code>), but I can't figure out how to get the correct oauth_token_secret (not to mention that manually setting instance variables like this feels <strong>very</strong> hacky and is probably not the best approach.)</p>\n\n<p>How can I generate an access token?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4", "sqlite3-ruby"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 1848093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2161abb39cae291215b93235b8cd93e3?s=128&d=identicon&r=PG", "display_name": "Hafiz Muhammad Kamran", "link": "https://stackoverflow.com/users/1848093/hafiz-muhammad-kamran"}, "edited": false, "score": 0, "creation_date": 1430907988, "post_id": 30073070, "comment_id": 48261577, "body": "mkmf.log &quot;gcc -o conftest.exe -IC:/Ruby200/include/ruby-2.0.0/i386-mingw32 -IC:/Ruby200/include/ruby-2.0.0/ruby/backward -IC:/Ruby200/include/ruby-2.0.0 -I. -Ic:/sqlite/include -DFD_SETSIZE=2048 -D_WIN32_WINNT=0x0501 -D_FILE_OFFSET_BITS=64   -O3 -fno-omit-frame-pointer -fno-fast-math -g -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wunused-variable -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration conftest.c  -L. -LC:/Ruby200/lib -Lc:/sqlite/lib -L.      -lmsvcrt-ruby200  -lshell32 -lws2_32&quot;"}], "tags": [], "owner": {"reputation": 653, "user_id": 3153821, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100002670873292/picture?type=large", "display_name": "Michal", "link": "https://stackoverflow.com/users/3153821/michal"}, "is_accepted": false, "score": -1, "last_activity_date": 1430905477, "creation_date": 1430905477, "answer_id": 30073070, "question_id": 30069867, "link": "https://stackoverflow.com/questions/30069867/ruby-on-rails-on-windows-sqlite-installing-error/30073070#30073070", "title": "Ruby on Rails on Windows &#39;SQLite&#39; installing error", "body": "<p>Developing Ruby in Windows will create many problems, as many gems won't even work. I'd suggest rethinking OS choice.</p>\n\n<p>In your case it seem like you haven't installed SQLite (the app, not the gem). You can find it here: <a href=\"https://www.sqlite.org/download.html\" rel=\"nofollow\">https://www.sqlite.org/download.html</a></p>\n"}], "owner": {"reputation": 37, "user_id": 1848093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2161abb39cae291215b93235b8cd93e3?s=128&d=identicon&r=PG", "display_name": "Hafiz Muhammad Kamran", "link": "https://stackoverflow.com/users/1848093/hafiz-muhammad-kamran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1430907189, "creation_date": 1430896244, "last_edit_date": 1430907189, "question_id": 30069867, "link": "https://stackoverflow.com/questions/30069867/ruby-on-rails-on-windows-sqlite-installing-error", "title": "Ruby on Rails on Windows &#39;SQLite&#39; installing error", "body": "<p><img src=\"https://i.stack.imgur.com/kbDbo.jpg\" alt=\"enter image description here\"><img src=\"https://i.stack.imgur.com/f5Hx5.jpg\" alt=\"error on windows installing sqlites\">\nI am facing this problem any one can help me. Ruby version 2.0.0 and rails version 4.2.1.\nAnd run this Command also.\n'gem install sqlite3 --platform=ruby -- --with-sqlite3-include=c:/sqlite/include --with-sqlite3-lib=c:/sqlite/lib'.</p>\n"}, {"tags": ["ruby", "postgresql", "ubuntu", "activerecord", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4582042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8wLe.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4582042/pete"}, "edited": false, "score": 0, "creation_date": 1430896408, "post_id": 30069883, "comment_id": 48253880, "body": "thanks jphager2! that was exactly how I got it working in the end!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2536065"}, "is_accepted": false, "score": 0, "last_activity_date": 1430896315, "creation_date": 1430896315, "answer_id": 30069883, "question_id": 30069718, "link": "https://stackoverflow.com/questions/30069718/get-postgres-activerecord-setup-to-work-both-locally-and-in-heroku/30069883#30069883", "title": "Get Postgres-activerecord setup to work both locally and in Heroku", "body": "<p>You can use environment variables which can be accessed like <code>ENV[\"PG_USER\"]</code> in Ruby. If you want to use it in a yml file you can put it in erb tags <code>&lt;%= ENV[\"PG_USER\"] %&gt;</code> and render it with erb before passing it to your config. </p>\n\n<p>You can set environment variables in your <code>.bashrc</code> or you can use something like the dotenv gem.  On heroku you can set environment variables like <code>heroku config:set PG_USER=postgres</code>.</p>\n\n<p>But check whether this is really necessary for heroku. In Rails, for instance, heroku provides a database configuration, so there is no need to configure it. </p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 4582042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8wLe.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4582042/pete"}, "is_accepted": false, "score": 0, "last_activity_date": 1430896324, "creation_date": 1430896324, "answer_id": 30069887, "question_id": 30069718, "link": "https://stackoverflow.com/questions/30069718/get-postgres-activerecord-setup-to-work-both-locally-and-in-heroku/30069887#30069887", "title": "Get Postgres-activerecord setup to work both locally and in Heroku", "body": "<p>oK! With help got it working!\nused:</p>\n\n<pre><code>ActiveRecord::Base.establish_connection(\n  :adapter  =&gt; db.scheme == 'postgres' ? 'postgresql' : db.scheme,\n  :host     =&gt; db.host,\n  :port     =&gt; db.port,\n\n  :username =&gt; ENV['PG_USER'] || db.user,\n  :password =&gt; ENV['PG_PASSWORD'] || db.password,\n\n  :database =&gt; DB_NAME,\n  :encoding =&gt; 'utf8'\n)\n</code></pre>\n\n<p>AND</p>\n\n<p>added this to my shell-rc (in my case ~/.zshrc)</p>\n\n<pre><code>export PG_USER='pete'\nexport PG_PASSWORD='password'\n</code></pre>\n\n<p>now in my local environment the username &amp; password pick up the ENV['PG...] variables from the terminal I launch the app in. </p>\n\n<p>Note: 'export' is important - without it the variables don't get sent to the app's 'ENV'</p>\n"}], "owner": {"reputation": 25, "user_id": 4582042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8wLe.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4582042/pete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430896324, "creation_date": 1430895779, "question_id": 30069718, "link": "https://stackoverflow.com/questions/30069718/get-postgres-activerecord-setup-to-work-both-locally-and-in-heroku", "title": "Get Postgres-activerecord setup to work both locally and in Heroku", "body": "<p>I'm automating DB creation (with a Rakefile in a Sinatra App).</p>\n\n<p>I would like to be able to run the rakefile from my Linux user \"pete\" (eg pete@pete_laptop: /path $ rake db:create) AND from Heroku.</p>\n\n<p>It comes down to the settings in my config/database.rb:</p>\n\n<pre><code>ActiveRecord::Base.establish_connection(\n  :adapter  =&gt; db.scheme == 'postgres' ? 'postgresql' : db.scheme,\n  :host     =&gt; db.host,\n  :port     =&gt; db.port,\n\n  # pete@ubuntu_14.04_laptop--------\n  # :username =&gt; 'pete',\n  # :password =&gt; 'password',\n  # OR\n  # heroku -----------------\n  # :username =&gt; db.user,\n  # :password =&gt; db.password,\n\n  :database =&gt; DB_NAME,\n  :encoding =&gt; 'utf8'\n)\n</code></pre>\n\n<p>If I use the pete@ubuntu_laptop settings, the database works in localhost but not in Heroku,\nIf I use the heroku settings, the database works in localhost but not in Heroku.</p>\n\n<p>How can I setup this file/my ubuntu laptop so that the app works both on localhost &amp; in Heroku?</p>\n\n<p>Cheers,</p>\n\n<p>Pete</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "methods", "model", "undefined"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2536065"}, "edited": false, "score": 0, "creation_date": 1430895008, "post_id": 30069073, "comment_id": 48253048, "body": "Since @user.admin_areas is nil, can you post the user model?"}, {"owner": {"reputation": 646, "user_id": 4553034, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aLeXg.jpg?s=128&g=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/4553034/mac"}, "edited": false, "score": 0, "creation_date": 1430895425, "post_id": 30069073, "comment_id": 48253301, "body": "i have no user model. the models used are account and area. the admin_areas belongs to area.rb as well as the def next_shift_time_from_now @jphager2 the &#39;at&#39; user gets the account model by the way"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2536065"}, "edited": false, "score": 1, "creation_date": 1430895782, "post_id": 30069073, "comment_id": 48253525, "body": "Ok got it. So first thing: belongs_to :admin_areas is plural. Is that intentional? Because you are only expecting one admin_area. Secondly, did you assign an area_id to the account in the database? I&#39;m guessing <code>@user.area_id == nil</code>"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1430895820, "post_id": 30069073, "comment_id": 48253541, "body": "The line <code>&lt;% @user = Admin::Account.find($user_id) %&gt;</code> violates at least three Rails&#39; best practice pattern."}, {"owner": {"reputation": 646, "user_id": 4553034, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aLeXg.jpg?s=128&g=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/4553034/mac"}, "edited": false, "score": 0, "creation_date": 1430896917, "post_id": 30069073, "comment_id": 48254209, "body": "@jphager2 i just found out that area_id turned null in my database. thanks a lot!! that solved my problem"}], "answers": [{"comments": [{"owner": {"reputation": 646, "user_id": 4553034, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aLeXg.jpg?s=128&g=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/4553034/mac"}, "edited": false, "score": 0, "creation_date": 1430895515, "post_id": 30069576, "comment_id": 48253351, "body": "what data should I add? the other clone of this same project went well with same codes... don&#39;t the versions of ruby/rails matter or what?"}, {"owner": {"reputation": 646, "user_id": 4553034, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aLeXg.jpg?s=128&g=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/4553034/mac"}, "edited": false, "score": 0, "creation_date": 1430896990, "post_id": 30069576, "comment_id": 48254257, "body": "thanks... it helped me trace the problem. i just found out that my area_id is null in my database"}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 1, "last_activity_date": 1430895975, "last_edit_date": 1430895975, "creation_date": 1430895232, "answer_id": 30069576, "question_id": 30069073, "link": "https://stackoverflow.com/questions/30069073/rails-undefined-method-in-an-unknown-way/30069576#30069576", "title": "Rails Undefined Method in an unknown way", "body": "<p>If the line</p>\n\n<pre><code>@nextShiftTime=format_datetime(@user.admin_areas.next_shift_time_from_now) \n</code></pre>\n\n<p>returns an <code>undefined method 'next_shift_time_from_now' for nil:NilClass</code> error, then the only possible explanation is that <code>@user.admin_areas</code> returns <code>nil</code>.</p>\n\n<p>Look into your database: You have at least one <code>Admin::Account</code> without a matching <code>Admin::Area</code>.</p>\n"}], "owner": {"reputation": 646, "user_id": 4553034, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aLeXg.jpg?s=128&g=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/4553034/mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 30069576, "answer_count": 1, "score": 0, "last_activity_date": 1430895975, "creation_date": 1430893502, "question_id": 30069073, "link": "https://stackoverflow.com/questions/30069073/rails-undefined-method-in-an-unknown-way", "title": "Rails Undefined Method in an unknown way", "body": "<p>I cloned a project that runs just fine. I did the <code>bundle install</code>, <code>bundle update</code>, <code>db:create</code>, <code>db:migrate</code>, and whatnot.</p>\n\n<p>Now when I run <code>http://localhost:3000/orders/new</code> it returns a <code>NoMethodError in Admin::Orders#new</code></p>\n\n<p>I have this as part of my code under <code>model/admin/area.rb</code></p>\n\n<pre><code>has_many :admin_accounts, :class_name =&gt; 'Admin::Account'\n\nvalidates :name, :presence =&gt; true\nvalidates :timezone, :presence =&gt; true\nvalidates :time_offset, :presence =&gt; true\nvalidates :shift_time1, :presence =&gt; true\nvalidates :shift_time2, :presence =&gt; true\nvalidates :unit_price_12, :presence =&gt; true\nvalidates :unit_price_24, :presence =&gt; true\n\ndef next_shift_time_from_now\n  current_time = Time.zone.now\n  next_shift_time(current_time)\nend\n\ndef next_shift_time(time)\n  shift1 = time.change(hour: self[:shift_time1].hour)\n  shift2 = time.change(hour: self[:shift_time2].hour)\n  get_shift(time, shift1, shift2)\nend\n</code></pre>\n\n<p>And this under my <code>accounts.rb</code></p>\n\n<pre><code>require 'digest/md5'\nbefore_save :encrypt_password\nafter_initialize :default_values\n\nhas_many :admin_orders, :class_name =&gt; 'Admin::Order'\nbelongs_to :admin_areas, :class_name =&gt; 'Admin::Area', :foreign_key =&gt; 'area_id'\n</code></pre>\n\n<p>under <code>new.html</code></p>\n\n<pre><code>&lt;div class=\"page-header clearfix\"&gt;\n  &lt;div class=\"pull-right\"&gt;&lt;%= link_to 'Back', orders_path, class: \"btn btn-primary btn-sm\" %&gt;&lt;/div&gt;\n  &lt;h3 class=\"pull-left\"&gt;\n    Creating New Order\n  &lt;/h3&gt;\n&lt;/div&gt;\n\n&lt;%= render 'form' %&gt;\n</code></pre>\n\n<p>and this under <code>_form.html.erb</code> which has the error</p>\n\n<pre><code>    &lt;div class=\"form-group field-bottom-container\"&gt;\n      &lt;label id=\"nextShiftTime\"&gt;Next Shift Time&lt;/label&gt;\n\n      &lt;div&gt;\n        &lt;% @user = Admin::Account.find($user_id) %&gt;\n        &lt;%= @nextShiftTime=format_datetime(@user.admin_areas.next_shift_time_from_now) %&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>The error is this line: <code>&lt;%= @nextShiftTime=format_datetime(@user.admin_areas.next_shift_time_from_now) %&gt;</code></p>\n\n<p>which returns...\n<strong><em>undefined method `next_shift_time_from_now' for nil:NilClass</em></strong></p>\n\n<p>Is there anything I must configure to fix this? I think there's nothing wrong with the code since it worked well previously and upon recent clone, with no changes with the codes i might add, the program is causing this error.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "ruby-on-rails-3.2"], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 1138717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7602a9347c37395987616579fe4c9b1e?s=128&d=identicon&r=PG", "display_name": "davidesantangelo", "link": "https://stackoverflow.com/users/1138717/davidesantangelo"}, "is_accepted": false, "score": -1, "last_activity_date": 1430904370, "last_edit_date": 1495541192, "creation_date": 1430904370, "answer_id": 30072694, "question_id": 30069033, "link": "https://stackoverflow.com/questions/30069033/how-to-use-with-options-for-conditional-validation/30072694#30072694", "title": "How to use with_options for conditional validation", "body": "<p>because</p>\n\n<pre>\n<code>(AppUser::User.creator == \"is_admin\")`</code>\n</pre>\n\n<p>does not return an object but it is a boolean.</p>\n\n<p>Try this (inside your model):</p>\n\n<p><pre><code>class User &lt; ActiveRecord::Base\n  with_options if: (AppUser::User.creator == \"is_admin\") do\n    validates :first_name, presence: true\n    validates :last_name, presence: true\n  end\nend</code></pre></p>\n\n<p>P.S: I recommend the use of the devise gem to manage user types like this:\n<a href=\"https://stackoverflow.com/questions/9472852/devise-and-multiple-user-models\">devise and multiple \u201cuser\u201d models</a>.</p>\n"}], "owner": {"reputation": 1171, "user_id": 1693541, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ae68b37d5edb59b31eb357554929c4d5?s=128&d=identicon&r=PG", "display_name": "Braham Shakti", "link": "https://stackoverflow.com/users/1693541/braham-shakti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2068, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430904370, "creation_date": 1430893344, "last_edit_date": 1430893552, "question_id": 30069033, "link": "https://stackoverflow.com/questions/30069033/how-to-use-with-options-for-conditional-validation", "title": "How to use with_options for conditional validation", "body": "<p>How can I use <code>with_options</code> for conditional validation ?</p>\n\n<p>My code is </p>\n\n<pre><code>with_options if: (AppUser::User.creator==\"is_admin\") do |admin|\n  admin.validates :first_name, :presence =&gt; true\n  admin.validates :last_name, :presence =&gt; true\nend\n</code></pre>\n\n<p>I have already set <code>creator</code> method in application controller.</p>\n\n<pre><code>before_action :set_global_user\n\ndef set_global_user\n  if current_admin\n    AppUser::User.creator= \"is_admin\"\n  elsif current_user\n    AppUser::User.creator= \"is_user\"\n  else\n    AppUser::User.creator=nil\n  end\nend\n</code></pre>\n\n<p>but I am getting </p>\n\n<blockquote>\n  <p>undefined method `validate' for false:FalseClass</p>\n</blockquote>\n\n<p>what is wrong with this code.</p>\n"}, {"tags": ["android", "ruby", "cucumber", "calabash", "calabash-android"], "comments": [{"owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1430891025, "post_id": 30068178, "comment_id": 48251060, "body": "Can you share corresponding code snippet?"}, {"owner": {"reputation": 7810, "user_id": 2671317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f13862b290e178f5a6c40b8d8dfc4f05?s=128&d=identicon&r=PG", "display_name": "ptierno", "link": "https://stackoverflow.com/users/2671317/ptierno"}, "edited": false, "score": 0, "creation_date": 1431121651, "post_id": 30068178, "comment_id": 48376631, "body": "looks like you have the wrong version of cucumber"}], "answers": [{"tags": [], "owner": {"reputation": 1145, "user_id": 1165581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79a078e06a93f25eaba903217bd388f?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/1165581/lasse"}, "is_accepted": false, "score": 1, "last_activity_date": 1430897639, "creation_date": 1430897639, "answer_id": 30070302, "question_id": 30068178, "link": "https://stackoverflow.com/questions/30068178/getting-error-while-executing-and-calabash-program/30070302#30070302", "title": "Getting error while executing and calabash program", "body": "<p>It is complaining about your version of cucumber gem, you should downgrade it to 1.3.17 or 1.3.19.</p>\n\n<p>To downgrade do</p>\n\n<pre><code>gem uninstall cucumber\ngem install cucumber -v 1.3.19\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4781856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5KbS-31GlhI/AAAAAAAAAAI/AAAAAAAAAdg/Fj3x0AVX1cI/photo.jpg?sz=128", "display_name": "Nishant Singh", "link": "https://stackoverflow.com/users/4781856/nishant-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431125925, "creation_date": 1430889878, "last_edit_date": 1431125925, "question_id": 30068178, "link": "https://stackoverflow.com/questions/30068178/getting-error-while-executing-and-calabash-program", "title": "Getting error while executing and calabash program", "body": "<p>I am getting this error:</p>\n\n<blockquote>\n  <p>D:>calabash-android run d:\\Android\\Apk_Files\\EriBank.apk\n  C:/Ruby21/lib/ruby/2.1.0/rubygems/dependency.rb:298:in <code>to_specs':\n  Could not find 'cucumber' (~&gt; 1.3.17) - did find: [cucumber-2.0.0]\n  (Gem::LoadError)\n          from C:/Ruby21/lib/ruby/2.1.0/rubygems/specification.rb:1295:in</code>block n\n  activate_dependencies'\n          from C:/Ruby21/lib/ruby/2.1.0/rubygems/specification.rb:1284:in <code>each'\n          from C:/Ruby21/lib/ruby/2.1.0/rubygems/specification.rb:1284:in</code>activa\n  e_dependencies'\n          from C:/Ruby21/lib/ruby/2.1.0/rubygems/specification.rb:1266:in <code>activa e'\n          from C:/Ruby21/lib/ruby/2.1.0/rubygems/core_ext/kernel_gem.rb:54:in</code>ge '\n          from C:/Ruby21/bin/calabash-android:22:in `'</p>\n</blockquote>\n"}, {"tags": ["ruby-on-rails", "ruby", "forms", "model", "controller"], "comments": [{"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1430889633, "post_id": 30067810, "comment_id": 48250509, "body": "Not exactly on topic, but having your <code>esas_assessment_params = params.require(:esas_assessment).permit(:patient_id,... </code> in the create action seems odd and possibly insecure. It&#39;s normally in a private method."}, {"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1430889660, "post_id": 30067810, "comment_id": 48250520, "body": "Also, can you recreate this in the rails console?"}, {"owner": {"reputation": 133, "user_id": 4630110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hDsTU.jpg?s=128&g=1", "display_name": "Skiapex", "link": "https://stackoverflow.com/users/4630110/skiapex"}, "reply_to_user": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1430889782, "post_id": 30067810, "comment_id": 48250564, "body": "I just moved it up out of private to simplify. See the bottom of the question regarding trying it in console"}], "answers": [{"tags": [], "owner": {"reputation": 12130, "user_id": 1416723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779afad8ccddec8c6e5cf9416a53f03f?s=128&d=identicon&r=PG", "display_name": "dimuch", "link": "https://stackoverflow.com/users/1416723/dimuch"}, "is_accepted": true, "score": 1, "last_activity_date": 1430889841, "creation_date": 1430889841, "answer_id": 30068174, "question_id": 30067810, "link": "https://stackoverflow.com/questions/30067810/push-value-to-model-when-created-rails/30068174#30068174", "title": "Push value to model when created - Rails", "body": "<p>Guess you should assign <code>id</code> of the found Inputter, not the object itself in this line</p>\n\n<pre><code>@esas_assessment.inputter_id = Inputter.find_by(inputter_type: 'Medical team')\n</code></pre>\n\n<p>Something like </p>\n\n<pre><code>@esas_assessment.inputter_id = Inputter.find_by(inputter_type: 'Medical team').try(:id)\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>@esas_assessment.inputter = Inputter.find_by(inputter_type: 'Medical team')\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 4630110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hDsTU.jpg?s=128&g=1", "display_name": "Skiapex", "link": "https://stackoverflow.com/users/4630110/skiapex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 30068174, "answer_count": 1, "score": 0, "last_activity_date": 1430889841, "creation_date": 1430888021, "question_id": 30067810, "link": "https://stackoverflow.com/questions/30067810/push-value-to-model-when-created-rails", "title": "Push value to model when created - Rails", "body": "<p>I am trying to set the <code>inputter_id</code> value automatically to the <code>id</code> for for the <code>inputter_type</code> corresponding to \"Medical team\" in a form if the user is a <code>current_clinician</code>:</p>\n\n<pre><code>  def create\n    esas_assessment_params = params.require(:esas_assessment).permit(:patient_id, :clinician_id, :time, :year, :month, :day, :inputter_name, :inputter_id, :pain, :pain_comment, :tiredness, :tiredness_comment, :drowsiness, :drowsiness_comment, :nausea, :nausea_comment, :lack_of_appetite, :lack_of_appetite_comment, :shortness_of_breath, :shortness_of_breath_comment, :depression, :depression_comment, :wellbeing, :wellbeing_comment, :other_symptom_id, :other_symptom_score, :other_symptom_comment, :esas_comment)\n    @esas_assessment = EsasAssessment.new(esas_assessment_params)\n    if current_clinician\n      @esas_assessment.clinician = current_user.clinician\n      @esas_assessment.inputter_name = current_user.clinician.full_name\n      @esas_assessment.inputter_id = Inputter.find_by(inputter_type: 'Medical team')\n    else\n      @esas_assessment.patient = current_user.patient\n      @esas_assessment.clinician = current_user.patient.clinician\n    end\n    if @esas_assessment.save\n      redirect_to esas_assessments_path, notice: \"ESAS assessment submitted!\"\n    else\n      render \"new\", alert: \"ESAS assessment not submitted!\"\n    end\n  end\n</code></pre>\n\n<p>or more simply:</p>\n\n<pre><code>  def create\n    esas_assessment_params = params.require(:esas_assessment).permit!\n    @esas_assessment = EsasAssessment.new(esas_assessment_params)\n</code></pre>\n\n<blockquote>\n<pre><code>     @esas_assessment.inputter_id = Inputter.find_by(inputter_type: 'Medical team')\n</code></pre>\n</blockquote>\n\n<pre><code>    if @esas_assessment.save\n      redirect_to esas_assessments_path, notice: \"ESAS assessment submitted!\"\n    else\n      render \"new\", alert: \"ESAS assessment not submitted!\"\n    end\n  end\n</code></pre>\n\n<p>in the first example the lines to set the <code>@esas_assessment.clinician</code> value automatically to the <code>current_user.clinician</code> and setting the <code>inputter_name</code> both work but the <code>inputter_id</code> doesn't.</p>\n\n<p>My EsasAssessment model is:</p>\n\n<pre><code>EsasAssessment:\n  patient_id: integer\n  clinician_id: integer\n  created_at: datetime\n  updated_at: datetime\n  inputter_name: string\n  inputter_id: integer\n\nclass EsasAssessment &lt; ActiveRecord::Base\n    belongs_to :other_symptom\n    belongs_to :clinician\n    belongs_to :patient\n    belongs_to :inputter\nend\n</code></pre>\n\n<p>Inputter is:</p>\n\n<pre><code>Inputter:\n  inputter_type: string\n\nclass Inputter &lt; ActiveRecord::Base\n    has_many :esas_assessments\nend\n</code></pre>\n\n<p>When I submit my form I don't get any errors or warning, <code>inputter_id</code> is just <code>nil</code></p>\n\n<p>if I enter </p>\n\n<blockquote>\n  <p>Inputter.find_by(inputter_type: 'Medical team')</p>\n</blockquote>\n\n<p>in Console it returns</p>\n\n<blockquote>\n  <p><code>#&lt;Inputter {\"id\"=&gt;309, \"inputter_type\"=&gt;\"Medical team\"}&gt;</code></p>\n</blockquote>\n\n<p>Any advice on how to get the value to stick to the new EsasAssessment would be great</p>\n"}]