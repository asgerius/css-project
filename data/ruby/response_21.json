[{"tags": ["ruby-on-rails", "ruby", "mongodb", "mongoid"], "answers": [{"tags": [], "owner": {"reputation": 1131, "user_id": 3592117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qIAYJ.jpg?s=128&g=1", "display_name": "Kimball", "link": "https://stackoverflow.com/users/3592117/kimball"}, "is_accepted": false, "score": 0, "last_activity_date": 1433380497, "last_edit_date": 1433380497, "creation_date": 1433379548, "answer_id": 30633286, "question_id": 30632793, "link": "https://stackoverflow.com/questions/30632793/mongoid-or-condition-returning-no-results/30633286#30633286", "title": "mongoid or condition returning no results", "body": "<p>I would try this:</p>\n\n<pre><code>Lead.any_of({\"appointment status_selected\" =&gt; \"option1\"}, {\"lead source_selected\" =&gt; \"opt4\"}).first\n</code></pre>\n\n<p>While I'm not familiar with <code>Mongoid</code> (or more precisely, <code>Origin</code>), from what I can read of the <a href=\"http://mongoid.org/en/origin/docs/selection.html\" rel=\"nofollow\">Origin docs on selection</a>, at least one of the <code>$or</code> criteria must be true for the row to return. Since you're only providing one criterion to your <code>#any_of</code> call, it may as well be another <code>#where</code> call.</p>\n"}], "owner": {"reputation": 2499, "user_id": 3957231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/26d8f8c8e808e383a52c580396c6993e?s=128&d=identicon&r=PG&f=1", "display_name": "Donato", "link": "https://stackoverflow.com/users/3957231/donato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433380497, "creation_date": 1433375762, "question_id": 30632793, "link": "https://stackoverflow.com/questions/30632793/mongoid-or-condition-returning-no-results", "title": "mongoid or condition returning no results", "body": "<p>I am using the mongoid any_of query to find a lead with an appointment status_selected of \"option1\" OR a lead source_selected of \"opt4\". I have a lead document that fits this criteria:</p>\n\n<pre><code>&gt; db.leads.find()\n{ \"_id\" : ObjectId(\"556e4f576d61638512060000\"), \"appointment status_selected\" : \"option1\", \"lead source_selected\" : \"opt2\", \"updated_at\" : ISODate(\"2015-06-03T00:50:31.029Z\"), \"created_at\" : ISODate(\"2015-06-03T00:50:31.029Z\") }\n</code></pre>\n\n<p>However, when I query using the mongoid query helpers, I get no results:</p>\n\n<pre><code>Lead.where({\"appointment status_selected\" =&gt; \"option1\"}).any_of({\"lead source_selected\" =&gt; \"opt4\" }).first\n# =&gt; nil\n</code></pre>\n\n<p>This is what moped shows:</p>\n\n<blockquote>\n  <p>MOPED: 127.0.0.1:27017 QUERY        database=core_development\n  collection=leads selector={\"appointment status_selected\"=>\"option1\",\n  \"$or\"=>[{\"lead source_selected\"=>\"opt4\"}]} flags=[] limit=-1 skip=0\n  batch_size=nil fields={:_id=>1} runtime: 13.7830ms   MOPED:\n  127.0.0.1:27017 QUERY        database=core_development collection=leads selector={\"appointment status_selected\"=>\"option1\",\n  \"$or\"=>[{\"lead source_selected\"=>\"opt4\"}]} flags=[] limit=0 skip=0\n  batch_size=nil fields=nil runtime: 4.1470ms</p>\n</blockquote>\n\n<p>Why is Mongoid not returning that record in MongoDB?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 1966, "user_id": 3367343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHfSU.jpg?s=128&g=1", "display_name": "Travis Hohl", "link": "https://stackoverflow.com/users/3367343/travis-hohl"}, "edited": false, "score": 0, "creation_date": 1433377228, "post_id": 30632724, "comment_id": 49331474, "body": "Can you provide more context? That way you might receive more useful answers."}], "answers": [{"tags": [], "owner": {"reputation": 1966, "user_id": 3367343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHfSU.jpg?s=128&g=1", "display_name": "Travis Hohl", "link": "https://stackoverflow.com/users/3367343/travis-hohl"}, "is_accepted": false, "score": 0, "last_activity_date": 1433378599, "creation_date": 1433378599, "answer_id": 30633182, "question_id": 30632724, "link": "https://stackoverflow.com/questions/30632724/how-to-pass-class-method-as-parameter/30633182#30633182", "title": "How to pass class method as parameter?", "body": "<p>You can pass just the <code>method_name</code> to <code>ps</code> and have <code>ps</code> send the <code>method_name</code> message to the <code>A</code> class (and always the <code>A</code> class) using this:</p>\n\n<pre><code>class A\n    def A.test(data)\n        puts data\n    end\nend\n\ndef ps(method_name)\n    A.send(method_name, 3)\nend\n\nps(:test) # =&gt; 3\n</code></pre>\n\n<p>Or you can pass both the <code>A</code> class and the <code>method_name</code> to <code>ps</code> using this:</p>\n\n<pre><code>class A\n    def A.test(data)\n        puts data\n    end\nend\n\ndef ps(klass, method_name)\n    klass.send(method_name, 3)\nend\n\nps(A, :test) # =&gt; 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12415, "user_id": 1881769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d6e5b6160c64e3a7b7ee8df9b019f05?s=128&d=identicon&r=PG", "display_name": "tessi", "link": "https://stackoverflow.com/users/1881769/tessi"}, "is_accepted": true, "score": 3, "last_activity_date": 1433396527, "creation_date": 1433396527, "answer_id": 30635780, "question_id": 30632724, "link": "https://stackoverflow.com/questions/30632724/how-to-pass-class-method-as-parameter/30635780#30635780", "title": "How to pass class method as parameter?", "body": "<p>You have to use the right getter to receive the method object:</p>\n\n<pre><code>class A\n def A.test(data)\n    puts data\n  end\nend\n\ndef ps(fun)\n  fun.call(3)\nend\n\nps(A.method(:test)) #=&gt; 3\n</code></pre>\n\n<p>The <a href=\"http://ruby-doc.org/core-2.2.2/Object.html#method-i-method\" rel=\"nofollow\"><code>method</code></a> method returns the method-object, which can be executed with <a href=\"http://ruby-doc.org/core-2.2.0/Method.html#method-i-call\" rel=\"nofollow\"><code>call</code></a>.</p>\n"}], "owner": {"reputation": 6672, "user_id": 2038901, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/88a2242eb110fda489eee0bcbde6f2bd?s=128&d=identicon&r=PG", "display_name": "Sato", "link": "https://stackoverflow.com/users/2038901/sato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 1, "accepted_answer_id": 30635780, "answer_count": 2, "score": 1, "last_activity_date": 1433396527, "creation_date": 1433375214, "question_id": 30632724, "link": "https://stackoverflow.com/questions/30632724/how-to-pass-class-method-as-parameter", "title": "How to pass class method as parameter?", "body": "<p>I want to pass a class method to another function, how can I do that?</p>\n\n<pre><code>class A\n  def A.test(data)\n    puts data\n  end\nend\n\ndef ps(fun)\n  fun(3)\nend\n\nps(A.test)\n</code></pre>\n"}, {"tags": ["ruby", "elasticsearch", "sinatra"], "comments": [{"owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1433382526, "post_id": 30632721, "comment_id": 49332778, "body": "what ruby gems are using (trying to use) for this?"}, {"owner": {"reputation": 1373, "user_id": 1903663, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41d2a772b53998ed8df06c334d9a1c04?s=128&d=identicon&r=PG", "display_name": "user1903663", "link": "https://stackoverflow.com/users/1903663/user1903663"}, "reply_to_user": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1433383905, "post_id": 30632721, "comment_id": 49333048, "body": "as above required, I installed elasticsearch, elasticsearch-api and elasticsearch-transport gems on local machine"}], "answers": [{"tags": [], "owner": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "is_accepted": false, "score": 2, "last_activity_date": 1433653693, "creation_date": 1433653693, "answer_id": 30690259, "question_id": 30632721, "link": "https://stackoverflow.com/questions/30632721/using-the-ruby-gem-and-just-sinatra-and-ruby-not-rails-how-can-i-connect-to-a/30690259#30690259", "title": "using the ruby gem and just sinatra and ruby (not rails), how can I connect to a bonsai elasticsearch instance?", "body": "<p>You are getting</p>\n\n<pre><code>uninitialized constant Elasticsearch::Model (NameError)\n</code></pre>\n\n<p>because you haven't included the proper class. Try adding:</p>\n\n<pre><code>require 'elasticsearch/model'\n</code></pre>\n\n<p>At the top of your code.</p>\n"}], "owner": {"reputation": 1373, "user_id": 1903663, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41d2a772b53998ed8df06c334d9a1c04?s=128&d=identicon&r=PG", "display_name": "user1903663", "link": "https://stackoverflow.com/users/1903663/user1903663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433653693, "creation_date": 1433375198, "question_id": 30632721, "link": "https://stackoverflow.com/questions/30632721/using-the-ruby-gem-and-just-sinatra-and-ruby-not-rails-how-can-i-connect-to-a", "title": "using the ruby gem and just sinatra and ruby (not rails), how can I connect to a bonsai elasticsearch instance?", "body": "<p>I am trying to get up and running with bonsai. I intend to use sinatra and ruby (not rails) although right now I am just trying to connect from my local machine. The script is:</p>\n\n<pre><code>require \"csv\"\nrequire \"elasticsearch\"\nrequire 'elasticsearch/transport'\nElasticsearch::Model.client = Elasticsearch::Client.new url: 'https://uz09z96il1:5g9p3h8jow@hectors-first-starte-5298580603.us-west-2.bonsai.io', log: true\n#Elasticsearch::Client.new host: 'https://uz09z96il1:5g9p3h8jow@hectors-first-starte-5298580603.us-west-2.bonsai.io', log: true\n#Elasticsearch::Model.client = Elasticsearch::Client.new('https://uz09z96il1:5g9p3h8jow@hectors-first-starte-5298580603.us-west-2.bonsai.io')\n#client = Elasticsearch::Client.new log: true\n#Elasticsearch::Model.client = Elasticsearch::Client.new url: 'https://uz09z96il1:5g9p3h8jow@hectors-first-starte-5298580603.us-west-2.bonsai.io', log: true\nCSV.open(\"candidates.csv\", \"r\") do |f|\n  f.each_with_index do |item, i|\n    next if i == 0\n    p item\n    client.index  index: 'data', type: 'person', body: '{\n        \"first\": \"#{item[1]}\",\n        \"last\": \"#{item[2]}\"\n        }'\nend\nend\n</code></pre>\n\n<p>The basic error is that connection is refused, in this particular example like so:</p>\n\n<pre><code>uninitialized constant Elasticsearch::Model (NameError)\n</code></pre>\n\n<p>As you can see, from the commented out lines, I have tried as many variations as I can think of. </p>\n\n<p>What's the best way to accomplish this? All help gratefully received, thank you.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 15367, "user_id": 66945, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cfa271fb69f3c757657d10aa29fc65b?s=128&d=identicon&r=PG", "display_name": "Rishav Rastogi", "link": "https://stackoverflow.com/users/66945/rishav-rastogi"}, "edited": false, "score": 0, "creation_date": 1433375274, "post_id": 30632698, "comment_id": 49331019, "body": "is cached_user_tag_list a column ?  or some or serialized or unserialized attribute derived from a column ?"}, {"owner": {"reputation": 29623, "user_id": 91970, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/64aa7d1e0eb006175565adb0a47a4452?s=128&d=identicon&r=PG", "display_name": "marcamillion", "link": "https://stackoverflow.com/users/91970/marcamillion"}, "reply_to_user": {"reputation": 15367, "user_id": 66945, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cfa271fb69f3c757657d10aa29fc65b?s=128&d=identicon&r=PG", "display_name": "Rishav Rastogi", "link": "https://stackoverflow.com/users/66945/rishav-rastogi"}, "edited": false, "score": 0, "creation_date": 1433375334, "post_id": 30632698, "comment_id": 49331042, "body": "@RishavRastogi It is a column...yes. The datatype for the column is <code>string</code>."}], "answers": [{"comments": [{"owner": {"reputation": 29623, "user_id": 91970, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/64aa7d1e0eb006175565adb0a47a4452?s=128&d=identicon&r=PG", "display_name": "marcamillion", "link": "https://stackoverflow.com/users/91970/marcamillion"}, "edited": false, "score": 0, "creation_date": 1433375901, "post_id": 30632767, "comment_id": 49331172, "body": "Perfect. This is just what I was looking for. I knew I could do something like this, just couldn&#39;t nail down the syntax. Thanks!"}, {"owner": {"reputation": 858, "user_id": 2087014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53c6cbc40515103e3204e8f8a103c5e?s=128&d=identicon&r=PG", "display_name": "srecnig", "link": "https://stackoverflow.com/users/2087014/srecnig"}, "edited": false, "score": 1, "creation_date": 1433397935, "post_id": 30632767, "comment_id": 49337096, "body": "mind that this can be sloooow: <a href=\"http://use-the-index-luke.com/sql/where-clause/searching-for-ranges/like-performance-tuning\" rel=\"nofollow noreferrer\">use-the-index-luke.com/sql/where-clause/searching-for-ranges&zwnj;&#8203;/&hellip;</a>"}], "tags": [], "owner": {"reputation": 15367, "user_id": 66945, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cfa271fb69f3c757657d10aa29fc65b?s=128&d=identicon&r=PG", "display_name": "Rishav Rastogi", "link": "https://stackoverflow.com/users/66945/rishav-rastogi"}, "is_accepted": true, "score": 1, "last_activity_date": 1433412408, "last_edit_date": 1433412408, "creation_date": 1433375559, "answer_id": 30632767, "question_id": 30632698, "link": "https://stackoverflow.com/questions/30632698/how-do-i-create-a-scope-to-find-all-objects-in-my-class-that-include-a-string/30632767#30632767", "title": "How do I create a scope to find all objects in my class that `include?` a string on an attribute?", "body": "<p>If it's just plain old string column with comma separated values, you can do something like this: </p>\n\n<p><code>scope :find_nodes_which_include, ->(email) { |email| where(\"cache_user_tag_list like ?\", \"%#{email}%\")  } \n</code></p>\n"}], "owner": {"reputation": 29623, "user_id": 91970, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/64aa7d1e0eb006175565adb0a47a4452?s=128&d=identicon&r=PG", "display_name": "marcamillion", "link": "https://stackoverflow.com/users/91970/marcamillion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 30632767, "answer_count": 1, "score": 1, "last_activity_date": 1433412408, "creation_date": 1433375062, "question_id": 30632698, "link": "https://stackoverflow.com/questions/30632698/how-do-i-create-a-scope-to-find-all-objects-in-my-class-that-include-a-string", "title": "How do I create a scope to find all objects in my class that `include?` a string on an attribute?", "body": "<p>I have a <code>Node</code> object that has an attribute called <code>cached_user_tag_list</code>, that stores a comma separated list of email addresses as a string like this:</p>\n\n<pre><code>[3] pry(main)&gt; n.cached_user_tag_list\n=&gt; \"gerry@test.com, danny@test.com\"\n</code></pre>\n\n<p>If I set a local variable to be one of those email addresses, I can use ruby's <code>include?</code> string method to find if a <code>node</code> contains that email address. Here is an illustration:</p>\n\n<pre><code>[6] pry(main)&gt; g = \"gerry@test.com\"\n=&gt; \"gerry@test.com\"\n[8] pry(main)&gt; n.cached_user_tag_list.include? g\n=&gt; true\n</code></pre>\n\n<p>What I would like to do, is create a Scope on my <code>Node</code> class/model that will accept <code>g</code> and search against the column/attribute <code>cached_user_tag_list</code> for all the <code>Nodes</code> in my DB and return a collection or AR Relation of all of those Nodes that contain that email address stored in the variable <code>g</code> within their string at <code>cached_user_tag_list</code>.</p>\n\n<p>How do I do this?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>I tried <code>Node.where('cached_user_tag_list.include?'(g))</code>, but that didn't work.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "authentication"], "comments": [{"owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "edited": false, "score": 0, "creation_date": 1433375596, "post_id": 30632639, "comment_id": 49331109, "body": "What bcrypt version are you using?"}, {"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "reply_to_user": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "edited": false, "score": 0, "creation_date": 1433375830, "post_id": 30632639, "comment_id": 49331163, "body": "3.1.7 and even i tried it without specifying any version"}, {"owner": {"reputation": 481, "user_id": 4035867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df68fbefedfd1086ad0ff30701b8afc?s=128&d=identicon&r=PG&f=1", "display_name": "AOG", "link": "https://stackoverflow.com/users/4035867/aog"}, "edited": false, "score": 1, "creation_date": 1433375949, "post_id": 30632639, "comment_id": 49331184, "body": "Is your <code>user_params</code> whitelisting <code>password</code> and <code>password_confirmation?</code>"}, {"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433376012, "post_id": 30632639, "comment_id": 49331203, "body": "no ..how can i do that?"}, {"owner": {"reputation": 481, "user_id": 4035867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df68fbefedfd1086ad0ff30701b8afc?s=128&d=identicon&r=PG&f=1", "display_name": "AOG", "link": "https://stackoverflow.com/users/4035867/aog"}, "edited": false, "score": 0, "creation_date": 1433376144, "post_id": 30632639, "comment_id": 49331229, "body": "Your <code>user_params</code> method should have both <code>password</code> and <code>password_confirmation</code> passed to the <code>permit</code> method call. Will be great if you add that method to your question."}, {"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433376273, "post_id": 30632639, "comment_id": 49331253, "body": "i am not redefining user_params method ..rails by default took that right? May be this is very basic question since i am very new to rails..bt how should i redefine it?"}, {"owner": {"reputation": 481, "user_id": 4035867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df68fbefedfd1086ad0ff30701b8afc?s=128&d=identicon&r=PG&f=1", "display_name": "AOG", "link": "https://stackoverflow.com/users/4035867/aog"}, "edited": false, "score": 0, "creation_date": 1433376898, "post_id": 30632639, "comment_id": 49331400, "body": "Weird. The method might have been added by some gem then. It shouldn&#39;t be a part of rails. Can you please put the following in your controller and check the result from your log? <code>p user_params</code>"}, {"owner": {"reputation": 254, "user_id": 4936652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85a2cab58538abd2e02bed197e9605?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Adrian Bargas", "link": "https://stackoverflow.com/users/4936652/jason-adrian-bargas"}, "edited": false, "score": 0, "creation_date": 1433377387, "post_id": 30632639, "comment_id": 49331528, "body": "I believe rails doesn&#39;t include a <code>user_params</code> method by default. You have to define it, and should/recommend be private :)"}, {"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433377434, "post_id": 30632639, "comment_id": 49331539, "body": "ok thanks a lot will try this."}, {"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433387206, "post_id": 30632639, "comment_id": 49333806, "body": "I am getting same error, when I am trying to create entry through console -                                                                                   irb(main):001:0&gt; user =User.new(name:&quot;neha&quot;, password: &quot;foo&quot;, password_confirmation: &quot;foo&quot;) =&gt; #&lt;User id: nil, name: nil, password_digest: nil, created_at: nil, updated_at: nil&gt; irb(main):002:0&gt; user.save    (0.4ms)  begin transaction   User Exists (7.8ms)  SELECT  1 AS one FROM &quot;users&quot; WHERE &quot;users&quot;.&quot;name&quot; = &#39;neha&#39; LIMIT 1    (0.2ms)  rollback transaction =&gt; false irb(main):003:0&gt; user.errors.full_messages =&gt; [&quot;Password can&#39;t be blank&quot;]"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433375962, "post_id": 30632812, "comment_id": 49331189, "body": "i followed the same thing..:)"}, {"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433376076, "post_id": 30632812, "comment_id": 49331219, "body": "password_digest should be in database table right?its there in my case too."}, {"owner": {"reputation": 254, "user_id": 4936652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85a2cab58538abd2e02bed197e9605?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Adrian Bargas", "link": "https://stackoverflow.com/users/4936652/jason-adrian-bargas"}, "reply_to_user": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433377501, "post_id": 30632812, "comment_id": 49331561, "body": "try placing your <code>private</code> <code>user_params</code> method on your controller, and place all the parameters you need for your user :)"}], "tags": [], "owner": {"reputation": 254, "user_id": 4936652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85a2cab58538abd2e02bed197e9605?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Adrian Bargas", "link": "https://stackoverflow.com/users/4936652/jason-adrian-bargas"}, "is_accepted": false, "score": 0, "last_activity_date": 1433377222, "last_edit_date": 1433377222, "creation_date": 1433375883, "answer_id": 30632812, "question_id": 30632639, "link": "https://stackoverflow.com/questions/30632639/password-cant-be-blank-in-rails-using-has-secure-password/30632812#30632812", "title": "Password can&#39;t be blank in Rails (Using has_secure_password)", "body": "<p>Try to follow the steps here: \n<a href=\"https://www.railstutorial.org/book/sign_up#sec-strong_parameters\" rel=\"nofollow\">See Listing 7.17</a></p>\n\n<p>Sorry, haven't checked your controller and your comment :) This should do the trick</p>\n"}, {"comments": [{"owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "edited": false, "score": 0, "creation_date": 1433386164, "post_id": 30632855, "comment_id": 49333547, "body": "I tried above solution but it&#39;s not working :( Still getting the same error. My method - def user_params       params.require(:user).permit(:name, :password_digest,:password, :password_confirmation)     end"}], "tags": [], "owner": {"reputation": 1056, "user_id": 4333534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c94364e357329372fe537d2789c8127d?s=128&d=identicon&r=PG&f=1", "display_name": "roob", "link": "https://stackoverflow.com/users/4333534/roob"}, "is_accepted": false, "score": 0, "last_activity_date": 1433376229, "creation_date": 1433376229, "answer_id": 30632855, "question_id": 30632639, "link": "https://stackoverflow.com/questions/30632639/password-cant-be-blank-in-rails-using-has-secure-password/30632855#30632855", "title": "Password can&#39;t be blank in Rails (Using has_secure_password)", "body": "<p>You should add the password-related fields to <code>user_params</code>.</p>\n\n<pre><code>def user_params\n  params.require( :user ).permit( :password, :password_confirmation, :etc1, :etc2 )\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "is_accepted": true, "score": 5, "last_activity_date": 1433400159, "creation_date": 1433400159, "answer_id": 30636733, "question_id": 30632639, "link": "https://stackoverflow.com/questions/30632639/password-cant-be-blank-in-rails-using-has-secure-password/30636733#30636733", "title": "Password can&#39;t be blank in Rails (Using has_secure_password)", "body": "<p>Thanks a lot everyone for helping me.I am able to solve this issue.</p>\n\n<p>I added below line of code in my Controller     </p>\n\n<pre><code> wrap_parameters :user, include: [:name, :password, :password_confirmation]\n</code></pre>\n\n<p>Documentation-\n<a href=\"http://api.rubyonrails.org/classes/ActionController/ParamsWrapper.html\" rel=\"noreferrer\">http://api.rubyonrails.org/classes/ActionController/ParamsWrapper.html</a></p>\n\n<p>and this solved my problem.</p>\n"}], "owner": {"reputation": 219, "user_id": 4564847, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/870e477ec87cb2b603e7cd0c500f3370?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Narlawar", "link": "https://stackoverflow.com/users/4564847/neha-narlawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3880, "favorite_count": 1, "accepted_answer_id": 30636733, "answer_count": 3, "score": 3, "last_activity_date": 1433400159, "creation_date": 1433374644, "question_id": 30632639, "link": "https://stackoverflow.com/questions/30632639/password-cant-be-blank-in-rails-using-has-secure-password", "title": "Password can&#39;t be blank in Rails (Using has_secure_password)", "body": "<p>I am totally new to Rails and I know many questions already exists for this issue on StackOverflow but I tried almost all the solutions but none of the solution is working for me. </p>\n\n<p>I am trying to implement authentication in my rails project using <strong>has_secure_password</strong> and I followed all the steps mentioned in rails documentation. \nI am getting \"Password can't be blank \" error message after submitting create user form even when i am inputting password and confirm password values in input box.</p>\n\n<p>Please suggest if I am missing anything.</p>\n\n<p>Steps which I followed are- \n1) Added below line in gem file - \ngem 'bcrypt', require: 'bcrypt'\n2) bundle install\n3) My model code- </p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  validates :name, presence: true, uniqueness: true\n  has_secure_password\nend\n</code></pre>\n\n<p>4) My View code - </p>\n\n<pre><code>&lt;div&gt;\n          &lt;%= f.label :name %&gt;:\n          &lt;%= f.text_field :name, size: 40 %&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;%= f.label :password, 'Password' %&gt;:\n          &lt;%= f.password_field :password, size: 40 %&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;%= f.label :password_confirmation, 'Confirm' %&gt;:\n          &lt;%= f.password_field :password_confirmation, size: 40 %&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n</code></pre>\n\n<p>5) My Controller Code - </p>\n\n<pre><code>def create\n    @user = User.new(user_params)\n\n    respond_to do |format|\n      if @user.save\n        format.html { redirect_to users_url,notice: \"User #{@user.name} was successfully created.\" }\n        format.json { render :show, status: :created, location: @user }\n      else\n        format.html { render :new }\n        format.json { render json: @user.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "asset-pipeline"], "comments": [{"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433372608, "post_id": 30632231, "comment_id": 49330166, "body": "Try to run it in rails console <code>file_name = Rails.root.join(&#39;app&#39;, &#39;assets&#39;, &#39;images&#39;, &#39;my_long_sml.png&#39;) File.read(file_name)</code>"}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433373250, "post_id": 30632231, "comment_id": 49330380, "body": "Have you run the above two commands.? And is it giving you the result or any error you are getting"}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433373647, "post_id": 30632231, "comment_id": 49330517, "body": "And you want to send it as an attachment or you want to display in welcome email template"}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433373867, "post_id": 30632231, "comment_id": 49330587, "body": "Try this <code>&lt;%= image_tag(&quot;my_logo_sml.png&quot;)%&gt;</code> in your email template"}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "edited": false, "score": 0, "creation_date": 1433381204, "post_id": 30632231, "comment_id": 49332462, "body": "the file system is case sensitive, double check this."}], "answers": [{"tags": [], "owner": {"reputation": 1169, "user_id": 3346954, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9998db95c439ee16a56bacfc750798b?s=128&d=identicon&r=PG&f=1", "display_name": "jbk", "link": "https://stackoverflow.com/users/3346954/jbk"}, "is_accepted": false, "score": 0, "last_activity_date": 1433683823, "last_edit_date": 1433683823, "creation_date": 1433375676, "answer_id": 30632778, "question_id": 30632231, "link": "https://stackoverflow.com/questions/30632231/what-is-wrong-with-my-heroku-assetcompilation/30632778#30632778", "title": "What is wrong with my heroku asset:compilation?", "body": "<p>Reading the file from Rails console as suggested by @user123 shows that the paths are correct and the file is there. Trying to reading the file from Heroku run console does not find the file and comes up with the same <code>Errno::ENOENT no such file error</code> Strangely heroku is serving an image in the homepage which i try to load as described above in heroku console and it is unable to find it. </p>\n"}, {"comments": [{"owner": {"reputation": 1169, "user_id": 3346954, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9998db95c439ee16a56bacfc750798b?s=128&d=identicon&r=PG&f=1", "display_name": "jbk", "link": "https://stackoverflow.com/users/3346954/jbk"}, "edited": false, "score": 0, "creation_date": 1433380200, "post_id": 30633334, "comment_id": 49332215, "body": "There&#39;s a fair bit of erb in there so really I need it to be an erb file. There should be no problem with this should there. After hours of looking at this I feel like the issue lies in asset compilation issues. I&#39;ve added my config/environments/production.rb code above if that gives anyone any further ideas?"}], "tags": [], "owner": {"reputation": 126, "user_id": 2659387, "user_type": "registered", "profile_image": "https://graph.facebook.com/1077134521/picture?type=large", "display_name": "Aleksandr Larionov", "link": "https://stackoverflow.com/users/2659387/aleksandr-larionov"}, "is_accepted": false, "score": 0, "last_activity_date": 1433379971, "creation_date": 1433379971, "answer_id": 30633334, "question_id": 30632231, "link": "https://stackoverflow.com/questions/30632231/what-is-wrong-with-my-heroku-assetcompilation/30633334#30633334", "title": "What is wrong with my heroku asset:compilation?", "body": "<p>I had similar problem. I think welcome_email.html.erb file can not be .erb file. There is a workaround. You can put image somewhere on the web like Amazon or Image share services and use link as source.</p>\n\n<pre><code>&lt;img src='https://example.com'&gt;\n</code></pre>\n"}], "owner": {"reputation": 1169, "user_id": 3346954, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9998db95c439ee16a56bacfc750798b?s=128&d=identicon&r=PG&f=1", "display_name": "jbk", "link": "https://stackoverflow.com/users/3346954/jbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1433683823, "creation_date": 1433372084, "last_edit_date": 1433683595, "question_id": 30632231, "link": "https://stackoverflow.com/questions/30632231/what-is-wrong-with-my-heroku-assetcompilation", "title": "What is wrong with my heroku asset:compilation?", "body": "<p>I am trying to insert an image into a mailer, everything runs locally but heroku doesn't see the image on its server despite pushing and precompiling as I'm ought to do. Code as below;</p>\n\n<p><em>user_mailer.rb</em></p>\n\n<pre><code>def welcome_email(user)\n    @user = user\n    attachments.inline['my_logo_sml.png'] = File.read('app/assets/images/my_logo_sml.png')\n    mail(to: @user.email, subject: 'Welcome to Mybiz')\nend\n</code></pre>\n\n<p><em>welcome_email.html.erb</em></p>\n\n<pre><code>&lt;td class=\"six sub-columns header_logo\"&gt;\n    &lt;%= image_tag attachments[\"my_logo_sml.png\"].url -%&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p><em>gemfile</em></p>\n\n<pre><code>gem 'rails_12factor', group: :production \n</code></pre>\n\n<p><code>app/assets/images/my_logo_sml.png</code> is clearly present and getting through the pipline locally.</p>\n\n<p>I have run <code>RAILS_ENV=production bundle exec rake assets:precompile</code> a number of times, I have <code>heroku restart</code>'ed a number of times.</p>\n\n<p>Heroku logs:</p>\n\n<pre><code>2015-06-03T22:38:50.824191+00:00 app[web.1]: Errno::ENOENT (No such file or directory @ rb_sysopen - app/assets/images/my_logo_sml.png)\n</code></pre>\n\n<p>I'm at a loss after hours going round and around on this, can anyone help me please?</p>\n\n<p><strong>Update</strong></p>\n\n<p>After hours of looking at this i feel like it's not a syntax issue but an asset pre-compilation issue of some sort, I've copied my config/environments/production.rb code below if anyone can spot anything wrong?:</p>\n\n<pre><code>Rails.application.configure do\n  config.cache_classes = true\n  config.eager_load = true\n  config.consider_all_requests_local       = false\n  config.action_controller.perform_caching = true\n  config.serve_static_files = ENV['RAILS_SERVE_STATIC_FILES'].present?\n  config.assets.js_compressor = :uglifier\n  config.assets.compile = true #concerned that this is the right thing to do?\n  config.assets.digest = true\n  config.log_level = :debug\n  config.i18n.fallbacks = true\n  config.active_support.deprecation = :notify\n  config.log_formatter = ::Logger::Formatter.new\n  config.active_record.dump_schema_after_migration = false\n  config.action_mailer.asset_host = 'http://mysite.co'\n  ActionMailer::Base.smtp_settings = {\n    :address        =&gt; 'smtp.sendgrid.net',\n    :port           =&gt; '587',\n    :authentication =&gt; :plain,\n    :user_name      =&gt; ENV['SENDGRID_USERNAME'],\n    :password       =&gt; ENV['SENDGRID_PASSWORD'],\n    :domain         =&gt; 'heroku.com',\n    :enable_starttls_auto =&gt; true\n  }\nend\n</code></pre>\n\n<p>Perhaps I could clean all compiled assets out and start the whole thing again, could anyone advise as to how to do this?</p>\n\n<p><strong>Update</strong></p>\n\n<p>The source of my problem seemed to be confusion between local and slug asset compilation. I ran <code>heroku run rake assets:clobber</code> and this solved all of my problems. Full understanding of what precisely was going on still eludes me, however running the above and having <code>config.assets.compile = true</code> in config/environments/production.rb has everything working just fine and upon <code>git push heroku</code> it shows me clearly that it's running both <code>rake assets:clean</code> and <code>rake assets:precompile</code> just fine. Syntax used in the view was:</p>\n\n<p><em>welcome_email.html.erb</em></p>\n\n<pre><code>&lt;%= image_tag('my_logo_sml.png', alt: \"My Logo Small\")%&gt;\n</code></pre>\n\n<p>I'm still unsure as to whether having <code>config.assets.compile = true</code> is the correct thing to do despite it seeming to solve the problem, i wonder whether it might end up compiling assets on multiple occasions?</p>\n"}, {"tags": ["ruby", "web-scraping", "nokogiri"], "answers": [{"comments": [{"owner": {"reputation": 2285, "user_id": 4620141, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10152601898256854/picture?type=large", "display_name": "David Geismar", "link": "https://stackoverflow.com/users/4620141/david-geismar"}, "edited": false, "score": 0, "creation_date": 1433373328, "post_id": 30632342, "comment_id": 49330411, "body": "In the end I used this to access the link: <code>links = html_body.css(&#39;.list&#39;).xpath(&quot;&#47;&#47;table&#47;tbody&#47;tr&#47;td[2]&#47;a[1]&quot;)</code> and then used your regexp to extract the queryparam"}], "tags": [], "owner": {"reputation": 3738, "user_id": 2530089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4973420ed95a43d4a63718685b9a94b?s=128&d=identicon&r=PG", "display_name": "Alex Pan", "link": "https://stackoverflow.com/users/2530089/alex-pan"}, "is_accepted": true, "score": 1, "last_activity_date": 1433372713, "creation_date": 1433372713, "answer_id": 30632342, "question_id": 30632031, "link": "https://stackoverflow.com/questions/30632031/getting-specific-element-in-url-using-nokogiri/30632342#30632342", "title": "Getting specific element in Url using Nokogiri", "body": "<p>You can get the anchor tag <code>a</code> using nokogiri like so:</p>\n\n<pre><code>require 'nokogiri'\n\ndoc = Nokogiri::HTML.parse(&lt;&lt;-HTML_END)\n &lt;table class=\"list\"&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;\n      &lt;/td&gt;\n      &lt;td&gt;\n        &lt;a href=\"club.do?codeClub=01670001&amp;millesime=2015\"&gt;&lt;/a&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\nHTML_END\n\nlink = doc.css('table.list tbody tr td:nth-child(2) a')[0]['href']\n =&gt; \"club.do?codeClub=01670001&amp;millesime=2015\"\n</code></pre>\n\n<p>Then you can use regular expressions to get the entire query param of codeClub like so:</p>\n\n<pre><code>link[/codeClub=([^&amp;]*)/].gsub('codeClub=', '')\n =&gt; \"01670001\"\n</code></pre>\n"}], "owner": {"reputation": 2285, "user_id": 4620141, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10152601898256854/picture?type=large", "display_name": "David Geismar", "link": "https://stackoverflow.com/users/4620141/david-geismar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 30632342, "answer_count": 1, "score": 0, "last_activity_date": 1433372713, "creation_date": 1433371028, "question_id": 30632031, "link": "https://stackoverflow.com/questions/30632031/getting-specific-element-in-url-using-nokogiri", "title": "Getting specific element in Url using Nokogiri", "body": "<p>I have this kind of html structure :</p>\n\n<pre><code> &lt;table class=\"list\"&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;\n      &lt;/td&gt;\n      &lt;td&gt;\n        &lt;a href=\"club.do?codeClub=01670001&amp;millesime=2015\"&gt;&lt;/a&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I want to get the link contained in the second <code>&lt;td&gt;</code> of each <code>&lt;tr&gt;</code> contained in the <code>table</code> that has the <code>class list</code>. \nThen actually in each Url I am only interested in the value of the codeclub :\ncodeClub=01670001</p>\n\n<p>How can I achieve this using Nokogiri ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "terminal", "syntax-error", "rake"], "answers": [{"tags": [], "owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "is_accepted": true, "score": 4, "last_activity_date": 1433871486, "last_edit_date": 1433871486, "creation_date": 1433370820, "answer_id": 30631985, "question_id": 30631919, "link": "https://stackoverflow.com/questions/30631919/rake-dbseed-yields-syntax-error-unexpected-n-expecting/30631985#30631985", "title": "rake db:seed yields syntax error, unexpected &#39;\\n&#39;, expecting =&gt;", "body": "<p>You have a typo on line 16th:</p>\n\n<pre><code>Location.create(area: 'College Ave',\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>Location.create(area: 'College Ave')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4760444, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7eb65c2deb5ab2a001151b7d0c0cee45?s=128&d=identicon&r=PG&f=1", "display_name": "Serendipity", "link": "https://stackoverflow.com/users/4760444/serendipity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "closed_date": 1433871502, "accepted_answer_id": 30631985, "answer_count": 1, "score": 0, "last_activity_date": 1433871486, "creation_date": 1433370557, "last_edit_date": 1592644375, "question_id": 30631919, "link": "https://stackoverflow.com/questions/30631919/rake-dbseed-yields-syntax-error-unexpected-n-expecting", "closed_reason": "Not suitable for this site", "title": "rake db:seed yields syntax error, unexpected &#39;\\n&#39;, expecting =&gt;", "body": "<p>When I enter rake db:seed in terminal, I receive:</p>\n<blockquote>\n<p>SyntaxError:\n/Users/-/src/-/db/seeds.rb:17: syntax\nerror, unexpected '\\n', expecting =&gt;</p>\n<p>Tasks: TOP =&gt; db:seed</p>\n</blockquote>\n<p>...where db/seeds.rb has:</p>\n<pre><code>Category.create(kind: 'Food/Drink')        #line 9, everything above is commented out\nCategory.create(kind: 'Entertainment') \nCategory.create(kind: 'Organization')\nCategory.create(kind: 'Business')\nCategory.create(kind: 'Collegiate')\n\nLocation.create(area: 'Downtown NB') \nLocation.create(area: 'College Ave', \nLocation.create(area: 'Cook/Douglass')     #line 17\nLocation.create(area: 'Livingston') \nLocation.create(area: 'Busch') \nLocation.create(area: 'Surrounding NB')\nLocation.create(area: 'Out of Town')\n</code></pre>\n<p>A --trace shows:</p>\n<blockquote>\n<p>rake db:seed --trace</p>\n<p>** Invoke db:seed (first_time)</p>\n<p>** Execute db:seed</p>\n<p>** Invoke db:abort_if_pending_migrations (first_time)</p>\n<p>** Invoke environment (first_time)</p>\n<p>** Execute environment</p>\n<p>** Execute db:abort_if_pending_migrations</p>\n<p>rake aborted!</p>\n<p>SyntaxError: /Users/EuphoriaComplex/src/venture/venture/db/seeds.rb:17: syntax error, unexpected '\\n', expecting =&gt;</p>\n</blockquote>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "edited": false, "score": 0, "creation_date": 1433370072, "post_id": 30631739, "comment_id": 49329125, "body": "Where&#39;s the reviewname method?"}, {"owner": {"reputation": 115, "user_id": 4721912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgg5F.jpg?s=128&g=1", "display_name": "frizurd", "link": "https://stackoverflow.com/users/4721912/frizurd"}, "reply_to_user": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "edited": false, "score": 0, "creation_date": 1433370196, "post_id": 30631739, "comment_id": 49329180, "body": "@locoboy sorry i meant the newname method"}, {"owner": {"reputation": 195223, "user_id": 48523, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1c787bc735dbe80ec2f88824e1d10c6c?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/48523/andrew"}, "edited": false, "score": 0, "creation_date": 1433374368, "post_id": 30631739, "comment_id": 49330739, "body": "First step is to rename <code>newname</code> method to <code>update</code>. This would align more with REST best practices rather than having a custom route that is not intuitive."}, {"owner": {"reputation": 23312, "user_id": 560215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb365e8477053edcc55b40c3d27781d8?s=128&d=identicon&r=PG", "display_name": "sevenseacat", "link": "https://stackoverflow.com/users/560215/sevenseacat"}, "edited": false, "score": 1, "creation_date": 1433377912, "post_id": 30631739, "comment_id": 49331653, "body": "I&#39;m voting to close this question as off-topic because it&#39;s a clear request for a code review. We have a SE site for code reviews."}], "answers": [{"comments": [{"owner": {"reputation": 1600, "user_id": 2222931, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2a95f05bd9b203919d7fd28a9457a9e6?s=128&d=identicon&r=PG", "display_name": "letz", "link": "https://stackoverflow.com/users/2222931/letz"}, "edited": false, "score": 0, "creation_date": 1433371794, "post_id": 30632103, "comment_id": 49329850, "body": "To complete the answer : Code 500 is reserved for machine errors, you should use 422 if the resource hasn&#39;t updated"}], "tags": [], "owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "is_accepted": false, "score": 0, "last_activity_date": 1433371347, "creation_date": 1433371347, "answer_id": 30632103, "question_id": 30631739, "link": "https://stackoverflow.com/questions/30631739/how-can-i-improve-my-newname-method/30632103#30632103", "title": "How can I improve my &quot;newname&quot; method", "body": "<p>The biggest flaw is that <code>update_attribute</code> skips all the validations, hence, your else statement will rarely/never be executed. Change it to:</p>\n\n<pre><code>@review.name = sanitize(params[:title])\nif @review.save\n  #...\n</code></pre>\n\n<p>and it should be much better.</p>\n"}, {"tags": [], "owner": {"reputation": 84135, "user_id": 631619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6f3159af5195eddff62a2dd4f9ad969?s=128&d=identicon&r=PG", "display_name": "Michael Durrant", "link": "https://stackoverflow.com/users/631619/michael-durrant"}, "is_accepted": false, "score": 0, "last_activity_date": 1433374071, "last_edit_date": 1433374071, "creation_date": 1433373645, "answer_id": 30632487, "question_id": 30631739, "link": "https://stackoverflow.com/questions/30631739/how-can-i-improve-my-newname-method/30632487#30632487", "title": "How can I improve my &quot;newname&quot; method", "body": "<p>I think you could perhaps do something similar to:</p>\n\n<pre><code>class ReviewController &lt; ApplicationController\n\n    def index\n        @reviews = Review.all.order(created_at: :desc)\n    end\n\n    def newname\n        @review = Review.find(params[:id])\n        if @review.update(:title =&gt; sanitize(params[:title]))\n          render json: @review\n        else\n          render :json =&gt; { errors: @review.errors.full_messages }, status: 422\n        end\n    end\n\nend\n</code></pre>\n\n<p>The idea being to stay 'on the rails' and let the conventions do the work for you.</p>\n\n<p>This addresses the </p>\n\n<ul>\n<li>status code</li>\n<li>method used to update</li>\n<li>errors</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1504, "user_id": 1208166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HWLcG.jpg?s=128&g=1", "display_name": "creativereason", "link": "https://stackoverflow.com/users/1208166/creativereason"}, "is_accepted": false, "score": 0, "last_activity_date": 1433373681, "last_edit_date": 1592644375, "creation_date": 1433373681, "answer_id": 30632495, "question_id": 30631739, "link": "https://stackoverflow.com/questions/30631739/how-can-i-improve-my-newname-method/30632495#30632495", "title": "How can I improve my &quot;newname&quot; method", "body": "<p>To build upon BroiSatse's answer, I would definitely use save instead of update_attribute. I would also return the errors that occur so the user can parse or show them. If you're on Rails 4, use <a href=\"https://github.com/rails/strong_parameters\" rel=\"nofollow noreferrer\">strong params</a> (declare in a private method in controller)</p>\n<h3>Rails 3:</h3>\n<pre><code> def newname\n        @review = Review.find(params[:id])\n        @review.title = sanitize(params[:title])\n        if @review.save\n            format.json { render json: { status: 200 } }\n        else\n            render :json =&gt; {:errors =&gt; @review.errors.full_messages}, :status =&gt; 422\n        end\n    end\n</code></pre>\n<h3>Rails 4</h3>\n<pre><code>  class ReviewController &lt; ApplicationController\n    before_action :set_review, only [:newname] #list additional methods as needed...\n    ...\n    def newname\n        #@review is retrieved from set_review\n        if @review.update(review_params)\n             format.json { render json: { status: 200 } }\n        else\n             render :json =&gt; {:errors =&gt; @review.errors.full_messages}, :status =&gt; 422\n        end\n    end\n\n private\n    def set_review\n      @review = Review.find(params[:id])\n    end\n\n    def review_params\n      params.require(:review).permit(:title)\n    end\nend\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4721912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgg5F.jpg?s=128&g=1", "display_name": "frizurd", "link": "https://stackoverflow.com/users/4721912/frizurd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1433377602, "creation_date": 1433369795, "last_edit_date": 1433377602, "question_id": 30631739, "link": "https://stackoverflow.com/questions/30631739/how-can-i-improve-my-newname-method", "title": "How can I improve my &quot;newname&quot; method", "body": "<p>I am a student and I got the memo (without explanation) that\nmy following code is bugged and can be much better. How would you improve my <code>controller#newname</code> method? Thank you for your time!</p>\n\n<pre><code>class ReviewController &lt; ApplicationController\n\n    def index\n        @reviews = Review.all.order(created_at: :desc)\n    end\n\n    def newname\n        @review = Review.find(params[:id])\n        if @review.update_attribute(:title, sanitize(params[:title]))\n            format.json { render json: { status: 200 } }\n        else\n            format.json { render json: { status: 500 } }\n        end\n    end\n\nend\n</code></pre>\n"}, {"tags": ["ruby", "shell"], "comments": [{"owner": {"reputation": 19518, "user_id": 968969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0802303aaa5f03f4cec652171dffcbc7?s=128&d=identicon&r=PG", "display_name": "Tony Hopkinson", "link": "https://stackoverflow.com/users/968969/tony-hopkinson"}, "edited": false, "score": 1, "creation_date": 1433370527, "post_id": 30631728, "comment_id": 49329297, "body": "if /hello/ is truthy is all that is, it&#39;s not false and not nil"}, {"owner": {"reputation": 6805, "user_id": 404760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/676aeaea5c3e3ba4613174f2b5d18aae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/404760/shawn"}, "reply_to_user": {"reputation": 19518, "user_id": 968969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0802303aaa5f03f4cec652171dffcbc7?s=128&d=identicon&r=PG", "display_name": "Tony Hopkinson", "link": "https://stackoverflow.com/users/968969/tony-hopkinson"}, "edited": false, "score": 1, "creation_date": 1433371580, "post_id": 30631728, "comment_id": 49329761, "body": "@TonyHopkinson that&#39;s not true, you can modify the regex to match nothing -- Will result in no ouput"}, {"owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "edited": false, "score": 0, "creation_date": 1433371763, "post_id": 30631728, "comment_id": 49329839, "body": "Is it like Perl where when <code>-n</code> is used <code>$_</code> becomes an implicit argument?  Or maybe <code>$_</code> is implicit with regexp all the time."}, {"owner": {"reputation": 19518, "user_id": 968969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0802303aaa5f03f4cec652171dffcbc7?s=128&d=identicon&r=PG", "display_name": "Tony Hopkinson", "link": "https://stackoverflow.com/users/968969/tony-hopkinson"}, "edited": false, "score": 0, "creation_date": 1433371888, "post_id": 30631728, "comment_id": 49329891, "body": "@Shawn I&#39;m confused now are you asking about truthiness, or are you asking about implicit arguments???"}, {"owner": {"reputation": 19518, "user_id": 968969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0802303aaa5f03f4cec652171dffcbc7?s=128&d=identicon&r=PG", "display_name": "Tony Hopkinson", "link": "https://stackoverflow.com/users/968969/tony-hopkinson"}, "edited": false, "score": 0, "creation_date": 1433372910, "post_id": 30631728, "comment_id": 49330269, "body": "I&#39;m intrigued now. if /regex/ should always be true. It&#39;s as though it&#39;s doing a ~= ..."}, {"owner": {"reputation": 6805, "user_id": 404760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/676aeaea5c3e3ba4613174f2b5d18aae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/404760/shawn"}, "reply_to_user": {"reputation": 19518, "user_id": 968969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0802303aaa5f03f4cec652171dffcbc7?s=128&d=identicon&r=PG", "display_name": "Tony Hopkinson", "link": "https://stackoverflow.com/users/968969/tony-hopkinson"}, "edited": false, "score": 0, "creation_date": 1433374456, "post_id": 30631728, "comment_id": 49330767, "body": "@TonyHopkinson me too : )"}, {"owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 1, "creation_date": 1433375280, "post_id": 30631728, "comment_id": 49331020, "body": "It behaves the same in <code>irb</code> if you put <code>while gets; puts $_ if &#47;hello&#47;;end</code> and type stuff at it, although it says <code>warning: regex literal in condition</code>.  Weird!"}], "answers": [{"tags": [], "owner": {"reputation": 6805, "user_id": 404760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/676aeaea5c3e3ba4613174f2b5d18aae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/404760/shawn"}, "is_accepted": false, "score": 4, "last_activity_date": 1433388126, "last_edit_date": 1433388126, "creation_date": 1433375285, "answer_id": 30632734, "question_id": 30631728, "link": "https://stackoverflow.com/questions/30631728/ruby-command-line-implicit-conditional-check/30632734#30632734", "title": "Ruby Command Line Implicit Conditional Check", "body": "<p>After digging through the Ruby source (MRI), I think I found an explanation. </p>\n\n<p>The code:</p>\n\n<pre><code>pp RubyVM::InstructionSequence.compile('puts \"hello world\" if /hello/').to_a\n</code></pre>\n\n<p>produces the following output:</p>\n\n<pre><code>  ...     \n  [:trace, 1],\n  [:putobject, /hello/],\n  [:getspecial, 0, 0],\n  [:opt_regexpmatch2],\n  ...\n</code></pre>\n\n<p>The instructions seem to be calling opt_regexpmatch2 with two arguments, the first argument being the regex <code>/hello/</code> and the second being a return value from <code>getspecial</code></p>\n\n<p>getspecial can be found in insns.def</p>\n\n<pre><code>/**\n  @c variable\n  @e Get value of special local variable ($~, $_, ..).\n  @j \u7279\u6b8a\u306a\u30ed\u30fc\u30ab\u30eb\u5909\u6570\uff08$~, $_, ...\uff09\u306e\u5024\u3092\u5f97\u308b\u3002\n */\nDEFINE_INSN\ngetspecial\n(rb_num_t key, rb_num_t type)\n()\n(VALUE val)\n{\n    val = vm_getspecial(th, GET_LEP(), key, type);\n}\n</code></pre>\n\n<p>Note that our instructions are most likely telling the VM to bring back the value of <code>$_</code>. <code>$_</code> is automatically set for us when we run ruby with the correct options, e.g., -n</p>\n\n<p>Now that we have our two arguments, we call <code>opt_regexpmatch2</code></p>\n\n<pre><code>/**\n  @c optimize\n  @e optimized regexp match 2\n  @j \u6700\u9069\u5316\u3055\u308c\u305f\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1 2\n */\nDEFINE_INSN\nopt_regexpmatch2\n(CALL_INFO ci)\n(VALUE obj2, VALUE obj1)\n(VALUE val)\n{\n    if (CLASS_OF(obj2) == rb_cString &amp;&amp;\n    BASIC_OP_UNREDEFINED_P(BOP_MATCH, STRING_REDEFINED_OP_FLAG)) {\n    val = rb_reg_match(obj1, obj2);\n    }\n    else {\n    PUSH(obj2);\n    PUSH(obj1);\n    CALL_SIMPLE_METHOD(obj2);\n    }\n}\n</code></pre>\n\n<p>At the end of the day\n<code>if /hello/'</code> is equivalent to <code>if $_ =~ /hello/</code> -- <code>$_</code> will be <code>nil</code> unless we run <code>ruby</code> with the correct options.</p>\n"}, {"comments": [{"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1433382148, "post_id": 30633536, "comment_id": 49332685, "body": "This is the full and correct answer. This little bit of grammar is recursive, so it also applies in <code>if &#47;hello&#47; &amp;&amp; true</code>, and in <code>if &#47;hello&#47;..&#47;goodbye&#47;</code>. I would really like it if it was documented somewhere, though..."}, {"owner": {"reputation": 6805, "user_id": 404760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/676aeaea5c3e3ba4613174f2b5d18aae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/404760/shawn"}, "edited": false, "score": 0, "creation_date": 1433388267, "post_id": 30633536, "comment_id": 49334065, "body": "@thanks Matt, your response led me to refine my answer a bit. Let me know what you think. Thanks!"}], "tags": [], "owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "is_accepted": true, "score": 4, "last_activity_date": 1433381644, "creation_date": 1433381644, "answer_id": 30633536, "question_id": 30631728, "link": "https://stackoverflow.com/questions/30631728/ruby-command-line-implicit-conditional-check/30633536#30633536", "title": "Ruby Command Line Implicit Conditional Check", "body": "<p>The Ruby parser has a special case for regular expression <em>literals</em> in conditionals. Normally (i.e. without using the <code>e</code>, <code>n</code> or <code>p</code> command line options) this code:</p>\n\n<pre><code>if /foo/\n  puts \"TRUE!\"\nend\n</code></pre>\n\n<p>produces:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ruby regex-in-conditional1.rb\nregex-in-conditional1.rb:1: warning: regex literal in condition\n</code></pre>\n\n<p>Assigning something that matches the regex to <code>$_</code> first, like this:</p>\n\n<pre><code>$_ = 'foo'\nif /foo/\n  puts \"TRUE!\"\nend\n</code></pre>\n\n<p>produces:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ruby regex-in-conditional2.rb\nregex-in-conditional2.rb:2: warning: regex literal in condition\nTRUE!\n</code></pre>\n\n<p>This is a (poorly documented) exception to the normal rules for Ruby conditionals, where anything that\u2019s not <code>false</code> or <code>nil</code> evaluates as truthy.</p>\n\n<p>This only applies to regex literals, the following behaves as you might expect for a conditional:</p>\n\n<pre><code>regex = /foo/\nif regex\n  puts \"TRUE!\"\nend\n</code></pre>\n\n<p>output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ruby regex-in-conditional3.rb\nTRUE!\n</code></pre>\n\n<p>This is handled in the parser. Searching the MRI code for the text of the warning produces a single <a href=\"https://github.com/ruby/ruby/blob/18bbd05709a4d52704ac217f30c0d9f35830b7f0/parse.y#L9622\" rel=\"nofollow\">match in <code>parse.y</code></a>:</p>\n\n<pre><code>case NODE_DREGX:\ncase NODE_DREGX_ONCE:\n warning_unless_e_option(parser, node, \"regex literal in condition\");\n return NEW_MATCH2(node, NEW_GVAR(rb_intern(\"$_\")));\n</code></pre>\n\n<p>I don\u2019t know Bison, so I can\u2019t explain exactly what is going on here, but there are some clues you can deduce. The <a href=\"https://github.com/ruby/ruby/blob/18bbd05709a4d52704ac217f30c0d9f35830b7f0/parse.y#L9534\" rel=\"nofollow\"><code>warning_unless_e_option</code></a> function simply suppresses the warning if the <code>-e</code> option has been set, as this feature is discouraged in normal code but can be useful in expressions from the command line (this explains why you don\u2019t see the warning in your code). The next line seems to be constructing a parse subtree which is a regular expression match between the regex and the <code>$_</code> global variable, which contains \u201c<a href=\"http://ruby-doc.org/core-2.2.2/doc/globals_rdoc.html\" rel=\"nofollow\">[t]he last input line of string by gets or readline</a>\u201d. These nodes will then be compiled into the usually regular expression method call.</p>\n\n<p>That shows what is happening, I\u2019ll just finish with a quote from the <a href=\"http://ruby-doc.org/core-2.2.2/Kernel.html#method-i-gets\" rel=\"nofollow\"><code>Kernel#gets</code> documentation</a> which may explain why this is such an obscure feature</p>\n\n<blockquote>\n  <p>The style of programming using $_ as an implicit parameter is gradually losing favor in the Ruby community.</p>\n</blockquote>\n"}], "owner": {"reputation": 6805, "user_id": 404760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/676aeaea5c3e3ba4613174f2b5d18aae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/404760/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 30633536, "answer_count": 2, "score": 9, "last_activity_date": 1433388126, "creation_date": 1433369726, "last_edit_date": 1433371661, "question_id": 30631728, "link": "https://stackoverflow.com/questions/30631728/ruby-command-line-implicit-conditional-check", "title": "Ruby Command Line Implicit Conditional Check", "body": "<p>I ran the following from a bash shell:</p>\n\n<pre><code>echo 'hello world' | ruby -ne 'puts $_ if /hello/'\n</code></pre>\n\n<p>I thought it was a typo at first, but it outputted <code>hello world</code> surprisingly.</p>\n\n<p>I meant to type:</p>\n\n<pre><code>echo 'hello world' | ruby -ne 'puts $_ if /hello/ === $_'\n</code></pre>\n\n<p>Can anyone give an explanation, or point to documentation, to why we get this implicit comparison to <code>$_</code>?</p>\n\n<p>I'd also like to note:</p>\n\n<pre><code>echo 'hello world' | ruby -ne 'puts $_ if /test/'\n</code></pre>\n\n<p>Won't output anything.</p>\n"}, {"tags": ["ruby", "sidekiq"], "answers": [{"tags": [], "owner": {"reputation": 17782, "user_id": 1494519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af54a0871600db7fbdbb5c558a6e29a3?s=128&d=identicon&r=PG", "display_name": "Mike Perham", "link": "https://stackoverflow.com/users/1494519/mike-perham"}, "is_accepted": true, "score": 2, "last_activity_date": 1433374211, "creation_date": 1433374211, "answer_id": 30632591, "question_id": 30631633, "link": "https://stackoverflow.com/questions/30631633/what-kinds-of-issues-can-i-expect-to-see-when-using-sidekiq-with-100-queues/30632591#30632591", "title": "What kinds of issues can I expect to see when using Sidekiq with 100+ queues?", "body": "<p>Sidekiq has a <code>Fetcher</code> which pulls jobs out of queues in Redis.</p>\n\n<p>Your setup shouldn't be too bad for Sidekiq with the stock Fetcher but Sidekiq Pro's optional reliable Fetcher will pound Redis 107 times <strong>per second per process</strong> because Redis doesn't have a way to reliably block on multiple queues.  That kind of heavy polling will kill your scalability.</p>\n\n<p>So you can do that with Sidekiq.  You can do that with Sidekiq Pro.  Just don't turn on reliable fetch until you get your queue count down.</p>\n"}], "owner": {"reputation": 293, "user_id": 1245630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a8652922da161f33059d09e9ce0482?s=128&d=identicon&r=PG", "display_name": "HumbleRuckus", "link": "https://stackoverflow.com/users/1245630/humbleruckus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 30632591, "answer_count": 1, "score": 1, "last_activity_date": 1433374211, "creation_date": 1433369226, "question_id": 30631633, "link": "https://stackoverflow.com/questions/30631633/what-kinds-of-issues-can-i-expect-to-see-when-using-sidekiq-with-100-queues", "title": "What kinds of issues can I expect to see when using Sidekiq with 100+ queues?", "body": "<p>The Sidekiq documentation <a href=\"https://github.com/mperham/sidekiq/wiki/Advanced-Options#queues\" rel=\"nofollow\">recommends against having more than a few queues.</a>  I'm considering attempting to migrate a Resque setup that currently uses 107 queues.</p>\n\n<p>Can anyone provide a more detailed explanation of why I shouldn't use Sidekiq with 107 queues?  The above linked documentation just says that Sidekiq is \"is not designed to work well with dozens of queues.\"</p>\n\n<p>Rearchitecting the existing application isn't out of the question, but it makes Sidekiq a harder sell for us.</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "is_accepted": false, "score": 1, "last_activity_date": 1433371987, "creation_date": 1433371987, "answer_id": 30632207, "question_id": 30631576, "link": "https://stackoverflow.com/questions/30631576/how-can-i-scan-a-directory-get-the-ruby-files-execute-them-and-get-the-output/30632207#30632207", "title": "How can I scan a directory, get the ruby files, execute them and get the output?", "body": "<p>If you have a given path <code>input_dir</code> then you can change directory to that path, look for any ruby files and then iterate by executing them:</p>\n\n<pre><code>input_dir = \"/path\"\n\nDir.chdir(input_dir)\nsearch_string = input_dir + \"/*.rb\"\nruby_files = Dir[search_string]\nruby_files.each do |file|\n  system(\"ruby\", file)\nend\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 2140156, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/59c491e6d8a23ec422b05c4c53de5d51?s=128&d=identicon&r=PG", "display_name": "NeverJr", "link": "https://stackoverflow.com/users/2140156/neverjr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1433371987, "creation_date": 1433368932, "question_id": 30631576, "link": "https://stackoverflow.com/questions/30631576/how-can-i-scan-a-directory-get-the-ruby-files-execute-them-and-get-the-output", "title": "How can I scan a directory, get the ruby files, execute them and get the output?", "body": "<p>I have no experience in ruby, but I got this task. The specification says I got an argument from command line which is a directory path. I have to scan this dir for ruby files. If I found them, I have to execute and write to file the results.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 5139, "user_id": 1735262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Reinstate Monica -- notmaynard", "link": "https://stackoverflow.com/users/1735262/reinstate-monica-notmaynard"}, "edited": false, "score": 1, "creation_date": 1433368340, "post_id": 30631414, "comment_id": 49328374, "body": "Can you paste in the actual error messages?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1433368364, "post_id": 30631414, "comment_id": 49328385, "body": "<code>class</code> is a <a href=\"http://ruby-doc.org/docs/keywords/1.9/\" rel=\"nofollow noreferrer\">keyword</a>, therefore not a good variable name."}, {"owner": {"reputation": 5139, "user_id": 1735262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Reinstate Monica -- notmaynard", "link": "https://stackoverflow.com/users/1735262/reinstate-monica-notmaynard"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1433368812, "post_id": 30631414, "comment_id": 49328590, "body": "Clarifying @Blorgbeard &#39;s comment, it&#39;s not that <code>class</code> is not a <i>good</i> variable name, it&#39;s that it&#39;s a reserved word, and so is an <i>invalid</i> variable name. <code>class</code> marks the beginning of a class definition, which has a specific syntax; trying to use it as a variable name is a syntax error."}, {"owner": {"reputation": 5139, "user_id": 1735262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Reinstate Monica -- notmaynard", "link": "https://stackoverflow.com/users/1735262/reinstate-monica-notmaynard"}, "edited": false, "score": 0, "creation_date": 1433368907, "post_id": 30631414, "comment_id": 49328635, "body": "When you are asking about what error messages mean, you should really paste in the actual error messages. The exact message, stack trace, line numbers, etc. will be helpful to those trying to help you."}, {"owner": {"reputation": 11, "user_id": 4971516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd752c5a8bc72969f2beb6b8e7764cef?s=128&d=identicon&r=PG", "display_name": "The Chatty Gamer", "link": "https://stackoverflow.com/users/4971516/the-chatty-gamer"}, "edited": false, "score": 0, "creation_date": 1433870964, "post_id": 30631414, "comment_id": 49533801, "body": "Unfortunately I happen to be using the ruby command prompt, so I can&#39;t copy and paste any of the errors. However, I found a solution anyways. Thank you for your help."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 4967034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hjoSu.jpg?s=128&g=1", "display_name": "vcolin7", "link": "https://stackoverflow.com/users/4967034/vcolin7"}, "is_accepted": false, "score": 1, "last_activity_date": 1433369288, "creation_date": 1433369288, "answer_id": 30631648, "question_id": 30631414, "link": "https://stackoverflow.com/questions/30631414/many-repeating-syntax-errors-with-no-visible-errors/30631648#30631648", "title": "Many repeating syntax errors with no visible errors", "body": "<p>Well first of all change the name of the <code>class</code> variable to something a little different like <code>class_name</code> to prevent weird things happening later is you want to use it for more things.</p>\n\n<p>A unary expresion can only use <a href=\"http://en.wikipedia.org/wiki/Unary_operation\" rel=\"nofollow\">one operand.</a> The \"unary error\" is most likely due to the way you're giving the string argument to the <code>puts</code> function using the <code>+</code> sign to separate operands, try saving the string in a variable and then passing it to puts as the argument.</p>\n\n<p>Example:</p>\n\n<p><code>grade_a_announcement = \"Your letter grade for \" + class + \" is an A!\"</code>\n<code>puts(grade_a_announcement)</code></p>\n\n<p>Furhtermore, as a recommendation for a program where you have to check against a variable in multiple occasions use<code>case</code> instead of all those <code>if</code>'s as seen <a href=\"http://www.tutorialspoint.com/ruby/ruby_if_else.htm\" rel=\"nofollow\">here in the \"Ruby case Statement\" section.</a></p>\n"}, {"tags": [], "owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "is_accepted": false, "score": 0, "last_activity_date": 1433401073, "creation_date": 1433401073, "answer_id": 30637023, "question_id": 30631414, "link": "https://stackoverflow.com/questions/30631414/many-repeating-syntax-errors-with-no-visible-errors/30637023#30637023", "title": "Many repeating syntax errors with no visible errors", "body": "<p>The \"unary operator\" errors are, as @Dimovict said, because of how you wrote your <code>puts</code> call. The more idiomatic way to get the effect you want, though, is to use string interpolation:</p>\n\n<pre><code>puts(\"Your letter grade for #{class} is an A!\")\n</code></pre>\n\n<p>This inserts <code>class</code> where <code>#{class}</code> is located in the string, and should remove the errors you're getting (unless you have more in code you haven't shown).</p>\n"}], "owner": {"reputation": 11, "user_id": 4971516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd752c5a8bc72969f2beb6b8e7764cef?s=128&d=identicon&r=PG", "display_name": "The Chatty Gamer", "link": "https://stackoverflow.com/users/4971516/the-chatty-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1433401073, "creation_date": 1433368264, "last_edit_date": 1433368412, "question_id": 30631414, "link": "https://stackoverflow.com/questions/30631414/many-repeating-syntax-errors-with-no-visible-errors", "title": "Many repeating syntax errors with no visible errors", "body": "<pre><code>puts(\"This program is intended to tell you your letter grade, and if you passed or\")\nputs(\"failed.\")\nputs\nprint(\"What was your grade for the class you are testing for?: \")\ngrade = Integer(gets)\nputs\nprint(\"What was the name of the class?: \")\nclass = gets\nclass = class.chomp\nputs\nif grade &gt;= 90\n    puts\n    puts(\"You passed!\")\n    puts\n    puts(\"Your letter grade for \" + class + \" is an A!\")\nelsif grade &gt;= 80\n    puts\n    puts(\"You Passed\")\n    puts\n    puts(\"Your letter grade for \" + class + \" is a B.\")\nelsif grade &gt;= 70\n    puts\n    puts(\"You Passed\")\n    puts\n    puts(\"Your letter grade for \" + class + \" is a C.\")\nelsif grade &gt;= 60\n    puts\n    puts(\"You Failed...\")\n    puts\n    puts(\"Your letter grade for \" + class + \" is a D.\")\nelsif grade &lt; 60\n    puts\n    puts(\"You Failed...\")\n    puts\n    puts(\"Your letter grade for \" + class + \" is a F...\")\nelse\n    puts\n    puts(\"It is not possible to get a negative grade. Please try again.\")   \nend\n</code></pre>\n\n<p>This is intended to take the users input, tell the user if they passed or failed, and their letter grade.</p>\n\n<p>The errors mainly say \"syntax error, unexpected unary+\", \"=\" or \")\"</p>\n"}, {"tags": ["ruby", "date", "ruby-on-rails-4", "dry"], "comments": [{"owner": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433368524, "post_id": 30631001, "comment_id": 49328464, "body": "Do y&#39;all store anything in your own database or are y&#39;all only using Stripe?"}, {"owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "reply_to_user": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433368548, "post_id": 30631001, "comment_id": 49328478, "body": "WIth invoices specifically, trying to ONLY use Stripe."}, {"owner": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433368741, "post_id": 30631001, "comment_id": 49328559, "body": "Why not try using Stripe&#39;s subscription and plan objects then? <a href=\"https://stripe.com/docs/api/ruby#update_subscription\" rel=\"nofollow noreferrer\">stripe.com/docs/api/ruby#update_subscription</a>"}, {"owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "reply_to_user": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433370533, "post_id": 30631001, "comment_id": 49329302, "body": "ah yes sorry i should clarify. the real story is super long, but basically I am using stripe&#39;s subscription/ plan objects to update, THIS code is above and beyond the normal update."}, {"owner": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433463822, "post_id": 30631001, "comment_id": 49375429, "body": "How is it above and beyond? It looks like you&#39;re just changing subscription plans."}, {"owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "reply_to_user": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433478622, "post_id": 30631001, "comment_id": 49379249, "body": "When a user upgrades, 2 things happen: 1) the subscription plan gets upgraded (the easy part, all done in Stripe) for your next invoice and beyond, 2) there&#39;s an INCREMENTAL adjustment which is the InvoiceItem part that this question is about. The reason is because we offer a discrete service (e.g., not like a gym membership where upon upgrade you immediately can start accessing more. In this case, when you upgrade, we give you more product, but we need time to prepare the product). Does that help? Sorry this is quite hard to explain..."}, {"owner": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433538706, "post_id": 30631001, "comment_id": 49413491, "body": "1) Sure. Great! 2) I don&#39;t follow you. Does the volume of distributed product increase over time to taper out at the subscription tier volume? If so, I&#39;d recommend invoicing for the product be done in a separate operation. Where in you could reference the client&#39;s subscription plan to determine how much they owe. Trying to have these changes handled entirely by the subscription plan seems very confusing ( you can&#39;t even explain it... ). Additional, your current approaches could have dire consequences when dealing with clients that rapidly change between several different subscription plans."}, {"owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "reply_to_user": {"reputation": 271, "user_id": 2533840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83cb5773cf4fb5e05511798e9e800d8?s=128&d=identicon&r=PG", "display_name": "D3RPZ1LLA", "link": "https://stackoverflow.com/users/2533840/d3rpz1lla"}, "edited": false, "score": 0, "creation_date": 1433636459, "post_id": 30631001, "comment_id": 49436969, "body": "#2.. kind of, but that&#39;s exactly why this invoicing IS done separately. Hence the InvoiceItem creation."}], "answers": [{"tags": [], "owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "is_accepted": true, "score": 0, "last_activity_date": 1433367730, "creation_date": 1433367730, "answer_id": 30631279, "question_id": 30631001, "link": "https://stackoverflow.com/questions/30631001/a-dryer-way-to-upgrade-customer-from-1-to-3-to-5-times-a-week-i-e-date-math/30631279#30631279", "title": "A DRYer way to upgrade customer from 1 to 3 to 5 times a week (i.e., Date math!)", "body": "<p>Ok actually I just had a moment of creativity and thought of a possible answer, but would LOVE to hear others:</p>\n\n<pre><code>prices = {1=&gt;15, 3=&gt;12, 5=&gt;10}\ndates_to_be_created = { [1,3] =&gt; [3,5], [1,5] =&gt; [2,3,4,5], [3,5] =&gt; [4,5] }\narray_of_mondays.each do |m|\n  dates_to_be_created[[current_plan,new_plan]].each do |d|\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(d, 0, m))\n  end\n  Stripe::InvoiceItem.create(\n    customer: self.user.stripe_customer_id,\n    amount: (new_plan \u2013 current_plan) * prices[new_plan],\n    currency: \u201cusd\u201d\n  )\nend\n</code></pre>\n"}], "owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 30631279, "answer_count": 1, "score": 0, "last_activity_date": 1433367730, "creation_date": 1433366560, "question_id": 30631001, "link": "https://stackoverflow.com/questions/30631001/a-dryer-way-to-upgrade-customer-from-1-to-3-to-5-times-a-week-i-e-date-math", "title": "A DRYer way to upgrade customer from 1 to 3 to 5 times a week (i.e., Date math!)", "body": "<p>This is one of those things that's super obvious to people, but code wise I'm struggling with how to write it. A customer can be on one of 3 plans:</p>\n\n<ul>\n<li>Once a week (1) - on Monday, where product is $15 each (or $15 for the week)</li>\n<li>Three times a week (3) - on Wed, Fri, where product is $12 each (or $36 for the week)</li>\n<li>Five times a week (5) - on Mon, Tu, Wed, Th, Fri, where product is $10 each (or $50 for the week)</li>\n</ul>\n\n<p>Upgrade logic is simplified as such:</p>\n\n<ul>\n<li>If a customer upgrades from 1 to 3, for every Monday already paid for, we now need to add plan_dates for the associated Wed, Fri of that week, and add a Stripe InvoiceItem for $12 * 2 = $24 </li>\n<li>If a customer upgrades from 1 to 5, for every Monday already paid for, we now need to add plan_dates for the associated Tu, Wed, Th, Fri of that week, and add a Stripe InvoiceItem for $10 * 4 = $40 </li>\n<li>If a customer upgrades from 3 to 5, for every Monday already paid for, we now need to add plan_dates for the associated Th, Fri of that week, and add a Stripe InvoiceItem for $10 * 2 = $20 </li>\n</ul>\n\n<p>\"every Monday already paid for\" is an array <code>array_of_mondays</code> in the code. From there, I have a jumbled mess that I can't think about how to DRY up...</p>\n\n<pre><code>prices = {1=&gt;15, 3=&gt;12, 5=&gt;10} \narray_of_mondays.each do |m|\n  if current_plan == 1 &amp;&amp; new_plan == 3\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(3, 0, m))\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(5, 0, m))\n    Stripe::InvoiceItem.create(\n      customer: self.user.stripe_customer_id,\n      amount: (new_plan \u2013 current_plan) * prices[new_plan],\n      currency: \u201cusd\u201d\n    )\n  elsif current_plan == 1 &amp;&amp; new_plan == 5\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(2, 0, m))\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(3, 0, m))\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(4, 0, m))\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(5, 0, m))\n    Stripe::InvoiceItem.create(\n      customer: self.user.stripe_customer_id,\n      amount: (new_plan \u2013 current_plan) * prices[new_plan],\n      currency: \u201cusd\u201d\n    )\n  elsif current_plan == 3 &amp;&amp; new_plan == 5\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(4, 0, m))\n    self.plan_dates.create(ddate: date_of_next_X_day_Y_days_out_from_Z_start(5, 0, m))\n    Stripe::InvoiceItem.create(\n      customer: self.user.stripe_customer_id,\n      amount: (new_plan \u2013 current_plan) * prices[new_plan],\n      currency: \u201cusd\u201d\n    )\n  end\nend\n</code></pre>\n\n<p>The method that I'm using <code>date_of_next_X_day_Y_days_out_from_Z_start</code> helps figure out the actual date:</p>\n\n<pre><code>def date_of_next_X_day_Y_days_out_from_Z_start(wday, number_of_days, start_date)\n    number_of_days = number_of_days.to_i\n    wday = wday.to_i\n    day_ahead = start_date + number_of_days.days\n    (day_ahead) + ((7 - day_ahead.wday + wday) % 7).days\n    #returns Date object\nend\n</code></pre>\n\n<p>In other words, what it's doing is it's saying create a <code>plan_date</code> with a <code>ddate</code> that is the next Tuesday, 0 days out from the specified Monday (e.g., the next Tuesday)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ajax", "rest", "rest-client"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 4626222, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0189dabcf1e6fc8e2db02dc156bea687?s=128&d=identicon&r=PG&f=1", "display_name": "Flynt Hamlock", "link": "https://stackoverflow.com/users/4626222/flynt-hamlock"}, "edited": false, "score": 0, "creation_date": 1433367305, "post_id": 30631074, "comment_id": 49327917, "body": "Looks good, thanks, but is there no way I can do this without having to involve a 3rd party service?"}], "tags": [], "owner": {"reputation": 31012, "user_id": 25398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3690dee254e9aa9d98ff964a70e89f23?s=128&d=identicon&r=PG", "display_name": "Cody Caughlan", "link": "https://stackoverflow.com/users/25398/cody-caughlan"}, "is_accepted": false, "score": 1, "last_activity_date": 1433366818, "creation_date": 1433366818, "answer_id": 30631074, "question_id": 30630996, "link": "https://stackoverflow.com/questions/30630996/rest-client-callback-how-to-tell-when-items-are-done-loading/30631074#30631074", "title": "REST Client callback: How to tell when items are done loading?", "body": "<p>You could look into a pub-sub architecture using something like PubNub[1] or Pusher[2]</p>\n\n<p>Your front-end would subscribe to those endpoints and then you can have your backend publish events to those endpoints (which are then read from the consumers (your frontend))</p>\n\n<p>[1] PubNub - <a href=\"http://www.pubnub.com/\" rel=\"nofollow\">http://www.pubnub.com/</a></p>\n\n<p>[2] Pusher - <a href=\"https://pusher.com/\" rel=\"nofollow\">https://pusher.com/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3630, "user_id": 4799659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153200714295120/picture?type=large", "display_name": "fylooi", "link": "https://stackoverflow.com/users/4799659/fylooi"}, "is_accepted": false, "score": 0, "last_activity_date": 1433427122, "creation_date": 1433427122, "answer_id": 30646210, "question_id": 30630996, "link": "https://stackoverflow.com/questions/30630996/rest-client-callback-how-to-tell-when-items-are-done-loading/30646210#30646210", "title": "REST Client callback: How to tell when items are done loading?", "body": "<p>You might be able to hack together a solution using <a href=\"http://api.rubyonrails.org/classes/ActionController/Streaming.html\" rel=\"nofollow\">ActionController::Streaming</a>. Do take into account potential session bottlenecks. </p>\n\n<p>An alternate solution might be using Websockets &amp; Redis. </p>\n"}], "owner": {"reputation": 339, "user_id": 4626222, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0189dabcf1e6fc8e2db02dc156bea687?s=128&d=identicon&r=PG&f=1", "display_name": "Flynt Hamlock", "link": "https://stackoverflow.com/users/4626222/flynt-hamlock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433427122, "creation_date": 1433366548, "last_edit_date": 1495539819, "question_id": 30630996, "link": "https://stackoverflow.com/questions/30630996/rest-client-callback-how-to-tell-when-items-are-done-loading", "title": "REST Client callback: How to tell when items are done loading?", "body": "<p>I'm trying to load some items from this external API using <a href=\"https://github.com/rest-client/rest-client\" rel=\"nofollow noreferrer\">REST Client</a> and <a href=\"https://github.com/collectiveidea/delayed_job\" rel=\"nofollow noreferrer\">DelayedJob</a>.</p>\n\n<p>But, unlike <a href=\"https://stackoverflow.com/questions/29329620/ajax-check-for-database-change-using-route\">Ajax check for database change using route</a>, these items don't get saved to the database but rather go straight to the view -- so how would I know when they're done loading so I can load them into the client using Ajax?</p>\n\n<p><strong>Live app which you can run on the fly</strong>: <a href=\"http://runnable.com/VW9rQx-KiIFfmpII/ajax-affiliates\" rel=\"nofollow noreferrer\">http://runnable.com/VW9rQx-KiIFfmpII/ajax-affiliates</a></p>\n\n<p><strong>app/controllers/main_controller.rb</strong></p>\n\n<pre><code>class MainController &lt; ApplicationController\n  def index\n    # Delay fetching\n    @products = Affiliate.delay.fetch\n  end\n\n  # Pseudo-code from SO `ajax-check-for-database-change-using-route`\n  #\n  # def check_items_loaded\n  #   @items_status = Affiliate.find(params[:id]).items_loaded\n  #   respond_to do |wants|\n  #     wants.js\n  #   end\n  # end\nend\n</code></pre>\n\n<p><strong>config/routes.rb</strong></p>\n\n<pre><code># Pseudo-code from SO `ajax-check-for-database-change-using-route`\n# get '/check_items_loaded/:id', to: 'photos#check_items_loaded', as: :check_items_loaded\n</code></pre>\n\n<p><strong>app/models/affiliate.rb</strong></p>\n\n<pre><code>require \"rest_client\"\n\nmodule Affiliate\n  def self.fetch\n    response = RestClient::Request.execute(\n      :method =&gt; :get,\n      :url =&gt; \"http://api.shopstyle.com/api/v2/products?pid=uid7849-6112293-28&amp;fts=women&amp;offset=0&amp;limit=10\"\n    )\n\n    @products = JSON.parse(response)[\"products\"].map do |product|\n      product = OpenStruct.new(product)\n      product\n    end\n  end\n\n # More pseudo-code\n # Add `items_loaded` boolean to database?\n # private\n #   def set_items_loaded\n #     self.update_attributes(items_loaded: ???)\n #   end\nend\n</code></pre>\n"}, {"tags": ["ruby", "streaming", "pipe"], "answers": [{"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": true, "score": 1, "last_activity_date": 1433365851, "creation_date": 1433365851, "answer_id": 30630809, "question_id": 30630615, "link": "https://stackoverflow.com/questions/30630615/is-ruby-pipe-streaming-asynchronous/30630809#30630809", "title": "Is Ruby pipe streaming asynchronous?", "body": "<p>You need to enable <code>sync</code>. That tells Ruby to <em>not</em> buffer the output, but instead send it as it's output. </p>\n\n<blockquote>\n  <p>Sets the \u201csync mode\u201d to true or false. When sync mode is true, all output is immediately flushed to the underlying operating system and is not buffered internally.</p>\n</blockquote>\n\n<p>Pipelines should work with <code>sync</code> disabled/false, but you won't see anything until the first, then subsequent pipes, see a closed input, or they have full buffers and flush them, which could take a while.</p>\n\n<p>See <a href=\"http://ruby-doc.org/core-2.2.2/IO.html#method-i-sync-3D\" rel=\"nofollow\"><code>IO.sync=</code></a> for more information.</p>\n"}], "owner": {"reputation": 1556, "user_id": 691816, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/07a1c91639f297f3dbe8cb82f87ac961?s=128&d=identicon&r=PG", "display_name": "Edward J. Stembler", "link": "https://stackoverflow.com/users/691816/edward-j-stembler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 30630809, "answer_count": 1, "score": 0, "last_activity_date": 1433365851, "creation_date": 1433365207, "question_id": 30630615, "link": "https://stackoverflow.com/questions/30630615/is-ruby-pipe-streaming-asynchronous", "title": "Is Ruby pipe streaming asynchronous?", "body": "<p>I have a <a href=\"http://en.wikipedia.org/wiki/MapReduce\" rel=\"nofollow\">map/reduce</a> streaming <a href=\"http://en.wikipedia.org/wiki/Pipeline_%28Unix%29\" rel=\"nofollow\">pipeline</a> written in Ruby which is behaving strangely. The pipeline looks like this:</p>\n\n<p><code>mapper | sort | reducer | expander | sort | splitter | uploader</code></p>\n\n<p>The mapper writes to STDOUT (via <a href=\"http://ruby-doc.org/core-1.9.3/Kernel.html#method-i-puts\" rel=\"nofollow\">puts</a>), the reducer reads from STDIN (via <a href=\"http://ruby-doc.org/core-1.9.3/ARGF.html#method-i-each\" rel=\"nofollow\">ARGF.each</a>) and writes to STDOUT (via puts) etc. etc.</p>\n\n<p>It seems like when the uploader is executed the files the splitter should've have created are not created yet. So the uploader doesn't upload anything.</p>\n\n<p>Here's my Pipeline class:</p>\n\n<pre><code>class Pipeline\n\n  def run(context)\n    raise ArgumentError, 'context is nil' unless context\n    raise ArgumentError, 'context[:logger] is nil' unless context[:logger]\n\n    current_path = File.dirname(__FILE__)\n    mapper       = File.join(current_path, 'mapper.rb')\n    reducer      = File.join(current_path, 'reducer.rb')\n    expander     = File.join(current_path, 'expander.rb')\n    splitter     = File.join(current_path, 'splitter.rb')\n    uploader     = File.join(current_path, 'uploader.rb')\n\n    mapper_args = context[:order_id] == nil ? nil : \" #{context[:order_id]}\"\n\n    command_line = \"ruby #{mapper}#{mapper_args} | sort | ruby #{reducer} | ruby #{expander} | sort | ruby #{splitter} | ruby #{uploader}\"\n\n    context[:logger].debug command_line\n\n    %x{#{command_line}}\n  end\n\nend\n</code></pre>\n\n<p>If piped streaming is asynchronous in Ruby, I'm wondering if doing what RubyMine does would fix this.  For example, before they run a Ruby script they prepend the command line like this:  <code>ruby -e $stdout.sync=true;$stderr.sync=true;load($0=ARGV.shift)</code>.</p>\n\n<p>I've updated my code with this technique, however, I want to know if this is correctly.  Or, if there is a better way?</p>\n\n<pre><code>class Pipeline\n\n  def run(context)\n    raise ArgumentError, 'context is nil' unless context\n    raise ArgumentError, 'context[:logger] is nil' unless context[:logger]\n\n    current_path = File.dirname(__FILE__)\n    ruby         = 'ruby -e $stdout.sync=true;$stderr.sync=true;load($0=ARGV.shift)'\n    mapper       = File.join(current_path, 'mapper.rb')\n    reducer      = File.join(current_path, 'reducer.rb')\n    expander     = File.join(current_path, 'expander.rb')\n    splitter     = File.join(current_path, 'splitter.rb')\n    uploader     = File.join(current_path, 'uploader.rb')\n\n    mapper_args = context[:order_id] == nil ? nil : \" #{context[:order_id]}\"\n\n    create_reports_command_line = \"#{ruby} #{mapper}#{mapper_args} | sort | #{ruby} #{reducer} | #{ruby} #{expander} | sort | #{ruby} #{splitter}\"\n\n    context[:logger].debug create_reports_command_line\n\n    %x{#{create_reports_command_line}}\n\n    sleep 60 # Sleep for 1 min, just in case...\n\n    upload_reports_command_line = \"#{ruby} #{uploader}\"\n\n    context[:logger].debug upload_reports_command_line\n\n    %x{#{upload_reports_command_line}}\n  end\n\nend\n</code></pre>\n"}, {"tags": ["html", "ruby-on-rails", "ruby", "ruby-on-rails-4", "paperclip"], "owner": {"reputation": 1189, "user_id": 3450793, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/arHdQ.png?s=128&g=1", "display_name": "alphaleonis", "link": "https://stackoverflow.com/users/3450793/alphaleonis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1433365163, "creation_date": 1433365163, "last_edit_date": 1495535212, "question_id": 30630601, "link": "https://stackoverflow.com/questions/30630601/how-do-i-save-images-via-options-for-select-with-paperclip-and-image-picker-on-r", "title": "How do I save images via options_for_select with Paperclip and Image Picker on Rails 4?", "body": "<p>I'm trying to save images via a form that populates a \"Select\" field with a number of options. The select form uses Image Picker to change the options when an user clicks on a selected image. When the form is submitted, the selected image should be saved with the Paperclip gem.</p>\n\n<p>I think I just need to point the image url from the selected option to a method that will open it in Paperclip, but I'm not quite sure how to do that. I'm new to Rails, and humbly appreciate anything that will point me in the right direction! </p>\n\n<p>Here's what I have:</p>\n\n<p><strong>_form.html.erb</strong></p>\n\n<pre><code>&lt;%= f.select( :medium_id,\n              options_for_select(@story.fetched_images.collect{ |v,i| [v, @story.fetched_images.index(v), 'data-img-src' =&gt; v ] } )) %&gt;\n</code></pre>\n\n<p>If I use \":medium\", as I would normally do when setting the form input, I get an error that says \"ActiveRecord::AssociationTypeMismatch at /stories\nMedium(#70334728193840) expected, got String(#70334669736760)\", so I have tried using \":medium_id\", which displays the value of the selected option instead of the url. </p>\n\n<p>Using \":medium_id\" allows the rest of the form fields to save properly without an error, but only the option value is saved for the image, not the image itself.</p>\n\n<p><strong>story.rb</strong></p>\n\n<pre><code>class Story &lt; ActiveRecord::Base\n\nbelongs_to :medium\n\naccepts_nested_attributes_for :medium\n</code></pre>\n\n<p><strong>stories_controller.rb</strong></p>\n\n<pre><code>class StoriesController &lt; ApplicationController\n\ndef new\n    @title = \"Submit Story\"\n    @cur_url = \"/stories/new\"\n\n\n    @story = Story.new\n    @story.build_medium\nend\n\nprivate\n\ndef story_params\n    p = params.require(:story).permit(\n  :title, :url, :description, :moderation_reason, :seen_previous,\n  :merge_story_short_id, :is_unavailable, :medium, :medium_id, :tags_a =&gt; [], medium_attributes: [:medium, :image],\n)\n</code></pre>\n\n<p><strong>medium.rb</strong></p>\n\n<pre><code>require \"open-uri\"\n\nclass Medium &lt; ActiveRecord::Base\n\nhas_one :story\n\nbefore_save :image_from_select\n\n    def image_from_select(url)\n        self.image = open(url)\n    end\n\nend\n</code></pre>\n\n<p><strong>media_controller.rb</strong></p>\n\n<pre><code>def create\n    @medium = Medium.new(medium_params)\n\n    respond_to do |format|\n      if @medium.save\n        format.html { redirect_to @medium, notice: 'Medium was successfully created.' }\n        format.json { render action: 'show', status: :created, location: @medium }\n      else\n        format.html { render action: 'new' }\n        format.json { render json: @medium.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\nprivate\n\ndef set_medium\n  @medium = Medium.find(params[:id])\nend\n\n\ndef medium_params\n  params.require[:medium].permit(:image)\nend\n</code></pre>\n\n<p>end</p>\n\n<p><strong>schema.rb</strong></p>\n\n<pre><code>create_table \"stories\", force: true do |t|\n  t.integer  \"medium_id\"\nend\n\n  create_table \"media\", force: true do |t|\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n    t.string   \"image_file_name\"\n    t.string   \"image_content_type\"\n    t.integer  \"image_file_size\"\n    t.datetime \"image_updated_at\"\n    t.integer  \"story_id\"\n  end\n</code></pre>\n\n<p>I have tried referencing the following without success:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4049709/save-image-from-url-by-paperclip\">Save image from URL by paperclip</a>\n<a href=\"https://stackoverflow.com/questions/22053942/which-is-the-proper-way-to-upload-an-image-from-an-external-url-with-paperclip-o?lq=1\">Which is the proper way to upload an image from an external url with Paperclip on rails 4?</a>\n<a href=\"http://runnable.com/UnsMH7fYN2V6AAAT/how-to-save-images-by-url-with-paperclip-for-ruby-on-rails-and-upload\" rel=\"nofollow noreferrer\">http://runnable.com/UnsMH7fYN2V6AAAT/how-to-save-images-by-url-with-paperclip-for-ruby-on-rails-and-upload</a>\n<a href=\"https://github.com/thoughtbot/paperclip/wiki/Attachment-downloaded-from-a-URL\" rel=\"nofollow noreferrer\">https://github.com/thoughtbot/paperclip/wiki/Attachment-downloaded-from-a-URL</a></p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ruby", "validation"], "comments": [{"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "edited": false, "score": 0, "creation_date": 1433364008, "post_id": 30630216, "comment_id": 49326209, "body": "<a href=\"http://ruby-doc.org/core-2.2.0/Range.html\" rel=\"nofollow noreferrer\">ruby-doc.org/core-2.2.0/Range.html</a>"}, {"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "edited": false, "score": 0, "creation_date": 1433364041, "post_id": 30630216, "comment_id": 49326227, "body": "Or, if you meant something other than defining an array ranging from 1 to 10, clarify your quesiton."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "reply_to_user": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "edited": false, "score": 0, "creation_date": 1433364471, "post_id": 30630216, "comment_id": 49326440, "body": "@QPaysTaxes I just want to define an array having values from 1 to 10 but can be repeated as many times as wanted. How do I do that?"}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "edited": false, "score": 0, "creation_date": 1433364806, "post_id": 30630216, "comment_id": 49326609, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/191329/correct-way-to-populate-an-array-with-a-range-in-ruby\">Correct way to populate an Array with a Range in Ruby</a>"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433364887, "post_id": 30630422, "comment_id": 49326655, "body": "I am trying to use get.chomps too. So I wanna make sure that the input value does not exceed 10. How do I do that?"}, {"owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433364968, "post_id": 30630422, "comment_id": 49326712, "body": "What do you mean by input value?"}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433365075, "post_id": 30630422, "comment_id": 49326763, "body": "Like the value that the user puts in the array"}], "tags": [], "owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "is_accepted": false, "score": 1, "last_activity_date": 1433369760, "last_edit_date": 1433369760, "creation_date": 1433364584, "answer_id": 30630422, "question_id": 30630216, "link": "https://stackoverflow.com/questions/30630216/ensure-all-values-in-user-input-array-are-between-1-and-10/30630422#30630422", "title": "Ensure all values in user-input array are between 1 and 10", "body": "<p>You can just use the below to do that:</p>\n\n<pre><code>def verify(input)\n    (1..10).to_a.include?(input)\nend\n\n#input is user input\nif verify(input)\n  #do some stuff\nelse\n  #don't do stuff\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433364963, "post_id": 30630490, "comment_id": 49326709, "body": "@ShailiParikh No, it works with an array of numbers. Please add the input format to your question if you&#39;d like help turning that into an array of numbers as well."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433365056, "post_id": 30630490, "comment_id": 49326752, "body": "Okay, so I basically have to have all my values ranging from 1 to 10 and the user will input those values. Is there no way I can make sure that the user does not input 11 or 12 or anything greater than 10"}, {"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433365146, "post_id": 30630490, "comment_id": 49326816, "body": "@ShailiParikh That&#39;s not what I asked. In what format will the numbers be entered? Into the standard input, with each number on a new line? One long line of numbers, with each separated by some character? <i>Explain what you want</i>. Ideally in the question itself, with examples."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433366841, "post_id": 30630490, "comment_id": 49327695, "body": "right, so I can put an error statement until the values are entered within my range. Can I do if?"}, {"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433367054, "post_id": 30630490, "comment_id": 49327795, "body": "@ShailiParikh I&#39;m sure I could answer that if you rephrased it so it made sense."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433367270, "post_id": 30630490, "comment_id": 49327903, "body": "My bad. I am just asking if I can add an if..els statement verifying the values in the array to be in the required range"}, {"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433368958, "post_id": 30630490, "comment_id": 49328658, "body": "@ShailiParikh That you can. You&#39;d put the first bit of code first, to define <code>array</code>, then everything after <code>if</code> in the second as your condition."}], "tags": [], "owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "is_accepted": false, "score": 0, "last_activity_date": 1433366030, "last_edit_date": 1433366030, "creation_date": 1433364820, "answer_id": 30630490, "question_id": 30630216, "link": "https://stackoverflow.com/questions/30630216/ensure-all-values-in-user-input-array-are-between-1-and-10/30630490#30630490", "title": "Ensure all values in user-input array are between 1 and 10", "body": "<p>...So you know, <code>gets.chomp</code> doesn't return an array. It returns a String. Something like this will give you the array you want:</p>\n\n<pre><code>array = gets.chomp.split(/\\D/).map { |e| e.to_i }\n</code></pre>\n\n<p>That converts it from a single string (which happens to contain <code>,</code>-separated values) to an array of numbers.</p>\n\n<pre><code>puts 'The array you entered was invalid!' if array.any? { |item| !(1..10).include?(item) }\n</code></pre>\n\n<p>That goes through and checks if <code>any</code> of the values return true for <code>!(1..10).include?(item)</code>, which returns true if and only if the range <code>[1,10]</code> (inclusive) contains <code>item</code>. If so, it prints out <code>The array you entered was invalid!</code>.</p>\n\n<p>However, it looks like what you want to do is physically prevent the user from entering a number like <code>11</code> or <code>12</code> into the console, which (in pure Ruby at least) is impossible. The closest you can get is validating the input after the fact, which is what this does. Look into Ruby's various loops if you want to have them keep entering the array until the array they enter is valid.</p>\n\n<p>Note that @locoboy's answer will work for single numbers, but it will fail when attempting to validate the entire array, or the direct result of <code>gets.chomp</code>.</p>\n"}], "owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1433369760, "creation_date": 1433363941, "last_edit_date": 1433365325, "question_id": 30630216, "link": "https://stackoverflow.com/questions/30630216/ensure-all-values-in-user-input-array-are-between-1-and-10", "title": "Ensure all values in user-input array are between 1 and 10", "body": "<p>I am trying to define an array based on user input and want to make sure that each value is between 1 and 10. How can I do that?</p>\n\n<p>So I am using this right now.</p>\n\n<pre><code>array = gets.chomp\n</code></pre>\n\n<p>I want the user to only input values ranging from 1 to 10. How do I do that?</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "model-view-controller"], "comments": [{"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 1, "creation_date": 1433363683, "post_id": 30630028, "comment_id": 49326042, "body": "you can try this <code>@user = User.where(&quot;id = ?, 4).select( &quot;user_fname, user_lname&quot;)</code>"}, {"owner": {"reputation": 320, "user_id": 4348887, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSvraDbLK8Q/AAAAAAAAAAI/AAAAAAAAAAA/5w1jBSPHUxA/photo.jpg?sz=128", "display_name": "ian root", "link": "https://stackoverflow.com/users/4348887/ian-root"}, "edited": false, "score": 0, "creation_date": 1433363981, "post_id": 30630028, "comment_id": 49326198, "body": "what do you want the query to return?"}, {"owner": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "reply_to_user": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433364362, "post_id": 30630028, "comment_id": 49326391, "body": "@Amit Sharma - That worked! Thanks for the help!"}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433364452, "post_id": 30630028, "comment_id": 49326435, "body": "please accept my answer if it worked for you."}, {"owner": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "reply_to_user": {"reputation": 320, "user_id": 4348887, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSvraDbLK8Q/AAAAAAAAAAI/AAAAAAAAAAA/5w1jBSPHUxA/photo.jpg?sz=128", "display_name": "ian root", "link": "https://stackoverflow.com/users/4348887/ian-root"}, "edited": false, "score": 0, "creation_date": 1433364705, "post_id": 30630028, "comment_id": 49326556, "body": "@Ian Root I wanted it to return only the specified columns for the given id."}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433365721, "post_id": 30630028, "comment_id": 49327123, "body": "which rails version you are using?"}, {"owner": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "reply_to_user": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433444372, "post_id": 30630028, "comment_id": 49367247, "body": "@AmitSharma - I&#39;m using the 4.2.1 version of Rails"}], "answers": [{"comments": [{"owner": {"reputation": 1118, "user_id": 3243794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QxQsp.jpg?s=128&g=1", "display_name": "nesiseka", "link": "https://stackoverflow.com/users/3243794/nesiseka"}, "edited": false, "score": 0, "creation_date": 1433364202, "post_id": 30630130, "comment_id": 49326306, "body": "Interestingly <code>User.find(4, :select =&gt; &#39;first_name, last_name&#39;)</code> works on Rails 3.2.19. It must depend on the version of Rails you&#39;re using."}, {"owner": {"reputation": 5130, "user_id": 1443478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4J9cr.jpg?s=128&g=1", "display_name": "Brennan", "link": "https://stackoverflow.com/users/1443478/brennan"}, "reply_to_user": {"reputation": 1118, "user_id": 3243794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QxQsp.jpg?s=128&g=1", "display_name": "nesiseka", "link": "https://stackoverflow.com/users/3243794/nesiseka"}, "edited": false, "score": 1, "creation_date": 1433385617, "post_id": 30630130, "comment_id": 49333415, "body": "Oh wow, I suppose I was looking at old docs. You&#39;re absolutely right"}], "tags": [], "owner": {"reputation": 5130, "user_id": 1443478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4J9cr.jpg?s=128&g=1", "display_name": "Brennan", "link": "https://stackoverflow.com/users/1443478/brennan"}, "is_accepted": false, "score": 0, "last_activity_date": 1433363649, "creation_date": 1433363649, "answer_id": 30630130, "question_id": 30630028, "link": "https://stackoverflow.com/questions/30630028/how-to-find-a-record-by-id-and-select-few-columns-ruby-on-rails/30630130#30630130", "title": "How to find a record by id and select few columns, ruby on rails?", "body": "<p>You are using <code>#find</code> incorrectly. It takes IDs as arguments, not SQL. It's trying to use that second argument as an ID, which clearly won't work.</p>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActiveRecord/FinderMethods.html#method-i-find\" rel=\"nofollow\">http://api.rubyonrails.org/classes/ActiveRecord/FinderMethods.html#method-i-find</a></p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "edited": false, "score": 0, "creation_date": 1433364646, "post_id": 30630163, "comment_id": 49326528, "body": "I thought maybe I could use something like this - <a href=\"http://stackoverflow.com/a/10256469/4630523\">stackoverflow.com/a/10256469/4630523</a>"}, {"owner": {"reputation": 2277, "user_id": 3234367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FxQ1m.jpg?s=128&g=1", "display_name": "aaron-coding", "link": "https://stackoverflow.com/users/3234367/aaron-coding"}, "reply_to_user": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "edited": false, "score": 0, "creation_date": 1433365949, "post_id": 30630163, "comment_id": 49327246, "body": "@wolf3D If you read the comment in that SO question, you&#39;ll see &quot;This is no longer correct and is not supported in Rails 4. Answer needs updating.&quot; .find is meant to find a single record. .where is meant to find more than one record."}, {"owner": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "reply_to_user": {"reputation": 2277, "user_id": 3234367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FxQ1m.jpg?s=128&g=1", "display_name": "aaron-coding", "link": "https://stackoverflow.com/users/3234367/aaron-coding"}, "edited": false, "score": 0, "creation_date": 1433444288, "post_id": 30630163, "comment_id": 49367206, "body": "@aaron-coding I was using it to obtain the record of a single user. Thanks anyway!"}], "tags": [], "owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "is_accepted": false, "score": 0, "last_activity_date": 1433363759, "creation_date": 1433363759, "answer_id": 30630163, "question_id": 30630028, "link": "https://stackoverflow.com/questions/30630028/how-to-find-a-record-by-id-and-select-few-columns-ruby-on-rails/30630163#30630163", "title": "How to find a record by id and select few columns, ruby on rails?", "body": "<p><code>find</code> only finds records by id.  You can pass in an array of id's but it doesn't take any options.  So it thinks the hash you are passing is an id, and it bombs because it can't find a record with that ID.  I think what you want is something like:</p>\n\n<pre><code>@user = User.find(4)\nfname = @user.fname\nlname = @user.lname\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1433364028, "creation_date": 1433364028, "answer_id": 30630239, "question_id": 30630028, "link": "https://stackoverflow.com/questions/30630028/how-to-find-a-record-by-id-and-select-few-columns-ruby-on-rails/30630239#30630239", "title": "How to find a record by id and select few columns, ruby on rails?", "body": "<p>You can try this. I hope this will help.</p>\n\n<pre><code>@user = User.where(\"id = ?\", 4).select( \"user_fname, user_lname\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "edited": false, "score": 1, "creation_date": 1433444105, "post_id": 30640767, "comment_id": 49367105, "body": "Thanks! that looks like a cleaner option"}], "tags": [], "owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "is_accepted": false, "score": 2, "last_activity_date": 1433411906, "creation_date": 1433411906, "answer_id": 30640767, "question_id": 30630028, "link": "https://stackoverflow.com/questions/30630028/how-to-find-a-record-by-id-and-select-few-columns-ruby-on-rails/30640767#30640767", "title": "How to find a record by id and select few columns, ruby on rails?", "body": "<p><strong>Rails 4 :</strong> use <strong><a href=\"http://apidock.com/rails/ActiveRecord/Calculations/pluck\" rel=\"nofollow\">pluck</a></strong> as a shortcut to select one or more attributes without loading a bunch of records just to grab the attributes you want.</p>\n\n<p>Try:</p>\n\n<pre><code>&gt; User.where(id: 4).pluck(:user_fname , :user_lname).first\n#=&gt; [\"John\", \"Smith\"] # this is just sample of output\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4630523, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5a872b8cff58e4f43aff075690ddf403?s=128&d=identicon&r=PG&f=1", "display_name": "wolf3D", "link": "https://stackoverflow.com/users/4630523/wolf3d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3299, "favorite_count": 0, "accepted_answer_id": 30630239, "answer_count": 4, "score": 1, "last_activity_date": 1433411906, "creation_date": 1433363264, "last_edit_date": 1433363606, "question_id": 30630028, "link": "https://stackoverflow.com/questions/30630028/how-to-find-a-record-by-id-and-select-few-columns-ruby-on-rails", "title": "How to find a record by id and select few columns, ruby on rails?", "body": "<p>I have a <code>User</code> model that has all the queried fields with the existing data in the database. When I execute the following query-</p>\n\n<pre><code>@user = User.find(4, :select =&gt; 'user_fname, user_lname')\n</code></pre>\n\n<p>Rails throws the following error for the above line</p>\n\n<blockquote>\n  <p>Couldn't find all Users with 'user_id': (4, {:select=>\"user_fname, user_lname\"}) (found 1 results, but was looking for 2)</p>\n</blockquote>\n\n<p>What's going wrong?</p>\n"}, {"tags": ["ruby", "watir-webdriver", "remedy"], "comments": [{"owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 0, "creation_date": 1433363889, "post_id": 30629838, "comment_id": 49326146, "body": "id is supposed to be unique. Since you indicate that it is not unique, you have malformed HTML. <a href=\"http://www.w3.org/TR/html-markup/global-attributes.html#common.attrs.id\" rel=\"nofollow noreferrer\">w3.org/TR/html-markup/global-attributes.html#common.attrs.id</a> At the very least you need to squak to your vendor that they are giving you bad HTML."}, {"owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "edited": false, "score": 0, "creation_date": 1433385511, "post_id": 30629838, "comment_id": 49333391, "body": "The locator works for me (when the typos are fixed). Are you sure the problem is the locator itself? There are a number of reasons why Watir might not be able to locate the element, the most common being the element is in a frame. For some other possible reasons - <a href=\"https://jkotests.wordpress.com/unable-to-locate-element/\" rel=\"nofollow noreferrer\">see my blog</a>"}, {"owner": {"reputation": 39, "user_id": 4287986, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efa8421233b129e6888ac0c9771753c6?s=128&d=identicon&r=PG&f=1", "display_name": "hockeybpr25", "link": "https://stackoverflow.com/users/4287986/hockeybpr25"}, "edited": false, "score": 0, "creation_date": 1433418789, "post_id": 30629838, "comment_id": 49350270, "body": "I&#39;ve thought about bringing it up with the vendor but even if they decide to change it, which I highly doubt they will, I wouldn&#39;t get that fix for a long time.  I very much doubt they would do it though as it would be a big rewrite on their end.  Yes, the locator 100% doesn&#39;t work for me.  Thanks for the blog, going to look into that now.  One thing I neglected to mention in the OP is that the html is inside of a popup/dialog box.  Once again due to the way BMC wrote their HTML for this, it was a pain even getting inside of that popup.  I resorted to using windows.last.use do"}, {"owner": {"reputation": 39, "user_id": 4287986, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efa8421233b129e6888ac0c9771753c6?s=128&d=identicon&r=PG&f=1", "display_name": "hockeybpr25", "link": "https://stackoverflow.com/users/4287986/hockeybpr25"}, "edited": false, "score": 0, "creation_date": 1433419888, "post_id": 30629838, "comment_id": 49350981, "body": "One thing I neglected to mention in the OP is that the html is inside of a popup/dialog box.  I had difficulties even getting inside of that.  I initially tried doing window(:id =&gt; &quot;popup_0&quot;).use do, but it gave me that couldn&#39;t find element error.  I resorted to using windows.last.use do  <a href=\"http://watirwebdriver.com/browser-popups/\" rel=\"nofollow noreferrer\">watirwebdriver.com/browser-popups</a>  I&#39;ll add the HTML for that in the OP"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4287986, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efa8421233b129e6888ac0c9771753c6?s=128&d=identicon&r=PG&f=1", "display_name": "hockeybpr25", "link": "https://stackoverflow.com/users/4287986/hockeybpr25"}, "edited": false, "score": 0, "creation_date": 1433419061, "post_id": 30630262, "comment_id": 49350469, "body": "Yeah that was just a typo on my part.  Everything that I found on the web for this was using hashrockets.  I&#39;ll change the code to that way now."}], "tags": [], "owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "is_accepted": false, "score": 0, "last_activity_date": 1433364118, "creation_date": 1433364118, "answer_id": 30630262, "question_id": 30629838, "link": "https://stackoverflow.com/questions/30629838/select-textarea-by-using-the-class-and-id-with-watir-webdriver/30630262#30630262", "title": "Select textarea by using the class and ID with Watir-WebDriver", "body": "<p>I think the problem may be that you have a bad call. BTW  Don't mix your hash styles. Pick the more modern style over the hashrocket. Try this...</p>\n\n<pre><code>get_a_better_name = textarea(class: \"text sr \", id: \"arid_WIN_0_636875000\")\n</code></pre>\n\n<p>tip - Using a code linter like rubocop (<a href=\"https://github.com/bbatsov/rubocop\" rel=\"nofollow\">https://github.com/bbatsov/rubocop</a>) can help catch these errors.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 4287986, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efa8421233b129e6888ac0c9771753c6?s=128&d=identicon&r=PG&f=1", "display_name": "hockeybpr25", "link": "https://stackoverflow.com/users/4287986/hockeybpr25"}, "edited": false, "score": 0, "creation_date": 1433429196, "post_id": 30645419, "comment_id": 49357756, "body": "Yep, you&#39;re right.  I realized earlier it was in an iframe and have been trying to figure out how to access it.  This works."}], "tags": [], "owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "is_accepted": true, "score": 2, "last_activity_date": 1433425304, "creation_date": 1433425304, "answer_id": 30645419, "question_id": 30629838, "link": "https://stackoverflow.com/questions/30629838/select-textarea-by-using-the-class-and-id-with-watir-webdriver/30645419#30645419", "title": "Select textarea by using the class and ID with Watir-WebDriver", "body": "<p>Given the HTML for the popup, I would guess that it is just a div element within the original page rather than its own browser window. Accessing the popup should be with:</p>\n\n<pre><code>browser.div(:id =&gt; \"popup_0\")\n</code></pre>\n\n<p>That said, I do not see the textarea in it, which means it is likely in the iframe element. Iframes have to explicitly told to Watir, which means to find the textarea you need:</p>\n\n<pre><code>browser.div(:id =&gt; \"popup_0\").iframe.textarea(:class =&gt; \"text sr \", :id  =&gt; \"arid_WIN_0_636875000\")\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4287986, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efa8421233b129e6888ac0c9771753c6?s=128&d=identicon&r=PG&f=1", "display_name": "hockeybpr25", "link": "https://stackoverflow.com/users/4287986/hockeybpr25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 30645419, "answer_count": 2, "score": 1, "last_activity_date": 1433425304, "creation_date": 1433362598, "last_edit_date": 1433420328, "question_id": 30629838, "link": "https://stackoverflow.com/questions/30629838/select-textarea-by-using-the-class-and-id-with-watir-webdriver", "title": "Select textarea by using the class and ID with Watir-WebDriver", "body": "<p>Trying to figure out how to select a field on a form using textarea with specifying the class and the ID.  Unfortunately, I don't have control over the HTML that is generated as it is a vendor product.</p>\n\n<p>Sample HTML:</p>\n\n<pre><code>&lt;textarea class=\"text sr \" id=\"arid_WIN_0_636875000\" style=\"left: 402px; top: 0px; width: 261px; height: 21px;\" rows=\"1\" cols=\"20\" wrap=\"off\" arautoctt=\"400\" arautocak=\"0\" maxlen=\"255\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>I need to use both the ID and the class because the ID is used in multiple spots as well as the class, however, I have found the combination of the two is unique.</p>\n\n<p>I've tried doing:</p>\n\n<pre><code>z = textarea(:class =&gt; \"text sr \", :id  =&gt; \"arid_WIN_0_636875000\")\n</code></pre>\n\n<p>This came back with:</p>\n\n<pre><code>=&gt; #&lt;Watir::TextArea:0x272de17c located=false sel\n&gt;\"arid_WIN_0_636875000\", :tag_name=&gt;\"textarea\"}&gt;\n</code></pre>\n\n<p>Tried setting it and came back with:</p>\n\n<pre><code>Watir::Exception::UnknownObjectException: unable to locate element, using {:class=&gt;\"text sr \", :id=&gt;\"arid_WIN_0_636875000\", :tag_name=&gt;\"textarea\"}\nfrom C:/Ruby21/lib/ruby/gems/2.1.0/gems/watir-webdriver-0.7.0/lib/watir-webdriver/elements/element.rb:507:in `assert_exists'\nfrom C:/Ruby21/lib/ruby/gems/2.1.0/gems/watir-webdriver-0.7.0/lib/watir-webdriver/user_editable.rb:32:in `clear'\nfrom C:/Ruby21/lib/ruby/gems/2.1.0/gems/watir-webdriver-0.7.0/lib/watir-webdriver/user_editable.rb:11:in `set'\nfrom (irb):21:in `block in irb_binding'\nfrom C:/Ruby21/lib/ruby/gems/2.1.0/gems/selenium-webdriver-2.45.0/lib/selenium/webdriver/common/target_locator.rb:50:in `window'\nfrom C:/Ruby21/lib/ruby/gems/2.1.0/gems/watir-webdriver-0.7.0/lib/watir-webdriver/window.rb:193:in `use'\nfrom (irb):20\nfrom C:/Ruby21/bin/irb:11:in `&lt;main&gt;'\n</code></pre>\n\n<p>This is what the HTML is for the popup:</p>\n\n<pre><code>&lt;div class=\"DIVPopup shadow \" id=\"popup_0\" style=\"left: 495px; top: 161.5px; width: 930px; height: 673px; overflow: hidden; visibility: inherit; z-index: 100004;\" arwindowid=\"0\"&gt;&lt;table class=\"DIVPopup ResizablePopup\" id=\"DivTable\" cellspacing=\"0\" cellpadding=\"0\"&gt;&lt;tbody&gt;&lt;tr class=\"DIVPopupTitleBar DIVDraggable\"&gt;&lt;td class=\"topleft\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td align=\"left\" class=\"center\" id=\"title_0\" nowrap=\"\"&gt;&lt;div class=\"title\"&gt;Name of form is here&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;button title=\"Close\" class=\"Close  right\" id=\"ardivpcl\" onclick=\"var target=FindClickedPopup('0', event); if(target){ target.OnCancel();target.stopBubbling(event);return false;}\" type=\"button\"&gt;&lt;/button&gt;&lt;/td&gt;&lt;td class=\"topright\"&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"DIVPopupBodyNoBorder DIVPopupBodyBorder\" colspan=\"3\"&gt;&lt;iframe id=\"1433419427651P\" src=\"/arsys/forms/vmpit-ermdy006/NameOfFormIsHere/Administrator/?cacheid=fa90df9&amp;amp;format=html\" frameborder=\"0\" style=\"width: 100%; height: 652px;\"&gt;&lt;/iframe&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;b class=\"rndfooter\" style=\"background-color: rgb(255, 255, 255);\"&gt;&lt;b class=\"rnd1\" style=\"background-color: rgb(255, 255, 255);\"&gt;&lt;/b&gt;&lt;b class=\"rnd2\" style=\"background-color: rgb(255, 255, 255);\"&gt;&lt;/b&gt;&lt;b class=\"rnd3\"&gt;&lt;/b&gt;&lt;/b&gt;&lt;div class=\"ResizeHandle  right\" id=\"handle_0\"&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "time"], "comments": [{"owner": {"reputation": 1885, "user_id": 2288538, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/W96yd.jpg?s=128&g=1", "display_name": "Shalev Shalit", "link": "https://stackoverflow.com/users/2288538/shalev-shalit"}, "edited": false, "score": 0, "creation_date": 1433362286, "post_id": 30629531, "comment_id": 49325243, "body": "You cannot save only hour and minutes. you can save the data as 2 fields or get the attribute as formatted time."}], "answers": [{"tags": [], "owner": {"reputation": 524, "user_id": 660491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5370caabafddb1c0915489204666e11d?s=128&d=identicon&r=PG", "display_name": "freeze", "link": "https://stackoverflow.com/users/660491/freeze"}, "is_accepted": false, "score": 1, "last_activity_date": 1433362298, "creation_date": 1433362298, "answer_id": 30629739, "question_id": 30629531, "link": "https://stackoverflow.com/questions/30629531/rails-active-record-saving-timetype-with-unwanted-format/30629739#30629739", "title": "Rails: active record saving time:type with unwanted format", "body": "<p>You have to do nothing. That is activerecord convention on time storing. So if you want to have automatically parsed time in your model from sql database you have to store it in the way AR does. But if you really want to store only hours and minutes, you should change your scheme and use just string instead of datetime in AR migration. So you can store your time like that. and in the model class you can override the attribute getter like:</p>\n\n<pre><code>def some_time\n  Time.parse(@some_time)\nend\n</code></pre>\n\n<p>Then you can get parsed time object when you call attribute. But that is a bad way actually.</p>\n"}, {"tags": [], "owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "is_accepted": true, "score": 2, "last_activity_date": 1433363231, "creation_date": 1433363231, "answer_id": 30630021, "question_id": 30629531, "link": "https://stackoverflow.com/questions/30629531/rails-active-record-saving-timetype-with-unwanted-format/30630021#30630021", "title": "Rails: active record saving time:type with unwanted format", "body": "<p>Date formats are only valid within your application, not within the database - they are only responsible for the way time objects are displayed to your users and will not affect the way data is stored.</p>\n\n<p>Unfortunately, there is no such a concept like time only in the database (at least I haven't heard about any, and trust me I did search for it as I need it in my current project)</p>\n\n<h2>Simplest solution</h2>\n\n<p>However, in many cases it makes sense to store only the time of the event. In current project we decided to store it in format of integer <code>60 * hour + minutes</code>. This is unfortunately where we stopped in the project. :(</p>\n\n<h2>One step further</h2>\n\n<p>You can then create a helper class (just a scaffold - more work needed like validations casting etc):</p>\n\n<pre><code>class SimpleTime\n  attr_accessor :hour, :minute\n\n  def initialize(hour, minute)\n     @hour, @minute = hour, minute\n  end\n\n  def self.parse(integer)\n    return if integer.blank? \n    new(integer / 60, integer % 60)\n  end\n\n  def to_i\n    60 * @hour + @minute\n  end\nend\n</code></pre>\n\n<p>and then override a setter and getter:</p>\n\n<pre><code>class Model &lt; ActiveRecord::Base\n  def time\n    @time ||= SimpleTime.parse(super)\n  end\n\n  def time=(value)\n    super(value.to_i)\n  end\nend\n</code></pre>\n\n<h2>Further fun</h2>\n\n<p>Now there are more things you could do. You can for example write extension <code>simple_time</code> to active_record which will automatically redefine setters and getters for a list of passed attributes. You can even wrap it in a small gem and make it real-world-proof (missing validations, string format parsers, handling <code>_before_type_cast</code> values etc).</p>\n"}], "owner": {"reputation": 80, "user_id": 2736314, "user_type": "registered", "profile_image": "https://graph.facebook.com/1126187776/picture?type=large", "display_name": "Gustavo Mu&#241;oz Valenzuela", "link": "https://stackoverflow.com/users/2736314/gustavo-mu%c3%b1oz-valenzuela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 1, "accepted_answer_id": 30630021, "answer_count": 2, "score": 4, "last_activity_date": 1433363231, "creation_date": 1433361583, "question_id": 30629531, "link": "https://stackoverflow.com/questions/30629531/rails-active-record-saving-timetype-with-unwanted-format", "title": "Rails: active record saving time:type with unwanted format", "body": "<p>I have a table call periodo with the attribute hour. i pass my time param in this way</p>\n\n<pre><code>hour = Time.parse( splitLine[1] ) #where splitLine[1] is my time but in string\nperiodo = Periodo.new(:hour =&gt; hour.strftime(\"%H:%M\"))\nperiodo.save\n</code></pre>\n\n<p>but active record save the records in this way  hour: \"2000-01-01 07:00:00\" , I already set the format in /config/initializers/time_formats.rb </p>\n\n<pre><code>Time::DATE_FORMATS[:default] = \"%H:%M\"\nDate::DATE_FORMATS[:default] = \"%H:%M\"\n</code></pre>\n\n<p>and in en.yml too </p>\n\n<pre><code>  en:\n    hello: \"Hello world\"\n    time:\n      formats:\n        default: \"%H:%M\"\n    date:\n      formats:\n        default: \"%H:%M\"\n</code></pre>\n\n<p>but my records are still saving the year and month :( what i have to do to save just the hour and minutes ??? </p>\n\n<p>greetings</p>\n"}, {"tags": ["java", "ruby", "ant", "sass", "libsass"], "answers": [{"tags": [], "owner": {"reputation": 277, "user_id": 352427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/de3601ad9212c18ec0ec1e79ccc29abd?s=128&d=identicon&r=PG&f=1", "display_name": "alejo", "link": "https://stackoverflow.com/users/352427/alejo"}, "is_accepted": false, "score": 0, "last_activity_date": 1435038179, "creation_date": 1435038179, "answer_id": 30994686, "question_id": 30629250, "link": "https://stackoverflow.com/questions/30629250/im-trying-to-utilizing-sass-in-an-ant-file-while-removing-ruby-dependencies/30994686#30994686", "title": "I&#39;m trying to utilizing SASS in an ant file while removing ruby dependencies", "body": "<p>There is a <a href=\"https://github.com/warmuuh/libsass-maven-plugin\" rel=\"nofollow\">Java wrapper</a> that can be used with Maven.</p>\n\n<p>If you really want to stick with Java you could either</p>\n\n<ul>\n<li>Use that wrapper and run the <code>mvn</code> task from inside your ant script (see <a href=\"https://maven.apache.org/ant-tasks/examples/mvn.html\" rel=\"nofollow\">here</a>)</li>\n<li>Adapt that wrapper and build your own Ant Task out of it</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3002611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e06044bf07a4d2500eb2b08366ab09?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Weis", "link": "https://stackoverflow.com/users/3002611/benjamin-weis"}, "is_accepted": false, "score": 0, "last_activity_date": 1435583341, "creation_date": 1435583341, "answer_id": 31116601, "question_id": 30629250, "link": "https://stackoverflow.com/questions/30629250/im-trying-to-utilizing-sass-in-an-ant-file-while-removing-ruby-dependencies/31116601#31116601", "title": "I&#39;m trying to utilizing SASS in an ant file while removing ruby dependencies", "body": "<p>I ended up using a JRuby dependency in order to run on the JVM.  My code is as follows:</p>\n\n<pre><code>&lt;!-- Jruby Dependent SCSS to CSS conversion --&gt;\n&lt;path id=\"JRuby\"&gt;\n    &lt;fileset file=\"packages/jruby-complete-1.7.20.1.jar\"/&gt; &lt;!-- Location of JRuby jar file --&gt;\n&lt;/path&gt;  \n&lt;target name=\"compileSass\" depends=\"cleanSass\"&gt;\n    &lt;echo message=\"Compiling scss files...\" /&gt;\n\n    &lt;!-- JRuby Script to convert files into new directory --&gt;\n    &lt;property name=\"filesIn\" value=\"${dir.scss}/**/[^_]*.scss\" /&gt;\n    &lt;property name=\"projectDirectory\" value=\"${user.dir}\"/&gt;\n    &lt;script language=\"ruby\" classpathref=\"JRuby\"&gt;\n        &lt;![CDATA[\n            require ($project.getProperty('projectDirectory')) + '/packages/sass-3.4.14/lib/sass'\n            require ($project.getProperty('projectDirectory')) + '/packages/sass-3.4.14/lib/sass/exec'\n\n            files = Dir.glob($project.getProperty('filesIn'))\n            files.each do \n                | file |\n                newOutDir = File.dirname(file).sub! 'scss', 'css'\n                FileUtils::mkdir_p newOutDir\n                puts \"[sass compiler] From:\" + file\n                puts \"[sass compiler]   To:\" + newOutDir + \"/\" + File.basename(file, \".*\") + \".css\"\n\n                opts = Sass::Exec::SassScss.new([\"--load-path\", File.dirname(file), file, File.join(newOutDir, File.basename(file, \".*\") + \".css\")], 'scss')\n                opts.parse\n            end\n        ]]&gt;\n    &lt;/script&gt;\n    &lt;echo message=\"Done compiling scss files!\" /&gt;\n&lt;/target&gt;\n\n\n&lt;target name=\"cleanSass\"&gt;\n    &lt;echo message=\"removing .css files...\" /&gt;\n    &lt;delete includeemptydirs=\"true\" failonerror=\"false\"&gt;\n        &lt;fileset dir=\"${dir.css}\" includes=\"**/*.css\" /&gt;\n    &lt;/delete&gt;\n    &lt;echo message=\"removing .css.map files...\" /&gt;\n    &lt;delete includeemptydirs=\"true\" failonerror=\"false\"&gt;\n        &lt;fileset dir=\"${dir.css}\" includes=\"**/*.css.map\" /&gt;\n    &lt;/delete&gt;\n&lt;/target&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3002611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e06044bf07a4d2500eb2b08366ab09?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Weis", "link": "https://stackoverflow.com/users/3002611/benjamin-weis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 489, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1435583341, "creation_date": 1433360649, "question_id": 30629250, "link": "https://stackoverflow.com/questions/30629250/im-trying-to-utilizing-sass-in-an-ant-file-while-removing-ruby-dependencies", "title": "I&#39;m trying to utilizing SASS in an ant file while removing ruby dependencies", "body": "<p>I am currently using a ruby gem <a href=\"http://sass-lang.com/\" rel=\"nofollow\">SASS</a> in order to convert my *.scss files to *.css files on a large project.  Here is a mockup of the code I am using:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!-- scss to CSS --&gt;\n&lt;project name=\"StackOverflowScssCss\" default=\"sass-compile-to-css\" basedir=\".\"&gt;\n    &lt;property file=\"build.properties\" /&gt;\n\n    &lt;target name=\"sass-compile-to-css\"&gt;\n        &lt;echo message=\"Compiling scss files to css...\" /&gt;\n\n        &lt;!-- create the css destination dir if it doesn't already exist --&gt;\n        &lt;property name=\"css-dest\" location=\"${css.dir}\" /&gt;\n        &lt;echo message=\"Creating directory at ${css.dir} [if it doesn't yet exist]\" /&gt;\n        &lt;mkdir dir=\"${css-dest}\" /&gt;\n\n\n        &lt;!-- create subdirs if necessary --&gt;\n        &lt;echo message=\"Creating css directories (and temporary .css files) for .scss to be compiled...\" /&gt;\n        &lt;touch mkdirs=\"true\"&gt;\n            &lt;fileset dir=\"${sass.dir}\" includes=\"**/*.scss\" excludes=\"**/_*\" /&gt;\n            &lt;mapper type=\"glob\" from=\"*.scss\" to=\"${css.dir}/*.css\" /&gt;\n        &lt;/touch&gt;\n        &lt;echo message=\"Running sass executable against sass files and compiling to CSS directory [${css-dest}] \" /&gt;\n\n        &lt;!-- run sass executable --&gt;\n\n        &lt;apply executable=\"sass\" dest=\"${css-dest}\" verbose=\"true\" force=\"true\" failonerror=\"true\"&gt;\n            &lt;arg value=\"--unix-newlines\" /&gt;\n            &lt;!-- Disable creation of map file. THIS SHOULD BE A FLAG  --&gt;\n            &lt;arg value=\"--sourcemap=none\" /&gt;\n            &lt;srcfile /&gt;\n            &lt;targetfile /&gt;\n            &lt;fileset dir=\"${sass.dir}\" includes=\"**/*.scss\" excludes=\"**/_*\" /&gt;\n            &lt;mapper type=\"glob\" from=\"*.scss\" to=\"*.css\" /&gt;\n        &lt;/apply&gt;\n        &lt;echo message=\"Done compiling scss files!\" /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Ultimately I want to remove the ruby dependency so I have been looking at this libsass maven plugin.  I know that there are many options for <a href=\"http://sass-lang.com/libsass\" rel=\"nofollow\">libsass</a> but I am trying to stick strictly to Java.  Does anyone have any experience with doing this?  I don't want to run Node.js, Sass.js ot anything, and I have racked my brain all day on how to do this.  Any help is much appreciated!</p>\n"}, {"tags": ["ios", "ruby", "cucumber", "calabash", "calabash-ios"], "answers": [{"tags": [], "owner": {"reputation": 1145, "user_id": 1165581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79a078e06a93f25eaba903217bd388f?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/1165581/lasse"}, "is_accepted": false, "score": 1, "last_activity_date": 1433364912, "last_edit_date": 1495541736, "creation_date": 1433364912, "answer_id": 30630525, "question_id": 30629225, "link": "https://stackoverflow.com/questions/30629225/calabash-ios-uipickerview-scroll-to-specific-value/30630525#30630525", "title": "calabash-ios UIPickerView scroll to specific value", "body": "<p>You should be able to use something like</p>\n\n<blockquote>\n  <p>Then I change the date on picker to \"2016\"</p>\n</blockquote>\n\n<p>Based on the reply to another SO <a href=\"https://stackoverflow.com/questions/21157580/calabash-select-a-date-from-a-uidatepickerview\">Calabash: Select a date from a UIDatePickerview</a></p>\n"}, {"comments": [{"owner": {"reputation": 144, "user_id": 1267153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b862aa36ae2c69f6c5a11ab89add739a?s=128&d=identicon&r=PG", "display_name": "Don Simon", "link": "https://stackoverflow.com/users/1267153/don-simon"}, "edited": false, "score": 0, "creation_date": 1456336686, "post_id": 30644412, "comment_id": 58903402, "body": "It is not clear from your preamble, if you are saying this code will only work if the user also includes the briar gem, and de-privatizes several undocumented parts of it, or what."}, {"owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "reply_to_user": {"reputation": 144, "user_id": 1267153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b862aa36ae2c69f6c5a11ab89add739a?s=128&d=identicon&r=PG", "display_name": "Don Simon", "link": "https://stackoverflow.com/users/1267153/don-simon"}, "edited": false, "score": 0, "creation_date": 1456393146, "post_id": 30644412, "comment_id": 58928924, "body": "I recommend using the briar gem as inspiration. You can use the briar gem, but its future is uncertain."}, {"owner": {"reputation": 144, "user_id": 1267153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b862aa36ae2c69f6c5a11ab89add739a?s=128&d=identicon&r=PG", "display_name": "Don Simon", "link": "https://stackoverflow.com/users/1267153/don-simon"}, "edited": false, "score": 0, "creation_date": 1456765653, "post_id": 30644412, "comment_id": 59087299, "body": "Which is great, or not, since the code, despite having a field named &quot;column&quot;, doesn&#39;t actually work with multiple-column pickers.  If only you documented any of the projects you worked on, someone might be able to use them for inspiration.  Code that claims to do something, but doesn&#39;t do it, and doesn&#39;t have any explanation of how it was supposedly going to accomplish the task at hand is not particularly helpful.  I seems that your primary purpose with all your projects is to try and create consulting business for your employer."}], "tags": [], "owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "is_accepted": true, "score": 0, "last_activity_date": 1433422446, "creation_date": 1433422446, "answer_id": 30644412, "question_id": 30629225, "link": "https://stackoverflow.com/questions/30629225/calabash-ios-uipickerview-scroll-to-specific-value/30644412#30644412", "title": "calabash-ios UIPickerView scroll to specific value", "body": "<p>Lasse's answer is correct (I up-voted).  But just to be clear, it will only work on UIDatePickers.  I was just looking at the Calabash iOS sources and it looks like we have marked some of the picker methods private.  The following was grabbed from the briar gem.  It uses private UIKit selectors to manipulate the picker wheels.  The caveat is that it might not work on non-circular (infinite) pickers.</p>\n\n<p>You can use the code below to write a Step that scrolls a picker column to row with text.</p>\n\n<pre><code>def picker_current_index_for_column (column)\n  arr = query('pickerTableView', :selectionBarRow)\n  arr[column]\nend\n# methods common to generic and date pickers\ndef picker_current_index_for_column_is(column, val)\n  picker_current_index_for_column(column) == val\nend\n\ndef previous_index_for_column (column)\n  picker_current_index_for_column(column) - 1\nend\n\ndef picker_next_index_for_column (column)\n  picker_current_index_for_column(column) + 1\nend\n\ndef picker_scroll_down_on_column(column)\n  new_row = previous_index_for_column column\n  query(\"pickerTableView index:'#{column}'\", [{:selectRow =&gt; new_row},\n                                              {:animated =&gt; 1},\n                                              {:notify =&gt; 1}])\nend\n\ndef picker_scroll_up_on_column(column)\n  new_row = picker_next_index_for_column column\n  query(\"pickerTableView index:'#{column}'\", [{:selectRow =&gt; new_row},\n                                              {:animated =&gt; 1},\n                                              {:notify =&gt; 1}])\nend\ndef visible_titles (column)\n  query(\"pickerTableView index:#{column} child pickerTableViewWrapperCell\", :wrappedView, :text).reverse\nend\n\n# May only work on circular pickers - does _not_ work on non-circular\n# pickers because the visible titles do _not_ follow the selected index\ndef selected_title_for_column (column)\n  selected_idx = picker_current_index_for_column column\n  titles = visible_titles column\n  titles[selected_idx]\nend\n\ndef scroll_picker(dir, column)\n  if dir.eql? 'down'\n    picker_scroll_down_on_column column\n  else\n    picker_scroll_up_on_column column\n  end\n  sleep 0.4\nend\n</code></pre>\n"}], "owner": {"reputation": 2598, "user_id": 4013612, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/h6fwk.jpg?s=128&g=1", "display_name": "haitham", "link": "https://stackoverflow.com/users/4013612/haitham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 0, "accepted_answer_id": 30644412, "answer_count": 2, "score": 0, "last_activity_date": 1433422446, "creation_date": 1433360549, "question_id": 30629225, "link": "https://stackoverflow.com/questions/30629225/calabash-ios-uipickerview-scroll-to-specific-value", "title": "calabash-ios UIPickerView scroll to specific value", "body": "<p>I have a UIPickerView on an iOS app. Trying to use calabash-ios to scroll down on the UIPickerView to a specific value. It is a list of years.</p>\n\n<p>I tried this to see if it will scroll at least:</p>\n\n<pre><code>    Then I scroll down on \"myPickerAccessibilityLabel\"\n</code></pre>\n\n<p>Didn't work</p>\n\n<p>Is there a custom step for UIPickerView's?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 2781, "user_id": 4200307, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/59KSj.jpg?s=128&g=1", "display_name": "Elvn", "link": "https://stackoverflow.com/users/4200307/elvn"}, "edited": false, "score": 0, "creation_date": 1433365559, "post_id": 30628987, "comment_id": 49327060, "body": "There&#39;s a neat way to do this if you&#39;re using Carrierwave to upload photos."}], "answers": [{"comments": [{"owner": {"reputation": 845, "user_id": 4592959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/r03zx.png?s=128&g=1", "display_name": "Helsing", "link": "https://stackoverflow.com/users/4592959/helsing"}, "edited": false, "score": 0, "creation_date": 1433360371, "post_id": 30629062, "comment_id": 49324118, "body": "This looks like the cleanest way for what I&#39;m doing. Thanks."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 845, "user_id": 4592959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/r03zx.png?s=128&g=1", "display_name": "Helsing", "link": "https://stackoverflow.com/users/4592959/helsing"}, "edited": false, "score": 0, "creation_date": 1433360411, "post_id": 30629062, "comment_id": 49324147, "body": "@Helsing I wouldn&#39;t discount the CSS idea, although I&#39;ve never tried it with any real success."}], "tags": [], "owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "is_accepted": true, "score": 2, "last_activity_date": 1433360059, "creation_date": 1433360059, "answer_id": 30629062, "question_id": 30628987, "link": "https://stackoverflow.com/questions/30628987/rails-image-tag-alternative-image/30629062#30629062", "title": "Rails - Image_tag alternative image", "body": "<p>You can do this via JS, here shown as jQuery:</p>\n\n<pre><code>$('img').error(function() {\n  $(this).attr('src', 'missing.png');\n});\n</code></pre>\n\n<p>If it's a specific image you could attach the error handler to just that object.</p>\n\n<p>I don't know of any way to do this via the <code>image_tag</code> helper; you'd have to make a request from the app to the src URL and check for an error. I'd make sure that's actually what you <em>need</em> to do before going down that road, though, but it depends on your requirements.</p>\n"}, {"tags": [], "owner": {"reputation": 666, "user_id": 2337188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aCiAF.gif?s=128&g=1", "display_name": "digijim", "link": "https://stackoverflow.com/users/2337188/digijim"}, "is_accepted": false, "score": 1, "last_activity_date": 1433360136, "last_edit_date": 1495535367, "creation_date": 1433360136, "answer_id": 30629087, "question_id": 30628987, "link": "https://stackoverflow.com/questions/30628987/rails-image-tag-alternative-image/30629087#30629087", "title": "Rails - Image_tag alternative image", "body": "<p>This <a href=\"https://stackoverflow.com/questions/10772346/display-alternate-image\">post</a> uses the <code>background-image</code> CSS property to point to a default image, which would be used if your image isn't found.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7500220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1d5e0bb8432b1e0959af725ada782?s=128&d=identicon&r=PG&f=1", "display_name": "Jonz", "link": "https://stackoverflow.com/users/7500220/jonz"}, "is_accepted": false, "score": 0, "last_activity_date": 1485950844, "creation_date": 1485950844, "answer_id": 41979420, "question_id": 30628987, "link": "https://stackoverflow.com/questions/30628987/rails-image-tag-alternative-image/41979420#41979420", "title": "Rails - Image_tag alternative image", "body": "<p>I struggle with similar kind of problem where I have inside table several thumbnail pictures and I needed to checked if that picture is missing then show default image.</p>\n\n<p>For this I use image_tag with helper method. In helper method I check with File.exist? if file exist. If it was then I returned path to image as a string to image_tag else I returned path to default image.</p>\n"}], "owner": {"reputation": 845, "user_id": 4592959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/r03zx.png?s=128&g=1", "display_name": "Helsing", "link": "https://stackoverflow.com/users/4592959/helsing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 30629062, "answer_count": 3, "score": 2, "last_activity_date": 1485950844, "creation_date": 1433359827, "question_id": 30628987, "link": "https://stackoverflow.com/questions/30628987/rails-image-tag-alternative-image", "title": "Rails - Image_tag alternative image", "body": "<p>Whats the best way to create an image_tag(via the rails helper) that displays another image if the default one is broken instead of text. It doesn't have to support recursion. I just have a default image I want to use if a link is broken.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "scaffolding"], "comments": [{"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433365435, "post_id": 30628914, "comment_id": 49326994, "body": "please post your user and profile model"}, {"owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "reply_to_user": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433411777, "post_id": 30628914, "comment_id": 49345528, "body": "I have just updated the the question."}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433412028, "post_id": 30628914, "comment_id": 49345729, "body": "try this <code>&lt;%= link_to profile_path(current_user.profile.id) do %&gt;</code>"}, {"owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "reply_to_user": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433413209, "post_id": 30628914, "comment_id": 49346557, "body": "tried it, still get the same error message."}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433413589, "post_id": 30628914, "comment_id": 49346779, "body": "Please post the whole view file."}, {"owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "reply_to_user": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433414530, "post_id": 30628914, "comment_id": 49347392, "body": "ok I just updated the question again with the full view file."}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433414747, "post_id": 30628914, "comment_id": 49347551, "body": "Please reformat the code properly"}, {"owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "reply_to_user": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433418398, "post_id": 30628914, "comment_id": 49350003, "body": "Ok the formatting is fixed. sorry it was an issue as I copied the code incorrectly."}], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "edited": false, "score": 0, "creation_date": 1433411681, "post_id": 30629286, "comment_id": 49345470, "body": "I tried your code, however I am now receiving a new error. I have updated my question with the new code plus more details about the error and my html code for the links, please check it if you dont mind. thanks :)"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "reply_to_user": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "edited": false, "score": 0, "creation_date": 1433424926, "post_id": 30629286, "comment_id": 49354461, "body": "That&#39;s because <code>build</code> does not save the record to the database.  So there&#39;s no ID, so you can&#39;t link to it.  Perhaps what you wanted all along was <code>create</code>, which does save to the database.  Be aware the <code>create</code> requires that you pass enough params for it to pass your validations.  Seems you might not in this case.  I see that you create a profile when you get back from <code>new</code>, in your <code>#create</code> method, which makes more sense.  I think the real problem is that your are trying to do too much in your <code>new</code> view - not enough stuff has been created yet."}, {"owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "edited": false, "score": 0, "creation_date": 1433653807, "post_id": 30629286, "comment_id": 49439556, "body": "I haven&#39;t delved deep enough into Resources and their specific functions as im quite new to rails (and coding in general), so I guess il take a step back and figure out how it works. Do you know any particularly helpful resources to start with? Thanks for the help by the way! :)"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "reply_to_user": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "edited": false, "score": 0, "creation_date": 1433684543, "post_id": 30629286, "comment_id": 49446731, "body": "The Guides I posted in my answer are definitely the best resource to start with."}], "tags": [], "owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "is_accepted": true, "score": 1, "last_activity_date": 1433362525, "last_edit_date": 1433362525, "creation_date": 1433360791, "answer_id": 30629286, "question_id": 30628914, "link": "https://stackoverflow.com/questions/30628914/rails-error-loading-new-page-made-with-ruby-on-rails-scaffolding/30629286#30629286", "title": "rails - error loading &quot;new&quot; page made with ruby on rails scaffolding", "body": "<p><code>current_user</code> does not yet have a <code>profile</code>, so you can't call <code>build</code> on it.  What I think you want is:</p>\n\n<pre><code>@profile = current_user.build_profile\n</code></pre>\n\n<p>This is an auto-generated method that rails provides for you.\nThe <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html\" rel=\"nofollow\">documentation</a> is a little dense, but here it is.\n<a href=\"http://guides.rubyonrails.org/association_basics.html\" rel=\"nofollow\">This might be a little more readable</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1433363908, "post_id": 30629294, "comment_id": 49326159, "body": "The problem with that is it won&#39;t get linked to the current user."}, {"owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "edited": false, "score": 0, "creation_date": 1433411728, "post_id": 30629294, "comment_id": 49345500, "body": "Yes that is indeed the case."}], "tags": [], "owner": {"reputation": 1, "user_id": 4806323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40jqU.jpg?s=128&g=1", "display_name": "decembeDev", "link": "https://stackoverflow.com/users/4806323/decembedev"}, "is_accepted": false, "score": 0, "last_activity_date": 1433364998, "last_edit_date": 1433364998, "creation_date": 1433360809, "answer_id": 30629294, "question_id": 30628914, "link": "https://stackoverflow.com/questions/30628914/rails-error-loading-new-page-made-with-ruby-on-rails-scaffolding/30629294#30629294", "title": "rails - error loading &quot;new&quot; page made with ruby on rails scaffolding", "body": "<p>Have you tried this?</p>\n\n<pre><code>def new \n  @profile = Profile.new \n  respond_with(@profile) \nend\n</code></pre>\n\n<p>You can always call the current_user in the create method.</p>\n"}], "owner": {"reputation": 271, "user_id": 4860972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49a0dd67a14801d95d31f21eb797e3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rashed Al-Julaibi", "link": "https://stackoverflow.com/users/4860972/rashed-al-julaibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 30629286, "answer_count": 2, "score": 2, "last_activity_date": 1433418338, "creation_date": 1433359614, "last_edit_date": 1433418338, "question_id": 30628914, "link": "https://stackoverflow.com/questions/30628914/rails-error-loading-new-page-made-with-ruby-on-rails-scaffolding", "title": "rails - error loading &quot;new&quot; page made with ruby on rails scaffolding", "body": "<p>I have a simple rails app with devise set up and a profile model that I created. I have set up my associations and everything seems fine, however when I try to access the new_profile_path with a new user account, I get the following Error:</p>\n\n<p>NoMethodError in ProfilesController#new\nundefined method `build' for nil:NilClass</p>\n\n<p>Extracted source (around line #17):\n15\n16\n17\n18\n19\n20</p>\n\n<p>def new\n    @profile = current_user.profile.build\n    respond_with(@profile)\n  end</p>\n\n<p>The problem seems to be in my profiles controller, however I cant seem to figure out the issue. This is the entire code for my profiles controller:-</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class ProfilesController &lt; ApplicationController\r\n  before_action :authenticate_user!\r\n  before_action :set_profile, only: [:show, :edit, :update, :destroy]\r\n\r\n  respond_to :html\r\n\r\n  def index\r\n@profiles = Profile.all\r\nrespond_with(@profiles)\r\n  end\r\n\r\n  def show\r\nrespond_with(@profile)\r\n  end\r\n\r\n  def new\r\n@profile = current_user.build_profile\r\nrespond_with(@profile)\r\n  end\r\n\r\n  def edit\r\n  end\r\n\r\n  def create\r\n@profile = current_user.build_profile(profile_params)\r\n@profile.save\r\nrespond_with(@profile)\r\n  end\r\n\r\n  def update\r\n@profile.update(profile_params)\r\nrespond_with(@profile)\r\n  end\r\n\r\n  def destroy\r\n@profile.destroy\r\nrespond_with(@profile)\r\n  end\r\n\r\n  private\r\ndef set_profile\r\n  @profile = Profile.find(params[:id])\r\nend\r\n\r\ndef profile_params\r\n  params.require(:profile).permit(:name, :civil, :email, :level, :employment_date, :mobile, :folder, :title, :internal, :nationality, :vacation, :work_email, :experience)\r\nend\r\nend</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My html link:-</p>\n\n<pre><code>&lt;nav&gt;\n    &lt;ul&gt;\n         &lt;li&gt;&lt;%= link_to root_path do %&gt;\n                &lt;i class=\"fa fa-home\"&gt;&lt;/i&gt;Main\n            &lt;% end %&gt;\n        &lt;/li&gt;\n        &lt;% if !current_user.profile.blank? %&gt;\n          &lt;li&gt;&lt;%= link_to profile_path(current_user.profile.id) do %&gt;\n             &lt;i class=\"fa fa-user\"&gt;&lt;/i&gt;Employee Profile&lt;i class=\"fa fa-sort-desc\"&gt;&lt;/i&gt;\n          &lt;% end %&gt;\n          &lt;% else %&gt;\n                &lt;li&gt;&lt;%= link_to new_profile_path do %&gt;&lt;i class=\"fa fa-user-plus\"&gt;&lt;/i&gt;Create Profile&lt;/li&gt;\n                &lt;% end %&gt;\n          &lt;% end %&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&lt;%= link_to \"Tasks / Activities\", tasks_path %&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;%= link_to \"Vacations\", vacations_path %&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n         &lt;/li&gt;\n         &lt;li&gt;&lt;%= link_to projects_path do %&gt;\n                &lt;i class=\"fa fa-building-o\"&gt;&lt;/i&gt;Projects&lt;i class=\"fa fa-sort-desc\"&gt;&lt;/i&gt;\n                &lt;% end %&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;%= link_to active_path do %&gt;Active Projects&lt;i class=\"fa fa-caret-right\"&gt;&lt;/i&gt;\n                    &lt;% end %&gt;\n                    &lt;ul&gt;\n                        &lt;li&gt;&lt;%= link_to \"Preliminary Stage\", presignature_path %&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;%= link_to \"Design Stage\", develop_path %&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;%= link_to \"Tendered Stage\", proposed_path %&gt;&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/li&gt;\n                &lt;li&gt;&lt;%= link_to \"Archive\", archive_path %&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n         &lt;/li&gt;\n       &lt;li&gt;&lt;%= link_to project_docs_path do %&gt;\n        &lt;i class=\"fa fa-folder-open\"&gt;&lt;/i&gt;Project Documents&lt;i class=\"fa fa-sort-desc\"&gt;&lt;/i&gt;\n        &lt;% end %&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;%= link_to \"Preliminary Stage\", presignature2_path %&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;%= link_to development2_path do %&gt;Design Stage&lt;i class=\"fa fa-caret-right\"&gt;&lt;/i&gt;\n                    &lt;% end %&gt;\n                    &lt;ul&gt;\n                        &lt;li&gt;&lt;%= link_to \"Phase 1\", phase1_path %&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;%= link_to \"Phase 2\", phase2_path %&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;%= link_to \"Phase 3\", phase3_path %&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;%= link_to \"Phase 4\", phase4_path %&gt;&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/li&gt;\n                &lt;li&gt;&lt;%= link_to \"Tendered Projects\", proposed2_path %&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n       &lt;/li&gt;\n       &lt;li&gt;&lt;%= link_to search_path do %&gt;\n        &lt;i class=\"fa fa-search\"&gt;&lt;/i&gt;Search\n        &lt;% end %&gt;\n       &lt;/li&gt;\n       &lt;li&gt;&lt;%= link_to reports_path do %&gt;\n        &lt;i class=\"fa fa-file-text-o\"&gt;&lt;/i&gt;Reports\n        &lt;% end %&gt;\n       &lt;/li&gt;\n       &lt;li&gt;&lt;%= link_to feedback_path do %&gt;\n        &lt;i class=\"fa fa-comment-o\"&gt;&lt;/i&gt;Feedback\n        &lt;% end %&gt;\n       &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre>\n\n<p>My Profile model:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class Profile &lt; ActiveRecord::Base\r\n\tbelongs_to :user\r\nend</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My User model:- </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class User &lt; ActiveRecord::Base\r\n  # Include default devise modules. Others available are:\r\n  # :confirmable, :lockable, :timeoutable and :omniauthable\r\n  devise :database_authenticatable, :registerable,\r\n         :recoverable, :rememberable, :trackable, :validatable\r\n\r\n  has_one :profile\r\nend</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope the issue is clear enough. Thanks in advance!</p>\n\n<p>UPDATE:-</p>\n\n<p>after updating the profile controller code to the one above, I am now receiving a new error:</p>\n\n<p>ActionController::UrlGenerationError in Profiles#new</p>\n\n<p>No route matches {:action=>\"show\", :controller=>\"profiles\", :id=>nil} missing required keys: [:id]</p>\n\n<p>Extracted source (around line #8):\n5\n6\n7\n8\n9\n10\n11</p>\n\n<pre><code>            &lt;% end %&gt;\n        &lt;/li&gt;\n        &lt;% if !current_user.profile.blank? %&gt;\n         &lt;li&gt;&lt;%= link_to profile_path(current_user.profile) do %&gt;\n        &lt;i class=\"fa fa-user\"&gt;&lt;/i&gt;Employee Profile&lt;i class=\"fa fa-sort-desc\"&gt;&lt;/i&gt;\n     &lt;% end %&gt;\n            &lt;% else %&gt;\n</code></pre>\n\n<p>its says there is a problem with this line:</p>\n\n<p><li>&lt;%= link_to profile_path(current_user.profile) do %></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "windows", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 2, "creation_date": 1433359538, "post_id": 30628857, "comment_id": 49323682, "body": "Run it and point the browser at it?"}, {"owner": {"reputation": 5130, "user_id": 1443478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4J9cr.jpg?s=128&g=1", "display_name": "Brennan", "link": "https://stackoverflow.com/users/1443478/brennan"}, "edited": false, "score": 0, "creation_date": 1433359693, "post_id": 30628857, "comment_id": 49323746, "body": "This is how Rails development works. You create the app, run the server, and go to <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a> (or whatever port your server is running on) to access your app"}, {"owner": {"reputation": 833, "user_id": 3915892, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CMVW5.jpg?s=128&g=1", "display_name": "DanielsV", "link": "https://stackoverflow.com/users/3915892/danielsv"}, "edited": false, "score": 0, "creation_date": 1433359820, "post_id": 30628857, "comment_id": 49323818, "body": "is there some security concerns for using app in developement for yourself for long periods? i guess developement is not made for it, but sound good to me."}, {"owner": {"reputation": 5130, "user_id": 1443478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4J9cr.jpg?s=128&g=1", "display_name": "Brennan", "link": "https://stackoverflow.com/users/1443478/brennan"}, "edited": false, "score": 2, "creation_date": 1433360096, "post_id": 30628857, "comment_id": 49323953, "body": "The security concerns are the same that always apply to a personal computer."}, {"owner": {"reputation": 833, "user_id": 3915892, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CMVW5.jpg?s=128&g=1", "display_name": "DanielsV", "link": "https://stackoverflow.com/users/3915892/danielsv"}, "edited": false, "score": 0, "creation_date": 1433360254, "post_id": 30628857, "comment_id": 49324050, "body": "would it be different if i would use it on Cloud9 IDE?"}, {"owner": {"reputation": 454, "user_id": 3348716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/39829dfaff5027bba9ca90499e173463?s=128&d=identicon&r=PG&f=1", "display_name": "Conor", "link": "https://stackoverflow.com/users/3348716/conor"}, "edited": false, "score": 0, "creation_date": 1433369239, "post_id": 30628857, "comment_id": 49328793, "body": "to encrypt the data stored in the database (sqlite, postgres, mysql) the gem &#39;attr_encrypted&#39; will encrypt the field values stored in the DB, ensure that your &#39;secret keys&#39; are stored as environment variables in the terminal running the application &#39;export XXX_key=XXXXXX&#39;, then secure the app directory, the gem brakeman will review your code for security flaws."}, {"owner": {"reputation": 833, "user_id": 3915892, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CMVW5.jpg?s=128&g=1", "display_name": "DanielsV", "link": "https://stackoverflow.com/users/3915892/danielsv"}, "reply_to_user": {"reputation": 454, "user_id": 3348716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/39829dfaff5027bba9ca90499e173463?s=128&d=identicon&r=PG&f=1", "display_name": "Conor", "link": "https://stackoverflow.com/users/3348716/conor"}, "edited": false, "score": 0, "creation_date": 1433411323, "post_id": 30628857, "comment_id": 49345235, "body": "Thanks @Conor that was helpful"}], "owner": {"reputation": 833, "user_id": 3915892, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CMVW5.jpg?s=128&g=1", "display_name": "DanielsV", "link": "https://stackoverflow.com/users/3915892/danielsv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433359610, "creation_date": 1433359415, "last_edit_date": 1433359610, "question_id": 30628857, "link": "https://stackoverflow.com/questions/30628857/ruby-on-rails-running-as-local-app", "title": "Ruby on Rails running as local app", "body": "<p>this is probably strange question but I wanted to make rails app that would function as regular desktop app.</p>\n\n<p>I'm making regular web app, but I will have admin function where I manage clients. I'm not very confident with security of my app and I will be only one who uses it so I thought maybe I can use this part of code only on my windows machine.</p>\n\n<p>I figured it out because I don't have SSL certificate and I wouldn't want to put something on web if i will be only one who uses it.</p>\n\n<p>I also know that Rails is webframework, but is is only framework i know how to work with.</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 252285, "user_id": 541091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd0165a88a06fc92a36f222606f17a11?s=128&d=identicon&r=PG", "display_name": "Michael Berkowski", "link": "https://stackoverflow.com/users/541091/michael-berkowski"}, "edited": false, "score": 0, "creation_date": 1433359076, "post_id": 30628697, "comment_id": 49323416, "body": "Do you want to <i>search</i> for a specific attribute (like &quot;white&quot;) or just retrieve generally all matching pairs for a given attribute, like return 2 white socks and two red (if you had a second red)"}, {"owner": {"reputation": 865, "user_id": 4766423, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a22a7fe122dc41bd7ef44fa3db2c45f?s=128&d=identicon&r=PG&f=1", "display_name": "Nappstir", "link": "https://stackoverflow.com/users/4766423/nappstir"}, "reply_to_user": {"reputation": 252285, "user_id": 541091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd0165a88a06fc92a36f222606f17a11?s=128&d=identicon&r=PG", "display_name": "Michael Berkowski", "link": "https://stackoverflow.com/users/541091/michael-berkowski"}, "edited": false, "score": 0, "creation_date": 1433359189, "post_id": 30628697, "comment_id": 49323481, "body": "Looking to have all attributes match. Compare brand, color, length."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1433362067, "post_id": 30628697, "comment_id": 49325095, "body": "Welcome to Stack Overflow. You have the beginnings of a question, but what is a minimal example of the code you&#39;ve written toward solving this, or where have you searched and what didn&#39;t you understand about what you read? As is it looks like you&#39;re asking us to write code for what should be a very simple problem. Also, rather than show an inspection of the array, instead provide a clear-text, source-definition of the array, or a minimal definition of the object along with the initializer for the array. That helps us help you and helps others looking for a similar answer."}], "answers": [{"tags": [], "owner": {"reputation": 24213, "user_id": 390897, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bb90a39b77596fcffbab96de88f0ee34?s=128&d=identicon&r=PG", "display_name": "fny", "link": "https://stackoverflow.com/users/390897/fny"}, "is_accepted": false, "score": 2, "last_activity_date": 1433360085, "last_edit_date": 1433360085, "creation_date": 1433359131, "answer_id": 30628767, "question_id": 30628697, "link": "https://stackoverflow.com/questions/30628697/find-matching-objects-in-ruby/30628767#30628767", "title": "Find matching objects in Ruby", "body": "<p>You'll need to redefine the <a href=\"http://ruby-doc.org/core-2.2.2/BasicObject.html#method-i-3D-3D\" rel=\"nofollow\"><code>#==</code></a> on a <code>Sock</code>:</p>\n\n<pre><code>class Sock\n  def ==(other_sock)\n    brand == other_sock.brand &amp;&amp; style == other_sock.style\n  end\nend\n</code></pre>\n\n<p>By default, <a href=\"http://ruby-doc.org/core-2.2.2/BasicObject.html#method-i-3D-3D\" rel=\"nofollow\"><code>#==</code></a> on all Ruby object returns true if two objects are the same:</p>\n\n<pre><code>a = Object.new # =&gt; #&lt;Object:0x0000000128df60&gt;\na.__id__ # =&gt; 9727920\nb = Object.new # =&gt; #&lt;Object:0x00000001289cd0&gt;\nb.__id__  # =&gt; 9719400\na == a # =&gt; true\na == b # =&gt; false\n</code></pre>\n\n<p>Fun fact: objects from some built-in classes like integers are reused as an optimization.</p>\n\n<pre><code>Object.new.__id__ == Object.new.__id__ # =&gt; false\n(2 * 8).__id__ == (4 * 4).__id__ # =&gt; true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 261, "user_id": 3470733, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b363c669098b0ef4b0e4656616c2094a?s=128&d=identicon&r=PG&f=1", "display_name": "Alan W", "link": "https://stackoverflow.com/users/3470733/alan-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1433360061, "creation_date": 1433360061, "answer_id": 30629063, "question_id": 30628697, "link": "https://stackoverflow.com/questions/30628697/find-matching-objects-in-ruby/30629063#30629063", "title": "Find matching objects in Ruby", "body": "<p>Adding to @faraz answer, you can select the matching sock by using <a href=\"http://ruby-doc.org/core-2.2.0/Enumerable.html#method-i-find\" rel=\"nofollow\"><code>Enumerable#find</code></a> on the collection:</p>\n\n<pre><code>sock = @socks.first # your desired sock\nother_sock =  @socks.find {|sock| sock == @sock }\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 4766423, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a22a7fe122dc41bd7ef44fa3db2c45f?s=128&d=identicon&r=PG&f=1", "display_name": "Nappstir", "link": "https://stackoverflow.com/users/4766423/nappstir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433361994, "creation_date": 1433358889, "last_edit_date": 1433361994, "question_id": 30628697, "link": "https://stackoverflow.com/questions/30628697/find-matching-objects-in-ruby", "title": "Find matching objects in Ruby", "body": "<p>I am trying to iterate through an array and find matching attributes within objects. For example: </p>\n\n<pre><code>&lt;SockDrawer:0x007f834c9a49b8 @socks=[#&lt;Sock:0x007f834c9a4cd8 @brand=\"Nike\", @style=\"quarter\", @color=\"white\"&gt;, #&lt;Sock:0x007f834c9a4c10 @brand=\"Nike\", @style=\"quarter\", @color=\"black\"&gt;, #&lt;Sock:0x007f834c9a4af8 @brand=\"Nike\", @style=\"quarter\", @color=\"red\"&gt;, #&lt;Sock:0x007f834c9a4a30 @brand=\"Nike\", @style=\"quarter\", @color=\"white\"&gt;]\n</code></pre>\n\n<p>So we can see that my <code>@socks</code> array has two socks that match. I am trying to write a method to find the matching attributes so I can pull out the two white socks and wear them. </p>\n\n<p>My thought process was to somehow start with the first object and compare it to the rest of the objects (iterating through the array to find a match.) </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "edited": false, "score": 0, "creation_date": 1433949879, "post_id": 30629157, "comment_id": 49574222, "body": "I have tried this, and it&#39;s not working. Whenever I select another option, nothing really happens, the JQuery is not getting called. Is there a gem I&#39;m supposed to install for this to work, other than <i>coffee-rails</i> and <i>jquery-rails</i>?"}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "edited": false, "score": 0, "creation_date": 1433952648, "post_id": 30629157, "comment_id": 49576155, "body": "Are you sure that you are passing the correct <code>id</code> in <code>$(&#39;#&#39;)</code>? <code>quantityOptions</code> is randomly I wrote."}, {"owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "edited": false, "score": 0, "creation_date": 1434052456, "post_id": 30629157, "comment_id": 49629943, "body": "I am sure. I used &#39;#quantity.&#39; Looking online I might have to add a few things, such as remote: true to the form_for and respond_to to Controller actions. Hopefully it&#39;ll work!"}], "tags": [], "owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1433360339, "creation_date": 1433360339, "answer_id": 30629157, "question_id": 30628488, "link": "https://stackoverflow.com/questions/30628488/updating-cart-content-based-on-option-selected/30629157#30629157", "title": "Updating Cart content based on option selected", "body": "<p>This is something you can achieve through AJAX. You need to execute jQuery whenever the user selects a value of your <code>&lt;select&gt;</code> tag.</p>\n\n<p>Let's <code>select_tag</code> generate the following <code>&lt;select&gt;</code> tag in HTML:</p>\n\n<pre><code>&lt;select id=\"quantityOptions\"&gt;\n  &lt;option value=\"1\"&gt;One item&lt;/option&gt;\n  &lt;option value=\"2\"&gt;Two items&lt;/option&gt;\n  &lt;option value=\"3\"&gt;Three items&lt;/option&gt;\n  &lt;option value=\"4\"&gt;Four items&lt;/option&gt;\n&lt;/select&gt; \n</code></pre>\n\n<p>In your Javascript file, you need to look for the <code>.change()</code> event, and write the AJAX call in it.</p>\n\n<pre><code>$(\"#quantityOptions\").change(function() {\n    var currentQuantity = $(this).val(); // Will give you the currenlty selected option in &lt;select&gt; tag\n    $.ajax(\n        method: \"POST\",\n         url: http://localhost:3000/update_quantity, // Or whatever custom URL you have built\n        data: { val: currentQuantity },\n        success: function() {\n            console.log(\"The value finally reached on the server\");\n        } \n    );\n});\n</code></pre>\n\n<p>Sure, you could refine this more; but you get the idea of you would do it. And don't forget to have some authentication on the server, may be you need to attach the request token with each request. </p>\n"}], "owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433360339, "creation_date": 1433358114, "last_edit_date": 1433359716, "question_id": 30628488, "link": "https://stackoverflow.com/questions/30628488/updating-cart-content-based-on-option-selected", "title": "Updating Cart content based on option selected", "body": "<p>While implementing a Cart, I want to allow the user to change the quantity of an item that he has in his Cart. Right now, I have a select tag to display quantity, with the correct quantity pre-selected. What I want to do is this: as soon as the user selects another option in the select tag, the quantity in Cart is updated. How should I proceed? Right now the quantity is displayed as follows:</p>\n\n<pre><code>&lt;%= form_tag do %&gt;\n    &lt;%= select_tag \"quantity\", options_for_select((1..item.quantity).to_a, quantity) %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>One more thing. My show_cart is a partial that doesn't include the checkout button, if that's of any help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "carrierwave", "minimagick"], "answers": [{"comments": [{"owner": {"reputation": 1529, "user_id": 4244691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/APclN.jpg?s=128&g=1", "display_name": "LovingRails", "link": "https://stackoverflow.com/users/4244691/lovingrails"}, "edited": false, "score": 0, "creation_date": 1433392002, "post_id": 30628303, "comment_id": 49334988, "body": "I just added &quot;process :quality =&gt; 80&quot; in my redactor_rails_picture_uploader.rb"}], "tags": [], "owner": {"reputation": 10662, "user_id": 741850, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4a92d66111d2f71d36b14aec1741fb14?s=128&d=identicon&r=PG", "display_name": "Automatico", "link": "https://stackoverflow.com/users/741850/automatico"}, "is_accepted": true, "score": 3, "last_activity_date": 1433357832, "last_edit_date": 1592644375, "creation_date": 1433357482, "answer_id": 30628303, "question_id": 30628216, "link": "https://stackoverflow.com/questions/30628216/rails4-how-to-compress-images-attached-by-users-in-rails-app-without-cropping/30628303#30628303", "title": "Rails4 - How to compress images attached by users in Rails app without cropping?", "body": "<p>I believe this would answer your question:</p>\n<p><a href=\"https://github.com/carrierwaveuploader/carrierwave/wiki/How-to%3A-Specify-the-image-quality\" rel=\"nofollow noreferrer\">How To Specify the Image Quality in carrierwave</a>.</p>\n<p>I don't know how to specify the megabyte, but you could maybe do some on-the-fly calculations about how big the file is and what to set the <code>quality</code> to. Bigger file means lower quality.</p>\n<p>Hope this helps :)</p>\n<hr />\n<h2>Copy-paste from the page</h2>\n<p>If you want to set the image quality, create a file config/initializers/carrierwave.rb with the following content:</p>\n<pre><code>module CarrierWave\n  module RMagick\n\n    def quality(percentage)\n      manipulate! do |img|\n        img.write(current_path){ self.quality = percentage } unless img.quality == percentage\n        img = yield(img) if block_given?\n        img\n      end\n    end\n\n  end\nend\n</code></pre>\n<p>Now you can use the process :quality in your uploaders:</p>\n<pre><code>class AvatarUploader &lt; CarrierWave::Uploader::Base\n  include CarrierWave::RMagick\n\n  version :thumb do\n    process :resize_to_fit =&gt; [100, 100]\n    process :quality =&gt; 100 \n  end\nend\n</code></pre>\n<p>Change quality with MiniMagick</p>\n<pre><code># put this in config/initializers/carrierwave.rb\nmodule CarrierWave\n  module MiniMagick\n    def quality(percentage)\n      manipulate! do |img|\n        img.quality(percentage.to_s)\n        img = yield(img) if block_given?\n        img\n      end\n    end\n  end\nend\n</code></pre>\n<p>In your uploader class</p>\n<pre><code>class ImageUploader &lt; CarrierWave::Uploader::Base\n  include CarrierWave::MiniMagick\n\n  process :quality =&gt; 85\n\n  version :medium do\n    process :quality =&gt; 85\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 1529, "user_id": 4244691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/APclN.jpg?s=128&g=1", "display_name": "LovingRails", "link": "https://stackoverflow.com/users/4244691/lovingrails"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2587, "favorite_count": 0, "accepted_answer_id": 30628303, "answer_count": 1, "score": 4, "last_activity_date": 1433358479, "creation_date": 1433357212, "last_edit_date": 1433358479, "question_id": 30628216, "link": "https://stackoverflow.com/questions/30628216/rails4-how-to-compress-images-attached-by-users-in-rails-app-without-cropping", "title": "Rails4 - How to compress images attached by users in Rails app without cropping?", "body": "<p>I am using redactor gem in my Rails app  which is WYSIWYT editor. It allows users to attach images.</p>\n\n<p>I have this file under uploaders folder which attaches images to the posts made by using the redactor gem.</p>\n\n<p><strong>redactor_rails_picture_uploader.rb</strong></p>\n\n<pre><code># encoding: utf-8\nclass RedactorRailsPictureUploader &lt; CarrierWave::Uploader::Base\n  include RedactorRails::Backend::CarrierWave\n\n  # Include RMagick or ImageScience support:\n  # include CarrierWave::RMagick\n  include CarrierWave::MiniMagick\n  # include CarrierWave::ImageScience\n\n  # Choose what kind of storage to use for this uploader:\n  storage :fog\n\n  # Override the directory where uploaded files will be stored.\n  # This is a sensible default for uploaders that are meant to be mounted:\n  def store_dir\n    \"system/redactor_assets/pictures/#{model.id}\"\n  end\n\n  # Provide a default URL as a default if there hasn't been a file uploaded:\n  # def default_url\n  #   \"/images/fallback/\" + [version_name, \"default.png\"].compact.join('_')\n  # end\n\n  # Process files as they are uploaded:\n  # process :scale =&gt; [200, 300]\n  #\n  # def scale(width, height)\n  #   # do something\n  # end\n\n  process :read_dimensions\n\n  # Create different versions of your uploaded files:\n  # version :thumb do\n  #   process :resize_to_fill =&gt; [118, 100]\n  # end\n\n  # version :content do\n  #   process :resize_to_limit =&gt; [800, 800]\n  # end\n\n  # Add a white list of extensions which are allowed to be uploaded.\n  # For images you might use something like this:\n  def extension_white_list\n    RedactorRails.image_file_types\n  end\n\n  # Override the filename of the uploaded files:\n  # Avoid using model.id or version_name here, see uploader/store.rb for details.\n  # def filename\n  #   \"something.jpg\" if original_filename\n  # end\nend\n</code></pre>\n\n<p>I do not want to restrict users by saying them to upload images less then 10 or 8 MB.<br>\nI also do not want to crop the images.<br>\nI would like to compress images to less than 10 or 8 MB in my rails app and not bother users to crop or compress images.</p>\n\n<p>I have gems like carrierwave, mini_magick and they all work.\nThis is my gem file.</p>\n\n<pre><code>source 'https://rubygems.org'\nruby   '2.1.4'\n\ngem 'bootstrap-sass', '~&gt; 3.3.1'\ngem 'autoprefixer-rails'\n\ngem 'rails', '4.2.0.beta2'\ngem 'bcrypt', '3.1.7'\ngem 'faker', '1.4.2'\ngem 'carrierwave',             '0.10.0'\ngem 'mini_magick',             '3.8.0'\ngem 'paperclip'\ngem 'aws-sdk'\ngem 'fog',                     '1.23.0'\ngem 'will_paginate', '3.0.7'\ngem 'bootstrap-will_paginate', '0.0.10'\n\ngem 'mailboxer'\ngem 'rack-reverse-proxy', :require =&gt; 'rack/reverse_proxy'\n\ngem 'chosen-rails'\ngem 'jquery-turbolinks'\n\ngem 'masonry-rails', '~&gt; 0.2.4'\n\ngem 'newrelic_rpm'\n\ngem 'rocket_pants', '~&gt; 1.10.0'\n\ngem \"recaptcha\", :require =&gt; \"recaptcha/rails\"\n\ngem 'metamagic'\n\ngem 'redactor-rails'\n\ngem 'fitvidsjs_rails'\n\ngem 'pusher'\n\ngem 'sass-rails', '~&gt; 5.0.0.beta1'\n\ngem 'uglifier', '&gt;= 1.3.0'\n\ngem 'coffee-rails', '~&gt; 4.0.0'\ngem 'jquery-rails', '~&gt; 4.0.0.beta2'\ngem 'jbuilder', '~&gt; 2.0'\ngem 'sdoc', '~&gt; 0.4.0', group: :doc\n\n\ngroup :development, :test do\n\n  gem 'byebug'\n\n  gem 'web-console', '~&gt; 2.0.0.beta4'\n\n  gem 'spring'\n\n  gem 'sqlite3'  \nend\n\ngroup :production do\n  gem 'pg', '0.17.1'\n  gem 'rails_12factor', '0.0.2'\n  gem 'unicorn'\nend\n</code></pre>\n\n<p><strong>carrier_wave.rb</strong></p>\n\n<pre><code>if Rails.env.production?\n  CarrierWave.configure do |config|\n    config.fog_credentials = {\n      # Configuration for Amazon S3\n      :provider              =&gt; 'AWS',\n      :aws_access_key_id     =&gt; ENV['S3_ACCESS_KEY'],\n      :aws_secret_access_key =&gt; ENV['S3_SECRET_KEY'],\n      :region                =&gt; ENV['S3_REGION'],\n      :path_style            =&gt; true\n    }\n    config.fog_directory     =  ENV['S3_BUCKET']\n  end\nend\n</code></pre>\n\n<p>Could anyone share how to do this?<br>\nKindly help. Thanks.</p>\n"}, {"tags": ["ruby", "phantomjs", "capybara", "poltergeist"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 1, "creation_date": 1433361272, "post_id": 30628177, "comment_id": 49324615, "body": "You can start by showing some code."}, {"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "edited": false, "score": 0, "creation_date": 1433487903, "post_id": 30628177, "comment_id": 49383033, "body": "isnt <code>page</code> an alias for <code>Capybara::Session</code> so you would do things like <code>page.find</code> etc. could this be causing you an issue?"}, {"owner": {"reputation": 11596, "user_id": 465986, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/592491f3adae59ba7f0416760d5361ab?s=128&d=identicon&r=PG", "display_name": "AKWF", "link": "https://stackoverflow.com/users/465986/akwf"}, "edited": false, "score": 0, "creation_date": 1433527316, "post_id": 30628177, "comment_id": 49407842, "body": "<code>page</code> is the scope in which everything is executed anyway (<code>Capybara::Session</code> just like you say). I could just as easily do <code>find</code> by itself and it works the same."}, {"owner": {"reputation": 807, "user_id": 3087106, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0a9b6432fda7159130a528d3c1dce2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Pippo", "link": "https://stackoverflow.com/users/3087106/pippo"}, "edited": false, "score": 0, "creation_date": 1433777826, "post_id": 30628177, "comment_id": 49484268, "body": "clearly the result of this guy is not giving you what you want using phantomjs:  page.find(&quot;.numberofresults&quot;).text.gsub(&quot; Products&quot;,&quot;&quot;).split(&quot; &quot;).last.to_i/25  can you debug that guy using selenium then poltergeist and let us know the difference? you may need to either wait for the page to load prior to triggering the find (headless could load the page but not all the elements like a browser does) or using some other native getter for the text of the element..."}], "owner": {"reputation": 11596, "user_id": 465986, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/592491f3adae59ba7f0416760d5361ab?s=128&d=identicon&r=PG", "display_name": "AKWF", "link": "https://stackoverflow.com/users/465986/akwf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1433363264, "creation_date": 1433357073, "last_edit_date": 1433363264, "question_id": 30628177, "link": "https://stackoverflow.com/questions/30628177/why-cant-phantomjs-poltergeist-pull-up-this-website-correctly", "title": "Why can&#39;t PhantomJS/Poltergeist pull up this website correctly?", "body": "<p>I'm using Capybara to navigate a web page. The url look like this:</p>\n\n<pre><code>http://www.myapp.com/page/ABCXYZ?page=&lt;x&gt;\n</code></pre>\n\n<p>The page has a paginated table on it. Passing a page number to it will paginate the table appropriately.</p>\n\n<p>However, when using the <code>poltergeist</code> driver, the <code>page</code> parameter is always ignored.</p>\n\n<p>Using the <code>selenium</code> driver is not an option because it's a hassle to get it to run headless, it doesn't want to run more than one time (gives \"connection refused\" error on localhost).</p>\n\n<p>This looks like an encoding issue, but I'm not sure where exactly in the stack that the issue lies.</p>\n\n<pre><code>class Verifier\n  class &lt;&lt; self\n\n    include Capybara::DSL\n    Capybara.default_driver = :poltergeist\n    Capybara.default_wait_time = 10\n\n    def parse_table(header)\n      xpath = '//*[@id=\"products\"]/table[3]/tbody/tr/td/div[4]/div/table'\n      table = find(:xpath, xpath)\n      rows = []\n      table.all(\"tr\").each do |row|\n        product_hash = {}\n        row.all(\"td\").each_with_index do |col,idx|\n          product_hash[header[idx]] = col.text\n        end\n        rows &lt;&lt; product_hash\n      end\n      rows\n    end\n\n    def pages\n      page.find(\".numberofresults\").text.gsub(\" Products\",\"\").split(\" \").last.to_i/25\n    end\n\n    def import(item)\n\n      visit \"http://www.myapp.com/page/#{item}\"\n\n      header = parse_header\n      apps = parse_vehicles(header)\n      pages.times do |pagenumber|\n        url = \"http://www.myapp.com/page/#{item}?page=#{pagenumber+1}\" # This is the problem\n      end\n\n    end\n  end\n</code></pre>\n\n<p>That url in the last loop? It is processes as if the pagenumber is not present. When I change the driver to <code>:selenium</code>, this whole thing works. So it's not a Capybara issue as far as I can see.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "cygwin", "rvm", "git-bash"], "answers": [{"tags": [], "owner": {"reputation": 3889, "user_id": 504452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83dcdca34ab322e45f2ba18a24a7fb8?s=128&d=identicon&r=PG", "display_name": "bedrin", "link": "https://stackoverflow.com/users/504452/bedrin"}, "is_accepted": false, "score": 0, "last_activity_date": 1447451449, "creation_date": 1447451449, "answer_id": 33702346, "question_id": 30628070, "link": "https://stackoverflow.com/questions/30628070/trouble-installing-ruby-with-rvm-on-cygwin/33702346#33702346", "title": "Trouble installing Ruby with RVM on Cygwin", "body": "<p>You need to patch ruby soure code so it would compile on cygwin. Thankfully rvm supports patches out of the box!</p>\n\n<p>Create a file called <code>cygwin.patch</code> with the following content:</p>\n\n<pre><code>--- /ext/-test-/printf/printf.c 2014-06-29 10:17:20.000000000 -0700\n+++ /ext/-test-/printf/printf.c 2015-07-08 16:58:15.882479100 -0700\n@@ -1,3 +1,4 @@\n+#define __STRICT_ANSI__ /* avoid conflicting utoa */\n#include &lt;ruby.h&gt;\n#include &lt;ruby/encoding.h&gt;\n</code></pre>\n\n<p>And now simply execute <code>rvm</code> with a <code>--patch</code> parameter like shown below:</p>\n\n<p><code>rvm install 2.2-head --patch cygwin.patch</code></p>\n"}], "owner": {"reputation": 513, "user_id": 4963727, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6524275df0f010968860fb814c71d720?s=128&d=identicon&r=PG&f=1", "display_name": "Jill", "link": "https://stackoverflow.com/users/4963727/jill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 849, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1447451449, "creation_date": 1433356736, "last_edit_date": 1433357586, "question_id": 30628070, "link": "https://stackoverflow.com/questions/30628070/trouble-installing-ruby-with-rvm-on-cygwin", "title": "Trouble installing Ruby with RVM on Cygwin", "body": "<p>I'm on Windows and I currently have Ruby v2.1.5 as that is what came with RailsInstaller. However, I need to downgrade to 2.1.1 for another project and I'm not sure how to.</p>\n\n<p>I have installed rvm on Cygwin and I'm getting these problems when trying to execute <code>rvm install 2.1.1</code></p>\n\n<pre><code>Searching for binary rubies, this might take some time.\nNo binary rubies available for: cygwin/unknown/x86_64/ruby-2.1.1.\nContinuing with compilation. Please read 'rvm help mount' to get more \ninformation on binary rubies.\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Checking requirements for cygwin.\nInstalling requirements for cygwin.\nUpdating system.\nInstalling required packages: mingw64-i686-gcc, mingw64-x86_64-gcc.\nRequirements installation successful.\nInstalling Ruby from source to: /home/K/.rvm/rubies/ruby-2.1.1, this may take a while depending on your cpu(s)...\nruby-2.1.1 - #downloading ruby-2.1.1, this may take a while depending on your connection...\nruby-2.1.1 - #extracting ruby-2.1.1 to /home/K/.rvm/src/ruby-2.1.1....\nruby-2.1.1 - #applying patch /home/K/.rvm/patches/ruby/2.1.1/libyaml.patch.\nruby-2.1.1 - #applying patch /home/K/.rvm/patches/ruby/changeset_r45225.diff.\nruby-2.1.1 - #applying patch /home/K/.rvm/patches/ruby/changeset_r45240.diff.\nruby-2.1.1 - #configuring....................................................\nruby-2.1.1 - #post-configuration..\nruby-2.1.1 - #compiling....................................................\nError running '__rvm_make -j4',\nshowing last 15 lines of /home/K/.rvm/log/1433355357_ruby-2.1.1/make.log\nmake[2]: Leaving directory '/home/K/.rvm/src/ruby-2.1.1/ext/-test-/printf'\nexts.mk:109: recipe for target 'ext/-test-/printf/all' failed\nmake[1]: *** [ext/-test-/printf/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\ninstalling default rational libraries\ninstalling default recursion libraries\nmake[2]: Leaving directory '/home/K/.rvm/src/ruby-2.1.1/ext/-test-/postponed_job'\nlinking shared-object -test-/rational.so\nlinking shared-object -test-/recursion.so\nmake[2]: Leaving directory '/home/K/.rvm/src/ruby-2.1.1/ext/-test-/recursion'\nmake[2]: Leaving directory '/home/K/.rvm/src/ruby-2.1.1/ext/-test-/rational'\nmake[1]: Leaving directory '/home/K/.rvm/src/ruby-2.1.1'\nuncommon.mk:180: recipe for target 'build-ext' failed\nmake: *** [build-ext] Error 2\n++ return 2\nThere has been an error while running make. Halting the installation.\n</code></pre>\n\n<p>Any help would be appreciated. Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "activerecord", "rails-activerecord"], "comments": [{"owner": {"reputation": 9845, "user_id": 119822, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wnqih.jpg?s=128&g=1", "display_name": "Andy Waite", "link": "https://stackoverflow.com/users/119822/andy-waite"}, "edited": false, "score": 0, "creation_date": 1433357718, "post_id": 30627929, "comment_id": 49322600, "body": "You can remove the ActiveRecord railtie: <a href=\"http://stackoverflow.com/questions/19078044/disable-activerecord-for-rails-4\" title=\"disable activerecord for rails 4\">stackoverflow.com/questions/19078044/&hellip;</a>"}, {"owner": {"reputation": 2322, "user_id": 3088748, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/544821277/picture?type=large", "display_name": "AJFaraday", "link": "https://stackoverflow.com/users/3088748/ajfaraday"}, "reply_to_user": {"reputation": 9845, "user_id": 119822, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wnqih.jpg?s=128&g=1", "display_name": "Andy Waite", "link": "https://stackoverflow.com/users/119822/andy-waite"}, "edited": false, "score": 0, "creation_date": 1433358125, "post_id": 30627929, "comment_id": 49322852, "body": "The question suggested as a duplicate solved my problem. Does anyone know if I should delete this one, mark it answered etc.?"}], "owner": {"reputation": 2322, "user_id": 3088748, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/544821277/picture?type=large", "display_name": "AJFaraday", "link": "https://stackoverflow.com/users/3088748/ajfaraday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "closed_date": 1433357648, "answer_count": 0, "score": 0, "last_activity_date": 1433356239, "creation_date": 1433356239, "question_id": 30627929, "link": "https://stackoverflow.com/questions/30627929/rails-without-activerecord-tidying-up", "closed_reason": "Duplicate", "title": "Rails without ActiveRecord - tidying up", "body": "<p>Okay, I've been experimenting with one of my apps, which doens't need data persistence between environment loads and only has a very small dataset.</p>\n\n<p>I've managed to replace ActiveRecord in all of my models, I've even removed my db directory, and it has sped up the app ten-fold. However, there's a couple of parts I can't seem to get rid of...</p>\n\n<ul>\n<li>The rake tasks which refer to db (<code>rake db:migrate</code> etc.)</li>\n<li>the activerecord gem (which is loaded by bundler as a dependency to rails)</li>\n</ul>\n\n<p>Also is there any more fat I can trim from my app now I'm not using any AR?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "model-view-controller", "feed", "link-to"], "comments": [{"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433355075, "post_id": 30627538, "comment_id": 49321034, "body": "sir.. show the rails development.log file content from the console"}, {"owner": {"reputation": 1879, "user_id": 2093129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c9d0718b2ff36518d8896059ecfa34?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/2093129/hugo"}, "edited": false, "score": 0, "creation_date": 1433356527, "post_id": 30627538, "comment_id": 49321878, "body": "what about changing &quot;valuation_path(@valuation)&quot; for &quot;valuation_path(@valuation.id)&quot;. You are passing the whole @valuation as a parameter."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433356542, "post_id": 30627538, "comment_id": 49321886, "body": "this path is wrong.. show the result of <code>rake routes</code>."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433356698, "post_id": 30627538, "comment_id": 49321969, "body": "@AnthonyGalli.com your path should be like <a href=\"http://stackoverflow.com/questions/8207644/nested-resource-route-helper-not-working\">this answer</a>"}, {"owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "reply_to_user": {"reputation": 1879, "user_id": 2093129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c9d0718b2ff36518d8896059ecfa34?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/2093129/hugo"}, "edited": false, "score": 0, "creation_date": 1433356776, "post_id": 30627538, "comment_id": 49322014, "body": "If I leave in activities index <code>@valuation = Valuation.find(params[:id])</code> I still get the same error @Hugo. If I take it out that would give me <code>undefined method </code>id&#39; for nil:NilClass`"}, {"owner": {"reputation": 1879, "user_id": 2093129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c9d0718b2ff36518d8896059ecfa34?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/2093129/hugo"}, "edited": false, "score": 0, "creation_date": 1433357467, "post_id": 30627538, "comment_id": 49322453, "body": "@valuation = Valuation.find(params[:id]) needs an &quot;id&quot; parameter and You are not passing it. Check in the logs: &quot;WHERE &quot;valuations&quot;.&quot;id&quot; = ? LIMIT 1[0m  [[&quot;id&quot;, nil]]&quot;.  You need to pass the ID parameter."}, {"owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "reply_to_user": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433357554, "post_id": 30627538, "comment_id": 49322507, "body": "@R_O_R thank you! I used <code>&lt;%= link_to activity.trackable.name, activity_valuation_path(@activity, @valuation) %&gt;</code> but when I go to the activity feed now where the <code>activity.trackable.name</code> should be is now blank"}, {"owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "reply_to_user": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433357764, "post_id": 30627538, "comment_id": 49322633, "body": "@R_O_R I added that line above, but now where it use to show <code>activity.trackable.name</code> in the activities feed it doesn&#39;t show anything. It&#39;s blank, empty, gone, nothing to click. Maybe it&#39;s because I had to remove <code>@valuation = Valuation.find(params[:id])</code> to get rid of the error"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433357889, "post_id": 30627538, "comment_id": 49322707, "body": "hire me!!! :p I am still not getting you.. <i>gone</i> means...?"}, {"owner": {"reputation": 1879, "user_id": 2093129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c9d0718b2ff36518d8896059ecfa34?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/2093129/hugo"}, "edited": false, "score": 0, "creation_date": 1433358165, "post_id": 30627538, "comment_id": 49322874, "body": "It did not find any Valuation, because you did not pass the &quot;id&quot; as a parameter."}, {"owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "reply_to_user": {"reputation": 1879, "user_id": 2093129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c9d0718b2ff36518d8896059ecfa34?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/2093129/hugo"}, "edited": false, "score": 0, "creation_date": 1433358312, "post_id": 30627538, "comment_id": 49322966, "body": "@Hugo maybe you can explain it better to R_O_R lol I&#39;m trying to fix the params like you suggested. I tried <code>@valuation = Valuation.find(params[:valuation_id])</code> but same error. How can I pass this ID parameter?! I tried: <code>def activity_params     params.require(:activity).permit(:valuation_id)   end</code>"}, {"owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "reply_to_user": {"reputation": 1879, "user_id": 2093129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c9d0718b2ff36518d8896059ecfa34?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/2093129/hugo"}, "edited": false, "score": 0, "creation_date": 1433528743, "post_id": 30627538, "comment_id": 49408606, "body": "If you can help me further @Hugo I&#39;m offering a bounty. Thanks kind sir :)"}, {"owner": {"reputation": 3773, "user_id": 991903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/J12Hi.jpg?s=128&g=1", "display_name": "Meier", "link": "https://stackoverflow.com/users/991903/meier"}, "edited": false, "score": 0, "creation_date": 1433542803, "post_id": 30627538, "comment_id": 49415045, "body": "What is the relationship between Activity and Valuation? I see no relationship in the model. Your resource design tells us that valuation is like a child of activity. The activity-controller index method suggest the opposite: in the list of activities, you seem to want to display a single valuation."}], "answers": [{"tags": [], "owner": {"reputation": 754, "user_id": 2641982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af803d4eb001d92b066acd5f2050494?s=128&d=identicon&r=PG&f=1", "display_name": "cristi_razvi", "link": "https://stackoverflow.com/users/2641982/cristi-razvi"}, "is_accepted": false, "score": 1, "last_activity_date": 1433606177, "creation_date": 1433606177, "answer_id": 30684804, "question_id": 30627538, "link": "https://stackoverflow.com/questions/30627538/how-to-link-to-a-show-page-from-another-mvc/30684804#30684804", "title": "How to link_to a show page from another MVC?", "body": "<p>you got nested resources:</p>\n\n<pre><code>resources :activities do\n  resources :valuations\nend\n</code></pre>\n\n<p>this does not create the method</p>\n\n<blockquote>\n  <p>valuation_path()</p>\n</blockquote>\n\n<p>it creates</p>\n\n<blockquote>\n  <p>activities_valuation_path()</p>\n</blockquote>\n\n<p>if you want to create the valuation path you need to refactor to:</p>\n\n<pre><code>resources :activities do\n  resources :valuations\nend\nresources :valuations            # this will create your method\n</code></pre>\n\n<p>or if the valuation is strongly connected to an activity i recommend using </p>\n\n<blockquote>\n  <p>activities_valuation_path(:activity_id, :valuation_id)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4709022"}, "is_accepted": true, "score": 1, "last_activity_date": 1433616253, "creation_date": 1433616253, "answer_id": 30686384, "question_id": 30627538, "link": "https://stackoverflow.com/questions/30627538/how-to-link-to-a-show-page-from-another-mvc/30686384#30686384", "title": "How to link_to a show page from another MVC?", "body": "<p>To link_to your show page with the code I understand you having you need to</p>\n\n<ol>\n<li><code>resources :activities do\n  resources :valuations\nend</code></li>\n<li>Since it's polymorpic use trackable to find the id and put the line: <code>&lt;%= link_to activity.trackable.name, activity_valuation_path(activity, activity.trackable_id) %&gt;</code></li>\n<li>Take this line out from your index: <code>@valuation = Valuation.find(params[:id])</code></li>\n</ol>\n\n<p>Hopefully that helps!</p>\n"}], "owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 30686384, "answer_count": 2, "score": 0, "last_activity_date": 1433616253, "creation_date": 1433354850, "last_edit_date": 1433356318, "question_id": 30627538, "link": "https://stackoverflow.com/questions/30627538/how-to-link-to-a-show-page-from-another-mvc", "title": "How to link_to a show page from another MVC?", "body": "<p>I get this error when I pull up <a href=\"http://0.0.0.0:3000/activities\" rel=\"nofollow\">http://0.0.0.0:3000/activities</a>:</p>\n\n<blockquote>\n  <p>ActiveRecord::RecordNotFound in ActivitiesController#index Couldn't\n  find Valuation with 'id'=\n  Line: <code>@valuation = Valuation.find(params[:id])</code></p>\n</blockquote>\n\n<p><strong>activities_controller</strong></p>\n\n<pre><code>def index\n  @activities = Activity.order(\"created_at desc\").paginate(:page =&gt; params[:page])\n  @valuation = Valuation.find(params[:id])\nend\n</code></pre>\n\n<p><strong>activities/index</strong></p>\n\n<pre><code>&lt;% @activities.each do |activity| %&gt;\n  &lt;%= render \"activities/#{activity.trackable_type.underscore}/#{activity.action}\", activity: activity %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>activities/valuations/_create</strong></p>\n\n<pre><code>added value\n  &lt;%= activity.created_at.strftime('%B %d at %l:%M%P') %&gt;\n  &lt;%= link_to activity.trackable.name, valuation_path(@valuation) %&gt; #Trying to Fix This\n</code></pre>\n\n<p>The goal is so that when users are looking at the activities feed they can click on a activity and be directed to that respective valuation's show page, which is where they can like or comment on it.</p>\n\n<p><strong>routes</strong></p>\n\n<pre><code>resources :activities do\n  resources :valuations\nend\n</code></pre>\n\n<p>Please let me know if you need any further explanation or code to help you help me otherwise here's the <strong><a href=\"https://gist.github.com/RallyWithGalli/d09f61e09dece645a60b\" rel=\"nofollow\">gist of it</a></strong> :)</p>\n\n<p><strong>development.log</strong></p>\n\n<pre><code>    Started GET \"/activities\" for 127.0.0.1 at 2015-06-03 14:14:49 -0400\nProcessing by ActivitiesController#index as HTML\n  [1m[35mUser Load (0.2ms)[0m  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT 1  [[\"id\", 1]]\n  [1m[36mHabit Load (0.1ms)[0m  [1mSELECT \"habits\".* FROM \"habits\" WHERE \"habits\".\"user_id\" = ?[0m  [[\"user_id\", 1]]\n  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT \"tags\".* FROM \"tags\" WHERE (LOWER(name) = LOWER('ingrain'))\n  [1m[36mCACHE (0.0ms)[0m  [1mSELECT \"habits\".* FROM \"habits\" WHERE \"habits\".\"user_id\" = ?[0m  [[\"user_id\", 1]]\n  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM \"habits\" WHERE \"habits\".\"user_id\" = ?  [[\"user_id\", 1]]\n  [1m[36mValuation Load (0.1ms)[0m  [1mSELECT  \"valuations\".* FROM \"valuations\" WHERE \"valuations\".\"id\" = ? LIMIT 1[0m  [[\"id\", nil]]\nCompleted 404 Not Found in 11ms\n\nActiveRecord::RecordNotFound (Couldn't find Valuation with 'id'=):\n  app/controllers/activities_controller.rb:4:in `index'\n\n\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.3ms)\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.2ms)\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (126.4ms)\n\n\nStarted GET \"/activities\" for 127.0.0.1 at 2015-06-03 14:14:50 -0400\nProcessing by ActivitiesController#index as HTML\n  [1m[35mUser Load (0.2ms)[0m  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT 1  [[\"id\", 1]]\n  [1m[36mHabit Load (0.1ms)[0m  [1mSELECT \"habits\".* FROM \"habits\" WHERE \"habits\".\"user_id\" = ?[0m  [[\"user_id\", 1]]\n  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT \"tags\".* FROM \"tags\" WHERE (LOWER(name) = LOWER('ingrain'))\n  [1m[36mCACHE (0.0ms)[0m  [1mSELECT \"habits\".* FROM \"habits\" WHERE \"habits\".\"user_id\" = ?[0m  [[\"user_id\", 1]]\n  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM \"habits\" WHERE \"habits\".\"user_id\" = ?  [[\"user_id\", 1]]\n  [1m[36mValuation Load (0.1ms)[0m  [1mSELECT  \"valuations\".* FROM \"valuations\" WHERE \"valuations\".\"id\" = ? LIMIT 1[0m  [[\"id\", nil]]\nCompleted 404 Not Found in 8ms\n\nActiveRecord::RecordNotFound (Couldn't find Valuation with 'id'=):\n  app/controllers/activities_controller.rb:4:in `index'\n\n\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)\n  Rendered /Users/galli01anthony/.rvm/gems/ruby-2.1.3/gems/actionpack-4.2.0.rc3/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (35.2ms)\n</code></pre>\n"}, {"tags": ["ruby", "watir-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4962089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c93aca9940784974461015bf646b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Hugh McCurdy", "link": "https://stackoverflow.com/users/4962089/hugh-mccurdy"}, "edited": false, "score": 0, "creation_date": 1433357180, "post_id": 30627992, "comment_id": 49322251, "body": "Thanks Jeff.  Great answer.  That information helps me in ways that I didn&#39;t expect."}], "tags": [], "owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "is_accepted": true, "score": 1, "last_activity_date": 1433357001, "last_edit_date": 1433357001, "creation_date": 1433356502, "answer_id": 30627992, "question_id": 30627431, "link": "https://stackoverflow.com/questions/30627431/why-is-the-execution-time-for-present-twice-as-long-as-visible-in-ruby-watir/30627992#30627992", "title": "Why is the execution time for present? twice as long as visible? in ruby/watir?", "body": "<p>It makes sense that present? is the slowest because it checks for existence <strong>AND</strong> for visibility.</p>\n\n<p><a href=\"https://github.com/watir/watir-webdriver/blob/6212504320559a90966052506c5e9e26b7d16533/lib/watir-webdriver/elements/element.rb#L406\" rel=\"nofollow\">https://github.com/watir/watir-webdriver/blob/6212504320559a90966052506c5e9e26b7d16533/lib/watir-webdriver/elements/element.rb#L406</a></p>\n\n<pre><code>def present?\n  exists? &amp;&amp; visible?\nend\n</code></pre>\n\n<p>It would make sense that it would take as long as exists? and visible? combined.</p>\n"}], "owner": {"reputation": 13, "user_id": 4962089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c93aca9940784974461015bf646b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Hugh McCurdy", "link": "https://stackoverflow.com/users/4962089/hugh-mccurdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 30627992, "answer_count": 1, "score": 0, "last_activity_date": 1433357001, "creation_date": 1433354440, "question_id": 30627431, "link": "https://stackoverflow.com/questions/30627431/why-is-the-execution-time-for-present-twice-as-long-as-visible-in-ruby-watir", "title": "Why is the execution time for present? twice as long as visible? in ruby/watir?", "body": "<p>After reading several web pages including <a href=\"https://jkotests.wordpress.com/2012/11/02/checking-for-an-element-exists-visible-present/\" rel=\"nofollow\">Testing by Justin Ko</a> which says</p>\n\n<ul>\n<li>exists? \u2013 Returns whether this element actually exists.</li>\n<li>present? \u2013 Returns true if the element exists and is visible on the page</li>\n<li>visible? \u2013 If any parent element isn\u2019t visible then we cannot write to the element. The only reliable way to determine this is to iterate up the DOM element tree checking every element to make sure it\u2019s visible.</li>\n</ul>\n\n<p>From that</p>\n\n<ol>\n<li>I would predict that exists? would be the fastest, because it only checks to see if the element exists.</li>\n<li>That present? would be the 2nd fastest as it checks for existence and for visibility.</li>\n<li>That visible? would be the slowest because (as I read it) it also has to iterate up the DOM element tree.</li>\n</ol>\n\n<p>Simply checking one element sounds like constant-time while iteration sounds like linear-time.</p>\n\n<p>I happened to be running some time tests and thought it would be interesting to time the above methods as well.  One of my predictions is wrong.</p>\n\n<p>exists? is fastest; coming in just slightly faster than visible?\nHowever, present? is about twice as slow as visible?</p>\n\n<p>I tried calling the methods in a different order and also enclosing them in a 1.upto(10) loop to average out the times.  Same results.</p>\n\n<p>Something is happening here that I don't understand and I'd like to understand.  Anyone know why present? takes about twice as long as visible?  Or at least have a hypothesis?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "pry", "byebug"], "comments": [{"owner": {"reputation": 1137, "user_id": 409517, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf42064e4e4c692a24b2856526a5d33d?s=128&d=identicon&r=PG", "display_name": "saadlulu", "link": "https://stackoverflow.com/users/409517/saadlulu"}, "edited": false, "score": 1, "creation_date": 1458463647, "post_id": 30627186, "comment_id": 59864776, "body": "You can try the command &quot;abort&quot;, it will abort the current execution"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4970820"}, "edited": false, "score": 1, "creation_date": 1433788754, "post_id": 30692352, "comment_id": 49490777, "body": "Tried removing &#39;byebug&#39; from the code but it kept breaking afterwards anyway as if it were there.  Same behavior trying &#39;continue&#39; and &#39;finish&#39; commands."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1459979607, "post_id": 30692352, "comment_id": 60537938, "body": "This won&#39;t work. The code won&#39;t be reloaded until you exit the console."}, {"owner": {"reputation": 520, "user_id": 5839652, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zfBMT.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5839652/rich"}, "edited": false, "score": 0, "creation_date": 1537030354, "post_id": 30692352, "comment_id": 91639238, "body": "Not sure what the removing debuger is for, but typing <code>finish</code> in the byebug interface exited byebug without closing the rails console."}], "tags": [], "owner": {"reputation": 258, "user_id": 3397915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000931159618/picture?type=large", "display_name": "Ionut Milas", "link": "https://stackoverflow.com/users/3397915/ionut-milas"}, "is_accepted": false, "score": -1, "last_activity_date": 1433671972, "creation_date": 1433671972, "answer_id": 30692352, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/30692352#30692352", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>Remove \"debugger from your code and type in \"finish\" in console</p>\n"}, {"comments": [{"owner": {"reputation": 767, "user_id": 423335, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/263cddd7f2a96b1f22a9ab1f8a46138c?s=128&d=identicon&r=PG", "display_name": "Henry Mazza", "link": "https://stackoverflow.com/users/423335/henry-mazza"}, "edited": false, "score": 1, "creation_date": 1588208977, "post_id": 35538236, "comment_id": 108814856, "body": "\ud83d\udc4f \ud83d\udc4f \ud83d\udc4f \ud83d\udc4f \ud83d\udc4f \ud83d\udc4f"}], "tags": [], "owner": {"reputation": 1284, "user_id": 2667545, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/77414e4cbee3c6687d580bbb7876d8c2?s=128&d=identicon&r=PG", "display_name": "Vic", "link": "https://stackoverflow.com/users/2667545/vic"}, "is_accepted": false, "score": 6, "last_activity_date": 1456069826, "creation_date": 1456069826, "answer_id": 35538236, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/35538236#35538236", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>Try <code>!!!</code>. It works on <a href=\"https://github.com/pry/pry\" rel=\"noreferrer\">pry gem</a>, but not sure if it does on byebug. </p>\n"}, {"tags": [], "owner": {"reputation": 8800, "user_id": 14533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8b289d40d80dc4f1a994f735a152f65?s=128&d=identicon&r=PG", "display_name": "Gustavo Rubio", "link": "https://stackoverflow.com/users/14533/gustavo-rubio"}, "is_accepted": false, "score": 2, "last_activity_date": 1456115144, "creation_date": 1456115144, "answer_id": 35545808, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/35545808#35545808", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>Well this isn't the most elegant solution but it works for me so far.</p>\n\n<p>If you have a base controller in your rails application you can add an accessor to hold a variable saying whether you want debugging to happen or not:</p>\n\n<pre><code>attr_accessor :debugging\n</code></pre>\n\n<p>Then add/modify initializer to set the variable to true on each request (or each time there is an instance created for that object):</p>\n\n<pre><code>def initialize\n  @debugging=true\n  super\nend\n</code></pre>\n\n<p>And finally, always use the byebug call with a conditional wherever you want this behavior:</p>\n\n<pre><code>byebug if debugging\n</code></pre>\n\n<p>Then when you are at the IRB console and you want to exit the debugger but continue executing the code you just set the variable:</p>\n\n<pre><code>@debugging=false; finish\n</code></pre>\n\n<p>You could even encapsulate this in a helper or do some OOP magic but this is a good starting point. Nice thing is that if you repeat the request you'll get the standard behavior again unless you set the variable to <code>false</code> again.</p>\n"}, {"tags": [], "owner": {"reputation": 4877, "user_id": 2016306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s1CVD.jpg?s=128&g=1", "display_name": "Jagjot", "link": "https://stackoverflow.com/users/2016306/jagjot"}, "is_accepted": false, "score": 28, "last_activity_date": 1459979789, "last_edit_date": 1459979789, "creation_date": 1456243387, "answer_id": 35582307, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/35582307#35582307", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>When running <code>byebug</code> under the Rails console or in Rails' server I usually quit only byebug by hitting <kbd>Ctrl</kbd>+<kbd>D</kbd>.</p>\n\n<p>The catch with this approach is, if you do this in Rails' server then Byebug will not stop and debug the next time it hits a <code>byebug</code> statement in your code anywhere. But it works perfectly in the Rails console.</p>\n"}, {"comments": [{"owner": {"reputation": 1760, "user_id": 1498118, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/903d5ad53fd577a6fedfc9da34f8fd79?s=128&d=identicon&r=PG", "display_name": "a.barbieri", "link": "https://stackoverflow.com/users/1498118/a-barbieri"}, "edited": false, "score": 0, "creation_date": 1554387886, "post_id": 52346876, "comment_id": 97741386, "body": "<code>finish</code> helps, but it doesn&#39;t really do what you say, somehow it gets deeper in the code..."}], "tags": [], "owner": {"reputation": 520, "user_id": 5839652, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zfBMT.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5839652/rich"}, "is_accepted": false, "score": 1, "last_activity_date": 1537030448, "creation_date": 1537030448, "answer_id": 52346876, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/52346876#52346876", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>Typing <code>finish</code> in the console exits byebug, without closing pry/rails console/rails server.</p>\n\n<p><em>Ctrl + D</em> also works.</p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 10514118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1be8c97a5c1f18d13dc2c7d06c661e5?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/10514118/mohammed"}, "is_accepted": false, "score": 0, "last_activity_date": 1590412142, "creation_date": 1590412142, "answer_id": 62003083, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/62003083#62003083", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>Go to your code and remove  <code>byebug</code> and save, then in the buybug terminal write <code>continue</code> then press enter.</p>\n\n<p>Tadaaa your app will continue and you will exit byebug all without closing your app.</p>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 5925094, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MbtVD.png?s=128&g=1", "display_name": "Rich Steinmetz", "link": "https://stackoverflow.com/users/5925094/rich-steinmetz"}, "is_accepted": false, "score": 0, "last_activity_date": 1597757374, "creation_date": 1597757374, "answer_id": 63469708, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/63469708#63469708", "title": "Make Byebug finish executing without exiting Pry", "body": "<pre class=\"lang-sh prettyprint-override\"><code>(byebug) quit\nReally quit? (y/n) y\nuser ~\n</code></pre>\n<p>The only one that works quickly and without issues for me so far.</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 10012017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3bfae207470b032aa76595f8e5867e2?s=128&d=identicon&r=PG&f=1", "display_name": "eho", "link": "https://stackoverflow.com/users/10012017/eho"}, "is_accepted": false, "score": 0, "last_activity_date": 1599693944, "last_edit_date": 1599693944, "creation_date": 1599693633, "answer_id": 63820759, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/63820759#63820759", "title": "Make Byebug finish executing without exiting Pry", "body": "<p><code>abort</code> should abort the execution and bring you back to your server or console.</p>\n<p>If you've been in the debugger for a while, the server might start performing much slower. If this is the case, using <code>exit</code> to exit both byebug and the server, then restarting might still be the better option.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 5126049, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cLUJOlUBgOM/AAAAAAAAAAI/AAAAAAAAABY/UaaUag_nNlI/photo.jpg?sz=128", "display_name": "Dmitrii Kharlamov", "link": "https://stackoverflow.com/users/5126049/dmitrii-kharlamov"}, "is_accepted": false, "score": 0, "last_activity_date": 1610073857, "creation_date": 1610073857, "answer_id": 65622731, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/65622731#65622731", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>Try <code>continue</code> or <code>finish</code></p>\n<p>Source: <a href=\"https://edgeguides.rubyonrails.org/debugging_rails_applications.html#resuming-execution\" rel=\"nofollow noreferrer\">https://edgeguides.rubyonrails.org/debugging_rails_applications.html#resuming-execution</a></p>\n"}, {"tags": [], "owner": {"reputation": 1470, "user_id": 1987461, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/664b3ec09a4053da7ecd919255539b54?s=128&d=identicon&r=PG", "display_name": "borjagvo", "link": "https://stackoverflow.com/users/1987461/borjagvo"}, "is_accepted": false, "score": 0, "last_activity_date": 1615623411, "creation_date": 1615623411, "answer_id": 66611410, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry/66611410#66611410", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>If you want to exit a loop try <code>skip</code>.</p>\n<p>It'll runs until the next breakpoint as long as it is different from the current one.</p>\n<p>Then, once you are out of the loop you can <code>continue</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4970820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8656, "favorite_count": 1, "answer_count": 10, "score": 19, "last_activity_date": 1615623411, "creation_date": 1433353609, "last_edit_date": 1459979550, "question_id": 30627186, "link": "https://stackoverflow.com/questions/30627186/make-byebug-finish-executing-without-exiting-pry", "title": "Make Byebug finish executing without exiting Pry", "body": "<p>When I set a breakpoint with Byebug in Rails, I sometimes want it to finish executing, but the guide on github says to use <code>exit</code> which also exits Pry.  Typing <code>continue</code> repeatedly can be annoying if the breakpoint is  in a loop.  </p>\n\n<p>Is there anyway to stop byebug without exiting the Rails console? </p>\n"}, {"tags": ["ruby", "unicode", "emoji"], "comments": [{"owner": {"reputation": 110733, "user_id": 1009479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wlrC5.jpg?s=128&g=1", "display_name": "Yu Hao", "link": "https://stackoverflow.com/users/1009479/yu-hao"}, "edited": false, "score": 1, "creation_date": 1433353581, "post_id": 30626924, "comment_id": 49320162, "body": "Does <code>&quot;\\u{1F4A9}&quot;</code> work?"}], "answers": [{"comments": [{"owner": {"reputation": 790, "user_id": 722915, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/a14d1bca90d7ebeda50dca99aab381b9?s=128&d=identicon&r=PG", "display_name": "shevy", "link": "https://stackoverflow.com/users/722915/shevy"}, "edited": false, "score": 1, "creation_date": 1506623555, "post_id": 30627307, "comment_id": 79907231, "body": "Great answer indeed! You can even use the above to rename KDE Konsole tabs via emojis + qdbus interface. The unicode snowman or the cat face works fine - now my tabs look really really crazy. I don&#39;t think the KDE team ever thought about that."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 33, "last_activity_date": 1469764150, "last_edit_date": 1469764150, "creation_date": 1433354090, "answer_id": 30627307, "question_id": 30626924, "link": "https://stackoverflow.com/questions/30626924/how-to-print-unicode-character-u-1f4a9-pile-of-poo-emoji/30627307#30627307", "title": "How to print unicode character U-1F4A9 &#39;pile of poo&#39; emoji &#128169;", "body": "<p>Unicode code points with more than four hex digits must be enclosed in curly braces:</p>\n\n<pre><code>puts \"\\u{1f4a9}\"\n# =&gt; \ud83d\udca9\n</code></pre>\n\n<p>This is pretty poorly documented, so don't feel bad about not figuring it out. A nice thing about the curly brace syntax is that you can embed multiple code points separated by spaces:</p>\n\n<pre><code>puts \"\\u{1f4a9 1f60e}\"\n# =&gt; \ud83d\udca9\ud83d\ude0e\n</code></pre>\n\n<p>Of course, since Ruby 2.0, UTF-8 has been the default encoding, so you can always just put the emoji directly into your source:</p>\n\n<pre><code>puts \"\ud83d\udca9\"\n# =&gt; \ud83d\udca9\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2993456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6404, "favorite_count": 4, "accepted_answer_id": 30627307, "answer_count": 1, "score": 17, "last_activity_date": 1553268308, "creation_date": 1433352764, "last_edit_date": 1553268308, "question_id": 30626924, "link": "https://stackoverflow.com/questions/30626924/how-to-print-unicode-character-u-1f4a9-pile-of-poo-emoji", "title": "How to print unicode character U-1F4A9 &#39;pile of poo&#39; emoji &#128169;", "body": "<p>I am trying to print a unicode character in Ruby, specifically the pile of poo. It has a unicode value of U-1F4A9. But when I try to print \"\\u1F4A9\" to the output or a file, I see nothing. </p>\n\n<p>Do I need to print to a specific type of file to see the pile of poo? If so, what type of file? Is there any way to print this to the common output? (I'm using Rubymine)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "edited": false, "score": 0, "creation_date": 1433352067, "post_id": 30626618, "comment_id": 49319249, "body": "What is is you&#39;re trying to do here? You have items as the basis of your options_for_select, but you want to calculate a quantity?"}, {"owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "reply_to_user": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "edited": false, "score": 0, "creation_date": 1433355413, "post_id": 30626618, "comment_id": 49321236, "body": "I&#39;m tryint to give a user the ability to choose the quantity of an item that he wants to purchase. To do so, I have a select tag with multiple quantites, and I&#39;m trying to get the quantity the user selects before he presses &quot;Add to cart.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "edited": false, "score": 0, "creation_date": 1433352612, "post_id": 30626704, "comment_id": 49319539, "body": "I&#39;m getting an error: uninitialized constant ActionView::CompiledTemplates::Cart. Just to clear things up, Cart is not a model."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "edited": false, "score": 0, "creation_date": 1433352818, "post_id": 30626704, "comment_id": 49319673, "body": "@modsoussi show me the route of <code>cart</code> resource from your routes.rb file"}, {"owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "edited": false, "score": 0, "creation_date": 1433355486, "post_id": 30626704, "comment_id": 49321276, "body": "<code>get &#39;cart&#39; =&gt; &#39;sessions#show_cart&#39;, post &#39;cart&#39; =&gt; &#39;sessions#add_to_cart&#39;, post &#39;delete_from_cart&#39; =&gt; &#39;sessions#remove_from_cart&#39;</code>"}, {"owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "edited": false, "score": 0, "creation_date": 1433355641, "post_id": 30626704, "comment_id": 49321377, "body": "I have <code>&lt;%= submit_tag(&quot;Add to cart&quot;) %&gt;</code> instead of <code>&lt;%= submit_tag Add to Cart %&gt;</code> and that worked."}], "tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": true, "score": 2, "last_activity_date": 1433358314, "last_edit_date": 1433358314, "creation_date": 1433352067, "answer_id": 30626704, "question_id": 30626618, "link": "https://stackoverflow.com/questions/30626618/how-to-get-selected-option-in-ruby-on-rails/30626704#30626704", "title": "how to get selected option in ruby on rails", "body": "<p>use <code>form_tag</code>.</p>\n\n<pre><code>&lt;%= form_tag(cart_path(item_id: item.id)) do -%&gt;\n  &lt;%= select_tag \"quantity\", options_for_select((1..item.quantity).to_a,1) %&gt;\n  &lt;%= submit_tag \"Add to Cart\" %&gt;\n&lt;% end -%&gt;\n</code></pre>\n\n<p>Now, you will get the value in <code>params[:quantity]</code>.</p>\n"}], "owner": {"reputation": 137, "user_id": 4135345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2bfa59cd9ae123e851b26214f416ac7b?s=128&d=identicon&r=PG&f=1", "display_name": "modsoussi", "link": "https://stackoverflow.com/users/4135345/modsoussi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 0, "accepted_answer_id": 30626704, "answer_count": 1, "score": 1, "last_activity_date": 1433358314, "creation_date": 1433351785, "last_edit_date": 1433352053, "question_id": 30626618, "link": "https://stackoverflow.com/questions/30626618/how-to-get-selected-option-in-ruby-on-rails", "title": "how to get selected option in ruby on rails", "body": "<p>I have a select_tag from which I'm trying to get the selected option to add it to params and send to controller. My code is the following:</p>\n\n<pre><code>&lt;% a=*(1..item.quantity) %&gt;\n&lt;%= select_tag \"quantity\", options_for_select(a,1) %&gt;\n&lt;%= button_to \"Add to Cart\", cart_path(item_id: item.id) %&gt;\n</code></pre>\n\n<p>What's the best way to get the selected option and pass it as say, quantity, to cart_path?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "gem", "bundle"], "comments": [{"owner": {"reputation": 7213, "user_id": 1957346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IpVFd.jpg?s=128&g=1", "display_name": "Achrome", "link": "https://stackoverflow.com/users/1957346/achrome"}, "edited": false, "score": 0, "creation_date": 1433351650, "post_id": 30626514, "comment_id": 49318975, "body": "I&#39;m voting to close this question as off-topic because it is about licensing and not programming."}, {"owner": {"reputation": 2343, "user_id": 2905173, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65bf7c9fa62e4d6306d27c7dcdc7d2b8?s=128&d=identicon&r=PG&f=1", "display_name": "user12121234", "link": "https://stackoverflow.com/users/2905173/user12121234"}, "reply_to_user": {"reputation": 7213, "user_id": 1957346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IpVFd.jpg?s=128&g=1", "display_name": "Achrome", "link": "https://stackoverflow.com/users/1957346/achrome"}, "edited": false, "score": 0, "creation_date": 1433351889, "post_id": 30626514, "comment_id": 49319121, "body": "It&#39;s about a program that will list licensing..."}, {"owner": {"reputation": 11059, "user_id": 246544, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Eiz7D.jpg?s=128&g=1", "display_name": "Fivell", "link": "https://stackoverflow.com/users/246544/fivell"}, "edited": false, "score": 0, "creation_date": 1481755088, "post_id": 30626514, "comment_id": 69508819, "body": "this one can help <a href=\"https://github.com/Fivell/gemfile_utils\" rel=\"nofollow noreferrer\">github.com/Fivell/gemfile_utils</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2343, "user_id": 2905173, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65bf7c9fa62e4d6306d27c7dcdc7d2b8?s=128&d=identicon&r=PG&f=1", "display_name": "user12121234", "link": "https://stackoverflow.com/users/2905173/user12121234"}, "edited": false, "score": 0, "creation_date": 1433352691, "post_id": 30626656, "comment_id": 49319587, "body": "Nice solution, tried it out but as you said lots were missing. Using license_finder I was able to generate all but 4 unknown which I then populated manually."}], "tags": [], "owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "is_accepted": false, "score": 4, "last_activity_date": 1433351899, "creation_date": 1433351899, "answer_id": 30626656, "question_id": 30626514, "link": "https://stackoverflow.com/questions/30626514/ruby-on-rails-list-all-3rd-party-library-details-licensing/30626656#30626656", "title": "Ruby on Rails - List All 3rd Party Library Details &amp; Licensing", "body": "<p>You can do something like (in the rails console)</p>\n\n<pre><code>Gem.loaded_specs.each do |name, spec|\n  puts \"#{name}: #{spec.license}\"\nend\n</code></pre>\n\n<p>AFAIK, this will only return the license if it is in the gem spec - it won't for example take any notice of a LICENSE file in the source repository. In an app I looked at around a quarter of gems didn't have a license in the gem spec.</p>\n"}, {"tags": [], "owner": {"reputation": 2343, "user_id": 2905173, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65bf7c9fa62e4d6306d27c7dcdc7d2b8?s=128&d=identicon&r=PG&f=1", "display_name": "user12121234", "link": "https://stackoverflow.com/users/2905173/user12121234"}, "is_accepted": false, "score": 0, "last_activity_date": 1433351973, "creation_date": 1433351973, "answer_id": 30626679, "question_id": 30626514, "link": "https://stackoverflow.com/questions/30626514/ruby-on-rails-list-all-3rd-party-library-details-licensing/30626679#30626679", "title": "Ruby on Rails - List All 3rd Party Library Details &amp; Licensing", "body": "<p>I found this that seemed to work very well\n<a href=\"https://github.com/pivotal/LicenseFinder\" rel=\"nofollow\">https://github.com/pivotal/LicenseFinder</a></p>\n\n<pre><code>$ gem install license_finder\n$ license_finder\n</code></pre>\n"}], "owner": {"reputation": 2343, "user_id": 2905173, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65bf7c9fa62e4d6306d27c7dcdc7d2b8?s=128&d=identicon&r=PG&f=1", "display_name": "user12121234", "link": "https://stackoverflow.com/users/2905173/user12121234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1433352034, "creation_date": 1433351457, "last_edit_date": 1433352034, "question_id": 30626514, "link": "https://stackoverflow.com/questions/30626514/ruby-on-rails-list-all-3rd-party-library-details-licensing", "title": "Ruby on Rails - List All 3rd Party Library Details &amp; Licensing", "body": "<p>My boss has tasked me with the mundane job of listing all 3rd party libraries with version and license for our back end app (rails 4).</p>\n\n<p>eg. Rails 4.2 - MIT</p>\n\n<p>Is there a command to list license along with gems with either of the following or something else? (I'm pretty noob on RoR)\n<code>gem list</code>\n<code>bundle show</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "email", "devise"], "answers": [{"comments": [{"owner": {"reputation": 1704, "user_id": 1931098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/080d676d788903407f4e99ef245ca707?s=128&d=identicon&r=PG", "display_name": "Alex Lew", "link": "https://stackoverflow.com/users/1931098/alex-lew"}, "edited": false, "score": 0, "creation_date": 1433353740, "post_id": 30626684, "comment_id": 49320245, "body": "Thanks! I put this in the controller create and update methods, and it worked. The documentation says send_confirmation_instructions triggers an email &quot;manually&quot; -- do they ever automatically trigger, or only when I call this method?"}, {"owner": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "reply_to_user": {"reputation": 1704, "user_id": 1931098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/080d676d788903407f4e99ef245ca707?s=128&d=identicon&r=PG", "display_name": "Alex Lew", "link": "https://stackoverflow.com/users/1931098/alex-lew"}, "edited": false, "score": 0, "creation_date": 1433354019, "post_id": 30626684, "comment_id": 49320391, "body": "Yes I&#39;ve definitely had Devise trigger the email automatically many times. I wonder if it <b>only</b> does it automatically upon the initial creation of the record? Updates may not trigger it."}], "tags": [], "owner": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1433351991, "last_edit_date": 1495535340, "creation_date": 1433351991, "answer_id": 30626684, "question_id": 30626513, "link": "https://stackoverflow.com/questions/30626513/when-does-devise-actually-send-reconfirmation-emails/30626684#30626684", "title": "When does Devise actually send reconfirmation emails?", "body": "<p>Assuming that you have correctly configured Devise to use the <code>:confirmable</code> feature and configured your email properly (<a href=\"https://stackoverflow.com/questions/8186584/how-do-i-set-up-email-confirmation-with-devise\">as described in this answer)</a>. Then it should be as simple as calling this:</p>\n\n<pre><code>user.send_confirmation_instructions # where user is one of your Devise users\n</code></pre>\n\n<p>At the very least, making the <code>send_confirmation_instructions</code> call should show that the email is sending in the Rails log. If that is the case but you don't ever receive an email then you have your email configured incorrectly.</p>\n"}], "owner": {"reputation": 1704, "user_id": 1931098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/080d676d788903407f4e99ef245ca707?s=128&d=identicon&r=PG", "display_name": "Alex Lew", "link": "https://stackoverflow.com/users/1931098/alex-lew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 30626684, "answer_count": 1, "score": 1, "last_activity_date": 1433351991, "creation_date": 1433351455, "question_id": 30626513, "link": "https://stackoverflow.com/questions/30626513/when-does-devise-actually-send-reconfirmation-emails", "title": "When does Devise actually send reconfirmation emails?", "body": "<p>I'm trying to add email confirmation to a model called \"Project\" in a Rails app: users should be able to set an email address for a project, which is not saved until they click a confirmation link sent to the email address provided.</p>\n\n<p>Although I have no need for its authentication features, I thought the Devise gem might be useful. I was hoping to use :reconfirmable to implement the feature: when the user tries to save an email to the project, it instead is saved to the unconfirmed_email column until they confirm.</p>\n\n<p>It appears, partly, to be working -- the database is updated correctly, a token is generated, the \"confirmation_sent_at\" field is set. But no email template is rendered (and no email is sent). Looking at the code path in lib/devise/models.rb I can see how, before the email field is saved to, a method is called that intercepts that save and instead saves to unconfirmed_email. But where is the email send actually triggered? What do I have to do to activate it?</p>\n"}, {"tags": ["ruby", "angularjs", "capybara", "automated-tests"], "comments": [{"owner": {"reputation": 732, "user_id": 958503, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AqaXx.png?s=128&g=1", "display_name": "Raza Hussain", "link": "https://stackoverflow.com/users/958503/raza-hussain"}, "edited": false, "score": 0, "creation_date": 1433409615, "post_id": 30626506, "comment_id": 49344079, "body": "can you tell me what you actually want to find ? only single value or collection?"}, {"owner": {"reputation": 5151, "user_id": 2565025, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/24803583/picture?type=large", "display_name": "Joe Susnick", "link": "https://stackoverflow.com/users/2565025/joe-susnick"}, "reply_to_user": {"reputation": 732, "user_id": 958503, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AqaXx.png?s=128&g=1", "display_name": "Raza Hussain", "link": "https://stackoverflow.com/users/958503/raza-hussain"}, "edited": false, "score": 0, "creation_date": 1433431849, "post_id": 30626506, "comment_id": 49359790, "body": "the all query should always return a collection. I&#39;m searching for an item within a collection but the issue is more that an empty array has text."}], "answers": [{"tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": false, "score": 0, "last_activity_date": 1433976346, "creation_date": 1433976346, "answer_id": 30768604, "question_id": 30626506, "link": "https://stackoverflow.com/questions/30626506/why-does-the-nil-value-or-empty-array-returned-from-a-capybara-query-have-a-text/30768604#30768604", "title": "Why does the nil value or empty array returned from a capybara query have a text property?", "body": "<p>#all returns a Capybara::Result which doesn't have a #text method - so what class is the \"empty array\" you're seeing?</p>\n"}], "owner": {"reputation": 5151, "user_id": 2565025, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/24803583/picture?type=large", "display_name": "Joe Susnick", "link": "https://stackoverflow.com/users/2565025/joe-susnick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433976346, "creation_date": 1433351430, "question_id": 30626506, "link": "https://stackoverflow.com/questions/30626506/why-does-the-nil-value-or-empty-array-returned-from-a-capybara-query-have-a-text", "title": "Why does the nil value or empty array returned from a capybara query have a text property?", "body": "<p>Crazy question. I'm testing an angularjs app using capybara, webdriver, and firefox. I have a method that return the result of a scoped query:</p>\n\n<pre><code>def all_list_items\n  page.within(list_container) { page.all(list_item) }\nend\n</code></pre>\n\n<p>And a second method to retrieve the text property of the first result.</p>\n\n<pre><code>def first_result_text\n  all_list_items.first.text\nend\n</code></pre>\n\n<p>Sometimes this returns an empty array, ie. it didn't find anything.\nWhen this happens I call .text on the empty array and it gives me all of the visible text on the screen.</p>\n\n<p>When I call .text on the first item of the empty array (so calling it on nil) it return all of the visible text on the screen.</p>\n\n<p>I'm very confused. </p>\n"}, {"tags": ["ruby", "csv", "smartercsv"], "comments": [{"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 1, "creation_date": 1433350258, "post_id": 30626063, "comment_id": 49318135, "body": "What are the contents of the CSV file you&#39;re reading? A complete, reproducible example would be great."}], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 3412353, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f3518528d6d7c0fa77f42c97776504d6?s=128&d=identicon&r=PG&f=1", "display_name": "XavM", "link": "https://stackoverflow.com/users/3412353/xavm"}, "is_accepted": true, "score": 1, "last_activity_date": 1433350682, "creation_date": 1433350682, "answer_id": 30626266, "question_id": 30626063, "link": "https://stackoverflow.com/questions/30626063/ruby-csv-works-while-smartecsv-doesnt/30626266#30626266", "title": "Ruby - CSV works while SmarteCSV doesn&#39;t", "body": "<p>The problem could come from the line separator, the file is not exactly the same if you're using windows or unix system (\"\\r\\n\" or \"\\r\"). Try to identify and specify the character in the SmarterCSV.process like this: </p>\n\n<pre><code>market_csv = SmarterCSV.process(market, row_sep: \"\\r\")\np \"just read #{market_csv}\"\n</code></pre>\n\n<p>or like this: </p>\n\n<pre><code>market_csv = SmarterCSV.process(market, row_sep: :auto)\np \"just read #{market_csv}\"\n</code></pre>\n"}], "owner": {"reputation": 15768, "user_id": 3122885, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fe1eced7899a319fb446e04b63ac7eea?s=128&d=identicon&r=PG&f=1", "display_name": "octavian", "link": "https://stackoverflow.com/users/3122885/octavian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 30626266, "answer_count": 1, "score": 0, "last_activity_date": 1433350682, "creation_date": 1433350024, "last_edit_date": 1433350429, "question_id": 30626063, "link": "https://stackoverflow.com/questions/30626063/ruby-csv-works-while-smartecsv-doesnt", "title": "Ruby - CSV works while SmarteCSV doesn&#39;t", "body": "<p>I want to open a <code>csv</code> file using <code>SmarterCSV.process</code></p>\n\n<pre><code>  market_csv = SmarterCSV.process(market)\n  p \"just read #{market_csv}\"\n</code></pre>\n\n<p>The problem is that the data is not read and this prints:</p>\n\n<pre><code>[]\n</code></pre>\n\n<p>However, if I attempt the same thing with the default CSV library implementation the content of the file is read(the following print statement prints the file).</p>\n\n<pre><code>CSV.foreach(market) do |row|\n    p row\nend\n</code></pre>\n\n<p>The content of the file I was reading is of the form:</p>\n\n<pre><code>Date,Close\n03/06/15,0.1634\n02/06/15,0.1637\n01/06/15,0.1638\n31/05/15,0.1638\n</code></pre>\n"}, {"tags": ["ruby", "require", "mixins", "voltrb"], "comments": [{"owner": {"reputation": 3449, "user_id": 803948, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/czB2R.jpg?s=128&g=1", "display_name": "neurodynamic", "link": "https://stackoverflow.com/users/803948/neurodynamic"}, "edited": false, "score": 0, "creation_date": 1433351637, "post_id": 30626017, "comment_id": 49318966, "body": "Using Volt version 0.9.2"}], "answers": [{"tags": [], "owner": {"reputation": 876, "user_id": 368602, "user_type": "registered", "profile_image": "https://graph.facebook.com/144900684/picture?type=large", "display_name": "Ryan", "link": "https://stackoverflow.com/users/368602/ryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1433352385, "creation_date": 1433352385, "answer_id": 30626820, "question_id": 30626017, "link": "https://stackoverflow.com/questions/30626017/requiring-files-in-the-volt-framework/30626820#30626820", "title": "Requiring files in the Volt Framework", "body": "<p>Sorry this is unclear, I'll try and update the docs to make it easier.  So the app folder is what's on the load path.  So you can require from there.</p>\n\n<p>require 'component_2/mixings/my_mixin'</p>\n"}], "owner": {"reputation": 3449, "user_id": 803948, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/czB2R.jpg?s=128&g=1", "display_name": "neurodynamic", "link": "https://stackoverflow.com/users/803948/neurodynamic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 30626820, "answer_count": 1, "score": 1, "last_activity_date": 1433352385, "creation_date": 1433349854, "last_edit_date": 1433351451, "question_id": 30626017, "link": "https://stackoverflow.com/questions/30626017/requiring-files-in-the-volt-framework", "title": "Requiring files in the Volt Framework", "body": "<p>I have a mixin I want to include in a few different classes in a Volt app. Pertinent structure as follows:</p>\n\n<p>Including file path: <code>app/component_1/models/my_model.rb</code></p>\n\n<p>Included file path: <code>app/component_2/mixins/my_mixin.rb</code></p>\n\n<p><strong>Here's what I've tried:</strong></p>\n\n<p><code>require \"#{Volt.root}/app/component_2/mixins/my_mixin\"</code> yields this error in the server output when loading a page: <code>SyntaxError: Cannot handle dynamic require</code></p>\n\n<p><code>require \"app/component_2/mixins/my_mixin\"</code> yields this error when starting the server: <code>in `require': cannot load such file</code></p>\n\n<p><code>require_relative \"../../component_2/mixins/my_mixin\"</code> yields this error in the server output when loading a page: <code>Opal::Builder::MissingRequire: A file required by \"app.rb\" wasn't found. can't find file: \"../../component_2/mixins/my_mixin\"</code></p>\n\n<p><code>require \"./app/component_2/mixins/my_mixin\"</code> yields this error in the javascript console when loading a page: <code>Uncaught RuntimeError: no routes match path: /</code></p>\n\n<p>Not sure what else to try?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1433354284, "post_id": 30625949, "comment_id": 49320554, "body": "Welcome to Stack Overflow. We&#39;d like to see your code. It helps us see what you&#39;ve tried and allows us to correct your mistake without guessing about what it could be."}, {"owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "edited": false, "score": 0, "creation_date": 1433356365, "post_id": 30625949, "comment_id": 49321768, "body": "Why would you need to do this for rails? anyway you should probably just use <code>require</code>"}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1433374358, "post_id": 30625949, "comment_id": 49330736, "body": "So - am i reading this right that you want to run the ruby code held in another file, and then access the result?"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4970522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9794d7bb68ea66aaeb1af97f82e4748f?s=128&d=identicon&r=PG&f=1", "display_name": "Esad", "link": "https://stackoverflow.com/users/4970522/esad"}, "edited": false, "score": 0, "creation_date": 1433352189, "post_id": 30625982, "comment_id": 49319312, "body": "Thank you for the answer. I tried, but it didn&#39;t work for me. I have two ruby files in a folder, teszt1.rb and teszt2.rb, teszt1.rb has one line: print &quot;example&quot;, teszt2.rb has one line: output = <code>ruby teszt1.rb</code> . But i got an error &quot;No such file or directory - ruby teszt1.rb&quot;"}, {"owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "reply_to_user": {"reputation": 107, "user_id": 4970522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9794d7bb68ea66aaeb1af97f82e4748f?s=128&d=identicon&r=PG&f=1", "display_name": "Esad", "link": "https://stackoverflow.com/users/4970522/esad"}, "edited": false, "score": 0, "creation_date": 1433352698, "post_id": 30625982, "comment_id": 49319592, "body": "I&#39;m not sure what the problem is. Try using the full path to teszt1.rb and see if that makes a difference"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "reply_to_user": {"reputation": 107, "user_id": 4970522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9794d7bb68ea66aaeb1af97f82e4748f?s=128&d=identicon&r=PG&f=1", "display_name": "Esad", "link": "https://stackoverflow.com/users/4970522/esad"}, "edited": false, "score": 0, "creation_date": 1433354360, "post_id": 30625982, "comment_id": 49320597, "body": "@Esad, you need to show us a minimal example of your code that demonstrates what you&#39;re trying to do. Explaining a problem doesn&#39;t do nearly as well as actually showing code that demonstrates it."}, {"owner": {"reputation": 107, "user_id": 4970522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9794d7bb68ea66aaeb1af97f82e4748f?s=128&d=identicon&r=PG&f=1", "display_name": "Esad", "link": "https://stackoverflow.com/users/4970522/esad"}, "edited": false, "score": 0, "creation_date": 1433510161, "post_id": 30625982, "comment_id": 49397069, "body": "I have 2 ruby files in C:\\Ruby22\\bin. teszt1.rb contains this:  #!/usr/bin/env ruby # encoding: UTF-8  the output = <code>ruby teszt2.rb</code>  teszt2.rb contains this:  print &quot;0&quot;  I open cmd, go to C:\\Ruby22\\bin, and type ruby teszt1.rb, i got an error: No such file or directory - ruby teszt2.rb. What am i doing wrong? Thank you guys for helping."}, {"owner": {"reputation": 107, "user_id": 4970522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9794d7bb68ea66aaeb1af97f82e4748f?s=128&d=identicon&r=PG&f=1", "display_name": "Esad", "link": "https://stackoverflow.com/users/4970522/esad"}, "edited": false, "score": 0, "creation_date": 1433527858, "post_id": 30625982, "comment_id": 49408102, "body": "I tried it on a different computer, and it worked perfectly. Thank you for the answer!"}], "tags": [], "owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "is_accepted": true, "score": 2, "last_activity_date": 1433529215, "last_edit_date": 1433529215, "creation_date": 1433349746, "answer_id": 30625982, "question_id": 30625949, "link": "https://stackoverflow.com/questions/30625949/in-a-ruby-file-how-can-i-get-another-ruby-files-result/30625982#30625982", "title": "In a ruby file, how can i get another ruby file&#39;s result?", "body": "<pre><code>the_output = `ruby my_other_file.rb`\n</code></pre>\n\n<p>notice that these are backticks, not regular quotes</p>\n"}, {"tags": [], "owner": {"reputation": 798, "user_id": 3412353, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f3518528d6d7c0fa77f42c97776504d6?s=128&d=identicon&r=PG&f=1", "display_name": "XavM", "link": "https://stackoverflow.com/users/3412353/xavm"}, "is_accepted": false, "score": 0, "last_activity_date": 1433351352, "creation_date": 1433351352, "answer_id": 30626473, "question_id": 30625949, "link": "https://stackoverflow.com/questions/30625949/in-a-ruby-file-how-can-i-get-another-ruby-files-result/30626473#30626473", "title": "In a ruby file, how can i get another ruby file&#39;s result?", "body": "<p>You can also require the first file in the second one and use the result</p>\n\n<p>test.rb</p>\n\n<pre><code>@a = 1+1\n</code></pre>\n\n<p>test2.rb</p>\n\n<pre><code>require \"test.rb\"\nc = @a + 1\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4970522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9794d7bb68ea66aaeb1af97f82e4748f?s=128&d=identicon&r=PG&f=1", "display_name": "Esad", "link": "https://stackoverflow.com/users/4970522/esad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 30625982, "answer_count": 2, "score": 2, "last_activity_date": 1433529215, "creation_date": 1433349632, "question_id": 30625949, "link": "https://stackoverflow.com/questions/30625949/in-a-ruby-file-how-can-i-get-another-ruby-files-result", "title": "In a ruby file, how can i get another ruby file&#39;s result?", "body": "<p>I would like to use in my ruby file another ruby file's result. For example, if the other file has a print \"example\" line, i would like to use the string \"example\" in my original ruby file.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "command-line-arguments", "rake-task"], "comments": [{"owner": {"reputation": 323, "user_id": 2694238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gXsox.jpg?s=128&g=1", "display_name": "Niyanta", "link": "https://stackoverflow.com/users/2694238/niyanta"}, "reply_to_user": {"reputation": 34214, "user_id": 1141839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b5c46e3c79ab446329ff05949594cd?s=128&d=identicon&r=PG", "display_name": "PinnyM", "link": "https://stackoverflow.com/users/1141839/pinnym"}, "edited": false, "score": 0, "creation_date": 1433349695, "post_id": 30625682, "comment_id": 49317794, "body": "I am not really sure why is this a duplicate, since I am not sure how that question can solve my problem. Please elaborate if u can."}, {"owner": {"reputation": 34214, "user_id": 1141839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b5c46e3c79ab446329ff05949594cd?s=128&d=identicon&r=PG", "display_name": "PinnyM", "link": "https://stackoverflow.com/users/1141839/pinnym"}, "edited": false, "score": 0, "creation_date": 1433350223, "post_id": 30625682, "comment_id": 49318116, "body": "In the first example of the accepted answer, you can see that <code>args</code> can be accessed as a hash, so <code>args[:arg1]</code> would yield the first argument, and so on."}], "answers": [{"tags": [], "owner": {"reputation": 25573, "user_id": 676874, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c8e67ec01dc3e7c402255ff26785863f?s=128&d=identicon&r=PG", "display_name": "knut", "link": "https://stackoverflow.com/users/676874/knut"}, "is_accepted": true, "score": 1, "last_activity_date": 1433357663, "creation_date": 1433357663, "answer_id": 30628362, "question_id": 30625682, "link": "https://stackoverflow.com/questions/30625682/passing-arguments-to-a-method-in-rake-task/30628362#30628362", "title": "Passing arguments to a method in Rake Task", "body": "<p>You have access to the parameter like a hash-parameter (1):</p>\n\n<pre><code>task :daily_sales_commission, [:arg1, :arg2] do |t,args|\n  #args can be treated like a hash.\n  get_date(args[:arg1], args[:arg2]) #&lt;- call your method\nend\n\ndef get_date(arg1,arg2)\n    #some code\nend\n</code></pre>\n\n<p>These parameters are not common command line parameters, you must use them directly as parameters of the rake parameter. The example takes 1 and 2 as parameter values:</p>\n\n<pre><code>rake daily_sales_commission[1,2]\n</code></pre>\n\n<p>(1) It is not a Hash, it is a Rake::TaskArguments-object. But you can also use the <code>[]</code> to access the parameters.</p>\n"}], "owner": {"reputation": 323, "user_id": 2694238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gXsox.jpg?s=128&g=1", "display_name": "Niyanta", "link": "https://stackoverflow.com/users/2694238/niyanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 0, "closed_date": 1434100420, "accepted_answer_id": 30628362, "answer_count": 1, "score": 1, "last_activity_date": 1433357663, "creation_date": 1433348785, "question_id": 30625682, "link": "https://stackoverflow.com/questions/30625682/passing-arguments-to-a-method-in-rake-task", "closed_reason": "Duplicate", "title": "Passing arguments to a method in Rake Task", "body": "<p>I have a Rake task wherein I am taking two arguments from command line and i need to pass those arguments to the method inside the task. How do I do that?</p>\n\n<pre><code>namespace :auto_sales_commission do\n   desc \"Process for Daily Summary Commission\"\n   task :daily_sales_commission,[:arg1, :arg2] =&gt; :environment do |t,args|\n        #some code\n   end\n\n   def get_date(arg1,arg2)\n        #some code\n   end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "activeadmin"], "answers": [{"comments": [{"owner": {"reputation": 4222, "user_id": 2127383, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/JzNFk.jpg?s=128&g=1", "display_name": "Paladini", "link": "https://stackoverflow.com/users/2127383/paladini"}, "edited": false, "score": 0, "creation_date": 1463319106, "post_id": 30626707, "comment_id": 62006656, "body": "Please, since you solved the problem mark your answer as the correct one."}], "tags": [], "owner": {"reputation": 2240, "user_id": 1191514, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/926dfdf1022b7cd63c01a66e899fbcad?s=128&d=identicon&r=PG", "display_name": "venkat", "link": "https://stackoverflow.com/users/1191514/venkat"}, "is_accepted": true, "score": 1, "last_activity_date": 1433352071, "creation_date": 1433352071, "answer_id": 30626707, "question_id": 30625620, "link": "https://stackoverflow.com/questions/30625620/testing-your-activeadmin-resources-with-rspec/30626707#30626707", "title": "Testing your ActiveAdmin resources with RSpec", "body": "<p>Just by changing </p>\n\n<blockquote>\n  <p>require 'spec_helper'</p>\n</blockquote>\n\n<p>to </p>\n\n<blockquote>\n  <p>require 'rails_helper'</p>\n</blockquote>\n\n<p>the error was resolved.</p>\n"}], "owner": {"reputation": 2240, "user_id": 1191514, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/926dfdf1022b7cd63c01a66e899fbcad?s=128&d=identicon&r=PG", "display_name": "venkat", "link": "https://stackoverflow.com/users/1191514/venkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1154, "favorite_count": 0, "accepted_answer_id": 30626707, "answer_count": 1, "score": 1, "last_activity_date": 1433352071, "creation_date": 1433348529, "question_id": 30625620, "link": "https://stackoverflow.com/questions/30625620/testing-your-activeadmin-resources-with-rspec", "title": "Testing your ActiveAdmin resources with RSpec", "body": "<p>I am new to Rails. I want to test my activeadmin resources as mentioned in the following link</p>\n\n<p><a href=\"https://github.com/activeadmin/activeadmin/wiki/Testing-your-ActiveAdmin-controllers-with-RSpec\" rel=\"nofollow\">https://github.com/activeadmin/activeadmin/wiki/Testing-your-ActiveAdmin-controllers-with-RSpec</a></p>\n\n<p>My simple test as follows</p>\n\n<pre><code>require 'spec_helper'\n\ndescribe \"activeadmin resources\" do\n\n  it \"should have admin user resource\" do\n\n    ActiveAdmin.application.namespaces[:admin].resources.should have_key(\"AdminUser\")\n\n  end\n\nend\n</code></pre>\n\n<p>But I am getting the error</p>\n\n<pre><code>NameError: uninitialized constant ActiveAdmin`\n</code></pre>\n\n<p>I tried to require activeadmin gem in spec_helper, but no use. Any idea?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1433348923, "post_id": 30625616, "comment_id": 49317351, "body": "Normally you&#39;d see this as <code>render(action: &#39;new&#39;)</code>. Specifying the full filename is problematic as it forces a particular response type where you might have several formats supported."}, {"owner": {"reputation": 1521, "user_id": 1274846, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/048371ccb94bbd3aae9ac0ca20c0a31c?s=128&d=identicon&r=PG", "display_name": "Trinculo", "link": "https://stackoverflow.com/users/1274846/trinculo"}, "edited": false, "score": 0, "creation_date": 1433349449, "post_id": 30625616, "comment_id": 49317651, "body": "I usually use <code>render :new</code>, but when I just did a test <code>render :new</code> and <code>render &#39;new.html.erb&#39;</code> both work?  I would probably just stick to <code>render :new</code> though."}], "owner": {"reputation": 5463, "user_id": 4695064, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-KpAhKljoGO4/AAAAAAAAAAI/AAAAAAAAAHU/fb44qBeaDww/photo.jpg?sz=128", "display_name": "raj", "link": "https://stackoverflow.com/users/4695064/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433348778, "creation_date": 1433348520, "last_edit_date": 1433348778, "question_id": 30625616, "link": "https://stackoverflow.com/questions/30625616/is-there-any-difference-between-render-new-and-render-new-html-erb", "title": "Is there any difference between &quot;render new&quot; and &quot;render new.html.erb&quot;?", "body": "<p>I have a <code>create</code> action in my <code>users</code> controller:</p>\n\n<pre><code>def create\n  @user= User.new(user_params)\n  if @user.save\n    #success action filled\n  else\n    render 'new'\n  end\nend\n</code></pre>\n\n<p>and the test to check if the template on wrong invalid user inform:</p>\n\n<pre><code>test \"user input error\" do\n  get signup_path\n  assert_no_difference 'User.count' do\n    post users_path,user:{name:\"raj\",email:\"sad\",password:\"sad\",password_confirmation:\"sad\"}\n  end\n  assert_template 'new'\nend\n</code></pre>\n\n<p>is passing. but when I change the <code>render new</code> to <code>render new.html.erb</code>, it fails.</p>\n\n<pre><code>expecting &lt;\"users/new.html.erb\"&gt; but rendering with &lt;[\"shared/_error_messages\", \"users/new\", \"layouts/_shim\", \"layouts/_header.html.erb\", \"layouts/_footer.html.erb\", \"layouts/application\"]&gt;\n</code></pre>\n\n<p>These are other layouts in the page. Can someone explain why this is happening? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "server"], "comments": [{"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433347318, "post_id": 30625140, "comment_id": 49316381, "body": "uncomment <code>gem &#39;therubyracer&#39;, platforms: :ruby</code> in your Gemfile"}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433347824, "post_id": 30625140, "comment_id": 49316702, "body": "Please do <code>bundle install</code> after adding &#39;therubyracer&#39; gem"}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433348196, "post_id": 30625140, "comment_id": 49316924, "body": "I will post it as a answer please accept:)"}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 4954315, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10206934015893932/picture?type=large", "display_name": "Francisco Possetto", "link": "https://stackoverflow.com/users/4954315/francisco-possetto"}, "edited": false, "score": 0, "creation_date": 1433521362, "post_id": 30625267, "comment_id": 49404727, "body": "Thanks! I fix this problem!"}], "tags": [], "owner": {"reputation": 411, "user_id": 289090, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bc5158691ed0c18ce2c1b447745346d?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/289090/jason"}, "is_accepted": false, "score": 3, "last_activity_date": 1433347536, "last_edit_date": 1495541158, "creation_date": 1433347536, "answer_id": 30625267, "question_id": 30625140, "link": "https://stackoverflow.com/questions/30625140/i-can%c2%b4t-run-server-in-ubuntu-14-02-with-ruby-2-2-2-and-rails-4/30625267#30625267", "title": "I can&#180;t run server in Ubuntu 14.02 with ruby 2.2.2 and Rails 4", "body": "<p>This seems like a similar question to <a href=\"https://stackoverflow.com/questions/6282307/execjs-and-could-not-find-a-javascript-runtime\">ExecJS and could not find a JavaScript runtime</a>. The resolution here was to ensure NodeJS was installed on the machine:</p>\n\n<p><code>sudo apt-get install nodejs</code></p>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 4954315, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10206934015893932/picture?type=large", "display_name": "Francisco Possetto", "link": "https://stackoverflow.com/users/4954315/francisco-possetto"}, "edited": false, "score": 0, "creation_date": 1434141814, "post_id": 30625515, "comment_id": 49671829, "body": "Thanks ! I implemeted this solucion. The problem has been solved !"}], "tags": [], "owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "is_accepted": false, "score": 1, "last_activity_date": 1433348245, "creation_date": 1433348245, "answer_id": 30625515, "question_id": 30625140, "link": "https://stackoverflow.com/questions/30625140/i-can%c2%b4t-run-server-in-ubuntu-14-02-with-ruby-2-2-2-and-rails-4/30625515#30625515", "title": "I can&#180;t run server in Ubuntu 14.02 with ruby 2.2.2 and Rails 4", "body": "<p>uncomment </p>\n\n<p><code>gem 'therubyracer', platforms: :ruby</code></p>\n\n<p>in your Gemfile.</p>\n\n<p>Please do </p>\n\n<p><code>bundle install</code></p>\n\n<p>after adding 'therubyracer' gem</p>\n"}], "owner": {"reputation": 329, "user_id": 4954315, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10206934015893932/picture?type=large", "display_name": "Francisco Possetto", "link": "https://stackoverflow.com/users/4954315/francisco-possetto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1433348245, "creation_date": 1433347159, "last_edit_date": 1433347373, "question_id": 30625140, "link": "https://stackoverflow.com/questions/30625140/i-can%c2%b4t-run-server-in-ubuntu-14-02-with-ruby-2-2-2-and-rails-4", "title": "I can&#180;t run server in Ubuntu 14.02 with ruby 2.2.2 and Rails 4", "body": "<p>I\u00b4ve a problem when run Rails server. I just installed gem server, but still not working. I am new to the world of programming . I am grateful to anyone who can help me.</p>\n\n<p>Copy an image of the error:  <a href=\"http://i.stack.imgur.com/wS7oS.png\" rel=\"nofollow\">http://i.stack.imgur.com/wS7oS.png</a>.</p>\n\n<pre><code>/home/hugo/.rvm/gems/ruby-2.2.2/gems/activesupport-4.0.5/lib/active_support/values/time_zone.rb:283: warning: circular argument reference - now\n/home/hugo/.rvm/gems/ruby-2.2.2/gems/execjs-2.5.2/lib/execjs/runtimes.rb:48:in `autodetect': Could not find a JavaScript runtime. See https://github.com/rails/execjs for a list of available runtimes. (ExecJS::RuntimeUnavailable)\n\nfrom /home/hugo/.rvm/gems/ruby-2.2.2/gems/execjs-2.5.2/lib/execjs.rb:5:in `&lt;module:ExecJS&gt;'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/execjs-2.5.2/lib/execjs.rb:4:in `&lt;top (required)&gt;'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/uglifier-2.7.1/lib/uglifier.rb:3:in `require'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/uglifier-2.7.1/lib/uglifier.rb:3:in `&lt;top (required)&gt;'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/bundler-1.10.2/lib/bundler/runtime.rb:76:in `require'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/bundler-1.10.2/lib/bundler/runtime.rb:76:in `block (2 levels) in require'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/bundler-1.10.2/lib/bundler/runtime.rb:72:in `each'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/bundler-1.10.2/lib/bundler/runtime.rb:72:in `block in require'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/bundler-1.10.2/lib/bundler/runtime.rb:61:in `each'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/bundler-1.10.2/lib/bundler/runtime.rb:61:in `require'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/bundler-1.10.2/lib/bundler.rb:133:in `require'\n    from /home/hugo/pin_board/config/application.rb:7:in `&lt;top (required)&gt;'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/railties-4.0.5/lib/rails/commands.rb:74:in `require'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/railties-4.0.5/lib/rails/commands.rb:74:in `block in &lt;top (required)&gt;'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/railties-4.0.5/lib/rails/commands.rb:71:in `tap'\n    from /home/hugo/.rvm/gems/ruby-2.2.2/gems/railties-4.0.5/lib/rails/commands.rb:71:in `&lt;top (required)&gt;'\n    from bin/rails:4:in `require'\n    from bin/rails:4:in `&lt;main&gt;'\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1433346081, "post_id": 30624699, "comment_id": 49315526, "body": "Do you want to know the first duplicate character or the index of where it occurs? Does <code>tester</code> count as duplicated since it has two <code>e</code> characters, or are you intending to find things like <code>billing</code>?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1433346100, "post_id": 30624699, "comment_id": 49315537, "body": "You&#39;d need to iterate through the string, keeping a set of already-found characters, and stop iterating as soon as the set contains the current character. One way to access string chars is using array index notation, e.g., <code>s[0]</code> etc. Another is to iterate using <code>each_char</code>. There are many options."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1433346522, "post_id": 30624699, "comment_id": 49315824, "body": "Welcome to Stack Overflow. Your code generates a syntax error error &quot;<code>undefined method &#39;string&#39; for main:Object (NoMethodError)</code>&quot;. Perhaps that&#39;s because you didn&#39;t copy your code into the question correctly? &quot;Questions seeking debugging help (&#39;why isn&#39;t this code working?&#39;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>.&quot;"}, {"owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "edited": false, "score": 0, "creation_date": 1433355311, "post_id": 30624699, "comment_id": 49321170, "body": "Convert to array and use <code>detect</code>? see my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 0, "creation_date": 1433346969, "post_id": 30624930, "comment_id": 49316144, "body": "How does this work?  What part of that regex identifies duplication?"}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433347114, "post_id": 30624930, "comment_id": 49316233, "body": "I don&#39;t want the index of the string but the character itself. So for instance for your string I would want the output to be 5."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 1, "creation_date": 1433347157, "post_id": 30624930, "comment_id": 49316266, "body": "@ShailiParikh I specifically asked what you wanted in the comments above. It really would&#39;ve helped to have said that up front."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433347658, "post_id": 30624930, "comment_id": 49316590, "body": "why the result is <code>4</code> not <code>5</code> ?"}, {"owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433347660, "post_id": 30624930, "comment_id": 49316591, "body": "@ShailiParikh the character is saved in the variable $1"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433347731, "post_id": 30624930, "comment_id": 49316635, "body": "@R_O_R Because that&#39;s the index, not the character."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433347741, "post_id": 30624930, "comment_id": 49316639, "body": "Shaili, that&#39;s a minor change to David&#39;s answer. If <code>r</code> is his regular expression, the first duplicate character is  <code>the_string[r]</code> or <code>the_string[the_string =~ r]</code> (or even simpler: see David&#39;s edit)."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "reply_to_user": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433347750, "post_id": 30624930, "comment_id": 49316648, "body": "@R_O_R so the index number starts with 0 right. The index for 5 is 4 since it is duplicated."}, {"owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "reply_to_user": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 1, "creation_date": 1433348939, "post_id": 30624930, "comment_id": 49317357, "body": "@JaredBeck the (.) part of the regex matches any character and captures it in $1 and the \\1 part of the regex matches any duplicate of $1"}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433349919, "post_id": 30624930, "comment_id": 49317923, "body": "@davidrac Is there any way I can make this an if statement and also return something if there are no duplicates?"}, {"owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433350199, "post_id": 30624930, "comment_id": 49318097, "body": "@ShailiParikh yes. In case there is no duplication, the first expression will return nil: &#39;123456&#39; =~ /(.)\\1/ =&gt; nil so you may write something like: <code>if my_string =~ &#47;(.)\\1&#47;   # do something with $1 else   # there is no match end</code> sorry for the bad indentation, see my edit for proper one"}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433351690, "post_id": 30624930, "comment_id": 49319006, "body": "@davidrac I tried to do it but I am getting the output to be No duplicates 26 times. Please check out my edit."}, {"owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433353052, "post_id": 30624930, "comment_id": 49319835, "body": "@ShailiParikh my answer is about finding two adjacent duplicate letters. I guess from your code that you are looking for something else..."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1433353857, "post_id": 30624930, "comment_id": 49320303, "body": "@CarySwoveland  Mostly just disturbed ;)"}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433355125, "post_id": 30624930, "comment_id": 49321064, "body": "@davidrac check out the code by Yevgeniy Anfilofyev. How do I put if in it?"}], "tags": [], "owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "is_accepted": false, "score": 5, "last_activity_date": 1581626312, "last_edit_date": 1581626312, "creation_date": 1433346592, "answer_id": 30624930, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby/30624930#30624930", "title": "Finding the first duplicate character in the string Ruby", "body": "<p>The following returns the <em>index</em> of the first duplicate character:</p>\n\n<pre><code>the_string =~ /(.)\\1/\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>'1234556' =~ /(.)\\1/\n=&gt; 4\n</code></pre>\n\n<p>To get the duplicate character itself, use <code>$1</code>:</p>\n\n<pre><code>$1\n=&gt; \"5\"\n</code></pre>\n\n<p>Example usage in an <code>if</code> statement:</p>\n\n<pre><code>if my_string =~ /(.)\\1/\n  # found duplicate; potentially do something with $1\nelse\n  # there is no match\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1433354409, "post_id": 30625102, "comment_id": 49320634, "body": "Consider the simplification: <code>s.each_char.find { |c| s.count(c) &gt; 1 }</code>. Note that <code>s.each_char</code> is an enumerator, which is more efficient than the (temporary) array <code>s.chars</code>. In any event, this is a solution to the second interpretation of the question I gave in my answer. +1."}], "tags": [], "owner": {"reputation": 1099, "user_id": 2799029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea432dc7b47d95cba6b39b0446feb5e?s=128&d=identicon&r=PG&f=1", "display_name": "floum", "link": "https://stackoverflow.com/users/2799029/floum"}, "is_accepted": true, "score": 3, "last_activity_date": 1433430775, "last_edit_date": 1495535479, "creation_date": 1433347054, "answer_id": 30625102, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby/30625102#30625102", "title": "Finding the first duplicate character in the string Ruby", "body": "<pre><code>s.chars.map { |c| [c, s.count(c)] }.drop_while{|i| i[1] &lt;= 1}.first[0]\n</code></pre>\n\n<p>With the refined form from <a href=\"https://stackoverflow.com/users/256970/cary-swoveland\">Cary Swoveland</a> :</p>\n\n<pre><code>s.each_char.find { |c| s.count(c) &gt; 1 }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433354540, "post_id": 30625438, "comment_id": 49320725, "body": "Alas, @Davidrac&#39;s solution achieve&#39;s the same result, but is simpler."}], "tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": false, "score": 0, "last_activity_date": 1433348034, "creation_date": 1433348034, "answer_id": 30625438, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby/30625438#30625438", "title": "Finding the first duplicate character in the string Ruby", "body": "<p>I'll use <em>positive lookahead</em> with <code>String#[]</code> method :</p>\n\n<pre><code>\"abcccddde\"[/(.)(?=\\1)/] #=&gt; c\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433350633, "post_id": 30625462, "comment_id": 49318330, "body": "I am also trying to output a value when there are no duplicates in the string. How do I make this an if statement?"}], "tags": [], "owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "is_accepted": false, "score": 0, "last_activity_date": 1433348113, "creation_date": 1433348113, "answer_id": 30625462, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby/30625462#30625462", "title": "Finding the first duplicate character in the string Ruby", "body": "<p>As a variant:</p>\n\n<pre><code>str = \"abcdeff\"\np str.chars.group_by{|c| c}.find{|el| el[1].size &gt; 1}[0]\n</code></pre>\n\n<p>prints \"f\"</p>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1433354893, "last_edit_date": 1433354893, "creation_date": 1433352160, "answer_id": 30626732, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby/30626732#30626732", "title": "Finding the first duplicate character in the string Ruby", "body": "<p>I believe the question can be interpreted in either of two ways (neither involving the first <em>pair</em> of adjacent characters that are the same) and offer solutions to each.</p>\n\n<p><strong>Find the first character in the string that is preceded by the same character</strong></p>\n\n<p>I don't believe we can use a regex for this (but would love to be proved wrong). I would use the method suggested in a comment by @DaveNewton:</p>\n\n<pre><code>require 'set'\n\ndef first_repeat_char(str)\n  str.each_char.with_object(Set.new) { |c,s| return c unless s.add?(c) }\n  nil\nend\n\nfirst_repeat_char(\"abcdebf\") #=&gt; b\nfirst_repeat_char(\"abcdcbe\") #=&gt; c\nfirst_repeat_char(\"abcdefg\") #=&gt; nil\n</code></pre>\n\n<p><strong>Find the first character in the string that appears more than once</strong></p>\n\n<pre><code>r = /\n    (.) # match any character in capture group #1\n    .*  # match any character zero of more times\n    ?   # do the preceding lazily\n    \\K  # forget everything matched so far\n    \\1  # match the contents of capture group 1\n    /x\n\n\"abcdebf\"[r] #=&gt; b\n\"abccdeb\"[r] #=&gt; b\n\"abcdefg\"[r] #=&gt; nil\n</code></pre>\n\n<p>This regex is fine, but produces the warning, \"regular expression has redundant nested repeat operator '*'\". You can disregard the warning or suppress it by doing something clunky, like:</p>\n\n<pre><code>r = /([^#{0.chr}]).*?\\K\\1/\n</code></pre>\n\n<p>where <code>([^#{0.chr}])</code> means \"match any character other than <code>0.chr</code> in capture group 1\".</p>\n\n<p>Note that a positive lookbehind cannot be used here, as they cannot contain variable-length matches (i.e., <code>.*</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433355559, "post_id": 30627618, "comment_id": 49321326, "body": "Thank you. You&#39;re awesome!"}, {"owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433355846, "post_id": 30627618, "comment_id": 49321498, "body": "Cool - feel free to mark this as correct and upvote if this works :). Also if you expect spaces in <code>#{gets}</code> you can just remove them."}], "tags": [], "owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1433356016, "last_edit_date": 1433356016, "creation_date": 1433355117, "answer_id": 30627618, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby/30627618#30627618", "title": "Finding the first duplicate character in the string Ruby", "body": "<p>You could probably make your <code>string</code> an array and use <code>detect</code>. This should return the first char where the count is > 1.</p>\n\n<pre><code>string.split(\"\").detect {|x| string.count(x) &gt; 1}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238, "user_id": 804549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e48bf91619a1ccfa441abc94f3ef621?s=128&d=identicon&r=PG", "display_name": "Twinkalkumar Savani", "link": "https://stackoverflow.com/users/804549/twinkalkumar-savani"}, "edited": false, "score": 0, "creation_date": 1491307178, "post_id": 43206524, "comment_id": 73484569, "body": "You&#39;re awesome!"}], "tags": [], "owner": {"reputation": 692, "user_id": 4256719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ESoCR.jpg?s=128&g=1", "display_name": "Jagdish", "link": "https://stackoverflow.com/users/4256719/jagdish"}, "is_accepted": false, "score": 2, "last_activity_date": 1491307888, "last_edit_date": 1491307888, "creation_date": 1491306878, "answer_id": 43206524, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby/43206524#43206524", "title": "Finding the first duplicate character in the string Ruby", "body": "<p>Below method might be useful to find the first word in a string</p>\n\n<pre><code>def firstRepeatedWord(string)\n  h_data = Hash.new(0)\n  string.split(\" \").each{|x| h_data[x] +=1}\n  h_data.key(h_data.values.max)\nend\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5166, "favorite_count": 0, "accepted_answer_id": 30625102, "answer_count": 7, "score": 0, "last_activity_date": 1581626312, "creation_date": 1433345937, "last_edit_date": 1433351981, "question_id": 30624699, "link": "https://stackoverflow.com/questions/30624699/finding-the-first-duplicate-character-in-the-string-ruby", "title": "Finding the first duplicate character in the string Ruby", "body": "<p>I am trying to call the first duplicate character in my string in Ruby. \nI have defined an input string using gets.</p>\n\n<p>How do I call the first duplicate character in the string?</p>\n\n<p>This is my code so far.</p>\n\n<pre><code>string = \"#{gets}\"\nprint string\n</code></pre>\n\n<p>How do I call a character from this string?</p>\n\n<p>Edit 1:</p>\n\n<p>This is the code I have now where my output is coming out to me No duplicates 26 times. I think my if statement is wrongly written.</p>\n\n<pre><code>string \"abcade\"\nputs string\nfor i in ('a'..'z')\nif string =~ /(.)\\1/\nputs string.chars.group_by{|c| c}.find{|el| el[1].size &gt;1}[0]\nelse\nputs \"no duplicates\"\nend\nend\n</code></pre>\n\n<p>My second puts statement works but with the for and if loops, it returns no duplicates 26 times whatever the string is. </p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "ajax", "forms"], "comments": [{"owner": {"reputation": 616, "user_id": 4685699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94104871d02b317ef507a0a366c41f72?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/4685699/clark"}, "edited": false, "score": 0, "creation_date": 1433345913, "post_id": 30624536, "comment_id": 49315392, "body": "Based on your server log, everything seems to be working correctly, though everything appearing twice is a bit odd. Could you add a <code>console.log(&quot;Test&quot;);</code> or <code>alert(&quot;Test&quot;);</code> to your <code>create.js.erb</code> and see if that runs?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1433345939, "post_id": 30624536, "comment_id": 49315409, "body": "Have you checked for JavaScript errors? Everything seems okay otherwise."}, {"owner": {"reputation": 9878, "user_id": 3315785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YsMo6.jpg?s=128&g=1", "display_name": "j-dexx", "link": "https://stackoverflow.com/users/3315785/j-dexx"}, "edited": false, "score": 0, "creation_date": 1433345969, "post_id": 30624536, "comment_id": 49315433, "body": "<code>Rendered reports&#47;create.js.erb (67.5ms)</code> you sure nothing happens?  Looks like you want <code>render partial</code> not <code>render file</code> in <code>create.js.erb</code>"}, {"owner": {"reputation": 115, "user_id": 1700412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef033174e1f6e61cda9f6196cb7fd357?s=128&d=identicon&r=PG", "display_name": "Archagy", "link": "https://stackoverflow.com/users/1700412/archagy"}, "reply_to_user": {"reputation": 616, "user_id": 4685699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94104871d02b317ef507a0a366c41f72?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/4685699/clark"}, "edited": false, "score": 0, "creation_date": 1433346442, "post_id": 30624536, "comment_id": 49315771, "body": "@Clark adding <code>alert(&quot;Test&quot;);</code> or <code>console.log(&quot;Test&quot;);</code> still doing nothing."}, {"owner": {"reputation": 616, "user_id": 4685699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94104871d02b317ef507a0a366c41f72?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/4685699/clark"}, "edited": false, "score": 0, "creation_date": 1433346698, "post_id": 30624536, "comment_id": 49315955, "body": "That would suggest your <code>create.js.erb</code> is not being executed. My first thought on why is <code>Processing by ReportsController#search as JSON</code> specifically <code>as JSON</code> Comparing to a similar idea in an app I&#39;ve made it&#39;s always <code>as JS</code> My suggestion is to rename <code>create.js.erb</code> to <code>search.js.erb</code> and remove your <code>respond_to</code> block from <code>search</code>"}, {"owner": {"reputation": 616, "user_id": 4685699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94104871d02b317ef507a0a366c41f72?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/4685699/clark"}, "edited": false, "score": 0, "creation_date": 1433346760, "post_id": 30624536, "comment_id": 49315999, "body": "Actually, try removing <code>:&quot;data-type&quot; =&gt; &quot;json&quot;</code> from your <code>form_for</code> first."}, {"owner": {"reputation": 115, "user_id": 1700412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef033174e1f6e61cda9f6196cb7fd357?s=128&d=identicon&r=PG", "display_name": "Archagy", "link": "https://stackoverflow.com/users/1700412/archagy"}, "reply_to_user": {"reputation": 616, "user_id": 4685699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94104871d02b317ef507a0a366c41f72?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/4685699/clark"}, "edited": false, "score": 0, "creation_date": 1433347125, "post_id": 30624536, "comment_id": 49316239, "body": "@Clark removing <code>:&quot;data-type&quot; =&gt; &quot;json&quot;</code>  and changing the name of  js.erb solve the problem!. Many thanks !  :)"}, {"owner": {"reputation": 616, "user_id": 4685699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94104871d02b317ef507a0a366c41f72?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/4685699/clark"}, "edited": false, "score": 0, "creation_date": 1433347200, "post_id": 30624536, "comment_id": 49316297, "body": "That&#39;s great to hear, I&#39;ll put that in an answer so you can mark it."}], "answers": [{"tags": [], "owner": {"reputation": 616, "user_id": 4685699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94104871d02b317ef507a0a366c41f72?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/4685699/clark"}, "is_accepted": true, "score": 1, "last_activity_date": 1433347329, "creation_date": 1433347329, "answer_id": 30625192, "question_id": 30624536, "link": "https://stackoverflow.com/questions/30624536/rails-show-info-after-submit-in-same-page/30625192#30625192", "title": "Rails show info after submit in same page", "body": "<p>Ruby will automatically look for a <code>.js.erb</code> of the same name when you send an AJAX request. So you can rename your <code>create.js.erb</code> to <code>search.js.erb</code> and remove your <code>respond_to</code> block. Additionally the <code>:\"data-type\" =&gt; \"json\"</code> may be causing the response to be interpreted as JSON instead of JS, and as a result it is not executed.</p>\n"}], "owner": {"reputation": 115, "user_id": 1700412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef033174e1f6e61cda9f6196cb7fd357?s=128&d=identicon&r=PG", "display_name": "Archagy", "link": "https://stackoverflow.com/users/1700412/archagy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1301, "favorite_count": 0, "accepted_answer_id": 30625192, "answer_count": 1, "score": 1, "last_activity_date": 1433347329, "creation_date": 1433345516, "question_id": 30624536, "link": "https://stackoverflow.com/questions/30624536/rails-show-info-after-submit-in-same-page", "title": "Rails show info after submit in same page", "body": "<p>i want to show some values after click in form submit but in the same page and without refresh.</p>\n\n<p>in my form</p>\n\n\n\n<pre class=\"lang-rb prettyprint-override\"><code>&lt;%= simple_form_for :search, :url =&gt; url_for(:controller =&gt; \"reports\", :action =&gt; \"search\"), \n :method =&gt; \"get\", :remote =&gt; true,:format =&gt; :js, \n html: {id: \"date_range\", :\"data-type\" =&gt; \"json\"} do |f| %&gt;\n &lt;%= f.input :start_date, wrapper: :ranged_datetime,input_html: {id: \"datetimepicker6\"}, :label =&gt; \"Fecha Inicio\" %&gt;\n&lt;%= f.input :end_date, wrapper: :ranged_datetime, input_html: {id: \"datetimepicker7\"} , :label =&gt; \"Fecha Final\" %&gt;\n &lt;%= f.submit 'Buscar', :class =&gt; \"btn btn-success btn-lg\" %&gt;\n&lt;% end %&gt;\n\n\n&lt;div class=\"datos\"&gt;\n&lt;%= render :partial =&gt; 'reports/shared/sale_by_date' %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and in my sale_by_date.html.erb\n</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>&lt;% unless @sales.nil? %&gt;\n    &lt;% @sales.each do |sale| %&gt;\n      &lt;tr class=\"&lt;%= sale.remaining_balance == 0.00 &amp;&amp; !sale.total_amount.blank? ? 'success' : '' %&gt;\"&gt;\n        &lt;td&gt;&lt;%= sale.sale_by_vet %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= sale.created_at.strftime(\"%m/%d/%y %I:%M:%S %p\")  %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= sale.customer.blank? ? '-' : sale.customer.last_name %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= number_to_currency sale.total_amount %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= number_to_currency sale.tax %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= number_to_currency sale.paid_total %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= sale.remaining_balance == 0.00 &amp;&amp; sale.payments.count &gt; 0 ? \"Pagado\" : \"#{number_to_currency sale.remaining_balance}\" %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= link_to 'Mostrar', edit_sale_path(sale) %&gt; | &lt;%= link_to 'Eliminar', sale, method: :delete, data: { confirm: '\u00bfEsta seguro?' } %&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;% end %&gt;\n</code></pre>\n\n<p>create.js.erb</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>$('.datos').html(\"&lt;%= escape_javascript render(:file =&gt; 'reports/shared/_sale_by_date.html.erb') %&gt;\");\n</code></pre>\n\n<p>and in my controller</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>def search\n    start_date = params[:search][:start_date]\n    end_date = params[:search][:end_date]\n    @sales = Sale.where(:created_at =&gt; start_date..end_date)\n    respond_to do |format|\n       format.js { ajax_refresh }\n    end\nend\n\ndef ajax_refresh\n  return render(:file =&gt; 'reports/create.js.erb')\nend\n</code></pre>\n\n<p>but when i click in submit form, nothing happens.</p>\n\n<p>console info.</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>Started GET \"/reports/search?  utf8=%E2%9C%93&amp;search%5Bstart_date%5D=01%2F01%2F2015&amp;search%5Bend_date%5D=06%2F03% 2F2015&amp;commit=Buscar\" for ::1 at 2015-06-03 10:00:44 -0500\nStarted GET \"/reports/search?utf8=%E2%9C%93&amp;search%5Bstart_date%5D=01%2F01%2F2015&amp;search%5Bend_date%5D=06%2F03%2F2015&amp;commit=Buscar\" for ::1 at 2015-06-03 10:00:44 -0500\nProcessing by ReportsController#search as JSON\nProcessing by ReportsController#search as JSON\nParameters: {\"utf8\"=&gt;\"\u2713\", \"search\"=&gt;{\"start_date\"=&gt;\"01/01/2015\",     \"end_date\"=&gt;\"06/03/2015\"}, \"commit\"=&gt;\"Buscar\"}\nParameters: {\"utf8\"=&gt;\"\u2713\", \"search\"=&gt;{\"start_date\"=&gt;\"01/01/2015\", \"end_date\"=&gt;\"06/03/2015\"}, \"commit\"=&gt;\"Buscar\"}\n[query values]\nRendered reports/shared/_sale_by_date.html.erb (65.5ms)\nRendered reports/shared/_sale_by_date.html.erb (65.5ms)\nRendered reports/create.js.erb (67.5ms)\nRendered reports/create.js.erb (67.5ms)\nCompleted 200 OK in 80ms (Views: 56.8ms | ActiveRecord: 16.0ms)\nCompleted 200 OK in 80ms (Views: 56.8ms | ActiveRecord: 16.0ms)\n</code></pre>\n\n<p>it's my first time asking, thanks !!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "apache", "ubuntu"], "comments": [{"owner": {"reputation": 7894, "user_id": 981616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92513702d30405c7e2ca056bdc72aa9f?s=128&d=identicon&r=PG", "display_name": "uday", "link": "https://stackoverflow.com/users/981616/uday"}, "edited": false, "score": 2, "creation_date": 1433345765, "post_id": 30624381, "comment_id": 49315284, "body": "show more of your application log.."}, {"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433346230, "post_id": 30624381, "comment_id": 49315614, "body": "tail -100 log/production.log :)"}, {"owner": {"reputation": 117, "user_id": 4371176, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/511289996/picture?type=large", "display_name": "luisjar", "link": "https://stackoverflow.com/users/4371176/luisjar"}, "edited": false, "score": 0, "creation_date": 1433346589, "post_id": 30624381, "comment_id": 49315871, "body": "Already added more logs, thanx for your help!"}, {"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433346637, "post_id": 30624381, "comment_id": 49315903, "body": "<code>PG::ConnectionBad (FATAL: Peer authentication failed for user &quot;Metalmind_2&quot; ):</code>..simply says, database authentication failed."}, {"owner": {"reputation": 144, "user_id": 5871008, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f62e496f0ca2b4c47a8258d8a9cfa52f?s=128&d=identicon&r=PG&f=1", "display_name": "Coding world", "link": "https://stackoverflow.com/users/5871008/coding-world"}, "edited": false, "score": 0, "creation_date": 1555415586, "post_id": 30624381, "comment_id": 98095842, "body": "I am getting an error as <code>The Phusion Passenger application server encountered an error while starting your web application. Because you are running this web application in staging or production mode, the details of the error have been omitted from this web page for security reasons</code> while running redmine"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 4371176, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/511289996/picture?type=large", "display_name": "luisjar", "link": "https://stackoverflow.com/users/4371176/luisjar"}, "edited": false, "score": 0, "creation_date": 1433357020, "post_id": 30625431, "comment_id": 49322153, "body": "thank you so much but it didn&#39;t work. I keep getting the same error. :("}, {"owner": {"reputation": 493, "user_id": 2553244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf754522a02730df26831eb8cc5b6ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Adnan Devops", "link": "https://stackoverflow.com/users/2553244/adnan-devops"}, "reply_to_user": {"reputation": 117, "user_id": 4371176, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/511289996/picture?type=large", "display_name": "luisjar", "link": "https://stackoverflow.com/users/4371176/luisjar"}, "edited": false, "score": 0, "creation_date": 1433357316, "post_id": 30625431, "comment_id": 49322337, "body": "Please have a look at my github page for complete setup of postgres -<a href=\"https://github.com/adnan87/RailsConfigDocs/blob/master/Postgres.md\" rel=\"nofollow noreferrer\">github.com/adnan87/RailsConfigDocs/blob/master/Postgres.md</a>"}], "tags": [], "owner": {"reputation": 493, "user_id": 2553244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf754522a02730df26831eb8cc5b6ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Adnan Devops", "link": "https://stackoverflow.com/users/2553244/adnan-devops"}, "is_accepted": true, "score": 1, "last_activity_date": 1433348019, "creation_date": 1433348019, "answer_id": 30625431, "question_id": 30624381, "link": "https://stackoverflow.com/questions/30624381/were-sorry-but-something-went-wrong-rails-app-on-ubuntu-apache-passenger/30625431#30625431", "title": "&quot;We&#39;re sorry, but something went wrong.&quot; Rails app on Ubuntu, Apache, Passenger on DigitalOcean", "body": "<p>As I can see you are having PG error, you can make these changes:</p>\n\n<pre><code>sudo nano /etc/postgresql/9.1/main/pg_hba.conf\n Change =&gt; local all all ident\n To =&gt; local all all trust\n if still do not work change to=&gt; local all all md5\n Then restart your postgres server\n sudo /etc/init.d/postgresql restart\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 4371176, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/511289996/picture?type=large", "display_name": "luisjar", "link": "https://stackoverflow.com/users/4371176/luisjar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4073, "favorite_count": 0, "accepted_answer_id": 30625431, "answer_count": 1, "score": 0, "last_activity_date": 1433358984, "creation_date": 1433345131, "last_edit_date": 1433358984, "question_id": 30624381, "link": "https://stackoverflow.com/questions/30624381/were-sorry-but-something-went-wrong-rails-app-on-ubuntu-apache-passenger", "title": "&quot;We&#39;re sorry, but something went wrong.&quot; Rails app on Ubuntu, Apache, Passenger on DigitalOcean", "body": "<p>This is my first time trying to deploy a Rails app on Digitalocean. I'm using Apache server and PostgreSQL for my DBM. I already have a domain which I'm trying to use for my app. Whenever I try to access my website with the domain I get:</p>\n\n<pre><code>We're sorry, but something went wrong.\n\nIf you are the application owner check the logs for more information.\n</code></pre>\n\n<p>These are the logs I'm getting.</p>\n\n<p><code>/var/log/apache2/error.log</code>:</p>\n\n<pre><code>[ 2015-06-03 10:40:27.0987 27388/7f60283aa7c0 agents/HelperAgent/Main.cpp:883 ]: Starting PassengerAgent server...\n[ 2015-06-03 10:40:27.0991 27388/7f60283aa7c0 agents/HelperAgent/Main.cpp:232 ]: PassengerAgent server running in multi-application mode.\n[ 2015-06-03 10:40:27.1069 27388/7f60283aa7c0 agents/HelperAgent/Main.cpp:637 ]: PassengerAgent server online, PID 27388\n[ 2015-06-03 10:40:27.1462 27393/7f2a835cc7c0 agents/LoggingAgent/Main.cpp:431 ]: Starting PassengerAgent logger...\n[ 2015-06-03 10:40:27.1480 27393/7f2a835cc7c0 agents/LoggingAgent/Main.cpp:312 ]: PassengerAgent logger online, PID 27393\n[Wed Jun 03 10:40:27.148890 2015] [mpm_event:notice] [pid 17706:tid 140076804220800] AH00489: Apache/2.4.7 (Ubuntu) Phusion_Passenger/5.0.2 configured -- resuming normal operations\n[Wed Jun 03 10:40:27.148934 2015] [core:notice] [pid 17706:tid 140076804220800] AH00094: Command line: '/usr/sbin/apache2'\n[ 2015-06-03 10:40:27.4303 26722/7f90f511f7c0 agents/HelperAgent/Main.cpp:868 ]: PassengerAgent server shutdown finished\nApp 27471 stdout: \nApp 27489 stdout:\n</code></pre>\n\n<p><code>log/production.log</code>:</p>\n\n<pre><code>I, [2015-06-03T11:16:29.516619 #27489]  INFO -- : Started GET \"/\" for 186.155.86.153 at 2015-06-03 11:16:29 -0400\nF, [2015-06-03T11:16:29.543227 #27489] FATAL -- :\nPG::ConnectionBad (FATAL:  Peer authentication failed for user \"Metalmind_2\"):\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'\n  /usr/local/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'\n  /usr/local/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'\n  activerecord (4.2.1.rc4) lib/active_record/connection_handling.rb:113:in `retrieve_connection'\n  activerecord (4.2.1.rc4) lib/active_record/connection_handling.rb:87:in `connection'\n  activerecord (4.2.1.rc4) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'\n  activerecord (4.2.1.rc4) lib/active_record/query_cache.rb:43:in `rescue in call'\n  activerecord (4.2.1.rc4) lib/active_record/query_cache.rb:31:in `call'\n  activerecord (4.2.1.rc4) lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'\n  activesupport (4.2.1.rc4) lib/active_support/callbacks.rb:88:in `call'\n  activesupport (4.2.1.rc4) lib/active_support/callbacks.rb:88:in `_run_callbacks'\n  activesupport (4.2.1.rc4) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'\n  activesupport (4.2.1.rc4) lib/active_support/callbacks.rb:81:in `run_callbacks'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/callbacks.rb:27:in `call'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\n  railties (4.2.1.rc4) lib/rails/rack/logger.rb:38:in `call_app'\n  railties (4.2.1.rc4) lib/rails/rack/logger.rb:20:in `block in call'\n  activesupport (4.2.1.rc4) lib/active_support/tagged_logging.rb:68:in `block in tagged'\n  activesupport (4.2.1.rc4) lib/active_support/tagged_logging.rb:26:in `tagged'\n  activesupport (4.2.1.rc4) lib/active_support/tagged_logging.rb:68:in `tagged'\n  railties (4.2.1.rc4) lib/rails/rack/logger.rb:20:in `call'\n  actionpack (4.2.1.rc4) lib/action_dispatch/middleware/request_id.rb:21:in `call'\n  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'\n  rack (1.6.0) lib/rack/runtime.rb:18:in `call'\n  activesupport (4.2.1.rc4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'\n  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'\n  railties (4.2.1.rc4) lib/rails/engine.rb:518:in `call'\n  railties (4.2.1.rc4) lib/rails/application.rb:164:in `call'\n  /usr/lib/ruby/vendor_ruby/phusion_passenger/rack/thread_handler_extension.rb:85:in `process_request'\n  /usr/lib/ruby/vendor_ruby/phusion_passenger/request_handler/thread_handler.rb:149:in `accept_and_process_next_request'\n  /usr/lib/ruby/vendor_ruby/phusion_passenger/request_handler/thread_handler.rb:110:in `main_loop'\n  /usr/lib/ruby/vendor_ruby/phusion_passenger/request_handler.rb:414:in `block (3 levels) in start_threads'\n  /usr/lib/ruby/vendor_ruby/phusion_passenger/utils.rb:111:in `block in create_thread_and_abort_on_exception'\n</code></pre>\n\n<p>I've been trying a lot of things already but can't find what the problem is. I appreciate if someone can give me a hand!</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "autocomplete"], "answers": [{"tags": [], "owner": {"reputation": 4313, "user_id": 1177198, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4ea56c658e69eef33b6557b20c7a19ab?s=128&d=identicon&r=PG", "display_name": "bigtunacan", "link": "https://stackoverflow.com/users/1177198/bigtunacan"}, "is_accepted": false, "score": 1, "last_activity_date": 1447706504, "creation_date": 1447706504, "answer_id": 33744215, "question_id": 30624357, "link": "https://stackoverflow.com/questions/30624357/using-extra-search-field-with-rails-jquery-autocomplete/33744215#33744215", "title": "Using extra search field with rails-jquery-autocomplete", "body": "<p>You would need to define a custom autocomplete method.</p>\n\n<p>This should override the <code>get_autocomplete_items</code> method.  It is also key that you convert your ActiveRecord results to an OpenStruct.  I've included a sample below.</p>\n\n<pre><code>  def get_autocomplete_items(parameters)\n    result_set = TableName.search do\n      fulltext parameters[:term] do\n        fields (:first_name)\n        fields (:middle_name)\n        fields (:last_name)\n      end\n      order_by (:last_name)\n      paginate page: 1, per_page: parameters[:options][:limit]+1\n    end.results\n\n    new_result_set = []\n    hash = {}\n\n    # Translating the ActiveRecord object into an OpenStruct is necessary for the rails-jquery-autocomplete\n    # Trying to use the ActiveRecord model result directly will result in horrible pain and suffering.\n    result_set.each do |r|\n      h = {}\n      h[:id] = r.id\n      h[:email] = r.email_address\n      unless hash[r.email]\n        new_result_set &lt;&lt; OpenStruct.new(h)\n        hash[r.email] = true\n      end\n    end\n\n    if new_result_set.empty?\n      new_result_set &lt;&lt; OpenStruct.new(:email =&gt; 'No Match, Search again')\n    elsif(result_set.count &gt; parameters[:options][:limit])\n      new_result_set &lt;&lt; OpenStruct.new(:email =&gt; 'Too many results, type more characters')\n    end\n    new_result_set\n  end\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3743099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6361033e2847638b886a9b07b3e82f1?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/3743099/link"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1447706504, "creation_date": 1433345052, "question_id": 30624357, "link": "https://stackoverflow.com/questions/30624357/using-extra-search-field-with-rails-jquery-autocomplete", "title": "Using extra search field with rails-jquery-autocomplete", "body": "<p>I have succesfully created forms with this gem: <a href=\"https://github.com/bigtunacan/rails-jquery-autocomplete\" rel=\"nofollow\">https://github.com/bigtunacan/rails-jquery-autocomplete</a></p>\n\n<p>The problem is that I would like it to filter not only by <strong>name</strong> field of source table. For that I tried to use <strong>:fields</strong> attribute as mentioned in gem's documentation. But rendered SQL still contains filtering only by name, although GET request contains added field.</p>\n\n<pre><code>    &lt;%= f.autocomplete_field :name, autocomplete_ad_user_name_component_associated_users_path(@component), \n                                 :update_elements =&gt; {:username =&gt; '#associated_user_username', \n                                    :password =&gt; '#associated_user_password'},\n                                    :fields =&gt; {:client_id =&gt; '#client_id'},\n                                    class: 'form-control' %&gt;\n</code></pre>\n\n<p>Do I need to create custom autocomplete function for this to work or what? Maybe I just have to edit by default created function, but where can I find it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "reply_to_user": {"reputation": 257364, "user_id": 398670, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85f50c23bb5e9dfb061af5032bfe8e65?s=128&d=identicon&r=PG", "display_name": "Craig Ringer", "link": "https://stackoverflow.com/users/398670/craig-ringer"}, "edited": false, "score": 0, "creation_date": 1433344815, "post_id": 30623925, "comment_id": 49314489, "body": "Could you explain? Doesn&#39;t <code>update_columns(activation_sent_at: Time.zone.now, activation_digest: self.activation_digest)</code> commit? That is, shouldn&#39;t that commit/write the value to the db?"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1433349232, "post_id": 30623925, "comment_id": 49317527, "body": "<code>update_columns</code> is a direct write to the db and has no call backs. If you actually had the above line (in the comment) in the file it would update the record but you might have to call reload to see it. As of right now you are not actually persisting the data but simply setting instance attributes that are discarded with the instance."}], "answers": [{"comments": [{"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433345259, "post_id": 30624268, "comment_id": 49314866, "body": "Yes, if I added <code>update_attribute(:activation_digest, self.activation_digest)</code> to <code>def send_activation_email</code> instead of <code>update_columns</code> it worked."}], "tags": [], "owner": {"reputation": 1118, "user_id": 3243794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QxQsp.jpg?s=128&g=1", "display_name": "nesiseka", "link": "https://stackoverflow.com/users/3243794/nesiseka"}, "is_accepted": true, "score": 1, "last_activity_date": 1433344848, "creation_date": 1433344848, "answer_id": 30624268, "question_id": 30623925, "link": "https://stackoverflow.com/questions/30623925/activation-digest-isnt-saving-to-db/30624268#30624268", "title": "Activation digest isn&#39;t saving to db", "body": "<p>The reason the DB is not updated is because you're not saving the model.</p>\n\n<p>Either add save! at the end of the private method or use update_attributes() query, which automatically saves the values to DB.</p>\n"}], "owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 30624268, "answer_count": 1, "score": 1, "last_activity_date": 1433344848, "creation_date": 1433343922, "last_edit_date": 1433344781, "question_id": 30623925, "link": "https://stackoverflow.com/questions/30623925/activation-digest-isnt-saving-to-db", "title": "Activation digest isn&#39;t saving to db", "body": "<p>To create a confirmation link for users who want to update their email address, a users controller method calls on the model method <code>@user.send_activation_email</code>. The relevant part of the controller method:</p>\n\n<pre><code>  if @user.update_attributes(user_params)\n    puts \"DIGEST1: #{@user.activation_digest}\"\n    @user.send_activation_email\n    puts \"DIGEST2: #{@user.activation_digest}\"\n    puts \"DIGEST2_RELOAD (should be same as previous but isn't): #{@user.reload.activation_digest}\"\n</code></pre>\n\n<p>The model method reads:</p>\n\n<pre><code>  def send_activation_email\n    create_activation_digest\n    update_columns(activation_sent_at: Time.zone.now)\n    UserMailer.new_email_activation(self).deliver_now\n  end\n\n  private\n    def create_activation_digest\n      self.activation_token  = User.new_token\n      self.activation_digest = User.digest(activation_token)\n    end\n</code></pre>\n\n<p>The private method is also used for account activation. There is saves the digest automatically to the <code>activation_digest</code> column. This doesn't however seem to work for the above. That is, while it generates a new digest, it does not save that value to the db (I know this by using <code>puts</code> for that value in the controller method before and after calling the model method). </p>\n\n<p><strong>Why is it not saving the digest value to the db?</strong> I've tried adding <code>update_columns(activation_sent_at: Time.zone.now, activation_digest: self.activation_digest)</code> to the model method. But that didn't save the value either (and it doesn't seem secure to me).</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "xml", "nokogiri"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1433347165, "post_id": 30623747, "comment_id": 49316271, "body": "XML parsers can&#39;t tell you which value is closest to another value. They <i>can</i> extract values that are in the XML, and you can write code to determine which of those are closest to your target value. As is, your sample code doesn&#39;t match your XML."}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1436992631, "post_id": 30623747, "comment_id": 50850502, "body": "@theTinMan I think it can be done in XPath 2.0, but good luck finding a parser that supports it!"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1436999979, "post_id": 30623747, "comment_id": 50853934, "body": "We can probably find one in the future. We&#39;ll know some day."}], "answers": [{"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1433347672, "creation_date": 1433347672, "answer_id": 30625307, "question_id": 30623747, "link": "https://stackoverflow.com/questions/30623747/parse-xml-for-the-data-i-want-with-nokogiri/30625307#30625307", "title": "Parse XML for the data I want with nokogiri", "body": "<p>Here's some code that will extract values from your XML. You'll have to figure out how to determine which entry in the array is closest to your target:</p>\n\n<pre><code>require 'nokogiri'\n\ndoc = Nokogiri::XML(&lt;&lt;EOT)\n&lt;league&gt;\n &lt;match&gt;\n  &lt;odds&gt;\n   &lt;type name=\"Handicap\"&gt;\n    &lt;bookmaker id=\"781\" name=\"Bet365\"&gt;\n     &lt;handicap name=\"-1.75\"&gt;\n      &lt;odd name=\"1\" value=\"2.15\"&gt;\n     &lt;/handicap&gt;\n     &lt;handicap name=\"+1.75\"&gt;\n      &lt;odd name=\"2\" value=\"1.68\"&gt;\n     &lt;/handicap&gt;\n     &lt;handicap name=\"-1.50\"&gt;\n      &lt;odd name=\"1\" value=\"1.95\"&gt;\n     &lt;/handicap&gt;\n     &lt;handicap name=\"+1.50\"&gt;\n      &lt;odd name=\"2\" value=\"1.95\"&gt;\n     &lt;/handicap&gt;\n    &lt;/bookmaker&gt;\n   &lt;/type&gt;\n   &lt;/odds&gt;\n  &lt;/match&gt;\n&lt;/league&gt;\nEOT\n\nhandicap_odd = doc.search('type bookmaker[id=\"781\"] handicap').map{ |handicap| \n  odd = handicap.at('odd')\n  [\n    handicap['name'], \n    odd['name'], \n    odd['value'].to_f\n  ] \n}\n</code></pre>\n\n<p>After running, <code>handicap_odd</code> contains an array of <code>handicap</code> names and the associated <code>odd</code> values:</p>\n\n<pre><code>handicap_odd\n# =&gt; [[\"-1.75\", \"1\", 2.15],\n#     [\"+1.75\", \"2\", 1.68],\n#     [\"-1.50\", \"1\", 1.95],\n#     [\"+1.50\", \"2\", 1.95]]\n</code></pre>\n\n<p>You'll need to figure out what <code>search</code> and <code>at</code> do and why they're different. </p>\n\n<p>Notice that I use CSS instead of XPath for the selector, which is for readability.</p>\n"}], "owner": {"reputation": 1630, "user_id": 4509585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7023402d04ae775b7c6fa46626e38136?s=128&d=identicon&r=PG&f=1", "display_name": "pyfl88", "link": "https://stackoverflow.com/users/4509585/pyfl88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1436992127, "creation_date": 1433343503, "last_edit_date": 1436992127, "question_id": 30623747, "link": "https://stackoverflow.com/questions/30623747/parse-xml-for-the-data-i-want-with-nokogiri", "title": "Parse XML for the data I want with nokogiri", "body": "<p>I am using Nokogiri gem to parse a XML data, but having problem in obtaining the data I want selectively. </p>\n\n<p>Here is my controller code: </p>\n\n<pre><code>      def matches\n\n      f = File.open(\"england.xml\")\n      doc = Nokogiri::XML(f)\n\n      @away =  doc.xpath(\"//league/match/odds/type[@name='1x2']/bookmaker[@id='821']\")\n      @homeaway = doc.xpath(\"//league/match/odds/type[@name='Home/Away']/bookmaker[@id='781']\")\n      @overunder = doc.xpath(\"//league/match/odds/type[@name='Over/Under']/bookmaker[@id='781']\")\n      @handicap = doc.xpath(\"//league/match/odds/type[@name='Handicap']/bookmaker[@id='781']\")\n</code></pre>\n\n<p>This is a part of the XML feed that I have problem:</p>\n\n<pre><code>  &lt;league&gt;\n   &lt;match&gt;\n    &lt;odds&gt;\n     &lt;type name=\"Handicap\"&gt;\n      &lt;bookmaker id=\"781\" name=\"Bet365\"&gt;\n       &lt;handicap name=\"-1.75\"&gt;\n        &lt;odd name=\"1\" value=\"2.15\"&gt;\n       &lt;/handicap&gt;\n       &lt;handicap name=\"+1.75\"&gt;\n        &lt;odd name=\"2\" value=\"1.68\"&gt;\n       &lt;/handicap&gt;\n       &lt;handicap name=\"-1.50\"&gt;\n        &lt;odd name=\"1\" value=\"1.95\"&gt;\n       &lt;/handicap&gt;\n       &lt;handicap name=\"+1.50\"&gt;\n        &lt;odd name=\"2\" value=\"1.95\"&gt;\n       &lt;/handicap&gt;\n      &lt;/bookmaker&gt;\n     &lt;/type&gt;\n     &lt;/odds&gt;\n    &lt;/match&gt;\n   &lt;/league&gt;\n</code></pre>\n\n<p>This is my view: </p>\n\n<pre><code> &lt;table id=\"tableID\"&gt;\n   &lt;td&gt;Home\n    &lt;td&gt;Away&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n   &lt;/td&gt;\n   &lt;% @handicap.each do |k| %&gt;\n   &lt;tr&gt;\n   &lt;td&gt;&lt;%= k.parent.parent.parent.children.attr(\"name\") %&gt;&lt;/td&gt;\n   &lt;td&gt;&lt;%= k.parent.parent.parent.children[1].attr(\"name\") %&gt;&lt;/td&gt;\n   &lt;td&gt;&lt;%= k.children[2].attr(\"name\") %&gt; | &lt;%=          k.children[2].children.attr(\"value\") %&gt;&lt;/td&gt;\n   &lt;td&gt; &lt;%= k.children[3].attr(\"name\") %&gt; | &lt;%= k.children[3].children.attr(\"value\") %&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n   &lt;% end %&gt;\n   &lt;/table&gt;\n</code></pre>\n\n<p>Assuming there are quite a few of handicap, I would like to always show the handicap odd value which is closest to 2.00, how can I do that? Please help. Thanks! </p>\n"}, {"tags": ["ruby", "authentication", "selenium", "webdriver"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4896290, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh6.googleusercontent.com/-B0nCNK7qjUo/AAAAAAAAAAI/AAAAAAAABq0/Q8iAk3pf3hg/photo.jpg?sz=128", "display_name": "Vanatomas", "link": "https://stackoverflow.com/users/4896290/vanatomas"}, "edited": false, "score": 0, "creation_date": 1433414332, "post_id": 30638510, "comment_id": 49347261, "body": "where are credentials being passed in this script?"}, {"owner": {"reputation": 1677, "user_id": 3501502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd16ffa4debd8196786c490e06c398f?s=128&d=identicon&r=PG", "display_name": "Anton Angelov", "link": "https://stackoverflow.com/users/3501502/anton-angelov"}, "reply_to_user": {"reputation": 143, "user_id": 4896290, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh6.googleusercontent.com/-B0nCNK7qjUo/AAAAAAAAAAI/AAAAAAAABq0/Q8iAk3pf3hg/photo.jpg?sz=128", "display_name": "Vanatomas", "link": "https://stackoverflow.com/users/4896290/vanatomas"}, "edited": false, "score": 0, "creation_date": 1433414447, "post_id": 30638510, "comment_id": 49347329, "body": "you need to call production code/web-service or similar to generate the cookies value by supplying it with the credentials. Ask your developers to provide you such method or open the production code and see it yourself. I did the same thing for the automation tests of the authentication of my company&#39;s site."}, {"owner": {"reputation": 143, "user_id": 4896290, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh6.googleusercontent.com/-B0nCNK7qjUo/AAAAAAAAAAI/AAAAAAAABq0/Q8iAk3pf3hg/photo.jpg?sz=128", "display_name": "Vanatomas", "link": "https://stackoverflow.com/users/4896290/vanatomas"}, "edited": false, "score": 0, "creation_date": 1433426127, "post_id": 30638510, "comment_id": 49355342, "body": "my understanding that it should be basic auth, but seems like it is not as other url picking auth credentials within url, just one is not. Thing is that auth will be removed within 2 weeks, for time being execution will be PITA to enter credentials manually for every scenario"}], "tags": [], "owner": {"reputation": 1677, "user_id": 3501502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd16ffa4debd8196786c490e06c398f?s=128&d=identicon&r=PG", "display_name": "Anton Angelov", "link": "https://stackoverflow.com/users/3501502/anton-angelov"}, "is_accepted": false, "score": 0, "last_activity_date": 1433405820, "creation_date": 1433405820, "answer_id": 30638510, "question_id": 30623612, "link": "https://stackoverflow.com/questions/30623612/http-basic-auth-for-2-sites/30638510#30638510", "title": "http basic auth for 2 sites", "body": "<p>Probably, if your URLs use a cookie for authentication, you can generate the cookie value beforehand and set it to the cookie.</p>\n\n<pre><code>require \"selenium-webdriver\"\nrequire \"awesome_print\"\n\ndriver = Selenium::WebDriver.for :firefox\ndriver.navigate.to \"http://example.com\"\n\nCOOKIE_DOMAIN = &lt;&lt;-eotl\nvar cookieName = arguments[0];\nvar cookieValue = arguments[1];\nvar myDate = new Date();\nmyDate.setMonth(myDate.getMonth() + 12);\ndocument.cookie = cookieName +\"=\" + encodeURIComponent(cookieValue)\n                  + \";expires=\" + myDate \n                  + \";domain=.example.com;path=/\";\neotl\n\ndriver.execute_script(COOKIE_DOMAIN,'test','testvalue')\nap driver.manage.cookie_named('test')\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4896290, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh6.googleusercontent.com/-B0nCNK7qjUo/AAAAAAAAAAI/AAAAAAAABq0/Q8iAk3pf3hg/photo.jpg?sz=128", "display_name": "Vanatomas", "link": "https://stackoverflow.com/users/4896290/vanatomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433405820, "creation_date": 1433343165, "question_id": 30623612, "link": "https://stackoverflow.com/questions/30623612/http-basic-auth-for-2-sites", "title": "http basic auth for 2 sites", "body": "<p>there is a dilemma for me as I have 2 urls that I need to pass auth</p>\n\n<pre><code>url = http://admin:admin@url\nurl2 = https://admin:admin@url2\n\n\n\n@driver.navigate.to url2\n@driver.navigate.to url\n</code></pre>\n\n<p>when I execute selenium script, I am trying to pass url2 and then url as to get auth remembered. Just have 2 redirects and there is no way around that.\nSo dilemma is that\nurl2 http I still get auth window to enter credentials, but url that goes through just fine.\nIs there anything else can be done?\nI am using Ruby.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "logging"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 1, "creation_date": 1433342652, "post_id": 30623347, "comment_id": 49312714, "body": "You can check in your gem if Rails logger is defined and if so, use that, else you can fallback to STDOUT or some other implementation."}], "answers": [{"comments": [{"owner": {"reputation": 621, "user_id": 4077486, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-GO6Ey_scITQ/AAAAAAAAAAI/AAAAAAAAAGw/Pk5COnye0u4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/4077486/james"}, "edited": false, "score": 0, "creation_date": 1433344877, "post_id": 30623846, "comment_id": 49314549, "body": "I have always used Rails.logger for this. This seems like the easiest/most straightforward approach."}, {"owner": {"reputation": 613, "user_id": 2252927, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kEOQw.jpg?s=128&g=1", "display_name": "Oxfist", "link": "https://stackoverflow.com/users/2252927/oxfist"}, "edited": false, "score": 1, "creation_date": 1506360488, "post_id": 30623846, "comment_id": 79779346, "body": "This answer helped me incredibly! I just wanted to add something I ran into. I have a <code>test_helper.rb</code> with the statement <code>Minitest::Reporters.use!</code>, which, to my surprise, loads Rails and therefore <code>MyGem.logger</code> was raising an error. I fixed it changing <code>defined?(Rails)</code> for <code>defined?(Rails.logger)</code> and now it works perfectly!"}], "tags": [], "owner": {"reputation": 2781, "user_id": 199791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7d23f681084f2cd1f490866ad94774e?s=128&d=identicon&r=PG", "display_name": "Julien Portalier", "link": "https://stackoverflow.com/users/199791/julien-portalier"}, "is_accepted": true, "score": 17, "last_activity_date": 1433343734, "creation_date": 1433343734, "answer_id": 30623846, "question_id": 30623347, "link": "https://stackoverflow.com/questions/30623347/how-to-write-log-inside-my-rubygem-that-will-be-used-in-a-rails-app/30623846#30623846", "title": "How to write log inside my rubygem that will be used in a rails app?", "body": "<p>You may use <code>Rails.logger</code> directly, which is valid if your gem will always only be used within a Rails application. You may alternatively define a logger for your gem namespace and default to <code>Rails.logger</code> if defined, or <code>Logger.new(STDOUT)</code> if it's not, along with a writer, so it's overridable:</p>\n\n\n\n<pre class=\"lang-rb prettyprint-override\"><code>module MyGem\n  def self.logger\n    @@logger ||= defined?(Rails) ? Rails.logger : Logger.new(STDOUT)\n  end\n\n  def self.logger=(logger)\n    @@logger = logger\n  end\nend\n</code></pre>\n\n<p>Whatever the case, you will use it like this:</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>MyGem.logger.debug \"it works\"\n</code></pre>\n"}], "owner": {"reputation": 4517, "user_id": 1286937, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b631d2f9dc7aeb3563f35c03f73db888?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/1286937/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1436, "favorite_count": 2, "accepted_answer_id": 30623846, "answer_count": 1, "score": 8, "last_activity_date": 1433343734, "creation_date": 1433342570, "question_id": 30623347, "link": "https://stackoverflow.com/questions/30623347/how-to-write-log-inside-my-rubygem-that-will-be-used-in-a-rails-app", "title": "How to write log inside my rubygem that will be used in a rails app?", "body": "<p>I'm developing a rubygem that will be used in a rails app. In this rubygem i need to log some information (warnings, errors...).  </p>\n\n<p>I saw some gems to do this, like <a href=\"https://github.com/TwP/logging\" rel=\"noreferrer\">logging</a>, but apparently i need no configure the log output (stdout, some file).<br>\nMy rails app log the messages in a file. So, my question: Is there a way to my gem use the same log configuration that my rails app uses? or my gem will send the log according to his own configuration?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433342610, "post_id": 30623264, "comment_id": 49312677, "body": "have you seen this..<a href=\"http://stackoverflow.com/questions/8997266/custom-association-method-can-this-be-done/9087086#9087086\" title=\"custom association method can this be done\">stackoverflow.com/questions/8997266/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10496, "user_id": 1971165, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83df8da53f9c237578c95b0ac91c979c?s=128&d=identicon&r=PG", "display_name": "Marc Greenstock", "link": "https://stackoverflow.com/users/1971165/marc-greenstock"}, "edited": false, "score": 0, "creation_date": 1433343125, "post_id": 30623442, "comment_id": 49313084, "body": "You&#39;re absolutely right, thank you! I didn&#39;t realise <code>user_associations</code> is already in included in the ActiveRecord build statement."}], "tags": [], "owner": {"reputation": 9845, "user_id": 119822, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wnqih.jpg?s=128&g=1", "display_name": "Andy Waite", "link": "https://stackoverflow.com/users/119822/andy-waite"}, "is_accepted": true, "score": 1, "last_activity_date": 1433342801, "creation_date": 1433342801, "answer_id": 30623442, "question_id": 30623264, "link": "https://stackoverflow.com/questions/30623264/conditionally-retrieve-records-in-a-has-many-through-extend-method/30623442#30623442", "title": "conditionally retrieve records in a has_many through extend method", "body": "<p>I <em>think</em> you just need a <code>where</code> clause within the <code>owned</code> method: <code>where(\"users_associations.is_owner\": true)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 10496, "user_id": 1971165, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83df8da53f9c237578c95b0ac91c979c?s=128&d=identicon&r=PG", "display_name": "Marc Greenstock", "link": "https://stackoverflow.com/users/1971165/marc-greenstock"}, "edited": false, "score": 0, "creation_date": 1433343449, "post_id": 30623635, "comment_id": 49313375, "body": "Interesting take, I wasn&#39;t aware to can extend a has_many association like that. However <code>is_owner</code> is not on the Project model but on the UserAssociation model."}], "tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1433343220, "creation_date": 1433343220, "answer_id": 30623635, "question_id": 30623264, "link": "https://stackoverflow.com/questions/30623264/conditionally-retrieve-records-in-a-has-many-through-extend-method/30623635#30623635", "title": "conditionally retrieve records in a has_many through extend method", "body": "<p>You can do it by specifying a scope on your project class and using that scope in your has_many in your user class.</p>\n\n<p>In your user class... </p>\n\n<pre><code>has_many :projects,\n           source: :user_associatable,\n           source_type: 'Project',\n           through: :user_associations,\n           -&gt; { is_owner }\n</code></pre>\n\n<p>in your project class...</p>\n\n<pre><code>  scope :is_owner, where('is_owner = true')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10496, "user_id": 1971165, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83df8da53f9c237578c95b0ac91c979c?s=128&d=identicon&r=PG", "display_name": "Marc Greenstock", "link": "https://stackoverflow.com/users/1971165/marc-greenstock"}, "edited": false, "score": 0, "creation_date": 1433343765, "post_id": 30623758, "comment_id": 49313632, "body": "Not sure this will work, the way I intend. <code>User.first.owned</code> will return the associations, not the project, and considering the project is polymorpically associated I would need to also specify the <code>user_associatable_type</code> in the <code>user_associations</code> condition."}, {"owner": {"reputation": 2194, "user_id": 2940946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/inUFK.jpg?s=128&g=1", "display_name": "Ahmad Hussain", "link": "https://stackoverflow.com/users/2940946/ahmad-hussain"}, "reply_to_user": {"reputation": 10496, "user_id": 1971165, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83df8da53f9c237578c95b0ac91c979c?s=128&d=identicon&r=PG", "display_name": "Marc Greenstock", "link": "https://stackoverflow.com/users/1971165/marc-greenstock"}, "edited": false, "score": 0, "creation_date": 1433343987, "post_id": 30623758, "comment_id": 49313819, "body": "sorry it should be in Project model it will be like User.first.projects.owned"}, {"owner": {"reputation": 10496, "user_id": 1971165, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83df8da53f9c237578c95b0ac91c979c?s=128&d=identicon&r=PG", "display_name": "Marc Greenstock", "link": "https://stackoverflow.com/users/1971165/marc-greenstock"}, "edited": false, "score": 0, "creation_date": 1433345118, "post_id": 30623758, "comment_id": 49314752, "body": "Yeah that would work, I&#39;m going with Andy&#39;s answer though, because it&#39;s contained within the user model relation, i.e. <code>Project.owned</code> shouldn&#39;t be a method."}], "tags": [], "owner": {"reputation": 2194, "user_id": 2940946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/inUFK.jpg?s=128&g=1", "display_name": "Ahmad Hussain", "link": "https://stackoverflow.com/users/2940946/ahmad-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1433343996, "last_edit_date": 1433343996, "creation_date": 1433343529, "answer_id": 30623758, "question_id": 30623264, "link": "https://stackoverflow.com/questions/30623264/conditionally-retrieve-records-in-a-has-many-through-extend-method/30623758#30623758", "title": "conditionally retrieve records in a has_many through extend method", "body": "<p>You can write a scope in project model</p>\n\n<pre><code>scope :owned, -&gt; {where(user_authentications: {is_owner: true})}\n</code></pre>\n"}], "owner": {"reputation": 10496, "user_id": 1971165, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83df8da53f9c237578c95b0ac91c979c?s=128&d=identicon&r=PG", "display_name": "Marc Greenstock", "link": "https://stackoverflow.com/users/1971165/marc-greenstock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 30623442, "answer_count": 3, "score": 2, "last_activity_date": 1433343996, "creation_date": 1433342386, "question_id": 30623264, "link": "https://stackoverflow.com/questions/30623264/conditionally-retrieve-records-in-a-has-many-through-extend-method", "title": "conditionally retrieve records in a has_many through extend method", "body": "<p>I'm trying to figure out how to conditionally retrieve records in a has_many through association.</p>\n\n<p>I have three classes:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_many :user_associations\n  has_many :projects,\n           source: :user_associatable,\n           source_type: 'Project',\n           through: :user_associations do\n    def owned\n      # retrieve projects that have is_owner = true on the user_association\n    end\n  end\nend\n\nclass UserAssociations &lt; ActiveRecord::Base\n  belongs_to :user_associatable, polymorphic: true\n  belongs_to :user\nend\n\nclass Project &lt; ActiveRecord::Base\n  has_many :user_associations, as: :user_associatable\n  has_many :users, through: :user_associations\nend\n</code></pre>\n\n<p><code>UserAssociation</code> has a polymorphic association to <code>Project</code> for added complexity.</p>\n\n<p>When I run <code>User.first.projects.owned</code> I only want to retrieve projects that are associated to the user through <code>UserAssociations</code> that have the <code>is_owner</code> boolean set to <code>true</code>.</p>\n\n<p>I'm guessing I have to do something with <code>proxy_association</code>?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "csv", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 4597676, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c7ed7a53574544460958a80bcb0b06c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mugshep", "link": "https://stackoverflow.com/users/4597676/mugshep"}, "edited": false, "score": 0, "creation_date": 1433343874, "post_id": 30623379, "comment_id": 49313717, "body": "That was it!  Thank you!"}], "tags": [], "owner": {"reputation": 9845, "user_id": 119822, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wnqih.jpg?s=128&g=1", "display_name": "Andy Waite", "link": "https://stackoverflow.com/users/119822/andy-waite"}, "is_accepted": false, "score": 0, "last_activity_date": 1433342637, "creation_date": 1433342637, "answer_id": 30623379, "question_id": 30623198, "link": "https://stackoverflow.com/questions/30623198/trouble-importing-multiple-csvs-as-rails-while-maintaining-associations/30623379#30623379", "title": "Trouble importing multiple CSVs as Rails while maintaining associations", "body": "<p>You're setting <code>inspection.restaurant</code> but it looks like you aren't saving the updated record.</p>\n"}, {"comments": [{"owner": {"reputation": 738, "user_id": 4597676, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c7ed7a53574544460958a80bcb0b06c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mugshep", "link": "https://stackoverflow.com/users/4597676/mugshep"}, "edited": false, "score": 0, "creation_date": 1433345528, "post_id": 30623789, "comment_id": 49315083, "body": "Very helpful!  Thank you!"}, {"owner": {"reputation": 738, "user_id": 4597676, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c7ed7a53574544460958a80bcb0b06c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mugshep", "link": "https://stackoverflow.com/users/4597676/mugshep"}, "edited": false, "score": 1, "creation_date": 1433348137, "post_id": 30623789, "comment_id": 49316884, "body": "Also - regarding the two options provided above, is there any difference in performance if dealing with large datasets?"}, {"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "reply_to_user": {"reputation": 738, "user_id": 4597676, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c7ed7a53574544460958a80bcb0b06c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mugshep", "link": "https://stackoverflow.com/users/4597676/mugshep"}, "edited": false, "score": 0, "creation_date": 1433348830, "post_id": 30623789, "comment_id": 49317301, "body": "Using <code>create!</code> will be more efficient. In both cases, you have a query for <code>Restaurant.find</code> and another for <code>Inspection.create!</code>, but <code>save!</code> adds a third query you don&#39;t need."}, {"owner": {"reputation": 738, "user_id": 4597676, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c7ed7a53574544460958a80bcb0b06c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mugshep", "link": "https://stackoverflow.com/users/4597676/mugshep"}, "edited": false, "score": 0, "creation_date": 1433349064, "post_id": 30623789, "comment_id": 49317434, "body": "Great!  Again, very helpful.  Thanks!"}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": true, "score": 3, "last_activity_date": 1433343581, "creation_date": 1433343581, "answer_id": 30623789, "question_id": 30623198, "link": "https://stackoverflow.com/questions/30623198/trouble-importing-multiple-csvs-as-rails-while-maintaining-associations/30623789#30623789", "title": "Trouble importing multiple CSVs as Rails while maintaining associations", "body": "<p>Just assigning the <code>restaurant</code> in memory doesn't update the database. There are two ways to fix this:</p>\n\n<p>Save after the assignment:</p>\n\n<pre><code>csv.each do |row|\n  inspection = Inspection.create!(row.to_hash.except(\"permit_id\"))\n  inspection.restaurant = Restaurant.find_by(permit_id: row[\"permit_id\"])\n  inspection.save!\nend\n</code></pre>\n\n<p>Include <code>restaurant</code> in the <code>create!</code> parameters:</p>\n\n<pre><code>csv.each do |row|\n  restaurant = Restaurant.find_by(permit_id: row[\"permit_id\"])\n  inspection = Inspection.create!(\n    row.to_hash.except(\"permit_id\").merge(restaurant: restaurant)\n  )\nend\n</code></pre>\n"}], "owner": {"reputation": 738, "user_id": 4597676, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c7ed7a53574544460958a80bcb0b06c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mugshep", "link": "https://stackoverflow.com/users/4597676/mugshep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 2, "accepted_answer_id": 30623789, "answer_count": 2, "score": 2, "last_activity_date": 1433343581, "creation_date": 1433342213, "last_edit_date": 1495541764, "question_id": 30623198, "link": "https://stackoverflow.com/questions/30623198/trouble-importing-multiple-csvs-as-rails-while-maintaining-associations", "title": "Trouble importing multiple CSVs as Rails while maintaining associations", "body": "<p>First post.  Relatively new to Rails and coding in general.</p>\n\n<p>I'm having trouble importing seed data from multiple CSVs into Rails and ensuring that associations are maintained.  Data are data on restaurants and inspections done on those restaurants (restaurants have_many inspections, and inspections belong_to restaurants)</p>\n\n<p>This problem appears similar to \n<a href=\"https://stackoverflow.com/questions/2827209/rails-csv-import-adding-to-a-related-table\">Rails CSV import, adding to a related table</a>, and <a href=\"https://stackoverflow.com/questions/28347026/associating-rows-from-uploaded-csv-files-with-a-user-in-rails\">Associating rows from uploaded CSV files with a User in rails</a>, and seems related to how the user passes in a new variable in <a href=\"http://www.sitepoint.com/guide-ruby-csv-library-part/\" rel=\"nofollow noreferrer\">http://www.sitepoint.com/guide-ruby-csv-library-part/</a>.  </p>\n\n<p>Trying suggested code and variations on it I successfully import data, but restaurant_id is nil in the inspections table, similar to <a href=\"https://stackoverflow.com/questions/14643449/undefined-method-path-for-nilnilclass-when-trying-csv-import\">undefined method `path&#39; for nil:NilClass when trying CSV import</a>.  I am providing a file name for the import code though, so I'm not sure where I'm going wrong.  </p>\n\n<p>File code included below - Any thoughts appreciated! </p>\n\n<p><em>Inspection Migration</em></p>\n\n<pre><code>class CreateInspections &lt; ActiveRecord::Migration\n  def change\n    create_table :inspections do |t|\n      t.integer :inspection_id\n      t.belongs_to :restaurant, index: true, foreign_key: true\n      t.date :date\n      t.time :time\n      t.timestamps null: false\n    end\n  end\nend\n</code></pre>\n\n<p><em>Inspection Model</em></p>\n\n<pre><code>class Inspection &lt; ActiveRecord::Base\n  belongs_to :restaurant\nend\n</code></pre>\n\n<p><em>Restaurant Migration</em></p>\n\n<pre><code>class CreateRestaurants &lt; ActiveRecord::Migration\n  def change\n    create_table :restaurants do |t|\n        t.text :name\n        t.integer :permit_id\n        t.text :address\n        t.decimal :latitude\n        t.decimal :longitude\n\n        t.timestamps null: false\n    end\n  end\nend\n</code></pre>\n\n<p><em>Restaurant Model:</em></p>\n\n<pre><code>class Restaurant &lt; ActiveRecord::Base\n    has_many :inspections\nend\n</code></pre>\n\n<p><em>Inspection CSV:</em></p>\n\n<pre><code>inspection_id,permit_id,date,time\n</code></pre>\n\n<p><em>Restaurant CSV:</em></p>\n\n<pre><code>permit_id,name,address,latitude,longitude\n</code></pre>\n\n<p><em>Seeds.rb</em></p>\n\n<pre><code>require 'csv'\n#import restaurant records  \ncsv_text = File.read('db/restaurants.csv')\ncsv = CSV.parse(csv_text, :headers =&gt; true)\ncsv.each do |row|\n  Restaurant.create!(row.to_hash)\nend\n\n#import inspection records\ncsv_text = File.read('db/inspections.csv')\ncsv = CSV.parse(csv_text, :headers =&gt; true)\ncsv.each do |row|\n  inspection = Inspection.create!(row.to_hash.except(\"permit_id\"))\n  inspection.restaurant = Restaurant.find_by(permit_id: row[\"permit_id\"])\nend\n</code></pre>\n\n<p>I have excluded \"permit_id\" from the import of inspection data because, as I understand it, active record is going to create a field \"restaurant_id\" in the database table instead and use that for the association.  I've tried a number of variations on the block to get the value for restaurants_id, including nested loops and a separate block to get it and append it, but no success at this point though.  </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "params"], "comments": [{"owner": {"reputation": 17586, "user_id": 3482140, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lSFth.jpg?s=128&g=1", "display_name": "Am_I_Helpful", "link": "https://stackoverflow.com/users/3482140/am-i-helpful"}, "edited": false, "score": 0, "creation_date": 1433342000, "post_id": 30622969, "comment_id": 49312214, "body": "Please tag the programming language suitable to your question!"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1433358836, "post_id": 30622969, "comment_id": 49323284, "body": "Ugh; can you please reformat and take out the spurious br tags?"}, {"owner": {"reputation": 95, "user_id": 4855153, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SLZbQ.jpg?s=128&g=1", "display_name": "Phil_ish", "link": "https://stackoverflow.com/users/4855153/phil-ish"}, "edited": false, "score": 0, "creation_date": 1433359877, "post_id": 30622969, "comment_id": 49323846, "body": "Ruby. Sorry. Adding also the form_tag initiating the event:  &lt;%= form_tag(&quot;/alphas/#{params[:id]}/generate_betas&quot;, method:&quot;post&quot;) do %&gt;"}, {"owner": {"reputation": 4543, "user_id": 3213605, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/a2HS8.jpg?s=128&g=1", "display_name": "PhilVarg", "link": "https://stackoverflow.com/users/3213605/philvarg"}, "edited": false, "score": 0, "creation_date": 1433360418, "post_id": 30622969, "comment_id": 49324149, "body": "what does current_user return? can you not call <code>current_user.id</code>?"}, {"owner": {"reputation": 95, "user_id": 4855153, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SLZbQ.jpg?s=128&g=1", "display_name": "Phil_ish", "link": "https://stackoverflow.com/users/4855153/phil-ish"}, "edited": false, "score": 0, "creation_date": 1433362280, "post_id": 30622969, "comment_id": 49325239, "body": "Processes but user_id comes back = nil in the console with current_user.id. User is logged in."}, {"owner": {"reputation": 95, "user_id": 4855153, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SLZbQ.jpg?s=128&g=1", "display_name": "Phil_ish", "link": "https://stackoverflow.com/users/4855153/phil-ish"}, "reply_to_user": {"reputation": 4543, "user_id": 3213605, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/a2HS8.jpg?s=128&g=1", "display_name": "PhilVarg", "link": "https://stackoverflow.com/users/3213605/philvarg"}, "edited": false, "score": 0, "creation_date": 1433366132, "post_id": 30622969, "comment_id": 49327352, "body": "Ok.... @PhilVarg - I can hear the collective &quot;OMG&quot; across the Ruby universe, but that&#39;s ok. I&#39;ve been at this for days and I&#39;m just stoked that now It seems to work. I simply put parentheses around the 2nd argument. user_id: (current_user.id). I guess I&#39;d been using brackets. Couldn&#39;t see the forrest. Thanks."}], "owner": {"reputation": 95, "user_id": 4855153, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SLZbQ.jpg?s=128&g=1", "display_name": "Phil_ish", "link": "https://stackoverflow.com/users/4855153/phil-ish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433360233, "creation_date": 1433341677, "last_edit_date": 1433360233, "question_id": 30622969, "link": "https://stackoverflow.com/questions/30622969/cant-access-user-id-through-params-between-controllers-models", "title": "Can&#39;t access user_id through params, between controllers/models", "body": "<p>I have a method defined in one controller that creates a row in a different controller's table. I'm able to pass all of the data through to create the new row, except for the current user's ID, which I'm trying to grab through params. My user table is set up with devise so I have the current_user method but can't quite figure out the syntax for getting the user_id.  </p>\n\n<p><strong>CONTROLLER_ALPHA</strong></p>\n\n<pre><code>def generate_betas\nparams[:uni_num].to_i.times do Beta.create(alpha_id: params[:user_id], user_id: params[:alpha_id], rand_num: rand(1000000))\nend\nend\n</code></pre>\n\n<p><strong>CONTROLLER_BETA</strong></p>\n\n<pre><code>if current_user.present?\n@betas = current_user.betas\nelse\n@betas = Beta.all\n</code></pre>\n\n<p>An alpha has_many :betas\nA beta belongs_to :alpha</p>\n\n<pre><code>&lt;%= form_tag(\"/alphas/#{params[:id]}/generate_betas\", method:\"post\") do %&gt;\n</code></pre>\n\n<p>When I pull up the console I'm showing all of the beta elements except for the user_id.</p>\n\n<p>The issue is with that 2nd argument, user_id: params[:alpha_id].  With the current_user method my users can only see the alphas that they've created. Additionally, users are logged in, so I think I should be able to grab it from this method, but I'm not sure how.</p>\n\n<p>Does anyone know the right syntax for grabbing the user_id?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1433338873, "post_id": 30621187, "comment_id": 49309721, "body": "<code>initialize</code> will always return the object itself no matter what. So in this case natraj is a <code>Item</code>. You could add <code>attr_reader :my_hash</code> or <code>attr_accessor :my_hash</code> to the class and then access with <code>natraj.my_hash</code>. <code>attr_reader</code> will create just a getter method where as <code>attr_accessor</code> will generate both getter and setter methods."}, {"owner": {"reputation": 9, "user_id": 4657431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb230a0e07661a01ccc0a3bd155124a?s=128&d=identicon&r=PG&f=1", "display_name": "Anubhaw Kumar Jain", "link": "https://stackoverflow.com/users/4657431/anubhaw-kumar-jain"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1433348022, "post_id": 30621187, "comment_id": 49316816, "body": "Thanks. It works. on printing natraj directly, we get Item 0x251f820.  what is this item code?"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1433348596, "post_id": 30621187, "comment_id": 49317145, "body": "I believe that is the memory pointer for the object in question although it serves very little significance as it is implementation and interpreter specific."}], "answers": [{"tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 0, "last_activity_date": 1433347892, "creation_date": 1433347892, "answer_id": 30625392, "question_id": 30621187, "link": "https://stackoverflow.com/questions/30621187/how-can-i-access-the-object-natraj-from-outside-the-class-item/30625392#30625392", "title": "How can I access the object natraj from outside the class Item?", "body": "<p>Generally this sort of problem is approached in Ruby with code like this:</p>\n\n<pre><code>class Item\n  attr_reader :name\n  attr_reader :quantity\n\n  def initialize(options)\n    @name = options[:name]\n    @quantity = options[:quantity].to_i\n  end\n\n  def to_h\n    {\n      name: @name,\n      quantity: @quantity\n    }\n  end\nend\n\nnatraj = Item.new(name: \"pencil\", quantity: 500)\n\nnatraj.name\n# =&gt; \"pencil\"\nnatraj.quantity\n# =&gt; 500\n\nnatraj.to_h\n# =&gt; {:name=&gt;\"pencil\", :quantity=&gt;500}\n</code></pre>\n\n<p>As noted in the comments, <code>return</code> values in an <code>initialize</code> method is a special case and are ignored.</p>\n"}], "owner": {"reputation": 9, "user_id": 4657431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb230a0e07661a01ccc0a3bd155124a?s=128&d=identicon&r=PG&f=1", "display_name": "Anubhaw Kumar Jain", "link": "https://stackoverflow.com/users/4657431/anubhaw-kumar-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1433347892, "creation_date": 1433337213, "last_edit_date": 1433338004, "question_id": 30621187, "link": "https://stackoverflow.com/questions/30621187/how-can-i-access-the-object-natraj-from-outside-the-class-item", "title": "How can I access the object natraj from outside the class Item?", "body": "<pre><code>class Item\n    def initialize(hash)\n        @my_hash=hash\n        return @my_hash\n    end\nend\nnatraj=Item.new({name: \"pencil\", quantity: 500})\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "character-encoding"], "answers": [{"comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1433339052, "post_id": 30621303, "comment_id": 49309895, "body": "This is not an answer please actually explain yourself because this looks exactly the same except the order in the <code>Hash</code>"}, {"owner": {"reputation": 1461, "user_id": 2059047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5e1327cb46137894ca902795db2111ac?s=128&d=identicon&r=PG", "display_name": "Prashant4224", "link": "https://stackoverflow.com/users/2059047/prashant4224"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1433339487, "post_id": 30621303, "comment_id": 49310233, "body": "First you need to match number of characters in descending order <code>&#195;\u0152&#194;&#164;</code>, Hope this helps"}], "tags": [], "owner": {"reputation": 1461, "user_id": 2059047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5e1327cb46137894ca902795db2111ac?s=128&d=identicon&r=PG", "display_name": "Prashant4224", "link": "https://stackoverflow.com/users/2059047/prashant4224"}, "is_accepted": true, "score": 0, "last_activity_date": 1433339267, "last_edit_date": 1433339267, "creation_date": 1433337553, "answer_id": 30621303, "question_id": 30621134, "link": "https://stackoverflow.com/questions/30621134/impossible-to-replace-the-character-with-gsub/30621303#30621303", "title": "impossible to replace the character with gsub", "body": "<p>Replace your code with this:</p>\n\n<pre><code>def replace_chars(name)\n  chars = {\n      \"\u00c3\u0152\u00c2\u00a4\" =&gt; \"\u00e7\",\n      \"\u00c3\u0152\u00c2\u00a9\" =&gt; \"\u00e9\",\n      \"\u00e2\u20ac\u00a2\"  =&gt; \"\u00ef\",\n      \"\u00e2\u201e\u00a2\"  =&gt; \"\u00f4\",\n      \"\u00c5\u00bd\"   =&gt; '\u00e9',\n      \"\u00e2\u20ac\u02dc\"  =&gt; \"\u00eb\",\n      \"\u00c2\"    =&gt; \"\u00e7\"          \n    }\n  puts \"before #{name}\"\n  chars.each do |key,value|\n    name.gsub!(key,value)\n  end\n  puts \"after #{name}\"\nend\n\nreplace_chars('\u00c3\u0152\u00c2\u00a4liver \u00c5\u00bdponime')\nbefore \u00c3\u0152\u00c2\u00a4liver \u00c5\u00bdponime\nafter \u00e7liver \u00e9ponime\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 1, "creation_date": 1433346578, "post_id": 30622589, "comment_id": 49315866, "body": "<code>name.gsub!( Regexp.union(chars.keys), chars)</code> is less hackish."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1433346840, "post_id": 30622589, "comment_id": 49316053, "body": "@steenslag Thank you. I don&#39;t use the actual <code>Regexp</code> class often so I was unaware of this method. Updated my post."}], "tags": [], "owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "is_accepted": false, "score": 2, "last_activity_date": 1433346926, "last_edit_date": 1433346926, "creation_date": 1433340626, "answer_id": 30622589, "question_id": 30621134, "link": "https://stackoverflow.com/questions/30621134/impossible-to-replace-the-character-with-gsub/30622589#30622589", "title": "impossible to replace the character with gsub", "body": "<p>Here is another solution that will avoid the need to iterate all the characters and will replace matches. @Prashant4020 is correct that you will need to order the keys in descending length or at least sort them by length before performing this operation as <code>\u00c2</code> right now will match and substitute prior to <code>\u00c3\u0152\u00c2\u00a4</code>.   </p>\n\n<pre><code>def replace_chars(name\n  chars = {\n    \"\u00c3\u0152\u00c2\u00a4\" =&gt; \"\u00e7\",\n    \"\u00c3\u0152\u00c2\u00a9\" =&gt; \"\u00e9\",\n    \"\u00e2\u20ac\u00a2\"  =&gt; \"\u00ef\",\n    \"\u00e2\u201e\u00a2\"  =&gt; \"\u00f4\",\n    \"\u00c5\u00bd\"   =&gt; '\u00e9',\n    \"\u00e2\u20ac\u02dc\"  =&gt; \"\u00eb\",\n    \"\u00c2\"    =&gt; \"\u00e7\"\n }\n  #name.gsub!(/#{chars.keys.join('|')}/,chars)\n  #as suggested by @steenslag Regexp::union is definitely less of a hack\n  name.gsub!(Regexp.union(chars.keys),chars) \n  #translates to name.gsub!(/\u00c3\u0152\u00c2\u00a4|\u00c3\u0152\u00c2\u00a9\"|\u00e2\u20ac\u00a2|\u00e2\u201e\u00a2|\u00c5\u00bd|\u00e2\u20ac\u02dc|\u00c2/,{\"\u00c3\u0152\u00c2\u00a4\" =&gt; \"\u00e7\",\"\u00c3\u0152\u00c2\u00a9\"=&gt;\"\u00e9\",\"\u00e2\u20ac\u00a2\"=&gt;\"\u00ef\",\"\u00e2\u201e\u00a2\"=&gt;\"\u00f4\",\"\u00c5\u00bd\"=&gt;'\u00e9',\"\u00e2\u20ac\u02dc\"=&gt;\"\u00eb\",\"\u00c2\"=&gt;\"\u00e7\"})\nend\n</code></pre>\n\n<p>This creates a regex that will match the keys from the <code>chars</code> hash and then use the values to substitute the keys. This way <code>gsub!</code> will not be called for keys that do not exist in the <code>name</code> at all.</p>\n"}], "owner": {"reputation": 173, "user_id": 1774481, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b8b480fd4e8544998e458cbf69c03985?s=128&d=identicon&r=PG", "display_name": "user1774481", "link": "https://stackoverflow.com/users/1774481/user1774481"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 30621303, "answer_count": 2, "score": 0, "last_activity_date": 1433346926, "creation_date": 1433337080, "question_id": 30621134, "link": "https://stackoverflow.com/questions/30621134/impossible-to-replace-the-character-with-gsub", "title": "impossible to replace the character with gsub", "body": "<p>we import a file and in the file there for special crater at first I try encoding methods and decoding ruby and nothing happens, so I used gsub.\nwork it moist as the character group <code>\u00c3\u0152\u00c2\u00a9</code> and <code>\u00c3\u0152\u00c2\u00a4</code>\nFor the rest no problem replaces me.</p>\n\n<p>here method replace</p>\n\n<pre><code>def replace_chars(name)\n\n  chars = {\n          \"\u00c5\u00bd\"   =&gt; '\u00e9',\n          \"\u00c2\"    =&gt; \"\u00e7\",\n          \"\u00e2\u20ac\u02dc\"  =&gt; \"\u00eb\",\n          \"\u00e2\u201e\u00a2\"  =&gt; \"\u00f4\",\n          \"\u00c3\u0152\u00c2\u00a4\" =&gt; \"\u00e7\",\n          \"\u00c3\u0152\u00c2\u00a9\" =&gt; \"\u00e9\",\n          \"\u00e2\u20ac\u00a2\"  =&gt; \"\u00ef\"\n        }\n\n  puts \"before #{name}\"\n  chars.each do |key,value|\n    name.gsub!(key,value)\n  end\n  puts \"after #{name}\"\nend\n</code></pre>\n\n<p>if I but my method</p>\n\n<pre><code>replace_chars('\u00c3\u0152\u00c2\u00a4liver \u00c5\u00bdponime')\n</code></pre>\n\n<p>here puts the output of the method, the first he has not succeeded in changing the word but in the second he has made the change.</p>\n\n<p>output : <code>after \u00c3\u0152\u00e7\u00a4liver \u00e9ponime</code></p>\n\n<p>I do not understand why he does not want to take my character <code>\u00c3\u0152\u00c2\u00a4</code> and <code>\u00c3\u0152\u00c2\u00a9</code>.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "best-in-place"], "answers": [{"comments": [{"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "reply_to_user": {"reputation": 95, "user_id": 4354298, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4626b92297a55b5ff58458407ffc988c?s=128&d=identicon&r=PG&f=1", "display_name": "arunwrc", "link": "https://stackoverflow.com/users/4354298/arunwrc"}, "edited": false, "score": 0, "creation_date": 1433356844, "post_id": 30623539, "comment_id": 49322058, "body": "Good luck :-D I didn&#39;t see anything simple, post back if you figure it out."}, {"owner": {"reputation": 95, "user_id": 4354298, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4626b92297a55b5ff58458407ffc988c?s=128&d=identicon&r=PG&f=1", "display_name": "arunwrc", "link": "https://stackoverflow.com/users/4354298/arunwrc"}, "edited": false, "score": 0, "creation_date": 1433356967, "post_id": 30623539, "comment_id": 49322118, "body": "thnks bro, lemme go thru partials  and urls ..sure i will post wen i gt one."}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1433343020, "creation_date": 1433343020, "answer_id": 30623539, "question_id": 30621085, "link": "https://stackoverflow.com/questions/30621085/refresh-best-in-place-dropdown-in-rails4/30623539#30623539", "title": "Refresh best_in_place dropdown in rails4", "body": "<p>Unfortunately, <code>best_in_place</code> uses only the <code>select</code> options you rendered on the sever. It doesn't support updating the collection later.</p>\n"}], "owner": {"reputation": 95, "user_id": 4354298, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4626b92297a55b5ff58458407ffc988c?s=128&d=identicon&r=PG&f=1", "display_name": "arunwrc", "link": "https://stackoverflow.com/users/4354298/arunwrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433345459, "creation_date": 1433336977, "last_edit_date": 1433345459, "question_id": 30621085, "link": "https://stackoverflow.com/questions/30621085/refresh-best-in-place-dropdown-in-rails4", "title": "Refresh best_in_place dropdown in rails4", "body": "<p>I have a best_in_place dropdown to show all authors, and it has an option to add new value, when addnew value clicked,a textbox (best_in_place) appears and can add value,i need the the newly added value in that dropdown, from now the value appears only on refesh..any ideas..? thanks ..</p>\n"}, {"tags": ["ruby", "cucumber", "jruby", "sikuli", "sikuli-script"], "comments": [{"owner": {"reputation": 18203, "user_id": 100731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/056c32203f8017f075ac060069823b66?s=128&d=identicon&r=PG", "display_name": "phoet", "link": "https://stackoverflow.com/users/100731/phoet"}, "edited": false, "score": 0, "creation_date": 1433342732, "post_id": 30620723, "comment_id": 49312784, "body": "try installing jruby-openssl first <a href=\"https://github.com/jruby/jruby-openssl\" rel=\"nofollow noreferrer\">github.com/jruby/jruby-openssl</a>"}, {"owner": {"reputation": 117, "user_id": 2280280, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1sGUm.jpg?s=128&g=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/2280280/anshul"}, "reply_to_user": {"reputation": 18203, "user_id": 100731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/056c32203f8017f075ac060069823b66?s=128&d=identicon&r=PG", "display_name": "phoet", "link": "https://stackoverflow.com/users/100731/phoet"}, "edited": false, "score": 0, "creation_date": 1433394071, "post_id": 30620723, "comment_id": 49335620, "body": "I am running following command: &quot;$ jruby -S gem install jruby-openssl&quot; and getting same error as above. Error loading command...."}], "answers": [{"comments": [{"owner": {"reputation": 4873, "user_id": 651651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee078b759db00673bb32b00d016d935e?s=128&d=identicon&r=PG", "display_name": "wrtsprt", "link": "https://stackoverflow.com/users/651651/wrtsprt"}, "edited": false, "score": 0, "creation_date": 1438246470, "post_id": 30638656, "comment_id": 51375357, "body": "I am on 1.7.20 and have the same problem."}], "tags": [], "owner": {"reputation": 6788, "user_id": 454312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jNMNF.jpg?s=128&g=1", "display_name": "kares", "link": "https://stackoverflow.com/users/454312/kares"}, "is_accepted": false, "score": 0, "last_activity_date": 1433406263, "creation_date": 1433406263, "answer_id": 30638656, "question_id": 30620723, "link": "https://stackoverflow.com/questions/30620723/trying-to-run-cucumber-using-jruby/30638656#30638656", "title": "Trying to run cucumber using jruby", "body": "<p>update to latest 1.7.20 (or I believe at least 1.7.16 should do) and you should be good to go ... there were some nasty (default) gem visibility issues</p>\n"}], "owner": {"reputation": 117, "user_id": 2280280, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1sGUm.jpg?s=128&g=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/2280280/anshul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 585, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433406263, "creation_date": 1433336046, "question_id": 30620723, "link": "https://stackoverflow.com/questions/30620723/trying-to-run-cucumber-using-jruby", "title": "Trying to run cucumber using jruby", "body": "<p>I am trying to run cucumber using jruby. Below is the command I am using:</p>\n\n<p><code>$ jruby -S cucumber</code></p>\n\n<p>It gives me the following error:</p>\n\n<pre><code> Gem::LoadError: Could not find 'cucumber' (&gt;= 0) among 20 total gem(s)  \n to_specs at /Users/shrivaw1/.rvm/rubies/jruby-1.7.15/lib/ruby/shared/rubygems/dependency.rb:298\n to_spec at /Users/shrivaw1/.rvm/rubies/jruby-1.7.15/lib/ruby/shared/rubygems/dependency.rb:309\n gem at /Users/shrivaw1/.rvm/rubies/jruby-1.7.15/lib/ruby/shared/rubygems/core_ext/kernel_gem.rb:47  \n (root) at /usr/bin/cucumber:22\n</code></pre>\n\n<p>When I try to run following command:</p>\n\n<pre><code>$ jgem install cucumber\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ jruby -S gem install cucumber\n</code></pre>\n\n<p>then I get below error</p>\n\n<pre><code>ERROR:  Loading command: install (OpenSSL::X509::StoreError)\nsetting default path failed: null\nERROR:  While executing gem ... (NoMethodError)\nundefined method `invoke_with_build_args' for nil:NilClass\n</code></pre>\n\n<p>I also tried adding cacert.pem using following command (found from google search) but it also didnt helped.</p>\n\n<pre><code>export SSL_CERT_FILE=/Users/{PATH}/cacert.pem\n</code></pre>\n\n<p>Can anyone please help me resolve this issue. I basically want to run Sikuli + Cucumber using jruby. (<a href=\"https://github.com/chaslemley/cucumber_sikuli\" rel=\"nofollow\">https://github.com/chaslemley/cucumber_sikuli</a>)</p>\n"}, {"tags": ["ruby", "web-services", "sockets", "http", "io"], "answers": [{"tags": [], "owner": {"reputation": 6099, "user_id": 1638010, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02688b7723adbdc1a47705b2bf6b617c?s=128&d=identicon&r=PG", "display_name": "Craig S. Anderson", "link": "https://stackoverflow.com/users/1638010/craig-s-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1433355050, "last_edit_date": 1433355050, "creation_date": 1433345765, "answer_id": 30624638, "question_id": 30620557, "link": "https://stackoverflow.com/questions/30620557/web-server-in-ruby-and-connection-keep-alive/30624638#30624638", "title": "web server in ruby and connection keep-alive", "body": "<p>You need to:</p>\n\n<ol>\n<li>Keep around the sockets you get from the <code>@server.accept</code> call.  Store them in an array (<code>socket_array</code>).</li>\n<li><p>Use the <code>IO.select</code> call on the array of sockets to get the set of sockets that can be read:</p>\n\n<pre><code>ready = IO.select(socket_array)\nreadable = ready[0]\n\nreadable.each do |socket|\n    # Read from socket here\n    # Do the rest of processing here\n</code></pre></li>\n<li><p>Don't close the socket after you have sent the data.</p></li>\n</ol>\n\n<p>If you need more details leave a comment - I can write more of the code.</p>\n"}], "owner": {"reputation": 1, "user_id": 2304606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebaf5ec9dab2f7a23c60609ea753c97?s=128&d=identicon&r=PG", "display_name": "amerov", "link": "https://stackoverflow.com/users/2304606/amerov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433355050, "creation_date": 1433335645, "question_id": 30620557, "link": "https://stackoverflow.com/questions/30620557/web-server-in-ruby-and-connection-keep-alive", "title": "web server in ruby and connection keep-alive", "body": "<p>Web server example:</p>\n\n<pre><code>require 'rubygems'\nrequire 'socket'\nrequire 'thread'\n\nclass WebServer\n  LINE_TERMINATOR = \"\\r\\n\".freeze\n\n  def initialize(host, port)\n    @server = TCPServer.new(host, port)\n  end\n\n  def run\n    response_body = 'Hello World!'.freeze\n    response_headers = \"HTTP/1.1 200 OK#{LINE_TERMINATOR}Connection: Keep-Alive#{LINE_TERMINATOR}Content-Length: #{response_body.bytesize}#{LINE_TERMINATOR}\".freeze\n\n    loop do\n      Thread.new(@server.accept) do |socket|\n        puts \"request #{socket}\"\n        sleep 3\n        socket.setsockopt(Socket::IPPROTO_TCP, Socket::TCP_NODELAY, 1)\n        socket.write(response_headers)\n        socket.write(LINE_TERMINATOR)\n        socket.write(response_body)\n        # socket.close # if this line is uncommented then it's work.\n      end\n    end\n  end\nend\n\nWebServer.new('localhost', 8888).run\n</code></pre>\n\n<p>if update browser without waiting for the end of the cycle then the following queries are not processed</p>\n\n<p>How can handle incomming request which are persistent socket ? </p>\n"}, {"tags": ["ruby", "server", "jekyll"], "answers": [{"tags": [], "owner": {"reputation": 5825, "user_id": 4512948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/smfCE.png?s=128&g=1", "display_name": "matrixanomaly", "link": "https://stackoverflow.com/users/4512948/matrixanomaly"}, "is_accepted": true, "score": 1, "last_activity_date": 1433365644, "creation_date": 1433365644, "answer_id": 30630740, "question_id": 30620219, "link": "https://stackoverflow.com/questions/30620219/error-when-run-jekyll-server-on-windows-7/30630740#30630740", "title": "Error when run jekyll server on windows 7", "body": "<p>Python does not appear to be installed, which is why you get a liquid exception when trying to use the code highlighter Pygments. </p>\n\n<p>According to <a href=\"http://jekyll-windows.juthilo.com/3-syntax-highlighting/\" rel=\"nofollow\">this tutorial</a>, which is the suggested tutorial written by Julian Thilo on the <a href=\"http://jekyllrb.com/docs/windows/\" rel=\"nofollow\">Jekyll documentation</a>, you need <code>Python 2.7.x</code> at time of writing. Here is a summary of what you need to do to get the Jekyll install and server up and running.</p>\n\n<p><strong>Step 1 : Get Python</strong></p>\n\n<p>Download the latest version of Python 2.7: <a href=\"https://www.python.org/downloads/\" rel=\"nofollow\">here</a></p>\n\n<p><strong>Note:</strong> Make sure to add python.exe to Path and select \u201cEntire feature will be installed on local hard drive. <strong>This is needed on Windows</strong> or else Jekyll will fail to build the website when trying to highlight code with Pygments.</p>\n\n<p><strong>Step 2: Install Pip</strong></p>\n\n<p>It's a Python package manager which you'll use to install Pygments. <a href=\"https://pip.pypa.io/en/latest/installing.html\" rel=\"nofollow\">follow the official documentation for doing this.</a></p>\n\n<p><strong>Step 3: Get Pygments</strong></p>\n\n<p>Finally, Open up a command line and type in <code>python -m pip install Pygments</code></p>\n\n<p><strong>Step 4 : Done</strong></p>\n\n<p>Run <code>jekyll serve</code> again. </p>\n\n<p><strong>Optional Step</strong></p>\n\n<p>Since Pygments is the default syntax highlighter, you don't have to explicitly define what highlighter you're using, but if you prefer to, add this line to your <code>_config.yml</code> file: <code>highlighter : pygments</code></p>\n\n<p><strong>ALTERNATIVE 1: Don't want highlighters</strong></p>\n\n<p>If you won't be using a code highlighter just edit the markdown post you have <code>2015-06-02-welcome-to-jekyll.markdown</code> and remove the Liquid tags like so:</p>\n\n<p><code>{% highlight ruby %}</code> </p>\n\n<pre><code>  //Ruby code on the template you can ignore\n</code></pre>\n\n<p><code>{% endhighlight %}</code></p>\n\n<p><strong>ALTERNATIVE 2: Rouge, no need for Python</strong></p>\n\n<p>Rouge is a Ruby code highlighter, which while does not require Python and all that dependencies as it is written completely in Ruby (which you already have because Jekyll runs on Ruby). You'll need to edit the <code>_config.yml</code> to use <code>rouge</code> like so: <code>highlighter : rouge</code>, and run <code>gem install rouge</code> in the command line, as mentioned in same tutorial. <em>Note that at time of writing Rouge has <a href=\"https://github.com/jneen/rouge/wiki/List-of-supported-languages-and-lexers\" rel=\"nofollow\">lesser language support compared to Pygments</a>.</em> (but still a whole lot)</p>\n\n<p>Here's another tutorial on <a href=\"http://yizeng.me/2013/05/10/setup-jekyll-on-windows/\" rel=\"nofollow\">setting up Jekyll</a> on Windows. And it would be a good idea to follow the <a href=\"http://jekyll-windows.juthilo.com/\" rel=\"nofollow\">excellent tutorial</a> I've previously linked for installing Jekyll on Windows. </p>\n"}], "owner": {"reputation": 6450, "user_id": 2209497, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fS6G8.jpg?s=128&g=1", "display_name": "Lai32290", "link": "https://stackoverflow.com/users/2209497/lai32290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 1, "accepted_answer_id": 30630740, "answer_count": 1, "score": 2, "last_activity_date": 1433365644, "creation_date": 1433334795, "question_id": 30620219, "link": "https://stackoverflow.com/questions/30620219/error-when-run-jekyll-server-on-windows-7", "title": "Error when run jekyll server on windows 7", "body": "<p>I'm trying run <code>Jekyll</code> server in my local machine, so when I run <code>jekyll server</code> in terminal, returning fallowing message:</p>\n\n<pre><code>$ jekyll serve\nConfiguration file: C:/xxx/Site/_config.yml\n            Source: C:/xxx/Site\n       Destination: C:/xxx/Site/_site\n      Generating...\nc:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/posix-spawn-0.3.11/lib/posix/spawn.rb:164: warning: cannot close fd before spawn\n'which' n\u00e3o \u00e9 reconhecido como um comando interno\nou externo, um programa oper\u00e1vel ou um arquivo em lotes.\n\n  Liquid Exception: No such file or directory - python c:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/pygments.rb-0.6.0/lib/pygments/mentos.py in _posts/2015-06-02-welcome-to-j\nekyll.markdown\n                    done.\n  Please add the following to your Gemfile to avoid polling for changes:\n    gem 'wdm', '&gt;= 0.1.0' if Gem.win_platform?\n Auto-regeneration: enabled for 'C:/xxx/Site'\nConfiguration file: C:/xxx/Site/_config.yml\n    Server address: http://127.0.0.1:4000/\n  Server running... press ctrl-c to stop.\n</code></pre>\n\n<p>Cause I trying enter <a href=\"http://127.0.0.1:4000/\" rel=\"nofollow\">http://127.0.0.1:4000/</a>, is not happen, no error, no 404, only a empty page.</p>\n\n<p>Where is problem?</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "is_accepted": true, "score": 4, "last_activity_date": 1433345319, "last_edit_date": 1433345319, "creation_date": 1433343147, "answer_id": 30623602, "question_id": 30620168, "link": "https://stackoverflow.com/questions/30620168/writing-a-number-as-string-in-ruby-axlsx-library/30623602#30623602", "title": "Writing a number as string in ruby AXLSX library", "body": "<p>While you can format the string in ruby as mentioned using <code>rjust</code>. This will not help with the Excel file. In <code>axlsx</code> you can specify the data type when adding the row so that <code>axlsx</code> does not try and convert it for you e.g.</p>\n\n<pre><code>pkg = Axlsx::Package.new\nwb = pkg.workbook\nwb.add_worksheet do |sheet|  \n  sheet.add_row [\"001\",\"001\",\"001\"], types: [:string,:integer,nil]\nend\npkg.serialize('/test.xlsx')\n</code></pre>\n\n<p>This will produce a spreadsheet that looks like </p>\n\n<pre><code>|001|  1|  1|\n</code></pre>\n\n<p><strong>Note:</strong> the second \"001\" was converted because I did not specify a type and <code>axlsx</code> decided it was a number using the below methodology in <code>Cell</code>.</p>\n\n<pre><code>def cell_type_from_value(v)\n  if v.is_a?(Date)\n    :date\n  elsif v.is_a?(Time)\n    :time\n  elsif v.is_a?(TrueClass) || v.is_a?(FalseClass)\n    :boolean\n  elsif v.to_s =~ /\\A[+-]?\\d+?\\Z/ #numeric\n    :integer\n  elsif v.to_s =~ /\\A[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?\\Z/ #float\n    :float\n    # \\A(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|0[1-9]|[1-2][0-9])\n    # T(2[0-3]|[0-1][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]+)?\n    # (Z|[+-](?:2[0-3]|[0-1][0-9]):[0-5][0-9])?\\Z\n  elsif v.to_s =~/\\A(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|0[1-9]|[1-2][0-9])T(2[0-3]|[0-1][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]+)?(Z|[+-](?:2[0-3]|[0-1][0-9]):[0-5][0-9])?\\Z/\n    :iso_8601\n  else\n    :string\n  end\nend\n</code></pre>\n\n<p>Based on the result of this method it then \"<em>casts</em>\" the value using <code>to_i</code> in your case.</p>\n"}], "owner": {"reputation": 69, "user_id": 133743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9fbb3d86d0223e1decfccac895d069?s=128&d=identicon&r=PG", "display_name": "mizubasho", "link": "https://stackoverflow.com/users/133743/mizubasho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1510, "favorite_count": 0, "accepted_answer_id": 30623602, "answer_count": 1, "score": 2, "last_activity_date": 1433345319, "creation_date": 1433334664, "question_id": 30620168, "link": "https://stackoverflow.com/questions/30620168/writing-a-number-as-string-in-ruby-axlsx-library", "title": "Writing a number as string in ruby AXLSX library", "body": "<p>I need to write a string like \"001\" as a string rather than a number so the value is shown as \"001\", not \"1\", in the output spreadsheet document. How is it possible using AXLSX library?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 14827, "user_id": 645886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2abb0123e9484284a9cb2d36aa9854b3?s=128&d=identicon&r=PG&f=1", "display_name": "Surya", "link": "https://stackoverflow.com/users/645886/surya"}, "edited": false, "score": 0, "creation_date": 1433334459, "post_id": 30620039, "comment_id": 49306117, "body": "Order them where? On view? In Query?"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433334833, "post_id": 30620039, "comment_id": 49306400, "body": "You want group and order or only order ?"}, {"owner": {"reputation": 167, "user_id": 3562152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002596580416/picture?type=large", "display_name": "cccvandermeer", "link": "https://stackoverflow.com/users/3562152/cccvandermeer"}, "edited": false, "score": 0, "creation_date": 1433335293, "post_id": 30620039, "comment_id": 49306749, "body": "in a view, in just want to order, i managed to show the grouped points but not to oder by them."}, {"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433338646, "post_id": 30620039, "comment_id": 49309546, "body": "This is exatly what you need. <a href=\"http://stackoverflow.com/questions/5312728/activerecord-query-order-by-a-sum-on-an-included-model\" title=\"activerecord query order by a sum on an included model\">stackoverflow.com/questions/5312728/&hellip;</a>"}, {"owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "edited": false, "score": 0, "creation_date": 1433356843, "post_id": 30620039, "comment_id": 49322057, "body": "What&#39;s the schema of the data? Can you give any example code so that we can look at it?"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 3562152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002596580416/picture?type=large", "display_name": "cccvandermeer", "link": "https://stackoverflow.com/users/3562152/cccvandermeer"}, "edited": false, "score": 0, "creation_date": 1433335459, "post_id": 30620275, "comment_id": 49306873, "body": "Membership is a table that belongs to a team. Team is a table that has many memberships. Points is an attribute of membership."}, {"owner": {"reputation": 1860, "user_id": 2200476, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Gswy5.jpg?s=128&g=1", "display_name": "Kiran Muralee", "link": "https://stackoverflow.com/users/2200476/kiran-muralee"}, "reply_to_user": {"reputation": 167, "user_id": 3562152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002596580416/picture?type=large", "display_name": "cccvandermeer", "link": "https://stackoverflow.com/users/3562152/cccvandermeer"}, "edited": false, "score": 0, "creation_date": 1433337490, "post_id": 30620275, "comment_id": 49308560, "body": "@user3562152 edited answer according to your needs.If you don&#39;t want any attribute from team table you can omit the join condition"}], "tags": [], "owner": {"reputation": 1860, "user_id": 2200476, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Gswy5.jpg?s=128&g=1", "display_name": "Kiran Muralee", "link": "https://stackoverflow.com/users/2200476/kiran-muralee"}, "is_accepted": false, "score": 0, "last_activity_date": 1433338164, "last_edit_date": 1433338164, "creation_date": 1433334926, "answer_id": 30620275, "question_id": 30620039, "link": "https://stackoverflow.com/questions/30620039/order-model-by-sum-of-child-attribute-value/30620275#30620275", "title": "Order model by sum of child attribute value", "body": "<p>I don't have enough reputation to comment.So I am specifying my point here .Is this team data and its membership data on same table or team data in one table and membership data in another table.Which database are you using.If it is MySQL or Oracle you can use aggregate function and CASE statement followed by order by to solve this problem.</p>\n\n<p>You can use a query like this (If you are using MySQl database)</p>\n\n<pre><code>SELECT t.team_id,t.team_name,sum(t1.points) as sum_of_points,\n case  \n when sum(t1.points)=10 then \"Awsome\"\n when sum(t1.points)=8  then \"good\"\n else \"default\"\n end as credit \nfrom team t join team_membership t1 on(t.team_id=t1.team_id) \ngroup by t1.team_id order by sum_of_points desc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1019, "user_id": 4663917, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6624bc240dea43cc2312b733ad03238e?s=128&d=identicon&r=PG", "display_name": "Papaya Labs", "link": "https://stackoverflow.com/users/4663917/papaya-labs"}, "is_accepted": false, "score": 0, "last_activity_date": 1433342286, "last_edit_date": 1433342286, "creation_date": 1433338862, "answer_id": 30621864, "question_id": 30620039, "link": "https://stackoverflow.com/questions/30620039/order-model-by-sum-of-child-attribute-value/30621864#30621864", "title": "Order model by sum of child attribute value", "body": "<h1>In team.rb</h1>\n\n<pre><code>has_many :memberships\n\ndef total_points\n  self.memberships.sum(:points)\nend\n</code></pre>\n\n<h1>In controller</h1>\n\n<pre><code>@teams = Team.all.sort_by {|team| team.total_points }.reverse\n</code></pre>\n\n<h1>In view(example)</h1>\n\n<pre><code>&lt;% @teams.each do |team| %&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;%= team.total_points %&gt;&lt;/td&gt;\n    &lt;% if team.total_points &gt;= 10 %&gt;\n     &lt;td&gt;&lt;%= \"awesome\" %&gt;&lt;/td&gt;\n    &lt;% else %&gt;\n     &lt;td&gt;&lt;%= \"good\" %&gt;&lt;/td&gt;\n    &lt;% end %&gt;\n  &lt;/tr&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 3562152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002596580416/picture?type=large", "display_name": "cccvandermeer", "link": "https://stackoverflow.com/users/3562152/cccvandermeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1433342286, "creation_date": 1433334318, "question_id": 30620039, "link": "https://stackoverflow.com/questions/30620039/order-model-by-sum-of-child-attribute-value", "title": "Order model by sum of child attribute value", "body": "<p>I have Teams and teams have multiple memberships. Each memberships has points. I want to order teams by the sum of those membership points.</p>\n\n<p>Example:</p>\n\n<p>Team awesome | 10 points</p>\n\n<p>Team good    | 8 points</p>\n\n<p>Because:</p>\n\n<p><strong>Team awesome</strong></p>\n\n<ul>\n<li>membership 1, points: 5</li>\n<li>membership 2, points: 5</li>\n</ul>\n\n<p><strong>Team good:</strong></p>\n\n<ul>\n<li>membership 1, points: 5</li>\n<li>membership 2, points: 3</li>\n</ul>\n\n<p>But i cant seem to find a solution.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 697, "user_id": 377493, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0f15cd5f7c849a6502b4d5784054b9d4?s=128&d=identicon&r=PG", "display_name": "bmscomp", "link": "https://stackoverflow.com/users/377493/bmscomp"}, "edited": false, "score": 1, "creation_date": 1433334282, "post_id": 30619880, "comment_id": 49306000, "body": "Please can you post full code , I can guess you missed the right part of the code"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4965532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AOtktndghxU/AAAAAAAAAAI/AAAAAAAAAAA/-97wz4kUi2A/photo.jpg?sz=128", "display_name": "mat3", "link": "https://stackoverflow.com/users/4965532/mat3"}, "edited": false, "score": 0, "creation_date": 1433334913, "post_id": 30619950, "comment_id": 49306459, "body": "its working now but the - rescue TypeError puts &quot;Give me a directory&quot; - become wrong"}, {"owner": {"reputation": 14704, "user_id": 908515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/f1L9v.png?s=128&g=1", "display_name": "undur_gongor", "link": "https://stackoverflow.com/users/908515/undur-gongor"}, "reply_to_user": {"reputation": 3, "user_id": 4965532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AOtktndghxU/AAAAAAAAAAI/AAAAAAAAAAA/-97wz4kUi2A/photo.jpg?sz=128", "display_name": "mat3", "link": "https://stackoverflow.com/users/4965532/mat3"}, "edited": false, "score": 0, "creation_date": 1433336717, "post_id": 30619950, "comment_id": 49307904, "body": "@mat3: sorry, I don&#39;t understand."}], "tags": [], "owner": {"reputation": 14704, "user_id": 908515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/f1L9v.png?s=128&g=1", "display_name": "undur_gongor", "link": "https://stackoverflow.com/users/908515/undur-gongor"}, "is_accepted": false, "score": 4, "last_activity_date": 1433334072, "creation_date": 1433334072, "answer_id": 30619950, "question_id": 30619880, "link": "https://stackoverflow.com/questions/30619880/ruby-check-if-directory-exists/30619950#30619950", "title": "Ruby: check if directory exists", "body": "<pre><code>if Dir.exist?('/home/foo/bar/baz')\n  ... \nelse\n  ... \nend\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4965532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AOtktndghxU/AAAAAAAAAAI/AAAAAAAAAAA/-97wz4kUi2A/photo.jpg?sz=128", "display_name": "mat3", "link": "https://stackoverflow.com/users/4965532/mat3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1971, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1433334328, "creation_date": 1433333878, "last_edit_date": 1433334328, "question_id": 30619880, "link": "https://stackoverflow.com/questions/30619880/ruby-check-if-directory-exists", "title": "Ruby: check if directory exists", "body": "<p>How can I check if a directory exists in Ruby?\nI tried with this but it didn't want to work.</p>\n\n<pre><code>rescue Errno::ENOENT\nputs \"Directory does not exist\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "linux"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1433332359, "post_id": 30619243, "comment_id": 49304573, "body": "Try removing the single quotes."}], "answers": [{"comments": [{"owner": {"reputation": 4984, "user_id": 721578, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa50860353d6c6bba575cefe31c5709f?s=128&d=identicon&r=PG", "display_name": "Benjam", "link": "https://stackoverflow.com/users/721578/benjam"}, "edited": false, "score": 0, "creation_date": 1519151484, "post_id": 30619413, "comment_id": 84789372, "body": "This fix is also true for the <code>exec</code> family of functions in C/C++"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1433332531, "creation_date": 1433332531, "answer_id": 30619413, "question_id": 30619243, "link": "https://stackoverflow.com/questions/30619243/error-tar-invalid-transform-expressionwhile-i-am-creating-a-tar-using-system/30619413#30619413", "title": "Error &quot;tar: Invalid transform expression&quot;while I am creating a TAR using system command in ruby. Why?", "body": "<p>The single quotes are needed on the command line or in a shell script to prevent the shell from interpreting the special characters. They're not needed here.</p>\n"}], "owner": {"reputation": 227, "user_id": 3068951, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/IrRay.jpg?s=128&g=1", "display_name": "ritzz.soni", "link": "https://stackoverflow.com/users/3068951/ritzz-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1009, "favorite_count": 0, "accepted_answer_id": 30619413, "answer_count": 1, "score": 2, "last_activity_date": 1433332531, "creation_date": 1433332108, "last_edit_date": 1433332237, "question_id": 30619243, "link": "https://stackoverflow.com/questions/30619243/error-tar-invalid-transform-expressionwhile-i-am-creating-a-tar-using-system", "title": "Error &quot;tar: Invalid transform expression&quot;while I am creating a TAR using system command in ruby. Why?", "body": "<p>I am creating a TAR using system command in ruby, passing a array as argument<br>\nwhich look likes this: <br></p>\n\n<pre><code>cmd_params = [\"tar\", \"-cf\", \"my.tar\", \"wp-signup.php_1433243457_25152\", \"--transform='s/_[0-9]*_[0-9]*$//g'\"]\nsystem(*cmd_params)\n</code></pre>\n\n<p>But getting an Error </p>\n\n<blockquote>\n  <p>tar: Invalid transform expression</p>\n</blockquote>\n\n<p>is there any way out for doing this ??</p>\n"}, {"tags": ["ruby", "ruby-on-rails-3.2"], "comments": [{"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433332175, "post_id": 30619099, "comment_id": 49304446, "body": "You can get last element from @all_ids using <code>@all_ids.last</code> so you can use last id to get record from user table then you can use this to get rest of ids in array <code>@all_ids - [@all_ids.last]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1433332870, "post_id": 30619445, "comment_id": 49304959, "body": "I like your answer more - I completely forgot you can pass an array into <code>#find</code>"}, {"owner": {"reputation": 3262, "user_id": 4790217, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/51e840c4fca312811ef7da6ab52df663?s=128&d=identicon&r=PG&f=1", "display_name": "satya", "link": "https://stackoverflow.com/users/4790217/satya"}, "edited": false, "score": 0, "creation_date": 1433333042, "post_id": 30619445, "comment_id": 49305084, "body": "@margo : I need to fetch records as per all ids without last id in array.How can i make your line-2 accordingly."}, {"owner": {"reputation": 2799, "user_id": 3772982, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/91362482c60ebfba88fbdbde79c5fac6?s=128&d=identicon&r=PG&f=1", "display_name": "margo", "link": "https://stackoverflow.com/users/3772982/margo"}, "edited": false, "score": 0, "creation_date": 1433333768, "post_id": 30619445, "comment_id": 49305617, "body": "Experiment with pop in the console and you will see that once you have used pop on the array, the array is altered and will not contain the last element. E.g. run all_ids.pop - it will return 4. Then run all_ids - it will return [1,2,3]. That is why it is called destructive. As long as you don&#39;t mind  the array being altered, then you can use it, though many would not recommend it for that very reason."}], "tags": [], "owner": {"reputation": 2799, "user_id": 3772982, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/91362482c60ebfba88fbdbde79c5fac6?s=128&d=identicon&r=PG&f=1", "display_name": "margo", "link": "https://stackoverflow.com/users/3772982/margo"}, "is_accepted": false, "score": 2, "last_activity_date": 1433332582, "creation_date": 1433332582, "answer_id": 30619445, "question_id": 30619099, "link": "https://stackoverflow.com/questions/30619099/fetch-records-from-different-tables-using-array-of-ids-in-rails-3/30619445#30619445", "title": "Fetch records from different tables using array of ids in Rails 3", "body": "<p>The pop method returns the last element in the array. It is a destructive method in that it alters the contents of the array. The array will now hold all the values minus the last one.</p>\n\n<pre><code>user = User.find(@all_ids.pop)\npayments = Payment.find(@all_ids)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 1843919, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/993a0.png?s=128&g=1", "display_name": "Rebel Rider", "link": "https://stackoverflow.com/users/1843919/rebel-rider"}, "is_accepted": false, "score": 0, "last_activity_date": 1433864048, "creation_date": 1433864048, "answer_id": 30736604, "question_id": 30619099, "link": "https://stackoverflow.com/questions/30619099/fetch-records-from-different-tables-using-array-of-ids-in-rails-3/30736604#30736604", "title": "Fetch records from different tables using array of ids in Rails 3", "body": "<pre><code>user = User.find(@all_ids.pop)\npayments = Payment.find(@all_ids)\n</code></pre>\n"}], "owner": {"reputation": 3262, "user_id": 4790217, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/51e840c4fca312811ef7da6ab52df663?s=128&d=identicon&r=PG&f=1", "display_name": "satya", "link": "https://stackoverflow.com/users/4790217/satya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433864048, "creation_date": 1433331724, "question_id": 30619099, "link": "https://stackoverflow.com/questions/30619099/fetch-records-from-different-tables-using-array-of-ids-in-rails-3", "title": "Fetch records from different tables using array of ids in Rails 3", "body": "<p>Suppose i have a array of ids like below.</p>\n\n<pre><code>@all_ids=[1,2,3,4]\n</code></pre>\n\n<p>My requirement is using very last id i will fetch records from one table(i.e-User) and i will fetch records from another table(i.e-Payment) using rest of the ids in an array.In the below method i will do this operation.</p>\n\n<blockquote>\n  <p>users_controller.rb:</p>\n</blockquote>\n\n<pre><code>class UsersController &lt; ApplicationController\ndef update\n@all_ids=[1,2,3,4]\nend\nend\n</code></pre>\n\n<p>Please help me to resolve this problem.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "solr", "sunspot-solr", "websolr"], "answers": [{"comments": [{"owner": {"reputation": 725, "user_id": 1124639, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2cf92b963a53cb9ca68a65366f672b6?s=128&d=identicon&r=PG&f=1", "display_name": "Pramodh", "link": "https://stackoverflow.com/users/1124639/pramodh"}, "edited": false, "score": 0, "creation_date": 1433392880, "post_id": 30623979, "comment_id": 49335226, "body": "thank you, but this is normal search. i am looking to re-ranking the generated result. please refer to the links i provided"}], "tags": [], "owner": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "is_accepted": false, "score": 0, "last_activity_date": 1433344051, "creation_date": 1433344051, "answer_id": 30623979, "question_id": 30619097, "link": "https://stackoverflow.com/questions/30619097/how-to-rank-records-dynamically-in-a-result-set-in-rails-using-sunspot-solr/30623979#30623979", "title": "how to rank records dynamically in a result set in rails using sunspot solr", "body": "<p>you can do something like:-</p>\n\n<pre><code>def build_query(where_conditions)\n  condition_procs = where_conditions.map{|c| build_condition c}\n\n  Sunspot.search(table_clazz) do\n    condition_procs.each{|c| instance_eval &amp;c}\n    paginate(:page =&gt; page, :per_page =&gt; per_page)\n  end\nend\n\ndef build_condition(condition)\n  Proc.new do\n    # write this code as if it was inside the sunspot search block\n    keywords condition['words'], :fields =&gt; condition[:field].to_sym\n  end\nend\n\nconditions = [{words: \"tasty pizza\", field: \"title\"},\n              {words: \"cheap\",       field: \"description\"}]\n\nbuild_query conditions\n</code></pre>\n"}], "owner": {"reputation": 725, "user_id": 1124639, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2cf92b963a53cb9ca68a65366f672b6?s=128&d=identicon&r=PG&f=1", "display_name": "Pramodh", "link": "https://stackoverflow.com/users/1124639/pramodh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433835895, "creation_date": 1433331721, "last_edit_date": 1592644375, "question_id": 30619097, "link": "https://stackoverflow.com/questions/30619097/how-to-rank-records-dynamically-in-a-result-set-in-rails-using-sunspot-solr", "title": "how to rank records dynamically in a result set in rails using sunspot solr", "body": "<p>I have <code>users</code>, <code>cafes</code> and their <code>food_items</code>(which have some ingredients listed). Until now i used solr to search for food_items via some <code>ingredients</code> that a user likes. This was accomplished using sunspot-solr search according to the <a href=\"https://github.com/sunspot/sunspot\" rel=\"nofollow noreferrer\">sunspot docs</a></p>\n<p>Also, i am able to gather a relative <code>like-ness</code> of a user to different cafes(based on how many times he has visited it, searched its menu etc)(this is a dynamic value that will be generated on the fly)</p>\n<p><b>Problem:</b>\nI want to show the same results(food_items) fetched via solr, <b>ranked by</b> cafes(result re-ranking)(based on the like-ness of the user to a cafe) using sunspot solr for rails <br>\nThis app is hosted on heroku and uses <code>websolr</code></p>\n<p>i have found these:</p>\n<blockquote>\n<p><a href=\"https://cwiki.apache.org/confluence/display/solr/Query+Re-Ranking\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/solr/Query+Re-Ranking</a></p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/solr/RankQuery+API\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/solr/RankQuery+API</a></p>\n</blockquote>\n<p>but i have no idea as to how i can create a <code>QParserPlugin</code> or generate a rank query in sunspot.</p>\n<p><code>sunspot</code> provides a way to <a href=\"https://github.com/sunspot/sunspot/wiki/Building-queries-by-hand\" rel=\"nofollow noreferrer\">write custom queries</a>. so if i could get help in constructing a query to fetch the like-ness and rank each record (or) any other way to implement such logic, that would be great. <br> thanks!</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "rubygems", "paper-trail-gem"], "comments": [{"owner": {"reputation": 18203, "user_id": 100731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/056c32203f8017f075ac060069823b66?s=128&d=identicon&r=PG", "display_name": "phoet", "link": "https://stackoverflow.com/users/100731/phoet"}, "edited": false, "score": 0, "creation_date": 1433339200, "post_id": 30619001, "comment_id": 49310020, "body": "please always post the whole stacktrace!"}], "answers": [{"tags": [], "owner": {"reputation": 3429, "user_id": 1414327, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/xcgRQ.jpg?s=128&g=1", "display_name": "Asnad Atta", "link": "https://stackoverflow.com/users/1414327/asnad-atta"}, "is_accepted": false, "score": 0, "last_activity_date": 1433395294, "creation_date": 1433395294, "answer_id": 30635493, "question_id": 30619001, "link": "https://stackoverflow.com/questions/30619001/papertrail-undefined-method-klass-for-nilnilclass/30635493#30635493", "title": "Papertrail undefined method `klass&#39; for nil:NilClass", "body": "<p>I solved the problem there is an association</p>\n\n<pre><code>has_many :users, through: :shares\n</code></pre>\n\n<p>in share_types while I do not have</p>\n\n<pre><code>has_many :shares\n</code></pre>\n\n<p>so I need to remove this line</p>\n\n<pre><code>has_many :users, through: :shares\n</code></pre>\n\n<p>which I do not need this solved my problem.</p>\n"}], "owner": {"reputation": 3429, "user_id": 1414327, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/xcgRQ.jpg?s=128&g=1", "display_name": "Asnad Atta", "link": "https://stackoverflow.com/users/1414327/asnad-atta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1433395294, "creation_date": 1433331479, "question_id": 30619001, "link": "https://stackoverflow.com/questions/30619001/papertrail-undefined-method-klass-for-nilnilclass", "title": "Papertrail undefined method `klass&#39; for nil:NilClass", "body": "<p>I have this revert method in my controller</p>\n\n<pre><code>def revert\n  version = PaperTrail::Version.find(params[:id])\n  if version.reify\n    version.reify(:has_many=&gt;true).save!\n  else\n    version.item.destroy\n  end\n  share_type = ShareType.find(params[:share_type_id])\n  redirect_to :back\nend\n</code></pre>\n\n<p>I am getting error of undefined method `klass' for nil:NilClass on</p>\n\n<pre><code>version.reify(:has_many=&gt;true).save!\n</code></pre>\n\n<p>but when I try </p>\n\n<pre><code>version.reify.save!\n</code></pre>\n\n<p>everything become fine what am I doing wrong I am using revert method for another resource with</p>\n\n<pre><code>def revert\n  version = PaperTrail::Version.find(params[:id])\n  if version.reify\n    version.reify(has_many: true).save!\n  else\n    version.item.destroy\n  end\n  company = Company.find_by_slug(params[:company_id])\n  redirect_to :back\nend\n</code></pre>\n\n<p>This works fine with out any error.\nhere are my models for both resources</p>\n\n<pre><code>class ShareType &lt; ActiveRecord::Base\n\n  has_paper_trail\n  belongs_to :company \n  has_many :issue_shares, dependent: :destroy\n  has_many :users, through: :shares\n\n  validates :company, :code, :name, :reason, :effective_date, presence: true\n\n  before_save :convert_new_line_to_html\n\n  def convert_new_line_to_html\n    self.description.to_s.gsub!(/\\r\\n?/, \"&lt;br&gt;\")\n  end\n\nend\n</code></pre>\n\n<p>and for company</p>\n\n<pre><code>class Company &lt; ActiveRecord::Base\n  extend FriendlyId\n  friendly_id :slug_candidates, use: :slugged\n  has_many :user_companies, dependent: :destroy\n  has_many :users, through: :user_companies\n  has_many :advisor_invitations\n  has_many :company_advisors\n  has_many :advisors, through: :company_advisors\n\n  belongs_to :created_by, class_name: \"User\", foreign_key: \"user_id\"\n\n  has_many :share_types, dependent: :destroy\n  validates :user_id, :name,:company_no,:company_type,:registered_office, :principle_place, presence: true\n  validates_uniqueness_of :name, :company_no\n\n  validates_presence_of :register_address_occupier, :if =&gt; lambda { |o| !o.occupied_by_company }\n  has_paper_trail\n\n  def slug_candidates\n    [\n      :name,\n      [:name, :company_type],\n      [:name, :company_type, :company_no],\n   ]\n  end\n  def should_generate_new_friendly_id?\n     slug.blank? || name_changed?\n  end\n  def is_admin?(user)\n    !user_companies.where(\"user_id=? AND role=?\",user.id, 0).empty?\n  end\n  def share_holder?(user)\n    shares = Share.includes(issue_share:[:share_type]).where(\"share_types.company_id=? AND shares.user_id=?\", id, user.id).references(:share_types)\n    !shares.empty?\n  end\n\n  def is_director?(user)\n    !user_companies.where(\"user_id=? AND role=?\",user.id, 1).empty?\n  end\n\n  def is_advisor?(user)\n    !advisors.where(\"user_id=?\",user.id).empty?\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "routes", "railstutorial.org"], "comments": [{"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "edited": false, "score": 0, "creation_date": 1433330801, "post_id": 30618585, "comment_id": 49303471, "body": "What&#39;s wrong with <code>resources :account_activations, only: [:update]</code>?"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "reply_to_user": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "edited": false, "score": 0, "creation_date": 1433331245, "post_id": 30618585, "comment_id": 49303790, "body": "Although not the case in my situation, I can imagine that one might already be using <code>update</code> for something else. But since that&#39;s not the case in my situation I tried it (added to original post as 3rd attempt). It might also be a problem that update does not generate a GET route."}, {"owner": {"reputation": 2982, "user_id": 3176055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c976138fc7bd60baa57b22e334816a44?s=128&d=identicon&r=PG&f=1", "display_name": "jon snow", "link": "https://stackoverflow.com/users/3176055/jon-snow"}, "edited": false, "score": 0, "creation_date": 1433332218, "post_id": 30618585, "comment_id": 49304473, "body": "Try this routes<code>get &#39;account_activations&#47;:token&#47;update_email&#39; =&gt; &#39;account_activations#update_email&#39;, as: &#39;update_email&#39;</code>"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433332742, "post_id": 30618585, "comment_id": 49304883, "body": "That generates the error <code>missing required keys: [:token]</code>. The token should be available as <code>params[:id]</code>, i.e., <a href=\"https://www.railstutorial.org/book/account_activation_password_reset#sec-account_activation_mailer\" rel=\"nofollow noreferrer\">railstutorial</a> (which I followed for the account activations link) writes: &quot;the token will be available in the params hash as params[:id].&quot;, which is why perhaps the first alternative I mention in the original post would make most sense."}, {"owner": {"reputation": 2982, "user_id": 3176055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c976138fc7bd60baa57b22e334816a44?s=128&d=identicon&r=PG&f=1", "display_name": "jon snow", "link": "https://stackoverflow.com/users/3176055/jon-snow"}, "edited": false, "score": 0, "creation_date": 1433334171, "post_id": 30618585, "comment_id": 49305923, "body": "for your update, try this <code>get &#39;&#47;account_activations&#47;:id&#47;update_email&#39; =&gt; &#39;account_activations#update_email&#39;, as: &#39;update_email&#39;</code>"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433334247, "post_id": 30618585, "comment_id": 49305978, "body": "Yes, then I do get the correct result for <code>rake routes</code> (added to OP) but when the mailer should send its message the link produces the error &quot;missing required keys: [:id]&quot;."}, {"owner": {"reputation": 2982, "user_id": 3176055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c976138fc7bd60baa57b22e334816a44?s=128&d=identicon&r=PG&f=1", "display_name": "jon snow", "link": "https://stackoverflow.com/users/3176055/jon-snow"}, "edited": false, "score": 0, "creation_date": 1433338026, "post_id": 30618585, "comment_id": 49309025, "body": "Its not a solution, But  try like this, ` update_email_url(id: @user.activation_token, email: @user.email) `"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433339836, "post_id": 30618585, "comment_id": 49310516, "body": "Thanks Jon, the route mentioned in the update of the original post and that you mentioned as well, worked. It turned out there was an additional problem with a before action in the model file. This resulted in the token not being generated, which produced the error of the missing required key. But it&#39;s solved now."}, {"owner": {"reputation": 1820, "user_id": 5830835, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/29a99125813cee34a6ecfe0d0e432eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Timmy Von Heiss ", "link": "https://stackoverflow.com/users/5830835/timmy-von-heiss"}, "edited": false, "score": 0, "creation_date": 1477069150, "post_id": 30618585, "comment_id": 67631144, "body": "Did you ever solve this? I am having the same trouble."}], "answers": [{"comments": [{"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433333091, "post_id": 30619534, "comment_id": 49305121, "body": "I believe <code>params[:id]</code> doesn&#39;t refer to the id of the user but to the token. <a href=\"https://www.railstutorial.org/book/account_activation_password_reset#sec-account_activation_mailer\" rel=\"nofollow noreferrer\">Railstutorial</a> (which I used for account activations link) writes: &quot;the token will be available in the params hash as params[:id].&quot;. In the end, I want to do the same for <code>update_email</code> as I do for &quot;account activation&quot; and currently I don&#39;t see why what I&#39;m doing is working for account activation but not for updating the email address. The only difference I see is the route, why it seems to me there must be the cause"}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433334160, "post_id": 30619534, "comment_id": 49305909, "body": "The author is saying, <code>as params[:id]</code>. If you write <code>get &#39;account_activations&#47;:token&#47;update_email&#39;</code>, then you can access it through only <code>params[:token]</code>. To access it through <code>params[:id]</code>, you need to access to do <code>get &#39;account_activations&#47;:id&#47;update_email&#39;</code>"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433334345, "post_id": 30619534, "comment_id": 49306047, "body": "Yes I think that&#39;s the route I&#39;m looking for (added at the end of OP). Unfortunately, it still produces the error &quot;missing required keys: [:id]&quot;. Really strange since it is working for &quot;account activations&quot; and I don&#39;t see how what I&#39;m doing for update_email is any different."}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433335101, "post_id": 30619534, "comment_id": 49306588, "body": "You need to pass <code>id</code> in the URL that you are not passing."}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433335113, "post_id": 30619534, "comment_id": 49306597, "body": "Can you show me the URL that you are trying to access?"}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433335231, "post_id": 30619534, "comment_id": 49306702, "body": "And if you do not want to want to pass the <code>id</code>, change your route to <code>account_activations&#47;update_email&#47;:token</code>, and just pass the token."}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433335805, "post_id": 30619534, "comment_id": 49307154, "body": "I&#39;d prefer to keep the route as you previously suggested because I want it to be the same as I have for &quot;account activation&quot;. The logic/url is similar to &quot;account activation&quot; as well: 1) user updates profile incl. email address, which calls on <code>def update</code> in user controller. 2) This method calls on a user model method that activates the mailer. 3) A before action generates the digest and token (private method). 4) The mailer sends the link. So it&#39;s an update button instead of an URL that activates this whole process."}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433335940, "post_id": 30619534, "comment_id": 49307272, "body": "So I wonder if perhaps when Rails says <code>:id=&gt;nil</code>, that it&#39;s actually saying that the token has not been generated. Is there a way to check for this?"}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1433336130, "post_id": 30619534, "comment_id": 49307424, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/79538/discussion-between-arslan-ali-and-nick\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "is_accepted": true, "score": 0, "last_activity_date": 1433332834, "creation_date": 1433332834, "answer_id": 30619534, "question_id": 30618585, "link": "https://stackoverflow.com/questions/30618585/route-for-mailer-link/30619534#30619534", "title": "Route for mailer link", "body": "<blockquote>\n  <p><code>get 'account_activations/update_email/:id' =&gt; 'account_activations#update_email', as: 'update_email'</code>. Here I get an error saying missing required keys: [:id].</p>\n</blockquote>\n\n<p>You are getting this error because in your <strong>config/routes.rb</strong> file, you are saying <code>get 'account_activations/update_email/:id</code>, and that makes it necessary to send an <code>id</code> whenever you would trigger this route. And you when you do not send an <code>id</code>, you will get the error. </p>\n\n<blockquote>\n  <p><code>get 'account_activations/update_email' =&gt; 'account_activations#update_email', as: 'update_email'.</code> Here I get a link such <code>http://www.example.com/account_activations/update_email?email=foo%40example.com.</code> So again the token is missing from the link.</p>\n</blockquote>\n\n<p>If you <em>really</em> want to send the token along with the request, you have to mention it in <code>get 'account_activations/update_email'</code> like <code>get 'account_activations/update_email/:token'</code>, this way - it will get appended with the URL.</p>\n\n<blockquote>\n  <p><code>resources :account_activations, only: :update</code>. And changed the link to <code>&lt;%= account_activation_url(@user.activation_token, email: @user.email) %&gt;</code> (and of course change the method name in the controller). This produces the error message:</p>\n  \n  <blockquote>\n    <p>No route matches {:action=>\"update\", :controller=>\"account_activations\", :email=>\"example@example.com\", :id=>nil} missing required keys: [:id].</p>\n  </blockquote>\n</blockquote>\n\n<p>Well, this is what I explained you in the comment. <code>update</code> method does require the <code>id</code> of the model that you are trying to update. Without <code>id</code>, it won't work. </p>\n\n<p>So, at the end - the solution that I'd suggest is: Make a custom method with the <code>get</code> route, and send token and <code>id</code> attached with the URL.</p>\n"}], "owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 30619534, "answer_count": 1, "score": 1, "last_activity_date": 1433334516, "creation_date": 1433330251, "last_edit_date": 1433334516, "question_id": 30618585, "link": "https://stackoverflow.com/questions/30618585/route-for-mailer-link", "title": "Route for mailer link", "body": "<p><strong>Account activation</strong></p>\n\n<p>The route and mailer link that I use for account account activation are as follows:</p>\n\n<pre><code># Route:\nresources :account_activations, only: [:edit]\n\n# Link in mailer:    \n&lt;%= edit_account_activation_url(@user.activation_token, email: @user.email) %&gt;\n</code></pre>\n\n<p>The link generates a link such as <code>http://www.example.com/account_activations/q5lt38hQDc_959PVoo6b7A/edit?email=foo%40example.com</code>. The controller method uses the email address to find the user.</p>\n\n<p><strong>Something similar for updating an email address</strong></p>\n\n<p>Now I want to do something similar with a confirmation link if a user changes its email address. I've set up various controller and model methods but I think it's going wrong with regard to the link in the mailer and the route. I have:</p>\n\n<pre><code># Route (should be the same as edit route above, but now for update_email):\nget 'account_activations/update_email/:email' =&gt; 'account_activations#update_email', as: 'update_email'\n\n# Link in mailer:\n&lt;%= update_email_url(@user.activation_token, email: @user.email) %&gt;\n</code></pre>\n\n<p><strong>The problem:</strong> </p>\n\n<p>The link should identify the user based on its email address (just like for account activation) and generate a link such as: <code>http://www.example.com/account_activations/q5lt38hQDc_959PVoo6b7A/update_email?email=foo%40example.com</code>. Instead however it now generates a link such as <code>http://www.example.com/account_activations/update_email/foo@example.com</code>. </p>\n\n<p>I think it's the route that is wrong, but am unsure how to 'mimick' the edit route that I have for account activations. </p>\n\n<p><strong>Attempted alternative routes:</strong></p>\n\n<ul>\n<li><code>get 'account_activations/update_email/:id' =&gt; 'account_activations#update_email', as: 'update_email'</code>. Here I get an error saying <code>missing required keys: [:id]</code>.</li>\n<li><code>get 'account_activations/update_email' =&gt; 'account_activations#update_email', as: 'update_email'</code>. Here I get a link such <code>http://www.example.com/account_activations/update_email?email=foo%40example.com</code>. So again the token is missing from the link.</li>\n<li><code>resources :account_activations, only: :update</code>. And changed the link to <code>&lt;%= account_activation_url(@user.activation_token, email: @user.email) %&gt;</code> (and of course change the method name in the controller). This produces the error message <code>No route matches {:action=&gt;\"update\", :controller=&gt;\"account_activations\", :email=&gt;\"example@example.com\", :id=&gt;nil} missing required keys: [:id]</code>.</li>\n<li><code>get 'account_activations/:token/update_email' =&gt; 'account_activations#update_email', as: 'update_email'</code>. This generated the error <code>missing required keys: [:token]</code>.</li>\n</ul>\n\n<p><strong>Update:</strong></p>\n\n<p>If I use the route:</p>\n\n<pre><code>get 'account_activations/:id/update_email' =&gt; 'account_activations#update_email', as: 'update_email'\n</code></pre>\n\n<p>the two seem to be similar according to <code>rake routes</code>:</p>\n\n<pre><code>edit_account_activation GET    /account_activations/:id/edit(.:format)         account_activations#edit\n           update_email GET    /account_activations/:id/update_email(.:format) account_activations#update_email\n</code></pre>\n\n<p>The to me it seems I then have the same situation as with \"account activations\". However, while this works for \"account activations\", for updating the email, when the mailer should send the link, it produces the error:</p>\n\n<pre><code>No route matches {:action=&gt;\"update_email\", :controller=&gt;\"account_activations\", :email=&gt;\"example@example.com\", :id=&gt;nil} missing required keys: [:id]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "passenger", "phusion"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1433329991, "post_id": 30618349, "comment_id": 49302927, "body": "Have you tried using a profiling tool to get a grasp on the database queries?"}, {"owner": {"reputation": 115, "user_id": 3381872, "user_type": "registered", "profile_image": "https://graph.facebook.com/721822579/picture?type=large", "display_name": "Neel", "link": "https://stackoverflow.com/users/3381872/neel"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1433330397, "post_id": 30618349, "comment_id": 49303180, "body": "yes pulled the database queries also and they remain same under load and for single user and is below 3 sec as combined queries time"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1433344271, "post_id": 30618349, "comment_id": 49314042, "body": "Its hard to know why your views are running so slowly without any code. Have you setup any sort of fragment caching?"}, {"owner": {"reputation": 115, "user_id": 3381872, "user_type": "registered", "profile_image": "https://graph.facebook.com/721822579/picture?type=large", "display_name": "Neel", "link": "https://stackoverflow.com/users/3381872/neel"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1433399318, "post_id": 30618349, "comment_id": 49337823, "body": "No not yet. Fragment caching can help to improve the timings but i am more interested in getting the reason why the render time shoots up in concurrency. As me passenger settings has min active instance as 30 so ideally 30 users should have got same render time till my cpu resources are free."}], "owner": {"reputation": 115, "user_id": 3381872, "user_type": "registered", "profile_image": "https://graph.facebook.com/721822579/picture?type=large", "display_name": "Neel", "link": "https://stackoverflow.com/users/3381872/neel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433329607, "creation_date": 1433329607, "question_id": 30618349, "link": "https://stackoverflow.com/questions/30618349/ruby-view-render-time-increases-on-concurrency-rails-4-passenger-4", "title": "Ruby View render time increases on concurrency rails 4 passenger 4", "body": "<p>My render time increase tremendously in concurrency load test.\nWith one user the render time is low but goes on increasing as i add users the rendering time goes on increasing.</p>\n\n<p>render time for one user :\n    Rendered shared/_enablers_comm_logo_new_permissionengine.html.erb (135    7.9ms)\n    Rendered shared/_enablers_view_timeline.html.erb (3581.2ms)\n    Rendered shared/_enablers_list_timeline.html.erb (3584.2ms)\n    Rendered shared/_enablers_list.html.erb (3586.6ms)\n    Rendered shared/_enablers_home_page.html.erb (5585.5ms)</p>\n\n<p>render time for 20 users :\n    Rendered shared/_enablers_comm_logo_new_permissionengine.html.erb (1891.2ms)\n    Rendered shared/_enablers_view_timeline.html.erb (14219.5ms)\n    Rendered shared/_enablers_list_timeline.html.erb (14236.3ms)\n    Rendered shared/_enablers_list.html.erb (14253.2ms)\n    Rendered shared/_enablers_home_page.html.erb (21757.8ms)</p>\n\n<p>Also is erb files are not cached?? as my io utilization is high.</p>\n"}, {"tags": ["ruby", "windows", "c++11", "tcp", "unreal-engine4"], "comments": [{"owner": {"reputation": 15006, "user_id": 520567, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cb1b2c58abc2116f910ec9253ee387f?s=128&d=identicon&r=PG", "display_name": "akostadinov", "link": "https://stackoverflow.com/users/520567/akostadinov"}, "edited": false, "score": 0, "creation_date": 1433332302, "post_id": 30618263, "comment_id": 49304530, "body": "How are you sure that unreal engine actually is listening to the port on localhost?"}, {"owner": {"reputation": 81, "user_id": 393753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5500f692351f13835aa77fed23e8023a?s=128&d=identicon&r=PG", "display_name": "Jazzinghen", "link": "https://stackoverflow.com/users/393753/jazzinghen"}, "reply_to_user": {"reputation": 15006, "user_id": 520567, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cb1b2c58abc2116f910ec9253ee387f?s=128&d=identicon&r=PG", "display_name": "akostadinov", "link": "https://stackoverflow.com/users/520567/akostadinov"}, "edited": false, "score": 0, "creation_date": 1433378826, "post_id": 30618263, "comment_id": 49331896, "body": "I&#39;m initialising a TCP socket using the following code block:  <code>FTcpSocketBuilder SocketBuilder = FTcpSocketBuilder(TEXT(&quot;Server Socket&quot;));</code>  \t<code>FIPv4Address ServerAddress = FIPv4Address(127, 0, 0, 1);</code> \t<code>FIPv4Endpoint ServerEndpoint = FIPv4Endpoint(ServerAddress, castServerPort);</code>  If I check on Window&#39;s Resource monitor and dump localhost communications using RawCap, once I run my Unreal Engine application I can see TCP communications opening on port 15300, which is passed to the function through BluePrint."}, {"owner": {"reputation": 15006, "user_id": 520567, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cb1b2c58abc2116f910ec9253ee387f?s=128&d=identicon&r=PG", "display_name": "akostadinov", "link": "https://stackoverflow.com/users/520567/akostadinov"}, "edited": false, "score": 0, "creation_date": 1433410255, "post_id": 30618263, "comment_id": 49344547, "body": "Sorry but everything became very long. Could you summarize what works, what does not work and what is exactly your question?"}, {"owner": {"reputation": 81, "user_id": 393753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5500f692351f13835aa77fed23e8023a?s=128&d=identicon&r=PG", "display_name": "Jazzinghen", "link": "https://stackoverflow.com/users/393753/jazzinghen"}, "reply_to_user": {"reputation": 15006, "user_id": 520567, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cb1b2c58abc2116f910ec9253ee387f?s=128&d=identicon&r=PG", "display_name": "akostadinov", "link": "https://stackoverflow.com/users/520567/akostadinov"}, "edited": false, "score": 0, "creation_date": 1433418290, "post_id": 30618263, "comment_id": 49349933, "body": "I have updated the question. <b>tl;dr:</b> <code>UE4</code> application communicates with <code>socat</code>, <code>socat</code> communicates with <code>ruby</code>, <code>ruby</code> does not communicate with <code>UE4</code> (i.e. with <code>C++</code>). <code>UE4</code> opens wanted port on local network, as does <code>socat</code>, <code>ruby</code> does not do it. Tested with <code>RawCap</code>. Why is it?"}], "owner": {"reputation": 81, "user_id": 393753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5500f692351f13835aa77fed23e8023a?s=128&d=identicon&r=PG", "display_name": "Jazzinghen", "link": "https://stackoverflow.com/users/393753/jazzinghen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 690, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1433748181, "creation_date": 1433329406, "last_edit_date": 1433748181, "question_id": 30618263, "link": "https://stackoverflow.com/questions/30618263/how-does-ruby-manage-localhost-communications-via-tcp-under-windows-7", "title": "How does Ruby manage localhost communications via TCP under Windows 7?", "body": "<p>I am trying to implement a simple local TCP communication between a Ruby server and a C++ library interfaced to Unreal Engine 4.</p>\n\n<p>I have used some sample code for the ruby server, which uses the <code>socket</code> library and instanciates a <code>TCPServer</code>:</p>\n\n<pre><code>require 'socket'\n\nputs \"Starting up server...\"\n# establish the server\n## Server established to listen for connections on port 2008\nserver = TCPServer.new(15300)\n# setup to listen and accept connections\nwhile (session = server.accept)\n #start new thread conversation\n ## Here we will establish a new thread for a connection client\n Thread.start do\n   ## I want to be sure to output something on the server side\n   ## to show that there has been a connection\n   puts \"log: Connection from #{session.peeraddr[2]} at\n          #{session.peeraddr[3]}\"\n   puts \"log: got input from client\"\n   ## lets see what the client has to say by grabbing the input\n   ## then display it. Please note that the session.gets will look\n   ## for an end of line character \"\\n\" before moving forward.\n   input = session.gets\n   puts input\n   ## Lets respond with a nice warm welcome message\n   session.puts \"Server: Welcome #{session.peeraddr[2]}\\n\"\n   # reply with goodbye\n   ## now lets end the session since all we wanted to do is\n   ## acknowledge the client\n   puts \"log: sending goodbye\"\n   session.puts \"Server: Goodbye\\n\"\n end  #end thread conversation\nend   #end loop\n</code></pre>\n\n<p>This application, if tested with a ruby client, works perfectly fine.</p>\n\n<p>This is the client:</p>\n\n<pre><code>require 'socket'\n# establish connection\n## We need to tell the client where to connect\n## Conveniently it is on localhost at port 15300!\nclientSession = TCPSocket.new( \"localhost\", 15300 )\nputs \"log: starting connection\"\n#send a quick message\n## Note that this has a carriage return. Remember our server\n## uses the method gets() to get input back from the server.\nputs \"log: saying hello\"\nclientSession.puts \"Client: Hello Server World!\\n\"\n#wait for messages from the server\n## You've sent your message, now we need to make sure\n## the session isn't closed, spit out any messages the server\n## has to say, and check to see if any of those messages\n## contain 'Goodbye'. If they do we can close the connection\n while !(clientSession.closed?) &amp;&amp;\n          (serverMessage = clientSession.gets)\n  ## lets output our server messages\n  puts serverMessage\n  #if one of the messages contains 'Goodbye' we'll disconnect\n  ## we disconnect by 'closing' the session.\n  if serverMessage.include?(\"Goodbye\")\n   puts \"log: closing connection\"\n   clientSession.close\n  end\n end #end loop\n</code></pre>\n\n<p>Server output:</p>\n\n<pre><code>Starting up server...\nlog: Connection from ::1 at\n          ::1\nlog: got input from client\nClient: Hello Server World!\nlog: sending goodbye\n</code></pre>\n\n<p>But when I try to connect to the server using C++11 and the TCP functions in Unreal Engine 4 I do not get any kind of response from the server implemented in ruby (not even \"Connection from...\").</p>\n\n<p>To understand what was the problem I tried to run some netwrok analysis, starting from the simplest (Window's Resource Monitor), to the most complex (ZenMap). In no case there was a single service running with the selected port open (port 15300). I have double checked every single possible cause for this (e.g. firewall, other security software) but there was no block to the ruby interpreter.</p>\n\n<p>In order to understand why such a simple application is not working I started using Wireshark. It was then that I noticed that there is no local loopback interface, which required me to use RawCap (wich manages to capture the local communications and dump them on file). Using it I managed to dump the local communications on my machine during both a run of the ruby client/server pair and Cygwin Socat/Unreal Engine 4. What I found was pretty baffling: there were NO open local TCP sockets on the port for the ruby pair (port 15300), but the TCP ports opened by Unreal Engine 4 were there (along with port 15301, the one I used for the tests).</p>\n\n<p><strong>Update 01</strong></p>\n\n<p>I have changed the code in my Unreal Engine 4 application, as the first version used an included TCPsocket builder which used <code>bind</code> by default instead of <code>connect</code>. Now the code is:</p>\n\n<pre><code>bool UNetworkBlueprintLibrary::NetworkSetup(int32 ServerPort) {\n\n    bool res = false;\n\n    // Creating a Socket pointer, wich will temporary contain our \n    FSocket* Socket = nullptr;\n    ISocketSubsystem* SocketSubsystem = ISocketSubsystem::Get(PLATFORM_SOCKETSUBSYSTEM);\n\n    // Instead of that useless FTcpSocketBuilder I will try to create the socket by hand and then debug it... &gt;:(\n    if (SocketSubsystem != nullptr) {\n        // Try to create a stream socket using the system-intependent interface\n        Socket = SocketSubsystem-&gt;CreateSocket(NAME_Stream, TEXT(\"Server Socket\"), false);\n\n        if (Socket != nullptr) {\n            FIPv4Address ServerAddress = FIPv4Address(127, 0, 0, 1);\n            TSharedRef&lt;FInternetAddr&gt; LocalAddress = ISocketSubsystem::Get(PLATFORM_SOCKETSUBSYSTEM)-&gt;CreateInternetAddr();\n            uint16 castServerPort = (uint16)ServerPort;\n\n            // Attach received port and IPAddress to Internet Address pointer\n            LocalAddress-&gt;SetIp(ServerAddress.GetValue());\n            LocalAddress-&gt;SetPort(castServerPort);\n\n            bool SocketCreationError = !Socket-&gt;Connect(*LocalAddress);\n\n            if (SocketCreationError)\n            {\n                GLog-&gt;Logf(TEXT(\"Failed to create Server Socket as configured!\"));\n\n                SocketSubsystem-&gt;DestroySocket(Socket);\n\n                Socket = nullptr;\n            }\n        }\n    }\n\n\n\n    if (Socket != nullptr){\n        UNetworkBlueprintLibrary::ServerSocket = Socket;\n        res = true;\n    }\n    else {\n        res = false;\n    }\n\n    return res;\n} \n</code></pre>\n\n<p>In order to test whether the code in Unreal Engine 4 is working or not I have used <code>socat</code> under Cygwin:</p>\n\n<pre><code>socat tcp-listen:15300 readline\n</code></pre>\n\n<p>Once my Unreal Engine 4 application starts I can send data over the socket. I have confirmed this works, removing the possibility that my application developed in Unreal Engine 4 was not communicating through the TCP socket.</p>\n\n<p>Given this positive result I have tried again to use the server code reported on top of this question, removing the lines that wait for a message from the client but the result is the same: the server does not even output the debug lines it should print when there is a connection:</p>\n\n<pre><code>puts \"log: Connection from #{session.peeraddr[2]} at #{session.peeraddr[3]}\"\n</code></pre>\n\n<p><strong>Update 02</strong></p>\n\n<p>Back once again!</p>\n\n<p>I have managed to make <code>ruby</code> and <code>Unreal Engine 4</code> communicate through local TCP sockets. What I needed to make the ruby server work was explicitly providing the local address, like so:</p>\n\n<pre><code>server = TCPServer.new(\"127.0.0.1\", 15300)\n</code></pre>\n\n<p>However, even if this matter is solved, I am still interested in some of the questions I put the first time.</p>\n\n<p><strong>Update 03</strong></p>\n\n<p>Just one consideration that I made in the last hour.</p>\n\n<p>When I did not provide an explicit server address the server, this command</p>\n\n<pre><code>   puts \"log: Connection from #{session.peeraddr[2]} at\n          #{session.peeraddr[3]}\"\n</code></pre>\n\n<p>Returned</p>\n\n<pre><code>log: Connection from ::1 at\n          ::1\n</code></pre>\n\n<p>Which is indeed correct! <code>::1</code> is the IPv6 version of <code>127.0.0.1</code>, so it looks like that <code>ruby</code> assumes that it has to create an IPv6 socket, instead of an IPv4. <code>Unreal Engine 4</code> does not provide an IPv6 interface, so this might have been the reason why the application did not work.</p>\n\n<p>Now communications over <code>localhost</code> when dumped, show the following communications over port 15300:</p>\n\n<pre><code>No.     Time        Source                Destination           Protocol Length Info\n    105 7.573433    127.0.0.1             127.0.0.1             TCP      52     9994\u219215300 [SYN] Seq=0 Win=8192 Len=0 MSS=65495 WS=256 SACK_PERM=1\n    106 7.573433    127.0.0.1             127.0.0.1             TCP      52     15300\u21929994 [SYN, ACK] Seq=0 Ack=1 Win=8192 Len=0 MSS=65495 WS=256 SACK_PERM=1\n    107 7.573433    127.0.0.1             127.0.0.1             TCP      40     9994\u219215300 [ACK] Seq=1 Ack=1 Win=8192 Len=0\n    108 7.583434    127.0.0.1             127.0.0.1             TCP      66     15300\u21929994 [PSH, ACK] Seq=1 Ack=1 Win=8192 Len=26\n    109 7.583434    127.0.0.1             127.0.0.1             TCP      40     9994\u219215300 [ACK] Seq=1 Ack=27 Win=7936 Len=0\n    110 7.583434    127.0.0.1             127.0.0.1             TCP      56     15300\u21929994 [PSH, ACK] Seq=27 Ack=1 Win=8192 Len=16\n    111 7.583434    127.0.0.1             127.0.0.1             TCP      40     9994\u219215300 [ACK] Seq=1 Ack=43 Win=7936 Len=0\n    208 16.450941   127.0.0.1             127.0.0.1             TCP      52     9995\u219215300 [SYN] Seq=0 Win=8192 Len=0 MSS=65495 WS=256 SACK_PERM=1\n    209 16.451941   127.0.0.1             127.0.0.1             TCP      52     15300\u21929995 [SYN, ACK] Seq=0 Ack=1 Win=8192 Len=0 MSS=65495 WS=256 SACK_PERM=1\n    210 16.451941   127.0.0.1             127.0.0.1             TCP      40     9995\u219215300 [ACK] Seq=1 Ack=1 Win=8192 Len=0\n    211 16.456941   127.0.0.1             127.0.0.1             TCP      66     15300\u21929995 [PSH, ACK] Seq=1 Ack=1 Win=8192 Len=26\n    212 16.456941   127.0.0.1             127.0.0.1             TCP      40     9995\u219215300 [ACK] Seq=1 Ack=27 Win=7936 Len=0\n    213 16.456941   127.0.0.1             127.0.0.1             TCP      56     15300\u21929995 [PSH, ACK] Seq=27 Ack=1 Win=8192 Len=16\n    214 16.456941   127.0.0.1             127.0.0.1             TCP      40     9995\u219215300 [ACK] Seq=1 Ack=43 Win=7936 Len=0\n</code></pre>\n\n<p>When a packages show a <code>LEN</code> of either 26 or 16 means that they are sending either</p>\n\n<pre><code>Server: Welcome 127.0.0.1.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Server: Goodbye.\n</code></pre>\n\n<p>I just wanted to share this information, as it is not really useful for the answer, but shows how IPv6 communications do not pass through the standard <code>localhost</code> virtual adapter.</p>\n\n<p><strong>The questions</strong></p>\n\n<p>What I would like to understand is:</p>\n\n<ul>\n<li>As there is no local loopback interface how does ruby communicate through local TCP sockets?</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "edited": false, "score": 0, "creation_date": 1433329290, "post_id": 30618194, "comment_id": 49302440, "body": "show me you routes file."}, {"owner": {"reputation": 3397, "user_id": 2563282, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/nCJrZ.jpg?s=128&g=1", "display_name": "G.B", "link": "https://stackoverflow.com/users/2563282/g-b"}, "edited": false, "score": 0, "creation_date": 1433329396, "post_id": 30618194, "comment_id": 49302508, "body": "did you do <code>rake db:create &amp;&amp; rake db:migrate</code>"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "edited": false, "score": 0, "creation_date": 1433329465, "post_id": 30618194, "comment_id": 49302569, "body": "problem with &quot;@restaurants&quot; objects. Please check why value of @restaurants is nil."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 1, "creation_date": 1433329554, "post_id": 30618194, "comment_id": 49302629, "body": "How are you hitting the route which is causing the issue ? From tests ?"}, {"owner": {"reputation": 15, "user_id": 4453312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68eba39fb6321e982c86c7bad33e42df?s=128&d=identicon&r=PG&f=1", "display_name": "olucas92", "link": "https://stackoverflow.com/users/4453312/olucas92"}, "edited": false, "score": 0, "creation_date": 1433329851, "post_id": 30618194, "comment_id": 49302830, "body": "Yeah, I did rake db:create &amp;&amp; rake db:migrate"}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433330277, "post_id": 30618194, "comment_id": 49303103, "body": "@olucas92, instead of <code>if @restaurants.any?</code> please try it out with <code>unless @restaurants.blank?</code>, i hope this will work"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "edited": false, "score": 0, "creation_date": 1433330422, "post_id": 30618194, "comment_id": 49303201, "body": "try &lt;% if @restaurants &amp;&amp; @restaurants.any? %&gt;"}, {"owner": {"reputation": 15, "user_id": 4453312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68eba39fb6321e982c86c7bad33e42df?s=128&d=identicon&r=PG&f=1", "display_name": "olucas92", "link": "https://stackoverflow.com/users/4453312/olucas92"}, "reply_to_user": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "edited": false, "score": 0, "creation_date": 1433330575, "post_id": 30618194, "comment_id": 49303317, "body": "Thanks @SachinR, that works!"}], "answers": [{"comments": [{"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433330130, "post_id": 30618457, "comment_id": 49303012, "body": "How you got it ? How was he trying ?"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1433330245, "post_id": 30618457, "comment_id": 49303085, "body": "Because if the request comes from controller then Restaurant.all returns blank array. [].any? runs correctly."}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433330671, "post_id": 30618457, "comment_id": 49303388, "body": "using .blank? is always a good practice because it checks for nil and empty both"}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433330874, "post_id": 30618457, "comment_id": 49303527, "body": "@SachinR, I think instead of checking two condition <code>@restaurants &amp;&amp; @restaurants.any?</code> its better if we will use <code>@restaurants.blank?</code>"}], "tags": [], "owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1433331093, "last_edit_date": 1433331093, "creation_date": 1433329916, "answer_id": 30618457, "question_id": 30618194, "link": "https://stackoverflow.com/questions/30618194/ruby-on-rails-controller-doesnt-seem-to-be-linking-to-view/30618457#30618457", "title": "Ruby on Rails, controller doesn&#39;t seem to be linking to view", "body": "<p>Actually the problem is that your index is called directly without going to controller. So earlier your <code>\"Restaurant.all\"</code> works correctly but now atfer new changes <code>@restuanants</code> is null and you applied <code>null.any?</code>. It gives error.\ntry</p>\n\n<pre><code> &lt;% if @restaurants &amp;&amp; @restaurants.any? %&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;% unless @restaurants.blank? %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1433330516, "creation_date": 1433330516, "answer_id": 30618684, "question_id": 30618194, "link": "https://stackoverflow.com/questions/30618194/ruby-on-rails-controller-doesnt-seem-to-be-linking-to-view/30618684#30618684", "title": "Ruby on Rails, controller doesn&#39;t seem to be linking to view", "body": "<p>Try this I hope this will help</p>\n\n<p>In <strong>index.html.erb</strong></p>\n\n<pre><code>&lt;% unless @restaurants.blank? %&gt;\n  &lt;% @restaurants.each do |restaurant| %&gt;\n    &lt;h2&gt;&lt;%= restaurant.name %&gt;&lt;/h2&gt;\n  &lt;% end %&gt;\n&lt;% else %&gt;\n  &lt;h1&gt;No restaurants yet!&lt;/h1&gt;\n&lt;% end %&gt;\n\n&lt;a href='#'&gt;Add a restaurant&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4453312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68eba39fb6321e982c86c7bad33e42df?s=128&d=identicon&r=PG&f=1", "display_name": "olucas92", "link": "https://stackoverflow.com/users/4453312/olucas92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 30618457, "answer_count": 2, "score": 0, "last_activity_date": 1433331093, "creation_date": 1433329229, "last_edit_date": 1433329852, "question_id": 30618194, "link": "https://stackoverflow.com/questions/30618194/ruby-on-rails-controller-doesnt-seem-to-be-linking-to-view", "title": "Ruby on Rails, controller doesn&#39;t seem to be linking to view", "body": "<p>In my <code>index.html.erb</code> file, this lot of code works:</p>\n\n<pre><code>&lt;% if Restaurant.all.any? %&gt;\n  &lt;% Restaurant.all.each do |restaurant| %&gt;\n    &lt;h2&gt;&lt;%= restaurant.name %&gt;&lt;/h2&gt;\n  &lt;% end %&gt;\n&lt;% else %&gt;\n  &lt;h1&gt;No restaurants yet!&lt;/h1&gt;\n&lt;% end %&gt;\n\n&lt;a href='#'&gt;Add a restaurant&lt;/a&gt;\n</code></pre>\n\n<p>However, when I change the controller to this:</p>\n\n<pre><code> class RestaurantsController &lt; ApplicationController\n   def index\n     @restaurants = Restaurant.all\n   end\n end\n</code></pre>\n\n<p>and the <code>index.html.erb</code> file to this:</p>\n\n<pre><code>&lt;% if @restaurants.any? %&gt;\n  &lt;% @restaurants.each do |restaurant| %&gt;\n    &lt;h2&gt;&lt;%= restaurant.name %&gt;&lt;/h2&gt;\n  &lt;% end %&gt;\n&lt;% else %&gt;\n  &lt;h1&gt;No restaurants yet!&lt;/h1&gt;\n&lt;% end %&gt;\n\n&lt;a href='#'&gt;Add a restaurant&lt;/a&gt;\n</code></pre>\n\n<p>all of the tests which passed, now fail because of that change, and I can't for the life of me work out why they are not working. The error message when running the tests is:</p>\n\n<pre><code> Failure/Error: visit '/restaurants'\n ActionView::Template::Error:\n   undefined method `any?' for nil:NilClass\n</code></pre>\n\n<p>My routes.rb file is as follows:</p>\n\n<pre><code>Rails.application.routes.draw do\n  resources :restaurants\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "forms", "ruby-on-rails-4", "partials"], "comments": [{"owner": {"reputation": 1107, "user_id": 2434464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Q3hER.jpg?s=128&g=1", "display_name": "yozzz", "link": "https://stackoverflow.com/users/2434464/yozzz"}, "edited": false, "score": 0, "creation_date": 1433329011, "post_id": 30617967, "comment_id": 49302251, "body": "Just notice, in <a href=\"http://guides.rubyonrails.org/routing.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/routing.html</a> says that: &quot;Resources should never be nested more than 1 level deep.&quot;"}, {"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 1, "creation_date": 1433329077, "post_id": 30617967, "comment_id": 49302297, "body": "Sorry, I&#39;m having a really hard time following your example.  Are you just asking how to build associations with a nested form?  If so <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html\" rel=\"nofollow noreferrer\">api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/&hellip;</a>"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1433339860, "post_id": 30617967, "comment_id": 49310538, "body": "When do you get the error?  When you hit submit?"}], "answers": [{"comments": [{"owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1433415984, "post_id": 30626228, "comment_id": 49348384, "body": "Thank you so much! This works. Compliments as well on your explanation: very straightforward and what you came up with is logical and very elegant."}, {"owner": {"reputation": 1682, "user_id": 4219209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f3e6158829f78389b3d364ae4a247bf?s=128&d=identicon&r=PG", "display_name": "Lanny Bose", "link": "https://stackoverflow.com/users/4219209/lanny-bose"}, "reply_to_user": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1433450699, "post_id": 30626228, "comment_id": 49370610, "body": "That&#39;s great news! Glad I could help! :)"}], "tags": [], "owner": {"reputation": 1682, "user_id": 4219209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f3e6158829f78389b3d364ae4a247bf?s=128&d=identicon&r=PG", "display_name": "Lanny Bose", "link": "https://stackoverflow.com/users/4219209/lanny-bose"}, "is_accepted": true, "score": 0, "last_activity_date": 1433350535, "creation_date": 1433350535, "answer_id": 30626228, "question_id": 30617967, "link": "https://stackoverflow.com/questions/30617967/how-to-place-this-form-that-repeats-through-a-partial-multiple-times-in-one-show/30626228#30626228", "title": "How to place this form that repeats through a partial multiple times in one show view in Rails?", "body": "<p>The error message does a pretty good job of highlighting what's going wrong:</p>\n\n<pre><code>ActionController::UrlGenerationError in As#show\n\nNo route matches {:action=&gt;\"index\", :a_id=&gt;\"12\", :controller=&gt;\"cs\", :b_id=&gt;nil} missing required keys: [:b_id]\n</code></pre>\n\n<p>That's because your As Controller...</p>\n\n<pre><code>def show\n    ...\n    ## create a blank B\n    @b = B.new\n    @b.a_id = @a.id \n    ...\nend\n</code></pre>\n\n<p>Is creating a <strong>new</strong> B for your form, which since it's new doesn't have an ID. When you generate the C form, it has to have an already-existing B to refer to when generating the proper URL for the form, so you have something like:</p>\n\n<pre><code>&lt;%= form_for [ existing-a, existing-b, brand-new-c ] do |f| %&gt;\n</code></pre>\n\n<p>However, you can't define the existing-b in the controller since you have an indeterminate number of existing-b's. You'll need to loop through your B's and use a block variable in the form.</p>\n\n<p><strong>as_controller.rb</strong></p>\n\n<pre><code>def show\n    @a = A.find(params[:id])\nend\n</code></pre>\n\n<p><strong>A.html.erb</strong></p>\n\n<pre><code># Show info about the one A picked in the controller\n&lt;%= @a.name %&gt;\n\n# Loop through all of the A's indeterminate number of B's\n&lt;% a.bs.each do |b| %&gt;\n    &lt;%= b.name %&gt;\n\n    # Show all of the current B's indeterminate number of C's\n    &lt;% b.cs.each do |c| %&gt;\n        &lt;%= c.name %&gt;\n    &lt;% end %&gt;\n\n    # One C form for the controller-selected A, the currently-looped-to B, and a brand-new C.\n    &lt;%= form_for [@a, b, C.new] do |f| %&gt;\n        #form fields...\n    &lt;% end %&gt;\n&lt;% end %&gt;\n\n# One B form for the controller-selected A, and a brand-new B.\n&lt;%= form_for [@a, B.new] do |f| %&gt;\n    #form fields...\n&lt;% end %&gt;\n</code></pre>\n\n<p>I know my template is in ERB instead of HAML. Apologies. :)</p>\n"}], "owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 30626228, "answer_count": 1, "score": 0, "last_activity_date": 1433369465, "creation_date": 1433328616, "last_edit_date": 1433369465, "question_id": 30617967, "link": "https://stackoverflow.com/questions/30617967/how-to-place-this-form-that-repeats-through-a-partial-multiple-times-in-one-show", "title": "How to place this form that repeats through a partial multiple times in one show view in Rails?", "body": "<p>So the problem is this: I have one show view of a parent object (A). This parent has got multiple children (B) which show - through a partial - right under the parent. Then this child has children again (C), showing again under it's parent. All in one view! </p>\n\n<p>I have one form for creating the B's which is right under A and this works fine.\nNow the question is, how do I make a form for creating the C's under each B?</p>\n\n<p>To clarify a typical website should look like this:</p>\n\n<p><strong>A</strong><br>\n<strong>B</strong><br>\n<strong>C</strong><br>\n[Form for <em>creating</em> a C]<br>\n<strong>B</strong><br>\n<strong>C</strong><br>\n<strong>C</strong><br>\n[Form for <em>creating</em> a C]<br>\n<strong>B</strong><br>\n[Form for <em>creating</em> a C]<br>\n[Form for <em>creating</em> a B]</p>\n\n<p>With:</p>\n\n<p><strong>routes.rb</strong></p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>resources :a do\n  resources :b do \n    resources :c do\n    end\n  end\nend\n</code></pre>\n\n<p>Then how I got the form for the B to work is with the following controllers:</p>\n\n<p><strong>as_controller.rb</strong></p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>def show\n    @a = A.find(params[:id])\n    ## create a blank B\n    @b = B.new\n    @b.a_id = @a.id \n    ## and for C which doesn't work (yet)\n    @c = C.new\n    @c.b_id = @b.id\nend\n</code></pre>\n\n<p><strong>bs_controller</strong></p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>def create\n  @b = B.new(b_params)\n  ## assignment A id\n  @b.a_id = params[:a_id] \n  ##\n  @b.save\n  redirect_to a_path(@b.a)\nend\n</code></pre>\n\n<p>But when I do the same for C Rails keeps on saying it can't find the id of B, as so:</p>\n\n<p><strong>ActionController::UrlGenerationError in As#show</strong></p>\n\n<p><strong>No route matches {:action=>\"index\", :a_id=>\"12\", :controller=>\"cs\", :b_id=>nil} missing required keys: [:b_id]</strong></p>\n\n<p>While I do something similar. Only this time the same should happen each time the _b.html.haml renders the 'c/form'. Which looks like this, but is the only element of my page that doesn't work:</p>\n\n<pre class=\"lang-haml prettyprint-override\"><code>%h5 ADD C\n\n= form_for [ @a, @b, @c ] do |f|\n    %p\n    = f.label :c1\n    %br\n    = f.text_field :c1\n    %p\n    = f.label :c2\n    %br\n    = f.text_area :c2\n    %p\n    = f.submit 'Submit'\n</code></pre>\n\n<p>So again, how do I make this form for C on the partial B showing up multiple times all in this one show page of A right?</p>\n"}, {"tags": ["html", "ruby", "web-scraping", "nokogiri", "curb"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1576188320, "post_id": 30617862, "comment_id": 104828600, "body": "Your HTML is invalid. Please read &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>&quot;. We need the minimal input data necessary to demonstrate the problem in the question. Parsers will either reject malformed input or try to fix it, but fixing it alters it, making any resulting answers not fit the question correctly."}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433334578, "post_id": 30619964, "comment_id": 49306212, "body": "none of those seem to work, I either get a blank output or error reading &quot;undefined method `text&#39; for nil:NilClass (NoMethodError)&quot;"}, {"owner": {"reputation": 1739, "user_id": 2863439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c95bb944bbbe597543ae8a88987995?s=128&d=identicon&r=PG&f=1", "display_name": "limekin", "link": "https://stackoverflow.com/users/2863439/limekin"}, "reply_to_user": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433336165, "post_id": 30619964, "comment_id": 49307456, "body": "Sorry, it should work for the portion you gave of the document. Do you mind providing the whole document ?"}, {"owner": {"reputation": 1739, "user_id": 2863439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c95bb944bbbe597543ae8a88987995?s=128&d=identicon&r=PG&f=1", "display_name": "limekin", "link": "https://stackoverflow.com/users/2863439/limekin"}, "reply_to_user": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433339713, "post_id": 30619964, "comment_id": 49310407, "body": "Okay. It&#39;s giving &#39;content&#39; for <code>html.at(&quot;#gaz-content-body&quot;)[&#39;class&#39;]</code> and the error for the ones I gave, right ?"}, {"owner": {"reputation": 1739, "user_id": 2863439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c95bb944bbbe597543ae8a88987995?s=128&d=identicon&r=PG&f=1", "display_name": "limekin", "link": "https://stackoverflow.com/users/2863439/limekin"}, "reply_to_user": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433340287, "post_id": 30619964, "comment_id": 49310855, "body": "You said you either get a blank output or an error, can you tell me when you get each of them ? I mean doing what causes blank and doing what causes an error."}, {"owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433340853, "post_id": 30619964, "comment_id": 49311312, "body": "if i use  &quot;puts res.text&quot; and the res = html.at(&quot;#gaz-content-body .app-settings span:nth-child(2)&quot;) i get blank If i replace res.text with res[1].text i get an error..."}, {"owner": {"reputation": 1739, "user_id": 2863439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c95bb944bbbe597543ae8a88987995?s=128&d=identicon&r=PG&f=1", "display_name": "limekin", "link": "https://stackoverflow.com/users/2863439/limekin"}, "reply_to_user": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433342239, "post_id": 30619964, "comment_id": 49312410, "body": "Are you sure it&#39;s really blank ? There will be a lot of whitespace before &#39;xxxxxx&#39; (try again with <code>res.strip</code>). And for res[1].text to work you should get the results with <code>res = html.search(&#39;#gaz-content-body .app-settings span&#39;)</code>, since it&#39;s the one that gives you an array of results."}, {"owner": {"reputation": 1739, "user_id": 2863439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c95bb944bbbe597543ae8a88987995?s=128&d=identicon&r=PG&f=1", "display_name": "limekin", "link": "https://stackoverflow.com/users/2863439/limekin"}, "reply_to_user": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433342532, "post_id": 30619964, "comment_id": 49312625, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/79548/discussion-between-limekin-and-marriedjane875\">continue this discussion in chat</a>."}, {"owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 1, "creation_date": 1433369907, "post_id": 30619964, "comment_id": 49329062, "body": "the answer is &quot;puts page.css(&quot;span&quot;)[5].text&quot; it&#39;ll give me the xxxxx @limekin"}, {"owner": {"reputation": 1739, "user_id": 2863439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c95bb944bbbe597543ae8a88987995?s=128&d=identicon&r=PG&f=1", "display_name": "limekin", "link": "https://stackoverflow.com/users/2863439/limekin"}, "reply_to_user": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433377426, "post_id": 30619964, "comment_id": 49331537, "body": "Think it&#39;s okay for now. But it&#39;s not really a good idea to scrape it like that, because the chances of the scraping code breaking down are high when they decide to change things in the page. For instance, they might decide to add a span element in their nav or anywhere above the span you are trying to select and it can break down. So you usually should try to ignore as many portions of the page as possible by selecting specific parts (maybe meaningfully) that will contain what you are looking for. But still there are chances to not work, but lesser."}, {"owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1433386170, "post_id": 30619964, "comment_id": 49333548, "body": "you&#39;re right, i&#39;ll look into that, thank you for everything :)"}], "tags": [], "owner": {"reputation": 1739, "user_id": 2863439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c95bb944bbbe597543ae8a88987995?s=128&d=identicon&r=PG&f=1", "display_name": "limekin", "link": "https://stackoverflow.com/users/2863439/limekin"}, "is_accepted": true, "score": 1, "last_activity_date": 1580263780, "last_edit_date": 1580263780, "creation_date": 1433334114, "answer_id": 30619964, "question_id": 30617862, "link": "https://stackoverflow.com/questions/30617862/how-to-get-nokogiri-to-scrape-text-from-span-in-ruby/30619964#30619964", "title": "How to get Nokogiri to scrape text from span in Ruby", "body": "<p>In this case we need to find the second <code>span</code> after the <code>span class=\"heading\"</code>, and inside the <code>div class=\"app-settings\"</code> - I'm  being a bit general but not too much. I'm using <code>search</code> instead of <code>at</code> to retrieve the two spans and get the second one:</p>\n\n<pre><code># Gets the 2 span elements under &lt;div class='app-settings'&gt;.\nres = html.search('#gaz-content-body .app-settings span')\n\n# Use .text to get the contents of the 2nd element.\nres[1].text.strip\n# =&gt; \"xxxxxxxx\"\n</code></pre>\n\n<p>But you can also use <code>at</code> to target the same:</p>\n\n<pre><code>res = html.at(\"#gaz-content-body .app-settings span:nth-child(2)\")\nres.text.strip\n# =&gt; \"xxxxxxxx\"\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2152, "favorite_count": 0, "accepted_answer_id": 30619964, "answer_count": 1, "score": 0, "last_activity_date": 1580263780, "creation_date": 1433328302, "last_edit_date": 1580263579, "question_id": 30617862, "link": "https://stackoverflow.com/questions/30617862/how-to-get-nokogiri-to-scrape-text-from-span-in-ruby", "title": "How to get Nokogiri to scrape text from span in Ruby", "body": "<p>I'm trying to scrape information from a website using Nokogiri and Curb, but I can't seem to find the right name/ to find where to scrape. I'm trying to scrape the API key, which is at the bottom of the HTML code as \"xxxxxxx\".</p>\n\n<p>The HTML code is:</p>\n\n<pre><code>    &lt;body class=\"html not-front logged-in no-sidebars page-app page-app- page-app-8383900 page-app-keys i18n-en\" data-twttr-rendered=\"true\"&gt;\n\n    &lt;div id=\"skip-link\"&gt;&lt;/div&gt;\n    &lt;div id=\"page-wrapper\"&gt;\n        &lt;!--\n\n         Code for the global nav \n\n        --&gt;\n        &lt;nav id=\"globalnav\" class=\"without-subnav\"&gt;&lt;/nav&gt;\n        &lt;nav id=\"subnav\"&gt;&lt;/nav&gt;\n        &lt;section id=\"hero\" class=\"hero-short\"&gt;&lt;/section&gt;\n\n&lt;section id=\"gaz-content\"&gt;\n\n    &lt;div class=\"container\"&gt;\n        ::before\n        &lt;div id=\"messages\"&gt;&lt;/div&gt;\n        &lt;div id=\"gaz-content-wrap-outer\" class=\"row\"&gt;\n            ::before\n            &lt;div id=\"gaz-content-wrap-inner\" class=\"span12\"&gt;\n                &lt;div class=\"row\"&gt;\n                    ::before\n                    &lt;div class=\"article-wrap span12\"&gt;\n                        &lt;article id=\"gaz-content-body\" class=\"content\"&gt;\n                            &lt;header&gt;&lt;/header&gt;\n                            &lt;div class=\"header-action\"&gt;&lt;/div&gt;\n                            &lt;div class=\"tabs\"&gt;&lt;/div&gt;\n\nlass=\"d-block d-block-system g-main\"&gt;\n\n    &lt;div class=\"app-details\"&gt;\n        &lt;h2&gt;\n\n            Application Settings\n\n        &lt;/h2&gt;\n        &lt;div class=\"description\"&gt;&lt;/div&gt;\n        &lt;div class=\"app-settings\"&gt;\n            &lt;div class=\"row\"&gt;\n                ::before\n                &lt;span class=\"heading\"&gt;\n\n                    Consumer Key (API Key)\n\n                &lt;/span&gt;\n                &lt;span&gt;\n\n                    xxxxxxxxx\n\n                &lt;/span&gt;\n</code></pre>\n\n<p>All I can seem to get is the \"content\" text.</p>\n\n<p>My code looks like:</p>\n\n<pre><code>consumer = html.at(\"#gaz-content-body\")['class']\nputs consumer\n</code></pre>\n\n<p>I'm not sure what to type to select the class and/or span then the input text. All I can get is Nokogiri to put \"content\".</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "migration"], "answers": [{"comments": [{"owner": {"reputation": 1160, "user_id": 2308076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDuhX.jpg?s=128&g=1", "display_name": "Magnus", "link": "https://stackoverflow.com/users/2308076/magnus"}, "edited": false, "score": 0, "creation_date": 1433329706, "post_id": 30618107, "comment_id": 49302722, "body": "Still doesn&#39;t change anything. Could it be that &quot;rake db:upgrade&quot; somehow applies to the wrong database?"}, {"owner": {"reputation": 1099, "user_id": 2024073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mETW6.jpg?s=128&g=1", "display_name": "Sarwan Kumar", "link": "https://stackoverflow.com/users/2024073/sarwan-kumar"}, "reply_to_user": {"reputation": 1160, "user_id": 2308076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDuhX.jpg?s=128&g=1", "display_name": "Magnus", "link": "https://stackoverflow.com/users/2308076/magnus"}, "edited": false, "score": 0, "creation_date": 1433336318, "post_id": 30618107, "comment_id": 49307580, "body": "Now, its not updating because, this migration is already run, and its version is stored in schema, the solution is to rake db:rollback, and then run it again"}], "tags": [], "owner": {"reputation": 1099, "user_id": 2024073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mETW6.jpg?s=128&g=1", "display_name": "Sarwan Kumar", "link": "https://stackoverflow.com/users/2024073/sarwan-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1433328981, "creation_date": 1433328981, "answer_id": 30618107, "question_id": 30617849, "link": "https://stackoverflow.com/questions/30617849/rails-migration-doesnt-apply/30618107#30618107", "title": "Rails Migration doesn&#39;t apply", "body": "<p>Actually, up is class level method and you can replace above code with following code, it will update record.  </p>\n\n<pre><code>class MoveInventoryItems &lt; ActiveRecord::Migration\n  def self.up\n    schraenke = ('F'..'J')\n    List::Inventory::Item.find_each do |item|\n      if schraenke.include?(item.location[0])\n        item.location[0] = item.location[0].next.next\n        item.save!\n      end\n    end\n  end\n\n  def self.down\n     #put reverse code of above, it will execute when you rollback migration\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 1160, "user_id": 2308076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDuhX.jpg?s=128&g=1", "display_name": "Magnus", "link": "https://stackoverflow.com/users/2308076/magnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1433328981, "creation_date": 1433328267, "last_edit_date": 1433328862, "question_id": 30617849, "link": "https://stackoverflow.com/questions/30617849/rails-migration-doesnt-apply", "title": "Rails Migration doesn&#39;t apply", "body": "<p>I have the following migration:</p>\n\n<pre><code>    class MoveInventoryItems &lt; ActiveRecord::Migration\n      def up\n        schraenke = ('F'..'J')\n        List::Inventory::Item.find_each do |item|\n            if schraenke.include?(item.location[0])\n                item.location[0] = item.location[0].next.next\n                item.save!\n            end\n        end\n      end\n   end\n</code></pre>\n\n<p>I am trying to change a variable for specific items.\nWhen I try to output the item after saving, it looks correct. It doesn't show any errors when I run the migration. But obviously it doesn't really get updated, since the old values are still displayed when I run the server.</p>\n\n<p>So my question is: How can a migration not update data?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "model", "migration", "metaprogramming"], "comments": [{"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 2, "creation_date": 1433327701, "post_id": 30617529, "comment_id": 49301370, "body": "I think your this link will help you <a href=\"http://prelang.com/\" rel=\"nofollow noreferrer\">prelang.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 4611701, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-tgJbE_L4_I8/AAAAAAAAAAI/AAAAAAAADGI/sEt0lSJn_KU/photo.jpg?sz=128", "display_name": "Kapil Aggarwal", "link": "https://stackoverflow.com/users/4611701/kapil-aggarwal"}, "edited": false, "score": 0, "creation_date": 1433408311, "post_id": 30625272, "comment_id": 49343123, "body": "I am trying to build a mindmap type of application. Mindmaps consist of nodes and joins. While traditional mindmaps maybe free and unstructured trying to experiment on a functional mindmap. So lets say I am creating a map for Stories. Stories may have various tags like say - Culture, Book, Keywords etc. Under each tag i would give story specific data. So fundamentally the tag model consists only of 2 attributes which might get expanded later - but right now it is Name and Exists. All of the manipulation i want done on the front end in drag and drop."}, {"owner": {"reputation": 95, "user_id": 4611701, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-tgJbE_L4_I8/AAAAAAAAAAI/AAAAAAAADGI/sEt0lSJn_KU/photo.jpg?sz=128", "display_name": "Kapil Aggarwal", "link": "https://stackoverflow.com/users/4611701/kapil-aggarwal"}, "edited": false, "score": 0, "creation_date": 1433408750, "post_id": 30625272, "comment_id": 49343445, "body": "So I have following models - Story, Culture, Book, Keyword. All have 2 attributes. Between all I have join tables. Trying to experiment if all of this manipulation can be done from the front end. So the moment I say create a new node like Recipe and say it has following related nodes - Ingredients, Cuisine etc. Again Recipe, Ingredients, Cuisine models will be same. Al will have join tables. Want to keep extending the idea from the front end through drag and drop"}, {"owner": {"reputation": 621, "user_id": 4077486, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-GO6Ey_scITQ/AAAAAAAAAAI/AAAAAAAAAGw/Pk5COnye0u4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/4077486/james"}, "reply_to_user": {"reputation": 95, "user_id": 4611701, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-tgJbE_L4_I8/AAAAAAAAAAI/AAAAAAAADGI/sEt0lSJn_KU/photo.jpg?sz=128", "display_name": "Kapil Aggarwal", "link": "https://stackoverflow.com/users/4611701/kapil-aggarwal"}, "edited": false, "score": 0, "creation_date": 1433433320, "post_id": 30625272, "comment_id": 49360747, "body": "Oh I understand you. So your intention is to actually build something similar to prelang.com ?"}, {"owner": {"reputation": 95, "user_id": 4611701, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-tgJbE_L4_I8/AAAAAAAAAAI/AAAAAAAADGI/sEt0lSJn_KU/photo.jpg?sz=128", "display_name": "Kapil Aggarwal", "link": "https://stackoverflow.com/users/4611701/kapil-aggarwal"}, "edited": false, "score": 0, "creation_date": 1433438272, "post_id": 30625272, "comment_id": 49363692, "body": "Not really. Just saw the video for prelang. Hopefully something more simple."}], "tags": [], "owner": {"reputation": 621, "user_id": 4077486, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-GO6Ey_scITQ/AAAAAAAAAAI/AAAAAAAAAGw/Pk5COnye0u4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/4077486/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1433347550, "creation_date": 1433347550, "answer_id": 30625272, "question_id": 30617529, "link": "https://stackoverflow.com/questions/30617529/generating-rails-models-migration-and-controller-code-at-runtime-from-from-fron/30625272#30625272", "title": "Generating Rails models, migration and controller code at runtime from from front end", "body": "<p>My question would be why you need ten models that essentially are the same. And I would have two responses to that:\n1.) If its for functionality purposes (i.e. you need 10 models that are perform similar backend functionality) You would want to maybe think about wrapping those models in a module or have them inherit from an abstract model instead of <code>ActiveRecord:Base</code>. Do every single one of those models necessarily NEED a migration and their own table in your database? If not, don't generate those migrations. Or give them an object-relational key in your database so that it's a good solid architecture. </p>\n\n<p>2.) If you do need ten models and ten separate tables for those models (that again, are all very similar and <em>\"fundamentally the same\"</em>, you might want to rethink your database architecture. That seems redundant to me personally, and is going to be a huge hassle to maintain. For example, instead of having BlueBaseball, RedBaseball, and GreenBaseball, why not have Baseball, and then give it a type value with the corresponding key value pair being \"green\", \"blue\" or \"red\".</p>\n\n<p>That's just my thinking. Perhaps I don't understand enough about the problem at hand though. Could you explain to us a little more about your models and how your program works in an object oriented architecture?</p>\n"}], "owner": {"reputation": 95, "user_id": 4611701, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-tgJbE_L4_I8/AAAAAAAAAAI/AAAAAAAADGI/sEt0lSJn_KU/photo.jpg?sz=128", "display_name": "Kapil Aggarwal", "link": "https://stackoverflow.com/users/4611701/kapil-aggarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1433347550, "creation_date": 1433327377, "question_id": 30617529, "link": "https://stackoverflow.com/questions/30617529/generating-rails-models-migration-and-controller-code-at-runtime-from-from-fron", "title": "Generating Rails models, migration and controller code at runtime from from front end", "body": "<p>I am building a web app in ROR for which i need to build a lot of models, joins etc.\nBut all the models are fundamentally the same, have similar join models to the main item and the migrations are the same. I do not want to keep writing code at the back end, want to generate this at runtime from the front end is it possible.\nEg. All models have the following attributes - id(default), name, exists?\nAll joins are has_may :through </p>\n\n<p>So from the front end if i define that X is a model and Y is a model and are related at the backend i want to create teh models and migrations. Then i can feed in the data for X, Y and it will be stored in the correct tables.</p>\n\n<p>The controller code is also almost standardized and I would just need to pass in the X,Y and I would want that to go to the controller or be used by it. I mean if X is related to 10 models, then in the controller I need something to iterate over an array containing the names of the 10 relations. So how do i do this. Is there a way of finding out in the controller or in rails all the relations or joins of a model.</p>\n\n<p>What should I look up or study?</p>\n"}, {"tags": ["ruby", "elasticsearch", "logstash", "logstash-grok"], "answers": [{"tags": [], "owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "is_accepted": false, "score": 1, "last_activity_date": 1433327278, "creation_date": 1433327278, "answer_id": 30617492, "question_id": 30617087, "link": "https://stackoverflow.com/questions/30617087/could-not-load-cant-convert-nil-into-string/30617492#30617492", "title": "Could not load : can&#39;t convert nil into String", "body": "<p>One of the three values - year, month or month_day is nil. Because the regex is not matching for some of the lines in the log file.</p>\n"}], "owner": {"reputation": 2428, "user_id": 1360694, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/d18b96271e3517e01e05763f6a019e3c?s=128&d=identicon&r=PG&f=1", "display_name": "Siddharth Trikha", "link": "https://stackoverflow.com/users/1360694/siddharth-trikha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433327955, "creation_date": 1433326215, "last_edit_date": 1433327955, "question_id": 30617087, "link": "https://stackoverflow.com/questions/30617087/could-not-load-cant-convert-nil-into-string", "title": "Could not load : can&#39;t convert nil into String", "body": "<p>I want to read logs only after a particular date. My approach is to drop all the events previous to that date. I try to achieve it like this:</p>\n\n<p>I am dropping all logs before June 1, 2015:</p>\n\n<p>Logstash config file:</p>\n\n<pre><code>input {\n         file{\n                path =&gt; [\n                         \"/var/log/rsyslog/**/*.log\"\n                ]\n        }\n}\n\nfilter {\n\n        grok {\n\n        match =&gt; [\"path\", \"/var/log/rsyslog/(?&lt;server&gt;[^/]+)/%{YEAR:year}-%{MONTHNUM:month}-%{MONTHDAY:month_day}/(?&lt;logtype&gt;.*).log\"]\n\n        }\n\n        if [year] &lt; \"2015\" and [month] &lt; \"6\" and [month_day] &lt; \"1\" {\n\n                drop { }\n\n        }\n</code></pre>\n\n<p>My logstash.err file keeps printing this:</p>\n\n<pre><code>Could not load : can't convert nil into String\n</code></pre>\n\n<p>Any idea why?</p>\n"}, {"tags": ["html", "ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 493, "user_id": 2553244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf754522a02730df26831eb8cc5b6ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Adnan Devops", "link": "https://stackoverflow.com/users/2553244/adnan-devops"}, "edited": false, "score": 0, "creation_date": 1433325731, "post_id": 30616857, "comment_id": 49299942, "body": "now using this you can access the value of your input field inside the controller action using params[:name]."}, {"owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "edited": false, "score": 0, "creation_date": 1433326545, "post_id": 30616857, "comment_id": 49300546, "body": "Alright, what exactly should I put in for &quot;controller_method&quot; ? Sorry for n00b question :/"}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "reply_to_user": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "edited": false, "score": 0, "creation_date": 1433327498, "post_id": 30616857, "comment_id": 49301229, "body": "@Pingu do you want to bring those images from backend, i mean are the dynamic?"}, {"owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "reply_to_user": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433327588, "post_id": 30616857, "comment_id": 49301295, "body": "@anant: It doesn&#39;t matter for me  &quot;where they come from&quot;, like from a database or from a web url."}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433327753, "post_id": 30616857, "comment_id": 49301410, "body": "Then i guess it would be easy for you to do it using javascript"}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433328002, "post_id": 30616857, "comment_id": 49301579, "body": "you can simply change image source  <code>$(&quot;#my_image&quot;).attr(&quot;src&quot;,&quot;second.jpg&quot;);</code>"}, {"owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "edited": false, "score": 0, "creation_date": 1433328253, "post_id": 30616857, "comment_id": 49301737, "body": "Yeah, I think that will be the best solution. Thanks."}, {"owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "edited": false, "score": 0, "creation_date": 1433329845, "post_id": 30616857, "comment_id": 49302824, "body": "Well, one mor question, if I simply put some javascript in the application.html.haml, then it just won&#39;t display the JS. Is there anything I can do so it displays the JS properly ?"}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433330329, "post_id": 30616857, "comment_id": 49303128, "body": "how are you putting up the js code something like this <code>:javascript     $(document).ready( function() {       $(&#39;body&#39;).addClass( &#39;test&#39; );     } );</code>"}, {"owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "edited": false, "score": 0, "creation_date": 1433330884, "post_id": 30616857, "comment_id": 49303535, "body": "Yeah, like this. Whatever JS code I enter, it always leads to a blank page."}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433331192, "post_id": 30616857, "comment_id": 49303760, "body": "I think you might have missed something can you try simple converting your  html to haml using <a href=\"http://html2haml.herokuapp.com/\" rel=\"nofollow noreferrer\">html2haml.herokuapp.com</a> so this will give you correct syntax for your javascript inside view"}], "tags": [], "owner": {"reputation": 493, "user_id": 2553244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf754522a02730df26831eb8cc5b6ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Adnan Devops", "link": "https://stackoverflow.com/users/2553244/adnan-devops"}, "is_accepted": false, "score": 0, "last_activity_date": 1433325624, "creation_date": 1433325624, "answer_id": 30616857, "question_id": 30616545, "link": "https://stackoverflow.com/questions/30616545/how-to-display-something-after-a-user-input-submit-haml-rubyonrails/30616857#30616857", "title": "How to display something after a user input (submit) ? &gt; HAML + RubyOnRails", "body": "<p>Your form syntax is incorrect, it missing the controller action. It should be like this:</p>\n\n<pre><code>= form_for controller_method, :html =&gt; { :class =&gt; \"form-horizontal\" }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433331343, "post_id": 30617040, "comment_id": 49303853, "body": "@Pingu can you past your haml here"}, {"owner": {"reputation": 5415, "user_id": 2292448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02a28db6886d578f75a820b50f2dd334?s=128&d=identicon&r=PG", "display_name": "Lazarus Lazaridis", "link": "https://stackoverflow.com/users/2292448/lazarus-lazaridis"}, "edited": false, "score": 0, "creation_date": 1433334828, "post_id": 30617040, "comment_id": 49306398, "body": "I agree with this approach since you don&#39;t need anything to be done server side. You should though compare the length of the value, not the value itself."}, {"owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "reply_to_user": {"reputation": 5415, "user_id": 2292448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02a28db6886d578f75a820b50f2dd334?s=128&d=identicon&r=PG", "display_name": "Lazarus Lazaridis", "link": "https://stackoverflow.com/users/2292448/lazarus-lazaridis"}, "edited": false, "score": 0, "creation_date": 1433335009, "post_id": 30617040, "comment_id": 49306523, "body": "@LazarusLazaridis well, the problem is, if I paste some JS code in my application.html.haml file, the displayed page is just blank. Just white blank. And yes, I used the :javascript filter. Any help is appreciated."}, {"owner": {"reputation": 5415, "user_id": 2292448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02a28db6886d578f75a820b50f2dd334?s=128&d=identicon&r=PG", "display_name": "Lazarus Lazaridis", "link": "https://stackoverflow.com/users/2292448/lazarus-lazaridis"}, "reply_to_user": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "edited": false, "score": 0, "creation_date": 1433335401, "post_id": 30617040, "comment_id": 49306829, "body": "@Pingu It might be HAML syntax issue. What happens if you convert your layout to application.html.erb instead?"}, {"owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "reply_to_user": {"reputation": 5415, "user_id": 2292448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02a28db6886d578f75a820b50f2dd334?s=128&d=identicon&r=PG", "display_name": "Lazarus Lazaridis", "link": "https://stackoverflow.com/users/2292448/lazarus-lazaridis"}, "edited": false, "score": 0, "creation_date": 1433337197, "post_id": 30617040, "comment_id": 49308298, "body": "@LazarusLazaridis Same problem. The JS just don&#39;t display."}], "tags": [], "owner": {"reputation": 52, "user_id": 1245282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bvDp7.jpg?s=128&g=1", "display_name": "Zoran J", "link": "https://stackoverflow.com/users/1245282/zoran-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1433331122, "last_edit_date": 1433331122, "creation_date": 1433326088, "answer_id": 30617040, "question_id": 30616545, "link": "https://stackoverflow.com/questions/30616545/how-to-display-something-after-a-user-input-submit-haml-rubyonrails/30617040#30617040", "title": "How to display something after a user input (submit) ? &gt; HAML + RubyOnRails", "body": "<p>In this case, where you are not doing any server side processing, you should use JavaScript. </p>\n\n<p>Just check value of the input field and do your logic from there.</p>\n\n<pre><code>$('form').on('submit',function(){\n  if ($('#Input1').val() &lt; 10) {\n    $(\"#my_image\").attr(\"src\",\"first.jpg\");\n  } \n  else {\n    $(\"#my_image\").attr(\"src\",\"second.jpg\");\n  }\n}) \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4892751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fffce872cea0b8c8c2cd2273d39826?s=128&d=identicon&r=PG&f=1", "display_name": "Pingu", "link": "https://stackoverflow.com/users/4892751/pingu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1433331122, "creation_date": 1433324892, "last_edit_date": 1433325378, "question_id": 30616545, "link": "https://stackoverflow.com/questions/30616545/how-to-display-something-after-a-user-input-submit-haml-rubyonrails", "title": "How to display something after a user input (submit) ? &gt; HAML + RubyOnRails", "body": "<p>So im quite new to Ruby. I already have some HTML/HAML experience, now I want to do a simple Website with this: A input field and a submit button.              </p>\n\n<p>If the user input is &lt; 10 it should display some picture, if its > 10, it should display a other picture. This is what I've done so far:                        </p>\n\n<p><img src=\"https://i.stack.imgur.com/tRkCd.png\" alt=\"enter image description here\"></p>\n\n<p><strong>What should I do now to proccess the user input ? I just can't figure out.</strong> </p>\n"}, {"tags": ["ruby", "ruby-on-rails-3.2"], "comments": [{"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433324958, "post_id": 30616537, "comment_id": 49299358, "body": "&lt;%= link_to &quot;update&quot;,users_update_path(all_id: @userid) %&gt;"}, {"owner": {"reputation": 3262, "user_id": 4790217, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/51e840c4fca312811ef7da6ab52df663?s=128&d=identicon&r=PG&f=1", "display_name": "satya", "link": "https://stackoverflow.com/users/4790217/satya"}, "reply_to_user": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433325099, "post_id": 30616537, "comment_id": 49299464, "body": "@ pardeep :Then how can it handled in route.rb file."}, {"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433325200, "post_id": 30616537, "comment_id": 49299542, "body": "put &#39;/users&#39;, to: &#39;users#update&#39;"}, {"owner": {"reputation": 3262, "user_id": 4790217, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/51e840c4fca312811ef7da6ab52df663?s=128&d=identicon&r=PG&f=1", "display_name": "satya", "link": "https://stackoverflow.com/users/4790217/satya"}, "reply_to_user": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433325268, "post_id": 30616537, "comment_id": 49299604, "body": "@ pardeep : How can i extract those 4 ids in update method."}, {"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 1, "creation_date": 1433325342, "post_id": 30616537, "comment_id": 49299654, "body": "you can pass as many query parameters you want.. &lt;%= link_to &quot;update&quot;,users_path(all_id: @userid), method: :put %&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1433326342, "creation_date": 1433326342, "answer_id": 30617140, "question_id": 30616537, "link": "https://stackoverflow.com/questions/30616537/passing-multiple-id-with-url-using-rails-3/30617140#30617140", "title": "passing multiple id with URL using Rails 3", "body": "<p>You can try this, I hope this will help.</p>\n\n<pre><code>&lt;%= link_to \"update\",users_update_path(params.merge!(:all_id =&gt; [1,2,3,4])) %&gt;\n\n## Output\nputs params[:all_id]\n[1,2,3,4]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3262, "user_id": 4790217, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/51e840c4fca312811ef7da6ab52df663?s=128&d=identicon&r=PG&f=1", "display_name": "satya", "link": "https://stackoverflow.com/users/4790217/satya"}, "edited": false, "score": 0, "creation_date": 1433328613, "post_id": 30617465, "comment_id": 49301982, "body": "@ rahulv : How to set route.rb file."}, {"owner": {"reputation": 3459, "user_id": 3185510, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nlb4D.jpg?s=128&g=1", "display_name": "webster", "link": "https://stackoverflow.com/users/3185510/webster"}, "reply_to_user": {"reputation": 3262, "user_id": 4790217, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/51e840c4fca312811ef7da6ab52df663?s=128&d=identicon&r=PG&f=1", "display_name": "satya", "link": "https://stackoverflow.com/users/4790217/satya"}, "edited": false, "score": 0, "creation_date": 1433331334, "post_id": 30617465, "comment_id": 49303848, "body": "@satya: Update the question with your routes file."}], "tags": [], "owner": {"reputation": 3459, "user_id": 3185510, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nlb4D.jpg?s=128&g=1", "display_name": "webster", "link": "https://stackoverflow.com/users/3185510/webster"}, "is_accepted": false, "score": 0, "last_activity_date": 1433327193, "creation_date": 1433327193, "answer_id": 30617465, "question_id": 30616537, "link": "https://stackoverflow.com/questions/30616537/passing-multiple-id-with-url-using-rails-3/30617465#30617465", "title": "passing multiple id with URL using Rails 3", "body": "<p>Try this:</p>\n\n<pre><code>&lt;%= link_to \"update\",users_update_path(:all_id =&gt; @userid.to_s) %&gt;\n</code></pre>\n\n<p>users_controller.rb:</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n  def update\n    @user_ids = params[:all_id]\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 677, "user_id": 4441507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75caec9a48b3c2c0ecd1d203b7cd6a8f?s=128&d=identicon&r=PG&f=1", "display_name": "Madhan S", "link": "https://stackoverflow.com/users/4441507/madhan-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1509538056, "last_edit_date": 1509538056, "creation_date": 1435314358, "answer_id": 31070833, "question_id": 30616537, "link": "https://stackoverflow.com/questions/30616537/passing-multiple-id-with-url-using-rails-3/31070833#31070833", "title": "passing multiple id with URL using Rails 3", "body": "<p>convert the array into string and pass string to controller like</p>\n\n<pre><code> &lt;% c= @userid.join(\u2018,\u2019) %&gt;\n &lt;%= link_to \"update\",users_update_path(:ids =&gt; c) %&gt;\n</code></pre>\n\n<p>in controller using split method convert string back to array</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n  def update\n     s = params[:ids]\n    @ids  = s.split(/,/)\n  end\nend\n</code></pre>\n\n<p>in routes.rb</p>\n\n<pre><code>match \u2018your_users_update_path/:ids\u2019 =&gt; \u2018users#update\u2019\n</code></pre>\n"}], "owner": {"reputation": 3262, "user_id": 4790217, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/51e840c4fca312811ef7da6ab52df663?s=128&d=identicon&r=PG&f=1", "display_name": "satya", "link": "https://stackoverflow.com/users/4790217/satya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1441, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1509538056, "creation_date": 1433324858, "question_id": 30616537, "link": "https://stackoverflow.com/questions/30616537/passing-multiple-id-with-url-using-rails-3", "title": "passing multiple id with URL using Rails 3", "body": "<p>my requirement is passing array of ids with URL and extract them into controller method.Suppose I have the ids like below.</p>\n\n<pre><code>@userid=[1,2,3,4]\n</code></pre>\n\n<p>I have the <code>link_to</code> tag like below.</p>\n\n<pre><code>&lt;%= link_to \"update\",users_update_path(:all_id=@userid) %&gt;\n</code></pre>\n\n<p>In <code>users_controller.rb</code> file i want to access all id which are present in @userid variable.</p>\n\n<blockquote>\n  <p>users_controller.rb:</p>\n</blockquote>\n\n<pre><code>class UsersController &lt; ApplicationController\ndef update\n\nend\nend\n</code></pre>\n\n<p>Please help me  to resolve this issue.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "url-parameters"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1433325604, "post_id": 30616529, "comment_id": 49299850, "body": "You are going to need to parse the URI manually, you can use <a href=\"http://ruby-doc.org/stdlib-1.9.3/libdoc/uri/rdoc/URI.html#method-c-decode_www_form\" rel=\"nofollow noreferrer\">URI::decode_www_form</a>"}, {"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1433326164, "post_id": 30616529, "comment_id": 49300239, "body": "go through the <a href=\"https://github.com/sporkmonger/addressable\" rel=\"nofollow noreferrer\">github.com/sporkmonger/addressable</a> - replacement for Ruby&#39;s URI module."}], "answers": [{"tags": [], "owner": {"reputation": 5147, "user_id": 334761, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZXRM5.jpg?s=128&g=1", "display_name": "Stefan Majewsky", "link": "https://stackoverflow.com/users/334761/stefan-majewsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1433329646, "creation_date": 1433329646, "answer_id": 30618358, "question_id": 30616529, "link": "https://stackoverflow.com/questions/30616529/how-to-accept-multiple-url-parameters-in-rails-with-the-same-key/30618358#30618358", "title": "How to accept multiple URL parameters in Rails with the same key?", "body": "<p>Using the hint from @maxcal I came up with this solution (to avoid adding yet more gems to this completely bloated app that I'm working on):</p>\n\n<pre><code>current_query_string = URI(request.url).query\nfoo_values = URI::decode_www_form(current_query_string).\n  select { |pair| pair[0] == \"foo\" }.\n  collect { |pair| pair[1] }\n</code></pre>\n"}], "owner": {"reputation": 5147, "user_id": 334761, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZXRM5.jpg?s=128&g=1", "display_name": "Stefan Majewsky", "link": "https://stackoverflow.com/users/334761/stefan-majewsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1356, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1433329646, "creation_date": 1433324836, "last_edit_date": 1495541667, "question_id": 30616529, "link": "https://stackoverflow.com/questions/30616529/how-to-accept-multiple-url-parameters-in-rails-with-the-same-key", "title": "How to accept multiple URL parameters in Rails with the same key?", "body": "<p>In Rails, when you want to send a list of values through a single array parameter, <a href=\"https://stackoverflow.com/q/2614762/334761\">you usually do so</a> by suffixing the URL parameter key with <code>[]</code>. For example, the query string <code>?foo[]=1&amp;foo[]=2&amp;foo[]=3</code> is parsed as</p>\n\n<pre><code>params = { \"foo\" =&gt; [ 1, 2, 3 ] }\n</code></pre>\n\n<p>But for <code>?foo=1&amp;foo=2&amp;foo=3</code>, only the last argument shows up in the params hash:</p>\n\n<pre><code>params = { \"foo\" =&gt; 3 }\n</code></pre>\n\n<p>Everything's fine while you can control the URL format; you can just use the <code>[]</code> syntax. But what if the URL is constructed by a remote system that you cannot influence, and that insists on the second format? How can one get the arguments unpacked properly?</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "facebook"], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 4132498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K-0BzXkdhlU/AAAAAAAAAAI/AAAAAAAAJE4/PFnile0YKNc/photo.jpg?sz=128", "display_name": "cibinlik", "link": "https://stackoverflow.com/users/4132498/cibinlik"}, "is_accepted": false, "score": 1, "last_activity_date": 1433751143, "last_edit_date": 1433751143, "creation_date": 1433750829, "answer_id": 30704024, "question_id": 30616412, "link": "https://stackoverflow.com/questions/30616412/facebook-feed-dialog-to-be-popup/30704024#30704024", "title": "facebook feed dialog to be popup", "body": "<p>According to <a href=\"https://developers.facebook.com/docs/sharing/reference/share-dialog\" rel=\"nofollow\">this Facebook DEV</a> page, you should use Facebook SDK for JavaScript in order to use modal iframe on webpage.</p>\n\n<p>I've recently checked and you should read too; </p>\n\n<blockquote>\n  <p>from: <a href=\"https://developers.facebook.com/docs/sharing/reference/share-dialog\" rel=\"nofollow\">https://developers.facebook.com/docs/sharing/reference/share-dialog</a></p>\n  \n  <p>If you are using the URL redirect dialog implementation, then this will be a full page display, shown within Facebook.com. This display type is called page.</p>\n  \n  <p>If you are using one of our iOS or Android SDKs to invoke the dialog, this is automatically specified and chooses an appropriate display type for the device.</p>\n  \n  <p>If you are using the Facebook SDK for JavaScript, this will default to a modal iframe type for people logged into your app or async when using within a game on Facebook.com, and a popup window for everyone else. You can also force the popup or page types when using the Facebook SDK for JavaScript, if necessary.</p>\n  \n  <p>Mobile web apps will always default to the touch display type</p>\n</blockquote>\n\n<p>In order to do that, add Javascript SDK to your views/layouts/application.html.erb file just after body tag. Then use sth like this where you want to place your dialog:</p>\n\n<pre><code>FB.ui({\n  method: 'share',\n  href: 'https://developers.facebook.com/docs/',\n}, function(response){});\n</code></pre>\n"}], "owner": {"reputation": 598, "user_id": 3522082, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/73aaa074502f78ed1d5556458ccc2037?s=128&d=identicon&r=PG", "display_name": "Navin", "link": "https://stackoverflow.com/users/3522082/navin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1433751143, "creation_date": 1433324582, "question_id": 30616412, "link": "https://stackoverflow.com/questions/30616412/facebook-feed-dialog-to-be-popup", "title": "facebook feed dialog to be popup", "body": "<p>I am using below link to share my ruby on rails website content on facebook, I need this link to be popup , i am using <code>display=popup</code> as documents says, but it doesnot popsups.</p>\n\n<pre><code>href=\"http://www.facebook.com/dialog/feed?app_id=xxxx&amp;display=popup&amp;redirect_uri=http://www.xy.com&amp;name=\"some_text\"&amp;link=http://www.xy.com/&amp;picture=\"logored.jpg\"+&amp;properties=&amp;actions=\"\n</code></pre>\n\n<p>what else I can try for displaying the link as popup?</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "edited": false, "score": 0, "creation_date": 1433324122, "post_id": 30616100, "comment_id": 49298777, "body": "OP said, <code>user can or can not fill</code>. So can you expect <code>params[:first_name]</code> each time user submits a form?"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "edited": false, "score": 0, "creation_date": 1433324699, "post_id": 30616100, "comment_id": 49299197, "body": "try to use like that  params[:first_name] || &quot;&quot;"}], "tags": [], "owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1433323827, "creation_date": 1433323827, "answer_id": 30616100, "question_id": 30616021, "link": "https://stackoverflow.com/questions/30616021/rails-4-best-way-to-perform-an-advanced-search/30616100#30616100", "title": "Rails 4 - Best way to perform an advanced search", "body": "<p>Try this</p>\n\n<pre><code>User.where(\"name = ? or surname = ? or age = ? \", params[:first_name], params[:lastname], params[:age])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1958, "user_id": 515991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/319b6176a2b56541cbf44182fd3987a1?s=128&d=identicon&r=PG&f=1", "display_name": "usmanali", "link": "https://stackoverflow.com/users/515991/usmanali"}, "reply_to_user": {"reputation": 367, "user_id": 4523968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ee11aa1084aa094cdedb9b60b1774?s=128&d=identicon&r=PG&f=1", "display_name": "Mattia M.", "link": "https://stackoverflow.com/users/4523968/mattia-m"}, "edited": false, "score": 1, "creation_date": 1433324713, "post_id": 30616366, "comment_id": 49299206, "body": "you can use <code>concerns</code> for that purpose"}, {"owner": {"reputation": 1958, "user_id": 515991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/319b6176a2b56541cbf44182fd3987a1?s=128&d=identicon&r=PG&f=1", "display_name": "usmanali", "link": "https://stackoverflow.com/users/515991/usmanali"}, "reply_to_user": {"reputation": 367, "user_id": 4523968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ee11aa1084aa094cdedb9b60b1774?s=128&d=identicon&r=PG&f=1", "display_name": "Mattia M.", "link": "https://stackoverflow.com/users/4523968/mattia-m"}, "edited": false, "score": 0, "creation_date": 1433325265, "post_id": 30616366, "comment_id": 49299602, "body": "please follow this answer to use <code>concerns</code>: <a href=\"http://stackoverflow.com/questions/14541823/how-to-use-concerns-in-rails-4\" title=\"how to use concerns in rails 4\">stackoverflow.com/questions/14541823/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1958, "user_id": 515991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/319b6176a2b56541cbf44182fd3987a1?s=128&d=identicon&r=PG&f=1", "display_name": "usmanali", "link": "https://stackoverflow.com/users/515991/usmanali"}, "is_accepted": true, "score": 0, "last_activity_date": 1433324488, "creation_date": 1433324488, "answer_id": 30616366, "question_id": 30616021, "link": "https://stackoverflow.com/questions/30616021/rails-4-best-way-to-perform-an-advanced-search/30616366#30616366", "title": "Rails 4 - Best way to perform an advanced search", "body": "<p>In you controller do this:</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n\n  def index\n    @users = User.search params[:filter]\n  end\n\nend\n</code></pre>\n\n<p>Then in <code>User</code> model do:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  def self.search(options = {})\n    users = User.all\n    users = users.where(name: options[:name] ) if options[:name].present?\n    users = users.where(first_name: options[:first_name] ) if options[:first_name].present?\n    users = users.where(last_name: options[:last_name] ) if options[:last_name].present?\n    users = users.where(age: options[:age] ) if options[:age].present?\n    users\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 4523968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ee11aa1084aa094cdedb9b60b1774?s=128&d=identicon&r=PG&f=1", "display_name": "Mattia M.", "link": "https://stackoverflow.com/users/4523968/mattia-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 30616366, "answer_count": 2, "score": 1, "last_activity_date": 1433334098, "creation_date": 1433323618, "question_id": 30616021, "link": "https://stackoverflow.com/questions/30616021/rails-4-best-way-to-perform-an-advanced-search", "title": "Rails 4 - Best way to perform an advanced search", "body": "<p>In a custom advanced search form, what is the best way to perform a query to filter results?</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n\n  def index\n    @users = User.all\n  end\n\nend\n</code></pre>\n\n<p>In many case we have different types of data, for example:</p>\n\n<p><code>name</code> will be a string, <code>surname</code> will be a string, <code>age</code> will be an integer</p>\n\n<p>In my specific case, i have a form with some filters that user can or can not fill. How can i do a dynamic query?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ldap"], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 981104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b751896caaf9486a310df31317d3eb38?s=128&d=identicon&r=PG", "display_name": "up_the_irons", "link": "https://stackoverflow.com/users/981104/up-the-irons"}, "edited": false, "score": 0, "creation_date": 1434019767, "post_id": 30762474, "comment_id": 49607405, "body": "Yeah, I tried that too; same result.  No objects returned."}, {"owner": {"reputation": 281, "user_id": 981104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b751896caaf9486a310df31317d3eb38?s=128&d=identicon&r=PG", "display_name": "up_the_irons", "link": "https://stackoverflow.com/users/981104/up-the-irons"}, "edited": false, "score": 0, "creation_date": 1434416641, "post_id": 30762474, "comment_id": 49757780, "body": "Thanks for trying Joshua, you may have the bounty"}, {"owner": {"reputation": 2009, "user_id": 20769, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/922e7e3c612566756735b2def78827d8?s=128&d=identicon&r=PG", "display_name": "Joshua", "link": "https://stackoverflow.com/users/20769/joshua"}, "reply_to_user": {"reputation": 281, "user_id": 981104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b751896caaf9486a310df31317d3eb38?s=128&d=identicon&r=PG", "display_name": "up_the_irons", "link": "https://stackoverflow.com/users/981104/up-the-irons"}, "edited": false, "score": 0, "creation_date": 1434741551, "post_id": 30762474, "comment_id": 49926030, "body": "Thanks! - sorry it wasn&#39;t much help."}], "tags": [], "owner": {"reputation": 2009, "user_id": 20769, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/922e7e3c612566756735b2def78827d8?s=128&d=identicon&r=PG", "display_name": "Joshua", "link": "https://stackoverflow.com/users/20769/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1433954758, "creation_date": 1433954758, "answer_id": 30762474, "question_id": 30615986, "link": "https://stackoverflow.com/questions/30615986/how-can-i-retrieve-deleted-objects-from-active-directory-with-ruby/30762474#30762474", "title": "How can I retrieve deleted objects from Active Directory with Ruby?", "body": "<p>Have you tried isDeleted=* instead?</p>\n\n<p><a href=\"https://technet.microsoft.com/en-us/library/cc978013.aspx\" rel=\"nofollow\">https://technet.microsoft.com/en-us/library/cc978013.aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 281, "user_id": 981104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b751896caaf9486a310df31317d3eb38?s=128&d=identicon&r=PG", "display_name": "up_the_irons", "link": "https://stackoverflow.com/users/981104/up-the-irons"}, "is_accepted": true, "score": 3, "last_activity_date": 1434756677, "creation_date": 1434756677, "answer_id": 30948709, "question_id": 30615986, "link": "https://stackoverflow.com/questions/30615986/how-can-i-retrieve-deleted-objects-from-active-directory-with-ruby/30948709#30948709", "title": "How can I retrieve deleted objects from Active Directory with Ruby?", "body": "<p>OK, I finally figured it out.  One will need to use the <code>ruby-ldap</code> gem.  The reason my controls were not being sent was because the LDAP Protocol Version (<code>LDAP::LDAP_OPT_PROTOCOL_VERSION</code>) had defaulted to v2 and apparently it must be v3.</p>\n\n<p>The following is a snippet that works:</p>\n\n<pre><code>require 'ldap'\n\nconn = LDAP::Conn.new('yourserver.example.com', 389)\nconn.set_option(LDAP::LDAP_OPT_PROTOCOL_VERSION, 3)\nconn.bind(\"CN=Administrator,CN=Users,DC=example,DC=com\", \"sekritpass\")\n\n# controlType: 1.2.840.113556.1.4.417 (LDAP_SERVER_SHOW_DELETED_OID)\ncontrol = LDAP::Control.new('1.2.840.113556.1.4.417')\n\nconn.search_ext2('CN=Deleted Objects,DC=example,DC=com', LDAP::LDAP_SCOPE_SUBTREE, \"(isDeleted=*)\", nil, false, [control], nil)\n</code></pre>\n\n<p>The filter <code>(isDeleted=*)</code> isn't necessarily required, you could also simply use <code>(objectClass=*)</code>.  You can also use the scope <code>LDAP::LDAP_SCOPE_ONELEVEL</code> if desired.</p>\n"}], "owner": {"reputation": 281, "user_id": 981104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b751896caaf9486a310df31317d3eb38?s=128&d=identicon&r=PG", "display_name": "up_the_irons", "link": "https://stackoverflow.com/users/981104/up-the-irons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 3, "accepted_answer_id": 30948709, "answer_count": 2, "score": 12, "last_activity_date": 1434756677, "creation_date": 1433323524, "last_edit_date": 1433323918, "question_id": 30615986, "link": "https://stackoverflow.com/questions/30615986/how-can-i-retrieve-deleted-objects-from-active-directory-with-ruby", "title": "How can I retrieve deleted objects from Active Directory with Ruby?", "body": "<p>From the research I've done, it appears I need to send a special OID with my request (1.2.840.113556.1.4.417) in order to access the Deleted Objects container.</p>\n\n<p>I couldn't find a way to send a specific control with a request using the \"net-ldap\" gem.  Does anyone know if this is possible?</p>\n\n<p>There is another gem, ruby-ldap, which appears to be more flexible and it seems I <em>can</em> send controls with my request (e.g. using the search_ext2() method).</p>\n\n<p>However, no matter what I try, I am not getting back any objects, even though I know they haven't been garbage collected yet.</p>\n\n<p>I'm including the filter \"isDeleted=TRUE\" with my requests as well.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 9845, "user_id": 119822, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wnqih.jpg?s=128&g=1", "display_name": "Andy Waite", "link": "https://stackoverflow.com/users/119822/andy-waite"}, "is_accepted": false, "score": 0, "last_activity_date": 1433323707, "creation_date": 1433323707, "answer_id": 30616054, "question_id": 30615951, "link": "https://stackoverflow.com/questions/30615951/rails-day-of-year-to-date/30616054#30616054", "title": "Rails, day of year to date", "body": "<pre><code>Date.new(2014, 1, 1) + 210\n=&gt; Wed, 30 Jul 2014\n</code></pre>\n\n<p>Edit - you'd need to subtract 1 day. I prefer @wonderb0lt's suggestion.</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 4144912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-RzbBU30GMY0/AAAAAAAAAAI/AAAAAAAAABM/O8M3jU4azfM/photo.jpg?sz=128", "display_name": "Arun Kaushik", "link": "https://stackoverflow.com/users/4144912/arun-kaushik"}, "edited": false, "score": 1, "creation_date": 1433324014, "post_id": 30616071, "comment_id": 49298699, "body": "thank you wonder, I guess I skipped the ordinal function in docs. thanks :)"}], "tags": [], "owner": {"reputation": 1922, "user_id": 660848, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SLqSN.jpg?s=128&g=1", "display_name": "wonderb0lt", "link": "https://stackoverflow.com/users/660848/wonderb0lt"}, "is_accepted": false, "score": 6, "last_activity_date": 1433324510, "last_edit_date": 1433324510, "creation_date": 1433323746, "answer_id": 30616071, "question_id": 30615951, "link": "https://stackoverflow.com/questions/30615951/rails-day-of-year-to-date/30616071#30616071", "title": "Rails, day of year to date", "body": "<p>You can use <a href=\"http://ruby-doc.org/stdlib-2.2.2/libdoc/date/rdoc/Date.html#method-c-ordinal\" rel=\"nofollow\">Date.ordinal</a> for that:</p>\n\n<pre><code>require 'date'\n\nDate.ordinal(2014, 210)\n# =&gt; #&lt;Date: 2014-07-29 ((2456868j,0s,0n),+0s,2299161j)&gt;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4144912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-RzbBU30GMY0/AAAAAAAAAAI/AAAAAAAAABM/O8M3jU4azfM/photo.jpg?sz=128", "display_name": "Arun Kaushik", "link": "https://stackoverflow.com/users/4144912/arun-kaushik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1433324510, "creation_date": 1433323447, "question_id": 30615951, "link": "https://stackoverflow.com/questions/30615951/rails-day-of-year-to-date", "title": "Rails, day of year to date", "body": "<p>I have day of the year. For example 15th day of 2014, or 210th day of 2014. I need to get the Date on the particular day. Is there any library function in Rails/Ruby that I can use, or any other elegant way?</p>\n\n<p>Something like: </p>\n\n<p>15th day of 2014 = 15-Jan-2014</p>\n\n<p>210th day of 2014 = 29-Jul-2014</p>\n"}, {"tags": ["ruby", "oop"], "comments": [{"owner": {"reputation": 1989, "user_id": 1520130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9000383017000de1e1025f4f80d8655?s=128&d=identicon&r=PG", "display_name": "osman", "link": "https://stackoverflow.com/users/1520130/osman"}, "edited": false, "score": 0, "creation_date": 1433324196, "post_id": 30615863, "comment_id": 49298826, "body": "2.1.2 and 2.2.0 both seem to work without issue. Can only see two situations where you would get that error - super being called without arguments and initializing Point with 3 args."}, {"owner": {"reputation": 675, "user_id": 3165588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/71c26b99f5018c134b46a6d6946b77c6?s=128&d=identicon&r=PG", "display_name": "fra9001", "link": "https://stackoverflow.com/users/3165588/fra9001"}, "reply_to_user": {"reputation": 1989, "user_id": 1520130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9000383017000de1e1025f4f80d8655?s=128&d=identicon&r=PG", "display_name": "osman", "link": "https://stackoverflow.com/users/1520130/osman"}, "edited": false, "score": 0, "creation_date": 1433324887, "post_id": 30615863, "comment_id": 49299316, "body": "from my code it&#39;s clear that I&#39;m not doing that."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 1, "creation_date": 1433325002, "post_id": 30615863, "comment_id": 49299392, "body": "2.1, 2.2 @linux: not reproducible."}, {"owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 1, "creation_date": 1433325301, "post_id": 30615863, "comment_id": 49299625, "body": "Works well for 1.9.3"}, {"owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 0, "creation_date": 1433326449, "post_id": 30615863, "comment_id": 49300462, "body": "Well, instead of <code>require &quot;.&#47;Point.rb&quot;</code> use <code>require_relative &quot;Point&quot;</code>"}, {"owner": {"reputation": 675, "user_id": 3165588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/71c26b99f5018c134b46a6d6946b77c6?s=128&d=identicon&r=PG", "display_name": "fra9001", "link": "https://stackoverflow.com/users/3165588/fra9001"}, "edited": false, "score": 0, "creation_date": 1433326541, "post_id": 30615863, "comment_id": 49300543, "body": "tried it, still not working"}, {"owner": {"reputation": 1989, "user_id": 1520130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9000383017000de1e1025f4f80d8655?s=128&d=identicon&r=PG", "display_name": "osman", "link": "https://stackoverflow.com/users/1520130/osman"}, "edited": false, "score": 0, "creation_date": 1433326904, "post_id": 30615863, "comment_id": 49300819, "body": "Your edit is unclear. &quot;If I put the two classes in the same file (Point3D.rb) however this problem does not happen, but if I put the Point3D class in Point.rb the error remains.&quot; Not sure what the distinction is here. You have a point.rb file which contains a definition for the point3d class but not the point class?"}], "answers": [{"comments": [{"owner": {"reputation": 1989, "user_id": 1520130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9000383017000de1e1025f4f80d8655?s=128&d=identicon&r=PG", "display_name": "osman", "link": "https://stackoverflow.com/users/1520130/osman"}, "edited": false, "score": 3, "creation_date": 1433348638, "post_id": 30617454, "comment_id": 49317178, "body": "A good practise is to try and run the exact code you post here and see if it works without any other code. Otherwise we&#39;re clueless as to your problem."}], "tags": [], "owner": {"reputation": 675, "user_id": 3165588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/71c26b99f5018c134b46a6d6946b77c6?s=128&d=identicon&r=PG", "display_name": "fra9001", "link": "https://stackoverflow.com/users/3165588/fra9001"}, "is_accepted": false, "score": 0, "last_activity_date": 1433334450, "last_edit_date": 1433334450, "creation_date": 1433327165, "answer_id": 30617454, "question_id": 30615863, "link": "https://stackoverflow.com/questions/30615863/ruby-super-keyword-in-initialize-throws-argumenterror/30617454#30617454", "title": "ruby super keyword in initialize throws ArgumentError", "body": "<p>I understood what the problem was.</p>\n\n<p>The book made an example on how to create an <code>initialize</code> overload</p>\n\n<pre><code>class Point\n    def initialize(x,y)\n        @x,@y = x,y\n    end\n\n    def self.new(x,y)\n        #other stuff\n        super\n    end\nend\n</code></pre>\n\n<p>and it was missing the <code>super</code> call from <code>Point3D</code></p>\n\n<p>I've commented the <code>self.new</code> and <code>Point</code> is working as expected.</p>\n\n<p>It is interesting to note that if you add methods to <code>Point</code> in the file <em>Point.rb</em> like this</p>\n\n<pre><code>class &lt;&lt; Point\n    def to_s\n        \"foo\"\n    end\nend\n</code></pre>\n\n<p>Point.rb works correctly.</p>\n"}], "owner": {"reputation": 675, "user_id": 3165588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/71c26b99f5018c134b46a6d6946b77c6?s=128&d=identicon&r=PG", "display_name": "fra9001", "link": "https://stackoverflow.com/users/3165588/fra9001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433334450, "creation_date": 1433323222, "last_edit_date": 1433325593, "question_id": 30615863, "link": "https://stackoverflow.com/questions/30615863/ruby-super-keyword-in-initialize-throws-argumenterror", "title": "ruby super keyword in initialize throws ArgumentError", "body": "<p>I'm learning ruby from a book based on ruby 1.9 but currently I'm using 2.2</p>\n\n<p>I have two classes (from the book)</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>class Point\n    def initialize(x,y)\n        @x,@y = x,y\n    end\nend\n\nclass Point3D &lt; Point\n    def initialize(x,y,z)\n        super(x,y)\n        @z = z\n    end\nend\n</code></pre>\n\n<p>however when I call <code>Point3D.new(0,1,2)</code> the ruby interpreter raises a <code>ArgumentError</code> that says <code>wrong number of arguments (3 for 2)</code>.</p>\n\n<p>Why is this happening?</p>\n\n<p>EDIT</p>\n\n<p>I've omitted to say that the Point class is in another <code>require</code>d file.</p>\n\n<p>I've tried to call</p>\n\n<pre><code>require \"./Point.rb\"\n\npoint = Point.new(0,1)\nputs point\n</code></pre>\n\n<p>which work as expected</p>\n\n<p>then added the Point3D class as described over and tried to call</p>\n\n<pre><code>require \"./Point.rb\"\n\nclass Point3D &lt; Point\n...\nend\n\npoint1 = Point3D.new(0,1,2)\nputs point1\n</code></pre>\n\n<p>which raises the ArgumentError.</p>\n\n<p>If I put the two classes in the same file (Point3D.rb) however this problem does not happen, but if I put the Point3D class in Point.rb the error remains.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 971, "user_id": 2301404, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a58cf6b9f5d523fa29d55b184ad630ba?s=128&d=identicon&r=PG", "display_name": "Sagar.Patil", "link": "https://stackoverflow.com/users/2301404/sagar-patil"}, "is_accepted": true, "score": 3, "last_activity_date": 1433323234, "creation_date": 1433323234, "answer_id": 30615867, "question_id": 30615793, "link": "https://stackoverflow.com/questions/30615793/rails-calling-a-task-in-lib-tasks-folder/30615867#30615867", "title": "Rails calling a task in lib/tasks folder", "body": "<p>It should be like this</p>\n\n<pre><code>system \"RAILS_ENV=\"+Rails.env+\" rake backup:mysqldump\"\n</code></pre>\n\n<p>a space between <code>\" rake</code></p>\n"}, {"tags": [], "owner": {"reputation": 1461, "user_id": 2059047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5e1327cb46137894ca902795db2111ac?s=128&d=identicon&r=PG", "display_name": "Prashant4224", "link": "https://stackoverflow.com/users/2059047/prashant4224"}, "is_accepted": false, "score": 1, "last_activity_date": 1433323339, "creation_date": 1433323339, "answer_id": 30615910, "question_id": 30615793, "link": "https://stackoverflow.com/questions/30615793/rails-calling-a-task-in-lib-tasks-folder/30615910#30615910", "title": "Rails calling a task in lib/tasks folder", "body": "<p>In controller you can use like this:</p>\n\n<pre><code>def method\n  %x[rake rake backup:mysqldump]\n  redirect_to root_path\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 493, "user_id": 2553244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf754522a02730df26831eb8cc5b6ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Adnan Devops", "link": "https://stackoverflow.com/users/2553244/adnan-devops"}, "is_accepted": false, "score": 1, "last_activity_date": 1433324727, "creation_date": 1433324727, "answer_id": 30616485, "question_id": 30615793, "link": "https://stackoverflow.com/questions/30615793/rails-calling-a-task-in-lib-tasks-folder/30616485#30616485", "title": "Rails calling a task in lib/tasks folder", "body": "<p>Try this command:</p>\n\n<pre><code>Rake::Task['task_name'].invoke(args)\n</code></pre>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 1, "accepted_answer_id": 30615867, "answer_count": 3, "score": 1, "last_activity_date": 1433331192, "creation_date": 1433323069, "last_edit_date": 1433331192, "question_id": 30615793, "link": "https://stackoverflow.com/questions/30615793/rails-calling-a-task-in-lib-tasks-folder", "title": "Rails calling a task in lib/tasks folder", "body": "<p>I have a backup.rake file in the lib/tasks folder</p>\n\n<p>task looks like this:</p>\n\n<pre><code>require 'find'\nnamespace :backup do  \n  desc \"Backup the database to a file.\" \n  task :mysqldump =&gt; [:environment] do\n  end\nend\n</code></pre>\n\n<p>Now I want to call this from a controller like this:</p>\n\n<pre><code>system \"RAILS_ENV=\"+Rails.env+\"rake backup:mysqldump\"\n</code></pre>\n\n<p>But I got this error:</p>\n\n<pre><code>sh: 1: backup:mysqldump: not found\n</code></pre>\n\n<p>What is the problem? I do exactly the same with other tasks ... </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1433579245, "post_id": 30615343, "comment_id": 49421944, "body": "why is this upvoted?"}], "answers": [{"comments": [{"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 1, "creation_date": 1433323302, "post_id": 30615712, "comment_id": 49298192, "body": "really correct is this: <code>:controller =&gt; :super_admin</code> but thanks for the hint!"}, {"owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 1, "creation_date": 1433323412, "post_id": 30615712, "comment_id": 49298281, "body": "I&#39;m glad to help you :)"}], "tags": [], "owner": {"reputation": 10770, "user_id": 381874, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/k7VRE.jpg?s=128&g=1", "display_name": "Sachin R", "link": "https://stackoverflow.com/users/381874/sachin-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1433322849, "creation_date": 1433322849, "answer_id": 30615712, "question_id": 30615343, "link": "https://stackoverflow.com/questions/30615343/rails-routes-deprecation-warning/30615712#30615712", "title": "Rails Routes deprecation warning", "body": "<p>Use <code>controller: :super_admin</code> instead of <code>to: :super_admin</code>. This is also mentioned in the deprecation warning message.</p>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1284, "favorite_count": 0, "accepted_answer_id": 30615712, "answer_count": 1, "score": 1, "last_activity_date": 1433322849, "creation_date": 1433321934, "question_id": 30615343, "link": "https://stackoverflow.com/questions/30615343/rails-routes-deprecation-warning", "title": "Rails Routes deprecation warning", "body": "<p>I have a Rails 4.2.1 application and got a deprecation warning in my routes.rb</p>\n\n<pre><code>DEPRECATION WARNING: Defining a route where `to` is a controller without an action is deprecated. Please change `to: :super_admin` to `controller: :super_admin`. (called from block in &lt;top (required)&gt;\n</code></pre>\n\n<p>routes looks like this:</p>\n\n<pre><code> get \"/super_admin(/:action(/:id))\", :to =&gt; \"super_admin\", :constraints =&gt; {:subdomain =&gt; \"admin\"}\n get \"/\", :to =&gt; redirect(\"/super_admin\"), :constraints =&gt; {:subdomain =&gt; \"admin\"}\n get \"/super_admin(/:action(/:id))\", :to =&gt; \"super_admin\", :constraints =&gt; {:subdomain =&gt; \"admin.staging\"}\n get \"/\", :to =&gt; redirect(\"/super_admin\"), :constraints =&gt; {:subdomain =&gt; \"admin.staging\"}\n get \"/super_admin(/:action(/:id))\", :to =&gt; redirect(\"/\")\n</code></pre>\n\n<p>what do I have to change?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "hash"], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 310812, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/31ac6ede293e13f34f749271f026cbcd?s=128&d=identicon&r=PG", "display_name": "jissy", "link": "https://stackoverflow.com/users/310812/jissy"}, "edited": false, "score": 0, "creation_date": 1433327556, "post_id": 30615434, "comment_id": 49301267, "body": "for the above set of values the answer is ok .But , when i implemented it in rails for some hash i got the following  message: undefined method `values&#39; for nil:NilClass"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 387, "user_id": 310812, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/31ac6ede293e13f34f749271f026cbcd?s=128&d=identicon&r=PG", "display_name": "jissy", "link": "https://stackoverflow.com/users/310812/jissy"}, "edited": false, "score": 0, "creation_date": 1433330621, "post_id": 30615434, "comment_id": 49303354, "body": "The code above can\u2019t produce this error message. You introduce some error while implementing it in rails. It looks like you\u2019ve forgotten to return memo from each loop iteration."}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 2, "last_activity_date": 1433322158, "creation_date": 1433322158, "answer_id": 30615434, "question_id": 30614979, "link": "https://stackoverflow.com/questions/30614979/how-can-i-delete-duplicate-values-from-a-hash-of-hash/30615434#30615434", "title": "How can I delete duplicate values from a hash of hash", "body": "<pre><code>hash.inject({}) do |memo, (k, v)| \n  memo[k] = v unless memo.values.any? do |mv| \n                       mv['one'] == v['one']\n                     end\n  memo\nend\n\n#\u21d2 {\n#    \"1\" =&gt; {\n#      \"one\" =&gt; 1,\n#      \"two\" =&gt; 2\n#    },\n#    \"3\" =&gt; {\n#      \"one\" =&gt; 2,\n#      \"two\" =&gt; 3\n#    }\n#  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1982, "user_id": 1957674, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9fa3c9e811e22d933f19f24e8a6797d?s=128&d=identicon&r=PG", "display_name": "BinaryMee", "link": "https://stackoverflow.com/users/1957674/binarymee"}, "is_accepted": true, "score": 2, "last_activity_date": 1433323753, "last_edit_date": 1433323753, "creation_date": 1433322437, "answer_id": 30615546, "question_id": 30614979, "link": "https://stackoverflow.com/questions/30614979/how-can-i-delete-duplicate-values-from-a-hash-of-hash/30615546#30615546", "title": "How can I delete duplicate values from a hash of hash", "body": "<pre><code>ones_values = {}\nhash.delete_if do |key, value|\n  ones_values[value[\"one\"]] ? true : (ones_values[value[\"one\"]] = true) &amp;&amp; false\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6881, "user_id": 477047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Qh2bO.gif?s=128&g=1", "display_name": "David Unric", "link": "https://stackoverflow.com/users/477047/david-unric"}, "is_accepted": false, "score": 5, "last_activity_date": 1433334182, "creation_date": 1433334182, "answer_id": 30619989, "question_id": 30614979, "link": "https://stackoverflow.com/questions/30614979/how-can-i-delete-duplicate-values-from-a-hash-of-hash/30619989#30619989", "title": "How can I delete duplicate values from a hash of hash", "body": "<p>(readable) one-liner:</p>\n\n<pre><code>hash.to_a.uniq {|(_,v)| v['one']}.to_h\n# {\"1\"=&gt;{\"one\"=&gt;1, \"two\"=&gt;2}, \"3\"=&gt;{\"one\"=&gt;2, \"two\"=&gt;3}}\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 310812, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/31ac6ede293e13f34f749271f026cbcd?s=128&d=identicon&r=PG", "display_name": "jissy", "link": "https://stackoverflow.com/users/310812/jissy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 2, "accepted_answer_id": 30615546, "answer_count": 3, "score": 1, "last_activity_date": 1433334182, "creation_date": 1433320877, "last_edit_date": 1433321038, "question_id": 30614979, "link": "https://stackoverflow.com/questions/30614979/how-can-i-delete-duplicate-values-from-a-hash-of-hash", "title": "How can I delete duplicate values from a hash of hash", "body": "<p>I need a unique hash , where the value of <code>\"one\"</code> should never repeat.</p>\n\n<p>for example,</p>\n\n<pre><code>hash= {\"1\"=&gt;{\"one\"=&gt;1,\"two\"=&gt;2},\n   \"2\"=&gt;{\"one\"=&gt;1,\"two\"=&gt;3},\n   \"3\"=&gt;{\"one\"=&gt;2,\"two\"=&gt;3},\n   \"4\"=&gt;{\"one\"=&gt;1,\"two\"=&gt;2}}\n</code></pre>\n\n<p>then the result should be,</p>\n\n<pre><code>hash= {\"1\"=&gt;{\"one\"=&gt;1,\"two\"=&gt;2},\n    \"3\"=&gt;{\"one\"=&gt;2,\"two\"=&gt;3}}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1433317441, "post_id": 30613514, "comment_id": 49294333, "body": "What is your question?"}], "answers": [{"tags": [], "owner": {"reputation": 2982, "user_id": 3176055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c976138fc7bd60baa57b22e334816a44?s=128&d=identicon&r=PG&f=1", "display_name": "jon snow", "link": "https://stackoverflow.com/users/3176055/jon-snow"}, "is_accepted": false, "score": 1, "last_activity_date": 1433316595, "creation_date": 1433316595, "answer_id": 30613549, "question_id": 30613514, "link": "https://stackoverflow.com/questions/30613514/undefined-method-each-for-nilnilclass/30613549#30613549", "title": "undefined method `each` for nil:NilClass", "body": "<p>Its <code>@loan_ids.each</code> not <code>@loans_ids.each</code></p>\n"}, {"tags": [], "owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "is_accepted": false, "score": 1, "last_activity_date": 1433316636, "creation_date": 1433316636, "answer_id": 30613560, "question_id": 30613514, "link": "https://stackoverflow.com/questions/30613514/undefined-method-each-for-nilnilclass/30613560#30613560", "title": "undefined method `each` for nil:NilClass", "body": "<pre><code>@loan_ids=params[:moredata].split(\",\").map{|s| s.to_i }\n@loan_ids.each do |number|\n   puts number\nend\n</code></pre>\n\n<p>You have misspelled it</p>\n"}, {"tags": [], "owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1433320915, "creation_date": 1433320915, "answer_id": 30614992, "question_id": 30613514, "link": "https://stackoverflow.com/questions/30613514/undefined-method-each-for-nilnilclass/30614992#30614992", "title": "undefined method `each` for nil:NilClass", "body": "<p>It's <code>@loan_ids.each</code> not <code>@loans_ids.each</code>. You have a plural \"loans\" when it's not defined that way.</p>\n"}], "owner": {"reputation": 270, "user_id": 4666827, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/e8bc26ae2ce01301ba02947fdc771e9e?s=128&d=identicon&r=PG&f=1", "display_name": "Pritika", "link": "https://stackoverflow.com/users/4666827/pritika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1434100570, "creation_date": 1433316481, "last_edit_date": 1434100570, "question_id": 30613514, "link": "https://stackoverflow.com/questions/30613514/undefined-method-each-for-nilnilclass", "title": "undefined method `each` for nil:NilClass", "body": "<p>I have following code and getting error of <code>\"undefined method each&amp;#39; for nil:NilClass\"</code></p>\n\n<pre><code>@loan_ids = params[:moredata].split(\",\").map { |s| s.to_i }\n@loans_ids.each do |number|\n  puts number\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433316319, "post_id": 30613365, "comment_id": 49293670, "body": "you don&#39;t have to run the code. You just have to refresh the page after making changes"}, {"owner": {"reputation": 616, "user_id": 2675376, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000498640121/picture?type=large", "display_name": "Juan Manuel Rodulfo Salcedo", "link": "https://stackoverflow.com/users/2675376/juan-manuel-rodulfo-salcedo"}, "edited": false, "score": 3, "creation_date": 1433316322, "post_id": 30613365, "comment_id": 49293673, "body": "you should not change code on-the-fly but if you still want to.. you can edit your code with your favorite terminal editor (vi/vim/nano/etc..), change your code and then restart the server."}], "answers": [{"tags": [], "owner": {"reputation": 2487, "user_id": 267693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7kQYV.jpg?s=128&g=1", "display_name": "Ken Ratanachai S.", "link": "https://stackoverflow.com/users/267693/ken-ratanachai-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1433317749, "creation_date": 1433317749, "answer_id": 30613946, "question_id": 30613365, "link": "https://stackoverflow.com/questions/30613365/how-to-change-code-on-live-ruby-on-rails/30613946#30613946", "title": "How to change code on live Ruby On Rails", "body": "<p>Just edit the code using editor (vim, nano, or whatever), then restart your web server. But that's not the right way to do it. You should edit it in your local machine, and use a deployment tool like Capistrano. See below.</p>\n\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-automate-ruby-on-rails-application-deployments-using-capistrano\" rel=\"nofollow\">https://www.digitalocean.com/community/tutorials/how-to-automate-ruby-on-rails-application-deployments-using-capistrano</a></p>\n"}, {"tags": [], "owner": {"reputation": 15273, "user_id": 4258008, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aJHZ7.jpg?s=128&g=1", "display_name": "mainframer", "link": "https://stackoverflow.com/users/4258008/mainframer"}, "is_accepted": false, "score": 0, "last_activity_date": 1433318457, "creation_date": 1433318457, "answer_id": 30614175, "question_id": 30613365, "link": "https://stackoverflow.com/questions/30613365/how-to-change-code-on-live-ruby-on-rails/30614175#30614175", "title": "How to change code on live Ruby On Rails", "body": "<ol>\n<li><p>Modify the code with your favourite editor(vim/emacs/Sublime Text...) or IDE like Rubymine, save the change,</p></li>\n<li><p>Refresh your webpage, your modification should take effect.</p></li>\n</ol>\n"}], "owner": {"reputation": 98, "user_id": 4235300, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/72b31479fdfa3981fc58bc22740a576c?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh", "link": "https://stackoverflow.com/users/4235300/venkatesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 935, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1463168296, "creation_date": 1433316090, "last_edit_date": 1463168296, "question_id": 30613365, "link": "https://stackoverflow.com/questions/30613365/how-to-change-code-on-live-ruby-on-rails", "title": "How to change code on live Ruby On Rails", "body": "<p>I am new to Ruby on Rails.</p>\n\n<p>I have a site deployed on server and I'm accessing it with putty with hostIP and an RSA key.</p>\n\n<p>How can I update the code on the deployed site? If the code is modified, do we have to rebuild (or run) the code?</p>\n"}, {"tags": ["ruby", "editor", "atom-editor"], "comments": [{"owner": {"reputation": 205, "user_id": 1598361, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/0660340bd9007617ca50f95b8d31a982?s=128&d=identicon&r=PG", "display_name": "mk2015", "link": "https://stackoverflow.com/users/1598361/mk2015"}, "reply_to_user": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433316020, "post_id": 30613089, "comment_id": 49293468, "body": "I have a windows system. but im sure that rubocop ist not in the PATH"}, {"owner": {"reputation": 1989, "user_id": 1520130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9000383017000de1e1025f4f80d8655?s=128&d=identicon&r=PG", "display_name": "osman", "link": "https://stackoverflow.com/users/1520130/osman"}, "edited": false, "score": 0, "creation_date": 1433327172, "post_id": 30613089, "comment_id": 49301003, "body": "<a href=\"https://github.com/AtomLinter/linter-rubocop/issues/11\" rel=\"nofollow noreferrer\">github.com/AtomLinter/linter-rubocop/issues/11</a>"}], "owner": {"reputation": 205, "user_id": 1598361, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/0660340bd9007617ca50f95b8d31a982?s=128&d=identicon&r=PG", "display_name": "mk2015", "link": "https://stackoverflow.com/users/1598361/mk2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 569, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1460648601, "creation_date": 1433315112, "last_edit_date": 1460648601, "question_id": 30613089, "link": "https://stackoverflow.com/questions/30613089/ruby-code-formatter-atom-editor-error-spawn-rubocop-enoent", "title": "Ruby Code Formatter Atom Editor, Error spawn rubocop ENOENT?", "body": "<p>I have installed atom-beautifier.\nWhen i try to format my ruby code i get the following error:</p>\n\n<blockquote>\n  <p>spawn rubocop ENOENT</p>\n</blockquote>\n"}, {"tags": ["c#", "ruby-on-rails", "ruby", "encryption", "encryption-symmetric"], "answers": [{"comments": [{"owner": {"reputation": 4362, "user_id": 222923, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SDJla.jpg?s=128&g=1", "display_name": "Joelio", "link": "https://stackoverflow.com/users/222923/joelio"}, "edited": false, "score": 0, "creation_date": 1501636528, "post_id": 30832645, "comment_id": 77861011, "body": "Hi, I tried to compare the C# and your ruby and my encrypt decrypt come up with totally different answers. Is there more to your ruby code that you didn&#39;t post?"}, {"owner": {"reputation": 31, "user_id": 4867769, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dmgtGtagCJo/AAAAAAAAAAI/AAAAAAAAAD0/QwjP2fyYnWs/photo.jpg?sz=128", "display_name": "Cristian Carre&#241;o", "link": "https://stackoverflow.com/users/4867769/cristian-carre%c3%b1o"}, "reply_to_user": {"reputation": 4362, "user_id": 222923, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SDJla.jpg?s=128&g=1", "display_name": "Joelio", "link": "https://stackoverflow.com/users/222923/joelio"}, "edited": false, "score": 0, "creation_date": 1501725972, "post_id": 30832645, "comment_id": 77908094, "body": "I don&#39;t remember the exact input/output provided both the ruby and the C# code, and unfortunately i lost the source code. The only thing that it&#39;s not specified it&#39;s that the provided keys must be the same of course. Maybe future version of the gem changes output string a little from that time"}], "tags": [], "owner": {"reputation": 31, "user_id": 4867769, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dmgtGtagCJo/AAAAAAAAAAI/AAAAAAAAAD0/QwjP2fyYnWs/photo.jpg?sz=128", "display_name": "Cristian Carre&#241;o", "link": "https://stackoverflow.com/users/4867769/cristian-carre%c3%b1o"}, "is_accepted": true, "score": 0, "last_activity_date": 1434304330, "creation_date": 1434304330, "answer_id": 30832645, "question_id": 30613033, "link": "https://stackoverflow.com/questions/30613033/migrating-c-net-encrypt-decrypt-algorithm-to-ruby/30832645#30832645", "title": "Migrating C# .Net encrypt/decrypt algorithm to Ruby", "body": "<p>Finally, I found a library that exactly match the C# code and is <code>ruby-mcrypt</code> (<a href=\"https://github.com/kingpong/ruby-mcrypt\" rel=\"nofollow\">https://github.com/kingpong/ruby-mcrypt</a>). And the encryption/decryption code i used is this:</p>\n\n<pre><code>require 'mcrypt'\n\nmodule Crypt\n  def Crypt.m_encrypt(data, key)\n    crypto = Mcrypt.new(:rijndael_128, :ecb, key, nil, :zeros)\n    encrypted_data = crypto.encrypt(data)\n    encrypted_data\n  end\n\n  def Crypt.m_decrypt(data, key)\n    crypto = Mcrypt.new(:rijndael_128, :ecb, key, nil, :zeros)\n    crypto.decrypt(data)\n  end\nend\n</code></pre>\n\n<p><strong>IMPORTANT:</strong> This C# Rjandael library doesn't uses the IV, for that reason i'm giving nil parameter as IV to Mcrypt.</p>\n\n<p>This is only the encryption/decryption section, i'm also converting string to hexa format. Hope it can help somebody else!</p>\n"}], "owner": {"reputation": 31, "user_id": 4867769, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dmgtGtagCJo/AAAAAAAAAAI/AAAAAAAAAD0/QwjP2fyYnWs/photo.jpg?sz=128", "display_name": "Cristian Carre&#241;o", "link": "https://stackoverflow.com/users/4867769/cristian-carre%c3%b1o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 1, "accepted_answer_id": 30832645, "answer_count": 1, "score": 3, "last_activity_date": 1511760597, "creation_date": 1433314933, "last_edit_date": 1495535217, "question_id": 30613033, "link": "https://stackoverflow.com/questions/30613033/migrating-c-net-encrypt-decrypt-algorithm-to-ruby", "title": "Migrating C# .Net encrypt/decrypt algorithm to Ruby", "body": "<p>I have to encrypt/decrypt data from a .Net based web service that is using the following code (based on <strong>Rijndael</strong> algorithm):</p>\n\n<pre><code>/**\n * Cifra una cadena texto con el algoritmo de Rijndael\n *\n * @param   plainMessage    mensaje plano (sin cifrar)\n * @param   p_strSpecialKey key especial\n * @return  string          texto cifrado en hexadecimal\n */\npublic static string AES_encryptString(String plainMessage, string p_strSpecialKey) {\n  string strTxtEncrypt = \"\";\n\n  // Crear una instancia del algoritmo de Rijndael\n  try {\n    Rijndael RijndaelAlg = Rijndael.Create();\n    RijndaelAlg.KeySize = 128;\n    RijndaelAlg.Mode = CipherMode.ECB;\n    RijndaelAlg.Padding = PaddingMode.Zeros;\n\n    byte[] Key = Encoding.UTF8.GetBytes(p_strSpecialKey);\n    byte[] IV = RijndaelAlg.IV;\n\n    int keySize = 32;\n    Array.Resize(ref Key, keySize);\n\n    // Establecer un flujo en memoria para el cifrado\n    MemoryStream memoryStream = new MemoryStream();\n\n    // Crear un flujo de cifrado basado en el flujo de los datos\n    CryptoStream cryptoStream = new CryptoStream(memoryStream,\n    RijndaelAlg.CreateEncryptor(Key, IV),\n    CryptoStreamMode.Write);\n\n    // Obtener la representaci\u00f3n en bytes de la informaci\u00f3n a cifrar\n    byte[] plainMessageBytes = Encoding.UTF8.GetBytes(plainMessage);\n\n    // Cifrar los datos envi\u00e1ndolos al flujo de cifrado\n    cryptoStream.Write(plainMessageBytes, 0, plainMessageBytes.Length);\n    cryptoStream.FlushFinalBlock();\n\n    // Obtener los datos datos cifrados como un arreglo de bytes\n    byte[] cipherMessageBytes = memoryStream.ToArray();\n\n    // Cerrar los flujos utilizados\n    memoryStream.Close();\n    cryptoStream.Close();\n\n    strTxtEncrypt = ByteToHex(cipherMessageBytes);\n  } catch (Exception ex) {\n    AddToFile(\"Error al encriptar el valor: \" + plainMessage + \" con la clave especial: \" + p_strSpecialKey + \" \" + ex.ToString());\n  }\n\n  return strTxtEncrypt;\n}\n\n/**\n * Descifra una cadena texto con el algoritmo de Rijndael\n *\n * @param   encryptedMessage    mensaje cifrado en hexadecimal\n * @param   p_strSpecialKey key especial\n * @return  string              texto descifrado (plano)\n */\npublic static string AES_decryptString(String encryptedMessage, string p_strSpecialKey) {\n  string strDecrypt = \"\";\n\n  // Crear una instancia del algoritmo de Rijndael\n  try {\n    Rijndael RijndaelAlg = Rijndael.Create();\n    RijndaelAlg.KeySize = 128;\n    RijndaelAlg.Mode = CipherMode.ECB;\n    RijndaelAlg.Padding = PaddingMode.Zeros;\n\n    byte[] Key = Encoding.UTF8.GetBytes(p_strSpecialKey);\n    byte[] IV = RijndaelAlg.IV;\n\n    int keySize = 32;\n    Array.Resize(ref Key, keySize);\n\n    // Obtener la representaci\u00f3n en bytes del texto cifrado\n    byte[] cipherTextBytes = HexToByteArray(encryptedMessage);\n\n    // Crear un arreglo de bytes para almacenar los datos descifrados\n    byte[] plainTextBytes = new byte[cipherTextBytes.Length];\n\n    // Crear un flujo en memoria con la representaci\u00f3n de bytes de la informaci\u00f3n cifrada\n    MemoryStream memoryStream = new MemoryStream(cipherTextBytes);\n\n    // Crear un flujo de descifrado basado en el flujo de los datos\n    CryptoStream cryptoStream = new CryptoStream(memoryStream,\n    RijndaelAlg.CreateDecryptor(Key, IV),\n    CryptoStreamMode.Read);\n\n    // Obtener los datos descifrados obteni\u00e9ndolos del flujo de descifrado\n    int decryptedByteCount = cryptoStream.Read(plainTextBytes, 0, plainTextBytes.Length);\n\n    // Cerrar los flujos utilizados\n    memoryStream.Close();\n    cryptoStream.Close();\n\n    // Retornar la representaci\u00f3n de texto de los datos descifrados\n    strDecrypt = Encoding.UTF8.GetString(plainTextBytes, 0, decryptedByteCount).Replace(\"\\0\", \"\");\n  } catch (Exception ex) {\n    AddToFile(\"Error al desencriptar el valor: \" + encryptedMessage + \" con la clave especial: \" + p_strSpecialKey + \" \" + ex.ToString());\n  }\n\n  return strDecrypt;\n}\n</code></pre>\n\n<p>I have investigated the way to do the same on Ruby and I found this answer (<a href=\"https://stackoverflow.com/questions/2044517/how-to-decode-rijndael-in-ruby-encoded-in-vb-net\">How to decode Rijndael in ruby (encoded in VB.net)</a>) but it doesn't works for me. Also, I'm not sure of what value i have to use for the iv. The web service brings me a Token that i have to use as the key (100% sure about that), but, actually don't know what i'm missing up.</p>\n\n<p>The code I'm using for encrypt is:</p>\n\n<pre><code># /lib/crypt.rb\nmodule Crypt\n  ...\n  def Crypt.encrypt(data, key, iv, cipher_type)\n    aes = OpenSSL::Cipher::Cipher.new(cipher_type)\n    aes.encrypt\n    aes.key = key\n    aes.iv = iv\n    aes.update(data) + aes.final\n  end\nend\n\n# ../ws.rb\n...\ntoken = \"8c5d0e6b93cf5d38d7a076b2db35ee6d\" #this is a one of the tokens i received\niv = token\nCrypt.encrypt(a_serialized_json,token,iv,\"AES-128-CBC\")\n</code></pre>\n\n<p>The encrypted serialized json data that I have to send must be like a hexdigest string like this \"f0997ddbb17b08913e00b6fb2541312c1cfdda85e555451a1832df076a5d4a5f7d81d8db92715eade144e9696dfbe9eea573baa8ea90cdbe5baadf32fdeb6db8c9ab6743f8eeeb508921999d7513fad3\". But the method described on the link generates a encrypted string like this \"\"^w\\x9A\\x90B\\xDC\\f\\x16\\xB8\\xBDt\\xFBo\\xD7r\\x97\"\".</p>\n\n<p>Any idea of what I'm doing wrong or what I'm missing?</p>\n\n<p><strong>UPDATE</strong>: I figured out that the string output I'm getting is a byte array, and i have to convert this byte array to an hex string. I'm using the following aproach (<a href=\"https://github.com/atomicobject/hex_string/blob/master/lib/hex_string.rb\" rel=\"nofollow noreferrer\">https://github.com/atomicobject/hex_string/blob/master/lib/hex_string.rb</a>). But, still not sure if Cypher is properly configured to acts as the C# code.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1433314698, "post_id": 30612449, "comment_id": 49292570, "body": "That&#39;s clearly not true in general. I constructed a random string of size 1,000,000, and obtained: <code>puts Benchmark.measure { str.reverse } #=&gt;   0.000000   0.000000   0.000000 (  0.006243)</code> and <code>puts Benchmark.measure { str[0] == str[-1] } #=&gt; 0.000000   0.000000   0.000000 (  0.000005)</code> (as expected)."}, {"owner": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1433314720, "post_id": 30612449, "comment_id": 49292585, "body": "When I try on my machine, <code>str[0]</code> != str[-1]` is the faster of the two."}, {"owner": {"reputation": 1352, "user_id": 4965962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bfa9bd3b9af517534c8c23baa12593?s=128&d=identicon&r=PG&f=1", "display_name": "fsacer", "link": "https://stackoverflow.com/users/4965962/fsacer"}, "edited": false, "score": 0, "creation_date": 1433314878, "post_id": 30612449, "comment_id": 49292685, "body": "Try the .at() method which is probably better optimized in C than using indexers."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1433317717, "post_id": 30612449, "comment_id": 49294498, "body": "@Sztupy gives some reasons why <code>reverse</code> can be expected to be faster, but wouldn&#39;t you expect optimized C code for <code>reverse</code> to be faster than a method written in Ruby that produces the same result?"}], "answers": [{"tags": [], "owner": {"reputation": 9578, "user_id": 120917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cfb74e792db321ba120ffa223197f673?s=128&d=identicon&r=PG", "display_name": "SztupY", "link": "https://stackoverflow.com/users/120917/sztupy"}, "is_accepted": true, "score": 2, "last_activity_date": 1433317162, "last_edit_date": 1433317162, "creation_date": 1433315227, "answer_id": 30613116, "question_id": 30612449, "link": "https://stackoverflow.com/questions/30612449/why-is-str-reverse-str-faster-than-str0-str-1/30613116#30613116", "title": "Why is `str.reverse == str` faster than `str[0] != str[-1]`?", "body": "<p>There are two factors in favour of the reverse method:</p>\n\n<ul>\n<li>Both <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-reverse\" rel=\"nofollow\">String#reverse</a> and <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-3D-3D\" rel=\"nofollow\">String#==</a> are written in pure C instead of ruby. Their inner loop already uses the fact that the length of the string is known, so there are no unnecessarry boundary checks.</li>\n<li><a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-5B-5D\" rel=\"nofollow\">String#[]</a> however needs to check the string boundaries at every call. Also the main loop is written in ruby thereby being a tad bit slower as well. Also it will always create a new (one character long) string object as well to return which needs to be handled, GCd, etc.</li>\n</ul>\n\n<p>It looks like these two factors have a bigger performance gain than what you get by a better algorithm, but which is done in ruby.</p>\n\n<p>Also note that in your test you are not testing a random string, but a specific one, which is really short as well. If you woud try a larger one, then it is possible that the ruby implementaion will be quicker.</p>\n"}, {"tags": [], "owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "is_accepted": false, "score": 0, "last_activity_date": 1433318630, "last_edit_date": 1433318630, "creation_date": 1433318114, "answer_id": 30614065, "question_id": 30612449, "link": "https://stackoverflow.com/questions/30612449/why-is-str-reverse-str-faster-than-str0-str-1/30614065#30614065", "title": "Why is `str.reverse == str` faster than `str[0] != str[-1]`?", "body": "<p>To proof some thoughts of @SztupY. If you change a bit your code, like this:</p>\n\n<pre><code>def reverse_compare(str)\n  str.reverse == str\nend\n\ndef iterate_compare(a, b)\n  a != b\nend\n\nrequire \"benchmark\"\n\nn = 2_000_000\nBenchmark.bm do |x|\n  str = \"cabbbbbba\" # best case single comparison\n  a = str[0]; b = str[-1]\n  x.report(\"reverse_compare\") { n.times do reverse_compare(str)  ; end }  \n  x.report(\"iterate_compare\") { n.times do iterate_compare(a, b)  ; end }  \nend\n</code></pre>\n\n<p>You will get a bit different result:</p>\n\n<pre><code>#&gt;            user     system      total        real\n#&gt;    reverse_compare  0.359000   0.000000   0.359000 (  0.361493)\n#&gt;    iterate_compare  0.187000   0.000000   0.187000 (  0.201590)\n</code></pre>\n\n<p>So, you could guess now that it takes some time to create 2 string objects from String.</p>\n"}], "owner": {"reputation": 1989, "user_id": 1520130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9000383017000de1e1025f4f80d8655?s=128&d=identicon&r=PG", "display_name": "osman", "link": "https://stackoverflow.com/users/1520130/osman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 30613116, "answer_count": 2, "score": 1, "last_activity_date": 1433318630, "creation_date": 1433313020, "last_edit_date": 1433314799, "question_id": 30612449, "link": "https://stackoverflow.com/questions/30612449/why-is-str-reverse-str-faster-than-str0-str-1", "title": "Why is `str.reverse == str` faster than `str[0] != str[-1]`?", "body": "<p>I ran some benchmarks and was wondering why reversing a string and comparing it to itself seems to be faster than comparing individual characters.</p>\n\n<p>Reversing a string is worst case O(n) and comparison O(n), resulting in O(n), unless comparing the same object, which should be O(1). But </p>\n\n<pre><code>str = \"test\"\nstr.reverse.object_id == str.object_id # =&gt; false\n</code></pre>\n\n<p>Is character comparison worst case O(1)? What am I missing?</p>\n\n<p>Edit</p>\n\n<p>I extracted and simplified for the question but here's the code I was running.</p>\n\n<pre><code>def reverse_compare(str)\n  str.reverse == str\nend\n\ndef iterate_compare(str)\n  # can test with just str[0] != str[-1]\n  (str.length/2).times do |i|\n    return false if str[i] != str[-i-1]\n  end  \nend\n\nrequire \"benchmark\"\n\nn = 2000000\nBenchmark.bm do |x|\n  str = \"cabbbbbba\" # best case single comparison\n  x.report(\"reverse_compare\") { n.times do reverse_compare(str)  ; a = \"1\"; end }  \n  x.report(\"iterate_compare\") { n.times do iterate_compare(str)  ; a = \"1\"; end }  \nend\n\n       user     system      total        real\nreverse_compare  0.760000   0.000000   0.760000 (  0.769463)\niterate_compare  1.840000   0.010000   1.850000 (  1.855031)\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rake", "foreman"], "comments": [{"owner": {"reputation": 616, "user_id": 2675376, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000498640121/picture?type=large", "display_name": "Juan Manuel Rodulfo Salcedo", "link": "https://stackoverflow.com/users/2675376/juan-manuel-rodulfo-salcedo"}, "edited": false, "score": 0, "creation_date": 1433315806, "post_id": 30612345, "comment_id": 49293326, "body": "Hi, i have no idea but have you tried to call the rake in config.ru ?"}, {"owner": {"reputation": 7071, "user_id": 549010, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/181219cd20b8036ef8ec45b94aed6474?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/549010/roger"}, "edited": false, "score": 0, "creation_date": 1433321145, "post_id": 30612345, "comment_id": 49296677, "body": "Why don&#39;t you wrap your server startup and rake task in a shells script?"}], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 710385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/652a10285822faeb762f92dcc0fac2f3?s=128&d=identicon&r=PG", "display_name": "Troggy", "link": "https://stackoverflow.com/users/710385/troggy"}, "is_accepted": true, "score": 0, "last_activity_date": 1433405604, "creation_date": 1433405604, "answer_id": 30638441, "question_id": 30612345, "link": "https://stackoverflow.com/questions/30612345/rails-way-to-execute-one-off-task-on-rails-server-startup/30638441#30638441", "title": "Rails-way to execute one-off task on Rails server startup", "body": "<p>Can be achieved with Foreman by running in the same process as daemonized task (e.g. with <code>rails server</code>).</p>\n\n<p>If one-off taks is <code>rake lego:update_all</code></p>\n\n<p>Then corresponding Procfile is</p>\n\n<pre><code>web: rake lego:update_all &amp;&amp; rails s\nsidekiq: bundle exec sidekiq\n</code></pre>\n"}], "owner": {"reputation": 795, "user_id": 710385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/652a10285822faeb762f92dcc0fac2f3?s=128&d=identicon&r=PG", "display_name": "Troggy", "link": "https://stackoverflow.com/users/710385/troggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 794, "favorite_count": 0, "accepted_answer_id": 30638441, "answer_count": 1, "score": 0, "last_activity_date": 1464305250, "creation_date": 1433312657, "last_edit_date": 1495541753, "question_id": 30612345, "link": "https://stackoverflow.com/questions/30612345/rails-way-to-execute-one-off-task-on-rails-server-startup", "title": "Rails-way to execute one-off task on Rails server startup", "body": "<p>I have Rails 4.2 application and I want to execute some one-off code when server starts.</p>\n\n<p>My first approach was to use initializer in <code>config/initializers</code> to run the code. But in this case code is being executed also for all the rake tasks and Sidekiq process.</p>\n\n<p>So I've created a rake task to run my code. Now I wonder how to execute it along with rails server startup. Of course, I can create a shell script that will execute my rake task and then start the server. But is there any rails-way to achieve this?</p>\n\n<p><a href=\"https://github.com/ddollar/foreman\" rel=\"nofollow noreferrer\">Foreman</a> is another approach <a href=\"https://stackoverflow.com/questions/7811555/rails-3-execute-initializer-only-for-server-start\">advised</a> by SO, but it's not working for me as my task is not a daemon and the process terminates immediatelly after completion. Apparently all the processes in Procfile have to be daemonized.</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 4, "creation_date": 1433311586, "post_id": 30611939, "comment_id": 49290824, "body": "<code>a.select{ |x| a.count(x) &gt; 1}.uniq</code> try this"}, {"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 0, "creation_date": 1433312360, "post_id": 30611939, "comment_id": 49291251, "body": "May be <a href=\"http://stackoverflow.com/questions/8921999/ruby-how-to-find-and-return-a-duplicate-value-in-array\">duplicate of this</a>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433312467, "post_id": 30611939, "comment_id": 49291310, "body": "<code>gets</code> returns a string delimited with a newline. You can&#39;t input an array like that. You need something like <code>array = gets.chomp.split.map(&amp;:to_i)</code> and expect the user to enter, say, <code>1 2 3 4 5</code>, followed by return."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433312569, "post_id": 30611939, "comment_id": 49291364, "body": "So how do I do do it? It asks me for an array between 1 to 1000000. How do I submit my answer then?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433312973, "post_id": 30611939, "comment_id": 49291579, "body": "Are you sure you have to use <code>gets</code>, rather than simply being given an arbitrary array <code>arr</code>? If you must use <code>gets</code>, you can only get a string, so you will have to break it up into separate elements and convert that to an array. Of course, the user will have to follow your instructions on how to format the string for conversion to an array."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433313389, "post_id": 30611939, "comment_id": 49291834, "body": "@CarySwoveland I am sorry what does arr do? Is it similar to gets? I just need an input string"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433313552, "post_id": 30611939, "comment_id": 49291900, "body": "<code>arr</code> is just the name of an arbitrary array. If I asked, how would you determine the number of elements contained in an array <code>arr</code> (or <code>a</code> or <code>array</code>...), you would answer, <code>arr.size</code>. By contrast, <code>gets</code> is a method."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433313723, "post_id": 30611939, "comment_id": 49291997, "body": "Oh ok thanks! I thought it was a method so I got confused haha."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433319698, "post_id": 30611939, "comment_id": 49295712, "body": "Reversing the order of operations should improve efficiency: <code>a.uniq.select { |x| a.count(x) &gt; 1 }</code>."}, {"owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433338236, "post_id": 30611939, "comment_id": 49309217, "body": "@CarySwoveland it is working well now. I had a question. I want the values in my input array to only range for 1 to 1000000. Is there any way to make sure that it doesn&#39;t go past it?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433356688, "post_id": 30611939, "comment_id": 49321963, "body": "I&#39;m not sure if I understand your question. If you already have an array of numbers <code>arr</code>, you can check <code>arr.max</code> to see if any numbers exceed one million. If you are referring to entries made by the user, you could have the user enter each value of the array separately (followed by return), and write something like: <code>loop do; puts &quot;Enter the next value of the array (not more than 1,000,000) followed by &#39;return&#39; (or just &#39;return&#39; alone if there are no more values)&quot;; val = gets.chomp; break if val.empty?; val = val.to_i; if val &gt; 1_000_000, puts &quot;Value is too large&quot; else arr &lt;&lt; val; end</code>."}], "answers": [{"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 4, "last_activity_date": 1450167351, "last_edit_date": 1495541747, "creation_date": 1433311705, "answer_id": 30612075, "question_id": 30611939, "link": "https://stackoverflow.com/questions/30611939/find-a-duplicate-in-an-array-ruby/30612075#30612075", "title": "Find a Duplicate in an array Ruby", "body": "<p><code>Array#difference</code> comes to the rescue yet again. (I confess that @user123's answer is more straightforward, unless you pretend that <code>Array#difference</code> is already a built-in method. <code>Array#difference</code> is probably the more efficient of the two, as it avoids the repeated invocations of <code>count</code>.) See my answer <a href=\"https://stackoverflow.com/questions/24987054/how-to-select-unique-elements\">here</a> for a description of the method and links to its use. \nIn a nutshell, it differs from <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-2D\" rel=\"nofollow noreferrer\">Array#-</a> as illustrated in the following example:</p>\n\n<pre><code>a = [1,2,3,4,3,2,4,2]\nb = [2,3,4,4,4]\n\na - b          #=&gt; [1]\na.difference b #=&gt; [1, 3, 2, 2]\n</code></pre>\n\n<p>One day I'd like to see it as a built-in.</p>\n\n<p>For the present problem, if:</p>\n\n<pre><code>arr = [1,2,3,4,3,4]\n</code></pre>\n\n<p>the duplicate elements are given by:</p>\n\n<pre><code>arr.difference(arr.uniq).uniq\n  #=&gt; [3, 4]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433313726, "post_id": 30612116, "comment_id": 49292000, "body": "A small thing: <code>chomp!</code> is not needed."}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433313791, "post_id": 30612116, "comment_id": 49292035, "body": "it is needed to remove <code>&#39;\\n&#39;</code> which comes in last element"}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1433314074, "post_id": 30612116, "comment_id": 49292209, "body": "chomp! is not needed, chomp is enough, because you are storing the returned array."}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "reply_to_user": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "edited": false, "score": 0, "creation_date": 1433314483, "post_id": 30612116, "comment_id": 49292451, "body": "@ShailiParikh have you checked it"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433316111, "post_id": 30612116, "comment_id": 49293519, "body": "Neither <code>chomp</code> nor <code>chomp!</code> are needed. Try it."}, {"owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433328141, "post_id": 30612116, "comment_id": 49301672, "body": "@CarySwoveland I got you, you meant to say to_i function removes the &quot;\\n&quot; automatically when we write in this way gets.split(&quot; &quot;).map(&amp;:to_i)"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "edited": false, "score": 0, "creation_date": 1433355996, "post_id": 30612116, "comment_id": 49321579, "body": "@RAJ, no. Suppose <code>s = gets.split</code> and <code>gets</code> returns <code>&quot;1 2 3\\n&quot;</code>. Then <code>s = &quot;1 2 3\\n&quot;.split #=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</code>."}], "tags": [], "owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "is_accepted": false, "score": 1, "last_activity_date": 1433314120, "last_edit_date": 1433314120, "creation_date": 1433311834, "answer_id": 30612116, "question_id": 30611939, "link": "https://stackoverflow.com/questions/30611939/find-a-duplicate-in-an-array-ruby/30612116#30612116", "title": "Find a Duplicate in an array Ruby", "body": "<pre><code>puts \"Enter array\"\narray = gets.chomp.split(\",\").map(&amp;:to_i)\nif array.uniq.length == array.length\n  puts \"array does not contain duplicates\"\nelse\n  puts \"array does contain duplicates\"\n  print array.select{ |x| array.count(x) &gt; 1}.uniq\nend\n</code></pre>\n\n<p>copy this code in ruby file and try to run using </p>\n\n<p>ruby file_name.rb</p>\n"}, {"tags": [], "owner": {"reputation": 798, "user_id": 4091011, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f05f3852947f6076f3ad900ec0dac603?s=128&d=identicon&r=PG&f=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/4091011/raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1436772270, "last_edit_date": 1436772270, "creation_date": 1433312716, "answer_id": 30612362, "question_id": 30611939, "link": "https://stackoverflow.com/questions/30611939/find-a-duplicate-in-an-array-ruby/30612362#30612362", "title": "Find a Duplicate in an array Ruby", "body": "<p>For your first problem, you need to <code>uniq</code> function like </p>\n\n<pre><code>array.select{ |x| array.count(x) &gt; 1}.uniq\n</code></pre>\n\n<p>For your second problem, when you receive a value using <code>array = [gets]</code> it would receive your entire sequence of array numbers as a single string, so everything would be stored in <code>a[0]</code> like <code>[\"1, 2 3 4\\n\"]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2904, "user_id": 2357380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d64384de6628ce31857b881d776e5c78?s=128&d=identicon&r=PG", "display_name": "Sri Harsha Kappala", "link": "https://stackoverflow.com/users/2357380/sri-harsha-kappala"}, "is_accepted": false, "score": 0, "last_activity_date": 1433313033, "creation_date": 1433313033, "answer_id": 30612455, "question_id": 30611939, "link": "https://stackoverflow.com/questions/30611939/find-a-duplicate-in-an-array-ruby/30612455#30612455", "title": "Find a Duplicate in an array Ruby", "body": "<p>Coming to your 'gets' problem,</p>\n\n<p>When you are doing a gets, your are basically getting a string as an input but not an array.</p>\n\n<pre><code>2.2.0 :001 &gt; array = [gets]\n1,2,1,4,1,2,3\n =&gt; [\"1,2,1,4,1,2,3\\n\"]\n</code></pre>\n\n<p>See the above example, how the ruby interpreter took all your elements as a single string and put it in an array as a single array element. So you need to explicitly convert the input to an array with comma as a delimiter. The below will address both your questions.</p>\n\n<pre><code>array = gets.chomp\narray = array.split(',').map(&amp;:to_i)\nif array.uniq.length == array.length\n  puts \"array does not contain duplicates\"\nelse\n  puts \"array does contain duplicates\"\n  print array.select{ |x| array.count(x) &gt; 1}.uniq!\nend\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4798901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-7xWHqgRVGOg/AAAAAAAAAAI/AAAAAAAAAJc/JjhyBiVmayA/photo.jpg?sz=128", "display_name": "Shaili Parikh", "link": "https://stackoverflow.com/users/4798901/shaili-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2578, "favorite_count": 0, "accepted_answer_id": 30612075, "answer_count": 4, "score": 2, "last_activity_date": 1450167351, "creation_date": 1433311152, "last_edit_date": 1433312362, "question_id": 30611939, "link": "https://stackoverflow.com/questions/30611939/find-a-duplicate-in-an-array-ruby", "title": "Find a Duplicate in an array Ruby", "body": "<p>I am trying to find the duplicate values in an array of strings between 1 to 1000000.</p>\n\n<p>However, with the code I have, I get the output as all the entries that are doubled.</p>\n\n<p>So for instance, if I have <code>[1,2,3,4,3,4]</code>, it gives me the output of 3 4 3 4 instead of 3 4.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>array = [gets]\n\nif array.uniq.length == array.length\n  puts \"array does not contain duplicates\"\nelse\n  puts \"array does contain duplicates\"\n  print array.select{ |x| array.count(x) &gt; 1}\nend\n</code></pre>\n\n<p>Also, every time I test my code, I have to define the array as <code>array = [1,2,3,4,5,3,5]</code>. The <code>puts</code> works but it does not print when I use array [gets].</p>\n\n<p>Can someone help me how to fix these two problems?</p>\n"}, {"tags": ["ruby", "hash"], "comments": [{"owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 0, "creation_date": 1433311165, "post_id": 30611857, "comment_id": 49290598, "body": "Try to use <a href=\"http://ruby-doc.org/core-2.2.2/Enumerable.html#method-i-group_by\" rel=\"nofollow noreferrer\">group_by</a>"}, {"owner": {"reputation": 3618, "user_id": 2968762, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EhAX3.png?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/2968762/abhi"}, "edited": false, "score": 0, "creation_date": 1433311319, "post_id": 30611857, "comment_id": 49290677, "body": "Why not do <code>arr2 = friend_hash.values</code> and <code>arr1 = other_hash.values</code> instead of inserting it separately by looping"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1433315311, "post_id": 30611857, "comment_id": 49292986, "body": "It appears that <code>&quot;appid&quot;</code> is a key. If so, each of the two hashes (say, <code>h1</code> and <code>h2</code>) has at most one such key, meaning that your answer is zero or one: <code>(h1.key(&quot;appid&quot;) &amp;&amp; h2.key(&quot;appid&quot;) &amp;&amp; h1[&quot;appid&quot;]==h2[&quot;appid&quot;]) ? 1 : 0</code>. Somehow I don&#39;t think that&#39;s what you had in mind."}], "answers": [{"tags": [], "owner": {"reputation": 883, "user_id": 2310942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6875f4d0ffcadb39ce63ba805a79d6e?s=128&d=identicon&r=PG", "display_name": "Triveni Badgujar", "link": "https://stackoverflow.com/users/2310942/triveni-badgujar"}, "is_accepted": true, "score": 0, "last_activity_date": 1433312729, "creation_date": 1433312729, "answer_id": 30612366, "question_id": 30611857, "link": "https://stackoverflow.com/questions/30611857/how-to-match-hash-values-in-two-different-hashes/30612366#30612366", "title": "how to match hash values in two different hashes", "body": "<p>This will return the values which are common in both hashes</p>\n\n<pre><code> def games_in_common(friend_hash,other_hash)\n    other_hash.values &amp; friend_hash.values\n end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1433312938, "creation_date": 1433312938, "answer_id": 30612420, "question_id": 30611857, "link": "https://stackoverflow.com/questions/30611857/how-to-match-hash-values-in-two-different-hashes/30612420#30612420", "title": "how to match hash values in two different hashes", "body": "<p>If I understood you correctly, here you go:</p>\n\n<pre><code>\u25b6 h1 = [{\"appid\"=&gt;240, \"playtime_forever\"=&gt;103}, \n\u25b7       {\"appid\"=&gt;2670, \"playtime_forever\"=&gt;1099}]\n\u25b6 h2 = [{\"appid\"=&gt;240, \"playtime_forever\"=&gt;103}, \n\u25b7       {\"appid\"=&gt;2671, \"playtime_forever\"=&gt;1099}]\n\u25b6 h1.map { |e| e['appid'] } &amp; h2.map { |e| e['appid'] }\n#\u21d2 [240]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34778, "user_id": 382906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c054847fb6fd89d40f3f4ad44d6daaf1?s=128&d=identicon&r=PG", "display_name": "locoboy", "link": "https://stackoverflow.com/users/382906/locoboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1433321549, "creation_date": 1433321549, "answer_id": 30615218, "question_id": 30611857, "link": "https://stackoverflow.com/questions/30611857/how-to-match-hash-values-in-two-different-hashes/30615218#30615218", "title": "how to match hash values in two different hashes", "body": "<p>Seems like you're just trying to find if there is an <code>appid</code> in common. If this is all you're trying to do this is probably more efficient than looping through the hashes.</p>\n\n<pre><code>def games_in_common(friend_hash, my_hash)\n  friend_hash['appid'] == my_hash['appid'] ? friend_hash['appid'] : nil\nend\n</code></pre>\n"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 30612366, "answer_count": 3, "score": 0, "last_activity_date": 1433321549, "creation_date": 1433310799, "question_id": 30611857, "link": "https://stackoverflow.com/questions/30611857/how-to-match-hash-values-in-two-different-hashes", "title": "how to match hash values in two different hashes", "body": "<p>I am trying to count the number of matching appid in two separate hashes, but my solution feels clunky. Can someone suggest a 'ruby' way of doing this?</p>\n\n<pre><code>#hash from an array: {\"appid\"=&gt;240, \"playtime_forever\"=&gt;103} {\"appid\"=&gt;2670, \"playtime_forever\"=&gt;1099} \n#This is Steam data for those interested\n\ndef games_in_common(friend_hash,other_hash)\n    arr1=Array.new\n    arr2=Array.new\n    other_hash.keys.each{|k|\n        arr1&lt;&lt;other_hash[k]\n    }   \n\n    friend_hash.keys.each{|k|\n        arr2&lt;&lt;friend_hash[k]\n    }\n\n    return arr1 &amp; arr2\nend\n</code></pre>\n"}, {"tags": ["ruby", "ruby-on-rails-3.2"], "comments": [{"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433309820, "post_id": 30611604, "comment_id": 49290045, "body": "paste your routes.rb"}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "reply_to_user": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433309950, "post_id": 30611604, "comment_id": 49290109, "body": "@ user123 : Hello how are you ?Ok ..i am posting my routes file."}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "reply_to_user": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433310059, "post_id": 30611604, "comment_id": 49290149, "body": "@ user123 :You can check now."}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433310147, "post_id": 30611604, "comment_id": 49290190, "body": "change your route <code>get &quot;payments&#47;download_pdf&quot; =&gt; &quot;payments#download_pdf&quot;, :as =&gt; &#39;download_pdf&#39;&#39;</code> to <code>get &quot;payments&#47;download_pdf&#47;:id1&#47;:id2&quot; =&gt; &quot;payments#download_pdf&quot;, :as =&gt; &#39;download_pdf&#39;</code>"}, {"owner": {"reputation": 5242, "user_id": 3083848, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/JMddU.jpg?s=128&g=1", "display_name": "Emu", "link": "https://stackoverflow.com/users/3083848/emu"}, "edited": false, "score": 0, "creation_date": 1433310335, "post_id": 30611604, "comment_id": 49290271, "body": "<code>http:&#47;&#47;localhost:3000&#47;payments&#47;download_pdf.pdf?id1=12</code> as you can see <b>id2 = @userid</b> is not here in the url. I believe your <code>add_payment</code> methods <b>@userid</b> variable is <code>nil</code>"}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433310729, "post_id": 30611604, "comment_id": 49290422, "body": "is that route working?"}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "edited": false, "score": 0, "creation_date": 1433310829, "post_id": 30611604, "comment_id": 49290470, "body": "@ user123 : No again error id is showing nil."}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "edited": false, "score": 0, "creation_date": 1433310858, "post_id": 30611604, "comment_id": 49290480, "body": "@ Emu : Yes,you are correct so how can i resolve this."}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "edited": false, "score": 0, "creation_date": 1433311511, "post_id": 30611604, "comment_id": 49290782, "body": "@ user123 : check my latest post.I have added  paymentdetails.html.erb file.In this file one id is present in checkbox i.e- :id =&gt; r.id .I need to fetch this id inside add_payment controller action.Can you help me to do this ?"}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433312305, "post_id": 30611604, "comment_id": 49291204, "body": "are you getting atleast one id in your params?"}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1433314369, "post_id": 30611604, "comment_id": 49292386, "body": "can you please post your total_payment_result action"}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "edited": false, "score": 0, "creation_date": 1433314518, "post_id": 30611604, "comment_id": 49292476, "body": "@ user123 : Thanks now able to resolve this."}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433315544, "post_id": 30611604, "comment_id": 49293154, "body": "so is it working after adding that route or action?"}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "edited": false, "score": 0, "creation_date": 1433315887, "post_id": 30611604, "comment_id": 49293382, "body": "@ user123 :Yes your route action is working properly.I need one more small help.I need to pdf file name is unique and that should be including datetime.Please check &#39;download_pdf&#39; action from controller page."}], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "edited": false, "score": 0, "creation_date": 1433317073, "post_id": 30613413, "comment_id": 49294104, "body": "@ User123 :  Can i make this pdf page as half of the A4 size."}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "edited": false, "score": 0, "creation_date": 1433317369, "post_id": 30613413, "comment_id": 49294292, "body": "@ user123 :Now you can check."}, {"owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "reply_to_user": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1433317694, "post_id": 30613413, "comment_id": 49294486, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/79494/discussion-between-rajat-474-and-user123\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "is_accepted": true, "score": 1, "last_activity_date": 1433317415, "last_edit_date": 1433317415, "creation_date": 1433316178, "answer_id": 30613413, "question_id": 30611604, "link": "https://stackoverflow.com/questions/30611604/passing-two-query-string-parameter-using-rails-3/30613413#30613413", "title": "Passing two query string parameter using Rails 3", "body": "<p>add following to routes.rb</p>\n\n<pre><code>get \"payments/download_pdf/:id1/:id2\" =&gt; \"payments#download_pdf\", :as =&gt; 'download_pdf'\n\n\ndef download_pdf\n  @pdf_payment_result=AddPayment.find(params[:id1])\n  @pdf_vendor_details=PaymentVendor.find(params[:id2])\n  @pdf_address=Vendor.where(:v_name =&gt; @pdf_vendor_details.v_name , :s_catagory =&gt; @pdf_vendor_details.v_catagory )\n  pdf = render_to_string(pdf: \"test.pdf\", template: \"payments/download_pdf.html.erb\", encoding: \"UTF-8\", layout: 'application')\n  file_name = \"#{Time.now.strftime(\"%d%m%Y%H%M%S\")}.pdf\"\n  send_data pdf ,:disposition =&gt; 'inline', filename: file_name, :type =&gt; 'application/pdf', :page_size =&gt; 'Letter'\n  save_path = Rails.root.join('pdfs', file_name)\n  File.open(save_path, 'wb') do |file|\n    file &lt;&lt; pdf\n  end\nend\n</code></pre>\n\n<p>this download_pdf will create an unique timestamp</p>\n"}], "owner": {"reputation": 306, "user_id": 4719860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/917655ddb357726cbdf1c13b40c37fef?s=128&d=identicon&r=PG&f=1", "display_name": "rajat_474", "link": "https://stackoverflow.com/users/4719860/rajat-474"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 30613413, "answer_count": 1, "score": 0, "last_activity_date": 1433317415, "creation_date": 1433309741, "last_edit_date": 1433311346, "question_id": 30611604, "link": "https://stackoverflow.com/questions/30611604/passing-two-query-string-parameter-using-rails-3", "title": "Passing two query string parameter using Rails 3", "body": "<p>I want to pass two id in <code>link_to</code> tag so that by using two id I can fetch data from DB.but in my case it is showing one id is coming with URL in address bar therefore i am getting the following error.</p>\n\n<blockquote>\n  <p>Error:</p>\n</blockquote>\n\n<pre><code>ActiveRecord::RecordNotFound in PaymentsController#download_pdf\n\nCouldn't find PaymentVendor without an ID\nRails.root: C:/Site/swargadwara_puri1\n\nApplication Trace | Framework Trace | Full Trace\napp/controllers/payments_controller.rb:85:in `download_pdf'\n</code></pre>\n\n<p>My code file has explained below.</p>\n\n<blockquote>\n  <p>total_payment_result.html.erb:</p>\n</blockquote>\n\n<pre><code>&lt;table class=\"table table-bordered\"&gt;\n        &lt;colgroup&gt;\n            &lt;col class=\"col-md-1 col-sm-1\"&gt;\n            &lt;col class=\"col-md-3 col-sm-3\"&gt;\n            &lt;col class=\"col-md-2 col-sm-2\"&gt;\n            &lt;col class=\"col-md-2 col-sm-2\"&gt;\n            &lt;col class=\"col-md-2 col-sm-2\"&gt;\n            &lt;col class=\"col-md-2 col-sm-2\"&gt;\n        &lt;/colgroup&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n            &lt;th class=\"text-center\"&gt;Sl. No&lt;/th&gt;\n            &lt;th class=\"text-center\"&gt;Date&lt;/th&gt;\n            &lt;th class=\"text-center\"&gt;Total Claim&lt;/th&gt;\n            &lt;th class=\"text-center\"&gt;Paid&lt;/th&gt;\n            &lt;th class=\"text-center\"&gt;Outstanding&lt;/th&gt;\n            &lt;th class=\"text-center\"&gt;Payment Advice&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td class=\"text-center\"&gt;1&lt;/td&gt;\n            &lt;td class=\"text-center\"&gt;&lt;%= @add_payment.created_at %&gt;&lt;/td&gt;\n            &lt;td class=\"text-center\"&gt;&lt;%= @add_payment.total_claim %&gt;&lt;/td&gt;\n            &lt;td class=\"text-center\"&gt;&lt;i class=\"fa fa-rupee\"&gt;&lt;/i&gt;&lt;%= @add_payment.paid_amount %&gt;&lt;/td&gt;\n            &lt;td class=\"text-center\"&gt;&lt;i class=\"fa fa-rupee\"&gt;&lt;/i&gt;&lt;%= @outstanding %&gt;&lt;/td&gt;\n            &lt;td class=\"text-center\"&gt;\n                &lt;div class=\"btn-group\"&gt;\n                     &lt;%= link_to \"Download Pdf\",download_pdf_path(:format =&gt; \"pdf\",:id1 =&gt; @add_payment.id,:id2 =&gt; @userid ),:target =&gt; \"_blank\" %&gt;\n                &lt;/div&gt;\n                &lt;div class=\"btn-group\"&gt;\n                    &lt;a href=\"javascript:void(0)\" title=\"\" class=\"btn btn-xs btn-danger\"&gt;\n                        &lt;i class=\"fa fa-download\"&gt;&lt;/i&gt;\n                    &lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n        &lt;/table&gt;\n</code></pre>\n\n<blockquote>\n  <p>payments_controller.rb:</p>\n</blockquote>\n\n<pre><code>class PaymentsController &lt; ApplicationController\n    def payment\n        @payment=Vendor.new\n        @add_payment=AddPayment.new\n        respond_to do |format|\n            format.html \n            format.js\n        end\n\n    end\n    def check_type  \n        if params[:commit]==\"submit\"\n            @vendor_type = PaymentVendor.where(:v_name =&gt; params[:v_name]).map{|v|[v.v_catagory ,v.Receipt_No]}\n            #@vendor_type = PaymentVendor.where(:v_name =&gt; params[:v_name]).pluck(:v_catagory)\n            @output=[]\n            #@result=[]\n            @r_no=[]\n            @vendor_type.each do |i|\n              if i.first == params[:payment][:s_catagory]\n                @output &lt;&lt; i[1]\n              end  \n            end  \n            @output.each do |o|\n                @r_no &lt;&lt; o\n                @result = PaymentVendor.where(:Receipt_No =&gt; @r_no,:v_catagory =&gt;  params[:payment][:s_catagory],:v_name =&gt; params[:v_name],:v_status =&gt; \"No\" )\n            end\n               #puts \"#{val} =&gt; #{index}\" \n               #puts output1[index]\n               #@result = PaymentVendor.where(:Receipt_No =&gt;  @output[index],:v_catagory =&gt;  params[:payment][:s_catagory],:v_name =&gt; params[:v_name] )\n\n        else\n            @v_name=Vendor.where(:s_catagory =&gt; params[:payment][:s_catagory] ).pluck(:v_name)\n        end\n    end\n    def add_payment\n        if params[:commit]\n            #params[:details] == '1' ? remember : forget\n            @userid=params[:id]\n            puts \"id is #{@userid}\"\n            @info=0\n            params[:infos].each do |info|\n              @info=@info+info.to_i\n            end\n            @total_amount=params[:deatils]\n            @total=0\n            @count=0\n            @delet_id=[]\n            params[:deatils].each do |id|\n                @delet_id &lt;&lt; id\n                @amount=PaymentVendor.find(id)\n                @total=@total+@amount.v_amount.to_i\n                @count=@count+1\n            end\n            if @total\n                @outstanding= @info-@total\n                if params[:add_payment][:p_catagory]==\"Cash\"\n                @add_payment=AddPayment.create(:p_catagory =&gt; params[:add_payment][:p_catagory],:paid_amount =&gt; @total,:total_claim =&gt; @count )\n                if @add_payment\n                    @delet_id.each do |i|\n                        @del_id=PaymentVendor.find(i)\n                        @del_id.update_attributes(:v_status =&gt; \"Yes\")\n                    end\n                    @abc=true\n                end\n                end\n                if params[:add_payment][:p_catagory]==\"Cheque\"\n                    @add_payment=AddPayment.create(:p_catagory =&gt; params[:add_payment][:p_catagory],:paid_amount =&gt; @total,:total_claim =&gt; @count,:chk_details =&gt; params[:chk_details],:chk_no =&gt; params[:chk_no] )\n                    if @add_payment\n                        @abc=true\n                    end\n                end\n            end\n        else\n            if params[:add_payment][:p_catagory]==\"Cheque\"\n                @chk=true\n            else\n                @Cash=true\n            end\n        end\n    end\n    def download_pdf\n        @pdf_payment_result=AddPayment.find(params[:id1])\n        @pdf_vendor_details=PaymentVendor.find(params[:id2])\n        @pdf_address=Vendor.where(:v_name =&gt; @pdf_vendor_details.v_name , :s_catagory =&gt; @pdf_vendor_details.v_catagory )\n        pdf = render_to_string(pdf: \"test.pdf\", template: \"payments/download_pdf.html.erb\", encoding: \"UTF-8\", layout: 'application')\n        send_data pdf ,:disposition =&gt; 'inline', filename: 'something.pdf', :type =&gt; 'application/pdf'\n        save_path = Rails.root.join('pdfs','payment.pdf')\n        File.open(save_path, 'wb') do |file|\n            file &lt;&lt; pdf\n        end\n    end\nend\n</code></pre>\n\n<blockquote>\n  <p>route.rb:</p>\n</blockquote>\n\n<pre><code>SwargadwaraPuri::Application.routes.draw do\n  root :to =&gt; \"admins#index\"\n  post \"session/login_admin\" =&gt; \"sessions#login_admin\"\n  get \"homes/home\" =&gt; \"homes#home\"\n  get \"admins/index\" =&gt; \"admins#index\"\n  get  \"sessions/logout_admin\" =&gt; \"sessions#logout_admin\"\n  post \"homes/scan_report\" =&gt; \"homes#scan_report\"\n  get \"reports/view_report\" =&gt; \"reports#view_report\"\n  get \"users/create_client\" =&gt; \"users#create_client\"\n  post \"users/client_reg\" =&gt; \"users#client_reg\"\n  get \"homes/user_home\" =&gt; \"homes#user_home\"\n  get \"vendors/vendor_add\" =&gt; \"vendors#vendor_add\"\n  get \"vendors/vendor_edit\" =&gt; \"vendors#vendor_edit\"\n  get \"payments/payment\" =&gt; \"payments#payment\"\n  get \"payments/view_payment\" =&gt; \"payments#view_payment\"\n  post \"vendors/create_vendor\" =&gt; \"vendors#create_vendor\"\n  post \"homes/payment\" =&gt; \"homes#payment\"\n  post \"vendors/update_vendor\" =&gt; \"vendors#update_vendor\"\n  post \"payments/check_type\" =&gt; \"payments#check_type\"\n   get \"payments/check_type\" =&gt; \"payments#check_type\"\n   post \"payments/check_dropdown\" =&gt; \"payments#check_dropdown\"\n   get \"payments/paym\" =&gt; \"payments#paym\"\n   post \"payments/add_payment\" =&gt; \"payments#add_payment\"\n   get \"payments/download_pdf\" =&gt; \"payments#download_pdf\", :as =&gt; 'download_pdf'\nend\n</code></pre>\n\n<blockquote>\n  <p>paymentdetails.html.erb:</p>\n</blockquote>\n\n<pre><code>&lt;table class=\"table table-bordered\"&gt;\n        &lt;colgroup&gt;\n            &lt;col class=\"col-md-1 col-sm-1\"&gt;\n            &lt;col class=\"col-md-1 col-sm-1\"&gt;\n            &lt;col class=\"col-md-3 col-sm-3\"&gt;\n            &lt;col class=\"col-md-3 col-sm-3\"&gt;\n            &lt;col class=\"col-md-4 col-sm-4\"&gt;\n        &lt;/colgroup&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th class=\"text-center\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/th&gt;\n                &lt;th class=\"text-center\"&gt;Sl. No&lt;/th&gt;\n                &lt;th class=\"text-center\"&gt;Date&lt;/th&gt;\n                &lt;th class=\"text-center\"&gt;Receipt No.&lt;/th&gt;\n                &lt;th class=\"text-center\"&gt;Amount&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;% @result.each do |r| %&gt;\n            &lt;%= hidden_field_tag 'infos[]',r.v_amount %&gt;\n            &lt;tr&gt;\n                &lt;th class=\"text-center\"&gt;&lt;%= check_box_tag \"deatils[]\" ,r.id,{} ,:id =&gt; r.id %&gt;&lt;/th&gt;\n                &lt;td class=\"text-center\"&gt;&lt;%= r.id %&gt;&lt;/td&gt;\n                &lt;td class=\"text-center\"&gt;&lt;%= r.c_date %&gt;&lt;/td&gt;\n                &lt;td class=\"text-center\"&gt;&lt;%= r.Receipt_No %&gt;&lt;/td&gt;\n                &lt;td class=\"text-center\"&gt;&lt;i class=\"fa fa-rupee\"&gt;&lt;/i&gt;&lt;%= r.v_amount %&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;% end %&gt;\n     &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Actually error is showing in <code>download_pdf</code> method because of id2 cannot fetch.See my view file i am passing two id inside <code>link_to</code> tag (i.e.<code>&lt;%= link_to \"Download Pdf\",download_pdf_path(:format =&gt; \"pdf\",:id1 =&gt; @add_payment.id,:id2 =&gt; @userid ),:target =&gt; \"_blank\" %&gt;</code>).When the <code>download_pdf</code> action is executing i am getting this URL i.e-<code>http://localhost:3000/payments/download_pdf.pdf?id1=12</code> in other window where i need id1 and id2 with this URL.Please help me to pass these two id as query string so that this error can be resolved.</p>\n"}]