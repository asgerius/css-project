[{"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 12784, "user_id": 1373987, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bca7defe7b8087d8e261d32b29cf425e?s=128&d=identicon&r=PG", "display_name": "joshua.paling", "link": "https://stackoverflow.com/users/1373987/joshua-paling"}, "is_accepted": true, "score": 8, "last_activity_date": 1446681618, "creation_date": 1446681618, "answer_id": 33534391, "question_id": 33534287, "link": "https://stackoverflow.com/questions/33534287/activerecord-destroy-all/33534391#33534391", "title": "ActiveRecord destroy_all", "body": "<p>It doesn't look like it:</p>\n\n<pre><code># File activerecord/lib/active_record/relation.rb, line 386\ndef destroy_all(conditions = nil)\n  if conditions\n    where(conditions).destroy_all\n  else\n    to_a.each {|object| object.destroy }.tap { reset }\n  end\nend\n</code></pre>\n\n<p>(from <a href=\"http://apidock.com/rails/v4.1.8/ActiveRecord/Relation/destroy_all\" rel=\"noreferrer\">http://apidock.com/rails/v4.1.8/ActiveRecord/Relation/destroy_all</a>)</p>\n\n<p>Of course, you could wrap it in a transaction of your own.</p>\n"}, {"tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": false, "score": 2, "last_activity_date": 1446683426, "last_edit_date": 1446683426, "creation_date": 1446681630, "answer_id": 33534394, "question_id": 33534287, "link": "https://stackoverflow.com/questions/33534287/activerecord-destroy-all/33534394#33534394", "title": "ActiveRecord destroy_all", "body": "<p>Looking at the <a href=\"http://apidock.com/rails/ActiveRecord/Base/destroy_all/class\" rel=\"nofollow\">destroy_all</a> documentation, it does not seem to be done within a transaction. Here is the source code:</p>\n\n<pre><code>  # activerecord/lib/active_record/base.rb, line 879\n  def destroy_all(conditions = nil)\n    find(:all, :conditions =&gt; conditions).each { |object| object.destroy }\n  end\n</code></pre>\n\n<p>It finds all the records and calls <code>.destroy</code> on each of them. From the doc:</p>\n\n<blockquote>\n  <p>Destroys the records matching conditions by instantiating each record\n  and calling its destroy method.</p>\n</blockquote>\n\n<p>But, if you want to make it happen in one transaction, you can wrap your <code>destroy_all</code> code in a transaction to make sure it's happening in one single transaction:</p>\n\n<pre><code>ActiveRecord::Base.transaction do\n  YourModel.destroy_all(:conditions =&gt; conditions)\nend\n</code></pre>\n"}], "owner": {"reputation": 6654, "user_id": 654457, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8806c26cc5687109c0669221ab54ecb7?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Nelson", "link": "https://stackoverflow.com/users/654457/ben-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2242, "favorite_count": 1, "accepted_answer_id": 33534391, "answer_count": 2, "score": 6, "last_activity_date": 1446683426, "creation_date": 1446680980, "last_edit_date": 1446682582, "question_id": 33534287, "link": "https://stackoverflow.com/questions/33534287/activerecord-destroy-all", "title": "ActiveRecord destroy_all", "body": "<p>In Rails 4.1, does the ActiveRecord <code>destroy_all</code> wrap the entire function in a transaction? For example, if I have a bunch of records that I do a <code>destroy_all</code> operation on and they run some callbacks on those individual objects and one of those fails does the entire operation rollback at that point?</p>\n"}, {"tags": ["python", "ruby", "oop", "smalltalk"], "comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1446689770, "post_id": 33534264, "comment_id": 54852365, "body": "<i>hah</i>, at the part where she says: &quot;Don&#39;t make a gem, don&#39;t put this on GitHub?&quot; Sorry, I already did that over 6 years before she said it :-D <a href=\"https://joergwmittag.github.io/b001e/\" rel=\"nofollow noreferrer\">joergwmittag.github.io/b001e</a>"}, {"owner": {"reputation": 3870, "user_id": 2336725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a0b96a26cf233d752469445595f872?s=128&d=identicon&r=PG", "display_name": "Teepeemm", "link": "https://stackoverflow.com/users/2336725/teepeemm"}, "edited": false, "score": 1, "creation_date": 1447983140, "post_id": 33534264, "comment_id": 55400791, "body": "Most of the answers boil down to: &quot;sending messages&quot; in Smalltalk is &quot;calling a method&quot; in most other OO languages."}], "answers": [{"comments": [{"owner": {"reputation": 13136, "user_id": 4081336, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XXiEG.jpg?s=128&g=1", "display_name": "Leandro Caniglia", "link": "https://stackoverflow.com/users/4081336/leandro-caniglia"}, "edited": false, "score": 0, "creation_date": 1446683860, "post_id": 33534614, "comment_id": 54850785, "body": "In Smalltalk this message would have been <code>&#39;  12&#39; trim</code> and its answer <code>&#39;12&#39;</code>."}, {"owner": {"reputation": 318, "user_id": 2713818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0654d2e4432a98256e00963420635e?s=128&d=identicon&r=PG&f=1", "display_name": "rkedge", "link": "https://stackoverflow.com/users/2713818/rkedge"}, "reply_to_user": {"reputation": 13136, "user_id": 4081336, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XXiEG.jpg?s=128&g=1", "display_name": "Leandro Caniglia", "link": "https://stackoverflow.com/users/4081336/leandro-caniglia"}, "edited": false, "score": 0, "creation_date": 1575304957, "post_id": 33534614, "comment_id": 104512818, "body": "@LeandroCaniglia, in Python it becomes <code>&#39; 12&#39;.strip()</code>. The other constructions are for more general cases. I suppose you could write <code>&#39; 12&#39;.send(trim)</code> or something like that in Ruby."}], "tags": [], "owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "is_accepted": false, "score": 2, "last_activity_date": 1446684284, "last_edit_date": 1446684284, "creation_date": 1446683145, "answer_id": 33534614, "question_id": 33534264, "link": "https://stackoverflow.com/questions/33534264/what-would-be-a-good-example-of-sending-messages-to-objects-within-python/33534614#33534614", "title": "What would be a good example of &quot;sending messages to objects&quot; within Python?", "body": "<p>The core idea is called <a href=\"https://en.wikipedia.org/wiki/Message_passing\" rel=\"nofollow\">Message passing</a>.</p>\n\n<p>In python you normally send messages by the standard notation:</p>\n\n<pre><code>obj.methodname(args)\n</code></pre>\n\n<p>If the method name is dynamic, you can do this:</p>\n\n<pre><code>getattr(obj, methodname)(args)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; getattr(\"  12\", \"strip\")()\n'12'\n</code></pre>\n\n<p>Even though we usually use the standard notation, behind the scenes there's a request for the attribute which you can observe by intercepting the call:</p>\n\n<pre><code>class Test(object):\n    def __getattribute__(self, name):\n        print \"requesting attr:\", name\n        return object.__getattribute__(self, name)\n    def test(self):\n        print \"Hello\"\n\n&gt;&gt;&gt; Test().test()\nrequesting attr: test\nHello\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 714, "user_id": 1302400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/792c87579c2bca1c7131f87f4b2c10ce?s=128&d=identicon&r=PG", "display_name": "wtr", "link": "https://stackoverflow.com/users/1302400/wtr"}, "edited": false, "score": 2, "creation_date": 1446691111, "post_id": 33534723, "comment_id": 54852696, "body": "Epiphany-inducing blurb: &quot;an object is essentially a dict of values, and a class is a dict of functions&quot;"}, {"owner": {"reputation": 1038, "user_id": 1970590, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/owv5n.png?s=128&g=1", "display_name": "Euan M", "link": "https://stackoverflow.com/users/1970590/euan-m"}, "edited": false, "score": 0, "creation_date": 1447037495, "post_id": 33534723, "comment_id": 54978971, "body": "Addressing the comment, &quot;In Python object-oriented data abstraction is achieved via convention as opposed to being a builtin language feature (e.g. Smalltalk, Ruby)&quot;:  It is actually purely a convention in Smalltalk too. It&#39;s entirely possible to make assignment statements to instance variables in Smalltalk. But the convention is to write accessors (getters and setters) for every instance variable, and then to always use those accessor methods by sending accessing messages."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 714, "user_id": 1302400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/792c87579c2bca1c7131f87f4b2c10ce?s=128&d=identicon&r=PG", "display_name": "wtr", "link": "https://stackoverflow.com/users/1302400/wtr"}, "edited": false, "score": 1, "creation_date": 1477203363, "post_id": 33534723, "comment_id": 67665476, "body": "@wTyeRogers correction, an object id&#39;s essentially a dict with a potential inheritence chain, and a Class is a function that constructs the object and it&#39;s potential inheritence chain."}, {"owner": {"reputation": 714, "user_id": 1302400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/792c87579c2bca1c7131f87f4b2c10ce?s=128&d=identicon&r=PG", "display_name": "wtr", "link": "https://stackoverflow.com/users/1302400/wtr"}, "edited": false, "score": 1, "creation_date": 1509896506, "post_id": 33534723, "comment_id": 81196664, "body": "2 years later, all of this is finally sinking in."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "reply_to_user": {"reputation": 714, "user_id": 1302400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/792c87579c2bca1c7131f87f4b2c10ce?s=128&d=identicon&r=PG", "display_name": "wtr", "link": "https://stackoverflow.com/users/1302400/wtr"}, "edited": false, "score": 1, "creation_date": 1509917729, "post_id": 33534723, "comment_id": 81203906, "body": "@wTyeRogers: It took Nygaard, Dahl, Kay, et al. decades to figure it out, I think 2 years is pretty darn good :-D"}], "tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": true, "score": 11, "last_activity_date": 1446685345, "last_edit_date": 1446685345, "creation_date": 1446683861, "answer_id": 33534723, "question_id": 33534264, "link": "https://stackoverflow.com/questions/33534264/what-would-be-a-good-example-of-sending-messages-to-objects-within-python/33534723#33534723", "title": "What would be a good example of &quot;sending messages to objects&quot; within Python?", "body": "<p>Python uses a slightly different terminology. It is called \"calling a method\". But it's the same thing. (C++ calls it \"calling a virtual function\". Again, same difference.)</p>\n\n<p>Personally, I don't like that terminology, it focuses too much on the implementation detail and loses much of the metaphoric power of the \"message sending\" terminology.</p>\n\n<p>There are other differences with Python, some of the most important ones being:</p>\n\n<ul>\n<li>object-oriented data abstraction is achieved via convention as opposed to being a builtin language feature (e.g. Smalltalk, Ruby), or Design Pattern (Scheme, ECMAScript)</li>\n<li>not all subroutines are methods</li>\n</ul>\n\n<p>The fundamental idea of OO is messaging: you send a message to an object, the object responds. Just like in real life, you have no idea what the object does with the message. All you can observe is the reply. The object might process the message itself, it might employ the help of others, it might blindly forward the message without actually doing any work itself.</p>\n\n<p>Since you can't know what the object does with the message and all you can observe is the object's response, all you know about the object is its <em>protocol</em> (the messages it understands and how it responds to them). You don't know its implementation, you don't know its representation. That's how OO achieves Data Abstraction, Information Hiding, Data Hiding, Encapsulation.</p>\n\n<p>Also, since each object decides independently how to respond to a message, you get Polymorphism.</p>\n\n<p><em>One</em> typical way of responding to a message, is executing a method corresponding to that message. But that is an implementation mechanism, which is why I don't like that terminology. As a metaphor, it carries none of the connotations I mentioned above.</p>\n\n<p><a href=\"http://www.purl.org/stefan_ram/pub/doc_kay_oop_en\" rel=\"noreferrer\">Alan Kay has said that OO is about three things, Messaging, Data Abstraction, and Polymorphism</a>:</p>\n\n<blockquote>\n  <p>OOP to me means only messaging, local retention and protection and hiding of state-process, and extreme late-binding of all things.</p>\n</blockquote>\n\n<p>He later clarified that <a href=\"http://lists.squeakfoundation.org/pipermail/squeak-dev/1998-October/017019.html\" rel=\"noreferrer\">the Big Thing is Messaging</a>:</p>\n\n<blockquote>\n  <p>Just a gentle reminder that I took some pains at the last OOPSLA to try to remind everyone that Smalltalk is not only NOT its syntax or the class library, it is not even about classes. I'm sorry that I long ago coined the term \"objects\" for this topic because it gets many people to focus on the lesser idea.</p>\n  \n  <p>The big idea is \"messaging\" -- that is what the kernal of Smalltalk/Squeak is all about (and it's something that was never quite completed in our Xerox PARC phase). The Japanese have a small word -- ma -- for \"that which is in between\" -- perhaps the nearest English equivalent is \"interstitial\". The key in making great and growable systems is much more to design how its modules communicate rather than what their internal properties and behaviors should be. Think of the internet -- to live, it (a) has to allow many different kinds of ideas and realizations that are beyond any single standard and (b) to allow varying degrees of safe interoperability between these ideas.</p>\n</blockquote>\n\n<p>And in fact, as I laid out above, the other two are just consequences of Messaging, in my opinion.</p>\n\n<p>When Alan Kay came up with the term \"Object Orientation\", he was heavily inspired by what would later become the ARPANet and then the Internet: independent machines (\"objects\") with their own private memory (\"instance variables\") that communicate with each other by sending messages.</p>\n\n<p>Similar points are also made in <a href=\"http://CS.UTexas.Edu/~wcook/Drafts/2009/essay.pdf\" rel=\"noreferrer\"><em>On Understanding Data Abstraction, Revisited</em></a> by <a href=\"http://WCook.BlogSpot.Com/\" rel=\"noreferrer\">William R. Cook</a> and also his <a href=\"http://WCook.BlogSpot.Com/2012/07/proposal-for-simplified-modern.html\" rel=\"noreferrer\"><em>Proposal for Simplified, Modern Definitions of \"Object\" and \"Object Oriented\"</em></a>.</p>\n\n<blockquote>\n  <p>Dynamic dispatch of operations is the essential characteristic of objects. It means that the operation to be invoked is a dynamic property of the object itself. Operations cannot be identified statically, and there is no way in general to exactly what operation will executed in response to a given request, except by running it. This is exactly the same as with first-class functions, which are always dynamically dispatched.</p>\n</blockquote>\n\n<p>Python's object system is a bit different from other languages. Python was originally a procedural language, the object system was added later on, with the goal of making the absolut minimal amount of changes to the language as possible. The major data structure in Python were <code>dict</code>s (maps / hash tables), and all behavior was in functions. Even before Python's OO features, this minimalism shows itself, e.g. local and global variables are actually just keys in a <code>dict</code>. And so, it was natural to make objects and classes much like <code>dict</code>s and reuse that concept, an object is essentially a <code>dict</code> of values, and a class is a <code>dict</code> of functions. There is no separate idea of \"method\", rather, you have functions which take the receiver as their first argument. (In most other OO languages, the receiver is a \"hidden\" zeroth argument and available using a special keyword such as <code>self</code>, <code>this</code>, or <code>me</code>.)</p>\n"}, {"comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 5, "creation_date": 1446684975, "post_id": 33534789, "comment_id": 54851138, "body": "<a href=\"http://selflanguage.org/\" rel=\"nofollow noreferrer\">Self</a> and <a href=\"http://newspeaklanguage.org/\" rel=\"nofollow noreferrer\">Newspeak</a> are also very nice for learning OO. Self because it really drives home the idea that it&#39;s all about the objects and their interactions (there is nothing else in the system <i>but</i> objects), and Newspeak because of its absolutely fanatical adherence to messaging: there are no instance variables, only getter and setter methods, there are no class variables, only getter and setter methods of the metaclass, there aren&#39;t even local variable variables, only getter and setter methods of <code>LexicalScope</code> objects."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1446684983, "post_id": 33534789, "comment_id": 54851139, "body": "Even superclass lookup is a message send!"}], "tags": [], "owner": {"reputation": 12054, "user_id": 982238, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7540d351654e7a702370dcd2da7b7a43?s=128&d=identicon&r=PG", "display_name": "Uko", "link": "https://stackoverflow.com/users/982238/uko"}, "is_accepted": false, "score": 7, "last_activity_date": 1446684259, "creation_date": 1446684259, "answer_id": 33534789, "question_id": 33534264, "link": "https://stackoverflow.com/questions/33534264/what-would-be-a-good-example-of-sending-messages-to-objects-within-python/33534789#33534789", "title": "What would be a good example of &quot;sending messages to objects&quot; within Python?", "body": "<p>Essentially \"sending a message\" is called in most of OO languages as calling a method. The key difference is that in dynamic languages you don't know if the object knows a method or not. So if you do <code>var.jump()</code> you have no idea what the <code>var</code> is. Maybe it's a rabbit and it can jump, or maybe it is a rock and it doesn't know how to do that (the Rock class does not implement the  <code>jump()</code> method). So from conceptual point of view sending a message is asking some object to do something (maybe it does not know what you are asking), while invoking a method is making that object you know do what you want.</p>\n\n<p>In Smalltalk and Ruby it's really easy to send messages with another message, so that if you use <code>1.send(:to_s)</code> it's the same as <code>1.to_s</code>. And <code>1.send(:to_s)</code> itself is a message <code>send</code> that is sent to <code>1</code> with parameter <code>:to_s</code>. So you can also expend this to <code>1.send(:send, :to_s)</code>.</p>\n\n<p>In Python meta programming is a real pain in the ass. So if you want to do the same <code>1.send(:to_s)</code> you have to use something like getattr(1, \"to_s\")(). Here you obtain the <code>to_s</code> \"method\" itself using <code>getattr</code> and invoke it with <code>()</code>. <em>This is also a good example of the bad Python design. How do you do something like <code>1.send(:send, :to_s)</code> in Python? In Ruby <code>send</code> is a method on a code Object. So you can also send it via itself. In Python getattr is an external standalone function.</em></p>\n\n<p>If you really want to learn the concept of OO programming I suggest you to play with Smalltalk because I find it to have the best design. (also it's not influenced by C++ or other stuff because in 70s they were not around). There is a nice book <a href=\"http://pharobyexample.org\">Pharo by Example</a> that teaches you to program in <a href=\"/questions/tagged/pharo\" class=\"post-tag\" title=\"show questions tagged &#39;pharo&#39;\" rel=\"tag\">pharo</a>. Also there is a <a href=\"https://ci.inria.fr/pharo-contribution/view/Books/job/UpdatedPharoByExample/lastSuccessfulBuild/artifact/book-result/UpdatedPharoByExample.pdf\">work in progress version</a> updated for the new releases of the environment.</p>\n"}, {"tags": [], "owner": {"reputation": 1038, "user_id": 1970590, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/owv5n.png?s=128&g=1", "display_name": "Euan M", "link": "https://stackoverflow.com/users/1970590/euan-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1447288448, "last_edit_date": 1447288448, "creation_date": 1446867189, "answer_id": 33578849, "question_id": 33534264, "link": "https://stackoverflow.com/questions/33534264/what-would-be-a-good-example-of-sending-messages-to-objects-within-python/33578849#33578849", "title": "What would be a good example of &quot;sending messages to objects&quot; within Python?", "body": "<p>What started as \"sending a message\" in Smalltalk in the early 1970s, is now more generally known as \"<code>calling a method</code>\"</p>\n\n<p>Sending a message is making a polite request to an object to respond.  It will respond politely if it understands the message it receives, and has a method of responding. i.e. if the message is in the <code>protocol</code> of the <code>receiver</code>.  </p>\n\n<p>The protocol is the list of messages it has methods of responding to. Nowadays, we would call the protocol the receiver's <code>API</code>.</p>\n\n<p>Alan Kay, the father of Smalltalk, felt that messaging, rather than inheritance, was the important aspect of what became known as object-oriented programming.</p>\n"}], "owner": {"reputation": 714, "user_id": 1302400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/792c87579c2bca1c7131f87f4b2c10ce?s=128&d=identicon&r=PG", "display_name": "wtr", "link": "https://stackoverflow.com/users/1302400/wtr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2565, "favorite_count": 2, "accepted_answer_id": 33534723, "answer_count": 4, "score": 6, "last_activity_date": 1447288448, "creation_date": 1446680860, "question_id": 33534264, "link": "https://stackoverflow.com/questions/33534264/what-would-be-a-good-example-of-sending-messages-to-objects-within-python", "title": "What would be a good example of &quot;sending messages to objects&quot; within Python?", "body": "<p>I recently watched <a href=\"https://www.youtube.com/watch?v=9mLK_8hKii8\"><em>Nothing is Something</em></a> by Sandi Metz, and in her talk she uses the idea of <strong>sending messages to objects</strong> and goes over how that's done in Ruby. The <a href=\"https://www.youtube.com/watch?v=9mLK_8hKii8&amp;t=250\">4:10</a>-7:30 section would be a good entry point where she begins on the topic (it's a building block that then permeates over half the talk).</p>\n\n<p>Now, for some background: I don't have a lot of experience with writing programs in Ruby, and zero experience with smalltalk. My OO experience is somewhat limited and <em>very</em> stale. I also looked up <code>send object message python</code> in Google, and all I saw was relating to sending messages over sockets and email, which isn't quite what I had in mind.</p>\n\n<p><strong>I'm not sure how to interpret this concept in Python, or how to implement it.</strong> Any ideas? :)</p>\n\n<hr>\n\n<p><em>Side note: She mentions her OO-views are derived from experience with smalltalk, so I'm adding that as a tag to this question.</em></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "google-api", "google-calendar-api", "google-api-ruby-client"], "answers": [{"tags": [], "owner": {"reputation": 15962, "user_id": 472768, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/L6pgx.png?s=128&g=1", "display_name": "FeifanZ", "link": "https://stackoverflow.com/users/472768/feifanz"}, "is_accepted": true, "score": 0, "last_activity_date": 1447213671, "creation_date": 1447213671, "answer_id": 33643948, "question_id": 33534195, "link": "https://stackoverflow.com/questions/33534195/google-api-ruby-client-execute-vs-service-methods/33643948#33643948", "title": "Google API Ruby Client execute vs Service methods", "body": "<p>Heard back from gem author \u2014 the latter is preferred, as it is part of the new syntax being introduced in v0.9 of the gem. Not all the documentation/examples on Google's developer site has been updated at this time, but they have a migration guide: </p>\n\n<p><a href=\"https://github.com/google/google-api-ruby-client/blob/master/MIGRATING.md\" rel=\"nofollow\">https://github.com/google/google-api-ruby-client/blob/master/MIGRATING.md</a></p>\n"}], "owner": {"reputation": 15962, "user_id": 472768, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/L6pgx.png?s=128&g=1", "display_name": "FeifanZ", "link": "https://stackoverflow.com/users/472768/feifanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 33643948, "answer_count": 1, "score": 0, "last_activity_date": 1447213671, "creation_date": 1446680477, "question_id": 33534195, "link": "https://stackoverflow.com/questions/33534195/google-api-ruby-client-execute-vs-service-methods", "title": "Google API Ruby Client execute vs Service methods", "body": "<p>It seems like there are two ways to use the Google API Client Ruby gem:</p>\n\n<ul>\n<li>Creating a client and discovered API, and calling <code>execute</code>:(<a href=\"https://developers.google.com/google-apps/calendar/v3/reference/calendarList/list#examples\" rel=\"nofollow\">https://developers.google.com/google-apps/calendar/v3/reference/calendarList/list#examples</a>)</li>\n<li>Creating a API Service object and calling specific API methods: <a href=\"http://www.rubydoc.info/github/google/google-api-ruby-client/Google/Apis/CalendarV3/CalendarService#list_events-instance_method\" rel=\"nofollow\">http://www.rubydoc.info/github/google/google-api-ruby-client/Google/Apis/CalendarV3/CalendarService#list_events-instance_method</a></li>\n</ul>\n\n<p>The Calendar API documentation examples use the former method, but it seems like the latter method is required to batch requests (<a href=\"https://developers.google.com/api-client-library/ruby/guide/batch\" rel=\"nofollow\">https://developers.google.com/api-client-library/ruby/guide/batch</a>). </p>\n\n<p>Is there a way to batch requests with the former method? Is there a way to reconcile these two methods?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ssl", "devise"], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 3399767, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fhW1I.jpg?s=128&g=1", "display_name": "Ruegen", "link": "https://stackoverflow.com/users/3399767/ruegen"}, "edited": false, "score": 0, "creation_date": 1446681090, "post_id": 33534130, "comment_id": 54850011, "body": "I am guessing windows is missing the certificate so I in turn move to option 2 and try and get one to put in the location where they should be kept?? And where do I get one where the Mac system seems to have a valid one?"}], "tags": [], "owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "is_accepted": false, "score": 0, "last_activity_date": 1446680031, "creation_date": 1446680031, "answer_id": 33534130, "question_id": 33534003, "link": "https://stackoverflow.com/questions/33534003/vimeo-rails-devise-omniauth-ssl-error-windows-only/33534130#33534130", "title": "Vimeo Rails Devise OmniAuth SSL Error Windows Only", "body": "<p>You've a few options here.</p>\n\n<h3>Option #1</h3>\n\n<p>You can to tell Faraday, which the omniauth adapter is using, to manually set the certificate you want to use.</p>\n\n<p>You need to dig into the adapter code to do this.</p>\n\n<pre><code>connection = Faraday.new 'https://example.com', :ssl =&gt; {\n    :client_cert  =&gt; ...,\n    :client_key   =&gt; ...,\n    :ca_file      =&gt; ...,\n    :ca_path      =&gt; ...,\n    :cert_store   =&gt; ...\n  }\n</code></pre>\n\n<h3>Option #2</h3>\n\n<p>Add the certificate that's missing to the computer/server you're using. How this is done depends on you OS.</p>\n\n<h3>Option #3</h3>\n\n<p><strong>A quick, but unsafe solution</strong></p>\n\n<p>Turn off SSL verification <strong>globally</strong>.</p>\n\n<pre><code>OpenSSL::SSL::VERIFY_PEER = OpenSSL::SSL::VERIFY_NONE\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 3399767, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fhW1I.jpg?s=128&g=1", "display_name": "Ruegen", "link": "https://stackoverflow.com/users/3399767/ruegen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446680031, "creation_date": 1446679372, "question_id": 33534003, "link": "https://stackoverflow.com/questions/33534003/vimeo-rails-devise-omniauth-ssl-error-windows-only", "title": "Vimeo Rails Devise OmniAuth SSL Error Windows Only", "body": "<p>I have a vimeo sign-in on my rails App which works fine when the app runs on a mac however on my windows system (and any windows 10 machine in general that I have) I get this error:</p>\n\n<pre><code>Faraday::SSLError at /users/auth/vimeo/callback\nSSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed\n</code></pre>\n\n<p>Everywhere I have read about the error says that I have to help the app locate the certificates - I have not had any success with this and am not sure what I should be doing to fix things.</p>\n\n<p>My understanding is that a folder that contains certificates is the path and in the config/initializers/devise.rb you need to type this in</p>\n\n<p>i.e.\n  config.omniauth :vimeo, 'key', 'key' \"!SOME PATH HERE!\"</p>\n\n<p>I'm using rails FTW and I've tried many different methods to try and get this to work with no success. Help appreciated.</p>\n"}, {"tags": ["ruby", "docx", "rubyzip"], "answers": [{"tags": [], "owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "is_accepted": false, "score": 0, "last_activity_date": 1446679057, "creation_date": 1446679057, "answer_id": 33533932, "question_id": 33533869, "link": "https://stackoverflow.com/questions/33533869/ruby-zip-cannot-open-docx-file/33533932#33533932", "title": "Ruby zip cannot open docx file", "body": "<p><code>rubyzip</code> only supports compressing existing files. What you can do is to create an empty file using <code>touch</code>, then zip it.</p>\n\n<pre><code>require \"fileutils\"\nFileUtils.touch '/b;a/bla/bla/existing_file.docx'\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 1421852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bbf56699aa5045649ba454c5b213ac12?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Winton", "link": "https://stackoverflow.com/users/1421852/robin-winton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446679057, "creation_date": 1446678778, "question_id": 33533869, "link": "https://stackoverflow.com/questions/33533869/ruby-zip-cannot-open-docx-file", "title": "Ruby zip cannot open docx file", "body": "<p>What I'm doing is trying to open a blank docx with rubyzip and i keep getting the error:</p>\n\n<pre><code>Zip::Error: File /b;a/bla/bla/existing_file.docx not found\n</code></pre>\n\n<p>Is there a rule in rubyzip that prevents opening empty zipfiles?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 51929, "user_id": 1084774, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/13403db744d8aa130bb317576cc1df30?s=128&d=identicon&r=PG", "display_name": "PSkocik", "link": "https://stackoverflow.com/users/1084774/pskocik"}, "edited": false, "score": 0, "creation_date": 1446678854, "post_id": 33533830, "comment_id": 54849262, "body": "<a href=\"https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Arbitrary-precision_arithmetic</a>"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1446679648, "post_id": 33533830, "comment_id": 54849508, "body": "I&#39;m not sure what you are getting at. Ruby is a computer language. Computers are good at computing, that&#39;s why they are called computers. Why would it <i>not</i> give the right result?"}, {"owner": {"reputation": 290, "user_id": 2804271, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aMyk4.jpg?s=128&g=1", "display_name": "Eiiki", "link": "https://stackoverflow.com/users/2804271/eiiki"}, "edited": false, "score": 0, "creation_date": 1446679967, "post_id": 33533830, "comment_id": 54849613, "body": "Because in most languages an overflow would occur or the number would be represented as a floating point number with poor precision."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446680043, "post_id": 33533830, "comment_id": 54849647, "body": "This is explained in the Bignum documentation, tutorials and many pages around the internet. Where did you search?"}, {"owner": {"reputation": 290, "user_id": 2804271, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aMyk4.jpg?s=128&g=1", "display_name": "Eiiki", "link": "https://stackoverflow.com/users/2804271/eiiki"}, "edited": false, "score": 1, "creation_date": 1446680226, "post_id": 33533830, "comment_id": 54849716, "body": "I did not search for anything including Bignum, simply because I did not know of its existence."}], "answers": [{"tags": [], "owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "is_accepted": true, "score": 3, "last_activity_date": 1446678893, "creation_date": 1446678893, "answer_id": 33533892, "question_id": 33533830, "link": "https://stackoverflow.com/questions/33533830/how-can-ruby-calculate-the-sum-of-huge-numbers/33533892#33533892", "title": "How can ruby calculate the sum of huge numbers", "body": "<p>Ruby is using <a href=\"http://ruby-doc.org/core-2.2.0/Bignum.html\" rel=\"nofollow\">Bignum</a> under the hood for large numbers to avoid overflows. Here's is a good article that explains the process. <a href=\"http://patshaughnessy.net/2014/1/9/how-big-is-a-bignum\" rel=\"nofollow\">http://patshaughnessy.net/2014/1/9/how-big-is-a-bignum</a></p>\n"}], "owner": {"reputation": 290, "user_id": 2804271, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aMyk4.jpg?s=128&g=1", "display_name": "Eiiki", "link": "https://stackoverflow.com/users/2804271/eiiki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 33533892, "answer_count": 1, "score": 0, "last_activity_date": 1446678893, "creation_date": 1446678600, "question_id": 33533830, "link": "https://stackoverflow.com/questions/33533830/how-can-ruby-calculate-the-sum-of-huge-numbers", "title": "How can ruby calculate the sum of huge numbers", "body": "<p>So I wrote a basic program in ruby which calculates the n-th fibonacci number:</p>\n\n<pre><code> def fib(n)\n   return 0 if n == 0\n   nums = [0, 1]\n   for i in 2..n do\n     nums.push(nums[i-1] + nums[i-2])\n   end\n   return nums[n]\nend\n</code></pre>\n\n<p>And now I can easily call it with basicly whatever number n I like, f.x. 200,000.</p>\n\n<p>So I was just wandering how does ruby manage to do that? How is it capable of calulating such a huge numbers and give the right result?</p>\n"}, {"tags": ["ruby", "string"], "comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 2, "creation_date": 1446679714, "post_id": 33533811, "comment_id": 54849534, "body": "What do you mean by &quot;treated as a comment&quot;? It should be treated as an unclosed character class, not as a comment."}, {"owner": {"reputation": 93, "user_id": 5526642, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh4.googleusercontent.com/-fINcvckTifg/AAAAAAAAAAI/AAAAAAAAAlw/idb5RjZAeTs/photo.jpg?sz=128", "display_name": "Chints Vadgama", "link": "https://stackoverflow.com/users/5526642/chints-vadgama"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1446680037, "post_id": 33533811, "comment_id": 54849646, "body": "sorry not into comment. You are right. it&#39;s unclosed character class."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446686314, "post_id": 33533811, "comment_id": 54851539, "body": "Show us your input. What is your example code? Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1446858772, "post_id": 33533811, "comment_id": 54933686, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your code and accurately describe the problem.  Include the full error message or incorrect output; &quot;treated as a comment&quot; isn&#39;t specific enough to be a problem description."}], "answers": [{"tags": [], "owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "is_accepted": true, "score": 1, "last_activity_date": 1446678704, "creation_date": 1446678704, "answer_id": 33533852, "question_id": 33533811, "link": "https://stackoverflow.com/questions/33533811/what-is-an-escape-character-in-ruby/33533852#33533852", "title": "What is an escape character in Ruby?", "body": "<p>You need to escape the <code>[</code> char like <code>/\\[/</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 10490, "user_id": 513951, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6cace4406e1ea825e78ec0134a5ea6fd?s=128&d=identicon&r=PG&f=1", "display_name": "user513951", "link": "https://stackoverflow.com/users/513951/user513951"}, "edited": false, "score": 3, "creation_date": 1446684649, "post_id": 33534444, "comment_id": 54851047, "body": "If it&#39;s really the case that OP is using <code>string.split</code>, he may as well use <code>string.split(&#39;[&#39;)</code> and skip the regex."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446686567, "post_id": 33534444, "comment_id": 54851601, "body": "We don&#39;t even know what the OP is working with. Without an example of the input data any answer could be encouraging an entirely wrong attempt to do something."}], "tags": [], "owner": {"reputation": 562, "user_id": 4937581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-busS9MCZ-MM/AAAAAAAAAAI/AAAAAAAAFg8/MKMidpR9z8Y/photo.jpg?sz=128", "display_name": "Alfredo Gallegos", "link": "https://stackoverflow.com/users/4937581/alfredo-gallegos"}, "is_accepted": false, "score": 1, "last_activity_date": 1446681912, "creation_date": 1446681912, "answer_id": 33534444, "question_id": 33533811, "link": "https://stackoverflow.com/questions/33533811/what-is-an-escape-character-in-ruby/33534444#33534444", "title": "What is an escape character in Ruby?", "body": "<p>I infer that you're using <code>string.split</code>, which can use a regex (the stuff between the / /) to indicate what delimiter character it will split the string into a list with.</p>\n\n<p>Well, regexes use the [ and ] characters in a special way, to denote that such a group will match any of the characters inside.</p>\n\n<p>[abc] => matches a, b, or c</p>\n\n<p>Since you actually need to match the [ symbol literally, you need to escape it with the \\ switch</p>\n\n<p>So, write your split as:</p>\n\n<pre><code>string.split(/\\[/)\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 5526642, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh4.googleusercontent.com/-fINcvckTifg/AAAAAAAAAAI/AAAAAAAAAlw/idb5RjZAeTs/photo.jpg?sz=128", "display_name": "Chints Vadgama", "link": "https://stackoverflow.com/users/5526642/chints-vadgama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 33533852, "answer_count": 2, "score": -3, "last_activity_date": 1456179575, "creation_date": 1446678541, "last_edit_date": 1456179575, "question_id": 33533811, "link": "https://stackoverflow.com/questions/33533811/what-is-an-escape-character-in-ruby", "title": "What is an escape character in Ruby?", "body": "<p>I would like to split lines which contains [ (bracket: []). However, when I type this as /[/ it is treated as comment. </p>\n"}, {"tags": ["arrays", "ruby", "string", "input", "output"], "answers": [{"tags": [], "owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "is_accepted": false, "score": 0, "last_activity_date": 1446679503, "creation_date": 1446679503, "answer_id": 33534029, "question_id": 33533798, "link": "https://stackoverflow.com/questions/33533798/joshcheeks-ruby-kickstart-challenge-1-session-2/33534029#33534029", "title": "JoshCheek&#39;s ruby-kickstart Challenge 1 Session 2", "body": "<p>You're currently appending integers to a string using <code>&lt;&lt;</code> which (from the looks of it) treats the int as raw binary. <code>1</code> for example becoms <code>\\u0001</code>.</p>\n\n<p>Instead change <code>result</code> to an array and join it using <code>\" \"</code> like this.</p>\n\n<pre><code>def sum_difference_product\n  input = gets.chomp\n  array = input.split(\" \").map { |x| x.to_i }\n  pp array\n  sum = array.fetch(0) + array.fetch(1)\n  difference = array[0] - array[1]\n  product = array[0] * array[1]\n  result = []\n  result &lt;&lt; sum\n  result &lt;&lt; difference\n  result &lt;&lt; product\n  return result.join(\" \")\nend\n\nputs sum_difference_product\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "edited": false, "score": 0, "creation_date": 1446686450, "post_id": 33534359, "comment_id": 54851572, "body": "Don&#39;t implement functions with side effects, such as <code>puts</code>. Look at my example above."}], "tags": [], "owner": {"reputation": 17, "user_id": 5493835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1223eeb53c1d244ebfd279193dda3b?s=128&d=identicon&r=PG", "display_name": "UbunTusek", "link": "https://stackoverflow.com/users/5493835/ubuntusek"}, "is_accepted": false, "score": 0, "last_activity_date": 1446681400, "creation_date": 1446681400, "answer_id": 33534359, "question_id": 33533798, "link": "https://stackoverflow.com/questions/33533798/joshcheeks-ruby-kickstart-challenge-1-session-2/33534359#33534359", "title": "JoshCheek&#39;s ruby-kickstart Challenge 1 Session 2", "body": "<p>Okay, I was overcomplicating things... Removed result, sum, difference, product and just puts the parts that were in sum, difference and product. It's ok now:</p>\n\n<pre><code>def sum_difference_product\n  input = gets.chomp\n  array = input.split(\" \").map { |x| x.to_i }\n  puts array[0] + array[1]\n  puts array[0] - array[1]\n  puts array[0] * array[1]\nend\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5493835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1223eeb53c1d244ebfd279193dda3b?s=128&d=identicon&r=PG", "display_name": "UbunTusek", "link": "https://stackoverflow.com/users/5493835/ubuntusek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446860074, "creation_date": 1446678504, "last_edit_date": 1446860074, "question_id": 33533798, "link": "https://stackoverflow.com/questions/33533798/joshcheeks-ruby-kickstart-challenge-1-session-2", "title": "JoshCheek&#39;s ruby-kickstart Challenge 1 Session 2", "body": "<p>As part of an exercises, I should write a program that reads in two integers typed on the keyboard, and then outputs their sum, difference, and product.</p>\n\n<p>Standard input is like \"<code>9 2\\n</code>\" and expects me to print \"<code>11\\n7\\n18\\n</code>\" to standard output.</p>\n\n<p>Am I getting it completely wrong?</p>\n\n<pre><code>def sum_difference_product\n  input = gets.chomp\n  array = input.split(\" \").map { |x| x.to_i }\n  sum = array[0] + array[1]\n  difference = array[0] - array[1]\n  product = array[0] * array[1]\n  result = \"\"\n  result &lt;&lt; sum\n  result &lt;&lt; difference\n  result &lt;&lt; product\n  return result\nend\nsum_difference_product\n</code></pre>\n"}, {"tags": ["ruby", "calculator"], "comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 1, "creation_date": 1446682428, "post_id": 33533740, "comment_id": 54850394, "body": "FWIW, <code>loop</code> is uncommon in ruby, and <code>case</code> statements can be used in place of long <code>if&#47;elsif&#47;end</code> statements."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1446686901, "post_id": 33533740, "comment_id": 54851688, "body": "Please use proper indentation for your code. Your future team members will thank you."}], "answers": [{"tags": [], "owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "is_accepted": true, "score": 2, "last_activity_date": 1446686768, "last_edit_date": 1446686768, "creation_date": 1446678569, "answer_id": 33533819, "question_id": 33533740, "link": "https://stackoverflow.com/questions/33533740/error-while-making-calculator-on-ruby/33533819#33533819", "title": "Error while making calculator on Ruby?", "body": "<p>You're not storing the split in a variable. You need to do something like this:</p>\n\n<pre><code>elsif equation.include?\"+\"\n    res = equation.split(\"+\")\n    result_a = res[0].to_f + res[1].to_f\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5415986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 33533819, "answer_count": 1, "score": -1, "last_activity_date": 1446690613, "creation_date": 1446678187, "last_edit_date": 1446690613, "question_id": 33533740, "link": "https://stackoverflow.com/questions/33533740/error-while-making-calculator-on-ruby", "title": "Error while making calculator on Ruby?", "body": "<p>While trying to make a calculator in Ruby, using TextWrangler's #! function (Compiled in Terminal) I encountered an error. When I add 2+2 the answer it returns is 2.0. I tried other functions, for example calculating a specific percentage of a certain number, no matter what I tried doing the answer was always 0.0. I checked the syntax, using the #! function, and there were no errors. I know I made it unnecessarily wrong, but it is easier to read it this way for me. </p>\n\n<pre><code>loop do\nprint \nequation = gets.chomp\n\nif equation.include?\"^\"\n    exponent_e = equation.split(\"^\")\n    result_e = equation[0].to_f ** equation[1].to_f\n    puts \"#{equation} = #{result_e}\"\nelsif equation.include?\"%\"\n    percent_e = equation.split(\"%\")\n    number = equation[0].to_f / 100\n    result_p = number * equation[1].to_f\n    puts \"#{equation} = #{result_p}\"\nelsif equation.include?\"/\"\n    equation.split(\"/\")\n    result_d = equation[0].to_f / equation[1].to_f\n    puts \"#{equation} = #{result_d}\"\nelsif equation.include?\"*\"\n    equation.split(\"*\")\n    result_m = equation[0].to_f * equation[1].to_f\n    puts \"#{equation} = #{result_m}\"\nelsif equation.include?\"+\"\n    equation.split(\"+\")\n    result_a = equation[0].to_f + equation[1].to_f\n    puts \"#{equation} = #{result_a}\"\nelsif equation.include?\"-\"\n    equation.split(\"-\")\n    result_s = eqaution[0].to_f - equation[1].to_f\n    puts \"#{equation} = #{result_s}\"\nend\nend\n</code></pre>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446678350, "post_id": 33533671, "comment_id": 54849095, "body": "Your hash isn&#39;t a hash. We need to see the code you&#39;ve written to solve this, and an explanation for why it doesn&#39;t work. Stack Overflow helps fix problems, we&#39;re not here to write code for you. Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 5419, "user_id": 887640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w4OsI.png?s=128&g=1", "display_name": "Dmitry Sokurenko", "link": "https://stackoverflow.com/users/887640/dmitry-sokurenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1446688394, "creation_date": 1446688394, "answer_id": 33535350, "question_id": 33533671, "link": "https://stackoverflow.com/questions/33533671/fill-array-with-hash-table-values-ruby/33535350#33535350", "title": "Fill array with hash table values ruby", "body": "<p>Try something like this:</p>\n\n<pre><code>dimensions = [[10,12], [15,10]]\n\nmapping = {\n  10 =&gt; [501, 600],\n  12 =&gt; [700, 700],\n  15 =&gt; [101, 103]\n}\n\nresults = dimensions.map do |dimension_1, dimension_2|\n  values_1 = mapping[dimension_1]\n  values_2 = mapping[dimension_2]\n\n  values_1.zip values_2\nend.flatten(1)\n\n\np results\n# returns: [[501, 700], [600, 700], [101, 501], [103, 600]]\n</code></pre>\n\n<p>The only thing I've changed is that I've duplicated the 700 value in the input to align the array sizes to simplify it a bit</p>\n"}], "owner": {"reputation": 11, "user_id": 2277611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204b8489ec6af75aa582ce16ec43f340?s=128&d=identicon&r=PG", "display_name": "user2277611", "link": "https://stackoverflow.com/users/2277611/user2277611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446688394, "creation_date": 1446677834, "last_edit_date": 1446677937, "question_id": 33533671, "link": "https://stackoverflow.com/questions/33533671/fill-array-with-hash-table-values-ruby", "title": "Fill array with hash table values ruby", "body": "<p>I am new to ruby. I was wondering if there is easy way to do the following:\nI have an multi dimensions array = [[10,12],[15,10]]\nWhich I want to populate with values from an hash table which his keys correspond to the items in the array.</p>\n\n<pre><code>hash:\n10 - [501, 600]\n12 - [700]\n15 - [101,103]\n</code></pre>\n\n<p>I actually want all combinations, the output should be:\n    <code>array = [[501,700],[600,700],[101,501],[103,600]]</code></p>\n\n<p>I</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "elasticsearch"], "answers": [{"comments": [{"owner": {"reputation": 2096, "user_id": 2108990, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/886481640b3ab8f05cdf3be8c0efdad6?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/2108990/zack"}, "edited": false, "score": 1, "creation_date": 1446756925, "post_id": 33533961, "comment_id": 54888764, "body": "This doesn&#39;t help. I too can read the documentation. This searches for &quot;fox&quot;. I am looking for ALL records."}], "tags": [], "owner": {"reputation": 4156, "user_id": 5438616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ac7d10942eb0c1ef5db6f7db98a6b37?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hennes", "link": "https://stackoverflow.com/users/5438616/thomas-hennes"}, "is_accepted": false, "score": 0, "last_activity_date": 1446835217, "last_edit_date": 1446835217, "creation_date": 1446679203, "answer_id": 33533961, "question_id": 33533574, "link": "https://stackoverflow.com/questions/33533574/elastic-search-get-all-records-for-multiple-models/33533961#33533961", "title": "Elastic search get all records for multiple models", "body": "<p>Sorry, misread the question in my original answer.</p>\n\n<p>To match all documents do:</p>\n\n<pre><code>response = Elasticsearch::Model.search('{ \"query\": { \"match_all\": {} } }', [Author, Publisher])\n</code></pre>\n"}], "owner": {"reputation": 2096, "user_id": 2108990, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/886481640b3ab8f05cdf3be8c0efdad6?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/2108990/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1052, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1446835217, "creation_date": 1446677352, "question_id": 33533574, "link": "https://stackoverflow.com/questions/33533574/elastic-search-get-all-records-for-multiple-models", "title": "Elastic search get all records for multiple models", "body": "<p>I have two separate objects <code>authors</code> and <code>publishers</code>. How can I use elasticsearch to get all of both types? </p>\n\n<p>I know I can do the following to search both:</p>\n\n<pre><code>Elasticsearch::Model.search('foo', [Author, Publisher])\n</code></pre>\n\n<p>But how do I get that to return all records?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "cgi", "encode"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446678687, "post_id": 33533022, "comment_id": 54849211, "body": "Do you already have a URL, or are you trying to add values to a URL? If so, CGI isn&#39;t the right library to use. URI would be more useful."}], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 3987123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8250ade11ee70854d19f513f76ac32dd?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/3987123/srm"}, "edited": false, "score": 0, "creation_date": 1446683342, "post_id": 33533886, "comment_id": 54850638, "body": "I added further context as to why I need to encode the <code>-</code> symbol."}, {"owner": {"reputation": 525, "user_id": 3987123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8250ade11ee70854d19f513f76ac32dd?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/3987123/srm"}, "edited": false, "score": 0, "creation_date": 1446683418, "post_id": 33533886, "comment_id": 54850660, "body": "Do you think I should gsub the <code>-</code> symbol with what they are expecting before I send it over?"}, {"owner": {"reputation": 525, "user_id": 3987123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8250ade11ee70854d19f513f76ac32dd?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/3987123/srm"}, "edited": false, "score": 0, "creation_date": 1446683923, "post_id": 33533886, "comment_id": 54850814, "body": "The request to the endpoint unfortunately didn&#39;t work. They want the <code>-</code> encoded. Maybe there standards are wrong since the <code>-</code> is valid?"}], "tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1446678846, "creation_date": 1446678846, "answer_id": 33533886, "question_id": 33533022, "link": "https://stackoverflow.com/questions/33533022/how-to-encode-symbols-using-cgiescape/33533886#33533886", "title": "How to encode symbols using CGI::escape", "body": "<p>Use <a href=\"http://ruby-doc.org/stdlib-2.2.3/libdoc/uri/rdoc/URI.html\" rel=\"nofollow\">URI</a>, not CGI:</p>\n\n<pre><code>require 'uri'\n\nuri = URI.parse('http://www.example.com')\nuri.query = URI::encode_www_form(\n  'a' =&gt; '1+1',\n  'b' =&gt; '/path/to/file',\n  'c' =&gt; '2015-12-30'\n\n)\nuri.to_s \n# =&gt; \"http://www.example.com?a=1%2B1&amp;b=%2Fpath%2Fto%2Ffile&amp;c=2015-12-30\"\n</code></pre>\n\n<p>The <code>-</code> is valid and doesn't need to be encoded.</p>\n"}], "owner": {"reputation": 525, "user_id": 3987123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8250ade11ee70854d19f513f76ac32dd?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/3987123/srm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 873, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446683300, "creation_date": 1446674969, "last_edit_date": 1446683300, "question_id": 33533022, "link": "https://stackoverflow.com/questions/33533022/how-to-encode-symbols-using-cgiescape", "title": "How to encode symbols using CGI::escape", "body": "<p>I am using <code>CGI::escape</code> to encode symbols in a string, before I send the string as the parameters in a request. </p>\n\n<p>It is working as expected with the <code>'+'</code> symbol, and <code>CGI::escape('foo+bar')</code> returns <code>\"foo%2Bbar\"</code> as expected.</p>\n\n<p>However, I am running into problems with the <code>'-'</code> symbol. <code>CGI::escape(\"2015-12-30\")</code> returns <code>\"2015-12-30\"</code>. I was hoping for it to return <code>\"2015%2D12%2D30\"</code>.</p>\n\n<p>To add further context, I am making a request to an endpoint. In the specs for that endpoint they specify how they are expecting to receive the parameters. I have the base url and am adding parameters to the base url.</p>\n\n<p>In the specs they require that the Date param <code>'2015-12-30'</code> be sent as <code>\"2015%2D12%2D30\"</code>. That is why I need to encode the <strong>-</strong> symbol.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 981341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0abc152b4eb9cab006ee6e32bac199?s=128&d=identicon&r=PG", "display_name": "DustinFisher", "link": "https://stackoverflow.com/users/981341/dustinfisher"}, "reply_to_user": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446675880, "post_id": 33533029, "comment_id": 54848072, "body": "Are you doing Post.all or Post.new in the index?"}], "tags": [], "owner": {"reputation": 396, "user_id": 981341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0abc152b4eb9cab006ee6e32bac199?s=128&d=identicon&r=PG", "display_name": "DustinFisher", "link": "https://stackoverflow.com/users/981341/dustinfisher"}, "is_accepted": true, "score": 1, "last_activity_date": 1446675864, "last_edit_date": 1446675864, "creation_date": 1446674978, "answer_id": 33533029, "question_id": 33532986, "link": "https://stackoverflow.com/questions/33532986/getting-undefined-method-each-for-post0xb5d0df30-at-index-view/33533029#33533029", "title": "Getting undefined method `each&#39; for #&lt;Post:0xb5d0df30&gt; at index view", "body": "<p>In your controller under the index do:</p>\n\n<pre><code>def index\n  @posts = Post.all\nend\n</code></pre>\n\n<p>Then in your view after your each do refer to the variable as <code>post</code>, not <code>posts</code>.</p>\n\n<pre><code>&lt;% @posts.each do |post| %&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;%= post.title %&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= post.description %&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= link_to 'Show', post_path(post) %&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= link_to 'Edit', edit_post_path(post) %&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446675749, "post_id": 33533087, "comment_id": 54848017, "body": "and how do i do that ? sorry for being noob"}], "tags": [], "owner": {"reputation": 680, "user_id": 4307225, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/071751491d3587fff6acc61e7e92668a?s=128&d=identicon&r=PG&f=1", "display_name": "baron816", "link": "https://stackoverflow.com/users/4307225/baron816"}, "is_accepted": false, "score": 0, "last_activity_date": 1446675219, "creation_date": 1446675219, "answer_id": 33533087, "question_id": 33532986, "link": "https://stackoverflow.com/questions/33532986/getting-undefined-method-each-for-post0xb5d0df30-at-index-view/33533087#33533087", "title": "Getting undefined method `each&#39; for #&lt;Post:0xb5d0df30&gt; at index view", "body": "<p>Your @posts instance variable is pointing to a new post record instead of a collection of posts. You need an array to iterate over instead of a single post.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446676168, "post_id": 33533244, "comment_id": 54848211, "body": "Thank you, this worked perfectly, this was driving me crazy i knew it was a simple thing but i couldn&#39;t find it, thank you again"}], "tags": [], "owner": {"reputation": 4156, "user_id": 5438616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ac7d10942eb0c1ef5db6f7db98a6b37?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hennes", "link": "https://stackoverflow.com/users/5438616/thomas-hennes"}, "is_accepted": false, "score": 1, "last_activity_date": 1446675881, "creation_date": 1446675881, "answer_id": 33533244, "question_id": 33532986, "link": "https://stackoverflow.com/questions/33532986/getting-undefined-method-each-for-post0xb5d0df30-at-index-view/33533244#33533244", "title": "Getting undefined method `each&#39; for #&lt;Post:0xb5d0df30&gt; at index view", "body": "<p>Modify the index method in your controller to the following:</p>\n\n<pre><code>def index\n  @posts = Post.all\nend\n</code></pre>\n\n<p><code>Post.new</code> returns a single (empty) objet, the <code>each</code> method expects an <code>enumerable</code> (array, hash, collection,...), hence the error.</p>\n"}, {"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 0, "last_activity_date": 1446675986, "creation_date": 1446675986, "answer_id": 33533271, "question_id": 33532986, "link": "https://stackoverflow.com/questions/33532986/getting-undefined-method-each-for-post0xb5d0df30-at-index-view/33533271#33533271", "title": "Getting undefined method `each&#39; for #&lt;Post:0xb5d0df30&gt; at index view", "body": "<p>If you want to call <code>.each</code> on an object, that object has to be made up of a <em>collection</em> of data (even if the \"collection\" has one element).</p>\n\n<p>You're calling <code>Post.new</code> - meaning the <code>.each</code> method is going to return an exception that it cannot cycle through  the expected collection.</p>\n\n<p>You need to do the following:</p>\n\n<pre><code>#app/controllers/posts_controller.rb\nclass PostsController &lt; ApplicationController\n   def index\n      @posts = Post.all\n   end\nend\n</code></pre>\n\n<p>This should get your code working.</p>\n"}], "owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 862, "favorite_count": 0, "accepted_answer_id": 33533029, "answer_count": 4, "score": 1, "last_activity_date": 1446675986, "creation_date": 1446674825, "question_id": 33532986, "link": "https://stackoverflow.com/questions/33532986/getting-undefined-method-each-for-post0xb5d0df30-at-index-view", "title": "Getting undefined method `each&#39; for #&lt;Post:0xb5d0df30&gt; at index view", "body": "<p>Trying out ruby, i just asked a question but here's another, getting undefined method `each' for # and i tried a lot of stuff</p>\n\n<pre><code>&lt;h1&gt;This is the index page&lt;/h1&gt;\n&lt;p&gt;I need to get the new action running!&lt;/p&gt;\n&lt;%= link_to 'My Blog', controller: 'posts' %&gt;\n&lt;/br&gt;\n&lt;%= link_to 'New post', new_post_path %&gt;\n\n&lt;h1&gt;Listing posts&lt;/h1&gt;\n\n&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Title&lt;/th&gt;\n    &lt;th&gt;Text&lt;/th&gt;\n  &lt;/tr&gt;\n\n  &lt;% @posts.each do |post| %&gt;  ///&lt;----ERROR HERE!\n    &lt;tr&gt;\n      &lt;td&gt;&lt;%= posts.title %&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;%= posts.description %&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;%= link_to 'Show', posts_path(posts) %&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;%= link_to 'Edit', edit_posts_path(posts) %&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;% end %&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>This is my controller:</p>\n\n<pre><code>class PostsController &lt; ApplicationController\n  def index\n    @posts = Post.new\n  end\n\n  def edit\n    @posts = Post.find(params[:id])\n  end\n\n  def update\n  @posts = Post.find(params[:id])\n\n  if @posts.update(posts_params)\n    redirect_to @posts\n  else\n    render 'edit'\n  end\nend\n\n  def new\n    @posts = Post.new\n  end\n\n  def create\n      @posts = Post.new(posts_params)\n    if @posts.save\n        redirect_to @post\n    else\n        render 'new'\n    end\n  end\n\n  def show\n    @posts = Post.find(params[:id])\n  end\n\n  private\n  def posts_params\n    params.require(:posts).permit(:title, :description)\n  end\n\n\nend\n</code></pre>\n\n<p>I'm pretty sure i changed eveything to be matching like @posts from @post, i would appreciate if someone could help me again, i've tried looking for an answer but not getting luck, thank you</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 3009976, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/wU5fG.jpg?s=128&g=1", "display_name": "Brad Borch", "link": "https://stackoverflow.com/users/3009976/brad-borch"}, "edited": false, "score": 0, "creation_date": 1446685792, "post_id": 33533851, "comment_id": 54851392, "body": "Sure, but by doing that I bypass the native error reporting that I get when I don&#39;t resort to the rescue_from. But I guess I can just replicate that format by outputting the error message in a template."}, {"owner": {"reputation": 2637, "user_id": 3223249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hri7E.jpg?s=128&g=1", "display_name": "Inpego", "link": "https://stackoverflow.com/users/3223249/inpego"}, "reply_to_user": {"reputation": 199, "user_id": 3009976, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/wU5fG.jpg?s=128&g=1", "display_name": "Brad Borch", "link": "https://stackoverflow.com/users/3009976/brad-borch"}, "edited": false, "score": 0, "creation_date": 1446686126, "post_id": 33533851, "comment_id": 54851486, "body": "Try <code>raise exception</code> for this."}], "tags": [], "owner": {"reputation": 2637, "user_id": 3223249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hri7E.jpg?s=128&g=1", "display_name": "Inpego", "link": "https://stackoverflow.com/users/3223249/inpego"}, "is_accepted": false, "score": 1, "last_activity_date": 1446678703, "creation_date": 1446678703, "answer_id": 33533851, "question_id": 33531930, "link": "https://stackoverflow.com/questions/33531930/accessing-variables-in-rescue-from-block/33533851#33533851", "title": "accessing variables in rescue_from block", "body": "<p>\"rescue_from\" is class-level method and doesn't have access to the instance variables. However, you can access them from a method that is called in with:\u2028</p>\n\n<pre><code>if Rails.env.production?\n  unless Rails.application.config.consider_all_requests_local\n    rescue_from Exception, with: :show_exception\n    rescue_from Mongoid::Errors::DocumentNotFound, with: lambda { |exception| render_error 404, exception }\n  end\nend\n\n# at the end of file\n\nprotected\n\ndef show_exception(exception)\n  if current_user.present? &amp;&amp; current_user.site_admin\n    render text: ([exception.message] + exception.backtrace).join('&lt;br /&gt;') # render error for admin\n  else\n    render_error 500, exception\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1143, "user_id": 3151722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lR1o.jpg?s=128&g=1", "display_name": "Brozorec", "link": "https://stackoverflow.com/users/3151722/brozorec"}, "is_accepted": false, "score": 0, "last_activity_date": 1446713971, "creation_date": 1446713971, "answer_id": 33540240, "question_id": 33531930, "link": "https://stackoverflow.com/questions/33531930/accessing-variables-in-rescue-from-block/33540240#33540240", "title": "accessing variables in rescue_from block", "body": "<p>If you haven't found a solution yet, you can try this trick:</p>\n\n<pre><code>unless Rails.application.config.consider_all_requests_local || (Thread.current[:user].present? &amp;&amp; Thread.current[:user].site_amdin)\n</code></pre>\n\n<p>I agree this approach has some minuses but it worths trying when other possibilities are exhausted. </p>\n"}], "owner": {"reputation": 199, "user_id": 3009976, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/wU5fG.jpg?s=128&g=1", "display_name": "Brad Borch", "link": "https://stackoverflow.com/users/3009976/brad-borch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1293, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1446713971, "creation_date": 1446670861, "last_edit_date": 1446676745, "question_id": 33531930, "link": "https://stackoverflow.com/questions/33531930/accessing-variables-in-rescue-from-block", "title": "accessing variables in rescue_from block", "body": "<p>So I have a fairly common rescue_from block in a Rails app:</p>\n\n<pre><code>  if Rails.env.production?\n    unless Rails.application.config.consider_all_requests_local\n      rescue_from Exception, with: lambda { |exception| render_error 500, exception }\n      rescue_from Mongoid::Errors::DocumentNotFound, with: lambda { |exception| render_error 404, exception }\n    end\n  end\n</code></pre>\n\n<p>but I want to be able to see the error message if I'm an admin user, so I change the \"unless\" line to:</p>\n\n<pre><code>    unless Rails.application.config.consider_all_requests_local || (current_user.present? &amp;&amp; current_user.site_amdin)\n</code></pre>\n\n<p>but rails complains: \"undefined local variable or method `current_user' for ApplicationController:Class\"</p>\n\n<p>So how can I access the instance variables, since the code isn't within a block?</p>\n\n<p>I also tried to wrap it in the before_filter block:</p>\n\n<pre><code>before_filter do\n if Rails.env.production? || (current_user.present? &amp;&amp; current_user.site_admin)\n    unless Rails.application.config.consider_all_requests_local\n      Application.rescue_from Exception, with: lambda { |exception| render_error 500, exception }\n      Application.rescue_from Mongoid::Errors::DocumentNotFound, with: lambda { |exception| render_error 404, exception }\n    end\n end\n</code></pre>\n\n<p>end</p>\n\n<p>but the app wouldn't run on the server.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1446670590, "post_id": 33531750, "comment_id": 54845268, "body": "When you say not working, do you mean it is always showing two sidebars?"}], "answers": [{"tags": [], "owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "is_accepted": false, "score": 1, "last_activity_date": 1446672175, "last_edit_date": 1446672175, "creation_date": 1446671472, "answer_id": 33532085, "question_id": 33531750, "link": "https://stackoverflow.com/questions/33531750/rails-how-to-render-conditional-based-upon-pages-home-html-erb/33532085#33532085", "title": "Rails: How to Render Conditional Based Upon &#39;pages/home.html.erb&#39;", "body": "<p>In your <code>:index</code> action for your home page you can set a variable like:</p>\n\n<pre><code>def index\n  @home_page = true\n...\n</code></pre>\n\n<p>And then you can just do something like:</p>\n\n<pre><code>&lt;body&gt;\n  &lt;% if current_user.present? %&gt;\n    &lt;% if @home_page %&gt; \n      &lt;div class=\"container\"&gt;\n        &lt;div class=\"col-md-3\"&gt;\n          &lt;%= render 'layouts/valuations' %&gt;\n        &lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": true, "score": 2, "last_activity_date": 1446711739, "creation_date": 1446711739, "answer_id": 33539647, "question_id": 33531750, "link": "https://stackoverflow.com/questions/33531750/rails-how-to-render-conditional-based-upon-pages-home-html-erb/33539647#33539647", "title": "Rails: How to Render Conditional Based Upon &#39;pages/home.html.erb&#39;", "body": "<p>Firstly, you're looking for <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-current_page-3F\" rel=\"nofollow noreferrer\"><code>current_page?</code></a>:</p>\n\n<pre><code>&lt;% if current_page?(controller: \"pages\", action: \"home\") %&gt;\n   ... \n&lt;% end %&gt;\n</code></pre>\n\n<p>This is notoriously rickety though (what happens if you change your <code>pages</code> controller?).</p>\n\n<hr>\n\n<p>What you'll be better doing is what <code>beartech</code> suggested, setting a variable which you can ping in your <code>layout</code>:</p>\n\n<pre><code>#app/controllers/pages_controller.rb\nclass PagesController &lt; ApplicationController\n   def home\n       @home = true\n   end\nend \n\n#app/views/layouts/application.html.erb\n&lt;if @home %&gt;\n   ...\n&lt;% end %&gt;\n</code></pre>\n\n<p>I would match this with the use of <a href=\"http://guides.rubyonrails.org/layouts_and_rendering.html#using-partials\" rel=\"nofollow noreferrer\"><em>partials</em></a>:</p>\n\n<pre><code>#app/views/layouts/application.html.erb\n&lt;%= render \"shared/sidebar\" if @home %&gt;\n&lt;%= render \"shared/flash\" %&gt;\n</code></pre>\n\n<p>This gives you the ability to split your code into more manageable chunks. We do it here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L4leA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4leA.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 33539647, "answer_count": 2, "score": 3, "last_activity_date": 1598728960, "creation_date": 1446670237, "last_edit_date": 1598728960, "question_id": 33531750, "link": "https://stackoverflow.com/questions/33531750/rails-how-to-render-conditional-based-upon-pages-home-html-erb", "title": "Rails: How to Render Conditional Based Upon &#39;pages/home.html.erb&#39;", "body": "<p>In the <code>tbody</code> section of <strong>application.html.erb</strong> I wanted to render for the <code>current_user</code> two sidebars if he is on the home page and just one sidebar for every other page.</p>\n\n<pre><code>  &lt;body&gt;\n    &lt;% if current_user.present? %&gt;\n      &lt;% if 'pages/home.html.erb' %&gt; # Not Working As a Conditional\n        &lt;div class=\"container\"&gt;\n          &lt;div class=\"col-md-3\"&gt;\n            &lt;%= render 'layouts/valuations' %&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-6\"&gt;\n            &lt;% flash.each do |name, msg| %&gt;\n              &lt;%= content_tag(:div, msg, class: \"alert alert-info\") %&gt;\n            &lt;% end %&gt;\n            &lt;div id=\"modal-holder\"&gt;&lt;/div&gt;\n            &lt;%= yield %&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col-md-3\"&gt;\n            &lt;%= render 'layouts/sidebar' %&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;% else %&gt;\n        &lt;div class=\"container-fluid\"&gt;\n          &lt;div class=\"container\"&gt;\n            &lt;div class=\"col-md-9\"&gt;\n              &lt;% flash.each do |name, msg| %&gt;\n                &lt;%= content_tag(:div, msg, class: \"alert alert-info\") %&gt;\n              &lt;% end %&gt;\n              &lt;div id=\"modal-holder\"&gt;&lt;/div&gt;\n              &lt;%= yield %&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-md-3\"&gt;\n              &lt;%= render 'layouts/sidebar' %&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;% end %&gt;\n    &lt;% else %&gt;\n    &lt;div class=\"container\"&gt;\n      &lt;% flash.each do |name, msg| %&gt;\n        &lt;%= content_tag(:div, msg, class: \"alert alert-info\") %&gt;\n      &lt;% end %&gt;\n      &lt;/div&gt;\n      &lt;%= yield %&gt;\n    &lt;% end %&gt;\n  &lt;/body&gt;\n</code></pre>\n"}, {"tags": ["ruby", "swift", "encryption", "hash", "digest"], "comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1446671240, "post_id": 33531516, "comment_id": 54845614, "body": "<a href=\"http://stackoverflow.com/questions/25388747/sha256-in-swift\">stackoverflow.com/questions/25388747/sha256-in-swift</a>"}, {"owner": {"reputation": 536, "user_id": 2824448, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/C3Sm8.jpg?s=128&g=1", "display_name": "seanscal", "link": "https://stackoverflow.com/users/2824448/seanscal"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1446735646, "post_id": 33531516, "comment_id": 54875310, "body": "@7stud do you know what is different about that answer? Is that more like .digest than this method? How would I get one of the bytes out of the returned data?"}], "owner": {"reputation": 536, "user_id": 2824448, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/C3Sm8.jpg?s=128&g=1", "display_name": "seanscal", "link": "https://stackoverflow.com/users/2824448/seanscal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446672913, "creation_date": 1446669400, "last_edit_date": 1446672913, "question_id": 33531516, "link": "https://stackoverflow.com/questions/33531516/digest-function-equivalent-in-swift", "title": "Digest function equivalent in Swift", "body": "<p>I am attempting to write an authenticator app where I use SHA512 and 256 to encrypt some data and then display a number from the processed hashes.  I have basically everything figured out and working except for the .digest function.  I know how to do it in ruby, given below, but I can't figure out how to get it in iOS.  </p>\n\n<p>ruby:</p>\n\n<pre><code>  def reset_secret\n    d = OpenSSL::Digest::SHA512.new\n    d &lt;&lt; reset_sysid\n    d &lt;&lt; 'AAaaAAAaaaAAA'\n  end\n\n  def reset_input(t)\n    [reset_sysid, email, t].join('|')\n  end\n\n  def reset_hmac(t)\n    hmac = OpenSSL::Digest::SHA256.new\n    hmac &lt;&lt; reset_secret.digest\n    hmac &lt;&lt; reset_input(t)\n    hmac.digest\n    OpenSSL::Digest::SHA256.new(hmac.digest).digest\n  end\n</code></pre>\n\n<p>Swift as of now:</p>\n\n<pre><code>func reset_secret()-&gt;String {\n    return (sysid+\"AAaaAAAaaaAAA\").sha512()\n}\n\nfunc reset_input(t:Int)-&gt;String{\n    var time:String = String(t)\n    var input:[String] = [sysid, email, time]\n    var stringrep:String = \"|\".join(input)\n    return stringrep\n}\n\nfunc reset_hmac(t:Int)-&gt;String{\n    var firstTime:String = (reset_secret() + reset_input(t)).sha256()\n    return firstTime\n}\n\nextension String {\nfunc sha256() -&gt; String {\n    let data = self.dataUsingEncoding(NSUTF8StringEncoding)!\n    var digest = [UInt8](count:Int(CC_SHA512_DIGEST_LENGTH), repeatedValue: 0)\n    CC_SHA512(data.bytes, CC_LONG(data.length), &amp;digest)\n    let hexBytes = digest.map { String(format: \"%02hhx\", $0) }\n    return \"\".join(hexBytes)\n}\n\nfunc sha512() -&gt; String {\n    let data = self.dataUsingEncoding(NSUTF8StringEncoding)!\n    var digest = [UInt8](count:Int(CC_SHA512_DIGEST_LENGTH), repeatedValue: 0)\n    CC_SHA512(data.bytes, CC_LONG(data.length), &amp;digest)\n    let hexBytes = digest.map { String(format: \"%02hhx\", $0) }\n    return \"\".join(hexBytes)\n}\n</code></pre>\n\n<p>To start, I need to get a .digest of the <code>reset_secret()</code> in <code>reset_hmac()</code>, but I haven't seemed to find an equivalent to this in swift</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "gem", "mathjax"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1446673590, "post_id": 33531126, "comment_id": 54846863, "body": "You are asking us to give our opinion whether something you need is useful. We don&#39;t know your needs except you want to integrate math equations. We don&#39;t know your programming ability or expertise. You need to decide if you want to work on one or the other, try implementing it, and when you run into problems ask about that specific problem."}], "answers": [{"tags": [], "owner": {"reputation": 1077, "user_id": 395180, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d2daf341883a14a6bf43bf25d655af81?s=128&d=identicon&r=PG", "display_name": "nruth", "link": "https://stackoverflow.com/users/395180/nruth"}, "is_accepted": true, "score": 1, "last_activity_date": 1449603987, "last_edit_date": 1449603987, "creation_date": 1449166708, "answer_id": 34073360, "question_id": 33531126, "link": "https://stackoverflow.com/questions/33531126/is-the-mathjax-gem-really-useful/34073360#34073360", "title": "Is the MathJax gem really useful?", "body": "<p>Assuming all things work, I think the CDN is the best and simplest way. They give instructions, it's free, it should reduce the performance and deployment cost of the library on your app, and if anything doesn't work it'll be easier to get help since you haven't done anything framework-specific.</p>\n\n<p>However, using a CDN adds a partial failure mode to your app: what happens when your app server returns your HTML, but the CDN is down or unreachable for the MathJax assets? Your users will see the TeX code instead of the rendered equations. </p>\n\n<p>This is pretty unusual, but can happen. Sometimes the CDN is broken, other times the <a href=\"http://bt.com\" rel=\"nofollow\">user's ISP screws up their DNS</a> to the <a href=\"https://aws.amazon.com/cloudfront/\" rel=\"nofollow\">CDN</a> but not to your app. </p>\n\n<p>Whether this is a risk worth defending against depends on your app, your users, etc.</p>\n\n<p>You can avoid it by hosting mathjax yourself (app server or CDN) but it'll be more work to set up, and if you're using a CDN at all you can still get these partial failures.</p>\n\n<p>If you really want the equations to render every time your app serves a page take a look at the server side rendering options (nodejs) added to <a href=\"https://github.com/mathjax/mathjax-node\" rel=\"nofollow\">MathJax</a> and KaTeX recently. I'm not aware of a gem bundling this up yet for rails but it'd be cool to have. There's a <a href=\"https://github.com/tiarno/mathjax-server\" rel=\"nofollow\">mathjax node server/service</a> you could send requests to from rails (cache the requests), but that'll complicate deployment if you're used to having a single app. There's also someone <a href=\"https://github.com/drewsberry/jekyll-katex-block\" rel=\"nofollow\">calling KaTeX through execjs</a>.</p>\n"}], "owner": {"reputation": 5281, "user_id": 1028138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/cacbc58817a6b78919f4a44e8d269b15?s=128&d=identicon&r=PG", "display_name": "sunmat", "link": "https://stackoverflow.com/users/1028138/sunmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "accepted_answer_id": 34073360, "answer_count": 1, "score": 0, "last_activity_date": 1449603987, "creation_date": 1446667954, "question_id": 33531126, "link": "https://stackoverflow.com/questions/33531126/is-the-mathjax-gem-really-useful", "title": "Is the MathJax gem really useful?", "body": "<p>I would like to integrate math equations in a Rails project. I see that there exist a well-maintained MathJax gem (<a href=\"https://rubygems.org/gems/mathjax-rails/versions/2.5.1\" rel=\"nofollow\">https://rubygems.org/gems/mathjax-rails/versions/2.5.1</a>). On the webpage of this gem, there is a section called \"Why bother with another gem?\", which argues mainly that MathJax is huge and makes it difficult to manage the project when it is entirely installed in a subdirectory of a rails project. However, on the MathJax webpage (<a href=\"http://docs.mathjax.org/en/latest/start.html\" rel=\"nofollow\">http://docs.mathjax.org/en/latest/start.html</a>) I see that MathJax is available through a CDN, so I guess there is no need for downloading its source into the Rails project (maybe the gem was made at a time when it was necessary to download MathJax?).</p>\n\n<p>So my question is: is there an advantage that I am missing, of using the gem rather than defining my own few helpers to get MathJax from the CDN and configure it for my need?</p>\n"}, {"tags": ["ruby", "loops", "testing", "rspec"], "answers": [{"comments": [{"owner": {"reputation": 11562, "user_id": 1016536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sk0Hl.png?s=128&g=1", "display_name": "TheLegend", "link": "https://stackoverflow.com/users/1016536/thelegend"}, "edited": false, "score": 0, "creation_date": 1446668437, "post_id": 33531232, "comment_id": 54844023, "body": "Thats what i was thinking, its better this way i suppose. Ill use your second suggestion for times when its like <code>fizzbuzz(105)</code>"}], "tags": [], "owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "is_accepted": false, "score": 2, "last_activity_date": 1446668303, "creation_date": 1446668303, "answer_id": 33531232, "question_id": 33531056, "link": "https://stackoverflow.com/questions/33531056/ruby-testing-results-of-a-loop/33531232#33531232", "title": "Ruby testing results of a loop", "body": "<p>Your current method is <code>puts</code>ing the value to STDOUT. That makes it hard to test. Change your method to return the values as an array instead. Then test that array.</p>\n\n<p>Something like this:</p>\n\n<pre><code>def fizzbuzz(n)\n  (1..n).map do |num|\n    # logic here...\n    string\n  end\nend\n</code></pre>\n\n<p>And your test becomes this:</p>\n\n<pre><code>expect(@thing.fizzbuzz(3)).to eq [1, 2, \"Fizz\"]\n</code></pre>\n\n<p>Or maybe this:</p>\n\n<pre><code>expect(@thing.fizzbuzz(3)[2]).to eq \"Fizz\"\n</code></pre>\n"}], "owner": {"reputation": 11562, "user_id": 1016536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sk0Hl.png?s=128&g=1", "display_name": "TheLegend", "link": "https://stackoverflow.com/users/1016536/thelegend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446668303, "creation_date": 1446667675, "last_edit_date": 1446668027, "question_id": 33531056, "link": "https://stackoverflow.com/questions/33531056/ruby-testing-results-of-a-loop", "title": "Ruby testing results of a loop", "body": "<p>Quick testing question i have a FizzBuzz implementation,</p>\n\n<pre><code>def fizzbuzz(n)\n  (1..n).each do |num|\n    string = ''\n    string &lt;&lt; 'Fizz' if num % 3 == 0\n    string &lt;&lt; 'Buzz' if num % 5 == 0\n    string &lt;&lt; 'Boom' if num % 7 == 0\n    string = num if string.empty?\n    puts string\n  end\nend\n</code></pre>\n\n<p>I would like to write a test for it:</p>\n\n<pre><code>it 'should return the word Fizz for a number divisible by 3' do \n  expect(Thing.fizzbuzz(3)).to eq (\"Fizz\")\nend\n</code></pre>\n\n<p>And i got</p>\n\n<pre><code> Failure/Error: expect(@thing.fizzbuzz(3)).to eq (\"Fizz\")\n\n   expected: \"Fizz\"\n        got: 1..3\n</code></pre>\n\n<p>Now i know the actual result is more like </p>\n\n<pre><code>1\n2 \n'fizz'\n</code></pre>\n\n<p>But it got me thinking how i would write this so it would be easy to test?\nI could shovel each instance into an array and then test specific locations, but is there a better way? </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1446666855, "post_id": 33530685, "comment_id": 54843111, "body": "Welcome to Stack Overflow. Please reread your question, and see if it&#39;s difficult to parse because your grammar, capitalization, and formatting are not what they should be. Consider this: The more difficult it is to read, the longer it takes for us to make sense of it, and, the less time you put into your question, the less time we are likely to spend trying to make sense of it. I&#39;d recommend re-editing your question, improving the grammar and capitalization and formatting."}, {"owner": {"reputation": 62, "user_id": 399333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3820a0ec97fcac3da73fc95ff3d015b?s=128&d=identicon&r=PG", "display_name": "infamous amos", "link": "https://stackoverflow.com/users/399333/infamous-amos"}, "edited": false, "score": 0, "creation_date": 1446668635, "post_id": 33530685, "comment_id": 54844131, "body": "Post the entire contents of the source code, or a link to a gist, hackpad, etc., (eg. <a href=\"https://hastebin.com\" rel=\"nofollow noreferrer\">hastebin.com</a>)"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446668936, "post_id": 33530685, "comment_id": 54844294, "body": "Don&#39;t paste &quot;the entire contents&quot; of code, or use a link. Stack Overflow requires the minimal code necessary to demonstrate the problem <i>in the question itself</i>. Links rot making the question worthless to future searchers and they waste our time having to chase them down just to see the code."}], "answers": [{"tags": [], "owner": {"reputation": 5355, "user_id": 452079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4fb85f91e35202c72ca16d54873b10c4?s=128&d=identicon&r=PG", "display_name": "rohit89", "link": "https://stackoverflow.com/users/452079/rohit89"}, "is_accepted": true, "score": 1, "last_activity_date": 1446666998, "last_edit_date": 1446666998, "creation_date": 1446666697, "answer_id": 33530795, "question_id": 33530685, "link": "https://stackoverflow.com/questions/33530685/outputting-hash-to-text-file/33530795#33530795", "title": "Outputting hash to text file", "body": "<p>You're not writing anything to the file. The string <code>@this_string</code> is empty. You should do</p>\n\n<pre><code>@sDB.each do |key, store_account_data|\n  @fh.puts \"#{key}: #{store_account_data.join(',')}\"\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 5526026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca8c79930023909ca26e16288b8c946?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5526026/madmax"}, "is_accepted": false, "score": 1, "last_activity_date": 1446669167, "last_edit_date": 1446669167, "creation_date": 1446666797, "answer_id": 33530821, "question_id": 33530685, "link": "https://stackoverflow.com/questions/33530685/outputting-hash-to-text-file/33530821#33530821", "title": "Outputting hash to text file", "body": "<p>The answer is given in the error message: <code>undefined local variable or method 'sDB'</code>. <em>(Which you have since removed from your question making the edited version next to impossible to answer.)</em>  Where and when is <code>sDB</code> defined in your program?  You are evidently attempting to quit before initializing it. </p>\n\n<p>In any case it is not a good thing to be accessing instance variables directly inside other methods.  You should use accessor (getter and setter) methods instead.  That would have probably prevented this situation from biting you in the first place.</p>\n\n<pre><code>def sdb\n  @sDB ||= Hash.new\nend\n\ndef sdb=( key, value )\n  sdb\n  @sDB[ key ] = value\nend\n. . .\n</code></pre>\n\n<p>You are not properly writing to a file even if <code>@sDB</code> is defined.  See <a href=\"https://stackoverflow.com/questions/21241747/ruby-printing-a-hash-to-txt-file\">Ruby - Printing a hash to txt file</a> for an example.</p>\n"}, {"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446669213, "post_id": 33531198, "comment_id": 54844455, "body": "Also, variables are snake_case in Ruby, not camelCase, so <code>@sDB</code> needs to be fixed."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1446669087, "last_edit_date": 1446669087, "creation_date": 1446668189, "answer_id": 33531198, "question_id": 33530685, "link": "https://stackoverflow.com/questions/33530685/outputting-hash-to-text-file/33531198#33531198", "title": "Outputting hash to text file", "body": "<blockquote>\n  <p>it doesn't save the contents in the file. </p>\n</blockquote>\n\n<p>The following is NOT how you write to a file:</p>\n\n<pre><code>puts \"#{key}: #{store_account_data.join(',')}\"\n</code></pre>\n\n<p>That is how you write to your terminal/console window.</p>\n\n<p>And this code:</p>\n\n<pre><code>    @this_string=\"\"\n\n@fh.puts(@this_string)\n</code></pre>\n\n<p>writes a blank string to the file.</p>\n\n<p>Here is how you write to a file:</p>\n\n<pre><code>class Student\n\n  def initialize(sDB, filename)\n    @sDB = sDB\n    @filename = filename\n  end\n\n  def save_changes()\n    puts \"Save Changes? y/n\"\n    user_answer = gets().chomp\n\n    if user_answer == \"y\"\n\n      File.open(@file_name, 'w') do |f|\n        @sDB.each do |key, store_account_data| #line 50\n          f.puts \"#{key}: #{store_account_data.join(',')}\"\n        end\n      end\n\n    end \n\nend \n</code></pre>\n\n<blockquote>\n  <p>could it potentially not be working because it is having trouble with\n  converting the text in my hash, which is alphanumeric, into the text\n  file?</p>\n</blockquote>\n\n<p>No.  Here is a concrete example you can try:</p>\n\n<pre><code>data = {\n  \"John\" =&gt; ['a', 123, 'b', 456],\n  \"Sally\" =&gt; ['c', 789, 'b', 0]\n}\n\nFile.open('data.txt', 'w') do |f|\n  data.each do |name, data|\n    f.puts \"#{name}: #{data.join(',')}\"\n  end\nend\n\n$ ruby myprog.rb \n$ cat data.txt\nJohn: a,123,b,456\nSally: c,789,b,0\n</code></pre>\n\n<p>Also, ruby indenting is 2 spaces--not 0 spaces or 3 spaces, or anything else.</p>\n"}, {"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 1, "last_activity_date": 1446677959, "creation_date": 1446677959, "answer_id": 33533692, "question_id": 33530685, "link": "https://stackoverflow.com/questions/33530685/outputting-hash-to-text-file/33533692#33533692", "title": "Outputting hash to text file", "body": "<p>Your question is missing essential input data, so there's no way to test our suggested changes.</p>\n\n<p>Here's untested code I'd work from:</p>\n\n<pre><code>def quit_program\n  puts \"Save Changes? y/n\"\n  if gets.chomp.downcase == 'y'\n    File.write(\n      @file_name,\n      @s_db.map{ |k, v| \"#{ k }: #{ v.join(',') }\" }.join(\"\\n\")\n    )\n  end \nend \n</code></pre>\n\n<p>Note:</p>\n\n<ul>\n<li><code>@sDB</code> isn't a proper variable name in Ruby. We use snake_case, not camelCase for variables and method names. ItsAMatterOfReadability. Follow the convention or suffer the wrath of your team members the first time you have a code review.</li>\n<li>Don't add empty parenthesis to method names (<code>quit_program()</code>) or calls (<code>gets()</code>) unless it's essential to tell the difference between a variable and a method invocation. You should also never name a variable the same as a method because it'll confuse everyone working on the code, so that should never be a consideration.</li>\n<li>Don't create a variable (<code>@changes</code>) you use once and throw away, unless what you're doing is so complex you need to break down the operation into smaller chunks. And, if you're doing that, it'd be a really good candidate for refactoring into separate methods, so again, just don't.</li>\n<li>When comparing user-input to something you expect, fold the case of their input to match what you expect. (<code>gets.chomp.downcase == 'y'</code>). It really irritates users to enter \"y\" and fail because you insisted on \"Y\".</li>\n<li>While you <em>can</em> use <code>File.open</code> to create or write to a file, there's less visual noise to use <code>File.write</code>. <code>open</code> is great when you need to use various options for the mode but for plain text <code>write</code> is sufficient.</li>\n<li>The whole block used for writing looks like it can be cleaned up to a single <code>map</code> and <code>join</code>, which coerces the data into an array of strings then into a single string.</li>\n</ul>\n"}], "owner": {"reputation": 55, "user_id": 5364364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/755560f7ef1ba4a2988b8fbbb787ae65?s=128&d=identicon&r=PG&f=1", "display_name": "matthewarnold", "link": "https://stackoverflow.com/users/5364364/matthewarnold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 1, "accepted_answer_id": 33530795, "answer_count": 4, "score": 1, "last_activity_date": 1446678135, "creation_date": 1446666357, "last_edit_date": 1446678135, "question_id": 33530685, "link": "https://stackoverflow.com/questions/33530685/outputting-hash-to-text-file", "title": "Outputting hash to text file", "body": "<p>I am having trouble outputting the contents of my hash to a file. The program is one that manages a list of student records, including their StudentID, first name, last name, Major, and catalog year. Once the user is finished adding records, it is then added to the hash. </p>\n\n<p>Everything in the program works perfectly, except when I try running the quit_program function, it doesn't save the contents in the file. Additionally, i am not getting any errors, any ideas?</p>\n\n<p>could it potentially not be working because it is having trouble with converting the text in my hash, which is alphanumeric, into the text file? </p>\n\n<pre><code>def quit_program()\n\nputs \"Save Changes? y/n\"\n\n@changes = gets().chomp\n\nif @changes==\"y\"\n\n\n    @fh=File.open(@file_name, 'w')\n    @this_string=\"\"\n\n    @sDB.each do |key, store_account_data| #line 50\n\n    puts \"#{key}: #{store_account_data.join(',')}\"\n    end\n    end \n\n@fh.puts(@this_string)\n@fh.close()     \n\nend \n</code></pre>\n"}, {"tags": ["ruby", "ajax", "ruby-on-rails-4", "button-to"], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 2572703, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ea9bb5d1f7a8a598ebc867c3b88e7aaa?s=128&d=identicon&r=PG", "display_name": "Sakib", "link": "https://stackoverflow.com/users/2572703/sakib"}, "edited": false, "score": 0, "creation_date": 1446675266, "post_id": 33530819, "comment_id": 54847762, "body": "Thank you! So to respond in post, I add respond with right?"}, {"owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "reply_to_user": {"reputation": 1197, "user_id": 2572703, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ea9bb5d1f7a8a598ebc867c3b88e7aaa?s=128&d=identicon&r=PG", "display_name": "Sakib", "link": "https://stackoverflow.com/users/2572703/sakib"}, "edited": false, "score": 0, "creation_date": 1446676779, "post_id": 33530819, "comment_id": 54848498, "body": "You need to respond to the button press in your <code>favorites_controller</code>"}], "tags": [], "owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "is_accepted": true, "score": 0, "last_activity_date": 1446666782, "creation_date": 1446666782, "answer_id": 33530819, "question_id": 33530416, "link": "https://stackoverflow.com/questions/33530416/ruby-on-rails-button-to-check-post-result-and-update-current-page/33530819#33530819", "title": "Ruby on rails: Button_to Check post result and update current page", "body": "<p>To stay on the page when you click the button, you need to add <code>remote: true</code> to your button call. This will make your button request an AJAX call by default. </p>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-button_to\" rel=\"nofollow\">Read more about the <code>button_to</code> helper here</a>.</p>\n\n<pre><code>&lt;%= button_to create_favorite_path(res.id), remote: true, class: \"favorite-btn-#{res.id} btn btn-default\" do%&gt;\n  &lt;i class=\"glyphicon glyphicon-star-empty\"&gt;&lt;/i&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Then to see the response of this AJAX request, you'll need to write some javascript.</p>\n\n<p>In your <code>application.js</code> or whatever javascript file you have on this page:</p>\n\n<pre><code>$(document).on('ajax:success', 'form', function(event, data, status, xhr) {\n  // do something with data or status\n});\n</code></pre>\n\n<p><a href=\"http://edgeguides.rubyonrails.org/working_with_javascript_in_rails.html\" rel=\"nofollow\">Read more about working with javascript in Rails here</a>.</p>\n"}], "owner": {"reputation": 1197, "user_id": 2572703, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ea9bb5d1f7a8a598ebc867c3b88e7aaa?s=128&d=identicon&r=PG", "display_name": "Sakib", "link": "https://stackoverflow.com/users/2572703/sakib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 33530819, "answer_count": 1, "score": 0, "last_activity_date": 1446666782, "creation_date": 1446665411, "question_id": 33530416, "link": "https://stackoverflow.com/questions/33530416/ruby-on-rails-button-to-check-post-result-and-update-current-page", "title": "Ruby on rails: Button_to Check post result and update current page", "body": "<p>In my UI, I have a table of items. Each row has a favorite button. I am using button to make a rails call to add the db association. </p>\n\n<p>I've been looking into how to check the result of the post response in my button to call.</p>\n\n<p>If it succeeds, I want to disable the favorite button on my page and if it doesn't I want to nothing. Is there a way to check the post response in my button to call and is there a way to stay on the page?</p>\n\n<p>Heres a sample of what I have</p>\n\n<pre><code>&lt;%= button_to create_favorite_path(res.id), class: \"favorite-btn-#{res.id} btn btn-default\" do%&gt;\n  &lt;i class=\"glyphicon glyphicon-star-empty\"&gt;&lt;/i&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["ruby", "performance-testing", "ruby-jmeter"], "comments": [{"owner": {"reputation": 39041, "user_id": 27358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fed1635f89478c88eda07e87de452bcf?s=128&d=identicon&r=PG", "display_name": "David Moles", "link": "https://stackoverflow.com/users/27358/david-moles"}, "edited": false, "score": 2, "creation_date": 1446665622, "post_id": 33530368, "comment_id": 54842413, "body": "Please post the actual error."}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1446665847, "post_id": 33530368, "comment_id": 54842540, "body": "Shouldn&#39;t <code>require &#39;jmeter-ruby&#39;</code> be <code>require &#39;ruby-jmeter&#39;</code>?"}, {"owner": {"reputation": 17529, "user_id": 398606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922e981f96ab7d809dfdc02c723fd41?s=128&d=identicon&r=PG", "display_name": "Sunil D.", "link": "https://stackoverflow.com/users/398606/sunil-d"}, "edited": false, "score": 0, "creation_date": 1446666111, "post_id": 33530368, "comment_id": 54842695, "body": "Your question is not answerable. You need to show the line(s) of code where the problem occurs, and you need to tell us what the actual error message is."}, {"owner": {"reputation": 448, "user_id": 3789189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000523604039/picture?type=large", "display_name": "sjethvani", "link": "https://stackoverflow.com/users/3789189/sjethvani"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1446666717, "post_id": 33530368, "comment_id": 54843051, "body": "@orde . I am using &#39;ruby-jmeter&#39; gem in all ruby files . edited question"}, {"owner": {"reputation": 448, "user_id": 3789189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000523604039/picture?type=large", "display_name": "sjethvani", "link": "https://stackoverflow.com/users/3789189/sjethvani"}, "edited": false, "score": 0, "creation_date": 1446666737, "post_id": 33530368, "comment_id": 54843064, "body": "I have also posted detailed error . &#39;visit&#39; function is defined under &#39;ruby-jmeter&#39; gem accessing like above way is giving me &#39;NoMethodError&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 3789189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000523604039/picture?type=large", "display_name": "sjethvani", "link": "https://stackoverflow.com/users/3789189/sjethvani"}, "edited": false, "score": 0, "creation_date": 1446703166, "post_id": 33532115, "comment_id": 54856222, "body": "Hey @LazyMonkey , I have edited my question with full details , what i want to do and why . Basically I am creating performance framework using &#39;ruby-jmeter&#39; , where in I am trying to create conventional structure where in anybody can come and create his own testscripts by calling all those common functions/utilities(placed under &#39;common&#39; folder in my structure). I have also attached image of my framework structure . I think this will help you to point me correct direction"}, {"owner": {"reputation": 448, "user_id": 3789189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000523604039/picture?type=large", "display_name": "sjethvani", "link": "https://stackoverflow.com/users/3789189/sjethvani"}, "edited": false, "score": 0, "creation_date": 1446703680, "post_id": 33532115, "comment_id": 54856402, "body": "And one more thing , I am newbie to ruby . I read lots of stuff about modules/mixins etc . So thought to give it a try .    With that why I am not using class here is because , I don&#39;t want to create objects of those Payload and Request modules in test.rb. QA should be able to simply call utility methods by directly calling from their Module name (I mean in static way).    I want your suggestion as in what I should use here &amp; basic code will be highly appreciated"}, {"owner": {"reputation": 448, "user_id": 3789189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000523604039/picture?type=large", "display_name": "sjethvani", "link": "https://stackoverflow.com/users/3789189/sjethvani"}, "edited": false, "score": 0, "creation_date": 1446728469, "post_id": 33532115, "comment_id": 54870090, "body": "I have changed structure now after following your comments and going through some of advance examples of &#39;ruby-jmeter&#39;. Here is another problem I am facing now regarding structure. <a href=\"http://stackoverflow.com/questions/33545197/facing-issues-while-calling-method-of-modulehaving-object-of-class-contained\" title=\"facing issues while calling method of modulehaving object of class contained\">stackoverflow.com/questions/33545197/&hellip;</a>"}], "tags": [], "owner": {"reputation": 507, "user_id": 1318399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbc12997ed08a52f6a80f952d5f79787?s=128&d=identicon&r=PG", "display_name": "LazyMonkey", "link": "https://stackoverflow.com/users/1318399/lazymonkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1446746949, "last_edit_date": 1446746949, "creation_date": 1446671583, "answer_id": 33532115, "question_id": 33530368, "link": "https://stackoverflow.com/questions/33530368/want-help-regarding-module-usage-in-ruby-project-using-3rd-party-gem-of-ruby/33532115#33532115", "title": "Want help regarding &#39;module&#39; usage in ruby project (using 3rd party gem of &#39;ruby-jmeter&#39;", "body": "<p>I'm assuming you're using the gem hosted at this repository: <a href=\"https://github.com/flood-io/ruby-jmeter\" rel=\"nofollow\">https://github.com/flood-io/ruby-jmeter</a>, latest release version (2.13.8).</p>\n\n<p>Looking through the source code and examples, there are a couple things to think about.</p>\n\n<ol>\n<li>The 'visit' method is an alias for a method called 'get' <a href=\"https://github.com/flood-io/ruby-jmeter/blob/master/lib/ruby-jmeter/dsl.rb\" rel=\"nofollow\">defined here\n</a>.</li>\n</ol>\n\n<p>That is an object method, for an object of class RubyJmeter::ExtendedDSL.  You are using module methods, and should probably consider making an object and calling the method on that.</p>\n\n<pre><code>obj = RubyJmeter::ExtendedDSL.new\nobj.visit '192.148.1.2' # 'visit' is a method alias for 'get'\n</code></pre>\n\n<ol start=\"2\">\n<li>However, the examples listed by the gem developer follow a different pattern, calling 'visit' from within a closure (the do..end code block, known simply as a 'block' in Ruby).  You could rewrite your code to build test plans and run them in this fashion.</li>\n</ol>\n\n<p>It's not clear from what you post <em>why</em> you are using modules.  Typically, you use 'include' within a Module or Class to mix in the gem's methods into your namespace.  But since you're attempting to use module methods, I'm not sure mixing in object methods will be fruitful.</p>\n\n<ol start=\"3\">\n<li>Since I can't see how your Test.rb file is run, I can't say for sure that your test code is loading your own modules.  Typically a 'load' or 'include' statement would be used to load the code you wrote in request.rb and payload.rb</li>\n</ol>\n\n<p>Personally, I'd try to follow the pattern shown by the developer of RubyJmeter; as a second approach, I'd write a class that inherits from RubyJemeter's subclass and extend its behavior to suit.  My test code would initialize an object and call its methods directly.  (Your Mileage May Vary.)</p>\n\n<p><strong>Updated to add:</strong> if you want your module method to stand in place of the object method mentioned, you can simply call the latter inside your method:</p>\n\n<pre><code>def self.send_request()\n  RubyJmeter::ExtendedDSL.new.visit '192.148.1.2'\nend\n</code></pre>\n\n<p>Doing this essentially creates a disposable object, which is destroyed after the :visit method returns its data.</p>\n\n<p>P.S.  Always capitalize your class and module names.  It's a <a href=\"http://rubylearning.com/satishtalim/ruby_names.html\" rel=\"nofollow\" title=\"Ruby best practice\">Ruby best practice</a> and your module name 'company' will raise warnings from the interpreter.</p>\n"}], "owner": {"reputation": 448, "user_id": 3789189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000523604039/picture?type=large", "display_name": "sjethvani", "link": "https://stackoverflow.com/users/3789189/sjethvani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450183690, "creation_date": 1446665206, "last_edit_date": 1495541043, "question_id": 33530368, "link": "https://stackoverflow.com/questions/33530368/want-help-regarding-module-usage-in-ruby-project-using-3rd-party-gem-of-ruby", "title": "Want help regarding &#39;module&#39; usage in ruby project (using 3rd party gem of &#39;ruby-jmeter&#39;", "body": "<p>I am trying to create performance automation framework for my company . Beinbg newbie to ruby field , I thought to keep it simple . Here is  <a href=\"https://i.stack.imgur.com/W6vy1.png\" rel=\"nofollow noreferrer\">structure for performance framewrok</a></p>\n\n<p>I do have multiple ruby files , as request.rb,payload.rb etc in 'common' folder(as these are containing some utilities)  and then my test in test.rb (under one of 'TestFlows->SimpleFlow->test.rb) .<br>\nSee above structure for more detail</p>\n\n<p>Exact Code , which I am having right now under those files are</p>\n\n<p><strong>request.rb</strong></p>\n\n<pre><code>require 'ruby-jmeter' #(Consider any 3rd party gem )\nrequire 'rubygems'\n\nmodule Company #Note that i am using same module name 'company'\n  module Request \n     def self.send_request()\n        visit '192.148.1.2'  #  this is function defined under ruby-jmeter\n     end\n   end\nend\n</code></pre>\n\n<p><strong>payload.rb</strong></p>\n\n<pre><code>require 'ruby-jmeter' #(Consider any 3rd party gem )\nrequire 'rubygems'\n\nmodule Company   #Note that i am using same module 'company'\n    module Payload\n       def self.get_payload()\n        ------- Again some 'ruby-jmeter' function calls\n       end\n\n     end\nend\n</code></pre>\n\n<p>etc files as well </p>\n\n<p><strong>Test.rb</strong></p>\n\n<pre><code>   require 'ruby-jmeter' #(Consider any 3rd party gem )\n   require 'rubygems'\n   require 'require_all'  #(gem to load all files from folder)\n   require_all '../../common/'\n\n   module Company   #Note that i am using same module 'company' \n     test name:'GooglePerformanceTest' do \n          defaults domain: 'http://google.com' ,protocol: http  \n           threads name: 'NoOfUsers',scheduler: false,continue_forever:    \n                 false, count: 2 do\n                       Request.send_request()\n                   end\n       end   #end of testPlan\n       view_results_tree\n       puts \"JMX FILE IS GONNA SAVED @          \n                  \"+Dir.pwd+\"/CreatedJMeter_DB2Navigation.jmx\"\n    end.jmx(file: Dir.pwd+\"/CreatedJMeter_DB2Navigation.jmx\")\n    end\n</code></pre>\n\n<p>When I run this programme , it goes to above  , I am getting errors of those (3rd party ruby gem's function undefined).</p>\n\n<p>Can anyone point me out my problem regarding above structure &amp; suggest me proper way to do this ?</p>\n\n<p>edit :\nI am getting below error</p>\n\n<pre><code>     Test.rb:3:in `send_request': undefined method `visit ' for \n     company::Request:Module (NoMethodError)\n</code></pre>\n\n<p><strong>Edit</strong>\nHave defined my changes here &amp; it is working fine\n<a href=\"https://stackoverflow.com/questions/33545197/facing-issues-while-calling-method-of-modulehaving-object-of-class-contained\">Facing issues while calling method of module(having object of class , contained in another ruby file)</a></p>\n"}, {"tags": ["ruby", "linux", "crouton-os"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446666382, "post_id": 33530342, "comment_id": 54842849, "body": "Welcome to Stack Overflow. When asking, create a title that is indicative of the problem. &quot;Why won&#39;t Ruby respond?&quot; tells us absolutely nothing. Instead, &quot;Why do I get core dumps running Irb or Ruby?&quot; would be useful and tell us something. Also, please read the help for formatting documents. It helps us help you when we can easily tell what are commands, code and text. Click the &quot;?&quot; in the header for the edit box then go to &quot;Advanced help&quot; for full information."}, {"owner": {"reputation": 301, "user_id": 1073720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8572feaedcede4fa85aa7f5885eacddf?s=128&d=identicon&r=PG", "display_name": "Keller Scholl", "link": "https://stackoverflow.com/users/1073720/keller-scholl"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446668229, "post_id": 33530342, "comment_id": 54843913, "body": "I thought I had figured that out: googling said segmentation faults can be caused by lack of permissions. Running as sudo doesn&#39;t make it core dump. If I have to run ruby as sudo, I don&#39;t mind. If I can&#39;t make Ruby respond, I have an issue. Thank you for the formatting help."}], "owner": {"reputation": 301, "user_id": 1073720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8572feaedcede4fa85aa7f5885eacddf?s=128&d=identicon&r=PG", "display_name": "Keller Scholl", "link": "https://stackoverflow.com/users/1073720/keller-scholl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446666513, "creation_date": 1446665072, "last_edit_date": 1446666513, "question_id": 33530342, "link": "https://stackoverflow.com/questions/33530342/why-do-i-get-a-core-dump-when-running-irb-or-ruby", "title": "Why do I get a core dump when running Irb or Ruby?", "body": "<p>I get a core dump when running <code>irb</code> or <code>ruby</code> at the command-line:</p>\n\n<pre><code>me@localhost:~$ irb\nSegmentation fault (core dumped)\nme@localhost:~$ ruby\nSegmentation fault (core dumped)\nme@localhost:~$ sudo irb\nme@localhost:~$\nme@localhost:~$ sudo ruby\nme@localhost:~$\n</code></pre>\n\n<p>I'm running on ChromeOS dualboot with crouton using trusty and xfce.</p>\n\n<p>I'm not sure how to begin fixing this. I assume that a language straight of the box, installed using</p>\n\n<pre><code>sudo apt-get install ruby-full \n</code></pre>\n\n<p>will work.</p>\n\n<p>The same thing may be happening with Heroku: the segmentation fault and non-responsive <code>sudo</code> command is the same.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "activerecord"], "comments": [{"owner": {"reputation": 377, "user_id": 1900969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/681ea2e04dee304f1cfc6864ea470435?s=128&d=identicon&r=PG", "display_name": "Guido", "link": "https://stackoverflow.com/users/1900969/guido"}, "edited": false, "score": 0, "creation_date": 1446664975, "post_id": 33530287, "comment_id": 54842058, "body": "Have you configured your databases.yml?"}, {"owner": {"reputation": 2546, "user_id": 2603130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/60f46755895fd7c8bfa4f39d527ba9a8?s=128&d=identicon&r=PG", "display_name": "radubogdan", "link": "https://stackoverflow.com/users/2603130/radubogdan"}, "edited": false, "score": 2, "creation_date": 1446664999, "post_id": 33530287, "comment_id": 54842068, "body": "check <code>database.yml</code> and change the username. If you want to connect with user <code>ubuntu</code> then you have to create it first in postgres. Check the <a href=\"http://www.postgresql.org/docs/8.3/static/sql-createrole.html\" rel=\"nofollow noreferrer\">create role</a> documentation. After you create it make sure you <a href=\"http://www.postgresql.org/docs/9.0/static/sql-alterrole.html\" rel=\"nofollow noreferrer\">alter role</a> with correct permisions."}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1446665750, "post_id": 33530287, "comment_id": 54842491, "body": "yes i connected to the service. and then I did CREATE USER ubuntu SUPERUSER. the usernmae &quot;ubuntu&quot; is in my database.yml file. Still getting same problem"}, {"owner": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "reply_to_user": {"reputation": 2546, "user_id": 2603130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/60f46755895fd7c8bfa4f39d527ba9a8?s=128&d=identicon&r=PG", "display_name": "radubogdan", "link": "https://stackoverflow.com/users/2603130/radubogdan"}, "edited": false, "score": 0, "creation_date": 1446666952, "post_id": 33530287, "comment_id": 54843156, "body": "In Postgres, users and roles are not equivalent. If <code>CREATE USER</code> isn&#39;t sufficient, you should re-read @radubogdan&#39;s comment and look into <code>CREATE ROLE</code> and <code>ALTER ROLE</code>."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1446673889, "post_id": 33530890, "comment_id": 54847010, "body": "I had just added the username: ubuntu to the database.yml, thinking it would be a fix. however, i&#39;v deleted it and I still get the same issue of NoDatabseError. I&#39;ll try your second option"}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1446674333, "post_id": 33530890, "comment_id": 54847264, "body": "I&#39;m confused on what I&#39;m supposed to do. taking your advice, look at what my results are (I edited the question above) when I try to create a new role."}, {"owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1446674814, "post_id": 33530890, "comment_id": 54847540, "body": "When you go into <code>psql</code> and list all users <code>\\du</code>, what is the output?"}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1446676028, "post_id": 33530890, "comment_id": 54848144, "body": "the only role name listed is postgres"}, {"owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1446696566, "post_id": 33530890, "comment_id": 54854085, "body": "try to use <code>postgres</code> then as the username from inside your <code>database.ym</code>. what happens when you do this?"}, {"owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1446699736, "post_id": 33530890, "comment_id": 54855037, "body": "And also, what are the priviledges for this your <code>postgres</code> user? Eg: <a href=\"https://www.dropbox.com/s/dna2r31ryubog55/Screen%20Shot%202015-11-05%20at%205.59.11%20AM.png?dl=0\" rel=\"nofollow noreferrer\">check mine</a>"}], "tags": [], "owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "is_accepted": false, "score": 2, "last_activity_date": 1446667023, "last_edit_date": 1495541294, "creation_date": 1446667023, "answer_id": 33530890, "question_id": 33530287, "link": "https://stackoverflow.com/questions/33530287/when-i-try-to-do-rake-dbmigrate-i-get-an-error-activerecordnodatabaseerror/33530890#33530890", "title": "when I try to do rake db:migrate, I get an error: ActiveRecord::NODatabaseError role &quot;ubuntu&quot; does not exist", "body": "<p>The error you are getting about <code>role \"ubuntu\" does not exist</code> is because of the user (or <code>role</code>) that you are trying to use to access your postgress session from the app.</p>\n\n<p>As your <code>database.yml</code> specified</p>\n\n<pre><code>development:\n  adapter: postgresql\n  database: votes\n  pool: 5\n  timeout: 5000\n  username: ubuntu\n</code></pre>\n\n<p>Notice the last line: <code>username: ubuntu</code>?</p>\n\n<p>Two ways you can go about this are:</p>\n\n<p>1) Remove that line (maybe comment it out) - This will make your app connect to your postgress session with the default set name (or <code>role</code>, as you may want to call it). The default most times will be <code>postgress</code> or your username on your machine.</p>\n\n<p>2) create the role <code>ubuntu</code> for your postgress. To do this, you can <a href=\"https://stackoverflow.com/a/11919677/4330954\">check out this answer.</a></p>\n\n<p>Either of the above two ways should work well for you.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2558194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cba2659f96546744037e6f772105d5d?s=128&d=identicon&r=PG", "display_name": "Noor Maulida", "link": "https://stackoverflow.com/users/2558194/noor-maulida"}, "is_accepted": false, "score": 0, "last_activity_date": 1446715040, "creation_date": 1446715040, "answer_id": 33540574, "question_id": 33530287, "link": "https://stackoverflow.com/questions/33530287/when-i-try-to-do-rake-dbmigrate-i-get-an-error-activerecordnodatabaseerror/33540574#33540574", "title": "when I try to do rake db:migrate, I get an error: ActiveRecord::NODatabaseError role &quot;ubuntu&quot; does not exist", "body": "<p>Use postgres instead, it's default role from Postgre. Or try this one:</p>\n\n<pre><code>    sudo su - postgres\n    psql template1\n</code></pre>\n\n<p>then</p>\n\n<pre><code>    CREATE ROLE ubuntu superuser createdb login;\n</code></pre>\n\n<p>You can check if the role exist or not with command:</p>\n\n<pre><code>    \\du\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 953, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446715040, "creation_date": 1446664859, "last_edit_date": 1446674423, "question_id": 33530287, "link": "https://stackoverflow.com/questions/33530287/when-i-try-to-do-rake-dbmigrate-i-get-an-error-activerecordnodatabaseerror", "title": "when I try to do rake db:migrate, I get an error: ActiveRecord::NODatabaseError role &quot;ubuntu&quot; does not exist", "body": "<p>I started the postgresql server by doing this:</p>\n\n<pre><code>sudo service postgresql start\n</code></pre>\n\n<p>then I connected to the service:</p>\n\n<pre><code>sudo sudo -u postgres psql\n</code></pre>\n\n<p>then I created a database (i'm trying to add a voting system to my app):</p>\n\n<pre><code>postgres=# CREATE DATABASE \"votes\";\n</code></pre>\n\n<p>but i still have the same problem.</p>\n\n<p>Also, when I do</p>\n\n<pre><code>rake db:create\n</code></pre>\n\n<p>I get a role \"ubuntu\" does not exist error</p>\n\n<p>Here is my database.yml:</p>\n\n<pre><code># SQLite version 3.x\n#   gem install sqlite3\n#\n#   Ensure the SQLite 3 gem is defined in your Gemfile\n#   gem 'sqlite3'\n#\n# default: &amp;default\n#   adapter: sqlite3\n#   pool: 5\n#   timeout: 5000\n\n# development:\n#   &lt;&lt;: *default\n#   database: db/development.sqlite3\n\n# # Warning: The database defined as \"test\" will be erased and\n# # re-generated from your development database when you run \"rake\".\n# # Do not set this db to the same as development or production.\n# test:\n#   &lt;&lt;: *default\n#   database: db/test.sqlite3\n\n# production:\n#   &lt;&lt;: *default\n#   database: db/production.sqlite3\n\n# FOR HEROKU -- POSTGRES DB SETUP\n# UNCOMMENT WHEN WORKING LOCALLY.\ndevelopment:\n  adapter: postgresql\n  database: votes\n  pool: 5\n  timeout: 5000\n  username: ubuntu\n\ntest:\n  adapter: postgresql\n  database: planit_test\n  pool: 5\n  timeout: 5000\n\n\n# production:\n#   &lt;&lt;: *default\n#   database: db/production.sqlite3\n</code></pre>\n\n<p>I'm trying to create an ubuntu rold:</p>\n\n<pre><code>$ sudo sudo -u postgres psql\npsql (9.3.10)\nType \"help\" for help.\n\npostgres=# CREATE ROLE ubuntu SUPERUSER\npostgres-# \\q\n$ rake db:migrate\nrake aborted!\nActiveRecord::NoDatabaseError: FATAL:  role \"ubuntu\" does not exist\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "activerecord", "store"], "answers": [{"comments": [{"owner": {"reputation": 6927, "user_id": 1546713, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/VCDMo.jpg?s=128&g=1", "display_name": "azrosen92", "link": "https://stackoverflow.com/users/1546713/azrosen92"}, "edited": false, "score": 0, "creation_date": 1446666606, "post_id": 33530694, "comment_id": 54842977, "body": "Will it still be stored as text in the db? And when I add new records will they now be stored in correct json format?"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "reply_to_user": {"reputation": 6927, "user_id": 1546713, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/VCDMo.jpg?s=128&g=1", "display_name": "azrosen92", "link": "https://stackoverflow.com/users/1546713/azrosen92"}, "edited": false, "score": 0, "creation_date": 1446666954, "post_id": 33530694, "comment_id": 54843160, "body": "it will be stored as text yes. If you are able to use a json data type on the database level as mu suggested then it&#39;ll be better (and you won&#39;t need the <code>store</code> serialisation but <code>store_accessor</code> to read the data)"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1446667991, "post_id": 33530694, "comment_id": 54843786, "body": "I&#39;m guessing that this won&#39;t work because <code>ModelClass</code> will try to parse <code>properties</code> as JSON as it loads each row. I think you&#39;d need to bypass the model completely and do the format conversion by hand using direct database calls."}, {"owner": {"reputation": 6927, "user_id": 1546713, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/VCDMo.jpg?s=128&g=1", "display_name": "azrosen92", "link": "https://stackoverflow.com/users/1546713/azrosen92"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1446669212, "post_id": 33530694, "comment_id": 54844453, "body": "Thanks for the help! Do either of you know of a good way to do this in Rails as I&#39;m doing my upgrade to 4.2? (@muistooshort you are right this doesn&#39;t work)"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "edited": false, "score": 0, "creation_date": 1446683550, "post_id": 33530694, "comment_id": 54850696, "body": "sorry I was away. Couldn&#39;t you temporarily specify properties as a regular attribute instead of a store in the model, so you can do the update ?"}], "tags": [], "owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "is_accepted": true, "score": 1, "last_activity_date": 1446666380, "creation_date": 1446666380, "answer_id": 33530694, "question_id": 33530235, "link": "https://stackoverflow.com/questions/33530235/activerecord-store-attribute-in-rails-4-2-breaking-on-serialization/33530694#33530694", "title": "ActiveRecord store attribute in rails 4.2 breaking on serialization", "body": "<p>Yes, the JSON parser fails because the string isn't a json.</p>\n\n<p>You could fix your records by evaluating the string and converting it to json afterwards. <code>eval</code> is to be used carefully but if this is a one time job then you could probably run something like this in the <code>rails console</code>. </p>\n\n<pre><code>ModelClass.all.each do |m|\n  m.properties = eval(m.properties).to_json\n  m.save\nend\n</code></pre>\n\n<p>Not tested, please try on one record before updating your entire table. </p>\n"}], "owner": {"reputation": 6927, "user_id": 1546713, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/VCDMo.jpg?s=128&g=1", "display_name": "azrosen92", "link": "https://stackoverflow.com/users/1546713/azrosen92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "accepted_answer_id": 33530694, "answer_count": 1, "score": 1, "last_activity_date": 1446666380, "creation_date": 1446664693, "question_id": 33530235, "link": "https://stackoverflow.com/questions/33530235/activerecord-store-attribute-in-rails-4-2-breaking-on-serialization", "title": "ActiveRecord store attribute in rails 4.2 breaking on serialization", "body": "<p>I am upgrading a Rails 3 project to Rails 4 and it is breaking on one of my models that uses an <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Store.html\" rel=\"nofollow\">ActiveRecord Store</a> property. My model looks like the following:</p>\n\n<pre><code>class ModelClass &lt; ActiveRecord::Base\n    attr_accessible :attr_1, ..., attr_n, as: :admin\n\n    store :properties, accessors: [:attr_1, ..., :attr_n], coder: JSON\nend\n</code></pre>\n\n<p>The <code>:properties</code> field is a text field in Postgres.</p>\n\n<p>And when I try to access the data in this model I get the following <code>JSON::ParserError</code>:</p>\n\n<pre><code>795: unexpected token at '{\"attr_1\"=&gt;\"\", ..., \"attr_n\"=&gt;\"\"}'\n</code></pre>\n\n<p>These records were all created in Rails 3, and before upgrading to Rails 4 my model class did not have <code>coder: JSON</code> at the end of the <code>store</code> call. It looks like the data in the database is not being serialized correctly does anyone have any idea why and how to fix it? Is it because my data looks like a ruby hash with the <code>=&gt;</code> hash rocket in the database?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 1407, "user_id": 889074, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/YwYtO.jpg?s=128&g=1", "display_name": "kalelc", "link": "https://stackoverflow.com/users/889074/kalelc"}, "edited": false, "score": 0, "creation_date": 1446665424, "post_id": 33530222, "comment_id": 54842302, "body": "because it has a relationship? check <code>where(&#39;user in ?&#39;, categories).to_sql</code> to view query"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1446666486, "post_id": 33530222, "comment_id": 54842912, "body": "How to you intend to retrieve this if &quot;there is no relationship&quot;? There must be a relationship of some kind even if it is not the standard <code>id</code> to <code>_id</code> type. Maybe username is stored in both tables?"}, {"owner": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "edited": false, "score": 0, "creation_date": 1446666749, "post_id": 33530222, "comment_id": 54843069, "body": "What kind of legacy database are you using? And when you say it&#39;s a single table, do you mean that the categories and users are stored in the same table?"}, {"owner": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "edited": false, "score": 0, "creation_date": 1446666969, "post_id": 33530222, "comment_id": 54843172, "body": "Hi yes the users and categories is in the same table"}, {"owner": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "edited": false, "score": 0, "creation_date": 1446667103, "post_id": 33530222, "comment_id": 54843243, "body": "In that case, how are the categories stored? Are they in a separate field, as a string or array of some sort?"}, {"owner": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "edited": false, "score": 0, "creation_date": 1446667185, "post_id": 33530222, "comment_id": 54843296, "body": "they are stored as string"}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1446667361, "post_id": 33530222, "comment_id": 54843395, "body": "What you really need here is an instance method on User that returns the relevant Category set. Actually, an association would be preferable, but we&#39;d need to know what the SQL is for joining the row types."}, {"owner": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "reply_to_user": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1446667503, "post_id": 33530222, "comment_id": 54843480, "body": "@DavidAldridge: The post states that there&#39;s no relationship, and OP&#39;s comments state that the categories are stored as a string, so there is no need for SQL or joining rows."}, {"owner": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "edited": false, "score": 0, "creation_date": 1446667569, "post_id": 33530222, "comment_id": 54843531, "body": "@djangor: Can you give an example of what a user record looks like, and also edit your question to include it? I&#39;m assuming the categories are a comma-separated string but I want to make sure before answering."}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "reply_to_user": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "edited": false, "score": 0, "creation_date": 1446667619, "post_id": 33530222, "comment_id": 54843561, "body": "@Matt If there is no SQL then you can&#39;t retrieve the data from the database. In other words, there definitely is SQL, and when we know what it is, we&#39;ll be able to advise on a way of constructing an ActiveRecord expression."}, {"owner": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "reply_to_user": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1446667911, "post_id": 33530222, "comment_id": 54843734, "body": "@DavidAldridge: I think we&#39;re talking past each other. From OP&#39;s comments, it seems that <code>categories</code> are stored as a field in the users table.  Obviously you can&#39;t retrieve data from a database without SQL. (That statement seemed very patronizing to me, by the way.) My point is that I don&#39;t think this answer is going to involve an ActiveRecord expression / SQL beyond &quot;selecting a user&quot;, as OP put it, which they are already doing."}, {"owner": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "edited": false, "score": 0, "creation_date": 1446667987, "post_id": 33530222, "comment_id": 54843784, "body": "the categories are stored as a field in the database"}, {"owner": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "edited": false, "score": 0, "creation_date": 1446668560, "post_id": 33530222, "comment_id": 54844091, "body": "@djangor: Is there another table that stores more detailed user information, with one row per user; or a table with one category per row? The data structure you just added looks to me like a join table, which itself describes a many-to-many relationship between users and catgeories."}, {"owner": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "edited": false, "score": 0, "creation_date": 1446669112, "post_id": 33530222, "comment_id": 54844401, "body": "I&#39;m trying to do something like this TABLE.all.where(&quot;USERFULLNAME IN ?&quot;, category).uniq"}, {"owner": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "edited": false, "score": 0, "creation_date": 1446669237, "post_id": 33530222, "comment_id": 54844467, "body": "In django I can do this def get_categories_for_user(filter_by_dates, filter_by_user):   categories = MODELNAME.objects.all().filter(USERFULLNAME__contains=filter&zwnj;&#8203;_by_user).values_lis&zwnj;&#8203;t(&#39;CATEGORY&#39;, flat=True.distinct()    return categories"}, {"owner": {"reputation": 5251, "user_id": 903842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cfe7b10dbda86c6cb930c1ae40abfc2c?s=128&d=identicon&r=PG", "display_name": "Nimir", "link": "https://stackoverflow.com/users/903842/nimir"}, "edited": false, "score": 0, "creation_date": 1446670371, "post_id": 33530222, "comment_id": 54845140, "body": "@djangor updated my answer!"}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1446671186, "post_id": 33530222, "comment_id": 54845586, "body": "If your table contains multiple records of the same value of User, and the same value of Category, then it&#39;s not a table of User instances or Category instances. Possibly it is a table of UserCategory. In that case, <code>UserCategory.where(:user =&gt; user_variable)</code> returns all the instances, from which <code>.pluck(:category)</code> returns the values of category for that user."}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "reply_to_user": {"reputation": 405, "user_id": 1472621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc346c5eb97a9ef44347af50a81ad81f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1472621/matt"}, "edited": false, "score": 0, "creation_date": 1446671332, "post_id": 33530222, "comment_id": 54845665, "body": "@Matt I think there&#39;s just no explanation of the structure, not of how Rails is being used. I suspect that a combination of no Rails experience and a legacy database is doing the OP no favours at all here, but it ould be pretty rare that you couldn&#39;t get close to a conventional Rails way of working by knowing the structure of the database."}], "answers": [{"comments": [{"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 1, "creation_date": 1446667490, "post_id": 33530454, "comment_id": 54843473, "body": "That would not be a very Rails solution"}, {"owner": {"reputation": 5251, "user_id": 903842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cfe7b10dbda86c6cb930c1ae40abfc2c?s=128&d=identicon&r=PG", "display_name": "Nimir", "link": "https://stackoverflow.com/users/903842/nimir"}, "reply_to_user": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 2, "creation_date": 1446667782, "post_id": 33530454, "comment_id": 54843645, "body": "OP said db is one big table with all data in their! i think we are already beyond &quot;a Rails way&quot; kind of solution!"}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1446670963, "post_id": 33530454, "comment_id": 54845470, "body": "Your assumption #2 would be <code>User.find_by(:user_full_name =&gt; @some_variable).category</code> or  <code>User.where(:user_full_name =&gt; @some_variable).pluck(:category)</code>. No reason why the User model can&#39;t be built on a table of any arbitrary name, and ActiveRecord methods used to retrieve from it."}, {"owner": {"reputation": 5251, "user_id": 903842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cfe7b10dbda86c6cb930c1ae40abfc2c?s=128&d=identicon&r=PG", "display_name": "Nimir", "link": "https://stackoverflow.com/users/903842/nimir"}, "reply_to_user": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1446671332, "post_id": 33530454, "comment_id": 54845666, "body": "and take the trouble of building a User model on a legacy db table just to use ActiveRecord <code>find</code> which is by the end of the day is just the same sql select query!!"}, {"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1446671459, "post_id": 33530454, "comment_id": 54845731, "body": "Yes, do exactly that, because this is apparently a Rails app, and that means you define the logic for retrieving data in the model layer, so you don&#39;t end up writing SQL for everything. I&#39;m assuming here that the system needs more than one query running against it, of course."}], "tags": [], "owner": {"reputation": 5251, "user_id": 903842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cfe7b10dbda86c6cb930c1ae40abfc2c?s=128&d=identicon&r=PG", "display_name": "Nimir", "link": "https://stackoverflow.com/users/903842/nimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1446670325, "last_edit_date": 1446670325, "creation_date": 1446665543, "answer_id": 33530454, "question_id": 33530222, "link": "https://stackoverflow.com/questions/33530222/rails-4-where-select-all/33530454#33530454", "title": "Rails 4 where select all", "body": "<p>You could use <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/DatabaseStatements.html#method-i-execute\" rel=\"nofollow\">direct sql query</a> to your db.</p>\n\n<p>Following is an example and your query will depend on your schema:</p>\n\n<pre><code>result = ActiveRecord::Base.connection.execute(\"SELECT * FROM categories WHERE user_id = #{@user.id}\")\nresult.to_a\n</code></pre>\n\n<h2>Update</h2>\n\n<p>On the light of comments conversations:</p>\n\n<p><strong>assumptions #1</strong>:</p>\n\n<ol>\n<li>Legacy DB, single table, no relations, single model -> assuming <strong>User</strong></li>\n<li><strong>User</strong> has two strings Fields: (1) user_full_name (2) category</li>\n</ol>\n\n<p>In that case we could do:</p>\n\n<pre><code>User.where(:user_full_name =&gt; @user.user_full_name).pluck(:category).flat.uniq\n</code></pre>\n\n<p>Otherwise, </p>\n\n<p><strong>assumptions #2</strong>:</p>\n\n<p>Somehow, you have no models in this db and we are back to direct sql.</p>\n\n<pre><code>sql = \"SELECT category FROM TABLE_NAME WHERE user_full_name = #{user_full_name}\"\nresult = ActiveRecord::Base.connection.execute(sql)\nresult.to_a.flat.uniq\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "edited": false, "score": 1, "creation_date": 1446711402, "post_id": 33539366, "comment_id": 54859771, "body": "Thanks man this @categories = User.where(id: params[:id]).pluck(:category) solved the problem..thank you so much"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "edited": false, "score": 0, "creation_date": 1446711664, "post_id": 33539366, "comment_id": 54859904, "body": "No problem - you should accept the answer if it helped. You should also read up about associations, they&#39;ll save you massive headaches in the future."}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": true, "score": 0, "last_activity_date": 1446710743, "creation_date": 1446710743, "answer_id": 33539366, "question_id": 33530222, "link": "https://stackoverflow.com/questions/33530222/rails-4-where-select-all/33539366#33539366", "title": "Rails 4 where select all", "body": "<blockquote>\n  <p>I want to <strong>show all the categories</strong> the user is in</p>\n</blockquote>\n\n<pre><code>@categories = User.where(id: params[:id]).pluck(:category)\n</code></pre>\n\n<p>This will return a <em>collection</em> of data which you'll be able to loop through using an <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-each\" rel=\"nofollow noreferrer\"><code>.each</code></a> loop or some other sort of <a href=\"https://en.wikipedia.org/wiki/Recursion\" rel=\"nofollow noreferrer\">recursion</a>:</p>\n\n<pre><code>@categories.each do |category|\n   category #-&gt; since this will be a single value, you don't need any attributes\nend\n</code></pre>\n\n<p>--</p>\n\n<p>What you <em>should</em> be doing is using an <a href=\"http://guides.rubyonrails.org/association_basics.html\" rel=\"nofollow noreferrer\">ActiveRecord association</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/marU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/marU7.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>#app/models/user.rb\nclass User &lt; ActiveRecord::Base\n   has_and_belongs_to_many :categories\nend\n\n#app/models/category.rb\nclass Category &lt; ActiveRecord::Base\n   has_and_belongs_to_many :users\nend\n</code></pre>\n\n<p>This is a <code>has_and_belongs_to_many</code> relationship, which will give you the ability to <em>associate</em> <em>many</em> <code>users</code> with <em>many</em> <code>categories</code>, as follows:</p>\n\n<pre><code>@user = User.find params[:id]\n@categories = @user.categories\n</code></pre>\n\n<p>This will also return a <em>collection</em> of data; the difference is that the <code>categories</code> in this instance will be built from each <code>Category</code> object the <code>user</code> is associated to.</p>\n\n<p>You'll be able to call them as follows:</p>\n\n<pre><code>@user.categories.each do |category|\n   category.name\nend\n</code></pre>\n\n<p>To set this up, you just need to set up the <em>join table</em> (<code>categories_users</code>):</p>\n\n<pre><code>$ rails g migration CreateCategoriesUsers\n\n#db/migrate/create_categories_users_____.rb\nclass CreateCategoriesUsers &lt; ActiveRecord::Migration\n   def change\n      create_table :categories_users, id: false do |t|\n         t.references :user\n         t.references :category\n      end\n   end\nend\n\n$ rake db:migrate\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5501537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7bd118f3c34818a68a728fc46bc054f?s=128&d=identicon&r=PG&f=1", "display_name": "djangor", "link": "https://stackoverflow.com/users/5501537/djangor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 0, "accepted_answer_id": 33539366, "answer_count": 2, "score": 1, "last_activity_date": 1446710743, "creation_date": 1446664639, "last_edit_date": 1446667796, "question_id": 33530222, "link": "https://stackoverflow.com/questions/33530222/rails-4-where-select-all", "title": "Rails 4 where select all", "body": "<p>How do you do this in Rails</p>\n\n<p>In my view if I select a user then I want to show all the categories the user is in but the problem is that this is a single table (Legacy DB) there is no relationship</p>\n\n<p>I have tried to do something like this but it doesn't work</p>\n\n<pre><code>where('user in ?', categories)\n</code></pre>\n\n<p>I Just get <code>ActiveRecord_Relation:0x007fb16f90abf0</code></p>\n\n<p>The table columns are like this</p>\n\n<ul>\n<li>user   category</li>\n<li>user1  category1</li>\n<li>user1  category2</li>\n<li>user2  category2</li>\n<li>user2  category4</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "pundit"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4765364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Flspw.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/4765364/gabriel"}, "is_accepted": true, "score": 0, "last_activity_date": 1447867006, "creation_date": 1447867006, "answer_id": 33786291, "question_id": 33529784, "link": "https://stackoverflow.com/questions/33529784/admin-page-ruby-on-rails/33786291#33786291", "title": "Admin Page Ruby on Rails", "body": "<p>So, I found the solution for my question,\nI've created a new action on Users Controller</p>\n\n<pre><code>    class UsersController &lt; ApplicationController\n\n  def update\n    @user = User.find(params[:id])\n    authorize @user\n    if @user.update_attributes(secure_params)\n      redirect_to controle_sistema_users_list_path, :success =&gt; 'User updated'\n    else\n      redirect_to controle_sistema_users_list_path, :alert =&gt; 'Unable to update user'\n    end\n  end\n\n  private\n  def secure_params\n    params.require(:user).permit(:role)\n  end\nend\n</code></pre>\n\n<p>And created a form inside a td element in the users_list page</p>\n\n<pre><code>&lt;td&gt;\n  &lt;%= form_for(user) do |f| %&gt;\n    &lt;%= f.select(:role, User.roles.keys.map {|role| [role.titleize,role]}) %&gt;\n    &lt;%= f.submit 'Change Role', :class =&gt; \"btn btn-default btn-xs\" %&gt;\n  &lt;%end%&gt;\n&lt;/td&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4765364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Flspw.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/4765364/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 33786291, "answer_count": 1, "score": -1, "last_activity_date": 1447867006, "creation_date": 1446663085, "last_edit_date": 1447685577, "question_id": 33529784, "link": "https://stackoverflow.com/questions/33529784/admin-page-ruby-on-rails", "title": "Admin Page Ruby on Rails", "body": "<p>I created a website with 3 different roles based on Pundit as an enum, users can be an analyst, developer or an administrator.</p>\n\n<p>I have a controller <strong>System</strong> with an action, <strong> users_list </strong>. </p>\n\n<pre><code>def users_list\n    @users = User.order(:id).page params[:page]\n    authorize @users\nend\n</code></pre>\n\n<p>And bellow is my view.\n    def users_list\n       @users = User.order(:id).page params[:page]\n       authorize @users\n    end</p>\n\n<pre><code>&lt;%- model_class = User -%&gt;\n&lt;div class=\"page-header\"&gt;\n  &lt;h1&gt;&lt;%=t '.title', :default =&gt; model_class.model_name.human.pluralize.titleize %&gt;&lt;/h1&gt;\n&lt;/div&gt;\n&lt;table class=\"table table-striped\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;&lt;%= model_class.human_attribute_name(:id) %&gt;&lt;/th&gt;\n      &lt;th&gt;&lt;%= model_class.human_attribute_name(:email) %&gt;&lt;/th&gt;\n      &lt;th&gt;&lt;%= model_class.human_attribute_name(:role) %&gt;&lt;/th&gt;\n      &lt;th&gt;&lt;%= model_class.human_attribute_name(:created_at) %&gt;&lt;/th&gt;\n      &lt;th&gt;&lt;%=t '.actions', :default =&gt; t(\"helpers.actions\") %&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;% @users.each do |user| %&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;%= link_to user.id, edit_user_registration_path(user) %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= user.email %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= user.role %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%=l user.created_at %&gt;&lt;/td&gt;\n        &lt;td&gt;\n\n          &lt;%= link_to t('.destroy', :default =&gt; t(\"helpers.links.destroy\")),\n                      cancel_user_registration_path(user),\n                      :method =&gt; :delete,\n                      :data =&gt; { :confirm =&gt; t('.confirm', :default =&gt; t(\"helpers.links.confirm\", :default =&gt; 'Are you sure?')) },\n                      :class =&gt; 'btn btn-xs btn-danger' %&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;% end %&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;%= link_to t('.new', :default =&gt; t(\"helpers.links.new\")),\n            new_user_registration_path,\n            :class =&gt; 'btn btn-primary' %&gt;\n</code></pre>\n\n<p>What I want to know is how can I enable in this page the administrator to change the user's role.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446663539, "post_id": 33529779, "comment_id": 54841265, "body": "i have this now  class PostsController &lt; ApplicationController   def index   \t@post = Post.all   end    def new   \t@post = Post.all   end    def create   \t  @post = Post.new(post_params)  \tif @post.save \t\tredirect_to @post \telse \t\trender &#39;new&#39; \tend   end    def show     @post = Post.find(params[:id])   end    private   def posts_params     params.require(:post).permit(:title, :description)   end   end  and im getting undefined method `errors&#39; for #&lt;ActiveRecord::Relation []&gt;  Just changed the @posts to @post as u said"}, {"owner": {"reputation": 85078, "user_id": 31610, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/20571f32acd27d2cf5f1b1f42ea1a75b?s=128&d=identicon&r=PG", "display_name": "Geo", "link": "https://stackoverflow.com/users/31610/geo"}, "reply_to_user": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446663707, "post_id": 33529779, "comment_id": 54841363, "body": "Sorry, I didn&#39;t notice it first. Change Post.all to Post.new"}, {"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446663928, "post_id": 33529779, "comment_id": 54841486, "body": "Oh man thank you so much, that totally worked i tried that before actually but only changed one of them, now everything is working fine :D"}, {"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446664801, "post_id": 33529779, "comment_id": 54841972, "body": "Got another problem :T   Index view:   &lt;h1&gt;Listing posts&lt;/h1&gt;   &lt;table&gt;   &lt;tr&gt;     &lt;th&gt;Title&lt;/th&gt;     &lt;th&gt;Text&lt;/th&gt;   &lt;/tr&gt;     &lt;% @posts.each do |posts| %&gt;     &lt;tr&gt;       &lt;td&gt;&lt;%= posts.title %&gt;&lt;/td&gt;       &lt;td&gt;&lt;%= posts.description %&gt;&lt;/td&gt;       &lt;td&gt;&lt;%= link_to &#39;Show&#39;, posts_path(posts) %&gt;&lt;/td&gt;       &lt;td&gt;&lt;%= link_to &#39;Edit&#39;, edit_posts_path(posts) %&gt;&lt;/td&gt;     &lt;/tr&gt;   &lt;% end %&gt; &lt;/table&gt;  Getting this error undefined method `each&#39; for #&lt;Post:0xa93ef2c&gt;"}, {"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446664912, "post_id": 33529779, "comment_id": 54842023, "body": "At @posts.each do |posts|"}, {"owner": {"reputation": 85078, "user_id": 31610, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/20571f32acd27d2cf5f1b1f42ea1a75b?s=128&d=identicon&r=PG", "display_name": "Geo", "link": "https://stackoverflow.com/users/31610/geo"}, "reply_to_user": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446665403, "post_id": 33529779, "comment_id": 54842294, "body": "Index should have <code>posts</code> and not <code>post</code>"}, {"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446665975, "post_id": 33529779, "comment_id": 54842608, "body": "But their all &#39;@posts&#39;, am i missing something ? eveything on controller is &#39;@posts&#39; now"}, {"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446666484, "post_id": 33529779, "comment_id": 54842911, "body": "&#39;def index   \t@posts = Post.new   end&#39;"}, {"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446666513, "post_id": 33529779, "comment_id": 54842925, "body": "&#39;&lt;h1&gt;This is the index page&lt;/h1&gt; &lt;p&gt;I need to get the new action running!&lt;/p&gt; &lt;%= link_to &#39;My Blog&#39;, controller: &#39;posts&#39; %&gt; &lt;/br&gt; &lt;%= link_to &#39;New post&#39;, new_post_path %&gt;  &lt;h1&gt;Listing posts&lt;/h1&gt;   &lt;table&gt;   &lt;tr&gt;     &lt;th&gt;Title&lt;/th&gt;     &lt;th&gt;Text&lt;/th&gt;   &lt;/tr&gt;     &lt;% @posts.each do |posts| %&gt;     &lt;tr&gt;       &lt;td&gt;&lt;%= posts.title %&gt;&lt;/td&gt;       &lt;td&gt;&lt;%= posts.description %&gt;&lt;/td&gt;       &lt;td&gt;&lt;%= link_to &#39;Show&#39;, posts_path(posts) %&gt;&lt;/td&gt;       &lt;td&gt;&lt;%= link_to &#39;Edit&#39;, edit_posts_path(posts) %&gt;&lt;/td&gt;     &lt;/tr&gt;   &lt;% end %&gt; &lt;/table&gt;&#39;"}, {"owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "edited": false, "score": 0, "creation_date": 1446672439, "post_id": 33529779, "comment_id": 54846274, "body": "please help? im not being ablt to find the cause"}], "tags": [], "owner": {"reputation": 85078, "user_id": 31610, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/20571f32acd27d2cf5f1b1f42ea1a75b?s=128&d=identicon&r=PG", "display_name": "Geo", "link": "https://stackoverflow.com/users/31610/geo"}, "is_accepted": false, "score": 2, "last_activity_date": 1446663692, "last_edit_date": 1446663692, "creation_date": 1446663077, "answer_id": 33529779, "question_id": 33529727, "link": "https://stackoverflow.com/questions/33529727/getting-undefined-method-errors-for-nilnilclass-on-the-view-new/33529779#33529779", "title": "Getting undefined method `errors&#39; for nil:NilClass on the view new", "body": "<p>You have the following:</p>\n\n<pre><code>&lt;% if @post.errors.any? %&gt;\n</code></pre>\n\n<p>but in your controller, you have:</p>\n\n<pre><code> def new\n    @posts = Post.new\n  end\n\n def create\n    @posts = Post.new(posts_params)\n    ...\n end\n</code></pre>\n\n<p>Rename <code>@posts</code> to <code>@post</code> in your controller.</p>\n\n<p>So, the code has to look like this:</p>\n\n<pre><code>def new\n    @post = Post.new\n  end\n\n def create\n    @post = Post.new(posts_params)\n    ...\n end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 3099251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eff16bf0603f536486ed3804c7c40c63?s=128&d=identicon&r=PG", "display_name": "chanakya devraj", "link": "https://stackoverflow.com/users/3099251/chanakya-devraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1446663726, "creation_date": 1446663726, "answer_id": 33529977, "question_id": 33529727, "link": "https://stackoverflow.com/questions/33529727/getting-undefined-method-errors-for-nilnilclass-on-the-view-new/33529977#33529977", "title": "Getting undefined method `errors&#39; for nil:NilClass on the view new", "body": "<p>I would like to suggest, just one thing :- </p>\n\n<ul>\n<li>Since you are new to ruby please just try the convetional way to get the validation errors and displaying it as per the validations first, then you can go on experimenting the cause and other ways to get to the root cause.</li>\n</ul>\n\n<p>you can try like :- <br> </p>\n\n<pre><code>In controller\n\ndef new\n @post = Post.new\nend \n</code></pre>\n\n<p>and In your View</p>\n\n<pre><code>&lt;%= form_for :post, url: posts_path do |f| %&gt;\n &lt;% if @post.errors.any? %&gt;\n ---you code here --\n &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><code>new</code> action can be used to validate the params just before saving into the database hence calling <code>some_obj = obj.new(params)</code> and then <code>som_obj.errors</code> would definetly have the errors listed if valid params are not provided</p>\n"}, {"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 0, "last_activity_date": 1446712701, "creation_date": 1446712701, "answer_id": 33539882, "question_id": 33529727, "link": "https://stackoverflow.com/questions/33529727/getting-undefined-method-errors-for-nilnilclass-on-the-view-new/33539882#33539882", "title": "Getting undefined method `errors&#39; for nil:NilClass on the view new", "body": "<p>The error is that <strong>you've not declared <code>@post</code></strong></p>\n\n<p>--</p>\n\n<p>You need to do the following:</p>\n\n<pre><code>#app/controllers/posts_controller.rb\nclass PostsController &lt; ApplicationController\n   def new\n       @post = Post.new\n   end\nend\n\n#app/views/posts/new.html.erb\n&lt;%= form_for @post do |f| %&gt;\n   &lt;% if @post.errors.any? %&gt;\n      ...\n   &lt;% end %&gt;\n   &lt;%= f.submit %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>This will set the correct <code>@post</code> variable, which should give you the ability to call the <code>.errors</code> method on it.</p>\n\n<hr>\n\n<p>As a sidenote,</p>\n\n<blockquote>\n  <p>undefined method `errors' for nil:NilClass</p>\n</blockquote>\n\n<p>This error is often confused with new developers.</p>\n\n<p>They think that their problem is <code>errors</code> method is missing; the <em>real</em> issue is that <strong>your variable is undeclared</strong></p>\n\n<p>Since <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow\">Ruby is object orientated</a>, it treats each variable as an <em>object</em>. Unlike other languages - which would raise exception based on the variable being undeclared, Ruby populates the <code>nil:NilClass</code> object.</p>\n\n<p>Thus, whenever you see the above error, always remember that it means you've called a non-declared variable.</p>\n"}], "owner": {"reputation": 33, "user_id": 5526147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05624ccbd995d045159bb30900f74dc5?s=128&d=identicon&r=PG&f=1", "display_name": "GaoVN", "link": "https://stackoverflow.com/users/5526147/gaovn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1446712701, "creation_date": 1446662944, "question_id": 33529727, "link": "https://stackoverflow.com/questions/33529727/getting-undefined-method-errors-for-nilnilclass-on-the-view-new", "title": "Getting undefined method `errors&#39; for nil:NilClass on the view new", "body": "<p>I'm new to ruby and i'm learning, so i was following this tutorial \n<a href=\"http://guides.rubyonrails.org/getting_started.html\" rel=\"nofollow\">http://guides.rubyonrails.org/getting_started.html</a>\nbut when i try to add the error message i get undefined method `errors' for nil:NilClass\nat this piece of code:</p>\n\n<pre><code>&lt;h1&gt;New Article&lt;/h1&gt;\n     &lt;%= form_for :posts, url: posts_path do |f| %&gt;\n      &lt;% if @post.errors.any? %&gt; // &lt;-- **HERE**\n          &lt;div id=\"error_explanation\"&gt;\n            &lt;h2&gt;\n              &lt;%= pluralize(@post.errors.count, \"error\") %&gt; prohibited\n</code></pre>\n\n<p>This is my controller:</p>\n\n<pre><code>class PostsController &lt; ApplicationController\n  def index\n    @posts = Post.all\n  end\n\n  def new\n    @posts = Post.all\n  end\n\n  def create\n      @posts = Post.new(posts_params)\n    if @posts.save\n        redirect_to @posts\n    else\n        render 'new'\n    end\n  end\n\n  def show\n    @posts = Post.find(params[:id])\n  end\n\n  private\n  def posts_params\n    params.require(:posts).permit(:title, :description)\n  end  \nend\n</code></pre>\n\n<p>This is my view that is giving me an error in full:</p>\n\n<pre><code>&lt;h1&gt;New Article&lt;/h1&gt;\n&lt;%= form_for :posts, url: posts_path do |f| %&gt;\n&lt;% if @post.errors.any? %&gt;\n    &lt;div id=\"error_explanation\"&gt;\n      &lt;h2&gt;\n        &lt;%= pluralize(@post.errors.count, \"error\") %&gt; prohibited\n        this post from being saved:\n      &lt;/h2&gt;\n      &lt;ul&gt;\n        &lt;% @post.errors.full_messages.each do |msg| %&gt;\n          &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;\n        &lt;% end %&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;% end %&gt;\n  &lt;p&gt;\n    &lt;%= f.label :title %&gt;&lt;br&gt;\n    &lt;%= f.text_field :title %&gt;\n  &lt;/p&gt;\n\n  &lt;p&gt;\n    &lt;%= f.label :description %&gt;&lt;br&gt;\n    &lt;%= f.text_area :description %&gt;\n  &lt;/p&gt;\n\n  &lt;p&gt;\n    &lt;%= f.submit %&gt;\n  &lt;/p&gt;\n&lt;% end %&gt;\n&lt;%= link_to 'Back', posts_path %&gt;\n\nMy model: \n\n\n\n class Post &lt; ActiveRecord::Base\n\n        validates :title, \n                :presence =&gt; {:message =&gt; \"Title can't be blank.\" },\n                :uniqueness =&gt; {:message =&gt; \"Title already exists.\"},\n                 length: { minimum: 5 }\n\n        validates :description, \n        :presence =&gt;{:message =&gt; \"Description can't be blank.\" }\n    end\n</code></pre>\n\n<p>Can someone help me?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "heroku", "version-control"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4412054"}, "edited": false, "score": 0, "creation_date": 1446710618, "post_id": 33530444, "comment_id": 54859363, "body": "But with this I can&#39;t write text in file, e.g. application.html.erb. I want to write definitely. Not use vars. How to?"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "edited": false, "score": 0, "creation_date": 1446720335, "post_id": 33530444, "comment_id": 54865129, "body": "Sorry but could you explain <i>why</i> you want to do that ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4412054"}, "edited": false, "score": 0, "creation_date": 1446720468, "post_id": 33530444, "comment_id": 54865231, "body": "I want to write directly in my &quot;application.html.erb&quot; file. I don&#39;t want to use vars in any way. How to?"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "edited": false, "score": 0, "creation_date": 1446722275, "post_id": 33530444, "comment_id": 54866319, "body": "Can you please explain <b>why</b> you want to write the file and not use variables ? What are you trying to achieve"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4412054"}, "edited": false, "score": 0, "creation_date": 1446723059, "post_id": 33530444, "comment_id": 54866747, "body": "I don&#39;t want to use a var because I want my app as fast as possible!"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "edited": false, "score": 0, "creation_date": 1446723792, "post_id": 33530444, "comment_id": 54867163, "body": "This is highly negligible. There&#39;s no performance impact to be considered here."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4412054"}, "edited": false, "score": 0, "creation_date": 1446725091, "post_id": 33530444, "comment_id": 54868016, "body": "Is not better if I write it in the file?"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "edited": false, "score": 0, "creation_date": 1446725817, "post_id": 33530444, "comment_id": 54868493, "body": "you should let <code>git</code> handle the versioning job. The controller was just an example if you had a specific endpoint where you wanted to show the version. If you want to display it everywhere it might be worth initialising a constant when rails starts up, ie. in a initialiser file (environment.rb)"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "edited": false, "score": 0, "creation_date": 1446725887, "post_id": 33530444, "comment_id": 54868541, "body": "for example <code>MyApplication::APP_VERSION =`git describe --tags`</code>"}], "tags": [], "owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "is_accepted": false, "score": 0, "last_activity_date": 1446665504, "creation_date": 1446665504, "answer_id": 33530444, "question_id": 33529440, "link": "https://stackoverflow.com/questions/33529440/automatic-version-in-datetime-format-on-every-git-push-on-heroku-or-elsewhere/33530444#33530444", "title": "Automatic version in DATETIME format on every &quot;git push&quot; on Heroku or elsewhere", "body": "<p>Why don't you simply use git ? </p>\n\n<p>You can get the date of your last commit by running <code>git show -s --format=%ci</code></p>\n\n<p>If you want it to be displayed somewhere in your app, you could run the git commands on the server side :</p>\n\n<pre><code># add this action in the controller of your choice, \n# then you can access those variables in your view\ndef version\n  @version_datetime = `git show -s --format=%ci`\n  @version_tag = `git describe --tags`\nend\n</code></pre>\n\n<p>That's just an example, but it should hopefully help you to get started. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4412054"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446665504, "creation_date": 1446662048, "question_id": 33529440, "link": "https://stackoverflow.com/questions/33529440/automatic-version-in-datetime-format-on-every-git-push-on-heroku-or-elsewhere", "title": "Automatic version in DATETIME format on every &quot;git push&quot; on Heroku or elsewhere", "body": "<p>Every time I change my project (whether in PHP, Ruby, Erlang, Javascript) I need that before executing commands routine:</p>\n\n<p><code>git add.</code> <code>git commit -am \"blablabla\"</code> and <code>git push heroku master</code></p>\n\n<p>(or another provider instead of Heroku) I automatically add a version of the project based on the date and time in a project file (for example: layout.hbs or application.html.erb).</p>\n\n<p>I can use also a macro in Sublime Text or something else in Terminal, just I do not know what to use.</p>\n\n<p>I don't want to use a ENV_VAR because I want that date and time WRITTEN in the file.</p>\n\n<p>I'd also like to hear from you if you have solved in other ways, even using environment variables.</p>\n"}, {"tags": ["ruby", "ssl", "bundler"], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 5526026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca8c79930023909ca26e16288b8c946?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5526026/madmax"}, "edited": false, "score": 0, "creation_date": 1446665476, "post_id": 33530402, "comment_id": 54842328, "body": "I would have preferred to make this a comment rather than an answer as there is not enough information given in the question to establish what is likely the problem beyond that it has to do with https.  However, SO does not permit me to comment.  Thus the answer.  If you do not have curl on your windows box then you can get it here: <a href=\"http://curl.haxx.se/download.html\" rel=\"nofollow noreferrer\">curl.haxx.se/download.html</a> [active as of 2015-11-04]"}, {"owner": {"reputation": 810, "user_id": 370611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5d487d6cd2acd4046500efbf7021139?s=128&d=identicon&r=PG", "display_name": "JohnL4", "link": "https://stackoverflow.com/users/370611/johnl4"}, "edited": false, "score": 0, "creation_date": 1446669914, "post_id": 33530402, "comment_id": 54844863, "body": "Interesting. PowerShell (3.0) has a built-in curl alias for Invoke-WebRequest, which, when run, gives me the same stuff you posted. Running the curl.exe (plain 64-bit, w/SSL) you pointed to gives me a cert failure, &quot;unable to get local issuer certificate&quot;. When I specify <code>--cacert .\\AddTrustExternalCARoot-2048.pem</code> it works (and gives results similar to yours), but if I specify --capath $(pwd), it fails again."}, {"owner": {"reputation": 26, "user_id": 5526026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca8c79930023909ca26e16288b8c946?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5526026/madmax"}, "reply_to_user": {"reputation": 810, "user_id": 370611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5d487d6cd2acd4046500efbf7021139?s=128&d=identicon&r=PG", "display_name": "JohnL4", "link": "https://stackoverflow.com/users/370611/johnl4"}, "edited": false, "score": 0, "creation_date": 1446769602, "post_id": 33530402, "comment_id": 54894267, "body": "Blog posts about this situation mention the possibility of fixing this problem by blowing away the gem sources cache, downloading the latest version of rubygems for windows and reinstalling.  Have you tried that?"}], "tags": [], "owner": {"reputation": 26, "user_id": 5526026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca8c79930023909ca26e16288b8c946?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5526026/madmax"}, "is_accepted": false, "score": 0, "last_activity_date": 1446665334, "creation_date": 1446665334, "answer_id": 33530402, "question_id": 33528963, "link": "https://stackoverflow.com/questions/33528963/rubygems-2-5-0-on-windows-7-ssl-connect-certificate-verify-failed/33530402#33530402", "title": "RubyGems 2.5.0 on Windows 7 SSL_connect certificate verify failed", "body": "<p>The possibilities are that you are getting a redirect or that you do have some sort of SSL incompatibility with rubygems.org.  When I look at these two gems I see this:</p>\n\n<pre><code>curl -I https://rubygems.org/gems/jekyll-feed\nHTTP/1.1 200 OK\nServer: nginx\nDate: Wed, 04 Nov 2015 19:23:08 GMT\nContent-Type: text/html; charset=utf-8\nConnection: keep-alive\nStatus: 200 OK\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\nX-Content-Type-Options: nosniff\nETag: W/\"1585dca404914b49565650d7832c1c3f\"\nCache-Control: max-age=0, private, must-revalidate\nSet-Cookie: _rubygems_session=UmJMc1NUeUoreGlUMHVxSWI1QVVJNXhVa1k2QXhqN1lEL09CTENFd2J4SUQ1RU5rdDZQU0h4eXhUVDcyeWoyUkdmQmpYRDFxY2tiUXI0YzFwMjBZRjNEWlNVaEZNTXJjcGJ2ekFkL0FRU1JNSkZxRnFVYlJJRUNxSlRsWUxRbW5rL3hIOE1zWWM0dUJqNDRKTTA2MFlnPT0tLUg1ODFvRFhRaDRqcXZjNjM4ZGg3S3c9PQ%3D%3D--61d9898027580b62e2c8b6f9a93bb719d5839dfc; path=/; secure; HttpOnly\nX-Request-Id: fedceeef-2539-4942-838e-b8584e399109\nX-Runtime: 0.036895\nX-UA-Compatible: IE=Edge,chrome=1\n\n\ncurl -I https://rubygems.org/gems/github-pages\nHTTP/1.1 200 OK\nServer: nginx\nDate: Wed, 04 Nov 2015 19:23:39 GMT\nContent-Type: text/html; charset=utf-8\nConnection: keep-alive\nStatus: 200 OK\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\nX-Content-Type-Options: nosniff\nETag: W/\"f3e79d7752d3eac43aee4f6786cc01ec\"\nCache-Control: max-age=0, private, must-revalidate\nSet-Cookie: _rubygems_session=V0dhK0U1dWVyTDhZenVyUjUyUFlXbnc4clkzN2FCQk1wdlZHMkNWQWNPd1Z0REhWSmN0RmdwcDRtL0ZaQ2dEUGkwZUQrZEZBdHQ2VjY0UXN4Yk1idzlSQVRHSDgrc0xQZk5JLzJFV3N3c1BxcXdOOENXY2l1QWJsRUVzckdUTUw5NDQ0TU5JYWlRbmZEWkJPeEtzYXpRPT0tLXhhS1N2ZkJoYzZ1MTRZaTF1Nm45aFE9PQ%3D%3D--e912ea64a1b5c2ecf95524dddb704191b176f905; path=/; secure; HttpOnly\nX-Request-Id: 9b8f3227-63cf-4c6b-9d63-aeb1b019a945\nX-Runtime: 0.042007\nX-UA-Compatible: IE=Edge,chrome=1\n</code></pre>\n\n<p>what do you see using curl from the command line on the machine that you are trying to update?</p>\n"}, {"tags": [], "owner": {"reputation": 810, "user_id": 370611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5d487d6cd2acd4046500efbf7021139?s=128&d=identicon&r=PG", "display_name": "JohnL4", "link": "https://stackoverflow.com/users/370611/johnl4"}, "is_accepted": false, "score": 0, "last_activity_date": 1447014131, "creation_date": 1447014131, "answer_id": 33598605, "question_id": 33528963, "link": "https://stackoverflow.com/questions/33528963/rubygems-2-5-0-on-windows-7-ssl-connect-certificate-verify-failed/33598605#33598605", "title": "RubyGems 2.5.0 on Windows 7 SSL_connect certificate verify failed", "body": "<p>Madmax, thanks for your help.  I wound up blowing away my entire Ruby install and the .gem directory in my home directory (which I wouldn't have known to look for, so thanks for that) and starting over (reinstalling ruby, rubygems, ruby dev kit, jekyll, etc.)  Since all I wanted was to get Jekyll working (with the jekyll-feed gem)....</p>\n"}], "owner": {"reputation": 810, "user_id": 370611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5d487d6cd2acd4046500efbf7021139?s=128&d=identicon&r=PG", "display_name": "JohnL4", "link": "https://stackoverflow.com/users/370611/johnl4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 515, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447014131, "creation_date": 1446660330, "question_id": 33528963, "link": "https://stackoverflow.com/questions/33528963/rubygems-2-5-0-on-windows-7-ssl-connect-certificate-verify-failed", "title": "RubyGems 2.5.0 on Windows 7 SSL_connect certificate verify failed", "body": "<p>Well, I ran <code>gem update --sytem</code> and now I appear to be hosed.</p>\n\n<p>I'm trying to run a local Jekyll blog (to check my stuff I push it to github).</p>\n\n<p><code>jekyll serve</code> gives me:</p>\n\n<pre><code>c:/Ruby22-x64/lib/ruby/2.2.0/net/http.rb:923:in `connect':     (Bundler::Dsl::DSLError)\n[!] There was an error parsing `Gemfile`: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certific\nate verify failed. Bundler cannot continue.\n\n #  from C:/Users/j6l/Documents/GitHubPages/johnl4.github.io/Gemfile:5\n #  -------------------------------------------\n #  gem 'github-pages', versions['github-pages']\n &gt;  gem 'jekyll-feed'\n #  source 'https://rubygems.org'\n #  -------------------------------------------\n        from c:/Ruby22-x64/lib/ruby/2.2.0/net/http.rb:923:in `block in connect'\n        from c:/Ruby22-x64/lib/ruby/2.2.0/timeout.rb:74:in `timeout'\n        from c:/Ruby22-x64/lib/ruby/2.2.0/net/http.rb:923:in `connect'\n        from c:/Ruby22-x64/lib/ruby/2.2.0/net/http.rb:863:in `do_start'\n</code></pre>\n\n<p>and some more stacktrace entries, but I think that's enough.</p>\n\n<p><code>bundle update</code> does the same think.</p>\n\n<p>I am <em>not</em> a Ruby expert (nor a Jekyll one, for that matter), I just wanna get my blog out there.</p>\n\n<p>I've looked at Luis Lavena's post about this issue for older versions of RubyGems, and he doesn't mention 2.5.0, which is brand spankin' new (just my luck, eh?).  Anyway, the cert .pem file in my ssl certs directory exactly matches what people say to download, so I'm not sure that's the problem, unless I'm looking in the wrong directory or something.</p>\n\n<pre><code>PS C:\\Ruby22-x64\\lib\\ruby\\site_ruby\\2.2.0\\rubygems\\ssl_certs&gt; diff -ref $(get-content .\\AddTrustExternalCARoot-2048.pem) -dif $(get-content C:\\Users\\j6l\\Downloads\\AddTrustExternalCARoot-2048.pem)\nPS C:\\Ruby22-x64\\lib\\ruby\\site_ruby\\2.2.0\\rubygems\\ssl_certs&gt;\n\nPS C:\\Users\\j6l\\Documents\\GitHubPages\\johnl4.github.io&gt; gem update --system\nLatest version currently installed. Aborting.\nPS C:\\Users\\j6l\\Documents\\GitHubPages\\johnl4.github.io&gt; ruby --version\nruby 2.2.3p173 (2015-08-18 revision 51636) [x64-mingw32]\nPS C:\\Users\\j6l\\Documents\\GitHubPages\\johnl4.github.io&gt; gem --version\n2.5.0\nPS C:\\Users\\j6l\\Documents\\GitHubPages\\johnl4.github.io&gt; bundle --version\nBundler version 1.10.6\n</code></pre>\n\n<p>Now what?</p>\n\n<p>(Thanks. :) )</p>\n"}, {"tags": ["arrays", "ruby", "variables", "methods"], "answers": [{"comments": [{"owner": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "edited": false, "score": 0, "creation_date": 1446660217, "post_id": 33528876, "comment_id": 54839292, "body": "No! Do not use #chomp! because <code>&#39;foo&#39;.chomp! #=&gt; nil</code>."}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "reply_to_user": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "edited": false, "score": 0, "creation_date": 1446660388, "post_id": 33528876, "comment_id": 54839395, "body": "That&#39;s not the case here, gets includes a <code>&quot;\\n&quot;.</code>  This is the output: <code>&quot;foo\\n&quot;.chomp! =&gt; &quot;foo&quot;</code>"}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "reply_to_user": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "edited": false, "score": 0, "creation_date": 1446661112, "post_id": 33528876, "comment_id": 54839854, "body": "btw, don&#39;t you think it&#39;s poor form to downvote someone who is willing to volunteer time to answer a question AND provides a working answer?"}], "tags": [], "owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "is_accepted": false, "score": 0, "last_activity_date": 1446660043, "creation_date": 1446660043, "answer_id": 33528876, "question_id": 33528801, "link": "https://stackoverflow.com/questions/33528801/asking-if-a-variable-is-included-in-an-array-though-a-method-in-ruby/33528876#33528876", "title": "Asking if a variable is included in an array though a method in Ruby", "body": "<p>Simple fix, you simply need to change <code>gets</code> to <code>gets.chomp!</code>.  Otherwise, a trailing <code>\"\\n\"</code> is included in every answer and will never match what's in your array.</p>\n\n<pre><code>def revisar\n  var= gets.chomp!\n  a = ['Cat', 'Dog', 'Bird']\n\n  if a.include?(var)\n    puts 'yes'\n  else\n    puts 'no'\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25150, "user_id": 383888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kd57u.jpg?s=128&g=1", "display_name": "Mori", "link": "https://stackoverflow.com/users/383888/mori"}, "is_accepted": false, "score": 2, "last_activity_date": 1446660053, "creation_date": 1446660053, "answer_id": 33528880, "question_id": 33528801, "link": "https://stackoverflow.com/questions/33528801/asking-if-a-variable-is-included-in-an-array-though-a-method-in-ruby/33528880#33528880", "title": "Asking if a variable is included in an array though a method in Ruby", "body": "<p>The <code>gets</code> method frequently puts a newline (<code>\"\\n\"</code>) at the end of the string. Try this to remove any trailing newline that may be present:</p>\n\n<pre><code>var = gets.chomp\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5525992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a996b5e5419b13add3b24c8d61fa5578?s=128&d=identicon&r=PG&f=1", "display_name": "Juanro Alvarado", "link": "https://stackoverflow.com/users/5525992/juanro-alvarado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446660053, "creation_date": 1446659782, "question_id": 33528801, "link": "https://stackoverflow.com/questions/33528801/asking-if-a-variable-is-included-in-an-array-though-a-method-in-ruby", "title": "Asking if a variable is included in an array though a method in Ruby", "body": "<p>My current code looks a bit like this, but whenever i input one of the variables included in the array I always get a 'no'</p>\n\n<pre><code>    def revisar\n      var= gets\n      a = ['Cat', 'Dog', 'Bird']\n\n      if a.include?(var)\n        puts 'yes'\n      else\n        puts 'no'\n      end\n    end\n</code></pre>\n"}, {"tags": ["html", "ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1446659674, "post_id": 33528581, "comment_id": 54838913, "body": "The <a href=\"http://guides.rubyonrails.org/active_record_basics.html\" rel=\"nofollow noreferrer\">Active Record Basics</a> Rails Guide answers all of these questions and more."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 5526026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca8c79930023909ca26e16288b8c946?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5526026/madmax"}, "is_accepted": true, "score": 0, "last_activity_date": 1446666266, "last_edit_date": 1446666266, "creation_date": 1446660359, "answer_id": 33528968, "question_id": 33528581, "link": "https://stackoverflow.com/questions/33528581/ruby-models-and-database-tables/33528968#33528968", "title": "Ruby Models and Database Tables", "body": "<p>SQL tables are the persistence layer for your models.  Models are conceptual objects whose attributes can be manipulated in programs.  They are programming code wrappers around the persistence store where the underlying tables exist and the attributes are kept as column data stored in rows in those tables.  In memory a row becomes model instance. </p>\n\n<p>The tables themselves are typically stores in a file system on some sort of durable and nonvolatile storage. These physical objects are managed by the DBMS.  The model object negotiates the data movement between your program and the DBMS. The term Object Relational Mapping (ORM) was coined to describe this. </p>\n\n<p>So your question displays a certain lack of experience with these things. I suggest that you take a look at some general books on the subject of ORM and Object Oriented Programming. A search at Amazon will provide you with some likely candidates.  My reading list is a bit dated to provide you with anything more specific.</p>\n"}], "owner": {"reputation": 281, "user_id": 4804378, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-29rqhky-zTE/AAAAAAAAAAI/AAAAAAAAACo/3TEvyDdTFQ4/photo.jpg?sz=128", "display_name": "Carlos Pereira", "link": "https://stackoverflow.com/users/4804378/carlos-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 33528968, "answer_count": 1, "score": 0, "last_activity_date": 1446666266, "creation_date": 1446659084, "question_id": 33528581, "link": "https://stackoverflow.com/questions/33528581/ruby-models-and-database-tables", "title": "Ruby Models and Database Tables", "body": "<p>I've been going through Ruby on Rails and I found that you can create models and then insert create instances of those models, getting a Table of objects. So, how does SQL tables fit into that? Do we need them or are Models replacing them?</p>\n"}, {"tags": ["sql", "ruby-on-rails", "ruby", "postgresql"], "comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 1, "creation_date": 1446658729, "post_id": 33528370, "comment_id": 54838270, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/15885335/rails-has-many-through-pgerror-error-column-reference-id-is-ambiguous-err\">Rails has_many :through PG::Error: ERROR: column reference &quot;id&quot; is ambiguous error</a>"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1446658745, "post_id": 33528370, "comment_id": 54838283, "body": "I know isnt exact but maybe that help"}, {"owner": {"reputation": 955, "user_id": 3739453, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ad500b31d2ce042c4f2c5b6e361a129b?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Morano", "link": "https://stackoverflow.com/users/3739453/joe-morano"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1446659777, "post_id": 33528370, "comment_id": 54838998, "body": "@JuanCarlosOropeza I tried that solution but it didn&#39;t work."}, {"owner": {"reputation": 9737, "user_id": 2422778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUihh.jpg?s=128&g=1", "display_name": "Mike Szyndel", "link": "https://stackoverflow.com/users/2422778/mike-szyndel"}, "edited": false, "score": 0, "creation_date": 1446660931, "post_id": 33528370, "comment_id": 54839739, "body": "I would suggest that you first get all the users (ids) of <code>@playlist</code> with <code>@playlist.user_ids</code> and then do something like <code>Playlist.joins(:playlist_users).where(user_id: @playlist.user_ids).group(:playlist_id).count(:playlist_id)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "is_accepted": true, "score": 7, "last_activity_date": 1446661093, "creation_date": 1446661093, "answer_id": 33529170, "question_id": 33528370, "link": "https://stackoverflow.com/questions/33528370/ambiguous-id-column-error-rails-postgresql/33529170#33529170", "title": "Ambiguous &#39;id&#39; column error - Rails/Postgresql", "body": "<p>The problem is with your grouping. Which <code>id</code> do you want to group by? Since you have joined two tables, each with an <code>id</code>, postgres does not know which one to pick.</p>\n\n<p>You could try changing <code>group(:id)</code> to <code>group('playlists.id')</code> or <code>group('users.id'</code>). Whichever one you want the grouping to be done on.</p>\n"}], "owner": {"reputation": 955, "user_id": 3739453, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ad500b31d2ce042c4f2c5b6e361a129b?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Morano", "link": "https://stackoverflow.com/users/3739453/joe-morano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2474, "favorite_count": 0, "accepted_answer_id": 33529170, "answer_count": 1, "score": 0, "last_activity_date": 1446661093, "creation_date": 1446658440, "last_edit_date": 1495541349, "question_id": 33528370, "link": "https://stackoverflow.com/questions/33528370/ambiguous-id-column-error-rails-postgresql", "title": "Ambiguous &#39;id&#39; column error - Rails/Postgresql", "body": "<p><strong>Not a dupe. I added why at the bottom of the question.</strong></p>\n\n<p>I have two models, <code>Playlist</code> and <code>User</code>, which both have_many of and belong_to each other through a third table <code>PlaylistUser</code>.</p>\n\n<p>For a certain Playlist <code>@playlist</code>, I want to print a list of all other Playlists that share Users with <code>@playlist</code>. Ideally, this list would be ordered by how many Users they share.</p>\n\n<p>This query is meant to do that, but it results in an error:</p>\n\n<pre><code>Playlist.joins(:users).where.not(id: @playlist.id).where(users: {id: @playlist.user_ids}).group(:id).order('count(*) desc')\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>class Playlist &lt; ActiveRecord::Base\n  has_many :playlist_users\n  has_many :users, :through =&gt; :playlist_users\nend\n\nclass PlaylistUser &lt; ActiveRecord::Base\n  belongs_to :playlist\n  belongs_to :user\nend\n\nclass User &lt; ActiveRecord::Base\n  has_many :playlist_users\n  has_many :playlists, :through =&gt; :playlist_users\nend\n</code></pre>\n\n<p>I think the problem is that Rails doesn't know which <code>:id</code> column I'm referring to.</p>\n\n<p>How can I resolve this?</p>\n\n<p>Here's the error I get when I run the query in the console:</p>\n\n<pre><code>&gt; @playlist = Playlist.first\n&gt; Playlist.joins(:users).where.not(id: @playlist.id).where(users: {id: @playlist.user_ids}).group(:id).order('count(*) desc')\n\n(415.0ms)  SELECT \"users\".id FROM \"users\" INNER JOIN \"playlist_users\" ON \"users\".\"id\" = \"playlist_users\".\"user_id\" WHERE \"playlist_users\".\"playlist_id\" = $1  [[\"playlist_id\", 1]]\nPlaylist Load (74.2ms)  SELECT \"playlists\".* FROM \"playlists\" INNER JOIN \"playlist_users\" ON \"playlist_users\".\"playlist_id\" = \"playlists\".\"id\" INNER JOIN \"users\" ON \"users\".\"id\" = \"playlist_users\".\"user_id\" WHERE (\"playlists\".\"id\" != 1) AND \"users\".\"id\" IN (15, 73, 77, 128, 76, 93, 119, 94, 112, 120, 579, 567, 568, 569, 639, 640, 641, 642, 643, 609, 603) GROUP BY id ORDER BY count(*) desc\nPG::AmbiguousColumn: ERROR:  column reference \"id\" is ambiguous\nLINE 1: ...3, 609, 603) GROUP BY id  ORDER ...\n                                                         ^\n: SELECT \"playlists\".* FROM \"playlists\" INNER JOIN \"playlist_users\" ON \"playlist_users\".\"playlist_id\" = \"playlists\".\"id\" INNER JOIN \"users\" ON \"users\".\"id\" = \"playlist_users\".\"user_id\" WHERE (\"playlists\".\"id\" != 1) AND \"users\".\"id\" IN (15, 73, 77, 128, 76, 93, 119, 94, 112, 120, 579, 567, 568, 569, 639, 640, 641, 642, 643, 609, 603) GROUP BY id  ORDER BY count(*) desc\nActiveRecord::StatementInvalid: PG::AmbiguousColumn: ERROR:  column reference \"id\" is ambiguous\nLINE 1: ...3, 609, 603) GROUP BY id  ORDER ...\n                                                         ^\n: SELECT \"playlists\".* FROM \"playlists\" INNER JOIN \"playlist_users\" ON \"playlist_users\".\"playlist_id\" = \"playlists\".\"id\" INNER JOIN \"users\" ON \"users\".\"id\" = \"playlist_users\".\"user_id\" WHERE (\"playlists\".\"id\" != 1) AND \"users\".\"id\" IN (15, 73, 77, 128, 76, 93, 119, 94, 112, 120, 579, 567, 568, 569, 639, 640, 641, 642, 643, 609, 603) GROUP BY id  ORDER BY count(*) desc\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/postgresql_adapter.rb:798:in `async_exec'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/postgresql_adapter.rb:798:in `exec_no_cache'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/postgresql/database_statements.rb:138:in `block in exec_query'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/abstract_adapter.rb:442:in `block in log'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activesupport-4.0.10/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/abstract_adapter.rb:437:in `log'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/postgresql/database_statements.rb:137:in `exec_query'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/postgresql_adapter.rb:915:in `select'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/abstract/database_statements.rb:25:in `select_all'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:64:in `select_all'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/querying.rb:36:in `find_by_sql'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/relation.rb:587:in `exec_queries'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/relation.rb:471:in `load'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/relation.rb:220:in `to_a'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/activerecord-4.0.10/lib/active_record/relation.rb:575:in `inspect'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/railties-4.0.10/lib/rails/commands/console.rb:90:in `start'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/railties-4.0.10/lib/rails/commands/console.rb:9:in `start'\nfrom /home/user/.rvm/gems/ruby-2.0.0-p643@railstutorial_rails_4_0/gems/railties-4.0.10/lib/rails/commands.rb:62:in `&lt;top (required)&gt;'\nfrom bin/rails:4:in `require'\nfrom bin/rails:4:in `&lt;main&gt;'2.0.0-p643 :008 &gt; \n</code></pre>\n\n<hr>\n\n<h2><strong>UPDATE</strong></h2>\n\n<p>I tried the answer to <a href=\"https://stackoverflow.com/questions/15885335/rails-has-many-through-pgerror-error-column-reference-id-is-ambiguous-err\">this question</a>. I updated my model.rb files like so:</p>\n\n<pre><code>class Playlist &lt; ActiveRecord::Base\n  default_scope { order('playlists.id ASC') }\n  has_many :playlist_users\n  has_many :users, :through =&gt; :playlist_users\nend\n\nclass PlaylistUser &lt; ActiveRecord::Base\n  default_scope { order('playlist_users.id ASC') }\n  belongs_to :playlist\n  belongs_to :user\nend\n\nclass User &lt; ActiveRecord::Base\n  default_scope { order('users.id ASC') }\n  has_many :playlist_users\n  has_many :playlists, :through =&gt; :playlist_users\nend\n</code></pre>\n\n<p>But I still get the same error.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "checkbox", "multipleselection"], "comments": [{"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "edited": false, "score": 3, "creation_date": 1446658429, "post_id": 33527955, "comment_id": 54838061, "body": "I salute your passion brother. You are doing Rails development on a Windows machine."}], "answers": [{"tags": [], "owner": {"reputation": 5251, "user_id": 903842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cfe7b10dbda86c6cb930c1ae40abfc2c?s=128&d=identicon&r=PG", "display_name": "Nimir", "link": "https://stackoverflow.com/users/903842/nimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1446661137, "creation_date": 1446661137, "answer_id": 33529182, "question_id": 33527955, "link": "https://stackoverflow.com/questions/33527955/having-trouble-understanding-multiple-true-in-a-checkbox/33529182#33529182", "title": "having trouble understanding :multiple =&gt; true in a checkbox", "body": "<blockquote>\n  <p>Why are all of those \"-\" added before the output only if multiple\n  selection is made?</p>\n</blockquote>\n\n<p>From <a href=\"http://apidock.com/rails/v4.2.1/ActionView/Helpers/FormHelper/check_box\" rel=\"nofollow\">the docs (read the Gotcha)</a> when multiple is set to true all selections will be stored in an array of product_lines but un-selected check_boxes will also be reserve as an empty strings in the sent pararms so for the result you are seeing product_lines would be something like:</p>\n\n<pre><code>product_lines = [\"\", \"\", \"\", \"A9\", \"A7\"]\n</code></pre>\n\n<blockquote>\n  <p>Can I loop through an array of :product_line to get what im looking\n  for instead?</p>\n</blockquote>\n\n<p>Well, actually this takes us right to the problem in using <code>multiple: true</code> in your code.</p>\n\n<p>The process explained in (1) above is how the check_box_tag was designed, the problem you are seeing is in presentation probably in your ECN#show. Without reviewing code there i am only guessing but usually it's something like:</p>\n\n<pre><code>&lt;%= @ecn.product_lines.join('-') %&gt;\n</code></pre>\n\n<p>which should be</p>\n\n<pre><code>&lt;%= @ecn.product_lines.reject(&amp;:blank?).join(',') %&gt;\n</code></pre>\n\n<p>where: <code>reject(&amp;:blank?)</code> to get rid of empty strings then joining with commas as you need</p>\n\n<p><em>Hope this helps!</em></p>\n"}], "owner": {"reputation": 11, "user_id": 3002813, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000220399321/picture?type=large", "display_name": "JCM", "link": "https://stackoverflow.com/users/3002813/jcm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446661137, "creation_date": 1446657230, "last_edit_date": 1446658456, "question_id": 33527955, "link": "https://stackoverflow.com/questions/33527955/having-trouble-understanding-multiple-true-in-a-checkbox", "title": "having trouble understanding :multiple =&gt; true in a checkbox", "body": "<p>I am very new to Ruby on Rails, I have inherited control of a Ruby/Rails web based database(created by another) for generating and tracking engineering functions. I use Aptana IDE.</p>\n\n<p>My issue is that I am trying to use a form helper to select multiple values for our \"product lines\". I use 10 check boxes, and I get the correct output of one value if I don't use \":multiple => true\". </p>\n\n<p>See output image: </p>\n\n<p><a href=\"https://i.stack.imgur.com/6oR05.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oR05.png\" alt=\"no multiple select\"></a></p>\n\n<p>works as intended</p>\n\n<pre><code>&lt;%= f.check_box :product_line, {:class =&gt; \"field\"}, \"A9\", false %&gt; A9\n</code></pre>\n\n<p>(10 times with different values where \"A9\" is, so there are ten checkbox's total, image shows \"A7\" check box returned)</p>\n\n<p>By simply adding the :multiple => true, the output changes as seen in the image below:</p>\n\n<p>see output image: </p>\n\n<p><a href=\"https://i.stack.imgur.com/eQdcL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQdcL.png\" alt=\"multiple select\"></a></p>\n\n<p>returns too much</p>\n\n<pre><code>&lt;%= f.check_box :product_line, {:class =&gt; \"field\", :multiple =&gt; true}, \"A9\", false %&gt; A9\n</code></pre>\n\n<p>Why are all of those \"-\" added before the output only if the multiple selection is made? I want it to return only comma separated values of the checkbox, i.e. \" A9, A7\"</p>\n\n<pre><code>PRODUCT_LINES = [ \"A9\", \"A7\", \"AG\", \"AF\", \"S3\", \"Legacy\", \"K/Kpro\", \"EMW\", \"HD\", \"Non-Metallic\" ]\n</code></pre>\n\n<p>other ideas:\nCan I loop through an array of :product_line to get what im looking for instead?\nI was also playing with the multiple selection in a drop down menu but could never select a second option before the drop down returned and only selected my first selection.</p>\n"}, {"tags": ["ruby", "amazon-s3", "rmagick"], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 5333629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a097cba2b7b59a95d3e62d5e66cd27?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stevens", "link": "https://stackoverflow.com/users/5333629/daniel-stevens"}, "edited": false, "score": 1, "creation_date": 1448010006, "post_id": 33818312, "comment_id": 55410418, "body": "I suspect continually scaling an image like that can lead to quality issues. The in memory size check looks good though."}, {"owner": {"reputation": 730, "user_id": 360774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb74dee41a675aef16563002556c6c70?s=128&d=identicon&r=PG", "display_name": "TJ Singleton", "link": "https://stackoverflow.com/users/360774/tj-singleton"}, "reply_to_user": {"reputation": 691, "user_id": 5333629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a097cba2b7b59a95d3e62d5e66cd27?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stevens", "link": "https://stackoverflow.com/users/5333629/daniel-stevens"}, "edited": false, "score": 0, "creation_date": 1448028700, "post_id": 33818312, "comment_id": 55422313, "body": "Thanks! I meant to call that out. A feedback controller could improve the efficiency. Unfortunately, I don&#39;t think it&#39;s possible to predict the how much correction is needed. ImageMagick lowers the quality instead of dimensions with the <code>jpeg:extent</code> option. I still has to search for the right quality to produce the desired filesize. <a href=\"https://github.com/xushiwei/ImageMagick/blob/master/coders/jpeg.c#L1959\" rel=\"nofollow noreferrer\">Source</a>"}, {"owner": {"reputation": 5742, "user_id": 1906131, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40b31f70737db5a1ae964c9b9998c22e?s=128&d=identicon&r=PG", "display_name": "Rober", "link": "https://stackoverflow.com/users/1906131/rober"}, "edited": false, "score": 0, "creation_date": 1448029040, "post_id": 33818312, "comment_id": 55422531, "body": "Hi, I don&#180;t want to scale. The image is already properly scaled. I just need to compress."}, {"owner": {"reputation": 730, "user_id": 360774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb74dee41a675aef16563002556c6c70?s=128&d=identicon&r=PG", "display_name": "TJ Singleton", "link": "https://stackoverflow.com/users/360774/tj-singleton"}, "edited": false, "score": 0, "creation_date": 1448030770, "post_id": 33818312, "comment_id": 55423780, "body": "I added another example this time reducing the quality to affect the compression ratio."}], "tags": [], "owner": {"reputation": 730, "user_id": 360774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb74dee41a675aef16563002556c6c70?s=128&d=identicon&r=PG", "display_name": "TJ Singleton", "link": "https://stackoverflow.com/users/360774/tj-singleton"}, "is_accepted": true, "score": 2, "last_activity_date": 1448030744, "last_edit_date": 1448030744, "creation_date": 1447988733, "answer_id": 33818312, "question_id": 33527780, "link": "https://stackoverflow.com/questions/33527780/rmagick-compress-when-filesize-is-bigger-than-x-without-write-upload-to-s3/33818312#33818312", "title": "Rmagick compress when filesize is bigger than X without write (upload to S3)", "body": "<p>To get the current size you can use <a href=\"http://www.rubydoc.info/gems/rmagick/Magick/Image#to_blob-instance_method\" rel=\"nofollow\">Magick::Image#to_blob</a> which will return a binary string. You can get the string's size with <a href=\"http://ruby-doc.org/core-2.0.0/String.html#method-i-bytesize\" rel=\"nofollow\">String#bytesize</a>. You can scale it down with <a href=\"http://www.rubydoc.info/gems/rmagick/Magick/Image#scale!-instance_method\" rel=\"nofollow\">Magick::Image#scale!</a>.</p>\n\n<p>Here is an example that would resize it by 75% until it was under a 1,000,000 bytes.</p>\n\n<pre><code>while photo.to_blob.bytesize &gt; 1_000_000\n  photo.scale!(0.75)\nend\n</code></pre>\n\n<p>Here is an example that would reduce the quality instead</p>\n\n<pre><code>(0..100).step(5).reverse_each do |quality|\n  blob = photo.to_blob { self.quality = quality }\n\n  if blob.bytesize &lt;= 1_000_000\n    photo = Magick::Image.from_blob(blob).first\n    break\n  end  \nend \n</code></pre>\n"}], "owner": {"reputation": 5742, "user_id": 1906131, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40b31f70737db5a1ae964c9b9998c22e?s=128&d=identicon&r=PG", "display_name": "Rober", "link": "https://stackoverflow.com/users/1906131/rober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 33818312, "answer_count": 1, "score": 4, "last_activity_date": 1448030744, "creation_date": 1446656696, "last_edit_date": 1447989958, "question_id": 33527780, "link": "https://stackoverflow.com/questions/33527780/rmagick-compress-when-filesize-is-bigger-than-x-without-write-upload-to-s3", "title": "Rmagick compress when filesize is bigger than X without write (upload to S3)", "body": "<p>I would like to compress an image when its size is bigger than an amount (i.e. 1000000 - 1MB). I see compress is used with write method in Image object. I have the image in memory and I don\u00b4t want to write it in my server but in an Amazon S3. </p>\n\n<p>This code is working. It\u00b4s uploading the image to my s3 path, however I would like to include the filesize check and the compress:</p>\n\n<pre><code>photo = Magick::Image.read(mmkResourceImage.href).first           \ns3 = AWS::S3.new      \nbucket = s3.buckets[bucketName]            \nobj = bucket.objects[key]    \nobj.write(photo)\n</code></pre>\n\n<p>Please, let me know if there is another approach to accomplish this.</p>\n"}, {"tags": ["ruby", "mongodb", "sinatra", "mongomapper"], "answers": [{"comments": [{"owner": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "edited": false, "score": 0, "creation_date": 1446670003, "post_id": 33530995, "comment_id": 54844914, "body": "You can simplify this with <code>GroupMember.destroy_all(:dealer_user_id.in =&gt; rem_users, :group_id =&gt; g.id)</code> to get them all in one shot."}], "tags": [], "owner": {"reputation": 1, "user_id": 4455006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9l2MK.jpg?s=128&g=1", "display_name": "Fog Labs", "link": "https://stackoverflow.com/users/4455006/fog-labs"}, "is_accepted": false, "score": 0, "last_activity_date": 1446667426, "creation_date": 1446667426, "answer_id": 33530995, "question_id": 33527636, "link": "https://stackoverflow.com/questions/33527636/mongo-mapper-wont-destroy-document-during-loop/33530995#33530995", "title": "Mongo Mapper Won&#39;t Destroy Document During Loop", "body": "<p>Figured it out:</p>\n\n<p>So the Group was loaded at the top of the block:</p>\n\n<pre><code>g = Group.find(params[:group_id])\nredirect '/' unless g\n\n...\n\nrem_users.each do |du_id|\n  ###\n  GroupMember.first('$and' =&gt; [{dealer_user_id: du_id}, {group_id: g.id}]   ).destroy\nend\n\ng.save \n</code></pre>\n\n<p>And then saved <em>after</em> the destroying had happened. So it seems that when g was loaded, it loaded g.members along with it. The loop was doing everything correctly, but upon saving the already-loaded Group, I re-saved all the destroyed GroupMembers.</p>\n\n<p>All I had to do was save the Group before removing users, and the destroying worked as expected.</p>\n"}], "owner": {"reputation": 1, "user_id": 4455006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9l2MK.jpg?s=128&g=1", "display_name": "Fog Labs", "link": "https://stackoverflow.com/users/4455006/fog-labs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446667426, "creation_date": 1446656278, "question_id": 33527636, "link": "https://stackoverflow.com/questions/33527636/mongo-mapper-wont-destroy-document-during-loop", "title": "Mongo Mapper Won&#39;t Destroy Document During Loop", "body": "<p>This must be a simple answer, but I'm puzzled. I'm running a Sinatra app with Mongo Mapper, and trying to destroy a handful of documents associated with the user ids in the rem_users array. The following loop looks up the associated GroupMember for each element of rem_users, and tries to delete it. When I run it, the GroupMember is not destroyed.</p>\n\n<pre><code>rem_users.each do |du_id|\n  ###\n  GroupMember.first('$and' =&gt; [{dealer_user_id: du_id}, {group_id: g.id}] ).destroy\nend\n</code></pre>\n\n<p>rem_users is an array of BSON ids that have been converted to strings. I have verified that the query is pulling up the correct GroupMember with this query, and if I put a binding.pry where the ### is in the example and copy-paste the exact next line of the loop, the GroupMember is successfully destroyed. I have tried:</p>\n\n<pre><code>remgm = GroupMember.all('$and' =&gt; [{group_id: g.id}, {dealer_user_id: rem_users}])\nremgm.each {|gm| GroupMember.destroy(gm.id)}\n</code></pre>\n\n<p>and the result is the same. There are no validations of any kind on the GroupMember model. Thanks!</p>\n"}, {"tags": ["ruby", "multilinestring"], "comments": [{"owner": {"reputation": 79498, "user_id": 298624, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5b84ccc2f7709bbb7105baeb40e0961b?s=128&d=identicon&r=PG", "display_name": "fl00r", "link": "https://stackoverflow.com/users/298624/fl00r"}, "edited": false, "score": 1, "creation_date": 1446655440, "post_id": 33527064, "comment_id": 54835930, "body": "I think you can&#39;t. This <a href=\"http://stackoverflow.com/questions/2337510/ruby-can-i-write-multi-line-string-with-no-concatenation\" title=\"ruby can i write multi line string with no concatenation\">stackoverflow.com/questions/2337510/&hellip;</a> could be helpful"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446656823, "post_id": 33527064, "comment_id": 54836950, "body": "Does it matter whether it&#39;s &quot;fun&quot;? Yes!"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446672564, "post_id": 33527064, "comment_id": 54846339, "body": "I think the solution from the style guide is good. Though Active Record implements <code>strip_heredoc</code>, and that eases the pain, it does little to ease the long term problem of adding new content to the block. Using <code>|</code> makes it very easy to see where the margin is. Making it easy to find the margin is a good thing when multiple people work on a project. I&#39;d change the pattern slightly though, to <code>&#47;^\\s*\\|&#47;</code>, to allow it to work even if the block is not indented from the left margin."}], "answers": [{"comments": [{"owner": {"reputation": 79498, "user_id": 298624, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5b84ccc2f7709bbb7105baeb40e0961b?s=128&d=identicon&r=PG", "display_name": "fl00r", "link": "https://stackoverflow.com/users/298624/fl00r"}, "edited": false, "score": 0, "creation_date": 1446656078, "post_id": 33527474, "comment_id": 54836394, "body": "Looks like the question about leading spaces"}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "reply_to_user": {"reputation": 79498, "user_id": 298624, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5b84ccc2f7709bbb7105baeb40e0961b?s=128&d=identicon&r=PG", "display_name": "fl00r", "link": "https://stackoverflow.com/users/298624/fl00r"}, "edited": false, "score": 0, "creation_date": 1446656537, "post_id": 33527474, "comment_id": 54836747, "body": "Whoops! Sorry, I left out an important piece. The answer has been updated."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446658505, "post_id": 33527474, "comment_id": 54838125, "body": "TIL <code>strip_heredoc</code>. &#175;\\_(\u30c4)_/&#175;"}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446661481, "post_id": 33527474, "comment_id": 54840080, "body": "@CarySwoveland yeah, <code>strip_heredoc</code> is super helpful."}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "edited": false, "score": 0, "creation_date": 1446662026, "post_id": 33527474, "comment_id": 54840372, "body": "Hi @jeffdill2 thanks! I am working with pure ruby, so that won&#39;t work.  Helpful and good to know for future reference though."}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "reply_to_user": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "edited": false, "score": 0, "creation_date": 1446663091, "post_id": 33527474, "comment_id": 54840980, "body": "@m8ss not a problem - you can just add it to Ruby. :-) I&#39;ve updated my answer."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "reply_to_user": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "edited": false, "score": 2, "creation_date": 1446664130, "post_id": 33527474, "comment_id": 54841607, "body": "@m8ss - <code>strip_heredoc</code> is part of Rail&#39;s <a href=\"http://guides.rubyonrails.org/active_support_core_extensions.html#strip-heredoc\" rel=\"nofollow noreferrer\">Active Support core extensions</a>, so it&#39;s easily added to any Ruby script. The core extensions are very useful and should be part of any &quot;plain&quot; Rubyist&#39;s toolbox."}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446665371, "post_id": 33527474, "comment_id": 54842281, "body": "+1 @theTinMan thanks! simply installing active_support and requiring <code>active_support&#47;core_ext</code> worked like a charm.  And good to know about Active Support core extensions ... will definitely keep that one under my hat,"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1446666132, "post_id": 33527474, "comment_id": 54842706, "body": "The idea with the core extensions is you don&#39;t have to pull in the entire library, which happens if you use <code>require &#39;active_support&#47;core_ext&#39;</code>. Instead, use the explicit path to the gem and cherry-pick only the additions you want: <code>require &#39;active_support&#47;core_ext&#47;string&#47;strip&#39;</code>. That&#39;s specified after the documentation for each of the AS methods."}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446668651, "post_id": 33527474, "comment_id": 54844137, "body": "Ohhh...(mind blown).  I thought the full path was listed at end of documentation in order for you to look up the source code.  That is a very cool trick to know.  Thanks for the knowledge @theTinMan!"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446672137, "post_id": 33527474, "comment_id": 54846131, "body": "It is also so you can look at it. The Core extensions are nicely written and the way we can grab everything, or related  methods, or closely related methods, is great."}], "tags": [], "owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "is_accepted": false, "score": 2, "last_activity_date": 1446663455, "last_edit_date": 1592644375, "creation_date": 1446655834, "answer_id": 33527474, "question_id": 33527064, "link": "https://stackoverflow.com/questions/33527064/multiline-strings-with-no-indent/33527474#33527474", "title": "Multiline strings with no indent", "body": "<p>You can use a HEREDOC - <a href=\"http://ruby-doc.org/docs/ruby-doc-bundle/Manual/man-1.4/syntax.html#here_doc\" rel=\"nofollow noreferrer\">http://ruby-doc.org/docs/ruby-doc-bundle/Manual/man-1.4/syntax.html#here_doc</a> - like this:</p>\n<pre><code>def welcome\n  &lt;&lt;-&quot;welcome&quot;.strip_heredoc\n    &quot;\n    Hello\n\n    This is an example.  I have to write this multiline string outside the welcome method indentation in order for it to be properly formatted on screen. :(\n    &quot;\n  welcome\nend\n</code></pre>\n<p>and use <code>strip_heredoc</code> to remove the indentations - <a href=\"http://apidock.com/rails/String/strip_heredoc\" rel=\"nofollow noreferrer\">http://apidock.com/rails/String/strip_heredoc</a>.</p>\n<h3>NOTE:</h3>\n<p><code>strip_heredoc</code> is only available if you're using Ruby on Rails (it's a Rails helper). If you're just building this in pure Ruby, unfortunately <code>strip_heredoc</code> won't be available to you. :-(</p>\n<p>But fear not pure Ruby users! You can simply lift the source code for <code>strip_heredoc</code> from Rails and add it to Ruby by re-defining the <code>String</code> class. In which case, you can also call the method whatever you want. :-)</p>\n<p>Like so:</p>\n<pre><code>class String\n  def strip_it_real_good\n    indent = scan(/^[ \\t]*(?=\\S)/).min.try(:size) || 0\n    gsub(/^[ \\t]{#{indent}}/, '')\n  end\nend\n\ndef welcome\n  &lt;&lt;-&quot;welcome&quot;.strip_it_real_good\n    &quot;\n    Hello\n\n    This is an example.  I have to write this multiline string outside the welcome method indentation in order for it to be properly formatted on screen. :(\n    &quot;\n  welcome\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 1, "creation_date": 1446664866, "post_id": 33530244, "comment_id": 54841997, "body": "This breaks if you have lines with a different amount of leading whitespace. This typically should be preserved to remove only that part of the whitespace which is common to all the lines."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1446668785, "post_id": 33530244, "comment_id": 54844214, "body": "Thanks, @Holger. As I suspected, I misunderstood the question. I edited my answer."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": -1, "last_activity_date": 1446668776, "last_edit_date": 1446668776, "creation_date": 1446664731, "answer_id": 33530244, "question_id": 33527064, "link": "https://stackoverflow.com/questions/33527064/multiline-strings-with-no-indent/33530244#33530244", "title": "Multiline strings with no indent", "body": "<p>I'm not sure I understand the question. Would this (pure Ruby) solution meet your needs?</p>\n\n<pre><code>arr = &lt;&lt;-BITTER_END.split(\"\\n\")\n  Hello\n         Testing, testing.\n       I assume the least-indented line is to be left-adjusted and the same amount of leading whitespace is to be removed from all other lines.\nBITTER_END\nundent = arr.map { |line| line[/^\\s*/].size }.min\nstr = arr.map { |s| s[undent..-1] }.join(\"\\n\")\n\nputs str\nHello\n     Testing, testing.\n   I assume the least-indented line is to be left-adjusted and the same amount of leading whitespace is to be removed from all other lines.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "edited": false, "score": 0, "creation_date": 1446666084, "post_id": 33530265, "comment_id": 54842680, "body": "While I could easily use <code>active_support&#47;core_ext</code>, I am going to use this method.  I like how it&#39;s dry and straight forward and I can have one less dependency.  Avdi is the man.  Thanks @Holger for bringing this up."}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "reply_to_user": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "edited": false, "score": 1, "creation_date": 1446667922, "post_id": 33530265, "comment_id": 54843743, "body": "@m8ss since you mention DRYness, just wanted to point out that it&#39;ll actually be DRYer (and a little cleaner) to add the method to the <code>String</code> class. That way you can use it anywhere without having to require a module that might not have anything to do with the module you want to use the <code>unindent</code> method in. ADDED BONUS: Like <code>unindent</code>, it&#39;s not an added dependency - simply your own method that you&#39;ve added to <code>String</code>."}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "reply_to_user": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 0, "creation_date": 1446668827, "post_id": 33530265, "comment_id": 54844230, "body": "awesome.  thanks for your help @jeffdill2.  I will definitely use this moving forward.  I appreciate you volunteering your time for helping the fellow programmer!"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446670860, "post_id": 33530265, "comment_id": 54845413, "body": "Wouldn&#39;t tabs throw that off? A tab is ASCII 9, whereas a space is 32, so <code>[&quot; &quot;, &quot; \\t                &quot;].min #= &quot;\\t                  &quot;</code>. (There are meant to be 10 spaces after <code>&quot; \\t&quot;</code>, but SO shrinks that down.)"}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1446675509, "post_id": 33530265, "comment_id": 54847895, "body": "Well, if you mix tabs and spaces in your common prefix so that you have lines with different whitespace prefixes, all bets are off anyway and you deserve the mess you get. So just don&#39;t use that and stick to the accepted ruby standard of 2 space indents. And in any case: <a href=\"http://www.emacswiki.org/pics/static/TabsSpacesBoth.png\" rel=\"nofollow noreferrer\">emacswiki.org/pics/static/TabsSpacesBoth.png</a>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446747820, "post_id": 33530265, "comment_id": 54883485, "body": "I raised that because you have <code>[ \\t]</code> in your regex. Perhaps you should remove the tab."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 0, "creation_date": 1446748964, "post_id": 33530265, "comment_id": 54884185, "body": "@jeffdill2, many coders rarely, if ever, monkeypatch. There might be trouble in paradise if you created <code>String#unindent</code> and a core method of the same name were added to the <code>String</code> class in a future version of Ruby."}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446750745, "post_id": 33530265, "comment_id": 54885162, "body": "@CarySwoveland yep, definitely a possibility."}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446763193, "post_id": 33530265, "comment_id": 54892049, "body": "@CarySwoveland Well, I cited the method as presented by Avdi in his RubyTapas Episode. And I guess having the tab there doesn&#39;t isn&#39;t a problem. It can only break if you have different prefixes in your heredoc, e.g. if you use tabs in some of them and spaces in others. There is no failsafe way to handle this and results will always be unpredictable. As long as the common prefix in all lines uses the same characters, you can mix tabs and spaces here (although it is still a bad idea to do so)"}], "tags": [], "owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "is_accepted": true, "score": 4, "last_activity_date": 1446664787, "creation_date": 1446664787, "answer_id": 33530265, "question_id": 33527064, "link": "https://stackoverflow.com/questions/33527064/multiline-strings-with-no-indent/33530265#33530265", "title": "Multiline strings with no indent", "body": "<p>In the <a href=\"http://www.rubytapas.com/episodes/249-Unindent\" rel=\"noreferrer\">RubyTapas Episode 249</a>, Avdi Grimm describes a technique to strip leading whitespace from a multi-line string:</p>\n\n<pre><code>def unindent(s)\n  s.gsub(/^#{s.scan(/^[ \\t]+(?=\\S)/).min}/, '')\nend\n</code></pre>\n\n<p>It is behavior compatible to other existing solutions to this problem, e.g. <a href=\"http://api.rubyonrails.org/classes/String.html#method-i-strip_heredoc\" rel=\"noreferrer\">String#strip_heredoc</a> in ActiveSupport / Rails or the standalone <a href=\"https://github.com/mynyml/unindent\" rel=\"noreferrer\">unindent gem</a>.</p>\n\n<p>You can use this method with a <a href=\"http://blog.jayfields.com/2006/12/ruby-multiline-strings-here-doc-or.html\" rel=\"noreferrer\">heredoc</a> which is special syntax in ruby (and many other languages) to write multi-line strings.</p>\n\n<pre><code>module Something\n  def unindent(s)\n    s.gsub(/^#{s.scan(/^[ \\t]+(?=\\S)/).min}/, '')\n  end\n\n  def welcome\n    unindent(&lt;&lt;-TEXT)\n      Hello\n\n      This is an example. This multiline string works\n        - even with deeper nestings...\n      All is OK here :)\n    TEXT\n  end\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 251709, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "edited": false, "score": 0, "creation_date": 1570129647, "post_id": 41638435, "comment_id": 102825949, "body": "It would be good to highlight that the closing <code>EOS</code> does not need to be at the beginning of the line either, so the surrounding indentation can be nicely kept."}, {"owner": {"reputation": 3219, "user_id": 2202674, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NYHNX.jpg?s=128&g=1", "display_name": "Greg Blass", "link": "https://stackoverflow.com/users/2202674/greg-blass"}, "edited": false, "score": 0, "creation_date": 1571511034, "post_id": 41638435, "comment_id": 103268430, "body": "Amazing! Thank you so much!"}], "tags": [], "owner": {"reputation": 17379, "user_id": 1836143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/8ddoM.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1836143/alexander"}, "is_accepted": false, "score": 40, "last_activity_date": 1484322602, "creation_date": 1484322602, "answer_id": 41638435, "question_id": 33527064, "link": "https://stackoverflow.com/questions/33527064/multiline-strings-with-no-indent/41638435#41638435", "title": "Multiline strings with no indent", "body": "<p>As of Ruby 2.3.0, there is a built in method for this: [<code>&lt;&lt;~</code>]</p>\n\n<pre><code>indented = \n&lt;&lt;-EOS\n  Hello\n\n  This is an example. I have to write this multiline string outside the welcome method indentation in order for it to be properly formatted on screen. :(\nEOS\n\nunindented =\n&lt;&lt;~EOS\n  Hello\n\n  This is an example. I have to write this multiline string outside the welcome method indentation in order for it to be properly formatted on screen. :(\nEOS\n\nputs indented #=&gt;\n\n  Hello\n\n  This is an example. I have to write this multiline string outside the welcome method indentation in order for it to be properly formatted on screen. :(\n\nputs unindented #=&gt;\n\nHello\n\nThis is an example. I have to write this multiline string outside the welcome method indentation in order for it to be properly formatted on screen. :(\n</code></pre>\n\n<p><a href=\"https://infinum.co/the-capsized-eight/multiline-strings-ruby-2-3-0-the-squiggly-heredoc\" rel=\"noreferrer\">Multiline strings in Ruby 2.3 - the squiggly heredoc</a></p>\n"}], "owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8327, "favorite_count": 3, "accepted_answer_id": 33530265, "answer_count": 4, "score": 16, "last_activity_date": 1484322602, "creation_date": 1446654586, "last_edit_date": 1446663848, "question_id": 33527064, "link": "https://stackoverflow.com/questions/33527064/multiline-strings-with-no-indent", "title": "Multiline strings with no indent", "body": "<p>How do you have a multiline string with no leading spaces and still be properly aligned with method?  Here are some of my attempts.  The one that is working is not very fun...</p>\n\n<pre><code>module Something\n  def welcome\n\"\nHello\n\nThis is an example.  I have to write this multiline string outside the welcome method\nindentation in order for it to be properly formatted on screen. :(\n\"\n  end\nend\n\nmodule Something\n  def welcome\n    \"\n    Hello\n\n    This is an example.  I am inside welcome method indentation but for some reason\n    I am not working...\n    \".ljust(12)\n  end\nend\n\nmodule Something\n  def welcome\n    \"Hello\\n\\n\"+\n    \"This is an example.  I am inside welcome method indentation and properly\"+\n    \"formatted but isn't there a better way?\"\n  end\nend\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here's a <a href=\"https://github.com/bbatsov/ruby-style-guide#heredocs\" rel=\"noreferrer\">method from the ruby style guide</a>:</p>\n\n<pre><code>code = &lt;&lt;-END.gsub(/^\\s+\\|/, '')\n  |def test\n  |  some_method\n  |  other_method\n  |end\nEND\n# =&gt; \"def test\\n  some_method\\n  other_method\\nend\\n\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "gem", "rake", "bundle"], "answers": [{"tags": [], "owner": {"reputation": 2929, "user_id": 4162864, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh3.googleusercontent.com/-_1V3BLkCY9s/AAAAAAAAAAI/AAAAAAAAAOQ/MvO2DnNuEzQ/photo.jpg?sz=128", "display_name": "John Pollard", "link": "https://stackoverflow.com/users/4162864/john-pollard"}, "is_accepted": true, "score": 3, "last_activity_date": 1446654569, "creation_date": 1446654569, "answer_id": 33527054, "question_id": 33526695, "link": "https://stackoverflow.com/questions/33526695/use-of-bundle-exec-in-ruby-on-rails/33527054#33527054", "title": "use of bundle exec in Ruby on Rails", "body": "<p>Bundler - The best way to manage your application's dependencies</p>\n\n<p>Run the command in context of the bundle</p>\n\n<p>$ bundle exec</p>\n\n<p>Exec runs a command, providing it access to the gems in the bundle. While using bundle exec you can require and call the bundled gems as if they were installed into the systemwide RubyGems repository</p>\n"}, {"tags": [], "owner": {"reputation": 562, "user_id": 4937581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-busS9MCZ-MM/AAAAAAAAAAI/AAAAAAAAFg8/MKMidpR9z8Y/photo.jpg?sz=128", "display_name": "Alfredo Gallegos", "link": "https://stackoverflow.com/users/4937581/alfredo-gallegos"}, "is_accepted": false, "score": 0, "last_activity_date": 1446654994, "creation_date": 1446654994, "answer_id": 33527187, "question_id": 33526695, "link": "https://stackoverflow.com/questions/33526695/use-of-bundle-exec-in-ruby-on-rails/33527187#33527187", "title": "use of bundle exec in Ruby on Rails", "body": "<p>With:</p>\n\n<p><strong>bundle exec rake db:migrate</strong></p>\n\n<p>In an informal way, it means that your rails environment will</p>\n\n<p>-Install dependencies with bundler\nthen\n-Run your database migrations in your rails app (/yourapp/db/migrate)</p>\n\n<p>Instead of a database operation, you could do any other command line stuff that can be controlled by rake (like building your app, extensions, cleaning some files, etc.)</p>\n\n<p>This can be useful if you want to avoid confusing scenarios where maybe some gems in your setup are outdated, or missing from your environment. It's a good practice because calling rake by itself will not guarantee that you got all your dependencies in check.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 5526026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca8c79930023909ca26e16288b8c946?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5526026/madmax"}, "is_accepted": false, "score": 0, "last_activity_date": 1446662182, "last_edit_date": 1446662182, "creation_date": 1446661267, "answer_id": 33529228, "question_id": 33526695, "link": "https://stackoverflow.com/questions/33526695/use-of-bundle-exec-in-ruby-on-rails/33529228#33529228", "title": "use of bundle exec in Ruby on Rails", "body": "<p>Bundler acts to create a somewhat isolated Ruby language programming environment separate from the underlying host system.  There are limits to what it can do.  For example, you need something like RVM to manage different versions of the Ruby language virtual machine. And of course both Ruby and Bundler itself have to be available outside your project in order to run.</p>\n\n<p>However, within a single project <code>bundle exec</code> will restrict access to gems installed by Bundler into that project.  This means that the Rake utility when invoked via bundle exec will be the version of rake installed in your project and not the system-wide version.  It also means that `bundle rake db:migrate' will use the correct version of rails installed for your project.  This isolates your project from updates done to the Ruby environment on the host and thereby prevents compatibility issues from arising.</p>\n\n<p>You can get around the verbosity by creating aliases in your .bash_profile (assuming you are using OSX or Linux/unix) for <code>bundle exec</code>, <code>bundle exec rake</code> and <code>bundle exec rails</code>.  I use bexec, brake and brails.</p>\n"}], "owner": {"reputation": 2797, "user_id": 3392317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6hfb5.jpg?s=128&g=1", "display_name": "Subhash Chandra", "link": "https://stackoverflow.com/users/3392317/subhash-chandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "accepted_answer_id": 33527054, "answer_count": 3, "score": 1, "last_activity_date": 1446662182, "creation_date": 1446653625, "question_id": 33526695, "link": "https://stackoverflow.com/questions/33526695/use-of-bundle-exec-in-ruby-on-rails", "title": "use of bundle exec in Ruby on Rails", "body": "<p>What does bundle exec rake db:migrate really means? or bundle exec rails s \nI understand that bundle handle all the gems we specify in our Gemfile,and rake handle all the things which you can do through scripts but these commands don't get executed without prefixing bundle exec and I couldn't find any documentation about this on internet !! </p>\n"}, {"tags": ["ruby", "random", "probability"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1446653131, "post_id": 33526298, "comment_id": 54834261, "body": "<a href=\"http://stackoverflow.com/q/8877249/125816\">stackoverflow.com/q/8877249/125816</a> - it&#39;s javascript, but you should get the idea."}, {"owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 1, "creation_date": 1446653384, "post_id": 33526298, "comment_id": 54834435, "body": "Have a look at the <a href=\"https://rubygems.org/gems/aliastable\" rel=\"nofollow noreferrer\">AliasTable</a> gem for an efficient generalized solution."}, {"owner": {"reputation": 352, "user_id": 3272592, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Rq0op.jpg?s=128&g=1", "display_name": "ddnomad", "link": "https://stackoverflow.com/users/3272592/ddnomad"}, "reply_to_user": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1446653842, "post_id": 33526298, "comment_id": 54834751, "body": "@pjs thanks! That&#39;s what should work out."}], "answers": [{"comments": [{"owner": {"reputation": 79498, "user_id": 298624, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5b84ccc2f7709bbb7105baeb40e0961b?s=128&d=identicon&r=PG", "display_name": "fl00r", "link": "https://stackoverflow.com/users/298624/fl00r"}, "edited": false, "score": 0, "creation_date": 1446654278, "post_id": 33526585, "comment_id": 54835077, "body": "@NeilSlater yes, it could be done even with O(1) with some preprocessing. sure. You could create probability table with extra memory and O(1) fetch. Or you could use binary search in O(log(n)) after preprocessing probability values."}, {"owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1446654340, "post_id": 33526585, "comment_id": 54835122, "body": "@NeilSlater for a small number of alternatives this is about as good as it gets.  For larger numbers of outcomes, <a href=\"https://en.wikipedia.org/wiki/Alias_method\" rel=\"nofollow noreferrer\">alias tables</a> have constant time behavior after the initial setup."}, {"owner": {"reputation": 352, "user_id": 3272592, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Rq0op.jpg?s=128&g=1", "display_name": "ddnomad", "link": "https://stackoverflow.com/users/3272592/ddnomad"}, "reply_to_user": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1446654579, "post_id": 33526585, "comment_id": 54835304, "body": "fl00r and @pjs thanks you both :) you&#39;ve made my day"}], "tags": [], "owner": {"reputation": 79498, "user_id": 298624, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5b84ccc2f7709bbb7105baeb40e0961b?s=128&d=identicon&r=PG", "display_name": "fl00r", "link": "https://stackoverflow.com/users/298624/fl00r"}, "is_accepted": true, "score": 5, "last_activity_date": 1446653997, "last_edit_date": 1446653997, "creation_date": 1446653377, "answer_id": 33526585, "question_id": 33526298, "link": "https://stackoverflow.com/questions/33526298/how-to-get-a-random-number-with-a-given-discrete-distribution-in-ruby/33526585#33526585", "title": "How to get a random number with a given discrete distribution in Ruby", "body": "<p>I would go with something like this</p>\n\n<pre><code>def pick_with_distribution(distributions)\n  r = rand\n  distributions.detect{ |k, d| r -= d; r &lt; 0 }.first\nend\n\ndistributions = { 0 =&gt; 0.33, 2 =&gt; 0.49, 1000 =&gt; 0.18 }\npick_with_distribution(distributions)\n#=&gt; 0\n</code></pre>\n\n<p>To check if distribution is correct, I run it 10000 times, here is the result:</p>\n\n<pre><code>10000.times.inject({}) do |h, _| \n  r = pick_with_distribution(distributions)\n  h[r] ||= 0\n  h[r] += 1\n  h\nend\n#=&gt; {0=&gt;3231, 1000=&gt;1860, 2=&gt;4909}\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 3272592, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Rq0op.jpg?s=128&g=1", "display_name": "ddnomad", "link": "https://stackoverflow.com/users/3272592/ddnomad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 33526585, "answer_count": 1, "score": 5, "last_activity_date": 1446653997, "creation_date": 1446652625, "question_id": 33526298, "link": "https://stackoverflow.com/questions/33526298/how-to-get-a-random-number-with-a-given-discrete-distribution-in-ruby", "title": "How to get a random number with a given discrete distribution in Ruby", "body": "<p>I'm coding my university assignment that is somewhat connected with distributions and random roll stuff. So the question is: how to get a random number with a given discrete distribution in Ruby.</p>\n\n<p>To be more specific: in trivial example with normal discrete distribution like (0 with P=1/2; 1000 with P=1/2) I could write such a function:</p>\n\n<pre><code> def chooseNumber(a,b)\n  rval = Random.rand(0..1)\n  return a if rval == 0\n  return b\n end \n</code></pre>\n\n<p>First question: is there any way to write it using native Random class?</p>\n\n<p>Second question: what is the best way to deal with distributions like (0 with P=1/5; 2 with P=2/5; 1000 with P=2/5) or even worse (0 with P=0,33; 2 with P=0,49; 1000 with P=0,18)?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3467, "user_id": 906511, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/61286bced0ae2da15261439d1bb62297?s=128&d=identicon&r=PG", "display_name": "lcguida", "link": "https://stackoverflow.com/users/906511/lcguida"}, "edited": false, "score": 0, "creation_date": 1446652852, "post_id": 33526240, "comment_id": 54834060, "body": "<a href=\"https://github.com/rails/rails/blob/869a90512f36b04914d73cbf58317d953caea7c5/activemodel/lib/active_model/secure_password.rb#L74\" rel=\"nofollow noreferrer\">github.com/rails/rails/blob/&hellip;</a>"}, {"owner": {"reputation": 3467, "user_id": 906511, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/61286bced0ae2da15261439d1bb62297?s=128&d=identicon&r=PG", "display_name": "lcguida", "link": "https://stackoverflow.com/users/906511/lcguida"}, "edited": false, "score": 0, "creation_date": 1446652863, "post_id": 33526240, "comment_id": 54834077, "body": "Those seems to be the validations he adds"}, {"owner": {"reputation": 11, "user_id": 2374207, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c57649527ce4731e7b04ed2a30cf109d?s=128&d=identicon&r=PG", "display_name": "CoolDrinE", "link": "https://stackoverflow.com/users/2374207/cooldrine"}, "reply_to_user": {"reputation": 3467, "user_id": 906511, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/61286bced0ae2da15261439d1bb62297?s=128&d=identicon&r=PG", "display_name": "lcguida", "link": "https://stackoverflow.com/users/906511/lcguida"}, "edited": false, "score": 0, "creation_date": 1446653589, "post_id": 33526240, "comment_id": 54834574, "body": "@lcguida thx, through still don&#39;t what to do with it to reach my needs. And I&#39;ve just fixed that by I18n. It is pretty strict to the format... god, almost costs my whole day on it"}, {"owner": {"reputation": 10680, "user_id": 121158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9615f79b7892b27ce490ea17bef769?s=128&d=identicon&r=PG", "display_name": "leviathan", "link": "https://stackoverflow.com/users/121158/leviathan"}, "edited": false, "score": 0, "creation_date": 1485416796, "post_id": 33526240, "comment_id": 70919631, "body": "This answer might help you - <a href=\"http://stackoverflow.com/questions/31762587/custom-error-message-for-password-presence-validation\" title=\"custom error message for password presence validation\">stackoverflow.com/questions/31762587/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 2374207, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c57649527ce4731e7b04ed2a30cf109d?s=128&d=identicon&r=PG", "display_name": "CoolDrinE", "link": "https://stackoverflow.com/users/2374207/cooldrine"}, "is_accepted": false, "score": 0, "last_activity_date": 1446653710, "creation_date": 1446653710, "answer_id": 33526732, "question_id": 33526240, "link": "https://stackoverflow.com/questions/33526240/override-validation-error-message-for-has-secure-password-extend/33526732#33526732", "title": "Override validation error message for has_secure_password [extend]", "body": "<p>I thought I18n doesnt work through has_secure_password framework, but it actually does. Please re-check the format in the /config/locale/*.yml file!</p>\n"}], "owner": {"reputation": 11, "user_id": 2374207, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c57649527ce4731e7b04ed2a30cf109d?s=128&d=identicon&r=PG", "display_name": "CoolDrinE", "link": "https://stackoverflow.com/users/2374207/cooldrine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446653710, "creation_date": 1446652456, "last_edit_date": 1495542252, "question_id": 33526240, "link": "https://stackoverflow.com/questions/33526240/override-validation-error-message-for-has-secure-password-extend", "title": "Override validation error message for has_secure_password [extend]", "body": "<p><a href=\"https://stackoverflow.com/questions/6158585/override-validation-error-message-for-securepassword\">extend from here</a></p>\n\n<p>There he just wanted to custom the attribute's name.\nI tried I18n, also read out the whole railsguide about I18n searching for help that I need, seems nothing.....</p>\n\n<p>It seems when having has_secure_password in user.rb, 3 validates automatedly required.</p>\n\n<ol>\n<li>password can't be blank, raise \"[attributes] can't be blank\" message</li>\n<li>password_confirmation can't be blank, raise above</li>\n<li>password and password_confirmation doesn't match, raise \"[attribute A] Doesn't Match [attribute B]\"</li>\n</ol>\n\n<p>Customize above three, how? I\u2019ve tried to find through all project text for \"can't be blank\" or \"doens't match\" key words. Nothing work out.</p>\n\n<p>All the possibilities online\nBeen there done that,desperately need your help</p>\n"}, {"tags": ["ruby", "windows"], "comments": [{"owner": {"reputation": 70793, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "edited": false, "score": 0, "creation_date": 1446656811, "post_id": 33526085, "comment_id": 54836942, "body": "Well, what is happening around line 318 of Makefile?"}, {"owner": {"reputation": 18142, "user_id": 1515819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7d0a1373a2312378f6563acf2a8f937?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane Bruckert", "link": "https://stackoverflow.com/users/1515819/st%c3%a9phane-bruckert"}, "edited": false, "score": 0, "creation_date": 1446828888, "post_id": 33526085, "comment_id": 54921495, "body": "Had the same running Puppet on a CentOS AMI, rake 10.4.2, ffi 1.9.10, relaunched a Jenkins build and the error never appeared again... strange"}], "owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446652062, "creation_date": 1446652062, "question_id": 33526085, "link": "https://stackoverflow.com/questions/33526085/gemextbuilderror-error-failed-to-build-gem-native-extensionffi-gem-win", "title": "Gem::Ext::BuildError: ERROR: Failed to build gem native extension(ffi gem) - windows", "body": "<p>When I run bundle install, it fails when it try to install ffi gem with native extension. I get this error </p>\n\n<pre><code>Installing ffi 1.8.1 with native extensions\n\nGem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.\n\n    C:/Ruby21-x64/bin/ruby.exe extconf.rb\nchecking for ffi.h... no\nchecking for ffi.h in /usr/local/include,/usr/include/ffi... no\nchecking for rb_thread_blocking_region()... yes\nchecking for rb_thread_call_with_gvl()... yes\nchecking for rb_thread_call_without_gvl()... yes\nchecking for ffi_prep_cif_var()... no\ncreating extconf.h\ncreating Makefile\n\nmake \"DESTDIR=\"\ngenerating ffi_c-x64-mingw32.def\nConfiguring libffi\nconfigure: WARNING: if you wanted to set the --build type, don't use --host.\n    If a cross compiler is detected then cross compile mode will be used\nconfigure: WARNING: cache variable lt_cv_path_LD contains a newline\nconfigure: WARNING: cache variable lt_cv_path_LD contains a newline\nmake -C \"/c/Ruby21-x64/lib/ruby/gems/2.1.0/gems/ffi-1.8.1/ext/ffi_c/libffi-x64-mingw32\"\nmake[1]: Entering directory `/c/Ruby21-x64/lib/ruby/gems/2.1.0/gems/ffi-1.8.1/ext/ffi_c/libffi-x64-mingw32'\nMakefile:318: *** missing separator.  Stop.\nmake[1]: Leaving directory `/c/Ruby21-x64/lib/ruby/gems/2.1.0/gems/ffi-1.8.1/ext/ffi_c/libffi-x64-mingw32'\nmake: *** [\"/c/Ruby21-x64/lib/ruby/gems/2.1.0/gems/ffi-1.8.1/ext/ffi_c/libffi-x64-mingw32\"/.libs/libffi_convenience.a] Error 2\n\n\nGem files will remain installed in C:/Ruby21-x64/lib/ruby/gems/2.1.0/gems/ffi-1.8.1 for inspection.\nResults logged to C:/Ruby21-x64/lib/ruby/gems/2.1.0/gems/ffi-1.8.1/ext/ffi_c/gem_make.out\nAn error occurred while installing ffi (1.8.1), and Bundler cannot continue.\nMake sure that `gem install ffi -v '1.8.1'` succeeds before bundling.\n</code></pre>\n\n<p>I am on windows 7 with ruby 2.1.7 and rails 3.2. I have found different solution like updating system gems and downgrading ffi version but none of them is working for me. How can I solve this problem?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 53706, "user_id": 3001736, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j4wN2.jpg?s=128&g=1", "display_name": "Amit Joki", "link": "https://stackoverflow.com/users/3001736/amit-joki"}, "edited": false, "score": 1, "creation_date": 1446650874, "post_id": 33525651, "comment_id": 54832545, "body": "why? y u do this? Where&#39;s your code?"}, {"owner": {"reputation": 21087, "user_id": 335499, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88ab4a81f71fd6107b281aec408b9a76?s=128&d=identicon&r=PG", "display_name": "why", "link": "https://stackoverflow.com/users/335499/why"}, "reply_to_user": {"reputation": 53706, "user_id": 3001736, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j4wN2.jpg?s=128&g=1", "display_name": "Amit Joki", "link": "https://stackoverflow.com/users/3001736/amit-joki"}, "edited": false, "score": 0, "creation_date": 1446651015, "post_id": 33525651, "comment_id": 54832654, "body": "@AmitJoki I need send the voucher code to users, the email content is static, but I need to add one dynamic code to the content"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1446651298, "post_id": 33525651, "comment_id": 54832893, "body": "So... regex? Simple replace? What&#39;s the actual issue you&#39;re facing? What are you doing that isn&#39;t working?"}, {"owner": {"reputation": 21087, "user_id": 335499, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88ab4a81f71fd6107b281aec408b9a76?s=128&d=identicon&r=PG", "display_name": "why", "link": "https://stackoverflow.com/users/335499/why"}, "edited": false, "score": 0, "creation_date": 1446651580, "post_id": 33525651, "comment_id": 54833127, "body": "Ok, I just want to ask how to write the regex? &#39;xxxxxxx#code#xxxxxxxx&#39;.gsub(/?/, &#39;1234&#39;) =&gt;  &#39;xxxxxxx1234xxxxxxxx&#39;"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1446651697, "post_id": 33525651, "comment_id": 54833202, "body": "Kind of depends on what <code>&quot;code&quot;</code> can actually be, no? If it&#39;s just the string literal &quot;code&quot; it&#39;s beyond trivial. Without providing any details there&#39;s little way to answer the question. If it&#39;s just &quot;the stuff between <code>#</code> characters then it&#39;s simple regex, and you&#39;d be better served by learning something about regexes."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1446651849, "post_id": 33525651, "comment_id": 54833316, "body": "Please provide input and output examples to make answering this question more efficient. Based on the current question there are a plethora of acceptable answers but not all of them may apply to your use case."}], "answers": [{"tags": [], "owner": {"reputation": 562, "user_id": 4937581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-busS9MCZ-MM/AAAAAAAAAAI/AAAAAAAAFg8/MKMidpR9z8Y/photo.jpg?sz=128", "display_name": "Alfredo Gallegos", "link": "https://stackoverflow.com/users/4937581/alfredo-gallegos"}, "is_accepted": true, "score": 2, "last_activity_date": 1446655245, "creation_date": 1446655245, "answer_id": 33527256, "question_id": 33525651, "link": "https://stackoverflow.com/questions/33525651/how-to-replace-special-text-in-a-string-in-ruby/33527256#33527256", "title": "How to replace special text in a string in Ruby?", "body": "<p>Use regex and <code>string.gsub()</code></p>\n\n<pre><code>2.0.0-p643 :004 &gt; \"xxxxxxx#code#xxxxxxxx\".gsub(/\\#code#/i, \"#NEWCODE#\")\n=&gt; \"xxxxxxx#NEWCODE#xxxxxxxx\" \n</code></pre>\n"}], "owner": {"reputation": 21087, "user_id": 335499, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88ab4a81f71fd6107b281aec408b9a76?s=128&d=identicon&r=PG", "display_name": "why", "link": "https://stackoverflow.com/users/335499/why"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1446660325, "accepted_answer_id": 33527256, "answer_count": 1, "score": -7, "last_activity_date": 1446655245, "creation_date": 1446650811, "last_edit_date": 1446653092, "question_id": 33525651, "link": "https://stackoverflow.com/questions/33525651/how-to-replace-special-text-in-a-string-in-ruby", "closed_reason": "Needs more focus", "title": "How to replace special text in a string in Ruby?", "body": "<p>There is one <code>string</code> like this: <code>'xxxxxxx#code#xxxxxxxx'</code>, I want to replace the code.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 6584, "user_id": 1831520, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QFRGt.jpg?s=128&g=1", "display_name": "sadaf2605", "link": "https://stackoverflow.com/users/1831520/sadaf2605"}, "edited": false, "score": 0, "creation_date": 1446651475, "post_id": 33525591, "comment_id": 54833035, "body": "When the form is submitted you are getting user&#39;s name as <code>ad_author</code>, then you can manipulate your database, can&#39;t you?"}, {"owner": {"reputation": 2929, "user_id": 4162864, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh3.googleusercontent.com/-_1V3BLkCY9s/AAAAAAAAAAI/AAAAAAAAAOQ/MvO2DnNuEzQ/photo.jpg?sz=128", "display_name": "John Pollard", "link": "https://stackoverflow.com/users/4162864/john-pollard"}, "edited": false, "score": 0, "creation_date": 1446653332, "post_id": 33525591, "comment_id": 54834396, "body": "can you show us your controller code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4187589"}, "edited": false, "score": 0, "creation_date": 1446659779, "post_id": 33525591, "comment_id": 54839000, "body": "&quot; However, the user isn&#39;t notified.&quot; What do you mean? What do you mean by &quot;notified&quot;??  I could probably answer your question but I don&#39;t understand what you&#39;re trying to do."}, {"owner": {"reputation": 877, "user_id": 3034720, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ts6vP.jpg?s=128&g=1", "display_name": "Chris Mendla", "link": "https://stackoverflow.com/users/3034720/chris-mendla"}, "edited": false, "score": 0, "creation_date": 1446667082, "post_id": 33525591, "comment_id": 54843230, "body": "I took the approach that sadaf2605 mentioned. I set the field to readonly and just changed the label to say &#39;view only&#39;.      By notified, what I meant was that adding :readonly to the field simply prevented changes. It didn&#39;t let the user know that the field was read only.  Changing the label fixes that."}], "owner": {"reputation": 877, "user_id": 3034720, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ts6vP.jpg?s=128&g=1", "display_name": "Chris Mendla", "link": "https://stackoverflow.com/users/3034720/chris-mendla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446651022, "creation_date": 1446650667, "question_id": 33525591, "link": "https://stackoverflow.com/questions/33525591/rails-field-set-to-readonly-how-do-you-notify-the-user", "title": "Rails field set to readonly - how do you notify the user?", "body": "<p>I have a field in a form where I grab the Active directory user name and put it in the field. I want to display it to the user and store it in the sql data table. </p>\n\n<pre><code>        &lt;td&gt; &lt;div class=\"field\"&gt;\n      &lt;%= f.label :ad_author %&gt;&lt;br&gt;\n        &lt;!-- The field below is populated from AD (or perhaps the user table) if the user is logged in    --&gt;\n      &lt;!-- \\\\TODO need ot add logic here in case the user isn't logged in.    --&gt;\n      &lt;%= f.text_field :ad_author, :value =&gt; current_user.name, readonly =&gt; true %&gt;\n    &lt;/div&gt;&lt;/td&gt;\n</code></pre>\n\n<p>I have the text field set to readonly which does not allow the user to change it. However, the user isn't notified. It just stores the active directory name but doesn't change the field in the data table (which is what I want). </p>\n\n<p>I'm not sure how to go about this. </p>\n\n<p>is there a way to display the user name and store it in the sql table ?  </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1446650198, "post_id": 33525283, "comment_id": 54832052, "body": "Why you want to run those commands after switching every branch? It seems very unusual to me."}, {"owner": {"reputation": 895, "user_id": 5117502, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/3af1c137fcafdd6975f358e1fb43ca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay266", "link": "https://stackoverflow.com/users/5117502/jay266"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1446650484, "post_id": 33525283, "comment_id": 54832283, "body": "Currently in my team we are running on branches with different schemas/migrations, so it is becoming a nuance to constantly have to switch branches"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1446652197, "post_id": 33525283, "comment_id": 54833570, "body": "Why drop,migrate, setup? <code>rake db:reset</code> will perform <code>db:drop</code> followed by <code>db:setup</code> which will then perform <code>db:create</code>, <code>db:schema:load</code>, <code>db:seed</code>. So it seems based on your requirements <code>rake db:reset</code> would be the only command needed and thus may not need an automated task. Unless the system migrations that have not been run into schema in which case you may need to run them as well."}], "answers": [{"comments": [{"owner": {"reputation": 895, "user_id": 5117502, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/3af1c137fcafdd6975f358e1fb43ca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay266", "link": "https://stackoverflow.com/users/5117502/jay266"}, "edited": false, "score": 0, "creation_date": 1446652710, "post_id": 33525571, "comment_id": 54833963, "body": "I found the specified directory up to /hooks/ but could not find &quot;post-checkout&quot;. The only thing similar I found was: &quot;post-update.sample&quot;. Should I copy the contents of my commands in that file? And how can I make it executable?"}, {"owner": {"reputation": 6584, "user_id": 1831520, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QFRGt.jpg?s=128&g=1", "display_name": "sadaf2605", "link": "https://stackoverflow.com/users/1831520/sadaf2605"}, "reply_to_user": {"reputation": 895, "user_id": 5117502, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/3af1c137fcafdd6975f358e1fb43ca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay266", "link": "https://stackoverflow.com/users/5117502/jay266"}, "edited": false, "score": 0, "creation_date": 1446653442, "post_id": 33525571, "comment_id": 54834479, "body": "save the script as post-checkout"}, {"owner": {"reputation": 895, "user_id": 5117502, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/3af1c137fcafdd6975f358e1fb43ca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay266", "link": "https://stackoverflow.com/users/5117502/jay266"}, "edited": false, "score": 0, "creation_date": 1446654486, "post_id": 33525571, "comment_id": 54835236, "body": "Awesome, it works. Unfortunately, it doesn&#39;t appear in my git status. How can I push these changes to the Git Repo?"}, {"owner": {"reputation": 6584, "user_id": 1831520, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QFRGt.jpg?s=128&g=1", "display_name": "sadaf2605", "link": "https://stackoverflow.com/users/1831520/sadaf2605"}, "reply_to_user": {"reputation": 895, "user_id": 5117502, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/3af1c137fcafdd6975f358e1fb43ca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay266", "link": "https://stackoverflow.com/users/5117502/jay266"}, "edited": false, "score": 0, "creation_date": 1446708015, "post_id": 33525571, "comment_id": 54858082, "body": "just normal, <code>git add . &amp; git commit -m &quot;commiting...&quot; &amp; git push</code>"}], "tags": [], "owner": {"reputation": 6584, "user_id": 1831520, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QFRGt.jpg?s=128&g=1", "display_name": "sadaf2605", "link": "https://stackoverflow.com/users/1831520/sadaf2605"}, "is_accepted": false, "score": 2, "last_activity_date": 1446707894, "last_edit_date": 1446707894, "creation_date": 1446650601, "answer_id": 33525571, "question_id": 33525283, "link": "https://stackoverflow.com/questions/33525283/automatically-running-rake-tasks-when-you-switch-branches-in-git/33525571#33525571", "title": "Automatically running rake tasks when you switch branches in git", "body": "<p>Save this shell script to the file <code>/path/to/repo/.git/hooks/post-checkout</code>, and make it executable.</p>\n\n<pre><code>#! /bin/sh\n\n# Start from the repository root.\ncd ./$(git rev-parse --show-cdup)\n\n# drop migrate and set up.\nrake db:drop\nrake db:migrate\nrake db:setup\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1251, "user_id": 1415352, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e36253e3da734a26b7373a2ded71825f?s=128&d=identicon&r=PG", "display_name": "keithxm23", "link": "https://stackoverflow.com/users/1415352/keithxm23"}, "is_accepted": false, "score": 0, "last_activity_date": 1446650624, "creation_date": 1446650624, "answer_id": 33525580, "question_id": 33525283, "link": "https://stackoverflow.com/questions/33525283/automatically-running-rake-tasks-when-you-switch-branches-in-git/33525580#33525580", "title": "Automatically running rake tasks when you switch branches in git", "body": "<p>What you're looking for is something like <a href=\"https://github.com/guard/guard\" rel=\"nofollow\">Guard</a> that runs your test suite whenever code changes in your repo. You should be able to tweak Guard to run your rake tasks instead of tests.\nRailscasts has a great <a href=\"http://railscasts.com/episodes/264-guard?view=asciicast\" rel=\"nofollow\">screencast</a> explaining the Guard.</p>\n\n<p>After a quick google search, looks like there's a gem available that can run rake tasks for you: <a href=\"https://github.com/rubyist/guard-rake\" rel=\"nofollow\">guard-rake</a> . Unfortunately, it doesn't seem to be widely used though.</p>\n"}], "owner": {"reputation": 895, "user_id": 5117502, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/3af1c137fcafdd6975f358e1fb43ca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay266", "link": "https://stackoverflow.com/users/5117502/jay266"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1446707894, "creation_date": 1446649875, "question_id": 33525283, "link": "https://stackoverflow.com/questions/33525283/automatically-running-rake-tasks-when-you-switch-branches-in-git", "title": "Automatically running rake tasks when you switch branches in git", "body": "<p>Whenever I switch branches I am having to run the commands:</p>\n\n<pre><code>rake db:drop\nrake db:migrate\nrake db:setup\n</code></pre>\n\n<p>Is there a way to automatically run these commands in terminal for my application? I am developing a ruby on rails application and have many branches on GitHub. Is there a file I can add to that will automatically run this command?</p>\n\n<p>For example, I will do this \"git checkout branch101\"\nand then I want to run the 3 commands above.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "scripting", "integration"], "answers": [{"tags": [], "owner": {"reputation": 6584, "user_id": 1831520, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QFRGt.jpg?s=128&g=1", "display_name": "sadaf2605", "link": "https://stackoverflow.com/users/1831520/sadaf2605"}, "is_accepted": false, "score": 0, "last_activity_date": 1446650403, "last_edit_date": 1446650403, "creation_date": 1446649704, "answer_id": 33525223, "question_id": 33525000, "link": "https://stackoverflow.com/questions/33525000/integrate-ruby-application-with-my-rails-application/33525223#33525223", "title": "Integrate Ruby application with my Rails application", "body": "<p>You can run a cron job in rails that runs the script in every 15 minute.\nAt your cron configuration file it would look something like:</p>\n\n<pre><code>*/15 * * * * ruby your_ruby_script.rb\n</code></pre>\n\n<p>In that script you can manipulate your database as per your requirement.</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 4201429, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-CClx60uutAo/AAAAAAAAAAI/AAAAAAAAAYE/gZnx4SxG57k/photo.jpg?sz=128", "display_name": "Bri4n", "link": "https://stackoverflow.com/users/4201429/bri4n"}, "edited": false, "score": 0, "creation_date": 1446650144, "post_id": 33525316, "comment_id": 54832007, "body": "Ok, gonna look some information about that. But, I need to know, where should I place my script and use Active Records from the Rails App?"}, {"owner": {"reputation": 2044, "user_id": 1107211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mte2a.jpg?s=128&g=1", "display_name": "wurde", "link": "https://stackoverflow.com/users/1107211/wurde"}, "reply_to_user": {"reputation": 133, "user_id": 4201429, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-CClx60uutAo/AAAAAAAAAAI/AAAAAAAAAYE/gZnx4SxG57k/photo.jpg?sz=128", "display_name": "Bri4n", "link": "https://stackoverflow.com/users/4201429/bri4n"}, "edited": false, "score": 0, "creation_date": 1446650203, "post_id": 33525316, "comment_id": 54832057, "body": "I&#39;ll post an example."}, {"owner": {"reputation": 133, "user_id": 4201429, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-CClx60uutAo/AAAAAAAAAAI/AAAAAAAAAYE/gZnx4SxG57k/photo.jpg?sz=128", "display_name": "Bri4n", "link": "https://stackoverflow.com/users/4201429/bri4n"}, "edited": false, "score": 0, "creation_date": 1446652041, "post_id": 33525316, "comment_id": 54833460, "body": "Ok, then every time I run &quot;rails server&quot; is it going to be executed?"}, {"owner": {"reputation": 2044, "user_id": 1107211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mte2a.jpg?s=128&g=1", "display_name": "wurde", "link": "https://stackoverflow.com/users/1107211/wurde"}, "reply_to_user": {"reputation": 133, "user_id": 4201429, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-CClx60uutAo/AAAAAAAAAAI/AAAAAAAAAYE/gZnx4SxG57k/photo.jpg?sz=128", "display_name": "Bri4n", "link": "https://stackoverflow.com/users/4201429/bri4n"}, "edited": false, "score": 0, "creation_date": 1446656685, "post_id": 33525316, "comment_id": 54836859, "body": "It will run once by default, so you will need to reschedule it."}, {"owner": {"reputation": 2044, "user_id": 1107211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mte2a.jpg?s=128&g=1", "display_name": "wurde", "link": "https://stackoverflow.com/users/1107211/wurde"}, "reply_to_user": {"reputation": 133, "user_id": 4201429, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-CClx60uutAo/AAAAAAAAAAI/AAAAAAAAAYE/gZnx4SxG57k/photo.jpg?sz=128", "display_name": "Bri4n", "link": "https://stackoverflow.com/users/4201429/bri4n"}, "edited": false, "score": 0, "creation_date": 1446656766, "post_id": 33525316, "comment_id": 54836907, "body": "There are gems for scheduling jobs; I&#39;ve used whenever, but the Rufus-scheduler is also popular."}], "tags": [], "owner": {"reputation": 2044, "user_id": 1107211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mte2a.jpg?s=128&g=1", "display_name": "wurde", "link": "https://stackoverflow.com/users/1107211/wurde"}, "is_accepted": true, "score": 0, "last_activity_date": 1446656816, "last_edit_date": 1446656816, "creation_date": 1446649991, "answer_id": 33525316, "question_id": 33525000, "link": "https://stackoverflow.com/questions/33525000/integrate-ruby-application-with-my-rails-application/33525316#33525316", "title": "Integrate Ruby application with my Rails application", "body": "<p>Rails has ActiveJobs which you could use to regularly communicate with the other service.</p>\n\n<p>Using the built-in rails generator you can create your job and it includes a stubbed test for ensuring you're script functions the way you expect.</p>\n\n<pre><code>bin/rails generate job guests_cleanup\n#=&gt; invoke  test_unit\n#=&gt; create    test/jobs/guests_cleanup_job_test.rb\n#=&gt; create  app/jobs/guests_cleanup_job.rb\n</code></pre>\n\n<p>In the job you can then communicate with your Ruby application on a regular schedule.</p>\n\n<pre><code>class GuestsCleanupJob &lt; ActiveJob::Base\n  queue_as :default\n\n  def perform(*guests)\n    # Do something later\n  end\nend\n</code></pre>\n\n<p>To schedule this job to regularly execute, use one of the following gems.</p>\n\n<p><a href=\"https://www.ruby-toolbox.com/categories/scheduling\" rel=\"nofollow\">https://www.ruby-toolbox.com/categories/scheduling</a></p>\n"}], "owner": {"reputation": 133, "user_id": 4201429, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-CClx60uutAo/AAAAAAAAAAI/AAAAAAAAAYE/gZnx4SxG57k/photo.jpg?sz=128", "display_name": "Bri4n", "link": "https://stackoverflow.com/users/4201429/bri4n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 33525316, "answer_count": 2, "score": 0, "last_activity_date": 1446656816, "creation_date": 1446649032, "last_edit_date": 1446651759, "question_id": 33525000, "link": "https://stackoverflow.com/questions/33525000/integrate-ruby-application-with-my-rails-application", "title": "Integrate Ruby application with my Rails application", "body": "<p>I have an application in Ruby that gets information from some hosts and saves it in a file. Every time it gets the information (every 15 minutes), a new file is generated. Now, I want to create a Rails app, with a database to configure the application (ip of the host, passwords etc) and to save the data from hosts.</p>\n\n<p>I've already created a database using rails, I need to integrate my program within the rails app. Where should I place the script and who gets the information into the database inside the rails structure? I need this script running together with the rails app, I mean, when I run the rails app the script should start. At the same time, from the script I need to use the Database tools that Active Directory gives to me to manage the DB using the ORM.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4593411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NtK0i0hKnEo/AAAAAAAAAAI/AAAAAAAAAV0/K-RY2PwazYM/photo.jpg?sz=128", "display_name": "Dmitry Morozov", "link": "https://stackoverflow.com/users/4593411/dmitry-morozov"}, "is_accepted": false, "score": 0, "last_activity_date": 1446749100, "creation_date": 1446749100, "answer_id": 33552389, "question_id": 33524824, "link": "https://stackoverflow.com/questions/33524824/fill-in-blank-dates-for-a-grouped-query-which-returns-some-null-rows/33552389#33552389", "title": "Fill in blank dates for a grouped query which returns some null rows", "body": "<p>May be, you can come from this side:</p>\n\n<pre><code>grouped = (from.to_date..to.to_date).each do |dt|\n  existing_data = all_data.detect{ |data| data.first == dt }\n  if existing_data\n    # you code for existing date\n  else\n    # you code for non-existing date\n  end\n  # ...\nend\n\n# And, I think, it is not required in this case\n#grouped = grouped.sort_by { |day| day['date'] }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 1705167, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b260d77e92bfc5a21f8a323607ef4c13?s=128&d=identicon&r=PG", "display_name": "zijoud", "link": "https://stackoverflow.com/users/1705167/zijoud"}, "is_accepted": true, "score": 0, "last_activity_date": 1446790398, "last_edit_date": 1446790398, "creation_date": 1446786085, "answer_id": 33559826, "question_id": 33524824, "link": "https://stackoverflow.com/questions/33524824/fill-in-blank-dates-for-a-grouped-query-which-returns-some-null-rows/33559826#33559826", "title": "Fill in blank dates for a grouped query which returns some null rows", "body": "<p>This might get a little specific in parts, but here's how I managed to get the desired output. I decided to have this rails controller give me the exact input I'll need for my Angular Google Charts, but I made it clear where the question is directly answered In terms of a method to fill in missing dates and missing row values:</p>\n\n<pre><code>        from = params[:from] || (params[:days].to_i-1).days.ago.to_date\n        to = params[:to] || 0.days.ago.to_date\n\n        all_data = current_user.values.all\n                    .where(field_id: params[:field_id], created_at: from.beginning_of_day .. to.end_of_day)\n                    .where.not(input: nil)\n                    .order(input: :desc)\n                    .group_by { |value| [value['created_at'].to_date, value['input']] }\n                    .map { |k, v| {'date': k.first, 'input': k.last, 'count': v.length} }\n\n        # the object which will hold the data to be returned\n\n        grouped = {:cols =&gt; [], :rows =&gt; [] }\n\n        # Populate columns with a determined set of values for inputs\n        diffvals = Array.new\n        all_data.each { |day| diffvals.push day[:input] }\n        diffvals = diffvals.uniq\n        diffvals.each { |input| grouped[:cols].push({'id': \"#{input}-id\", 'label': input, 'type': 'number'}) }\n        grouped[:cols].unshift({'id': 'day', 'label': 'Date', 'type': 'string'})\n\n        ##\n        ##  This and the next commented section answer the question:\n        ## \n        # Create a set of dates that the actual data will be merged into\n        zeros = Array.new\n        (0..params[:days].to_i-1).each do |n|\n            diffvals.each do |input|\n                hash = Hash.new\n                hash[:date], hash[:input], hash[:count] = n.days.ago.to_date, input, 0\n                zeros.push hash\n            end\n        end\n\n        ##\n        ##\n        ##\n        # Group the data by date after mapping the actual data onto the premade set of dates\n        data_by_date = zeros.map do |first_hash| \n            all_data.each do |second_hash|\n                if first_hash[:date] == second_hash[:date] &amp;&amp; first_hash[:input] == second_hash[:input]\n                    first_hash[:count] = second_hash[:count]\n                    break\n                end\n            end\n            first_hash\n        end.group_by { |i| i[:date]}\n\n        # Populate rows of data\n        data_by_date.each_with_index do |(date, values), day|\n            #\n            # The first column is the date\n            grouped[:rows][day] = {c: [{ v: date }] }\n\n            #\n            # Then columns of value inputs\n            (0..grouped[:cols].length-2).each { |value| grouped[:rows][day][:c].push({v: values[value][:count] }) }\n\n            #\n            # Then a column for the total of all value counts\n            grouped[:rows][day][:c].push({v: values.map {|v| v[:count]}.reduce(0, :+) })\n\n        end \n\n        grouped[:cols].push({'id': \"s\", 'label': \"Total\", 'type': 'number'})\n\n        render json: grouped\n</code></pre>\n\n<p>Here's a sample set of data. Favorite color, 3 possible color choices. Over 5 days:</p>\n\n<pre><code>cols:\n    0: {id: \"day\", label: \"Date\", type: \"string\"}\n    1: {id: \"Red-id\", label: \"Red\", type: \"number\"}\n    2: {id: \"Green-id\", label: \"Green\", type: \"number\"}\n    3: {id: \"Blue-id\", label: \"Blue\", type: \"number\"}\n    4: {id: \"s\", label: \"Total\", type: \"number\"}\nrows:\n    0: {c: [{v: \"2015-11-01\"}, {v: 18}, {v: 23}, {v: 8}, {v: 49}]}\n    1: {c: [{v: \"2015-11-02\"}, {v: 4}, {v: 4}, {v: 2}, {v: 10}]}\n    2: {c: [{v: \"2015-11-03\"}, {v: 5}, {v: 16}, {v: 0}, {v: 21}]}\n    3: {c: [{v: \"2015-11-04\"}, {v: 0}, {v: 0}, {v: 0}, {v: 0}]}\n    4: {c: [{v: \"2015-11-05\"}, {v: 0}, {v: 1}, {v: 6}, {v: 7}]}\n</code></pre>\n\n<p>This is exactly what is needed for the Angular Google Chart plugin</p>\n"}], "owner": {"reputation": 119, "user_id": 1705167, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b260d77e92bfc5a21f8a323607ef4c13?s=128&d=identicon&r=PG", "display_name": "zijoud", "link": "https://stackoverflow.com/users/1705167/zijoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 33559826, "answer_count": 2, "score": 1, "last_activity_date": 1446790398, "creation_date": 1446648568, "question_id": 33524824, "link": "https://stackoverflow.com/questions/33524824/fill-in-blank-dates-for-a-grouped-query-which-returns-some-null-rows", "title": "Fill in blank dates for a grouped query which returns some null rows", "body": "<p>I am over my head trying to get data for statistics over the course of n number of days. I don't really care about the output format, as long as it shows the dates in order, and the values as an array... The all_data query (below) will get all the values for determined time period, but it won't create rows for dates where there are no values. The goal is to be able to output this:</p>\n\n<pre><code># Get 10 (for example) days of data-&gt;\n\n[\n    {date:'datetime-day-ago-10', values: [{foo:'bar', foo2:'bar2', foo3:'bar'3}]}\n    {date:'datetime-day-ago-9', values: [{foo:'bar', foo2:'bar2', foo3:'bar'3}]}\n    {date:'datetime-day-ago-8', values: []}\n    {date:'datetime-day-ago-7', values: [{foo:'bar', foo2:'bar2', foo3:'bar'3}]}\n    {date:'datetime-day-ago-6', values: []}\n    {date:'datetime-day-ago-5', values: []}\n    {date:'datetime-day-ago-4', values: [{foo:'bar', foo2:'bar2', foo3:'bar'3}]}\n    {date:'datetime-day-ago-3', values: [{foo:'bar', foo2:'bar2', foo3:'bar'3}]}\n    {date:'datetime-day-ago-2', values: []}\n    {date:'datetime-day-ago-1', values: []}\n]\n</code></pre>\n\n<p>Here's the method I am using at this point.</p>\n\n<pre><code>def counts\n\n    from = params[:days].to_i.days.ago.to_time.beginning_of_day\n    to = 0.days.ago.to_time.end_of_day\n\n    all_data = current_user.values.all\n                .where(field_id: params[:field_id], created_at: from .. to)\n                .where.not(input: nil)\n                .order(input: :desc)\n                .group_by { |value| value['created_at'].to_date}\n                .map {|k,v| [k,v]}\n\n    grouped = (0..params[:days].to_i-1).to_a.inject([]) do |memo, i|\n        if all_data[i].present?\n            date = all_data[i][0].to_time\n            values = all_data[i][1].group_by { |value| value.input }.map { |k, v| {input:k, count:v.length} }.sort! { |x,y| x['input'] &lt;=&gt; y['input']}\n            total = 0\n            values.each do |value|\n                total = total + value[:count]\n            end\n        else\n\n            # This is where I can't figure out how to assign a date for rows which have no data.\n\n            date = ((i-params[:days].to_i+1)*-(1)).days.ago.beginning_of_day\n\n        end\n        memo &lt;&lt; {'date': date, 'total': total || 0, 'values': values || []}\n        memo\n    end\n\n    grouped = grouped.sort_by { |day| day['date'] }\n    render json: grouped\nend\n\n# Sample of entire output for 10 days\n\n0: {date: \"2015-10-31T00:00:00.000-07:00\", total: 15,\u2026} &lt;- 10-31-2015 HAS VALUES\n1: {date: \"2015-11-01T00:00:00.000-07:00\", total: 49,\u2026} &lt;- 11-01-2015 HAS VALUES\n2: {date: \"2015-11-02T00:00:00.000-08:00\", total: 10,\u2026} &lt;- 11-02-2015 HAS VALUES\n3: {date: \"2015-11-03T00:00:00.000-08:00\", total: 21,\u2026} &lt;- 11-03-2015 HAS VALUES\n4: {date: \"2015-10-30T00:00:00.000-07:00\", total: 0, values: []}\n5: {date: \"2015-10-31T00:00:00.000-07:00\", total: 0, values: []}  \\\n6: {date: \"2015-11-01T00:00:00.000-07:00\", total: 0, values: []}    -  No matter what I try I can't get these dates to be the 5 days before 10-31-2015...\n7: {date: \"2015-11-02T00:00:00.000-08:00\", total: 0, values: []}  /\n8: {date: \"2015-11-03T00:00:00.000-08:00\", total: 0, values: []}\n9: {date: \"2015-11-04T00:00:00.000-08:00\", total: 0, values: []} &lt;- 11-04-2015 This should appear up there ^ under the last HAS VALUES row \n</code></pre>\n\n<p>So, how can I properly create dates for null value rows? And then how can I make sure they fall into the correct order? Like I said I am over my head on this. Algorithms are not my cup of tea.</p>\n"}, {"tags": ["ruby", "windows", "octopress"], "comments": [{"owner": {"reputation": 4288, "user_id": 527152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c784b2e1c3fb28d8bad8f50ca0282b4?s=128&d=identicon&r=PG", "display_name": "Azolo", "link": "https://stackoverflow.com/users/527152/azolo"}, "edited": false, "score": 0, "creation_date": 1447680009, "post_id": 33524519, "comment_id": 55241068, "body": "Color me confused. Pretty sure it is available."}, {"owner": {"reputation": 303, "user_id": 1087836, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8HCmT.jpg?s=128&g=1", "display_name": "Aragok", "link": "https://stackoverflow.com/users/1087836/aragok"}, "reply_to_user": {"reputation": 4288, "user_id": 527152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c784b2e1c3fb28d8bad8f50ca0282b4?s=128&d=identicon&r=PG", "display_name": "Azolo", "link": "https://stackoverflow.com/users/527152/azolo"}, "edited": false, "score": 1, "creation_date": 1449391791, "post_id": 33524519, "comment_id": 55980538, "body": "Today i upgradet Windows 10 to the newest build now the command is avaiable."}, {"owner": {"reputation": 13189, "user_id": 2087628, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/698fddc9acccb5115122e3150f6019fd?s=128&d=identicon&r=PG&f=1", "display_name": "JaskeyLam", "link": "https://stackoverflow.com/users/2087628/jaskeylam"}, "edited": false, "score": 0, "creation_date": 1570528231, "post_id": 33524519, "comment_id": 102933085, "body": "How do you solve the problem at last?"}, {"owner": {"reputation": 303, "user_id": 1087836, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8HCmT.jpg?s=128&g=1", "display_name": "Aragok", "link": "https://stackoverflow.com/users/1087836/aragok"}, "reply_to_user": {"reputation": 13189, "user_id": 2087628, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/698fddc9acccb5115122e3150f6019fd?s=128&d=identicon&r=PG&f=1", "display_name": "JaskeyLam", "link": "https://stackoverflow.com/users/2087628/jaskeylam"}, "edited": false, "score": 0, "creation_date": 1570602751, "post_id": 33524519, "comment_id": 102959228, "body": "@Jaskey The upgrade of Windows 10 solved the problem."}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 1087836, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8HCmT.jpg?s=128&g=1", "display_name": "Aragok", "link": "https://stackoverflow.com/users/1087836/aragok"}, "is_accepted": true, "score": 0, "last_activity_date": 1570602777, "creation_date": 1570602777, "answer_id": 58298278, "question_id": 33524519, "link": "https://stackoverflow.com/questions/33524519/octopress-rake-aborted-during-rake-install-on-windows-10/58298278#58298278", "title": "Octopress &#39;rake aborted&#39; during &#39;rake install&#39; on Windows 10", "body": "<p>An upgrade of Windows 10 to the newest build solved the problem.</p>\n"}], "owner": {"reputation": 303, "user_id": 1087836, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8HCmT.jpg?s=128&g=1", "display_name": "Aragok", "link": "https://stackoverflow.com/users/1087836/aragok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 58298278, "answer_count": 1, "score": 0, "last_activity_date": 1570602777, "creation_date": 1446647652, "last_edit_date": 1446667025, "question_id": 33524519, "link": "https://stackoverflow.com/questions/33524519/octopress-rake-aborted-during-rake-install-on-windows-10", "title": "Octopress &#39;rake aborted&#39; during &#39;rake install&#39; on Windows 10", "body": "<p>Today I tried to get octopress running on Windows and everything worked fine until <code>rake install</code> because then I got this message:</p>\n\n<pre><code>C:\\octopress&gt;rake install --trace\n## Set the codepage to 65001 for Windows machines\nrake aborted!\nErrno::ENOENT: No such file or directory - chcp 65001\nC:/octopress/Rakefile:32:in ``'\nC:/octopress/Rakefile:32:in `&lt;top (required)&gt;'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/rake_module.rb:28:in `load'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/rake_module.rb:28:in `load_rakefile'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/application.rb:689:in `raw_load_rakefile'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/application.rb:94:in `block in load_rakefile'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/application.rb:93:in `load_rakefile'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/application.rb:77:in `block in run'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/lib/rake/application.rb:75:in `run'\nC:/Ruby21/lib/ruby/gems/2.1.0/gems/rake-10.4.2/bin/rake:33:in `&lt;top (required)&gt;'\nC:/Ruby21/bin/rake:23:in `load'\nC:/Ruby21/bin/rake:23:in `&lt;main&gt;'\n</code></pre>\n\n<p>I have already tried reinstalling the gems, running it as administrator and as a normal user.  Has anybody else had the same problem while trying to install octopress under Windows 10?</p>\n\n<p><strong>Edit://</strong> I found out that the error simply belongs to the command 'chcp' which is not avaiable on Windows 10 x64. Is there any way to get this command working on Windows 10 x64?</p>\n"}, {"tags": ["ruby", "compilation", "jekyll"], "comments": [{"owner": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 1, "creation_date": 1446662744, "post_id": 33524335, "comment_id": 54840763, "body": "With no code to benchmark, it&#39;s difficult. Maybe you can look for nested for loops that can be costly."}, {"owner": {"reputation": 20971, "user_id": 3576214, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d2c5a0f2653e7d11d518b584f4c46536?s=128&d=identicon&r=PG", "display_name": "Damjan Pavlica", "link": "https://stackoverflow.com/users/3576214/damjan-pavlica"}, "edited": false, "score": 0, "creation_date": 1498585844, "post_id": 33524335, "comment_id": 76554314, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26855552/jekyll-compiling-seems-way-too-slow\">Jekyll compiling seems WAY too slow</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4708, "user_id": 2088673, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7sLX7.png?s=128&g=1", "display_name": "kernowcode", "link": "https://stackoverflow.com/users/2088673/kernowcode"}, "edited": false, "score": 0, "creation_date": 1470412454, "post_id": 38791768, "comment_id": 64956880, "body": "I also considered changing to Hugo but decided that reorganizing the structure gave me added benefits"}], "tags": [], "owner": {"reputation": 4708, "user_id": 2088673, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7sLX7.png?s=128&g=1", "display_name": "kernowcode", "link": "https://stackoverflow.com/users/2088673/kernowcode"}, "is_accepted": false, "score": 3, "last_activity_date": 1470412391, "last_edit_date": 1470412391, "creation_date": 1470407553, "answer_id": 38791768, "question_id": 33524335, "link": "https://stackoverflow.com/questions/33524335/slow-regeneration-in-jekyll/38791768#38791768", "title": "Slow Regeneration in Jekyll", "body": "<p>There are a few options</p>\n\n<ol>\n<li>Use --incremental on jekyll build or serve but use with caution</li>\n<li>Use --profile on jekyll build to get an output of where time is used up</li>\n<li>You could also have different config.yml files where you might include only draft posts for development and not for production.</li>\n<li>Consider restructuring your development environment \n\n<ul>\n<li>Development folder with _posts containing just a sample</li>\n<li>Production folder with your live set of _posts</li>\n<li>copy you dev content over prior to production build</li>\n</ul></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 959, "user_id": 5826491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jWDOoZ-ApvU/AAAAAAAAAAI/AAAAAAAAD3M/dNJ73bmwFsE/photo.jpg?sz=128", "display_name": "Sharath kumar", "link": "https://stackoverflow.com/users/5826491/sharath-kumar"}, "is_accepted": false, "score": 3, "last_activity_date": 1489632707, "creation_date": 1489632707, "answer_id": 42824430, "question_id": 33524335, "link": "https://stackoverflow.com/questions/33524335/slow-regeneration-in-jekyll/42824430#42824430", "title": "Slow Regeneration in Jekyll", "body": "<p>Run <code>jekyll serve --profile</code> on your site and check what is taking more time to render. It should output a table that looks something like this.</p>\n\n<pre><code>Filename                                                              | Count |    Bytes |  Time\n----------------------------------------------------------------------+-------+----------+------\n_layouts/compress.html                                                |    73 | 1649.86K | 1.526\n_layouts/default.html                                                 |    72 | 1874.79K | 0.445\n_layouts/post.html                                                    |    58 |  980.02K | 0.307\n_posts/2015-12-10-how-to-create-and-host-a-website-on-github-pages.md |     1 |    9.36K | 0.294\nfeed.xml                                                              |     1 |   34.74K | 0.105\n_includes/prev-next.html                                              |    58 |   39.17K | 0.053\nsitemap.xml                                                           |     1 |   19.90K | 0.035\n_pages/archive.md                                                     |     1 |   28.98K | 0.035\n_posts/2017-02-15-jekyll-sort-filters.md                              |     1 |   16.09K | 0.019\n_includes/ga_data_fetch.html                                          |    58 |   41.77K | 0.018\n_includes/disqus-script.html                                          |    58 |   30.89K | 0.018\n_pages/tags.html                                                      |     1 |   14.97K | 0.015\n</code></pre>\n\n<p>That should give you a fair idea on where the problem exists.</p>\n\n<p>Now while making changes to the site, if you want to render only the changed files then use <code>jekyll serve --incremental</code> or <code>jekyll serve -I</code>.</p>\n\n<p>Incremental build still has some issues that the Jekyll team is working on.</p>\n\n<p>A handy option to render only the latest post that you are writing would be <code>jekyll serve --watch --limit_posts 1</code>. This has saved me a lot of time while writing new posts.</p>\n"}, {"tags": [], "owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "is_accepted": false, "score": 0, "last_activity_date": 1519938323, "creation_date": 1519938323, "answer_id": 49058672, "question_id": 33524335, "link": "https://stackoverflow.com/questions/33524335/slow-regeneration-in-jekyll/49058672#49058672", "title": "Slow Regeneration in Jekyll", "body": "<p>The profiling was showing nothing to worry about, but I was still getting 2-3 seconds regeneration times with a simple one page website.</p>\n\n<p>I used a super simple <strong>Gemfile</strong></p>\n\n<pre><code>source 'https://rubygems.org'\nruby \"2.4.2\"\n\ngem \"jekyll\", \"~&gt; 3.6.2\"\n</code></pre>\n\n<p>Then called <code>bundle install</code> again.</p>\n\n<p>After that, regeneration times were back <strong>under 1 second</strong>.</p>\n"}], "owner": {"reputation": 31, "user_id": 2111621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34976ad39621e0718e79e37669bd991f?s=128&d=identicon&r=PG", "display_name": "Willem Lenaerts", "link": "https://stackoverflow.com/users/2111621/willem-lenaerts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1519938323, "creation_date": 1446647082, "question_id": 33524335, "link": "https://stackoverflow.com/questions/33524335/slow-regeneration-in-jekyll", "title": "Slow Regeneration in Jekyll", "body": "<p>I'm developing a blog using jekyll and up until now I was very happy with it.\nBut as I make more posts the regeneration times are getting ridiculous (3-4 minutes). It's just not feasible to wait that long every time you make a change.</p>\n\n<p>Specs:</p>\n\n<ul>\n<li>Ruby 2.2.1</li>\n<li>Jekyll 2.5.3</li>\n<li>markdown: kramdown</li>\n<li>highlighter: pygments</li>\n<li>permalink:pretty</li>\n<li>Working on a cloud service (Cloud9) with 2 GB of RAM</li>\n<li>Not a lot of posts (~10), but I do use a lot of data (10 MB of json files in the \"_data\" folder, 14 MB of images in \"img\" folder)</li>\n<li>Total size of the \"_site\" folder is 40 MB</li>\n</ul>\n\n<p>Is it a normal thing with these specifications?</p>\n\n<p>I've updated to Jekyll 3.0 to try incremental regeneration, but it didn't help in my case. </p>\n\n<p>Any ideas?</p>\n\n<p>Thanks!</p>\n\n<p>Willem</p>\n"}, {"tags": ["ruby", "xml", "nokogiri"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446667512, "post_id": 33524001, "comment_id": 54843487, "body": "According to the spec, <code>&lt;foo &#47;&gt;</code> is the same as <code>&lt;foo&gt;&lt;&#47;foo&gt;</code>, the only difference is one is shorter and cleaner. Why must you have the second form? Is it a requirement or a desire? Since XML files can be huge, being able to use the shorter form can result in smaller files when you get into millions of lines."}, {"owner": {"reputation": 1594, "user_id": 1812321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27aa7afb2a89ee319028048b41db126a?s=128&d=identicon&r=PG", "display_name": "Nickolay Kondratenko", "link": "https://stackoverflow.com/users/1812321/nickolay-kondratenko"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446680530, "post_id": 33524001, "comment_id": 54849823, "body": "As I answered below the reason is in the API. It requires full tags notation"}], "answers": [{"comments": [{"owner": {"reputation": 1594, "user_id": 1812321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27aa7afb2a89ee319028048b41db126a?s=128&d=identicon&r=PG", "display_name": "Nickolay Kondratenko", "link": "https://stackoverflow.com/users/1812321/nickolay-kondratenko"}, "edited": false, "score": 0, "creation_date": 1446651117, "post_id": 33525269, "comment_id": 54832735, "body": "I use this solution as temporary for now. The problem is that all empty tags are either self-closed or not. But for my corner case it is ok. Thanks!"}, {"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "reply_to_user": {"reputation": 1594, "user_id": 1812321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27aa7afb2a89ee319028048b41db126a?s=128&d=identicon&r=PG", "display_name": "Nickolay Kondratenko", "link": "https://stackoverflow.com/users/1812321/nickolay-kondratenko"}, "edited": false, "score": 0, "creation_date": 1446651219, "post_id": 33525269, "comment_id": 54832823, "body": "Out of curiosity, why must only this one tag not be self-closed?"}, {"owner": {"reputation": 1594, "user_id": 1812321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27aa7afb2a89ee319028048b41db126a?s=128&d=identicon&r=PG", "display_name": "Nickolay Kondratenko", "link": "https://stackoverflow.com/users/1812321/nickolay-kondratenko"}, "edited": false, "score": 0, "creation_date": 1446651681, "post_id": 33525269, "comment_id": 54833188, "body": "Actually I&#39;m not sure exactly if it is needed. I need full closed tag for compatibility with an API. I&#39;ll check it. For now current solution is ok."}, {"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "reply_to_user": {"reputation": 1594, "user_id": 1812321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27aa7afb2a89ee319028048b41db126a?s=128&d=identicon&r=PG", "display_name": "Nickolay Kondratenko", "link": "https://stackoverflow.com/users/1812321/nickolay-kondratenko"}, "edited": false, "score": 0, "creation_date": 1446653957, "post_id": 33525269, "comment_id": 54834830, "body": "Yeah, this is probably what you want. If the API doesn&#39;t like a self-closed tag here, it won&#39;t like it elsewhere either. I&#39;ve worked with plenty that behave that way."}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": true, "score": 3, "last_activity_date": 1446654053, "last_edit_date": 1446654053, "creation_date": 1446649840, "answer_id": 33525269, "question_id": 33524001, "link": "https://stackoverflow.com/questions/33524001/create-non-self-closed-empty-tag-with-nokogiri/33525269#33525269", "title": "Create non-self-closed empty tag with Nokogiri", "body": "<p>You can use Nokogiri's <code>NO_EMPTY_TAGS</code> <a href=\"http://www.rubydoc.info/github/sparklemotion/nokogiri/Nokogiri/XML/Node/SaveOptions\" rel=\"nofollow\">save option</a>. (XML calls self-closing tags <a href=\"http://www.w3.org/TR/REC-xml/#sec-starttags\" rel=\"nofollow\">empty-element tags</a>.)</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>builder = Nokogiri::XML::Builder.new do |xml|\n  xml.my_tag({key: :value})\nend\n\nputs builder.to_xml(save_with: Nokogiri::XML::Node::SaveOptions::NO_EMPTY_TAGS)\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;my_tag key=\"value\"&gt;&lt;/my_tag&gt;\n</code></pre>\n\n<p>Each of the options is represented in a bit, so you can mix and match the ones you want. For example, setting <code>NO_EMPTY_TAGS</code> by itself will leave your XML on one line without spacing or indentation. If you still want it formatted for humans, you can bitwise or (<code>|</code>) it with the <code>FORMAT</code> option.</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>builder = Nokogiri::XML::Builder.new do |xml|\n  xml.my_tag({key: :value}) do |my_tag|\n    my_tag.nested({another: :value})\n  end\nend\n\nputs builder.to_xml(\n  save_with: Nokogiri::XML::Node::SaveOptions::NO_EMPTY_TAGS\n)\nputs\nputs builder.to_xml(\n  save_with: Nokogiri::XML::Node::SaveOptions::NO_EMPTY_TAGS |\n             Nokogiri::XML::Node::SaveOptions::FORMAT\n)\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;my_tag key=\"value\"&gt;&lt;nested another=\"value\"&gt;&lt;/nested&gt;&lt;/my_tag&gt;\n\n&lt;?xml version=\"1.0\"?&gt;\n&lt;my_tag key=\"value\"&gt;\n  &lt;nested another=\"value\"&gt;&lt;/nested&gt;\n&lt;/my_tag&gt;\n</code></pre>\n\n<p>There are also a handful of <code>DEFAULT_*</code> options at the end of the list that already combine options into common uses.</p>\n\n<p>Your update mentions \"it saves all tags as non-self-closed\", as if perhaps you only want this single tag instance to be non-self-closed, and the rest to self close. Nokogiri won't produce an inconsistent document like that, but if you must, you can concatenate some XML strings together that you built with different options.</p>\n"}], "owner": {"reputation": 1594, "user_id": 1812321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27aa7afb2a89ee319028048b41db126a?s=128&d=identicon&r=PG", "display_name": "Nickolay Kondratenko", "link": "https://stackoverflow.com/users/1812321/nickolay-kondratenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1959, "favorite_count": 1, "accepted_answer_id": 33525269, "answer_count": 1, "score": 4, "last_activity_date": 1446667383, "creation_date": 1446646204, "last_edit_date": 1495542597, "question_id": 33524001, "link": "https://stackoverflow.com/questions/33524001/create-non-self-closed-empty-tag-with-nokogiri", "title": "Create non-self-closed empty tag with Nokogiri", "body": "<p>When I try to create an XML document with Nokogiri::XML::Builder:</p>\n\n<pre><code>builder = Nokogiri::XML::Builder.new do |xml|\n  xml.my_tag({key: :value})\nend\n</code></pre>\n\n<p>I get the following XML tag:</p>\n\n<pre><code>&lt;my_tag key=\"value\"/&gt;\n</code></pre>\n\n<p>It is self-closed, but I need the full form:</p>\n\n<pre><code>&lt;my_tag key=\"value\"&gt;&lt;/my_tag&gt;\n</code></pre>\n\n<p>When I pass a value inside the node (or even a space):</p>\n\n<pre><code>xml.my_tag(\"content\", key: :value)\nxml.my_tag(\" \", key: :value)\n</code></pre>\n\n<p>It generates the full tag:</p>\n\n<pre><code>&lt;my_tag key=\"value\"&gt;content&lt;/my_tag&gt;\n&lt;my_tag key=\"value\"&gt; &lt;/my_tag&gt;\n</code></pre>\n\n<p>But if I pass either an empty string or <code>nil</code>, or even an empty block:</p>\n\n<pre><code>xml.my_tag(\"\", key: :value)\n</code></pre>\n\n<p>It generates a self-closed tag:</p>\n\n<pre><code>&lt;my_tag key=\"value\"/&gt;\n</code></pre>\n\n<p>I believe there should be some attribute or something else that helps me but simple Googling didn't find the answer.</p>\n\n<p>I found a possible solution in \"<a href=\"https://stackoverflow.com/questions/20685801/building-blank-xml-tags-with-nokogiri\">Building blank XML tags with Nokogiri?</a>\" but it saves all tags as non-self-closed.</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "database", "database-connection"], "comments": [{"owner": {"reputation": 9737, "user_id": 2422778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUihh.jpg?s=128&g=1", "display_name": "Mike Szyndel", "link": "https://stackoverflow.com/users/2422778/mike-szyndel"}, "edited": false, "score": 0, "creation_date": 1446646224, "post_id": 33523885, "comment_id": 54829054, "body": "are you able to connect to this db from coming line or some other tool using those credentials?"}, {"owner": {"reputation": 880, "user_id": 5346366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd939033675b9ac69afa4353a1c7dceb?s=128&d=identicon&r=PG&f=1", "display_name": "dthal", "link": "https://stackoverflow.com/users/5346366/dthal"}, "edited": false, "score": 0, "creation_date": 1446646553, "post_id": 33523885, "comment_id": 54829319, "body": "update your database.   &#39;database: &quot;dev&quot;&#39; and not   &#39;database: db/dev.mysql2&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5524923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e167a43e20bcb81cacfc8e7221ad064?s=128&d=identicon&r=PG&f=1", "display_name": "railsgirl", "link": "https://stackoverflow.com/users/5524923/railsgirl"}, "edited": false, "score": 0, "creation_date": 1446647791, "post_id": 33524194, "comment_id": 54830217, "body": "not working :/ i have got still the same error"}, {"owner": {"reputation": 880, "user_id": 5346366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd939033675b9ac69afa4353a1c7dceb?s=128&d=identicon&r=PG&f=1", "display_name": "dthal", "link": "https://stackoverflow.com/users/5346366/dthal"}, "reply_to_user": {"reputation": 53, "user_id": 5524923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e167a43e20bcb81cacfc8e7221ad064?s=128&d=identicon&r=PG&f=1", "display_name": "railsgirl", "link": "https://stackoverflow.com/users/5524923/railsgirl"}, "edited": false, "score": 0, "creation_date": 1446648028, "post_id": 33524194, "comment_id": 54830363, "body": "is your username and your password defently correct?"}], "tags": [], "owner": {"reputation": 880, "user_id": 5346366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd939033675b9ac69afa4353a1c7dceb?s=128&d=identicon&r=PG&f=1", "display_name": "dthal", "link": "https://stackoverflow.com/users/5346366/dthal"}, "is_accepted": false, "score": 0, "last_activity_date": 1446669039, "last_edit_date": 1446669039, "creation_date": 1446646737, "answer_id": 33524194, "question_id": 33523885, "link": "https://stackoverflow.com/questions/33523885/mysql2error-access-denied-for-user-rootlocalhost-using-password-yes/33524194#33524194", "title": "Mysql2::Error Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)", "body": "<p>You need to correct your database.yml\nIt should look like this:</p>\n\n<pre><code>default: &amp;default\n  adapter: mysql2\n  host: 127.0.0.1\n  port: 3306\n  username: root\n  password: hazzy93\n\ndevelopment:\n  &lt;&lt;: *default\n  database: development\n\ntest:\n  &lt;&lt;: *default\n  database: test\n\nproduction:\n  &lt;&lt;: *default\n  database: production\n</code></pre>\n\n<p>You used the Syntax for sqlite3</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 5524923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e167a43e20bcb81cacfc8e7221ad064?s=128&d=identicon&r=PG&f=1", "display_name": "railsgirl", "link": "https://stackoverflow.com/users/5524923/railsgirl"}, "edited": false, "score": 0, "creation_date": 1446648770, "post_id": 33524670, "comment_id": 54830963, "body": "still not working :/"}, {"owner": {"reputation": 38, "user_id": 5324536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e3ae468cb20cf4a300c055b1634779?s=128&d=identicon&r=PG&f=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/5324536/akash"}, "reply_to_user": {"reputation": 53, "user_id": 5524923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e167a43e20bcb81cacfc8e7221ad064?s=128&d=identicon&r=PG&f=1", "display_name": "railsgirl", "link": "https://stackoverflow.com/users/5524923/railsgirl"}, "edited": false, "score": 0, "creation_date": 1446788382, "post_id": 33524670, "comment_id": 54899236, "body": "You sure your username and password is correct?"}], "tags": [], "owner": {"reputation": 38, "user_id": 5324536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e3ae468cb20cf4a300c055b1634779?s=128&d=identicon&r=PG&f=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/5324536/akash"}, "is_accepted": true, "score": 0, "last_activity_date": 1446648122, "creation_date": 1446648122, "answer_id": 33524670, "question_id": 33523885, "link": "https://stackoverflow.com/questions/33523885/mysql2error-access-denied-for-user-rootlocalhost-using-password-yes/33524670#33524670", "title": "Mysql2::Error Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)", "body": "<p>Try this </p>\n\n<pre><code>development:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: development\n  pool: 5\n  username: root\n  password: hazzy93\n  host: localhost\n\n\ntest:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: test\n  pool: 5\n  username: root\n  password: hazzy93\n  host: localhost\n\nproduction:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: production\n  pool: 5\n  username: root\n  password: hazzy93\n  host: localhost\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5524923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e167a43e20bcb81cacfc8e7221ad064?s=128&d=identicon&r=PG&f=1", "display_name": "railsgirl", "link": "https://stackoverflow.com/users/5524923/railsgirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4945, "favorite_count": 0, "closed_date": 1446673167, "accepted_answer_id": 33524670, "answer_count": 2, "score": 1, "last_activity_date": 1446669039, "creation_date": 1446645895, "last_edit_date": 1446646182, "question_id": 33523885, "link": "https://stackoverflow.com/questions/33523885/mysql2error-access-denied-for-user-rootlocalhost-using-password-yes", "closed_reason": "Duplicate", "title": "Mysql2::Error Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)", "body": "<p>I want run a rake db:migrate, but migrated are aborted and i see this error:</p>\n\n<pre><code>rake aborted!\nMysql2::Error: Access denied for user 'root'@'localhost' (using password: YES)\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/mysql2-0.3.20/lib/mysql2/client.rb:70:in `connect'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/mysql2-0.3.20/lib/mysql2/client.rb:70:in `initialize'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_handling.rb:113:in `retrieve_connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/connection_handling.rb:87:in `connection'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/migration.rb:913:in `initialize'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/migration.rb:820:in `new'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/migration.rb:820:in `up'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/migration.rb:798:in `migrate'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/tasks/database_tasks.rb:137:in `migrate'\n/home/marketa/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.4/lib/active_record/railties/databases.rake:44:in `block (2 levels) in &lt;top (required)&gt;'\n/home/marketa/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'\n/home/marketa/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nTasks: TOP =&gt; db:migrate\n(See full trace by running task with --trace)\n</code></pre>\n\n<p>if I run a server I will see this error page:</p>\n\n<pre><code>Mysql2::Error\nAccess denied for user 'root'@'localhost' (using password: YES)\nExtracted source (around line #70):       \n\n\n     socket = socket.to_s unless socket.nil?\n\n      connect user, pass, host, port, database, socket, flags #70line is this\n    end\n\n    def self.default_query_options\n</code></pre>\n\n<p>my database.yml file looks like this:</p>\n\n<pre><code>default: &amp;default\n  adapter: mysql2\n  pool: 5\n  timeout: 5000\n  host: localhost\n  username: root\n  password: hazzy93\n\ndevelopment:\n  &lt;&lt;: *default\n  database: db/dev.mysql2\n\ntest:\n  &lt;&lt;: *default\n  database: db/test.mysql2\n\nproduction:\n  &lt;&lt;: *default\n  database: db/production.mysql2\n</code></pre>\n"}, {"tags": ["javascript", "ruby", "idioms", "iife"], "answers": [{"comments": [{"owner": {"reputation": 2888, "user_id": 1806803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a9eacd29aca2e5f9829fcbbd3fe552?s=128&d=identicon&r=PG", "display_name": "2called-chaos", "link": "https://stackoverflow.com/users/1806803/2called-chaos"}, "edited": false, "score": 1, "creation_date": 1446646932, "post_id": 33524112, "comment_id": 54829602, "body": "That looks weird in my ruby eyes... the parentheses after lambda are not needed and I never seen a block call like this... <code>-&gt;{ foo = &quot;bar&quot; }.call</code> looks more ruby like imho."}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "reply_to_user": {"reputation": 2888, "user_id": 1806803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a9eacd29aca2e5f9829fcbbd3fe552?s=128&d=identicon&r=PG", "display_name": "2called-chaos", "link": "https://stackoverflow.com/users/1806803/2called-chaos"}, "edited": false, "score": 0, "creation_date": 1446647190, "post_id": 33524112, "comment_id": 54829791, "body": "You are right with the parentheses. I tend to add them for lambdas out of habit, but you are right, they are not needed here. <code>.()</code> is exactly the same as <code>.call</code>; but I like the former better most of the time as it better transfers the function-like behavior of the procs. Finally, the new stabby lambda syntax looks weird with multi-line bodies in my eyes so I tend to avoid it here. In the end, it&#39;s all personal taste, both variants work exactly the same."}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "reply_to_user": {"reputation": 2888, "user_id": 1806803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a9eacd29aca2e5f9829fcbbd3fe552?s=128&d=identicon&r=PG", "display_name": "2called-chaos", "link": "https://stackoverflow.com/users/1806803/2called-chaos"}, "edited": false, "score": 1, "creation_date": 1446647361, "post_id": 33524112, "comment_id": 54829906, "body": "Fun fact: <code>.()</code> is actually resolved by the parser as syntactic sugar for the <code>call</code> method. It works on all objects defining a <code>call</code> method, not only procz. This can be useful when e.g. creating dynamic service objects which look similar to methods but are actually complex dynamic things."}, {"owner": {"reputation": 79498, "user_id": 298624, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5b84ccc2f7709bbb7105baeb40e0961b?s=128&d=identicon&r=PG", "display_name": "fl00r", "link": "https://stackoverflow.com/users/298624/fl00r"}, "edited": false, "score": 0, "creation_date": 1446648256, "post_id": 33524112, "comment_id": 54830560, "body": "you could go with <code>instance_exec{ foo = &#39;bar&#39;; p foo }</code> as well"}], "tags": [], "owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "is_accepted": false, "score": 3, "last_activity_date": 1446646991, "last_edit_date": 1446646991, "creation_date": 1446646525, "answer_id": 33524112, "question_id": 33523714, "link": "https://stackoverflow.com/questions/33523714/how-can-i-write-an-iife-in-ruby/33524112#33524112", "title": "How can I write an IIFE in Ruby?", "body": "<pre><code>defined?(foo)\n# =&gt; nil\n\n# This defines a lambda, i.e. a closure with its own variable scope, among other things\n# and directly executes it\nlambda {\n  foo = 'bar'\n  puts foo\n}.()\n\ndefined?(foo)\n# =&gt; nil\n</code></pre>\n\n<p>In this example, we first check if the variable <code>foo</code> is defined, which it is not. Then, we create a new lambda object (which in Ruby is a special kind of <a href=\"http://ruby-doc.org/core-2.2.3/Proc.html\" rel=\"nofollow\">Proc</a>. and directly execute it.</p>\n\n<p>Proc inherit the variables of the surrounding scope so that all local variables which are already defined can also be accessed (and changed) inside the proc. New variables defined in the proc only however will not be visible outside of the proc.</p>\n\n<p>This can be verified with the final <code>defined?</code> statement.</p>\n\n<p>Please note though that this technique is not very ruby-like. You should instead aim to create actual methods whoch you can then call. In order to encapsulate data and behavior you can also create small classes, even for one-off use which fully handle your behavior and all the required data.</p>\n\n<p>Generally in Ruby, you tend to not pass anonymous closures around (i.e. anonymous functions in javascript or procs/lambdas/blocks in Ruby) but use full objects. If you use the technique above often in your code, you will earn concerned glances from experienced ruby developers.</p>\n"}, {"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": true, "score": 2, "last_activity_date": 1446650253, "creation_date": 1446650253, "answer_id": 33525422, "question_id": 33523714, "link": "https://stackoverflow.com/questions/33523714/how-can-i-write-an-iife-in-ruby/33525422#33525422", "title": "How can I write an IIFE in Ruby?", "body": "<p>Well, you do it the same way: write an anymous lambda literal, and immediately call it.</p>\n\n<p>There is one caveat, though: Ruby does not have variable declarations. So, any use of a variable name inside a block which also exists outside the block refers to the captured outside variable, whereas in ECMAScript, if you declare <code>var foo</code> within a function, it will shadow the outside variable <code>foo</code>.</p>\n\n<p>If you want the same behavior in Ruby, you have to explicitly declare <code>foo</code> as a block-local variable in the block's parameter list:</p>\n\n<pre><code>-&gt; (;foo) do\n  foo = 'bar'\n  puts 'hi!'\nend.()\n</code></pre>\n\n<p>If you don't do that, the assignment inside the block is going to modify a captured outside binding. Compare:</p>\n\n<pre><code>foo = 'foo'\n\n-&gt; do\n  foo = 'bar'\n  puts 'hi!'\nend.()\n\nfoo\n# =&gt; 'bar'\n</code></pre>\n\n<p>As you can see, the outside binding is modified.</p>\n\n<pre><code>foo = 'foo'\n\n-&gt; (;foo) do\n  foo = 'bar'\n  puts 'hi!'\nend.()\n\nfoo\n# =&gt; 'foo'\n</code></pre>\n\n<p>As you can see, only the second one actually matches the ECMAScript version:</p>\n\n<pre><code>\"use strict\";\n\nconst foo = 'foo';\n\n(() =&gt; {\n  const foo = 'bar';\n  console.log('hi!');\n})()\n\nfoo\n// =&gt; 'foo'\n</code></pre>\n"}], "owner": {"reputation": 3145, "user_id": 1067145, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/27ee4361799dc32f89db00ad5f8e5ec0?s=128&d=identicon&r=PG", "display_name": "Max Wallace", "link": "https://stackoverflow.com/users/1067145/max-wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 1, "accepted_answer_id": 33525422, "answer_count": 2, "score": 4, "last_activity_date": 1446650253, "creation_date": 1446645422, "question_id": 33523714, "link": "https://stackoverflow.com/questions/33523714/how-can-i-write-an-iife-in-ruby", "title": "How can I write an IIFE in Ruby?", "body": "<p>In Javascript, an IIFE (Immediately-Invoked Function Expression, though there may be other expansions of the acronym) can be written as:</p>\n\n<pre><code>(function () {\n  var foo = 'bar'\n  console.log('hi!');\n})();\n</code></pre>\n\n<p>where the variable declaration <code>foo</code> does not pollute the current scope. How can I do the same in a Ruby file?</p>\n\n<p>I would like to create some temporary variables in a constrained scope (with closure), and make them inaccessible to other code later on in the file.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "highcharts", "asset-pipeline"], "owner": {"reputation": 75, "user_id": 3944137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a1b28df6d8ff7f9b61e5b9b2938e63?s=128&d=identicon&r=PG&f=1", "display_name": "Usman Arshad", "link": "https://stackoverflow.com/users/3944137/usman-arshad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446643754, "creation_date": 1446643754, "question_id": 33523179, "link": "https://stackoverflow.com/questions/33523179/rails-4-assets-are-not-compiling-in-production-environment", "title": "Rails 4 Assets are not compiling in production environment", "body": "<p>My app is running in dev environment. I am using JQCloud.\nIts working fine in development mode but when i run following command</p>\n\n<pre><code>RAILS_ENV=production rake assets:precompile\n</code></pre>\n\n<p>All assets precompile but after running my server in production mode i am getting following error.</p>\n\n<pre><code>jQCloud is not a function\n\n\napplication.css.scss\n\n *= require_tree .\n *= require_self\n *= require font-awesome\n */\n\n\nappication.js\n\n//= require jquery\n//= require jquery_ujs\n//= require bootstrap-sprockets\n//= require_tree .\n</code></pre>\n\n<p>dashing widegts index.js</p>\n\n<pre><code>//= require_tree .\n//= require highcharts/highstock\n//= require highcharts/highcharts-more\n//= require highcharts/modules/exporting\n//= require jquery-ui\n//= require jqcloud\n</code></pre>\n\n<p>Facing error following errors</p>\n\n<pre><code>Uncaught TypeError: $(...).jQCloud is not a function \nUncaught ReferenceError: Highcharts is not defined\n</code></pre>\n"}, {"tags": ["ruby", "neo4j", "jruby"], "answers": [{"tags": [], "owner": {"reputation": 9303, "user_id": 2767626, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5f74cbf47c5fa12d9a045cabb5c2e0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Gassmann", "link": "https://stackoverflow.com/users/2767626/tobias-gassmann"}, "is_accepted": true, "score": 0, "last_activity_date": 1446644053, "creation_date": 1446644053, "answer_id": 33523278, "question_id": 33523099, "link": "https://stackoverflow.com/questions/33523099/cant-connect-to-database-embedded-db-available-server-db/33523278#33523278", "title": "Can&#39;t connect to database &#39;embedded_db&#39;, available server_db", "body": "<p>Found the docs, answering my own question:</p>\n\n<p>Connecting to the neo4j-files is possible only from within the jRuby-Process:</p>\n\n<p><a href=\"http://neo4jrb.readthedocs.org/en/stable/Setup.html\" rel=\"nofollow\">http://neo4jrb.readthedocs.org/en/stable/Setup.html</a></p>\n"}], "owner": {"reputation": 9303, "user_id": 2767626, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5f74cbf47c5fa12d9a045cabb5c2e0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Gassmann", "link": "https://stackoverflow.com/users/2767626/tobias-gassmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 33523278, "answer_count": 1, "score": 0, "last_activity_date": 1446644053, "creation_date": 1446643514, "question_id": 33523099, "link": "https://stackoverflow.com/questions/33523099/cant-connect-to-database-embedded-db-available-server-db", "title": "Can&#39;t connect to database &#39;embedded_db&#39;, available server_db", "body": "<p>I am trying to connect to the neo4j-database-files (embedded) from ruby.</p>\n\n<p>Now I am getting this error:</p>\n\n<p>Can't connect to database 'embedded_db', available server_db (Neo4j::Session::InitializationError)</p>\n\n<p>Is using the embedded-connection only possible with JRuby? I am currently using the \"standard\" ruby.</p>\n\n<p>Or is it because the folder is empty? How would I create an empty new database (embedded-ly) from within Ruby?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3265524, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001045011753/picture?type=large", "display_name": "Ami", "link": "https://stackoverflow.com/users/3265524/ami"}, "is_accepted": false, "score": -1, "last_activity_date": 1446643119, "creation_date": 1446643119, "answer_id": 33522977, "question_id": 33522597, "link": "https://stackoverflow.com/questions/33522597/writing-ruby-file-with-only-n-line-breaks/33522977#33522977", "title": "Writing Ruby File with Only \\n line breaks", "body": "<p>Don't put escape sequences in double quote because ruby look for substitutions and replace them with some binary value.</p>\n\n<p>If you want enforcing ruby to keep to same like '\\n' than you have to use single quote.</p>\n\n<p>Example:</p>\n\n<p>data = 'Hello\\nWorld'</p>\n\n<p>File.open(\"#{ Rails.root }/tmp/file.txt\", \"wb\") { |f| f.write(data) }</p>\n\n<p>It will keep it same. :)</p>\n"}], "owner": {"reputation": 97, "user_id": 4078925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df281284f2531b94f6db44bc015b2e57?s=128&d=identicon&r=PG", "display_name": "user215674", "link": "https://stackoverflow.com/users/4078925/user215674"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446643119, "creation_date": 1446641902, "question_id": 33522597, "link": "https://stackoverflow.com/questions/33522597/writing-ruby-file-with-only-n-line-breaks", "title": "Writing Ruby File with Only \\n line breaks", "body": "<p>I have recently moved an application from Ubuntu across to a Redhat server, and noticed that a difference has occurred when writing a file, with \\r\\n being written, rather than simply \\n.</p>\n\n<p>I am explicitly setting the \\n in the data to be written. So, for example</p>\n\n<pre><code>data = \"Hello\\nWorld\"\nFile.open(\"#{ Rails.root }/tmp/file.txt\", \"wb\") { |f| f.write(data) }\n</code></pre>\n\n<p>What is being written is actually \"Hello\\r\\nWorld\".</p>\n\n<p>I know Ruby sets the line breaks according to the system it is being run on, but is there a way of enforcing it to keep to \\n whatever the system?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sql-server"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 1189805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e0934147470a3c680fb2965a0a97b1?s=128&d=identicon&r=PG", "display_name": "the_angry_angel", "link": "https://stackoverflow.com/users/1189805/the-angry-angel"}, "edited": false, "score": 0, "creation_date": 1446653531, "post_id": 33525125, "comment_id": 54834528, "body": "As much as I&#39;d like to have an API in front of the common data, the 2 apps will be grouping and performing different operations on the data in ways that I don&#39;t know how I&#39;d provide 2 the 2 apps without either just providing API methods for them all - which would get big very fast. Either that or I&#39;d have to provide JSON feeds for a large number of objects and then do the processing in the client app.. which seems very wasteful. It seems easier if I could have direct access to the DB. Am I just trying too hard to avoid this? Is your opinion with this still in mind to have an API between them?"}, {"owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "reply_to_user": {"reputation": 45, "user_id": 1189805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e0934147470a3c680fb2965a0a97b1?s=128&d=identicon&r=PG", "display_name": "the_angry_angel", "link": "https://stackoverflow.com/users/1189805/the-angry-angel"}, "edited": false, "score": 0, "creation_date": 1446663034, "post_id": 33525125, "comment_id": 54840934, "body": "It depends how much the queries change. If it&#39;s a case of running the same complicated queries with just a few variables changing (such as start and end of period), that can be exposed via a JSON api easily. If the queries change a lot, then you may have to access the DB directly. Having a second connection defined in a rails app is fairly straight-forward. I think the main criteria is not the complication of the query, but how much they need to be modified. The more change, the easier it would be to go to the DB connection."}, {"owner": {"reputation": 45, "user_id": 1189805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e0934147470a3c680fb2965a0a97b1?s=128&d=identicon&r=PG", "display_name": "the_angry_angel", "link": "https://stackoverflow.com/users/1189805/the-angry-angel"}, "edited": false, "score": 0, "creation_date": 1446663132, "post_id": 33525125, "comment_id": 54841004, "body": "Thanks for your thoughts Reggie. Much appreciated &lt;3"}], "tags": [], "owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1446649413, "creation_date": 1446649413, "answer_id": 33525125, "question_id": 33522574, "link": "https://stackoverflow.com/questions/33522574/2-rails-apps-shared-data-using-common-engine/33525125#33525125", "title": "2 rails apps - shared data using common engine", "body": "<p>I think 3 is the best option. However, I'd expose the common db #3 data via an api. That is, have an application that is used to manage the shared data (HTML admin interface, and json feeds for the other apps to connect on). </p>\n\n<p>Keep the shared data app really simple. Just CRUD actions on the data. So the other two apps will grab the data from the shared data app, manipulate to match local requirements, and then display it; or allow input - manipulate the input to match the shared structure, and then persist via the shared data app's API update/create actions. </p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 1189805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e0934147470a3c680fb2965a0a97b1?s=128&d=identicon&r=PG", "display_name": "the_angry_angel", "link": "https://stackoverflow.com/users/1189805/the-angry-angel"}, "is_accepted": false, "score": 0, "last_activity_date": 1446719883, "creation_date": 1446719883, "answer_id": 33542394, "question_id": 33522574, "link": "https://stackoverflow.com/questions/33522574/2-rails-apps-shared-data-using-common-engine/33542394#33542394", "title": "2 rails apps - shared data using common engine", "body": "<p>As an update to this, due to how tightly coupled the 2 applications are, and other needs that came up yesterday, I've ended up pulling the migrations out of both and using <a href=\"https://github.com/rosenfeld/active_record_migrations\" rel=\"nofollow\">active_record_migrations</a> to manage and orchestrate the migrations for both applications.</p>\n\n<p>Effectively I could've done the same by having a dummy or master application, however this feels somewhat cleaner. </p>\n\n<p>However, this comes at the expense of being able to use models effectively in the migrations. For my use case this doesn't matter at all.</p>\n"}], "owner": {"reputation": 45, "user_id": 1189805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e0934147470a3c680fb2965a0a97b1?s=128&d=identicon&r=PG", "display_name": "the_angry_angel", "link": "https://stackoverflow.com/users/1189805/the-angry-angel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 1, "accepted_answer_id": 33525125, "answer_count": 2, "score": 1, "last_activity_date": 1446719883, "creation_date": 1446641852, "last_edit_date": 1495541030, "question_id": 33522574, "link": "https://stackoverflow.com/questions/33522574/2-rails-apps-shared-data-using-common-engine", "title": "2 rails apps - shared data using common engine", "body": "<p>I've started off with a single Rails application. Very simple, largely read-only, front end for a line of business application (using view backed to retrieve data) - with a few standard tables to augment the views.</p>\n\n<p>I now have a need to use the same set of data in a new application (the 2 applications, whilst sharing the same data, work differently enough its not trivial to try and merge them into the same application).</p>\n\n<p>I figured it would be easiest to split the models I can reuse into their own engine and have the 2 applications share the database. </p>\n\n<p>Adding an API and having both applications query that is an option, but in practice I'm not sure I can provide an API that will satisfy both applications properly, as they use the data in different ways.</p>\n\n<p>On that basis I figured if I gave each application a table prefix, or use different schemas to namespace them - that way each application has it's own distinct tables for stuff they don't share, but I can easily reuse the existing views without having to duplicate them.</p>\n\n<p>Both options seems to work great, except I forgot about migrations for the common views and data.</p>\n\n<p>So the only things I can think of are:</p>\n\n<ol>\n<li><p>Since the 2 applications are kinda tightly coupled anyway, I have no migrations in my common data engine at all - any changes to the views/tables will be dealt with by the \"first\" application. This seems a bit nasty, since the models are now contained in a separate engine.\nI dislike the idea of having migrations in the engine and then copying them into one or the other, since that's basically the same thing.</p></li>\n<li><p>I use <a href=\"http://blog.pivotal.io/pivotal-labs/labs/leave-your-migrations-in-your-rails-engines\" rel=\"nofollow noreferrer\">pivotal labs</a> advice, but add some code to detect if it's in the \"first\" application, and only apply to that. If I fail to do that I end up with both applications including the engine migrations, which results in both applications trying to run the same migrations, and causing nothing but pain.</p></li>\n<li><p>I actually split off the common data into it's own database. So application #1 uses db #1, application #2 uses db #2, and the common data is housed in db #3 and accessible by both applications. With a bit of faffing, I'm guessing I can end up with 3 dbs, 3 schema_migrations, and I can just blindly leave my migrations in the engine, and include them in both applications as per <a href=\"http://blog.pivotal.io/pivotal-labs/labs/leave-your-migrations-in-your-rails-engines\" rel=\"nofollow noreferrer\">pivotal labs</a> - my plan is to do something like <a href=\"https://stackoverflow.com/questions/6631265/multiple-database-connections-schema-migrations-is-looked-up-in-the-wrong-datab\">this</a> to make all this work, and have the common models setup to connect to their own DB, rather than the application DB</p></li>\n<li><p>Stick with 1 db and multiple schemas, and somehow setup a task to run the engine migrations only, using an account locked down to it's own schema only - that way it creates it's own schema_migrations.</p></li>\n</ol>\n\n<p>I kinda feel paralyzed as I'm not sure what is the least shitty option. 3 or 4 feels \"best\", but not great.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3"], "answers": [{"tags": [], "owner": {"reputation": 19398, "user_id": 435471, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WvUmQ.jpg?s=128&g=1", "display_name": "Kyle Decot", "link": "https://stackoverflow.com/users/435471/kyle-decot"}, "is_accepted": true, "score": 4, "last_activity_date": 1446641726, "last_edit_date": 1446641726, "creation_date": 1446641311, "answer_id": 33522405, "question_id": 33522357, "link": "https://stackoverflow.com/questions/33522357/no-route-matches-post-tv-series-new/33522405#33522405", "title": "No route matches [POST] &quot;/tv_series/new&quot;", "body": "<p>Remove the <code>, :url =&gt; { :action =&gt; :new }</code> and you should be good to go.</p>\n\n<p>This is because there is no route that matches <code>POST /tv_series/new</code>. Instead let Rails figure out the route for you by removing the line above and it will use <code>POST /tv_series</code>.</p>\n\n<p>If you run <code>rake routes</code> you should be able to see all of the available routes along w/ their corresponding HTTP verb (GET, POST, PATCH, etc)</p>\n\n<p><em>On a sidenote I think your private method is named incorrectly. Looks like you have <code>def show</code> when what you meant to have is <code>def serie_params</code>.</em></p>\n"}, {"comments": [{"owner": {"reputation": 19398, "user_id": 435471, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WvUmQ.jpg?s=128&g=1", "display_name": "Kyle Decot", "link": "https://stackoverflow.com/users/435471/kyle-decot"}, "edited": false, "score": 0, "creation_date": 1446642725, "post_id": 33522715, "comment_id": 54826723, "body": "This approach will work for creating a record however the OP will run into problems when using this same partial for edit/update as the URL is hardcoded."}, {"owner": {"reputation": 1, "user_id": 3265524, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001045011753/picture?type=large", "display_name": "Ami", "link": "https://stackoverflow.com/users/3265524/ami"}, "reply_to_user": {"reputation": 19398, "user_id": 435471, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WvUmQ.jpg?s=128&g=1", "display_name": "Kyle Decot", "link": "https://stackoverflow.com/users/435471/kyle-decot"}, "edited": false, "score": 0, "creation_date": 1446647499, "post_id": 33522715, "comment_id": 54830000, "body": "Yes but you can make use ternary operator to handle this situation. by using new_record? method. Refer this link <a href=\"http://apidock.com/rails/ActiveRecord/Persistence/new_record%3F\" rel=\"nofollow noreferrer\">apidock.com/rails/ActiveRecord/Persistence/new_record%3F</a>"}, {"owner": {"reputation": 41, "user_id": 5503665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/248788b2d25094f54eddeb1e0650ddae?s=128&d=identicon&r=PG&f=1", "display_name": "ryhan112", "link": "https://stackoverflow.com/users/5503665/ryhan112"}, "edited": false, "score": 0, "creation_date": 1446799854, "post_id": 33522715, "comment_id": 54903718, "body": "Thanks very much i did figure it out."}], "tags": [], "owner": {"reputation": 1, "user_id": 3265524, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001045011753/picture?type=large", "display_name": "Ami", "link": "https://stackoverflow.com/users/3265524/ami"}, "is_accepted": false, "score": 0, "last_activity_date": 1446642335, "creation_date": 1446642335, "answer_id": 33522715, "question_id": 33522357, "link": "https://stackoverflow.com/questions/33522357/no-route-matches-post-tv-series-new/33522715#33522715", "title": "No route matches [POST] &quot;/tv_series/new&quot;", "body": "<p>Run <strong>rake routes</strong> to the console you will get different path for HTTP Verb (GET, POST, PUT/PATCH, DELETE) </p>\n\n<p>Accordingly use the path.</p>\n\n<p>In your case for creating tv_series you have to use post HTTP verb.\nReplace :url => { :action => :new } with create action path provided for POST HTTP verb. It will work fine.</p>\n\n<p>Refer this link: <a href=\"http://guides.rubyonrails.org/routing.html\" rel=\"nofollow\">http://guides.rubyonrails.org/routing.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 4497, "user_id": 1050875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3549436942ea890da97f41d1dbd3594f?s=128&d=identicon&r=PG", "display_name": "akbarbin", "link": "https://stackoverflow.com/users/1050875/akbarbin"}, "is_accepted": false, "score": 0, "last_activity_date": 1446646526, "creation_date": 1446646526, "answer_id": 33524115, "question_id": 33522357, "link": "https://stackoverflow.com/questions/33522357/no-route-matches-post-tv-series-new/33524115#33524115", "title": "No route matches [POST] &quot;/tv_series/new&quot;", "body": "<p>For rails 4, as default it has same name of controller, model, and view. In this context, you have different name of model and controller/view. So you have to determine your URL in your form into this:</p>\n\n<pre><code>&lt;%= simple_form_for @series, :url =&gt; { :controller =&gt; :tv_series, :action =&gt; :create }, :method =&gt; :post do |f| %&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;%= simple_form_for @series, :url =&gt; tv_series_path, :method =&gt; :post do |f| %&gt;\n</code></pre>\n\n<p>I hope this help you.</p>\n"}], "owner": {"reputation": 41, "user_id": 5503665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/248788b2d25094f54eddeb1e0650ddae?s=128&d=identicon&r=PG&f=1", "display_name": "ryhan112", "link": "https://stackoverflow.com/users/5503665/ryhan112"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 33522405, "answer_count": 3, "score": 0, "last_activity_date": 1446647938, "creation_date": 1446641192, "last_edit_date": 1446647938, "question_id": 33522357, "link": "https://stackoverflow.com/questions/33522357/no-route-matches-post-tv-series-new", "title": "No route matches [POST] &quot;/tv_series/new&quot;", "body": "<p>When I display the form, I type in some stuff then I want it to take to the index view </p>\n\n<p><strong>_form.html.erb</strong> </p>\n\n<pre><code>&lt;%= simple_form_for @series, :url =&gt; { :action =&gt; :new } do |f| %&gt;\n  &lt;%= f.input :title, label: \"Series Title\" %&gt;\n  &lt;%= f.input :description %&gt;\n  &lt;%= f.input :actor %&gt;\n  &lt;%= f.button :submit %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Can some one please help me indentify the error for me? I don't know why its not creating the tvseries when I try to create, when I check <code>tvseries.connection</code>, it says its <code>nil</code>, there isn't anything in. </p>\n\n<p><strong>tv_series_controller.rb</strong></p>\n\n<pre><code> class TvSeriesController &lt; ApplicationController\n   def index\n   end\n\n   def new\n     @series = Series.new\n   end\n\n   def create\n     @series = Series.new(serie_params)\n     if @series.save\n       redirect_to root_path\n     else\n       render 'new'\n     end\n   end\n\n   private\n     def show\n       params.require(:series).permit(:title, :description,:actor)\n     end\n end\n</code></pre>\n\n<p><strong>new.html.erb</strong></p>\n\n<pre><code>&lt;h1&gt;New Serie&lt;/h1&gt;\n\n&lt;%= render 'form' %&gt;\n</code></pre>\n\n<p><strong>routes.rb</strong></p>\n\n<pre><code>Rails.application.routes.draw do\n  resources :tv_series\n  root 'tv_series#index'\nend\n</code></pre>\n\n<p><strong>_create_series.rb</strong></p>\n\n<pre><code>class CreateSeries &lt; ActiveRecord::Migration\n  def change\n    create_table :series do |t|\n      t.string :title\n      t.text :description\n      t.string :actor\n      t.timestamps null: false\n    end\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "nokogiri"], "comments": [{"owner": {"reputation": 25573, "user_id": 676874, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c8e67ec01dc3e7c402255ff26785863f?s=128&d=identicon&r=PG", "display_name": "knut", "link": "https://stackoverflow.com/users/676874/knut"}, "edited": false, "score": 0, "creation_date": 1446680502, "post_id": 33521942, "comment_id": 54849817, "body": "See also <a href=\"http://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri\" title=\"rubyinstaller 2 2 1 and rails rake cannot load nokogiri\">stackoverflow.com/questions/28985328/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3805, "user_id": 2075801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f845c96122bd745f0614185a840d850b?s=128&d=identicon&r=PG", "display_name": "Yury Lebedev", "link": "https://stackoverflow.com/users/2075801/yury-lebedev"}, "is_accepted": false, "score": 0, "last_activity_date": 1446667285, "last_edit_date": 1446667285, "creation_date": 1446640529, "answer_id": 33522113, "question_id": 33521942, "link": "https://stackoverflow.com/questions/33521942/is-nokogiri-necessary-for-rails/33522113#33522113", "title": "Is Nokogiri necessary for Rails?", "body": "<p>It looks like it is a dependency of some gem, which is included in your Gemfile.</p>\n\n<p>You can search for <code>nokogiri</code> in your Gemfile.lock to find a gem which is requiring it.</p>\n"}, {"tags": [], "owner": {"reputation": 3700, "user_id": 537716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbe81f6942a6edb382054b2491837f8?s=128&d=identicon&r=PG", "display_name": "charlysisto", "link": "https://stackoverflow.com/users/537716/charlysisto"}, "is_accepted": false, "score": 0, "last_activity_date": 1446667241, "last_edit_date": 1446667241, "creation_date": 1446641011, "answer_id": 33522282, "question_id": 33521942, "link": "https://stackoverflow.com/questions/33521942/is-nokogiri-necessary-for-rails/33522282#33522282", "title": "Is Nokogiri necessary for Rails?", "body": "<p>It looks like Nokogiri is required by <code>rails-dom-testing</code> which is required by Action Pack and Action View in Rails 4.2.3, so it seems difficult to bypass it.</p>\n"}, {"tags": [], "owner": {"reputation": 3571, "user_id": 185310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/063c98fb1df33c7a4ea70a7d829f83c6?s=128&d=identicon&r=PG&f=1", "display_name": "Mike K.", "link": "https://stackoverflow.com/users/185310/mike-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1446682142, "creation_date": 1446682142, "answer_id": 33534473, "question_id": 33521942, "link": "https://stackoverflow.com/questions/33521942/is-nokogiri-necessary-for-rails/33534473#33534473", "title": "Is Nokogiri necessary for Rails?", "body": "<p>See <a href=\"https://github.com/sparklemotion/nokogiri/issues/1256\" rel=\"nofollow\">https://github.com/sparklemotion/nokogiri/issues/1256</a></p>\n\n<p>tl;dr, in your Gemfile:</p>\n\n<pre><code>gem 'nokogiri', '&gt;= 1.6.7.rc3'\n</code></pre>\n\n<p>for Windows.</p>\n"}], "owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1141, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1446682142, "creation_date": 1446640096, "last_edit_date": 1446679201, "question_id": 33521942, "link": "https://stackoverflow.com/questions/33521942/is-nokogiri-necessary-for-rails", "title": "Is Nokogiri necessary for Rails?", "body": "<p>I updated my Ruby from 1.9 to 2.2 and I found that the Nokogiri gem doesn't support Ruby 2.2 on Windows. Nokogiri was not in my Gemfile, but when I run <code>bundle install</code> it is automatically added. Maybe there are some dependency for it? </p>\n\n<p>This is a very small project and I don't understand its necessity for the project.</p>\n\n<p>Is it possible to use Ruby 2.2 without Nokogiri? Or should I downgrade to 1.9 again?</p>\n"}, {"tags": ["ruby", "neo4j", "gem", "bundler"], "answers": [{"comments": [{"owner": {"reputation": 9303, "user_id": 2767626, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5f74cbf47c5fa12d9a045cabb5c2e0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Gassmann", "link": "https://stackoverflow.com/users/2767626/tobias-gassmann"}, "edited": false, "score": 0, "creation_date": 1446643264, "post_id": 33522136, "comment_id": 54827083, "body": "can I connect natively to the neo4j-database-files without jruby at all? There is another error: `create_session&#39;: Can&#39;t connect to database &#39;embedded_db&#39;, available server_db (Neo4j::Session::InitializationError)"}, {"owner": {"reputation": 10388, "user_id": 632454, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94593f750fbdbcfe459d7d16f45780e1?s=128&d=identicon&r=PG", "display_name": "Brian Underwood", "link": "https://stackoverflow.com/users/632454/brian-underwood"}, "reply_to_user": {"reputation": 9303, "user_id": 2767626, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5f74cbf47c5fa12d9a045cabb5c2e0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Gassmann", "link": "https://stackoverflow.com/users/2767626/tobias-gassmann"}, "edited": false, "score": 1, "creation_date": 1446644605, "post_id": 33522136, "comment_id": 54827967, "body": "Unfortunately not.  Since Neo4j is written in Java, being able to load the Neo4j libraries into your Ruby application requires jRuby.  For non-jRuby your only option is HTTP, though in Neo4j 3.0 they plan to have a new binary protocol for better network performance"}], "tags": [], "owner": {"reputation": 10388, "user_id": 632454, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94593f750fbdbcfe459d7d16f45780e1?s=128&d=identicon&r=PG", "display_name": "Brian Underwood", "link": "https://stackoverflow.com/users/632454/brian-underwood"}, "is_accepted": true, "score": 2, "last_activity_date": 1446640602, "creation_date": 1446640602, "answer_id": 33522136, "question_id": 33521722, "link": "https://stackoverflow.com/questions/33521722/could-not-find-gem-neo4j-enterprise-0-ruby/33522136#33522136", "title": "Could not find gem &#39;neo4j-enterprise (&gt;= 0) ruby&#39;", "body": "<p>It's a jRuby-only gem.  Your error message includes 'neo4j-enterprise (>= 0) <strong>ruby</strong>' which means (I think) that you're using an MRI-ish version of Ruby</p>\n\n<p>If you meant to use jRuby then obviously you can switch to that.  If you meant to use Neo4j with MRI via Neo4j's HTTP REST endpoints you can install the Neo4j server.  See the Setup guide:</p>\n\n<p><a href=\"http://neo4jrb.readthedocs.org/en/5.2.x/Setup.html\" rel=\"nofollow\">http://neo4jrb.readthedocs.org/en/5.2.x/Setup.html</a></p>\n"}], "owner": {"reputation": 9303, "user_id": 2767626, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5f74cbf47c5fa12d9a045cabb5c2e0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Gassmann", "link": "https://stackoverflow.com/users/2767626/tobias-gassmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 33522136, "answer_count": 1, "score": 2, "last_activity_date": 1446640602, "creation_date": 1446639470, "question_id": 33521722, "link": "https://stackoverflow.com/questions/33521722/could-not-find-gem-neo4j-enterprise-0-ruby", "title": "Could not find gem &#39;neo4j-enterprise (&gt;= 0) ruby&#39;", "body": "<p>When I run </p>\n\n<pre><code>gem install neo4j-enterprise\n</code></pre>\n\n<p>the gem cannot be found:</p>\n\n<p>ERROR:  Could not find a valid gem 'neo4j-enterprise' (>= 0) in any repository</p>\n\n<p>All other gem install perfectly fine, this is the only one that fails. Nevertheless it should be there:\n<a href=\"https://rubygems.org/gems/neo4j-enterprise\" rel=\"nofollow\">https://rubygems.org/gems/neo4j-enterprise</a></p>\n\n<p>where am I going wrong?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "websocket", "websocket-rails"], "comments": [{"owner": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 0, "creation_date": 1446640704, "post_id": 33521339, "comment_id": 54825383, "body": "Instead of downvoting , care to atleast answer something. state the reason of downvoting ."}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 0, "creation_date": 1446698338, "post_id": 33528852, "comment_id": 54854589, "body": "Thank you for detailed information sir but the application i have developed is more complex as it communicates with different users on the same page one after another . So , what would work in my case ? Sir , if you can checkout the link of my application that i have mentioned in my question would be very helpfull for me . After that please suggest websockets way or Faye or Plezi . Thank you . :)"}, {"owner": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 0, "creation_date": 1446706444, "post_id": 33528852, "comment_id": 54857429, "body": "That is awesome . But one question is , you have mentioned to add some code in my <code>chat.html.erb</code> , so what about the existing code that i have currently ? . means will it create any kind of conflicts ? . Thank you :)"}, {"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "reply_to_user": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 1, "creation_date": 1446706873, "post_id": 33528852, "comment_id": 54857606, "body": "@huzefabiyawarwala - There are no conflicts. Your Rails application saves the messages to the database and the Plezi line of code will send the messages as websocket data to the client. They play well together. The only thing is, you can&#39;t use <code>thin</code> or <code>puma</code> or another server. Plezi uses <code>iodine</code> as it&#39;s server. <a href=\"https://github.com/boazsegev/iodine\" rel=\"nofollow noreferrer\"><code>iodine</code></a> can act also as a Rack server, so your Rails application uses Rack and Plezi uses the server directly (this helps with Http streaming, websockets and more stuff that Rack wasn&#39;t designed for)."}, {"owner": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 0, "creation_date": 1446708675, "post_id": 33528852, "comment_id": 54858412, "body": "ok will surely update you once i am done sir. I very much appreciate your extended help . :)"}, {"owner": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 0, "creation_date": 1446711114, "post_id": 33528852, "comment_id": 54859623, "body": "I have updated my chat application by the code given by you but it doesn&#39;t seems to be working sir , i have uploaded it <a href=\"https://bitbucket.org/huzefahuzu53/chatapp/overview\" rel=\"nofollow noreferrer\">here</a> . please let me know what are the corrections that i need to make to make it working . Thank you . :)"}, {"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "reply_to_user": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 0, "creation_date": 1446711609, "post_id": 33528852, "comment_id": 54859876, "body": "@huzefabiyawarwala - When I try to see you code I get the message &quot;You do not have access to this repository&quot;... can you make the code public?  ... also, how did you test (you need two browsers and two different users talking to each other). Because of <code>turbolinks</code>, try refreshing the chat page or moving the script to <code>application.js</code>. also, try to remove the <code>if</code> in the <code>message_waiting</code> method, to check if users are connected and get updates (maybe user_id recognition isn&#39;t working with <code>devise</code>)..."}, {"owner": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "reply_to_user": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "edited": false, "score": 0, "creation_date": 1446711739, "post_id": 33528852, "comment_id": 54859939, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/94288/discussion-between-huzefa-biyawarwala-and-myst\">continue this discussion in chat</a>."}, {"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "reply_to_user": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "edited": false, "score": 0, "creation_date": 1446713195, "post_id": 33528852, "comment_id": 54860703, "body": "@huzefabiyawarwala - I made some corrections in your application&#39;s code and opened &quot;Pull Requests&quot; to help you see the changes and merge the changes into your application."}], "tags": [], "owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "is_accepted": true, "score": 2, "last_activity_date": 1446706157, "last_edit_date": 1446706157, "creation_date": 1446659943, "answer_id": 33528852, "question_id": 33521339, "link": "https://stackoverflow.com/questions/33521339/websockets-in-rails-do-we-have-to-create-a-new-websocketcontroller-in-our-exis/33528852#33528852", "title": "WebSockets in Rails : Do we have to create a new WebSocketController in our existing application while using the websockets?", "body": "<p>The answer, with relation to the <a href=\"https://github.com/websocket-rails/websocket-rails\" rel=\"nofollow\">websocket-rails gem</a>, as well as Faye and <a href=\"https://github.com/boazsegev/plezi\" rel=\"nofollow\">Plezi</a> is YES, you have to create a new controller class, different than the one used by Rails.</p>\n\n<p>Your websocket-rails must inherit <code>WebsocketRails::BaseController</code>, while your Rails controller must inherit <code>ActionController::Base</code> (usually by inhering you ApplicationController, which inherits this class).</p>\n\n<p>Ruby doesn't support double class inheritance (although Mixins are possible when using modules).</p>\n\n<p>Faye, on the other hand doesn't use the Controller in the same object oriented way and there are more options there. For instance, you COULD map websocket events to your controller CLASS methods, but you might have an issue initializing a Rails controller for each websocket connection, since some of the Controller's internal mechanisms might break. Session info, for instance, will NOT be available and you would probably have to avoid any and all Rails specific methods.</p>\n\n<p>With Plezi, these inheritance issues don't exit, but Plezi automatically creates Http routes to any public methods your Controller has - so your Rails methods will be exposed in a way you didn't intend. Plezi Controllers, on the other hand, can answer both Http and Websockets.</p>\n\n<p>The reason I wrote also about Faye and Plezi is because the websocket-rails gem had last been updated (according the the CHANGELOG) on <strong>March 2014</strong>...</p>\n\n<p>I don't know how well it will survive (or had survived) the latest updates to Rails, but I would recommend moving on.</p>\n\n<p>For now, <strong>November 2015</strong>, Faye is the more common option and Plezi is a new player in the field. I'm Plezi's author.</p>\n\n<h2>Edit (answering the comment)</h2>\n\n<p>Both Faye and Plezi should allow one user to send a message to another.</p>\n\n<p>I think Plezi is easiyer to use, but this is because I wrote Plezi. I am sure the person that wrote Faye will think that Faye is easier.</p>\n\n<p>There are a few options about the best way(s) to implement a chat, depending on how you want to do so.</p>\n\n<p>You can look at the plezi application demo code if you install Plezi and run (in your terminal):</p>\n\n<pre><code>  $ plezi mini my_chat\n</code></pre>\n\n<p>Here's a quick hack for adding Plezi websocket broadcasting to your existing application.</p>\n\n<p>If I had access to your database, I would have done it a little differently... but it's good enough as a proof of concept... for now.</p>\n\n<p>Add the following line to your <code>Gemfile</code>:</p>\n\n<pre><code>gem 'plezi'\n</code></pre>\n\n<p>Create a <code>plezi_init.rb</code> file and add it to your <code>config/initializers</code> folder. Here is what it hold for now (most of it is hacking the Rails cookie, because I don't have access to your database and I can't add fields):</p>\n\n<pre><code>class WebsocketController\n\n    def on_open\n        # this is a Hack - replace this with a database token and a cookie.\n        return close unless cookies[:_linkedchats_session] # refuse unauthenticated connections\n        # this is a Hack - get the user\n        @user_id = decrypt_session_cookie(cookies[:_linkedchats_session].dup)['warden.user.user.key'][0][0].to_s\n        puts \"#{@user_id} is connected\"\n    end\n\n    def on_message data\n        # what do you want to do when you get data?        \n    end\n\n    protected\n\n    # this will inform the user that a message is waiting\n    def message_waiting msg\n        write(msg.to_json) if msg[:to].to_s == @user_id.to_s\n    end\n\n    # this is a Hack - replace this later\n    # use a token authentication instead (requires a database field)\n    def decrypt_session_cookie(cookie)\n        key ='4f7fad1696b75330ae19a0eeddb236c123727f2a53a3f98b30bd0fe33cfc26a53e964f849d63ad5086483589d68c566a096d89413d5cb9352b1b4a34e75d7a7b'\n        cookie = CGI::unescape(cookie)\n\n        # Default values for Rails 4 apps\n        key_iter_num = 1000\n        key_size     = 64\n        salt         = \"encrypted cookie\"         \n        signed_salt  = \"signed encrypted cookie\"  \n\n        key_generator = ActiveSupport::KeyGenerator.new(key, iterations: key_iter_num)\n        secret = key_generator.generate_key(salt)\n        sign_secret = key_generator.generate_key(signed_salt)\n\n        encryptor = ActiveSupport::MessageEncryptor.new(secret, sign_secret, serializer: JSON)\n        encryptor.decrypt_and_verify(cookie)\n    end\nend\n\n# IMPORTANT - create the Plezi, route for websocket connections\nPlezi.route '/ws', WebsocketController\n</code></pre>\n\n<p>That's almost all the Plezi application you need for this one.</p>\n\n<p>Just add the following line in to your <code>ChatsController#create</code> method, just before the <code>respond_to</code>:</p>\n\n<pre><code> WebsocketController.broadcast :message_waiting,\n          from: @msg.sender_id,\n          to: @msg.receiver_id,\n          text: @msg.text,\n          msg: :chat\n</code></pre>\n\n<p>That's it for the server... Now, the client.</p>\n\n<p>Add the following script to your <code>chat.html.erb</code> template (or, because turbo-links might mess up your script's initialization, add the script to your <code>application.js</code> file... but you will be refusing a lot of connections until your users log in):</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n// Your websocket URI should be an absolute path. The following sets the base URI.\n// remember to update to the specific controller's path to your websocket URI.\nvar ws_controller_path = '/ws'; // change to '/controller/path'\nvar ws_uri = (window.location.protocol.match(/https/) ? 'wss' : 'ws') + '://' + window.document.location.host + ws_controller_path\n// websocket variable.\nvar websocket = NaN\n// count failed attempts\nvar websocket_fail_count = 0\n// to limit failed reconnection attempts, set this to a number.\nvar websocket_fail_limit = NaN\n\n\nfunction init_websocket()\n{\n    if(websocket &amp;&amp; websocket.readyState == 1) return true; // console.log('no need to renew socket connection');\n    websocket = new WebSocket(ws_uri);\n    websocket.onopen = function(e) {\n        // reset the count.\n        websocket_fail_count = 0\n        // what do you want to do now?\n    };\n\n    websocket.onclose = function(e) {\n        // If the websocket repeatedly you probably want to reopen the websocket if it closes\n        if(!isNaN(websocket_fail_limit) &amp;&amp; websocket_fail_count &gt;= websocket_fail_limit) {\n            // What to do if we can't reconnect so many times?\n            return\n        };\n        // you probably want to reopen the websocket if it closes.\n        if(isNaN(websocket_fail_limit) || (websocket_fail_count &lt;= websocket_fail_limit) ) {\n            // update the count\n            websocket_fail_count += 1;\n            // try to reconect\n            init_websocket();\n        };\n    };\n    websocket.onerror = function(e) {\n        // update the count.\n        websocket_fail_limit += 1\n        // what do you want to do now?\n    };\n    websocket.onmessage = function(e) {\n        // what do you want to do now?\n        console.log(e.data);\n        msg = JSON.parse(e.data)\n        alert(\"user id: \" + msg.from + \" said:\\n\" + msg.text)\n    };\n}\n// setup the websocket connection once the page is done loading\nwindow.addEventListener(\"load\", init_websocket, false); \n\n&lt;/script&gt;\n</code></pre>\n\n<p>Done.</p>\n"}], "owner": {"reputation": 637, "user_id": 4012683, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0df29ae797a3cff85b01e88d75dc84b7?s=128&d=identicon&r=PG&f=1", "display_name": "huzefa biyawarwala", "link": "https://stackoverflow.com/users/4012683/huzefa-biyawarwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 1, "accepted_answer_id": 33528852, "answer_count": 1, "score": 0, "last_activity_date": 1446706157, "creation_date": 1446638351, "last_edit_date": 1592644375, "question_id": 33521339, "link": "https://stackoverflow.com/questions/33521339/websockets-in-rails-do-we-have-to-create-a-new-websocketcontroller-in-our-exis", "title": "WebSockets in Rails : Do we have to create a new WebSocketController in our existing application while using the websockets?", "body": "<p>I have a chat application <a href=\"https://github.com/huzefahuzu/ChatApp\" rel=\"nofollow noreferrer\">here</a> . I was going through the <a href=\"https://github.com/websocket-rails/websocket-rails/wiki/WebsocketRails-Controllers\" rel=\"nofollow noreferrer\">wiki</a> of WebSockets . There the code is described in the ChatController like this :</p>\n<pre><code>class ChatController &lt; WebsocketRails::BaseController\n  def initialize_session\n    # perform application setup here\n    controller_store[:message_count] = 0\n  end\nend\n</code></pre>\n<p><strong>My Question</strong> : how should i implement this in my <code>chatcontroller</code> which is exteding the <code>ApplicationController</code> ? .\nWhether i should create a new controller for using the <code>websockets</code> or modify the existing <code>chatcontroller</code> which should extend the <code>WebsocketRails</code>? . I am new to WebSockets so any help regarding this will really help .</p>\n<p>Thank you .</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "email", "email-attachments", "mailer"], "answers": [{"tags": [], "owner": {"reputation": 2470, "user_id": 1013142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd97eb9f014330c6063dfadb77bbd5de?s=128&d=identicon&r=PG", "display_name": "Sudipta Mondal", "link": "https://stackoverflow.com/users/1013142/sudipta-mondal"}, "is_accepted": false, "score": 0, "last_activity_date": 1446638704, "creation_date": 1446638704, "answer_id": 33521448, "question_id": 33521097, "link": "https://stackoverflow.com/questions/33521097/attachment-not-send-in-email-of-rails-2/33521448#33521448", "title": "Attachment not send in email of rails 2", "body": "<p>Not sure, if this helps, but I used to send emails, in a slightly different manner</p>\n\n<p><em>In Mailer.rb</em></p>\n\n<pre><code>def send_invoice user, pdf_path\n    attachments[\"invoice_#{Time.now.to_date}.pdf\"] = File.read(pdf_path)\n    @user = user\n    mail(\n        :to      =&gt; @user.email,\n        :from    =&gt; \"xxx@gmail.com\",\n        :subject =&gt; \"xxx\") do |format|\n            format.html { render \"send_invoice\" }\n        end\nend\n</code></pre>\n\n<p><em>In Controller for sending emails</em></p>\n\n<p>SubscriptionMailer.send_invoice(user, pdf_path).deliver</p>\n"}, {"comments": [{"owner": {"reputation": 807, "user_id": 1780370, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f3a713288b28f9f636192562e4c5f6fa?s=128&d=identicon&r=PG", "display_name": "user1780370", "link": "https://stackoverflow.com/users/1780370/user1780370"}, "edited": false, "score": 0, "creation_date": 1446639496, "post_id": 33521466, "comment_id": 54824622, "body": "I already used RAILS_ROOT so its print from /home. Right now i define here static path."}, {"owner": {"reputation": 9554, "user_id": 634120, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1Vabi.jpg?s=128&g=1", "display_name": "martincarlin87", "link": "https://stackoverflow.com/users/634120/martincarlin87"}, "reply_to_user": {"reputation": 807, "user_id": 1780370, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f3a713288b28f9f636192562e4c5f6fa?s=128&d=identicon&r=PG", "display_name": "user1780370", "link": "https://stackoverflow.com/users/1780370/user1780370"}, "edited": false, "score": 0, "creation_date": 1446639879, "post_id": 33521466, "comment_id": 54824844, "body": "Not quite sure what you mean, even it if&#39;s a static path that you want to use, it&#39;s a good idea to use <code>RAILS_ROOT</code>, you don&#39;t want to be hardcoding a filesystem path - what happens when the app is deployed to a different OS which uses a different file system or you move the app somewhere else? I don&#39;t believe the path should be starting at <code>&#47;home</code> either due to the reason mentioned in the answer. Did you try what I suggested to see if it worked or not?"}, {"owner": {"reputation": 807, "user_id": 1780370, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f3a713288b28f9f636192562e4c5f6fa?s=128&d=identicon&r=PG", "display_name": "user1780370", "link": "https://stackoverflow.com/users/1780370/user1780370"}, "edited": false, "score": 0, "creation_date": 1446640530, "post_id": 33521466, "comment_id": 54825261, "body": "please check my question. I updated. I already used it in my coding..but not attached image...any idea?"}, {"owner": {"reputation": 807, "user_id": 1780370, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f3a713288b28f9f636192562e4c5f6fa?s=128&d=identicon&r=PG", "display_name": "user1780370", "link": "https://stackoverflow.com/users/1780370/user1780370"}, "edited": false, "score": 0, "creation_date": 1446641788, "post_id": 33521466, "comment_id": 54826145, "body": "let me check with that."}, {"owner": {"reputation": 807, "user_id": 1780370, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f3a713288b28f9f636192562e4c5f6fa?s=128&d=identicon&r=PG", "display_name": "user1780370", "link": "https://stackoverflow.com/users/1780370/user1780370"}, "edited": false, "score": 0, "creation_date": 1446642942, "post_id": 33521466, "comment_id": 54826872, "body": "I did it but nothing change. Still not attached image with mail. Any content-type need to change?"}, {"owner": {"reputation": 9554, "user_id": 634120, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1Vabi.jpg?s=128&g=1", "display_name": "martincarlin87", "link": "https://stackoverflow.com/users/634120/martincarlin87"}, "reply_to_user": {"reputation": 807, "user_id": 1780370, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f3a713288b28f9f636192562e4c5f6fa?s=128&d=identicon&r=PG", "display_name": "user1780370", "link": "https://stackoverflow.com/users/1780370/user1780370"}, "edited": false, "score": 0, "creation_date": 1446645316, "post_id": 33521466, "comment_id": 54828434, "body": "is there anything useful in the logs? Might be worth setting the content type of the attachment (<code>image&#47;png</code>) to see if it makes a difference aswell as the content type of the email, e.g. <code>multipart&#47;alternative</code>. Other than that, is the path for the image definitely correct? You could try some debugging to see if the attachment is set properly to the attachment variable."}], "tags": [], "owner": {"reputation": 9554, "user_id": 634120, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1Vabi.jpg?s=128&g=1", "display_name": "martincarlin87", "link": "https://stackoverflow.com/users/634120/martincarlin87"}, "is_accepted": false, "score": 0, "last_activity_date": 1446641654, "last_edit_date": 1495540719, "creation_date": 1446638782, "answer_id": 33521466, "question_id": 33521097, "link": "https://stackoverflow.com/questions/33521097/attachment-not-send-in-email-of-rails-2/33521466#33521466", "title": "Attachment not send in email of rails 2", "body": "<p>I don't use paperclip but this is how I send attachments in Rails 2 as an example</p>\n\n<pre><code>attachment :content_type =&gt; \"application/pdf\",\n  :body =&gt; File.read(RAILS_ROOT + '/pdfs/' + quote.id.to_s + '.pdf')\n</code></pre>\n\n<p>It could be the path that you are using - the user running Rails (<code>apache</code>, <code>nginx</code>, <code>www-data</code> etc.) might not have the right permissions to be able to traverse through directories starting from <code>/home/</code> so it would be worth changing it to</p>\n\n<pre><code>@attachments = File.read(RAILS_ROOT + \"public/system/attachment_images/744/original/map_screen.png\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>attachment = File.read(RAILS_ROOT + \"public/system/attachment_images/744/original/map_screen.png\")\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p><code>Rails.root</code> is used in Rails 3 and 4, for Rails 2 use <code>RAILS_ROOT</code>, have a look at this question: <a href=\"https://stackoverflow.com/questions/3724487/rails-root-directory-path\">Rails Root directory path?</a></p>\n"}], "owner": {"reputation": 807, "user_id": 1780370, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f3a713288b28f9f636192562e4c5f6fa?s=128&d=identicon&r=PG", "display_name": "user1780370", "link": "https://stackoverflow.com/users/1780370/user1780370"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446641727, "creation_date": 1446637762, "last_edit_date": 1446641727, "question_id": 33521097, "link": "https://stackoverflow.com/questions/33521097/attachment-not-send-in-email-of-rails-2", "title": "Attachment not send in email of rails 2", "body": "<p>I am working in <code>Rails 2 application</code> where email fired after upload content and <code>image</code> using <code>paperclip</code>.</p>\n\n<p><code>Emails</code> fired successfully not i want to attached image to that emails but i tried lots but <code>not getting attachment</code> in email.</p>\n\n<p>Below code used:</p>\n\n<pre><code>#Call from model my opinion model\nMailer.deliver_new_my_opinion(self, self.user, email)\n\n# Write in Mailer model\n\ndef new_my_opinion(my_opinion, user, email)\n\n    @attachments   = File.read(\"#{Rails.root.to_s}\"+\"/public/system/attachment_images/744/original/map_screen.png\")\n\n    @subject      = \"You have a new OPINION question\"\n    @from         = \"#{Settings.site_name} &lt;noreply@#{Settings.site_host}&gt;\"\n    @recipients   = email\n    @content_type = \"multipart/mixed\"\n    @sent_on      = Time.now\n    @body         = {:user =&gt; user, :my_opinion =&gt; my_opinion}\n  end\n</code></pre>\n\n<p>Any one have a solution.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby", "eclipse", "gem", "aptana"], "answers": [{"tags": [], "owner": {"reputation": 3663, "user_id": 3475946, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/364b5e22e11170570a92e067d6f9098f?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3475946/michael"}, "is_accepted": true, "score": -1, "last_activity_date": 1446647432, "last_edit_date": 1446647432, "creation_date": 1446640208, "answer_id": 33521987, "question_id": 33521013, "link": "https://stackoverflow.com/questions/33521013/eclipse-apatna-plug-in-unable-to-debug/33521987#33521987", "title": "Eclipse + Apatna plug-in: unable to debug", "body": "<p>I managed to solve the problem myself with the following code :</p>\n\n<pre><code>sudo apt-get install libgmp-dev\n</code></pre>\n"}], "owner": {"reputation": 3663, "user_id": 3475946, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/364b5e22e11170570a92e067d6f9098f?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3475946/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 33521987, "answer_count": 1, "score": -2, "last_activity_date": 1446647432, "creation_date": 1446637495, "question_id": 33521013, "link": "https://stackoverflow.com/questions/33521013/eclipse-apatna-plug-in-unable-to-debug", "title": "Eclipse + Apatna plug-in: unable to debug", "body": "<p>Could you help me cope with the problem of organizing any IDE for Ruby so that I could debug my scripts. </p>\n\n<p>I chose Eclipse + Aptana plug-in. But this is not a dogma. If there is an easier way, I would definitely change IDE and plugin or anything.</p>\n\n<p>Well, let's return to what I have now. \nI seem to be unable to install ruby-debug-ide under my ordinary user.\nUnder root user I can execute gem install ruby-debug-ide. And I can see ruby-debug-ide in gem list --local. <strong>But only when I login as a root user.</strong>\nAny messages beneath refer to ordinary user.</p>\n\n<p><strong>What I have now:</strong></p>\n\n<ul>\n<li>Ubuntu 14.04 LTS </li>\n<li>Eclipse 3.8.1</li>\n<li>ruby 2.2.3p173 (2015-08-18 revision  51636) [x86_64-linux]</li>\n<li>Aptana Studio 3.6.1 plug-in</li>\n</ul>\n\n<p><strong>When in Eclipse I try to debug my app as ruby application, I get this:</strong></p>\n\n<blockquote>\n  <p>/home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/dependency.rb:315:in\n  <code>to_specs': Could not find 'ruby-debug-ide' (&gt;= 0) among 23 total\n  gem(s) (Gem::LoadError) Checked in\n  'GEM_PATH=/home/michael/.rvm/gems/ruby-2.2.3:/home/michael/.rvm/gems/ruby-2.2.3@global',\n  execute</code>gem env<code>for more information    from\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/dependency.rb:324:in\n  </code>to_spec'     from\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_gem.rb:64:in\n  <code>gem'     from /usr/local/bin/rdebug-ide:22:in</code>'</p>\n</blockquote>\n\n<p><strong>When I run gem env:</strong></p>\n\n<pre><code>RubyGems Environment:\n  - RUBYGEMS VERSION: 2.4.8\n  - RUBY VERSION: 2.2.3 (2015-08-18 patchlevel 173) [x86_64-linux]\n  - INSTALLATION DIRECTORY: /home/michael/.rvm/gems/ruby-2.2.3\n  - RUBY EXECUTABLE: /home/michael/.rvm/rubies/ruby-2.2.3/bin/ruby\n  - EXECUTABLE DIRECTORY: /home/michael/.rvm/gems/ruby-2.2.3/bin\n  - SPEC CACHE DIRECTORY: /home/michael/.gem/specs\n  - SYSTEM CONFIGURATION DIRECTORY: /etc\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-linux\n  - GEM PATHS:\n     - /home/michael/.rvm/gems/ruby-2.2.3\n     - /home/michael/.rvm/gems/ruby-2.2.3@global\n  - GEM CONFIGURATION:\n     - :update_sources =&gt; true\n     - :verbose =&gt; true\n     - :backtrace =&gt; false\n     - :bulk_threshold =&gt; 1000\n  - REMOTE SOURCES:\n     - https://rubygems.org/\n  - SHELL PATH:\n     - /home/michael/.rvm/gems/ruby-2.2.3/bin\n     - /home/michael/.rvm/gems/ruby-2.2.3@global/bin\n     - /home/michael/.rvm/rubies/ruby-2.2.3/bin\n     - /home/michael/.rvm/gems/ruby-2.2.3/bin\n     - /home/michael/.rvm/gems/ruby-2.2.3@global/bin\n     - /home/michael/.rvm/rubies/ruby-2.2.3/bin\n     - /usr/local/sbin\n     - /usr/local/bin\n     - /usr/sbin\n     - /usr/bin\n     - /sbin\n     - /bin\n     - /usr/games\n     - /usr/local/games\n     - /usr/share/rvm/bin\n     - /home/michael/.rvm/bin\n     - /home/michael/.rvm/bin\n     - /home/michael/.rvm/bin\n</code></pre>\n\n<p><strong>Then I try gem list --local:</strong></p>\n\n<pre><code>*** LOCAL GEMS ***\n\nactivesupport (4.2.4)\narchive-tar-minitar (0.5.2)\nbigdecimal (1.2.6)\nbundler-unload (1.0.2)\ncolumnize (0.9.0)\ndebase-ruby_core_source (0.8.0)\nexecutable-hooks (1.3.2)\ngem-wrappers (1.2.7)\ni18n (0.7.0)\nio-console (0.4.3)\njson (1.8.1)\nmini_portile (0.6.2)\nminitest (5.8.2)\npsych (2.0.8)\nrails-deprecated_sanitizer (1.0.3)\nrake (10.4.2)\nrdoc (4.2.0)\nruby_core_source (0.1.5)\nrubygems-bundler (1.4.4)\nrvm (1.11.3.9)\nsudo (0.1.1)\nthread_safe (0.3.5)\ntzinfo (1.2.2)\n</code></pre>\n\n<p><strong>I try gem install ruby-debug-ide and get this:</strong></p>\n\n<pre><code>Building native extensions.  This could take a while...\nERROR:  Error installing ruby-debug-ide:\n    ERROR: Failed to build gem native extension.\n\n    /home/michael/.rvm/rubies/ruby-2.2.3/bin/ruby mkrf_conf.rb\nInstalling base gem\nBuilding native extensions.  This could take a while...\nBuilding native extensions.  This could take a while...\nERROR: Failed to build gem native extension.\n\n    /home/michael/.rvm/rubies/ruby-2.2.3/bin/ruby -r ./siteconf20151104-6046-7cu247.rb extconf.rb\nchecking for vm_core.h... *** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n    --with-opt-dir\n    --without-opt-dir\n    --with-opt-include\n    --without-opt-include=${opt-dir}/include\n    --with-opt-lib\n    --without-opt-lib=${opt-dir}/lib\n    --with-make-prog\n    --without-make-prog\n    --srcdir=.\n    --curdir\n    --ruby=/home/michael/.rvm/rubies/ruby-2.2.3/bin/$(RUBY_BASE_NAME)\n    --with-ruby-dir\n    --without-ruby-dir\n    --with-ruby-include=${ruby-dir}/include\n    --with-ruby-lib\n    --without-ruby-lib=${ruby-dir}/lib\n/home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:456:in `try_do': The compiler failed to generate an executable file. (RuntimeError)\nYou have to install development tools first.\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:587:in `try_cpp'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:1060:in `block in have_header'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:911:in `block in checking_for'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:351:in `block (2 levels) in postpone'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:321:in `open'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:351:in `block in postpone'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:321:in `open'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:347:in `postpone'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:910:in `checking_for'\n    from /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:1059:in `have_header'\n    from extconf.rb:31:in `block in &lt;main&gt;'\n    from /home/michael/.rvm/gems/ruby-2.2.3/gems/debase-ruby_core_source-0.8.0/lib/debase/ruby_core_source.rb:18:in `call'\n    from /home/michael/.rvm/gems/ruby-2.2.3/gems/debase-ruby_core_source-0.8.0/lib/debase/ruby_core_source.rb:18:in `create_makefile_with_core'\n    from extconf.rb:47:in `&lt;main&gt;'\n\nextconf failed, exit code 1\n\nGem files will remain installed in /home/michael/.rvm/gems/ruby-2.2.3/gems/debase-0.2.2.beta6 for inspection.\nResults logged to /home/michael/.rvm/gems/ruby-2.2.3/extensions/x86_64-linux/2.2.0/debase-0.2.2.beta6/gem_make.out\n/home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:89:in `run'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/ext_conf_builder.rb:36:in `block in build'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tempfile.rb:319:in `open'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/ext_conf_builder.rb:19:in `build'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:161:in `block (2 levels) in build_extension'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:160:in `chdir'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:160:in `block in build_extension'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:159:in `synchronize'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:159:in `build_extension'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:198:in `block in build_extensions'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:195:in `each'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/ext/builder.rb:195:in `build_extensions'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/installer.rb:702:in `build_extensions'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/installer.rb:250:in `install'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/request_set.rb:166:in `block in install'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/request_set.rb:150:in `each'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/request_set.rb:150:in `install'\n  /home/michael/.rvm/rubies/ruby-2.2.3/lib/ruby/site_ruby/2.2.0/rubygems/dependency_installer.rb:404:in `install'\n  mkrf_conf.rb:35:in `rescue in &lt;main&gt;'\n  mkrf_conf.rb:28:in `&lt;main&gt;'\n\nrake failed, exit code 1\n\nGem files will remain installed in /home/michael/.rvm/gems/ruby-2.2.3/gems/ruby-debug-ide-0.6.0 for inspection.\nResults logged to /home/michael/.rvm/gems/ruby-2.2.3/extensions/x86_64-linux/2.2.0/ruby-debug-ide-0.6.0/gem_make.out\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 1099, "user_id": 2024073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mETW6.jpg?s=128&g=1", "display_name": "Sarwan Kumar", "link": "https://stackoverflow.com/users/2024073/sarwan-kumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1446637463, "creation_date": 1446637463, "answer_id": 33521006, "question_id": 33520755, "link": "https://stackoverflow.com/questions/33520755/disable-some-of-the-items-in-a-drop-down/33521006#33521006", "title": "Disable some of the items in a drop down", "body": "<p>You can disable specific options by passing <code>disable</code> attribute. Like in following code you can see some options are disabled.  </p>\n\n<pre><code>&lt;%= select_tag :country, options_for_select([['PK',{disabled: 'disabled'}],['IN'],['US',{disabled: 'disabled'}],['DE']]) %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14213, "user_id": 398863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CNtJ.png?s=128&g=1", "display_name": "Amit Patel", "link": "https://stackoverflow.com/users/398863/amit-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1446637895, "creation_date": 1446637895, "answer_id": 33521158, "question_id": 33520755, "link": "https://stackoverflow.com/questions/33520755/disable-some-of-the-items-in-a-drop-down/33521158#33521158", "title": "Disable some of the items in a drop down", "body": "<p><a href=\"http://apidock.com/rails/ActionView/Helpers/FormOptionsHelper/options_for_select\" rel=\"nofollow\">From API doc</a></p>\n\n<blockquote>\n  <p>If you wish to specify disabled option tags, set selected to be a hash, with :disabled being either a value or array of values to be disabled.</p>\n</blockquote>\n\n<pre><code>options_for_select([\"Free\", \"Basic\", \"Advanced\", \"Super Platinum\"], disabled: \"Super Platinum\")\n# =&gt; &lt;option value=\"Free\"&gt;Free&lt;/option&gt;\n# =&gt; &lt;option value=\"Basic\"&gt;Basic&lt;/option&gt;\n# =&gt; &lt;option value=\"Advanced\"&gt;Advanced&lt;/option&gt;\n# =&gt; &lt;option value=\"Super Platinum\" disabled=\"disabled\"&gt;Super Platinum&lt;/option&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user266003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 33521006, "answer_count": 2, "score": 2, "last_activity_date": 1446637895, "creation_date": 1446636740, "question_id": 33520755, "link": "https://stackoverflow.com/questions/33520755/disable-some-of-the-items-in-a-drop-down", "title": "Disable some of the items in a drop down", "body": "<p>How can I create a drop down and disable some (not all) of the options (items)? In the documentation it only describes how to disable all of them, or rather the entire drop down. That's not what I need.</p>\n"}, {"tags": ["ruby", "regex", "case-sensitive", "gsub", "case-insensitive"], "answers": [{"tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": true, "score": 2, "last_activity_date": 1446636744, "creation_date": 1446636744, "answer_id": 33520759, "question_id": 33520627, "link": "https://stackoverflow.com/questions/33520627/gsub-method-and-regex-case-sensitive-and-case-insensitive/33520759#33520759", "title": "gsub method and regex (case sensitive and case insensitive)", "body": "<p>You can use a Hash. eg:</p>\n\n<pre><code>h = {'a' =&gt; '@', 'b' =&gt; 'B', 'A' =&gt; 'E'}\n\"aAbBcC\".gsub(/[abA]/, h)\n# =&gt; \"@EBBcC\" \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446653022, "post_id": 33521122, "comment_id": 54834179, "body": "Why does this not answer the question?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446661846, "post_id": 33521122, "comment_id": 54840263, "body": "@CarySwoveland: I think he is looking for something like: <code>&#39;aaAA&#39;.buildInMethodOfYourMostCrazyDreams(&#39;a&#39;, &#39;e&#39;, FLAG_CASE_INSENSITIVE)</code> that returns <code>&#39;eeEE&#39;</code>"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 2, "last_activity_date": 1446639970, "last_edit_date": 1446639970, "creation_date": 1446637817, "answer_id": 33521122, "question_id": 33520627, "link": "https://stackoverflow.com/questions/33520627/gsub-method-and-regex-case-sensitive-and-case-insensitive/33521122#33521122", "title": "gsub method and regex (case sensitive and case insensitive)", "body": "<p>Not really an answer to your question, but more an other way to proceed: use the <a href=\"http://ruby-doc.org/core-2.2.3/String.html#method-i-tr\" rel=\"nofollow\">translation</a>:</p>\n\n<pre><code>'aaAA'.tr('aA', 'eE')\n# =&gt; 'eeEE'\n</code></pre>\n\n<p>For the same transformation, you can also use the ascii table:</p>\n\n<pre><code>'aaAA'.gsub(/a/i) {|c| (c.ord + 4).chr}\n# =&gt; 'eeEE'\n</code></pre>\n\n<p>other example (the last character is used by default):</p>\n\n<pre><code>'aAaabbXXX'.tr('baA', 'B@')\n# =&gt; '@@@@BBXXX'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3700, "user_id": 537716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbe81f6942a6edb382054b2491837f8?s=128&d=identicon&r=PG", "display_name": "charlysisto", "link": "https://stackoverflow.com/users/537716/charlysisto"}, "is_accepted": false, "score": 0, "last_activity_date": 1446638176, "creation_date": 1446638176, "answer_id": 33521267, "question_id": 33520627, "link": "https://stackoverflow.com/questions/33520627/gsub-method-and-regex-case-sensitive-and-case-insensitive/33521267#33521267", "title": "gsub method and regex (case sensitive and case insensitive)", "body": "<p>You can also pass gsub a block</p>\n\n<pre><code>\"my random string\".gsub(/[aoi]/) do |match|  \n  case match; when \"a\"; \"@\"; when \"o\"; \"0\"; when \"i\"; \"I\" end\nend\n# =&gt; \"my r@nd0m strIng\"\n</code></pre>\n\n<p>The use of a hash is of course much more elegant in this case, but if you have complex rules of substitution it can come in handy to dedicate a class to it.</p>\n\n<pre><code>\"my random string\".gsub(/[aoi]/) {|match| Substitute.new(match).result}  \n# =&gt; \"my raws0m strAINng\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1446654825, "creation_date": 1446654825, "answer_id": 33527129, "question_id": 33520627, "link": "https://stackoverflow.com/questions/33520627/gsub-method-and-regex-case-sensitive-and-case-insensitive/33527129#33527129", "title": "gsub method and regex (case sensitive and case insensitive)", "body": "<p>Here are two variants of @Santosh's answer:</p>\n\n<pre><code>str =\"aAbBcC\"\nh = {'a' =&gt; '@', 'b' =&gt; 'B', 'A' =&gt; 'E'}\n</code></pre>\n\n<p><strong>#1</strong></p>\n\n<pre><code>str.gsub(/[#{h.keys.join}]/, h) #=&gt; \"@EBBcC\"\n</code></pre>\n\n<p><strong>#2</strong></p>\n\n<pre><code>h.default_proc = -&gt;(_,k) { k }\nstr.gsub(/./, h) #=&gt; \"@EBBcC\"\n</code></pre>\n\n<p>These offer better maintainability should <code>h</code> could change in future</p>\n"}], "owner": {"reputation": 17, "user_id": 5493835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1223eeb53c1d244ebfd279193dda3b?s=128&d=identicon&r=PG", "display_name": "UbunTusek", "link": "https://stackoverflow.com/users/5493835/ubuntusek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 33520759, "answer_count": 4, "score": 1, "last_activity_date": 1446654825, "creation_date": 1446636363, "last_edit_date": 1446637797, "question_id": 33520627, "link": "https://stackoverflow.com/questions/33520627/gsub-method-and-regex-case-sensitive-and-case-insensitive", "title": "gsub method and regex (case sensitive and case insensitive)", "body": "<p>In ruby, I want to substitute some letters in a string, is there a better way of doing this?</p>\n\n<pre><code>string = \"my random string\"\nstring.gsub(/a/, \"@\").gsub(/i/, \"1\").gsub(/o/, \"0\")`\n</code></pre>\n\n<p>And if I want to substitute both \"a\" and \"A\" with a \"@\", I know I can do <code>.gsub(/a/i, \"@\")</code>, but what if I want to substitute every \"a\" with an \"e\" and every \"A\" with an \"E\"? Is there a way of abstracting it instead of specifying both like <code>.gsub(/a/, \"e\").gsub(/A/, \"E\")</code>?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "github"], "comments": [{"owner": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "edited": false, "score": 0, "creation_date": 1446635968, "post_id": 33520246, "comment_id": 54822333, "body": "i think it should be <code>gem testgem</code> instead of <code>test_gem</code> according to your github ."}], "answers": [{"tags": [], "owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1446637565, "creation_date": 1446637565, "answer_id": 33521035, "question_id": 33520246, "link": "https://stackoverflow.com/questions/33520246/could-not-find-testgem-0-1-0-in-any-of-the-sourceshow-to-solve-this-error/33521035#33521035", "title": "Could not find testgem-0.1.0 in any of the sources?how to solve this error", "body": "<p>Actually the problem is I pushed with gemfile(i.e-testgem-0.1.0.gem) first Thats why it throws this error.</p>\n\n<p>it is not able to build the gem in local because of the gemfile already available.</p>\n"}], "owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 33521035, "answer_count": 1, "score": 0, "last_activity_date": 1446637565, "creation_date": 1446635249, "last_edit_date": 1495542190, "question_id": 33520246, "link": "https://stackoverflow.com/questions/33520246/could-not-find-testgem-0-1-0-in-any-of-the-sourceshow-to-solve-this-error", "title": "Could not find testgem-0.1.0 in any of the sources?how to solve this error", "body": "<p>On continuation of <a href=\"https://stackoverflow.com/questions/33515699/how-to-host-gem-in-github-and-use-it/33515813#33515813\">this</a> question.After bundle install it throws the above error when running the server.<a href=\"https://github.com/praveenitmec/testgem\" rel=\"nofollow noreferrer\">link to gitrepo</a></p>\n\n<p><strong>gemfile</strong></p>\n\n<pre><code>gem 'testgem' , :git =&gt; 'https://github.com/praveenitmec/testgem.git'\n</code></pre>\n\n<p><strong>during bundle install</strong></p>\n\n<pre><code>Using sqlite3 1.3.11\nUsing testgem 0.1.0 from https://github.com/praveenitmec/testgem.git (at master)\nUsing turbolinks 2.5.3\n</code></pre>\n\n<p><strong>while running server</strong></p>\n\n<pre><code>Brillios-Mac-mini:test_app_for ucs brilliomac$ rails s\nCould not find testgem-0.1.0 in any of the sources\nRun `bundle install` to install missing gems.\nBrillios-Mac-mini:test_app_for ucs brilliomac$ \n</code></pre>\n"}, {"tags": ["ruby", "selenium-webdriver", "capybara"], "answers": [{"comments": [{"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "reply_to_user": {"reputation": 458, "user_id": 2336473, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9858e665085672b03c51e550bd8e5117?s=128&d=identicon&r=PG", "display_name": "Huy Do", "link": "https://stackoverflow.com/users/2336473/huy-do"}, "edited": false, "score": 0, "creation_date": 1446690535, "post_id": 33528453, "comment_id": 54852558, "body": "@JamesDo  You tried what? setting default_driver or tagging your scenario?  Maybe you should update your original question to what you are now trying - and show the Scenario as well as the steps  (Also I&#39;m assuming you removed the driver= and driver.navigate stuff and just went back to calling visit as you should be)"}, {"owner": {"reputation": 458, "user_id": 2336473, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9858e665085672b03c51e550bd8e5117?s=128&d=identicon&r=PG", "display_name": "Huy Do", "link": "https://stackoverflow.com/users/2336473/huy-do"}, "edited": false, "score": 0, "creation_date": 1446695598, "post_id": 33528453, "comment_id": 54853831, "body": "Thanks @Tom, I have set <code>default_driver = :selenium</code> in <code>features&#47;support&#47;env.rb</code> and tag <code>@Javascript</code> in feature file. However, like you have said, I create the new driver and it is a different session with the session created in @When keyword. So they can&#39;t recognize each other."}, {"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "reply_to_user": {"reputation": 458, "user_id": 2336473, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9858e665085672b03c51e550bd8e5117?s=128&d=identicon&r=PG", "display_name": "Huy Do", "link": "https://stackoverflow.com/users/2336473/huy-do"}, "edited": false, "score": 0, "creation_date": 1446742761, "post_id": 33528453, "comment_id": 54880460, "body": "I don&#39;t fully understand whether this has fixed the issue for you or not, If it has please accept the answer"}], "tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": true, "score": 1, "last_activity_date": 1446690740, "last_edit_date": 1446690740, "creation_date": 1446658674, "answer_id": 33528453, "question_id": 33520238, "link": "https://stackoverflow.com/questions/33520238/why-capybara-codes-dont-work-with-selenium-webdriver/33528453#33528453", "title": "Why capybara codes don&#39;t work with selenium webdriver?", "body": "<p>You're creating a driver, telling it to navigate to a page and then it's going out of scope so it's getting deleted.   the <code>visit</code> line works because it's using the current capybara driver which stays around between test steps.   Rather than creating a driver manually you should be registering a driver with Capybara and then specifying which driver to use for the specific test.  See <a href=\"https://github.com/jnicklas/capybara#drivers\" rel=\"nofollow\">drivers</a></p>\n\n<p>Since capybara sets up a selenium driver by default for use with firefox you can just do </p>\n\n<pre><code>Capybara.default_driver = :selenium\n</code></pre>\n\n<p>somewhere before running your tests to make all your tests run using selenium with firefox, or since capybara registers selenium as the default javascript driver you can tag any scenarios you want to run in firefox with @javascript as shown <a href=\"https://github.com/jnicklas/capybara#using-capybara-with-cucumber\" rel=\"nofollow\">here</a></p>\n\n<pre><code>@javascript\nScenario: do something something\nGiven ...\n</code></pre>\n"}], "owner": {"reputation": 458, "user_id": 2336473, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9858e665085672b03c51e550bd8e5117?s=128&d=identicon&r=PG", "display_name": "Huy Do", "link": "https://stackoverflow.com/users/2336473/huy-do"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 33528453, "answer_count": 1, "score": 0, "last_activity_date": 1446690740, "creation_date": 1446635218, "last_edit_date": 1446662493, "question_id": 33520238, "link": "https://stackoverflow.com/questions/33520238/why-capybara-codes-dont-work-with-selenium-webdriver", "title": "Why capybara codes don&#39;t work with selenium webdriver?", "body": "<p>I am new to <code>Capybara</code>. I have a question about why my <code>Capybara</code> doesn't work when I use it together with <code>Selenium Webdriver</code>.</p>\n\n<p>This is my sample code:</p>\n\n<pre><code>Given(/^I am on the Youtube homepage$/) do\n  # visit 'http://www.youtube.com'\ndriver = Selenium::WebDriver.for :firefox\ndriver.navigate.to('http://www.youtube.com')\nend\n\nWhen(/^I search for \"([^\"]*)\"$/) do |search_term|\n  fill_in 'search_query', :with =&gt; search_term\n  click_on 'search-btn'\nend\n\nThen(/^videos of large rodents are returned$/) do\n  expect(page).to have_content 'Making Friends with a Capybara'\nend\n</code></pre>\n\n<p>When I run it, it just open <code>Firefox</code> and go to <code>Youtube</code> homepage. But it gets error: </p>\n\n<p><code>Capybara::ElementNotFound: Unable to find field \"search_query\"</code>. </p>\n\n<p>Everything works with <code>visit 'http://www.youtube.com'</code> command.</p>\n"}, {"tags": ["ruby", "unix", "signals"], "answers": [{"tags": [], "owner": {"reputation": 24567, "user_id": 53538, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21a10c379a9dfc3284a4a75edb933745?s=128&d=identicon&r=PG", "display_name": "Guss", "link": "https://stackoverflow.com/users/53538/guss"}, "is_accepted": true, "score": 1, "last_activity_date": 1452422592, "creation_date": 1452422592, "answer_id": 34704477, "question_id": 33519866, "link": "https://stackoverflow.com/questions/33519866/ignore-signal-sent-to-my-own-process-group/34704477#34704477", "title": "Ignore signal sent to my own process group", "body": "<p>Eventually, I just set a flag to ignore additional signals. The sample code above should be modified thus:</p>\n\n<pre><code>def run_stuff(cmd)\n  fork do\n    Process.setsid\n    shuttingdown = false\n    trap(:QUIT) do\n      next if shuttingdown\n      shuttingdown = true\n      Process.kill(:QUIT, 0)\n    end\n    trap(:TERM) do\n      next if shuttingdown\n      shuttingdown = true\n      Process.kill(:TERM, 0)\n    end\n    IO.popen(cmd) do |io|\n      while line = io.gets\n        $log.warn line\n      end\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 24567, "user_id": 53538, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21a10c379a9dfc3284a4a75edb933745?s=128&d=identicon&r=PG", "display_name": "Guss", "link": "https://stackoverflow.com/users/53538/guss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 34704477, "answer_count": 1, "score": 1, "last_activity_date": 1452422592, "creation_date": 1446634058, "question_id": 33519866, "link": "https://stackoverflow.com/questions/33519866/ignore-signal-sent-to-my-own-process-group", "title": "Ignore signal sent to my own process group", "body": "<p>I'm writing a wrapper for a set of child processes, which I want to respond to some signals and propagate them to children. So for example if the wrapper receives <code>QUIT</code>, it should send <code>QUIT</code> to all the children (not only direct children but all processes spawned).</p>\n\n<p>So I'm using <code>setsid</code> and then trapping the signals I want to handle with a code that just issues <code>kill(sig, 0)</code>. When I do that, the wrapper also gets the signal again (being the session leader and inside the process group) and and endless loop ensues.</p>\n\n<p>I was thinking of setting some sort of flag (<code>already_handled_sig_X</code>) and consulting it before calling <code>kill</code>, but (a) it looks clunky and (b) when do I remove the flag?</p>\n\n<p>BTW: the implementation language is Ruby, so if you want to put examples and feel like writing them in Ruby I'd appreciate it, otherwise - don't bother, I can handle C.</p>\n\n<p>Here's my current (naive) implementation:</p>\n\n<pre><code>def run_stuff(cmd)\n  fork do\n    Process.setsid\n    trap(:QUIT) { Process.kill(:QUIT, 0) }\n    trap(:TERM) { Process.kill(:TERM, 0) }\n    IO.popen(cmd) do |io|\n      while line = io.gets\n        $log.warn line\n      end\n    end\n  end\nend\n</code></pre>\n"}, {"tags": ["ios", "ruby", "appium"], "comments": [{"owner": {"reputation": 1416, "user_id": 3082183, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SP5We.jpg?s=128&g=1", "display_name": "Pankaj Kumar Katiyar", "link": "https://stackoverflow.com/users/3082183/pankaj-kumar-katiyar"}, "edited": false, "score": 0, "creation_date": 1454305346, "post_id": 33519711, "comment_id": 57967702, "body": "Did you check if appium server was running ?"}], "answers": [{"tags": [], "owner": {"reputation": 1416, "user_id": 3082183, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SP5We.jpg?s=128&g=1", "display_name": "Pankaj Kumar Katiyar", "link": "https://stackoverflow.com/users/3082183/pankaj-kumar-katiyar"}, "is_accepted": false, "score": 0, "last_activity_date": 1456484167, "creation_date": 1456484167, "answer_id": 35649869, "question_id": 33519711, "link": "https://stackoverflow.com/questions/33519711/appium-an-unknown-server-side-error-occurred-while-processing-the-command/35649869#35649869", "title": "Appium An unknown server-side error occurred while processing the command", "body": "<ol>\n<li><p>install ios-webkit-debug-proxy by command:\nbrew install ios-webkit-debug-proxy</p></li>\n<li><p>Run ios-webkit-debug-proxy on terminal.</p></li>\n<li><p>ios-webkit-debug-proxy requires the \"web inspector\" to be turned on to allow a connection to be established with iOS Device. To Turn it on Go to settings > safari > advanced > web inspector - On. Try now.</p></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 5524201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c349c949e347889dc9a9111ffd8387c0?s=128&d=identicon&r=PG&f=1", "display_name": "lilichen", "link": "https://stackoverflow.com/users/5524201/lilichen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2210, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1456484167, "creation_date": 1446633643, "last_edit_date": 1446635278, "question_id": 33519711, "link": "https://stackoverflow.com/questions/33519711/appium-an-unknown-server-side-error-occurred-while-processing-the-command", "title": "Appium An unknown server-side error occurred while processing the command", "body": "<p>i download the sample code on Appium website.</p>\n\n<p>i have xcode 6.4 appium 1.4.13.</p>\n\n<p>The i run the simple_test.rb, the code like this. iOS scimitar start ,and put values in textfields. but when click the first button.\nerror messages come out ,even if i sleep some time, the message is still.</p>\n\n<blockquote>\n  <p>info: [debug] [INST] 2015-11-04 09:54:53 +0000 Debug: Got new command\n  7 from instruments: au.getElement('2').rect()</p>\n  \n  <p>info: [debug] Socket data received (83 bytes) info: [debug] Socket\n  data being routed. info: [debug] Got result from instruments:\n  {\"status\":0,\"value\":{\"origin\":{\"x\":94,\"y\":122},\"size\":{\"width\":113,\"height\":37}}}</p>\n  \n  <p>info: [debug] [INST] 2015-11-04 09:54:53 +0000 Debug: evaluating\n  au.getElement('2').rect()\n         2015-11-04 09:54:53 +0000 Debug: evaluation finished 2015-11-04 09:54:53 +0000 Debug: responding with: 2015-11-04 09:54:53 +0000\n  Debug: Running system command #8:\n  /Applications/Appium.app/Contents/Resources/node/bin/node\n  /Applications/Appium.app/Contents/Resources/node_modules/appium/submodules/appium-uiauto/bin/command-proxy-client.js\n  /tmp/instruments_sock\n  2,{\"status\":0,\"value\":{\"origin\":{\"x\":94,\"y\":122},\"size\":{\"width\":113,\"height\":37}}}...\n  info: [debug] Responding to client with error:\n  {\"status\":13,\"value\":{\"message\":\"An unknown server-side error occurred\n  while processing the command. (Original error: connect\n  ECONNREFUSED)\",\"code\":\"ECONNREFUSED\",\"errno\":\"ECONNREFUSED\",\"syscall\":\"connect\",\"origValue\":\"connect\n  ECONNREFUSED\"},\"sessionId\":\"e7e398a0-e68d-4b71-8a74-1eef7fd6e948\"}\n  info: &lt;-- POST\n  /wd/hub/session/e7e398a0-e68d-4b71-8a74-1eef7fd6e948/element/2/click\n  500 138.558 ms - 293</p>\n</blockquote>\n\n<p>......</p>\n\n<h1>Start the driver</h1>\n\n<p>Appium::Driver.new(desired_caps).start_driver</p>\n\n<p>module Calculator\n  module IOS\n    # Add all the Appium library methods to Test to make\n    # calling them look nicer.\n    Appium.promote_singleton_appium_methods Calculator</p>\n\n<pre><code># Add two numbers\nvalues       = [rand(10), rand(10)]\nexpected_sum = values.reduce(&amp;:+)\n\n# Find every textfield.\nelements     = textfields\n\nelements.each_with_index do |element, index|\n  element.type values[index]\nend\n\n# wait { text 'Computer Sum' }\nsleep(30)\nbutton(1).click\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5031081, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XHur_smDuy4/AAAAAAAAAAI/AAAAAAAAAFA/fFzZtekGnL0/photo.jpg?sz=128", "display_name": "Kshitij Kamble", "link": "https://stackoverflow.com/users/5031081/kshitij-kamble"}, "edited": false, "score": 0, "creation_date": 1446634371, "post_id": 33519730, "comment_id": 54821240, "body": "It&#39;s still not working. Shows undefined method &#39;id&#39; error"}, {"owner": {"reputation": 3, "user_id": 5031081, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XHur_smDuy4/AAAAAAAAAAI/AAAAAAAAAFA/fFzZtekGnL0/photo.jpg?sz=128", "display_name": "Kshitij Kamble", "link": "https://stackoverflow.com/users/5031081/kshitij-kamble"}, "edited": false, "score": 0, "creation_date": 1446638147, "post_id": 33519730, "comment_id": 54823724, "body": "Thanks for the solution @martincarlin87, I did it by the first method in your edit and now I can use the user information in my other controller"}], "tags": [], "owner": {"reputation": 9554, "user_id": 634120, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1Vabi.jpg?s=128&g=1", "display_name": "martincarlin87", "link": "https://stackoverflow.com/users/634120/martincarlin87"}, "is_accepted": true, "score": 1, "last_activity_date": 1446634701, "last_edit_date": 1446634701, "creation_date": 1446633699, "answer_id": 33519730, "question_id": 33519581, "link": "https://stackoverflow.com/questions/33519581/how-to-pass-information-from-one-controller-to-another-via-view-rails/33519730#33519730", "title": "How to pass information from one controller to another via view rails", "body": "<pre><code>render home_path :local_variables[:id =&gt; user_id]\n</code></pre>\n\n<p>Seems weird to me to pass locals that way (don't even know if it's possible, never seen locals used outside of rendering views/partials).</p>\n\n<p>I think the best way is to redirect instead and set the user in the sessions once they have been logged in successfully, so in your login action:</p>\n\n<pre><code>user = User.find_by_email(params[:user][:email]) # or however you are finding the person trying to login\n\nsession[:user] = user\nredirect_to home_path\n</code></pre>\n\n<p>then in <code>users#home</code></p>\n\n<pre><code>@user = session[:user]\n</code></pre>\n\n<p>and finally, in the view:</p>\n\n<pre><code>&lt;%= link_to new_reservation_path(:user_id =&gt; @user.id) %&gt;\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Actually, probably not a good idea to store an object in the session, instead of</p>\n\n<pre><code> session[:user] = user\n</code></pre>\n\n<p>You could try:</p>\n\n<pre><code> session[:user_id] = user.id\n</code></pre>\n\n<p>and then to find the user:</p>\n\n<pre><code>@user = User.find(session[:user_id])\n</code></pre>\n\n<p>If you still get an undefined error then it's probably because the user is nil (unless the <code>User</code> model actually has no <code>id</code> attribute, which would be strange) so there might be an issue with the login part, it's hard to say without knowing what that looks like.</p>\n\n<p>If you need the logged in user on every page, you could abstract the functionality out into the application controller:</p>\n\n<pre><code>before_filter :check_user\n\ndef check_user\n  @user = User.find(session[:user_id]) if session[:user_id]\nend\n</code></pre>\n\n<p>Then, you can use the <code>@user</code> instance variable anywhere in your app.</p>\n"}], "owner": {"reputation": 3, "user_id": 5031081, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XHur_smDuy4/AAAAAAAAAAI/AAAAAAAAAFA/fFzZtekGnL0/photo.jpg?sz=128", "display_name": "Kshitij Kamble", "link": "https://stackoverflow.com/users/5031081/kshitij-kamble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 33519730, "answer_count": 1, "score": 0, "last_activity_date": 1446634701, "creation_date": 1446633294, "last_edit_date": 1446633962, "question_id": 33519581, "link": "https://stackoverflow.com/questions/33519581/how-to-pass-information-from-one-controller-to-another-via-view-rails", "title": "How to pass information from one controller to another via view rails", "body": "<p>I am working on a reservation project and after login I want to pass the current user information from the Sessions Controller to a Reservations Controller via a home page. How can I do that? I have been following Michael Hartl's Rails Tutorial for the login. Here's what I have tried in the create section of the Sessions Controller</p>\n\n<pre><code>render home_path :local_variables[:id =&gt; user_id]\n</code></pre>\n\n<p>and in the home_path(users#home)</p>\n\n<pre><code>&lt;%= link_to new_reservation_path(:user_id =&gt; :id) %&gt;\n</code></pre>\n\n<p>but it shows me an undefined method error. My Reservation model has a user_id column.I am confused regarding this matter. What should I do?  </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2516601, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e96a46b750c3c242b76832777188802f?s=128&d=identicon&r=PG", "display_name": "Alex N.", "link": "https://stackoverflow.com/users/2516601/alex-n"}, "edited": false, "score": 0, "creation_date": 1446783848, "post_id": 33550147, "comment_id": 54897992, "body": "Thanks. This works like a charm. My create_prospective helpers is basically the same attributes_for so that part wasn&#39;t the issue. But the nesting you mentioned was the missing part. Thanks!"}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1446741821, "creation_date": 1446741821, "answer_id": 33550147, "question_id": 33519247, "link": "https://stackoverflow.com/questions/33519247/rspec-test-for-testing-create-controller-of-nested-resource-inside-parent-resour/33550147#33550147", "title": "Rspec test for testing create controller of nested resource inside parent resource", "body": "<p>Your specs are creating actual <code>Article</code> and <code>Annotation</code> objects instead of attribute hashes, and as you said, you haven't nested the <code>Annotation</code> inside the <code>Article</code>. The first thing you should do is create a parameter hash that you can verify has the same structure as your working JSON request. I'd expect that to look like this:</p>\n\n<pre><code>article_data = attributes_for(:article, annotations: [attributes_for(:annotation)])\n</code></pre>\n\n<p>Then, you should be able to post your attribute data properly to your controller:</p>\n\n<pre><code>post :create, article: article_data, format: :json\n</code></pre>\n\n<p>Once you have the spec working, you can simplify your controller a bit by using <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html\" rel=\"nofollow\">accepts_nested_attributes_for</a> on your <code>Article</code> model. Rails provides that for just this case, and it helps you validate all of your objects at once in case you don't want the <code>Article</code> to be created with invalid <code>Annotation</code>s, and it plays nicely with the way Rails does <a href=\"http://guides.rubyonrails.org/form_helpers.html#nested-forms\" rel=\"nofollow\">nested forms</a></p>\n"}], "owner": {"reputation": 153, "user_id": 2516601, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e96a46b750c3c242b76832777188802f?s=128&d=identicon&r=PG", "display_name": "Alex N.", "link": "https://stackoverflow.com/users/2516601/alex-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446741821, "creation_date": 1446632394, "question_id": 33519247, "link": "https://stackoverflow.com/questions/33519247/rspec-test-for-testing-create-controller-of-nested-resource-inside-parent-resour", "title": "Rspec test for testing create controller of nested resource inside parent resource", "body": "<p>My Rails API app has two resources: article (parent) and annotation (child). I want to test that, when a parent is created, any children if specified are also created. So I want to test this creation INSIDE the parent's create controller test, in additional to the child's create controller test itself. </p>\n\n<p>I've gotten the JSON request to work fine but I'm not sure how to structure my RSpec test</p>\n\n<pre><code>{\n  \"article\": {\n    \"original_language\": \"ja\",\n    \"title\": \"\u65e5\u672c\u306e\u30b3\u30f3\u30d3\u30cb\u304c\u4e2d\u6771\u3067\u521d\u3081\u3066\u5e97\u3092\u958b\u304f\",\n    \"body\": \"\u30b3\u30f3\u30d3\u30cb\u306e\u4f1a\u793e\u300c\u30bb\u30d6\u30f3\uff0d\u30a4\u30ec\u30d6\u30f3\u30fb\u30b8\u30e3\u30d1\u30f3\u300d\u306f\uff11\uff13\u65e5\u3001\u4e2d\u6771\u306e\uff35\uff21\uff25\uff1d\u30a2\u30e9\u30d6\u9996\u9577\u56fd\u9023\u90a6\u306e\u30c9\u30d0\u30a4\u306b\u65b0\u3057\u3044\u5e97\u3092\u958b\u304d\u307e\u3057\u305f\u3002\u65e5\u672c\u306e\u30b3\u30f3\u30d3\u30cb\u304c\u4e2d\u6771\u306b\u5e97\u3092\u958b\u304f\u306e\u306f\u521d\u3081\u3066\u3067\u3059\u3002\\n\uff35\uff21\uff25\u306b\u306f\uff12\uff14\u6642\u9593\u958b\u3044\u3066\u3044\u308b\u5e97\u304c\u307b\u3068\u3093\u3069\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3053\u306e\u305f\u3081\u3001\uff35\uff21\uff25\u306e\u4e2d\u306e\u30a2\u30d6\u30c0\u30d3\u9996\u9577\u56fd\u306e\u738b\u65cf\uff08\uff1d\u738b\u3068\u738b\u306e\u89aa\u985e\uff09\u304c\u65b0\u3057\u3044\u3084\u308a\u65b9\u306e\u5e97\u3092\u958b\u3044\u3066\u307b\u3057\u3044\u3068\u983c\u3093\u3067\u3044\u307e\u3057\u305f\u3002\\n\u65b0\u3057\u3044\u5e97\u3067\u306f\u3001\u7279\u306b\u5f01\u5f53\u3084\u304a\u306b\u304e\u308a\u306a\u3069\u3092\u58f2\u308a\u305f\u3044\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\uff35\uff21\uff25\u306e\u4eba\u304c\u597d\u304d\u306a\u30a4\u30f3\u30c9\u306e\u30b9\u30d1\u30a4\u30b9\u3092\u5165\u308c\u305f\u308a\u3001\u5927\u304d\u306a\u30bd\u30fc\u30bb\u30fc\u30b8\u3092\u306e\u305b\u305f\u308a\u3057\u305f\u304a\u306b\u304e\u308a\u3082\u4f5c\u308a\u307e\u3057\u305f\u3002\u65b0\u3057\u3044\u5e97\u306e\u793e\u9577\u306f\u300c\uff35\uff21\uff25\u306b\u306f\u3044\u308d\u3044\u308d\u306a\u56fd\u306e\u4eba\u305f\u3061\u304c\u6765\u3066\u3044\u307e\u3059\u3002\u304a\u5ba2\u69d8\u304c\u307f\u3093\u306a\u559c\u3076\u3088\u3046\u306a\u5e97\u306b\u3057\u305f\u3044\u3067\u3059\u300d\u3068\u8a71\u3057\u3066\u3044\u307e\u3057\u305f\u3002\\n\u30bb\u30d6\u30f3\uff0d\u30a4\u30ec\u30d6\u30f3\u30fb\u30b8\u30e3\u30d1\u30f3\u306f\u3001\u3053\u308c\u304b\u3089\uff13\u5e74\u3067\uff35\uff21\uff25\u306b\uff11\uff10\uff10\u306e\u5e97\u3092\u958b\u304f\u4e88\u5b9a\u3067\u3059\u3002\",\n    \"source_name\": \"NHK Easy News\",\n    \"source_url\": \"http://www3.nhk.or.jp/news/easy/k10010269131000/k10010269131000.html\",\n    \"privacy_status\": 1,\n    \"scheduled_date\": null,\n    \"level\": 3,\n    \"annotations\": [\n      {\n        \"destination_language\": \"en\",\n        \"authority_level\": 1,\n        \"source_text\": \"\u30b3\u30f3\u30d3\u30cb\",\n        \"location_start\": 1,\n        \"location_end\": 5,\n        \"category\": 0,\n        \"definition\": \"Convenience Store\",\n        \"reading\": null,\n        \"translation\": null,\n        \"usage_note\": \"Convenience stores are everywhere in Japan. Most open 24/7. The big chains are 7/11, Lawson, Family Mart, Sunkus, and Circle K.\",\n        \"specific_note\": null,\n        \"paragraph_id\": 1\n      },\n      {\n        \"destination_language\": \"en\",\n        \"authority_level\": 1,\n        \"source_text\": \"\u30b3\u30f3\u30d3\u30cb\",\n        \"location_start\": 1,\n        \"location_end\": 5,\n        \"category\": 0,\n        \"definition\": \"Convenience Store\",\n        \"reading\": null,\n        \"translation\": null,\n        \"usage_note\": \"Convenience stores are everywhere in Japan. Most open 24/7. The big chains are 7/11, Lawson, Family Mart, Sunkus, and Circle K.\",\n        \"specific_note\": null      }\n    ]\n  }\n}\n</code></pre>\n\n<p>Here is my attempt so far. I realize that what I'm doing is not nesting the annotations under article like in JSON. How can I do that?</p>\n\n<pre><code>@article_attributes = create_prospective(scope: :article)\n@annotation_attributes_valid = create_prospective(scope: :annotation)\n@annotation_attributes_invalid = create_prospective(scope: :annotation, trait: :invalid)\npost :create, {user: @user.id, article: @article_attributes, annotations: @annotation_attributes_valid }, format: :json\n</code></pre>\n\n<p>Note: create_prospective is a helper method for FactoryGirl</p>\n\n<p>Controller</p>\n\n<pre><code>def create\n    @article = current_resource_owner.articles.build(article_params)\n\n    if @article.save\n      annotation_result = create_annotation(@article, params[:article][:annotations])\n\n      render json: {article: @article, total_number_annotations: annotation_result[:total_count], number_annotations_succeeded: annotation_result[:success_count], number_annotations_failed: annotation_result[:failure_count], successful_annotations: annotation_result[:success_list], failed_annotations: annotation_result[:failure_list]}, status: annotation_result[:api_status]\n      # end\n    else\n      render json: { errors: @article.errors }, status: 422\n    end\n</code></pre>\n\n<p>end</p>\n\n<p>Note: create_annotation is a concern that saves the annotations, to be reusable in both the article controller and annotation controller</p>\n"}, {"tags": ["ruby", "return"], "comments": [{"owner": {"reputation": 815, "user_id": 3669929, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/SXyOy.jpg?s=128&g=1", "display_name": "gFontaniva", "link": "https://stackoverflow.com/users/3669929/gfontaniva"}, "edited": false, "score": 0, "creation_date": 1446632610, "post_id": 33519243, "comment_id": 54820096, "body": "Ruby, like other languages, when get the return statement ends the method. You can set a variable with the content and return on the end of this method."}, {"owner": {"reputation": 853, "user_id": 3083321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b89a0aec6a8d868f2d37ae7e2d911e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/3083321/mat"}, "reply_to_user": {"reputation": 815, "user_id": 3669929, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/SXyOy.jpg?s=128&g=1", "display_name": "gFontaniva", "link": "https://stackoverflow.com/users/3669929/gfontaniva"}, "edited": false, "score": 0, "creation_date": 1446632708, "post_id": 33519243, "comment_id": 54820171, "body": "I honestly don&#39;t understand your comment. Could you provide a code example ?"}, {"owner": {"reputation": 3580, "user_id": 1680728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/844cd73e8700d810d7cc207cba7da3bd?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/1680728/felix"}, "edited": false, "score": 0, "creation_date": 1446636176, "post_id": 33519243, "comment_id": 54822455, "body": "You could also raise an exception, if that makes sense semantically."}, {"owner": {"reputation": 853, "user_id": 3083321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b89a0aec6a8d868f2d37ae7e2d911e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/3083321/mat"}, "edited": false, "score": 0, "creation_date": 1446639290, "post_id": 33519243, "comment_id": 54824484, "body": "Not in that case, but yeah, I&#39;ve thought about it."}], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 3083321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b89a0aec6a8d868f2d37ae7e2d911e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/3083321/mat"}, "edited": false, "score": 0, "creation_date": 1446633562, "post_id": 33519657, "comment_id": 54820728, "body": "Thanks. The fact that you tell me this is common reassures me a bit. I&#39;ll wait a few minutes to see if a better answer pops then upvote and choose your answer if not."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 853, "user_id": 3083321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b89a0aec6a8d868f2d37ae7e2d911e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/3083321/mat"}, "edited": false, "score": 0, "creation_date": 1446633781, "post_id": 33519657, "comment_id": 54820868, "body": "By the mean time, you can take a look at this post: <a href=\"http://blog.arkency.com/2014/07/4-ways-to-early-return-from-a-rails-controller/\" rel=\"nofollow noreferrer\">blog.arkency.com/2014/07/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/5539106/rails-render-and-exit-immediately\" title=\"rails render and exit immediately\">stackoverflow.com/questions/5539106/&hellip;</a> and .... just google it :)"}, {"owner": {"reputation": 853, "user_id": 3083321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b89a0aec6a8d868f2d37ae7e2d911e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/3083321/mat"}, "edited": false, "score": 1, "creation_date": 1446634131, "post_id": 33519657, "comment_id": 54821075, "body": "The first link confirms that it is indeed ok to do that, so thanks again :)"}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 4, "last_activity_date": 1446633990, "last_edit_date": 1446633990, "creation_date": 1446633486, "answer_id": 33519657, "question_id": 33519243, "link": "https://stackoverflow.com/questions/33519243/ruby-return-from-calling-method/33519657#33519657", "title": "Ruby : return from calling method", "body": "<p>I think, you can't do that.</p>\n\n<p>The only way you can do that (at least I can think of right now) is, by using what you are calling <code>dirty</code> way of doing it.</p>\n\n<p>Actually, <code>do_something and return</code> is a pretty common pattern/use case that you would see in Ruby/Rails code.</p>\n\n<p>So, IMO, this is the way to go:</p>\n\n<pre><code>def calling_method\n  # stuff\n  called_method and return\n  # more stuff\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "is_accepted": false, "score": 2, "last_activity_date": 1446649858, "creation_date": 1446649858, "answer_id": 33525277, "question_id": 33519243, "link": "https://stackoverflow.com/questions/33519243/ruby-return-from-calling-method/33525277#33525277", "title": "Ruby : return from calling method", "body": "<p>Something like this is only possible with blocks, which have the capability to return directly the method which yields the block. Consider this example:</p>\n\n<pre><code># You don't need to specify &amp;block here, it works the same if you omit it\n# I added it for clarity\ndef calling_method(&amp;block)\n  puts 'before'\n  puts yield\n  puts 'after'\nend\n</code></pre>\n\n<p>Now, you can call the <code>calling_method</code> with different blocks and observe the behavior of the method:</p>\n\n<p>First, we call it with a regular block which returns a simple value</p>\n\n<pre><code>calling_method { 3 }\n# before\n# 3\n# after\n# =&gt; nil\n</code></pre>\n\n<p>Now, we try what happens if you use the <code>next</code> keyword inside the block:</p>\n\n<pre><code>calling_method { next 23 }\n# before\n# 23\n# after\n# =&gt; nil\n</code></pre>\n\n<p>The <code>next</code> keyword is effectively a <code>return</code> for procs. It ends the execution of the proc and returns whatever value is given (or <code>nil</code> by default).</p>\n\n<p>Finally, we have a look at what happens when we use <code>break</code> in the block:</p>\n\n<pre><code>p calling_method { break 23 }\n# before\n# =&gt; 23\n</code></pre>\n\n<p>When you use the <code>break</code> keyword in Ruby, what happens is that proc returns AND the method which yielded to the block also immediately returns with the value given to the <code>break</code> keyword.</p>\n\n<p>Thus, if you can rewrite your logic so that the behavior currently defined in your <code>called_method</code> can be rewritten in a block and be passed to your <code>calling_method</code>, then you can control the return behavior from the block.</p>\n\n<p>If you have to call the actual methods then the <code>called_method and return</code> technique is about the only way though.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 473948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0a0fd29b98b96feadf75ef8665f0e?s=128&d=identicon&r=PG", "display_name": "vuduy", "link": "https://stackoverflow.com/users/473948/vuduy"}, "is_accepted": false, "score": 0, "last_activity_date": 1502551193, "creation_date": 1502551193, "answer_id": 45651833, "question_id": 33519243, "link": "https://stackoverflow.com/questions/33519243/ruby-return-from-calling-method/45651833#45651833", "title": "Ruby : return from calling method", "body": "<p>This should work.  Returning from a lambda should continue the rest of the flow</p>\n\n<pre><code>def calling_method\n  # stuff\n  lambda { called_method }\n  # more stuff\nend\n</code></pre>\n"}], "owner": {"reputation": 853, "user_id": 3083321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b89a0aec6a8d868f2d37ae7e2d911e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/3083321/mat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4112, "favorite_count": 1, "accepted_answer_id": 33519657, "answer_count": 3, "score": 7, "last_activity_date": 1502551193, "creation_date": 1446632391, "question_id": 33519243, "link": "https://stackoverflow.com/questions/33519243/ruby-return-from-calling-method", "title": "Ruby : return from calling method", "body": "<p>I'd like to be able to return from the calling method while still inside the called method.</p>\n\n<p>Example :</p>\n\n<pre><code>def calling_method\n  # stuff\n  called_method\n  # more stuff\nend\n\ndef called_method\n  # stuff\n  return_from_caller if foo # &lt;&lt; I would like to return from calling_method\n  # more stuff\nend\n</code></pre>\n\n<p>Is there a simple way to achieve that ?</p>\n\n<p>The \"dirty\" way I'm using at the moment is this :</p>\n\n<pre><code>def calling_method\n  # stuff\n  called_method and return\n  # more stuff\nend\n\ndef called_method\n  # stuff\n  return false if foo\n  # more stuff\nend\n</code></pre>\n\n<p>But this isn't fully satisfying as I have to do a <code>and return</code> in the calling method.</p>\n"}, {"tags": ["ruby", "string", "replace"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1446656439, "post_id": 33519059, "comment_id": 54836676, "body": "Readers do not understand your question. Please edit to define <code>arg1</code>, <code>arg2</code> and <code>arg3</code>. It would be helpful to include a small example that includes the contents of the file (a file with just two lines, say), values for the three <code>arg</code>s and the contents of your desired output file. Where you have &quot;raw&quot; (including the title), I think you mean &quot;row&quot;, but &quot; line&quot; would be better. Where you refer to &quot;delete&quot; and &quot;add&quot;, say &quot; replace&quot; if that&#39;s what you mean. (&quot;delete and add&quot; could be interpreted as &quot;delete the line and add a line at the end&quot;.)"}, {"owner": {"reputation": 173, "user_id": 5139059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205813779357813/picture?type=large", "display_name": "Mher Harutyunyan", "link": "https://stackoverflow.com/users/5139059/mher-harutyunyan"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446790550, "post_id": 33519059, "comment_id": 54899860, "body": "Thanks so much for the note. I will consider this next time I post a question."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 5139059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205813779357813/picture?type=large", "display_name": "Mher Harutyunyan", "link": "https://stackoverflow.com/users/5139059/mher-harutyunyan"}, "edited": false, "score": 0, "creation_date": 1446632506, "post_id": 33519197, "comment_id": 54820027, "body": "but they are in fact defined, if go like this -  arg1, arg2, arg3 = ARGV  puts &quot;#{arg1}\\n#{arg2}\\n#{arg3}&quot;  I get the right result"}, {"owner": {"reputation": 149, "user_id": 4843054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ITnvV.jpg?s=128&g=1", "display_name": "AlexanderRD", "link": "https://stackoverflow.com/users/4843054/alexanderrd"}, "reply_to_user": {"reputation": 173, "user_id": 5139059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205813779357813/picture?type=large", "display_name": "Mher Harutyunyan", "link": "https://stackoverflow.com/users/5139059/mher-harutyunyan"}, "edited": false, "score": 0, "creation_date": 1446632737, "post_id": 33519197, "comment_id": 54820197, "body": "@MherHarutyunyan, I tried your initialisation approach in an irb console and it didn&#39;t work as expected. Have you tried printing the values of arg1..3 within the loop statement? What does it output?"}, {"owner": {"reputation": 173, "user_id": 5139059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205813779357813/picture?type=large", "display_name": "Mher Harutyunyan", "link": "https://stackoverflow.com/users/5139059/mher-harutyunyan"}, "edited": false, "score": 0, "creation_date": 1446632846, "post_id": 33519197, "comment_id": 54820273, "body": "Well, if include? accepts only a single argument, it is clear why it won&#39;t work for me. what else approach would you suggest?"}, {"owner": {"reputation": 149, "user_id": 4843054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ITnvV.jpg?s=128&g=1", "display_name": "AlexanderRD", "link": "https://stackoverflow.com/users/4843054/alexanderrd"}, "reply_to_user": {"reputation": 173, "user_id": 5139059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205813779357813/picture?type=large", "display_name": "Mher Harutyunyan", "link": "https://stackoverflow.com/users/5139059/mher-harutyunyan"}, "edited": false, "score": 0, "creation_date": 1446638657, "post_id": 33519197, "comment_id": 54824083, "body": "Suggested something in my updated answer. This solution is by no means an optimized solution, but might give you a starting point."}], "tags": [], "owner": {"reputation": 149, "user_id": 4843054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ITnvV.jpg?s=128&g=1", "display_name": "AlexanderRD", "link": "https://stackoverflow.com/users/4843054/alexanderrd"}, "is_accepted": true, "score": 0, "last_activity_date": 1446638562, "last_edit_date": 1446638562, "creation_date": 1446632272, "answer_id": 33519197, "question_id": 33519059, "link": "https://stackoverflow.com/questions/33519059/ruby-script-to-search-a-string-and-delete-entire-raw/33519197#33519197", "title": "Ruby script to search a string and delete entire raw?", "body": "<p>So include? expects to receive a single argument:</p>\n\n<pre><code>line.include? single_variable\n</code></pre>\n\n<p>Take a look here:\n<a href=\"http://apidock.com/ruby/Array/include%3F\" rel=\"nofollow\">http://apidock.com/ruby/Array/include%3F</a></p>\n\n<p>EDIT:\nYou could try something like this:</p>\n\n<pre><code>unwanted_array = ['unwanted', 'error', 'string']\nread_file.each_line do |line|\n   write_file.write(line) unless unwanted_array.map { |val| line.include? val }.reduce(:|)\nend\n</code></pre>\n\n<p>Unwanted array could also be built up by doing:</p>\n\n<pre><code>unwanted_array = [arg1, arg2, arg3]\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 5139059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205813779357813/picture?type=large", "display_name": "Mher Harutyunyan", "link": "https://stackoverflow.com/users/5139059/mher-harutyunyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 33519197, "answer_count": 1, "score": 0, "last_activity_date": 1446790603, "creation_date": 1446631949, "last_edit_date": 1446790603, "question_id": 33519059, "link": "https://stackoverflow.com/questions/33519059/ruby-script-to-search-a-string-and-delete-entire-raw", "title": "Ruby script to search a string and delete entire raw?", "body": "<p>I have a text file and I need to search for a string, if that string is found I want to delete entire raw containing that string and add a new raw. As for now I just try to find a string and delete entire raw. And the string I search should be given as an argument. \nCode I have as far goes here:</p>\n\n<pre><code>arg1, arg2, arg3 = ARGV\n\nread_file = File.new('conf.txt', \"r\").read\nwrite_file = File.new('conf.txt', \"w\")\n\nread_file.each_line do |line|\nwrite_file.write(line) unless line.include? arg1 arg2 arg3\nend\n</code></pre>\n\n<p>But the output I get is as follows:</p>\n\n<pre><code>C:/Ruby/tests/replace3.rb:9:in `block in &lt;main&gt;': undefined method `arg2' for ma\nin:Object (NoMethodError)\n        from C:/Ruby/tests/replace3.rb:8:in `each_line'\n        from C:/Ruby/tests/replace3.rb:8:in `&lt;main&gt;'\n</code></pre>\n\n<p>Another approach I try is the following:</p>\n\n<pre><code>file_names = ['config.txt']\n\nfile_names.each do |file_name|\n  text = File.read(file_name)\n  new_contents = text.gsub(/regex_string/, \"new_string\")\n  File.open(file_name, \"w\") {|file| file.puts new_contents }\n\nend\n</code></pre>\n\n<p>But the problem here is that the regex string finds only certan string and doesn't take all that raw. Maybe you have any idea how I can optimize this code for my problem.</p>\n"}, {"tags": ["ruby", "unzip"], "comments": [{"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1446640202, "post_id": 33518578, "comment_id": 54825042, "body": "You should post your solution as an answer to your own question and then accept it."}], "answers": [{"tags": [], "owner": {"reputation": 1214, "user_id": 2304703, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/78803d4982b61c1b899f6ab7389dd25e?s=128&d=identicon&r=PG", "display_name": "juuga", "link": "https://stackoverflow.com/users/2304703/juuga"}, "is_accepted": false, "score": 0, "last_activity_date": 1446646800, "last_edit_date": 1495542187, "creation_date": 1446646800, "answer_id": 33524215, "question_id": 33518578, "link": "https://stackoverflow.com/questions/33518578/how-do-i-write-an-attachment-zip-to-file-with-rubys-file-new/33524215#33524215", "title": "How do I write an attachment ZIP to file with Ruby&#39;s File.new?", "body": "<p>The solution was, of course, figuring out what changed between Ruby versions. <a href=\"https://stackoverflow.com/questions/3960392/ruby-1-9-array-to-s-behaves-differently\">In this thread</a> it is pointed out, that:</p>\n\n<blockquote>\n  <p>In 1.8 that is equivalent to calling <code>join</code>, in 1.9 it is equivalent to calling <code>inspect</code>. To get the behavior you want in both 1.8 and 1.9, call <code>join</code> instead of <code>to_s</code>.</p>\n</blockquote>\n\n<p>So the solution was to change the line to </p>\n\n<pre><code>File.new(save_path, \"wb+\").write(attachment.unpack(\"m\").join)\n</code></pre>\n\n<p>Because by default <code>write</code> calls <code>to_s</code> if something besides a string is supplied.</p>\n"}], "owner": {"reputation": 1214, "user_id": 2304703, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/78803d4982b61c1b899f6ab7389dd25e?s=128&d=identicon&r=PG", "display_name": "juuga", "link": "https://stackoverflow.com/users/2304703/juuga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446646800, "creation_date": 1446630620, "last_edit_date": 1446646780, "question_id": 33518578, "link": "https://stackoverflow.com/questions/33518578/how-do-i-write-an-attachment-zip-to-file-with-rubys-file-new", "title": "How do I write an attachment ZIP to file with Ruby&#39;s File.new?", "body": "<p>I am connecting to a IMAP server and downloading a message with a ZIP attachment. I am running my script on my local machine, and on a remote machine. I am able to save the file correctly on both machines, but for some reason I am getting errors when unzipping on the remote machine.</p>\n\n<p>My ruby code that saves the zip attachment:</p>\n\n<pre><code>attachment = imap.fetch(message_id, \"BODY[2]\")[0].attr[\"BODY[2]\"]\nsave_path = \"#{save_path_base}/#{fname}\"\nFile.new(save_path, \"wb+\").write(attachment.unpack(\"m\"))\n</code></pre>\n\n<p>On my local machine (OS X) running <code>unzip file.zip</code> on the file works perfectly, but on the remote machine (CentOS) the same command produces an error:</p>\n\n<p><em>End-of-central-directory signature not found.  Either this file is not\na zipfile, or it constitutes one disk of a multi-part archive.  In the\nlatter case the central directory and zipfile comment will be found on\nthe last disk(s) of this archive.</em></p>\n\n<p>What could be causing the file to be saved correctly on my local machine and corruptedly on the remote machine? Or is my local unzip ignoring errors? On both machines <code>unzip</code> points to <code>/usr/bin/unzip</code>.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>On my local machine, <code>file file.zip</code> gives me <em>Zip archive data, at least v2.0 to extract.</em> My local Ruby version is <code>ruby 1.8.7 (2012-02-08 patchlevel 358)</code></p>\n\n<p>On my remote server the command returns <em>ASCII text, with very long lines, with no line terminators.</em> My remote Ruby version is <code>ruby 2.0.0p647 (2015-08-18)</code> </p>\n\n<p>How do I ensure the file is recognized as a ZIP on the remote machine?</p>\n\n<p><strong>EDIT: Solution added below as an answer</strong></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "edited": false, "score": 0, "creation_date": 1446633588, "post_id": 33517019, "comment_id": 54820740, "body": "I need to return a validation error right after get_some_post_param if the value is invalid, do you know how can I do that?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "edited": false, "score": 0, "creation_date": 1446633672, "post_id": 33517019, "comment_id": 54820795, "body": "Well, validation error will be generated and returned once you call the <code>@m.save</code> in this case, not before that. You can&#39;t just call that manually in your controller, at least I don&#39;t know if that&#39;s possible at all."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "edited": false, "score": 0, "creation_date": 1446635153, "post_id": 33517019, "comment_id": 54821779, "body": "So, yeah, I don&#39;t think you can raise validation error from your model. Look at my updated code. This is best you can do in your controller I think. Also, see this post which is kind of similar to your post. <a href=\"http://stackoverflow.com/questions/17476227/how-to-raise-validation-errors-from-rails-controller\" title=\"how to raise validation errors from rails controller\">stackoverflow.com/questions/17476227/&hellip;</a>"}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 3, "last_activity_date": 1446634961, "last_edit_date": 1495540432, "creation_date": 1446625758, "answer_id": 33517019, "question_id": 33516942, "link": "https://stackoverflow.com/questions/33516942/adding-a-validation-error-in-a-controller-in-rails-4/33517019#33517019", "title": "Adding a validation error in a controller in Rails 4", "body": "<p>First of all, I don't think you can directly do that in your controller.</p>\n\n<p>You can associate the non-model <code>var1</code> attribute to any one of your model attribute (this can be a new attribute for this purpose, say: <code>special_var1</code>).</p>\n\n<p>Then in your controller you can have:</p>\n\n<pre><code>  before_action :set_special_var1\n\n  def set_special_var1\n    var1 = get_some_post_param\n    @m.special_var1 = var1\n  end\n</code></pre>\n\n<p>And, then in your model, you can add a custom validator:</p>\n\n<pre><code># model.rb\nvalidate :special_var1_is_not_nil\n\nprivate\n\ndef special_var1_is_not_nil\n  if self.special_var1.nil?\n    errors.add(:special_var1, 'special_var1 is nil')\n  end\nend\n</code></pre>\n\n<p>Or, you can also try:</p>\n\n<pre><code>validates :special_var1, allow_nil: false\n</code></pre>\n\n<p>However, these validations will be invoked before the object is being persisted e.g. when you call: <code>@m.save</code>, not before that.</p>\n\n<h3>Update</h3>\n\n<p>The best you can do in your controller is, having a <code>before_action</code> in your controller and then redirect to some page if <code>var1</code> is <code>nil</code>:</p>\n\n<pre><code>before_action :check_var1\n\nprivate\n\ndef check_var1\n  var1 = get_some_post_param\n  unless var1\n    redirect_to \"index\", notice: \"Invalid var1\"\n  end\nend\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/17476227/how-to-raise-validation-errors-from-rails-controller\">this post</a> for some reference.</p>\n"}], "owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2612, "favorite_count": 0, "accepted_answer_id": 33517019, "answer_count": 1, "score": 3, "last_activity_date": 1446634961, "creation_date": 1446625450, "question_id": 33516942, "link": "https://stackoverflow.com/questions/33516942/adding-a-validation-error-in-a-controller-in-rails-4", "title": "Adding a validation error in a controller in Rails 4", "body": "<p>In a controller I have a code which isn't associated with the model directly:</p>\n\n<pre><code>def create\n\n  var1 = get_some_post_param\n  # check if var1 isn't nil -- how to add an error the model if it is?\n\n  # some other code...\n  @m = Model.new(field1: var1, field2: var2, field3: var3)\n  if @m.save\n    # ok\n    #....\n  else\n    # error\n    ...\n  end\nend\n</code></pre>\n\n<p>How can I add a validation error to the model right after <code>var1 = get_some_post_param</code> if <code>var1</code> is nil?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 5744, "user_id": 461557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/chqe8.jpg?s=128&g=1", "display_name": "Viren", "link": "https://stackoverflow.com/users/461557/viren"}, "edited": false, "score": 0, "creation_date": 1446624229, "post_id": 33516514, "comment_id": 54815127, "body": "ehh my bad sorry about that and yes you are correct."}], "tags": [], "owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "is_accepted": true, "score": 4, "last_activity_date": 1446623871, "creation_date": 1446623871, "answer_id": 33516514, "question_id": 33516341, "link": "https://stackoverflow.com/questions/33516341/accepts-nested-attributes-causing-stack-level-too-deep-in-rails/33516514#33516514", "title": "accepts_nested_attributes causing Stack level too deep in Rails", "body": "<p>Write <code>dependent: :destroy</code> only in one of models that share an association. If both models have <code>dependent: :destroy</code> in 'em, it goes for an infinite number of calls causing <strong>Stack level too deep</strong> error to occur.</p>\n"}], "owner": {"reputation": 5744, "user_id": 461557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/chqe8.jpg?s=128&g=1", "display_name": "Viren", "link": "https://stackoverflow.com/users/461557/viren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 33516514, "answer_count": 1, "score": 0, "last_activity_date": 1457433824, "creation_date": 1446623248, "last_edit_date": 1592644375, "question_id": 33516341, "link": "https://stackoverflow.com/questions/33516341/accepts-nested-attributes-causing-stack-level-too-deep-in-rails", "title": "accepts_nested_attributes causing Stack level too deep in Rails", "body": "<p>I have a very basic example</p>\n<p><strong>app/models/user.rb</strong></p>\n<pre><code>#name string\nclass User &lt; ActiveRecord::Base\n  has_one :project,dependent: :destroy\n  validates :name,presence: true\n  validates_associated :project\n  accepts_nested_attributes_for :project\nend\n</code></pre>\n<p><strong>app/models/project.rb</strong></p>\n<pre><code>#name      string\n#user_id   integer\nclass Project &lt; ActiveRecord::Base\n  belongs_to :user\n  has_many :tasks,dependent: :destroy\n  validates :name,presence: true\n  validates_associated :tasks\n  accepts_nested_attributes_for :tasks\nend\n</code></pre>\n<p><strong>app/models/tasks.rb</strong></p>\n<pre><code>#name   string\n#project_id  integer\nclass Task &lt; ActiveRecord::Base\n  belongs_to :project,dependent: :destroy\n  validates :name,presence: true\nend\n</code></pre>\n<p>That's all I have in model</p>\n<p>On the Controller end for <strong>testing</strong> purpose, I have the following code.</p>\n<p><strong>app/controllers/users_controller.rb</strong></p>\n<pre><code>def update\n    @user.project_attributes = {:name  =&gt; &quot;P#rand(100)&quot;,:tasks_attributes =&gt; [{name: &quot;Task#{rand(100)}&quot;}]}\n\n    respond_to do |format|\n      if @user.save\n        format.html { redirect_to @user, notice: 'User was successfully updated.' }\n        format.json { head :no_content }\n      else\n        format.html { render action: 'edit' }\n        format.json { render json: @user.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n<p>Every time, I try to update a given User, I run into <code>stack level too deep</code>\nproblem</p>\n<p>Any Clue?</p>\n<h2>Note :</h2>\n<pre><code>Rails version 4.0.4 \nRuby 2.1.2p95\n</code></pre>\n"}, {"tags": ["ruby", "gem", "rubygems", "rvm"], "comments": [{"owner": {"reputation": 642, "user_id": 750452, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fbece8eb020755c835cf19669f9fc5d?s=128&d=identicon&r=PG", "display_name": "astgtciv", "link": "https://stackoverflow.com/users/750452/astgtciv"}, "edited": false, "score": 0, "creation_date": 1446623929, "post_id": 33515870, "comment_id": 54814984, "body": "I see at least one option is to wrap the executable call in &quot;env -i&quot; as described here: <a href=\"http://unix.stackexchange.com/questions/48994/how-to-run-a-program-in-a-clean-environment-in-bash\" title=\"how to run a program in a clean environment in bash\">unix.stackexchange.com/questions/48994/&hellip;</a> ."}, {"owner": {"reputation": 17146, "user_id": 115835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b46078936d4b0439b7350aed251371?s=128&d=identicon&r=PG", "display_name": "Hardy", "link": "https://stackoverflow.com/users/115835/hardy"}, "edited": false, "score": 0, "creation_date": 1446713026, "post_id": 33515870, "comment_id": 54860597, "body": "&quot;but since the gemset changed when executing &quot;tool&quot; it fails saying that it cannot find the &quot;tool&quot; gem (because &quot;tool&quot; was never installed to that gemset)&quot; - What do you mean with that?  &quot;I don&#39;t want to add the gem to all the Gemfiles of all the projects.&quot; - If you need the tool within a project, it should be added to the Gemfile imo."}, {"owner": {"reputation": 642, "user_id": 750452, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fbece8eb020755c835cf19669f9fc5d?s=128&d=identicon&r=PG", "display_name": "astgtciv", "link": "https://stackoverflow.com/users/750452/astgtciv"}, "reply_to_user": {"reputation": 17146, "user_id": 115835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b46078936d4b0439b7350aed251371?s=128&d=identicon&r=PG", "display_name": "Hardy", "link": "https://stackoverflow.com/users/115835/hardy"}, "edited": false, "score": 0, "creation_date": 1447065776, "post_id": 33515870, "comment_id": 54989256, "body": "@Hardy I am talking about  a system-wide command, e.g. something that might have been installed using brew. Only it happens to be a gem. Hmm, maybe <a href=\"https://github.com/sportngin/brew-gem\" rel=\"nofollow noreferrer\">github.com/sportngin/brew-gem</a> will do the trick, will check..."}], "answers": [{"tags": [], "owner": {"reputation": 642, "user_id": 750452, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fbece8eb020755c835cf19669f9fc5d?s=128&d=identicon&r=PG", "display_name": "astgtciv", "link": "https://stackoverflow.com/users/750452/astgtciv"}, "is_accepted": false, "score": 0, "last_activity_date": 1447109944, "creation_date": 1447109944, "answer_id": 33619944, "question_id": 33515870, "link": "https://stackoverflow.com/questions/33515870/how-to-install-a-gem-so-that-it-executes-independent-of-currently-active-rvm-gem/33619944#33619944", "title": "How to install a gem so that it executes independent of currently active RVM gemset?", "body": "<p>It turned out that <a href=\"https://github.com/sportngin/brew-gem\" rel=\"nofollow\">https://github.com/sportngin/brew-gem</a> does what I want, installing a Rubygems gem via brew and locking its GEM_HOME and GEM_PATH in a bin wrapper it generates, so that everything works even when executed in the context of a different RVM gemset.</p>\n\n<p>I forked it into <a href=\"https://github.com/gtmax/brew-gem\" rel=\"nofollow\">https://github.com/gtmax/brew-gem</a>, adding support for installing a brew gem from a local.gem file or from a gem project on github. </p>\n"}], "owner": {"reputation": 642, "user_id": 750452, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fbece8eb020755c835cf19669f9fc5d?s=128&d=identicon&r=PG", "display_name": "astgtciv", "link": "https://stackoverflow.com/users/750452/astgtciv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447109944, "creation_date": 1446621502, "question_id": 33515870, "link": "https://stackoverflow.com/questions/33515870/how-to-install-a-gem-so-that-it-executes-independent-of-currently-active-rvm-gem", "title": "How to install a gem so that it executes independent of currently active RVM gemset?", "body": "<p>I am writing a dev command-line tool gem (let's say called \"tool\") which I would like to use in any place in the system. I use RVM for different projects, but this tool should be available from the command-line inside those projects. </p>\n\n<p>If I simply install the gem globally using \"gem install\" (let's say it installs to /usr/local/bin/tool), the executable is of course available inside of other projects, but since the gemset changed when executing \"tool\" it fails saying that it cannot find the \"tool\" gem (because \"tool\" was never installed to that gemset). I don't want to add the gem to all the Gemfiles of all the projects.</p>\n\n<p>What's the best way of dealing with this? Perhaps there is a way to \"lock\" the gem_path/gem_home in the executable at the time of installation?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "github", "gem"], "answers": [{"tags": [], "owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "is_accepted": false, "score": 0, "last_activity_date": 1446621115, "creation_date": 1446621115, "answer_id": 33515748, "question_id": 33515699, "link": "https://stackoverflow.com/questions/33515699/how-to-host-gem-in-github-and-use-it/33515748#33515748", "title": "how to host gem in Github and use it?", "body": "<p>Not sure what you mean, but the gem is definitely \"installed\". You can validate that by doing <code>gem which test_gem</code> from the directory your code is in.</p>\n\n<p>If you want it to look like the other gems, <code>test_gem</code> must be hosted on a gem server like rubygems.org. If you own <code>test_gem</code> and would like to publish it, <a href=\"http://guides.rubygems.org/publishing/\" rel=\"nofollow\">RubyGems provides a lot of helpful guides to do it with</a></p>\n"}, {"comments": [{"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446624001, "post_id": 33515808, "comment_id": 54815021, "body": "Does that gem got installed in your local"}, {"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446624899, "post_id": 33515808, "comment_id": 54815440, "body": "<code>gem which test_gem</code> try this in your Machine .It wont show the gem"}, {"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446625345, "post_id": 33515808, "comment_id": 54815669, "body": "Just know i came to know if you use source as git then it wont get installed locally."}], "tags": [], "owner": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "is_accepted": false, "score": 1, "last_activity_date": 1446621288, "creation_date": 1446621288, "answer_id": 33515808, "question_id": 33515699, "link": "https://stackoverflow.com/questions/33515699/how-to-host-gem-in-github-and-use-it/33515808#33515808", "title": "how to host gem in Github and use it?", "body": "<p>Try this <code>gem 'test_gem', github: 'praveenitmec/testgem'</code></p>\n"}, {"comments": [{"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446621882, "post_id": 33515813, "comment_id": 54814055, "body": "It is asking for some RSA Password.I need to provide my github password or Which password"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446622030, "post_id": 33515813, "comment_id": 54814124, "body": "Not the github password. You need to add your SSH key to your github account. See this: <a href=\"https://help.github.com/articles/generating-ssh-keys/\" rel=\"nofollow noreferrer\">help.github.com/articles/generating-ssh-keys</a> So, to makes things clear, are you intending to make it a private gem?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446622769, "post_id": 33515813, "comment_id": 54814461, "body": "Also, you can see this answer: <a href=\"http://stackoverflow.com/a/33492786/981183\">stackoverflow.com/a/33492786/981183</a> which will guide you to generate ssh key and upload that to your github account. After that, you should able to follow the above mentioned process."}, {"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446623195, "post_id": 33515813, "comment_id": 54814639, "body": "I had  done it before But it is asking for passphrase which i forgot"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446623267, "post_id": 33515813, "comment_id": 54814675, "body": "Then create a new one now again if you want and add that ssh key to your github account."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "edited": false, "score": 0, "creation_date": 1446623440, "post_id": 33515813, "comment_id": 54814751, "body": "@PardeepSaini because the gem is still public. If its made private, then you wont be able to do that. You have to have proper access to do so when the gem is private."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446623638, "post_id": 33515813, "comment_id": 54814846, "body": "@Praveenkumar Just to clairify, you need all these only if you want to keep your gem as a private gem. If you don&#39;t care or want to keep that as public, then your current code is fine: <code>gem &#39;test_gem&#39; , :git =&gt; &#39;https:&#47;&#47;github.com&#47;praveenitmec&#47;testgem.git&#39;</code>"}, {"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446624306, "post_id": 33515813, "comment_id": 54815160, "body": "@KMRakibulIslam can u see in question It is showing  <code>Using test_gem 0.1.0 from https:&#47;&#47;github.com&#47;praveenitmec&#47;testgem.git    (at master)</code> it is not installed in my local.It is directly using from git."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1446624434, "post_id": 33515813, "comment_id": 54815221, "body": "If you want to use the local version, then say you have to specify using the <code>path</code> option this way: <code>gem &#39;test_gem&#39;, path: &#39;path_to_your_gem&#47;test-gem&#39;</code>"}, {"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446624642, "post_id": 33515813, "comment_id": 54815326, "body": "@KMRakibulIslam No what I am saying If is use some other gems like <b>rspec</b> it will install the gem locally.but my gem not installing like that."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1446624746, "post_id": 33515813, "comment_id": 54815371, "body": "No it won&#39;t be like that when you specify the gem using <code>git</code> option."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1446625066, "post_id": 33515813, "comment_id": 54815523, "body": "It will be like that if you publish your gem to rubygems: <a href=\"http://guides.rubygems.org/publishing/\" rel=\"nofollow noreferrer\">guides.rubygems.org/publishing</a>"}, {"owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446625070, "post_id": 33515813, "comment_id": 54815526, "body": "This is what the answer I am expecting Sorry to drag You till this.@KMRakibulIslam"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1446625207, "post_id": 33515813, "comment_id": 54815595, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/94168/discussion-between-k-m-rakibul-islam-and-praveenkumar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 2, "last_activity_date": 1446624499, "last_edit_date": 1446624499, "creation_date": 1446621310, "answer_id": 33515813, "question_id": 33515699, "link": "https://stackoverflow.com/questions/33515699/how-to-host-gem-in-github-and-use-it/33515813#33515813", "title": "how to host gem in Github and use it?", "body": "<p>If you want to use your own gem, you can specify that using the <code>git</code> option in your <code>Gemfile</code>:</p>\n\n<pre><code>gem 'test_gem', git: 'git@github.com:praveenitmec/testgem.git', branch: 'master'\n</code></pre>\n\n<p>And, then run:</p>\n\n<pre><code>bundle install\n</code></pre>\n\n<p>This is the correct way of using a <strong>private gem</strong> that you don't want to share with anyone else outside your company.</p>\n\n<p>But, if you want to share your gem publicly, you can publish the gem and use that like any other gem in your <code>Gemfile</code>. To know how to publish a gem, tehre are many articles online that you can search for. <a href=\"http://www.michaelrigart.be/en/blog/easily-publish-your-ruby-gems.html\" rel=\"nofollow\">Here is one of them</a>.</p>\n\n<h3>Update</h3>\n\n<p>If you want to use the local version of the gem, then you have to specify using the <code>path</code> option this way: </p>\n\n<pre><code>gem 'test_gem', path: 'path_to_your_test_gem'\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 3785447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003014900444/picture?type=large", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/3785447/praveenkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 3, "accepted_answer_id": 33515813, "answer_count": 3, "score": 3, "last_activity_date": 1446625226, "creation_date": 1446620878, "last_edit_date": 1446625226, "question_id": 33515699, "link": "https://stackoverflow.com/questions/33515699/how-to-host-gem-in-github-and-use-it", "title": "how to host gem in Github and use it?", "body": "<p>I have added the private gem files to new repository in <a href=\"https://github.com/praveenitmec/testgem\" rel=\"nofollow\">here</a> but when I try to add it to my gem file</p>\n\n<p><code>gem 'test_gem' , :git =&gt; 'https://github.com/praveenitmec/testgem.git'</code></p>\n\n<p>It is not installing gem instead it trying to use it directly from Github.Like this</p>\n\n<pre><code>Using spring 1.4.0\nUsing sqlite3 1.3.11\nUsing test_gem 0.1.0 from https://github.com/praveenitmec/testgem.git    (at master)\nUsing turbolinks 2.5.3\nUsing typhoeus 0.8.0\n</code></pre>\n\n<p>How to install this gem from github.</p>\n\n<p>The actual Procedure is the bundler has to fetch gemspec file from the Github and  by using that it will install gem in local.But for me it is not installing in the local.Did I miss any configuration.</p>\n\n<p><strong>Got It:I came to know that if use Git for gem it wont get installed in local Thanks to K M Rakibul Islam</strong></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "production-environment", "ruby-on-rails-4.2"], "comments": [{"owner": {"reputation": 2060, "user_id": 3625058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEy9i.jpg?s=128&g=1", "display_name": "matanco", "link": "https://stackoverflow.com/users/3625058/matanco"}, "edited": false, "score": 1, "creation_date": 1446620600, "post_id": 33515497, "comment_id": 54813519, "body": "paste your css files."}, {"owner": {"reputation": 51, "user_id": 4031132, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vQ__lbvsJ5Q/AAAAAAAAAAI/AAAAAAAAAYs/p_50q1n4MDI/photo.jpg?sz=128", "display_name": "Thamizharasan Jayakumar", "link": "https://stackoverflow.com/users/4031132/thamizharasan-jayakumar"}, "reply_to_user": {"reputation": 2060, "user_id": 3625058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEy9i.jpg?s=128&g=1", "display_name": "matanco", "link": "https://stackoverflow.com/users/3625058/matanco"}, "edited": false, "score": 0, "creation_date": 1446622939, "post_id": 33515497, "comment_id": 54814529, "body": "Hey thanks.. I find that error in css file..  I changed image background code from &quot;background: url(&quot;border-bg.png&quot;)&quot; to &quot;background: url(/assets/border-bg.png)&quot;."}, {"owner": {"reputation": 556, "user_id": 4316935, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91c11f0640e132006aaddce32c727fe7?s=128&d=identicon&r=PG", "display_name": "Rod Argumedo", "link": "https://stackoverflow.com/users/4316935/rod-argumedo"}, "edited": false, "score": 0, "creation_date": 1485714017, "post_id": 33515497, "comment_id": 71029093, "body": "@ThamizharasanJayakumar For future reference, you should actually post that comment as an answer. It should raise more visibility when you self answered your question."}, {"owner": {"reputation": 136, "user_id": 1751983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36b62fadbcda7c81ac23ec4c3205a98b?s=128&d=identicon&r=PG", "display_name": "territorial", "link": "https://stackoverflow.com/users/1751983/territorial"}, "edited": false, "score": 0, "creation_date": 1512180755, "post_id": 33515497, "comment_id": 82166628, "body": "i&#39;ve removed the line from my application.css and i now i can compile it.  *= require_tree ."}], "owner": {"reputation": 51, "user_id": 4031132, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vQ__lbvsJ5Q/AAAAAAAAAAI/AAAAAAAAAYs/p_50q1n4MDI/photo.jpg?sz=128", "display_name": "Thamizharasan Jayakumar", "link": "https://stackoverflow.com/users/4031132/thamizharasan-jayakumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 959, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1446620194, "creation_date": 1446620152, "last_edit_date": 1446620194, "question_id": 33515497, "link": "https://stackoverflow.com/questions/33515497/rails-nomethoderror-undefined-method-for-nilnilclass-error-while-precompl", "title": "Rails NoMethodError: undefined method `[]&#39; for nil:NilClass Error while precomple", "body": "<p>I facing Below error while precompile or push into heroku server. </p>\n\n<p><strong>command</strong></p>\n\n<pre><code>RAILS_ENV=production rake assets:precompile --trace\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>RAILS_ENV=production rake assets:precompile --trace\n** Invoke assets:precompile (first_time)\n** Invoke assets:environment (first_time)\n** Execute assets:environment\n** Invoke environment (first_time)\n** Execute environment\n** Execute assets:precompile\nrake aborted!\nNoMethodError: undefined method `[]' for nil:NilClass\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/sass_processor.rb:278:in `sprockets_context'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/sass_processor.rb:124:in `asset_path'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/sass_processor.rb:137:in `asset_url'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/sass_processor.rb:155:in `image_url'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/script/tree/funcall.rb:140:in `_perform'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/script/tree/node.rb:50:in `perform'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/script/tree/list_literal.rb:63:in `block in _perform'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/script/tree/list_literal.rb:63:in `map'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/script/tree/list_literal.rb:63:in `_perform'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/script/tree/node.rb:50:in `perform'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:395:in `visit_prop'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/base.rb:36:in `visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:158:in `block in visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/stack.rb:79:in `block in with_base'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/stack.rb:115:in `with_frame'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/stack.rb:79:in `with_base'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:158:in `visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:431:in `block (2 levels) in visit_rule'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:431:in `map'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:431:in `block in visit_rule'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:179:in `with_environment'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:429:in `visit_rule'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/base.rb:36:in `visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:158:in `block in visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/stack.rb:79:in `block in with_base'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/stack.rb:115:in `with_frame'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/stack.rb:79:in `with_base'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:158:in `visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/base.rb:52:in `block in visit_children'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/base.rb:52:in `map'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/base.rb:52:in `visit_children'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:167:in `block in visit_children'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:179:in `with_environment'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:166:in `visit_children'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/base.rb:36:in `block in visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:186:in `visit_root'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/base.rb:36:in `visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:157:in `visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/visitors/perform.rb:8:in `visit'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/root_node.rb:36:in `css_tree'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/tree/root_node.rb:20:in `render'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sass-3.4.19/lib/sass/engine.rb:278:in `render'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/sass_compressor.rb:48:in `call'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/sass_compressor.rb:28:in `call'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/processor_utils.rb:75:in `call_processor'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/processor_utils.rb:57:in `block in call_processors'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/processor_utils.rb:56:in `reverse_each'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/processor_utils.rb:56:in `call_processors'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/loader.rb:134:in `load_from_unloaded'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/loader.rb:60:in `block in load'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/loader.rb:318:in `fetch_asset_from_dependency_cache'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/loader.rb:44:in `load'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/cached_environment.rb:20:in `block in initialize'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/cached_environment.rb:47:in `yield'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/cached_environment.rb:47:in `load'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/base.rb:66:in `find_asset'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/base.rb:73:in `find_all_linked_assets'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/manifest.rb:138:in `block in find'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/legacy.rb:114:in `block (2 levels) in logical_paths'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/path_utils.rb:223:in `block in stat_tree'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/path_utils.rb:207:in `block in stat_directory'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/path_utils.rb:204:in `each'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/path_utils.rb:204:in `stat_directory'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/path_utils.rb:222:in `stat_tree'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/legacy.rb:105:in `each'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/legacy.rb:105:in `block in logical_paths'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/legacy.rb:104:in `each'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/legacy.rb:104:in `logical_paths'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/manifest.rb:136:in `find'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/sprockets/manifest.rb:162:in `compile'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-rails-2.3.3/lib/sprockets/rails/task.rb:70:in `block (3 levels) in define'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-3.4.0/lib/rake/sprocketstask.rb:147:in `with_logger'\n/home/thamizh/.rvm/gems/ruby-2.2.1/gems/sprockets-rails-2.3.3/lib/sprockets/rails/task.rb:69:in `block (2 levels) in define'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/task.rb:240:in `call'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/task.rb:240:in `block in execute'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/task.rb:235:in `each'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/task.rb:235:in `execute'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/task.rb:179:in `block in invoke_with_call_chain'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/task.rb:172:in `invoke_with_call_chain'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/task.rb:165:in `invoke'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:150:in `invoke_task'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:106:in `block (2 levels) in top_level'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:106:in `each'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:106:in `block in top_level'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:115:in `run_with_threads'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:100:in `top_level'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:78:in `block in run'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:176:in `standard_exception_handling'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/rake/application.rb:75:in `run'\n/home/thamizh/.rvm/rubies/ruby-2.2.1/lib/ruby/gems/2.2.0/gems/rake-10.4.2/bin/rake:33:in `&lt;top (required)&gt;'\n/home/thamizh/.rvm/gems/ruby-2.2.1/bin/rake:23:in `load'\n/home/thamizh/.rvm/gems/ruby-2.2.1/bin/rake:23:in `&lt;main&gt;'\n/home/thamizh/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'\n/home/thamizh/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nTasks: TOP =&gt; assets:precompile\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "payment", "payu", "payumoney"], "comments": [{"owner": {"reputation": 2300, "user_id": 2874507, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-bTf3QWEeXi0/AAAAAAAAAAI/AAAAAAAAAvA/G7Uh0JZWsOk/photo.jpg?sz=128", "display_name": "Abhilash", "link": "https://stackoverflow.com/users/2874507/abhilash"}, "edited": false, "score": 0, "creation_date": 1449742384, "post_id": 33515368, "comment_id": 56143273, "body": "Did you find a solution for this??"}], "answers": [{"comments": [{"owner": {"reputation": 787, "user_id": 4113382, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-yg674Sp50gk/AAAAAAAAAAI/AAAAAAAAAf8/uVR0_xUlROw/photo.jpg?sz=128", "display_name": "Raj", "link": "https://stackoverflow.com/users/4113382/raj"}, "edited": false, "score": 0, "creation_date": 1446619920, "post_id": 33515391, "comment_id": 54813243, "body": "How to redirect to <a href=\"https://test.payu.in/_payment.php\" rel=\"nofollow noreferrer\">test.payu.in/_payment.php</a> with post request. ? @hattenn"}, {"owner": {"reputation": 880, "user_id": 5346366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd939033675b9ac69afa4353a1c7dceb?s=128&d=identicon&r=PG&f=1", "display_name": "dthal", "link": "https://stackoverflow.com/users/5346366/dthal"}, "edited": false, "score": 0, "creation_date": 1446620437, "post_id": 33515391, "comment_id": 54813454, "body": "You can&#39;t redirect with a post request. redirect_to is using the &quot;Location: url&quot; header from html. In redirect_to you can only use GET params"}, {"owner": {"reputation": 4203, "user_id": 494094, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4f841e920d687e5706b52468061da268?s=128&d=identicon&r=PG", "display_name": "hattenn", "link": "https://stackoverflow.com/users/494094/hattenn"}, "reply_to_user": {"reputation": 880, "user_id": 5346366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd939033675b9ac69afa4353a1c7dceb?s=128&d=identicon&r=PG&f=1", "display_name": "dthal", "link": "https://stackoverflow.com/users/5346366/dthal"}, "edited": false, "score": 0, "creation_date": 1446620489, "post_id": 33515391, "comment_id": 54813473, "body": "@dthal is correct. I&#39;ve added some more information to my question that might help you."}], "tags": [], "owner": {"reputation": 4203, "user_id": 494094, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4f841e920d687e5706b52468061da268?s=128&d=identicon&r=PG", "display_name": "hattenn", "link": "https://stackoverflow.com/users/494094/hattenn"}, "is_accepted": false, "score": 1, "last_activity_date": 1465196140, "last_edit_date": 1465196140, "creation_date": 1446619776, "answer_id": 33515391, "question_id": 33515368, "link": "https://stackoverflow.com/questions/33515368/redirect-to-payment-url-with-post-params/33515391#33515391", "title": "redirect to payment URL with post params", "body": "<p>You can't redirect with a post request. You need to send your post request, and then redirect to a page.</p>\n\n<p>You should use <code>redirect_to :some_page</code> in the end of your controller method.</p>\n\n<p>Right now rails is trying to render the \"default\", that's why you're getting that error.</p>\n\n<p>Try <a href=\"https://github.com/augustl/net-http-cheat-sheet/blob/master/post_form.rb\" rel=\"nofollow\">this</a></p>\n\n<pre><code>require \"net/http\"\nrequire \"uri\"\n\nuri = URI.parse(\"http://example.com/search\")\n\n# Shortcut\nresponse = Net::HTTP.post_form(uri, {\"q\" =&gt; \"My query\", \"per_page\" =&gt; \"50\"})\n\n# Full control\nhttp = Net::HTTP.new(uri.host, uri.port)\n\nrequest = Net::HTTP::Post.new(uri.request_uri)\nrequest.set_form_data({\"q\" =&gt; \"My query\", \"per_page\" =&gt; \"50\"})\n\n# Tweak headers, removing this will default to application/x-www-form-urlencoded \nrequest[\"Content-Type\"] = \"application/json\"\n\nresponse = http.request(request)\n</code></pre>\n"}], "owner": {"reputation": 787, "user_id": 4113382, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-yg674Sp50gk/AAAAAAAAAAI/AAAAAAAAAf8/uVR0_xUlROw/photo.jpg?sz=128", "display_name": "Raj", "link": "https://stackoverflow.com/users/4113382/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1465196140, "creation_date": 1446619699, "last_edit_date": 1446619827, "question_id": 33515368, "link": "https://stackoverflow.com/questions/33515368/redirect-to-payment-url-with-post-params", "title": "redirect to payment URL with post params", "body": "<p>I want to integrate PayuMoney payment gateway to my rails application. And I want to redirect to payment gateway URL with post request, so I use HTTparty to redirect and POST request to payumoney URL.</p>\n\n<p>My controller:</p>\n\n<pre><code>class ClientFeePaymentsController &lt; ApplicationController\n include HTTParty\n\n def fee_payment\n   uri = URI('https://test.payu.in/_payment.php')\n   res = Net::HTTP.post_form(uri, 'key' =&gt; 'fddfh', 'salt' =&gt; '4364')\n   puts res.body    \n end \nend\n</code></pre>\n\n<p>routes:</p>\n\n<pre><code>resources :client_fee_payments do\n    collection do\n      get :fee_payment\n      post :fee_payment\n    end\n  end\n</code></pre>\n\n<p>when i run this i got,</p>\n\n<pre><code>Missing template client_fee_payments/fee_payment, application/fee_payment with {:locale=&gt;[:en], :formats=&gt;[:html], :variants=&gt;[], :handlers=&gt;[:erb, :builder, :raw, :ruby, :coffee, :axlsx, :jbuilder]}.\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5485353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10208687585771523/picture?type=large", "display_name": "Alex Luna", "link": "https://stackoverflow.com/users/5485353/alex-luna"}, "edited": false, "score": 0, "creation_date": 1446624320, "post_id": 33515160, "comment_id": 54815172, "body": "if i want it to notify them after they login would i add it into the login controller?"}], "tags": [], "owner": {"reputation": 330, "user_id": 4681454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b-mqwMUa9aE/AAAAAAAAAAI/AAAAAAAAAOY/buV0IYuNIvY/photo.jpg?sz=128", "display_name": "Eric Terry", "link": "https://stackoverflow.com/users/4681454/eric-terry"}, "is_accepted": false, "score": 0, "last_activity_date": 1446618763, "creation_date": 1446618763, "answer_id": 33515160, "question_id": 33514985, "link": "https://stackoverflow.com/questions/33514985/birthday-notification-ruby/33515160#33515160", "title": "Birthday notification ruby", "body": "<p>You could define a method like this in your useraccount model (app/models/useraccount.rb):</p>\n\n<pre><code> def birthday_today?\n   birthday.month == Time.now.month &amp;&amp;\n   birthday.day == Time.now.day\n end\n</code></pre>\n\n<p>Then you could use it like this in a controller:</p>\n\n<pre><code> @show_birthday_notification = Useraccount.find( useraccount_id ).birthday_today?\n</code></pre>\n\n<p>And do something like this in your view:</p>\n\n<pre><code> &lt;% if @show_birthday_notification %&gt;\n   It's your birthday!\n &lt;% end %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "is_accepted": false, "score": 0, "last_activity_date": 1446618826, "creation_date": 1446618826, "answer_id": 33515175, "question_id": 33514985, "link": "https://stackoverflow.com/questions/33514985/birthday-notification-ruby/33515175#33515175", "title": "Birthday notification ruby", "body": "<p>You can check like:</p>\n\n<pre><code>if current_user.birthday.strftime('%d-%m') == Date.today.strftime('%d-%m')\n   # your stuff\nend\n</code></pre>\n\n<p>Or you can create separate method as well like <strong>Eric Terry</strong> suggested.</p>\n"}], "owner": {"reputation": 41, "user_id": 5485353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10208687585771523/picture?type=large", "display_name": "Alex Luna", "link": "https://stackoverflow.com/users/5485353/alex-luna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446619412, "creation_date": 1446617979, "last_edit_date": 1446619412, "question_id": 33514985, "link": "https://stackoverflow.com/questions/33514985/birthday-notification-ruby", "title": "Birthday notification ruby", "body": "<p>ive set up a system where the user signs up and in the sign up they include their birthday. How can i make it so there is some sort of notification to show it's their birthday today when for example they are going to checkout and get a discount</p>\n\n<pre><code>def change\n  create_table :useraccount do |t|\n\n    t.string :user\n    t.string :password\n    t.date   :birthday\n\n    t.timestamps null: false\n  end\n end\nend\n</code></pre>\n"}, {"tags": ["ruby", "windows", "chef-infra"], "comments": [{"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1446629776, "post_id": 33514949, "comment_id": 54818313, "body": "<a href=\"http://stackoverflow.com/questions/25980820/please-explain-compile-time-vs-run-time-in-chef-recipes\">related</a> you&#39;re probably hit by the compile vs converge phases, when your ruby code run, there&#39;s no file in tempwar as it get executed at compile time. Be more explicit on what does not work, we can&#39;t guess what your problem is actually."}], "answers": [{"tags": [], "owner": {"reputation": 2278, "user_id": 1772828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7831a9963c2207377c46468f6e797a?s=128&d=identicon&r=PG", "display_name": "cliffordheath", "link": "https://stackoverflow.com/users/1772828/cliffordheath"}, "is_accepted": false, "score": 0, "last_activity_date": 1446618630, "creation_date": 1446618630, "answer_id": 33515125, "question_id": 33514949, "link": "https://stackoverflow.com/questions/33514949/how-to-check-many-files-exist-with-ruby-code-in-windows/33515125#33515125", "title": "How to check many files exist with ruby code in windows", "body": "<p>The backslash characters here are not being interpreted as a pathname separator. Your \\t becomes a tab character, for example, and \\* is just a *. Double the backslashes or use a single-quoted string and you have a fighting chance.</p>\n"}, {"tags": [], "owner": {"reputation": 3973, "user_id": 4070979, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a40b217933f720d09ae107a2b6d66cb?s=128&d=identicon&r=PG&f=1", "display_name": "Tejay Cardon", "link": "https://stackoverflow.com/users/4070979/tejay-cardon"}, "is_accepted": true, "score": 0, "last_activity_date": 1446738655, "creation_date": 1446738655, "answer_id": 33549033, "question_id": 33514949, "link": "https://stackoverflow.com/questions/33514949/how-to-check-many-files-exist-with-ruby-code-in-windows/33549033#33549033", "title": "How to check many files exist with ruby code in windows", "body": "<p>It's always best to build paths in ruby with <code>::File.join</code>.  This takes care of the path separators in a platform neutral way.  Also, it's prefered to use Chef conditionals rather than wrapping things in an <code>if</code>.  So try this:</p>\n\n<pre><code>execute 'mv-war' do\n  command \"move #{::File.join('C:', 'tempwar', '*.war')} #{::File.join('C:',  'tomcat', 'webapps'} \"\n  only_if { Dir.glob(::File.join('C:', 'tempwar', '*.war').empty? }\nend\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5523284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aee2ee682766a6b84b2853356cae772?s=128&d=identicon&r=PG&f=1", "display_name": "Dao", "link": "https://stackoverflow.com/users/5523284/dao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 33549033, "answer_count": 2, "score": 0, "last_activity_date": 1446799907, "creation_date": 1446617827, "last_edit_date": 1446799907, "question_id": 33514949, "link": "https://stackoverflow.com/questions/33514949/how-to-check-many-files-exist-with-ruby-code-in-windows", "title": "How to check many files exist with ruby code in windows", "body": "<p>I want to check all file having <code>.war</code> extension and move them to another folder in chef-client windows but it does not work.</p>\n\n<pre><code>if !Dir.glob(\"C:\\\\tempwar\\\\*.war\").empty?  \n    execute 'mv-war' do\n        command 'move C:\\tempwar\\*.war C:\\tomcat\\webapps\\ '  \n    end\nend\n</code></pre>\n"}, {"tags": ["ruby", "rspec", "equality"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1446624887, "post_id": 33514807, "comment_id": 54815430, "body": "This reminds me of the <a href=\"https://en.wikipedia.org/wiki/Robustness_principle\" rel=\"nofollow noreferrer\">Robustness principle</a>. Within my specs, I usually want to be strict. A method returning <code>0</code> instead of the expected <code>0.0</code> should fail the test. In code however, I&#39;m on the &quot;consumer side&quot; and tend to be liberal. Here, a method returning <code>0</code> instead of the expected <code>0.0</code> should not break my code."}], "answers": [{"comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1446619363, "post_id": 33514862, "comment_id": 54813005, "body": "I never use <code>eql</code>, for example. Only <code>eq</code>."}], "tags": [], "owner": {"reputation": 70080, "user_id": 38765, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01bbb59a1c3ef9960f25a97afe7e920f?s=128&d=identicon&r=PG", "display_name": "Andrew Grimm", "link": "https://stackoverflow.com/users/38765/andrew-grimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1446619660, "last_edit_date": 1446619660, "creation_date": 1446617503, "answer_id": 33514862, "question_id": 33514807, "link": "https://stackoverflow.com/questions/33514807/why-is-eql-more-common-in-rspec-specs-than-eql-in-normal-code/33514862#33514862", "title": "Why is eql more common in RSpec specs than eql? in normal code?", "body": "<p>This is just a guess, rather than definite knowledge. Other people may know for sure.</p>\n\n<pre><code># Tests whether a == b\nexpect(a).to be == b\n</code></pre>\n\n<p>doesn't look as nice as</p>\n\n<pre><code># Tests whether a.eql?(b)\nexpect(a).to eql(b)\n</code></pre>\n\n<p>but some users aren't aware you can use <code>eq</code> to give</p>\n\n<pre><code># Tests whether a == b\nexpect(a).to eq(b)\n</code></pre>\n\n<p>The Spree project uses <code>eq</code> fairly frequently:</p>\n\n<pre><code>spree agrimm$ git grep eq **/spec/**/* | wc\n    2930   11694  320369\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26839, "user_id": 1008891, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/BbcgE.jpg?s=128&g=1", "display_name": "Peter Alfvin", "link": "https://stackoverflow.com/users/1008891/peter-alfvin"}, "is_accepted": false, "score": -1, "last_activity_date": 1446621552, "creation_date": 1446621552, "answer_id": 33515878, "question_id": 33514807, "link": "https://stackoverflow.com/questions/33514807/why-is-eql-more-common-in-rspec-specs-than-eql-in-normal-code/33515878#33515878", "title": "Why is eql more common in RSpec specs than eql? in normal code?", "body": "<p><code>==</code> occurs infrequently in current RSpec files because the <code>==</code> matcher is not supported by the preferred <code>expect</code> syntax. It occurs frequently in implementation files because it is the more natural syntax.</p>\n\n<p>Similarly, <code>eql</code> (and <code>eq</code>) occur frequently in RSpec because they are the matchers for <code>eql?</code> and <code>==</code>, respectively. There is little need for them in production because <code>==</code> predominates.</p>\n"}], "owner": {"reputation": 70080, "user_id": 38765, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01bbb59a1c3ef9960f25a97afe7e920f?s=128&d=identicon&r=PG", "display_name": "Andrew Grimm", "link": "https://stackoverflow.com/users/38765/andrew-grimm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446621552, "creation_date": 1446617202, "last_edit_date": 1495541039, "question_id": 33514807, "link": "https://stackoverflow.com/questions/33514807/why-is-eql-more-common-in-rspec-specs-than-eql-in-normal-code", "title": "Why is eql more common in RSpec specs than eql? in normal code?", "body": "<p>In many Ruby or Ruby on Rails projects using RSpec, <code>eql</code> is used fairly frequently within spec files, but <code>eql?</code> is rarely used outside of spec files, while <code>==</code> is used infrequently within spec files, but frequently outside of spec files.</p>\n\n<p>For example, looking at the spree project:</p>\n\n<pre><code>spree agrimm$ git grep eql **/spec/**/* | wc\n     135     589   14976\nspree agrimm$ git grep eql | wc\n     138     600   15274\nspree agrimm$ git grep '==' **/spec/**/* | wc\n      56     413    5764\nspree agrimm$ git grep '==' | wc\n    1165   11857  297297\n</code></pre>\n\n<p>I understand the <a href=\"https://stackoverflow.com/questions/3285199/rspec-difference-between-should-and-should-eql\">difference in functionality</a> between <code>==</code> and <code>eql?</code>. But why do people frequently choose to use <code>eql</code> (which is a matcher which corresponds to <code>eql?</code>) (for example <code>expect(a).to eql(b)</code>) in RSpec rather than <code>==</code> (for example <code>expect(a).to be == b</code>)?</p>\n"}, {"tags": ["c", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 2663, "user_id": 1521117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TbjFj.jpg?s=128&g=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/1521117/chase"}, "edited": false, "score": 0, "creation_date": 1446648865, "post_id": 33514562, "comment_id": 54831039, "body": "So would I do something like <code>VALUE rb_svd(VALUE self, VALUE **a, VALUE m, VALUE n, VALUE *w, VALUE **v){}</code> Or should I be unwrapping the args?"}, {"owner": {"reputation": 2663, "user_id": 1521117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TbjFj.jpg?s=128&g=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/1521117/chase"}, "edited": false, "score": 0, "creation_date": 1446735894, "post_id": 33514562, "comment_id": 54875504, "body": "Awesome! Thanks, It seems like this is going to do the trick."}], "tags": [], "owner": {"reputation": 2278, "user_id": 1772828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7831a9963c2207377c46468f6e797a?s=128&d=identicon&r=PG", "display_name": "cliffordheath", "link": "https://stackoverflow.com/users/1772828/cliffordheath"}, "is_accepted": true, "score": 2, "last_activity_date": 1446790802, "last_edit_date": 1446790802, "creation_date": 1446616029, "answer_id": 33514562, "question_id": 33514393, "link": "https://stackoverflow.com/questions/33514393/ruby-c-extension-turning-int-function-into-ruby-value/33514562#33514562", "title": "Ruby C extension: turning int function into ruby value", "body": "<p>If the integer will fit into a Fixnum, you can use the macro INT2FIX to return a Fixnum value for the integer returned by dsvd(). Otherwise you have to use INT2NUM, which has a function-call overhead (it calls rb_int2inum). Look for these macros in ruby.h for more details.</p>\n\n<p>Edited: Your comment indicates you need a <em>lot</em> more help. You want something like this. I have not compiled this, and it has no checking for argument sanity, but it should get you going). The signature of your method looks like the values passed in the arrays a and v might be changed, and this code does not copy back any changes to the Ruby versions (use rb_ary_store to assign elements). </p>\n\n<pre><code>    #include        &lt;ruby.h&gt;\n    #include        &lt;ruby/intern.h&gt;\n\n    static VALUE rb_mSvd;\n\n    static VALUE\n    rb_svd(VALUE self, VALUE a_array, VALUE m_v, VALUE n_v, VALUE w_v, VALUE v_array)\n    {\n            /* Note that there is no checking here for correct types or sane values! */\n            long    a_len = RARRAY_LEN(a_array);                    /* get the length of first (array) argument */\n            float*  a = (float*)malloc(sizeof(float)*a_len);        /* make space for the copies */\n            int     m = NUM2INT(m_v);\n            int     n = NUM2INT(n_v);\n            float   w = NUM2DBL(w_v);\n            long    v_len = RARRAY_LEN(v_array);\n            float*  v = (float*)malloc(sizeof(float)*v_len);\n            int     result;\n\n            for (int i = 0; i &lt; a_len; i++)\n                    a[i] = NUM2DBL(rb_ary_entry(a_array, i));\n\n            for (int i = 0; i &lt; v_len; i++)\n                    v[i] = NUM2DBL(rb_ary_entry(v_array, i));\n\n            result = dsvd(&amp;a, m, n, w, &amp;v);\n\n            free(a);\n            free(v);\n            return INT2NUM(result);\n    }               \n\n    void Init_svd()\n    {\n            rb_mSvd = rb_define_module(\"Svd\");\n            rb_define_method(rb_mSvd, \"svd\", rb_svd, 5);\n    }\n</code></pre>\n"}], "owner": {"reputation": 2663, "user_id": 1521117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TbjFj.jpg?s=128&g=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/1521117/chase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "accepted_answer_id": 33514562, "answer_count": 1, "score": 1, "last_activity_date": 1446790802, "creation_date": 1446615225, "last_edit_date": 1495541030, "question_id": 33514393, "link": "https://stackoverflow.com/questions/33514393/ruby-c-extension-turning-int-function-into-ruby-value", "title": "Ruby C extension: turning int function into ruby value", "body": "<p>I'm trying to wrap the following function to make a C extension.</p>\n\n<pre><code>int dsvd(float **a, int m, int n, float *w, float **v){\n    //do some things\n}\n</code></pre>\n\n<p>And I have my init, which isn't quite right:</p>\n\n<pre><code>void Init_svd() {\n    VALUE rb_mSvd = rb_define_module(\"Svd\");\n    rb_define_method(rb_mSvd, \"svd\", dsvd, 0);\n}\n</code></pre>\n\n<p>I know I need to wrap dsvd so that I can pass a <code>Value</code> to <code>rb_define_method</code> but I can't quite figure out the right way to do it. I tried adapting <a href=\"https://stackoverflow.com/questions/7050800/ruby-c-extensions-api-questions\">this</a> answer, but couldn't quite figure it out. Any suggestions?</p>\n\n<p>edit* I also read the Pragmatic Programmer section on C extensions, but that's focused on object creation/allocation. I'm trying to provide a function that performs some transformations and returns a value, so i couldn't make that match up conceptually. </p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1446616300, "post_id": 33514272, "comment_id": 54811848, "body": "Why the rush to select an answers? I expect several of us are still working on theirs."}, {"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446617176, "post_id": 33514272, "comment_id": 54812140, "body": "I agree with @CarySwoveland you may receive various answers in different way. then select which is best match for your requirement."}, {"owner": {"reputation": 101, "user_id": 5523133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4288388cf2cbf2e8219c997251236e86?s=128&d=identicon&r=PG&f=1", "display_name": "b1geyedeer", "link": "https://stackoverflow.com/users/5523133/b1geyedeer"}, "edited": false, "score": 2, "creation_date": 1446617850, "post_id": 33514272, "comment_id": 54812380, "body": "Thanks for the feedback guys, and my apologies for the quickfire rush to select an answer. Truly appreciate the help and my apologies for being a noob in selecting the answer. Will let the queries brew a little in the future. Cheers all!"}], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446617997, "post_id": 33514415, "comment_id": 54812442, "body": "Are you sure you want to <code>split</code> the same string twice, just to save a line of code?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446618071, "post_id": 33514415, "comment_id": 54812467, "body": "Well, I just wanted to keep that in-line. But, definitely, I can use a block and  do it once and use it."}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 0, "last_activity_date": 1446618261, "last_edit_date": 1446618261, "creation_date": 1446615321, "answer_id": 33514415, "question_id": 33514272, "link": "https://stackoverflow.com/questions/33514272/string-substitution-for-key-value-pairs-in-array/33514415#33514415", "title": "String substitution for key value pairs in array", "body": "<p>Given your <code>data</code> array and <code>mapping</code> hash, you can do the following using <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-map\" rel=\"nofollow\">Array#map</a>:</p>\n\n<pre><code>  data.map do |i|\n    key, value = i.split('=')\n    \"#{mapping[key]}=#{value}\"\n  end\n# =&gt; [\"EmployeeName=abc\", \"JobTitle=analyst\", \"BusinessGroup=IT\", # \"EmployeeID=123\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "is_accepted": false, "score": 0, "last_activity_date": 1446620345, "last_edit_date": 1446620345, "creation_date": 1446616356, "answer_id": 33514634, "question_id": 33514272, "link": "https://stackoverflow.com/questions/33514272/string-substitution-for-key-value-pairs-in-array/33514634#33514634", "title": "String substitution for key value pairs in array", "body": "<pre><code>&gt; data.map{|a| a.split(\"=\")}.map{|e| mapping.has_key?(e[0]) ? \"#{e[0] = mapping[e[0]]}=#{e[1]}\" : \"#{e[0]}\\=#{e[1]}\"}\n =&gt; [\"EmployeeName=abc\", \"JobTitle=analyst\", \"BusinessGroup=IT\", \"EmployeeID=123\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1446620114, "last_edit_date": 1446620114, "creation_date": 1446616385, "answer_id": 33514647, "question_id": 33514272, "link": "https://stackoverflow.com/questions/33514272/string-substitution-for-key-value-pairs-in-array/33514647#33514647", "title": "String substitution for key value pairs in array", "body": "<pre><code>data.map { |str| str.split(/\\s*=\\s*/).tap { |k,_| k.replace(mapping[k]) }.join('=') }\n  #=&gt; [\"EmployeeName=abc\", \"JobTitle=analyst\", \"BusinessGroup=IT\",  \"EmployeeID=123\"]\n</code></pre>\n\n<p>I've split on <code>/\\s*=\\s*/</code>, rather than <code>\"=\"</code>, in case there are any spaces before or after <code>=</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1446625135, "post_id": 33515957, "comment_id": 54815561, "body": "Lovely! No, sublime! The only hitch would be something like <code>&#39;BusinessGroup=BusinessGroup&#39;</code>, but that seems unlikely."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1446625787, "post_id": 33515957, "comment_id": 54815881, "body": "@CarySwoveland you could use <code>&#47;^\\w+(?==)&#47;</code> in that case or even <code>&#47;^#{Regexp.union(mapping.keys)}(?==)&#47;</code>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1446625910, "post_id": 33515957, "comment_id": 54815955, "body": "@Stefan, what was I thinking? It&#39;s <code>sub</code>, not <code>gsub</code>, so no problem."}, {"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446633399, "post_id": 33515957, "comment_id": 54820651, "body": "Thanks @CarySwoveland :)"}, {"owner": {"reputation": 101, "user_id": 5523133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4288388cf2cbf2e8219c997251236e86?s=128&d=identicon&r=PG&f=1", "display_name": "b1geyedeer", "link": "https://stackoverflow.com/users/5523133/b1geyedeer"}, "edited": false, "score": 0, "creation_date": 1446705919, "post_id": 33515957, "comment_id": 54857215, "body": "@Santhosh thanks for the contribution mate, it&#39;s awesome. Just a quick question though, if I need to preserve say an additional key value that doesn&#39;t exist in the mapping array, how would I go about doing that? For example data = [ &quot;name=abc&quot;, &quot;type=permanent&quot;] and result after mapping reads data = [&quot;EmployeeName=abc&quot;,&quot;type=permanent&quot;]. Thanks again!"}, {"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1446707927, "post_id": 33515957, "comment_id": 54858036, "body": "In that case, I&#39;d suggest the selected answer, with this change <code>&quot;#{mapping[key] || key }=#{value}&quot;</code>"}, {"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1446708063, "post_id": 33515957, "comment_id": 54858104, "body": "Here&#39;s a one liner: <code>data.map {|s| k, v = s.split(&#39;=&#39;); &quot;#{mapping[k] || k }=#{v}&quot;}</code>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446747482, "post_id": 33515957, "comment_id": 54883275, "body": "That&#39;s a &quot;one-liner&quot;? Hmmm."}], "tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": false, "score": 2, "last_activity_date": 1446621827, "creation_date": 1446621827, "answer_id": 33515957, "question_id": 33514272, "link": "https://stackoverflow.com/questions/33514272/string-substitution-for-key-value-pairs-in-array/33515957#33515957", "title": "String substitution for key value pairs in array", "body": "<pre><code>data.map {|s| s.sub /\\w+/, mapping }\n# =&gt; [\"EmployeeName=abc\", \"JobTitle=analyst\", \"BusinessGroup=IT\", \"EmployeeID=123\"]\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5523133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4288388cf2cbf2e8219c997251236e86?s=128&d=identicon&r=PG&f=1", "display_name": "b1geyedeer", "link": "https://stackoverflow.com/users/5523133/b1geyedeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 33514415, "answer_count": 4, "score": 3, "last_activity_date": 1446621827, "creation_date": 1446614556, "last_edit_date": 1446614756, "question_id": 33514272, "link": "https://stackoverflow.com/questions/33514272/string-substitution-for-key-value-pairs-in-array", "title": "String substitution for key value pairs in array", "body": "<p>I'm trying to message some data of key values in arrays but stumped.</p>\n\n<p>Here's what's in my array:</p>\n\n<pre><code>data = [ \"name=abc\", \"title=analyst\", \"group=IT\", \"id=123\"]\n</code></pre>\n\n<p>The mapping that I'm looking to translate:</p>\n\n<pre><code>mapping = { \"name\" =&gt; \"EmployeeName\", \"title\" =&gt; \"JobTitle\", \"group\" =&gt; \"BusinessGroup\", \"id\" =&gt; \"EmployeeID\"}\n</code></pre>\n\n<p>The expected result that I'm after:</p>\n\n<pre><code>data = [ \"EmployeeName=abc\", \"JobTitle=analyst\", \"BusinessGroup=IT\", \"EmployeeID=123\"]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "view", "controller"], "comments": [{"owner": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "edited": false, "score": 0, "creation_date": 1446614352, "post_id": 33514105, "comment_id": 54811215, "body": "To send data from view to controller you can use query string as you used in <code>popular.html.erb</code>  and in answer controller you get data in <code>params[:question_id]</code> , use instance variable in new action as @question = params[:question_id] and in <code>answer&#47;new.html</code> use hidden field  <code>f.hidden_field :@question</code> to send data."}, {"owner": {"reputation": 1173, "user_id": 3575850, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gTV7j.jpg?s=128&g=1", "display_name": "lalala", "link": "https://stackoverflow.com/users/3575850/lalala"}, "reply_to_user": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "edited": false, "score": 0, "creation_date": 1446617034, "post_id": 33514105, "comment_id": 54812090, "body": "Dear Pardeep By useing f.hidden_field, I&#39;ve got it! Thank you!"}, {"owner": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "edited": false, "score": 0, "creation_date": 1446617466, "post_id": 33514105, "comment_id": 54812242, "body": "great!!, its my pleasure to help you."}], "answers": [{"tags": [], "owner": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "is_accepted": true, "score": 4, "last_activity_date": 1446617487, "creation_date": 1446617487, "answer_id": 33514855, "question_id": 33514105, "link": "https://stackoverflow.com/questions/33514105/how-to-pass-data-from-view-to-controller-in-rails/33514855#33514855", "title": "How to pass data from view to controller in rails", "body": "<p>To send data from view to controller you can use query string as you used in popular.html.erb and in answer controller you get data in <code>params[:question_id]</code> , use instance variable in new action as <code>@question = params[:question_id]</code> and in <code>answer/new.html</code> use hidden field <code>f.hidden_field :@question</code> to send data. </p>\n"}], "owner": {"reputation": 1173, "user_id": 3575850, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gTV7j.jpg?s=128&g=1", "display_name": "lalala", "link": "https://stackoverflow.com/users/3575850/lalala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4541, "favorite_count": 0, "accepted_answer_id": 33514855, "answer_count": 1, "score": 1, "last_activity_date": 1446617487, "creation_date": 1446613646, "last_edit_date": 1446614205, "question_id": 33514105, "link": "https://stackoverflow.com/questions/33514105/how-to-pass-data-from-view-to-controller-in-rails", "title": "How to pass data from view to controller in rails", "body": "<p>I'd like to actualise the function that current_user answers a question. In order to achieve it, I need to pass question_id data from view to controller.\nIn particular, </p>\n\n<p>1) Pass question_id from views/homes/popular.html.erb to answers_controller.rb</p>\n\n<p>2) Pass question_id from answers_controller.rb to views/answers/new.html.erb</p>\n\n<p>3) Pass question_id from views/answers/new.html.erb to answers_controller.rb</p>\n\n<p>I'd like to pass question_id to hogehoge at answers_controller.rb. Could you tell me how to do it?</p>\n\n<pre><code>#app/controllers/homes_controller.rb\nclass HomesController &lt; ApplicationController\n  def popular\n    @questions = Question.all\n    @questions.each do |question|\n      @answer = question.answers.highest\n    end\n  end\nend\n\n#app/views/homes/popular.html.erb\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"row\"&gt;\n     &lt;h3&gt;Popular&lt;/h3&gt;\n     &lt;% @questions.each do |question| %&gt;\n       &lt;li&gt;&lt;%= link_to question.body, new_answer_path ,question_id:question.id%&gt;&lt;/li&gt;\n     &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n#app/controllers/answers_controller.rb\nclass AnswersController &lt; ApplicationController\n  def new\n    @answer = Answer.new\n  end\n\n  def create\n    @answer = current_user.answers.create(answer_params)\n    if @answer.save\n      redirect_to root_url\n    else\n      render 'new'\n    end\n  end\n\n  private\n    def answer_params\n      hogehoge\n    end\nend\n\n#app/views/answers/new.html.erb\n&lt;%= form_for @answer, :url =&gt; answers_path do |f| %&gt;\n  &lt;div class=\"page-header\"&gt;\n    &lt;h2&gt;Please answer&lt;/h2&gt;\n  &lt;/div&gt;\n  &lt;div class=\"span6 offset3\"&gt;\n    &lt;%= f.label :body %&gt;&lt;br&gt;\n    &lt;%= f.text_field :body %&gt;\n  &lt;/div&gt;\n  &lt;%= f.submit 'post', class: 'btn btn-primary' %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "edited": false, "score": 0, "creation_date": 1446610095, "post_id": 33513314, "comment_id": 54810058, "body": "also I thought maybe declaring <code>@session = session[:current_user_id] = user.id</code> might resolve the problem but no cigar."}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1446610307, "post_id": 33513314, "comment_id": 54810106, "body": "The form belongs to which view file?"}, {"owner": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1446610539, "post_id": 33513314, "comment_id": 54810149, "body": "application/welcome.html.erb"}, {"owner": {"reputation": 11638, "user_id": 461294, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EQqHn.jpg?s=128&g=1", "display_name": "vich", "link": "https://stackoverflow.com/users/461294/vich"}, "edited": false, "score": 0, "creation_date": 1446611413, "post_id": 33513314, "comment_id": 54810349, "body": "Please post your <code>welcome</code> action. That&#39;s where you need to define <code>@session</code>."}, {"owner": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "edited": false, "score": 0, "creation_date": 1446612579, "post_id": 33513314, "comment_id": 54810683, "body": "you can try this <code>&lt;%= form_for(:session, url: session_path) do |f| %&gt;</code>"}, {"owner": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "reply_to_user": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "edited": false, "score": 0, "creation_date": 1446615249, "post_id": 33513314, "comment_id": 54811473, "body": "@pardeep-saini that worked however it didn&#39;t send the params with the submit. I don&#39;t know why. @mmichael my welcome action has <code>@session = session[current_user]</code> and current_user has  <code>@current_user ||= session[:current_user_id] &amp;&amp;   User.find(session[:current_user_id])</code> I&#39;ll investigate more in the morning. Thanks for the help tonight gentlemen."}], "owner": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446611970, "creation_date": 1446608746, "last_edit_date": 1446611970, "question_id": 33513314, "link": "https://stackoverflow.com/questions/33513314/form-helper-argument-is-nil-value-why", "title": "Form Helper argument is nil value why?", "body": "<p>Regardless of what I have tried to put in as the argument to the form helper I get a nil value. I'm trying to user form helpers in my code but I'm finding it easier to make it work with regular forms. I know the form helpers are the best practice so I want to learn what it is that I'm doing wrong or if this is a case where I shouldn't be using form_for</p>\n\n<p>I checked the console that rails give us in the browser and <code>@user</code>, <code>@session</code>, <code>@users</code>, <code>@sessions</code> are all <code>nil</code>. I don't know what else I can pass in. </p>\n\n<p>Why won't this work:</p>\n\n<pre><code>&lt;%= form_for(@session) do |f| %&gt;\n  &lt;div class=\"field form-group\"&gt;\n    &lt;%= f.label :email %&gt;&lt;br /&gt;\n      &lt;%= f.text_field :email, class: 'form-control' %&gt;\n    &lt;%= f.label :password %&gt;&lt;br /&gt;\n      &lt;%= f.password_field :password, class: 'form-control' %&gt;\n  &lt;/div&gt;\n   &lt;div class=\"actions form-group\"&gt;\n    &lt;%= f.submit \"Sign In\", class: 'btn btn-primary' %&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p>But this will:</p>\n\n<pre><code>&lt;form  action=\"&lt;%= session_path %&gt;\" method=\"post\"&gt;\n  &lt;input type=\"hidden\" name=\"authenticity_token\" value=\"&lt;%= form_authenticity_token %&gt;\"/&gt;\n  &lt;input type=\"email\" name=\"user[email]\" placeholder=\"your email\"/&gt;\n  &lt;input type=\"password_digest\" name=\"user[password]\" placeholder=\"password\"&gt;\n  &lt;input type=\"submit\" name=\"name\" value=\"Sign In\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Some insight on my follies would be great. Thanks!</p>\n\n<p>Sorry for the edit Here is the <code>session_controller</code>'s <code>create</code> method in case it helps:</p>\n\n<pre><code>  def create\n    user = User.find_by(email: user_params[:email])\n\n    if user &amp;&amp; user.authenticate(user_params[:password])\n      session[:current_user_id] = user.id\n      flash[:message] = \"Thanks for loggin in \" + user.first_name\n    else\n      flash[:message] = \"Username or Password combo are not correct\"\n    end\n    redirect_to root_path\n  end\n</code></pre>\n"}, {"tags": ["ruby", "database", "sqlite", "n-gram"], "answers": [{"tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1446613031, "last_edit_date": 1446613031, "creation_date": 1446612530, "answer_id": 33513920, "question_id": 33513121, "link": "https://stackoverflow.com/questions/33513121/ngram-a-database-file-in-ruby/33513920#33513920", "title": "ngram a database file in Ruby", "body": "<p>From the <a href=\"https://github.com/tkellen/ruby-ngram/blob/f8aa9bdd40d44d130c6511301b3498037ac1e031/lib/ngram.rb#L11-L18\" rel=\"nofollow\">github code of ngram gem's</a> <code>parse</code> method:</p>\n\n<pre><code>def parse(phrase)\n    words = phrase.split(@separator)\n    if words.length == 1\n        process(phrase)\n    else\n        words.map { |w| process(w) }\n    end\nend\n</code></pre>\n\n<p>So, it's expecting a string object so that it can call <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-split\" rel=\"nofollow\">String#split</a> on it. That's why it works with your first example where you pass a string as an argument to the <code>ngram.parse</code> method.</p>\n\n<p>I am not exactly sure what you want to accomplish here, but as long as you pass a string to the <code>ngram.parse</code> method, it would work. Or, at least, pass an argument that responds to the <code>split</code> method.</p>\n"}], "owner": {"reputation": 209, "user_id": 5059768, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e05f4f775d3656e4cbc600ab274e7804?s=128&d=identicon&r=PG&f=1", "display_name": "bisuke", "link": "https://stackoverflow.com/users/5059768/bisuke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446613031, "creation_date": 1446607227, "question_id": 33513121, "link": "https://stackoverflow.com/questions/33513121/ngram-a-database-file-in-ruby", "title": "ngram a database file in Ruby", "body": "<p>I am trying to ngram my database file. It works when I ngram a parsed string, but I do not know how to do the same for my database file. \nI have the following code so far: </p>\n\n<p>(hopefully I am in the right track) </p>\n\n<pre><code>require 'ngram'\nrequire 'sqlite3'\n\nngram = NGram.new({\n  :size =&gt; 2,\n  :word_separator =&gt; \" \",\n  :padchar =&gt; \"_\"\n})\n\np ngram.parse('something')\n# =&gt; [\"__\", \"_t\", \"te\", \"es\", \"st\", \"t_\", \"__\"]\np ngram.parse('test phrase')\n\ndb = SQLite3::Database.new(\"sample.db\") #opens db\n#ngram sample.db \n</code></pre>\n\n<p>Help is very much appreciated! </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "passenger", "redmine"], "comments": [{"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1446663712, "post_id": 33512944, "comment_id": 54841364, "body": "There is a syntax error in your <code>configuration.yml</code> preventing Redmine from reading it. You might be missing some leading whitespace. Remember: whitespace at the beginning of the lines is important in YAML and needs to be preserved. Don&#39;t mix tabs and spaces!"}, {"owner": {"reputation": 11, "user_id": 4518716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/407c417fb6ae8bdebe11dc86627bd57d?s=128&d=identicon&r=PG&f=1", "display_name": "Alair", "link": "https://stackoverflow.com/users/4518716/alair"}, "reply_to_user": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1446710915, "post_id": 33512944, "comment_id": 54859511, "body": "thank you, it&#39;s working fine now by your ways."}], "owner": {"reputation": 11, "user_id": 4518716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/407c417fb6ae8bdebe11dc86627bd57d?s=128&d=identicon&r=PG&f=1", "display_name": "Alair", "link": "https://stackoverflow.com/users/4518716/alair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 838, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446607231, "creation_date": 1446605727, "last_edit_date": 1446607231, "question_id": 33512944, "link": "https://stackoverflow.com/questions/33512944/cannot-restart-redmine-after-config-smtp-notifcation-cannot-checkout-session-be", "title": "cannot restart redmine after config smtp notifcation.&quot;Cannot checkout session because a spawning error occurred.&quot;", "body": "<p>the redmine cannot restart after I config smtp, but it worked fine when I comment the smtp in  configuration.yml, anyone can help me? thanks...</p>\n\n<p><strong>the smtp in configuration.yml:</strong>  </p>\n\n<pre><code>production:  \ndelivery_method: :smtp  \nsmtp_settings:   \naddress: \"****\"  \nport: 25  \nauthentication: :login  \ndomain: '****'  \nuser_name: '****'  \npassword: '****'* \n</code></pre>\n\n<p><strong>the httpd error log:</strong>  </p>\n\n<pre><code>App 23280 stdout:  \nApp 23280 stdout:  \n[ 2015-11-04 10:18:36.6100 23162/7eff12d16700 age/Cor/App/Implementation.cpp:304 ]: Could not spawn process for application /data/www/redmine: An error occured while starting up the preloader.  \n  Error ID: 6206c975  \n  Error details saved to: /tmp/passenger-error-WcAhUb.html  \n  Message from application: (&lt;unknown&gt;): mapping values are not allowed in this context at line 220 column 20 (Psych::SyntaxError)  \n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/psych.rb:370:in `parse'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/psych.rb:370:in `parse_stream'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/psych.rb:318:in `parse'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/psych.rb:245:in `load'\n  /home/www/redmine/lib/redmine/configuration.rb:86:in `load_from_yaml'\n  /home/www/redmine/lib/redmine/configuration.rb:42:in `load'\n  /home/www/redmine/lib/redmine/configuration.rb:67:in `[]'\n  /home/www/redmine/lib/redmine/thumbnail.rb:24:in `&lt;module:Thumbnail&gt;'\n  /home/www/redmine/lib/redmine/thumbnail.rb:21:in `&lt;module:Redmine&gt;'\n  /home/www/redmine/lib/redmine/thumbnail.rb:20:in `&lt;top (required)&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:274:in `require'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:274:in `block in require'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:240:in `load_dependency'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:274:in `require'\n  /home/www/redmine/lib/redmine.rb:47:in `&lt;top (required)&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:274:in `require'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:274:in `block in require'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:240:in `load_dependency'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:274:in `require'\n  /home/www/redmine/config/initializers/30-redmine.rb:6:in `&lt;top (required)&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:268:in `load'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:268:in `block in load'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:240:in `load_dependency'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:268:in `load'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/engine.rb:652:in `block in load_config_initializer'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/activesupport-4.2.4/lib/active_support/notifications.rb:166:in `instrument'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/engine.rb:651:in `load_config_initializer'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/engine.rb:616:in `block (2 levels) in &lt;class:Engine&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/engine.rb:615:in `each'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/engine.rb:615:in `block in &lt;class:Engine&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/initializable.rb:30:in `instance_exec'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/initializable.rb:30:in `run'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/initializable.rb:55:in `block in run_initializers'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:226:in `block in tsort_each'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:348:in `block (2 levels) in each_strongly_connected_component'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:420:in `block (2 levels) in each_strongly_connected_component_from'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:429:in `each_strongly_connected_component_from'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:419:in `block in each_strongly_connected_component_from'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/initializable.rb:44:in `each'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/initializable.rb:44:in `tsort_each_child'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:413:in `call'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:413:in `each_strongly_connected_component_from'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:347:in `block in each_strongly_connected_component'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:345:in `each'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:345:in `call'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:345:in `each_strongly_connected_component'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:224:in `tsort_each'\n  /usr/local/rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/tsort.rb:203:in `tsort_each'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/initializable.rb:54:in `run_initializers'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/railties-4.2.4/lib/rails/application.rb:352:in `initialize!'\n  /home/www/redmine/config/environment.rb:14:in `&lt;top (required)&gt;'\n  config.ru:3:in `require'\n  config.ru:3:in `block in &lt;main&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/rack-1.6.4/lib/rack/builder.rb:55:in `instance_eval'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/rack-1.6.4/lib/rack/builder.rb:55:in `initialize'\n  config.ru:1:in `new'\n  config.ru:1:in `&lt;main&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/passenger-5.0.21/src/helper-scripts/rack-preloader.rb:110:in `eval'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/passenger-5.0.21/src/helper-scripts/rack-preloader.rb:110:in `preload_app'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/passenger-5.0.21/src/helper-scripts/rack-preloader.rb:156:in `&lt;module:App&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/passenger-5.0.21/src/helper-scripts/rack-preloader.rb:30:in `&lt;module:PhusionPassenger&gt;'\n  /usr/local/rvm/gems/ruby-2.2.3/gems/passenger-5.0.21/src/helper-scripts/rack-preloader.rb:29:in `&lt;main&gt;'\n[ 2015-11-04 10:18:36.6157 23162/7eff0cfc5700 age/Cor/Req/CheckoutSession.cpp:253 ]: [Client 1-3] Cannot checkout session because a spawning error occurred. The identifier of the error is 6206c975. Please see earlier logs for details about the error.\n</code></pre>\n"}, {"tags": ["ruby", "json", "regex"], "comments": [{"owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 1, "creation_date": 1446605641, "post_id": 33512808, "comment_id": 54809032, "body": "I don&#39;t know how you get this string with all the extra escapes, but it looks like it comes from JSON. Consider using a JSON parser if that is the case."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1446605915, "post_id": 33512808, "comment_id": 54809097, "body": "What is the rule for identifying the token value?"}, {"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 0, "creation_date": 1446614422, "post_id": 33512808, "comment_id": 54811232, "body": "your desired output for <code>access_token</code> is incorrect."}], "answers": [{"tags": [], "owner": {"reputation": 53706, "user_id": 3001736, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j4wN2.jpg?s=128&g=1", "display_name": "Amit Joki", "link": "https://stackoverflow.com/users/3001736/amit-joki"}, "is_accepted": false, "score": 0, "last_activity_date": 1446605236, "creation_date": 1446605236, "answer_id": 33512878, "question_id": 33512808, "link": "https://stackoverflow.com/questions/33512808/substring-in-ruby/33512878#33512878", "title": "Substring in Ruby", "body": "<p>It's the last element of the array. So you could just remove the non-alphabetical characters.</p>\n\n<pre><code>array.last.gsub(/\\W/,\"\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 2, "last_activity_date": 1446610695, "last_edit_date": 1446610695, "creation_date": 1446609143, "answer_id": 33513359, "question_id": 33512808, "link": "https://stackoverflow.com/questions/33512808/substring-in-ruby/33513359#33513359", "title": "Substring in Ruby", "body": "<p>You can easily convert your string into a hash using <code>JSON.parse</code> method of <a href=\"https://github.com/flori/json\" rel=\"nofollow\">json gem</a> and then just grab the <code>access_token</code> from the hash as following:</p>\n\n<pre><code>require 'json'\ninput_string = \"{\\\"token_type\\\":\\\"Bearer\\\",\\\"expires_in\\\":3600,\\\"access_token\\\":\\\"xb5Q4IFN4jWjRDxwFyjgWdBQpv4l\\\"}\"\nJSON.parse(input_string)['access_token']\n# =&gt; \"xb5Q4IFN4jWjRDxwFyjgWdBQpv4l\"\n</code></pre>\n"}], "owner": {"reputation": 704, "user_id": 1208108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/940bd70b3a317123fc85322151ee0c5f?s=128&d=identicon&r=PG", "display_name": "codebee", "link": "https://stackoverflow.com/users/1208108/codebee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 33513359, "answer_count": 2, "score": -2, "last_activity_date": 1446614433, "creation_date": 1446604768, "last_edit_date": 1446610406, "question_id": 33512808, "link": "https://stackoverflow.com/questions/33512808/substring-in-ruby", "title": "Substring in Ruby", "body": "<p>How do I get the <code>access_token</code> value from this string?</p>\n\n<p><strong>Input string</strong>:</p>\n\n<pre><code>{\\\"token_type\\\":\\\"Bearer\\\",\\\"expires_in\\\":3600,\\\"access_token\\\":\\\"xb5Q4IFN4jWjRDxwFyjgWdBQpv4l\\\"}\n</code></pre>\n\n<p><strong>Desired output</strong>: </p>\n\n<pre><code>\"TQdcdvvPZTEtPMj7s8urQIg90y8g\"\n</code></pre>\n\n<p>Is there a good reference for finding the solution?</p>\n"}, {"tags": ["ruby", "xml", "xsd", "soap4r"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 2392172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48e8a52db22ee2eeabb994dced226773?s=128&d=identicon&r=PG", "display_name": "sshaw", "link": "https://stackoverflow.com/users/2392172/sshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1446790797, "creation_date": 1446790797, "answer_id": 33560658, "question_id": 33512717, "link": "https://stackoverflow.com/questions/33512717/how-can-i-generate-attributes-with-obj2xml-for-ruby-classes-generated-from-xsd2r/33560658#33560658", "title": "How can I generate attributes with obj2xml for ruby classes generated from xsd2ruby?", "body": "<p>From what I remember <code>XSD::Mapping.obj2xml</code> XML will use an instance's instance variables as element names and their values as child elements. That's all. With the instance variable <code>@__xmlattr</code> getting special processing, as you can see. </p>\n\n<p>To get around these limitations I wrote <a href=\"https://github.com/sshaw/jaxb2ruby\" rel=\"nofollow\">jaxb2ruby</a>. It generates classes based on an ERB template. You can use one of the builtin templates (<a href=\"https://github.com/Empact/roxml\" rel=\"nofollow\">ROXML</a>, <a href=\"https://github.com/jnunemaker/happymapper\" rel=\"nofollow\">HappyMapper</a>, or plain ruby class) or write your own. </p>\n\n<p>It's not perfect but has worked out well for me in several instances. </p>\n\n<p>You may also want to checkout <a href=\"https://github.com/apotonick/roar\" rel=\"nofollow\">ROAR</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 5522677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5458e437aeb7cd4d4116325472beac8a?s=128&d=identicon&r=PG&f=1", "display_name": "J. Rossiter", "link": "https://stackoverflow.com/users/5522677/j-rossiter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446790797, "creation_date": 1446604143, "question_id": 33512717, "link": "https://stackoverflow.com/questions/33512717/how-can-i-generate-attributes-with-obj2xml-for-ruby-classes-generated-from-xsd2r", "title": "How can I generate attributes with obj2xml for ruby classes generated from xsd2ruby?", "body": "<p>I've used the utility xsd2ruby utility provided with soap4r to generate the required classes from an XSD schema definition file. This works well, however when I try to generate an xml file using XSD::Mapping.obj2xml the attributes do not get created as I expect (or would like). I would like the following:</p>\n\n<pre><code>  &lt;obj attr1=value1 attr2=value2&gt;\n    &lt;element1&gt;value&lt;/element1&gt;\n  &lt;/obj&gt;\n</code></pre>\n\n<p>but this is what gets generated:</p>\n\n<pre><code> &lt;obj&gt;\n    &lt;__xmlattr&gt;\n      &lt;item&gt;\n        &lt;key&gt;\n          &lt;name&gt;attr1&lt;/name&gt;\n          &lt;namespace&gt;&lt;/namespace&gt;\n          &lt;source&gt;&lt;/source&gt;\n        &lt;/key&gt;\n        &lt;value&gt;value1&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;\n          &lt;name&gt;attr2&lt;/name&gt;\n          &lt;namespace&gt;&lt;/namespace&gt;\n          &lt;source&gt;&lt;/source&gt;\n        &lt;/key&gt;\n        &lt;value&gt;value2&lt;/value&gt;\n      &lt;/item&gt;\n    &lt;/__xmlattr&gt;\n    &lt;element1&gt;value&lt;/element1&gt;\n  &lt;/obj&gt;\n</code></pre>\n\n<p>How can I generate the XML output without the xmlattr?</p>\n"}, {"tags": ["android", "ruby", "cucumber", "calabash-android"], "comments": [{"owner": {"reputation": 143, "user_id": 2087433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b2a6f94f29920fdcc4de55cd5566f31?s=128&d=identicon&r=PG", "display_name": "Mauricio Togneri", "link": "https://stackoverflow.com/users/2087433/mauricio-togneri"}, "edited": false, "score": 0, "creation_date": 1486202184, "post_id": 33512542, "comment_id": 71251451, "body": "I recommend you to try this library: <a href=\"https://github.com/mauriciotogneri/green-coffee\" rel=\"nofollow noreferrer\">github.com/mauriciotogneri/green-coffee</a>"}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 3250029, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/41c11b75d1478e51bd1e22418a2610f5?s=128&d=identicon&r=PG&f=1", "display_name": "dragon3002", "link": "https://stackoverflow.com/users/3250029/dragon3002"}, "is_accepted": false, "score": -1, "last_activity_date": 1446614422, "creation_date": 1446614422, "answer_id": 33514249, "question_id": 33512542, "link": "https://stackoverflow.com/questions/33512542/how-to-keep-variables-value-from-the-previous-step/33514249#33514249", "title": "How to keep variable&#39;s value from the previous step?", "body": "<p>You can use SharedPreferences and here is the Developer Guides: <a href=\"http://developer.android.com/guide/topics/data/data-storage.html#pref\" rel=\"nofollow\">SharedPreferences </a></p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 4550797, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/9419s.jpg?s=128&g=1", "display_name": "Nir Ortal", "link": "https://stackoverflow.com/users/4550797/nir-ortal"}, "edited": false, "score": 0, "creation_date": 1446769674, "post_id": 33541349, "comment_id": 54894287, "body": "Now it is brings me to the next issue. the value been reset when the test move to the next scenario (reload the app). how do i keep these values for more than 1 scenario?"}, {"owner": {"reputation": 79, "user_id": 4550797, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/9419s.jpg?s=128&g=1", "display_name": "Nir Ortal", "link": "https://stackoverflow.com/users/4550797/nir-ortal"}, "edited": false, "score": 0, "creation_date": 1446770019, "post_id": 33541349, "comment_id": 54894370, "body": "found it - use &#39;$&#39; instead &#39;@&#39;"}, {"owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "reply_to_user": {"reputation": 79, "user_id": 4550797, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/9419s.jpg?s=128&g=1", "display_name": "Nir Ortal", "link": "https://stackoverflow.com/users/4550797/nir-ortal"}, "edited": false, "score": 0, "creation_date": 1446834416, "post_id": 33541349, "comment_id": 54924364, "body": "$ is a global variable."}], "tags": [], "owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "is_accepted": true, "score": 1, "last_activity_date": 1446717167, "creation_date": 1446717167, "answer_id": 33541349, "question_id": 33512542, "link": "https://stackoverflow.com/questions/33512542/how-to-keep-variables-value-from-the-previous-step/33541349#33541349", "title": "How to keep variable&#39;s value from the previous step?", "body": "<p>Use a cucumber World variable.  In the example below, the @shared_alert_time is a World variable.  I recommend not over using variables to save state.  However, sometimes it is necessary and/or convenient.</p>\n\n<pre><code>Then /I send an alert/ do    \n  @shared_alert_time = Time.new    \n  enterAlertHeader(\"New alert - #{ @shared_alert_time.sec }\")    \n  pressSendButton\nend\n\n\nThen /I open the alert/ do\n  pressOnText(\"New alert - #{ @shared_alert_time.sec }\")\nend\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 4550797, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/9419s.jpg?s=128&g=1", "display_name": "Nir Ortal", "link": "https://stackoverflow.com/users/4550797/nir-ortal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 33541349, "answer_count": 2, "score": 0, "last_activity_date": 1446720642, "creation_date": 1446602863, "last_edit_date": 1446720642, "question_id": 33512542, "link": "https://stackoverflow.com/questions/33512542/how-to-keep-variables-value-from-the-previous-step", "title": "How to keep variable&#39;s value from the previous step?", "body": "<p>I\u2019m testing an app that sending/receiving alerts.</p>\n\n<p>In my tests, I send an alert, waiting to receive it and then check its content.</p>\n\n<p>So, the steps are (with my functions):</p>\n\n<pre><code>Then /I send an alert/ do    \n  alertTime = Time.new    \n  enterAlertHeader(\u201cNew alert - #{ alertTime.sec }\u201d)    \n  pressSendButton    \nend\n\n\nThen /I open the alert/ do\n  pressOnText(\u201cNew alert - #{ alertTime.sec }\u201d)\nend\n</code></pre>\n\n<p>In the second step, the <code>alertTime</code> changed to 0</p>\n\n<p>How can I keep the value?</p>\n\n<p>Do I need to write to a file and then read it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1446602145, "post_id": 33512337, "comment_id": 54808152, "body": "Try this way: <code>&lt;form  action=&quot;&#47;users&quot; method=&quot;post&quot;&gt;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "edited": false, "score": 0, "creation_date": 1446603333, "post_id": 33512449, "comment_id": 54808419, "body": "Glad I could help. Although this worked the way you wanted, but as you are using Rails, you should make use of the Form Helpers like form_for. I strongly suggest you to start looking into them so that you can write better code using the power of Rails :) Best of luck :)"}, {"owner": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "edited": false, "score": 1, "creation_date": 1446603692, "post_id": 33512449, "comment_id": 54808526, "body": "Thank you my friend. Your help is appreciated very much."}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 1, "last_activity_date": 1446603816, "last_edit_date": 1446603816, "creation_date": 1446602263, "answer_id": 33512449, "question_id": 33512337, "link": "https://stackoverflow.com/questions/33512337/rails-routing-error-no-route-matches/33512449#33512449", "title": "Rails Routing Error: No route matches", "body": "<p>To solve you current problem, replace this:</p>\n\n<pre><code>&lt;form action=\"&lt;% users_path %&gt;\" method=\"post\"&gt;\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>&lt;form action=\"/users\" method=\"post\"&gt;\n</code></pre>\n\n<p>See <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html\" rel=\"nofollow\">ActionView::Helpers::FormHelper</a> for more information.</p>\n\n<p>Also, if you want to use the <code>users_path</code> helper method, then you should call that inside a <code>&lt;%=</code> But, not: <code>&lt;%</code>. So, you can try this too:</p>\n\n<pre><code>&lt;form action=\"&lt;%= users_path %&gt;\" method=\"post\"&gt;\n</code></pre>\n\n<p>However, although this works the way you want, but as you are using Rails, you should make use of the <a href=\"http://guides.rubyonrails.org/form_helpers.html\" rel=\"nofollow\">Form Helpers</a> like <a href=\"http://apidock.com/rails/ActionView/Helpers/FormHelper/form_for\" rel=\"nofollow\">form_for</a>. I strongly suggest you to start looking into them so that you can write better code using the power of Rails :)</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "edited": false, "score": 0, "creation_date": 1446602787, "post_id": 33512496, "comment_id": 54808287, "body": "Thanks. I love form helpers. I just found out about them over the weekend. I need to start implementing in my practice problems."}], "tags": [], "owner": {"reputation": 396, "user_id": 981341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0abc152b4eb9cab006ee6e32bac199?s=128&d=identicon&r=PG", "display_name": "DustinFisher", "link": "https://stackoverflow.com/users/981341/dustinfisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1446602580, "creation_date": 1446602580, "answer_id": 33512496, "question_id": 33512337, "link": "https://stackoverflow.com/questions/33512337/rails-routing-error-no-route-matches/33512496#33512496", "title": "Rails Routing Error: No route matches", "body": "<p>For your form you should structure it like this:</p>\n\n<pre><code>&lt;%= form_for(@user) do |f| %&gt;\n  &lt;div class=\"field form-group\"&gt;\n    &lt;%= f.label :email %&gt;&lt;br /&gt;\n      &lt;%= f.text_field :email, class: 'form-control' %&gt;\n    &lt;/div&gt;\n    ....other fields etc....\n    &lt;div class=\"actions form-group\"&gt;\n      &lt;%= f.submit \"Create User\", class: 'btn btn-primary' %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 1664830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df17236de005127d4d91110b0725c540?s=128&d=identicon&r=PG", "display_name": "yoshinator", "link": "https://stackoverflow.com/users/1664830/yoshinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 33512449, "answer_count": 2, "score": 1, "last_activity_date": 1446604206, "creation_date": 1446601575, "last_edit_date": 1446604206, "question_id": 33512337, "link": "https://stackoverflow.com/questions/33512337/rails-routing-error-no-route-matches", "title": "Rails Routing Error: No route matches", "body": "<p>Having an issue where my form action is not hitting the right route. I know I must be doing something wrong with the path but rails makes this pretty easy so I don't know why it keeps trying to hit the post method on '/' instead of the user_path which is /users</p>\n\n<p>Here is my form:</p>\n\n<pre><code>&lt;form  action=\"&lt;% users_path %&gt;\" method=\"post\"&gt;\n&lt;input type=\"email\" name=\"user[email]\" placeholder=\"your email\"/&gt;\n# other inputs and submit\n</code></pre>\n\n<p>Here is the <code>users_controller.rb</code>:</p>\n\n<pre><code>def create\n   @user = User.new(user_params)\n   if @user.save\n      flash[:message] = @user.email +\" Created succesfully!\"\n   else\n      flash[:message] @user.errors.full_messages.to_sentence\n   redirect_to root_path\nend\n</code></pre>\n\n<p>and here is <code>routes.rb</code>:</p>\n\n<pre><code>root 'application#welcome'\npost 'users' =&gt; 'users#create'\n</code></pre>\n\n<p>Here is <code>rake routes</code> output:</p>\n\n<pre><code>Prefix Verb URI Pattern      Controller#Action   \nroot   GET  /                application#welcome  \nusers  POST /users(.:format) users#create\n</code></pre>\n\n<p>and finally the error:</p>\n\n<pre><code>Routing Error  No route matches [POST] \"/\"\n</code></pre>\n\n<p>Here is my directory structure:</p>\n\n<pre><code>\u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 assets\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 images\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 javascripts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 application.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 users.coffee\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 stylesheets\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 application.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 users.scss\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 controllers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 application_controller.rb\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 concerns\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 users_controller.rb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 helpers\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 application_helper.rb\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 users_helper.rb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 mailers\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 concerns\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 user.rb\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 application\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 welcome.html.erb\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 layouts\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 application.html.erb\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 users\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "simple-form"], "comments": [{"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 1, "creation_date": 1446601833, "post_id": 33512171, "comment_id": 54808087, "body": "With your given routes information, you should not have any <code>registration_path</code>, but you should have a <code>user_registration_path</code> helper method. can you try using that instead? Also, if it does not work, can you post your server log when you click on the Sign Up button?"}, {"owner": {"reputation": 396, "user_id": 981341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0abc152b4eb9cab006ee6e32bac199?s=128&d=identicon&r=PG", "display_name": "DustinFisher", "link": "https://stackoverflow.com/users/981341/dustinfisher"}, "edited": false, "score": 0, "creation_date": 1446602301, "post_id": 33512171, "comment_id": 54808183, "body": "For your routes.rb file can you just use: <code>devise_for :users</code> ?"}, {"owner": {"reputation": 2366, "user_id": 2876134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43b732ddf9b8ccefd8ddba85c9a33447?s=128&d=identicon&r=PG&f=1", "display_name": "Cong Chen", "link": "https://stackoverflow.com/users/2876134/cong-chen"}, "reply_to_user": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1446603672, "post_id": 33512171, "comment_id": 54808518, "body": "@KMRakibulIslam i changed registration_path to user_registration_path in the view file, but it didn&#39;t work.And nothing added when i click on the Sign Up button."}, {"owner": {"reputation": 2366, "user_id": 2876134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43b732ddf9b8ccefd8ddba85c9a33447?s=128&d=identicon&r=PG&f=1", "display_name": "Cong Chen", "link": "https://stackoverflow.com/users/2876134/cong-chen"}, "reply_to_user": {"reputation": 396, "user_id": 981341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0abc152b4eb9cab006ee6e32bac199?s=128&d=identicon&r=PG", "display_name": "DustinFisher", "link": "https://stackoverflow.com/users/981341/dustinfisher"}, "edited": false, "score": 0, "creation_date": 1446603756, "post_id": 33512171, "comment_id": 54808541, "body": "@DustinFisher That would casuse a routing error."}, {"owner": {"reputation": 396, "user_id": 981341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0abc152b4eb9cab006ee6e32bac199?s=128&d=identicon&r=PG", "display_name": "DustinFisher", "link": "https://stackoverflow.com/users/981341/dustinfisher"}, "edited": false, "score": 0, "creation_date": 1446603931, "post_id": 33512171, "comment_id": 54808597, "body": "Are you doing something outside of the normal devise functionality that requires you to setup your routes that way?"}, {"owner": {"reputation": 2366, "user_id": 2876134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43b732ddf9b8ccefd8ddba85c9a33447?s=128&d=identicon&r=PG&f=1", "display_name": "Cong Chen", "link": "https://stackoverflow.com/users/2876134/cong-chen"}, "reply_to_user": {"reputation": 396, "user_id": 981341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0abc152b4eb9cab006ee6e32bac199?s=128&d=identicon&r=PG", "display_name": "DustinFisher", "link": "https://stackoverflow.com/users/981341/dustinfisher"}, "edited": false, "score": 0, "creation_date": 1446605787, "post_id": 33512171, "comment_id": 54809064, "body": "@DustinFisher No, i was not do that."}], "owner": {"reputation": 2366, "user_id": 2876134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43b732ddf9b8ccefd8ddba85c9a33447?s=128&d=identicon&r=PG&f=1", "display_name": "Cong Chen", "link": "https://stackoverflow.com/users/2876134/cong-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446600910, "creation_date": 1446600353, "last_edit_date": 1446600711, "question_id": 33512171, "link": "https://stackoverflow.com/questions/33512171/ruby-on-rails-submit-not-working", "title": "Ruby on Rails submit not working", "body": "<p>My problem is that the submit button on my form doesn't cause any effect.\nuser.rb:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  # Include default devise modules. Others available are:\n  # :confirmable, :lockable, :timeoutable and :omniauthable\n  devise :database_authenticatable, :registerable,\n         :recoverable, :rememberable, :trackable, :validatable\nend\n</code></pre>\n\n<p>routes.rb:</p>\n\n<pre><code>devise_for :users, controllers: {\n  sessions: \"users/sessions\",\n  registrations: \"users/registrations\"\n}\n</code></pre>\n\n<p>views/devise/registrations/new.html.erb:</p>\n\n<pre><code>&lt;% provide(:page, 'home') %&gt;\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1\"&gt;\n            &lt;%= simple_form_for(@user, url: registration_path(@user)) do |f| %&gt;\n              &lt;!-- &lt;%= f.error_notification %&gt; --&gt;\n\n              &lt;div class=\"form-inputs\"&gt;\n                &lt;%= f.input :email, required: true, autofocus: true %&gt;\n                &lt;%= f.input :password, required: true, hint: (\"#{@minimum_password_length} characters minimum\" if @minimum_password_length) %&gt;\n                &lt;%= f.input :password_confirmation, required: true %&gt;\n              &lt;/div&gt;\n\n              &lt;div class=\"form-actions\"&gt;\n                &lt;%= f.button :submit, \"Sign up\" %&gt;\n              &lt;/div&gt;\n            &lt;% end %&gt;\n\n            &lt;%= render \"devise/shared/links\" %&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and the controller that generated by the devise gem: <code>raisl g devise:controller users</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "redis"], "answers": [{"tags": [], "owner": {"reputation": 1528, "user_id": 1616697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pwa5t.jpg?s=128&g=1", "display_name": "Lahiru", "link": "https://stackoverflow.com/users/1616697/lahiru"}, "is_accepted": true, "score": 1, "last_activity_date": 1556394792, "last_edit_date": 1556394792, "creation_date": 1446603274, "answer_id": 33512605, "question_id": 33511711, "link": "https://stackoverflow.com/questions/33511711/configure-redis-connection-on-initialize/33512605#33512605", "title": "Configure Redis connection on initialize", "body": "<p>This is how <code>Redis</code> is initialized in general.</p>\n\n<p>Firstly, a good practice would be adding this to your <code>config/environments/[environment_name].rb</code>. So you can maintain different locations for <code>Redis</code> when you change environments.</p>\n\n<pre><code>config.redis_host   = \"localhost\"\n</code></pre>\n\n<p>Then in your application's <code>config/initializers</code> path create <code>redis.rb</code> and place the code below to initialize <code>Redis</code>.</p>\n\n<pre><code>require 'redis'\n\n## Added rescue condition if Redis connection is failed\nbegin\n  $redis = Redis.new(:host =&gt; Rails.configuration.redis_host, :port =&gt; 6379) \nrescue Exception =&gt; e\n  puts e\nend\n</code></pre>\n\n<p>Then you'll be able to use the global variable <code>$redis</code> within your application for <code>Redis</code>-related commands.</p>\n\n<pre><code>$redis.hset \"my_hash\", item.id, business.id\n</code></pre>\n\n<p><a href=\"https://web.archive.org/web/20160310105422/http://jimneath.org/2011/03/24/using-redis-with-ruby-on-rails.html\" rel=\"nofollow noreferrer\">Here</a> is a helpful article with more details.</p>\n\n<hr>\n\n<p>Now in your case as <a href=\"https://github.com/Pathgather/predictor#getting-started\" rel=\"nofollow noreferrer\">this documentation</a> suggests, here is what you should do:</p>\n\n<p>In <code>config/initializers/predictor.rb</code>,</p>\n\n<pre><code>Predictor.redis = Redis.new(:url =&gt; ENV[\"PREDICTOR_REDIS\"])\n</code></pre>\n\n<p>Or, to improve performance, add <em>hiredis</em> as your driver (you'll need to     install the <em>hiredis</em> gem first)</p>\n\n<pre><code>Predictor.redis = Redis.new(:url =&gt; ENV[\"PREDICTOR_REDIS\"], :driver =&gt; :hiredis)\n</code></pre>\n\n<p>Then, be sure to include <code>include Predictor::Base</code> in all models you want to use it,</p>\n\n<pre><code>class CourseRecommender\n  include Predictor::Base\n  ...\nend\n</code></pre>\n\n<p><a href=\"https://www.omniref.com/ruby/gems/predictor/2.0.0/symbols/Predictor/redis/singleton\" rel=\"nofollow noreferrer\">Here</a> is the code responsible for the error you getting.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5349758"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2103, "favorite_count": 0, "accepted_answer_id": 33512605, "answer_count": 1, "score": 0, "last_activity_date": 1556394792, "creation_date": 1446597030, "last_edit_date": 1446653113, "question_id": 33511711, "link": "https://stackoverflow.com/questions/33511711/configure-redis-connection-on-initialize", "title": "Configure Redis connection on initialize", "body": "<p>I'm using <code>Predictor</code> gem and when I attempt to start the gem shows:</p>\n\n<pre><code>\"redis not configured! - Predictor.redis = Redis.new\" (RuntimeError)\n</code></pre>\n\n<p>So, how to configure <strong>Redis Connection</strong> on initialize?</p>\n\n<p>thank's</p>\n"}, {"tags": ["ruby", "metaprogramming"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1446597953, "post_id": 33511697, "comment_id": 54807107, "body": "why do you need to do this?"}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1446599661, "post_id": 33511697, "comment_id": 54807576, "body": "What is the expected type of the second param <code>method</code> of <code>define_method_for </code>? A <code>Method</code>, a <code>Symbol</code> or a <code>String</code>?"}, {"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "reply_to_user": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1446648988, "post_id": 33511697, "comment_id": 54831149, "body": "@Aetherus - A symbol. What&#39;s a <code>Method</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 330, "user_id": 4681454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b-mqwMUa9aE/AAAAAAAAAAI/AAAAAAAAAOY/buV0IYuNIvY/photo.jpg?sz=128", "display_name": "Eric Terry", "link": "https://stackoverflow.com/users/4681454/eric-terry"}, "is_accepted": false, "score": 3, "last_activity_date": 1446598760, "last_edit_date": 1446598760, "creation_date": 1446598216, "answer_id": 33511881, "question_id": 33511697, "link": "https://stackoverflow.com/questions/33511697/how-to-dynamically-create-a-method-on-a-given-class-in-ruby/33511881#33511881", "title": "How to dynamically create a method on a given class in Ruby?", "body": "<p>I think this is what you are looking for:</p>\n\n<pre><code>def define_method_for( klass, method, my_proc )\n  klass.send( :define_method, method, my_proc )\nend\n</code></pre>\n\n<p>Here is how you would use it:</p>\n\n<pre><code>class Klass\nend\n\nmy_proc = proc { puts 'foo method called!' }\ndefine_method_for( Klass, :foo, my_proc )\n\nKlass.new.foo\n#=&gt; foo method called!\n</code></pre>\n\n<p>You could also define it like this:</p>\n\n<pre><code> def define_method_for( klass, method, &amp;block )\n   klass.send( :define_method, method, &amp;block )\n end\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code> class Klass\n end\n\n define_method_for( Klass, :foo ) do\n   puts 'foo method called!'\n end\n\n Klass.new.foo\n #=&gt; foo method called!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3548, "user_id": 380733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a75d3ccb928a8dc5c0ff272f3e6cd9?s=128&d=identicon&r=PG&f=1", "display_name": "Abs", "link": "https://stackoverflow.com/users/380733/abs"}, "is_accepted": false, "score": 1, "last_activity_date": 1446599045, "creation_date": 1446599045, "answer_id": 33511995, "question_id": 33511697, "link": "https://stackoverflow.com/questions/33511697/how-to-dynamically-create-a-method-on-a-given-class-in-ruby/33511995#33511995", "title": "How to dynamically create a method on a given class in Ruby?", "body": "<p>You can define it like this:</p>\n\n<pre><code>    dynamic_name = \"ClassName\"\n    class = Object.const_set(dynamic_name, Class.new) \n    class.send(:define_method, 'method'){puts 'a'}\n</code></pre>\n\n<p>The wrapping into a method is straightforward.    </p>\n"}, {"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1446606761, "creation_date": 1446606761, "answer_id": 33513061, "question_id": 33511697, "link": "https://stackoverflow.com/questions/33511697/how-to-dynamically-create-a-method-on-a-given-class-in-ruby/33513061#33513061", "title": "How to dynamically create a method on a given class in Ruby?", "body": "<p>Either do:</p>\n\n<pre><code>klass.class_eval{define_method(:foo){...}}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>klass.instance_eval{define_method(:foo){...}}\n</code></pre>\n"}], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1446606761, "creation_date": 1446596904, "last_edit_date": 1446598148, "question_id": 33511697, "link": "https://stackoverflow.com/questions/33511697/how-to-dynamically-create-a-method-on-a-given-class-in-ruby", "title": "How to dynamically create a method on a given class in Ruby?", "body": "<p>I know that a method can be created with</p>\n\n<pre><code>class Klass\n  define_method foo\n</code></pre>\n\n<p>How can you create a method and pass the class as a param?</p>\n\n<pre><code>def define_method_for klass, method\n</code></pre>\n\n<p>Ruby 2.2</p>\n\n<p>Edit: Use case:  </p>\n\n<p>I am writing a mocking library. So, I want to mock arbitrary classes and methods.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json"], "answers": [{"tags": [], "owner": {"reputation": 6165, "user_id": 2697183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65255fe741b95ba0c641d96ea6750ea9?s=128&d=identicon&r=PG&f=1", "display_name": "AbM", "link": "https://stackoverflow.com/users/2697183/abm"}, "is_accepted": false, "score": 0, "last_activity_date": 1446597218, "creation_date": 1446597218, "answer_id": 33511730, "question_id": 33511618, "link": "https://stackoverflow.com/questions/33511618/read-json-array-ruby-on-rails/33511730#33511730", "title": "Read JSON array ruby on rails", "body": "<p>You are getting this error because the params is not a string, whereas <code>decode</code> expects a string. The <code>params</code> that you are getting is not in a JSON format. Try:</p>\n\n<pre><code>def valid_request_array\n   Usuario.find_by_auth_token(params[:auth_token][0][\"auth_token\"]).present?\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 2782149, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e50d6cf760d9407ccc3b5def33e10b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2782149", "link": "https://stackoverflow.com/users/2782149/user2782149"}, "edited": false, "score": 0, "creation_date": 1446598254, "post_id": 33511768, "comment_id": 54807183, "body": "Both answers work, but I&#39;m gonna accept this one because the answer is a little more extense. Thank you, I was stuck with this all afternoon"}], "tags": [], "owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "is_accepted": true, "score": 1, "last_activity_date": 1446597426, "creation_date": 1446597426, "answer_id": 33511768, "question_id": 33511618, "link": "https://stackoverflow.com/questions/33511618/read-json-array-ruby-on-rails/33511768#33511768", "title": "Read JSON array ruby on rails", "body": "<p>Since this is <code>Params</code>, you don't need to decode or parse it. You will only need this if what you are operating on is a <code>jasonfied (or stringified)</code> object. eg is something like this:</p>\n\n<pre><code>\"{\\\"auth_token\\\":[{\\\"auth_token\\\":\\\"d11D1E3v7pKkLW4wDj8ohgtf\\\"}]}\" \n</code></pre>\n\n<p>then you can parse this to get your hash object back.</p>\n\n<p>In this case you don't need to, since the object is not <code>stringified</code>. That is why you are having that error:</p>\n\n<pre><code>no implicit conversion of ActionController::Parameters into String\n</code></pre>\n\n<p>to get the token however, just call it directly as:</p>\n\n<pre><code>params[\"auth_token\"].first[\"auth_token\"]\n</code></pre>\n\n<p>that should return the token <code>d11D1E3v7pKkLW4wDj8ohgtf</code> for you.</p>\n"}], "owner": {"reputation": 39, "user_id": 2782149, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e50d6cf760d9407ccc3b5def33e10b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2782149", "link": "https://stackoverflow.com/users/2782149/user2782149"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 33511768, "answer_count": 2, "score": -1, "last_activity_date": 1446601612, "creation_date": 1446596454, "last_edit_date": 1495539872, "question_id": 33511618, "link": "https://stackoverflow.com/questions/33511618/read-json-array-ruby-on-rails", "title": "Read JSON array ruby on rails", "body": "<p>I get a JSON array from another app which looks like this (from the log)</p>\n\n<pre><code>Parameters: {\"auth_token\"=&gt;[{\"auth_token\"=&gt;\"d11D1E3v7pKkLW4wDj8ohgtf\"}]}\n</code></pre>\n\n<p>This array will be bigger (that's the reason for using arrays) but I'm only testing if I can get the content from it. This is my function:</p>\n\n<pre><code>def valid_request_array\n    data = ActiveSupport::JSON.decode(params)[:auth_token]\n    Usuario.find_by_auth_token(data[0]['auth_token']).present?\nend\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>TypeError (no implicit conversion of ActionController::Parameters into String):\n    app/controllers/api/actas_controller.rb:35:in `valid_request_array'</p>\n</blockquote>\n\n<p>Line 35 is <code>data = ActiveSupport::JSON.decode(params)[:auth_token]</code></p>\n\n<p>I have rails 4.2 and also tried with <code>JSON.parse(params)</code> and <code>JSON.parse(params[:auth_token])</code> but it doesn't works. There's a similar question here <a href=\"https://stackoverflow.com/questions/18188043/json-array-parsing-in-ror\">JSON Array parsing in ROR</a> but I need to read the value in order to authenticate that request. Any help is appreciated</p>\n"}, {"tags": ["ruby", "bash", "alias"], "comments": [{"owner": {"reputation": 2364, "user_id": 388280, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/67227642f4c9822bc306c8fe6a5f6742?s=128&d=identicon&r=PG", "display_name": "ytbryan", "link": "https://stackoverflow.com/users/388280/ytbryan"}, "edited": false, "score": 0, "creation_date": 1447587222, "post_id": 33510591, "comment_id": 55208476, "body": "Update: I was wrong to say that you cannot invoke alias from ruby code. See my question for answer: <a href=\"http://stackoverflow.com/questions/33705936/how-do-you-invoke-alias-from-ruby-code-for-zsh-shell/33718936#33718936\" title=\"how do you invoke alias from ruby code for zsh shell\">stackoverflow.com/questions/33705936/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": true, "score": 3, "last_activity_date": 1496318117, "last_edit_date": 1496318117, "creation_date": 1446592069, "answer_id": 33510800, "question_id": 33510591, "link": "https://stackoverflow.com/questions/33510591/how-to-use-bash-aliases-from-a-shell-in-a-ruby-script-on-os-x/33510800#33510800", "title": "How to use Bash aliases from a shell in a Ruby script on OS X?", "body": "<p>A quick check of the Bash man page showed:</p>\n\n<blockquote>\n  <p>Aliases are not expanded when the shell is not interactive, unless the <code>expand_aliases</code> shell option is set using <code>shopt</code> (see the description of <code>shopt</code> under SHELL BUILTIN COMMANDS below).</p>\n</blockquote>\n\n<p>A quick search for \"shell shopt expand_aliases\" showed a bunch of hits.</p>\n\n<p>See \"<a href=\"https://superuser.com/a/183980\">Difference between .bashrc and .bash_profile</a>\", \"<a href=\"https://stackoverflow.com/questions/1615877/why-aliases-in-a-non-interactive-bash-shell-do-not-work\">Why aliases in a non-interactive Bash shell do not work</a>\", \"<a href=\"https://unix.stackexchange.com/questions/1496/why-doesnt-my-bash-script-recognize-aliases\">Why doesn't my Bash script recognize aliases?</a>\" and \"<a href=\"https://unix.stackexchange.com/questions/158038/non-interactive-shell-expand-alias\">Non-interactive shell expand alias</a>\".</p>\n"}, {"tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": false, "score": 0, "last_activity_date": 1446594549, "creation_date": 1446594549, "answer_id": 33511314, "question_id": 33510591, "link": "https://stackoverflow.com/questions/33510591/how-to-use-bash-aliases-from-a-shell-in-a-ruby-script-on-os-x/33511314#33511314", "title": "How to use Bash aliases from a shell in a Ruby script on OS X?", "body": "<p><code>alias</code> is a keyword and should never be used as a variable name or a method name.</p>\n"}, {"tags": [], "owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "is_accepted": false, "score": 0, "last_activity_date": 1496335880, "last_edit_date": 1496335880, "creation_date": 1446643511, "answer_id": 33523097, "question_id": 33510591, "link": "https://stackoverflow.com/questions/33510591/how-to-use-bash-aliases-from-a-shell-in-a-ruby-script-on-os-x/33523097#33523097", "title": "How to use Bash aliases from a shell in a Ruby script on OS X?", "body": "<ol>\n<li><p>The word <code>alias</code> is a keyword in Ruby, so you can't use it as an identifier. </p></li>\n<li><p>When you do a <code>source xxxx</code> from Bash, it interprets the file \"xxxx\" as a Bash program. Your file is a Ruby program, so it can't be sourced.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 6017, "user_id": 4694621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lIYBa.png?s=128&g=1", "display_name": "Mateusz Piotrowski", "link": "https://stackoverflow.com/users/4694621/mateusz-piotrowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1496319184, "creation_date": 1496319184, "answer_id": 44307244, "question_id": 33510591, "link": "https://stackoverflow.com/questions/33510591/how-to-use-bash-aliases-from-a-shell-in-a-ruby-script-on-os-x/44307244#44307244", "title": "How to use Bash aliases from a shell in a Ruby script on OS X?", "body": "<p>It turns out that the solution is to run the shell commands inside the Ruby script as an interactive shell (so that <code>.bashrc</code> is sourced and aliases are available to shell's environment):</p>\n\n<pre><code>aliases = [ 'ul', 'ur', 'dl', 'dr', 'll', 'rr', 'up', 'down', 'big', 'cen' ]\n\nwhile true\n    a = aliases.sample\n    `bash -ic '#{a}'`\n    puts `figlet -f doh \"#{a}\"` \nend\n</code></pre>\n"}], "owner": {"reputation": 6017, "user_id": 4694621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lIYBa.png?s=128&g=1", "display_name": "Mateusz Piotrowski", "link": "https://stackoverflow.com/users/4694621/mateusz-piotrowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 33510800, "answer_count": 4, "score": 0, "last_activity_date": 1504109070, "creation_date": 1446591034, "last_edit_date": 1592644375, "question_id": 33510591, "link": "https://stackoverflow.com/questions/33510591/how-to-use-bash-aliases-from-a-shell-in-a-ruby-script-on-os-x", "title": "How to use Bash aliases from a shell in a Ruby script on OS X?", "body": "<p>How can I execute aliases from my Bash shell in a Ruby script?</p>\n<p>Here's the code:</p>\n<pre><code>aliases = [ 'ul', 'ur', 'dl', 'dr', 'll', 'rr', 'up', 'down', 'big', 'cen' ]\n\nwhile true\n    a = aliases.sample\n    `#{a}`\n    puts `figlet -f doh &quot;#{a}&quot;`\nend\n</code></pre>\n<p>I would like to:</p>\n<ul>\n<li>select a random shell alias from the <code>aliases</code> array. (These aliases are aliases that I can use in my shell as defined in my <code>.bashrc</code>),</li>\n<li>execute the selected alias,</li>\n<li>print the name of the selected alias to the terminal screen using <code>figlet</code>.</li>\n</ul>\n<p>However:</p>\n<ul>\n<li><p>When I execute <code>./mysciprt</code> I get:</p>\n<blockquote>\n<pre><code>ul: command not found\n</code></pre>\n</blockquote>\n</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 1395, "user_id": 1658796, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6cdcc36f7302b72109e2b231c3f9f39c?s=128&d=identicon&r=PG", "display_name": "Chris Valentine", "link": "https://stackoverflow.com/users/1658796/chris-valentine"}, "edited": false, "score": 0, "creation_date": 1446828467, "post_id": 33511017, "comment_id": 54921247, "body": "This didnt work for all situations I had the issue, but great answer"}], "tags": [], "owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "is_accepted": false, "score": 2, "last_activity_date": 1446593097, "creation_date": 1446593097, "answer_id": 33511017, "question_id": 33510519, "link": "https://stackoverflow.com/questions/33510519/collection-through-other-models-rails-4/33511017#33511017", "title": "Collection through other models Rails 4", "body": "<p>You can <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Inheritance.html\" rel=\"nofollow\">use the concept of Single Table inheritance</a> in rails.</p>\n\n<p>As you have both <code>Trains</code> and <code>Buses</code>, both of which can be said to be types of a <code>Vehicle</code>, you can have a base model <code>Vehicle</code>, and let both <code>Train</code> and <code>Bus</code> inherit from the <code>Vehicle</code> as follow:</p>\n\n<pre><code>class Vehicle &lt; ActiveRecord::Base; end\nclass Train &lt; Vehicle; end\nclass Bus &lt; Vehicle; end\n</code></pre>\n\n<p>And then, your <code>User</code> class can have a <code>one-to-many</code> association to <code>Cargo</code> through <code>Vehicle</code>.</p>\n\n<p>Like this, if you call <code>user.cargoes</code> (<code>user</code> being an instance of a <code>User</code>), the result should be all the cargoes of the specified user.</p>\n\n<p>Hope this throws some light on the issue for you...</p>\n"}, {"comments": [{"owner": {"reputation": 1395, "user_id": 1658796, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6cdcc36f7302b72109e2b231c3f9f39c?s=128&d=identicon&r=PG", "display_name": "Chris Valentine", "link": "https://stackoverflow.com/users/1658796/chris-valentine"}, "edited": false, "score": 0, "creation_date": 1446828447, "post_id": 33511072, "comment_id": 54921236, "body": "Many great answers here, but this is the closest to what I implemented. Thanks"}], "tags": [], "owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "is_accepted": true, "score": 2, "last_activity_date": 1446593357, "creation_date": 1446593357, "answer_id": 33511072, "question_id": 33510519, "link": "https://stackoverflow.com/questions/33510519/collection-through-other-models-rails-4/33511072#33511072", "title": "Collection through other models Rails 4", "body": "<p>The single table inheritance answer might be great for you, especially if Trains and Buses have mostly the same data about them. However, if those models are very different than one another you might want a different solution.</p>\n\n<p>What if you defined a simple method on your user class?</p>\n\n<pre><code>class User\n  has_many :trains\n  has_many :buses\n\n  def cargo\n    trains.map(&amp;:cargo) + buses.map(&amp;:cargo)\n  end\nend\n</code></pre>\n\n<p>This answer assumes that <strong>each</strong> <code>Bus</code> and <code>Train</code> has a cargo, which is different than your example showing <code>User.trains.cargo</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": false, "score": 2, "last_activity_date": 1446596359, "creation_date": 1446596359, "answer_id": 33511600, "question_id": 33510519, "link": "https://stackoverflow.com/questions/33510519/collection-through-other-models-rails-4/33511600#33511600", "title": "Collection through other models Rails 4", "body": "<p>I haven't tried this but <a href=\"https://github.com/brianhempel/active_record_union\" rel=\"nofollow\">active_record_union</a> seems promising.</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_many :buses\n  has_many :trains\n\n  scope :cargoes, -&gt;{buses.select(:cargo).union_all(trains.select(:cargo))}\nend\n</code></pre>\n"}], "owner": {"reputation": 1395, "user_id": 1658796, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6cdcc36f7302b72109e2b231c3f9f39c?s=128&d=identicon&r=PG", "display_name": "Chris Valentine", "link": "https://stackoverflow.com/users/1658796/chris-valentine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 33511072, "answer_count": 3, "score": 2, "last_activity_date": 1446596359, "creation_date": 1446590755, "last_edit_date": 1446593572, "question_id": 33510519, "link": "https://stackoverflow.com/questions/33510519/collection-through-other-models-rails-4", "title": "Collection through other models Rails 4", "body": "<p>I'm unsure how to word this as I'm not sure what the right term for this is, but..</p>\n\n<p>I have a user model.  This model can create Trains.  such that user.trains has all their trains.  This model can also create Buses, such that user.buses has all their buses.  Trains and Buses can both contain Cargo.  user.trains.cargo and user.buses.cargo.</p>\n\n<p>How would i set this up so that I can just ask for User.cargo and get all the cargo from both the trains and the buses, without having to call the .cargo list for each?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 858, "user_id": 4276488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a159aab6ee3d60cf758cfa563e51d73?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan Oemar", "link": "https://stackoverflow.com/users/4276488/bryan-oemar"}, "edited": false, "score": 3, "creation_date": 1446590676, "post_id": 33510469, "comment_id": 54804612, "body": "What is your question exactly?"}, {"owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "reply_to_user": {"reputation": 858, "user_id": 4276488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a159aab6ee3d60cf758cfa563e51d73?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan Oemar", "link": "https://stackoverflow.com/users/4276488/bryan-oemar"}, "edited": false, "score": 0, "creation_date": 1446590961, "post_id": 33510469, "comment_id": 54804740, "body": "to_a =&gt; undefined ... but Ruby can to_a is in Enumerable?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446593636, "post_id": 33510469, "comment_id": 54805770, "body": "Welcome to Stack Overflow. Please don&#39;t use arbitrary bold text. It&#39;s as bad as typing in all upper-case. <code>to_a</code> is a basic building block for objects and is inherited from Enumerable. Perhaps you need to read through the documentation for the various core classes? Also, your title, being a question, is supposed to be the first line of your question also. &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "edited": false, "score": 0, "creation_date": 1446591302, "post_id": 33510586, "comment_id": 54804884, "body": "Runtime include to_a of Enumerable after delegate?  I wonder where?"}, {"owner": {"reputation": 858, "user_id": 4276488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a159aab6ee3d60cf758cfa563e51d73?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan Oemar", "link": "https://stackoverflow.com/users/4276488/bryan-oemar"}, "reply_to_user": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "edited": false, "score": 0, "creation_date": 1446592168, "post_id": 33510586, "comment_id": 54805248, "body": "What are you trying to accomplish here?  When and on what object are you trying to call this to_a method?"}, {"owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "edited": false, "score": 0, "creation_date": 1446592932, "post_id": 33510586, "comment_id": 54805510, "body": "oh I see. I run rails start, so to_a is undef. but My Controller <code>to_a.class =&gt; Array</code>"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446593773, "post_id": 33510586, "comment_id": 54805829, "body": "In answers we shouldn&#39;t say things like &quot;What is the object you are calling to_a on?&quot; That&#39;s inviting the OP to join into a conversation, but answers are statements, not conversations. A comment to the original question would be more appropriate for that."}], "tags": [], "owner": {"reputation": 858, "user_id": 4276488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a159aab6ee3d60cf758cfa563e51d73?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan Oemar", "link": "https://stackoverflow.com/users/4276488/bryan-oemar"}, "is_accepted": false, "score": 1, "last_activity_date": 1446591008, "creation_date": 1446591008, "answer_id": 33510586, "question_id": 33510469, "link": "https://stackoverflow.com/questions/33510469/i-am-looking-for-a-source-each-of-activerecord-what-is-to-a/33510586#33510586", "title": "I am looking for a source each of ActiveRecord. What is to_a?", "body": "<blockquote>\n  <p>What is to_a?</p>\n</blockquote>\n\n<p>This is a method that will return an array, if the method is implemented. \nSee for example: <a href=\"http://ruby-doc.org/core-2.2.3/Enumerable.html#method-i-to_a\" rel=\"nofollow\">http://ruby-doc.org/core-2.2.3/Enumerable.html#method-i-to_a</a></p>\n\n<p>If you get an undefined, that means the method is not implemented (aka undefined) for the object your calling the method on.</p>\n\n<p>What is the object you are calling to_a on? This object will not have the to_a method.</p>\n"}, {"tags": [], "owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "is_accepted": true, "score": 0, "last_activity_date": 1446596370, "last_edit_date": 1495540745, "creation_date": 1446594350, "answer_id": 33511278, "question_id": 33510469, "link": "https://stackoverflow.com/questions/33510469/i-am-looking-for-a-source-each-of-activerecord-what-is-to-a/33511278#33511278", "title": "I am looking for a source each of ActiveRecord. What is to_a?", "body": "<p>Thank to @Bryan Oemar.(<a href=\"https://stackoverflow.com/a/33510586/1979953\">https://stackoverflow.com/a/33510586/1979953</a>)<br />\nI found <code>to_a</code> in rails.<br />\n<strong>I need stop the breakpoint after action controller.</strong></p>\n\n<pre><code>to_a.class\n=&gt; Array\n</code></pre>\n\n<hr>\n\n<pre><code>self.method(:to_a).source_location\n=&gt; [\"/Users/shingonakanishi/Documents/raku/selforderweb/vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.4/lib/active_record/relation.rb\", 242]\n</code></pre>\n\n<h2><code>to_a</code> method in rails/relation.rb</h2>\n\n<p><a href=\"https://github.com/rails/rails/blob/d2315d0c3b1ede89b7cce6a77c647285359243c5/activerecord/lib/active_record/relation.rb#L250\" rel=\"nofollow noreferrer\">rails/relation.rb at d2315d0c3b1ede89b7cce6a77c647285359243c5 \u00b7 rails/rails</a></p>\n\n<pre><code># Converts relation objects to Array.\ndef to_a\n  load\n  @records\nend\n</code></pre>\n"}], "owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 33511278, "answer_count": 2, "score": -2, "last_activity_date": 1590551561, "creation_date": 1446590500, "last_edit_date": 1590551561, "question_id": 33510469, "link": "https://stackoverflow.com/questions/33510469/i-am-looking-for-a-source-each-of-activerecord-what-is-to-a", "title": "I am looking for a source each of ActiveRecord. What is to_a?", "body": "<p><a href=\"https://github.com/rails/rails/blob/v4.2.4/activerecord/lib/active_record/relation/delegation.rb#L46\" rel=\"nofollow noreferrer\">rails/delegation.rb at v4.2.4 \u00b7 rails/rails</a></p>\n\n<pre><code>delegate :to_xml, :to_yaml, :length, :collect, :map, :each, :all?, :include?, :to_ary, :join, to: :to_a\n</code></pre>\n\n<h1>Breakpoint this line</h1>\n\n<pre><code>to_a\n=&gt; undefined local variable or method `to_a' for ActiveRecord::Delegation:Module\n</code></pre>\n\n<p>The breakpoint stop immediately after the rails start.</p>\n\n<hr>\n\n<h1>delegate method document(comment) say</h1>\n\n<p><a href=\"https://github.com/rails/rails/blob/7b92798d2fee012bf683c513fb3864a9143a6f71/activesupport/lib/active_support/core_ext/module/delegation.rb#L56\" rel=\"nofollow noreferrer\">rails/delegation.rb at 7b92798d2fee012bf683c513fb3864a9143a6f71 \u00b7 rails/rails</a></p>\n\n<blockquote>\n  <p># Methods can be delegated to instance variables, class variables, or constants<br />\n   # by providing them as a symbols:</p>\n</blockquote>\n\n<p><code>delegate</code> run <code>module_eval(method_def, file, line)</code></p>\n\n<p><a href=\"https://github.com/rails/rails/blob/7b92798d2fee012bf683c513fb3864a9143a6f71/activesupport/lib/active_support/core_ext/module/delegation.rb#L215\" rel=\"nofollow noreferrer\">rails/delegation.rb at 7b92798d2fee012bf683c513fb3864a9143a6f71 \u00b7 rails/rails</a></p>\n\n<pre><code>module_eval(method_def, file, line)\n</code></pre>\n\n<h1>Breakpoint this line</h1>\n\n<pre><code>method_def\n=&gt; \"def each(*args, &amp;block); _ = to_a;  _.each(*args, &amp;block);rescue NoMethodError =&gt; e;  if _.nil? &amp;&amp; e.name == :each;    raise DelegationError, \\\"ActiveRecord::Delegation#each delegated to to_a.each, but to_a is nil: \\#{self.inspect}\\\";  else;    raise;  end;end\"\n</code></pre>\n\n<p><br />\nWhat is <code>to_a</code>?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ansible", "ansible-playbook"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1446590493, "post_id": 33510053, "comment_id": 54804517, "body": "Is this for a <code>git:</code> type gem reference? It&#39;s worth noting that GitHub private repos do work as suitable installation sources and I&#39;ve never had a problem with those."}, {"owner": {"reputation": 5951, "user_id": 3026618, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/42854c1bcd87a00e9da0ca5b84d73ef2?s=128&d=identicon&r=PG", "display_name": "Ajeet Khan", "link": "https://stackoverflow.com/users/3026618/ajeet-khan"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1446590616, "post_id": 33510053, "comment_id": 54804588, "body": "@tadman yes I have <code>git:</code> type gem reference"}], "answers": [{"comments": [{"owner": {"reputation": 5951, "user_id": 3026618, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/42854c1bcd87a00e9da0ca5b84d73ef2?s=128&d=identicon&r=PG", "display_name": "Ajeet Khan", "link": "https://stackoverflow.com/users/3026618/ajeet-khan"}, "edited": false, "score": 0, "creation_date": 1446642744, "post_id": 33517101, "comment_id": 54826745, "body": "I tried doing this but somehow its not working. The reason I noticed in the verbose output while the command bundle install is in running state is that the host key verification is getting ignored only for connecting to remote server but not when connecting to the github for installing gem with ssh url"}, {"owner": {"reputation": 1045, "user_id": 2397396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/696fb56c06a4169bbe4b625de8492aa4?s=128&d=identicon&r=PG", "display_name": "Ankit Kulkarni", "link": "https://stackoverflow.com/users/2397396/ankit-kulkarni"}, "reply_to_user": {"reputation": 5951, "user_id": 3026618, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/42854c1bcd87a00e9da0ca5b84d73ef2?s=128&d=identicon&r=PG", "display_name": "Ajeet Khan", "link": "https://stackoverflow.com/users/3026618/ajeet-khan"}, "edited": false, "score": 1, "creation_date": 1446642857, "post_id": 33517101, "comment_id": 54826810, "body": "Try doing this <code>ssh-keyscan -H github.com &gt;&gt; &lt;your home directory&gt;&#47;.ssh&#47;known_hosts</code> . This command basically adds github keys to your known hosts file . Once you do this it should no more ask you again until the fingerprint is changing"}], "tags": [], "owner": {"reputation": 1045, "user_id": 2397396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/696fb56c06a4169bbe4b625de8492aa4?s=128&d=identicon&r=PG", "display_name": "Ankit Kulkarni", "link": "https://stackoverflow.com/users/2397396/ankit-kulkarni"}, "is_accepted": false, "score": 1, "last_activity_date": 1446626059, "creation_date": 1446626059, "answer_id": 33517101, "question_id": 33510053, "link": "https://stackoverflow.com/questions/33510053/bundle-install-hang-while-installing-private-gem-via-ansible-playbook/33517101#33517101", "title": "bundle install hang while installing private gem via ansible playbook", "body": "<p>You can put <code>export ANSIBLE_HOST_KEY_CHECKING=False</code> in your ansible play environment . Add this to your play to avoid host key checking .</p>\n\n<pre><code>environment:\n    ANSIBLE_HOST_KEY_CHECKING:  False\n</code></pre>\n\n<p>Another way could be tried on is to pass the underlying strict key checking parameters to your ssh connection . Parameters are - <code>StrictHostKeyChecking=no</code> and <code>UserKnownHostsFile=/dev/null</code> . You can check on the <a href=\"http://docs.ansible.com/ansible/intro_inventory.html\" rel=\"nofollow\">ansible inventory ssh connection </a> and use <code>ansible_ssh_common_args</code> or <code>ansible_ssh_extra_args</code></p>\n"}, {"tags": [], "owner": {"reputation": 5951, "user_id": 3026618, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/42854c1bcd87a00e9da0ca5b84d73ef2?s=128&d=identicon&r=PG", "display_name": "Ajeet Khan", "link": "https://stackoverflow.com/users/3026618/ajeet-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1452793258, "last_edit_date": 1452793258, "creation_date": 1446648699, "answer_id": 33524872, "question_id": 33510053, "link": "https://stackoverflow.com/questions/33510053/bundle-install-hang-while-installing-private-gem-via-ansible-playbook/33524872#33524872", "title": "bundle install hang while installing private gem via ansible playbook", "body": "<p>As per <code>@Ankit_Kukarni</code> comment, I tried adding <code>github.com</code> to <code>known_hosts</code> file and finally it worked. </p>\n\n<blockquote>\n  <p>Adding following piece of code to the playbook</p>\n</blockquote>\n\n<pre><code>  - name: ensure github.com is a known host\n    sudo: yes\n    lineinfile:\n      dest: /home/ubuntu/.ssh/known_hosts\n      create: yes\n      state: present\n      line: \"{{ lookup('pipe', 'ssh-keyscan -t rsa github.com') }}\"\n      regexp: \"^github\\\\.com\"\n</code></pre>\n\n<p>A detail explanation can be found <a href=\"http://jee-appy.blogspot.com/2015/11/avoid-host-key-checking-while-cloning.html\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 5951, "user_id": 3026618, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/42854c1bcd87a00e9da0ca5b84d73ef2?s=128&d=identicon&r=PG", "display_name": "Ajeet Khan", "link": "https://stackoverflow.com/users/3026618/ajeet-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 33524872, "answer_count": 2, "score": 4, "last_activity_date": 1452793258, "creation_date": 1446588674, "last_edit_date": 1446592829, "question_id": 33510053, "link": "https://stackoverflow.com/questions/33510053/bundle-install-hang-while-installing-private-gem-via-ansible-playbook", "title": "bundle install hang while installing private gem via ansible playbook", "body": "<p>I am trying to run <code>bundle install</code> on a remote host which uses gem from private repo. The task get hang because it stops to accept host key as I can't manually accept the key on the remote host as am running the ansible playbook locally. </p>\n\n<blockquote>\n  <p>Playbook task</p>\n</blockquote>\n\n<pre><code>  - name: bundle install\n    command: bundle install chdir={{ deploy_directory }}\n</code></pre>\n\n<p>How to test or add the github connection via the key file present on the remote host.</p>\n\n<p>I also tried to explicitly accept the key before bundle install by making a test connection to github via ssh.</p>\n\n<pre><code>  - name: test connection to git\n    command: ssh -vvv git@github.co key_file=/home/ubuntu/.ssh/id_rsa accept_hostkey=yes\n</code></pre>\n\n<p>Now This command is also getting hang.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ransack"], "comments": [{"owner": {"reputation": 13376, "user_id": 3357295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3PzYS.jpg?s=128&g=1", "display_name": "Doguita", "link": "https://stackoverflow.com/users/3357295/doguita"}, "edited": false, "score": 1, "creation_date": 1446587426, "post_id": 33509470, "comment_id": 54803012, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/19829848/rails-ransack-how-to-search-multiple-values\">Rails Ransack - How to search multiple values</a>"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1446587558, "post_id": 33509470, "comment_id": 54803090, "body": "Right now you are building Hash and with a Hash if the same key exists the new one overwrites the old one have you tried <code>http:&#47;&#47;localhost:3000&#47;fruit?&amp;q[type_eq_any][]=apples&amp;q[type_&zwnj;&#8203;eq_any][]=oranges</code> this should create something like <code>{type_eq_any: [&#39;apples&#39;,&#39;oranges&#39;]}</code>. I used <code>eq_any</code> because otherwise it will look for a type field that equals this array rather than its elements from my understanding."}, {"owner": {"reputation": 1801, "user_id": 1135515, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/21noA.png?s=128&g=1", "display_name": "Dan Tappin", "link": "https://stackoverflow.com/users/1135515/dan-tappin"}, "edited": false, "score": 0, "creation_date": 1446587744, "post_id": 33509470, "comment_id": 54803190, "body": "That&#39;s right - add that as an answer and will accept it.  The _any was also the key along with [].  I should have known that [] because it&#39;s like a checkbox form."}, {"owner": {"reputation": 1801, "user_id": 1135515, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/21noA.png?s=128&g=1", "display_name": "Dan Tappin", "link": "https://stackoverflow.com/users/1135515/dan-tappin"}, "edited": false, "score": 0, "creation_date": 1446587871, "post_id": 33509470, "comment_id": 54803268, "body": "It&#39;s sort of a duplicate.  If you use <code>_eq</code> it fails - you need <code>_eq_any</code>"}], "owner": {"reputation": 1801, "user_id": 1135515, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/21noA.png?s=128&g=1", "display_name": "Dan Tappin", "link": "https://stackoverflow.com/users/1135515/dan-tappin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446586883, "creation_date": 1446586366, "last_edit_date": 1446586883, "question_id": 33509470, "link": "https://stackoverflow.com/questions/33509470/adding-a-filter-with-ransack", "title": "Adding a filter with Ransack", "body": "<p>I am new to Ransack but I can't why I can't do this - I just can't figure out how.  I have a table of results.  I want to be able to filter them.  A simple drop down with checkboxes and the options for example:</p>\n\n<ul>\n<li>apples</li>\n<li>orange</li>\n<li>bananas</li>\n</ul>\n\n<p>I can build the drop down etc. and have it submit the get or post request I just can't figure out the format.  I tried:</p>\n\n<p><code>http://localhost:3000/fruit?&amp;q[type_eq]=apples&amp;q[type_eq]=oranges</code></p>\n\n<p>but all I get back is the oranges i.e. the last params request.  This was my guess.  I want apples or oranges returned.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1446586400, "post_id": 33509342, "comment_id": 54802479, "body": "When dealing with multiple conditions, try something like <code>case ([ player1, cpuplayer ])</code> and then branch out like <code>when [ 0, 1 ]</code> and so forth to handle the clauses. This reads a lot easier than a sprawling pile of <code>if</code> statements. Also watch out. <code>playerchoice = nil</code> is required earlier on, otherwise it assigns to the result of the <code>while</code>."}, {"owner": {"reputation": 183, "user_id": 3404525, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e7c7a4c732de5eb76162a7e46c1a016?s=128&d=identicon&r=PG&f=1", "display_name": "R2DeeTard", "link": "https://stackoverflow.com/users/3404525/r2deetard"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1446586905, "post_id": 33509342, "comment_id": 54802732, "body": "I looked at a piece of sample code while I was working on this that utilized what you explained. I will play around more with that in the future, but for now all I know how to do is if-then, but thank you for the feedback!"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1446590717, "post_id": 33509342, "comment_id": 54804633, "body": "There are some answers to <a href=\"http://stackoverflow.com/questions/32105234/drying-up-rock-paper-scissors\">this SO question</a> that you might find interesting."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1446593962, "post_id": 33509342, "comment_id": 54805895, "body": "Welcome to Stack Overflow. &quot;Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 3404525, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e7c7a4c732de5eb76162a7e46c1a016?s=128&d=identicon&r=PG&f=1", "display_name": "R2DeeTard", "link": "https://stackoverflow.com/users/3404525/r2deetard"}, "edited": false, "score": 0, "creation_date": 1446586459, "post_id": 33509428, "comment_id": 54802508, "body": "thank you! I was trying to use chomp earlier and was getting some error about a constant, I was just using it wrong it seems.  any idea about the conditionals?"}], "tags": [], "owner": {"reputation": 3930, "user_id": 4613236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wQZcm.jpg?s=128&g=1", "display_name": "Zoran", "link": "https://stackoverflow.com/users/4613236/zoran"}, "is_accepted": false, "score": 0, "last_activity_date": 1446586790, "last_edit_date": 1446586790, "creation_date": 1446586203, "answer_id": 33509428, "question_id": 33509342, "link": "https://stackoverflow.com/questions/33509342/rock-paper-scissors-game-in-ruby/33509428#33509428", "title": "Rock, paper, scissors game in Ruby", "body": "<p>Try assigning the <code>playerchoice</code> variable in the following way:</p>\n\n<pre><code>playerchoice = gets.chomp\n</code></pre>\n\n<p>The <code>#gets</code> method by itself will output any carriage returns that come with the user's input, which is why if you were to inspect the returned value for <code>playerchoice</code>, you'd see that instead of <code>\"n\"</code>, the value returned is actually <code>\"n\\n\"</code>, causing your comparison to resume looping the game. Calling <code>#chomp</code> on that value strips out the carriage return characters (\\n, \\r, \\r\\n), which should allow the game to end if \"n\" is typed in by the user.</p>\n\n<p>Hope it helps!</p>\n"}, {"comments": [{"owner": {"reputation": 183, "user_id": 3404525, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e7c7a4c732de5eb76162a7e46c1a016?s=128&d=identicon&r=PG&f=1", "display_name": "R2DeeTard", "link": "https://stackoverflow.com/users/3404525/r2deetard"}, "edited": false, "score": 0, "creation_date": 1446586831, "post_id": 33509518, "comment_id": 54802695, "body": "Thank you, that fixed the logic issue!"}], "tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": true, "score": 2, "last_activity_date": 1446587012, "last_edit_date": 1446587012, "creation_date": 1446586536, "answer_id": 33509518, "question_id": 33509342, "link": "https://stackoverflow.com/questions/33509342/rock-paper-scissors-game-in-ruby/33509518#33509518", "title": "Rock, paper, scissors game in Ruby", "body": "<p>In your input statement which is using <code>gets</code> you need to take into account the newline that is placed in the string, and the fact that it is a string. When the player is inputting it, it is coming in as text, not an integer. A simple way to do this is to make it an integer on input, via</p>\n\n<pre><code>player1 = gets.to_i\n</code></pre>\n\n<p>That will guarantee that the conditional logic you use to test against integers is not going to fail because you are comparing a string.</p>\n\n<p>The newline that is coming in with the <code>playerchoice</code> input needs get chomped to make that happy for comparison. So, there is another method to get rid of newlines.</p>\n\n<pre><code>playerchoice = gets.chomp\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 3404525, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e7c7a4c732de5eb76162a7e46c1a016?s=128&d=identicon&r=PG&f=1", "display_name": "R2DeeTard", "link": "https://stackoverflow.com/users/3404525/r2deetard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 33509518, "answer_count": 2, "score": 0, "last_activity_date": 1446607096, "creation_date": 1446585886, "last_edit_date": 1446607096, "question_id": 33509342, "link": "https://stackoverflow.com/questions/33509342/rock-paper-scissors-game-in-ruby", "title": "Rock, paper, scissors game in Ruby", "body": "<p>I am trying to get this program to run:</p>\n\n<pre><code>cpucount = 0\nplayercount = 0\ntiecount = 0\n\nplayerchoice = \n\nwhile playerchoice != \"n\" \n  puts \"Chose your Weapon. Paper (0), Rock (1), Scissors (2)\"\n  player1 = 0 #gets\n  cpuplayer = 2#rand(3)\n  puts player1\n  puts cpuplayer\n  if player1 == 0 and cpuplayer == 1\n    puts \"You Win\"\n    playercount +=1\n  elsif player1 == 1 and cpuplayer == 2\n    puts \"You Win!\"\n    playercount +=1\n  elsif player1 == 2 and cpuplayer == 0\n    puts \"You Win!\"\n    playercount +=1\n  elsif player1 == cpuplayer\n    puts \"You tied!\"\n    tiecount +=1\n  else\n    puts \"You lose\"\n    cpucount +=1\n  end\n  puts cpucount\n  puts playercount\n  puts tiecount\n  puts \"Do you want to play again? y/n?\"\n  playerchoice = gets\n  puts playerchoice\nend\n</code></pre>\n\n<p>but there are a few issues. </p>\n\n<p>First, regardless of whether I select <code>\"y\"</code> to continue to another round or <code>\"n\"</code> to quit, it still runs another round. </p>\n\n<p>Second, the logic is fine when I manually input the values for player1 and cpuplayer, but when I use the rand method and the user input, the program takes those and then the logic doesn't work.</p>\n\n<p>Any help would be appreciated.</p>\n"}]