[{"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 1, "creation_date": 1467849403, "post_id": 38235391, "comment_id": 63892818, "body": "could you post the action rendering the form, and your complete orders_controller.rb also the <code>ActionController::Parameters</code> in your log after submitting the form"}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 1, "creation_date": 1467850061, "post_id": 38235391, "comment_id": 63893003, "body": "A good place to start is always checking your <code>require&#47;permit</code> method. in this case it looks like it is named <code>order_params</code> - if you haven&#39;t included a field in that, then it will never be saved. If you can include your copy of that in your question, it&#39;d help us to see if that&#39;s the case."}, {"owner": {"reputation": 330, "user_id": 5660258, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NWOFV.png?s=128&g=1", "display_name": "Top Cat", "link": "https://stackoverflow.com/users/5660258/top-cat"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 1, "creation_date": 1467851234, "post_id": 38235391, "comment_id": 63893288, "body": "@TarynEast I checked my <code>require&#47;permit</code> method and indeed <code>:payment_type_id</code> was not there. I put it in and it has solved my issue. I&#39;m still very new to this language, thank you."}, {"owner": {"reputation": 1112, "user_id": 470032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b526f61beb28e87fa9145cd8d4eefa?s=128&d=identicon&r=PG", "display_name": "Paulo Abreu", "link": "https://stackoverflow.com/users/470032/paulo-abreu"}, "edited": false, "score": 2, "creation_date": 1467852934, "post_id": 38235391, "comment_id": 63893665, "body": "Hi @TopCat, usually you can spot that looking at rails logs, rails warns you about unpermitted parameters."}, {"owner": {"reputation": 330, "user_id": 5660258, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NWOFV.png?s=128&g=1", "display_name": "Top Cat", "link": "https://stackoverflow.com/users/5660258/top-cat"}, "reply_to_user": {"reputation": 1112, "user_id": 470032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b526f61beb28e87fa9145cd8d4eefa?s=128&d=identicon&r=PG", "display_name": "Paulo Abreu", "link": "https://stackoverflow.com/users/470032/paulo-abreu"}, "edited": false, "score": 0, "creation_date": 1467854012, "post_id": 38235391, "comment_id": 63893911, "body": "Thanks @PauloAbreu, I&#39;ll give the logs a proper look the next time I&#39;m having issues."}], "answers": [{"tags": [], "owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "is_accepted": true, "score": 1, "last_activity_date": 1467854998, "creation_date": 1467854998, "answer_id": 38236337, "question_id": 38235391, "link": "https://stackoverflow.com/questions/38235391/ruby-on-rails-rails-activerecord-object-not-receiving-parameters-from-form/38236337#38236337", "title": "Ruby on Rails Rails: ActiveRecord object not receiving parameters from form", "body": "<p>A good place to start is always checking your <code>require/permit</code> method. In this case it looks like it is named <code>order_params</code> - if you haven't included a field in that, then it will never be saved.</p>\n\n<p>As mentioned in another comment, you can also check if this is the case, by reading through your server logs - you will often get a message about Unpermitted params - these are the <code>params</code> being discarded. </p>\n\n<p>Sometimes it's because the fields in the form aren't quite named correctly, so they're not coming through the way you'd expect - again looking in the server logs is a good idea as it will tell you what params are coming through and what the structure of them is and thus you have a chance of fixing them.</p>\n\n<p>Here is a random example of a server log for a \"widget\" form and what it looks like when some of these errors occur:</p>\n\n<pre><code>Started POST \"/widgets\" for 127.0.0.1 at 2013-04-10 00:16:37 -0700\nProcessing by WidgetsController#create as HTML&lt;br&gt;\nParameters: {\"utf8\"=&gt;\"\u2713\", \n\"authenticity_token\"=&gt;\"ipxBOLOjx68fwvfmsMG3FecV/q/hPqUHsluBCPN2BeU=\",\n \"widget\"=&gt;{\"name\"=&gt;\"Widget 1\", \"colour\"=&gt;\"Blue\"}, \"size\"=&gt;\"large\"\n}\nUnpermitted parameters: colour\n</code></pre>\n\n<p>In this example: the \"size\" property is not correctly placed as being a parameter for a widget... also the \"colour\" property is being rejected.\nSo you'd say that you need to add \"colour\" to the <code>require/permit</code> section, and move the <code>size</code> field so that it is properly inside the widget-form.</p>\n"}], "owner": {"reputation": 330, "user_id": 5660258, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NWOFV.png?s=128&g=1", "display_name": "Top Cat", "link": "https://stackoverflow.com/users/5660258/top-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 38236337, "answer_count": 1, "score": 0, "last_activity_date": 1467854998, "creation_date": 1467847548, "question_id": 38235391, "link": "https://stackoverflow.com/questions/38235391/ruby-on-rails-rails-activerecord-object-not-receiving-parameters-from-form", "title": "Ruby on Rails Rails: ActiveRecord object not receiving parameters from form", "body": "<p>I've been working through \"Agile Web Development with Rails\" and have come across an issue.</p>\n\n<p>I've been having issues with saving/retrieving data selected from a drop down menu. I have possible payment methods stored in a database table, and I have a drop down menu to select the desired payment method.</p>\n\n<pre><code>&lt;div class=\"field\"&gt;\n    &lt;%= f.label :payment_type_id %&gt;&lt;br&gt;\n    &lt;%= f.select :payment_type_id, options_from_collection_for_select(@payment_types,:id,:method), prompt: 'Select Payment Method'%&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My \"create\" action in the Orders controller</p>\n\n<pre><code>def create\n   @order = Order.new(order_params)\n   @order.add_line_items_from_cart(current_cart)\n   respond_to do |format|\n      if @order.save\n         Cart.destroy(session[:cart_id])\n         session[:cart_id] = nil\n         OrderNotifier.received(@order).deliver\n         format.html { redirect_to store_url, notice: 'Order has been placed' }\n</code></pre>\n\n<p>Everything gets saved apart from the payment_type_id foreign key, I know this because I've looked in the tables.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ruby", "yaml", "multiple-value"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1467849273, "post_id": 38235382, "comment_id": 63892778, "body": "It really helps us if you&#39;ll strip the IRB output to only show the expressions and their output, not the IRB prompts. A lot of us use &quot;Seeing Is Believing&quot; in our editors, which makes it really easy to selectively show IRB-like output, without the noise. Keeping the code clean helps us help you."}, {"owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1467908624, "post_id": 38235382, "comment_id": 63922254, "body": "@theTinMan Will do from now on"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "edited": false, "score": 0, "creation_date": 1467848368, "post_id": 38235505, "comment_id": 63892532, "body": "How does it have nothing to do with YAML if it comes from a YAML file?"}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "reply_to_user": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "edited": false, "score": 1, "creation_date": 1467848434, "post_id": 38235505, "comment_id": 63892549, "body": "The array can come from anywhere. You have nothing wrong in parsing YAML."}, {"owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "edited": false, "score": 0, "creation_date": 1467848665, "post_id": 38235505, "comment_id": 63892609, "body": "Cool. Thanks for the answer!"}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "reply_to_user": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "edited": false, "score": 1, "creation_date": 1467848760, "post_id": 38235505, "comment_id": 63892632, "body": "Glad you like it :)"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1467849131, "post_id": 38235505, "comment_id": 63892744, "body": "&quot;How does it have nothing to do with YAML if it comes from a YAML file?&quot; When asking/debugging, it&#39;s really important to look at the flow of the data through the program, and only tag/ask about the parts that directly affect the program and question. Just because YAML was used <i>somewhere</i> doesn&#39;t mean it&#39;s implicated as part of the problem, just as the disk that held the file wasn&#39;t involved nor was the CPU. Instead, at the point of the problem/question the YAML has been parsed into an hash of hashes of arrays, and is no longer involved and we&#39;re only concerned about the HoHoA."}], "tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": true, "score": 1, "last_activity_date": 1467848298, "creation_date": 1467848298, "answer_id": 38235505, "question_id": 38235382, "link": "https://stackoverflow.com/questions/38235382/output-all-values-of-a-yaml-file-key-with-formatting/38235505#38235505", "title": "Output all values of a yaml file key with formatting", "body": "<p>Your question has nothing to do with YAML at all. It's all about how to print out an array with index.</p>\n\n<pre><code>%w(foo bar baz).each.with_index(1) do |str, i|\n  puts \"#{i}. #{str}\"\nend\n</code></pre>\n\n<p>or</p>\n\n<pre><code>puts %w(foo bar baz).each.with_index(1).map{|str, i| \"#{i}. #{str}\"}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 38235505, "answer_count": 1, "score": 0, "last_activity_date": 1467848298, "creation_date": 1467847475, "last_edit_date": 1467848048, "question_id": 38235382, "link": "https://stackoverflow.com/questions/38235382/output-all-values-of-a-yaml-file-key-with-formatting", "title": "Output all values of a yaml file key with formatting", "body": "<p>I have a yaml file that has multiple values for a couple of keys:</p>\n\n<pre><code>inbox:\n  mary:\n          - '-MD-C-LAUREL-ADMIN'\n          - '-MD-E-BALTIMORE-ADMIN'\n          - '-MD-R1-CAMBRIDGE-ADMIN'\n          - '-MD-R2-BELAIR-ADMIN'\n          - '-MD-R4-LAUREL-ADMIN'\n          - '-MD-R5-HAGERSTWN-ADMIN'\n  mike:\n          - '-VA-E-Richmond-Admin'\n          - '-VA-Richmond-Admin'\n          - '-VA-Manassas-Admin'\n          - '-VA-Norfolk-Admin'\n          - '-VA-Roanoke-Admin'\n          - '-VA-Verona-Admin'\n  max: '-ATLANTA-RO-ADMIN'\n</code></pre>\n\n<p>YAML file 'test.yml'</p>\n\n<pre><code>POC = YAML.load_file('test.yml')    \n\ndef get_info(name)\n  POC['inbox'][name.downcase].nil? ? \"** #{name} IS NOT POC **\" : POC['inbox'][name.downcase]\nend\n</code></pre>\n\n<p>What I want to do is output all those keys with some sort of formatting, for example when this is run:</p>\n\n<pre><code>irb(main):003:0&gt; require 'yaml'\n=&gt; true\nirb(main):004:0&gt; POC = YAML.load_file('test.yml')\n=&gt; {\"inbox\"=&gt;{\"mary\"=&gt;[\"-MD-C-LAUREL-ADMIN\", \"-MD-E-BALTIMORE-ADMIN\", \"-MD-R1-CAMBRIDG\nE-ADMIN\", \"-MD-R2-BELAIR-ADMIN\", \"-MD-R4-LAUREL-ADMIN\", \"-MD-R5-HAGERSTWN-ADMIN\"], \"mi\nke\"=&gt;[\"-VA-E-Richmond-Admin\", \"-VA-Richmond-Admin\", \"-VA-Manassas-Admin\", \"-VA-Norfolk\n-Admin\", \"-VA-Roanoke-Admin\", \"-VA-Verona-Admin\"]}}\nirb(main):005:0&gt;     def get_info(name)\n&lt; \"** #{name} IS NOT POC **\" : POC['inbox'][name.downcase]\nirb(main):007:1&gt;     end\n=&gt; :get_info\nirb(main):008:0&gt; get_info('mary')\n=&gt; [\"-MD-C-LAUREL-ADMIN\", \"-MD-E-BALTIMORE-ADMIN\", \"-MD-R1-CAMBRIDGE-ADMIN\", \"-MD-R2-B\nELAIR-ADMIN\", \"-MD-R4-LAUREL-ADMIN\", \"-MD-R5-HAGERSTWN-ADMIN\"]\nirb(main):009:0&gt;\n</code></pre>\n\n<p>The expected output of this would be:</p>\n\n<pre><code>Possibly one of the following inboxes: \n1. -MD-C-LAUREL-ADMIN\n2. -MD-E-BALTIMORE-ADMIN\n3. -MD-R1-CAMBRIDGE-ADMIN\n4. -MD-R2-BELAIR-ADMIN\n5. -MD-R4-LAUREL-ADMIN\n6. -MD-R5-HAGERSTWN-ADMIN\n</code></pre>\n\n<p>How can I go about outputting the information inside the array with numbers to match IF there is more than one value?</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467849131, "post_id": 38235161, "comment_id": 63892745, "body": "What do you expect to happen? The SPAN element to no longer be visible or the text to change or the text to disappear or ?"}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467849161, "post_id": 38235161, "comment_id": 63892753, "body": "@JeffC The text inside the span to change"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1467849468, "post_id": 38235161, "comment_id": 63892836, "body": "Please reread your question and clean up the text so it says what you intend it to mean. You&#39;re missing punctuation and words. Grammar is important on SO as we&#39;re building an online reference book so your effort and help is useful. Reading &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;, especially the linked pages, will help you understand the site."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1467849720, "post_id": 38235161, "comment_id": 63892905, "body": "@theTinMan I fixed it... it wasn&#39;t that bad."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467849737, "post_id": 38235161, "comment_id": 63892912, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/25647278/selenium-webdriver-wait-for-button-text-to-change\">Selenium Webdriver wait for button text to change</a>"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 1, "creation_date": 1467849839, "post_id": 38235161, "comment_id": 63892935, "body": "I think accepted answer in that question might help with your question. As to the InvisibilityOfElementWithText() method, it&#39;s looking for an element to go invisible or to be removed. I don&#39;t think that&#39;s what you want here because you are expecting the element to persist but the text contained in it to change."}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467869386, "post_id": 38235161, "comment_id": 63897150, "body": "@JeffC The answers in that question on stackoverflow question does not work in my question because I do not know what the span will change to. The accepted answer in there assumes you know what it changes to. All I know is the current text, not what it will change to."}], "answers": [{"comments": [{"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467898796, "post_id": 38238216, "comment_id": 63915143, "body": "PageSource? That&#39;s not very specific and a sec between pollings is kinda long."}, {"owner": {"reputation": 2502, "user_id": 2551349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PvZPF.png?s=128&g=1", "display_name": "Leon Barkan", "link": "https://stackoverflow.com/users/2551349/leon-barkan"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467899047, "post_id": 38238216, "comment_id": 63915337, "body": "you can make it more spesific by driver.FindElement(By.xpath(&quot;//span[contains(text(),&#39;I Will Change&#39;)]&quot;).Count &gt; 0) , the idea is until the element exist stay in loop"}], "tags": [], "owner": {"reputation": 2502, "user_id": 2551349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PvZPF.png?s=128&g=1", "display_name": "Leon Barkan", "link": "https://stackoverflow.com/users/2551349/leon-barkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1467870045, "creation_date": 1467870045, "answer_id": 38238216, "question_id": 38235161, "link": "https://stackoverflow.com/questions/38235161/how-to-wait-for-the-text-of-table-row-to-change/38238216#38238216", "title": "How to wait for the text of table row to change?", "body": "<p>I'm not ruby developer but i think that the idea needs to be something like:</p>\n\n<pre><code>while(driver.PageSource.Equals(\"I Will Change\"))\n{\n   sleep(1000)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 0, "last_activity_date": 1467899225, "creation_date": 1467899225, "answer_id": 38247185, "question_id": 38235161, "link": "https://stackoverflow.com/questions/38235161/how-to-wait-for-the-text-of-table-row-to-change/38247185#38247185", "title": "How to wait for the text of table row to change?", "body": "<p>I don't think there's a way to do this using <code>ExpectedConditions</code>. The text related methods are all related to finding text not for waiting for text to change. In Java there is <code>FluentWait</code> but I can't find any reference to it for Ruby. <code>FluentWait</code> allows you to write a custom wait so that you could wait for the current element with the current text to return false which would signal a text change. Other than that, you would have to implement it yourself. I don't know Ruby but the pseudocode would be like</p>\n\n<pre><code>timeout = 20 // seconds\nwhile (element.text == \"I Will Change\" and timeElapsed &lt; timeout)\n{\n    sleep(100)\n}\n</code></pre>\n\n<p>Make sure you add the timeout to the code above if you implement it yourself. You don't want the expected text to be slightly off and the script get stuck and never finish.</p>\n\n<p>As to the <code>InvisibilityOfElementWithText()</code> method, it's looking for an element to go invisible or to be removed. I don't think that's what you want here because you are expecting the element to persist but the text contained in it to change.</p>\n"}], "owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1467899225, "creation_date": 1467846058, "last_edit_date": 1467869414, "question_id": 38235161, "link": "https://stackoverflow.com/questions/38235161/how-to-wait-for-the-text-of-table-row-to-change", "title": "How to wait for the text of table row to change?", "body": "<p>I have the HTML below:</p>\n\n<pre><code> &lt;tbody&gt;\n   &lt;tr&gt;\n     &lt;td&gt;\n       &lt;span&gt;\n          &lt;span&gt; I Will Change &lt;/span&gt;\n       &lt;/span&gt;\n</code></pre>\n\n<p>I am trying to figure out when the text inside of the span changes and store the new text in a variable. This is what I tried:</p>\n\n<pre><code> waitForClick = wait.until {\n      newText = ExpectedConditions.invisibilityOfElementWithText(xpath, //path for the span with the text\n }\n</code></pre>\n\n<p>This produces a syntax error and I am not sure how to use the invisibilityOfelementswithText. How could I use this in Ruby and what is the best way to notice a change of text? I do not know what the text will change to so I cannot have a wait.until either</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sublimetext3"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1467845289, "post_id": 38235019, "comment_id": 63891602, "body": "Sublime has a &quot;reload folders&quot; button. See <a href=\"http://stackoverflow.com/questions/28051492/how-to-force-folder-refresh-in-sublime-when-project-refresh-doesnt-work\">how-to-force-folder-refresh-in-sublime-when-project-refresh-&zwnj;&#8203;doesnt-work</a>"}, {"owner": {"reputation": 1019, "user_id": 5587988, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207118714582472/picture?type=large", "display_name": "DaudiHell", "link": "https://stackoverflow.com/users/5587988/daudihell"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1467845549, "post_id": 38235019, "comment_id": 63891679, "body": "it not working, I&#180;m starting to think it might have something to do with naming of the folder, but that&#39;s just a quess"}], "answers": [{"comments": [{"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 1, "creation_date": 1467847478, "post_id": 38235162, "comment_id": 63892293, "body": "Does Sublime perhaps know about the old <a href=\"http://savannah.nongnu.org/projects/cvs\" rel=\"nofollow noreferrer\">CVS</a> revision control system?"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 1, "creation_date": 1467859189, "post_id": 38235162, "comment_id": 63895009, "body": "Check the configuration settings for something about &quot;ignore these files&quot; or &quot;invisible files&quot;. I don&#39;t know Sublime but the &quot;cvs&quot; name is awfully suspicious."}], "tags": [], "owner": {"reputation": 1019, "user_id": 5587988, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207118714582472/picture?type=large", "display_name": "DaudiHell", "link": "https://stackoverflow.com/users/5587988/daudihell"}, "is_accepted": false, "score": 0, "last_activity_date": 1467846060, "creation_date": 1467846060, "answer_id": 38235162, "question_id": 38235019, "link": "https://stackoverflow.com/questions/38235019/not-seeing-folders-in-view-folder-in-rails-app-after-scaffold/38235162#38235162", "title": "Not seeing folders in view folder in Rails app after scaffold", "body": "<p>Ok it seems to be solved, if I rename the folder in finder from cvs to resume then it appears in sublime. But if I rename it again to cvs then it disappear from the view folder. So my conclusion is that this is happening because of the folder naming. </p>\n"}, {"tags": [], "owner": {"reputation": 89490, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 1, "last_activity_date": 1468007161, "creation_date": 1468007161, "answer_id": 38274334, "question_id": 38235019, "link": "https://stackoverflow.com/questions/38235019/not-seeing-folders-in-view-folder-in-rails-app-after-scaffold/38274334#38274334", "title": "Not seeing folders in view folder in Rails app after scaffold", "body": "<p>Sublime's default settings file contains the following:</p>\n\n<pre><code>\"folder_exclude_patterns\": [\".svn\", \".git\", \".hg\", \"CVS\"],\n</code></pre>\n\n<p>Since they default OS X file system is not case-sensitive, it will block any folder named <code>[Cc][Vv][Ss]</code> from being shown. To change this, open your user settings (<strong><code>Sublime Text \u2192 Preferences \u2192 Settings\u2014User</code></strong>) and add the line from above, only removing <code>, \"CVS\"</code> part. Save the file, and you'll be all set.</p>\n\n<p>Alternatively, if you don't want <em>any</em> folders to be blocked, use this in your user settings:</p>\n\n<pre><code>\"folder_exclude_patterns\": []\n</code></pre>\n"}], "owner": {"reputation": 1019, "user_id": 5587988, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207118714582472/picture?type=large", "display_name": "DaudiHell", "link": "https://stackoverflow.com/users/5587988/daudihell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 38274334, "answer_count": 2, "score": 0, "last_activity_date": 1468007161, "creation_date": 1467845188, "question_id": 38235019, "link": "https://stackoverflow.com/questions/38235019/not-seeing-folders-in-view-folder-in-rails-app-after-scaffold", "title": "Not seeing folders in view folder in Rails app after scaffold", "body": "<p>I have never had this problem before. I just generated a new scaffold in rails called Cv.  I\u00b4m using sumblime 3</p>\n\n<p>It went all very nicely and I can see all related folders in sublime 3 such as <code>controllers/cvs_controller.rb</code>, <code>models/cv.rb</code>, I can even put <code>root 'cvs#index'</code>in my config file and the routing works. But I can't see my views/cvs` folder in sublime, as the screenshot below can tell the cvs folder is in the views folder but I can\u00b4t see it in my sublime view.</p>\n\n<p>I have restarted sublime and opened the app folder again but nothing happens, I can\u00b4t drag it to the view folder in sublime.</p>\n\n<p>Have anyone experienced this? </p>\n\n<p><a href=\"https://i.stack.imgur.com/wEL31.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wEL31.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 4206, "user_id": 1329461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/meIoL.png?s=128&g=1", "display_name": "Leantraxxx", "link": "https://stackoverflow.com/users/1329461/leantraxxx"}, "edited": false, "score": 0, "creation_date": 1467844701, "post_id": 38234880, "comment_id": 63891409, "body": "what are you using for authentication? are you using <a href=\"https://github.com/plataformatec/devise\" rel=\"nofollow noreferrer\">github.com/plataformatec/devise</a>?"}, {"owner": {"reputation": 3521, "user_id": 2521680, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6D935.jpg?s=128&g=1", "display_name": "Rockwell Rice", "link": "https://stackoverflow.com/users/2521680/rockwell-rice"}, "reply_to_user": {"reputation": 4206, "user_id": 1329461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/meIoL.png?s=128&g=1", "display_name": "Leantraxxx", "link": "https://stackoverflow.com/users/1329461/leantraxxx"}, "edited": false, "score": 0, "creation_date": 1467844825, "post_id": 38234880, "comment_id": 63891440, "body": "No I was working off of the Hartl Ruby on rails tutorial."}, {"owner": {"reputation": 4206, "user_id": 1329461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/meIoL.png?s=128&g=1", "display_name": "Leantraxxx", "link": "https://stackoverflow.com/users/1329461/leantraxxx"}, "edited": false, "score": 0, "creation_date": 1467844926, "post_id": 38234880, "comment_id": 63891462, "body": "You need a gem like devise to have a <code>current_user</code>. Maybe you can implement your own but I think It&#39;s like reinventing the wheel."}, {"owner": {"reputation": 4206, "user_id": 1329461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/meIoL.png?s=128&g=1", "display_name": "Leantraxxx", "link": "https://stackoverflow.com/users/1329461/leantraxxx"}, "edited": false, "score": 0, "creation_date": 1467844971, "post_id": 38234880, "comment_id": 63891484, "body": "is the logged user what you want, right?"}, {"owner": {"reputation": 3521, "user_id": 2521680, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6D935.jpg?s=128&g=1", "display_name": "Rockwell Rice", "link": "https://stackoverflow.com/users/2521680/rockwell-rice"}, "reply_to_user": {"reputation": 4206, "user_id": 1329461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/meIoL.png?s=128&g=1", "display_name": "Leantraxxx", "link": "https://stackoverflow.com/users/1329461/leantraxxx"}, "edited": false, "score": 0, "creation_date": 1467845000, "post_id": 38234880, "comment_id": 63891491, "body": "Ya information for the logged in user"}, {"owner": {"reputation": 4206, "user_id": 1329461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/meIoL.png?s=128&g=1", "display_name": "Leantraxxx", "link": "https://stackoverflow.com/users/1329461/leantraxxx"}, "edited": false, "score": 1, "creation_date": 1467845157, "post_id": 38234880, "comment_id": 63891541, "body": "I suggest you to use devise"}], "answers": [{"comments": [{"owner": {"reputation": 3521, "user_id": 2521680, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6D935.jpg?s=128&g=1", "display_name": "Rockwell Rice", "link": "https://stackoverflow.com/users/2521680/rockwell-rice"}, "edited": false, "score": 0, "creation_date": 1467845469, "post_id": 38234997, "comment_id": 63891654, "body": "I am curious why this got marked down, is it a bad answer in some way?"}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1467847714, "post_id": 38234997, "comment_id": 63892357, "body": "I guess it was due to the implementation of <code>current_user</code>. You accesses database each time <code>current_user</code> is called. P.S. It wasn&#39;t me who voted down your answer."}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467847872, "post_id": 38234997, "comment_id": 63892393, "body": "Great answer, but some corrections for posterity 1. Do not go the way of <code>define_current_user</code>, it&#39;s counter-productive in my opinion. If you want to assign <code>@current_user</code>, change the current_user method to this: <code>def current_user; @current_user ||= User.find(session[&#39;current_user_id&#39;]); end</code>. 2. Don&#39;t use the <code>find_by id:</code> approach, calling the current_user should expose the current_user not fail silently(by returning <code>nil</code>). 3. Note that different libraries have their ways of setting the current_user, if you&#39;re using devise, you don&#39;t need to do this setting anymore"}], "tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": true, "score": 0, "last_activity_date": 1467845374, "last_edit_date": 1467845374, "creation_date": 1467845094, "answer_id": 38234997, "question_id": 38234880, "link": "https://stackoverflow.com/questions/38234880/how-to-get-user-id-in-ruby-on-rails-app-views/38234997#38234997", "title": "How to get user id in ruby on rails app views", "body": "<p>If you're going to access any instance variable in a view, you need to define it first (either in a controller or in the view).</p>\n\n<p>Depending on how you have auth set up, you probably have a <code>current_user</code> method somewhere.</p>\n\n<p>It could be defined in ApplicationController (which has functionality shared by all controllers);</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  def current_user\n    User.find_by id: session[\"current_user_id\"]\n    # or whatever\n  end\n  helper_method :current_user\nend\n</code></pre>\n\n<p>The <code>helper_method</code> line makes it accessible in your views, so you can write <code>&lt;%= current_user.id %&gt;</code>.</p>\n\n<p>You could also write some code so that the <code>@current_user</code> instance variable is available in all your views:</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  before_action :define_current_user\n  def define_current_user\n    @current_user = current_user # call the 'current_user' method defined elsewhere\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 3521, "user_id": 2521680, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6D935.jpg?s=128&g=1", "display_name": "Rockwell Rice", "link": "https://stackoverflow.com/users/2521680/rockwell-rice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "accepted_answer_id": 38234997, "answer_count": 1, "score": 0, "last_activity_date": 1467845374, "creation_date": 1467844370, "question_id": 38234880, "link": "https://stackoverflow.com/questions/38234880/how-to-get-user-id-in-ruby-on-rails-app-views", "title": "How to get user id in ruby on rails app views", "body": "<p>In laravel I am use to having </p>\n\n<pre><code>Auth::user()-&gt;id \n</code></pre>\n\n<p>which I can reference for setting up data-id's or something in views.  I am working in a ruby on rails app and cannot for the life of me find an answer to how to achieve this in rails.  I found a lot of answers talking about current_user but I cannot get any data in the view.</p>\n\n<p>To be clear what I am try to set up exactly is</p>\n\n<pre><code>&lt;a href=\"/chapters/&lt;%= chapter.id%&gt;\" data-user-id=\"&lt;%= @current_user.id %&gt;\"&gt; Enroll &lt;/a&gt;\n</code></pre>\n\n<p>Here the \"current_user.id\" would be that users id. With the code above (and any variation of it I can think of) I am getting nothing, no errors but no data either. Do I really have to set this up in every controller method to access it somehow?  Does anyone have a solution to this that they can point me towards?</p>\n\n<p>Thanks so much for any help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "activerecord"], "comments": [{"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467846930, "post_id": 38234817, "comment_id": 63892125, "body": "a client can have many adminstrators right?"}], "answers": [{"tags": [], "owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1467847169, "creation_date": 1467847169, "answer_id": 38235341, "question_id": 38234817, "link": "https://stackoverflow.com/questions/38234817/rails-4-2-has-many-through/38235341#38235341", "title": "Rails 4.2 has_many through", "body": "<p>I believe here is what you're looking for, please namespace appropriately:</p>\n\n<pre><code>class User\n  has_many :clients_users\n  has_many :clients, through: :clients_users\nend\n\nclass Client\n    has_many :clients_users\n    has_many :administrators, through: :clients_users, source: :user\n    validates :adminstrators, presence: true # I think this should ensure at least one admin\nend\n\nclass ClientsUser\n    belongs_to :client\n    belongs_to :user\nend\n\n\n\nClient.first.administrators # fetch all adminstrators\nClient.first.adminstrators &lt;&lt; User.first # add an administrator\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user238638"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467847169, "creation_date": 1467844041, "last_edit_date": 1495542780, "question_id": 38234817, "link": "https://stackoverflow.com/questions/38234817/rails-4-2-has-many-through", "title": "Rails 4.2 has_many through", "body": "<h1>Problem</h1>\n\n<p>I have two models a <code>client</code> and a <code>user</code>.</p>\n\n<p>A <code>client</code> can have many <code>administrators</code> and a <code>user</code> can be the <code>administrator</code> of many <code>clients</code>.</p>\n\n<p>I found a <a href=\"http://blog.flatironschool.com/why-you-dont-need-has-and-belongs-to-many/\" rel=\"nofollow noreferrer\">couple</a> of <a href=\"https://stackoverflow.com/questions/2780798/has-and-belongs-to-many-vs-has-many-through\">people</a> that suggest using <code>has_many :through</code> is the better way to model this relationship in my situation versus <code>has_and_belongs_to_many</code>.</p>\n\n<h3>User model</h3>\n\n<pre><code>class V1::User &lt; ActiveRecord::Base\n  has_many :administrators,\n    class_name: 'V1::ClientAdministrator'\n\n  has_many :clients,\n    through: :administrators\n    class_name: 'V1::Clients'\n</code></pre>\n\n<h3>Client model</h3>\n\n<pre><code>class V1::Client &lt; ActiveRecord::Base\n\n  has_many :users,\n    class_name: \"V1::User\"\n\n  has_many :administrators,\n    through: :users,\n    class_name: \"V1::ClientAdministrator\"\n\n  validates :administrators,\n    length: { minimum: 1}\n</code></pre>\n\n<h3>ClientAdministrator model</h3>\n\n<pre><code>class V1::ClientAdministrator &lt; ActiveRecord::Base\n  belongs_to :v1_user\n  belongs_to :v1_client\nend\n</code></pre>\n\n<h3>Demo using <code>rails c</code></h3>\n\n<pre><code>u = V1::User.create!(name: 'test_user')\nc = V1::Client.new(name: 'test_client')\nc.administrators &lt;&lt; u\nActiveRecord::AssociationTypeMismatch: V1::ClientAdministrator(#70347494104080) expected, got V1::User(#70347494299440)\n</code></pre>\n\n<p>Before switching to <code>has_many :through</code> I was successfully using <code>has_and_belongs_to_many</code>:</p>\n\n<pre><code>class V1::Client &lt; ActiveRecord::Base\n\n  has_and_belongs_to_many :administrators,\n   -&gt; { uniq },\n   join_table: :v1_client_administrators,\n   foreign_key: \"v1_client_id\",\n   association_foreign_key: \"v1_user_id\",\n   class_name: \"V1::User\"\n</code></pre>\n\n<p>The problem with this approach was I was not able to do any validation on the association such as before_destroy make sure there is still one administrator. Additionally, it's likely that I'll add metadata to that relationship in the future.</p>\n\n<hr/>\n\n<h1>The ASK</h1>\n\n<ul>\n<li>How can I get / set the <code>administrators</code> of the <code>client</code>?</li>\n<li>Is there any way that <code>client.administrators</code> would be an array of users instead of forcing me to <code>client.administrators.each { |admin| admin.user}</code> to get access to the user? (If I eventually add metadata this probably can't doesn't make sense)</li>\n<li>Is there a way to restrict the use of <code>client.users</code> in favor of <code>client.administrators</code>?</li>\n<li>Do model concerns help here?</li>\n<li>Is this the right approach for ensuring there is always at least one <code>administrator</code>?</li>\n</ul>\n"}, {"tags": ["javascript", "ruby-on-rails", "angularjs", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": false, "score": 0, "last_activity_date": 1467852330, "creation_date": 1467852330, "answer_id": 38236023, "question_id": 38234815, "link": "https://stackoverflow.com/questions/38234815/rails-angular-no-route-matches-get/38236023#38236023", "title": "Rails/Angular: No route matches [GET]", "body": "<p>Modify your routes.rb as follow:</p>\n\n<pre><code>Rails.application.routes.draw do\n\n  # ...\n\n  # get 'users/raffle' =&gt; 'users#raffle'  &lt;-- remove this line\n  resources :users do\n    get :raffle, on: :collection\n  end\n\n  #...\n\nend\n</code></pre>\n"}], "owner": {"reputation": 346, "user_id": 5331859, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8ddfcdd5d8fc6e4d7cebc17d48a19600?s=128&d=identicon&r=PG&f=1", "display_name": "zasman", "link": "https://stackoverflow.com/users/5331859/zasman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467852330, "creation_date": 1467844028, "question_id": 38234815, "link": "https://stackoverflow.com/questions/38234815/rails-angular-no-route-matches-get", "title": "Rails/Angular: No route matches [GET]", "body": "<p>I have been following the Railscast raffler tutorial and am trying to create a new view in my users controller which will use Angular to display a list of all users with the role of \"user\" from the user table (I haven't implemented this yet), and then randomly select one of them to become winner (a winner field will be boolean checked to true). At the moment, I have decided to add a new method in the users controller, \"raffle\", and of course a corresponding view to show this. However, when I open users/raffle, I get the following error, and I seem to have followed the proper way of defining a route before resources:</p>\n\n<pre><code>No route matches [GET] \"/raffle\"\n</code></pre>\n\n<p>(Perhaps there are more optimal ways to do this, but my request is that I please use angular to achieve this because I really need to learn it.)</p>\n\n<p>Here is my routes.rb:</p>\n\n<pre><code>Rails.application.routes.draw do\n\n  resources :scholarships\n  devise_for :users, :controllers =&gt; { registrations: 'registrations' }\n  get 'users/raffle' =&gt; 'users#raffle'\n  resources :users\n\n  get 'static_pages/instructions'\n\n  get 'static_pages/about'\n\n  get 'static_pages/contact'\n\n  get 'static_pages/landing_page'\n\n  root 'static_pages#landing_page'\n\nend\n</code></pre>\n\n<p>Here is my users controller:</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n  include Devise::Controllers::Helpers\n  before_action :authenticate_user!\n  #Users who are not signed in cannot view users list\n  before_action :set_user, only: [:show, :edit, :update, :destroy]\n  load_and_authorize_resource\n  respond_to :html, :json, only: [:raffle]\n\n  # GET /users\n  # GET /users.json\n  def index\n    @users = User.all\n  end\n\n  def raffle\n  end\n\n  # GET /users/1\n  # GET /users/1.json\n  def show\n  end\n\n  # GET /users/new\n  def new\n    @user = User.new\n  end\n\n  # GET /users/1/edit\n  def edit\n    @user = current_user\n  end\n\n  # POST /users\n  # POST /users.json\n  def create\n    @user = User.new(user_params)\n\n    respond_to do |format|\n      if @user.save\n        format.html { redirect_to @user, notice: 'User was successfully created.' }\n        format.json { render :show, status: :created, location: @user }\n      else\n        format.html { render :new }\n        format.json { render json: @user.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PATCH/PUT /users/1\n  # PATCH/PUT /users/1.json\n  def update\n    respond_to do |format|\n      if @user.update(user_params)\n        format.html { redirect_to @user, notice: 'User was successfully updated.' }\n        format.json { render :show, status: :ok, location: @user }\n      else\n        format.html { render :edit }\n        format.json { render json: @user.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /users/1\n  # DELETE /users/1.json\n  def destroy\n    @user.destroy\n    respond_to do |format|\n      format.html { redirect_to users_url, notice: 'User was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_user\n      @user = User.find(params[:id])\n    end\n\n    #Never trust paramaters from the scary internet, man.\n    def user_params\n      params.require(:user).permit(:first_name, :last_name, :email)\n    end\nend\n</code></pre>\n\n<p>My javascript file with angular:</p>\n\n<pre><code>var rafflerApp = angular.module('rafflerApp', [\"ngResource\"]);\n\nrafflerApp.controller('rafflerController', function($scope, $resource) {\n        User = $resource(\"/users/:id\", {id: \"@id\"},{update: {method: \"PUT\"}})\n        $scope.users = User.query()\n\n        //Draw a New Winner\n        $scope.drawWinner = function(){\n            pool=[];\n            angular.forEach($scope.users,function(user){\n                if(!user.winner){\n                    pool.push(user) ;\n                }\n            });\n            if(pool.length &gt;0) {\n                user = pool[Math.floor(Math.random()*pool.length)];\n                user.winner = true;\n                user.$update();\n                $scope.lastWinner = user;\n            }\n        }\n\n});\n</code></pre>\n\n<p>My raffle.html.erb file:</p>\n\n<pre><code>&lt;% if user_signed_in? &amp;&amp; current_user.role == \"Admin\" %&gt;\n\n    &lt;h1 class=\"center\"&gt;Winner Raffler&lt;/h1&gt;\n    &lt;h4 class=\"center\"&gt;To select a winner for this year's scholarship, simply click \"choose winner\" below&lt;/h4&gt;\n\n    &lt;div ng-controller=\"rafflerController\"&gt; \n        &lt;ul&gt;\n            &lt;li ng-repeat=\"user in users\"&gt;\n                {{user.first_name}}\n                &lt;span ng-show=\"user.winner\"&gt;Winner&lt;/span&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n\n    &lt;/div&gt;\n&lt;button ng-click=\"drawWinner()\"&gt;Draw Winner&lt;/button&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Users schema:</p>\n\n<pre><code>  create_table \"users\", force: :cascade do |t|\n    t.string   \"first_name\"\n    t.string   \"last_name\"\n    t.datetime \"created_at\",                             null: false\n    t.datetime \"updated_at\",                             null: false\n    t.string   \"email\",                  default: \"\",    null: false\n    t.string   \"encrypted_password\",     default: \"\",    null: false\n    t.string   \"reset_password_token\"\n    t.datetime \"reset_password_sent_at\"\n    t.datetime \"remember_created_at\"\n    t.integer  \"sign_in_count\",          default: 0,     null: false\n    t.datetime \"current_sign_in_at\"\n    t.datetime \"last_sign_in_at\"\n    t.inet     \"current_sign_in_ip\"\n    t.inet     \"last_sign_in_ip\"\n    t.integer  \"role\",                   default: 1\n    t.boolean  \"winner\",                 default: false\n    t.integer  \"scholarship_id\"\n  end\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "exception", "parameters", "rescue"], "answers": [{"tags": [], "owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "is_accepted": true, "score": 1, "last_activity_date": 1474910727, "last_edit_date": 1474910727, "creation_date": 1467853575, "answer_id": 38236176, "question_id": 38234703, "link": "https://stackoverflow.com/questions/38234703/should-exceptions-raised-due-to-missing-params-be-rescued/38236176#38236176", "title": "Should exceptions raised due to missing params be rescued?", "body": "<p>In short the answer is no.  When you call </p>\n\n<pre><code>  def friend_request_params\n    params.require(:friend_request).permit(:status)\n  end\n</code></pre>\n\n<p>You have established a contract with any action that uses the <code>friend_request_params</code>.  If that action calls <code>friend_request_params</code> and doesn't send a <code>:friend_request</code>, the action has violated the contract and an exception should be raised.  Your application is legitimately not working as designed and the exception is your canary in the coal mine so to speak.  </p>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 4293602, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23ae255116440c4d34ce01d90acb59c1?s=128&d=identicon&r=PG&f=1", "display_name": "lostinthecloud", "link": "https://stackoverflow.com/users/4293602/lostinthecloud"}, "edited": false, "score": 0, "creation_date": 1467856142, "post_id": 38236275, "comment_id": 63894358, "body": "Thank you very much for your answer. I choose the other answer because I thought it was slightly better worded."}], "tags": [], "owner": {"reputation": 1112, "user_id": 470032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b526f61beb28e87fa9145cd8d4eefa?s=128&d=identicon&r=PG", "display_name": "Paulo Abreu", "link": "https://stackoverflow.com/users/470032/paulo-abreu"}, "is_accepted": false, "score": 1, "last_activity_date": 1474910880, "last_edit_date": 1474910880, "creation_date": 1467854429, "answer_id": 38236275, "question_id": 38234703, "link": "https://stackoverflow.com/questions/38234703/should-exceptions-raised-due-to-missing-params-be-rescued/38236275#38236275", "title": "Should exceptions raised due to missing params be rescued?", "body": "<p>No, they shouldn't. If an exception happens with your params it is because something weird or not expected is happening. It can be a bug, or it can be someone messing with the form. If <code>friend_request_params</code> raises an exception, just show a nice webpage to your users such as public/500.html or public/400.html.</p>\n\n<p>You can look at your logs to track the exceptions, or implement a catch all to log them in a more convenient way using <a href=\"http://api.rubyonrails.org/classes/ActiveSupport/Rescuable/ClassMethods.html#method-i-rescue_from\" rel=\"nofollow\"><code>rescue_from</code></a>.</p>\n"}], "owner": {"reputation": 173, "user_id": 4293602, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23ae255116440c4d34ce01d90acb59c1?s=128&d=identicon&r=PG&f=1", "display_name": "lostinthecloud", "link": "https://stackoverflow.com/users/4293602/lostinthecloud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 38236176, "answer_count": 2, "score": 0, "last_activity_date": 1474910880, "creation_date": 1467843393, "last_edit_date": 1474910629, "question_id": 38234703, "link": "https://stackoverflow.com/questions/38234703/should-exceptions-raised-due-to-missing-params-be-rescued", "title": "Should exceptions raised due to missing params be rescued?", "body": "<p>Should exceptions raised due to missing params be rescued?</p>\n\n<p>For example, in the following code in <code>FriendRequestsController</code>:</p>\n\n<pre><code>def update\n  @request = FriendRequest.find(params[:id])\n\n  if @request.update(friend_request_params)\n    flash[:notice] = \"Friend request updated successfully.\"\n    redirect_to current_user\n  else\n    flash[:errors] = @request.errors.full_messages\n    redirect_to current_user\n  end\nend\n\nprivate\n  def friend_request_params\n    params.require(:friend_request).permit(:status)\n  end\n</code></pre>\n\n<p>If the call to update on the model fails, the error message(s) will be stored in <code>flash</code>. But if there is something wrong with <code>params</code> such that an exception is raised in the <code>friend_request_params</code> helper method, the app will fail. </p>\n\n<p>Is it the convention to allow that? Is there a better way to do this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "gemfile", "actionpack", "bundle-install"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6558230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e2fb22c4f48d0bdcaa122a02155b7da?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/6558230/junior"}, "edited": false, "score": 0, "creation_date": 1467880527, "post_id": 38236518, "comment_id": 63902817, "body": "Hey farhatmihalko , thanks for the help! its very much appreciated. Im good to go now :)"}], "tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": true, "score": 0, "last_activity_date": 1467856488, "last_edit_date": 1495542780, "creation_date": 1467856488, "answer_id": 38236518, "question_id": 38234675, "link": "https://stackoverflow.com/questions/38234675/ruby-unable-to-resolve-dependencies-with-actionpack/38236518#38236518", "title": "Ruby - Unable to resolve dependencies with actionpack", "body": "<p>There are a lot information about dependencies in <code>Gemfile</code> and from <code>Error</code>.</p>\n\n<blockquote>\n  <p>railties (= 5.0.0) was resolved to 5.0.0, which depends on\n          actionpack (= 5.0.0)</p>\n  \n  <p>simple_form (~> 3.0.2) was resolved to 3.0.2, which depends on\n        actionpack (~> 4.0)</p>\n</blockquote>\n\n<p><code>~&gt;</code> This limits versions to a subset of the possible versions. <a href=\"https://stackoverflow.com/questions/3414337/meaning-of-tilde-greater-than-in-version-requirement\">Read about it.</a></p>\n\n<p>So from error you can read, that <code>simple_form</code> depends from <code>actionpack</code>, which can be only from 4.0 to 4.1 version. But <code>railties</code> depends on <code>actionpack</code> at least version 5.0.</p>\n\n<p>To resolve this problem you must update <code>simple_form</code> gem. For example version <code>3.2.1</code> has next specification of <code>actionpack</code>:</p>\n\n<pre><code>s.add_dependency('actionpack', '&gt; 4', '&lt; 5.1')\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6558230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e2fb22c4f48d0bdcaa122a02155b7da?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/6558230/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 0, "accepted_answer_id": 38236518, "answer_count": 1, "score": 0, "last_activity_date": 1467856488, "creation_date": 1467843248, "question_id": 38234675, "link": "https://stackoverflow.com/questions/38234675/ruby-unable-to-resolve-dependencies-with-actionpack", "title": "Ruby - Unable to resolve dependencies with actionpack", "body": "<p>I did a bundle install and bundle update and found that I keep getting the same error in the terminal:</p>\n\n<pre><code>Bundler could not find compatible versions for gem \"actionpack\":\n  In Gemfile:\n    actionpack (~&gt; 5.0.0)\n\n    rails (~&gt; 5.0.0) was resolved to 5.0.0, which depends on\n      railties (= 5.0.0) was resolved to 5.0.0, which depends on\n        actionpack (= 5.0.0)\n\n    rails (~&gt; 5.0.0) was resolved to 5.0.0, which depends on\n      railties (= 5.0.0) was resolved to 5.0.0, which depends on\n        actionpack (= 5.0.0)\n\n    rails (~&gt; 5.0.0) was resolved to 5.0.0, which depends on\n      railties (= 5.0.0) was resolved to 5.0.0, which depends on\n        actionpack (= 5.0.0)\n\n    simple_form (~&gt; 3.0.2) was resolved to 3.0.2, which depends on\n      actionpack (~&gt; 4.0)\n</code></pre>\n\n<p>I updated a lot of the gems and got solved all the dependency errors but this one I can't seem to solve. </p>\n\n<p>This is my gemfile:</p>\n\n<pre><code>source 'https://rubygems.org'\ngem 'rails', '~&gt; 5.0.0'\ngem 'sqlite3'\ngem 'puma', '~&gt; 3.0'\ngem 'sass-rails', '~&gt; 5.0.5'\ngem 'uglifier', '&gt;= 1.3.0'\ngem 'coffee-rails', '~&gt; 4.2'\n\ngem 'jquery-rails'\ngem 'turbolinks', '~&gt; 5'\ngem 'jbuilder', '~&gt; 2.5'\ngem 'simple_form', '~&gt; 3.0.2'\ngem 'devise', '~&gt; 4.2'\ngem 'haml', '~&gt; 4.0.5'\n\n\ngroup :development, :test do\n  gem 'byebug', platform: :mri\nend\n\ngroup :development do\n  gem 'web-console'\n  gem 'listen', '~&gt; 3.0.5'\n  gem 'spring'\n  gem 'spring-watcher-listen', '~&gt; 2.0.0'\nend\n\ngem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n</code></pre>\n\n<p>Is there something I'm missing from my gemfile to resolve this issue?\nApologies if this isn't explained very well, Im a newbie (and spent a few hours trying to solve this on my own!)</p>\n"}, {"tags": ["mysql", "ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1467845542, "post_id": 38234631, "comment_id": 63891677, "body": "I&#39;d strongly recommend using an ORM, rather than the driver. You&#39;ll find it much easier to write your queries, and the queries you write will be more easily transferred to other DBMs if necessary. <a href=\"http://sequel.jeremyevans.net\" rel=\"nofollow noreferrer\">Sequel</a> is my favorite, but Active Record, which comes with Rails, and <a href=\"http://datamapper.org\" rel=\"nofollow noreferrer\">DataMapper</a> are also available. Otherwise, you need to read the documentation plus follow some tutorials as this is very basic use of a DB. &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; plus the linked pages and <a href=\"http://meta.stackoverflow.com/q/261592/128421\">meta.stackoverflow.com/q/261592/128421</a> are important reads."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6558246"}, "edited": false, "score": 0, "creation_date": 1467847704, "post_id": 38235077, "comment_id": 63892354, "body": "thank you, do you know maybe how I can take out all the numbers from info2 without  sta 1,3 , I want to query these number on different db with ruby script, or maybe you can think on other solution for this ?"}, {"owner": {"reputation": 2050, "user_id": 185988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arAVb.jpg?s=128&g=1", "display_name": "Chris Morgan", "link": "https://stackoverflow.com/users/185988/chris-morgan"}, "edited": false, "score": 0, "creation_date": 1467910429, "post_id": 38235077, "comment_id": 63923309, "body": "I&#39;m not 100% sure what you mean. The best way to ask a question like this is to provide the input and the expected output. As far as &quot;querying on a different db with ruby script&quot;, I&#39;m not sure what you mean by that. For simple conditions, it&#39;s best to execute SQL within the DBMS (MySQL in your case) either via an ORM or a raw query like you&#39;re currently doing. As noted in the comment above, you&#39;ll probably need to read the documentation for whatever frameworks you&#39;re using in order to put this all together."}], "tags": [], "owner": {"reputation": 2050, "user_id": 185988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arAVb.jpg?s=128&g=1", "display_name": "Chris Morgan", "link": "https://stackoverflow.com/users/185988/chris-morgan"}, "is_accepted": true, "score": 0, "last_activity_date": 1467845530, "creation_date": 1467845530, "answer_id": 38235077, "question_id": 38234631, "link": "https://stackoverflow.com/questions/38234631/print-mysql-result-with-ruby-mysql2/38235077#38235077", "title": "print mysql result with ruby mysql2", "body": "<p>You can use SQL to filter by the sta column:</p>\n\n<pre><code>SELECT sta, info1, info2, info3 from MyTable WHERE sta = 1 OR sta = 3;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6558246"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 1, "accepted_answer_id": 38235077, "answer_count": 1, "score": 1, "last_activity_date": 1467848322, "creation_date": 1467843043, "last_edit_date": 1467848322, "question_id": 38234631, "link": "https://stackoverflow.com/questions/38234631/print-mysql-result-with-ruby-mysql2", "title": "print mysql result with ruby mysql2", "body": "<p>I'm using mysql2 and here is my code:</p>\n\n<p>mycon = Mysql2::Client.new( :host .. )</p>\n\n<p>result = mycon.query(\" ... \")</p>\n\n<p>When I run the query via mysql program</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>sta    info1    info2    info3\r\n\r\n1      55        23        242\r\n2      44        322      3223\r\n3      33        33        31\r\n4      22        323       31\r\n3      11        233      323\r\n1      32        32        323</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How I can print all the lines that have sta=1 and sta=3 with Ruby ?</p>\n\n<p>Also how I can use/take out all numbers from info2 without sta=1,3 , \nI want to query these numbers on other DB, so I think script is must.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "model", "polymorphic-associations"], "comments": [{"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "edited": false, "score": 0, "creation_date": 1467854133, "post_id": 38234502, "comment_id": 63893937, "body": "What the error is telling you is that there is no attribute or association called assignable on the DashboardAssignment class.  Can you please post your Dashboard model please?"}, {"owner": {"reputation": 980, "user_id": 3625851, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/qNbIC.png?s=128&g=1", "display_name": "Levvy", "link": "https://stackoverflow.com/users/3625851/levvy"}, "reply_to_user": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "edited": false, "score": 0, "creation_date": 1467855972, "post_id": 38234502, "comment_id": 63894321, "body": "ok. added Dashboard model"}, {"owner": {"reputation": 101, "user_id": 2788627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcd00779176191c7f835a04068eb246f?s=128&d=identicon&r=PG&f=1", "display_name": "bpieck", "link": "https://stackoverflow.com/users/2788627/bpieck"}, "edited": false, "score": 0, "creation_date": 1467869745, "post_id": 38234502, "comment_id": 63897266, "body": "I am quite sure, your problem exists because of:  has_many :users, through: :dashboard_assignments, as: :assignable"}, {"owner": {"reputation": 101, "user_id": 2788627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcd00779176191c7f835a04068eb246f?s=128&d=identicon&r=PG&f=1", "display_name": "bpieck", "link": "https://stackoverflow.com/users/2788627/bpieck"}, "edited": false, "score": 0, "creation_date": 1467869922, "post_id": 38234502, "comment_id": 63897344, "body": "I think this one can help you: <a href=\"http://stackoverflow.com/questions/5886738/setting-up-a-polymorphic-has-many-through-relationship\" title=\"setting up a polymorphic has many through relationship\">stackoverflow.com/questions/5886738/&hellip;</a>"}, {"owner": {"reputation": 980, "user_id": 3625851, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/qNbIC.png?s=128&g=1", "display_name": "Levvy", "link": "https://stackoverflow.com/users/3625851/levvy"}, "edited": false, "score": 0, "creation_date": 1467963682, "post_id": 38234502, "comment_id": 63942646, "body": "tried with source: instead of as: and still the same"}], "answers": [{"comments": [{"owner": {"reputation": 980, "user_id": 3625851, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/qNbIC.png?s=128&g=1", "display_name": "Levvy", "link": "https://stackoverflow.com/users/3625851/levvy"}, "edited": false, "score": 0, "creation_date": 1467922363, "post_id": 38242590, "comment_id": 63930008, "body": "I tried changing these lines but same error still occurs. My project is open source there: <a href=\"https://github.com/GRM-dev/IMP/tree/Polimorphic\" rel=\"nofollow noreferrer\">github.com/GRM-dev/IMP/tree/Polimorphic</a> on polimorphic branch"}, {"owner": {"reputation": 980, "user_id": 3625851, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/qNbIC.png?s=128&g=1", "display_name": "Levvy", "link": "https://stackoverflow.com/users/3625851/levvy"}, "edited": false, "score": 0, "creation_date": 1467975968, "post_id": 38242590, "comment_id": 63949679, "body": "Ahhh  that was probably my mistake :) In DashboardAssignment I had a line  <code>validates :assignable, presence: true, uniqueness: { :scope =&gt; :dashboard }</code>  When I removed it and changed <code>as:</code> to <code>source:</code> everything seems working fine. Also added <code>source_type: &quot;User&quot;</code> to that line."}], "tags": [], "owner": {"reputation": 126, "user_id": 931082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af31e731dc3f44620a7874d9602e5bc8?s=128&d=identicon&r=PG", "display_name": "iam3v4n", "link": "https://stackoverflow.com/users/931082/iam3v4n"}, "is_accepted": false, "score": 1, "last_activity_date": 1467885498, "creation_date": 1467885498, "answer_id": 38242590, "question_id": 38234502, "link": "https://stackoverflow.com/questions/38234502/polymorphics-in-rails-uninitialized-constant-error/38242590#38242590", "title": "Polymorphics in Rails &#39; uninitialized constant&#39; error", "body": "<p>You should be using <code>source</code> instead of <code>as</code> in a <code>through</code> association</p>\n\n<pre><code>class Dashboard &lt; ActiveRecord::Base\n  has_one :building\n  has_many :dashboard_assignments\n  has_many :users, through: :dashboard_assignments, source: :assignable\nend\n</code></pre>\n\n<p>I would caution though that this might give you <code>assignables</code> that are of class <code>Group</code>. The best way to go around this issue is by adding a condition to a <code>has_many</code> for <code>dashboard_assignments</code> that let's you filter only for <code>dashboard_assignments</code> that have <code>assignable_type = 'User'</code>:</p>\n\n<pre><code>class Dashboard &lt; ActiveRecord::Base\n  has_one :building\n  has_many :user_dashboard_assignments, -&gt; { where(assignable_type: 'User') }, class_name: 'DashboardAssignment'\n  has_many :users, through: :user_dashboard_assignments, source: :assignable\nend\n</code></pre>\n"}], "owner": {"reputation": 980, "user_id": 3625851, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/qNbIC.png?s=128&g=1", "display_name": "Levvy", "link": "https://stackoverflow.com/users/3625851/levvy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467885498, "creation_date": 1467842442, "last_edit_date": 1467855941, "question_id": 38234502, "link": "https://stackoverflow.com/questions/38234502/polymorphics-in-rails-uninitialized-constant-error", "title": "Polymorphics in Rails &#39; uninitialized constant&#39; error", "body": "<p>I wanted to make polymorphic association in my project so I followe rails guide to do it but I got: <code>NameError: uninitialized constant DashboardAssignment::Assignable</code>\nerror.</p>\n\n<p><strong>Models:</strong></p>\n\n<p>DashboardAssignment:</p>\n\n<pre><code>class DashboardAssignment &lt; ActiveRecord::Base\n  belongs_to :dashboard\n  belongs_to :assignable, polymorphic: true\n\n  validates :dashboard, presence: true\n  validates :assignable, presence: true, uniqueness: { :scope =&gt; :dashboard }\nend\n</code></pre>\n\n<p>User:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_many :dashboard_assignments, as: :assignable\n  has_many :dashboards, through: :dashboard_assignments\nend\n</code></pre>\n\n<p>Group:</p>\n\n<pre><code>class Group &lt; ActiveRecord::Base\n  has_one :dashboard_assignment, as: :assignable\n  has_many :laboratories_assignments, as: :lab_assignable\nend\n</code></pre>\n\n<p>Dashboard:</p>\n\n<pre><code>class Dashboard &lt; ActiveRecord::Base\n  has_one :building\n  has_many :dashboard_assignments\n  has_many :users, through: :dashboard_assignments, as: :assignable\nend\n</code></pre>\n\n<p>In DashboardAssignment <strong>Migration</strong> file I have:</p>\n\n<pre><code>t.references :assignable, null: false, polymorphic: true, index: true\n</code></pre>\n\n<p>When I try to create new DashboardAssignment by <code>DashboardAssignment.create(assignable: u)</code> where <code>u = User.find(1)</code>\nit gives me error:</p>\n\n<pre><code>NameError: uninitialized constant DashboardAssignment::Assignable\n    from P:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/inheritance.rb:158:in `compute_type' ...\n</code></pre>\n\n<p>Am I doing something wrong?</p>\n\n<p>My rails version is <strong>4.2.6</strong></p>\n"}, {"tags": ["ruby", "spreadsheet-gem"], "answers": [{"tags": [], "owner": {"reputation": 2409, "user_id": 6307730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4QkXN.jpg?s=128&g=1", "display_name": "BrunoFacca", "link": "https://stackoverflow.com/users/6307730/brunofacca"}, "is_accepted": false, "score": 0, "last_activity_date": 1467846570, "creation_date": 1467846570, "answer_id": 38235251, "question_id": 38234196, "link": "https://stackoverflow.com/questions/38234196/access-a-cell-by-name-using-the-spreadsheet-gem/38235251#38235251", "title": "Access a cell by name using the `spreadsheet` gem", "body": "<p>Here is how to do it with the <em>creek</em> gem, which is much faster than the <em>spreadsheet</em> gem when parsing large xlsx files.</p>\n\n<pre><code>require 'creek'\n\nworkbook = Creek::Book.new some_file.xlsx # Change the file name to suit your needs\nworksheet = workbook.sheets[0] # Change the worksheet index to suit your needs. \n\n# Create hash with cell names (e.g., A1, B5) as keys and cell values as values\ncells = Hash.new\n  worksheet.rows.each do |row|\n    cells.merge!(row)\n  end\nend\n\n# To access the cell values, just use the corresponding hash keys\n\n# Set value for the A1 cell\ncells[\"A1\"] = \"foo\"\n\n# Print value of C3 cell\nputs cells[\"C3\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9149, "user_id": 214812, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03fb59bf27824bdd9e12b461b5f1c117?s=128&d=identicon&r=PG", "display_name": "ardavis", "link": "https://stackoverflow.com/users/214812/ardavis"}, "is_accepted": true, "score": 0, "last_activity_date": 1468244464, "creation_date": 1468244464, "answer_id": 38308492, "question_id": 38234196, "link": "https://stackoverflow.com/questions/38234196/access-a-cell-by-name-using-the-spreadsheet-gem/38308492#38308492", "title": "Access a cell by name using the `spreadsheet` gem", "body": "<p>Although the other answer may be a good alternative (I have not personally unverified), the answer to this question is <strong>no</strong>.</p>\n\n<p><a href=\"https://github.com/zdavatz/spreadsheet/issues/177#issuecomment-231329313\" rel=\"nofollow\">Spreadsheet Issue - Feature - Retrieve a cell by its name, not just row and column</a></p>\n\n<p>There currently is no way to retrieve a cell by its name using the spreadsheet gem.</p>\n"}], "owner": {"reputation": 9149, "user_id": 214812, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03fb59bf27824bdd9e12b461b5f1c117?s=128&d=identicon&r=PG", "display_name": "ardavis", "link": "https://stackoverflow.com/users/214812/ardavis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "accepted_answer_id": 38308492, "answer_count": 2, "score": 3, "last_activity_date": 1468244464, "creation_date": 1467841039, "question_id": 38234196, "link": "https://stackoverflow.com/questions/38234196/access-a-cell-by-name-using-the-spreadsheet-gem", "title": "Access a cell by name using the `spreadsheet` gem", "body": "<p>If I have a <code>sheet</code> variable that is of type <code>Spreadsheet::Excel::Worksheet</code>, right now we access <code>B2</code> by doing: </p>\n\n<pre><code>MY_CUSTOM_CELL = [1, 1]\nsheet[*MY_CUSTOM_CELL] # =&gt; Contents of B2\n</code></pre>\n\n<p>In LibreOffice (And I'm sure Excel), I can assign a name for that cell in the \"Name Box\". See the image below, I've given B2 a name of \"CUSTOM_NAME\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/vbC6Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbC6Y.png\" alt=\"Giving a cell a custom name using the &quot;Name Box&quot;\"></a></p>\n\n<p>Instead of accessing the contents of that cell using the row/column coordinates, <strong>is it possible to access it via the name</strong>? This would make it easier to adapt to future change if the cell changes location. I'd like to do something like:</p>\n\n<pre><code>sheet.find(\"CUSTOM_NAME\") # =&gt; Contents of B2\n</code></pre>\n\n<p>I was looking at the documentation found <a href=\"http://www.rubydoc.info/gems/ruby-spreadsheet/Spreadsheet/Worksheet\" rel=\"nofollow noreferrer\" title=\"Spreadsheet::Excel::Worksheet\">here</a> but was unable to find what I was looking for.</p>\n\n<p>If the gem doesn't allow it already, how would I go about implementing it myself? </p>\n"}, {"tags": ["ruby", "vagrant", "vagrantfile", "getopt", "rescue"], "answers": [{"comments": [{"owner": {"reputation": 2109, "user_id": 3325931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062fcd6d6690860ae46306475bec2eb4?s=128&d=identicon&r=PG&f=1", "display_name": "troyfolger", "link": "https://stackoverflow.com/users/3325931/troyfolger"}, "edited": false, "score": 0, "creation_date": 1485807924, "post_id": 38315929, "comment_id": 71069721, "body": "I think it is possible, for the use case shown above - see my answer below."}], "tags": [], "owner": {"reputation": 947, "user_id": 367480, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DdQe5.jpg?s=128&g=1", "display_name": "Ilya Vassilevsky", "link": "https://stackoverflow.com/users/367480/ilya-vassilevsky"}, "is_accepted": true, "score": 5, "last_activity_date": 1468269990, "creation_date": 1468269990, "answer_id": 38315929, "question_id": 38234133, "link": "https://stackoverflow.com/questions/38234133/how-to-implement-custom-option-for-vagrant-without-having-invalid-option-warning/38315929#38315929", "title": "How to implement custom option for Vagrant without having invalid option warning?", "body": "<p>It's impossible to do this in <code>Vagrantfile</code>. Vagrant parses options before loading <code>Vagrantfile</code>. The moment <code>Vagrantfile</code> is executed, Vagrant process is already in the <code>ensure</code> block after the exception that occurred because of the custom option in the command line. There is nothing one can do in <code>Vagrantfile</code> to recover from that.</p>\n"}, {"tags": [], "owner": {"reputation": 2109, "user_id": 3325931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062fcd6d6690860ae46306475bec2eb4?s=128&d=identicon&r=PG&f=1", "display_name": "troyfolger", "link": "https://stackoverflow.com/users/3325931/troyfolger"}, "is_accepted": false, "score": 3, "last_activity_date": 1473273899, "creation_date": 1473273899, "answer_id": 39377100, "question_id": 38234133, "link": "https://stackoverflow.com/questions/38234133/how-to-implement-custom-option-for-vagrant-without-having-invalid-option-warning/39377100#39377100", "title": "How to implement custom option for Vagrant without having invalid option warning?", "body": "<p>I think it may be possible to avoid the error. Warning - I'm new to vagrant. However, this seems to do what you are looking for:</p>\n\n<pre><code>opts = GetoptLong.new(\n  [ '--vm-name',        GetoptLong::OPTIONAL_ARGUMENT ],\n  [ '--host-name',      GetoptLong::OPTIONAL_ARGUMENT ],\n  [ '--provider',       GetoptLong::OPTIONAL_ARGUMENT ],\n  [ '--no-provision',   GetoptLong::OPTIONAL_ARGUMENT ],\n)\nvm_name        = ENV['VM_NAME'] || 'default'\nhost_name      = ENV['HOST_NAME'] || 'localhost.localdomain'\n</code></pre>\n\n<p>If you can anticipate all the command line options you think will be passed to your vagrant invocation, you can add them to the getopts array and then just ignore the elements that you want to be handled by default vagrant processing.</p>\n"}], "owner": {"reputation": 116828, "user_id": 55075, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/8bbc94977312d285045b2412257b6cb8?s=128&d=identicon&r=PG", "display_name": "kenorb", "link": "https://stackoverflow.com/users/55075/kenorb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 2, "accepted_answer_id": 38315929, "answer_count": 2, "score": 2, "last_activity_date": 1473273899, "creation_date": 1467840770, "last_edit_date": 1495535459, "question_id": 38234133, "link": "https://stackoverflow.com/questions/38234133/how-to-implement-custom-option-for-vagrant-without-having-invalid-option-warning", "title": "How to implement custom option for Vagrant without having invalid option warning?", "body": "<p>I'm trying to implement new custom option for Vagrant as in the following <code>Vagrantfile</code>:</p>\n\n<pre><code># -*- mode: ruby -*-\nrequire 'getoptlong'\n\nopts = GetoptLong.new(\n  [ '--vm-name',        GetoptLong::OPTIONAL_ARGUMENT ],\n)\n\nvm_name        = ENV['VM_NAME'] || 'default'\n\nbegin\n  opts.each do |opt, arg|\n    case opt\n      when '--vm-name';        vm_name        = arg\n    end\n  end\n  rescue\n# @fixme: An invalid option error happens here.\nend\n\nVagrant.configure(2) do |config|\n  config.vm.define vm_name\n  config.vm.provider \"virtualbox\" do |vbox, override|\n    override.vm.box = \"ubuntu/wily64\"\n  end\nend\n</code></pre>\n\n<p>Now, each time when I run any vagrant command it's showing the following warning, e.g.</p>\n\n<pre><code>vagrant destroy -f\n</code></pre>\n\n<blockquote>\n  <p>/opt/vagrant/embedded/gems/gems/vagrant-1.8.1/bin/vagrant: invalid option -- f</p>\n</blockquote>\n\n<p>Another example:</p>\n\n<pre><code>$ vagrant --vm-name=foo up --no-provision\n/opt/vagrant/embedded/gems/gems/vagrant-1.8.1/bin/vagrant: unrecognized option `--no-provision'\nBringing machine 'foo' up with 'virtualbox' provider...\n==&gt; foo: Importing base box 'ubuntu/wily64'...\n</code></pre>\n\n<p>Is there any way that I can ignore such warning from happening in the above <code>rescue</code> section?</p>\n\n<hr>\n\n<p>This <a href=\"https://stackoverflow.com/q/3642331/55075\">post</a> is similar, but it doesn't help much in this case.</p>\n"}, {"tags": ["ruby", "email", "smtp", "gmail", "mail-gem"], "comments": [{"owner": {"reputation": 25, "user_id": 5915352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ImSji.jpg?s=128&g=1", "display_name": "Nicholas S", "link": "https://stackoverflow.com/users/5915352/nicholas-s"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1467847657, "post_id": 38233846, "comment_id": 63892342, "body": "Thanks for the edit @the-Tin-Man . Still relatively new to the community."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1467848801, "post_id": 38233846, "comment_id": 63892642, "body": "It&#39;s not necessary to thank us. We&#39;re all working toward providing better questions and answers for the site."}, {"owner": {"reputation": 25, "user_id": 5915352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ImSji.jpg?s=128&g=1", "display_name": "Nicholas S", "link": "https://stackoverflow.com/users/5915352/nicholas-s"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1468260477, "post_id": 38233846, "comment_id": 64043356, "body": "Days later and still haven&#39;t found a solution for this."}], "owner": {"reputation": 25, "user_id": 5915352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ImSji.jpg?s=128&g=1", "display_name": "Nicholas S", "link": "https://stackoverflow.com/users/5915352/nicholas-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1467845883, "creation_date": 1467839536, "last_edit_date": 1467845883, "question_id": 38233846, "link": "https://stackoverflow.com/questions/38233846/how-to-avoid-execution-expired-errors-while-using-mail-gem", "title": "How to avoid execution expired errors while using &#39;mail&#39; gem", "body": "<p>I'm working on a webscraper that will send out a weekly CSV with new content with Ruby. For the mailing component I decided to use the <a href=\"https://github.com/mikel/mail\" rel=\"nofollow\"> Mail</a> gem. After a great deal of tinkering I got it to send a few test emails. However, I frequently get this error:</p>\n\n<pre><code>...smtp.rb:541:in `initialize': execution expired (Net::OpenTimeout)...\n</code></pre>\n\n<p>I have a reasonable internet connection and haven't been able to detect any sort of pattern with the error. Here is my code for the mailer:</p>\n\n<pre><code>require 'mail'\n\ndef sendEmail(newEventCount, newEventArray)\n\n    if newEventArray.to_a.empty? == true\n        emailBodyText = \"No new events were added this week.\"\n    else\n        newEventString = \"The new events are: \"\n        newEventArray.each do |event|\n            newEventString = newEventString + event + \"\\n\"\n        end\n        emailBodyText = \"#{newEventCount} events were added this week. #{newEventString}\"\n    end \n\n    options = { :address =&gt; \"smtp.gmail.com\",\n                :port =&gt; 587,\n                :domain =&gt; '(my public ip address according to google)',\n                :user_name =&gt; '(my username)',\n                :password =&gt; '(my password)',\n                :authentication =&gt; 'plain',\n                :enable_starttls_auto =&gt; true }\n\n    Mail.defaults do \n        delivery_method :smtp, options\n    end\n\n    mail = Mail.new do \n        from '(my email)'\n        to '(recipient email)'\n        subject 'Weekly Scrape Results'\n        body emailBodyText\n\n        add_file './events.csv'\n    end\n\n    mail.deliver!\nend\n</code></pre>\n"}, {"tags": ["java", "ruby", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467840431, "post_id": 38233794, "comment_id": 63889755, "body": "Which HTML parser are you intending on using? <code>map</code> and <code>collect</code> are available in Ruby."}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467840703, "post_id": 38233794, "comment_id": 63889862, "body": "I am not quite what you mean by HTML parser? The above given java code works but the ruby code doesn&#39;t store anything in the items array. How could I use collect also? @tadman"}], "answers": [{"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": -2, "last_activity_date": 1467841838, "creation_date": 1467841838, "answer_id": 38234380, "question_id": 38233794, "link": "https://stackoverflow.com/questions/38233794/java-stream-equivalent-in-ruby/38234380#38234380", "title": "Java stream equivalent in ruby?", "body": "<p>The equivalent to a Java <code>Stream</code> is an <a href=\"http://ruby-doc.org/core/Enumerator.html\" rel=\"nofollow\"><code>Enumerator</code></a>. There is no equivalent to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow\"><code>collect</code></a> in Ruby. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow\">Java's <code>collect</code> is a generalization of folding</a>, Ruby has two folding operations: <a href=\"http://ruby-doc.org/core/Enumerable.html#method-i-inject\" rel=\"nofollow\"><code>inject</code></a> and <a href=\"http://ruby-doc.org/core/Enumerator.html#method-i-each_with_object\" rel=\"nofollow\"><code>each_with_object</code></a>, both of which are special cases of Java's <code>collect</code>. The equivalent to calling <code>stream()</code> to create a <code>Stream</code> is to call <code>each</code> without a block to create an <code>Enumerator</code>.</p>\n\n<p>However, if you want the full generality of <code>collect</code> available in Ruby, you will have to implement it yourself.</p>\n"}], "owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 534, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1467841838, "creation_date": 1467839308, "question_id": 38233794, "link": "https://stackoverflow.com/questions/38233794/java-stream-equivalent-in-ruby", "title": "Java stream equivalent in ruby?", "body": "<p>I am trying to convert the following Java selenium code to Ruby selenium code</p>\n\n<pre><code>  List&lt;String&gt; items = myDriver.findElements(By.xpath(\"//tbody/tr[1]/td[1]\")) //This returns an array\n            .stream().map(WebElement::getText)  //Calls stream map \n            .collect(Collectors.toList()); \n</code></pre>\n\n<p>I am stuck on the part where it converts the array to stream and maps it with WebElement getText and converts to a list</p>\n\n<p>This is what I have tried</p>\n\n<pre><code> items = driver.find_elements(:xpath, \"//tbody/tr[1]/td[1]\").map(&amp;:text)\n</code></pre>\n\n<p>I can't seem to find the ruby equivalent of the stream and .collect? What could I do here?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 1, "creation_date": 1467838500, "post_id": 38233335, "comment_id": 63888805, "body": "Your question might be clearer if it included the desired output."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1467838614, "post_id": 38233335, "comment_id": 63888865, "body": "Please read &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. We need your expected output. You don&#39;t show how you attempted to solve the problem. Please try, then ask, instead of asking before trying."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1467838642, "post_id": 38233335, "comment_id": 63888883, "body": "One thing to note about these sorts of games is that the prize payouts depend on patterns, like <code>7,7,7</code> will payout substantially more per <code>7</code> than a single <code>7</code>."}], "answers": [{"tags": [], "owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "is_accepted": false, "score": 2, "last_activity_date": 1467839174, "last_edit_date": 1467839174, "creation_date": 1467838098, "answer_id": 38233534, "question_id": 38233335, "link": "https://stackoverflow.com/questions/38233335/find-the-specific-number-from-array-collect/38233534#38233534", "title": "Find the specific number from Array.collect", "body": "<p>Say if:</p>\n\n<pre><code>results = prizes.collect { |p| p[0] } #=&gt; [\"Diamond\", \"Cherries\", \"7\"]\n</code></pre>\n\n<p>Then do the following to get at each result:</p>\n\n<pre><code>results[0] #=&gt; \"Diamond\"\nresults[1] #=&gt; \"Cherries\"\nresults[2] #=&gt; \"7\"\n</code></pre>\n\n<p>You could also use <code>results.first</code> to get the first element. If you happen to be working in Rails you can even do the following:</p>\n\n<pre><code>results.second #=&gt; \"Cherries\"\nresults.third #=&gt; \"7\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1467838518, "post_id": 38233616, "comment_id": 63888816, "body": "A bit of a misnomer here: <code>prizes_string</code> is actually an array of strings."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467838619, "post_id": 38233616, "comment_id": 63888869, "body": "@tadman\ttrue, I fixed that"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1467838694, "post_id": 38233616, "comment_id": 63888917, "body": "Using a hash to store things in an orderly manner works pretty well, but ends up being more verbose for such a small example. Could also explode the arguments: <code>prizes.map { |name, val| ... }</code> using the array pair."}, {"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1484586450, "post_id": 38233616, "comment_id": 70560176, "body": "A good practice would be to use Array.new(3) instead of 3.times.map."}], "tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": false, "score": 1, "last_activity_date": 1467838612, "last_edit_date": 1467838612, "creation_date": 1467838478, "answer_id": 38233616, "question_id": 38233335, "link": "https://stackoverflow.com/questions/38233335/find-the-specific-number-from-array-collect/38233616#38233616", "title": "Find the specific number from Array.collect", "body": "<p>Here's a fine way to do this:</p>\n\n<pre><code>numbers = 3.times.map { Random.new.rand(0..10000) }\n\nprizes = numbers.map do |x|\n  case x\n  when 1..3000\n    { name: '7', val: 10000 }\n  when 3001..6000\n    {name: \"Cherries\", val: 10000 }\n  when 6001..10000\n    {name: \"Diamond\", val: 400 }\n  end\nend\n\n# You could replace 'map' with 'collect' here and have the same results\nprizes_string = prizes.map { |p| \"#{p[:name]}: #{p[:val]}\" }.join(\" and \")\n\nputs \"Your results are: #{prizes_string}!\"\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 6279214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c2d81bd520a69949093e5a1e61ad37a4?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6279214/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "closed_date": 1467905683, "answer_count": 2, "score": -3, "last_activity_date": 1467839174, "creation_date": 1467837402, "question_id": 38233335, "link": "https://stackoverflow.com/questions/38233335/find-the-specific-number-from-array-collect", "closed_reason": "Needs details or clarity", "title": "Find the specific number from Array.collect", "body": "<p>I want to find out what's the first, the second, and the third result, so that I can do <code>if firstnumber==secondnumber &amp;&amp; secondnumber==thirdnumber</code>. How could I find those numbers on the results?</p>\n\n<pre><code>numbers = 3.times.map { Random.new.rand(0..10000) }\n\nprizes = numbers.map do |x|\n  case x\n  when 1..3000\n    [ '7', 10000 ]\n  when 3001..6000\n    [ \"Cherries\", 500 ]\n  when 6001..10000\n    [ \"Diamond\", 400 ]\n  end\nend\n\nputs \"Your results are: #{prizes.collect { |p| p[0] }.join(\", \")}!\n</code></pre>\n\n<p>I tried to use p[0][0], but it gives the first letter instead.</p>\n"}, {"tags": ["ruby", "metaprogramming"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467837146, "post_id": 38233060, "comment_id": 63888145, "body": "Be aware if all is a large data set this could cause performance issues. Also I sincerely hope this is outside of the rails context as rails already implements <code>find_by_XXX</code> for every attribute."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1467837872, "post_id": 38233060, "comment_id": 63888527, "body": "Note: this will define two methods named <code>self.find_by_name</code> and <code>self.find_by_brand</code>. While it is possible to create such methods, it is impossible to call them using normal method calling syntax, because <code>.</code> is not a legal character in an identifier. Is there any particular reason why you want to define a method with an illegal name?"}, {"owner": {"reputation": 1007, "user_id": 6090706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NbSpn.png?s=128&g=1", "display_name": "Kostas Andrianos", "link": "https://stackoverflow.com/users/6090706/kostas-andrianos"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467837890, "post_id": 38233060, "comment_id": 63888534, "body": "@engineersmnky It&#39;s not rails! all just returns an array of <code>Products</code> for the inventory system of a Toy store. It&#39;s for the final project for the Ruby Nanodegree at Udacity."}, {"owner": {"reputation": 1007, "user_id": 6090706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NbSpn.png?s=128&g=1", "display_name": "Kostas Andrianos", "link": "https://stackoverflow.com/users/6090706/kostas-andrianos"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1467838007, "post_id": 38233060, "comment_id": 63888574, "body": "@J&#246;rgWMittag I had no idea about that, and I was wondering why the NoMethodError, since I had a self.something method."}], "answers": [{"comments": [{"owner": {"reputation": 1007, "user_id": 6090706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NbSpn.png?s=128&g=1", "display_name": "Kostas Andrianos", "link": "https://stackoverflow.com/users/6090706/kostas-andrianos"}, "edited": false, "score": 1, "creation_date": 1467837263, "post_id": 38233129, "comment_id": 63888199, "body": "This keeps giving me a NoMethodError :/"}], "tags": [], "owner": {"reputation": 2634, "user_id": 1210949, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vAL35.jpg?s=128&g=1", "display_name": "Albin", "link": "https://stackoverflow.com/users/1210949/albin"}, "is_accepted": false, "score": 7, "last_activity_date": 1467836714, "creation_date": 1467836714, "answer_id": 38233129, "question_id": 38233060, "link": "https://stackoverflow.com/questions/38233060/define-method-how-to-dynamically-create-methods-with-arguments/38233129#38233129", "title": "define_method: How to dynamically create methods with arguments", "body": "<p>It if you read the examples here <a href=\"http://apidock.com/ruby/Module/define_method\" rel=\"noreferrer\">http://apidock.com/ruby/Module/define_method</a> you will find this one:</p>\n\n<pre><code>define_method(:my_method) do |foo, bar| # or even |*args|\n  # do something\nend\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>def my_method(foo, bar)\n   # do something\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1007, "user_id": 6090706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NbSpn.png?s=128&g=1", "display_name": "Kostas Andrianos", "link": "https://stackoverflow.com/users/6090706/kostas-andrianos"}, "edited": false, "score": 0, "creation_date": 1467837552, "post_id": 38233191, "comment_id": 63888348, "body": "This works for me but... Can you explain how you got here? I searched for <code>class &lt;&lt; self</code> and saw that it opens up a class and changes it&#39;s behavior but, why would I need to do that inside the class itself?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "reply_to_user": {"reputation": 1007, "user_id": 6090706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NbSpn.png?s=128&g=1", "display_name": "Kostas Andrianos", "link": "https://stackoverflow.com/users/6090706/kostas-andrianos"}, "edited": false, "score": 1, "creation_date": 1467837633, "post_id": 38233191, "comment_id": 63888396, "body": "You need to do that because you want to define a class method. Without that, <code>define_method</code> will define an instance method, and <code>define_method(&quot;self.foo&quot;)</code> as in your example doesn&#39;t work."}, {"owner": {"reputation": 1007, "user_id": 6090706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NbSpn.png?s=128&g=1", "display_name": "Kostas Andrianos", "link": "https://stackoverflow.com/users/6090706/kostas-andrianos"}, "edited": false, "score": 0, "creation_date": 1467837768, "post_id": 38233191, "comment_id": 63888473, "body": "Thank you very much! I&#39;ll look into it more to be more comfortable with Metaprogramming but for now, you helped me a lot! :)"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 2, "creation_date": 1467838033, "post_id": 38233191, "comment_id": 63888591, "body": "The more idiomatic way would be to use <code>define_singleton_method</code>."}, {"owner": {"reputation": 126, "user_id": 168764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee7ec00f9b8ebfc9ff0ca1149bb61a10?s=128&d=identicon&r=PG", "display_name": "frenchmd", "link": "https://stackoverflow.com/users/168764/frenchmd"}, "edited": false, "score": 0, "creation_date": 1490379176, "post_id": 38233191, "comment_id": 73102298, "body": "The distinction of defining a class method vs an instance method is extremely important for the sake of performance.  Thanks for mentioning that @Jordan"}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 47, "last_activity_date": 1467837036, "last_edit_date": 1467837036, "creation_date": 1467836890, "answer_id": 38233191, "question_id": 38233060, "link": "https://stackoverflow.com/questions/38233060/define-method-how-to-dynamically-create-methods-with-arguments/38233191#38233191", "title": "define_method: How to dynamically create methods with arguments", "body": "<p>If I understand your question correctly, you want something like this:</p>\n\n<pre><code>class Product\n  class &lt;&lt; self\n    [:name, :brand].each do |attribute|\n      define_method :\"find_by_#{attribute}\" do |value|\n        all.find {|prod| prod.public_send(attribute) == value }\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>(I'm assuming that the <code>all</code> method returns an Enumerable.)</p>\n\n<p>The above is more-or-less equivalent to defining two class methods like this:</p>\n\n<pre><code>class Product\n  def self.find_by_name(value)\n    all.find {|prod| prod.name == value }\n  end\n\n  def self.find_by_brand(value)\n    all.find {|prod| prod.brand == value }\n  end\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 2, "creation_date": 1467837578, "post_id": 38233194, "comment_id": 63888368, "body": "If this is rails than this is a useless exercise since <code>find_by_XXX</code> is already defined. Also <code>define_method</code> can accept a String without issue."}, {"owner": {"reputation": 15006, "user_id": 520567, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cb1b2c58abc2116f910ec9253ee387f?s=128&d=identicon&r=PG", "display_name": "akostadinov", "link": "https://stackoverflow.com/users/520567/akostadinov"}, "edited": false, "score": 0, "creation_date": 1514539235, "post_id": 38233194, "comment_id": 83009463, "body": "<code>method_missing</code> is something I hate. There is no easy way to find methods defined in this way. Avoid if possible."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "reply_to_user": {"reputation": 15006, "user_id": 520567, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cb1b2c58abc2116f910ec9253ee387f?s=128&d=identicon&r=PG", "display_name": "akostadinov", "link": "https://stackoverflow.com/users/520567/akostadinov"}, "edited": false, "score": 0, "creation_date": 1514567199, "post_id": 38233194, "comment_id": 83021375, "body": "@akostadinov agreed"}], "tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": false, "score": 2, "last_activity_date": 1511468074, "last_edit_date": 1511468074, "creation_date": 1467836901, "answer_id": 38233194, "question_id": 38233060, "link": "https://stackoverflow.com/questions/38233060/define-method-how-to-dynamically-create-methods-with-arguments/38233194#38233194", "title": "define_method: How to dynamically create methods with arguments", "body": "<p>When you do this: <code>define_method(\"self.find_by_#{attribute}\")</code></p>\n\n<p>that is incorrect. The argument to define_method is a symbol with a single word. </p>\n\n<p>Let me show you some correct code, hopefully this will be clear:</p>\n\n<pre><code>class MyClass &lt; ActiveRecord::Base\n  [\"name\", \"brand\"].each do |attribute|\n    define_method(:\"find_by_#{attribute}\") do |attr_|\n      first(attribute.to_sym =&gt; attr_)\n    end\n  end\nend\n</code></pre>\n\n<p>This will produce class methods for <code>find_by_brand</code> and <code>find_by_name</code>. </p>\n\n<p>Note that if you're looking into metaprogramming, this is a good use-case for method_missing. <a href=\"https://technicalpickles.com/posts/using-method_missing-and-respond_to-to-create-dynamic-methods\" rel=\"nofollow noreferrer\">here's a tutorial</a> to use method_missing to implement the same functionality you're going for (<code>find_by_&lt;x&gt;</code>)</p>\n"}], "owner": {"reputation": 1007, "user_id": 6090706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NbSpn.png?s=128&g=1", "display_name": "Kostas Andrianos", "link": "https://stackoverflow.com/users/6090706/kostas-andrianos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30176, "favorite_count": 4, "accepted_answer_id": 38233191, "answer_count": 3, "score": 35, "last_activity_date": 1511468074, "creation_date": 1467836443, "question_id": 38233060, "link": "https://stackoverflow.com/questions/38233060/define-method-how-to-dynamically-create-methods-with-arguments", "title": "define_method: How to dynamically create methods with arguments", "body": "<p>I want to create a bunch of methods for a find_by feature. I don't want to write the same thing over and over again so I want to use metaprogramming.</p>\n\n<p>Say I want to create a method for finding by name, accepting the name as an argument. How would I do it? I've used define_method in the past but I didn't have any arguments for the method to take. \nHere's my (bad) approach</p>\n\n<pre><code>[\"name\", \"brand\"].each do |attribute|\n    define_method(\"self.find_by_#{attribute}\") do |attr_|\n      all.each do |prod|\n        return prod if prod.attr_ == attr_\n      end\n    end\n  end\n</code></pre>\n\n<p>Any thoughts? Thanks in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "multithreading", "race-condition"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1467837152, "post_id": 38232850, "comment_id": 63888151, "body": "Try <code>Time.now.to_f</code> or <code>SecureRandom.uuid</code>. By default <code>Time.now.to_s</code> is only accurate to a second, so it&#39;s highly probable that even if it did differ you wouldn&#39;t notice since it stabilizes so quickly."}, {"owner": {"reputation": 3510, "user_id": 1101099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZlEeI.jpg?s=128&g=1", "display_name": "bitops", "link": "https://stackoverflow.com/users/1101099/bitops"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467838653, "post_id": 38232850, "comment_id": 63888895, "body": "@tadman thanks, let me try that."}, {"owner": {"reputation": 3510, "user_id": 1101099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZlEeI.jpg?s=128&g=1", "display_name": "bitops", "link": "https://stackoverflow.com/users/1101099/bitops"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1467842163, "post_id": 38232850, "comment_id": 63890507, "body": "@tadman by using a more granular value I do see some differences. I&#39;ll look at the other answer in this thread and see if I can achieve a greater understanding. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 3510, "user_id": 1101099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZlEeI.jpg?s=128&g=1", "display_name": "bitops", "link": "https://stackoverflow.com/users/1101099/bitops"}, "edited": false, "score": 0, "creation_date": 1467842264, "post_id": 38234386, "comment_id": 63890554, "body": "Thanks for your answer! I&#39;m reading this to mean that the cache has to be continually read from then, in order for the ttl to kick in? Meaning, if the cache just goes stale after 30 seconds, and then I refresh, there&#39;s no reason for the ttl to kick in? But if the server is getting hammered continually, then the ttl will be applied? Sorry if that is unclear."}, {"owner": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "reply_to_user": {"reputation": 3510, "user_id": 1101099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZlEeI.jpg?s=128&g=1", "display_name": "bitops", "link": "https://stackoverflow.com/users/1101099/bitops"}, "edited": false, "score": 1, "creation_date": 1467843775, "post_id": 38234386, "comment_id": 63891156, "body": "I agree with that reading. Please see the update to my answer."}], "tags": [], "owner": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "is_accepted": true, "score": 6, "last_activity_date": 1467843756, "last_edit_date": 1467843756, "creation_date": 1467841887, "answer_id": 38234386, "question_id": 38232850, "link": "https://stackoverflow.com/questions/38232850/understanding-race-condition-ttl-in-rails/38234386#38234386", "title": "Understanding race_condition_ttl in Rails", "body": "<p>You are setting <code>race_condition_ttl</code> to 60 seconds which means your threads will only start getting the new value after this time expires, even not taking into account the initial 30 seconds.</p>\n\n<p>Your test doesn't look like it would take 1.5 minutes to run which would be required in order for the threads to start getting the new value. From the <a href=\"http://api.rubyonrails.org/classes/ActiveSupport/Cache/Store.html\" rel=\"noreferrer\">Rails Cache docs</a>:</p>\n\n<blockquote>\n  <p>Yes, this process is extending the time for a stale value by another few seconds. Because of extended life of the previous cache, other processes will continue to use slightly stale data for a just a bit longer.</p>\n</blockquote>\n\n<p>The text implies using a small <code>race_condition_ttl</code> and it makes sense both for its purpose and your test.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<blockquote>\n  <p>Also note that the life of stale cache is extended only if it expired recently. Otherwise a new value is generated and :race_condition_ttl does not play any role.</p>\n</blockquote>\n\n<p>Without reading source it is not particularly clear how Rails decides when its server is getting hammered or what exactly <code>recently</code> means in the quote above. It seems clear though that the first process (of many) of those waiting to access the cache gets to set the new value while extending life of the previous one. The presence of waiting processes might be the condition Rails looks for. In any case the expected behaviour should be observed after both initial timeout and ttl expire and cache starts serving the updated value. The delay between initial timeout and the time new value starts showing up should be similar to the ttl. Of course the precondition is the server should be hammered around the moment of initial timeout expiration.</p>\n"}], "owner": {"reputation": 3510, "user_id": 1101099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZlEeI.jpg?s=128&g=1", "display_name": "bitops", "link": "https://stackoverflow.com/users/1101099/bitops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3003, "favorite_count": 0, "accepted_answer_id": 38234386, "answer_count": 1, "score": 6, "last_activity_date": 1467843756, "creation_date": 1467835637, "question_id": 38232850, "link": "https://stackoverflow.com/questions/38232850/understanding-race-condition-ttl-in-rails", "title": "Understanding race_condition_ttl in Rails", "body": "<p>I am trying to understand the <code>race_condition_ttl</code> directive in Rails when using <code>Rails.cache.fetch</code>.</p>\n\n<p>I have a controller action that looks like this:</p>\n\n<pre><code>def foo\n  @foo = Rails.cache.fetch(\"foo-testing\", expires_in: 30.seconds, race_condition_ttl: 60.seconds) do\n      Time.now.to_s\n  end\n  @foo # this gets used in a view down the line...\nend\n</code></pre>\n\n<p>Based on what I'm reading in the Rails docs, this value should expire after 30 seconds, but the stale value is allowed to be served for another 60 seconds. However, I can't figure out how to reproduce conditions that will show me this behavior working. Here is how I'm trying to test it.</p>\n\n<pre><code>100.times.map do \n  t = Thread.new { RestClient.get(\"http://myenvironment/foo\") }\n  t \nend.map {|t| t.join.value }.uniq\n</code></pre>\n\n<p>I have my Rails app running on a VM behind a standard nginx/unicorn setup. I am trying to spawn 100 threads hitting the site simultaneously to simulate the \"dog pile effect\". However, when I run my test code, all the threads report the same value back. What I would expect to see is that one thread gets the fresh value, while <em>at least</em> one other thread gets served some stale content.</p>\n\n<p>Any pointers are welcome! Thanks so much.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "edited": false, "score": 2, "creation_date": 1467832676, "post_id": 38232068, "comment_id": 63885754, "body": "<code>ruby -h</code> or <code>man ruby</code> do the job. Do you want them online?"}, {"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1467832715, "post_id": 38232068, "comment_id": 63885776, "body": "Ruby is not like <code>C</code>, or <code>Java</code>. Ruby files that you write are directly executed. There is no intermediate <code>.o</code> or <code>.class</code> that is run."}, {"owner": {"reputation": 319, "user_id": 4342154, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b07cc0d9bb41bccdc78a6eb3e6c927c6?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Shevantes", "link": "https://stackoverflow.com/users/4342154/andr%c3%a9-shevantes"}, "reply_to_user": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "edited": false, "score": 0, "creation_date": 1467835126, "post_id": 38232068, "comment_id": 63887075, "body": "@Ursus yes, I was refering to online documentation."}], "answers": [{"tags": [], "owner": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "is_accepted": true, "score": 3, "last_activity_date": 1467832948, "creation_date": 1467832948, "answer_id": 38232157, "question_id": 38232068, "link": "https://stackoverflow.com/questions/38232068/where-to-find-the-ruby-executable-documentation/38232157#38232157", "title": "Where to find the ruby executable documentation?", "body": "<p>Easiest option is to run <code>man ruby</code>. It will show your locally installed interpreter options.</p>\n\n<p>Definitive option is the <a href=\"https://github.com/ruby/ruby\" rel=\"nofollow\">ruby repository on GitHub</a>. Navigate to the version you need in the <a href=\"https://github.com/ruby/ruby/releases\" rel=\"nofollow\">releases</a> and locate <code>man/ruby.1</code> file in the tree. The file contains definitions for CLI arguments.</p>\n\n<p>Example: Ruby 2.3.0 interpreter CLI arguments <a href=\"https://github.com/ruby/ruby/blob/v2_3_0/man/ruby.1\" rel=\"nofollow\">definitions are here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 1, "last_activity_date": 1467837623, "creation_date": 1467837623, "answer_id": 38233406, "question_id": 38232068, "link": "https://stackoverflow.com/questions/38232068/where-to-find-the-ruby-executable-documentation/38233406#38233406", "title": "Where to find the ruby executable documentation?", "body": "<p>There is no such thing as \"the Ruby executable\". Every Ruby implementation has their own commandline executable. (Actually, come to think of it, SmallRuby and BlueRuby didn't have a commandline executable <em>at all</em>.)</p>\n\n<p>And every Ruby implementation has their own commandline flags. That's why there <em>cannot</em> be a document explaining all the options: which implementation's options would that document?</p>\n\n<p>For example, JRuby's <code>--jdb</code> flag to run under the Java Debugger simply doesn't make sense for IronRuby, Rubinius, MacRuby, Topaz, Cardinal, MRuby, or YARV. Rubinius's flag to turn on the sampling profiler doesn't make sense for implementations that don't have a sampling profiler. Rubinius's flag to turn on the native code JIT compiler doesn't make sense for implementations that don't have a native code JIT compiler. And so on.</p>\n\n<p>However, there are a couple of options that most implementations agree on:</p>\n\n<ul>\n<li><code>-0</code></li>\n<li><code>-a</code></li>\n<li><code>-c</code></li>\n<li><code>-C</code></li>\n<li><code>-d</code></li>\n<li><code>-e</code></li>\n<li><code>-E</code></li>\n<li><code>-F</code></li>\n<li><code>-i</code></li>\n<li><code>-I</code></li>\n<li><code>-l</code></li>\n<li><code>-n</code></li>\n<li><code>-p</code></li>\n<li><code>-r</code></li>\n<li><code>-s</code></li>\n<li><code>-S</code></li>\n<li><code>-T</code></li>\n<li><code>-v</code></li>\n<li><code>-w</code></li>\n<li><code>-W</code></li>\n<li><code>-x</code></li>\n</ul>\n\n<p><strong>BUT!!!</strong></p>\n\n<p>If you look at MRuby, which is the Ruby implementation written by Yukihiro \"matz\" Matsumoto, Ruby's creator, which is intended to be a lightweight implementation of the minimum core that can still be called \"Ruby\", it only supports these options:</p>\n\n<ul>\n<li><code>-b           load and execute RiteBinary (mrb) file</code></li>\n<li><code>-c           check syntax only</code></li>\n<li><code>-e 'command' one line of script</code></li>\n<li><code>-v           print version number, then run in verbose mode</code></li>\n<li><code>--verbose    run in verbose mode</code></li>\n<li><code>--version    print the version</code></li>\n<li><code>--copyright  print the copyright</code></li>\n</ul>\n\n<p>Of these, <code>-b</code> is clearly implementation specific, and <code>-c</code>, <code>-v</code>, <code>--version</code>, and <code>--copyright</code> have no runtime impact, so we can interpret this as meaning that <code>-e</code> is the only option that <strong>must</strong> be supported by a conforming Ruby implementation \u2026 after all, it is the only option supported by the Ruby implementation written by the only person who can legitimately have a say in what it means to <em>be</em> \"a Ruby implementation\".</p>\n"}], "owner": {"reputation": 319, "user_id": 4342154, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b07cc0d9bb41bccdc78a6eb3e6c927c6?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Shevantes", "link": "https://stackoverflow.com/users/4342154/andr%c3%a9-shevantes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 38232157, "answer_count": 2, "score": 0, "last_activity_date": 1467837623, "creation_date": 1467832587, "question_id": 38232068, "link": "https://stackoverflow.com/questions/38232068/where-to-find-the-ruby-executable-documentation", "title": "Where to find the ruby executable documentation?", "body": "<p>I was trying to find the list of command-line arguments available for the ruby executable in <a href=\"http://ruby-doc.com/\" rel=\"nofollow\">http://ruby-doc.com/</a> but I could not find anything. After a Google search for \"ruby interpreter command line options\" I could only find <a href=\"http://ruby-doc.org/docs/ruby-doc-bundle/Manual/man-1.4/options.html\" rel=\"nofollow\">this page</a>, which applies to Ruby 1.4 only. Where can I find the documentation for the ruby executable in an 'official' source, like ruby-doc.com? Thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "twitter-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 2634, "user_id": 1210949, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vAL35.jpg?s=128&g=1", "display_name": "Albin", "link": "https://stackoverflow.com/users/1210949/albin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467832899, "creation_date": 1467832899, "answer_id": 38232141, "question_id": 38232011, "link": "https://stackoverflow.com/questions/38232011/using-a-custom-tag-helper-for-ruby-on-rails-with-a-bootstrap-navbar/38232141#38232141", "title": "Using a custom tag helper for ruby on rails with a bootstrap navbar", "body": "<p>I think that your problem is that you have written <code>&lt;% nav_link(name, path) %&gt;</code> this executes the code but doesn't print anything.</p>\n\n<p>It should be <code>&lt;%= nav_link(name, path) %&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 745, "user_id": 3033467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a33988a3dc0d009236304ff4ad8d615?s=128&d=identicon&r=PG&f=1", "display_name": "user3033467", "link": "https://stackoverflow.com/users/3033467/user3033467"}, "is_accepted": true, "score": 0, "last_activity_date": 1467898755, "last_edit_date": 1467898755, "creation_date": 1467832905, "answer_id": 38232144, "question_id": 38232011, "link": "https://stackoverflow.com/questions/38232011/using-a-custom-tag-helper-for-ruby-on-rails-with-a-bootstrap-navbar/38232144#38232144", "title": "Using a custom tag helper for ruby on rails with a bootstrap navbar", "body": "<p>Unless it's a typo, you should use <code>&lt;%= nav_link(\"Users\", users_path) %&gt;</code>.<br>\nWithout <code>=</code>, nothing will be displayed</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6538437"}, "is_accepted": false, "score": 0, "last_activity_date": 1467834787, "creation_date": 1467834787, "answer_id": 38232636, "question_id": 38232011, "link": "https://stackoverflow.com/questions/38232011/using-a-custom-tag-helper-for-ruby-on-rails-with-a-bootstrap-navbar/38232636#38232636", "title": "Using a custom tag helper for ruby on rails with a bootstrap navbar", "body": "<p>I highly recommend this Gem, it will do exactly what you want.</p>\n\n<p><a href=\"https://github.com/vigetlabs/nav_lynx\" rel=\"nofollow\">https://github.com/vigetlabs/nav_lynx</a></p>\n\n<p>And here is a method it provides:</p>\n\n<pre><code>&lt;%= nav_link_to 'Page', my_path, {}, { :wrapper =&gt; 'li' } %&gt;\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 5126215, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-ozSr5R5vHI0/AAAAAAAAAAI/AAAAAAAAAIg/gM7KBWZp_W4/photo.jpg?sz=128", "display_name": "Mathieu Bertin", "link": "https://stackoverflow.com/users/5126215/mathieu-bertin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 1, "accepted_answer_id": 38232144, "answer_count": 3, "score": 0, "last_activity_date": 1467898755, "creation_date": 1467832385, "last_edit_date": 1467832712, "question_id": 38232011, "link": "https://stackoverflow.com/questions/38232011/using-a-custom-tag-helper-for-ruby-on-rails-with-a-bootstrap-navbar", "title": "Using a custom tag helper for ruby on rails with a bootstrap navbar", "body": "<p>My problem is that I can't get this helper tag to display at all.</p>\n\n<p>So in <strong>application_helper.rb</strong> I want to have a <code>&lt;% nav_link(name, path) %&gt;</code> tag helper to append bootstrap's <code>.active</code> class dynamically. </p>\n\n<p>My code is the following:</p>\n\n<pre><code>def nav_link(name, path)\n    content_tag(:li, :class =&gt; active_class(path)) do\n        link_to name, path\n    end\nend\n\ndef active_class(path)\n    (current_page?(path) ? \"active\" : \"\").html_safe\nend\n</code></pre>\n\n<p>and I would like to use it like so</p>\n\n<pre><code>&lt;% nav_link(\"Users\", users_path) %&gt;\n</code></pre>\n\n<p>My hunch is that there's a variable somewhere that's not properly sanitized. How do I fix this?  Is the html_safe call necessary?</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 392, "user_id": 6501880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5b8edeac79e94ecde386dae8f33398?s=128&d=identicon&r=PG&f=1", "display_name": "MageeWorld", "link": "https://stackoverflow.com/users/6501880/mageeworld"}, "edited": false, "score": 2, "creation_date": 1467831688, "post_id": 38231811, "comment_id": 63885218, "body": "Have you looked at the nokogiri gem?"}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 392, "user_id": 6501880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5b8edeac79e94ecde386dae8f33398?s=128&d=identicon&r=PG&f=1", "display_name": "MageeWorld", "link": "https://stackoverflow.com/users/6501880/mageeworld"}, "edited": false, "score": 0, "creation_date": 1467836835, "post_id": 38231811, "comment_id": 63887974, "body": "@MageeWorld i cant use it for my requirements"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467850346, "post_id": 38231811, "comment_id": 63893070, "body": "Are you looking to grab only the text in the first TD of each TR or all TDs or ?"}], "owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1467831629, "creation_date": 1467831629, "question_id": 38231811, "link": "https://stackoverflow.com/questions/38231811/how-to-grab-all-the-elements-inside-a-table", "title": "How to grab all the elements inside a table?", "body": "<p>I have a HTML in the format of this</p>\n\n<pre><code> &lt;tbody&gt;\n    &lt;tr&gt; \n      &lt;td&gt; Test1 &lt;/td&gt; \n      &lt;td&gt; .. &lt;/td&gt;\n    &lt;tr/&gt;\n    &lt;tr&gt; ... &lt;/tr&gt;\n &lt;/tbody&gt;\n &lt;tbody&gt;\n    &lt;tr&gt; \n      &lt;td&gt; Test2 &lt;/td&gt; \n      &lt;td&gt; .. &lt;/td&gt;\n    &lt;tr/&gt;\n    &lt;tr&gt; .. &lt;/tr&gt;\n &lt;/tbody&gt;\n &lt;tbody&gt;\n    &lt;tr&gt; \n      &lt;td&gt; Test3 &lt;/td&gt; \n      &lt;td&gt; .. &lt;/td&gt;\n    &lt;tr/&gt;\n    &lt;tr&gt; .. &lt;/tr&gt;\n &lt;/tbody&gt;\n</code></pre>\n\n<p>How can I iterate through all the tbody's and grab the text inside the tr/td? I tried to do the following:</p>\n\n<pre><code>items = driver.find_elements(:xpath, \"//tbody/tr[1]/td[1]\").map(&amp;:text)\nputs items\n</code></pre>\n\n<p>and</p>\n\n<pre><code>items = driver.find_elements(:xpath, \".//tbody//td[1]\").map(&amp;:text)\nputs items\n</code></pre>\n\n<p>In both of these cases, puts is empty (its reaching that point in code I checked). How can I grab all the items inside of the tbody/tr/td?</p>\n"}, {"tags": ["ruby", "deployment", "roles", "capistrano3"], "answers": [{"tags": [], "owner": {"reputation": 10091, "user_id": 4625365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/l6v41.jpg?s=128&g=1", "display_name": "Matt Brictson", "link": "https://stackoverflow.com/users/4625365/matt-brictson"}, "is_accepted": false, "score": 1, "last_activity_date": 1468640634, "creation_date": 1468640634, "answer_id": 38407497, "question_id": 38231536, "link": "https://stackoverflow.com/questions/38231536/capistrano-3-role-specific-tasks/38407497#38407497", "title": "Capistrano 3 Role specific tasks", "body": "<blockquote>\n  <p>It seems to me that ROLES is intended to limit the servers rather than the tasks.</p>\n</blockquote>\n\n<p>Yes, that is exactly right. In Capistrano 3, tasks have no relation to roles whatsoever. Within a task, commands can be executed on servers that match a certain role. When you filter using ROLES, you limit the servers where the commands are run, but you don't limit the tasks themselves.</p>\n\n<p>One way you could limit tasks is to define your own high-level task that invokes the tasks you want.</p>\n\n<p>For example:</p>\n\n<pre><code># In deploy.rb\ntask \"worker\" do\n  invoke \"task1\"\n  invoke \"task2\"\n  # etc.\nend\n</code></pre>\n\n<p>This defines a <code>worker</code> task that in turn executes a specific list of tasks, which can be whatever you want. Then you can run:</p>\n\n<pre><code>cap production worker\n</code></pre>\n\n<p>Which will run all these worker-related tasks on your production server.</p>\n"}], "owner": {"reputation": 21, "user_id": 6557516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c168d50f87924dc7839d98a2c072492?s=128&d=identicon&r=PG&f=1", "display_name": "Rayko", "link": "https://stackoverflow.com/users/6557516/rayko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1468640634, "creation_date": 1467830727, "question_id": 38231536, "link": "https://stackoverflow.com/questions/38231536/capistrano-3-role-specific-tasks", "title": "Capistrano 3 Role specific tasks", "body": "<p>I've switched from Capistrano 2 to Capistrano 3 recently, a lot has changed, and I'm having some troubles trying to adapt the new Capistrano to what it was being done with Capistrano 2 in the project I'm working on.</p>\n\n<p>The biggest problem I'm facing at the moment is filtering by roles. I know you can do:</p>\n\n<pre><code>ROLES=web,worker cap production deploy\n</code></pre>\n\n<p>but if you have a single server with all the roles, that seems to do nothing really.</p>\n\n<p>With Capistrano 2 I could run:</p>\n\n<pre><code>cap worker deploy\n</code></pre>\n\n<p>and all worker tasks would be applied. Capistrano 2 had the roles specified on the tasks and if the role wasn't requested the tasks was skipped (in most cases). However it does not seem the case for Capistrano 3, the filter is great on a multi server environment where you have specific servers for each role. But if servers share a role or if there's a single one, it gets a bit weird. In the new Capistrano tasks seems to check whether there is a host with a given role rather than checking if the task should run or not based on the role. It seems to me that ROLES is intended to limit the servers rather than the tasks.</p>\n\n<p>So I wonder if this is possible in Capistrano 3. Another way of viewing this is grouping tasks under a name. I would like to select which group of tasks are being executed.</p>\n\n<p>I can achieve this with some tinkering, I could check if ROLES is present and skip a task or not based on it, I could select which recipes to load depending on role, I could dynamically attach the tasks based on the ROLES var, or maybe group the tasks in role named files and do that dynamic loading depending on ROLES, etc, but perhaps there's something I'm missing.</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "fullcalendar"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6269864"}, "edited": false, "score": 0, "creation_date": 1467859577, "post_id": 38230107, "comment_id": 63895083, "body": "Have you tried doing this with moment.js which is bundled with the fullcalendar? Btw 27:00pm seems incorrect, should be just &#39;27:00&#39;."}, {"owner": {"reputation": 43, "user_id": 4064276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663b13295a72cad808754472dd9a3a4b?s=128&d=identicon&r=PG&f=1", "display_name": "kushnir", "link": "https://stackoverflow.com/users/4064276/kushnir"}, "edited": false, "score": 0, "creation_date": 1467878623, "post_id": 38230107, "comment_id": 63901692, "body": "Yeah, you&#39;re right about &#39;27:00&#39;, it&#39;s a typo. Regarding your question - yes, I did, however moment.js considers 27:00 to be invalid date and increases the day by 1 as well"}], "owner": {"reputation": 43, "user_id": 4064276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663b13295a72cad808754472dd9a3a4b?s=128&d=identicon&r=PG&f=1", "display_name": "kushnir", "link": "https://stackoverflow.com/users/4064276/kushnir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1467826063, "creation_date": 1467826063, "question_id": 38230107, "link": "https://stackoverflow.com/questions/38230107/fullcalendar-overnight-recurring-events-ruby-on-rails", "title": "FullCalendar overnight recurring events &amp; Ruby On Rails", "body": "<p>I'd like to post a question about FullCalendar overnight recurring events. As far as I understand the only way to do it looks like this:</p>\n\n<pre><code>[\n  start: '09:00am',\n  end: '27:00pm',\n  dow: [1]\n]\n</code></pre>\n\n<p>Is there a better approach to this problem and if not what's the easiest / fastest way to calculate the end time in Ruby on Rails having the start and the end datetimes?\nObviously just adding the difference between 2 dates to the start date won't work cause it'll be considered as the next day.\nI've tried doing something like this but that's very ugly and impractical:</p>\n\n<pre><code>hours, minutes = start_datetime.strftime('%H:%m').split(':').map(&amp;:to_i)\nhours_diff, min_diff = ((end_datetime - start_datetime) / 1.hour).round\nend_datetime = \"#{hours + hours_diff}:#{minutes}\"\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1467826841, "post_id": 38229948, "comment_id": 63882396, "body": "Seems like you are only trying to use the keys, but do not use the values. Perhaps an array might suit your better?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1467826886, "post_id": 38229948, "comment_id": 63882428, "body": "It does seem like you&#39;re using the wrong data structure here."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6279214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c2d81bd520a69949093e5a1e61ad37a4?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6279214/charles"}, "edited": false, "score": 0, "creation_date": 1467829601, "post_id": 38230420, "comment_id": 63883943, "body": "Wait, how do I find the first, second, and the third choices, so that I can do <code>if firstchoice==secondchoice &amp;&amp; secondchoice==thirdchoice</code> ?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 73, "user_id": 6279214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c2d81bd520a69949093e5a1e61ad37a4?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6279214/charles"}, "edited": false, "score": 1, "creation_date": 1467829978, "post_id": 38230420, "comment_id": 63884172, "body": "@Charles That&#39;s a different question, so try and post it as one. It keeps the answers focused."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 3, "last_activity_date": 1467827046, "creation_date": 1467827046, "answer_id": 38230420, "question_id": 38229948, "link": "https://stackoverflow.com/questions/38229948/how-to-duplicate-keys-and-values-in-hash/38230420#38230420", "title": "How to duplicate keys and values in hash", "body": "<p>You're using <code>map</code> here, but not in the right way:</p>\n\n<pre><code>numbers = 3.times.map { Random.new.rand(0..10000) }\n\nprizes = numbers.map do |x|\n  case x\n  when 1..3000\n    [ '7', 10000 ]\n  when 3001..6000\n    [ \"Cherries\", 500 ]\n  when 6001..10000\n    [ \"Diamond\", 400 ]\n  end\nend\n\nputs \"Your results are: #{prizes.collect { |p| p[0] }.join(\", \")}!\"\n</code></pre>\n\n<p>The only reason to use <code>map</code> is if you're interested in the results of that operation. Otherwise use <code>each</code> which is faster since it doesn't care about the result of each iteration.</p>\n\n<p>Remember that in a Hash you can have a given key only once. Assigning the same value to <code>7</code> over and over means there is only one 7 key.</p>\n"}], "owner": {"reputation": 73, "user_id": 6279214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c2d81bd520a69949093e5a1e61ad37a4?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6279214/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1467923435, "accepted_answer_id": 38230420, "answer_count": 1, "score": -3, "last_activity_date": 1467905857, "creation_date": 1467825534, "last_edit_date": 1467905857, "question_id": 38229948, "link": "https://stackoverflow.com/questions/38229948/how-to-duplicate-keys-and-values-in-hash", "closed_reason": "Needs details or clarity", "title": "How to duplicate keys and values in hash", "body": "<p>I want to make a random number generator. I want the result to be:</p>\n\n<pre><code>\"Your results are: 7, 7, 7\"\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>random = 3.times.map {Random.new.rand(0..10000)}\nputs random #Results ====&gt; 180, 91, 300\n@duh={}\nrandom.map {|x|\n  case x\n    when 1..3000\n      @duh[\"7\"]=10000 #Jackpot\n    when 3001..6000\n      @duh[\"Cherries\"]=500\n    when 6001..10000\n      @duh[\"Diamond\"]=400\n  end\n}\nputs \"Your results are: #{@duh.keys.join(\", \")}!\"\n</code></pre>\n\n<p>The number results were <code>180, 91, 300</code>. It gave me one <code>7</code>. How do I keep my three <code>7</code>s?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "controller"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1467837366, "post_id": 38229740, "comment_id": 63888261, "body": "Ruby has flags that can help you diagnose these sort of problems: <code>ruby -cwW2 script_to_check.rb</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6556738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AuC3R91xwvw/AAAAAAAAAAI/AAAAAAAAAew/7MYn4tDF5us/photo.jpg?sz=128", "display_name": "Alexandre Gueths", "link": "https://stackoverflow.com/users/6556738/alexandre-gueths"}, "edited": false, "score": 0, "creation_date": 1467827513, "post_id": 38230053, "comment_id": 63882815, "body": "I&#39;ll just kill myself... You are right. It worked now."}], "tags": [], "owner": {"reputation": 693, "user_id": 1621998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d0641164c77ee079d25c110d4a7e6a?s=128&d=identicon&r=PG", "display_name": "Pragash", "link": "https://stackoverflow.com/users/1621998/pragash"}, "is_accepted": true, "score": 0, "last_activity_date": 1467837327, "last_edit_date": 1467837327, "creation_date": 1467825887, "answer_id": 38230053, "question_id": 38229740, "link": "https://stackoverflow.com/questions/38229740/creating-multiple-objects-of-same-model-in-rails/38230053#38230053", "title": "Creating multiple objects of same model in Rails", "body": "<p>I see there is a mistake in your class name. It should be </p>\n\n<pre><code>Transaction.create({})\n</code></pre>\n\n<p>but, you are referring to it as </p>\n\n<pre><code>Trasanction.create({})\n</code></pre>\n\n<p>Just change the class name and it should work.</p>\n"}], "owner": {"reputation": 11, "user_id": 6556738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AuC3R91xwvw/AAAAAAAAAAI/AAAAAAAAAew/7MYn4tDF5us/photo.jpg?sz=128", "display_name": "Alexandre Gueths", "link": "https://stackoverflow.com/users/6556738/alexandre-gueths"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 38230053, "answer_count": 1, "score": -2, "last_activity_date": 1467837327, "creation_date": 1467824864, "last_edit_date": 1467837245, "question_id": 38229740, "link": "https://stackoverflow.com/questions/38229740/creating-multiple-objects-of-same-model-in-rails", "title": "Creating multiple objects of same model in Rails", "body": "<p>I want to create multiples objects of a same model in Rails and I'm facing some problems saving them. I already add and remove fields dynamically, but I can't figure out how to save the multiples objects.  </p>\n\n<p>I'm receiving the data from my View like this:  </p>\n\n<pre><code>Parameters: {\n  \"utf8\"=&gt;\"\u2713\", \n  \"authenticity_token\"=&gt;\"0aoRgalvZPKdBJr15EooxNCimh2C6R2RBYi3wTXTpaIwpzb8cNSAH/968932KFscg8eiNPej1x2iYFsaWalVQw==\", \n  \"transaction\"=&gt;{\n    \"client_id\"=&gt;\"206\",\n    \"invoice_id\"=&gt;\"1\",\n    \"date\"=&gt;\"07/07/2016\", \n    \"value\"=&gt;\"50\",\n    \"description\"=&gt;\"\"}, \n  \"dates\"=&gt;[\n    \"07/08/2016\", \n    \"07/09/2016\"], \n  \"values\"=&gt;[\n    \"49\", \n    \"48\"], \n  \"commit\"=&gt;\"Save\"}\n</code></pre>\n\n<p><code>transaction</code> is the main transaction, <code>dates</code> and <code>values</code> are what difers from the main transaction and the other two transactions.  </p>\n\n<p>My create method in TransactionController is like this:</p>\n\n<pre><code>def create\n  @transaction = Transaction.new(transaction_params)\n  dates = params['dates']\n  values = params['values']\n  if(!dates.nil?)\n    @transactions_ = []\n    dates.length.times do |i|\n      t = Trasanction.create(\n            client_id: @transaction.client_id,\n            invoice_id: @transaction.invoice_id,\n            description: @transaction.description,\n            date: dates[i],\n            value: values[i])\n      @transactions_ &lt;&lt; t\n    end\n  end\n  respond_to do |format|\n    if @transaction.save\n      @transactions_.each do |t|\n        t.save\n      end\n      format.html { redirect_to @transaction, notice: 'Transaction succefully created.' }\n      format.json { render :show, status: :created, location: @transaction }\n    else\n      format.html { render :new }\n      format.json { render json: @transaction.errors, status: :unprocessable_entity }\n    end\n  end\nend\n</code></pre>\n\n<p>But I'm getting this error:  </p>\n\n<pre><code>uninitialized constant TransactionsController::Trasanction\n  t = Trasanction.create(\n</code></pre>\n\n<p>Apparently I can't call <code>Transaction.create</code> that way, but I'm almost sure I saw something like that on a tutorial.  </p>\n"}, {"tags": ["arrays", "ruby", "hash"], "comments": [{"owner": {"reputation": 814, "user_id": 4088940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff71521ddfe58931cbe2e655394c0dca?s=128&d=identicon&r=PG&f=1", "display_name": "mlovic", "link": "https://stackoverflow.com/users/4088940/mlovic"}, "edited": false, "score": 0, "creation_date": 1467824920, "post_id": 38229693, "comment_id": 63881259, "body": "Check <a href=\"http://stackoverflow.com/questions/9025277/how-do-i-extract-a-sub-hash-from-a-hash\">this</a> answer"}, {"owner": {"reputation": 1258, "user_id": 3866548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5a024996ab4648fbfda530126209b7?s=128&d=identicon&r=PG", "display_name": "AxelWass", "link": "https://stackoverflow.com/users/3866548/axelwass"}, "edited": false, "score": 0, "creation_date": 1467824930, "post_id": 38229693, "comment_id": 63881268, "body": "you could try slice like in <a href=\"http://stackoverflow.com/questions/7430343/ruby-easiest-way-to-filter-hash-keys#25206082\">this</a> answer."}, {"owner": {"reputation": 560, "user_id": 2362505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/181c3e1a813fb39b2720f4b2ba34e9cd?s=128&d=identicon&r=PG", "display_name": "harshs08", "link": "https://stackoverflow.com/users/2362505/harshs08"}, "reply_to_user": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1467841460, "post_id": 38229693, "comment_id": 63890197, "body": "@\u0417\u0435\u043b\u0451\u043d\u044b\u0439 I have tried the approach given by farhatmihalko and it works. Was looking for different or more ruby way to do this"}], "answers": [{"tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": true, "score": 5, "last_activity_date": 1467906324, "last_edit_date": 1467906324, "creation_date": 1467824863, "answer_id": 38229738, "question_id": 38229693, "link": "https://stackoverflow.com/questions/38229693/select-key-value-pairs-from-a-hash-whose-keys-belong-to-an-array/38229738#38229738", "title": "Select key value pairs from a hash whose keys belong to an array", "body": "<p>Try this:</p>\n\n<pre><code>hsh.select{ |k, v| keys.include?(k) } \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467826575, "post_id": 38229768, "comment_id": 63882264, "body": "Numbers of characters only counts at <a href=\"http://codegolf.stackexchange.com\">Code Golf</a>."}], "tags": [], "owner": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "is_accepted": false, "score": 1, "last_activity_date": 1467906362, "last_edit_date": 1467906362, "creation_date": 1467824944, "answer_id": 38229768, "question_id": 38229693, "link": "https://stackoverflow.com/questions/38229693/select-key-value-pairs-from-a-hash-whose-keys-belong-to-an-array/38229768#38229768", "title": "Select key value pairs from a hash whose keys belong to an array", "body": "<p>This is one approach:</p>\n\n<pre><code>hsh.select { |k,_| k.in?(keys) }\n# =&gt; {\"first_name\" =&gt; \"tester\", \"foo\" =&gt; \"bar\"}\n</code></pre>\n\n<p>Note that although this is shorter than using <code>include?</code>, it depends on Rails being present.</p>\n"}, {"comments": [{"owner": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1467825566, "post_id": 38229849, "comment_id": 63881672, "body": "<a href=\"https://github.com/rails/rails/blob/69db8dc468c16a961d0ee55384f97a1ccbe02da3/activesupport/lib/active_support/core_ext/hash/slice.rb#L21\" rel=\"nofollow noreferrer\">map + each_with_object</a>"}, {"owner": {"reputation": 489, "user_id": 2137007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TIiXl.png?s=128&g=1", "display_name": "lxxxvi", "link": "https://stackoverflow.com/users/2137007/lxxxvi"}, "edited": false, "score": 0, "creation_date": 1526374279, "post_id": 38229849, "comment_id": 87707724, "body": "This is the way the go with Ruby &gt;= 2.5.0 (Rails had this core extension earlier), no need for <code>.select{}</code>, <code>.reject{}</code> or <code>.keep_if{}</code> anymore. See <a href=\"https://www.ruby-lang.org/en/news/2017/12/25/ruby-2-5-0-released/\" rel=\"nofollow noreferrer\">release notes</a>"}], "tags": [], "owner": {"reputation": 3612, "user_id": 2865270, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/1198391393/picture?type=large", "display_name": "Fred Willmore", "link": "https://stackoverflow.com/users/2865270/fred-willmore"}, "is_accepted": false, "score": 11, "last_activity_date": 1467906418, "last_edit_date": 1467906418, "creation_date": 1467825194, "answer_id": 38229849, "question_id": 38229693, "link": "https://stackoverflow.com/questions/38229693/select-key-value-pairs-from-a-hash-whose-keys-belong-to-an-array/38229849#38229849", "title": "Select key value pairs from a hash whose keys belong to an array", "body": "<pre><code>hsh.slice *keys\n# =&gt; {\"first_name\" =&gt; \"tester\", \"foo\" =&gt; \"bar\"}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "is_accepted": false, "score": 0, "last_activity_date": 1467825581, "creation_date": 1467825581, "answer_id": 38229963, "question_id": 38229693, "link": "https://stackoverflow.com/questions/38229693/select-key-value-pairs-from-a-hash-whose-keys-belong-to-an-array/38229963#38229963", "title": "Select key value pairs from a hash whose keys belong to an array", "body": "<p>You could use <code>reject</code>:</p>\n\n<pre><code>hsh.reject { |k| !keys.include? k } #=&gt; {\"first_name\"=&gt;\"tester\", \"foo\"=&gt;\"bar\"}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 3806635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/53KZq.jpg?s=128&g=1", "display_name": "Jes&#250;s Abarca", "link": "https://stackoverflow.com/users/3806635/jes%c3%bas-abarca"}, "is_accepted": false, "score": 2, "last_activity_date": 1467906570, "last_edit_date": 1467906570, "creation_date": 1467828260, "answer_id": 38230802, "question_id": 38229693, "link": "https://stackoverflow.com/questions/38229693/select-key-value-pairs-from-a-hash-whose-keys-belong-to-an-array/38230802#38230802", "title": "Select key value pairs from a hash whose keys belong to an array", "body": "<p>It feels more natural to call <code>keep_if</code> instead of <code>select</code>:</p>\n\n<pre><code>hsh.keep_if { |key| keys.include? key }\n</code></pre>\n\n<p>Also, <code>keep_if</code> removes the unwanted pairs from the hash.</p>\n"}], "owner": {"reputation": 560, "user_id": 2362505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/181c3e1a813fb39b2720f4b2ba34e9cd?s=128&d=identicon&r=PG", "display_name": "harshs08", "link": "https://stackoverflow.com/users/2362505/harshs08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3706, "favorite_count": 1, "accepted_answer_id": 38229738, "answer_count": 5, "score": 2, "last_activity_date": 1467906570, "creation_date": 1467824717, "last_edit_date": 1467906145, "question_id": 38229693, "link": "https://stackoverflow.com/questions/38229693/select-key-value-pairs-from-a-hash-whose-keys-belong-to-an-array", "title": "Select key value pairs from a hash whose keys belong to an array", "body": "<p>I have an array of keys:</p>\n\n<pre><code>keys = [\"first_name\", \"last_name\", \"foo\"]\n</code></pre>\n\n<p>and a hash:</p>\n\n<pre><code>hsh = {\"first_name\" =&gt; \"tester\", \"zoo\" =&gt; \"loo\", \"foo\" =&gt; \"bar\"}\n</code></pre>\n\n<p>I want to extract the key-value pairs whose keys are present in the array, to get:</p>\n\n<pre><code>res = {\"first_name\" =&gt; \"tester\", \"foo\" =&gt; \"bar\"}\n</code></pre>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-5", "wice-grid"], "comments": [{"owner": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "edited": false, "score": 0, "creation_date": 1467823971, "post_id": 38229373, "comment_id": 63880707, "body": "Please add backtrace of the error."}, {"owner": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "reply_to_user": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "edited": false, "score": 0, "creation_date": 1467824294, "post_id": 38229373, "comment_id": 63880895, "body": "Thanks, added to the OP"}, {"owner": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "edited": false, "score": 0, "creation_date": 1467824654, "post_id": 38229373, "comment_id": 63881099, "body": "Anything meaningful beyond those lines? They look like coming from an error handling action and not the original one."}, {"owner": {"reputation": 3612, "user_id": 2865270, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/1198391393/picture?type=large", "display_name": "Fred Willmore", "link": "https://stackoverflow.com/users/2865270/fred-willmore"}, "edited": false, "score": 5, "creation_date": 1467824656, "post_id": 38229373, "comment_id": 63881100, "body": "It looks like the gem doesn&#39;t support Rails 5 yet: <a href=\"https://github.com/leikind/wice_grid#requirements-and-rails-versions\" rel=\"nofollow noreferrer\">github.com/leikind/wice_grid#requirements-and-rails-versions</a>"}, {"owner": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "reply_to_user": {"reputation": 4688, "user_id": 2116518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwt8F.jpg?s=128&g=1", "display_name": "Nic Nilov", "link": "https://stackoverflow.com/users/2116518/nic-nilov"}, "edited": false, "score": 0, "creation_date": 1467825023, "post_id": 38229373, "comment_id": 63881330, "body": "@NicNilov, no nothing beyond those lines. Thanks FredWillmore, I think that must be the cause of the problem."}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "edited": false, "score": 0, "creation_date": 1467837051, "post_id": 38229373, "comment_id": 63888083, "body": "Well at least toss him an upvote if he solved your issue and didn&#39;t even do it in an answer.  Good guy Fred Willmore"}], "owner": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1083, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1467824283, "creation_date": 1467823604, "last_edit_date": 1467824283, "question_id": 38229373, "link": "https://stackoverflow.com/questions/38229373/wrong-number-of-arguments-after-updating-to-rails-5", "title": "&quot;wrong number of arguments&quot; after updating to Rails 5", "body": "<p>I use the <a href=\"https://github.com/leikind/wice_grid\" rel=\"nofollow\">wice_grid</a> gem with the code below. This worked with Rails 4.2.6 but after updating to Rails 5.0.0 it gives the error \"wrong number of arguments (given 0, expected 1)\". Anyone got an idea how to solve this?</p>\n\n<pre><code>&lt;%= grid(@acodes_grid, show_filters: :when_filtered, html: {class: 'my-grid'}) do |g|\n  g.column name: 'ID', attribute: 'id', auto_reload: true, html: {id: 'grid-cells'}\n  etc.\nend %&gt;\n</code></pre>\n\n<p>The associated controller method:</p>\n\n<pre><code>def index\n  @acodes_grid = initialize_grid(Acode,\n    include:         [:transactions],\n    per_page:        25,\n    order:           'acodes.code_exp_date',\n    order_direction: 'desc')\nend\n</code></pre>\n\n<p>Backtrace (don't think the merge! warning is related):</p>\n\n<pre><code>Processing by AcodesController#index as HTML\n  User Load (0.9ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 ORDER BY \"users\".\"username\" ASC LIMIT $2  [[\"id\", 101], [\"LIMIT\", 1]]\n  Rendering acodes/index.html.erb within layouts/application\nDEPRECATION WARNING: Method merge! is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.0/classes/ActionController/Parameters.html (called from _app_views_acodes_index_html_erb__2623538288025501826_69831314588840 at /home/ubuntu/workspace/***/app/views/acodes/index.html.erb:9)\n  Rendered acodes/index.html.erb within layouts/application (427.2ms)\nCompleted 500 Internal Server Error in 476ms (ActiveRecord: 4.2ms)\n\nActionView::Template::Error (wrong number of arguments (given 0, expected 1)):\n     6: \n     7:       &lt;div class=\"now1\"&gt;Codes&lt;/div&gt;\n     8:       \n     9:       &lt;%= grid(@acodes_grid, show_filters: :when_filtered, html: {class: 'my-grid'}) do |g|\n    10:         g.column name: 'ID', attribute: 'id', auto_reload: true, html: {id: 'grid-cells'}\n    11:         g.column attribute: 'avatar', html: {id: 'grid-cells'} do |acode|\n    12:           image_tag(acode.avatar.url, style: \"max-height: 30px; max-width: 30px\") if acode.avatar?\n\napp/views/acodes/index.html.erb:9:in `_app_views_acodes_index_html_erb__2623538288025501826_69831314588840'\n  Rendering /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout\n  Rendering /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb\n  Rendered /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.7ms)\n  Rendering /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb\n  Rendered /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)\n  Rendering /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb\n  Rendered /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)\n  Rendered /usr/local/rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (86.6ms)\n</code></pre>\n"}, {"tags": ["ruby", "rubygems", "dependencies"], "comments": [{"owner": {"reputation": 1258, "user_id": 3866548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5a024996ab4648fbfda530126209b7?s=128&d=identicon&r=PG", "display_name": "AxelWass", "link": "https://stackoverflow.com/users/3866548/axelwass"}, "edited": false, "score": 0, "creation_date": 1467835503, "post_id": 38228732, "comment_id": 63887281, "body": "maybe <a href=\"http://stackoverflow.com/questions/16741935/how-to-tell-bundler-to-ignore-gems-that-dont-exist#16742178\">this</a> helps you, using a <code>require: false</code> parameter for each gem in the Gemfile."}], "answers": [{"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1467825016, "post_id": 38229317, "comment_id": 63881328, "body": "Agreed. It&#39;s better to determine where the conflict is up front, before writing a lot of code based on bad assumptions, that locks things into place and makes it even more difficult to backtrack."}, {"owner": {"reputation": 1321, "user_id": 1025695, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8980c65a94bb9a9a5526d464791b7644?s=128&d=identicon&r=PG", "display_name": "Huliax", "link": "https://stackoverflow.com/users/1025695/huliax"}, "edited": false, "score": 0, "creation_date": 1467898852, "post_id": 38229317, "comment_id": 63915183, "body": "It is entirely possible to load multiple versions of code.  The fact that rubygems is trying to manage that is ancillary and not intrinsic to Ruby.  It is perhaps inadvisable in some situations, but not at all difficult to do. I tried to imply that ultimately, yes, conflicts need to be resolved (hence the &quot;During development...&quot;). The point is that sometimes you have stuff in your head that you want to deal with <b>right now</b> and having to forget all that and fix a conflict that you <b>know</b> is not going to be in play <b>right now</b> is just counter-productive.  So, I disagree here."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467963239, "post_id": 38229317, "comment_id": 63942417, "body": "First of all, just because it can be <i>theoretically</i> done doesn&#39;t mean it&#39;s actually practical to do. A properly coded gem may survive being renamed. Many won&#39;t because they assume they have control over their designated namespace(s). If two different versions of a gem are loaded simultaneously you will have conflict and it can get messy as the constant friction between the YAML parser bundled with Ruby core and the gem version shows again and again. This is a super thorny problem in the Ruby world."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467963260, "post_id": 38229317, "comment_id": 63942425, "body": "If you want to get things done, which is perfectly understandable, start disabling dependencies and do what you have to do.  If you can come up with an elegant solution for side-loading alternate versions of a Ruby gem, perhaps using the new &quot;Refinements&quot; feature, I&#39;m sure other people would be interested in how you did it. I&#39;ve never seen a good general purpose solution. Every time I&#39;ve had to do it I forked the gem, renamed things, and tested it exhaustively before loading it back in."}, {"owner": {"reputation": 1321, "user_id": 1025695, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8980c65a94bb9a9a5526d464791b7644?s=128&d=identicon&r=PG", "display_name": "Huliax", "link": "https://stackoverflow.com/users/1025695/huliax"}, "edited": false, "score": 0, "creation_date": 1471362105, "post_id": 38229317, "comment_id": 65311007, "body": "We routinely (every day) load and run code that is alternative to the code found in a given gemset.  That isn&#39;t really a challenge at all.  Getting the dependencies ignored is the challenge.  One way to load alternative code is to just unshift the desired path to your code onto the load path.  Another thing you can do is to go into your gems dir and replace the gem with a symlink to your code in progress.  We usually opt for the former but the latter is sometimes necessary (e.g. when we are working on JRuby plugins for 3rd party software)."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1471364075, "post_id": 38229317, "comment_id": 65312196, "body": "You can always use the <code>path:</code> option in <code>Gemfile</code> which will allow you to work on local copies of the gem until you resolve conflicts. You can&#39;t have two contradictory versions of a gem loaded if they both use the same namespace."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 2, "last_activity_date": 1467823420, "creation_date": 1467823420, "answer_id": 38229317, "question_id": 38228732, "link": "https://stackoverflow.com/questions/38228732/can-i-get-rubygems-to-ignore-gem-version-conflicts/38229317#38229317", "title": "Can I get rubygems to ignore gem version conflicts?", "body": "<p>You need to worry about version conflicts now before you can get anything done. As Ruby has a singular root namespace and every dependency gets loaded there it's generally not possible to load multiple versions of the same gem. Other systems like NPM for Node.js are significantly more flexible, it's possible to load any number of versions at the same time, so if you're used to that you'll need to adjust your expectations.</p>\n\n<p>If you're trying to do testing and you want to avoid resolving a conflict, just remove that <code>gem</code> requirement from the <code>Gemfile</code> temporarily.</p>\n\n<p>Ultimately you'll have to fix things, there's no way around it, but you can always be selective about what you require.</p>\n"}, {"comments": [{"owner": {"reputation": 1321, "user_id": 1025695, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8980c65a94bb9a9a5526d464791b7644?s=128&d=identicon&r=PG", "display_name": "Huliax", "link": "https://stackoverflow.com/users/1025695/huliax"}, "edited": false, "score": 0, "creation_date": 1471362810, "post_id": 38963645, "comment_id": 65311439, "body": "A bit heavy-handed...but I like it!  I&#39;ll give it a try next time I am in need."}], "tags": [], "owner": {"reputation": 81, "user_id": 3075974, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eDjwBErD_Z8/AAAAAAAAAAI/AAAAAAAAAFs/DUaiY2wZzG4/photo.jpg?sz=128", "display_name": "Jonny", "link": "https://stackoverflow.com/users/3075974/jonny"}, "is_accepted": false, "score": 0, "last_activity_date": 1471299074, "last_edit_date": 1471299074, "creation_date": 1471298069, "answer_id": 38963645, "question_id": 38228732, "link": "https://stackoverflow.com/questions/38228732/can-i-get-rubygems-to-ignore-gem-version-conflicts/38963645#38963645", "title": "Can I get rubygems to ignore gem version conflicts?", "body": "<p>If you really know what you are doing, try this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>export NOEXEC_DISABLE=1\nruby you-program.rb\n</code></pre>\n\n<p>This environment variable will disable search and check for Gemfiles and gem versions.</p>\n"}], "owner": {"reputation": 1321, "user_id": 1025695, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8980c65a94bb9a9a5526d464791b7644?s=128&d=identicon&r=PG", "display_name": "Huliax", "link": "https://stackoverflow.com/users/1025695/huliax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1471299074, "creation_date": 1467821581, "question_id": 38228732, "link": "https://stackoverflow.com/questions/38228732/can-i-get-rubygems-to-ignore-gem-version-conflicts", "title": "Can I get rubygems to ignore gem version conflicts?", "body": "<p>I have done a bit of digging through the rubygems code and it doesn't look like there is a built-in way to get it to not throw a <code>Gem::ConflictError</code> even if there is one.  During development I might be wanting to test something that I know is not going to touch the code from which the conflict is coming or I know that the whatever version of the erstwhile conflicting gem isn't going to cause a problem.  I just want to get on with testing what I want to test and I'll worry about version conflicts later.</p>\n\n<p>I know I can hack rubygems to do this.  I can think or multiple ways to get it done.  I'm just kind of curious if anyone has already done this, how they did it, and maybe if that code has been shared somewhere.  I'm also a bit curious as to why this isn't built in to rubygems as a development tool.</p>\n"}, {"tags": ["ruby", "capistrano", "ansible"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467823550, "post_id": 38228664, "comment_id": 63880477, "body": "Capistrano generally needs to run on your local machine and Ansible is all about running commands on the remote machine. Are you sure this is practical? I&#39;m not sure what <code>MACHINE</code> is, it seems non-standard."}, {"owner": {"reputation": 805, "user_id": 2521743, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Gle7p.jpg?s=128&g=1", "display_name": "joaonrb", "link": "https://stackoverflow.com/users/2521743/joaonrb"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467824176, "post_id": 38228664, "comment_id": 63880837, "body": "I don&#39;t think this is practical. Ideally I would redesign all with ansible. But I lack in time for that or to learn how to setup with capistrano.  Is there a way for capistrano to run locally?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1467825749, "post_id": 38228664, "comment_id": 63881774, "body": "I&#39;m saying that Capistrano intrinsically runs local, executing remote commands over SSH. Ansible is similar. Running Capistrano through Ansible means running...remote commands from the remote server to the remote server? They&#39;re two tools trying to do the same job."}], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 418819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c71172a2607435749381f39b1a17e97?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/418819/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1502639692, "creation_date": 1502639692, "answer_id": 45662202, "question_id": 38228664, "link": "https://stackoverflow.com/questions/38228664/how-to-call-capistrano-from-ansible-script/45662202#45662202", "title": "How to call capistrano from ansible script", "body": "<p>This worked for me if the ansible playbook is run from the directory you'd normall run <code>cap</code> from.</p>\n\n<pre><code>- name: capistrano deploy\n  local_action: shell cap generic_production deploy\n  become: false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 951, "user_id": 409644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58145c748a53871bf621860ee7febf77?s=128&d=identicon&r=PG", "display_name": "fuzzygroup", "link": "https://stackoverflow.com/users/409644/fuzzygroup"}, "is_accepted": false, "score": 0, "last_activity_date": 1524150859, "creation_date": 1524150859, "answer_id": 49924569, "question_id": 38228664, "link": "https://stackoverflow.com/questions/38228664/how-to-call-capistrano-from-ansible-script/49924569#49924569", "title": "How to call capistrano from ansible script", "body": "<p>If you're trying to run your cap deploy on a remote machine then local_action isn't right.  Here's an tiny task that works for an rbenv environment (and possibly rvm but I didn't test that):</p>\n\n<pre><code>- name: Run Capistrano\n  shell: bash -lc \"bundle exec cap production deploy\"\n     chdir=/home/ubuntu/rails/myapp\n</code></pre>\n\n<p>The -lc trick is key here since that runs this as a login shell forcing your rbenv settings to be executed.</p>\n"}], "owner": {"reputation": 805, "user_id": 2521743, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Gle7p.jpg?s=128&g=1", "display_name": "joaonrb", "link": "https://stackoverflow.com/users/2521743/joaonrb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1524150859, "creation_date": 1467821290, "last_edit_date": 1467824043, "question_id": 38228664, "link": "https://stackoverflow.com/questions/38228664/how-to-call-capistrano-from-ansible-script", "title": "How to call capistrano from ansible script", "body": "<p>My problem is a bit tricky. I was given a task to make an deployment script for a system build in Ruby(not developed by me). This project already has a capistrano deployment that works fine as long as the machine has a previous setup. My task is to automate this setup without touching the capistrano part. Since I have no knowledge of capistrano and have very litle time to do it I decided to use ansible. </p>\n\n<p>The idea is to run the ansible script, this sets up the machine and call capistrano to deploy the project. I tried the following tasks and all produced some errors:</p>\n\n<pre><code>- name: Run cap\n  shell: \"cap generic_production deploy\"\n  environment:\n    MACHINE: localhost\n  args:\n    chdir: /home/{{ansible_user_id}}/project\n</code></pre>\n\n<pre class=\"lang-sh prettyprint-override\"><code>fatal: [test]: FAILED! =&gt; {\"changed\": true, \"cmd\": \"cap generic_production deploy\", \"delta\": \"0:00:00.106225\", \"end\": \"2016-07-06 15:54:42.482794\", \"failed\": true, \"rc\": 1, \"start\": \"2016-07-06 15:54:42.376569\", \"stderr\": \"/usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- capistrano/setup (LoadError)\n  from /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:152:in `require'\n  from Capfile:2:in `load'\\\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:93:in `instance_eval'\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:93:in `load'\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:172:in `load_from_file'\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:89:in `load'\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:86:in `block in load'\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:86:in `each'\n  from /usr/lib/ruby/vendor_ruby/capistrano/configuration/loading.rb:86:in `load'\n  from /usr/lib/ruby/vendor_ruby/capistrano/cli/execute.rb:65:in `block in load_recipes'\n  from /usr/lib/ruby/vendor_ruby/capistrano/cli/execute.rb:65:in `each'\n  from /usr/lib/ruby/vendor_ruby/capistrano/cli/execute.rb:65:in `load_recipes'\n  from /usr/lib/ruby/vendor_ruby/capistrano/cli/execute.rb:31:in `execute!'\n  from /usr/lib/ruby/vendor_ruby/capistrano/cli/execute.rb:14:in `execute'\n  from /usr/bin/cap:4:in `&lt;main&gt;'\", \"stdout\": \"\", \"stdout_lines\": [], \"warnings\": []}\n</code></pre>\n\n<pre><code>- name: Run cap\n  shell: \"bundle exec cap generic_production deploy\"\n  environment:\n    MACHINE: localhost\n  args:\n    chdir: /home/{{ansible_user_id}}/project\n</code></pre>\n\n<pre class=\"lang-sh prettyprint-override\"><code>fatal: [test]: FAILED! =&gt; {\"changed\": true, \"cmd\": \"bundle exec cap generic_production deploy\", \"delta\": \"0:00:00.001287\", \"end\": \"2016-07-06 15:50:21.472625\", \"failed\": true, \"rc\": 127, \"start\": \"2016-07-06 15:50:21.471338\", \"stderr\": \"/bin/sh: 1: bundle: not found\", \"stdout\": \"\", \"stdout_lines\": [], \"warnings\": []}\n</code></pre>\n\n<pre><code>- name: Run cap\n  shell: \"sudo -iu {{ansible_user_id}} bundle exec cap generic_production deploy\"\n  environment:\n    MACHINE: localhost\n  args:\n    chdir: /home/{{ansible_user_id}}/project\n</code></pre>\n\n<pre class=\"lang-sh prettyprint-override\"><code>fatal: [test]: FAILED! =&gt; {\"changed\": true, \"cmd\": \"sudo -iu deploy bundle exec cap generic_production deploy\", \"delta\": \"0:00:00.230098\", \"end\": \"2016-07-06 15:28:42.623268\", \"failed\": true, \"rc\": 10, \"start\": \"2016-07-06 15:28:42.393170\", \"stderr\": \"\", \"stdout\": \"Could not locate Gemfile or .bundle/ directory\", \"stdout_lines\": [\"Could not locate Gemfile or .bundle/ directory\"], \"warnings\": [\"Consider using 'become', 'become_method', and 'become_user' rather than running sudo\"]}\n</code></pre>\n\n<p>Is there a way to call capistrano from ansible or it can't be done?</p>\n\n<p>EDIT:\nThe generic_production is a deployment script that uses <strong>MACHINE</strong> as target.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "impressionist"], "answers": [{"tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": true, "score": 0, "last_activity_date": 1467821492, "creation_date": 1467821492, "answer_id": 38228711, "question_id": 38228431, "link": "https://stackoverflow.com/questions/38228431/impressionist-gem-sort-posts-by-views/38228711#38228711", "title": "Impressionist gem - sort posts by views", "body": "<p>Did you added field to your model?</p>\n\n<pre><code>is_impressionable :counter_cache =&gt; true\n</code></pre>\n\n<blockquote>\n  <p>This will automatically increment the impressions_count column in the\n  included model. Note: <strong>You'll need to add that column to your model.</strong></p>\n</blockquote>\n\n<p>To add you can do:</p>\n\n<pre><code>t.integer :my_column_name, :default =&gt; 0\n</code></pre>\n\n<p><a href=\"https://github.com/charlotte-ruby/impressionist#adding-column-to-model\" rel=\"nofollow\">Read about this moment</a></p>\n"}], "owner": {"reputation": 1225, "user_id": 5724342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0fc4bbc261a7a2a233a196a0b655fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmukh Singh", "link": "https://stackoverflow.com/users/5724342/gurmukh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 38228711, "answer_count": 1, "score": 0, "last_activity_date": 1467827418, "creation_date": 1467820637, "last_edit_date": 1467827418, "question_id": 38228431, "link": "https://stackoverflow.com/questions/38228431/impressionist-gem-sort-posts-by-views", "title": "Impressionist gem - sort posts by views", "body": "<p>I'm using the following <a href=\"https://github.com/charlotte-ruby/impressionist#adding-a-counter-cache\" rel=\"nofollow\">gem</a> and now I'm trying to sort posts by the number of views.</p>\n\n<p>I have followed the instructions and in my post model, so I have:</p>\n\n<pre><code>is_impressionable :counter_cache =&gt; true\n</code></pre>\n\n<p>And in my controller, I have:</p>\n\n<pre><code>@mostpopular = @posts.order('counter_cache DESC').limit(6)\n</code></pre>\n\n<p>But I'm getting an error:</p>\n\n<blockquote>\n  <p>SQLite3::SQLException: no such column: counter_cache: SELECT  \"posts\".* FROM \"posts\"  ORDER BY counter_cache DESC LIMIT 6</p>\n</blockquote>\n"}, {"tags": ["ruby", "whitespace", "zlib"], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 3, "last_activity_date": 1467816671, "creation_date": 1467816671, "answer_id": 38227086, "question_id": 38226416, "link": "https://stackoverflow.com/questions/38226416/zlib-with-non-breaking-space/38227086#38227086", "title": "Zlib with non-breaking space", "body": "<p>ZLib doesn't keep the encoding. Your string is probably UTF-8 encoded:</p>\n\n<pre><code>str = \"hello\\xA0world\"\nstr.encoding\n#=&gt; &lt;Encoding:UTF-8&gt;\n</code></pre>\n\n<p>But ZLib returns a ACSII encoded string:</p>\n\n<pre><code>str_zipped = Zlib.deflate str\nstr = Zlib.inflate(str_zipped)\nstr.encoding\n#=&gt; &lt;Encoding:ASCII-8BIT&gt;\n</code></pre>\n\n<p>But when you <em>fix</em> that encoding:</p>\n\n<pre><code>str = \"hello\\xA0world\"\nstr_zipped = Zlib.deflate str\nstr_utf8 = Zlib.inflate(str_zipped).force_encoding('UTF-8')\nstr == str_utf8\n#=&gt; true\n</code></pre>\n"}], "owner": {"reputation": 6119, "user_id": 165753, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/w6iBN.jpg?s=128&g=1", "display_name": "dimid", "link": "https://stackoverflow.com/users/165753/dimid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 38227086, "answer_count": 1, "score": 2, "last_activity_date": 1467816671, "creation_date": 1467814909, "question_id": 38226416, "link": "https://stackoverflow.com/questions/38226416/zlib-with-non-breaking-space", "title": "Zlib with non-breaking space", "body": "<p>I ran into a weird problem when inflating and deflating strings with non-breaking space in ruby.</p>\n\n<p>Strings with regular spaces behave as expected:</p>\n\n<pre><code>str = \"hello world\"; str_zipped = Zlib.deflate str; str == Zlib.inflate(str_zipped)\n=&gt; true\n</code></pre>\n\n<p>However,</p>\n\n<pre><code>str = \"hello\\xA0world\"; str_zipped = Zlib.deflate str; str == Zlib.inflate(str_zipped)\n=&gt; false\n</code></pre>\n\n<p>Is this an expected behavior or a bug?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "link-to"], "comments": [{"owner": {"reputation": 2227, "user_id": 4723393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0ZUW.jpg?s=128&g=1", "display_name": "Akshay Borade", "link": "https://stackoverflow.com/users/4723393/akshay-borade"}, "edited": false, "score": 0, "creation_date": 1467814183, "post_id": 38226017, "comment_id": 63874066, "body": "Are you getting extra white space in link text ?"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6522794, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154384211009009/picture?type=large", "display_name": "Quentin", "link": "https://stackoverflow.com/users/6522794/quentin"}, "edited": false, "score": 0, "creation_date": 1467817836, "post_id": 38226581, "comment_id": 63876812, "body": "My &#39;first_name&#39; attribute was already cleaned in terms of whitespaces (before saving in the DB). The suggestion by @spickermann made the job. Thanks in any case!"}], "tags": [], "owner": {"reputation": 21, "user_id": 5919340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba02166e4190e06f1a78bb27d15c6485?s=128&d=identicon&r=PG&f=1", "display_name": "linux", "link": "https://stackoverflow.com/users/5919340/linux"}, "is_accepted": false, "score": 0, "last_activity_date": 1467815976, "last_edit_date": 1467815976, "creation_date": 1467815314, "answer_id": 38226581, "question_id": 38226017, "link": "https://stackoverflow.com/questions/38226017/ruby-rails-delete-space-after-link-to-without-haml/38226581#38226581", "title": "ruby rails delete space after link_to without HAML", "body": "<p>As Akshay said you can use <code>.strip</code> or <code>.strip!</code> to remove leading and trailing whitespace.But if you want to remove all whitespace use some tricky hack like <code>.gsub(/\\s+/, \"\")</code> or <code>.gsub(\" \",\"\")</code>.</p>\n\n<pre><code>&lt;%= link_to liker.first_name.capitalize.to_s.gsub(/\\s+/, \"\"), user_path(liker) %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 0, "last_activity_date": 1467815531, "creation_date": 1467815531, "answer_id": 38226659, "question_id": 38226017, "link": "https://stackoverflow.com/questions/38226017/ruby-rails-delete-space-after-link-to-without-haml/38226659#38226659", "title": "ruby rails delete space after link_to without HAML", "body": "<p>You always get a whitespace between inline html elements if you put them in different lines in your html document. For example</p>\n\n<pre><code>&lt;span&gt;foo&lt;/span&gt;\n&lt;span&gt;bar&lt;/span&gt;\n</code></pre>\n\n<p>would render as \"foo bar\" on the page. But if you write that html elements next to each other in one line, without a whitespace in between</p>\n\n<pre><code>&lt;span&gt;foo&lt;/span&gt;&lt;span&gt;bar&lt;/span&gt;\n</code></pre>\n\n<p>it would render as \"foobar\".</p>\n\n<p>That said: Just write the <code>link_to</code> into the same line with the text that should not be separated with a whitespace:</p>\n\n<pre><code>foo&lt;%= link_to 'bar', '#' %&gt;baz\n</code></pre>\n\n<p>Would look like \"foo<a href=\"https://stackoverflow.com/questions/38226017/ruby-rails-delete-space-after-link-to-without-haml\">bar</a>baz\" without any whitespace</p>\n"}], "owner": {"reputation": 57, "user_id": 6522794, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154384211009009/picture?type=large", "display_name": "Quentin", "link": "https://stackoverflow.com/users/6522794/quentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 38226659, "answer_count": 2, "score": 0, "last_activity_date": 1467821505, "creation_date": 1467813861, "last_edit_date": 1495542151, "question_id": 38226017, "link": "https://stackoverflow.com/questions/38226017/ruby-rails-delete-space-after-link-to-without-haml", "title": "ruby rails delete space after link_to without HAML", "body": "<p>I am programming an app with Ruby on Rails and, in some views, I would like to get rid of the automatic whitespace triggered by the 'link_to' helper.</p>\n\n<pre class=\"lang-eruby prettyprint-override\"><code>&lt;%= link_to liker.first_name.capitalize, user_path(liker) %&gt;\n   &lt;!-- Example of link with a user's firstname (who liked a given content), redirecting to it's user profile --&gt;\n</code></pre>\n\n<p>I have read <a href=\"https://stackoverflow.com/questions/5680099/haml-remove-white-space-after-link-to\">this post</a>, which talks about using HAML (that I do not use). Isn't it possible to delete this tiny whitespace only using Ruby on Rails?</p>\n"}, {"tags": ["ruby", "github", "sublimetext2"], "comments": [{"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1467813191, "post_id": 38225768, "comment_id": 63873337, "body": "mixed tabs and spaces? how is your sublime set up?"}, {"owner": {"reputation": 283, "user_id": 5962592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/09e937e3c5361ac06e5c17d9f0a133db?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/5962592/jes"}, "reply_to_user": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1467813242, "post_id": 38225768, "comment_id": 63873378, "body": "I used only spaces, no tabs"}, {"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1467813342, "post_id": 38225768, "comment_id": 63873464, "body": "can you double-check your <code>translateTabsToSpaces</code> in Sublime, it should be set to true."}, {"owner": {"reputation": 600, "user_id": 6415214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/724639d25ea6bd412bda6abf99db896b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6415214/charles"}, "edited": false, "score": 0, "creation_date": 1467813645, "post_id": 38225768, "comment_id": 63873682, "body": "Windows, Linux, Mac? On Windows, when you install Git it defaults to switching line endings at a minimum. Don&#39;t know if it does any other weirdness."}, {"owner": {"reputation": 283, "user_id": 5962592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/09e937e3c5361ac06e5c17d9f0a133db?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/5962592/jes"}, "edited": false, "score": 0, "creation_date": 1467813685, "post_id": 38225768, "comment_id": 63873717, "body": "thank you for your advice, I chose Preferences -&gt; Settings - User and I placed &quot;translate_tabs_to_spaces&quot;: true inside and saved it. Should it work now on Github after pushing it one more time?"}, {"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1467813771, "post_id": 38225768, "comment_id": 63873775, "body": "<a href=\"https://css-tricks.com/changing-spaces-tabs-sublime-text/\" rel=\"nofollow noreferrer\">css-tricks.com/changing-spaces-tabs-sublime-text</a>"}, {"owner": {"reputation": 283, "user_id": 5962592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/09e937e3c5361ac06e5c17d9f0a133db?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/5962592/jes"}, "edited": false, "score": 0, "creation_date": 1467814080, "post_id": 38225768, "comment_id": 63873991, "body": "I&#39;m on Ubuntu. I changed it, pushed again but still the same problem. My code looks totally different - if, end were on the same level, now it&#39;s in completely different place, while in Sublime it looks perfectly fine"}], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 5962592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/09e937e3c5361ac06e5c17d9f0a133db?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/5962592/jes"}, "edited": false, "score": 0, "creation_date": 1467878499, "post_id": 38228903, "comment_id": 63901620, "body": "Thank you, I&#39;ll try, but I&#39;ve used only spaces - never hit a &quot;tab&quot; button in my code"}], "tags": [], "owner": {"reputation": 1717, "user_id": 1034924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecedc78563223e4f7742bbfc66992905?s=128&d=identicon&r=PG", "display_name": "nzajt", "link": "https://stackoverflow.com/users/1034924/nzajt"}, "is_accepted": true, "score": 1, "last_activity_date": 1467822028, "last_edit_date": 1495535332, "creation_date": 1467822028, "answer_id": 38228903, "question_id": 38225768, "link": "https://stackoverflow.com/questions/38225768/github-changes-indentation/38228903#38228903", "title": "Github changes indentation", "body": "<p>I have had this issue before, but, it isn't with GitHub, it is with your code. If you use a tab and tell Sublime show it as 2 spaces it is still passing <code>\\t</code> and not <code>\\s\\s</code> in the code. </p>\n\n<p>The real solution is to us spaces <code>\\s</code> instead of tabs <code>\\t</code>, you can easily change a tab to 2 spaces in Sublime, Vim, Text-mate or whatever you want to use. Then the formatting will look the same for everyone and on all platforms.</p>\n\n<p>The Sublime docs for tabs to spaces.\n<a href=\"https://www.sublimetext.com/docs/2/indentation.html\" rel=\"nofollow noreferrer\">https://www.sublimetext.com/docs/2/indentation.html</a></p>\n\n<p>Also check out this question for more about tabs in Github.\n<a href=\"https://stackoverflow.com/questions/8833953/how-to-change-tab-size-on-github\">How to change tab size on GitHub?</a></p>\n"}], "owner": {"reputation": 283, "user_id": 5962592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/09e937e3c5361ac06e5c17d9f0a133db?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/5962592/jes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "accepted_answer_id": 38228903, "answer_count": 1, "score": 0, "last_activity_date": 1467822028, "creation_date": 1467813120, "last_edit_date": 1467813870, "question_id": 38225768, "link": "https://stackoverflow.com/questions/38225768/github-changes-indentation", "title": "Github changes indentation", "body": "<p>I've pushed my code in Ruby to remote Github repository. My code looks completely different now - in Sublime text it was perfectly fomatted, 2 spaces indentation as it should be in Ruby for every logical level. But on Github it's all over the place. What's the reason for it and what can I do to have my code exactly the same as locally?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "forms", "search", "ransack"], "owner": {"reputation": 109, "user_id": 6435617, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a0225018e8b0abafec82a7a60973b6e0?s=128&d=identicon&r=PG&f=1", "display_name": "Djangert", "link": "https://stackoverflow.com/users/6435617/djangert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1467814129, "creation_date": 1467812841, "last_edit_date": 1467814129, "question_id": 38225658, "link": "https://stackoverflow.com/questions/38225658/trouble-coding-links-which-insert-search-values-into-ransack-form", "title": "trouble coding links which insert search values into ransack form", "body": "<p>I've coded in a page in which data from a database is pulled and subsequently when I click on what is displayed it enters a corresponding value into the search function on the application and displays the results, the code can be seen below:</p>\n\n<p>course view:</p>\n\n<pre><code>&lt;!-- Index of all Courses --&gt;\n&lt;% provide(:title, \"Course\") %&gt;\n\n&lt;!--containers for design/layout --&gt; \n&lt;div class = \"signinstyle\"&gt;\n  &lt;div class = \"row\"&gt;\n    &lt;!--Page information --&gt; \n\n\n      &lt;%= form_tag(degree_new_path, :method =&gt; \"get\", id: \"search-data\") do %&gt;\n\n\n            &lt;table border=\"1\" class=\"table\"&gt;\n              &lt;thead&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;Courses&lt;/th&gt;\n                &lt;/tr&gt;\n              &lt;/thead&gt;\n              &lt;tbody&gt;\n                &lt;% @ads.each do |degree| %&gt;\n                    &lt;tr&gt;\n\n\n                 &lt;td&gt; &lt;%= link_to degree.cname, keyword_search_path(search: degree.cname) %&gt;                 \n\n\n\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;% end %&gt;\n              &lt;/tbody&gt;\n            &lt;/table&gt;\n      &lt;%= submit_tag \"Select\" %&gt;\n      &lt;% end %&gt;\n\n    &lt;!--closing the design/layout containers --&gt; \n    &lt;/div&gt;\n&lt;/div&gt;\n\n\ndegree controller (the above view is within this):\nclass Degree &lt; ActiveRecord::Base\n\n  def Degree.search(search)\n    where(\"cname LIKE ? OR ucas LIKE ?\", \"%#{search}%\", \"%#{search}%\")\n  end\nend\n</code></pre>\n\n<p>search controller (as I use my keyword search in the view):</p>\n\n<pre><code>  def keyword_search\n    @search = Degree.all.select(:uname, :cname, :ucas, :duration, :qualification, :entry).distinct.order(id: :ASC)\n    if params[:search]\n      @search_degree = Degree.search(params[:search]).order('cname ASC')\n    end\n  end\n\n  def course\n    @select = Degree.all.select(:uname, :cname, :ucas, :duration, :qualification, :entry).distinct.order(id: :ASC)\n    if params[:search]\n      @select_degree = Degree.search(params[:search])\n    end\n  end\n</code></pre>\n\n<p>I'm trying to replicate the above code so I can click on similar links which will enter data into the ransack search function I have but have been unable to do so, if anybody could help me out it would be appreciated. Below is the code I'm currently trying to get to work:</p>\n\n<p>Searches controller:</p>\n\n<pre><code>  def adsearch\n    @adsearch = Degree.ransack(params[:q])\n    @data = @adsearch.result\n    @adsearch.build_condition if @adsearch.conditions.empty?\n    @adsearch.build_sort if @adsearch.sorts.empty?\n  end\n</code></pre>\n\n<p>the view file:</p>\n\n<pre><code>&lt;!-- Index of all Courses --&gt;\n&lt;% provide(:title, \"Course\") %&gt;\n\n&lt;!--containers for design/layout --&gt; \n&lt;div class = \"signinstyle\"&gt;\n  &lt;div class = \"row\"&gt;\n    &lt;!--Page information --&gt; \n\n\n      &lt;%= form_tag(degree_new_path, :method =&gt; \"get\", id: \"search-data\") do %&gt;\n\n\n            &lt;table border=\"1\" class=\"table\"&gt;\n              &lt;thead&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;Courses&lt;/th&gt;\n                &lt;/tr&gt;\n              &lt;/thead&gt;\n              &lt;tbody&gt;\n                &lt;% @ads.each do |degree| %&gt;\n                    &lt;tr&gt;\n\n\n                  &lt;td&gt; &lt;%= link_to degree.subject_group, adsearch_path(name: ucas &amp; value: degree.ucas_letter) %&gt;\n\n\n\n\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;% end %&gt;\n              &lt;/tbody&gt;\n            &lt;/table&gt;\n      &lt;%= submit_tag \"Select\" %&gt;\n      &lt;% end %&gt;\n\n    &lt;!--closing the design/layout containers --&gt; \n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>With the last two exerts of code it displays what I'm asking it to display on the initial view but doesn't enter the value I wish it to enter into the ransack search and as such doesn't create a search when clicked upon like the first example does.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1467837589, "post_id": 38225643, "comment_id": 63888373, "body": "Read through the Ruby documentation, especially the class documentation for the methods that come with Ruby. They are your friends. <a href=\"http://ruby-doc.org/core-2.3.1/String.html#method-i-capitalize\" rel=\"nofollow noreferrer\"><code>capitalize</code></a> vs. <a href=\"http://ruby-doc.org/core-2.3.1/String.html#method-i-capitalize-21\" rel=\"nofollow noreferrer\"><code>capitalize!</code></a> It&#39;s really important, if you&#39;re going to program, that you get in the habit of reading the documentation of any language you pick up. Tutorials are OK, but the documentation is the source of truth."}], "answers": [{"tags": [], "owner": {"reputation": 1044, "user_id": 2678080, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75e8d8becff60d259d65e01582b0d634?s=128&d=identicon&r=PG", "display_name": "Charizard_", "link": "https://stackoverflow.com/users/2678080/charizard"}, "is_accepted": false, "score": 1, "last_activity_date": 1467837726, "last_edit_date": 1467837726, "creation_date": 1467813095, "answer_id": 38225753, "question_id": 38225643, "link": "https://stackoverflow.com/questions/38225643/ruby-beginner-im-a-little-confused/38225753#38225753", "title": "Ruby beginner i&#39;m a little confused", "body": "<p>From the Ruby <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-capitalize\" rel=\"nofollow\"><code>capitalize</code></a> docs:</p>\n\n<pre><code>capitalize\n</code></pre>\n\n<blockquote>\n  <p>Returns a copy of str with the first character converted to uppercase\n  and the remainder to lowercase.</p>\n</blockquote>\n\n<pre><code>capitalize!\n</code></pre>\n\n<blockquote>\n  <p>Modifies str by converting the first character to uppercase and the\n  remainder to lowercase. Returns nil if no changes are made.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 6556444, "user_type": "registered", "profile_image": "https://graph.facebook.com/1183524621692845/picture?type=large", "display_name": "Yasmine Guemouria", "link": "https://stackoverflow.com/users/6556444/yasmine-guemouria"}, "edited": false, "score": 0, "creation_date": 1467813967, "post_id": 38225766, "comment_id": 63873896, "body": "I don&#39;t understand what you mean by &quot;returns a capitalized version of my_name without affecting the object that my_name points to&quot;"}, {"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "reply_to_user": {"reputation": 27, "user_id": 6556444, "user_type": "registered", "profile_image": "https://graph.facebook.com/1183524621692845/picture?type=large", "display_name": "Yasmine Guemouria", "link": "https://stackoverflow.com/users/6556444/yasmine-guemouria"}, "edited": false, "score": 0, "creation_date": 1467814332, "post_id": 38225766, "comment_id": 63874180, "body": "You know that a variable keeps a value. In the first case, capitalize, is a method that returns a string with first letter capitalized and don&#39;t change the value of your variable. In the latter, the method returns a string with the first letter capitalized too but it changes the value of your variable too."}, {"owner": {"reputation": 27, "user_id": 6556444, "user_type": "registered", "profile_image": "https://graph.facebook.com/1183524621692845/picture?type=large", "display_name": "Yasmine Guemouria", "link": "https://stackoverflow.com/users/6556444/yasmine-guemouria"}, "edited": false, "score": 0, "creation_date": 1467816371, "post_id": 38225766, "comment_id": 63875785, "body": "thank you, i do understand now!"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1467821171, "post_id": 38225766, "comment_id": 63879069, "body": "Generally speaking, one must not rely on return value of in-place-mutation methods. They return nil sometimes. Their primary purpose is the side effect."}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": true, "score": 3, "last_activity_date": 1467837677, "last_edit_date": 1467837677, "creation_date": 1467813118, "answer_id": 38225766, "question_id": 38225643, "link": "https://stackoverflow.com/questions/38225643/ruby-beginner-im-a-little-confused/38225766#38225766", "title": "Ruby beginner i&#39;m a little confused", "body": "<p>The difference is</p>\n\n<pre><code>my_name.capitalize\n</code></pre>\n\n<p>returns a capitalized version of <code>my_name</code> without affecting the object <code>my_name</code> points to, while</p>\n\n<pre><code>my_name.capitalize!\n</code></pre>\n\n<p>still returns a capitalized version of <code>my_name</code> but <code>my_name</code> is changed too, so</p>\n\n<pre><code>my_name = \"john\"\nputs my_name.capitalize #\u00a0print 'John' but the value of my_name is 'john'\nputs my_name.capitalize! # print 'John' and now the value of my_name is 'John'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 6556444, "user_type": "registered", "profile_image": "https://graph.facebook.com/1183524621692845/picture?type=large", "display_name": "Yasmine Guemouria", "link": "https://stackoverflow.com/users/6556444/yasmine-guemouria"}, "edited": false, "score": 0, "creation_date": 1467852122, "post_id": 38228484, "comment_id": 63893498, "body": "thanks a lot for your explanation."}], "tags": [], "owner": {"reputation": 562, "user_id": 4937581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-busS9MCZ-MM/AAAAAAAAAAI/AAAAAAAAFg8/MKMidpR9z8Y/photo.jpg?sz=128", "display_name": "Alfredo Gallegos", "link": "https://stackoverflow.com/users/4937581/alfredo-gallegos"}, "is_accepted": false, "score": 0, "last_activity_date": 1467820790, "creation_date": 1467820790, "answer_id": 38228484, "question_id": 38225643, "link": "https://stackoverflow.com/questions/38225643/ruby-beginner-im-a-little-confused/38228484#38228484", "title": "Ruby beginner i&#39;m a little confused", "body": "<p>I'm always so happy to see somebody getting into ruby!</p>\n\n<p>The thing with ruby is that, even though it's a very friendly language, it assumes a lot of things without necessarily telling the newbies about it. They make lots of sense once you have a couple months under the belt with the language, but not before, so I understand your question.</p>\n\n<p>First of all, the bang (!) is just part of the name itself. Ruby allows exclamation points and question marks as part of the method name just as any other character. Cool, right?</p>\n\n<p>Why do people bother, though? Well, it's a convention. As a rule of thumb, an accepted explanation of why a method should have a bang sign is that the method does an <strong>invasive, destructive or mutating thing</strong>, that is, it destroys data, runs a transaction on the database, permanently changes data, etc.</p>\n\n<p>It's not obligatory to name these kinds of methods like this, but it's a convention that's very well withheld in the Ruby community.</p>\n\n<p>Programming Ruby says:</p>\n\n<blockquote>\n  <p>Methods that are \"dangerous,\" or modify the receiver, might be named\n  with a trailing \"!\".</p>\n</blockquote>\n\n<p>Hope this answers your question.</p>\n"}], "owner": {"reputation": 27, "user_id": 6556444, "user_type": "registered", "profile_image": "https://graph.facebook.com/1183524621692845/picture?type=large", "display_name": "Yasmine Guemouria", "link": "https://stackoverflow.com/users/6556444/yasmine-guemouria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "closed_date": 1467822907, "accepted_answer_id": 38225766, "answer_count": 3, "score": -1, "last_activity_date": 1467910137, "creation_date": 1467812798, "last_edit_date": 1467910137, "question_id": 38225643, "link": "https://stackoverflow.com/questions/38225643/ruby-beginner-im-a-little-confused", "closed_reason": "Duplicate", "title": "Ruby beginner i&#39;m a little confused", "body": "<p>I would like to know what the difference is between these two examples:</p>\n\n<pre><code>my_name = gets.chomp\nmy_name.capitalize \n</code></pre>\n\n<p>and </p>\n\n<pre><code>my_name = gets.chomp\nmy_name.capitalize!\n</code></pre>\n"}, {"tags": ["ruby", "timezone"], "comments": [{"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 2, "creation_date": 1467812719, "post_id": 38225555, "comment_id": 63873013, "body": "What do you have as an input and what do you want as an output? It is not clear from your question."}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 2, "creation_date": 1467812778, "post_id": 38225555, "comment_id": 63873051, "body": "It is not clear to me what kind of data you already have (time zone names, the offset as a string)? And I am not sure if I understand the expected output (a string with an offset, a number)? Can you please elaborate on the input and the expected output?"}], "answers": [{"tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": false, "score": 0, "last_activity_date": 1467821950, "creation_date": 1467821950, "answer_id": 38228874, "question_id": 38225555, "link": "https://stackoverflow.com/questions/38225555/get-offset-of-timezone-in-minutes/38228874#38228874", "title": "Get offset of timezone in minutes", "body": "<p><code>ActiveSupport::TimeZone</code> has <code>utc_offset</code> method</p>\n\n<blockquote>\n  <p>Returns the offset of this time zone from UTC in seconds.</p>\n</blockquote>\n\n<p>So you can do:</p>\n\n<pre><code>Time.now.utc_offset / 1.minute\n</code></pre>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html#method-i-utc_offset\" rel=\"nofollow\">Documentation</a></p>\n"}], "owner": {"reputation": 2111, "user_id": 1846982, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9979071c5c3697ae9e8b8f50062a1782?s=128&d=identicon&r=PG&f=1", "display_name": "Bloomberg", "link": "https://stackoverflow.com/users/1846982/bloomberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467987977, "creation_date": 1467812569, "last_edit_date": 1467987977, "question_id": 38225555, "link": "https://stackoverflow.com/questions/38225555/get-offset-of-timezone-in-minutes", "title": "Get offset of timezone in minutes", "body": "<p>How can I get the offset of a time zone with \"+10:00\" or \"+05:30\" in Ruby or Ruby on Rails?</p>\n\n<p>I have users in different time zones. Do I need to calculate the offset from their time zone, or there is a Ruby class to do that?</p>\n\n<pre><code>user_id   timezone\n45         \"+10:00\"\n34         \"+05:30\"\n33         \"+02:00\"\n32         \"+00:30\"\n</code></pre>\n\n<p>As you know, the time zone depends on the region. Australia uses \"+10:00\", India \"+05:30\", ... etc. What I am trying to get is the offset in minutes.</p>\n\n<p>So for +10:00 the offset would be +600.</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 745, "user_id": 3033467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a33988a3dc0d009236304ff4ad8d615?s=128&d=identicon&r=PG&f=1", "display_name": "user3033467", "link": "https://stackoverflow.com/users/3033467/user3033467"}, "edited": false, "score": 0, "creation_date": 1467811649, "post_id": 38225062, "comment_id": 63872314, "body": "Did you install the mysql2 gem? Your screen shows that you only have sqlite3, which is obviously used to connect to sqlite databases"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 3929168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098074813238ef72047ae505e385af42?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Martin", "link": "https://stackoverflow.com/users/3929168/manuel-martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467811506, "creation_date": 1467811506, "answer_id": 38225205, "question_id": 38225062, "link": "https://stackoverflow.com/questions/38225062/trying-to-connect-to-server-for-ruby-development/38225205#38225205", "title": "Trying to connect to server for ruby development", "body": "<p>You should check your database.yml and enters your connection parameters to your database.</p>\n\n<p>Should appears something like this:</p>\n\n<pre><code># MySQL.  Versions 4.1 and 5.0 are recommended.\n#\n# Install the MYSQL driver\n#   gem install mysql2\n#\n# Ensure the MySQL gem is defined in your Gemfile\n#   gem 'mysql2'\n#\n# And be sure to use new-style password hashing:\n# http://dev.mysql.com/doc/refman/5.0/en/old-client.html\ndevelopment:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: tst_database\n  pool: 5\n  username: root\n  password: \"my_password_on_sql_installation\"\n  #socket: /var/run/mysqld/mysqld.sock\n</code></pre>\n\n<p>After that run your server searching your route and typing <code>rails server</code> on promt.</p>\n"}], "owner": {"reputation": 11, "user_id": 6551565, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043158225753905/picture?type=large", "display_name": "Jairzinho", "link": "https://stackoverflow.com/users/6551565/jairzinho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467827296, "creation_date": 1467811065, "last_edit_date": 1467827296, "question_id": 38225062, "link": "https://stackoverflow.com/questions/38225062/trying-to-connect-to-server-for-ruby-development", "title": "Trying to connect to server for ruby development", "body": "<p>I'm new to ruby and having trouble setting up my server.</p>\n\n<p>I did all the gems installing and stuff have a <code>mysql2</code> server running but I can't connect to it trough my local host keep getting a error.</p>\n\n<p>So I've tried changing the default server <code>gem</code> that is puma don't even know what that is to <code>webrick</code> which was recommended and my active record database to mysql2 I get this a error\nI'll upload my server client connections and gemfile and such  if it is helpful.</p>\n\n<p>But what I'm basically trying to do is setting up a server to test my ruby apps.</p>\n\n<p><img src=\"https://i.stack.imgur.com/JU5k9.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "ruby"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1467809927, "post_id": 38224573, "comment_id": 63871104, "body": "You can&#39;t with methods that mutate objects in-place, they return <code>None</code>. Python isn&#39;t big on fluent interfaces in general. You could use <code>sorted(a, reverse=True)</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "edited": false, "score": 0, "creation_date": 1467812494, "post_id": 38224666, "comment_id": 63872844, "body": "Thanks; although <code>sorted(a, reverse=True)</code> is an alternative for this example, I wanted to check whether the &#39;chaining&#39; of methods was possible in general since I might want to use it for more complicated methods such as <code>map</code> and <code>filter</code>."}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "reply_to_user": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "edited": false, "score": 0, "creation_date": 1467812814, "post_id": 38224666, "comment_id": 63873081, "body": "In this case, you&#39;ve picked a bad example, I&#39;m afraid. You can chain methods <i>to the objects returned by previous methods</i>. For example, <code>a.sort</code> returns <code>None</code>, on which you could call methods, if it had any (you can actually call <code>a.sort().__hash__()</code>). Immutable types are better for this. Try <code>&quot;ab:cd&quot;.upper().center(20).partition(&#39;:&#39;)</code>."}], "tags": [], "owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "is_accepted": true, "score": 4, "last_activity_date": 1467813378, "last_edit_date": 1467813378, "creation_date": 1467810011, "answer_id": 38224666, "question_id": 38224573, "link": "https://stackoverflow.com/questions/38224573/chain-together-methods-in-python-as-in-ruby/38224666#38224666", "title": "Chain together methods in Python as in Ruby", "body": "<p>Clarification: The original answer is found below. As commented, the question is on chaining <em>in general</em>, not in any specific case. A clarification on this can be found at the end of this answer.</p>\n\n<hr>\n\n<p>You can write this down pretty much directly.</p>\n\n<pre><code>a = [2,3,1]\nb = sorted(a, reverse=True)\n</code></pre>\n\n<p>Even if you want to use only methods, you can do that rather straightforward as well:</p>\n\n<pre><code>a = [2,3,1]\nb = a.copy()  # a[:] in python2\nb.sort(reverse=True)\n</code></pre>\n\n<p>Python tends to be rather picky about implicit cloning. Copying references is cheap, copying objects is expensive. Since many python types are mutable, one can easily introduce subtle bugs when things are cloned (or not) by accident. Thus, most interfaces need you to explicitly clone things.</p>\n\n<hr>\n\n<p>Chaining methods in <code>python</code> is possible. However, chains only apply to the objects <em>returned</em> by previous method (or function) calls.</p>\n\n<p>Basically, chaining method calls is like chaining functions.</p>\n\n<pre><code>foo = they.method.method.method()\nfoo = my_func(your_func(their_func()))\n</code></pre>\n\n<p>Let's consider <code>[2,3,1].sort().reverse()</code>. This is actually equivalent to the following:</p>\n\n<pre><code>a = [2,3,1]\nb = a.sort()\nc = b.reverse()\n</code></pre>\n\n<p>Since <code>s.sort()</code> returns <code>None</code>, the third line will call <code>None.reverse()</code> - which is not defined for <code>None</code>.</p>\n\n<p>Immutable types generally behave better here. For example, strings cannot be modified inplace - their methods <em>return</em> new strings. Thus,</p>\n\n<pre><code>s = \"ab:cd\".upper().center(20).partition(':')\nprint(s)\n</code></pre>\n\n<p>gives <code>('       AB', ':', 'CD        ')</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 1, "creation_date": 1467877486, "post_id": 38226290, "comment_id": 63901037, "body": "If one wants to avoid <code>eval</code>, <code>[getattr(a, f)() for f in [&#39;sort&#39;, &#39;reverse&#39;]]</code> should work as well."}], "tags": [], "owner": {"reputation": 6899, "user_id": 6510497, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3go0E.png?s=128&g=1", "display_name": "Aguy", "link": "https://stackoverflow.com/users/6510497/aguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1467814581, "creation_date": 1467814581, "answer_id": 38226290, "question_id": 38224573, "link": "https://stackoverflow.com/questions/38224573/chain-together-methods-in-python-as-in-ruby/38226290#38226290", "title": "Chain together methods in Python as in Ruby", "body": "<p>To chain methods I can suggest the following. May not be considered good pythonianship, though :-). </p>\n\n<pre><code>a = [2,3,1]\n[eval('a.'+f+'()') for f in ['sort', 'reverse']]\n</code></pre>\n\n<p>Note that this has nothing to do with the methods working on the original object and not on a copy.</p>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 38224666, "answer_count": 2, "score": 4, "last_activity_date": 1467814581, "creation_date": 1467809741, "question_id": 38224573, "link": "https://stackoverflow.com/questions/38224573/chain-together-methods-in-python-as-in-ruby", "title": "Chain together methods in Python as in Ruby", "body": "<p>In Ruby, one can chain together methods like so:</p>\n\n<pre><code>a = [2,3,1]\nb = a.sort.reverse\n</code></pre>\n\n<p>which sets the value of the variable <code>b</code> to <code>[3,2,1]</code> while leaving <code>a</code> the same.</p>\n\n<p>I'd like to perform similar operations in Python. So far, the shortest way to do this I have found is:</p>\n\n<pre><code>import copy\na = [2,3,1]\nb = copy.copy(a)\nb.sort()\nb.reverse()\n</code></pre>\n\n<p>That is, with 5 lines of code instead of 2. Is there really no simpler way?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1467812612, "post_id": 38223939, "comment_id": 63872934, "body": "<code>render</code> was an interesting choice since it has different contexts for ActionView and ActionController but <code>api.rubyonrails.org</code> is a great resource but  apidoc can also help <a href=\"http://apidock.com/rails/ActionController/Base/render\" rel=\"nofollow noreferrer\"><code>ActionController::Base#render</code></a>  <a href=\"http://apidock.com/rails/v2.3.8/ActionView/Base/render\" rel=\"nofollow noreferrer\"><code>ActionView::Base#render</code></a>"}, {"owner": {"reputation": 1290, "user_id": 3934265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/k5DKq.jpg?s=128&g=1", "display_name": "dennis-tra", "link": "https://stackoverflow.com/users/3934265/dennis-tra"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467813028, "post_id": 38223939, "comment_id": 63873233, "body": "Wow apidoc is pretty much what I was searching for. How could I miss that site... thanks for the links! No I have to configure Dash to link to this resource ;)"}], "answers": [{"comments": [{"owner": {"reputation": 1290, "user_id": 3934265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/k5DKq.jpg?s=128&g=1", "display_name": "dennis-tra", "link": "https://stackoverflow.com/users/3934265/dennis-tra"}, "edited": false, "score": 0, "creation_date": 1467811849, "post_id": 38224264, "comment_id": 63872405, "body": "Thanks for your answer! But my question is rather how would I know that I can pass in the <code>:partial</code>, <code>:collection</code> and <code>:locals</code> symbols in the first place?"}], "tags": [], "owner": {"reputation": 636, "user_id": 4423221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6cakp.jpg?s=128&g=1", "display_name": "Hardik Kanjariya \u30c4", "link": "https://stackoverflow.com/users/4423221/hardik-kanjariya-%e3%83%84"}, "is_accepted": false, "score": 0, "last_activity_date": 1467808827, "creation_date": 1467808827, "answer_id": 38224264, "question_id": 38223939, "link": "https://stackoverflow.com/questions/38223939/rails-possible-function-arguments/38224264#38224264", "title": "Rails possible function arguments", "body": "<p>You can pass the partial name that you want to render as argument like as follows : </p>\n\n<pre><code>&lt;%= render :partial =&gt; 'partial_name' %&gt;\n</code></pre>\n\n<p>OR you can pass params like as follows :</p>\n\n<pre><code>&lt;%= render :partial =&gt; 'users', :collection =&gt; @users, :locals =&gt; {:size =&gt; 30} %&gt;\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 1290, "user_id": 3934265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/k5DKq.jpg?s=128&g=1", "display_name": "dennis-tra", "link": "https://stackoverflow.com/users/3934265/dennis-tra"}, "edited": false, "score": 0, "creation_date": 1467812197, "post_id": 38224695, "comment_id": 63872618, "body": "Thanks for your answer. I&#39;m rather interested in how I could know that I can pass in things like <code>:partial</code> or <code>:layout</code> to the <code>render</code> function?"}], "tags": [], "owner": {"reputation": 2409, "user_id": 6307730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4QkXN.jpg?s=128&g=1", "display_name": "BrunoFacca", "link": "https://stackoverflow.com/users/6307730/brunofacca"}, "is_accepted": false, "score": 0, "last_activity_date": 1467810090, "creation_date": 1467810090, "answer_id": 38224695, "question_id": 38223939, "link": "https://stackoverflow.com/questions/38223939/rails-possible-function-arguments/38224695#38224695", "title": "Rails possible function arguments", "body": "<p>We can use Ruby's reflection features to get a list of parameters (expected arguments) of a method:</p>\n\n<pre><code>AbstractController::Rendering.instance_method(:render).parameters\n# Output: [[:rest, :args], [:block, :block]]\n</code></pre>\n\n<p>The output consists of pairs of symbols. In each pair, the first symbol tells us the type of the parameter (required, optional, rest, block) and the second reveals the name of the parameter.</p>\n\n<p>As for the types of parameters:</p>\n\n<ul>\n<li>:req is a required parameter   </li>\n<li>:rest are variable arguments</li>\n<li>:opt is an optional parameter</li>\n<li>:block is a block parameter</li>\n</ul>\n\n<p>More information about parameter types is available in <a href=\"http://www.zenruby.info/2016/05/methods-in-ruby.html\" rel=\"nofollow\">this post at the Zen Ruby blog</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3807, "user_id": 2043592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zCbuL.jpg?s=128&g=1", "display_name": "xploshioOn", "link": "https://stackoverflow.com/users/2043592/xploshioon"}, "is_accepted": false, "score": 0, "last_activity_date": 1467816558, "creation_date": 1467816558, "answer_id": 38227039, "question_id": 38223939, "link": "https://stackoverflow.com/questions/38223939/rails-possible-function-arguments/38227039#38227039", "title": "Rails possible function arguments", "body": "<p>to render a partial, you can pass</p>\n\n<pre><code>&lt;%= render :partial =&gt; 'client', :collection =&gt; @users, :as =&gt; :client, :locals =&gt; {:optional =&gt; true} %&gt;\n</code></pre>\n\n<p>where: </p>\n\n<p><code>:partial</code> \nyou can pass the name or route to the partial, like \"user\" or \"folder/user\"</p>\n\n<p><code>:collection</code>\nfor example if you have a list of users in @user, then with this parameter, this partial will be repeated as many users are in the collection. </p>\n\n<p><code>:as</code> \nif you pass a collection, automagically will user \"user\" as the local variable if the model is User, but if you need another local variable for that partial like client in the example, you pass that parameter with  a name for every piece of the collection. so you can say client.name instead of user.name</p>\n\n<p><code>:locals</code>\nif you want to pass a local variable to the partial, like you  have a validation inside the partial that says <code>if optional</code> then you pass the value in this way, as you see that is in <code>{}</code> you can pass more than one with using commas.</p>\n"}], "owner": {"reputation": 1290, "user_id": 3934265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/k5DKq.jpg?s=128&g=1", "display_name": "dennis-tra", "link": "https://stackoverflow.com/users/3934265/dennis-tra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1520184600, "creation_date": 1467807898, "last_edit_date": 1520184600, "question_id": 38223939, "link": "https://stackoverflow.com/questions/38223939/rails-possible-function-arguments", "title": "Rails possible function arguments", "body": "<p>I'm quite new to Rails and want to improve my workflow. I'd like to know where I can look up possible function parameters for general rails functions. E.g:</p>\n\n<p>I want to use the <code>render</code> function. What arguments can I pass it? </p>\n\n<p>In order to answer this question I went to <a href=\"http://api.rubyonrails.org/classes/AbstractController/Rendering.html#method-i-render\" rel=\"nofollow\">api.rubyonrails.org</a>. But this only tells me the function signature:</p>\n\n<p><code>render(*args, &amp;block)</code></p>\n\n<p>and I don't now more than before. </p>\n\n<p>To get more information I read through the Ruby on Rails Guide about Layouts and Rendering (which is great). But even if I found what I was looking for it's not an acceptable way to just quickly look up possible options. I'm searching for something more concise.</p>\n\n<p>How would I know that I can pass in things like <code>:partial</code> or <code>:layout</code> to the function?</p>\n\n<p>Looking through the actual source code is another option. But that's also not very handy.</p>\n\n<p>This <code>render</code> function is just an example. This occurred to me in several places where I wanted to use a function and couldn't find good documentation of what it is actually capable of doing.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3096, "user_id": 2471940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5699a475f367a817655fee1790b6fc5e?s=128&d=identicon&r=PG", "display_name": "Fairy", "link": "https://stackoverflow.com/users/2471940/fairy"}, "edited": false, "score": 5, "creation_date": 1467806187, "post_id": 38223385, "comment_id": 63868771, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8813957/argumenterror-wrong-number-of-arguments-1-for-2\">ArgumentError: wrong number of arguments (1 for 2)</a>"}, {"owner": {"reputation": 2765, "user_id": 5864985, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/UlhbW.jpg?s=128&g=1", "display_name": "Ronan Lopes", "link": "https://stackoverflow.com/users/5864985/ronan-lopes"}, "edited": false, "score": 0, "creation_date": 1467811338, "post_id": 38223385, "comment_id": 63872104, "body": "can you post the method that gives that error?"}, {"owner": {"reputation": 89316, "user_id": 238886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8ca29123b5669b26f9b6ca2c62d9d215?s=128&d=identicon&r=PG", "display_name": "Wayne Conrad", "link": "https://stackoverflow.com/users/238886/wayne-conrad"}, "edited": false, "score": 1, "creation_date": 1467823100, "post_id": 38223385, "comment_id": 63880200, "body": "This isn&#39;t an exact duplicate of the nominated examplar.  That question is about a specific method call in a Rails app; this question appears to be about how to interpret ArgumentError exceptions."}], "answers": [{"tags": [], "owner": {"reputation": 2755, "user_id": 1543985, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h2xDy.jpg?s=128&g=1", "display_name": "RichardAE", "link": "https://stackoverflow.com/users/1543985/richardae"}, "is_accepted": false, "score": 4, "last_activity_date": 1467806915, "creation_date": 1467806915, "answer_id": 38223634, "question_id": 38223385, "link": "https://stackoverflow.com/questions/38223385/what-is-this-error-in-ruby-on-rails/38223634#38223634", "title": "what is this error in ruby on rails?", "body": "<p>Yes it's the same, but the numbers tell you what it is expecting. If the method was like the below, so two required arguments and one optional:</p>\n\n<pre><code>def test_method(arg1, arg2, arg3 = 1)\n  // code\nend\n</code></pre>\n\n<p>If you then call the following with no arguments:</p>\n\n<pre><code>test_method\n</code></pre>\n\n<p>You would see that exact message. It says you either need to give it 2 or all 3 arguments.</p>\n"}, {"tags": [], "owner": {"reputation": 3807, "user_id": 2043592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zCbuL.jpg?s=128&g=1", "display_name": "xploshioOn", "link": "https://stackoverflow.com/users/2043592/xploshioon"}, "is_accepted": false, "score": 0, "last_activity_date": 1467816915, "creation_date": 1467816915, "answer_id": 38227171, "question_id": 38223385, "link": "https://stackoverflow.com/questions/38223385/what-is-this-error-in-ruby-on-rails/38227171#38227171", "title": "what is this error in ruby on rails?", "body": "<p>yes, it is the same error, the thing here is that if you see</p>\n\n<pre><code>ArgumentError: wrong number of arguments (0 for 1)\n</code></pre>\n\n<p>it says that it needs 1 argument and have 0</p>\n\n<pre><code>ArgumentError: wrong number of arguments (given 0, expected 2..3)\n</code></pre>\n\n<p>in this it says that it needs 2 or 3 parameters and have 0.</p>\n\n<pre><code>2..3\n</code></pre>\n\n<p>is a range, so if you see 2..5 it says that it can have 2,3,4 or 5 parameters</p>\n"}, {"tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": false, "score": 0, "last_activity_date": 1467822166, "creation_date": 1467822166, "answer_id": 38228956, "question_id": 38223385, "link": "https://stackoverflow.com/questions/38223385/what-is-this-error-in-ruby-on-rails/38228956#38228956", "title": "what is this error in ruby on rails?", "body": "<p>Ruby interpreter checks how many arguments takes <code>method</code> and if you call this <code>method</code> will different number of arguments, interpreter will raise <code>ArgumentError</code>.</p>\n\n<pre><code>def summ(a, b)\n  a + b\nend\n</code></pre>\n\n<p>Calling with one argument => <code>summ(1)</code> will raise error.</p>\n"}], "owner": {"reputation": 412, "user_id": 4340066, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c95cbbc65958d466aae2a234e8266a37?s=128&d=identicon&r=PG&f=1", "display_name": "bav ko ten", "link": "https://stackoverflow.com/users/4340066/bav-ko-ten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "answer_count": 3, "score": -5, "last_activity_date": 1470812647, "creation_date": 1467806083, "last_edit_date": 1470812647, "question_id": 38223385, "link": "https://stackoverflow.com/questions/38223385/what-is-this-error-in-ruby-on-rails", "title": "what is this error in ruby on rails?", "body": "<p>I'm sorry for this question.\ntks for reading.</p>\n"}, {"tags": ["arrays", "ruby", "loops", "hash"], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 3173816, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002141944884/picture?type=large", "display_name": "Colta Victor", "link": "https://stackoverflow.com/users/3173816/colta-victor"}, "edited": false, "score": 0, "creation_date": 1467806187, "post_id": 38223312, "comment_id": 63868768, "body": "For some stupid reasons I thought that it would be wrong to add  results variable to function arguments. It works now.  Thank you for answer and have a great day ;)"}], "tags": [], "owner": {"reputation": 2902, "user_id": 374262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3849bbcdd7b248ee576805a2f2fa9f2?s=128&d=identicon&r=PG", "display_name": "yoavmatchulsky", "link": "https://stackoverflow.com/users/374262/yoavmatchulsky"}, "is_accepted": true, "score": 2, "last_activity_date": 1467805846, "creation_date": 1467805846, "answer_id": 38223312, "question_id": 38223145, "link": "https://stackoverflow.com/questions/38223145/select-all-values-by-key-from-a-nested-hash/38223312#38223312", "title": "Select all values by key from a nested hash", "body": "<p>In your solution, the inner <code>list_to_array</code> method call doesn't update the current result array, so it wasn't being updated correctly.\nI've refactored some more stuff to make it more readable and to exclude nil values</p>\n\n<pre><code>lists = {'value'=&gt;1, 'next'=&gt;{'value'=&gt;2, 'next'=&gt;{'value'=&gt;3, 'next'=&gt;nil}}}\n\ndef list_to_array(h, results = [])\n  h.each_value do |value|\n    if value.is_a?(Hash)\n      list_to_array(value, results)\n    else\n      results &lt;&lt; value unless value.nil?\n    end\n  end\n\n  results\nend\n\np list_to_array(lists)\n\n=&gt; [1, 2, 3]\n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 3173816, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002141944884/picture?type=large", "display_name": "Colta Victor", "link": "https://stackoverflow.com/users/3173816/colta-victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 38223312, "answer_count": 1, "score": 1, "last_activity_date": 1467805846, "creation_date": 1467805255, "question_id": 38223145, "link": "https://stackoverflow.com/questions/38223145/select-all-values-by-key-from-a-nested-hash", "title": "Select all values by key from a nested hash", "body": "<p>I want to get the values of each key which is not nested into an array.</p>\n\n<pre><code>lists = {'value'=&gt;1, 'next'=&gt;{'value'=&gt;2, 'next'=&gt;{'value'=&gt;3, 'next'=&gt;nil}}}\n\ndef list_to_array(h)\n  result = []\n  h.each_value {|value|\n  value.is_a?(Hash) ? list_to_array(value) :\n   result &lt;&lt; value\n }\n  result\nend\n\np list_to_array(lists)\n</code></pre>\n\n<p>Can you please tell me what I am doing wrong?</p>\n\n<p>wanted output [1,2,3] but I get [1]</p>\n"}, {"tags": ["ruby", "selenium", "firefox", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "edited": false, "score": 0, "creation_date": 1493020533, "post_id": 38224158, "comment_id": 74214444, "body": "would you know how to enable the flash plugin for a chrome profile at all please ?"}], "tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": true, "score": 2, "last_activity_date": 1467808495, "creation_date": 1467808495, "answer_id": 38224158, "question_id": 38222446, "link": "https://stackoverflow.com/questions/38222446/how-to-set-a-firefox-profile-on-a-selenium-webdriver-remote-with-ruby/38224158#38224158", "title": "How to set a firefox profile on a Selenium WebDriver remote with Ruby", "body": "<p>You should try as below :-</p>\n\n<pre><code>profile = Selenium::WebDriver::Firefox::Profile.new\nprofile['browser.download.downloadDir'] = '/home/seluser'\n\ncapabilities = Selenium::WebDriver::Remote::Capabilities.firefox(:firefox_profile =&gt; profile)\n\ndriver = Selenium::WebDriver.for :remote, :url =&gt; \"http://localhost:4444/wd/hub\", :desired_capabilities =&gt; capabilities\n</code></pre>\n\n<p><strong>Note</strong> :- You should follow <a href=\"https://github.com/SeleniumHQ/selenium/wiki/Ruby-Bindings\" rel=\"nofollow\">this</a> to learn more about <code>Ruby</code> binding.</p>\n\n<p>Hope it will help you...:)</p>\n"}], "owner": {"reputation": 2454, "user_id": 503141, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2785bbc62d3fb20d9d448b9422dc8a7b?s=128&d=identicon&r=PG", "display_name": "Mateu", "link": "https://stackoverflow.com/users/503141/mateu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3075, "favorite_count": 1, "accepted_answer_id": 38224158, "answer_count": 1, "score": 4, "last_activity_date": 1467808495, "creation_date": 1467802962, "question_id": 38222446, "link": "https://stackoverflow.com/questions/38222446/how-to-set-a-firefox-profile-on-a-selenium-webdriver-remote-with-ruby", "title": "How to set a firefox profile on a Selenium WebDriver remote with Ruby", "body": "<p>I want to set a Firefox profile to the following driver:</p>\n\n<pre><code>driver = Selenium::WebDriver.for :remote, :url =&gt; \"http://localhost:4444/wd/hub\", :desired_capabilities =&gt; :firefox\n</code></pre>\n\n<p>I've tried adding:</p>\n\n<pre><code>profile = Selenium::WebDriver::Firefox::Profile.new\nprofile['browser.download.downloadDir'] = '/home/seluser'\ndriver = Selenium::WebDriver.for :remote, :url =&gt; \"http://localhost:4444/wd/hub\", :desired_capabilities =&gt; :firefox, :profile =&gt; profile\n</code></pre>\n\n<p>But the profile option does not exist</p>\n\n<p>Thanks</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1467812955, "post_id": 38222113, "comment_id": 63873170, "body": "Be careful, though: when you do <code>[item] * 3</code>, you get an array of three references to the same item, not three items. Altering any of them will affect all the array items."}], "answers": [{"tags": [], "owner": {"reputation": 1258, "user_id": 1891448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9bf19e6dae4136c0a28aa400933238?s=128&d=identicon&r=PG", "display_name": "Arne Brasseur", "link": "https://stackoverflow.com/users/1891448/arne-brasseur"}, "is_accepted": false, "score": 3, "last_activity_date": 1467802104, "creation_date": 1467802104, "answer_id": 38222164, "question_id": 38222113, "link": "https://stackoverflow.com/questions/38222113/ruby-adding-multiple-objects-to-an-array-at-once/38222164#38222164", "title": "Ruby, adding multiple objects to an array at once", "body": "<p>You could do something like this</p>\n\n<pre><code>def add(product, qty)\n  @products.concat([product] * qty)\nend\n</code></pre>\n\n<p>or less \"clever\"</p>\n\n<pre><code>def add(product, qty)\n  qty.times { @products &lt;&lt; product }\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1258, "user_id": 1891448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9bf19e6dae4136c0a28aa400933238?s=128&d=identicon&r=PG", "display_name": "Arne Brasseur", "link": "https://stackoverflow.com/users/1891448/arne-brasseur"}, "edited": false, "score": 0, "creation_date": 1467802773, "post_id": 38222305, "comment_id": 63866820, "body": "The difference with the <code>concat</code> version is that this one creates a new array, instead of adding to the existing one. They&#39;re both valid ways to do it. I did an in-place edit because that&#39;s what the OP did as well."}], "tags": [], "owner": {"reputation": 2634, "user_id": 1210949, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vAL35.jpg?s=128&g=1", "display_name": "Albin", "link": "https://stackoverflow.com/users/1210949/albin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467802503, "creation_date": 1467802503, "answer_id": 38222305, "question_id": 38222113, "link": "https://stackoverflow.com/questions/38222113/ruby-adding-multiple-objects-to-an-array-at-once/38222305#38222305", "title": "Ruby, adding multiple objects to an array at once", "body": "<p>The easiest way I think is:</p>\n\n<pre><code>def add(product, qty)\n  @products += [product] * qty\nend\n</code></pre>\n\n<p>But it all comes down to your syntax preferences.</p>\n"}, {"tags": [], "owner": {"reputation": 2409, "user_id": 6307730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4QkXN.jpg?s=128&g=1", "display_name": "BrunoFacca", "link": "https://stackoverflow.com/users/6307730/brunofacca"}, "is_accepted": false, "score": 1, "last_activity_date": 1467806954, "creation_date": 1467806954, "answer_id": 38223650, "question_id": 38222113, "link": "https://stackoverflow.com/questions/38222113/ruby-adding-multiple-objects-to-an-array-at-once/38223650#38223650", "title": "Ruby, adding multiple objects to an array at once", "body": "<p>Both previous answers will solve your problem. However, maybe you should consider using a hash instead of an array.</p>\n\n<p>Something like this:</p>\n\n<pre><code> class Product    \n  @@products = Hash.new(0)\n\n  def initialize(product, qty)\n    @@products[product] = qty\n  end\n\n  def increase_stock(product, qty)\n    @@products[product] += qty\n  end\n\n  def decrease_stock(product, qty)\n    @@products[product] -= qty\n  end\n\n  def count_stock(product)\n    @@products[product]\n  end\nend\n\np = Product.new('Dress',5)\np.count_stock('Dress')\n =&gt; 5\np.increase_stock('Dress',10)\np.count_stock('Dress')\n =&gt; 15\np.decrease_stock('Dress',2)\np.count_stock('Dress')\n =&gt; 13\n</code></pre>\n\n<p>In my GitHub, there is a <a href=\"https://github.com/brunofacca/udacity-inventory-manager\" rel=\"nofollow\">simple command-line inventory management app written in Ruby</a>. May be useful..</p>\n"}], "owner": {"reputation": 283, "user_id": 5962592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/09e937e3c5361ac06e5c17d9f0a133db?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/5962592/jes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 0, "accepted_answer_id": 38222305, "answer_count": 3, "score": 0, "last_activity_date": 1467808050, "creation_date": 1467801945, "last_edit_date": 1467808050, "question_id": 38222113, "link": "https://stackoverflow.com/questions/38222113/ruby-adding-multiple-objects-to-an-array-at-once", "title": "Ruby, adding multiple objects to an array at once", "body": "<p>I have Shop class, and I want to add multiple items at once.\nI want this:</p>\n\n<pre><code>shop1 = Shop.new\nproduct1 = Product.new(\"Dress\", 50)\nshop1.add_products(product1, 5)\n</code></pre>\n\n<p>to add 5 dresses to warehouse</p>\n\n<pre><code>def add(product, qty)\n  @products &lt;&lt; product * qty\nend\n</code></pre>\n\n<p>so later I can use</p>\n\n<pre><code>@products.select{|p| p.name == \"Dress\"}.count\n</code></pre>\n\n<p>and get 5. Is it possible?</p>\n"}, {"tags": ["ruby", "watir", "watir-webdriver", "watir-classic"], "comments": [{"owner": {"reputation": 2634, "user_id": 1210949, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vAL35.jpg?s=128&g=1", "display_name": "Albin", "link": "https://stackoverflow.com/users/1210949/albin"}, "edited": false, "score": 2, "creation_date": 1467802368, "post_id": 38221967, "comment_id": 63866580, "body": "It might be connected to this: <a href=\"http://stackoverflow.com/questions/37800215/watir-webdriver0-9-1-no-longer-opens-an-instance-of-firefox\" title=\"watir webdriver0 9 1 no longer opens an instance of firefox\">stackoverflow.com/questions/37800215/&hellip;</a>"}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1467828326, "post_id": 38221967, "comment_id": 63883262, "body": "As a workaround, there&#39;s always chrome: <a href=\"https://watirwebdriver.com/chrome/\" rel=\"nofollow noreferrer\">watirwebdriver.com/chrome</a>"}, {"owner": {"reputation": 3480, "user_id": 4072371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112e615d8c60908294e30848d9556186?s=128&d=identicon&r=PG", "display_name": "titusfortner", "link": "https://stackoverflow.com/users/4072371/titusfortner"}, "edited": false, "score": 0, "creation_date": 1467835271, "post_id": 38221967, "comment_id": 63887158, "body": "Also, you can try geckodriver: <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/QA/Marionette/WebDriver\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Mozilla/QA/Marionette/&hellip;</a> it&#39;s still mostly &quot;beta,&quot; but it will be required for Firefox 48+"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 6473755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-XjkrS5wR0EQ/AAAAAAAAAAI/AAAAAAAAAEU/dHhTTnShP2g/photo.jpg?sz=128", "display_name": "Kamlesh Kishor", "link": "https://stackoverflow.com/users/6473755/kamlesh-kishor"}, "edited": false, "score": 0, "creation_date": 1467954735, "post_id": 38232641, "comment_id": 63938979, "body": "Thanks a lot. It worked, I almost spent one complete day looking for solution and all I actually needed was a simple firefox update. Thanks again. :)"}], "tags": [], "owner": {"reputation": 3480, "user_id": 4072371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112e615d8c60908294e30848d9556186?s=128&d=identicon&r=PG", "display_name": "titusfortner", "link": "https://stackoverflow.com/users/4072371/titusfortner"}, "is_accepted": true, "score": 1, "last_activity_date": 1467834804, "creation_date": 1467834804, "answer_id": 38232641, "question_id": 38221967, "link": "https://stackoverflow.com/questions/38221967/unable-to-run-a-simple-watir-script/38232641#38232641", "title": "Unable to run a simple Watir script", "body": "<p>It was a Mozilla bug in Firefox 47 that broke things. It has been fixed. Update your selenium-webdriver gem to 2.53.4 and it will work with Firefox 47.0.1</p>\n"}], "owner": {"reputation": 121, "user_id": 6473755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-XjkrS5wR0EQ/AAAAAAAAAAI/AAAAAAAAAEU/dHhTTnShP2g/photo.jpg?sz=128", "display_name": "Kamlesh Kishor", "link": "https://stackoverflow.com/users/6473755/kamlesh-kishor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 38232641, "answer_count": 1, "score": 0, "last_activity_date": 1467834804, "creation_date": 1467801426, "question_id": 38221967, "link": "https://stackoverflow.com/questions/38221967/unable-to-run-a-simple-watir-script", "title": "Unable to run a simple Watir script", "body": "<p>I am trying to run a simple Watir script on my system but I am getting error. I tried with 2.2.4, 2.1.8 and 1.9.3 too but nothing works for me. I long time back I used to work on Watir on v1.8.7 and on some 2.x version, but now I can't remember what different I did back then.</p>\n\n<p>Following is the code I tried to execute with v1.9.3 on Win7 x64bit.</p>\n\n<pre><code>require 'rubygems'\nrequire 'watir-webdriver'\nprint \"Hello\"\nb = Watir::Browser.start 'http://www.google.com'\n</code></pre>\n\n<p>With this I get the error \"Unable to obtain stable firefox connection in 60 seconds (127.0.0.1:7055) (Selenium::WebDriver::Error::WebDriverError)\".</p>\n\n<p>I tried using watir instead of 'watir-webdriver' but that also doesn't work.\nwatir, watir-webdriver, watirclassic and selenium-webdriver are installed.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "associations", "has-many"], "answers": [{"tags": [], "owner": {"reputation": 2503, "user_id": 942986, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tR28w.jpg?s=128&g=1", "display_name": "fabriciofreitag", "link": "https://stackoverflow.com/users/942986/fabriciofreitag"}, "is_accepted": false, "score": 2, "last_activity_date": 1574345691, "last_edit_date": 1574345691, "creation_date": 1467798330, "answer_id": 38220966, "question_id": 38220805, "link": "https://stackoverflow.com/questions/38220805/rails-search-through-has-many-association/38220966#38220966", "title": "Rails - search through has_many association", "body": "<p>Assuming your migrations are fine</p>\n\n<pre><code>class Car &lt; ActiveRecord::Base\n  has_many :car_services\nend\n\nclass CarService &lt; ActiveRecord::Base\n  belongs_to :car\n  belongs_to :car_service_list\n  has_and_belongs_to_many :car_service_definitions\nend\n\nclass CarServiceDefinition &lt; ActiveRecord::Base\nend\n\nairbag = car.car_services.car_service_definitions.where(service_type: 'AirBag').first\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1810, "user_id": 1301840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ad9bbcb458c0923c2946f85b6b98107b?s=128&d=identicon&r=PG&f=1", "display_name": "lusketeer", "link": "https://stackoverflow.com/users/1301840/lusketeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1467812017, "last_edit_date": 1467812017, "creation_date": 1467811582, "answer_id": 38225226, "question_id": 38220805, "link": "https://stackoverflow.com/questions/38220805/rails-search-through-has-many-association/38225226#38225226", "title": "Rails - search through has_many association", "body": "<p>Well, from the look of the relationships, I assume that <code>car_services</code> is the rich join table of <code>cars</code> and <code>car_service_definitions</code></p>\n\n<p>What you can do is to set up <code>has_many :through</code> relationship on both <code>car</code> and <code>car_service_definition</code></p>\n\n<pre><code>class Car &lt; ActiveRecord::Base\n  has_many :car_services\n  has_many :car_service_definitions, through: :car_services\nend\n\nclass CarService &lt; ActiveRecord::Base\n  belongs_to :car\n  belongs_to :car_service_definition\nend\n\nclass CarServiceDefinition &lt; ActiveRecord::Base\n  has_many :car_services\n  has_many :cars, through: :car_services\nend\n</code></pre>\n\n<p>And then if you want to find airbag, it would be like this</p>\n\n<pre><code>airbag = car.car_service_definitions.where(\"car_service_definitions.service_type\" =&gt; 'AirBag').first\n</code></pre>\n\n<p>But if you want to check if the <code>car</code> has <code>air_bag</code>, could just write a method like this</p>\n\n<pre><code>class Car &lt; ActiveRecord::Base\n  def has_air_bag?\n    car_service_definitions.where(\"car_service_definitions.service_type\" =&gt; 'AirBag').count &gt; 0\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574345691, "creation_date": 1467797878, "last_edit_date": 1467798262, "question_id": 38220805, "link": "https://stackoverflow.com/questions/38220805/rails-search-through-has-many-association", "title": "Rails - search through has_many association", "body": "<p>I have these models:</p>\n\n<pre><code>class Car &lt; ActiveRecord::Base\n  has_many :car_services\nend\nclass CarService &lt; ActiveRecord::Base\n  belongs_to :car\n  belongs_to :car_service_definition\nend\nclass CarServiceDefinition &lt; ActiveRecord::Base\n  has_many :car_services\nend\n</code></pre>\n\n<p>I am trying to find out if the currently selected car has a certain service - trying to do it this way:</p>\n\n<pre><code>airbag = car.car_services.car_service_definitions.where('service_type = \"Airbag\"').first\n</code></pre>\n\n<p>But this query doesn't work because of the wrong using model associations.</p>\n\n<p>How do I find out, if the current car has some airbags?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "is_accepted": true, "score": 3, "last_activity_date": 1467796580, "creation_date": 1467796580, "answer_id": 38220361, "question_id": 38220175, "link": "https://stackoverflow.com/questions/38220175/how-is-a-negative-number-parsed-in-ruby/38220361#38220361", "title": "How is a negative number parsed in Ruby?", "body": "<p>It is parsed as part of the literal, and makes the literal a negate literal.</p>\n\n<p><a href=\"https://github.com/ruby/ruby/blob/64fea27496bd10a5ccdb78abcd541f9c1a9174c8/parse.y#L4440-L4450\" rel=\"nofollow\">Here's the reference</a> in the parser source code. If you search the file for <code>tUMINUS_NUM</code> and <code>tUMINUS</code> you'll see where the <code>-</code> token is defined.</p>\n"}, {"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": false, "score": 3, "last_activity_date": 1467797510, "last_edit_date": 1495542780, "creation_date": 1467797510, "answer_id": 38220678, "question_id": 38220175, "link": "https://stackoverflow.com/questions/38220175/how-is-a-negative-number-parsed-in-ruby/38220678#38220678", "title": "How is a negative number parsed in Ruby?", "body": "<p>In addition to <a href=\"https://stackoverflow.com/a/38220361/477037\">Simone Carletti's answer</a>:</p>\n\n<pre><code>$ ruby --dump=parsetree -e \"-1\"\n###########################################################\n## Do NOT use this node dump for any purpose other than  ##\n## debug and research.  Compatibility is not guaranteed. ##\n###########################################################\n\n# @ NODE_SCOPE (line: 1)\n# +- nd_tbl: (empty)\n# +- nd_args:\n# |   (null node)\n# +- nd_body:\n#     @ NODE_LIT (line: 1)\n#     +- nd_lit: -1\n</code></pre>\n\n<p>As opposed to <code>-(1)</code>, <code>-+1</code> or <code>- 1</code> (with a space in between) which invoke <a href=\"http://ruby-doc.org/core-2.3.1/Fixnum.html#method-i-2D-40\" rel=\"nofollow noreferrer\"><code>Fixnum#-@</code></a>:</p>\n\n<pre><code>$ ruby --dump=parsetree -e \"-(1)\"\n###########################################################\n## Do NOT use this node dump for any purpose other than  ##\n## debug and research.  Compatibility is not guaranteed. ##\n###########################################################\n\n# @ NODE_SCOPE (line: 1)\n# +- nd_tbl: (empty)\n# +- nd_args:\n# |   (null node)\n# +- nd_body:\n#     @ NODE_CALL (line: 1)\n#     +- nd_mid: :-@\n#     +- nd_recv:\n#     |   @ NODE_LIT (line: 1)\n#     |   +- nd_lit: 1\n#     +- nd_args:\n#         (null node)\n</code></pre>\n"}], "owner": {"reputation": 515, "user_id": 4967412, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/WDaZB.jpg?s=128&g=1", "display_name": "damonh", "link": "https://stackoverflow.com/users/4967412/damonh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 38220361, "answer_count": 2, "score": 3, "last_activity_date": 1467797510, "creation_date": 1467796073, "question_id": 38220175, "link": "https://stackoverflow.com/questions/38220175/how-is-a-negative-number-parsed-in-ruby", "title": "How is a negative number parsed in Ruby?", "body": "<p>Say <code>-1</code>, is <code>-</code> parsed as part of the literal as a sign, or an operator to turn the value into its negative counterpart?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "routes"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 1, "creation_date": 1467794537, "post_id": 38219551, "comment_id": 63862162, "body": "Why you have two forms for same action?"}, {"owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1467794867, "post_id": 38219551, "comment_id": 63862332, "body": "Because there are two types of services (<code>service_type </code> -&gt; 0/1)."}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467795865, "post_id": 38219551, "comment_id": 63862901, "body": "what happens when you remove the <code>method: :post</code> from both forms?"}, {"owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1467796015, "post_id": 38219551, "comment_id": 63862984, "body": "Same output, no difference."}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467796108, "post_id": 38219551, "comment_id": 63863025, "body": "would it be convenient to post both your complete form view and probably your routes.rb?"}], "answers": [{"comments": [{"owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1467795389, "post_id": 38219824, "comment_id": 63862624, "body": "Posted. Same Rails path helper, just once it generates <code>POST</code> (desired), secondly <code>GET</code>."}, {"owner": {"reputation": 842, "user_id": 6427566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HON15.jpg?s=128&g=1", "display_name": "Mirza Memic", "link": "https://stackoverflow.com/users/6427566/mirza-memic"}, "reply_to_user": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1467795568, "post_id": 38219824, "comment_id": 63862724, "body": "Did you try to change this line: &lt;%= form_tag(create_car_service_settings_index_path, -&gt; remove index as suggested above?"}, {"owner": {"reputation": 842, "user_id": 6427566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HON15.jpg?s=128&g=1", "display_name": "Mirza Memic", "link": "https://stackoverflow.com/users/6427566/mirza-memic"}, "reply_to_user": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1467795977, "post_id": 38219824, "comment_id": 63862961, "body": "When I try your code  I get this: undefined local variable or method `create_car_service_settings_index_path&#39; for #&lt;#&lt;Class:0x007fc7c9a92098&gt;:0x007fc7c9ab3248&gt; Did you mean?  create_car_service_settings_path                create_car_service_settings_url...like I said I do not think that you can use create_car_service_settings_index_path since it should be create_car_service_settings_path...I am on rails 5"}], "tags": [], "owner": {"reputation": 842, "user_id": 6427566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HON15.jpg?s=128&g=1", "display_name": "Mirza Memic", "link": "https://stackoverflow.com/users/6427566/mirza-memic"}, "is_accepted": false, "score": 0, "last_activity_date": 1467796237, "last_edit_date": 1467796237, "creation_date": 1467794975, "answer_id": 38219824, "question_id": 38219551, "link": "https://stackoverflow.com/questions/38219551/rails-generate-wrong-method-for-form-tag-how-to-fix-that/38219824#38219824", "title": "Rails generate wrong method for &quot;form_tag&quot;. How to fix that?", "body": "<p>When you do  bin/rails routes you should get something like this</p>\n\n<pre><code>Prefix Verb   URI Pattern                            Controller#Action\ncreate_car_service_settings POST   /settings/create_car_service(.:format) settings#create_car_service\nedit_car_service_settings POST   /settings/edit_car_service(.:format)   settings#edit_car_service\n</code></pre>\n\n<p>So that post route should be create_car_service_settings_path not create_car_service_settings_index_path that points to settings#create_car_service</p>\n\n<p>But it is a strange if you get for one method GET and other POST. Can you paste the output from these forms (html)</p>\n\n<p>EDIT</p>\n\n<p>So using the path that you provided generated an error for me. When I use this</p>\n\n<pre><code> &lt;%= form_tag(create_car_service_settings_path, remote: true, method: :post) do %&gt;  \n</code></pre>\n\n<p>I will get this for first</p>\n\n<pre><code>&lt;form action=\"/settings/create_car_service\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\"&gt;\n</code></pre>\n\n<p>for second</p>\n\n<pre><code>&lt;form action=\"/settings/create_car_service\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\"&gt;&lt;input name=\"utf8\" type=\"hidden\" value=\"&amp;#x2713;\" /&gt;\n      &lt;input type=\"hidden\" name=\"service_type\" id=\"service_type\" value=\"0\" /&gt;\n  &lt;input type=\"text\" name=\"service_name\" id=\"service_name_car\" value=\"\" /&gt;\n  &lt;input type=\"submit\" name=\"commit\" value=\"Add Service\" data-disable-with=\"Add Service\" /&gt;\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1467796237, "creation_date": 1467794084, "last_edit_date": 1467795350, "question_id": 38219551, "link": "https://stackoverflow.com/questions/38219551/rails-generate-wrong-method-for-form-tag-how-to-fix-that", "title": "Rails generate wrong method for &quot;form_tag&quot;. How to fix that?", "body": "<p>On on page, I have 2 forms like this:</p>\n\n<pre><code>&lt;%= form_tag(create_car_service_settings_index_path, remote: true, method: :post) do %&gt;\n  &lt;%= hidden_field_tag \"service_type\", 1 %&gt;\n  &lt;%= text_field_tag \"service_name\", \"\", id: \"service_name_car\" %&gt;\n  &lt;%= submit_tag \"Add Service\" %&gt;\n&lt;% end %&gt;\n\n... some HTML ...\n\n&lt;%= form_tag(create_car_service_settings_index_path, remote: true, method: :post) do %&gt;\n  &lt;%= hidden_field_tag \"service_type\", 0 %&gt;\n  &lt;%= text_field_tag \"service_name\", \"\", id: \"service_name_car\" %&gt;\n  &lt;%= submit_tag \"Add Service\" %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>The first form is rendered as <code>POST</code>, but the second one as <code>GET</code>; in <code>routes.rb</code> is following:</p>\n\n<pre><code>  resources :settings do\n    collection do\n      ...\n      post 'create_car_service'\n      post 'edit_car_service'\n    end\n  end\n</code></pre>\n\n<p>Why the second form is rendered as <code>GET</code> instead of <code>POST</code>? Stuck on this for a while.</p>\n\n<p>Thanks.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>First form:</p>\n\n<pre><code>&lt;form action=\"/settings/create_car_service\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\"&gt;\n</code></pre>\n\n<p>...</p>\n\n<p>Second form:</p>\n\n<pre><code>&lt;form action=\"/settings/create_car_service\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"get\"&gt;\n</code></pre>\n"}, {"tags": ["ruby", "macos", "cocoapods"], "comments": [{"owner": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1467793296, "post_id": 38219326, "comment_id": 63861480, "body": "Read the manual carefully please! it should be <code>sudo gem install cocoapods</code> (also read the terminal output, look for errors!)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5740195"}, "reply_to_user": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1467793454, "post_id": 38219326, "comment_id": 63861557, "body": "sorry was just typing it into the text window here an i added a space. I am in fact using &#39;sudo gem install cocoa pods&#39;."}], "owner": {"user_type": "does_not_exist", "display_name": "user5740195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1467793361, "creation_date": 1467793216, "last_edit_date": 1467793361, "question_id": 38219326, "link": "https://stackoverflow.com/questions/38219326/how-to-install-cocoapods-mac-10-10-5", "title": "How to install CocoaPods mac 10.10.5", "body": "<p>Trying to install CocoaPods through the terminal. I copy and paste this into the terminal \"sudo gem install cocoapods\" The title of the terminal changes to say ruby. When I then navigate to my  file with my Xcode project through the terminal and type \"pod init\" it does not recognise the command so I don't think Cocoapods have been installed correctly. How can i fix this? I'm on OS 10.10.5</p>\n"}, {"tags": ["ruby", "linux", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 1, "creation_date": 1467795172, "post_id": 38219306, "comment_id": 63862504, "body": "Running Ubuntu 14.04 here, but I had to downgrade my Firefox version from \t47 to 46 to get selenium to work. See <a href=\"http://stackoverflow.com/questions/36747430/which-firefox-version-is-compatible-with-selenium-2-53-0\">which-firefox-version-is-compatible-with-selenium-2-53-0</a>. There&#39;s a recent issue thread on the <a href=\"https://github.com/SeleniumHQ/selenium/issues/2110\" rel=\"nofollow noreferrer\">selenium github page</a> about it."}], "owner": {"reputation": 2454, "user_id": 503141, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2785bbc62d3fb20d9d448b9422dc8a7b?s=128&d=identicon&r=PG", "display_name": "Mateu", "link": "https://stackoverflow.com/users/503141/mateu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1467795110, "creation_date": 1467793174, "last_edit_date": 1467795110, "question_id": 38219306, "link": "https://stackoverflow.com/questions/38219306/selenium-ruby-cant-run-the-start-example-linux", "title": "Selenium Ruby - Can&#39;t run the start example (linux)", "body": "<p>I want use Selenium with Ruby. I'm on a Ubuntu 15.10</p>\n\n<p>First, I've installed the selenium-webdriver gem.</p>\n\n<p>Now I'm trying to execute the example code:</p>\n\n<pre><code>require \"selenium-webdriver\"\n\ndriver = Selenium::WebDriver.for :firefox\ndriver.navigate.to \"http://google.com\"\n\nelement = driver.find_element(:name, 'q')\nelement.send_keys \"Hello WebDriver!\"\nelement.submit\n\nputs driver.title\n\ndriver.quit\n</code></pre>\n\n<p>When I do so I get this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/protocol.rb:153:in `read_nonblock': end of file reached (EOFError)\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/protocol.rb:153:in `rbuf_fill'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/protocol.rb:134:in `readuntil'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/protocol.rb:144:in `readline'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http/response.rb:39:in `read_status_line'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http/response.rb:28:in `read_new'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http.rb:1414:in `block in transport_request'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http.rb:1411:in `catch'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http.rb:1411:in `transport_request'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http.rb:1384:in `request'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http.rb:1377:in `block in request'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http.rb:853:in `start'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/2.2.0/net/http.rb:1375:in `request'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/gems/2.2.0/gems/selenium-webdriver-2.53.4/lib/selenium/webdriver/remote/http/default.rb:107:in `response_for'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/gems/2.2.0/gems/selenium-webdriver-2.53.4/lib/selenium/webdriver/remote/http/default.rb:58:in `request'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/gems/2.2.0/gems/selenium-webdriver-2.53.4/lib/selenium/webdriver/remote/http/common.rb:59:in `call'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/gems/2.2.0/gems/selenium-webdriver-2.53.4/lib/selenium/webdriver/remote/bridge.rb:649:in `raw_execute'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/gems/2.2.0/gems/selenium-webdriver-2.53.4/lib/selenium/webdriver/remote/bridge.rb:627:in `execute'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/gems/2.2.0/gems/selenium-webdriver-2.53.4/lib/selenium/webdriver/remote/bridge.rb:134:in `get'\nfrom /home/my_user/.rbenv/versions/2.2.3/lib/ruby/gems/2.2.0/gems/selenium-webdriver-2.53.4/lib/selenium/webdriver/common/navigation.rb:33:in `to'\n</code></pre>\n\n<p>When executed, a Firefox window is opened and closed instantaneously (before the <code>driver.quit</code>).</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "mixins", "otp"], "comments": [{"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467791567, "post_id": 38218755, "comment_id": 63860492, "body": "as you mentioned the generate_otp! should be as simple as you&#39;ve described it! add the three methods in the sequence they are to be executed. One problem I could actually see to this is that even the OTP generated doesn&#39;t seem to be stored anywhere, which is a bit of problem because I&#39;m sure the verify would need a reference to that"}, {"owner": {"reputation": 573, "user_id": 4614833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-JRqaVEfd58g/AAAAAAAAAAI/AAAAAAAAACg/9HaGl-eBDUw/photo.jpg?sz=128", "display_name": "Sinscary", "link": "https://stackoverflow.com/users/4614833/sinscary"}, "reply_to_user": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467791883, "post_id": 38218755, "comment_id": 63860689, "body": "<code>generate_otp!</code> method is in my gem&#39;s module which will be included to model. now when <code>user.generate_otp!</code> is called i am not sure how will i implement <code>user.save</code> in my module."}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 4614833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-JRqaVEfd58g/AAAAAAAAAAI/AAAAAAAAACg/9HaGl-eBDUw/photo.jpg?sz=128", "display_name": "Sinscary", "link": "https://stackoverflow.com/users/4614833/sinscary"}, "edited": false, "score": 0, "creation_date": 1467792863, "post_id": 38219083, "comment_id": 63861206, "body": "thanks @oreoluwa for the reply, but as i am new to ruby i am still learning about mixins, so as you speicified, will it mean that when i call <code>user.generate_otp!</code>, it will call all three methods is order, i.e, <code>user.generate_otp</code>, <code>user.save</code> and than my send function. also note that save function is not implemented by me, it is the inbuilt function to save details in database."}, {"owner": {"reputation": 573, "user_id": 4614833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-JRqaVEfd58g/AAAAAAAAAAI/AAAAAAAAACg/9HaGl-eBDUw/photo.jpg?sz=128", "display_name": "Sinscary", "link": "https://stackoverflow.com/users/4614833/sinscary"}, "edited": false, "score": 0, "creation_date": 1467793067, "post_id": 38219083, "comment_id": 63861333, "body": "because as i have specified app developer will create a new instance variable <code>user</code> which gets all parameters,i.e., <code>user = User.new(params[:user])</code>. now <code>user.save</code> will save details in db. well you seem an experienced guy you know it better than me."}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "reply_to_user": {"reputation": 573, "user_id": 4614833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-JRqaVEfd58g/AAAAAAAAAAI/AAAAAAAAACg/9HaGl-eBDUw/photo.jpg?sz=128", "display_name": "Sinscary", "link": "https://stackoverflow.com/users/4614833/sinscary"}, "edited": false, "score": 0, "creation_date": 1467793542, "post_id": 38219083, "comment_id": 63861617, "body": "Yes, <code>save</code> is ActiveRecord. But because you&#39;d be including the gem in the scope of an ActiveRecord instance, you&#39;d be able to call the save method. I&#39;d say you should try it out though"}], "tags": [], "owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "is_accepted": true, "score": 1, "last_activity_date": 1467792377, "creation_date": 1467792377, "answer_id": 38219083, "question_id": 38218755, "link": "https://stackoverflow.com/questions/38218755/how-to-mixin-gem-modules-in-ruby-on-rails-model/38219083#38219083", "title": "how to mixin gem-modules in ruby-on-rails model", "body": "<p>If this is a mixin in your model, then your model should also have access to it. Here is what I mean:</p>\n\n<pre><code>class User\n  include OtpGenerator\nend\n\nmodule OtpGenerator\n...\n  def generate_otp!\n    generate_otp\n    save\n    send_generated_otp\n  end\nend\n</code></pre>\n\n<p>When you call <code>User.find(45).generate_otp!</code></p>\n\n<p>That would work because of the way inheritances work in Ruby. Once the module is included within a class, it inherits all the methods of the module and the module has access to the context of the included class.</p>\n\n<p>Hope that answers your question</p>\n"}], "owner": {"reputation": 573, "user_id": 4614833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-JRqaVEfd58g/AAAAAAAAAAI/AAAAAAAAACg/9HaGl-eBDUw/photo.jpg?sz=128", "display_name": "Sinscary", "link": "https://stackoverflow.com/users/4614833/sinscary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 38219083, "answer_count": 1, "score": 0, "last_activity_date": 1467857712, "creation_date": 1467791180, "last_edit_date": 1467857712, "question_id": 38218755, "link": "https://stackoverflow.com/questions/38218755/how-to-mixin-gem-modules-in-ruby-on-rails-model", "title": "how to mixin gem-modules in ruby-on-rails model", "body": "<p>I am building a gem in which i have a module <code>OtpGenerator</code>. inside this module i have methods like <code>generate_otp</code>, <code>verify_otp</code> etc. This is just a begining for me and its very simple gem only to generate and verify and save and send, nothing else. Now anyone who uses this gem will have to include this module in their model. for e.g. there is a <code>user</code> model. now what i want is first i will create a instance </p>\n\n<p><code>user = User.new(params[:user])</code></p>\n\n<p>now i need to do the operation <code>user.generate_otp</code>, this will assign otp related things in the activerecord instance.</p>\n\n<p>after that <code>user.save</code>, which is also fine.</p>\n\n<p>But i also want a function <code>generate_otp!</code>, which will do all task like generates otp, than save it and sends it. My problem is that i am not getting how to achieve this functionality. </p>\n\n<p>Note: I am very new to ruby. and really getting confused with mixins.</p>\n\n<p>here is my code for <code>otp.rb</code> file</p>\n\n<pre><code>require 'securerandom'\n\nmodule OtpGenerator\n  def generate_otp\n    #do something here\n  end\n\n  def verify_otp(otp)\n    #do something here\n  end\n\n  def regenerate_otp\n    #do something here\n  end\n\n  def matches?(generated, otp)\n    #do something here\n  end\n\n  def expired?(otp_expiry_time)\n    #do something here\n  end\nend\n</code></pre>\n\n<p>This code is still in development, i just want to know that how to implement <code>generate_otp!</code> function, which will do all three operation,i.e,\n(1) generates otp(user.generate_otp)\n(2) saves otp(user.save)\n(3) sends otp (i have created the send function, so thats not a problem.)</p>\n"}, {"tags": ["ruby", "macos", "tensorflow", "swig", "bazel"], "answers": [{"comments": [{"owner": {"reputation": 1362, "user_id": 1213651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca1ef57e07d289a4db8da3cf6c31f778?s=128&d=identicon&r=PG", "display_name": "ChrHansen", "link": "https://stackoverflow.com/users/1213651/chrhansen"}, "edited": false, "score": 1, "creation_date": 1467868098, "post_id": 38234887, "comment_id": 63896794, "body": "Hi kristina, thanks! Well <code>bazel build &#47;&#47;tensorflow</code> resulted in <code>ERROR: no such target &#39;&#47;&#47;tensorflow:tensorflow&#39;: target &#39;tensorflow&#39; defined by ...</code>. So I actually needed the <code>libtensorflow.so</code>. However, your <code>otool</code>-comment lead me in the right direction. <code>otool -hv libtensorflow.so</code> told me the bazel output was a <code>DYLIB</code>-filetype (so I guess I could just change the extension to <code>.dylib</code>), and hinted that my build was actually ok."}, {"owner": {"reputation": 21554, "user_id": 4243, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/501b2f1d20a7a8f9539d46776a640225?s=128&d=identicon&r=PG", "display_name": "kristina", "link": "https://stackoverflow.com/users/4243/kristina"}, "reply_to_user": {"reputation": 1362, "user_id": 1213651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca1ef57e07d289a4db8da3cf6c31f778?s=128&d=identicon&r=PG", "display_name": "ChrHansen", "link": "https://stackoverflow.com/users/1213651/chrhansen"}, "edited": false, "score": 0, "creation_date": 1467900686, "post_id": 38234887, "comment_id": 63916688, "body": "Cool! Sorry for the bum lead, tensorflow actually literally defines the target as a <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/BUILD#L154\" rel=\"nofollow noreferrer\">.so</a>!  I assumed they were building it as a library.  Glad it worked out!"}, {"owner": {"reputation": 1362, "user_id": 1213651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca1ef57e07d289a4db8da3cf6c31f778?s=128&d=identicon&r=PG", "display_name": "ChrHansen", "link": "https://stackoverflow.com/users/1213651/chrhansen"}, "edited": false, "score": 0, "creation_date": 1467997970, "post_id": 38234887, "comment_id": 63963535, "body": "No worries, it forced me to actually look into the BUILD-file and see that tensorflow.so was the only target. Since I read the .so vs .dylib post and knowing that the Tensorflow-team had made Tensorflow available for Mac I concluded I was on the right path."}], "tags": [], "owner": {"reputation": 21554, "user_id": 4243, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/501b2f1d20a7a8f9539d46776a640225?s=128&d=identicon&r=PG", "display_name": "kristina", "link": "https://stackoverflow.com/users/4243/kristina"}, "is_accepted": false, "score": 3, "last_activity_date": 1467844415, "last_edit_date": 1495535421, "creation_date": 1467844415, "answer_id": 38234887, "question_id": 38218691, "link": "https://stackoverflow.com/questions/38218691/building-and-linking-shared-tensorflow-library-on-osx-el-capitan-to-call-from-ru/38234887#38234887", "title": "Building and linking shared Tensorflow library on OSX El Capitan to call from Ruby via Swig", "body": "<p>I don't think you actually want a .so, I think you want a .dylib (see <a href=\"https://stackoverflow.com/questions/2339679/what-are-the-differences-between-so-and-dylib-on-osx\">What are the differences between .so and .dylib on osx?</a>).  You're forcing Bazel to build a .so by specifying <code>libtensorflow.so</code> as the target, build this instead:</p>\n\n<pre><code>bazel build //tensorflow\n</code></pre>\n\n<p>(<code>//tensorflow</code> is shorthand for <code>//tensorflow:tensorflow</code>, which is \"build the tensorflow target.\"  Specifying an exact file you want forces Bazel to build that file, if possible.)  </p>\n\n<p>Once you have a .dylib, you can check its contents with <code>otool</code>:</p>\n\n<pre><code> otool -L bazel-bin/tensorflow/libtensorflow.dylib\n</code></pre>\n\n<p>Not sure if this will solve all your problems, but worth a try.</p>\n"}, {"tags": [], "owner": {"reputation": 1362, "user_id": 1213651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca1ef57e07d289a4db8da3cf6c31f778?s=128&d=identicon&r=PG", "display_name": "ChrHansen", "link": "https://stackoverflow.com/users/1213651/chrhansen"}, "is_accepted": true, "score": 4, "last_activity_date": 1467951003, "last_edit_date": 1495542894, "creation_date": 1467870640, "answer_id": 38238318, "question_id": 38218691, "link": "https://stackoverflow.com/questions/38218691/building-and-linking-shared-tensorflow-library-on-osx-el-capitan-to-call-from-ru/38238318#38238318", "title": "Building and linking shared Tensorflow library on OSX El Capitan to call from Ruby via Swig", "body": "<p>After more digging around, discovering <code>otool</code> (thanks Kristina) and better understanding what a <a href=\"https://stackoverflow.com/questions/2339679/what-are-the-differences-between-so-and-dylib-on-osx\"><code>.so</code></a>-file is, the solution didn't require much change in my setup:</p>\n\n<h3>Shared Build</h3>\n\n<pre><code># Clone source files\ngit clone --recurse-submodules https://github.com/tensorflow/tensorflow\ncd tensorflow\n# Build library\nbazel build //tensorflow:libtensorflow.so\n# Copy the newly shared build/library to /usr/local/lib\nsudo cp bazel-bin/tensorflow/libtensorflow.so /usr/local/lib\n</code></pre>\n\n<h3>Calling from Ruby using Swig</h3>\n\n<p>Follow the steps here, <a href=\"https://github.com/chrhansen/ruby-tensorflow#install-ruby-tensorflow\" rel=\"nofollow noreferrer\">https://github.com/chrhansen/ruby-tensorflow#install-ruby-tensorflow</a>, to run Swig, create a Makefile and <code>make</code></p>\n\n<p>When you run <code>make</code> you should see a line saying:</p>\n\n<pre><code>$ make\n$ linking shared-object libtensorflow.bundle\n</code></pre>\n\n<p>If your shared build is not accessible you'll see something like:</p>\n\n<pre><code>$ ld: library not found for -ltensorflow\n</code></pre>\n\n<h3>Simple tutorial</h3>\n\n<p>For those starting on this adventure, using C/C++ libraries in Ruby, this post was a good tutorial for me: <a href=\"http://engineering.gusto.com/simple-ruby-c-extensions-with-swig/\" rel=\"nofollow noreferrer\">http://engineering.gusto.com/simple-ruby-c-extensions-with-swig/</a></p>\n"}], "owner": {"reputation": 1362, "user_id": 1213651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca1ef57e07d289a4db8da3cf6c31f778?s=128&d=identicon&r=PG", "display_name": "ChrHansen", "link": "https://stackoverflow.com/users/1213651/chrhansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1430, "favorite_count": 4, "accepted_answer_id": 38238318, "answer_count": 2, "score": 5, "last_activity_date": 1467951003, "creation_date": 1467790994, "last_edit_date": 1467824865, "question_id": 38218691, "link": "https://stackoverflow.com/questions/38218691/building-and-linking-shared-tensorflow-library-on-osx-el-capitan-to-call-from-ru", "title": "Building and linking shared Tensorflow library on OSX El Capitan to call from Ruby via Swig", "body": "<p>I'm trying to help build a Ruby wrapper around <a href=\"https://www.tensorflow.org/versions/r0.9/get_started/os_setup.html\" rel=\"nofollow\">Tensorflow</a> using <a href=\"http://www.swig.org/Doc1.3/Ruby.html#Ruby_nn11\" rel=\"nofollow\">Swig</a>. Currently, I'm stuck at making a shared build, <code>.so</code>, and exposing its C/C++ headers to Ruby. So the question is: How do I build a <code>libtensorflow.so</code> shared build including the full Tensorflow library so it's available as a shared library on OSX El Capitan (note: <code>/usr/lib/</code> is read-only on El Capitan)?</p>\n\n<h3>Background</h3>\n\n<p>In this <a href=\"https://github.com/chrhansen/ruby-tensorflow\" rel=\"nofollow\">ruby-tensorflow</a> project, I need to package a Tensorflow <code>.bundle</code> file, but whenever I <code>irb -Ilib -rtensorflow</code> or try to run the specs <code>rspec</code>, I get and errors that the basic numeric types are not defined, but they are clearly defined <a href=\"https://github.com/chrhansen/ruby-tensorflow/blob/master/ext/files/tensor_c_api.h#L73\" rel=\"nofollow\">here</a>. </p>\n\n<p>I'm guessing this happens because my <code>.so</code>-file was not created properly or something is not linked as it should. C++/Swig/Bazel are not my strong sides, I'd like to focus on learning Tensorflow and building a good wrapper in Ruby, but I'm pretty stuck at this point getting to that fun part!</p>\n\n<p>What I've done:</p>\n\n<ol>\n<li><code>git clone --recurse-submodules https://github.com/tensorflow/tensorflow</code></li>\n<li><code>cd tensorflow</code></li>\n<li><code>bazel build //tensorflow:libtensorflow.so</code> (wait 10-15min on my machine)</li>\n<li>Copied the generated <code>libtensorflow.so</code> (166.6 MB) to the <a href=\"https://github.com/chrhansen/ruby-tensorflow/tree/master/ext\" rel=\"nofollow\"><code>/ext</code>-folder</a></li>\n<li>Run the <code>ruby extconf.rb</code>, <code>make</code>, and <code>make install</code> <a href=\"https://github.com/Arafatk/ruby-tensorflow#installation\" rel=\"nofollow\">described in the project</a></li>\n<li>Run <code>rspec</code></li>\n</ol>\n\n<p>In desperation, I've also gone through the official <a href=\"https://www.tensorflow.org/versions/r0.9/get_started/os_setup.html#installing-from-sources\" rel=\"nofollow\">installation from source</a> several times, but I don't know if that, the last <code>sudo pip install /tmp/tensorflow_pkg/tensorflow-0.9.0-py2-none-any.whl</code>-step even creates a shared build or just exposes a Python interface.</p>\n\n<p>The guy, Arafat, who made the <a href=\"https://github.com/Arafatk/ruby-tensorflow\" rel=\"nofollow\">original repository</a> and made the instructions that I've followed, says his <code>libtensorflow.so</code> is <strike>4.5 GB on his Linux machine \u2013 so over 20X the size of the shared build on my OSX machine.</strike> UPDATE1: he says his <code>libtensorflow.so</code>-build is <strong>302.2 MB</strong>, 4.5GB was the size of the entire tensorflow folder.</p>\n\n<p>Any help or alternative approaches are very appreciated!</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "ruby-on-rails-4", "encoding"], "answers": [{"tags": [], "owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1467855910, "creation_date": 1467855910, "answer_id": 38236443, "question_id": 38218488, "link": "https://stackoverflow.com/questions/38218488/ruby-fixing-double-utf-8-encoded-strings-with-invalid-characters/38236443#38236443", "title": "ruby: fixing double utf-8 encoded strings with invalid characters?", "body": "<p>I discuss that particular issue <a href=\"http://mysql.rjweb.org/doc.php/charcoll#fixing_double_encoding_\" rel=\"nofollow\"><em>here</em></a>, with 4 solutions.  Caveat:  The code there has not been thoroughly tested.</p>\n"}], "owner": {"reputation": 931, "user_id": 2788619, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/100006561616235/picture?type=large", "display_name": "L457", "link": "https://stackoverflow.com/users/2788619/l457"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467855910, "creation_date": 1467790362, "last_edit_date": 1467810569, "question_id": 38218488, "link": "https://stackoverflow.com/questions/38218488/ruby-fixing-double-utf-8-encoded-strings-with-invalid-characters", "title": "ruby: fixing double utf-8 encoded strings with invalid characters?", "body": "<p>I have invalid characters inside some text in my database (eg: <code>\u00e2\u20ac\u02dc</code>instead of <code>'</code>) because of copy-pasted content.\nExporting this text to google merchant returned the following error: <code>Encoding problem(Double UTF-8 Encoding)</code>.</p>\n\n<p>Is there any way to restore characters which have been converted from latin-1 to utf-8 twice, or filter them out without replacing any valid eurpoean characters in other areas (eg: <code>\u00e2</code> in valid french text)\nHave been researching this for a while now, havent found anything which would help with this particular situation.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "authorization"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1467790401, "post_id": 38218351, "comment_id": 63859828, "body": "A popular gem for &quot;roles&quot; is <a href=\"https://github.com/elabs/pundit\" rel=\"nofollow noreferrer\">pundit</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "is_accepted": false, "score": 1, "last_activity_date": 1467793227, "creation_date": 1467793227, "answer_id": 38219329, "question_id": 38218351, "link": "https://stackoverflow.com/questions/38218351/rails-gem-choice-for-authorization/38219329#38219329", "title": "Rails, gem choice for authorization", "body": "<p>The response to your question would be based on the opinions of the answerer. In my opinion, I'd prefer CanCanCan, largely because I've used it for a while, understanding the setup may be a bit of problem at first, but once gotten over that, it's all a smooth sail. It's simple logic also allows me to use enums within my application and get to productivity in no time. Others would argue Pundit, which is also simple to setup and easy to integrate and ease of working with other libraries, such as rolify and devise etc. There may not be a right or wrong answer in this case, but I guess it would ultimately be determined by your specific use case and the amount of time you have for setup.</p>\n"}, {"tags": [], "owner": {"reputation": 2343, "user_id": 6270554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PqRWJ.jpg?s=128&g=1", "display_name": "Hardik Upadhyay", "link": "https://stackoverflow.com/users/6270554/hardik-upadhyay"}, "is_accepted": false, "score": 1, "last_activity_date": 1467794501, "last_edit_date": 1467794501, "creation_date": 1467794317, "answer_id": 38219629, "question_id": 38218351, "link": "https://stackoverflow.com/questions/38218351/rails-gem-choice-for-authorization/38219629#38219629", "title": "Rails, gem choice for authorization", "body": "<p>If you say for authorization than <a href=\"https://github.com/elabs/pundit\" rel=\"nofollow\" title=\"Pundit gem\">Pundit Gem</a>  is best as per your requirement.</p>\n\n<p>But as per my knowledge not only pundit or any gem do all things for you. You need to give dynamic permission to all user as per shop. So you need to manage with your database setup also. </p>\n\n<p>You need three table like.</p>\n\n<blockquote>\n  <p>User<br>\n  Role<br>\n  Permission</p>\n</blockquote>\n\n<p>and set relationship as below</p>\n\n<pre><code>user has_one role\nrole has_many permissions\nuser has_many permissions through role \n</code></pre>\n\n<p>Above scenario is just an example the core logic may vary depend on your requirements.</p>\n\n<p>Hope this will help you.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 3929168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098074813238ef72047ae505e385af42?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Martin", "link": "https://stackoverflow.com/users/3929168/manuel-martin"}, "is_accepted": true, "score": 0, "last_activity_date": 1467803930, "creation_date": 1467803930, "answer_id": 38222756, "question_id": 38218351, "link": "https://stackoverflow.com/questions/38218351/rails-gem-choice-for-authorization/38222756#38222756", "title": "Rails, gem choice for authorization", "body": "<p>Pundit manage permission through policies and I think that is the best.</p>\n\n<p>You can crete an app/policies/application_policy.rb that manage actions like index/show/create....</p>\n\n<pre><code>  def index?\n    false\n  end\n\n  def show?\n    false\n  end\n\n  def create?\n    false\n  end\n\n  def new?\n    create?\n  end\n\n  def update?\n    false\n  end\n\n  def edit?\n    update?\n  end\n\n  def destroy?\n    false\n  end\n</code></pre>\n\n<p>And after that generate policies like </p>\n\n<pre><code>class MyClassPolicy &lt; ApplicationPolicy\nend\n</code></pre>\n\n<p>Check pundit documentation.</p>\n\n<p>About roles you can use: role model gem (<a href=\"https://github.com/martinrehfeld/role_model\" rel=\"nofollow\">https://github.com/martinrehfeld/role_model</a>) that manage roles too easy. Check the example and ask if needed.</p>\n"}], "owner": {"reputation": 548, "user_id": 4646232, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PXxeo.jpg?s=128&g=1", "display_name": "Kristiyan Tsvetanov", "link": "https://stackoverflow.com/users/4646232/kristiyan-tsvetanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 0, "accepted_answer_id": 38222756, "answer_count": 3, "score": 0, "last_activity_date": 1467872918, "creation_date": 1467789840, "last_edit_date": 1467872918, "question_id": 38218351, "link": "https://stackoverflow.com/questions/38218351/rails-gem-choice-for-authorization", "title": "Rails, gem choice for authorization", "body": "<p>I am building an app which aims to help shops organise their staff. There are many shops and each shop has many roles for the staff. The only constant position is the manager's one. I would like to enable him/her to create his/her own roles. For example, in shop A, the delivery guy may update order_status, but in shop B, he may not.\nAs you can see, I would like the roles to be custom and to be constrained in the specific shop.\nI am considering three gems for the authorization - cancancan, rolify and pundit(but I am open to suggestions). Rolify is not that famous one but it has the convinient option to say </p>\n\n<pre><code>user.has_role?(:manager, Shop.find(4))  \n</code></pre>\n\n<p>Which gem do you think is the best choice? Thank you!</p>\n\n<p><strong>EDIT:</strong> I found the following link extremely helpful. <a href=\"https://blog.joshsoftware.com/2012/10/23/dynamic-roles-and-permissions-using-cancan/\" rel=\"nofollow\">Click</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 1874, "user_id": 347698, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/97a603e8b378256cd3f706912dbfd031?s=128&d=identicon&r=PG", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/347698/chaitanya"}, "edited": false, "score": 0, "creation_date": 1467788953, "post_id": 38217796, "comment_id": 63859056, "body": "pls look into gem &quot;browser-timezone-rails&quot; which helps to convert and save local time in UTC and vice-versa."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 1874, "user_id": 347698, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/97a603e8b378256cd3f706912dbfd031?s=128&d=identicon&r=PG", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/347698/chaitanya"}, "edited": false, "score": 0, "creation_date": 1467789472, "post_id": 38217796, "comment_id": 63859337, "body": "@chaitanya Using gems for this kind of problem is <code>leftpad syndrome</code>, which is in turn a decease."}, {"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1467789831, "post_id": 38217796, "comment_id": 63859519, "body": "See this answer: <a href=\"http://stackoverflow.com/questions/5267170/how-to-display-the-time-in-users-timezone\" title=\"how to display the time in users timezone\">stackoverflow.com/questions/5267170/&hellip;</a>"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1467789937, "post_id": 38217796, "comment_id": 63859580, "body": "@GokulM what value this answer adds to what OP already has?"}, {"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1467790266, "post_id": 38217796, "comment_id": 63859750, "body": "@mudasobwa It tells how to get the time in user timezone.."}], "answers": [{"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1467829961, "post_id": 38218349, "comment_id": 63884157, "body": "NB: in the previous implementation there was a bug: it failed on &#39;-0:30&#39; timezone. AFAIK, such a timezone does not exist, but anyway I corrected a solution."}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467829904, "last_edit_date": 1467829904, "creation_date": 1467789831, "answer_id": 38218349, "question_id": 38217796, "link": "https://stackoverflow.com/questions/38217796/how-can-i-convert-utc-time-to-local-time-timezone-with-0530/38218349#38218349", "title": "how can i convert utc time to local time timezone with +05:30", "body": "<pre><code>%w|+05:30 +10:00|.map do |time_zone|\n  hours, mins = time_zone.split(':').map(&amp;:to_i).map(&amp;:abs)\n  sign = time_zone[0] == '-' ? -1 : 1\n  Time.now.in_time_zone(ActiveSupport::TimeZone[(hours + 1.0 * mins / 60]) * sign)\nend\n#\u21d2\u00a0[Wed, 06 Jul 2016 12:54:10 IST +05:30, Wed, 06 Jul 2016 17:24:10 AEST +10:00]\n</code></pre>\n"}], "owner": {"reputation": 2111, "user_id": 1846982, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9979071c5c3697ae9e8b8f50062a1782?s=128&d=identicon&r=PG&f=1", "display_name": "Bloomberg", "link": "https://stackoverflow.com/users/1846982/bloomberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 38218349, "answer_count": 1, "score": 0, "last_activity_date": 1467829904, "creation_date": 1467787775, "question_id": 38217796, "link": "https://stackoverflow.com/questions/38217796/how-can-i-convert-utc-time-to-local-time-timezone-with-0530", "title": "how can i convert utc time to local time timezone with +05:30", "body": "<p>I am trying to convert UTC time to user local time. For local time zone if have values like:</p>\n\n<pre><code>user_id   time_zone\n 23       +05:30\n 25       +10:00\n</code></pre>\n\n<p>is this sufficient info? How can i convert using this. In documentation all i could find is this method.</p>\n\n<pre><code>Time.now.in_time_zone('Eastern Time (US &amp; Canada)') \n</code></pre>\n\n<p>but i dont have that. Or should I fetch this <code>Eastern Time (US &amp; Canada)</code> using +10:00</p>\n\n<p>I am trying to trigger push notifications at 10 am of user's time.</p>\n"}, {"tags": ["ruby", "linux", "ansible", "rack"], "answers": [{"tags": [], "owner": {"reputation": 622, "user_id": 3803749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYFxy.jpg?s=128&g=1", "display_name": "MAP", "link": "https://stackoverflow.com/users/3803749/map"}, "is_accepted": false, "score": 1, "last_activity_date": 1467787102, "creation_date": 1467787102, "answer_id": 38217643, "question_id": 38217369, "link": "https://stackoverflow.com/questions/38217369/error-while-installing-rack-gem-in-ruby/38217643#38217643", "title": "Error while installing rack gem in ruby", "body": "<p>The error you get while installing says: \"<code>rack requires Ruby version &gt;= 2.2.2</code>\"  Then later you report \"<code>ruby --version : 2.0.0p648</code>\".  The message is telling you that your version of Ruby is too old, you need to upgrade it to at least 2.2.2 to use rack.</p>\n"}, {"tags": [], "owner": {"reputation": 778, "user_id": 1952739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338ec1cd4d081f781a966b42fde090d0?s=128&d=identicon&r=PG", "display_name": "unused", "link": "https://stackoverflow.com/users/1952739/unused"}, "is_accepted": true, "score": 0, "last_activity_date": 1467787203, "creation_date": 1467787203, "answer_id": 38217671, "question_id": 38217369, "link": "https://stackoverflow.com/questions/38217369/error-while-installing-rack-gem-in-ruby/38217671#38217671", "title": "Error while installing rack gem in ruby", "body": "<p>You are currently using the system default ruby version, therefore you are bound to the version the operating systems package management is offering you. You can use different package repositories to fetch a newer version of ruby. A better approach might be to use some ruby version management system, that allows you to have several version of ruby on your system and switch those e.g. on project level. To mention two popular of them: <a href=\"https://github.com/rbenv/rbenv\" rel=\"nofollow\" title=\"RBENV\">RBENV</a> or <a href=\"https://rvm.io/\" rel=\"nofollow\" title=\"RVM\">RVM</a></p>\n"}], "owner": {"reputation": 317, "user_id": 3155940, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/o2DAT.png?s=128&g=1", "display_name": "Grin like a Cheshire cat", "link": "https://stackoverflow.com/users/3155940/grin-like-a-cheshire-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1092, "favorite_count": 0, "accepted_answer_id": 38217671, "answer_count": 2, "score": 0, "last_activity_date": 1467787203, "creation_date": 1467785844, "question_id": 38217369, "link": "https://stackoverflow.com/questions/38217369/error-while-installing-rack-gem-in-ruby", "title": "Error while installing rack gem in ruby", "body": "<p>While i am trying install rack gem using ansible, i get an error as :</p>\n\n<pre><code>ERROR:  Error installing rack:\n        rack requires Ruby version &gt;= 2.2.2\n</code></pre>\n\n<p>I have installed rack along with the gems as :</p>\n\n<pre><code>- name: Install Ruby Gems   become: yes   gem: name={{ item }} state=latest user_install=no   with_items:\n    - rubygems-update\n    - r509\n    - r509-ca-http\n    - rack\n</code></pre>\n\n<p>My current version if is see using ruby --version : 2.0.0p648</p>\n\n<p>WHat is the problem , and if I have to update my ruby version and how can I update using ansible for Amazon Linux OS</p>\n"}, {"tags": ["ruby", "rvm"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1467785582, "post_id": 38217109, "comment_id": 63857624, "body": "It seems weird to me that your RVM tries to download Ruby from travisci.org"}, {"owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "edited": false, "score": 0, "creation_date": 1467793906, "post_id": 38217109, "comment_id": 63861808, "body": "What is <code>rvm</code> version?"}, {"owner": {"reputation": 1, "user_id": 5417541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xy-nGvbuuyM/AAAAAAAAAAI/AAAAAAAAABE/F2GkznEKcw0/photo.jpg?sz=128", "display_name": "Venkatesh Ch", "link": "https://stackoverflow.com/users/5417541/venkatesh-ch"}, "edited": false, "score": 0, "creation_date": 1467795532, "post_id": 38217109, "comment_id": 63862696, "body": "the version is &#39;rvm 1.27.0&#39;"}], "owner": {"reputation": 1, "user_id": 5417541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xy-nGvbuuyM/AAAAAAAAAAI/AAAAAAAAABE/F2GkznEKcw0/photo.jpg?sz=128", "display_name": "Venkatesh Ch", "link": "https://stackoverflow.com/users/5417541/venkatesh-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1467786269, "creation_date": 1467784371, "last_edit_date": 1467786269, "question_id": 38217109, "link": "https://stackoverflow.com/questions/38217109/rvm-throws-following-error-while-installing-ruby-2-0-0", "title": "rvm throws following error while installing ruby 2.0.0", "body": "<p>I am getting the following error while installing the fresh ruby 2.0.0-p648 through rvm</p>\n\n<pre><code>$ rvm install 2.0.0\n\nSearching for binary rubies, this might take some time.\nFound remote file https://rubies.travis-ci.org/ubuntu/14.04/x86_64/ruby-2.0.0-p648.tar.bz2\n\nChecking requirements for ubuntu.\n\nInstalling requirements for ubuntu.\n\nUpdating system..bob password required for 'apt-get --quiet --yes update': \n\n...........\n\nInstalling required packages: libgmp-dev....\n\nError running 'requirements_debian_libs_install libgmp-dev',\nshowing last 15 lines of /home/rank/.rvm/log/1467783851_ruby-2.0.0-p648/package_install_libgmp-dev.log\n++ sudo -p '%p password required for '\\''apt-get --no-install-recommends --yes install libgmp-dev'\\'': ' apt-get --no-install-recommends --yes install libgmp-dev\n\nReading package lists...\n\nBuilding dependency tree...\nReading state information...\n\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\n\nThe following information may help to resolve the situation:\n\nThe following packages have unmet dependencies:\n libgmp-dev : Depends: libgmp10 (= 2:5.0.2+dfsg-2ubuntu1) but 2:5.1.3+dfsg-1ubuntu1 is to be installed\n\nE: Unable to correct problems, you have held broken packages.\n\n++ return 100\n\n++ return 100\n\nRequirements installation failed with status: 100.\n</code></pre>\n\n<p>Please help</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "heroku", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1467781781, "post_id": 38216643, "comment_id": 63856490, "body": "Are you using caching? Sometimes a dodgy page can be cached, and caching is generally not turned on for development environments... ie your local machine. Alternatively, have you googled for &quot;heroku pre-compile assets&quot; and found the relevant heroku docs for that? (heroku generally has fairly comprehensive docs)"}, {"owner": {"reputation": 555, "user_id": 4172020, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ef1b035f4f8b6b2ecdeba1dd6cc3cbb2?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4172020/jeremy"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 1, "creation_date": 1467786222, "post_id": 38216643, "comment_id": 63857834, "body": "Turning off cache has no effect. Double confirmed by trying a different browser. I&#39;ll dig through the Heroku docs tomorrow (maybe...or maybe I&#39;ll get frustrated and just blow it away on there end and re-up it from scratch and see if that fixes it."}, {"owner": {"reputation": 1841, "user_id": 676002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4150abda451c90b1d206954558b523?s=128&d=identicon&r=PG", "display_name": "chipairon", "link": "https://stackoverflow.com/users/676002/chipairon"}, "edited": false, "score": 0, "creation_date": 1467788359, "post_id": 38216643, "comment_id": 63858750, "body": "I think that your problem is not related to heroku or assets precompilation. It would be a good thing to identify the individual problems you are having and try to solve them one at a time. For instance, the header code you posted is not checking if the user is logged in, so it is expected to be shown to visitors.  Take a closer look at <a href=\"https://www.railstutorial.org/book/updating_and_deleting_users#code-users_link\" rel=\"nofollow noreferrer\">railstutorial.org/book/&hellip;</a>"}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467790857, "post_id": 38216643, "comment_id": 63860092, "body": "I&#39;m a bit confident that Heroku may not be the problem, based on the instances you mentioned, of a user not being signed in but able to delete other users, shouldn&#39;t be related to your assets, but to your controller checks. I&#39;d advice that as you said re-up the app as you said, you&#39;d learn more and be able to fix this."}, {"owner": {"reputation": 555, "user_id": 4172020, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ef1b035f4f8b6b2ecdeba1dd6cc3cbb2?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4172020/jeremy"}, "edited": false, "score": 0, "creation_date": 1467815798, "post_id": 38216643, "comment_id": 63875356, "body": "There were two problems. One, Heroku had to be convinced to flush the precompile files git was pushing, forcing heroku to rebuild the assets pipeline, and two I had re-ordered my application.js file (while grasping wildly for a solution) to put the jquery require after the bootstrap require. Once the requirements were put back into the original order the functionality of the drop down menu returned."}, {"owner": {"reputation": 3807, "user_id": 2043592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zCbuL.jpg?s=128&g=1", "display_name": "xploshioOn", "link": "https://stackoverflow.com/users/2043592/xploshioon"}, "edited": false, "score": 0, "creation_date": 1467818964, "post_id": 38216643, "comment_id": 63877589, "body": "are you using turbolinks?"}], "owner": {"reputation": 555, "user_id": 4172020, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ef1b035f4f8b6b2ecdeba1dd6cc3cbb2?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4172020/jeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1467781612, "creation_date": 1467781612, "question_id": 38216643, "link": "https://stackoverflow.com/questions/38216643/heroku-rails5-precompile-issues", "title": "Heroku Rails(5) Precompile Issues?", "body": "<p>Working on the ruby on rails tutorial from <a href=\"https://www.railstutorial.org/\" rel=\"nofollow\">https://www.railstutorial.org/</a>. </p>\n\n<p>I got to a certain point (end of chapter 11) and my app started to develop serious issues when in production on Heroku. </p>\n\n<p>First pagination for the users index started returning a horribly styled users list, that seemed to have no (or very little) regard for css file, and the rails logic that addresses who gets to see and do what. </p>\n\n<p>Also, that user list shouldn't have been displaying a users index to a visitor who was not logged in, or allowing that visitor to see and execute a user delete(destory) action without being logged in and a confirmed admin, but it was. </p>\n\n<p>I managed to solve some of the problem by wiping out locally generated pre-compile asset files in /public/assets and /public/assets/boostrap and forcing a git push to wipe out what I believe to be a pile of precompiles I shouldn't have been generating or pushing. </p>\n\n<p>That fixed the issues with the user list display, and allowing the rouge delete action, but the dropdown menu in the header is still not working as a dropdown. </p>\n\n<p>I have a very strong confidence that all my source code is correct. Everything works perfectly locally. </p>\n\n<p>I think the issue lies in the precompile process when pushing to Heroku. </p>\n\n<p>Any steps to resolve this will be apreciated. If you need any of the source code I can gladly ad it to the question. </p>\n\n<pre><code>  &lt;header class=\"navbar navbar-fixed-top navbar-inverse\"&gt;\n&lt;div class=\"container\"&gt;\n  &lt;a id=\"logo\" href=\"/\"&gt;sample app&lt;/a&gt;\n  &lt;nav&gt;\n    &lt;ul class=\"nav navbar-nav navbar-right\"&gt;\n      &lt;li&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"/help\"&gt;Help&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/users\"&gt;Users&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"dropdown\"&gt;\n          &lt;a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\"&gt;\n            Account &lt;b class=\"caret\"&gt;&lt;/b&gt;\n          &lt;/a&gt;\n          &lt;ul class=\"dropdown-menu\"&gt;\n            &lt;li&gt;&lt;a href=\"/users/102\"&gt;Profile&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"/users/102/edit\"&gt;Settings&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=\"divider\"&gt;&lt;/li&gt;\n            &lt;li&gt;\n              &lt;a rel=\"nofollow\" data-method=\"delete\" href=\"/logout\"&gt;Log out&lt;/a&gt;\n            &lt;/li&gt;\n          &lt;/ul&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/nav&gt;\n&lt;/div&gt;\n&lt;/header&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "simple-form", "crud", "scaffold"], "answers": [{"comments": [{"owner": {"reputation": 118, "user_id": 5535915, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1644762879128955/picture?type=large", "display_name": "Osp", "link": "https://stackoverflow.com/users/5535915/osp"}, "edited": false, "score": 1, "creation_date": 1467780500, "post_id": 38216436, "comment_id": 63856197, "body": "Oh my god, you save my day with this single line of code :&#39;) I have been searched for almost a day."}, {"owner": {"reputation": 2906, "user_id": 1076207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54676eedfb0abdbfbf501a05e273bc83?s=128&d=identicon&r=PG", "display_name": "SoAwesomeMan", "link": "https://stackoverflow.com/users/1076207/soawesomeman"}, "reply_to_user": {"reputation": 118, "user_id": 5535915, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1644762879128955/picture?type=large", "display_name": "Osp", "link": "https://stackoverflow.com/users/5535915/osp"}, "edited": false, "score": 0, "creation_date": 1467780639, "post_id": 38216436, "comment_id": 63856231, "body": "@Osp You&#39;re welcome. Consider accepting this as the answer, see instructions: <a href=\"http://meta.stackexchange.com/a/5235/249307\">meta.stackexchange.com/a/5235/249307</a>"}], "tags": [], "owner": {"reputation": 2906, "user_id": 1076207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54676eedfb0abdbfbf501a05e273bc83?s=128&d=identicon&r=PG", "display_name": "SoAwesomeMan", "link": "https://stackoverflow.com/users/1076207/soawesomeman"}, "is_accepted": true, "score": 1, "last_activity_date": 1467780531, "last_edit_date": 1467780531, "creation_date": 1467780166, "answer_id": 38216436, "question_id": 38216405, "link": "https://stackoverflow.com/questions/38216405/how-to-do-rails-crud-without-scaffolding-command/38216436#38216436", "title": "How to do Rails CRUD without scaffolding command", "body": "<p>In Routes, use <code>as</code>:</p>\n\n<pre><code>resources :job, as: :jobs\nroot 'job#index'\n</code></pre>\n\n<p>\u2014OR\u2014</p>\n\n<p>Change to singular <code>resources</code> => <code>resource</code>:</p>\n\n<pre><code>resource :job\nroot 'job#index'\n</code></pre>\n\n<p><em>see: <a href=\"http://guides.rubyonrails.org/routing.html#singular-resources\" rel=\"nofollow\">http://guides.rubyonrails.org/routing.html#singular-resources</a></em></p>\n\n<p>\u2014OR\u2014</p>\n\n<p>Specify the <code>url</code> directly:</p>\n\n<pre><code>= simple_form_for(@job, url: job_path, html: {class: 'form-horizontal'}) do |f|\n</code></pre>\n"}], "owner": {"reputation": 118, "user_id": 5535915, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1644762879128955/picture?type=large", "display_name": "Osp", "link": "https://stackoverflow.com/users/5535915/osp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 38216436, "answer_count": 1, "score": 0, "last_activity_date": 1467780531, "creation_date": 1467779834, "last_edit_date": 1467780398, "question_id": 38216405, "link": "https://stackoverflow.com/questions/38216405/how-to-do-rails-crud-without-scaffolding-command", "title": "How to do Rails CRUD without scaffolding command", "body": "<p>In Gem:</p>\n\n<pre><code>gem 'simple_form', '~&gt; 3.2', '&gt;= 3.2.1'\ngem 'haml', '~&gt; 4.0', '&gt;= 4.0.7'\n</code></pre>\n\n<p>In Model:</p>\n\n<pre><code>ActiveRecord::Schema.define(version: 20160706040748) do\n  create_table \"jobs\", force: :cascade do |t|\n    t.string   \"title\"\n    t.text     \"description\"\n    t.datetime \"created_at\",  null: false\n    t.datetime \"updated_at\",  null: false\n  end\nend\n</code></pre>\n\n<p>In Controller:</p>\n\n<pre><code>class JobController &lt; ApplicationController\n\nbefore_action :find_job, only: [:show, :edit, :update, :destroy]\n\n  def index\n  end\n\n  def show\n  end\n\n  def new\n    @job = Job.new\n  end\n\n  def create\n    @job = Job.new(jobs_params)\n    if @job.save\n        redirect_to @job\n    else\n        render \"New\"\n    end\n  end\n\n  def edit\n  end\n\n  def update\n  end\n\n  def destroy\n  end\n\n  private\n\n  def jobs_params\n    params.require(:job).permit(:title, :description)\n  end\n\n  def find_job\n    @job = Job.find(params[:id])\n  end\n\nend\n</code></pre>\n\n<p>In Routes:</p>\n\n<pre><code>resources :job\nroot 'job#index'\n</code></pre>\n\n<p>In View (new):</p>\n\n<pre><code>%h1 New Job\n= render 'form'\n= link_to \"Back\", root_path\n</code></pre>\n\n<p>In Partial View (form): **** Using simple_form gem ***</p>\n\n<pre><code>= simple_form_for(@job, html: { class: 'form-horizontal'}) do |f|\n= f.input :title, label: \"Course Title\"\n= f.input :description, label: \"Course description\"\n%br/\n= f.button :submit\n</code></pre>\n\n<p>When I run it with <a href=\"http://localhost:3000/job/new\" rel=\"nofollow\">http://localhost:3000/job/new</a></p>\n\n<pre><code>NoMethodError in Job#new\n\nundefined method `jobs_path' for #&lt;#&lt;Class:0x007ffcf6241328&gt;:0x007ffcfe176bc0&gt;\n\n= simple_form_for(@job, html: { class: 'form-horizontal'}) do |f|\n= f.input :title, label: \"Course Title\"\n= f.input :description, label: \"Course description\"\n%br/\n= f.button :submit\n</code></pre>\n"}, {"tags": ["arrays", "ruby", "unit-testing", "testing", "testunit"], "comments": [{"owner": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "edited": false, "score": 1, "creation_date": 1467777718, "post_id": 38216024, "comment_id": 63855630, "body": "Just to remember, Princess @Leia_Organa, tests are not for final stage! They are at the very begining. Write tests first, write code later!"}], "answers": [{"comments": [{"owner": {"reputation": 1512, "user_id": 5513336, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/bc7pn.jpg?s=128&g=1", "display_name": "Leia_Organa", "link": "https://stackoverflow.com/users/5513336/leia-organa"}, "edited": false, "score": 0, "creation_date": 1467819137, "post_id": 38216453, "comment_id": 63877687, "body": "Thank you!! This is the exact answer I needed to make all my tests work!"}], "tags": [], "owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "is_accepted": true, "score": 4, "last_activity_date": 1467780328, "creation_date": 1467780328, "answer_id": 38216453, "question_id": 38216024, "link": "https://stackoverflow.com/questions/38216024/unit-tests-not-working-ruby-using-test-unit/38216453#38216453", "title": "Unit Tests Not Working - Ruby using test-unit", "body": "<p>You have defined a class method, you should call it like</p>\n\n<pre><code>Plant_Methods.plant_sort([[\"Violet\", \"Sunflower\"],\n                         [\"Gingko\", \"Beech\"], [\"Rice\", \"Wheat\"]])\n</code></pre>\n\n<p>not like</p>\n\n<pre><code>Plant_Methods.new([[\"Violet\", \"Sunflower\"], [\"Gingko\", \"Beech\"], [\"Rice\", \"Wheat\"]])\\\n             .plant_sort([[\"Violet\", \"Sunflower\"], [\"Gingko\", \"Beech\"], [\"Rice\", \"Wheat\"]])\n</code></pre>\n"}], "owner": {"reputation": 1512, "user_id": 5513336, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/bc7pn.jpg?s=128&g=1", "display_name": "Leia_Organa", "link": "https://stackoverflow.com/users/5513336/leia-organa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 38216453, "answer_count": 1, "score": 1, "last_activity_date": 1467780328, "creation_date": 1467776564, "question_id": 38216024, "link": "https://stackoverflow.com/questions/38216024/unit-tests-not-working-ruby-using-test-unit", "title": "Unit Tests Not Working - Ruby using test-unit", "body": "<p>I'm in the final stage of a simple project and I need my tests to start working. Basically, I am testing a function that sorts an array, and none of my tests are asserting. I'm using the test-unit gem in Ruby. </p>\n\n<p>So I have three files: </p>\n\n<pre><code>program.rb (where the method is invoked and passed an array)\nplant_methods.rb (where the class is defined with its class method)\ntc_test_plant_methods.rb (where the test should be run)\n</code></pre>\n\n<p>Heres what's in each file:</p>\n\n<pre><code>plant_methods.rb\n</code></pre>\n\n<p>The purpose of plant_sort is to sort each sub-array alphabetically, using the first plant in the sub-array.</p>\n\n<pre><code>class Plant_Methods\n  def initialize\n  end\n\n  def self.plant_sort(array) \n    array.sort! { |sub_array1, sub_array2|\n      sub_array1[0] &lt;=&gt; sub_array2[0] }\n  end\nend\n</code></pre>\n\n<p>Here's the program file.</p>\n\n<pre><code>program.rb\n\nrequire_relative 'plant_methods'\n\nplant_array = [['Rose', 'Lily', 'Daisy'], ['Willow', 'Oak', 'Palm'], ['Corn', 'Cabbage', 'Potato']]\n\nPlant_Methods.plant_sort(plant_array)\n</code></pre>\n\n<p>And here's the test unit.</p>\n\n<pre><code>tc_test_plant_methods.rb\n\nrequire_relative \"plant_methods\"\nrequire \"test/unit\"\n\nclass Test_Plant_Methods &lt; Test::Unit::TestCase\n\n  def test_plant_sort\n      puts \" it sorts the plant arrays alphabetically based on the first plant\"\n    assert_equal([[\"Gingko\", \"Beech\"], [\"Rice\", \"Wheat\"], [\"Violet\", \"Sunflower\"]], Plant_Methods.new([[\"Violet\", \"Sunflower\"], [\"Gingko\", \"Beech\"], [\"Rice\", \"Wheat\"]]).plant_sort([[\"Violet\", \"Sunflower\"], [\"Gingko\", \"Beech\"], [\"Rice\", \"Wheat\"]]))\n  end\n\nend\n</code></pre>\n\n<p>However, when I run tc_test_plant_methods.rb, I get the following errors: </p>\n\n<pre><code>$ ruby tc_plant_methods.rb \nRun options: \n# Running tests:\n\n[1/1] Test_Plant_Methods#test_plant_sort it sorts the plant arrays alphabetically based on the first plant\n = 0.00 s\n  1) Error:\ntest_plant_sort(Test_Plant_Methods):\nArgumentError: wrong number of arguments (1 for 0)\n</code></pre>\n\n<p>And</p>\n\n<pre><code>Finished tests in 0.003687s, 271.2232 tests/s, 0.0000 assertions/s.\n1 tests, 0 assertions, 0 failures, 1 errors, 0 skips\n</code></pre>\n\n<p>So basically the test runs, but it doesn't return any assertions. Can anyone point me in the right direction as to what I'm doing wrong, or how to fix this?</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1467776595, "post_id": 38216019, "comment_id": 63855395, "body": "You should add <code>id</code> then"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1467776627, "post_id": 38216019, "comment_id": 63855400, "body": "Are you missing some quotes?"}, {"owner": {"reputation": 560, "user_id": 6317812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8YfWu.jpg?s=128&g=1", "display_name": "Dmitry Shvetsov", "link": "https://stackoverflow.com/users/6317812/dmitry-shvetsov"}, "edited": false, "score": 0, "creation_date": 1467776657, "post_id": 38216019, "comment_id": 63855405, "body": "do you use capybara gem?"}, {"owner": {"reputation": 1, "user_id": 6554326, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vlEHgt9xjOM/AAAAAAAAAAI/AAAAAAAABQU/jIuFLP61lrk/photo.jpg?sz=128", "display_name": "Yash Mehta", "link": "https://stackoverflow.com/users/6554326/yash-mehta"}, "edited": false, "score": 0, "creation_date": 1467776710, "post_id": 38216019, "comment_id": 63859912, "body": "you should do the button with an id then"}, {"owner": {"reputation": 560, "user_id": 6317812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8YfWu.jpg?s=128&g=1", "display_name": "Dmitry Shvetsov", "link": "https://stackoverflow.com/users/6317812/dmitry-shvetsov"}, "edited": false, "score": 0, "creation_date": 1467776867, "post_id": 38216019, "comment_id": 63859914, "body": "Agree. Best practice is to use ids. Because the button text may change, structure may change and even button may become an anchor tag."}, {"owner": {"reputation": 18722, "user_id": 1702943, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/nqRAA.png?s=128&g=1", "display_name": "Rao", "link": "https://stackoverflow.com/users/1702943/rao"}, "edited": false, "score": 0, "creation_date": 1467777055, "post_id": 38216019, "comment_id": 63855481, "body": "Looks like you got some spaces around it in html and which are missing in finding element? Or provide some more html code snippet for better context."}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "edited": false, "score": 0, "creation_date": 1467777176, "post_id": 38216019, "comment_id": 63859913, "body": "Its not a site I designed. Does not have access to the code"}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "edited": false, "score": 0, "creation_date": 1467777213, "post_id": 38216019, "comment_id": 63855518, "body": "Its not a site I designed. Does not have access to the code. Cannot add a class or anything. I am just illustrating that the button has no id, class, etc just a button with a text"}, {"owner": {"reputation": 46893, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1467778641, "post_id": 38216019, "comment_id": 63855822, "body": "Any errors raised?"}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 46893, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1467778993, "post_id": 38216019, "comment_id": 63855887, "body": "Its not able to find the element @Andersson"}, {"owner": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1467804832, "post_id": 38216019, "comment_id": 63868024, "body": "You may find a parent, or grandparent, wrapping element that does have a unique id that you can use in your path.  e.g. //div[@id=&#39;foo&#39;]/button"}], "answers": [{"tags": [], "owner": {"reputation": 560, "user_id": 6317812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8YfWu.jpg?s=128&g=1", "display_name": "Dmitry Shvetsov", "link": "https://stackoverflow.com/users/6317812/dmitry-shvetsov"}, "is_accepted": false, "score": 0, "last_activity_date": 1467780061, "last_edit_date": 1467780061, "creation_date": 1467779041, "answer_id": 38216305, "question_id": 38216019, "link": "https://stackoverflow.com/questions/38216019/how-to-click-on-a-button-with-just-a-text/38216305#38216305", "title": "How to click on a button with just a text?", "body": "<p>You have errors in your xpath. The correct one is:</p>\n\n<pre><code># use button[] instead of button()\n# you have weird order of \", ' and )\n# space in the text 'Click me' also be considered ' Click me '\ndriver.find_element(:xpath, \"//button[text() = ' Click me ']\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 6469532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0cH_MyLXDNA/AAAAAAAAAAI/AAAAAAAAABY/z51lUNvJ6wE/photo.jpg?sz=128", "display_name": "Mohit Tater", "link": "https://stackoverflow.com/users/6469532/mohit-tater"}, "is_accepted": false, "score": 0, "last_activity_date": 1467780229, "creation_date": 1467780229, "answer_id": 38216444, "question_id": 38216019, "link": "https://stackoverflow.com/questions/38216019/how-to-click-on-a-button-with-just-a-text/38216444#38216444", "title": "How to click on a button with just a text?", "body": "<p>If it is not your typo in question, Try after changing:</p>\n\n<pre><code>driver.find_element(:xpath, \"//button[contains(text(), 'Click me'\")]\n</code></pre>\n\n<p>to</p>\n\n<pre><code>driver.find_element(:xpath, \"//button[contains(text(), 'Click me')]\")\n</code></pre>\n\n<p>Otherwise, find all the element on the page with tag name as \"button\" then traverse through the list of those elements to get the desired one.</p>\n\n<p><strong>Eg Code:</strong></p>\n\n<p>Get all buttons:</p>\n\n<pre><code>buttons =  driver.find_elements(:class=&gt; 'button');\n</code></pre>\n\n<p>Get the button with text 'Click Me'</p>\n\n<pre><code>clickMeButton = buttons.select{|el| el.text == 'Click Me'}.first\n</code></pre>\n\n<p>click on the button:</p>\n\n<pre><code>clickMeButton.click\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": false, "score": 0, "last_activity_date": 1467789939, "last_edit_date": 1467789939, "creation_date": 1467785335, "answer_id": 38217283, "question_id": 38216019, "link": "https://stackoverflow.com/questions/38216019/how-to-click-on-a-button-with-just-a-text/38217283#38217283", "title": "How to click on a button with just a text?", "body": "<p>Your code looks like syntactically incorrect, You should try as :-</p>\n\n<pre><code>driver.find_element(:xpath, \"//button[normalize-space(text())='Click me']\")\n</code></pre>\n\n<p>or </p>\n\n<pre><code>driver.find_element(:xpath, \"//button[contains(text(), 'Click me')]\")\n</code></pre>\n\n<p><strong>Note</strong> :- Your button text seems as <strong>contains extra white spaces</strong>. So for avoiding these white spaces you should use <code>normalize-space()</code> in your <code>xPath</code></p>\n\n<p>Hope it will help you..:)</p>\n"}], "owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1809, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1467789939, "creation_date": 1467776524, "last_edit_date": 1467777286, "question_id": 38216019, "link": "https://stackoverflow.com/questions/38216019/how-to-click-on-a-button-with-just-a-text", "title": "How to click on a button with just a text?", "body": "<p>I have a button that has no class, id just a text</p>\n\n<pre><code> &lt;button&gt; Click me &lt;/button&gt;\n</code></pre>\n\n<p>I tried the following:</p>\n\n<pre><code>driver.find_element(:xpath, \"//button[contains(text(), 'Click me'\")]\ndriver.find_element(:xpath, \"//button(text() = 'Clck me'\")\n</code></pre>\n\n<p>None of these work. Could someone put me in the right path?</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "http", "heroku"], "comments": [{"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "edited": false, "score": 0, "creation_date": 1467776524, "post_id": 38215910, "comment_id": 63855384, "body": "<a href=\"https://devcenter.heroku.com/articles/cleardb\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/cleardb</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2906, "user_id": 1076207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54676eedfb0abdbfbf501a05e273bc83?s=128&d=identicon&r=PG", "display_name": "SoAwesomeMan", "link": "https://stackoverflow.com/users/1076207/soawesomeman"}, "is_accepted": true, "score": 1, "last_activity_date": 1467784397, "last_edit_date": 1467784397, "creation_date": 1467782663, "answer_id": 38216825, "question_id": 38215910, "link": "https://stackoverflow.com/questions/38215910/is-there-a-way-in-heroku-to-connect-to-a-remote-mysql-database/38216825#38216825", "title": "Is there a way in Heroku to connect to a remote MySQL database?", "body": "<blockquote>\n  <p>Can a Heroku instance running Rails connect to a remote database\n  connection?</p>\n</blockquote>\n\n<p>Yes</p>\n\n<blockquote>\n  <p>To be more specific, the remote database connection of MySQL resides\n  at Amazon RDS.</p>\n</blockquote>\n\n<p>Yes. See:</p>\n\n<ul>\n<li><a href=\"https://devcenter.heroku.com/articles/ruby-database-provisioning\" rel=\"nofollow\">https://devcenter.heroku.com/articles/ruby-database-provisioning</a></li>\n<li><a href=\"https://devcenter.heroku.com/articles/amazon-rds#configuring-a-heroku-ruby-app-to-use-a-mysql-rds-instance\" rel=\"nofollow\">https://devcenter.heroku.com/articles/amazon-rds#configuring-a-heroku-ruby-app-to-use-a-mysql-rds-instance</a></li>\n</ul>\n\n<p><em><blockquote>\nYou must grant Heroku dynos access to your RDS instance. The recommended way to do this is to configure the RDS instance to only accept SSL-encrypted connections from authorized users and configure the security group for your instance to permit ingress from all IPs, eg 0.0.0.0/0.\n</blockquote></em></p>\n"}], "owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 38216825, "answer_count": 1, "score": 2, "last_activity_date": 1467784397, "creation_date": 1467775542, "question_id": 38215910, "link": "https://stackoverflow.com/questions/38215910/is-there-a-way-in-heroku-to-connect-to-a-remote-mysql-database", "title": "Is there a way in Heroku to connect to a remote MySQL database?", "body": "<p>Heroku supports no database other than PostgreSQL, but my question is here regarding remote database. Can a Heroku instance running Rails connect to a remote database connection? To be more specific, the remote database connection of MySQL resides at Amazon RDS.</p>\n\n<p>If it's not possible at all, can I use remote database through HTTP requests generated by Rails code?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activemodel", "validating"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1467775140, "post_id": 38215797, "comment_id": 63855122, "body": "Nothing leaps out as obvious. I recommend trying this: 1) runs <code>rails console</code> 2) <code>n = Numerology.new(:phrase =&gt; &quot;)(&amp;^%^&amp;(*&amp;%^&amp;**&quot;)</code> 3) <code>n.valid?</code> 4) <code>puts n.errors.inspect</code>  5) copy the output and edit your question and enter it... (unless the error becomes obvious to you with doing that). (Note: the turn-around is quicker in the rails console... plus you can isolate whether the validation is <i>actually working</i> vs <i>something is wrong in how the errors are being returned by the controller</i>)"}, {"owner": {"reputation": 15, "user_id": 6554182, "user_type": "registered", "profile_image": "https://graph.facebook.com/1232238296788878/picture?type=large", "display_name": "David Herring", "link": "https://stackoverflow.com/users/6554182/david-herring"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 1, "creation_date": 1467836763, "post_id": 38215797, "comment_id": 63887933, "body": "Turns out the solution was that I wasn&#39;t calling valid? or invalid? anywhere, and once I did it all started to work. Thanks for your response and for pointing out the use of the console -- I will keep that in mind going forward."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6554182, "user_type": "registered", "profile_image": "https://graph.facebook.com/1232238296788878/picture?type=large", "display_name": "David Herring", "link": "https://stackoverflow.com/users/6554182/david-herring"}, "edited": false, "score": 0, "creation_date": 1467836593, "post_id": 38216074, "comment_id": 63887832, "body": "Success! Calling, in this case, invalid? was the magic bullet. Thanks for including the link to the doc page. Interestingly I had read that page in all my reading and googling, but for some reason it just didn&#39;t &quot;click&quot; in my mind what it was telling me (whereas in retrospect now it&#39;s obvious).   Thank you for your help!"}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 1, "creation_date": 1467849905, "post_id": 38216074, "comment_id": 63892958, "body": "Cool, great you found a solution. I didn&#39;t spot that you only had <code>new</code> and not <code>create&#47;update</code> which are the usual ones (create/update will also call <code>valid?</code>). I did think I should say: it&#39;s generally a good ruby practice to use positives rather than negatives as the human brain has more difficulty figuring out negatives. So in this case I&#39;d say <code>if @numerology.valid? (do_positives_stuff) else render :index</code> instead of the way around that you have it now... Otherwise, great work :)"}], "tags": [], "owner": {"reputation": 17527, "user_id": 516690, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/568c7fdf3e43141d7046e3255685a1d5?s=128&d=identicon&r=PG", "display_name": "Vadim", "link": "https://stackoverflow.com/users/516690/vadim"}, "is_accepted": true, "score": 0, "last_activity_date": 1467777145, "creation_date": 1467777145, "answer_id": 38216074, "question_id": 38215797, "link": "https://stackoverflow.com/questions/38215797/validating-with-activemodel-in-ruby-on-rails-4-seemingly-not-working/38216074#38216074", "title": "Validating with ActiveModel in Ruby on Rails 4 Seemingly not Working", "body": "<p>You need to either call <code>valid?</code> or <code>invalid?</code> in order to populate the errors list.</p>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActiveModel/Validations.html#method-i-valid-3F\" rel=\"nofollow\">http://api.rubyonrails.org/classes/ActiveModel/Validations.html#method-i-valid-3F</a></p>\n\n<blockquote>\n  <p><strong>valid?(context = nil)</strong></p>\n  \n  <p>Runs all the specified validations and returns true if no errors were\n  added otherwise false.</p>\n</blockquote>\n\n<pre><code>  def create\n    @numerology = Numerology.new(params[:numerology])\n    if @numerology.invalid?\n      render :index\n    else\n      @numresults = Numerology.analysis(params[:numerology][:phrase])\n    end\n  end\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6554182, "user_type": "registered", "profile_image": "https://graph.facebook.com/1232238296788878/picture?type=large", "display_name": "David Herring", "link": "https://stackoverflow.com/users/6554182/david-herring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 38216074, "answer_count": 1, "score": 0, "last_activity_date": 1467777145, "creation_date": 1467774555, "question_id": 38215797, "link": "https://stackoverflow.com/questions/38215797/validating-with-activemodel-in-ruby-on-rails-4-seemingly-not-working", "title": "Validating with ActiveModel in Ruby on Rails 4 Seemingly not Working", "body": "<p>When I enter data into a form that I know should fail, it doesn't. As per my model below, I require the data to be any combination of a-z, A-Z, 0-9 and whitespace, and when I stuff the form with garbage like )(<em>&amp;^%^&amp;</em>(*&amp;%^&amp;** or even submit an empty field, I would expect there to be errors. In this case, there isn't. </p>\n\n<p>Here's the salient part of the model:</p>\n\n<pre><code>class Numerology\n  include ActiveModel::Model\n\n  attr_accessor  :phrase\n\n  VALID_PHRASE_REGEX = /\\A[a-zA-Z0-9\\s]+\\z/\n\n  validates :phrase, presence: true, length: { minimum: 1 },\n            format: { with: VALID_PHRASE_REGEX }\n</code></pre>\n\n<p>Here's the controller...what I want it to do is go back to the index (the page with the form on it) with whatever errors are generated when I supply wrong input on the form. Not sure I'm going about it the right way here, but I think this might be a secondary question since I don't seem to get ANY errors generated at all (so of course @numerology.errors.any? would be false).</p>\n\n<pre><code>class NumerologiesController &lt; ApplicationController\n  before_filter :authenticate_user!\n  respond_to :html\n\n  def index\n    @numerology = Numerology.new\n  end\n\n  def create\n    @numerology = Numerology.new(params[:numerology])\n    if @numerology.errors.any?\n      render :index\n    else\n      @numresults = Numerology.analysis(params[:numerology][:phrase])\n    end\n  end\n\nend\n</code></pre>\n\n<p>And then finally, here are the views, first the index and then the create:</p>\n\n<p>The Index page:</p>\n\n<pre><code>&lt;div class=\"center jumbotron\"&gt;\n  &lt;h1&gt;Numerology Analysis Module&lt;/h1&gt;\n\n  &lt;br&gt;\n  &lt;%= bootstrap_form_for(@numerology, layout: :horizontal, label_col: \"col-sm-4\", control_col: \"col-sm-6\") do |f| %&gt;\n\n    &lt;p&gt; Enter word or phrase to be analyzed in the field below (Required).&lt;/p&gt;\n\n    &lt;%= @numerology.errors.full_messages.each do |message| %&gt;\n      &lt;li&gt;&lt;%= message %&gt;&lt;/li&gt;\n    &lt;% end %&gt;\n    &lt;%= f.text_field :phrase, label: \"Word or Phrase: \" %&gt;\n\n    &lt;br&gt;&lt;br&gt;\n\n    &lt;%= f.submit \"Perform Numerological Analysis\" %&gt;\n  &lt;% end %&gt;\n  &lt;br&gt;&lt;br&gt;\n  &lt;%= image_tag(\"SMILE.jpg\", alt: \"Smiley Face\") %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The Create page: </p>\n\n<pre><code>&lt;div class=\"center jumbotron\"&gt;\n  &lt;h1&gt;Numerological Analysis Report&lt;/h1&gt;\n  &lt;div class=\"numreport\"&gt;\n    &lt;table class=\"numtable\"&gt;\n      &lt;% @numresults.each do |line| %&gt;\n        &lt;% if !line.nil? %&gt;\n          &lt;tr&gt;\n            &lt;td&gt;&lt;%= \"#{line}\" %&gt;&lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;% end %&gt;\n      &lt;% end -%&gt;\n    &lt;/table&gt;\n  &lt;/div&gt;\n  &lt;%= link_to \"Perform Another Numerological Analysis - Click Here\",   numerologies_path %&gt;\n  &lt;br&gt;&lt;br&gt;&lt;br&gt;\n  &lt;%= image_tag(\"SMILE.jpg\", alt: \"Smiley Face\") %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So,does anyone see what I'm doing wrong here? Suggest other things to try? Thanks!</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467787096, "post_id": 38215749, "comment_id": 63858191, "body": "<a href=\"https://www.hackerrank.com/contests/101hack35/challenges/save-the-prisoner\" rel=\"nofollow noreferrer\">As I understand</a> there are N prisoners, 1 to N, and M treats, 1 to M. Just for fun, a deadly poison has been added to treat M. The prisoner are arranged in a circle, in numerical order, and the treats are given out in order, starting with prisoner S. So treat 1 is given to prisoner S, treat 2 goes to prisoner S+1. etc.. If M &gt; N-S, prisoner N gets treat N-S and prisoner 1 gets N-S+1. Round and round, this continues until all treats have been given out. Given N, M and S, which prisoner has enjoyed his last treat?"}, {"owner": {"reputation": 79, "user_id": 5127683, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/651fbd508a0da49e7a2b28ea63bdfd25?s=128&d=identicon&r=PG&f=1", "display_name": "duwerq", "link": "https://stackoverflow.com/users/5127683/duwerq"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467816238, "post_id": 38215749, "comment_id": 63875688, "body": "Thank you Cary for taking the time to look at the problem, I appreciate it."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5127683, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/651fbd508a0da49e7a2b28ea63bdfd25?s=128&d=identicon&r=PG&f=1", "display_name": "duwerq", "link": "https://stackoverflow.com/users/5127683/duwerq"}, "edited": false, "score": 0, "creation_date": 1467810911, "post_id": 38216138, "comment_id": 63871780, "body": "Thank you Cam.  After spending time on trying to figure this out, I realized I should have been able to add the number of sweets to the position number to somehow find where in the prisoners it would land but I wouldn&#39;t have come to this conclusion anytime soon.  Thank you very much for helping me look at this problem from a much simpler angle."}, {"owner": {"reputation": 372, "user_id": 4446662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edbea9d4200c484091a22cace5c7270d?s=128&d=identicon&r=PG&f=1", "display_name": "Spindoctor", "link": "https://stackoverflow.com/users/4446662/spindoctor"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1519750833, "post_id": 38216138, "comment_id": 85032827, "body": "@CarySwoveland can you please help me understand the use of the modulo operator? Why must we modulo m+s-2 with n?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 372, "user_id": 4446662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edbea9d4200c484091a22cace5c7270d?s=128&d=identicon&r=PG&f=1", "display_name": "Spindoctor", "link": "https://stackoverflow.com/users/4446662/spindoctor"}, "edited": false, "score": 0, "creation_date": 1520061907, "post_id": 38216138, "comment_id": 85168896, "body": "@Spindoctor, I haven&#39;t forgotten. Just been busy. Will get to this soon."}, {"owner": {"reputation": 372, "user_id": 4446662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edbea9d4200c484091a22cace5c7270d?s=128&d=identicon&r=PG&f=1", "display_name": "Spindoctor", "link": "https://stackoverflow.com/users/4446662/spindoctor"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1520347531, "post_id": 38216138, "comment_id": 85271614, "body": "@CarySwoveland Thank you very much for the note above. I really appreciate it. I think I have figured it out. Treating the array like a circular queue, gave me the answer and modulo arithmetic as well (<a href=\"https://www.youtube.com/watch?v=9ZZOGaGPBpk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=9ZZOGaGPBpk</a>)   if x &lt; n, x % n  = x if x == n, x % n = 0  This helps when you reach the nth position in the queue and need to start from the 0th position. Hope this helps"}], "tags": [], "owner": {"reputation": 921, "user_id": 4276844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f448f2372792762904abfe0dd26366ce?s=128&d=identicon&r=PG&f=1", "display_name": "Cam", "link": "https://stackoverflow.com/users/4276844/cam"}, "is_accepted": true, "score": 3, "last_activity_date": 1467777728, "creation_date": 1467777728, "answer_id": 38216138, "question_id": 38215749, "link": "https://stackoverflow.com/questions/38215749/ruby-hackerrank-puzzle-save-the-prisoner/38216138#38216138", "title": "Ruby - Hackerrank Puzzle - Save the Prisoner", "body": "<p><a href=\"https://www.hackerrank.com/contests/101hack35/challenges/save-the-prisoner\" rel=\"nofollow\">This appears to be</a> the exercise in question.  The key here is managing your use of modulo (which calculates a 0-indexed position) with the problem (which uses 1-indexed positions).</p>\n\n<p>In the example case, we have <strong>5 people (n)</strong> and want to iterate <strong>2 positions (m)</strong> over them starting from <strong>person #1 (s)</strong>.  Person #1 is index position 0 which we calculate by subtracting one from <code>s</code>.  We must also subtract one from the distance travelled <code>t</code> because getting to the starting position is considered the first move.  So we have <code>s+m-2</code>.</p>\n\n<p>By taking this resultant number, modulo <code>%</code> the total number of people, we will have calculated the 0-indexed position that we end up at.  We'll need to add one back to this number to convert back to a 1-indexed system.</p>\n\n<p>While it's okay to take a long-form approach to working exercise problems out (such as by populating arrays and actually iterating over them), this problem can also be solved as follows:</p>\n\n<pre><code># Enter your code here. Read input from STDIN. Print output to STDOUT\ngets.strip.to_i.times do\n    # n - number of prisoners\n    # m - number of sweets\n    # s - starting id\n    n, m, s = gets.split.map &amp;:to_i\n    puts ((m+s-2) % n) + 1\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6587562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ccd993ea24dc6986b5fe1e5513831b?s=128&d=identicon&r=PG&f=1", "display_name": "ashish singh", "link": "https://stackoverflow.com/users/6587562/ashish-singh"}, "edited": false, "score": 0, "creation_date": 1468790297, "post_id": 38426014, "comment_id": 64258668, "body": "i am getting timeout with the above code.tell some solution for c++"}], "tags": [], "owner": {"reputation": 1, "user_id": 6587562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ccd993ea24dc6986b5fe1e5513831b?s=128&d=identicon&r=PG&f=1", "display_name": "ashish singh", "link": "https://stackoverflow.com/users/6587562/ashish-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1468790270, "creation_date": 1468790270, "answer_id": 38426014, "question_id": 38215749, "link": "https://stackoverflow.com/questions/38215749/ruby-hackerrank-puzzle-save-the-prisoner/38426014#38426014", "title": "Ruby - Hackerrank Puzzle - Save the Prisoner", "body": "<pre><code>#include &lt;cmath&gt;\n#include &lt;cstdio&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\n\nint main() {\n    int t;\n    cin&gt;&gt;t;\n    for(int q=0;q&lt;t;q++)\n        {\n      long long int n,m,s;\n        cin&gt;&gt;n&gt;&gt;m&gt;&gt;s;\n        while(s!=m)\n           {\n            if(s==n)s=0;\n             s++;\n\n            }\n            cout&lt;&lt;s;\n        //exit(0);\n        }\n\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5127683, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/651fbd508a0da49e7a2b28ea63bdfd25?s=128&d=identicon&r=PG&f=1", "display_name": "duwerq", "link": "https://stackoverflow.com/users/5127683/duwerq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 1, "accepted_answer_id": 38216138, "answer_count": 2, "score": 2, "last_activity_date": 1573356402, "creation_date": 1467774039, "question_id": 38215749, "link": "https://stackoverflow.com/questions/38215749/ruby-hackerrank-puzzle-save-the-prisoner", "title": "Ruby - Hackerrank Puzzle - Save the Prisoner", "body": "<p>I'm having a hard time understanding how to solve this problem without causing memory allocation problems.  I'm pretty sure my logic is sound but unfortunately that doesn't seem to be good enough.  Does anyone have any recommendations for this so I can understand how to write the code more efficiently?</p>\n\n<p>Here's the problem:\nSample Input:\n1\n5 2 1\nSample Output\n2\nThere are N = 5 prisoners and M = 2 sweets. Distribution starts at ID number S = 1, so prisoner 1 gets the first sweet and prisoner 2 gets the second (last) sweet. Thus, we must warn prisoner  about the poison, so we print 2 on a new line.</p>\n\n<pre><code># Enter your code here. Read input from STDIN. Print output to STDOUT\nn = gets.strip.to_i\nn.times do \n\narr = gets.strip.split(\" \").map { |s| s.to_i}\nprisoners = arr[0].to_i\nsweets = arr[1].to_i\nposition = arr[2].to_i\n    prisoners_array = (1..prisoners).map { |p| p.to_i}\n    starting_position = prisoners_array[position - 1]\n    end_position = prisoners_array.size\n\n    awesome_array = (starting_position..end_position).map { |p| p.to_i}\n    awesomer_array = (prisoners_array[0]...starting_position).map { |p| p.to_i}\n    awesomest_array = awesome_array + awesomer_array\n\nwarning = 0\n\n    if sweets &gt; prisoners\n        sweets = sweets % prisoners\n    end\n    for i in awesomest_array\n\n    warning += 1\n        if warning === sweets\n            puts prisoners_array[i - 1] \n        end\nend\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "macos", "bundle", "osx-yosemite"], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 5138523, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c88985980501cdde7473d699b9a09174?s=128&d=identicon&r=PG&f=1", "display_name": "innhyu", "link": "https://stackoverflow.com/users/5138523/innhyu"}, "is_accepted": false, "score": 2, "last_activity_date": 1467785850, "last_edit_date": 1467785850, "creation_date": 1467772579, "answer_id": 38215581, "question_id": 38215522, "link": "https://stackoverflow.com/questions/38215522/bundle-install-lingers-too-much/38215581#38215581", "title": "Bundle install lingers too much", "body": "<p>I've had same issues before, but really bundle install sometimes just takes a long time to work. </p>\n\n<p>As a temporary solution, you can change the address of the GEMFILE to get HTTPS to HTTP which expedites the process, but don't forget to change it back. </p>\n\n<p>Also, there's been news that the new bundle version is experiencing some problem with slow updates. If that's your case, you could do </p>\n\n<pre><code>gem list | grep bundler\n\ngem uninstall bundler -v existing-version-number\n\ngem install bundler -v 1.11.2\n</code></pre>\n\n<p>To work with the version of bundle that doesn't have any known issue with speed. </p>\n"}], "owner": {"reputation": 4163, "user_id": 6402139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7658609bfca292dfded1a5f6e78b45bc?s=128&d=identicon&r=PG&f=1", "display_name": "ChuchaC", "link": "https://stackoverflow.com/users/6402139/chuchac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467785850, "creation_date": 1467771905, "question_id": 38215522, "link": "https://stackoverflow.com/questions/38215522/bundle-install-lingers-too-much", "title": "Bundle install lingers too much", "body": "<p>I updated ruby form 2.2.0 to 2.3.1, i'm using RVM, but every time i use bundle install it takes too much to run the code. I'm using OS X Yosemite \u00bfDoes anyone have idea what could it be happening?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 5138523, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c88985980501cdde7473d699b9a09174?s=128&d=identicon&r=PG&f=1", "display_name": "innhyu", "link": "https://stackoverflow.com/users/5138523/innhyu"}, "is_accepted": true, "score": 0, "last_activity_date": 1467772828, "creation_date": 1467772828, "answer_id": 38215610, "question_id": 38215453, "link": "https://stackoverflow.com/questions/38215453/rails-on-save-error-and-re-rendered-page-show-unsaved-attributes-errors/38215610#38215610", "title": "Rails on save error and re-rendered page, show UNSAVED attributes &amp; errors", "body": "<p>In the code, you could just add </p>\n\n<pre><code>&lt;% if @o.attribute == 2 and @o.errors.empty%&gt;\n  &lt;div id=\"show-this\"&gt;&lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Semantics could be off, but this would be simple way to work with it.</p>\n"}, {"tags": [], "owner": {"reputation": 2906, "user_id": 1076207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54676eedfb0abdbfbf501a05e273bc83?s=128&d=identicon&r=PG", "display_name": "SoAwesomeMan", "link": "https://stackoverflow.com/users/1076207/soawesomeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1467773427, "creation_date": 1467773427, "answer_id": 38215677, "question_id": 38215453, "link": "https://stackoverflow.com/questions/38215453/rails-on-save-error-and-re-rendered-page-show-unsaved-attributes-errors/38215677#38215677", "title": "Rails on save error and re-rendered page, show UNSAVED attributes &amp; errors", "body": "<p>I haven't tested it, but adding the <code>||=</code> to <code>manage</code> and calling <code>manage</code> in <code>create</code> might work:</p>\n\n<pre><code>def manage\n  @o ||= Object.new\nend\n\ndef create\n  @o = Object.new(params)\n  if @o.save\n    redirect_to \"something\"\n  else\n    manage\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 1, "accepted_answer_id": 38215610, "answer_count": 2, "score": 1, "last_activity_date": 1467773427, "creation_date": 1467771166, "question_id": 38215453, "link": "https://stackoverflow.com/questions/38215453/rails-on-save-error-and-re-rendered-page-show-unsaved-attributes-errors", "title": "Rails on save error and re-rendered page, show UNSAVED attributes &amp; errors", "body": "<p>The classic Rails set up is something like this</p>\n\n<pre><code>def manage\n  @o = Object.new\nend\n\ndef create\n  @o = Object.new(params)\n  if @o.save\n    redirect_to \"something\"\n  else\n    render \"manage\"\n  end\nend\n\n# view for manage\n&lt;div id=\"errors\"&gt;\n  &lt;%  if @o.errors.any? %&gt;\n    &lt;ul&gt;\n      &lt;% @o.errors.full_messages.each do |msg| %&gt;\n        &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;\n      &lt;% end %&gt;\n    &lt;/ul&gt;\n  &lt;% end %&gt;\n&lt;/div&gt;\n\n&lt;input name=\"attribute\" value=\"&lt;%= @o.attribute %&gt;\"&gt;\n</code></pre>\n\n<p>The key benefit being that if attribute threw an error, the re-rendered page would show:</p>\n\n<ul>\n<li>the object's error</li>\n<li>the object's attribute that was NOT saved as the default value in the input field, so the user doesn't have to retype things</li>\n</ul>\n\n<p>That's great! However, in my case, in my view file I have an additional line of code that looks like this:</p>\n\n<pre><code>&lt;% if @o.attribute == 2 %&gt;\n  &lt;div id=\"show-this\"&gt;&lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>If the user tried to set <code>@o.attribute = 2</code> but that failed due to a validation error, I want the page to render with the error message displayed, but simultaneously because <code>@o.attribut != 2</code> in reality, I do NOT want to display the <code>#show-this</code> div. Obviously, I could remove the <code>#show-this</code> by a <code>redirect</code> or a <code>reload</code> on the entire object, but then that would no longer make the errors show...</p>\n\n<p>I can think of different ways to do this, namely:</p>\n\n<ul>\n<li>in the custom validation, reset the <code>attribute</code> to nil myself if it doesn't save</li>\n<li>move the errors to a flash which can be used with a <code>redirect</code> that reloads the <code>@o</code></li>\n</ul>\n\n<p>BUT, I'm wondering if Rails already has a way of doing this... basically something that allows me to easily reload just one attribute, or check what the \"post-save\" value of that attribute should be?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "devise"], "comments": [{"owner": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "edited": false, "score": 2, "creation_date": 1467770805, "post_id": 38215274, "comment_id": 63854289, "body": "Take a look at this. Maybe it can help you. <a href=\"http://stackoverflow.com/questions/19791531/how-to-specify-devise-parameter-sanitizer-for-edit-action\" title=\"how to specify devise parameter sanitizer for edit action\">stackoverflow.com/questions/19791531/&hellip;</a>"}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "edited": false, "score": 0, "creation_date": 1467775880, "post_id": 38215274, "comment_id": 63855265, "body": "When you say it was working fine a couple days ago you mean on heroku?  I would try getting a fresh gemset on heroku and restarting the dynos to see if that helps."}, {"owner": {"reputation": 692, "user_id": 5672966, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/897026250394112/picture?type=large", "display_name": "Ezequiel Ramiro", "link": "https://stackoverflow.com/users/5672966/ezequiel-ramiro"}, "reply_to_user": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "edited": false, "score": 0, "creation_date": 1467819070, "post_id": 38215274, "comment_id": 63877643, "body": "on Heroku my devise gem was updated to 4.2, therefore &quot;.for&quot; is not working anymore. I have changed to &quot;.permit&quot; instead as @EddeAlmeida suggested. Although, now Im having other issues regarding to this. Thanks everyone."}], "answers": [{"tags": [], "owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "is_accepted": true, "score": 40, "last_activity_date": 1467776114, "creation_date": 1467776114, "answer_id": 38215976, "question_id": 38215274, "link": "https://stackoverflow.com/questions/38215274/devise-nomethoderror-for-parametersanitizer/38215976#38215976", "title": "Devise NoMethodError &#39;for&#39; ParameterSanitizer", "body": "<pre><code>class ApplicationController &lt; ActionController::Base    \n  before_action :configure_permitted_parameters, if: :devise_controller?\n\n  protected\n\n  def configure_permitted_parameters\n    devise_parameter_sanitizer.permit(:sign_up, keys: [:first_name, :last_name, :email])\n    devise_parameter_sanitizer.permit(:account_update, keys: [:first_name, :last_name, :phone, :email, bank_attributes: [:bank_name, :bank_account]])\n  end\nend\n</code></pre>\n\n<p>\"The .for method is deprecated in 4.1 + </p>\n\n<p>The first arg is the action name. :sign_up is for creating new Devise resources (such as users), and :account_update is for editing/updating the resource.</p>\n\n<p>The second arg, :keys contains an array of the parameters you allow.</p>\n\n<p>If you want nested_attributes, there is an example in :account_update, you put a separate array in with the key being _attributes.\"</p>\n"}], "owner": {"reputation": 692, "user_id": 5672966, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/897026250394112/picture?type=large", "display_name": "Ezequiel Ramiro", "link": "https://stackoverflow.com/users/5672966/ezequiel-ramiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5891, "favorite_count": 5, "accepted_answer_id": 38215976, "answer_count": 1, "score": 13, "last_activity_date": 1467776114, "creation_date": 1467769516, "question_id": 38215274, "link": "https://stackoverflow.com/questions/38215274/devise-nomethoderror-for-parametersanitizer", "title": "Devise NoMethodError &#39;for&#39; ParameterSanitizer", "body": "<p>I'm going nuts with an error I'm getting every time I try to sing in/sing up on my web.</p>\n\n<p>Heroku logs:</p>\n\n<pre><code>Started GET \"/users/sign_in\" for 201.235.89.150 at 2016-07-06 01:35:03 +0000\n Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)\nNoMethodError (undefined method `for' for #&lt;Devise::ParameterSanitizer:0x007f5968e0a920&gt;):\n app/controllers/application_controller.rb:11:in `configure_permitted_parameters'\n</code></pre>\n\n<p>application_controller.rb</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  # Prevent CSRF attacks by raising an exception.\n  # For APIs, you may want to use :null_session instead.\n  protect_from_forgery with: :exception\n\n  before_filter :configure_permitted_parameters, if: :devise_controller?\n\n    protected\n\n        def configure_permitted_parameters\n            devise_parameter_sanitizer.for(:sign_up) { |u| u.permit(:username, :email, :password, :provider, :uid) }\n            devise_parameter_sanitizer.for(:account_update) { |u| u.permit(:username, :email, :password, :current_password) }\n        end\nend\n</code></pre>\n\n<p>The thing is it is working fine locally. It\u00b4s just on Heroku. And also it was working just fine a couple of days ago.</p>\n"}, {"tags": ["ruby", "jekyll", "devkit"], "answers": [{"comments": [{"owner": {"reputation": 14704, "user_id": 873282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1e6ae94f84a34641ccc5abc86a664694?s=128&d=identicon&r=PG", "display_name": "koppor", "link": "https://stackoverflow.com/users/873282/koppor"}, "edited": false, "score": 0, "creation_date": 1478982591, "post_id": 38216261, "comment_id": 68371346, "body": "One should really follow the steps at <a href=\"https://github.com/oneclick/rubyinstaller/wiki/Development-Kit\" rel=\"nofollow noreferrer\">github.com/oneclick/rubyinstaller/wiki/Development-Kit</a> to install the devkit. Then, it perfectly works also when using <a href=\"http://chocolatey.org/\" rel=\"nofollow noreferrer\">chocolatey</a> - <code>choco install ruby2.devkit</code>."}], "tags": [], "owner": {"reputation": 3633, "user_id": 675154, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23da6806cab4830b5d1b15ef2a410541?s=128&d=identicon&r=PG", "display_name": "delta", "link": "https://stackoverflow.com/users/675154/delta"}, "is_accepted": false, "score": 1, "last_activity_date": 1467778669, "creation_date": 1467778669, "answer_id": 38216261, "question_id": 38215088, "link": "https://stackoverflow.com/questions/38215088/could-not-find-gem-wdm-0-1-0-x64-mingw32-in-any-of-the-gem-sources-listed/38216261#38216261", "title": "Could not find gem &#39;wdm (&gt;= 0.1.0) x64-mingw32&#39; in any of the gem sources listed in your Gemfile or available on this machine", "body": "<p>It seems you have installed devkit before, and it skips the new installation, try</p>\n\n<pre><code>ruby dk.rb install --force\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8190030"}, "is_accepted": false, "score": 2, "last_activity_date": 1498559162, "creation_date": 1498559162, "answer_id": 44777943, "question_id": 38215088, "link": "https://stackoverflow.com/questions/38215088/could-not-find-gem-wdm-0-1-0-x64-mingw32-in-any-of-the-gem-sources-listed/44777943#44777943", "title": "Could not find gem &#39;wdm (&gt;= 0.1.0) x64-mingw32&#39; in any of the gem sources listed in your Gemfile or available on this machine", "body": "<p>You need to run <code>bundle install</code> after adding the <code>wdm</code> gem to your Gemfile to download it.</p>\n"}], "owner": {"reputation": 11, "user_id": 6554019, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w3kxBo4XfqA/AAAAAAAAAAI/AAAAAAAAAFk/XeAk_A9AE3k/photo.jpg?sz=128", "display_name": "Vonique Stricklen", "link": "https://stackoverflow.com/users/6554019/vonique-stricklen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1975, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1498559162, "creation_date": 1467767714, "question_id": 38215088, "link": "https://stackoverflow.com/questions/38215088/could-not-find-gem-wdm-0-1-0-x64-mingw32-in-any-of-the-gem-sources-listed", "title": "Could not find gem &#39;wdm (&gt;= 0.1.0) x64-mingw32&#39; in any of the gem sources listed in your Gemfile or available on this machine", "body": "<p>When I run Jekyll serve on Git Bash I get the following warning: </p>\n\n<pre><code>Please add the following to your Gemfile to avoid polling for changes:\ngem 'wdm', '&gt;= 0.1.0' if Gem.win_platform?\n</code></pre>\n\n<p>After adding the Gemfile I get another error message.</p>\n\n<pre><code>Could not find gem 'wdm (&gt;= 0.1.0) x64-mingw32' in any of the gem sources\nlisted in your Gemfile or available on this machine.\n</code></pre>\n\n<p>I tried installing Ruby Devkit to fix this issue but I only end up getting the following error messages.</p>\n\n<pre><code>$ ruby dk.rb install\n[INFO] Skipping existing gem override for 'C:/Ruby200-x64'\n[WARN] Skipping existing DevKit helper library for 'C:/Ruby200-x64'\n\n$ gem install json --platform=ruby\nERROR: Error installing json:\nThe 'json' native gem requires installed build tools.\n\nPlease update your PATH to include build tools or download the DevKit\nfrom 'http://rubyinstaller.org/downloads' and follow the instructions\nat 'http://github.com/oneclick/rubyinstaller/wiki/Development-Kit'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "model", "before-save"], "answers": [{"comments": [{"owner": {"reputation": 1218, "user_id": 4592910, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1558928d220b4f7302dca2fe2c38ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Kathan", "link": "https://stackoverflow.com/users/4592910/kathan"}, "edited": false, "score": 1, "creation_date": 1467769397, "post_id": 38215135, "comment_id": 63853987, "body": "That is exactly what I need.. thank you very much. And I would like to execute this method on all attributes other than answer... that&#39;s why I am looping through. Thx again! @Taryn"}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "reply_to_user": {"reputation": 1218, "user_id": 4592910, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1558928d220b4f7302dca2fe2c38ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Kathan", "link": "https://stackoverflow.com/users/4592910/kathan"}, "edited": false, "score": 0, "creation_date": 1467770955, "post_id": 38215135, "comment_id": 63854322, "body": "ah cool right - that wasn&#39;t clear from the code given. Glad it helped :)"}, {"owner": {"reputation": 1218, "user_id": 4592910, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1558928d220b4f7302dca2fe2c38ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Kathan", "link": "https://stackoverflow.com/users/4592910/kathan"}, "edited": false, "score": 0, "creation_date": 1467771270, "post_id": 38215135, "comment_id": 63854388, "body": "One more question for you before I accept the answer... how can I assign the attributes a new value? <code>self.send(key) = &quot;new value&quot;</code> does not work."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "reply_to_user": {"reputation": 1218, "user_id": 4592910, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1558928d220b4f7302dca2fe2c38ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Kathan", "link": "https://stackoverflow.com/users/4592910/kathan"}, "edited": false, "score": 1, "creation_date": 1467772410, "post_id": 38215135, "comment_id": 63854596, "body": "In the above, you&#39;re trying to send the value to the reader, rather than the writer method. the writer method is called <code>answer=</code> TBH at this point I&#39;d start using <code>read_attribute</code> and <code>write_attribute</code> instead of <code>send</code> because it&#39;s a little bit safer - I&#39;ll update my answer above..."}, {"owner": {"reputation": 1218, "user_id": 4592910, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1558928d220b4f7302dca2fe2c38ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Kathan", "link": "https://stackoverflow.com/users/4592910/kathan"}, "edited": false, "score": 1, "creation_date": 1467778756, "post_id": 38215135, "comment_id": 63855843, "body": "Thank you very much @Taryn"}], "tags": [], "owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "is_accepted": true, "score": 1, "last_activity_date": 1467772579, "last_edit_date": 1467772579, "creation_date": 1467768093, "answer_id": 38215135, "question_id": 38214835, "link": "https://stackoverflow.com/questions/38214835/interpolating-an-attributes-key-before-save/38215135#38215135", "title": "Interpolating an attribute&#39;s key before save", "body": "<p>in this bit: <code>self.key</code> you are asking for it to literally call a method called <code>key</code>, but what you want, is to call the method-name that is stored in the variable key.</p>\n\n<p>you can use: <code>self.send(key)</code> instead, but it can be a little dangerous.\nIf somebody hacks up a new form on their browser to send you the attribute called <code>delete!</code> you don't want it accidentally called using <code>send</code>, so it might be better to use <code>read_attribute</code> and <code>write_attribute</code>.</p>\n\n<p>Example below:</p>\n\n<pre><code>def link_to_article\n  self.attributes.each do |key, value|\n    unless key == \"answer\" \n      linked_attrs = []\n      self.read_attribute(key).split(';').each do |i|\n        a = Article.where('lower(specific) = ?', i.downcase.strip).first\n        if a &amp;&amp; a.approved?\n          linked_attrs.push(\"&lt;a href='/questions/#{a.slug}' target=_blank&gt;#{i.strip}&lt;/a&gt;\")\n        else\n          linked_attrs.push(i.strip)\n        end\n      end\n      self.write_attribute(key, linked_attrs.join('; '))\n    end\n  end\nend\n</code></pre>\n\n<p>I'd also recommend using strong attributes in the controller to make sure you're only permitting the allowed set of attributes.</p>\n\n<hr>\n\n<p>OLD (before I knew this was to be used on all attributes)</p>\n\n<p>That said... why do you go through every single attribute and only do something if the attribute is called <code>answer</code>? why not just not bother with going through the attributes and look directly at answer?</p>\n\n<p>eg:</p>\n\n<pre><code>def link_to_article\n  linked_attrs = []\n  self.answer.split(';').each do |i|\n    a = Article.where('lower(specific) = ?', i.downcase.strip).first\n    if a &amp;&amp; a.approved?\n      linked_attrs.push(\"&lt;a href='/questions/#{a.slug}' target=_blank&gt;#{i.strip}&lt;/a&gt;\")\n    else\n      linked_attrs.push(i.strip)\n    end\n  end\n  self.answer = linked_attrs.join('; ')\nend\n</code></pre>\n"}], "owner": {"reputation": 1218, "user_id": 4592910, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1558928d220b4f7302dca2fe2c38ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Kathan", "link": "https://stackoverflow.com/users/4592910/kathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 38215135, "answer_count": 1, "score": 0, "last_activity_date": 1467772579, "creation_date": 1467765265, "last_edit_date": 1467765482, "question_id": 38214835, "link": "https://stackoverflow.com/questions/38214835/interpolating-an-attributes-key-before-save", "title": "Interpolating an attribute&#39;s key before save", "body": "<p>I'm using Rails 4 and have an <code>Article</code> model that has  <code>answer</code>, <code>side_effects</code>, and <code>benefits</code> as attributes. </p>\n\n<p>I am trying to create a <code>before_save</code> method that automatically looks at the side effects and benefits and creates links corresponding to another article on the site. </p>\n\n<p>Instead of writing two virtually identical methods, one for side effects and one for benefits, I would like to use the same method and check to assure the attribute does not equal <code>answer</code>. </p>\n\n<p>So far I have something like this:</p>\n\n<pre><code>before_save :link_to_article\n\nprivate \n\ndef link_to_article\n  self.attributes.each do |key, value|\n    unless key == \"answer\" \n      linked_attrs = []\n      self.key.split(';').each do |i|\n        a = Article.where('lower(specific) = ?', i.downcase.strip).first\n        if a &amp;&amp; a.approved?\n          linked_attrs.push(\"&lt;a href='/questions/#{a.slug}' target=_blank&gt;#{i.strip}&lt;/a&gt;\")\n        else\n          linked_attrs.push(i.strip)\n        end\n      end\n      self.key = linked_attrs.join('; ')\n    end\n  end\nend\n</code></pre>\n\n<p>but chaining on the key like that gives me an <code>undefined method 'key'</code>.</p>\n\n<p>How can I go about interpolating in the attribute?</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467765575, "post_id": 38214718, "comment_id": 63853214, "body": "Your locator looks good, is this in an IFRAME?"}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467770261, "post_id": 38214718, "comment_id": 63854191, "body": "No its not. its angular class names"}, {"owner": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1467773527, "post_id": 38214718, "comment_id": 63854829, "body": "The locator matches both inputs.  Try &quot;(//field-input/div/input)[1]&quot; to choose the first one.  The alternative would be to keep your xpath, but use find_elements() then work with the discovered elements to send keys."}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "edited": false, "score": 0, "creation_date": 1467775598, "post_id": 38214718, "comment_id": 63855210, "body": "Your first solution doesn&#39;t seem to work. I am new to selenium. Could you elaborate on your second option a little more on how to iterate discovered elements in a column?"}, {"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1467790312, "post_id": 38214718, "comment_id": 63859777, "body": "Would you provide actual error stack trace which selenium throws...??"}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1467811423, "post_id": 38214718, "comment_id": 63872160, "body": "@SaurabhGaur I am not with my code right now but it says its unable to find the element with the xpath  &quot;//field-input/div/input&quot;"}, {"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1467811647, "post_id": 38214718, "comment_id": 63872312, "body": "Make sure it is not inside any frame...if not you should implement <code>WebDriverWait</code> unit element present.."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5246953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25acc59572fe25effa04fd8e037d909a?s=128&d=identicon&r=PG&f=1", "display_name": "Anshu", "link": "https://stackoverflow.com/users/5246953/anshu"}, "is_accepted": false, "score": 0, "last_activity_date": 1467786306, "creation_date": 1467786306, "answer_id": 38217461, "question_id": 38214718, "link": "https://stackoverflow.com/questions/38214718/how-to-click-on-link-that-many-have-spaces/38217461#38217461", "title": "How to click on link that many have spaces?", "body": "<p>Can you try adding the class attribute to your xPath so that it becomes:</p>\n\n<pre><code>\"//div[@class=' group-4']/input[1]\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": false, "score": 0, "last_activity_date": 1467812236, "creation_date": 1467812236, "answer_id": 38225423, "question_id": 38214718, "link": "https://stackoverflow.com/questions/38214718/how-to-click-on-link-that-many-have-spaces/38225423#38225423", "title": "How to click on link that many have spaces?", "body": "<p>You should implement <code>Selenium::WebDriver::Wait</code> until element visible as below :-</p>\n\n<pre><code>wait = Selenium::WebDriver::Wait.new(timeout: 10)\nel = wait.until { driver.find_element(:xpath, \"(//div[normalize-space(@class) = 'group-4']/input)[1]\").visible? }\nel.send_keys(\"myvalue\")\n</code></pre>\n\n<p><strong>Note</strong> :- If want to access second input just change use <code>(//div[normalize-space(@class) = 'group-4']/input)[2]</code> as <code>xPath</code></p>\n\n<p>Hope it will help you..:)</p>\n"}], "owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467812236, "creation_date": 1467763995, "last_edit_date": 1467795401, "question_id": 38214718, "link": "https://stackoverflow.com/questions/38214718/how-to-click-on-link-that-many-have-spaces", "title": "How to click on link that many have spaces?", "body": "<p>I am dealing with a site with the following structure</p>\n\n<pre><code>&lt;div class=\"col-3\"\n  &lt;field-input&gt;\n     &lt;div class=\" group-4\"&gt;\n         &lt;input&gt; #Lets call this input 1 &lt;/input&gt;\n  &lt;field-input&gt;\n     &lt;div class=\" group-4\"&gt;\n         &lt;input&gt; #Lets call this input 2 &lt;/input&gt;\n</code></pre>\n\n<p>I want to pass in values to <code>input field 1</code> and <code>input field 2</code>. How could I do this? I tried the following and it gives me an error saying </p>\n\n<blockquote>\n  <p>cannot find elements</p>\n</blockquote>\n\n<pre><code>driver.find_element(:xpath, \"//field-input/div/input\").send_keys(\"myvalue\")\n</code></pre>\n\n<p>How could I do this? </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 3, "creation_date": 1467765581, "post_id": 38214306, "comment_id": 63853215, "body": "We&#39;d like to see evidence of your effort toward solving this. Did you write code? If not, why? Did you search for a solution? Where did you search and why didn&#39;t that help? Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; including the linked pages. As is it looks like you didn&#39;t try and want us to write it for you."}], "answers": [{"tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": false, "score": 0, "last_activity_date": 1467762397, "creation_date": 1467762397, "answer_id": 38214533, "question_id": 38214306, "link": "https://stackoverflow.com/questions/38214306/sort-array-of-mixed-integer-and-string-values/38214533#38214533", "title": "sort array of mixed integer and string values", "body": "<pre><code>[\"A-1.jpg\", \"A-2.jpg\", \"A-10.jpg\", \"A-101.jpg\", \"B-1.jpg\", \"B-2.jpg\"].sort_by{|s| s =~ /^(\\w)-(\\d+)\\.jpg$/ &amp;&amp; $1.ord * 1000 + $2.to_i}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5730, "user_id": 667987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c00249587cb5aa0ceb5765dc811faa7?s=128&d=identicon&r=PG", "display_name": "seph", "link": "https://stackoverflow.com/users/667987/seph"}, "is_accepted": true, "score": 3, "last_activity_date": 1467775043, "last_edit_date": 1467775043, "creation_date": 1467763747, "answer_id": 38214701, "question_id": 38214306, "link": "https://stackoverflow.com/questions/38214306/sort-array-of-mixed-integer-and-string-values/38214701#38214701", "title": "sort array of mixed integer and string values", "body": "<pre><code>arr = [\"A-1.jpg\", \"A-10.jpg\", \"A-2.jpg\", \"A-101.jpg\", \"B-1.jpg\", \"B-2.jpg\"]\narr.sort_by { |s| first, last = s.split(\"-\"); [first, last.to_i] }\n\n =&gt; [\"A-1.jpg\", \"A-2.jpg\", \"A-10.jpg\", \"A-101.jpg\", \"B-1.jpg\", \"B-2.jpg\"] \n</code></pre>\n"}], "owner": {"reputation": 2825, "user_id": 434598, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/97e5ed032d6601e0b4d14a1c1d78651d?s=128&d=identicon&r=PG", "display_name": "aperture", "link": "https://stackoverflow.com/users/434598/aperture"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 38214701, "answer_count": 2, "score": -1, "last_activity_date": 1467775043, "creation_date": 1467760843, "question_id": 38214306, "link": "https://stackoverflow.com/questions/38214306/sort-array-of-mixed-integer-and-string-values", "title": "sort array of mixed integer and string values", "body": "<p>Example data:</p>\n\n<p><code>[\"A-1.jpg\", \"A-2.jpg\", \"A-10.jpg\", \"A-101.jpg\", \"B-1.jpg\", \"B-2.jpg\"]</code></p>\n\n<p>I need this sorted so that all A's come first and the numeric value in ascending order, e.g. 'a-2' is before 'a-10' which are both before 'b-1'</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ruby", "case-statement"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467760832, "post_id": 38214159, "comment_id": 63852155, "body": "There is no need for your example to be so long. You could pair it down to just a few clauses without changing the substance of the question."}, {"owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467761462, "post_id": 38214159, "comment_id": 63852310, "body": "@CarySwoveland I just copied the entire method over to SO, just to be sure. Didn&#39;t want someone to assume I didn&#39;t do anything."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467762679, "post_id": 38214159, "comment_id": 63852591, "body": "Am I correct in assuming <code>info</code> in <code>FORMAT.info(&#39;Creating INOP user email..&#39;)</code> is a method?"}, {"owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467762763, "post_id": 38214159, "comment_id": 63852617, "body": "@CarySwoveland It&#39;s actually a class, inside of a module, inside of another file. Lol. I can probably edit this to make it actually run able."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1467763693, "post_id": 38214159, "comment_id": 63852847, "body": "I think the best thing to do is just separate it into separate methods. You would still have one long case statement but each case just forwards to a separate method."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 2, "creation_date": 1467764208, "post_id": 38214159, "comment_id": 63852968, "body": "This is <i>perfect</i> candidate for the Replace Conditional With Polymorphism Refactoring. Hint: what does <code>foo.bar</code> do? It switches on the type of <code>foo</code> and executes different <code>bar</code>s depending on the type of <code>foo</code>. What does your <code>case</code> expression do? It switches on some type and executes different code depending on the type. Heck, the value you are switching on is even <i>called</i> <code>:type</code>!!! You have basically re-implemented method lookup, badly."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1467764480, "post_id": 38214159, "comment_id": 63853012, "body": "@J&#246;rgWMittag Rather than giving OP a hard time, why not post an answer that will actually help them solve their problem?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1467764924, "post_id": 38214159, "comment_id": 63853105, "body": "@JohnDoeYo The fact that you&#39;re using a regular expression for each <code>when</code> is a little troubling. Do you really need to match <i>any</i> string that contains e.g. &quot;osha&quot;, or is there a way you can transform the value of <code>OPTIONS[:type]</code> first to &quot;normalize&quot; it so you can do a simple equality match? That would simplify things a lot."}, {"owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1467819848, "post_id": 38214159, "comment_id": 63878177, "body": "@Jordan It has to match that exact information, how the program is run, is a flag is given to the call <code>-t osha</code> and if that flag finds <code>osha</code> it sends it to the correct method"}], "answers": [{"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 3, "last_activity_date": 1467788095, "last_edit_date": 1467788095, "creation_date": 1467766645, "answer_id": 38214978, "question_id": 38214159, "link": "https://stackoverflow.com/questions/38214159/short-way-to-write-a-long-case-statement/38214978#38214978", "title": "Short way to write a long case statement", "body": "<p>I don't understand some of the details of the question, but here's a general approach you might take. I've assumed that <code>:info</code> and the values of <code>:email</code> in the hash below are names of methods. (I understand that assumption is incorrect.) The following may have errors, considering that I have no means of testing it.</p>\n\n<pre><code>DATA = [[/osha/,    'Creating OSHA Regional email..',                :osha_reg],\n        [/pend/,    'Creating 6 day hold pending email..',           :pend],\n        [/60/,      'Creating 60 day hold account deletion email..', :sixty_day],\n        [/generic/, 'Creating generic email..',                      :generic],\n        [/resolve/, 'Creating resolution ticket..',                  :resolve],\n        [/esc/,     'Creating escalation ticket..',                  :assign],\n        [/pii/,     'Creating request to remove personal info..',    :remove_pii],\n        [/vip/,     'Creating VIP user email..',                     :vip_user],\n        [/inop/,    'Creating INOP user email..',                    :in_op_user]]\n\ndef gather_intel\n  type = OPTIONS[:type]\n  regex, msg, email = DATA.find { |r,*_| type =~ r }\n  if regex\n    FORMAT.send :info, msg\n    EMAILS.send email\n  elsif type =~ /dev/ \n    message = type.to_s.include?('dev=unlock') ? 'unlock' : 'password reset'\n    FORMAT.info(\"Creating dev account #{message} email\")\n    EMAILS.dev_account(type)\n  else\n    raise ERROR\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 38214978, "answer_count": 1, "score": 0, "last_activity_date": 1467788095, "creation_date": 1467759780, "question_id": 38214159, "link": "https://stackoverflow.com/questions/38214159/short-way-to-write-a-long-case-statement", "title": "Short way to write a long case statement", "body": "<p>I have an extremely long case statement:</p>\n\n<pre><code>def gather_intel\n  case OPTIONS[:type]\n    when /osha/\n      FORMAT.info('Creating OSHA Regional email..')\n      EMAILS.osha_reg\n    when /pend/\n      FORMAT.info('Creating 6 day hold pending email..')\n      EMAILS.pend\n    when /60/\n      FORMAT.info('Creating 60 day hold account deletion email..')\n      EMAILS.sixty_day\n    when /generic/\n      FORMAT.info('Creating generic email..')\n      EMAILS.generic\n    when /resolve/\n      FORMAT.info('Creating resolution ticket..')\n      EMAILS.resolve\n    when /esc/\n      FORMAT.info('Creating escalation ticket..')\n      EMAILS.assign\n    when /pii/\n      FORMAT.info('Creating request to remove personal info..')\n      EMAILS.remove_pii\n    when /vip/\n      FORMAT.info('Creating VIP user email..')\n      EMAILS.vip_user\n    when /inop/\n      FORMAT.info('Creating INOP user email..')\n      EMAILS.in_op_user\n    when /dev/\n      if OPTIONS[:type].to_s.include?('dev=unlock')\n        message = 'unlock'\n      else\n        message = 'password reset'\n      end\n      FORMAT.info(\"Creating dev account #{message} email\")\n      EMAILS.dev_account(OPTIONS[:type])\n    else\n      raise ERROR\n  end\nend\n</code></pre>\n\n<p>This <code>case statement</code> works however I will be unable to show you the rest of the code due to the project sensitivity and material. My question is, is there an easier more readable way to write this <code>case statement</code>, or a shorter way to write it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "unit-testing", "jenkins"], "comments": [{"owner": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "edited": false, "score": 1, "creation_date": 1467759168, "post_id": 38213964, "comment_id": 63851716, "body": "Where is this error happening? Would you mind to post your code? Our divinatory capabilities are offline for a while."}, {"owner": {"reputation": 247, "user_id": 1842633, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a26d35bce293e18b978f2cad5c257a6b?s=128&d=identicon&r=PG", "display_name": "user1842633", "link": "https://stackoverflow.com/users/1842633/user1842633"}, "reply_to_user": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "edited": false, "score": 0, "creation_date": 1467759838, "post_id": 38213964, "comment_id": 63851892, "body": "Capturing environment variables produced by &#39;rvm use 2.3.1&#39; $ bash -c export $ bash -c &quot;test -f ~/.rvm/scripts/rvm&quot; [ruby_pipeline] $ bash -c &quot; source ~/.rvm/scripts/rvm &amp;&amp; rvm use --install --create 2.3.1 &amp;&amp; export &gt; rvm.env&quot; Using /home/jenkins/.rvm/gems/ruby-2.3.1 [ruby_pipeline] $ ruby -v /tmp/hudson3068961272993514100.rb ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux-gnu] /tmp/hudson3068961272993514100.rb:1:in <code>&lt;main&gt;&#39;: undefined local variable or method </code>test_calc.rb&#39; for main:Object (NameError)"}], "owner": {"reputation": 247, "user_id": 1842633, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a26d35bce293e18b978f2cad5c257a6b?s=128&d=identicon&r=PG", "display_name": "user1842633", "link": "https://stackoverflow.com/users/1842633/user1842633"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1467758376, "creation_date": 1467758376, "question_id": 38213964, "link": "https://stackoverflow.com/questions/38213964/undefined-local-variable-error-when-running-ruby-script-in-jenkins", "title": "Undefined local variable Error when running ruby script in Jenkins", "body": "<p>So I have created a ruby on rails application that functions as a basic calculator. I would like to run some ruby unit tests on it in Jenkins. To do so I did the following steps in order:</p>\n\n<ul>\n<li>I created a new free style job</li>\n<li>loaded the app from my repo</li>\n<li>made sure to check the option to \"Run the build in a RVM-managed environment\"</li>\n<li>inputted my Ruby version number (2.3.1)</li>\n<li>added a build step to execute ruby script</li>\n<li>tried to run my app with the following commands: \"cd (directory with unit tests), ruby (unit test file)\"</li>\n</ul>\n\n<p>But when I do so I get the following error: undefined local variable or method `(unit test file)'. When I test the same commands on my console they work perfectly. </p>\n\n<p>Did I miss a configuration step? Would some be able to provide me with a list of their configurations that they used? Has anyone else gotten this error? How did you solve it? </p>\n\n<p>Would someone be able to provide me with a good tutorial link for setting up and running a Jenkins job to execute ruby unit tests? I have tried the <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Configuring+a+Rails+build\" rel=\"nofollow\">following tutorial</a>, but I got lost at the very end. Is there a better tutorial that you have used?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "twitter-bootstrap", "ruby-on-rails-4", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 5241955, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0abbd797508561c53992c650ea2e2f2?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul ", "link": "https://stackoverflow.com/users/5241955/kpaul"}, "edited": false, "score": 0, "creation_date": 1467757712, "post_id": 38213752, "comment_id": 63851310, "body": "I am not sure where I whitelist the production enviornment&#39;s hostname. I clicked on setting and went through every tab but I can&#39;t find such option."}, {"owner": {"reputation": 339, "user_id": 5241955, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0abbd797508561c53992c650ea2e2f2?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul ", "link": "https://stackoverflow.com/users/5241955/kpaul"}, "edited": false, "score": 0, "creation_date": 1467760069, "post_id": 38213752, "comment_id": 63851953, "body": "I followed the steps below and whitelisted as you mentioned. web interface for your Cloudfront \u201cdistribution,\u201d and click \u201cDistribution Settings,\u201d then the \u201cBehaviors\u201d tab. Select the behavior (assuming you have only one) and click \u201cEdit.\u201d  For \u201cForward Headers,\u201d change it from \u201cNone (Improves Caching)\u201d to \u201cWhitelist.\u201d A \u201cWhitelist Headers\u201d section will appear. Add \u201cOrigin\u201d to this list. This tells Cloudfront to take the \u201cOrigin\u201d header into account when caching. This is the link I followed. <a href=\"http://www.holovaty.com/writing/cors-ie-cloudfront/\" rel=\"nofollow noreferrer\">holovaty.com/writing/cors-ie-cloudfront</a>"}, {"owner": {"reputation": 339, "user_id": 5241955, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0abbd797508561c53992c650ea2e2f2?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul ", "link": "https://stackoverflow.com/users/5241955/kpaul"}, "edited": false, "score": 0, "creation_date": 1467760861, "post_id": 38213752, "comment_id": 63852162, "body": "The link also mentioned to rename the font files after i was finished. Not sure what that means. the glyphicons have a specific class. If I rename it, it wouldn&#39;t be the same."}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467762036, "post_id": 38213752, "comment_id": 63852439, "body": "most of the time a good place to start is to check what is logged in your console"}], "tags": [], "owner": {"reputation": 1624, "user_id": 2316753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e608214e1d2ac4234f53852c68dde6?s=128&d=identicon&r=PG", "display_name": "Alex Mulchinock", "link": "https://stackoverflow.com/users/2316753/alex-mulchinock"}, "is_accepted": false, "score": 0, "last_activity_date": 1467757113, "creation_date": 1467757113, "answer_id": 38213752, "question_id": 38213685, "link": "https://stackoverflow.com/questions/38213685/glyphicons-shows-up-as-a-box-when-deployed-to-heroku-using-amazon-cloudfront-to/38213752#38213752", "title": "Glyphicons shows up as a box when deployed to heroku (using amazon cloudfront to host static files) (Rails 4)", "body": "<p>If your code is working locally - it's likely a problem with the way CloudFont is configured.</p>\n\n<p>The boxes you see are showing because the fonts aren't being loaded - so your browser doesn't know what to display.</p>\n\n<p>Check your settings in CloudFont - chances are you haven't whitelisted the production environment's hostname.</p>\n"}], "owner": {"reputation": 339, "user_id": 5241955, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0abbd797508561c53992c650ea2e2f2?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul ", "link": "https://stackoverflow.com/users/5241955/kpaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488446725, "creation_date": 1467756775, "last_edit_date": 1488446725, "question_id": 38213685, "link": "https://stackoverflow.com/questions/38213685/glyphicons-shows-up-as-a-box-when-deployed-to-heroku-using-amazon-cloudfront-to", "title": "Glyphicons shows up as a box when deployed to heroku (using amazon cloudfront to host static files) (Rails 4)", "body": "<p>I am using glyphicons via the bootstrap gem with Rails 4 and it works perfectly fine in development but when I deploy it to heroku it shows up as boxes rather than the actual icon. The pictures are given below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Hy73M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hy73M.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/GtNFX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GtNFX.png\" alt=\"enter image description here\"></a></p>\n\n<p>The icons are suppose to be arrows but they show up as boxes. I have added the following lines in the custom.css.scss file.</p>\n\n<pre><code>@import \"bootstrap-sprockets\";\n@import \"bootstrap\";\n@import 'bootstrap-datetimepicker';\n</code></pre>\n\n<p>The relevant part of the gemfile is also given below. </p>\n\n<pre><code>gem 'bootstrap-will_paginate', '0.0.10'\ngem 'bootstrap-sass',          '3.2.0.0'\ngem 'sass-rails',              '5.0.2'\n</code></pre>\n\n<p>I have also set  <code>config.serve_static_files = true</code> in the production environment. </p>\n\n<p>I am using Amazon's cloudfront to serve all my static assets. This might be causing a problem. Maybe I have not configured cloudfront properly to serve glyphicons. Not really sure why its not serving the glyphicons. Any help would be great. Thanks. </p>\n"}, {"tags": ["ruby", "recursion", "fibonacci"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467757307, "post_id": 38213681, "comment_id": 63851198, "body": "I see no purpose in showing your recursive alternative. The question is not about computing the sequence, it&#39;s about summing their values."}], "answers": [{"comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1467758495, "post_id": 38213766, "comment_id": 63851546, "body": "Expected output should be <code>143</code> I believe."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 1, "creation_date": 1467762104, "post_id": 38213766, "comment_id": 63852455, "body": "Thanks, @sagarpandya82. Fixed it."}, {"owner": {"reputation": 256, "user_id": 4297128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FWSIi.png?s=128&g=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/4297128/stephen-ross"}, "edited": false, "score": 0, "creation_date": 1467803628, "post_id": 38213766, "comment_id": 63867351, "body": "That indeed produces the sum. I am, however, trying to print the sequence of the first ten integers of Fibonacci, as well as the the sum of the first ten integers. So: <code>0 1 1 2 3 5 8 13 21 34 143</code> (143 being the sum)."}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "reply_to_user": {"reputation": 256, "user_id": 4297128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FWSIi.png?s=128&g=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/4297128/stephen-ross"}, "edited": false, "score": 0, "creation_date": 1467913504, "post_id": 38213766, "comment_id": 63925093, "body": "@StephenRoss try using <code>tap</code> like <code>(1..10).map {|i| fib(i)}.tap{|f| print f.join(&#39;, &#39;); print (&#39;. Sum: &#39;) }.inject(:+)</code> will return: <code>1, 1, 2, 3, 5, 8, 13, 21, 34, 55. Sum: 143</code>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1467919879, "post_id": 38213766, "comment_id": 63928731, "body": "Stephen, I fixed it to print both."}, {"owner": {"reputation": 256, "user_id": 4297128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FWSIi.png?s=128&g=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/4297128/stephen-ross"}, "edited": false, "score": 0, "creation_date": 1467989631, "post_id": 38213766, "comment_id": 63958705, "body": "@CarySwoveland Thanks. I added your code to what I had wrote and this definitely works."}, {"owner": {"reputation": 256, "user_id": 4297128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FWSIi.png?s=128&g=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/4297128/stephen-ross"}, "reply_to_user": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1467989650, "post_id": 38213766, "comment_id": 63958719, "body": "@sagarpandya82 I tried your solution and this worked as well. Thanks."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 2, "last_activity_date": 1467928230, "last_edit_date": 1467928230, "creation_date": 1467757188, "answer_id": 38213766, "question_id": 38213681, "link": "https://stackoverflow.com/questions/38213681/ruby-sum-of-integers-for-fibonacci-sequence/38213766#38213766", "title": "Ruby Sum of Integers for Fibonacci Sequence", "body": "<pre><code>puts \"Total: %i\" %\n  ((1..10).inject(0) do |t,i|\n    f = fib(i)\n    puts \"%s: %s\" % [i.to_s.rjust(2), f.to_s.rjust(3)]\n    t + f\n  end)\n 1:   1\n 2:   1\n 3:   2\n 4:   3\n 5:   5\n 6:   8\n 7:  13\n 8:  21\n 9:  34\n10:  55\nTotal: 143\n</code></pre>\n"}], "owner": {"reputation": 256, "user_id": 4297128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FWSIi.png?s=128&g=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/4297128/stephen-ross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 2, "accepted_answer_id": 38213766, "answer_count": 1, "score": 1, "last_activity_date": 1467928230, "creation_date": 1467756761, "last_edit_date": 1467757118, "question_id": 38213681, "link": "https://stackoverflow.com/questions/38213681/ruby-sum-of-integers-for-fibonacci-sequence", "title": "Ruby Sum of Integers for Fibonacci Sequence", "body": "<p>I've searched Stack Overflow and haven't found my question, so I think this will be safe to post. I'm working on a standard piece of code that prints the first 10 integers of the Fibonacci sequence, and then adds those first 10 integers together and prints the sum. The code I have written essentially works, but I'm trying to combine the map and inject methods at the bottom to make the code more efficient. Any input would be greatly appreciated.</p>\n\n<pre><code>  def fib(n)\n      return 1 if n &lt;= 2\n\n      fib_index = 3\n      a, b = 1, 1\n\n      while fib_index &lt;= n\n        c = a + b\n        a = b\n        b = c\n        fib_index += 1\n      end\n    c\n  end\n\np (1..10).map {|i| fib(i)}\np (1..10).inject {|sum, i| sum + fib(i)}\n</code></pre>\n\n<p>I am also interested in a method that uses recursion:</p>\n\n<pre><code> def fibonacci( n )\n    return  n  if n &lt;= 1\n    fibonacci( n - 1 ) + fibonacci( n - 2 )\n  end\n  p ( 1..10 ).map {|i| fibonacci(i)}\n  p ( 1..10 ).inject {|sum, i| sum + fibonacci(i)}\n</code></pre>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467765654, "post_id": 38213659, "comment_id": 63853230, "body": "If you look at the exception, it should tell you the HTML of the other element would receive the click. What element is it? Do you recognize that element? Maybe it&#39;s some popup div that&#39;&#39;s covering the element you want or ?"}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467770371, "post_id": 38213659, "comment_id": 63854212, "body": "I do see it. Its the logo on top of the screen. It doesnt make sense that its clicking there. Also the coordinates its clicking on are (100,12) which is top left I believe? Theres not where the intended link is"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467810654, "post_id": 38213659, "comment_id": 63871595, "body": "That&#39;s a useful bit of info. Now you should check your locator and make sure it&#39;s getting the element you want. It may not be specific enough and finding more than one element. You can print outerHTML to see the HTML of the element to make sure it&#39;s the right one and adjust the locator, as needed."}, {"owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467811347, "post_id": 38213659, "comment_id": 63872111, "body": "@JeffC I am new to selenium webdriver and ruby. Could you please tell me how I can print outerhtml? Is it through javascript?"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1467811799, "post_id": 38213659, "comment_id": 63872368, "body": "I don&#39;t know Ruby but you want to get the attribute &quot;outerHTML&quot; of the element. If you google some you should find it."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5246953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25acc59572fe25effa04fd8e037d909a?s=128&d=identicon&r=PG&f=1", "display_name": "Anshu", "link": "https://stackoverflow.com/users/5246953/anshu"}, "is_accepted": false, "score": 0, "last_activity_date": 1467787686, "creation_date": 1467787686, "answer_id": 38217777, "question_id": 38213659, "link": "https://stackoverflow.com/questions/38213659/ruby-selenium-webdriver-element-is-not-clickable/38217777#38217777", "title": "Ruby Selenium Webdriver Element is not clickable", "body": "<p>If you're trying to click on the element using its coordinates, make sure you have the exact coordinates. You can try the code below:</p>\n\n<pre><code>ele = driver.find_element(:xpath, \"//li/a[contains(text(), 'Click me')]\"\n\nint eleXCoordinate = ele.getLocation().getX();\nint eleYCoordinate = ele.getLocation().getY();  \n</code></pre>\n\n<p>Now use Robot class to first verify if the coordinates are correct</p>\n\n<pre><code>Robot robot = new Robot();\nrobot.mouseMove(dragElementXCoordinate, dragElementYCoordinate);\n</code></pre>\n\n<p>If mouse moves on to the element, you're good to go. Else try hit-and-trial to add some values to arrive at the exact coordinates. For eg.</p>\n\n<pre><code>Robot robot = new Robot();\nrobot.mouseMove(dragElementXCoordinate +310, dragElementYCoordinate +100);\n</code></pre>\n\n<p>Now that you can see on the screen that mouse moves over to the element, perform click</p>\n\n<pre><code>robot.mousePress(InputEvent.BUTTON1_MASK);\n</code></pre>\n\n<p>And then release the click</p>\n\n<pre><code>robot.mouseRelease(InputEvent.BUTTON1_MASK);\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 1205, "user_id": 2408683, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rqmvn.jpg?s=128&g=1", "display_name": "Shell Scott", "link": "https://stackoverflow.com/users/2408683/shell-scott"}, "edited": false, "score": 0, "creation_date": 1591912186, "post_id": 38218581, "comment_id": 110243843, "body": "Thanks a lot, save a lot of time"}], "tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": false, "score": 3, "last_activity_date": 1467790694, "creation_date": 1467790694, "answer_id": 38218581, "question_id": 38213659, "link": "https://stackoverflow.com/questions/38213659/ruby-selenium-webdriver-element-is-not-clickable/38218581#38218581", "title": "Ruby Selenium Webdriver Element is not clickable", "body": "<p>In this case you should try to perform <code>click</code> using <code>.execute_script</code> as below :-</p>\n\n<pre><code>element = driver.find_element(:xpath, \"//li/a[contains(text(), 'Click me')]\")\ndriver.execute_script(\"arguments[0].click();\", element)\n</code></pre>\n\n<p>Hope it will help you...:)</p>\n"}], "owner": {"reputation": 159, "user_id": 6536238, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/9c74af66c84dd87a63775616be5358a4?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny Peppers", "link": "https://stackoverflow.com/users/6536238/jonny-peppers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1468240367, "creation_date": 1467756674, "last_edit_date": 1468240367, "question_id": 38213659, "link": "https://stackoverflow.com/questions/38213659/ruby-selenium-webdriver-element-is-not-clickable", "title": "Ruby Selenium Webdriver Element is not clickable", "body": "<p>I am getting an error </p>\n\n<blockquote>\n  <p>Element is not clickable at point (100,12). Other Element would\n  receive this click</p>\n</blockquote>\n\n<p>I did some research on the issue and here are the solutions I have tried</p>\n\n<ol>\n<li><p>Maximize Window</p>\n\n<pre><code>driver.manage.window.maximize\n</code></pre></li>\n<li><p>Scroll into view</p>\n\n<pre><code>driver.execute_script(\"arguments[0].scrollIntoView(true);\", element)\nsleep(3)\n</code></pre></li>\n</ol>\n\n<p>None of these seem to work.</p>\n\n<p>Here is the layout of the HTML</p>\n\n<pre><code> &lt;body&gt;\n   &lt;div&gt;\n     &lt;div&gt;\n       &lt;div&gt;\n         &lt;ul&gt;\n           &lt;li&gt; &lt;a&gt; Click me &lt;/a&gt;\n   ...\n</code></pre>\n\n<p>The way I get the element is</p>\n\n<pre><code> element = driver.find_element(:xpath, \"//li/a[contains(text(), 'Click me')]\"\n</code></pre>\n\n<p>Anyone know what I am doing wrong? What could  I do more?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "shoulda"], "comments": [{"owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "edited": false, "score": 0, "creation_date": 1467755923, "post_id": 38213276, "comment_id": 63850747, "body": "Can you provide <code>user_friendships_controller</code> listing"}, {"owner": {"reputation": 416, "user_id": 4381225, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aec91934b189d3d6738211b322cf2acb?s=128&d=identicon&r=PG&f=1", "display_name": "mycellius", "link": "https://stackoverflow.com/users/4381225/mycellius"}, "reply_to_user": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "edited": false, "score": 0, "creation_date": 1467756127, "post_id": 38213276, "comment_id": 63850830, "body": "@farhatmihalko <code>class UserFriendshipsController &lt; ApplicationController</code> \t<code>before_filter :authenticate_user!, only: [:new]</code> \t<code>def new</code>  \t<code>end</code> <code>end</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": false, "score": 5, "last_activity_date": 1467758630, "creation_date": 1467758630, "answer_id": 38213997, "question_id": 38213276, "link": "https://stackoverflow.com/questions/38213276/rails-4-undefined-method-authenticate-for-nilnilclass/38213997#38213997", "title": "Rails 4 - undefined method &#39;authenticate&#39; for nil:NilClass", "body": "<p>I've found answer in <a href=\"https://github.com/plataformatec/devise/wiki/How-To:-Test-controllers-with-Rails-3-and-4-(and-RSpec)\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>If you choose to authenticate in routes.rb, you lose the ability to\n  test your routes via assert_routing (which combines assert_recognizes\n  and assert_generates, so you lose them also). It's a limitation in\n  Rails: Rack runs first and checks your routing information but since\n  functional/controller tests run at the controller level, you cannot\n  provide authentication information to Rack which means\n  request.env['warden'] is nil and Devise generates one of the following\n  errors:</p>\n</blockquote>\n\n<pre><code>NoMethodError: undefined method 'authenticate!' for nil:NilClass\nNoMethodError: undefined method 'authenticate?' for nil:NilClass\n</code></pre>\n\n<blockquote>\n  <p>The solution is to test authenticated routes in the controller tests. To\n  do this, stub out your authentication methods for the controller test.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/plataformatec/devise/wiki/How-To:-Stub-authentication-in-controller-specs\" rel=\"noreferrer\">How to stub authentication.</a></p>\n"}], "owner": {"reputation": 416, "user_id": 4381225, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aec91934b189d3d6738211b322cf2acb?s=128&d=identicon&r=PG&f=1", "display_name": "mycellius", "link": "https://stackoverflow.com/users/4381225/mycellius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1337, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1467758630, "creation_date": 1467754979, "question_id": 38213276, "link": "https://stackoverflow.com/questions/38213276/rails-4-undefined-method-authenticate-for-nilnilclass", "title": "Rails 4 - undefined method &#39;authenticate&#39; for nil:NilClass", "body": "<p>I'm working on a course building a social network using Rails 4 &amp;                                                                                      Devise.</p>\n\n<p>I'm stuck trying to get a course to pass, this is the error I'm getting: </p>\n\n<pre><code>1) Error:\nUserFriendshipsControllerTest#test_: #new when not logged in should get redirected to the login page. :\nNoMethodError: undefined method `authenticate!' for nil:NilClass\n    test/controllers/user_friendships_controller_test.rb:8:in `block (3 levels) in &lt;class:UserFriendshipsControllerTest&gt;'\n</code></pre>\n\n<p>This is my users_friendships_controller_test.rb :</p>\n\n<pre><code>require 'test_helper'\n\nclass UserFriendshipsControllerTest &lt; ActionController::TestCase\n\ncontext \"#new\" do\n    context \"when not logged in\" do\n        should \"get redirected to the login page\" do\n            get :new\n            assert_response :redirect\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>My user_friendship.rb:</p>\n\n<pre><code>class UserFriendship &lt; ActiveRecord::Base\n    belongs_to :user\n    belongs_to :friend, class_name: \"User\", foreign_key: \"friend_id\"\n\n    private\n\n        def friendship_params\n            params.require(:user).permit(:user_id, :friend_id, :friend)\n        end\nend\n</code></pre>\n\n<p>The only thing I've added to my user_friendships_controller.rb is a blank new method and:</p>\n\n<pre><code>before_filter :authenticate_user!, only: [:new]\n</code></pre>\n\n<p>Please let me know if I should post any more code.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "gmail", "gmail-api"], "owner": {"reputation": 650, "user_id": 3308071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1249110048/picture?type=large", "display_name": "tommybond", "link": "https://stackoverflow.com/users/3308071/tommybond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1467760893, "creation_date": 1467753119, "last_edit_date": 1467760893, "question_id": 38212818, "link": "https://stackoverflow.com/questions/38212818/how-to-send-from-gmail-in-ruby", "title": "How to send from Gmail in Ruby?", "body": "<p>I am attempting to use the <a href=\"https://github.com/gmailgem/gmail\" rel=\"nofollow\">Gmail Ruby Gem</a> and I keep getting the following error:</p>\n\n<pre><code>Couldn't login to given Gmail account: foo@bar.com (Invalid credentials (Failure))\n</code></pre>\n\n<p>I am storing the <code>access_token</code> in my database using Omninauth. My method to authenticate with the gem looks like this: </p>\n\n<pre><code>def get_access_gmail(key)\n  client = OAuth2::Client.new(KeyChain.google.key, KeyChain.google.secret, {\n   :site =&gt; 'https://www.google.com'\n  })\n\n  auth_hash = {:oauth_token =&gt; key}\n  access_token = OAuth2::AccessToken.from_hash(client, auth_hash)\n\n  return Gmail.connect!(:xoauth2, \"foo@bar.com\", access_token)\nend\n</code></pre>\n\n<p>Where <code>key</code> is my saved <code>access_token</code>, that I got from Omniauth. I am using the proper scopes and I am sending the same email that I used to authenticate.</p>\n\n<p>What am I doing wrong here? Can anyone tell me how to authenticate with this gem properly? </p>\n\n<p>Note that I have also tried </p>\n\n<pre><code>def get_access_gmail(key)\n  return Gmail.connect!(:xoauth2, \"foo@bar.com\", key)\nend\n</code></pre>\n\n<p>EDIT: </p>\n\n<p>I have also tried using the <code>google-api-client</code> gem from Google, to no avail. Following their docs <a href=\"https://developers.google.com/gmail/api/quickstart/ruby\" rel=\"nofollow\">here</a>, I cannot figure out how to properly authenticate a user after already saving their <code>access_token</code> and <code>refresh_token</code> using Omniauth. Even if I were to get the gem authenticated properly, it doesn't seem like any documentation for that gem actually exists. Their API docs are just as bad.</p>\n\n<p>Does anyone have any insight on how to use either of these gems properly? Google's docs are confusing and the unofficial Gmail gem doesn't seem to work at all with OAuth. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "bash", "ruby-on-rails-3"], "answers": [{"comments": [{"owner": {"reputation": 15995, "user_id": 1509580, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/UW1HY.jpg?s=128&g=1", "display_name": "Arian Faurtosh", "link": "https://stackoverflow.com/users/1509580/arian-faurtosh"}, "edited": false, "score": 0, "creation_date": 1467761102, "post_id": 38213775, "comment_id": 63852226, "body": "Ahh that makes sense!"}], "tags": [], "owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "is_accepted": true, "score": 2, "last_activity_date": 1467757226, "creation_date": 1467757226, "answer_id": 38213775, "question_id": 38212792, "link": "https://stackoverflow.com/questions/38212792/when-using-wildcard-only-one-file-is-ran-in-rails-runner/38213775#38213775", "title": "When using wildcard, only one file is ran in rails runner", "body": "<p>Bash globs are just shorthand for writing multiple filename arguments at a time:</p>\n\n<p>This:</p>\n\n<pre><code>bundle exec script/rails runner -e production db/test/*test.rb\n</code></pre>\n\n<p>will be entirely identical to if you had written:</p>\n\n<pre><code>bundle exec script/rails runner -e production db/test/de_test.rb db/test/fr_test.rb db/test/ja_test.rb\n</code></pre>\n\n<p>The documentation is lacking, but most likely this will just run <code>de_test.rb</code> with the other files as additional command line parameter. This is why you only see <code>DE</code>. </p>\n\n<p>What you wanted to do was instead to run one command per file, i.e.:</p>\n\n<pre><code>bundle exec script/rails runner -e production db/test/de_test.rb\nbundle exec script/rails runner -e production db/test/fr_test.rb\nbundle exec script/rails runner -e production db/test/ja_test.rb\n</code></pre>\n\n<p>You can do this with a for loop:</p>\n\n<pre><code>for file in db/test/*test.rb;\ndo\n    bundle exec script/rails runner -e production \"$file\";\ndone\n</code></pre>\n\n<p>(you can put it all on one line if you prefer)</p>\n"}, {"comments": [{"owner": {"reputation": 15995, "user_id": 1509580, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/UW1HY.jpg?s=128&g=1", "display_name": "Arian Faurtosh", "link": "https://stackoverflow.com/users/1509580/arian-faurtosh"}, "edited": false, "score": 0, "creation_date": 1467761298, "post_id": 38213936, "comment_id": 63852270, "body": "Thank you for the detailed explanation"}], "tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": false, "score": 1, "last_activity_date": 1467758181, "creation_date": 1467758181, "answer_id": 38213936, "question_id": 38212792, "link": "https://stackoverflow.com/questions/38212792/when-using-wildcard-only-one-file-is-ran-in-rails-runner/38213936#38213936", "title": "When using wildcard, only one file is ran in rails runner", "body": "<p>Let's analyze why it happens. I removed everything from <code>rails/runner</code> task. By saying everything i mean things, which not related to your question. You can check this code in your computer.</p>\n\n<pre><code>require 'optparse'\ncode_or_file = nil\n\nputs ARGV\nputs code_or_file\n\nif ARGV.first.nil?\n  ARGV.push \"-h\"\nend\n\nARGV.clone.options do |opts|\n  opts.order! { |o| code_or_file ||= o } rescue retry\nend\n\nputs code_or_file\n</code></pre>\n\n<p>So <code>puts ARGV</code> will show every file that satisfies to your <code>db/test/*test.rb</code>. </p>\n\n<p>Line <code>puts code_or_file</code> will show empty line (it's normal because variable has <code>nil</code> value)</p>\n\n<p>Last line <code>puts code_or_file</code> will print the <strong>first</strong> file in folder by <code>lexicographical order</code>.</p>\n\n<p>So why it happens? Because of:</p>\n\n<pre><code>opts.order! { |o| code_or_file ||= o } rescue retry\n</code></pre>\n\n<p>Simply it takes first item in array(list of files). My suggestion is rewrite/patch <code>rails/runner</code> task to solve your problem. Another way will be write  <code>shell</code> script as offered by @that_other_guy.</p>\n\n<p><a href=\"https://github.com/rails/rails/blob/4-0-stable/railties/lib/rails/commands/runner.rb\" rel=\"nofollow\">rails/runner link</a></p>\n"}], "owner": {"reputation": 15995, "user_id": 1509580, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/UW1HY.jpg?s=128&g=1", "display_name": "Arian Faurtosh", "link": "https://stackoverflow.com/users/1509580/arian-faurtosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 38213775, "answer_count": 2, "score": 1, "last_activity_date": 1467758181, "creation_date": 1467753037, "last_edit_date": 1467753357, "question_id": 38212792, "link": "https://stackoverflow.com/questions/38212792/when-using-wildcard-only-one-file-is-ran-in-rails-runner", "title": "When using wildcard, only one file is ran in rails runner", "body": "<p>I am using rails runner, and I'd like to run multiple scripts in a folder.</p>\n\n<p>Here is what my files structure looks like...</p>\n\n<pre><code>$ ls db/test/\n\nde_test.rb\nfr_test.rb\nja_test.rb\n....\n</code></pre>\n\n<p>de_test.rb</p>\n\n<pre><code>puts \"DE\"\n</code></pre>\n\n<p>fr_test.rb</p>\n\n<pre><code>puts \"FR\"\n</code></pre>\n\n<p>ja_test.rb</p>\n\n<pre><code>puts \"JA\"\n</code></pre>\n\n<p>Now if I run:</p>\n\n<pre><code>$ bundle exec script/rails runner -e production db/test/de_test.rb\nDE\n$ bundle exec script/rails runner -e production db/test/fr_test.rb\nFR\n$ bundle exec script/rails runner -e production db/test/ja_test.rb\nJA\n$ bundle exec script/rails runner -e production db/test/*test.rb\nDE\n</code></pre>\n\n<p>Why doesn't <code>db/test/*test.rb</code> run all the files? And what can I do to fix this.</p>\n\n<p>This is on RHEL.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json"], "answers": [{"comments": [{"owner": {"reputation": 4610, "user_id": 330396, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17947a260881108fb394c24886351a8f?s=128&d=identicon&r=PG", "display_name": "soniccool", "link": "https://stackoverflow.com/users/330396/soniccool"}, "edited": false, "score": 0, "creation_date": 1467753309, "post_id": 38212668, "comment_id": 63849728, "body": "And how can i pull the url out if it finds something that contains leo?"}, {"owner": {"reputation": 921, "user_id": 4276844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f448f2372792762904abfe0dd26366ce?s=128&d=identicon&r=PG&f=1", "display_name": "Cam", "link": "https://stackoverflow.com/users/4276844/cam"}, "reply_to_user": {"reputation": 4610, "user_id": 330396, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17947a260881108fb394c24886351a8f?s=128&d=identicon&r=PG", "display_name": "soniccool", "link": "https://stackoverflow.com/users/330396/soniccool"}, "edited": false, "score": 0, "creation_date": 1467753948, "post_id": 38212668, "comment_id": 63849981, "body": "If you want all relevant urls, you could use <code>map</code> on the resultant <code>hash</code>: <code>jsondata[&quot;files&quot;].select{|h| h[&quot;name&quot;].include? &quot;leo&quot; }.map{|h| h[&quot;url&quot;] }</code>"}], "tags": [], "owner": {"reputation": 921, "user_id": 4276844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f448f2372792762904abfe0dd26366ce?s=128&d=identicon&r=PG&f=1", "display_name": "Cam", "link": "https://stackoverflow.com/users/4276844/cam"}, "is_accepted": true, "score": 1, "last_activity_date": 1467752499, "creation_date": 1467752499, "answer_id": 38212668, "question_id": 38212496, "link": "https://stackoverflow.com/questions/38212496/check-if-name-keyword/38212668#38212668", "title": "check if name == keyword", "body": "<p>You can search each string under the key of \"name\" for the needle you're looking for using <code>String#include?</code> or <code>String#index</code>.  The <code>Enumerable</code> method <code>select</code> would be a good choice for selecting only the hashes that contain the data you're looking for:</p>\n\n<pre><code>jsondata[\"files\"].select{|h| h[\"name\"].include? \"leo\" }\n</code></pre>\n\n<p>This presumes you have parsed the json data into a Ruby hash:</p>\n\n<pre><code>jsondata = {\"files\"=&gt;[\n  {\"name\"=&gt;\"github.jpeg\",\n   \"size\"=&gt;10852,\n   \"deleteType\"=&gt;\"DELETE\",\n   \"deleteUrl\"=&gt;\"http=&gt;//gifs.meow.me/github.jpeg\",\n   \"url\"=&gt;\"http=&gt;//gifs.meow.me/github.jpeg\"},\n  {\"name\"=&gt;\"leo.jpg\",\n   \"size\"=&gt;51678,\n   \"deleteType\"=&gt;\"DELETE\",\n   \"deleteUrl\"=&gt;\"http=&gt;//gifs.meow.me/leo.jpg\",\n   \"url\"=&gt;\"http=&gt;//gifs.meow.me/leo.jpg\"},\n  {\"name\"=&gt;\"leo2.jpg\",\n   \"size\"=&gt;41407,\n   \"deleteType\"=&gt;\"DELETE\",\n   \"deleteUrl\"=&gt;\"http=&gt;//gifs.meow.me/leo2.jpg\",\n   \"url\"=&gt;\"http=&gt;//gifs.meow.me/leo2.jpg\"}\n]}\n\njsondata[\"files\"].select{|h| h[\"name\"].include? \"leo\" }\n#  =&gt; [{\"name\"=&gt;\"leo.jpg\", \"size\"=&gt;51678, \"deleteType\"=&gt;\"DELETE\", \"deleteUrl\"=&gt;\"http=&gt;//gifs.meow.me/leo.jpg\", \"url\"=&gt;\"http=&gt;//gifs.meow.me/leo.jpg\"}, {\"name\"=&gt;\"leo2.jpg\", \"size\"=&gt;41407, \"deleteType\"=&gt;\"DELETE\", \"deleteUrl\"=&gt;\"http=&gt;//gifs.meow.me/leo2.jpg\", \"url\"=&gt;\"http=&gt;//gifs.meow.me/leo2.jpg\"}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2409, "user_id": 6307730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4QkXN.jpg?s=128&g=1", "display_name": "BrunoFacca", "link": "https://stackoverflow.com/users/6307730/brunofacca"}, "is_accepted": false, "score": 1, "last_activity_date": 1467752700, "creation_date": 1467752700, "answer_id": 38212724, "question_id": 38212496, "link": "https://stackoverflow.com/questions/38212496/check-if-name-keyword/38212724#38212724", "title": "check if name == keyword", "body": "<pre><code>jsondata.each do |link|\n  if link.name =~ /leo/\n    # do something\n  end\nend\n</code></pre>\n\n<p>or</p>\n\n<pre><code>jsondata.each do |link|\n  if link.name.include? 'leo'\n    # do something\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1467756406, "creation_date": 1467756406, "answer_id": 38213602, "question_id": 38212496, "link": "https://stackoverflow.com/questions/38212496/check-if-name-keyword/38213602#38213602", "title": "check if name == keyword", "body": "<p>Using <code>jsondata</code> as defined by @Cam, you can do the following.</p>\n\n<pre><code>jsondata[\"files\"].each_with_object({}) { |g,h|\n  h[g[\"name\"]]=g[\"url\"] if g[\"name\"] =~ /\\Aleo/ }\n  #=&gt; {\"leo.jpg\"=&gt;\"http=&gt;//gifs.meow.me/leo.jpg\",\n  #    \"leo2.jpg\"=&gt;\"http=&gt;//gifs.meow.me/leo2.jpg\"}\n</code></pre>\n"}], "owner": {"reputation": 4610, "user_id": 330396, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17947a260881108fb394c24886351a8f?s=128&d=identicon&r=PG", "display_name": "soniccool", "link": "https://stackoverflow.com/users/330396/soniccool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 38212668, "answer_count": 3, "score": 0, "last_activity_date": 1467756680, "creation_date": 1467751893, "question_id": 38212496, "link": "https://stackoverflow.com/questions/38212496/check-if-name-keyword", "title": "check if name == keyword", "body": "<p>So i have a json here and im trying to search for name </p>\n\n<p>I am trying to read through the whole json, and only match to name. But im not sure how to go about that.</p>\n\n<p>I parsed the json below into a variable called jsondata </p>\n\n<p>and created this loop here to read it.</p>\n\n<pre><code>jsondata.each do |links|\n  puts links\nend\n</code></pre>\n\n<p>But how can i go about only reading the name field and matching it to a string? Lets say im looking looking for the word leo.</p>\n\n<p>{\"files\":<code>[{\"name\":\"github.jpeg\",\"size\":10852,\"deleteType\":\"DELETE\",\"deleteUrl\":\"http://gifs.meow.me/github.jpeg\",\"url\":\"http://gifs.meow.me/github.jpeg\"},{\"name\":\"leo.jpg\",\"size\":51678,\"deleteType\":\"DELETE\",\"deleteUrl\":\"http://gifs.meow.me/leo.jpg\",\"url\":\"http://gifs.meow.me/leo.jpg\"},{\"name\":\"leo2.jpg\",\"size\":41407,\"deleteType\":\"DELETE\",\"deleteUrl\":\"http://gifs.meow.me/leo2.jpg\",\"url\":\"http://gifs.meow.me/leo2.jpg\"}]}</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 144, "user_id": 4383221, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b0b4fca656b8b1e9ef73acbc69e07b2e?s=128&d=identicon&r=PG&f=1", "display_name": "volx757", "link": "https://stackoverflow.com/users/4383221/volx757"}, "edited": false, "score": 0, "creation_date": 1467751281, "post_id": 38212305, "comment_id": 63848750, "body": "since it&#39;s an ActiveRecord error, the issue is with connecting to the database, not to the localhost. What&#39;s in your database.yml file?"}, {"owner": {"reputation": 778, "user_id": 1952739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338ec1cd4d081f781a966b42fde090d0?s=128&d=identicon&r=PG", "display_name": "unused", "link": "https://stackoverflow.com/users/1952739/unused"}, "edited": false, "score": 0, "creation_date": 1467751298, "post_id": 38212305, "comment_id": 63848761, "body": "Do you have a database configuration file? Located in config/database.yml"}, {"owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "edited": false, "score": 0, "creation_date": 1467751350, "post_id": 38212305, "comment_id": 63848791, "body": "# SQLite version 3.x #   gem install sqlite3 # #   Ensure the SQLite 3 gem is defined in your Gemfile #   gem &#39;sqlite3&#39; # default: &amp;default   adapter: sqlite3   pool: 5   timeout: 5000  development:   &lt;&lt;: *default   database: db/development.sqlite3  # Warning: The database defined as &quot;test&quot; will be erased and # re-generated from your development database when you run &quot;rake&quot;. # Do not set this db to the same as development or production. test:   &lt;&lt;: *default   database: db/test.sqlite3  production:   &lt;&lt;: *default   database: db/production.sqlite3"}, {"owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "edited": false, "score": 0, "creation_date": 1467751388, "post_id": 38212305, "comment_id": 63848808, "body": "yes the default one. in tutorials it didn&#39;t said something that i must change something in database.yml or etc. what i have to do? :S"}, {"owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "edited": false, "score": 0, "creation_date": 1467751475, "post_id": 38212305, "comment_id": 63848860, "body": "Do you have any installed database on your computer?"}, {"owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "edited": false, "score": 0, "creation_date": 1467751647, "post_id": 38212305, "comment_id": 63848953, "body": "i have just installed sqlite3. (all the official tutorials says was just that , i did step by step everything)"}, {"owner": {"reputation": 5730, "user_id": 667987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c00249587cb5aa0ceb5765dc811faa7?s=128&d=identicon&r=PG", "display_name": "seph", "link": "https://stackoverflow.com/users/667987/seph"}, "edited": false, "score": 0, "creation_date": 1467751899, "post_id": 38212305, "comment_id": 63849096, "body": "try <code>rails dbconsole</code> to see if you have a working db."}, {"owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "edited": false, "score": 0, "creation_date": 1467752082, "post_id": 38212305, "comment_id": 63849186, "body": "it normally returns: SQLite Version 3.6.16"}, {"owner": {"reputation": 92, "user_id": 6707430, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mdbkFDvhRz8/AAAAAAAAAAI/AAAAAAAAADI/gtPfs8Gj01s/photo.jpg?sz=128", "display_name": "Bui Minh Duc", "link": "https://stackoverflow.com/users/6707430/bui-minh-duc"}, "edited": false, "score": 0, "creation_date": 1471627872, "post_id": 38212305, "comment_id": 65439053, "body": "I have same problem. I can&#39;t find the way to solve that :(("}, {"owner": {"reputation": 1780, "user_id": 511258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05404343edeb74e3e4608a7ab5e5b713?s=128&d=identicon&r=PG", "display_name": "Ashley Davies", "link": "https://stackoverflow.com/users/511258/ashley-davies"}, "edited": false, "score": 0, "creation_date": 1473701029, "post_id": 38212305, "comment_id": 66232371, "body": "Also have this problem"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 1, "creation_date": 1481205335, "post_id": 38212305, "comment_id": 69289600, "body": "<code>rake db:create</code> and  <code>rake db:migrate</code> if haven&#39;t created it before. And showing full gemfile and database.yml could make it much easier to solve it..."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "edited": false, "score": 0, "creation_date": 1467752477, "post_id": 38212589, "comment_id": 63849379, "body": "you mean to remove number 3? to make it gem &#39;sqlite&#39; just this? if yes , i just tried and and on bundle update it says: could not find gem sqlite x64-mingw32 in any of the gem sources listed in your Gemfile or available in this machine."}, {"owner": {"reputation": 1, "user_id": 1366485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35058ceddfe2e1f597f3bc0024b77774?s=128&d=identicon&r=PG", "display_name": "Andrew Long", "link": "https://stackoverflow.com/users/1366485/andrew-long"}, "reply_to_user": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "edited": false, "score": 0, "creation_date": 1467753545, "post_id": 38212589, "comment_id": 63849824, "body": "No, don&#39;t remove the &#39;3&#39; from &#39;sqlite3&#39;. If there was a version number, (gem &#39;sqlite3&#39;, &#39;~&gt; 1.3&#39;, &#39;&gt;= 1.3.11&#39;) delete that. The version number, in this case, is everything following &#39;sqlite3&#39;."}, {"owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "edited": false, "score": 0, "creation_date": 1467754193, "post_id": 38212589, "comment_id": 63850087, "body": "it doens&#39;t have something . it&#39;s just only gem &#39;sqlite3&#39;"}], "tags": [], "owner": {"reputation": 1, "user_id": 1366485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35058ceddfe2e1f597f3bc0024b77774?s=128&d=identicon&r=PG", "display_name": "Andrew Long", "link": "https://stackoverflow.com/users/1366485/andrew-long"}, "is_accepted": false, "score": 0, "last_activity_date": 1467752228, "creation_date": 1467752228, "answer_id": 38212589, "question_id": 38212305, "link": "https://stackoverflow.com/questions/38212305/cant-access-localhost-on-ruby-on-rails/38212589#38212589", "title": "Cant access localhost on ruby on rails", "body": "<p>I would have commented, but I lack the reputation. Anyway, this error is sometimes caused by the sqlite version. I would suggest removing any version number from the gemfile, i.e.:</p>\n\n<pre><code>gem 'sqlite3'\n</code></pre>\n\n<p>Then run 'bundle update'. </p>\n\n<p>EDIT:</p>\n\n<p>To be thorough, make sure you've also executed 'rake db:migrate' if you've created any models. </p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 5291972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a79f8e8e6f8f45813c3984cda423d694?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Aqeel", "link": "https://stackoverflow.com/users/5291972/muhammad-aqeel"}, "is_accepted": false, "score": 0, "last_activity_date": 1481200118, "creation_date": 1481200118, "answer_id": 41039561, "question_id": 38212305, "link": "https://stackoverflow.com/questions/38212305/cant-access-localhost-on-ruby-on-rails/41039561#41039561", "title": "Cant access localhost on ruby on rails", "body": "<p>i also faced the same issue. i just uncommented </p>\n\n<pre><code>gem 'sqlite3'\n</code></pre>\n\n<p>and then restart my rails server</p>\n"}], "owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4302, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1481200118, "creation_date": 1467751036, "last_edit_date": 1476677612, "question_id": 38212305, "link": "https://stackoverflow.com/questions/38212305/cant-access-localhost-on-ruby-on-rails", "title": "Cant access localhost on ruby on rails", "body": "<p>When I run the server and go to <code>localhost:3000</code> I get this error:</p>\n\n<blockquote>\n  <p>ActiveRecord::ConnectionNotEstablished No connection pool with id\n  primary found.</p>\n</blockquote>\n\n<p>The code in question:</p>\n\n<pre><code>activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:874\n:in `retrieve_connection'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "pagination"], "comments": [{"owner": {"reputation": 778, "user_id": 1952739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338ec1cd4d081f781a966b42fde090d0?s=128&d=identicon&r=PG", "display_name": "unused", "link": "https://stackoverflow.com/users/1952739/unused"}, "edited": false, "score": 2, "creation_date": 1467751830, "post_id": 38211970, "comment_id": 63849054, "body": "That&#39;s quite a scenario you got there, but I suppose most people will tell you to stick to one scenario per test at a time. If you do so, things will not relate on each other and I&#39;m pretty sure your then get an idea of how you can test the specific feature you have in mind."}], "answers": [{"tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": false, "score": 1, "last_activity_date": 1467822377, "creation_date": 1467822377, "answer_id": 38229003, "question_id": 38211970, "link": "https://stackoverflow.com/questions/38211970/integration-testing-with-pagination-ruby-on-rails/38229003#38229003", "title": "Integration Testing with Pagination (Ruby on Rails)", "body": "<p>This would be better solved by making the pagination size configurable, so for this test the test could modify it to a size larger than the total list size and check everything on one page, and reset it after the test so further tests can still check the pagination happens correctly</p>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 6036753, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/886947328090202/picture?type=large", "display_name": "keyan.r", "link": "https://stackoverflow.com/users/6036753/keyan-r"}, "is_accepted": true, "score": 0, "last_activity_date": 1468332592, "creation_date": 1468332592, "answer_id": 38331285, "question_id": 38211970, "link": "https://stackoverflow.com/questions/38211970/integration-testing-with-pagination-ruby-on-rails/38331285#38331285", "title": "Integration Testing with Pagination (Ruby on Rails)", "body": "<p>The question does not provide enough information. I should have added more detail about the gem I was using, and included pictures. Also, this is too much of a loaded question for a Q+A site.</p>\n\n<p>To do this, one need simply flip through the schools by clicking the Next button in the pagination section after checking for every 9 schools. For checking only US and Canada schools, you should only count when you find a US or Canada school, respectively. After each case, reset your count to 0 and go on to the next test. Also, if you did have to click on the Next button, then click on the First button to revert to the starting page, before going to the next test.</p>\n\n<pre><code>test \"Can view and search schools\" do\n\nvisit logout_path\n\nvisit schools_path\ncount = 0\nnextClicked = false\nselect \"Alphabetical\", :from =&gt; \"sort_by\"\nSchool.all.order('name ASC').each do |school|\n  page.must_have_content(school.name)\n  count += 1\n  if count == 9\n    click_on(\"Next \u203a\", :match =&gt; :first)\n    nextClicked = true if !nextClicked\n  end\nend\n\nclick_on(\"\u00ab First\", :match =&gt; :first) if nextClicked\ncount = 0\nnextClicked = false\n\nfind(:xpath, '//*[@name=\"filter[Canada]\"]/..').click\nSchool.all.each do |school|\n  page.must_have_content(school.name) if school.country == 'USA'\n  page.wont_have_content(school.name) if school.country == 'Canada'\n  count += 1 if school.country == 'USA'\n  if count == 9\n    click_on(\"Next \u203a\", :match =&gt; :first)\n    nextClicked = true if !nextClicked\n  end\nend\n\nclick_on(\"\u00ab First\", :match =&gt; :first) if nextClicked\ncount = 0\nnextClicked = false\n\nfind(:xpath, '//*[@name=\"filter[Canada]\"]/..').click\nSchool.all.order('name ASC').each do |school|\n  page.must_have_content(school.name)\n  count += 1\n  if count == 9\n    click_on(\"Next \u203a\", :match =&gt; :first)\n    nextClicked = true if !nextClicked\n  end\nend\n\ncount = 0\nclick_on(\"\u00ab First\", :match =&gt; :first) if nextClicked\nnextClicked = false\n\nfind(:xpath, '//*[@name=\"filter[USA]\"]/..').click\nSchool.all.each do |school|\n  page.must_have_content(school.name) if school.country == 'Canada'\n  page.wont_have_content(school.name) if school.country == 'USA'\n  count += 1 if school.country == 'Canada'\n  if count == 9\n    click_on(\"Next \u203a\", :match =&gt; :first)\n    nextClicked = true if !nextClicked\n  end\nend\n\ncount = 0\nclick_on(\"\u00ab First\", :match =&gt; :first) if nextClicked\nnextClicked = false\n\nend\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 6036753, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/886947328090202/picture?type=large", "display_name": "keyan.r", "link": "https://stackoverflow.com/users/6036753/keyan-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 1, "accepted_answer_id": 38331285, "answer_count": 2, "score": 0, "last_activity_date": 1468332592, "creation_date": 1467749740, "question_id": 38211970, "link": "https://stackoverflow.com/questions/38211970/integration-testing-with-pagination-ruby-on-rails", "title": "Integration Testing with Pagination (Ruby on Rails)", "body": "<p>I have the following integration test for my Ruby on Rails code, which checks to make sure that all of the schools are present on a page, and then filters them to have only US/Canadian schools, and again makes sure the correct schools are on the page.</p>\n\n<pre><code>test \"Can view and search schools\" do\nvisit logout_path\nvisit schools_path\nSchool.all.each do |school|\n  page.must_have_content(school.name)\nend\n\nfind(:xpath, '//*[@name=\"filter[USA]\"]/..').click\nSchool.all.each do |school|\n  page.must_have_content(school.name) if school.country == 'Canada'\n  page.wont_have_content(school.name) if school.country == 'USA'\nend\n\nfind(:xpath, '//*[@name=\"filter[USA]\"]/..').click\nSchool.all.each do |school|\n  page.must_have_content(school.name)\nend\n\nfind(:xpath, '//*[@name=\"filter[Canada]\"]/..').click\nSchool.all.each do |school|\n  page.wont_have_content(school.name) if school.country == 'Canada'\n  page.must_have_content(school.name) if school.country == 'USA'\nend\nend\n</code></pre>\n\n<p>The issue is that now I have paginated the schools, and so all of the schools are not on the same page, making the test case fail. I need to modify the integration test so that the test cases pass, even though the schools are now spread out on different pages, with 9 schools per page. I tried the following for the first part of the test to no avail:</p>\n\n<pre><code>visit logout_path\nschool_found = 0\nper_page = 9\nvisit schools_path\nSchool.all.each do |school|\n  page.must_have_content(school.name)\n  school_found += 1\n  if (school_found == per_page)\n    click_on('Next \u203a')\n  end\nend\n</code></pre>\n\n<p>For the other parts I haven't a clue where to start.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "bundler", "rubymine"], "answers": [{"tags": [], "owner": {"reputation": 510, "user_id": 6412088, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1770376769864611/picture?type=large", "display_name": "Andrey Drozdov", "link": "https://stackoverflow.com/users/6412088/andrey-drozdov"}, "is_accepted": true, "score": 0, "last_activity_date": 1467921230, "creation_date": 1467921230, "answer_id": 38254185, "question_id": 38211714, "link": "https://stackoverflow.com/questions/38211714/rubymine-warning-when-run-bundle-install-macos/38254185#38254185", "title": "RubyMine warning when run bundle install MacOS", "body": "<p>Wrote to RubyMine support.</p>\n\n<p>All this warnings appears because of some bug in RM. They already know about it and going to fix it in the next version.</p>\n"}], "owner": {"reputation": 510, "user_id": 6412088, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1770376769864611/picture?type=large", "display_name": "Andrey Drozdov", "link": "https://stackoverflow.com/users/6412088/andrey-drozdov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 38254185, "answer_count": 1, "score": 1, "last_activity_date": 1467921230, "creation_date": 1467748701, "question_id": 38211714, "link": "https://stackoverflow.com/questions/38211714/rubymine-warning-when-run-bundle-install-macos", "title": "RubyMine warning when run bundle install MacOS", "body": "<p>When I've created a new project via RubyMine, 'Create New Project' -> 'Rails' 'New application'. And select the rails and ruby version, after I click create button, it's starts to generate new project. After bundle ends install, in 2 or 3 seconds appears two warning tabs signs: </p>\n\n<p>First tab named <code>Get available generators list</code> and consist of:</p>\n\n<pre><code>Warning:Get available generators script executes with errors:\nWarning:Running via Spring preloader in process 61870\n</code></pre>\n\n<p>Second tab named <code>Get available rake tasks</code> and consist of:</p>\n\n<pre><code>Warning:[rake --tasks] Running via Spring preloader in process 61869\nWarning:[rake --prereqs] Running via Spring preloader in process 61872\n</code></pre>\n\n<p>Need to note, if i create rails project via terminal</p>\n\n<pre><code>rails new [name]\nbundle install\n</code></pre>\n\n<p>No problems appears.</p>\n\n<p>I really want to get rid of this warnings. Any advice?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 1708, "user_id": 3569921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/077N5.jpg?s=128&g=1", "display_name": "marcusshep", "link": "https://stackoverflow.com/users/3569921/marcusshep"}, "edited": false, "score": 0, "creation_date": 1467747969, "post_id": 38211477, "comment_id": 63846899, "body": "I think you&#39;re on the right path with shared partials"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467748188, "post_id": 38211477, "comment_id": 63847029, "body": "You could create a mountable <a href=\"http://guides.rubyonrails.org/engines.html\" rel=\"nofollow noreferrer\"><code>Rails::Engine</code></a> which is essentially a rails application that can be plugged in to another rails application. I find this makes it easier to manage the code rather than a huge monolith. It does take a bit more setup however."}, {"owner": {"reputation": 5, "user_id": 6525107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bab276ff5783ae109e0a6f69962af4?s=128&d=identicon&r=PG&f=1", "display_name": "pnhthuan", "link": "https://stackoverflow.com/users/6525107/pnhthuan"}, "edited": false, "score": 0, "creation_date": 1467748580, "post_id": 38211477, "comment_id": 63847242, "body": "Thank you guys I will read up both methods! At least now there is a way. Thanks again."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6525107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bab276ff5783ae109e0a6f69962af4?s=128&d=identicon&r=PG&f=1", "display_name": "pnhthuan", "link": "https://stackoverflow.com/users/6525107/pnhthuan"}, "edited": false, "score": 0, "creation_date": 1467758445, "post_id": 38211698, "comment_id": 63851537, "body": "I took your advice and used the sidebar instead. It works great! If you don&#39;t mind me asking. I have used ajax to make my Todo_List pop out (running in the background) instead of having to navigate to a different page. When I try to render in the sidebar using  &lt;% content_for(:sidebar) do %&gt;   &lt;% render :partial =&gt; &quot;layouts/sidebar&quot; %&gt; &lt;% end %&gt;  on the page I want.  I have now encountered the problem that it won&#39;t do that on my sidebar as it did on the index page. Basically, I can create but I cannot edit or show. It shows a grey screen."}], "tags": [], "owner": {"reputation": 1827, "user_id": 1362329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRckP.jpg?s=128&g=1", "display_name": "neydroid", "link": "https://stackoverflow.com/users/1362329/neydroid"}, "is_accepted": true, "score": 1, "last_activity_date": 1467748640, "creation_date": 1467748640, "answer_id": 38211698, "question_id": 38211477, "link": "https://stackoverflow.com/questions/38211477/how-to-make-a-rails-application-global/38211698#38211698", "title": "How to make a Rails application global?", "body": "<p>You can create an ERB partial inside <code>layouts/_sidebar.html.erb</code> and then in your <code>application.html.erb</code> you render the partial with:</p>\n\n<pre><code>  &lt;%= render 'layouts/sidebar' %&gt;\n</code></pre>\n\n<p>This will make it appear in all the application (assuming you have only one main layout)</p>\n"}], "owner": {"reputation": 5, "user_id": 6525107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bab276ff5783ae109e0a6f69962af4?s=128&d=identicon&r=PG&f=1", "display_name": "pnhthuan", "link": "https://stackoverflow.com/users/6525107/pnhthuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 38211698, "answer_count": 1, "score": 0, "last_activity_date": 1467756907, "creation_date": 1467747817, "last_edit_date": 1467756907, "question_id": 38211477, "link": "https://stackoverflow.com/questions/38211477/how-to-make-a-rails-application-global", "title": "How to make a Rails application global?", "body": "<p>Currently, I am working on a website using Ruby on Rails, the website has many small applications for example full calendar, chat session, user verification etc. I created a new application recently called Todo list which acts as a reminder very simple. It currently has its own page <code>my_link/todo_lists</code>.</p>\n\n<p>How do I make it in such a way that instead of just appearing on the <code>#index</code> page it shows up everywhere on the website? I have tried to <code>require 'todo_lists'</code> but I get the error:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>\"cannot load such file -- todo_lists\"\n</code></pre>\n\n<p>I tried copying all the files into the layouts folder (a feeble attempt). That gives me:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"Missing templates .....\"\n</code></pre>\n\n<p>I tried to render partial (Not sure how it works)</p>\n\n<p>Again \"Missing templates\" or \"no_load_to_path\" error</p>\n\n<p>If possible I want it to appear like that of a Facebook chat bar, the very least is call the same thing but on a different page.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "devise"], "comments": [{"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467747066, "post_id": 38211159, "comment_id": 63846381, "body": "could you post the complete users_controller.rb and users_controller_spec.rb"}, {"owner": {"reputation": 473, "user_id": 3841197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/017492b1aaa99adaa4ec1d4190ee2f66?s=128&d=identicon&r=PG&f=1", "display_name": "Adt", "link": "https://stackoverflow.com/users/3841197/adt"}, "reply_to_user": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467747775, "post_id": 38211159, "comment_id": 63846779, "body": "@oreoluwa edited, Please check now"}, {"owner": {"reputation": 473, "user_id": 3841197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/017492b1aaa99adaa4ec1d4190ee2f66?s=128&d=identicon&r=PG&f=1", "display_name": "Adt", "link": "https://stackoverflow.com/users/3841197/adt"}, "reply_to_user": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467750967, "post_id": 38211159, "comment_id": 63848569, "body": "<a href=\"https://github.com/gonzalo-bulnes/simple_token_authentication/issues/220\" rel=\"nofollow noreferrer\">github.com/gonzalo-bulnes/simple_token_authentication/issues&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467751793, "post_id": 38211159, "comment_id": 63849032, "body": "Does the approach in the issue fix yours?"}, {"owner": {"reputation": 473, "user_id": 3841197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/017492b1aaa99adaa4ec1d4190ee2f66?s=128&d=identicon&r=PG&f=1", "display_name": "Adt", "link": "https://stackoverflow.com/users/3841197/adt"}, "reply_to_user": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1467812144, "post_id": 38211159, "comment_id": 63872587, "body": "@oreoluwa It does not fix the error but know i know that error is not in my code, it&#39;s in devise and rspec config."}], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 3841197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/017492b1aaa99adaa4ec1d4190ee2f66?s=128&d=identicon&r=PG&f=1", "display_name": "Adt", "link": "https://stackoverflow.com/users/3841197/adt"}, "edited": false, "score": 0, "creation_date": 1467812099, "post_id": 38214354, "comment_id": 63872572, "body": "Thanks, For answer. I was setting up module Api;module V1 before declaring Rspec.describe so it is hitting right UserController. I am editing my question."}], "tags": [], "owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1467761203, "last_edit_date": 1495541778, "creation_date": 1467761203, "answer_id": 38214354, "question_id": 38211159, "link": "https://stackoverflow.com/questions/38211159/rspec-error-while-trying-to-create-user-with-devise-token-auth/38214354#38214354", "title": "Rspec error while trying to create user with Devise token auth", "body": "<p>That the test is going through in the first place, makes me suspect that there is another <code>UsersController</code> within the application, as I would have expected your spec to look like this:</p>\n\n<pre><code>RSpec.describe Api::V1::UsersController, type: :controller do\n\n  it \"can create user\" do\n     post :create, user: {email: \"ad@ad.ad\",username: \"add\", name: \"dad\",\n                                                         password: \"password\", password_confirmation: \"password\",\n                                                         account:{company: \"caaad\"}}, :formate =&gt;:json\n\n      puts response                                        \n  end\nend\n</code></pre>\n\n<p>If that still results in the error, I'd advise that you check out <a href=\"https://stackoverflow.com/a/38213997/3893710\">this SO answer</a></p>\n"}], "owner": {"reputation": 473, "user_id": 3841197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/017492b1aaa99adaa4ec1d4190ee2f66?s=128&d=identicon&r=PG&f=1", "display_name": "Adt", "link": "https://stackoverflow.com/users/3841197/adt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467761203, "creation_date": 1467746730, "last_edit_date": 1467749682, "question_id": 38211159, "link": "https://stackoverflow.com/questions/38211159/rspec-error-while-trying-to-create-user-with-devise-token-auth", "title": "Rspec error while trying to create user with Devise token auth", "body": "<p>In my users controller. I have </p>\n\n<pre><code>module Api;module V1\n    class UsersController &lt; ApplicationController\n    skip_before_action :authenticate_user_from_token!, only: [:create]\n    before_action :set_user, only: [:destroy, :update, :show]\n    before_action :authorize_user, except: :create  \n\n\n    def create \n     #TODO : fix for simultaneous account and registration create    \n      @user = User.new user_params\n      @user.save!\n      render json: @user,status: :ok and return\n    end\n    private    \n\n     def set_user\n       @user = User.find(params[:id])\n     end\n\n    def authorize_user\n      unless set_user == current_user \n       render json:{message: \"you are not authorized.\"}, status: 401\n      end  \n    end \n\n  end\nend;end     \n</code></pre>\n\n<p>Now my problem is that in my rspec user contro      </p>\n\n<pre><code>RSpec.describe UsersController, type: :controller do\n\nit \"can create user\" do\n   post :create, user: {email: \"ad@ad.ad\",username: \"add\", name: \"dad\",\n                                                         password: \"password\", password_confirmation: \"password\",\n                                                         account:{company: \"caaad\"}}, :formate =&gt;:json\n\n    puts response                                        \nend\n</code></pre>\n\n<p>end\nBut its giving following error to me </p>\n\n<pre><code>Failure/Error: render json: @user, status: :ok and return\n\n     NoMethodError:\n       undefined method `authenticate' for nil:NilClass\n</code></pre>\n\n<p>My code is quite simple test not much logics.\nWhy its not working ?\nI even tried to add </p>\n\n<pre><code>config.include Devise::TestHelpers, :type =&gt; :controller\n</code></pre>\n\n<p>in spec_helper but still its not working. Please tell me what I am missing ?</p>\n\n<p>Although controller code is correct because it is working with normal Curl request.</p>\n\n<p>in my user model</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n\n  devise :database_authenticatable, :registerable,\n         :recoverable, :rememberable, :trackable, :validatable\n\n  after_create :update_access_token!\n\n def update_access_token!\n    self.access_token = \"#{self.id}:#{Devise.friendly_token}\"\n    save!\n  end \n</code></pre>\n\n<p>end</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "http", "httprequest", "net-http"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1467749507, "post_id": 38211085, "comment_id": 63847764, "body": "There are many gems for Ruby that will make it much easier to use HTTP than Net::HTTP. I&#39;d recommend researching those and picking one. Net::HTTP is really for those times when nothing else already exists."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6553187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2361150a3368d6da2587a9ff2a144b?s=128&d=identicon&r=PG&f=1", "display_name": "JPB", "link": "https://stackoverflow.com/users/6553187/jpb"}, "edited": false, "score": 0, "creation_date": 1467746980, "post_id": 38211144, "comment_id": 63846337, "body": "Thanks, but doesn&#39;t that send the request twice?  When you call Net::Http.new, doesn&#39;t that send a request?"}, {"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "reply_to_user": {"reputation": 33, "user_id": 6553187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2361150a3368d6da2587a9ff2a144b?s=128&d=identicon&r=PG&f=1", "display_name": "JPB", "link": "https://stackoverflow.com/users/6553187/jpb"}, "edited": false, "score": 0, "creation_date": 1467747058, "post_id": 38211144, "comment_id": 63846377, "body": "@JPB no, it initialises the request, connects to server and then sends the request."}], "tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": true, "score": 4, "last_activity_date": 1467746692, "creation_date": 1467746692, "answer_id": 38211144, "question_id": 38211085, "link": "https://stackoverflow.com/questions/38211085/how-do-i-include-a-header-in-an-http-request-in-ruby/38211144#38211144", "title": "how do I include a header in an http request in ruby", "body": "<p><code>get_response</code> is a shorthand for making a request, when you need more control - do a full request yourself.</p>\n\n<p>There's an example in ruby standard library <a href=\"http://ruby-doc.org/stdlib-2.3.1/libdoc/net/http/rdoc/Net/HTTP.html#class-Net::HTTP-label-Setting+Headers\" rel=\"nofollow\">here</a>:</p>\n\n<pre><code>uri = URI.parse(\"http://www.ncdc.noaa.gov/cdo-web/api/v2/datasets/\")\nreq = Net::HTTP::Get.new(uri)\nreq['token'] = 'fjhKJFSDHKJHjfgsdfdsljh'\n\nres = Net::HTTP.start(uri.hostname, uri.port) {|http|\n  http.request(req)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1467756510, "post_id": 38213593, "comment_id": 63850947, "body": "That&#39;s just one of many gems which do this. <a href=\"https://github.com/jnunemaker/httparty\" rel=\"nofollow noreferrer\">httparty</a>, <a href=\"https://github.com/lostisland/faraday\" rel=\"nofollow noreferrer\">Faraday</a> and <a href=\"https://github.com/taf2/curb\" rel=\"nofollow noreferrer\">curb</a> are also very popular."}], "tags": [], "owner": {"reputation": 3171, "user_id": 2610043, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jIN0G.jpg?s=128&g=1", "display_name": "hedgesky", "link": "https://stackoverflow.com/users/2610043/hedgesky"}, "is_accepted": false, "score": 2, "last_activity_date": 1467756686, "last_edit_date": 1467756686, "creation_date": 1467756363, "answer_id": 38213593, "question_id": 38211085, "link": "https://stackoverflow.com/questions/38211085/how-do-i-include-a-header-in-an-http-request-in-ruby/38213593#38213593", "title": "how do I include a header in an http request in ruby", "body": "<p>Though you surely could use <code>Net::HTTP</code> for this goal, gem <a href=\"https://github.com/excon/excon\" rel=\"nofollow\">excon</a> allows you to do it far easier:</p>\n\n<pre><code>require 'excon'\nurl = 'http://www.ncdc.noaa.gov/cdo-web/api/v2/datasets/'\nExcon.get(url, headers: {token: 'fjhKJFSDHKJHjfgsdfdsljh'})\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6553187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2361150a3368d6da2587a9ff2a144b?s=128&d=identicon&r=PG&f=1", "display_name": "JPB", "link": "https://stackoverflow.com/users/6553187/jpb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3652, "favorite_count": 0, "accepted_answer_id": 38211144, "answer_count": 2, "score": 2, "last_activity_date": 1467756686, "creation_date": 1467746480, "question_id": 38211085, "link": "https://stackoverflow.com/questions/38211085/how-do-i-include-a-header-in-an-http-request-in-ruby", "title": "how do I include a header in an http request in ruby", "body": "<p>Have the below code working:</p>\n\n<pre><code>uri = URI.parse(\"http://www.ncdc.noaa.gov/cdo-web/api/v2/datasets/\")\nresponse = Net::HTTP.get_response(uri)\n</code></pre>\n\n<p>Now I also need to pass a header with this token hash in it:</p>\n\n<pre><code>token: \"fjhKJFSDHKJHjfgsdfdsljh\"\n</code></pre>\n\n<p>I cannot find any documentation on how to do this.  How do I do it?</p>\n"}, {"tags": ["ruby", "bash", "macos", "terminal", "homebrew"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 6552952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c4157661393a40b293cbe77215f674?s=128&d=identicon&r=PG&f=1", "display_name": "cycle_about", "link": "https://stackoverflow.com/users/6552952/cycle-about"}, "edited": false, "score": 0, "creation_date": 1467809654, "post_id": 38211106, "comment_id": 63870925, "body": "Perfect! That solved it, thank you so much for the thorough description."}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "reply_to_user": {"reputation": 165, "user_id": 6552952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c4157661393a40b293cbe77215f674?s=128&d=identicon&r=PG&f=1", "display_name": "cycle_about", "link": "https://stackoverflow.com/users/6552952/cycle-about"}, "edited": false, "score": 0, "creation_date": 1472234985, "post_id": 38211106, "comment_id": 65686942, "body": "If this answer has helped you, please consider <a href=\"http://meta.stackexchange.com/q/5234/217589\">accepting</a> it."}], "tags": [], "owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "is_accepted": false, "score": 1, "last_activity_date": 1467746547, "creation_date": 1467746547, "answer_id": 38211106, "question_id": 38210592, "link": "https://stackoverflow.com/questions/38210592/persistent-mac-terminal-syntax-error-after-homebrew-and-ruby-installation/38211106#38211106", "title": "Persistent Mac terminal syntax error after Homebrew and Ruby installation", "body": "<p>When you added the code to initialize rbenv to your <code>.bash_profile</code>, it was erronously appended to the last line in that file instead of being added to a new line.</p>\n\n<p>To fix this, edit the file ~/.bash_profile (e.g. by running <code>nano ~/.bash_profile</code>) and add a new line so that the end of the line reads as follows:</p>\n\n<pre><code>export PATH=\"/Users/x/anaconda/bin:$PATH\"\nif which rbenv &gt; /dev/null; then eval \"$(rbenv init -)\"; fi\n</code></pre>\n\n<p>You can then save the file and exit the editor with <kbd>Ctrl</kbd>+<kbd>x</kbd>.</p>\n"}], "owner": {"reputation": 165, "user_id": 6552952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c4157661393a40b293cbe77215f674?s=128&d=identicon&r=PG&f=1", "display_name": "cycle_about", "link": "https://stackoverflow.com/users/6552952/cycle-about"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1467746547, "creation_date": 1467744616, "question_id": 38210592, "link": "https://stackoverflow.com/questions/38210592/persistent-mac-terminal-syntax-error-after-homebrew-and-ruby-installation", "title": "Persistent Mac terminal syntax error after Homebrew and Ruby installation", "body": "<p>Steps at <a href=\"https://gorails.com/setup/osx/10.10-yosemite\" rel=\"nofollow\">https://gorails.com/setup/osx/10.10-yosemite</a> to install Homebrew and Ruby onto Mac OS X 10.10.5 includes running these lines in terminal:</p>\n\n<pre><code>brew install rbenv ruby-build  \n\necho 'if which rbenv &gt; /dev/null; then eval \"$(rbenv init -)\"; fi' &gt;&gt; ~/.bash_profile source ~/.bash_profile\n</code></pre>\n\n<p>Both lines now run successfully, but this error message is appearing each time terminal is opened (name replaced with \u201cx\u201d):</p>\n\n<pre><code>-bash: /Users/x/.bash_profile: line 12: syntax error near unexpected token `then'\n-bash: /Users/x/.bash_profile: line 12: `export PATH=\"/Users/x/anaconda/bin:$PATH\"if which rbenv &gt; /dev/null; then eval \"$(rbenv init -)\"; fi'\n</code></pre>\n\n<p>Searching on the error and variations of \u201cterminal opens with bash error\u201d have not turned up a way to remove the error message.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467748732, "post_id": 38210551, "comment_id": 63847345, "body": "in your example <code>some_method1</code> is being overwritten by the second declaration in the class. including a module does not make it a <code>superclass</code> so <code>super</code> call will fail. what you could do is alias as <code>attribute :some_method1; alias_method :old_some_method1, :some_method1; def some_method1; old_some_method1; end</code>"}, {"owner": {"reputation": 1477, "user_id": 1090482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/66f8470ff78540a581da8a583d64d4d2?s=128&d=identicon&r=PG", "display_name": "s12chung", "link": "https://stackoverflow.com/users/1090482/s12chung"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467751189, "post_id": 38210551, "comment_id": 63848698, "body": "yep, i know. i just want to provide a clean API if I can..... not sure if it&#39;s possible."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467751456, "post_id": 38210551, "comment_id": 63848853, "body": "unless someone posts first I will see what I can work out but the <code>MagicModule</code> might look strange."}], "answers": [{"comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467752563, "post_id": 38212518, "comment_id": 63849413, "body": "Please provide an example because <code>attribute</code> is not a class method in this case."}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467752726, "post_id": 38212518, "comment_id": 63849493, "body": "whoops, messed it up when got rid of ActiveSupport::Concern - should of course be extending the class methods module. Thanks"}, {"owner": {"reputation": 1477, "user_id": 1090482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/66f8470ff78540a581da8a583d64d4d2?s=128&d=identicon&r=PG", "display_name": "s12chung", "link": "https://stackoverflow.com/users/1090482/s12chung"}, "edited": false, "score": 0, "creation_date": 1467755072, "post_id": 38212518, "comment_id": 63850443, "body": "hmm... so the difference really is when <code>include hidden_module</code> is called. i&#39;ll give it a more thorough try."}, {"owner": {"reputation": 1477, "user_id": 1090482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/66f8470ff78540a581da8a583d64d4d2?s=128&d=identicon&r=PG", "display_name": "s12chung", "link": "https://stackoverflow.com/users/1090482/s12chung"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467757297, "post_id": 38212518, "comment_id": 63851194, "body": "i see. i forgot I was extending a module, so i needed to separate defining methods from the <code>attribute</code> class method. got it. thanks @FrederickCheung and @engineersmnky too :)"}, {"owner": {"reputation": 1477, "user_id": 1090482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/66f8470ff78540a581da8a583d64d4d2?s=128&d=identicon&r=PG", "display_name": "s12chung", "link": "https://stackoverflow.com/users/1090482/s12chung"}, "edited": false, "score": 0, "creation_date": 1467757587, "post_id": 38212518, "comment_id": 63851268, "body": "if anyone is interested. this is the rails src: <a href=\"https://github.com/rails/rails/blob/52ce6ece8c8f74064bb64e0a0b1ddd83092718e1/activemodel/lib/active_model/attribute_methods.rb#L368-L388\" rel=\"nofollow noreferrer\">github.com/rails/rails/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "is_accepted": true, "score": 2, "last_activity_date": 1467752630, "last_edit_date": 1467752630, "creation_date": 1467751967, "answer_id": 38212518, "question_id": 38210551, "link": "https://stackoverflow.com/questions/38210551/module-that-defines-methods-that-allow-included-to-call-super/38212518#38212518", "title": "module that defines methods that allow included to call super", "body": "<p>The idea of creating a module to that contains your accessors is the right one (this is what rails does for its auto generated accessors for example). However you want to include the module rather than extend it</p>\n\n<pre><code>module MagicModule\n  def self.included(base)\n    base.send(:extend, ClassMethods)\n  end\n\n  module ClassMethods\n    def attribute(attribute_name)\n      unless @hidden_module\n        @hidden_module = Module.new\n        include @hidden_module\n      end\n      @hidden_module.send(:define_method, attribute_name) { attribute_name.to_s }\n    end\n  end \nend\n</code></pre>\n\n<p>I've moved around where the module gets created so that if you subclass <code>SomeModel</code> you can still define new attributes on that subclass.</p>\n"}], "owner": {"reputation": 1477, "user_id": 1090482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/66f8470ff78540a581da8a583d64d4d2?s=128&d=identicon&r=PG", "display_name": "s12chung", "link": "https://stackoverflow.com/users/1090482/s12chung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 38212518, "answer_count": 1, "score": 0, "last_activity_date": 1467752630, "creation_date": 1467744478, "last_edit_date": 1467748040, "question_id": 38210551, "link": "https://stackoverflow.com/questions/38210551/module-that-defines-methods-that-allow-included-to-call-super", "title": "module that defines methods that allow included to call super", "body": "<p>Suppose I want an interface as such:</p>\n\n<pre><code>class SomeModel\n  include MagicModule\n\n  attribute :some_method1\n  attribute :some_method2\n\n  def some_method1; super end\nend\n</code></pre>\n\n<p>And <code>MagicModule</code> is something like:</p>\n\n<pre><code>module MagicModule\n def self.included(base)\n   base.extend(ClassMethods)\n end\n\n module ClassMethods\n  def attribute(attribute_name)\n    define_method(attribute_name) { attribute_name.to_s }\n  end\n end \nend\n</code></pre>\n\n<p>How would you make <code>MagicModule</code> work such that <code>def some_method1; super end</code> above works?</p>\n\n<p><br/></p>\n\n<p>I've tried something like this:</p>\n\n<pre><code>module MagicModule\n extend ActiveSupport::Concern\n\n included do\n    hidden_module = Module.new do\n      def hidden_module; method(__callee__).owner end\n    end\n    extend hidden_module\n end\n\n module ClassMethods\n  def attribute(attribute_name)\n    hidden_module.send(:define_method, attribute_name) { attribute_name.to_s }\n  end\n end \nend\n</code></pre>\n\n<p>But no luck.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1467748424, "post_id": 38210129, "comment_id": 63847168, "body": "If a project must have a status then you could either set a default one or validate it has one."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6552166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78335b61f84a8dde75570c2448e93aa?s=128&d=identicon&r=PG&f=1", "display_name": "johnqq", "link": "https://stackoverflow.com/users/6552166/johnqq"}, "edited": false, "score": 0, "creation_date": 1467803055, "post_id": 38210265, "comment_id": 63866990, "body": "ok now its work but not show all statuses, it show just for last project for example i have 3 projects with open status but show just last status from project that i last created}  <a href=\"https://s32.postimg.org/xp2jstdkl/Screenshot_from_2016_07_06_12_12_52.png\" rel=\"nofollow noreferrer\">s32.postimg.org/xp2jstdkl/&hellip;</a>  storage file, test file, and open they are all open statuses, but showing  status only on last project created with status &quot;open&quot;. Its same for testing and closed status"}, {"owner": {"reputation": 1827, "user_id": 1362329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRckP.jpg?s=128&g=1", "display_name": "neydroid", "link": "https://stackoverflow.com/users/1362329/neydroid"}, "reply_to_user": {"reputation": 13, "user_id": 6552166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78335b61f84a8dde75570c2448e93aa?s=128&d=identicon&r=PG&f=1", "display_name": "johnqq", "link": "https://stackoverflow.com/users/6552166/johnqq"}, "edited": false, "score": 0, "creation_date": 1467816775, "post_id": 38210265, "comment_id": 63876094, "body": "could you add the model of project?"}], "tags": [], "owner": {"reputation": 1827, "user_id": 1362329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRckP.jpg?s=128&g=1", "display_name": "neydroid", "link": "https://stackoverflow.com/users/1362329/neydroid"}, "is_accepted": true, "score": 0, "last_activity_date": 1467743442, "creation_date": 1467743442, "answer_id": 38210265, "question_id": 38210129, "link": "https://stackoverflow.com/questions/38210129/rails-error-displaying-all-projects/38210265#38210265", "title": "Rails: error displaying all projects", "body": "<p>It's because isn't guaranteed that you'll have at least one <code>Status</code> associated with every <code>Project</code> you can change the code and use <code>try</code> like:</p>\n\n<pre><code>&lt;th&gt;&lt;%= project.try(:status).try(:value) %&gt;&lt;/th&gt;\n</code></pre>\n\n<p>This way <code>try</code> handles the <code>no method error</code></p>\n"}], "owner": {"reputation": 13, "user_id": 6552166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78335b61f84a8dde75570c2448e93aa?s=128&d=identicon&r=PG&f=1", "display_name": "johnqq", "link": "https://stackoverflow.com/users/6552166/johnqq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 38210265, "answer_count": 1, "score": 0, "last_activity_date": 1467745782, "creation_date": 1467742929, "last_edit_date": 1467745782, "question_id": 38210129, "link": "https://stackoverflow.com/questions/38210129/rails-error-displaying-all-projects", "title": "Rails: error displaying all projects", "body": "<p>I'm having a problem displaying project statuses with relationships.</p>\n\n<p>task.rb model: </p>\n\n<pre><code>class Task &lt; ActiveRecord::Base\n  belongs_to :project\n  has_one :status\n  has_one :kind\n\n\n  validates :title, presence: true, length: { maximum: 200 }\n  validates :alias, length: { maximum: 200 }\n  validates :mail_cc, length: { maximum: 200 }\n  validates :description, presence: true\n  validates :keywords, length: { maximum: 200 }\nend\n</code></pre>\n\n<p>status.rb model:</p>\n\n<pre><code>class Status &lt; ActiveRecord::Base\n  belongs_to :task\n  belongs_to :project\n  =begin\n    OPEN\n    TESTING\n    CLOSED\n  =end\n validates :value, presence: true\n</code></pre>\n\n<p>end</p>\n\n<p>status have 3 objects with value: a) open b) testing c) closed</p>\n\n<p>projects/index.html.erb</p>\n\n<pre><code>&lt;%= link_to \"New\", new_project_path %&gt; |\n&lt;%= link_to \"Active\", projects_path(active: \"active\") %&gt; |\n&lt;%= link_to \"All\", projects_path %&gt;\n\n&lt;hr&gt;\n\n&lt;h3&gt;Projects&lt;/h3&gt;\n\n&lt;hr&gt;\n\n&lt;table class=\"table table-hover\"&gt;\n\n&lt;thead&gt;\n   &lt;tr&gt;\n     &lt;th&gt;Name&lt;/th&gt;\n     &lt;th&gt;Status&lt;/th&gt;\n     &lt;th&gt;Actions&lt;/th&gt;\n   &lt;/tr&gt;\n &lt;/thead&gt;\n&lt;% @projects.each do |project| %&gt;\n&lt;tr&gt;\n  &lt;th&gt;&lt;%= link_to project.name, project %&gt;&lt;/th&gt;\n  &lt;th&gt;&lt;%= project.status.value %&gt;&lt;/th&gt;\n  &lt;th&gt;\n    &lt;%= link_to \"Show\", '#' %&gt; |\n    &lt;%= link_to \"Destroy\", project_path(project), method: :delete %&gt;\n  &lt;/th&gt;\n&lt;/tr&gt;\n&lt;% end %&gt;\n\n &lt;/table&gt;\n</code></pre>\n\n<p>It's all working when all have one status. When I create another project with \"open\" or \"testing\" or \"closed\" status I get an error.</p>\n\n<p><a href=\"http://i.stack.imgur.com/6QycR.png\" rel=\"nofollow\">Crash</a> </p>\n\n<p>It create a new project but can't show more than one project with same status.</p>\n"}, {"tags": ["html", "css", "ruby-on-rails", "ruby", "iframe"], "answers": [{"comments": [{"owner": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "edited": false, "score": 0, "creation_date": 1467743247, "post_id": 38210201, "comment_id": 63844361, "body": "there are no parent tags. that&#39;s the thing with Rails, each view file is embedded into some other default view file. I think? I mean, it must? I have updated the post with the entire view code."}, {"owner": {"reputation": 15393, "user_id": 1911755, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ipUpn.jpg?s=128&g=1", "display_name": "Raphael Rafatpanah", "link": "https://stackoverflow.com/users/1911755/raphael-rafatpanah"}, "reply_to_user": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "edited": false, "score": 1, "creation_date": 1467743524, "post_id": 38210201, "comment_id": 63844491, "body": "The views will generate HTML, and I&#39;m referring to HTML parents of the <code>iframe</code>.  For example, the <code>html</code> and <code>body</code> tags are parents.  Try adding the following CSS rule: <code>html, body {height: 100%;}</code>"}, {"owner": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "edited": false, "score": 0, "creation_date": 1467743776, "post_id": 38210201, "comment_id": 63844635, "body": "that did it, however there is still a border around the left top and right side even though I have <code>frameborder=&quot;0&quot;</code>. any ideas? <b>EDIT</b> other answer solved this issue"}, {"owner": {"reputation": 15393, "user_id": 1911755, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ipUpn.jpg?s=128&g=1", "display_name": "Raphael Rafatpanah", "link": "https://stackoverflow.com/users/1911755/raphael-rafatpanah"}, "reply_to_user": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "edited": false, "score": 1, "creation_date": 1467744097, "post_id": 38210201, "comment_id": 63844826, "body": "You need to use <code>frameBorder=&quot;0&quot;</code> with a capital B.  You can remove the <code>iframe</code>&#39;s style.  However, if you were to use it, use <code>style=&quot;border: none;&quot;</code>"}], "tags": [], "owner": {"reputation": 15393, "user_id": 1911755, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ipUpn.jpg?s=128&g=1", "display_name": "Raphael Rafatpanah", "link": "https://stackoverflow.com/users/1911755/raphael-rafatpanah"}, "is_accepted": true, "score": 3, "last_activity_date": 1467744009, "last_edit_date": 1467744009, "creation_date": 1467743175, "answer_id": 38210201, "question_id": 38210089, "link": "https://stackoverflow.com/questions/38210089/rails-iframe-tag-not-filling-entire-page-at-100/38210201#38210201", "title": "Rails iframe tag not filling entire page at 100%", "body": "<p>The problem is most likely that the <code>iframe</code>'s parents do not have a height set.</p>\n\n<p>Please try adding <code>height: 100%;</code> for each parent of the <code>iframe</code>.</p>\n\n<p><code>html, body { height: 100%; }</code></p>\n"}, {"tags": [], "owner": {"reputation": 1301, "user_id": 4156633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nOdKL.jpg?s=128&g=1", "display_name": "Luca Jung", "link": "https://stackoverflow.com/users/4156633/luca-jung"}, "is_accepted": false, "score": 1, "last_activity_date": 1467744378, "last_edit_date": 1467744378, "creation_date": 1467743832, "answer_id": 38210370, "question_id": 38210089, "link": "https://stackoverflow.com/questions/38210089/rails-iframe-tag-not-filling-entire-page-at-100/38210370#38210370", "title": "Rails iframe tag not filling entire page at 100%", "body": "<p>I think the space around the map is the default padding and margin.<br><br>Add:</p>\n\n<pre><code> *{\n     padding: 0;\n     margin: 0;\n  }\n</code></pre>\n\n<p>This sets the default values for each DOM element. It is not recommended to use the * selector. If you know which elements require <code>padding: 0;</code> and <code>margin: 0;</code> apply the CSS-Rule only to those.</p>\n"}], "owner": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2074, "favorite_count": 0, "accepted_answer_id": 38210201, "answer_count": 2, "score": 2, "last_activity_date": 1467744378, "creation_date": 1467742769, "last_edit_date": 1467743279, "question_id": 38210089, "link": "https://stackoverflow.com/questions/38210089/rails-iframe-tag-not-filling-entire-page-at-100", "title": "Rails iframe tag not filling entire page at 100%", "body": "<p>I'm embedding google maps into my website and I want the map to be full screen. I have the following iframe code, but you can see in the screen capture it isn't filling the entire screen. I'm using Ruby on Rails so I'm betting it's some sort of rails default CSS that is causing it?</p>\n\n<pre><code>&lt;iframe\n  height=\"100%\"\n  width=\"100%\"\n  frameborder=\"0\" style=\"border:0\"\n  src=\"&lt;%= full_loc %&gt;\" allowfullscreen&gt;\n&lt;/iframe&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WPEur.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WPEur.jpg\" alt=\"\"></a></p>\n\n<p>The entire view code looks like this (it's very raw at this point lol):</p>\n\n<pre><code>&lt;% full_loc = \"https://www.google.com/maps/embed/v1/place?key=AIzaSyAC6wrz55kNEjlpa3g4ssAw9T4NdSa2mbM\n  &amp;q=\" + @homes.location %&gt;\n\n\n&lt;iframe\n  height=\"100%\"\n  width=\"100%\"\n  frameborder=\"0\" style=\"border:0\"\n  src=\"&lt;%= full_loc %&gt;\" allowfullscreen&gt;\n&lt;/iframe&gt;\n\n&lt;%= form_tag(homes_path, :method =&gt; \"get\", id: \"search-form\") do %&gt;\n&lt;%= text_field_tag :search, params[:search], placeholder: \"Search Posts\" %&gt;\n&lt;%= submit_tag \"Search\" %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["ruby", "mongodb", "full-text-search"], "comments": [{"owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "edited": false, "score": 0, "creation_date": 1467745429, "post_id": 38209651, "comment_id": 63845547, "body": "You use this driver - <a href=\"https://github.com/mongodb/mongo-ruby-driver\" rel=\"nofollow noreferrer\">github.com/mongodb/mongo-ruby-driver</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 18060, "user_id": 48424, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb4ffc850ae4f13e7e5602b53fe49772?s=128&d=identicon&r=PG", "display_name": "nicholaides", "link": "https://stackoverflow.com/users/48424/nicholaides"}, "edited": false, "score": 0, "creation_date": 1467754369, "post_id": 38212256, "comment_id": 63850171, "body": "Thanks! That was it."}], "tags": [], "owner": {"reputation": 3347, "user_id": 1061630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a4c7abc90d884112b56919261db1fc?s=128&d=identicon&r=PG", "display_name": "Farkhat Mikhalko", "link": "https://stackoverflow.com/users/1061630/farkhat-mikhalko"}, "is_accepted": true, "score": 2, "last_activity_date": 1467750875, "creation_date": 1467750875, "answer_id": 38212256, "question_id": 38209651, "link": "https://stackoverflow.com/questions/38209651/mongo-full-text-search-with-score-via-ruby-driver/38212256#38212256", "title": "Mongo full text search with score via Ruby driver", "body": "<p>Let's look to structure of <code>mongo</code> command:</p>\n\n<pre><code>db.collection.find(\n   &lt;query&gt;,\n   { score: { $meta: \"textScore\" } }\n)\n</code></pre>\n\n<p>We see that command contains two parts (in this case <code>find</code>) </p>\n\n<ol>\n<li><code>&lt;query&gt;</code></li>\n<li><code>options hash</code></li>\n</ol>\n\n<p>Structure of command in mongo-driver very similar to mongo. But some things are not simple.</p>\n\n<p>In mongo-driver we have <code>Mongo::Collection::View</code>, check (<a href=\"https://github.com/mongodb/mongo-ruby-driver/blob/fac7e279b00669668c67c43d68164fac86337873/lib/mongo/collection/view.rb\" rel=\"nofollow\">link to source</a>):</p>\n\n<pre><code>articles.find({ '$text': { '$search': 'cake' } }.class # =&gt; Mongo::Collection::View\n</code></pre>\n\n<p>So after analyzing code, i found that you can use <code>projection</code> option, but it is tricky:</p>\n\n<pre><code>articles.find(\n { \"$text\" =&gt; { \"$search\" =&gt; \"cake\" } }, \n projection: { \n   \"score\" =&gt; { \"$meta\" =&gt; \"textScore\" }, \n   some_field: 1\n })\n</code></pre>\n\n<p>My test was:</p>\n\n<pre><code>posts.find(\n  { \"$text\" =&gt; { \"$search\" =&gt; \"house\" } }, \n  projection: { \"score\" =&gt; { \"$meta\" =&gt; \"textScore\" }, rooms: 1 }\n)\n</code></pre>\n\n<p>Results is:</p>\n\n<pre><code>{\"_id\"=&gt;BSON::ObjectId('53f5c8b54465764a82fb0000'), \n \"rooms\"=&gt;2.0, \n \"score\"=&gt;0.5004448398576512}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18060, "user_id": 48424, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb4ffc850ae4f13e7e5602b53fe49772?s=128&d=identicon&r=PG", "display_name": "nicholaides", "link": "https://stackoverflow.com/users/48424/nicholaides"}, "is_accepted": false, "score": 0, "last_activity_date": 1467811892, "creation_date": 1467811892, "answer_id": 38225306, "question_id": 38209651, "link": "https://stackoverflow.com/questions/38209651/mongo-full-text-search-with-score-via-ruby-driver/38225306#38225306", "title": "Mongo full text search with score via Ruby driver", "body": "<p>@farhatmihalko's answer is spot-on. To add to it, this also works:</p>\n\n<pre><code>posts\n  .find(\"$text\": { \"$search\": \"house\" })\n  .projection(score: { \"$meta\": \"textScore\" }, rooms: 1)\n</code></pre>\n"}], "owner": {"reputation": 18060, "user_id": 48424, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb4ffc850ae4f13e7e5602b53fe49772?s=128&d=identicon&r=PG", "display_name": "nicholaides", "link": "https://stackoverflow.com/users/48424/nicholaides"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 2, "accepted_answer_id": 38212256, "answer_count": 2, "score": 2, "last_activity_date": 1467811892, "creation_date": 1467741064, "question_id": 38209651, "link": "https://stackoverflow.com/questions/38209651/mongo-full-text-search-with-score-via-ruby-driver", "title": "Mongo full text search with score via Ruby driver", "body": "<p>In the <a href=\"https://docs.mongodb.com/manual/reference/operator/query/text/#return-the-text-search-score\" rel=\"nofollow\">Mongo documentation</a>, it says you can do this:</p>\n\n<pre><code>db.articles.find(\n   { $text: { $search: \"cake\" } },\n   { score: { $meta: \"textScore\" } }\n)\n</code></pre>\n\n<p>That works fine when I run it from the mongo console but I can't figure out how to do that via the Ruby driver.</p>\n\n<p>When I do this:</p>\n\n<pre><code>articles.find('$text': { '$search': 'cake' }, score: { '$meta': 'textScore' })\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>Mongo::Error::OperationFailure: unknown operator: $meta (2)\n</code></pre>\n\n<p>When I do </p>\n\n<pre><code>articles.find({ '$text': { '$search': 'cake' } }, score: { '$meta': 'textScore' })\n</code></pre>\n\n<p>I get results but it doesn't include the score and the log message doesn't show that it's using the <code>score: { $meta': 'textScore' }</code>:</p>\n\n<pre><code>{\"find\"=&gt;\"articles\", \"filter\"=&gt;{\"$text\"=&gt;{\"$search\"=&gt;\"cake\"}}}\n</code></pre>\n\n<p>I guess I just don't grok how the Ruby driver and Mongo CLI convert those into Mongo queries.</p>\n\n<p>I'm using MongoDB version v3.2.7 and the mongo gem version 2.2.5.</p>\n"}, {"tags": ["ruby", "optparse"], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "is_accepted": false, "score": 0, "last_activity_date": 1467742442, "creation_date": 1467742442, "answer_id": 38209991, "question_id": 38209632, "link": "https://stackoverflow.com/questions/38209632/how-to-use-optparse-to-have-a-flags-argument-require-another-argument/38209991#38209991", "title": "How to use optparse to have a flags argument require another argument", "body": "<p>I figured out that if you put an options in parenthesis you can get what I'm asking:</p>\n\n<pre><code>require 'optparse'\n\nOPTIONS = {}\n\nOptionParser.new do |opts|\n  opts.on('-t', '--type INPUT[=INPUT]', String, 'Verify a type'){ |o| OPTIONS[:type] = o }\nend.parse!\n\ndef help_page\n  puts 'ruby test.rb -t dev'\nend\n\ndef gather_type\n  case OPTIONS[:type]\n  when /dev/\n    unlock(OPTIONS[:type])\n  else\n    help_page\n  end\nend\n\ndef unlock(type)\n  if type =~ /unlock/ #Find out what type by passing argument another argument\n    puts 'Unlock account'\n  elsif type =~ /reset/\n    puts 'Reset account'\n  else\n    puts 'No flag given defaulting to unlock'  \n  end\nend\n\ndef start\n  case\n  when OPTIONS[:type]\n    gather_type\n  else\n    help_page\n  end\nend\n\nstart\n\n\nC:\\Users\\bin\\ruby&gt;ruby test.rb -t dev\nNo flag given defaulting to unlock\n\nC:\\Users\\bin\\ruby&gt;ruby test.rb -t dev=unlock\nUnlock account\n\nC:\\Users\\bin\\ruby&gt;ruby test.rb -t dev=reset\nReset account\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 6505875, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64f1f205478f52b3933fa97fc0163311?s=128&d=identicon&r=PG&f=1", "display_name": "JohnDoeYo", "link": "https://stackoverflow.com/users/6505875/johndoeyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467742442, "creation_date": 1467741009, "question_id": 38209632, "link": "https://stackoverflow.com/questions/38209632/how-to-use-optparse-to-have-a-flags-argument-require-another-argument", "title": "How to use optparse to have a flags argument require another argument", "body": "<p>I have a tool that I'm updating and need to have an argument require another argument, for example:</p>\n\n<pre><code>require 'optparse'\n\nOPTIONS = {}\n\nOptionParser.new do |opts|\n  opts.on('-t', '--type INPUT', String, 'Verify a type'){ |o| OPTIONS[:type] = o }\nend.parse!\n\ndef help_page\n  puts 'ruby test.rb -t dev'\nend\n\ndef gather_type\n  case OPTIONS[:type]\n  when /dev/\n    unlock(OPTIONS[:type])\n  else\n    help_page\n  end\nend\n\ndef unlock(type)\n  if type == 'unlock' #Find out what type by passing argument another argument\n    puts 'Unlock account'\n  else\n    puts 'Reset account'\n  end\nend\n\ndef start\n  case\n  when OPTIONS[:type]\n    gather_type\n  else\n    help_page\n  end\nend\n\nstart\n</code></pre>\n\n<p>When this is run you get the following:</p>\n\n<pre><code>C:\\Users\\bin\\ruby&gt;ruby test.rb -t dev=unlock\nReset account\nC:\\Users\\bin\\ruby&gt;ruby test.rb -t dev=reset\nReset account\n</code></pre>\n\n<p>Now that's all well and dandy but what I want to do is give the <code>dev</code> part an argument and go from there to decide if it's an unlock or if it's a reset:</p>\n\n<p><code>ruby test.rb -t dev=unlock</code> OR <code>ruby test.rb -t dev=reset</code></p>\n\n<p>After that I want the <code>unlock(type)</code> method to determine what argument was given to the flags argument and output the correct information, so</p>\n\n<pre><code>C:\\Users\\bin\\ruby&gt;ruby test.rb -t dev=unlock\nUnlock account \n\nC:\\Users\\bin\\ruby&gt;ruby test.rb -t dev=reset\nReset account\n</code></pre>\n\n<p>How can I go about to determine if an argument was given to the argument of the flag?</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1467740237, "post_id": 38209348, "comment_id": 63842841, "body": "use <code>join</code> to join an array of strings. If you don&#39;t want to use <code>chars</code> then maybe use <code>str.split(&#39;&#39;)</code> but this includes the space as well."}], "answers": [{"tags": [], "owner": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "is_accepted": false, "score": 1, "last_activity_date": 1467740561, "creation_date": 1467740561, "answer_id": 38209512, "question_id": 38209348, "link": "https://stackoverflow.com/questions/38209348/ruby-split-string-into-array-then-split-array-elements-into-words/38209512#38209512", "title": "ruby split string into array then split array elements into words", "body": "<p>To produce <code>[\"oellh\", \"dorlw\"]</code> you can write</p>\n\n<pre><code>str.split(\" \").map{|arr| arr.reverse}\n</code></pre>\n\n<p>To produce an array of arrays like </p>\n\n<pre><code>[[\"H\", \"e\", \"l\", \"l\", \"o\"], [\"w\", \"o\", \"r\", \"l\", \"d\"]]\n</code></pre>\n\n<p>you can do</p>\n\n<pre><code>str.split(\" \").map{|arr| arr.split(\"\")}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 376, "user_id": 453161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c5ff01a41fad42c2d557af7ad316872?s=128&d=identicon&r=PG", "display_name": "Amber June", "link": "https://stackoverflow.com/users/453161/amber-june"}, "edited": false, "score": 0, "creation_date": 1504902791, "post_id": 38209708, "comment_id": 79211013, "body": "Very simple and elegant solution."}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": true, "score": 2, "last_activity_date": 1467741316, "creation_date": 1467741316, "answer_id": 38209708, "question_id": 38209348, "link": "https://stackoverflow.com/questions/38209348/ruby-split-string-into-array-then-split-array-elements-into-words/38209708#38209708", "title": "ruby split string into array then split array elements into words", "body": "<pre><code>\"hello world\".split.map { |word| word[-1] + word[1..-2] + word[0] }.join(' ')\n=&gt; \"oellh dorlw\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 2, "last_activity_date": 1467751234, "last_edit_date": 1467751234, "creation_date": 1467744056, "answer_id": 38210426, "question_id": 38209348, "link": "https://stackoverflow.com/questions/38209348/ruby-split-string-into-array-then-split-array-elements-into-words/38210426#38210426", "title": "ruby split string into array then split array elements into words", "body": "<p>This is a really simple thing to do:</p>\n\n<pre><code>'hello world'.split.map{ |s|\n  s[0], s[-1] = s[-1], s[0]\n  s\n} # =&gt; [\"oellh\", \"dorlw\"]\n.join(' ') # =&gt; \"oellh dorlw\"\n</code></pre>\n\n<p>You don't need to create intermediate arrays of the word characters, which is  a waste of CPU. Instead, <code>s[0], s[-1] = s[-1], s[0]</code> is using parallel assignment to swap the first and last characters.</p>\n\n<p>Once you have the array of reversed words then <code>join(' ')</code> will return you to a string again.</p>\n\n<p>You could use <code>[...] * ' '</code> to accomplish the same thing but it's not as idiomatic:</p>\n\n<pre><code>[\"oellh\", \"dorlw\"] * ' ' # =&gt; \"oellh dorlw\"\n</code></pre>\n\n<p>How that works is left for you to figure out.</p>\n\n<p>If you want to convert a string into its characters, you <em>can</em> use <code>split('')</code>. <code>chars</code> is available and will do the same thing:</p>\n\n<pre><code>'hello world'.split.map(&amp;:chars)  # =&gt; [[\"h\", \"e\", \"l\", \"l\", \"o\"], [\"w\", \"o\", \"r\", \"l\", \"d\"]]\n</code></pre>\n\n<p><code>chars</code> should be a tiny bit faster because Ruby isn't having to figure out what parameter was passed to <code>split</code>.</p>\n\n<p>You can fold, spindle or mutilate all you want at that point.</p>\n\n<p>I'd recommend reading through the Ruby class documentation a couple times. It'll help make you aware of what methods are available, so you can quickly search for these things.</p>\n"}, {"tags": [], "owner": {"reputation": 7213, "user_id": 233596, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7cba92ae4cd4794fd91d6e277ec859c6?s=128&d=identicon&r=PG", "display_name": "Jim Flood", "link": "https://stackoverflow.com/users/233596/jim-flood"}, "is_accepted": false, "score": 2, "last_activity_date": 1467748864, "creation_date": 1467748864, "answer_id": 38211750, "question_id": 38209348, "link": "https://stackoverflow.com/questions/38209348/ruby-split-string-into-array-then-split-array-elements-into-words/38211750#38211750", "title": "ruby split string into array then split array elements into words", "body": "<p>You almost have your own answer, you are just slightly off:</p>\n\n<pre><code>str = \"hello world\"\n=&gt; \"hello world\"\nstr.split(\" \").map { |s| s.split(\"\") }\n=&gt; [[\"h\", \"e\", \"l\", \"l\", \"o\"], [\"w\", \"o\", \"r\", \"l\", \"d\"]]\n</code></pre>\n\n<p>Use <code>map</code> instead of <code>each</code>.</p>\n\n<p>The reverse:</p>\n\n<pre><code>a = str.split(\" \").map { |s| s.split(\"\") }\n=&gt; [[\"h\", \"e\", \"l\", \"l\", \"o\"], [\"w\", \"o\", \"r\", \"l\", \"d\"]]\na.map { |s| s.join }.join(\" \")\n=&gt; \"hello world\"\n</code></pre>\n"}], "owner": {"reputation": 4275, "user_id": 5739288, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/mRf6m.jpg?s=128&g=1", "display_name": "Iggy", "link": "https://stackoverflow.com/users/5739288/iggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2504, "favorite_count": 2, "accepted_answer_id": 38209708, "answer_count": 4, "score": 1, "last_activity_date": 1467751234, "creation_date": 1467739940, "question_id": 38209348, "link": "https://stackoverflow.com/questions/38209348/ruby-split-string-into-array-then-split-array-elements-into-words", "title": "ruby split string into array then split array elements into words", "body": "<p>I want to perform deeper array method on a given string. Let's say I have <code>str = \"hello world\"</code></p>\n\n<p>I can split it using <code>str.split(\" \")</code>. But my intended goal is to turn <code>\"hello\"</code> into <code>[\"h\", \"e\", \"l\", \"l\", \"o\"]</code> and <code>\"world\"</code> into <code>[\"w\", \"o\", \"r\", \"l\", \"d\"]</code> so I can do array method of my choosing (like swapping first and last letter <code>[\"o\", \"e\", \"l\", \"l\", \"h\"]</code>, and then returning it back into <code>[\"oellh\", \"dorlw\"]</code>, and finally putting them back together <code>\"oellh dorlw\"</code>. </p>\n\n<p>That's just an example method. There are several different array method I wish to apply, but it only works if the string is split into array of words, and further split into array of elements (<code>str.chars</code> is not what I am looking for). I tried <code>str.split(\" \").each {|arr| arr.split(\"\")}</code> but it does not work. What is the best method to split a string into an array, and splitting that array of words into array of elements, apply a method, and join them back into a string?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 3100151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb96451232d61bbabd93f46aec493dea?s=128&d=identicon&r=PG&f=1", "display_name": "user3100151", "link": "https://stackoverflow.com/users/3100151/user3100151"}, "edited": false, "score": 0, "creation_date": 1467740014, "post_id": 38209039, "comment_id": 63842730, "body": "I am getting this error now: private method `new_record?&#39; called for #&lt;GetMeta:0x007fee49a31468&gt; Did you mean?  new_record"}], "tags": [], "owner": {"reputation": 1599, "user_id": 267180, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/90a56a6e77d86ce0d54dbe9c1819bb06?s=128&d=identicon&r=PG", "display_name": "andrunix", "link": "https://stackoverflow.com/users/267180/andrunix"}, "is_accepted": false, "score": 1, "last_activity_date": 1467738701, "creation_date": 1467738701, "answer_id": 38209039, "question_id": 38208977, "link": "https://stackoverflow.com/questions/38208977/undefined-new-record-ruby-rails/38209039#38209039", "title": "Undefined new_record? Ruby Rails", "body": "<p>You are calling an instance method from within an instance method. So you need to specify which instance you are referring to. You need to use 'self'. So instead of just calling 'new_record?', try calling self.new_record? </p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 3100151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb96451232d61bbabd93f46aec493dea?s=128&d=identicon&r=PG&f=1", "display_name": "user3100151", "link": "https://stackoverflow.com/users/3100151/user3100151"}, "edited": false, "score": 0, "creation_date": 1467740229, "post_id": 38209372, "comment_id": 63842837, "body": "Thank you! The code is working, but the method exists is depreciated (<a href=\"http://apidock.com/rails/ActiveRecord/Base/exists%3F/class\" rel=\"nofollow noreferrer\">apidock.com/rails/ActiveRecord/Base/exists%3F/class</a>)."}, {"owner": {"reputation": 36, "user_id": 6105795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLRin.jpg?s=128&g=1", "display_name": "nekath", "link": "https://stackoverflow.com/users/6105795/nekath"}, "reply_to_user": {"reputation": 49, "user_id": 3100151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb96451232d61bbabd93f46aec493dea?s=128&d=identicon&r=PG&f=1", "display_name": "user3100151", "link": "https://stackoverflow.com/users/3100151/user3100151"}, "edited": false, "score": 0, "creation_date": 1467740546, "post_id": 38209372, "comment_id": 63843010, "body": "apidocs says &quot;Method deprecated or moved&quot;. The method is not deprecated - checked by myself in rails 4.2.6  Also you can mix it with a where, Domain.where(host: page.host).exists?"}], "tags": [], "owner": {"reputation": 36, "user_id": 6105795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLRin.jpg?s=128&g=1", "display_name": "nekath", "link": "https://stackoverflow.com/users/6105795/nekath"}, "is_accepted": true, "score": 2, "last_activity_date": 1467740025, "creation_date": 1467740025, "answer_id": 38209372, "question_id": 38208977, "link": "https://stackoverflow.com/questions/38208977/undefined-new-record-ruby-rails/38209372#38209372", "title": "Undefined new_record? Ruby Rails", "body": "<p>The problem is described by an error. Let's see:</p>\n\n<pre><code>undefined method `new_record?' for\n#&lt;Domain::ActiveRecord_Relation:0x007f320ed8af80&gt;\n</code></pre>\n\n<p>The problem is the line\n<code>@domain = Domain.where(:host =&gt; page.host)</code></p>\n\n<p>This returns an ActiveRecord relation instead of single record.\nYou should take a .first or .last.</p>\n\n<p><code>@domain = Domain.where(:host =&gt; page.host).last</code></p>\n\n<p>That's the fix, but let's see how can we improve the code.</p>\n\n<p>We can use method <code>exists?</code> which is defined in ActiveRecord Relation (docs: <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/FinderMethods.html#method-i-exists-3F\" rel=\"nofollow\">http://api.rubyonrails.org/classes/ActiveRecord/FinderMethods.html#method-i-exists-3F</a>)</p>\n\n<pre><code>if Domain.exists?(host: page.host)\n  Link.create! do |link|\n    link.url = page.url\n    link.title = page.best_title\n    link.description = page.description\n  end\nelse\n  Domain.create! do |url|\n    url.root_url = page.root_url\n    url.scheme = page.scheme\n    url.host = page.host\n\n    url.links.build(url: page.url, title: page.best_title, description: page.description)\n  end\nend\n</code></pre>\n\n<p>This way we don't need instance variable <code>@domain</code> and helper method <code>new_record?</code></p>\n"}], "owner": {"reputation": 49, "user_id": 3100151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb96451232d61bbabd93f46aec493dea?s=128&d=identicon&r=PG&f=1", "display_name": "user3100151", "link": "https://stackoverflow.com/users/3100151/user3100151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 38209372, "answer_count": 2, "score": 0, "last_activity_date": 1467740025, "creation_date": 1467738495, "question_id": 38208977, "link": "https://stackoverflow.com/questions/38208977/undefined-new-record-ruby-rails", "title": "Undefined new_record? Ruby Rails", "body": "<p>I am trying to check if the domain host url record exist in the domain table before creating it again, but I am getting this error:</p>\n\n<pre><code>undefined method `new_record?' for #&lt;Domain::ActiveRecord_Relation:0x007f320ed8af80&gt;\n</code></pre>\n\n<p>The class GetMeta is a service object that is getting initialize when a user enter a URL in a form and click submit. I am taking the URL from the form and calling MetaInspector with it to get more meta informations.</p>\n\n<p>The first part (if) new_record method is working perfectly fine, but is creating duplicate values in the domain table. I tried to create a conditional logic, but I am having this bug that I don't know how to fixed.</p>\n\n<pre><code>  class GetMeta\n  include ActiveModel::Model\n\n  def initialize(url)\n    @url = url\n  end\n\n  def new_record\n\n    page = MetaInspector.new(@url)\n    @domain = Domain.where(:host =&gt; page.host)\n\n    if new_record?\n      Domain.create! do |url|\n        url.root_url = page.root_url\n        url.scheme = page.scheme\n        url.host = page.host\n\n        url.links.build(url: page.url, title: page.best_title, description: page.description)\n      end\n    else\n      Link.create! do |link|\n        link.url = page.url\n        link.title = page.best_title\n        link.description = page.description\n      end\n    end\n  end\n\n  private\n\n  def new_record?\n    @domain.new_record?\n  end\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "web", "activeadmin", "state"], "comments": [{"owner": {"reputation": 3220, "user_id": 1975116, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e6cc642db122cbdcd0afbac71acbe582?s=128&d=identicon&r=PG", "display_name": "Esse", "link": "https://stackoverflow.com/users/1975116/esse"}, "edited": false, "score": 0, "creation_date": 1467735848, "post_id": 38208235, "comment_id": 63840628, "body": "I think state machine gem is answer for your problems: <a href=\"https://github.com/geekq/workflow\" rel=\"nofollow noreferrer\">github.com/geekq/workflow</a> Combined with custom active_admin actions."}, {"owner": {"reputation": 11, "user_id": 6552569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jFcSA.jpg?s=128&g=1", "display_name": "Whitaker", "link": "https://stackoverflow.com/users/6552569/whitaker"}, "reply_to_user": {"reputation": 3220, "user_id": 1975116, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e6cc642db122cbdcd0afbac71acbe582?s=128&d=identicon&r=PG", "display_name": "Esse", "link": "https://stackoverflow.com/users/1975116/esse"}, "edited": false, "score": 0, "creation_date": 1467965964, "post_id": 38208235, "comment_id": 63943794, "body": "I used the Statesman final and managed to do what I wanted. Thanks for your advice ! (I don&#39;t know how I can marked is answered)"}], "owner": {"reputation": 11, "user_id": 6552569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jFcSA.jpg?s=128&g=1", "display_name": "Whitaker", "link": "https://stackoverflow.com/users/6552569/whitaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1467965776, "creation_date": 1467735662, "last_edit_date": 1467965776, "question_id": 38208235, "link": "https://stackoverflow.com/questions/38208235/create-state-for-object-in-rails", "title": "Create state for object in Rails", "body": "<p>Firstly I'm sorry for my english. Ha ha</p>\n\n<p>So, I'm learning to create sites with Ruby on Rails so I started with that framework. I stuck for a few hours because I do not find the right method for something that I try to do.</p>\n\n<p>I try to create a crowdfunding site. I have successfully installed and configured ActiveAdmin and configured it to create projects. I would now like to add a condition into these projects. I would like 4 states: \"Empty\" when the project is created, but not all features are filled. \"Upcoming\" when it met all the requirements. And then when it is ready it should get \"Upcoming\" state. I want my project management panel to be represented on activeadmin. I have a select box that would change the project status to \"Validate\" or \"No validate\".</p>\n\n<p>So I thought to simply use the tool 'if condition' to do the above, but my problem is I have no idea of \u200b\u200bwhere I should put it. If I put it into the active admin controller, a controller would be created for projects or in my project model? Should I create a method and if so when to call it? Maybe do something else? I struggle to see clearly the whole picture.</p>\n\n<p>Thank you in advance for your suggestions!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "enumerize"], "answers": [{"comments": [{"owner": {"reputation": 476, "user_id": 4411941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYjaW.png?s=128&g=1", "display_name": "Benjamin Cbr", "link": "https://stackoverflow.com/users/4411941/benjamin-cbr"}, "edited": false, "score": 0, "creation_date": 1467787765, "post_id": 38211213, "comment_id": 63858500, "body": "Thanks for the answer. I went for the custom validator option in the end. Enumerize actually stores the value as a list with an empty string <code>[&quot;&quot;]</code>, and this is not handled properly by the gem for now. There is a PR open about this topic."}], "tags": [], "owner": {"reputation": 4206, "user_id": 1329461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/meIoL.png?s=128&g=1", "display_name": "Leantraxxx", "link": "https://stackoverflow.com/users/1329461/leantraxxx"}, "is_accepted": true, "score": 3, "last_activity_date": 1467746921, "creation_date": 1467746921, "answer_id": 38211213, "question_id": 38208009, "link": "https://stackoverflow.com/questions/38208009/how-to-validate-presence-of-an-array-using-enumerize/38211213#38211213", "title": "How to validate presence of an array using Enumerize?", "body": "<p>The <code>enumerize</code> gem is saving your multiple values as an string array. Something like this: <code>\"[\\\"Boston\\\"]\"</code>. So, with an empty array you have: <code>\"[]\"</code>. The <code>presence</code>validator uses <a href=\"http://api.rubyonrails.org/v4.2/classes/Object.html#method-i-blank-3F\" rel=\"nofollow\"><code>blank?</code></a> method to check if the value is present or not. <code>\"[]\".blank?</code> returns <code>false</code> obviously.</p>\n\n<p>So, you can try some alternatives:</p>\n\n<h3>Option 1:</h3>\n\n<pre><code>validates :cities, inclusion: { in: %w(Boston London Berlin Paris) }\n</code></pre>\n\n<h3>Option 2:</h3>\n\n<p>Add a custom validator</p>\n\n<pre><code>validate :ensure_valid_cities\n\ndef ensure_valid_cities\n  errors.add(:cities, \"invalid\") unless cities.values.empty?\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 476, "user_id": 4411941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYjaW.png?s=128&g=1", "display_name": "Benjamin Cbr", "link": "https://stackoverflow.com/users/4411941/benjamin-cbr"}, "is_accepted": false, "score": 2, "last_activity_date": 1467787951, "creation_date": 1467787951, "answer_id": 38217847, "question_id": 38208009, "link": "https://stackoverflow.com/questions/38208009/how-to-validate-presence-of-an-array-using-enumerize/38217847#38217847", "title": "How to validate presence of an array using Enumerize?", "body": "<p>This is actually a bug that should be fixed in a later version of Enumerize (See <a href=\"https://github.com/brainspec/enumerize/pull/226\" rel=\"nofollow\">https://github.com/brainspec/enumerize/pull/226</a>).</p>\n\n<p>In the meantime, you can use a <strong>custom validator</strong> as a workaround (See Leantraxx's answer).</p>\n"}], "owner": {"reputation": 476, "user_id": 4411941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYjaW.png?s=128&g=1", "display_name": "Benjamin Cbr", "link": "https://stackoverflow.com/users/4411941/benjamin-cbr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2122, "favorite_count": 0, "accepted_answer_id": 38211213, "answer_count": 2, "score": 4, "last_activity_date": 1490282443, "creation_date": 1467734849, "last_edit_date": 1490282443, "question_id": 38208009, "link": "https://stackoverflow.com/questions/38208009/how-to-validate-presence-of-an-array-using-enumerize", "title": "How to validate presence of an array using Enumerize?", "body": "<p>I'm trying to implement to validations on a given model array-like field, using the Enumerize Gem. I want to:</p>\n\n<ul>\n<li>validate that all the elements of a list belong to a given subset, using Enumerize</li>\n<li>validate that the list is not empty (using <code>validates :field, presence: true</code>)</li>\n</ul>\n\n<p>It seems that when I provide a list containing an empty string, the presence validator fails. See this example.</p>\n\n<pre><code>class MyModel\n  include ActiveModel::Model\n  extend Enumerize\n\n  enumerize :cities, in: %w(Boston London Berlin Paris), multiple: true\n  validates :cities, presence: true\nend\n\n\n# Does not behave as expected\na = MyModel.new(cities: [\"\"])\na.cities.present?  # =&gt; false\na.valid?  # =&gt; true, while it should be false.\n</code></pre>\n\n<p>It seems to work in some other cases (for instance when you provide a non empty string that is not in the Enum). For instance</p>\n\n<pre><code># Behaves as expected\na = MyModel.new(cities: [\"Dublin\"])\na.cities.present?  # =&gt; false\na.valid?  # =&gt; false\n</code></pre>\n\n<p>Is there a workaround available to be able to use both Enumerize validation and ActiveModel presence validation?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "validation", "activerecord", "rspec"], "comments": [{"owner": {"reputation": 914, "user_id": 2115680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j2Fk3.jpg?s=128&g=1", "display_name": "Marc-Andre", "link": "https://stackoverflow.com/users/2115680/marc-andre"}, "edited": false, "score": 0, "creation_date": 1467732409, "post_id": 38206732, "comment_id": 63838546, "body": "Interesting I had a problem with uniquess with similar models. I thougth you could use <code>-&gt; { uniq }</code> but now I realise it&#39;s for display only. Is this the only solution to check uniqueness ?"}, {"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "reply_to_user": {"reputation": 914, "user_id": 2115680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j2Fk3.jpg?s=128&g=1", "display_name": "Marc-Andre", "link": "https://stackoverflow.com/users/2115680/marc-andre"}, "edited": false, "score": 0, "creation_date": 1467732936, "post_id": 38206732, "comment_id": 63838870, "body": "@Marc-Andre well...the only one I&#39;ve come across."}], "answers": [{"comments": [{"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467733259, "post_id": 38207338, "comment_id": 63839072, "body": "Hey. Despite the typo for the <code>AlbumArtist</code> class and the <code>invalid_album_artist</code> local variable I got the error: <code>undefined method &#39;build&#39; for #&lt;Class:0x007f91d1a3f178&gt;</code>"}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "reply_to_user": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467746259, "post_id": 38207338, "comment_id": 63845998, "body": "Oops my mistake.  I updated the answer to use new rather than build."}, {"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467746480, "post_id": 38207338, "comment_id": 63846107, "body": "Not getting the build error anymore but it&#39;s evaluating to <code>true</code>: <code>expected &#39;#&lt;AlbumArtist id: nil, artist_id: 1, album_id: 1, created_at: nil, updated_at: nil&gt;.invalid?&#39; to return true, got false</code>"}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "reply_to_user": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467748241, "post_id": 38207338, "comment_id": 63847059, "body": "what happens if you try running: &quot;valid_artist_album = AlbumArtist.create!(artist: artist, album: album) AlbumArtist.create!(artist: artist, album: album)"}, {"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467748418, "post_id": 38207338, "comment_id": 63847164, "body": "Did you want this all in the same variable declaration for <code>valid_artist_album</code>? Otherwise I get a syntax error."}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "reply_to_user": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467754673, "post_id": 38207338, "comment_id": 63850288, "body": "If your validation is actually working calling &quot;AlbumArtist.create!(artist: artist, album: album) &quot; 2 times should result in an exception being raised.  That is what I am hoping to validate.  My theory is that your validation is not working.  If you can call the create with the ! as above 2 times, then the test I have written above is in fact working but your validation is broken."}, {"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467760425, "post_id": 38207338, "comment_id": 63852056, "body": "Based on my validator in the OP what do you think is the problem. I can confirm that the validator works on the front-end."}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "reply_to_user": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467774815, "post_id": 38207338, "comment_id": 63855057, "body": "I updated the other answer so I could use the code highlighting/formatting.  Try that and let me know what happens"}, {"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467807989, "post_id": 38207338, "comment_id": 63869867, "body": "Hey. With this new code I got the same result: <code>expected &#39;#&lt;AlbumArtist id: 2, artist_id: 1, album_id: 1, created_at: &quot;2016-07-06 12:24:40&quot;, updated_at: &quot;2016-07-06 12:24:40&quot;&gt;.invalid?&#39; to return true, got false</code>"}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "reply_to_user": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467816662, "post_id": 38207338, "comment_id": 63876010, "body": "Ok so your backend validation is not working.  I am guessing that if it is working on the front end it is because you have front end validation."}, {"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467816870, "post_id": 38207338, "comment_id": 63876165, "body": "From your point of view, does this statement look correct? <code>self.artist.albums.where(name: self.album.name).any?</code> (this is the validation). It should also be noted that this validation is on the join table, <code>AlbumArtist</code>."}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "reply_to_user": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467817991, "post_id": 38207338, "comment_id": 63876930, "body": "No that doesn&#39;t look right and the test proves that.  can you try something more like &quot;validates_uniqueness_of :artist_id, :scope =&gt; :album_id&quot; on your AlbumArtist model."}, {"owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "edited": false, "score": 0, "creation_date": 1467819358, "post_id": 38207338, "comment_id": 63877847, "body": "Wait I just remembered. This isn&#39;t necessarily checking for an ID match but an identical string match of the <code>name</code> value. Not sure if your validator would accomplish that."}], "tags": [], "owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "is_accepted": false, "score": 0, "last_activity_date": 1467774779, "last_edit_date": 1467774779, "creation_date": 1467732616, "answer_id": 38207338, "question_id": 38206732, "link": "https://stackoverflow.com/questions/38206732/trouble-writing-test-for-validating-uniqueness-of-value-in-my-join-table/38207338#38207338", "title": "Trouble writing test for validating uniqueness of value in my join table", "body": "<p>Your test is failing because the artist_album is valid.  What is happening is that the last one is never created because of your validation but it isn't raising when it fails.   Try this: </p>\n\n<pre><code>it 'validates that album is unique to artist' do\n  artist = FactoryGirl.create(:artist)\n  album = FactoryGirl.create(:album)\n  valid_artist_album = AlbumArtist.create(artist: artist, album: album)\n  invalid_album_artist = AlbumArtist.new(artist: artist, album: album)\n\n  expect(invalid_album_artist).to be_invalid\n\nend\n</code></pre>\n\n<p>I am editing this post to use the code highlighting. So if you do this: what happens?</p>\n\n<pre><code>it 'validates that album is unique to artist' do\n  artist = FactoryGirl.create(:artist)\n  album = FactoryGirl.create(:album)\n  AlbumArtist.create!(artist: artist, album: album)\n  invalid_album_artist = AlbumArtist.create!(artist: artist, album: album)\n\n  expect(invalid_album_artist).to be_invalid\n\nend\n</code></pre>\n\n<p>What happens?  If you make it to the expect line your validation is not working.  If you raise an exception on the second create then your validation is working.  I think that since you said that the earlier test said invalid_album_artist was in fact valid that your validation is not working but changing your test to this will validate that for certain. </p>\n"}], "owner": {"reputation": 11210, "user_id": 3046413, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0c4b85a42ee3c491c13d36b9a5b8a789?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Edwards", "link": "https://stackoverflow.com/users/3046413/carl-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1467774779, "creation_date": 1467730804, "last_edit_date": 1495541296, "question_id": 38206732, "link": "https://stackoverflow.com/questions/38206732/trouble-writing-test-for-validating-uniqueness-of-value-in-my-join-table", "title": "Trouble writing test for validating uniqueness of value in my join table", "body": "<p>A little while ago I was able to find a <a href=\"https://stackoverflow.com/questions/34667213/validate-uniqueness-of-name-in-a-habtm-association\">solution</a> on how to create a uniqueness validation in my join table:</p>\n\n<pre><code>class Album &lt; ApplicationRecord\n  has_many :album_artists\n  has_many :artists, through: :album_artists\nend\n\nclass AlbumArtist &lt; ApplicationRecord\n  belongs_to :album\n  belongs_to :artist\n\n  validate :uniqueness_of_album_artist\n\n  private\n    def uniqueness_of_album_artist\n      if self.artist.albums.where(name: self.album.name).any?\n        album.errors[:base] &lt;&lt; \"Artist already has an album by this name\"\n      end\n    end\nend\n\nclass Artist &lt; ApplicationRecord\n  has_many :album_artists\n  has_many :albums, through: :album_artists\nend\n</code></pre>\n\n<p>I now want to write a test for my <code>AlbumArtist's</code> <code>uniqueness_of_album_artist</code> validator. Here's what I came up with:</p>\n\n<pre><code>it 'validates that album is unique to artist' do\n  artist = FactoryGirl.create(:artist)\n  artist.albums.push(FactoryGirl.create(:album, name: \"Test\"), FactoryGirl.create(:album, name: \"Test\"))\n\n  album_artist = artist.album_artists.last\n\n  expect(album_artist).to be_invalid\n  expect(album_artist.errors[:base]).to include('Artist already has an album by this name')\nend\n</code></pre>\n\n<p>Strangely though my test fails:</p>\n\n<pre><code>Failure/Error: expect(album_artist).to be_invalid\n       expected `#&lt;AlbumArtist id: 2, artist_id: 1, album_id: 2, created_at: \"2016-07-05 14:57:13\", updated_at: \"2016-07-05 14:57:13\"&gt;.invalid?` to return true, got false\n</code></pre>\n\n<p>I went ahead and did some debugging after this but when I test whether the artist has two identically named albums, it returns <code>true</code>, thus proving it to be invalid.</p>\n\n<pre><code>p artist.album_artists.first.album.name == artist.album_artists.last.album.name # returns true\n</code></pre>\n\n<p>What's going on here?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1810, "user_id": 1301840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ad9bbcb458c0923c2946f85b6b98107b?s=128&d=identicon&r=PG&f=1", "display_name": "lusketeer", "link": "https://stackoverflow.com/users/1301840/lusketeer"}, "edited": false, "score": 1, "creation_date": 1467731195, "post_id": 38206726, "comment_id": 63837723, "body": "<code>class Field &lt; &lt; ActiveRecord::Base</code> is <code>&lt; &lt;</code> typo or actually it&#39;s written like that in <code>field.rb</code> file?"}, {"owner": {"reputation": 1254, "user_id": 4576274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5Wnd.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4576274/pramod"}, "edited": false, "score": 0, "creation_date": 1467731207, "post_id": 38206726, "comment_id": 63837735, "body": "Can you post the schema here. Also, your model should be declared like <code>class Field  &lt; ActiveRecord::Base</code>"}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1467737956, "post_id": 38206726, "comment_id": 63841722, "body": "Can you show the code where you create the model instance?"}, {"owner": {"reputation": 145, "user_id": 5436341, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3xhK0.jpg?s=128&g=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/5436341/mounika"}, "reply_to_user": {"reputation": 1810, "user_id": 1301840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ad9bbcb458c0923c2946f85b6b98107b?s=128&d=identicon&r=PG&f=1", "display_name": "lusketeer", "link": "https://stackoverflow.com/users/1301840/lusketeer"}, "edited": false, "score": 0, "creation_date": 1467786340, "post_id": 38206726, "comment_id": 63857884, "body": "Hi @lusketeer it is just a typo."}], "owner": {"reputation": 145, "user_id": 5436341, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3xhK0.jpg?s=128&g=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/5436341/mounika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1467786703, "creation_date": 1467730782, "last_edit_date": 1467786703, "question_id": 38206726, "link": "https://stackoverflow.com/questions/38206726/er-validation-failure-while-creating-a-record-with-has-many-association-ruby-o", "title": "Er: validation failure while creating a record with has_many association (ruby on rails)", "body": "<p>I have 2 tables one with has_many association and the other with belongs to. The models looks as follows:</p>\n\n<p>map.rb:</p>\n\n<pre><code>class Map &lt; ActiveRecord::Base\n  has_many :fields\nend\n</code></pre>\n\n<p>field.rb:</p>\n\n<pre><code>class Field &lt; ActiveRecord::Base\n  belongs_to :map \nend\n</code></pre>\n\n<p>In the migration of field.rb, I have a field map_id.\nBut, when I try to create a map record by selecting some fields,</p>\n\n<p>1 error prohibited this map from being saved.\nThere were problems with the following fields:</p>\n\n<ul>\n<li>Field is invalid</li>\n</ul>\n\n<p>Can someone please let me know where I am going wrong?</p>\n\n<p>Thank you.</p>\n\n<p><strong>Edit</strong>:\nAdding schema</p>\n\n<p>Schema will look something like this:</p>\n\n<pre><code>create_table \"fields\", force: :cascade do |t|\n  t.integer \"map_id\"\nend\n\ncreate_table \"maps\", force: :cascade do |t|\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "sidekiq", "sequel"], "comments": [{"owner": {"reputation": 1, "user_id": 6321663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef3a3e1d1caa909c7539cfd7bf1725e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/6321663/sanjay"}, "edited": false, "score": 0, "creation_date": 1470926721, "post_id": 38206420, "comment_id": 65157903, "body": "I resolved this by reinstalling pg gem.. (on windows 10)  reinstall PG gem.. (pg-0.18.4-x86-mingw32.gem) \tgem uninstall pg \tgem install pg  Also use following versions of  sequel (4.29.0)     sequel-rails (0.9.11)       actionpack (&gt;= 3.2.0)       activemodel       railties (&gt;= 3.2.0)       sequel (&gt;= 3.28, &lt; 5.0)     sequel_pg (1.6.10)       pg (&gt;= 0.8.0)       sequel (&gt;= 3.39.0)     sequel_pg (1.6.10-x86-mingw32)       pg (&gt;= 0.8.0)       sequel (&gt;= 3.39.0)"}], "answers": [{"tags": [], "owner": {"reputation": 11331, "user_id": 132053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f183bcc4176b308c9edabe79299e448f?s=128&d=identicon&r=PG", "display_name": "Jeremy Evans", "link": "https://stackoverflow.com/users/132053/jeremy-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1468265477, "creation_date": 1468265477, "answer_id": 38314756, "question_id": 38206420, "link": "https://stackoverflow.com/questions/38206420/pgconnectionbad-error-while-trying-to-run-sidekiq-server-on-a-rails-app-on-win/38314756#38314756", "title": "PG::ConnectionBad error while trying to run sidekiq server on a rails app on Windows", "body": "<p>I'm not sure if sidekiq is preloading the app and then forking, but if so, you want to make sure you disconnect the Sequel database connections before forking.</p>\n"}], "owner": {"reputation": 1, "user_id": 6321663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef3a3e1d1caa909c7539cfd7bf1725e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/6321663/sanjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479861308, "creation_date": 1467729941, "last_edit_date": 1479861308, "question_id": 38206420, "link": "https://stackoverflow.com/questions/38206420/pgconnectionbad-error-while-trying-to-run-sidekiq-server-on-a-rails-app-on-win", "title": "PG::ConnectionBad error while trying to run sidekiq server on a rails app on Windows", "body": "<p>I am using Windows for my development.</p>\n\n<p>Here is the error I get while starting up the sidekiq server for this Rails application using Postgres RDS on AWS:</p>\n\n<pre><code>PG::ConnectionBad: timeout expired\nC:/RailsInstaller/Ruby2.2.0/lib/ruby/gems/2.2.0/gems/sequel-4.36.0/lib/sequel/adapters/postgres.rb:243:in 'initialize'\nC:/RailsInstaller/Ruby2.2.0/lib/ruby/gems/2.2.0/gems/sequel-4.36.0/lib/sequel/adapters/postgres.rb:243:in 'new'\nC:/RailsInstaller/Ruby2.2.0/lib/ruby/gems/2.2.0/gems/sequel-4.36.0/lib/sequel/adapters/postgres.rb:243:in 'connect'\n</code></pre>\n\n<p>I checked the Postgres server logs on AWS and it says:</p>\n\n<pre><code>[12826]:LOG: could not accept SSL connection: Connection reset by peer\"\n</code></pre>\n\n<p>My gemfile is using Sequel and sequel_pg. I'm not sure if they are causing the error. </p>\n\n<p>Same Postgres database connections work fine on another Rails application without Sidekiq.</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1246, "user_id": 2262005, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5535295c69d23b872494f6b137badf4d?s=128&d=identicon&r=PG", "display_name": "AndolaSoft Inc", "link": "https://stackoverflow.com/users/2262005/andolasoft-inc"}, "edited": false, "score": 0, "creation_date": 1467727933, "post_id": 38205577, "comment_id": 63835312, "body": "Please check your migration files. Some of the migrations might be referring to location. So check in order of migration schema id. One of the migrations must be refering to the locations table before the <code>create locations</code> table migration"}, {"owner": {"reputation": 151, "user_id": 4471589, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/abb7d895b99a06277c9df9c9e45a6f83?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrij", "link": "https://stackoverflow.com/users/4471589/dmitrij"}, "reply_to_user": {"reputation": 1246, "user_id": 2262005, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5535295c69d23b872494f6b137badf4d?s=128&d=identicon&r=PG", "display_name": "AndolaSoft Inc", "link": "https://stackoverflow.com/users/2262005/andolasoft-inc"}, "edited": false, "score": 0, "creation_date": 1467728533, "post_id": 38205577, "comment_id": 63835791, "body": "i aded example of migration in question. what is not correct?"}, {"owner": {"reputation": 1246, "user_id": 2262005, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5535295c69d23b872494f6b137badf4d?s=128&d=identicon&r=PG", "display_name": "AndolaSoft Inc", "link": "https://stackoverflow.com/users/2262005/andolasoft-inc"}, "edited": false, "score": 0, "creation_date": 1467728670, "post_id": 38205577, "comment_id": 63835882, "body": "Just check other migrations which might be refering to locations. The current migration file is correct. You should check the previous schema id (timestamp) which are running before this migration file"}, {"owner": {"reputation": 151, "user_id": 4471589, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/abb7d895b99a06277c9df9c9e45a6f83?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrij", "link": "https://stackoverflow.com/users/4471589/dmitrij"}, "reply_to_user": {"reputation": 1246, "user_id": 2262005, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5535295c69d23b872494f6b137badf4d?s=128&d=identicon&r=PG", "display_name": "AndolaSoft Inc", "link": "https://stackoverflow.com/users/2262005/andolasoft-inc"}, "edited": false, "score": 0, "creation_date": 1467730701, "post_id": 38205577, "comment_id": 63837365, "body": "all migrations are correct, becose i runed on another pc."}, {"owner": {"reputation": 1254, "user_id": 4576274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5Wnd.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4576274/pramod"}, "edited": false, "score": 0, "creation_date": 1467731360, "post_id": 38205577, "comment_id": 63837859, "body": "can you post your <code>schema.rb</code> file here?"}], "answers": [{"comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1467738475, "post_id": 38207835, "comment_id": 63842011, "body": "You might want to use a underscored column name instead of CamelCased one to avoid breaking Rails conventions."}], "tags": [], "owner": {"reputation": 438, "user_id": 4903634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f8f4d9bda0ced27257e548c1cbdcc?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Ankudovich", "link": "https://stackoverflow.com/users/4903634/artem-ankudovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1467734232, "creation_date": 1467734232, "answer_id": 38207835, "question_id": 38205577, "link": "https://stackoverflow.com/questions/38205577/rake-dbmigrate-error-db-development-locations-doesnt-exist-show-full-fields/38207835#38207835", "title": "rake db:migrate error: db_development.locations&#39; doesn&#39;t exist: SHOW FULL FIELDS FROM `locations`", "body": "<p>Type is a protected term in mysql <a href=\"https://dev.mysql.com/doc/refman/5.5/en/keywords.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.5/en/keywords.html</a></p>\n\n<p>please change </p>\n\n<pre><code>t.string :type\n</code></pre>\n\n<p>to </p>\n\n<pre><code>t.string :locationType\n</code></pre>\n\n<p>and try migrating</p>\n"}, {"tags": [], "owner": {"reputation": 528, "user_id": 6571468, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/ldBvQ.png?s=128&g=1", "display_name": "bilge", "link": "https://stackoverflow.com/users/6571468/bilge"}, "is_accepted": false, "score": 1, "last_activity_date": 1496404595, "creation_date": 1496404595, "answer_id": 44328362, "question_id": 38205577, "link": "https://stackoverflow.com/questions/38205577/rake-dbmigrate-error-db-development-locations-doesnt-exist-show-full-fields/44328362#44328362", "title": "rake db:migrate error: db_development.locations&#39; doesn&#39;t exist: SHOW FULL FIELDS FROM `locations`", "body": "<p>The order of migration files leads this error. For example lets assume we've two migration files like that:</p>\n\n<pre><code>class CreateDoctors &lt; ActiveRecord::Migration[5.1]\n  def change\n    create_table :doctors do |t|\n      t.string :name\n      t.string :degree\n      t.references :hospital, foreign_key: true\n    end\n  end\nend\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>class CreateHospitals &lt; ActiveRecord::Migration[5.1]\n  def change\n    create_table :hospitals do |t|\n      t.string :name\n      t.string :city\n    end\n  end\nend\n</code></pre>\n\n<p>So, we have also model files:</p>\n\n<p><code>doctor.rb</code>:</p>\n\n<pre><code>class Doctor &lt; ApplicationRecord\n  belongs_to :hospital\nend\n</code></pre>\n\n<p><code>hospital.rb</code>:</p>\n\n<pre><code>class Hospital &lt; ApplicationRecord\n  has_many :doctors\nend\n</code></pre>\n\n<p>Now, if you create these models with this order, once <code>doctor</code> and after <code>hospital</code>, when you do migration you will have an error as you asked.\nFor the solution, you have to create models first <code>hospital</code>, then <code>doctor</code>; because <code>doctor</code> has a referenced column to <code>hospital</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/users/2262005/andolasoft\">andolasoft</a> was right, who makes comment under the question.</p>\n"}], "owner": {"reputation": 151, "user_id": 4471589, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/abb7d895b99a06277c9df9c9e45a6f83?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrij", "link": "https://stackoverflow.com/users/4471589/dmitrij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 953, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1496404595, "creation_date": 1467727631, "last_edit_date": 1467729336, "question_id": 38205577, "link": "https://stackoverflow.com/questions/38205577/rake-dbmigrate-error-db-development-locations-doesnt-exist-show-full-fields", "title": "rake db:migrate error: db_development.locations&#39; doesn&#39;t exist: SHOW FULL FIELDS FROM `locations`", "body": "<p>database.yml</p>\n\n<pre><code>development:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: db_development\n  username: root\n  password: \"123\" \n  socket: /var/run/mysqld/mysqld.sock\n\n# Warning: The database defined as \"test\" will be erased and\n# re-generated from your development database when you run \"rake\".\n# Do not set this db to the same as development or production.\ntest:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: db_test\n  pool: 5\n  username: root\n  password: \"123\" \n  socket: /var/run/mysqld/mysqld.sock\n\nproduction:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: db_production\n  pool: 5\n  username: root\n  password: \"123\"\n  socket: /var/run/mysqld/mysqld.sock\n</code></pre>\n\n<p>I installed gem mysql2</p>\n\n<p>I created database in mysql console. </p>\n\n<p>After run rake db:migrate and display error: <strong>db_development.locations' doesn't exist: SHOW FULL FIELDS FROM <code>locations</code></strong></p>\n\n<p>one migration from migrations:</p>\n\n<pre><code>class CreateLocations &lt; ActiveRecord::Migration\n  def self.up\n    create_table :locations do |t|\n      t.string :name\n      t.string :type\n      t.integer :parent_id\n      t.integer :position\n\n      t.timestamps\n    end\n  end\n\n  def self.down\n    drop_table :locations\n  end\nend\n</code></pre>\n\n<p>What wrong and how solve this problem? </p>\n"}, {"tags": ["javascript", "html", "ruby-on-rails", "ruby", "coffeescript"], "answers": [{"tags": [], "owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1467727406, "creation_date": 1467727406, "answer_id": 38205500, "question_id": 38205440, "link": "https://stackoverflow.com/questions/38205440/rails-view-javascript-not-loading/38205500#38205500", "title": "Rails view javascript not loading", "body": "<p>What happens when you do:</p>\n\n<pre><code>&lt;%= javascript_include_tag 'application', 'main', 'data-turbolinks-track' =&gt; true  %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 6435617, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a0225018e8b0abafec82a7a60973b6e0?s=128&d=identicon&r=PG&f=1", "display_name": "Djangert", "link": "https://stackoverflow.com/users/6435617/djangert"}, "edited": false, "score": 0, "creation_date": 1467727939, "post_id": 38205511, "comment_id": 63835322, "body": "in the two views, so in new html and the ques one, or within the application layout too? It doesn&#39;t seem to work, I can try adding in a precompile into the assets rb?"}, {"owner": {"reputation": 109, "user_id": 6435617, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a0225018e8b0abafec82a7a60973b6e0?s=128&d=identicon&r=PG&f=1", "display_name": "Djangert", "link": "https://stackoverflow.com/users/6435617/djangert"}, "edited": false, "score": 1, "creation_date": 1467728051, "post_id": 38205511, "comment_id": 63835403, "body": "adding in a precompile along with your change sorted the problem, cheers."}], "tags": [], "owner": {"reputation": 1246, "user_id": 2262005, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5535295c69d23b872494f6b137badf4d?s=128&d=identicon&r=PG", "display_name": "AndolaSoft Inc", "link": "https://stackoverflow.com/users/2262005/andolasoft-inc"}, "is_accepted": true, "score": 1, "last_activity_date": 1467727426, "creation_date": 1467727426, "answer_id": 38205511, "question_id": 38205440, "link": "https://stackoverflow.com/questions/38205440/rails-view-javascript-not-loading/38205511#38205511", "title": "Rails view javascript not loading", "body": "<p>Your problem is in the following line</p>\n\n<pre><code> &lt;script src='main.js' type='text/javascript'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>It will search from the public path instead of asset path. So change it to</p>\n\n<pre><code>&lt;%= javascript_include_tag 'main'  %&gt;\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 6435617, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a0225018e8b0abafec82a7a60973b6e0?s=128&d=identicon&r=PG&f=1", "display_name": "Djangert", "link": "https://stackoverflow.com/users/6435617/djangert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 38205511, "answer_count": 2, "score": 1, "last_activity_date": 1467727426, "creation_date": 1467727234, "question_id": 38205440, "link": "https://stackoverflow.com/questions/38205440/rails-view-javascript-not-loading", "title": "Rails view javascript not loading", "body": "<p>I'm currently trying to code a quiz for my rails app on c9 using js but the js doesn't seem to being loaded into the view file. Can anybody tell me what is wrong or suggest a fix?</p>\n\n<p>The home page with the quiz start on it:</p>\n\n<pre><code>&lt;div class = \"signinstyle\"&gt;\n  &lt;div class = \"row\"&gt;\n\n\n    &lt;div id=\"wrapAll\"&gt;\n        &lt;div id=\"wrapper\"&gt;\n\n                &lt;img id=\"logo\" src=\"img/geek.png\" alt=\"\"&gt;&lt;br&gt;\n                 &lt;h1&gt;Help us recommend a &lt;span&gt;Course&lt;/span&gt;&lt;/h1&gt;\n\n                 &lt;/div&gt;\n                 &lt;/div&gt;\n                 &lt;/div&gt;\n                 &lt;div class =\"row\"&gt;\n                    &lt;div id=\"wrapper\"&gt;\n                &lt;input class=\"start-btn\" type=\"submit\" value=\"Start!\" onclick=\"redirect('ques.html')\"&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n\n&lt;/div&gt;\n\n\n    &lt;script src='main.js' type='text/javascript'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The view which is supposed to pull the questions from the js:</p>\n\n<pre><code>    &lt;!--Functionality of recommender?? --&gt; \n    &lt;% provide(:title, '') %&gt;\n\n\n    &lt;!--containers for design/layout --&gt; \n    &lt;div class = \"signinstyle\"&gt;\n      &lt;div class = \"row\"&gt;\n        &lt;!--Page information --&gt; \n\n\n        &lt;div id=\"wrapAll\"&gt;\n            &lt;div id=\"wrapper\"&gt;\n\n                    &lt;div class=\"ques-wrap\"&gt;\n                        &lt;h2 id=\"ques\"&gt;This is question&lt;/h2&gt;\n                        &lt;input class=\"btn1\" type=\"submit\" id=\"opt1\" value=\"Option 1\" onclick=\"optionClick('1')\"&gt;\n                        &lt;input class=\"btn2\" type=\"submit\" id=\"opt2\" value=\"Option 2\" onclick=\"optionClick('0')\"&gt;\n                        &lt;div class=\"clear\"&gt;&lt;/div&gt;\n\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;script src='main.js' type='text/javascript'&gt;&lt;/script&gt;\n        &lt;script type='text/javascript'&gt;\n            window.onload = function(){\n              generate();\n            };\n        &lt;/script&gt;\n</code></pre>\n\n<p>The application layout view:\n    </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n  &lt;title&gt;&lt;%= yield(:title) %&gt; | Uni2choose&lt;/title&gt;\n\n  &lt;%= javascript_include_tag \"https://www.google.com/jsapi\", \"chartkick\" %&gt;\n  &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' =&gt; true %&gt;\n  &lt;%= javascript_include_tag 'application', 'data-turbolinks-track' =&gt; true  %&gt;\n  &lt;%= csrf_meta_tags %&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n  &lt;%= render 'layouts/navbar' %&gt;\n  &lt;%= render 'layouts/header' %&gt;\n\n&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n\n      &lt;% flash.each do |message_type, message| %&gt;\n        &lt;div class=\"alert alert-&lt;%= message_type %&gt;\"&gt;&lt;%= message %&gt;&lt;/div&gt;\n      &lt;% end %&gt;\n\n\n      &lt;%= yield %&gt;\n\n\n\n\n&lt;%= render 'layouts/footer' %&gt;\n&lt;/body&gt;\n\n\n\n\n\n&lt;/html&gt;\n</code></pre>\n\n<p>The main.js file:</p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require bootstrap\n//= require chartkick\n//= require turbolinks\n//= require_tree .\n\n\n\nvar data = {\n    questions: [{\n            question: \"Which interests you most?\",\n            options: [ \"Medicine\" , \"Drama\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Biology\" , \"Music\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Chemistry\" , \"Sculpting\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Psychology\" , \"Design\" ]\n        }, {\n            question: \"Which interests you most\",\n            options: [ \"Animals\" , \"Art\" ]\n        }, {\n            question: \"Which interests you most\",\n            options: [ \"Maths\" , \"Outdoors\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Engineering\" , \"English\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Computing\" , \"Ancient history\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Physics \", \"Dance\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Geography\" , \"Fashion\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"History\" , \"Dentistry\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Debating\" , \"Photography\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Creative Writing\" , \"Accounting\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Archaeology \" , \"Hospitality\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Construction \" , \"Teaching\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Graphics\" , \"Philosophy\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Business\" , \"Drawing\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Nutrition\" , \"Politics\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Sports\" , \"IT\" ]\n        }, {\n            question: \"Which interests you most?\",\n            options: [ \"Economics\" , \"Languages\" ]\n        },],\n    geeks: [\n        {\n            name: \"Linus Torvalds\",\n            info: \"Linus Benedict Torvalds is a Finnish American software engineer, who was the principal force behind the development of the Linux kernel that became the most popular kernel for operating systems.\"\n        }, {\n            name: \"Dennis Ritchie\",\n            info: \"Dennis MacAlistair Ritchie was an American computer scientist. He created the C programming language and, with long-time colleague Ken Thompson, the Unix operating system.\"\n        }, {\n            name: \"Bill Gates\",\n            info: \"William Henry 'Bill' Gates III is an American business magnate, philanthropist, investor, computer programmer, and inventor.\"\n        }, {\n            name: \"Steve Jobs\",\n            info: \"Steven Paul 'Steve' Jobs was an American entrepreneur, marketer, and inventor, who was the cofounder, chairman, and CEO of Apple Inc.\"\n        }, {\n            name: \"Steve Wozniak\",\n            info: \"Stephen Gary 'Steve' Wozniak, known as 'Woz', is an American inventor, electronics engineer, and computer programmer who co-founded Apple Computer with Steve Jobs and Ronald Wayne.\"\n        }, {\n            name: \"Mark Zuckerberg\",\n            info: \"Mark Elliot Zuckerberg is an American computer programmer and Internet entrepreneur. He is best known as one of five co-founders of the social networking website Facebook. Zuckerberg is the chairman and chief executive of Facebook, Inc.\"\n        }, {\n            name: \"Tim Berners-Lee\",\n            info: \"Sir Timothy John 'Tim' Berners-Lee, also known as TimBL, is an English computer scientist, best known as the inventor of the World Wide Web.\"\n        }]\n};\n\nvar qIndex = 0,\n    index = 0,\n    aString = \"\",\n    maxQ = 20,\n    q = document.getElementById('ques'),\n    opt1 = document.getElementById('opt1'),\n    opt2 = document.getElementById('opt2');\n\nfunction generate(){\n    q.innerHTML= data.questions[qIndex].question;\n    opt1.value= data.questions[qIndex].options[0];\n    opt2.value= data.questions[qIndex].options[1];\n}\n\nfunction optionClick(ans) {\n    if(qIndex%2==0){\n        aString+=ans;\n        index++;\n    }\n    qIndex++;\n    if(qIndex == maxQ){\n        redirect( \"result.html?\" + generateResult(aString) );\n    } else{\n        generate();\n    }\n}\n\nfunction generateResult(answers) {\n    if( answers==\"11110\" || answers==\"11000\" || answers==\"01000\" ) return 0;\n    else if( answers==\"11111\" || answers==\"01010\" ) return 1;\n    else if( answers==\"10011\" || answers==\"00111\" || answers==\"00101\" ) return 2;\n    else if( answers==\"10100\" || answers==\"00110\" || answers==\"00000\" ) return 3;\n    else if( answers==\"10101\" ) return 4;\n    else if( answers==\"11101\" || answers==\"10010\" || answers==\"01111\" ) return 5;\n    else return 6;\n}\n\nfunction showResult() {\n    var id = window.location.search.substring(1);\n    var Geeks = data.geeks;\n    var totalGeeks = Object.keys(Geeks).length - 1;\n    if( id &gt; totalGeeks || id &lt; 0 || !id ) redirect(\"index.html\");\n    var name = document.getElementById(\"geekName\");\n    var info = document.getElementById(\"geekInfo\");\n    var img = document.getElementById(\"geekImage\");\n    name.innerHTML = Geeks[id].name;\n    img.src = \"img/\"+id+\".png\";\n    img.alt =Geeks[id].name;\n    info.innerHTML = Geeks[id].info;\n}\n\nfunction redirect(url) {\n    window.location = url;\n}\n</code></pre>\n"}]