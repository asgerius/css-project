[{"tags": ["ruby", "string", "integer", "byte"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1453938517, "post_id": 35050295, "comment_id": 57825067, "body": "You can&#39;t. There&#39;s no way to tell whether the first byte is <code>7</code> or <code>72</code>. If we guess <code>72</code> correctly there&#39;s no way to tell if the second byte is <code>1</code>, <code>10</code>, or <code>101</code>, and so on. However this string was generated, it wasn&#39;t generated with decoding in mind."}, {"owner": {"reputation": 695, "user_id": 3075906, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6678ec053acc2e593a5229b2f49e9850?s=128&d=identicon&r=PG&f=1", "display_name": "user3075906", "link": "https://stackoverflow.com/users/3075906/user3075906"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453939941, "post_id": 35050295, "comment_id": 57825532, "body": "Can we do it if we assume 2 digits make a byte? i.e. its 72,10,11 etc?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453940612, "post_id": 35050295, "comment_id": 57825725, "body": "That wouldn&#39;t give you &quot;Hello.&quot; The ASCII code for <code>H</code> is 72, but <code>e</code> is 101."}, {"owner": {"reputation": 695, "user_id": 3075906, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6678ec053acc2e593a5229b2f49e9850?s=128&d=identicon&r=PG&f=1", "display_name": "user3075906", "link": "https://stackoverflow.com/users/3075906/user3075906"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453940948, "post_id": 35050295, "comment_id": 57825827, "body": "I need to encode/decode a string to Base58. Found a gem which converts an integer to Base58. Trying to figure out if I can convert string to bytes and then encode and vice versa."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1453942362, "post_id": 35050295, "comment_id": 57826203, "body": "Concatenating the base 10 ASCII codes into a string of digits isn&#39;t the right way to &quot;convert a string to bytes.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 3075906, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6678ec053acc2e593a5229b2f49e9850?s=128&d=identicon&r=PG&f=1", "display_name": "user3075906", "link": "https://stackoverflow.com/users/3075906/user3075906"}, "edited": false, "score": 0, "creation_date": 1454024546, "post_id": 35051410, "comment_id": 57871579, "body": "Thanks for help. And how do I get &quot;Hello&quot; from &quot;9aJCVZR&quot;? Decode will give me integer."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1454040301, "last_edit_date": 1454040301, "creation_date": 1453945091, "answer_id": 35051410, "question_id": 35050295, "link": "https://stackoverflow.com/questions/35050295/convert-a-string-of-integers-to-byte-array-in-ruby/35051410#35051410", "title": "Convert a string of integers to byte array in Ruby", "body": "<p>Answering your question as clarified in comments (which has nothing to do with the title):</p>\n\n<blockquote>\n  <p>I need to encode/decode a string to Base58</p>\n</blockquote>\n\n<p>EDIT: now as a class (using base58 gem):</p>\n\n<pre><code>require 'base58'\n\nclass Base58ForStrings\n  def self.encode(str)\n    Base58.encode(str.bytes.inject { |a, b| a * 256 + b })\n  end\n\n  def self.decode(b58)\n    b = []\n    d = Base58.decode(b58)\n    while (d &gt; 0)\n      d, m = d.divmod(256)\n      b.unshift(m)\n    end\n    b.pack('C*').force_encoding('UTF-8')\n  end\nend\n\nBase58ForStrings.encode('Hello \u3053\u3093\u306b\u3061\u306f')\n# =&gt; \"5scGDXBpe3Vq7szFXzFcxHYovbD9c\" \nBase58ForStrings.decode('5scGDXBpe3Vq7szFXzFcxHYovbD9c')\n# =&gt; \"Hello \u3053\u3093\u306b\u3061\u306f\"\n</code></pre>\n\n<p>Works for any UTF-8 string.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 5729878, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019196828102556/picture?type=large", "display_name": "DumDumGenius", "link": "https://stackoverflow.com/users/5729878/dumdumgenius"}, "edited": false, "score": 0, "creation_date": 1453950467, "post_id": 35052108, "comment_id": 57828479, "body": "It&#39;s exclusive to the case only contains English character , remember it !"}], "tags": [], "owner": {"reputation": 113, "user_id": 5729878, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019196828102556/picture?type=large", "display_name": "DumDumGenius", "link": "https://stackoverflow.com/users/5729878/dumdumgenius"}, "is_accepted": false, "score": 0, "last_activity_date": 1453950786, "last_edit_date": 1453950786, "creation_date": 1453950165, "answer_id": 35052108, "question_id": 35050295, "link": "https://stackoverflow.com/questions/35050295/convert-a-string-of-integers-to-byte-array-in-ruby/35052108#35052108", "title": "Convert a string of integers to byte array in Ruby", "body": "<pre><code>s = '72101108108111'\npattern=/^[a-zA-Z]/\nindex,res=0,''\nwhile index&lt;s.size\n  len=0\n  while (s[index..index+len].to_i.chr=~pattern).nil?\n    len+=1\n  end\n  res &lt;&lt; s[index..index+len].to_i.chr\n  index+=len+1\nend\n\np res\n</code></pre>\n\n<p>Try this , because the length of every string to be decoded is not certain. </p>\n\n<p>For example, <code>\"72-&gt;'H' , 101-&gt;'e' , 23-&gt;'\\x17'\"</code></p>\n\n<p>So every time we find the character decoded is not <code>\"a~z\" or \"A~Z\" (ex:\\x17)</code>,</p>\n\n<p>we just add the length and parse until we find character we want</p>\n\n<p>For this case , the answer will be correctly <code>\"Hello\"</code></p>\n\n<p>It may malfunction on some case , but it works well now for my test</p>\n\n<p>Just take it a look</p>\n\n<blockquote>\n  <p>It only works without Exception on the case containing only \"A-Z and a-z\"</p>\n</blockquote>\n"}], "owner": {"reputation": 695, "user_id": 3075906, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6678ec053acc2e593a5229b2f49e9850?s=128&d=identicon&r=PG&f=1", "display_name": "user3075906", "link": "https://stackoverflow.com/users/3075906/user3075906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1763, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1454040301, "creation_date": 1453937933, "question_id": 35050295, "link": "https://stackoverflow.com/questions/35050295/convert-a-string-of-integers-to-byte-array-in-ruby", "title": "Convert a string of integers to byte array in Ruby", "body": "<p>I have a string of integer \"72101108108111\" but it is a string representing bytes of original string \"Hello\".</p>\n\n<p>How can I convert \"72101108108111\" to Ascii string \"Hello\" in Ruby? </p>\n"}, {"tags": ["ruby", "hash", "rspec"], "comments": [{"owner": {"reputation": 45754, "user_id": 17410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1022b779bdc1ddef7cd9d29abd70ed15?s=128&d=identicon&r=PG", "display_name": "zetetic", "link": "https://stackoverflow.com/users/17410/zetetic"}, "edited": false, "score": 0, "creation_date": 1453936542, "post_id": 35049663, "comment_id": 57824303, "body": "Please format the question for readability. Code samples should be indented four spaces, with internal indentation using two spaces."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3907934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468b2f09c9d94c8b399930abee826045?s=128&d=identicon&r=PG&f=1", "display_name": "user3907934", "link": "https://stackoverflow.com/users/3907934/user3907934"}, "edited": false, "score": 0, "creation_date": 1453937594, "post_id": 35050174, "comment_id": 57824722, "body": "This is what I&#39;ve just done. And it works. Thank you!"}, {"owner": {"reputation": 1316, "user_id": 4169411, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/724127205/picture?type=large", "display_name": "Kaz", "link": "https://stackoverflow.com/users/4169411/kaz"}, "edited": false, "score": 0, "creation_date": 1453938661, "post_id": 35050174, "comment_id": 57825115, "body": "Both of you, please note that <a href=\"https://codereview.stackexchange.com\">Code Review</a> only takes code that is <b>already working as the author intended</b>."}, {"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "reply_to_user": {"reputation": 1316, "user_id": 4169411, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/724127205/picture?type=large", "display_name": "Kaz", "link": "https://stackoverflow.com/users/4169411/kaz"}, "edited": false, "score": 0, "creation_date": 1453939183, "post_id": 35050174, "comment_id": 57825281, "body": "@Zak - this is why i answered the question first. :)"}, {"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "reply_to_user": {"reputation": 31, "user_id": 3907934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468b2f09c9d94c8b399930abee826045?s=128&d=identicon&r=PG&f=1", "display_name": "user3907934", "link": "https://stackoverflow.com/users/3907934/user3907934"}, "edited": false, "score": 0, "creation_date": 1453939252, "post_id": 35050174, "comment_id": 57825303, "body": "@user3907934 - <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>. Like StackOverflow, but with more concern on code quality/readability/improvement than bug fixing."}], "tags": [], "owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "is_accepted": false, "score": 1, "last_activity_date": 1453937363, "creation_date": 1453937363, "answer_id": 35050174, "question_id": 35049663, "link": "https://stackoverflow.com/questions/35049663/ruby-task-dictionary-class-failure-dictionary-finds-nothing-if-the-prefix-matc/35050174#35050174", "title": "Ruby task. Dictionary class failure. Dictionary finds nothing if the prefix matches nothing", "body": "<p>In ruby every method returns the return value of the last executed command of given method. In case of your <code>find</code> method for string, the last method executed is <code>@hash.each_pair</code>, which always returns its target. You need to modify your method and return your <code>result</code> object at the end.</p>\n\n<pre><code>def find(str)\n    result = {}\n    if str.class == Hash\n        str.each_pair { |k, v|\n            if @hash.key?(k)==true\n                result[k]=v\n            else\n                result\n            end\n        }\n    elsif str.class == String \n        if @hash.key?(str)==true\n            @hash.each_pair { |k, v|\n                if k==str\n                    result[k]=v\n                else\n                    result\n                end\n            }\n        else @hash.include?(str)==true\n            @hash.each_pair {|k, v|\n                if v==str\n                    result[k]=v\n                else\n                    result\n                end\n            }\n        end\n    end\n    result    \nend\n</code></pre>\n\n<p>That is the minimum to make it work. Now per your code - there is so much to improve it falls far from the scope of this website. Please post this to CodeReview community.</p>\n"}], "owner": {"reputation": 31, "user_id": 3907934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468b2f09c9d94c8b399930abee826045?s=128&d=identicon&r=PG&f=1", "display_name": "user3907934", "link": "https://stackoverflow.com/users/3907934/user3907934"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453937363, "creation_date": 1453935062, "last_edit_date": 1453937070, "question_id": 35049663, "link": "https://stackoverflow.com/questions/35049663/ruby-task-dictionary-class-failure-dictionary-finds-nothing-if-the-prefix-matc", "title": "Ruby task. Dictionary class failure. Dictionary finds nothing if the prefix matches nothing", "body": "<p>I got stuck on the find method while doing Ruby exercises. My code does not pass one of the rspec requirements, and I do not really understand why. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>class Dictionary\n\nattr_accessor :entries\n\ndef initialize\n    @hash={}\nend\n\n\ndef add(a)\n    if a.class == Hash\n        a.each_pair { |k, v|\n            @hash[k]=v\n        }\n    else\n       @hash[a]=nil \n    end\nend\n\n\ndef entries\n    @hash\nend\n\n\ndef keywords\n    @hash.keys\nend\n\n\ndef include?(k)\n    @hash.key?(k)\nend\n\n\ndef find(str)\n    result = {}\n    if str.class == Hash\n        str.each_pair { |k, v|\n            if @hash.key?(k)==true\n                result[k]=v\n            else\n                result\n            end\n        }\n    elsif str.class == String \n        if @hash.key?(str)==true\n            @hash.each_pair { |k, v|\n                if k==str\n                    result[k]=v\n                else\n                    result\n                end\n            }\n        else @hash.include?(str)==true\n            @hash.each_pair {|k, v|\n                if v==str\n                    result[k]=v\n                else\n                    result\n                end\n            }\n        end\n    end     \n  end\n\n\nend \n</code></pre>\n\n<p>Here is the spec that fails:</p>\n\n<pre><code>it \"finds nothing if the prefix matches nothing\" do\n  @d.add(\"fiend\")\n  @d.add(\"great\")\n  expect(@d.find(\"nothing\")).to be_empty\nend\n</code></pre>\n\n<p>The terminal:\n    finds nothing if the prefix matches nothing (FAILED - 1)</p>\n\n<pre><code>Failures:\n\n1) Dictionary finds nothing if the prefix matches nothing\n Failure/Error: expect(@d.find(\"nothing\")).to be_empty\n   expected `{\"fiend\"=&gt;nil, \"great\"=&gt;nil}.empty?` to return true, got         false\n # ./spec/11_dictionary_spec.rb:54:in `block (2 levels) in &lt;top   (required)&gt;'\n</code></pre>\n\n<p>My find function returns an empty hash if I run it without rspec. Why does  rspec return true when checking whether the returned hash is empty? Is the spec requirement wrong? </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "encoding"], "answers": [{"tags": [], "owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "is_accepted": true, "score": 1, "last_activity_date": 1453968609, "creation_date": 1453968609, "answer_id": 35055947, "question_id": 35049331, "link": "https://stackoverflow.com/questions/35049331/handling-utf-8-character-with-latin1-db-encoding/35055947#35055947", "title": "Handling UTF-8 Character with Latin1 db encoding", "body": "<p>I don't understand what you mean by \"revert, if done in the shell\", but: You seem to have an application where some parts (at least the database) using encoding LATIN1, and one part (your Rails App) is using UTF-8. IMO, it is best if you have every in Unicode, but to what extend a conversion makes sense, can not be said in general. For example, if your database is also being processed by other tools, and those expect Latin1, a conversion is not sensible.</p>\n\n<p>In any case, you need to define a clear borderline between where you use which encoding, and handle conversion at this border. This applies not only to the database, but also - for example - to the HTML pages you are generating (hopefully UTF-8), to files uploaded by the users and processes by your application, and so on.</p>\n\n<p>If you convert to an encoding, where certain characters can not be represented - as this is in your case -, you have only three choices:</p>\n\n<ul>\n<li><p>Reject the data (they must have been generated somewhere, perhaps as user input in a web form),</p></li>\n<li><p>Simply remove the offending characters</p></li>\n<li><p>Replace the offending characters by a placeholder (for instance, a question mark)</p></li>\n</ul>\n\n<p>None of these options is very pleasant, but if converting your database to UTF-8 is no option, you should deal with this problem at the point where the problem string is generated, and not when it is written into the database.</p>\n"}], "owner": {"reputation": 4249, "user_id": 531479, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/52be1662035d921d395ca5b1d6b9c64c?s=128&d=identicon&r=PG", "display_name": "CWitty", "link": "https://stackoverflow.com/users/531479/cwitty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 35055947, "answer_count": 1, "score": 0, "last_activity_date": 1453968609, "creation_date": 1453933677, "question_id": 35049331, "link": "https://stackoverflow.com/questions/35049331/handling-utf-8-character-with-latin1-db-encoding", "title": "Handling UTF-8 Character with Latin1 db encoding", "body": "<p>I keep getting an exception that <code>ActiveRecord::StatementInvalid: PG::UntranslatableCharacter: ERROR: character with byte sequence 0xe2 0x80 0x99 in encoding \"UTF8\" has no equivalent in encoding \"LATIN1\"</code>. I did some checking and it looks like it is the backtick or apostrophe. What is the best way to handle this? Just strip out the character or convert the whole db to UTF-8? If it is converting to UTF-8 how can I do that permanently as it always seems to revert if you do it in the shell?</p>\n"}, {"tags": ["ruby", "regex"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1453932629, "post_id": 35048830, "comment_id": 57822375, "body": "What&#39;s the context? If I were scanning for strings that did not end in <code>.exe</code> I would probably just use the <a href=\"http://stackoverflow.com/questions/13759091/does-ruby-regular-expression-have-a-not-match-operator-like-in-perl\">&quot;does not match&quot; operator</a>: <code>s !~ &#47;\\.exe$&#47;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 2, "last_activity_date": 1453932851, "creation_date": 1453932851, "answer_id": 35049119, "question_id": 35048830, "link": "https://stackoverflow.com/questions/35048830/regex-match-anything-except-ending-string/35049119#35049119", "title": "Regex match anything except ending string", "body": "<p>Wouldn't a simple replacement work?</p>\n\n<pre><code>string.sub(/\\.exe\\z/, \"\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453933482, "post_id": 35049251, "comment_id": 57822831, "body": "Please use proper Ruby indenting. It helps others understand your code."}], "tags": [], "owner": {"reputation": 992, "user_id": 3089519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1dc4dfcc798a49c1de0b2dcca4dee3c?s=128&d=identicon&r=PG", "display_name": "swalladge", "link": "https://stackoverflow.com/users/3089519/swalladge"}, "is_accepted": false, "score": 0, "last_activity_date": 1453935285, "last_edit_date": 1453935285, "creation_date": 1453933354, "answer_id": 35049251, "question_id": 35048830, "link": "https://stackoverflow.com/questions/35048830/regex-match-anything-except-ending-string/35049251#35049251", "title": "Regex match anything except ending string", "body": "<p>Do you mean regex <em>matching</em> or <em>capturing</em>? </p>\n\n<p>There may be a regex only answer, but it currently eludes me. Based on your test data and what you want to match, doing something like the following would cover both what you want to match and capture:</p>\n\n<pre><code>name = 'foo.bar.exe'\nmatch = /(.*).exe$/.match(name)\nif match == nil\n  # then this filename matches your conditions \n  print name\nelse\n  # otherwise match[1] is the capture - filename without .exe extension\n  print match[1]\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 257, "user_id": 5837500, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/30c2146e6db785c1521ec8ef356e9f5a?s=128&d=identicon&r=PG&f=1", "display_name": "Alexe Barlescu", "link": "https://stackoverflow.com/users/5837500/alexe-barlescu"}, "edited": false, "score": 0, "creation_date": 1453967428, "post_id": 35049643, "comment_id": 57834722, "body": "I can&#39;t believe some one down vote this answer, it works."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1454003372, "post_id": 35049643, "comment_id": 57859884, "body": "Looking at your suggested pattern, it won&#39;t work at all. Embedded spaces are significant, and if you look at <a href=\"http://rubular.com/r/wys2Kl2yVL\" rel=\"nofollow noreferrer\">rubular.com/r/wys2Kl2yVL</a> you&#39;ll see how it fails. Even if the <code>x</code> flag is used, as in <a href=\"http://rubular.com/r/4AEtcOKdAX\" rel=\"nofollow noreferrer\">rubular.com/r/4AEtcOKdAX</a> it continues to fail."}, {"owner": {"reputation": 257, "user_id": 5837500, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/30c2146e6db785c1521ec8ef356e9f5a?s=128&d=identicon&r=PG&f=1", "display_name": "Alexe Barlescu", "link": "https://stackoverflow.com/users/5837500/alexe-barlescu"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1454013399, "post_id": 35049643, "comment_id": 57865968, "body": "Common man i used Rgex options (?x) in front of it it makes the pattern more readable. My bad........ But you should know about options that allows white spaces in matching pattern string before you down vote my answer."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1454019851, "post_id": 35049643, "comment_id": 57869560, "body": "I do know about <code>x</code>. It&#39;s not new nor is it restricted to Ruby. Your answer didn&#39;t mention using <code>x</code>, which it should if you&#39;re going to use embedded spaces that are insignificant as those would confuse and mislead anyone reading your answer who did not know about them. You added that after my comment. That is why I added the comment, so that you could improve it and avoid further down votes. And even with the flag, your pattern doesn&#39;t work as the OP required as it&#39;s not correctly handling the first two tests. Also, when referencing user&#39;s names be respectful and use the right name."}], "tags": [], "owner": {"reputation": 257, "user_id": 5837500, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/30c2146e6db785c1521ec8ef356e9f5a?s=128&d=identicon&r=PG&f=1", "display_name": "Alexe Barlescu", "link": "https://stackoverflow.com/users/5837500/alexe-barlescu"}, "is_accepted": false, "score": -1, "last_activity_date": 1454013673, "last_edit_date": 1454013673, "creation_date": 1453934985, "answer_id": 35049643, "question_id": 35048830, "link": "https://stackoverflow.com/questions/35048830/regex-match-anything-except-ending-string/35049643#35049643", "title": "Regex match anything except ending string", "body": "<pre><code>string pattern = @\" (?x)  (.* (?= \\.exe$ )) | ((?=.*\\.exe).*)\";\n</code></pre>\n\n<ul>\n<li>First match is a positive look-ahead that checks if your string\nends with <code>.exe</code>. The condition is not included in the match. </li>\n<li>Second match is a positive look-ahead with the condition included in the\nmatch. It only checks if you have something followed by <code>.exe</code>.</li>\n</ul>\n\n<p><strong>(?x) is means that white spaces inside the pattern string are ignored.</strong>\nOr don't use (?x) and just delete all white spaces.</p>\n\n<p>It works for all the 6 scenarios provided.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4149290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8dee1a755dd603d18bedeec88e816ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fabio Costa", "link": "https://stackoverflow.com/users/4149290/fabio-costa"}, "edited": false, "score": 0, "creation_date": 1453945803, "post_id": 35050097, "comment_id": 57827167, "body": "that was exactly what i was looking for. Thanks :)"}, {"owner": {"reputation": 300, "user_id": 2946687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fad24a9dd9379a16f22d074becd23d?s=128&d=identicon&r=PG", "display_name": "take", "link": "https://stackoverflow.com/users/2946687/take"}, "edited": false, "score": 0, "creation_date": 1550778887, "post_id": 35050097, "comment_id": 96406785, "body": "You are a wizard. Thank you."}], "tags": [], "owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "is_accepted": true, "score": 3, "last_activity_date": 1453937060, "creation_date": 1453937060, "answer_id": 35050097, "question_id": 35048830, "link": "https://stackoverflow.com/questions/35048830/regex-match-anything-except-ending-string/35050097#35050097", "title": "Regex match anything except ending string", "body": "<p>You can use a positive <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">lookahead</a>.</p>\n\n<pre><code>^.+?(?=\\.exe$|$)\n</code></pre>\n\n<ul>\n<li><code>^</code> start of string</li>\n<li><code>.+?</code> non <a href=\"http://www.regular-expressions.info/repeat.html#greedy\" rel=\"nofollow\">greedily</a> match one or more characters...</li>\n<li><code>(?=\\.exe$|$)</code> until literal <code>.exe</code> occurs at end. If not, match end.</li>\n</ul>\n\n<p><a href=\"http://rubular.com/r/tebSTcaRu3\" rel=\"nofollow\">See demo at Rubular.com</a></p>\n"}], "owner": {"reputation": 53, "user_id": 4149290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8dee1a755dd603d18bedeec88e816ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fabio Costa", "link": "https://stackoverflow.com/users/4149290/fabio-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1777, "favorite_count": 1, "accepted_answer_id": 35050097, "answer_count": 4, "score": 4, "last_activity_date": 1454013673, "creation_date": 1453931752, "last_edit_date": 1453933380, "question_id": 35048830, "link": "https://stackoverflow.com/questions/35048830/regex-match-anything-except-ending-string", "title": "Regex match anything except ending string", "body": "<p>I'm trying to make a regex that matches anything except an exact ending string, in this case, the extension '.exe'.</p>\n\n<p>Examples for a file named:</p>\n\n<ol>\n<li>'foo' (no extension) I want to get 'foo'</li>\n<li>'foo.bar' I want to get 'foo.bar'</li>\n<li>'foo.exe.bar' I want to get 'foo.exe.bar'</li>\n<li>'foo.exe1' I want to get 'foo.exe1'</li>\n<li>'foo.bar.exe' I want to get 'foo.bar'</li>\n<li>'foo.exe' I want to get 'foo'</li>\n</ol>\n\n<p>So far I created the regex <code>/.*\\.(?!exe$)[^.]*/</code>\nbut it doesn't work for cases 1 and 6.</p>\n"}, {"tags": ["ruby", "rubygems"], "answers": [{"comments": [{"owner": {"reputation": 9012, "user_id": 122201, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BTtUU.jpg?s=128&g=1", "display_name": "rainkinz", "link": "https://stackoverflow.com/users/122201/rainkinz"}, "edited": false, "score": 1, "creation_date": 1454106968, "post_id": 35051387, "comment_id": 57912346, "body": "This works. Though, one annoying thing is that you have to repeat all the listing of all :sources: in the file pointed to by GEMRC the values in this file overwrite the current settings (though I can understand why they&#39;ve done it that way)."}, {"owner": {"reputation": 8771, "user_id": 2050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2d1e9a607c47a89730352dd7b9dacaab?s=128&d=identicon&r=PG", "display_name": "Eric Platon", "link": "https://stackoverflow.com/users/2050/eric-platon"}, "reply_to_user": {"reputation": 9012, "user_id": 122201, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BTtUU.jpg?s=128&g=1", "display_name": "rainkinz", "link": "https://stackoverflow.com/users/122201/rainkinz"}, "edited": false, "score": 0, "creation_date": 1454136760, "post_id": 35051387, "comment_id": 57919090, "body": "Yes, it works by file... All or nothing for each file. Perhaps there is little demand so far for finer granularity?"}, {"owner": {"reputation": 9012, "user_id": 122201, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BTtUU.jpg?s=128&g=1", "display_name": "rainkinz", "link": "https://stackoverflow.com/users/122201/rainkinz"}, "edited": false, "score": 1, "creation_date": 1454174191, "post_id": 35051387, "comment_id": 57930225, "body": "I literally took a look at coding something up, but given that this question doesn&#39;t seem to have come up before decided it was probably a very rare requirement."}], "tags": [], "owner": {"reputation": 8771, "user_id": 2050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2d1e9a607c47a89730352dd7b9dacaab?s=128&d=identicon&r=PG", "display_name": "Eric Platon", "link": "https://stackoverflow.com/users/2050/eric-platon"}, "is_accepted": true, "score": 3, "last_activity_date": 1453944910, "creation_date": 1453944910, "answer_id": 35051387, "question_id": 35048760, "link": "https://stackoverflow.com/questions/35048760/is-there-a-gemrc-local-or-equivalent/35051387#35051387", "title": "Is there a .gemrc.local or equivalent?", "body": "<p>I do not see an equivalent to <code>.local</code> as per v2.4.6 (a recent, but not last version).</p>\n\n<p>The source code of RubyGems states something relevant for what you want to achieve, though. For example, in <code>src/ruby-2.3.0/lib/rubygems/config_file.rb</code>:</p>\n\n<pre><code>##\n# Gem::ConfigFile RubyGems options and gem command options from gemrc.\n#\n# gemrc is a YAML file that uses strings to match gem command arguments and\n# symbols to match RubyGems options.\n#\n# Gem command arguments use a String key that matches the command name and\n# +:sources+:: Sets Gem::sources\n# +:verbose+:: See #verbose\n#\n# gemrc files may exist in various locations and are read and merged in\n# the following order:\n#\n# - system wide (/etc/gemrc)\n# - per user (~/.gemrc)\n# - per environment (gemrc files listed in the GEMRC environment variable)\n</code></pre>\n\n<p>So you could use the <code>GEMRC</code> environment variable to load extra, private files as well.</p>\n"}], "owner": {"reputation": 9012, "user_id": 122201, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BTtUU.jpg?s=128&g=1", "display_name": "rainkinz", "link": "https://stackoverflow.com/users/122201/rainkinz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "accepted_answer_id": 35051387, "answer_count": 1, "score": 1, "last_activity_date": 1453944910, "creation_date": 1453931465, "question_id": 35048760, "link": "https://stackoverflow.com/questions/35048760/is-there-a-gemrc-local-or-equivalent", "title": "Is there a .gemrc.local or equivalent?", "body": "<p>Like many people I created a dotfiles repo and am trying extract bits that are not private into their respective dotfiles. I generally have a <code>.whatever.local</code> file loaded if it's present which might contain information I don't want checked into a repository. Rubygems use <code>~/.gemrc</code> file, but I can't see a way to extract private information out of it into separate file. Does anyone know how this might be done?</p>\n\n<p>In particular I'd like to have the list of <code>sources</code> external to the .gemrc file.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "bash", "shell", "amazon-web-services"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 6, "creation_date": 1453933721, "post_id": 35048755, "comment_id": 57822967, "body": "Usually when something works in shell but breaks from inside code it&#39;s because of missing environment information or permissions caused by the code running as a different user than you run the code under."}, {"owner": {"reputation": 32896, "user_id": 1276506, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7149d2bc15314277ac69357ef7251650?s=128&d=identicon&r=PG", "display_name": "boulder_ruby", "link": "https://stackoverflow.com/users/1276506/boulder-ruby"}, "edited": false, "score": 0, "creation_date": 1453942968, "post_id": 35048755, "comment_id": 57826384, "body": "It looks like this error message would get thrown if you ran any shell command. Why don&#39;t you try running something simple like &quot;puts <code>ls</code>&quot; and see if you get the same error. That&#39;s a really complicated shell command to use as an example if <code>ls</code> doesn&#39;t work either."}, {"owner": {"reputation": 3728, "user_id": 2612713, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0a7f606f9e135589780620d1160d941e?s=128&d=identicon&r=PG&f=1", "display_name": "neo", "link": "https://stackoverflow.com/users/2612713/neo"}, "edited": false, "score": 0, "creation_date": 1453943346, "post_id": 35048755, "comment_id": 57826507, "body": "ls, git status all work..."}, {"owner": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "edited": false, "score": 0, "creation_date": 1453947475, "post_id": 35048755, "comment_id": 57827609, "body": "Hint: Where is your client token ID defined?"}, {"owner": {"reputation": 3728, "user_id": 2612713, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0a7f606f9e135589780620d1160d941e?s=128&d=identicon&r=PG&f=1", "display_name": "neo", "link": "https://stackoverflow.com/users/2612713/neo"}, "reply_to_user": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "edited": false, "score": 0, "creation_date": 1453949024, "post_id": 35048755, "comment_id": 57828040, "body": "@CodeGnome do you mean aws key and secret? They are defined here: <code>~&#47;.aws&#47;credentials</code>"}, {"owner": {"reputation": 3728, "user_id": 2612713, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0a7f606f9e135589780620d1160d941e?s=128&d=identicon&r=PG&f=1", "display_name": "neo", "link": "https://stackoverflow.com/users/2612713/neo"}, "edited": false, "score": 0, "creation_date": 1453949690, "post_id": 35048755, "comment_id": 57828225, "body": "Thanks for all the comments, I had old credentials set in <code>.rbenv-vars</code> that needed to be updated."}], "owner": {"reputation": 3728, "user_id": 2612713, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0a7f606f9e135589780620d1160d941e?s=128&d=identicon&r=PG&f=1", "display_name": "neo", "link": "https://stackoverflow.com/users/2612713/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1453933657, "creation_date": 1453931453, "last_edit_date": 1453933657, "question_id": 35048755, "link": "https://stackoverflow.com/questions/35048755/ruby-unable-to-execute-shell-command-from-rails-console", "title": "Ruby unable to execute shell command from rails console", "body": "<p>I  have the following command in one of my scripts:</p>\n\n<pre><code>`aws elb describe-instance-health --region eu-west-1 --load-balancer-name FooBar --instances i-05swhkqp'`\n</code></pre>\n\n<p>When this executes or I execute it from the Rails console, I get the following error and the script breaks: </p>\n\n<pre><code>A client error (InvalidClientTokenId) occurred when calling the DescribeInstanceHealth operation: The security token included in the request is invalid.\n=&gt; \"\"\n</code></pre>\n\n<p>But when I execute it from bash, I get the response I expect:</p>\n\n<pre><code>{\n    \"InstanceStates\": [\n        {\n            \"InstanceId\": \"i-05swhkqp\",\n            \"ReasonCode\": \"N/A\",\n            \"State\": \"InService\",\n            \"Description\": \"N/A\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Is there a way to include it in my Ruby script or on the Rails console, so that the command can be executed? </p>\n"}, {"tags": ["ruby", "debian", "package", "fluentd"], "comments": [{"owner": {"reputation": 11183, "user_id": 625983, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/c6iSf.jpg?s=128&g=1", "display_name": "apesa", "link": "https://stackoverflow.com/users/625983/apesa"}, "edited": false, "score": 0, "creation_date": 1453931061, "post_id": 35048585, "comment_id": 57821495, "body": "what issues are you running into? Edit your question and add the errors or issues you face."}, {"owner": {"reputation": 11183, "user_id": 625983, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/c6iSf.jpg?s=128&g=1", "display_name": "apesa", "link": "https://stackoverflow.com/users/625983/apesa"}, "edited": false, "score": 0, "creation_date": 1453936680, "post_id": 35048585, "comment_id": 57824364, "body": "On a Debian system you can use dpkg-deb to build a .deb package. Look here also, even though it is Ubuntu specific it is debian based and will usually work the same on other debian distros. <a href=\"http://packaging.ubuntu.com/html/packaging-new-software.htmlhttp://packaging.ubuntu.com/html/packaging-new-software.html\" rel=\"nofollow noreferrer\">packaging.ubuntu.com/html/packaging-new-software.htmlhttp://&zwnj;&#8203;&hellip;</a>"}], "owner": {"reputation": 745, "user_id": 659171, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3c21ac394392a8608cc339b1ac770807?s=128&d=identicon&r=PG", "display_name": "FZF", "link": "https://stackoverflow.com/users/659171/fzf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1453933840, "creation_date": 1453930808, "last_edit_date": 1453933840, "question_id": 35048585, "link": "https://stackoverflow.com/questions/35048585/how-to-create-a-debian-package-from-ruby-source-code", "title": "How to create a debian package from ruby source code?", "body": "<p>We are trying to create a debian package from ruby source code. It's for fluentd software. We know that a pre-built debian package for fluentd already exists. But because of the build systems in our ocmpany we have to create a debian package manually.</p>\n\n<p>We did try out deb2gem to create a deb package source but running into issues while building it.</p>\n\n<p>Any pointers about how to build a debian package from scratch - using ruby source code would be helpful.</p>\n\n<p></p>\n\n<p>So here are the steps I followed.</p>\n\n<p>Our work environment - doesn't let outside connections from the production hosts. So I can't just gem install fluentd.</p>\n\n<p>Since it's a debian Wheezy build, I need to build a debian package and install on it. We can't download the binary debian package which fluentd provides and use it - so I have to build it from source.</p>\n\n<p>So, I followed this procedure:</p>\n\n<ol>\n<li><p>Download the actual gem of fluentd from here - <a href=\"https://rubygems.org/gems/fluentd\" rel=\"nofollow\">https://rubygems.org/gems/fluentd</a></p></li>\n<li><p>Then use gem2deb tool to create a debian source files/templates. The debian/control file looks like this - <a href=\"http://pastebin.com/CHJXdJMi\" rel=\"nofollow\">http://pastebin.com/CHJXdJMi</a></p></li>\n<li><p>So when I run debuild -uc -us -b now - technically it should build a .deb package. But I get errors like these - <a href=\"http://pastebin.com/fEYFARRQ\" rel=\"nofollow\">http://pastebin.com/fEYFARRQ</a></p></li>\n<li><p>The ruby version on the host I am doing is 2.3.1 But I think gem2deb uses ruby 1.9.1. And fluentd needs ruby >=1.9.3 to build it from source.</p></li>\n</ol>\n\n<p>So this is where I am stuck at. I think if I don't use gem2deb then I have to figure out a way to just checkout the source code of fluentd from git and build a debian package from scratch.</p>\n\n<p>There is not much info about how to go about that anywhere except this - <a href=\"https://wiki.debian.org/Teams/Ruby/Packaging\" rel=\"nofollow\">https://wiki.debian.org/Teams/Ruby/Packaging</a></p>\n\n<p>Appreciate any help in advance!</p>\n\n<p>\nThanks</p>\n"}, {"tags": ["ruby", "puppet", "auto-generate"], "comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1453936460, "post_id": 35048388, "comment_id": 57824272, "body": "Are you running this via standalone Puppet or master / agent?"}], "answers": [{"tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1453937964, "creation_date": 1453937964, "answer_id": 35050303, "question_id": 35048388, "link": "https://stackoverflow.com/questions/35048388/puppet-generate-statement-fails-when-trying-to-retrieve-default-path-of-an-exec/35050303#35050303", "title": "Puppet: generate statement fails when trying to retrieve default path of an executable", "body": "<p>Your code</p>\n\n<pre><code>$ruby_gem_location = generate('/usr/bin/which', 'gem')\n</code></pre>\n\n<p>will generate a full path to your <code>gem</code> command (if it succeeds).  From the result you describe, I think it is generating '/usr/bin/gem', which is perhaps a symlink to the real <code>gem</code> command.  You are putting that into your command path instead of just the directory part, and that will not be helpful.  It is not, however, the source of the error message you report.</p>\n\n<p>The real problem here is that <code>generate()</code>, like all DSL fucntions, runs during catalog building.  I infer from your results that you are using a master / agent setup, so <code>generate()</code> is giving you a full path to <code>gem</code> -- evidently <code>/usr/bin/gem</code> -- <em>on the master</em>.  Since the whole point is that different servers have <code>gem</code> installed in different places, this is unhelpful.  The actual error message arises from an attempt to execute your <code>onlyif</code> command with the wrong path to <code>gem</code>.</p>\n\n<p>Your best way forward is probably to create a custom fact with which each node can report the appropriate location of the <code>gem</code> binary.  You can then use that fact's value in your Exec, maybe:</p>\n\n<pre><code>exec { \"remove-remote_syslog\":\n  command =&gt; \"$::ruby_gem_path uninstall remote_syslog\",\n  onlyif  =&gt; \"$::ruby_gem_path list | grep remote_syslog\"\n}\n</code></pre>\n\n<p>Note that you don't need a <code>path</code> attribute if you give a complete path to the executable in the first place.</p>\n\n<p>Details on creating the <code>$::ruby_gem_path</code> custom fact depend on a number of factors, and in their full generality they are rather too broad for SO, but PL provides <a href=\"https://docs.puppetlabs.com/facter/3.1/custom_facts.html\" rel=\"nofollow\">good documentation</a>.</p>\n"}], "owner": {"reputation": 49, "user_id": 5220603, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1180961315250872/picture?type=large", "display_name": "Leo Shatokhin", "link": "https://stackoverflow.com/users/5220603/leo-shatokhin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 0, "accepted_answer_id": 35050303, "answer_count": 1, "score": 0, "last_activity_date": 1453937964, "creation_date": 1453930053, "last_edit_date": 1453930557, "question_id": 35048388, "link": "https://stackoverflow.com/questions/35048388/puppet-generate-statement-fails-when-trying-to-retrieve-default-path-of-an-exec", "title": "Puppet: generate statement fails when trying to retrieve default path of an executable", "body": "<p>I have built a stanza to remove a ruby gem package from our servers. The problem is that the ruby gem executable is installed in different paths on the servers, so on one server it could be in /opt/ruby/bin/gem on other servers it's in /usr/local/rvm/rubies/ruby-2.0.0-p353/bin/gem</p>\n\n<p>My stanza uses the generate function in puppet to pull out the default ruby gem installation as follows:</p>\n\n<pre><code>$ruby_gem_location = generate('which', 'gem')\nexec { \"remove-remote_syslog\":\n        command =&gt; \"gem uninstall remote_syslog\",\n        path    =&gt; \"$ruby_gem_location:/opt/ruby/bin:/usr/bin:/usr/sbin\",\n        onlyif  =&gt; \"$ruby_gem_location list|grep remote_syslog\"\n        }\n</code></pre>\n\n<p>When I run puppet agent I get the following error:</p>\n\n<p>Generators must be fully qualified at ****redacted*</p>\n\n<p>I have also tried to provide a default path for the which command as follows:</p>\n\n<pre><code>$ruby_gem_location = generate('/usr/bin/which', 'gem') \n</code></pre>\n\n<p>and now the error says : Could not evaluate: Could not find command '/usr/bin/gem</p>\n\n<p>I checked the target server and the gem command is in </p>\n\n<pre><code>/usr/local/rvm/rubies/ruby-2.0.0-p353/bin/gem\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>How can I pull out the default ruby gem location on our servers?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453933922, "post_id": 35048272, "comment_id": 57823096, "body": "&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, <a href=\"http://meta.stackoverflow.com/questions/254393\">describe the problem</a> and what has been done so far to solve it.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1978, "user_id": 1222355, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/44e0773345e9065b2e012b434370dbbb?s=128&d=identicon&r=PG", "display_name": "David West", "link": "https://stackoverflow.com/users/1222355/david-west"}, "edited": false, "score": 0, "creation_date": 1453930960, "post_id": 35048340, "comment_id": 57821435, "body": "Looks good. Turns out my organization has an internal library that we use, but this is useful. I was expecting this to be part of <code>active_support</code>..."}], "tags": [], "owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "is_accepted": true, "score": 1, "last_activity_date": 1453934181, "last_edit_date": 1453934181, "creation_date": 1453929907, "answer_id": 35048340, "question_id": 35048272, "link": "https://stackoverflow.com/questions/35048272/existing-ruby-method-that-converts-abbreviated-us-state-names-to-full-state-name/35048340#35048340", "title": "Existing ruby method that converts abbreviated US state names to full state names", "body": "<p>Try the <a href=\"https://rubygems.org/gems/madison/versions/0.5.0\" rel=\"nofollow\">madison</a> gem, available at Rubygems. </p>\n"}], "owner": {"reputation": 1978, "user_id": 1222355, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/44e0773345e9065b2e012b434370dbbb?s=128&d=identicon&r=PG", "display_name": "David West", "link": "https://stackoverflow.com/users/1222355/david-west"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 35048340, "answer_count": 1, "score": 1, "last_activity_date": 1453934181, "creation_date": 1453929731, "question_id": 35048272, "link": "https://stackoverflow.com/questions/35048272/existing-ruby-method-that-converts-abbreviated-us-state-names-to-full-state-name", "title": "Existing ruby method that converts abbreviated US state names to full state names", "body": "<p>Does anybody know if any common Ruby libraries have this capability?</p>\n\n<p>For example</p>\n\n<pre><code>'AZ'.to_full_state\n=&gt; 'Arizona'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 2, "creation_date": 1453927303, "post_id": 35047529, "comment_id": 57819362, "body": "try <code>object.method(:organization_id).owner</code> ,,, ?"}, {"owner": {"reputation": 320, "user_id": 4348887, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSvraDbLK8Q/AAAAAAAAAAI/AAAAAAAAAAA/5w1jBSPHUxA/photo.jpg?sz=128", "display_name": "ian root", "link": "https://stackoverflow.com/users/4348887/ian-root"}, "reply_to_user": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 1, "creation_date": 1453927423, "post_id": 35047529, "comment_id": 57819439, "body": "good idea, but it doesn&#39;t seem to work. for example program.method(:organization_id).owner returns Program."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 1, "creation_date": 1453927891, "post_id": 35047529, "comment_id": 57819690, "body": "This is metaprogarmming to create new methods. so not possible <a href=\"https://github.com/rails/rails/blob/97fc7bf76ca9dbfdaeee5533eb5125d182e8923b/activesupport/lib/active_support/core_ext/module/delegation.rb#L181\" rel=\"nofollow noreferrer\">github.com/rails/rails/blob/&hellip;</a>"}, {"owner": {"reputation": 3773, "user_id": 991903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/J12Hi.jpg?s=128&g=1", "display_name": "Meier", "link": "https://stackoverflow.com/users/991903/meier"}, "edited": false, "score": 3, "creation_date": 1453929606, "post_id": 35047529, "comment_id": 57820644, "body": "The whole point of delegate is that the objects behave the same. So if you want to do distinguish the objects, you probably should use another design pattern."}, {"owner": {"reputation": 320, "user_id": 4348887, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSvraDbLK8Q/AAAAAAAAAAI/AAAAAAAAAAA/5w1jBSPHUxA/photo.jpg?sz=128", "display_name": "ian root", "link": "https://stackoverflow.com/users/4348887/ian-root"}, "edited": false, "score": 0, "creation_date": 1453932337, "post_id": 35047529, "comment_id": 57822225, "body": "well, most of the time i do want them to behave the same, but i have one method i just realized would be helpful to make, and in that method i want to build the associations, but i can&#39;t associate the object directly to the organization, if it has no such attribute, so i thought if i could tell what object class it&#39;s delegating organization to, i could work it out that way. not sure what pattern would work better in this case, or if i just need to find a different way of accomplishing what i&#39;m trying to do."}, {"owner": {"reputation": 1066, "user_id": 3215470, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rclPe.jpg?s=128&g=1", "display_name": "Andy Jones", "link": "https://stackoverflow.com/users/3215470/andy-jones"}, "edited": false, "score": 0, "creation_date": 1453985507, "post_id": 35047529, "comment_id": 57846698, "body": "I&#39;ll defer to @wand-maker if they say that it can&#39;t be done.  But... isn&#39;t it possible that <code>binding.receiver</code> would be of use here?"}], "answers": [{"tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": true, "score": 4, "last_activity_date": 1453927849, "creation_date": 1453927849, "answer_id": 35047734, "question_id": 35047529, "link": "https://stackoverflow.com/questions/35047529/is-it-possible-to-programmatically-determine-what-object-a-method-is-being-deleg/35047734#35047734", "title": "is it possible to programmatically determine what object a method is being delegated to in ruby?", "body": "<p>It is not possible.  As can be seen in source of <a href=\"https://github.com/rails/rails/blob/master/activesupport/lib/active_support/core_ext/module/delegation.rb\" rel=\"nofollow\"><code>active_support/core_ext/module/delegation.rb</code></a>,  Rails creates a new method that will internally invoke the delegated method.</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 4348887, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSvraDbLK8Q/AAAAAAAAAAI/AAAAAAAAAAA/5w1jBSPHUxA/photo.jpg?sz=128", "display_name": "ian root", "link": "https://stackoverflow.com/users/4348887/ian-root"}, "edited": false, "score": 0, "creation_date": 1453932457, "post_id": 35048908, "comment_id": 57822291, "body": "it&#39;s a good start, but ultimately, if i can&#39;t tell precisely which class of object it&#39;s being delegated to then it doesn&#39;t do what i need."}], "tags": [], "owner": {"reputation": 66, "user_id": 3175238, "user_type": "registered", "profile_image": "https://graph.facebook.com/606807570/picture?type=large", "display_name": "MDrewT", "link": "https://stackoverflow.com/users/3175238/mdrewt"}, "is_accepted": false, "score": 0, "last_activity_date": 1453932020, "creation_date": 1453932020, "answer_id": 35048908, "question_id": 35047529, "link": "https://stackoverflow.com/questions/35047529/is-it-possible-to-programmatically-determine-what-object-a-method-is-being-deleg/35048908#35048908", "title": "is it possible to programmatically determine what object a method is being delegated to in ruby?", "body": "<pre><code>def is_delegated?(object, delegated_attribute)\n  object.attributes.include? delegated_attribute\nend\n</code></pre>\n\n<p>It won't tell you where you're getting the value from but it should tell you if you've gotten it through delegation.</p>\n"}], "owner": {"reputation": 320, "user_id": 4348887, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sSvraDbLK8Q/AAAAAAAAAAI/AAAAAAAAAAA/5w1jBSPHUxA/photo.jpg?sz=128", "display_name": "ian root", "link": "https://stackoverflow.com/users/4348887/ian-root"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 35047734, "answer_count": 2, "score": 2, "last_activity_date": 1453932020, "creation_date": 1453927091, "question_id": 35047529, "link": "https://stackoverflow.com/questions/35047529/is-it-possible-to-programmatically-determine-what-object-a-method-is-being-deleg", "title": "is it possible to programmatically determine what object a method is being delegated to in ruby?", "body": "<p>i have a set of objects, some of which have an organization_id attribute, and others of which delegate organization_id.</p>\n\n<p>for example:</p>\n\n<pre><code>class Department\n  belongs_to :organization\nend\nclass Program\n  belongs_to :department\n  delegate :organization_id, to: :department\nend\n\nclass Role\n  belongs_to :organization\nend\nclass UsersRole\n  belongs_to :role\n  delegate :organization_id, to: :role\nend\n</code></pre>\n\n<p>i would like a means by which to programmatically determine which class of object the organization_id is being delegated to so that i could do something like the following</p>\n\n<pre><code>def find_organization_id_source(object)\n   object.organization_id.method_im_hoping_exists\nend\n$ find_organization_id_source(@program)\n&gt;&gt; Department\n$ find_organization_id_source(@users_role)\n&gt;&gt; Role\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "has-many"], "comments": [{"owner": {"reputation": 6200, "user_id": 637094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fd50f61387b63900335c8556f86237be?s=128&d=identicon&r=PG", "display_name": "Leonel Gal&#225;n", "link": "https://stackoverflow.com/users/637094/leonel-gal%c3%a1n"}, "edited": false, "score": 1, "creation_date": 1453927675, "post_id": 35047352, "comment_id": 57819573, "body": "I read your question twice and cannot figure out what&#39;s your expectation on <code>.last</code>?"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1453930265, "post_id": 35047352, "comment_id": 57821037, "body": "As an aside, are you really storing zip codes as numbers (i.e. <code>zip: 83701</code>)? They&#39;re not numbers, they&#39;re strings that just happen to contain digits."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1453930605, "post_id": 35047352, "comment_id": 57821212, "body": "Isn&#39;t <code>Dropsite.find(current_user.dropsites.joins(:user_dropsites).&zwnj;&#8203;order(&#39;user_dropsite&zwnj;&#8203;s.created_at&#39;).last.&zwnj;&#8203;id)</code> equivalent to <code>current_user.dropsites.joins(:user_dropsites).order(&#39;user_dr&zwnj;&#8203;opsites.created_at&#39;)&zwnj;&#8203;.last</code>? Why would you <code>find</code> a record you&#39;ve already found?"}, {"owner": {"reputation": 125, "user_id": 1062613, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6005cb180cedb3b5e25e3df72b85cde7?s=128&d=identicon&r=PG&f=1", "display_name": "davidh", "link": "https://stackoverflow.com/users/1062613/davidh"}, "reply_to_user": {"reputation": 6200, "user_id": 637094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fd50f61387b63900335c8556f86237be?s=128&d=identicon&r=PG", "display_name": "Leonel Gal&#225;n", "link": "https://stackoverflow.com/users/637094/leonel-gal%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1453934228, "post_id": 35047352, "comment_id": 57823258, "body": "@Leito, thanks for having a look. As mentioned in the question &quot;I expected to get results for &quot;My Store&quot; rather than &quot;Janell&#39;s&quot;&quot;. In the Dropsite table &quot;My Store&quot; is added prior to &quot;Janell&#39;s&quot; but in the UserDropsite table it&#39;s the other way around. I&#39;m expecting current_user.dropsites.last to return the dropsite associated with the last result in the join table...&quot;My Store&quot;. And this is what happens when I call current_user.account_states.last. I just can&#39;t figure out why it doesn&#39;t happen that same way when calling current_user.dropsites.last. Regarding zips...yeah, my bad. Thanks!"}, {"owner": {"reputation": 125, "user_id": 1062613, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6005cb180cedb3b5e25e3df72b85cde7?s=128&d=identicon&r=PG&f=1", "display_name": "davidh", "link": "https://stackoverflow.com/users/1062613/davidh"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453937246, "post_id": 35047352, "comment_id": 57824576, "body": "@Jordan to your first question, idk, probably. I suck at ruby joins/queries. Right now, to me, it doesn&#39;t matter if they are equivalent because all I want is to get the most recent dropsite the user has specified to use in a manner consistent with the rest of my code, a la current_user.dropsites.last. I don&#39;t think I understand your second question."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453937608, "post_id": 35047352, "comment_id": 57824736, "body": "The second question is rhetorical. You wouldn&#39;t <code>find</code> a record you&#39;ve already found, but that&#39;s what your code is doing."}], "owner": {"reputation": 125, "user_id": 1062613, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6005cb180cedb3b5e25e3df72b85cde7?s=128&d=identicon&r=PG&f=1", "display_name": "davidh", "link": "https://stackoverflow.com/users/1062613/davidh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1453934722, "creation_date": 1453926374, "last_edit_date": 1453934722, "question_id": 35047352, "link": "https://stackoverflow.com/questions/35047352/why-do-i-get-a-behavior-difference-when-calling-last-on-has-many-through-associ", "title": "Why do I get a behavior difference when calling .last on has_many through associations?", "body": "<p>I'm pretty new to Rails dev. I have quite a few has_many through associations in my project and they've always worked as expected when I call .last until this most recent has_many through relationship I just created.</p>\n\n<p>Setting a breakpoint and calling some values in the console I get what I expect with the following query:</p>\n\n<p>(byebug) current_user.account_states.last</p>\n\n<pre><code>#&lt;AccountState id: 1, state: 0, description: \"account ok\", created_at: \"2016-01-25 19:19:36\", updated_at: \"2016-01-25 19:19:36\"&gt;\n</code></pre>\n\n<p>But when I make a similar query on my new has_many relationship I do not get what I want. First of all, it always issues a SQL query, which is curious to me. Second, and more importantly, it does not give the result I'm looking for because it sorts on dropsite id. I expected to get results for \"My Store\" rather than \"Janell's\". See the following:</p>\n\n<p>(byebug) current_user.dropsites.last</p>\n\n<pre><code>  Dropsite Load (0.5ms)  SELECT  \"dropsites\".* \n  FROM \"dropsites\" INNER JOIN \"user_dropsites\" \n  ON \"dropsites\".\"id\" = \"user_dropsites\".\"dropsite_id\" \n  WHERE \"user_dropsites\".\"user_id\" = ?  \n  ORDER BY \"dropsites\".\"id\" DESC \n  LIMIT 1  [[\"user_id\", 6]]\n</code></pre>\n\n<h1></h1>\n\n<pre><code>#&lt;Dropsite id: 3, name: \"Janell's\", phone: \"2065551212\", hours: \"7-7, M-F\", address: \"1234 Main St.\", access_instructions: \"just walk in\", created_at: \"2016-01-25 21:09:10\", updated_at: \"2016-01-27 19:30:07\", active: true, city: \"Boise\", state: \"ID\", zip: 83701&gt;\n</code></pre>\n\n<p>I was able to get the data I wanted by using:</p>\n\n<pre><code>Dropsite.find(current_user.dropsites.joins(:user_dropsites).order('user_dropsites.created_at').last.id)\n</code></pre>\n\n<p>But I'm wanting to better understand why rails exhibits different behavior in these two cases so that I can control my code better.</p>\n\n<p>I'm using Rails 4.2.0 and Ruby 2.2.2p95. I've tried searching hi and lo but can't seem to find the information I'm lacking to be able to figure this one out on my own. Any pointers/ideas would be much appreciated!</p>\n\n<p>Here are my models:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_many :user_account_states\n  has_many :account_states, through: :user_account_states\n  has_many :user_dropsites\n  has_many :dropsites, through: :user_dropsites\nend\n\nclass AccountState &lt; ActiveRecord::Base\n  has_many :user_account_states\n  has_many :users, through: :user_account_states\nend\n\nclass UserAccountState &lt; ActiveRecord::Base\n  belongs_to :account_state\n  belongs_to :user\nend\n\nclass Dropsite &lt; ActiveRecord::Base\n  has_many :user_dropsites\n  has_many :users, through: :user_dropsites\nend\n\nclass UserDropsite &lt; ActiveRecord::Base\n  belongs_to :dropsite\n  belongs_to :user  \nend\n</code></pre>\n\n<p>Here is my table data:</p>\n\n<pre><code>AccountState table data:\n\"id\", \"state\", \"description\", \"created_at\", \"updated_at\"\n\"1\", \"0\", \"account ok\", \"2016-01-25 19:19:36.622125\", \"2016-01-25 19:19:36.622125\"\n\"2\", \"1\", \"account on hold\", \"2016-01-25 19:19:36.639550\", \"2016-01-25 19:19:36.639550\"\n\nUserAccountState table data:\n\"account_state_id\", \"user_id\", \"created_at\", \"updated_at\", \"notes\"\n\"2\", \"6\", \"2016-01-27 18:08:55.593669\", \"2016-01-27 18:08:55.593669\", \"\"\n\"1\", \"6\", \"2016-01-27 18:13:44.831515\", \"2016-01-27 18:13:44.831515\", \"\"\n\nDropsite table data:\n\"id\", \"name\", \"phone\", \"hours\", \"address\", \"access_instructions\", \"created_at\", \"updated_at\", \"active\", \"city\", \"state\", \"zip\"\n\"1\", \"My Store\", \"213-412-5709\", \"24x7x365\", \"5719 54rd Court NE\", \"\", \"2016-01-25 21:00:21.318115\", \"2016-01-27 19:29:29.300511\", \"t\", \"Tallahassee\", \"FL\", \"32300\"\n\"3\", \"Janell's\", \"2065551212\", \"7-7, M-F\", \"1234 Main St.\", \"just walk in\", \"2016-01-25 21:09:10.337827\", \"2016-01-27 19:30:07.106183\", \"t\", \"Boise\", \"ID\", \"83701\"\n\nUserDropsite table data:\n\"user_id\", \"dropsite_id\", \"created_at\", \"updated_at\"\n\"6\", \"3\", \"2016-01-26 21:43:10.154020\", \"2016-01-26 21:43:10.154020\"\n\"6\", \"1\", \"2016-01-27 18:24:45.927775\", \"2016-01-27 18:24:45.927775\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "model", "activemodel"], "answers": [{"comments": [{"owner": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453928053, "post_id": 35047223, "comment_id": 57819771, "body": "Got an error wrong array length at 0 (expected 2, was 6), I think you can&#39;t call to_h on an array of arrays"}, {"owner": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453928393, "post_id": 35047223, "comment_id": 57819953, "body": "Yes, you are right, why do you think I&#39;m getting the error then?  I did notice that p.price is returning a Product object, not the price.  Maybe that is the difference?"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453928507, "post_id": 35047223, "comment_id": 57820014, "body": "may be I have some typo, which I can&#39;t see. :p open your IRB, and try [[:a, 1]].to_h .. and tell what you got"}, {"owner": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453928714, "post_id": 35047223, "comment_id": 57820119, "body": "{:a=&gt;1}, I think it has something to do with p.price pulling the whole object, not just the price, but i don&#39;t know why it would do that."}, {"owner": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453928981, "post_id": 35047223, "comment_id": 57820255, "body": "I actually removed avg, when I had the issue, so that change would not have effected it, I also fixed the misnamed array, so that too was found before I tested.  why do you think v.min_by { |p| p.price } is returning the whole object?"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453929194, "post_id": 35047223, "comment_id": 57820378, "body": "@user2012677 Typo all over I have.. didn&#39;t run it. Just expressed my thought. try now..plz :)"}, {"owner": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453929465, "post_id": 35047223, "comment_id": 57820561, "body": "It seems to work, but I have not validated it.  Can you explain what |_, v| means?"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453929718, "post_id": 35047223, "comment_id": 57820731, "body": "@user2012677 That is called unused variable. When some variable, you know you will not use, but you need to have like the above, then you use those <code>_</code>.."}, {"owner": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453929844, "post_id": 35047223, "comment_id": 57820796, "body": "so, it acts as a placeholder for the hash key?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1453931290, "post_id": 35047223, "comment_id": 57821625, "body": "Hello Arup. I believe you could replace <code>[:price_min, v.min_by { |p| p.price }.price], [:price_max, v.max_by { |p| p.price }.price ]</code> with <code>*[[:price_min, :price_max].zip v.minmax]</code>, though it may not be as clear."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "edited": false, "score": 0, "creation_date": 1453953945, "post_id": 35047223, "comment_id": 57829470, "body": "@user2012677 yes, kind of."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1453961659, "post_id": 35047223, "comment_id": 57832019, "body": "Ah, yes, <code>minmax_by</code>, or <code>v.map(&amp;:price).minmax</code>."}], "tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": true, "score": 2, "last_activity_date": 1453929161, "last_edit_date": 1453929161, "creation_date": 1453925928, "answer_id": 35047223, "question_id": 35046999, "link": "https://stackoverflow.com/questions/35046999/group-model-objects-by-and-calculate-min-max-count/35047223#35047223", "title": "Group model objects by and calculate min/max/count", "body": "<pre><code>grouped_products = myarray.group_by do |product|\n  [product.name , product.brand]\nend\n\ngrouped_products.map do |_, v|\n  [ \n    [ :name, v[0].name ],\n    [ :brand, v[0]. brand ], \n    [ :price_min, v.min_by { |p| p.price }.price ],\n    [ :price_max, v.max_by { |p| p.price }.price ],\n    [ :price_avg, v.sum { |p| p.price } / v.count ],\n    [ :count_value, v.count ]\n  ].to_h\nend\n</code></pre>\n"}], "owner": {"reputation": 4416, "user_id": 2012677, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d7cb2fe712fb17f44f8c354bf37e7b5?s=128&d=identicon&r=PG&f=1", "display_name": "user2012677", "link": "https://stackoverflow.com/users/2012677/user2012677"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 35047223, "answer_count": 1, "score": 0, "last_activity_date": 1453931205, "creation_date": 1453925112, "last_edit_date": 1592644375, "question_id": 35046999, "link": "https://stackoverflow.com/questions/35046999/group-model-objects-by-and-calculate-min-max-count", "title": "Group model objects by and calculate min/max/count", "body": "<p>I am trying to group by name and brand and get a minimum value of price, maximum value of price, average value of price and a count for value. This is activemodel, not active record.</p>\n<h3>Model:</h3>\n<pre><code>class Product\n  include ActiveModel::Model\n  attr_accessor :name, :brand, :price, :value\nend\n</code></pre>\n<p>Expected output:</p>\n<pre><code>name:&quot;big&quot;, brand:&quot;sony&quot;, price_min:10, price_max:10, price_avg:10, count_value:2\nname:&quot;small&quot;, brand:&quot;car&quot;, price_min:10, price_max:13, price_avg:11.5, count_value:2\nname:&quot;round&quot;, brand:&quot;car&quot;, price_min:14, price_max:14, price_avg:14, count_value:1\nname:&quot;horse&quot;, brand:&quot;car&quot;, price_min:10, price_max:10, price_avg:10, count_value:1\n</code></pre>\n<p>Please help.</p>\n<h3>Code:</h3>\n<pre><code>myarray = []\n\nmyarray &lt;&lt; Product.new({name: &quot;big&quot;, brand: &quot;sony&quot;, price: 10, value: 5})\nmyarray &lt;&lt; Product.new({name: &quot;big&quot;, brand: &quot;sony&quot;, price: 10, value: 2})\nmyarray &lt;&lt; Product.new({name: &quot;small&quot;, brand: &quot;car&quot;, price: 13, value: 3})\nmyarray &lt;&lt; Product.new({name: &quot;small&quot;, brand: &quot;car&quot;, price: 10, value: 4})\nmyarray &lt;&lt; Product.new({name: &quot;round&quot;, brand: &quot;car&quot;, price: 14, value: 5})\nmyarray &lt;&lt; Product.new({name: &quot;horse&quot;, brand: &quot;car&quot;, price: 10, value: 6})\n\nmyarray\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "bundler"], "comments": [{"owner": {"reputation": 3069, "user_id": 1394981, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8bc6f5d86a2a8d7ed90dea48ca7c67e2?s=128&d=identicon&r=PG", "display_name": "Matt Westlake", "link": "https://stackoverflow.com/users/1394981/matt-westlake"}, "reply_to_user": {"reputation": 3134, "user_id": 3884750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100003183948251/picture?type=large", "display_name": "Oleg  Sobchuk", "link": "https://stackoverflow.com/users/3884750/oleg-sobchuk"}, "edited": false, "score": 0, "creation_date": 1453925228, "post_id": 35046886, "comment_id": 57818188, "body": "@OlegSobchuk That doesn&#39;t explain at all why with bundler it&#39;s trying to find <code>sinatra java</code> instead of <code>sinatra</code> like it does during a <code>gem install</code>"}, {"owner": {"reputation": 3994, "user_id": 37019, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4354cb7ba5e9c6a01f77eb8de753b62?s=128&d=identicon&r=PG", "display_name": "danielrsmith", "link": "https://stackoverflow.com/users/37019/danielrsmith"}, "edited": false, "score": 0, "creation_date": 1453929178, "post_id": 35046886, "comment_id": 57820371, "body": "Can you post your Gemfile?"}, {"owner": {"reputation": 3069, "user_id": 1394981, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8bc6f5d86a2a8d7ed90dea48ca7c67e2?s=128&d=identicon&r=PG", "display_name": "Matt Westlake", "link": "https://stackoverflow.com/users/1394981/matt-westlake"}, "reply_to_user": {"reputation": 3994, "user_id": 37019, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4354cb7ba5e9c6a01f77eb8de753b62?s=128&d=identicon&r=PG", "display_name": "danielrsmith", "link": "https://stackoverflow.com/users/37019/danielrsmith"}, "edited": false, "score": 0, "creation_date": 1453992356, "post_id": 35046886, "comment_id": 57851896, "body": "@danielrsmith see edit2"}, {"owner": {"reputation": 3994, "user_id": 37019, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4354cb7ba5e9c6a01f77eb8de753b62?s=128&d=identicon&r=PG", "display_name": "danielrsmith", "link": "https://stackoverflow.com/users/37019/danielrsmith"}, "edited": false, "score": 0, "creation_date": 1454004782, "post_id": 35046886, "comment_id": 57860757, "body": "I meant the rails projects gemfile"}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 3330207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0285bccce032918e31c7f51090eaa5c?s=128&d=identicon&r=PG&f=1", "display_name": "AFOC", "link": "https://stackoverflow.com/users/3330207/afoc"}, "is_accepted": false, "score": 1, "last_activity_date": 1473189878, "creation_date": 1473189878, "answer_id": 39356416, "question_id": 35046886, "link": "https://stackoverflow.com/questions/35046886/how-do-i-get-bundler-to-stop-adding-java-to-the-end-of-the-gem-name/39356416#39356416", "title": "how do I get bundler to stop adding java to the end of the gem name", "body": "<p>Bundler adds the platform to the end of the gem name to indicate that it is running on a different platform than is specified in the gem's gemspec.</p>\n\n<p>See issue: <a href=\"https://github.com/bundler/bundler/issues/4259\" rel=\"nofollow\">Confusing error message when gemspec has a different platform than what's in Gemfile.lock</a></p>\n\n<p>This can be solved by adding a platform specification in the gemfile, eg: </p>\n\n<pre><code>gem mygem, 1.0.0, platforms: :ruby\n</code></pre>\n"}], "owner": {"reputation": 3069, "user_id": 1394981, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8bc6f5d86a2a8d7ed90dea48ca7c67e2?s=128&d=identicon&r=PG", "display_name": "Matt Westlake", "link": "https://stackoverflow.com/users/1394981/matt-westlake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1473189878, "creation_date": 1453924726, "last_edit_date": 1453992347, "question_id": 35046886, "link": "https://stackoverflow.com/questions/35046886/how-do-i-get-bundler-to-stop-adding-java-to-the-end-of-the-gem-name", "title": "how do I get bundler to stop adding java to the end of the gem name", "body": "<p>I am working on a project where I'm using a sinatra server inside a small application I'm writing.  We use JRuby 9.0.4.0 in the shop where I'm working.  The install works just fine when I do:</p>\n\n<pre><code>gem install mygem-1.0.0.gem\n</code></pre>\n\n<p>and it shows me</p>\n\n<pre><code>Successfully installed sinatra-1.4.7\nSuccessfully installed mygem-1.0.0\n</code></pre>\n\n<p>When I add my gem to our existing project via gemfile</p>\n\n<pre><code>gem mygem, 1.0.0\n</code></pre>\n\n<p>And perform <code>bundle install</code>, I get:</p>\n\n<pre><code>Bundler could not find compatible versions for gem \"sinatra\": \n  In Gemfile:\n    mygem(= 1.0.0) java was resolved to 1.0.0, which depends on\n      sinatra java\ncould not find gem 'sinatra java', which is required by gem 'mygem'............\n</code></pre>\n\n<p>Why can it work just fine when I do a gem install, but when I add the gem to my gemfile it cries about not being able to find a compatible gem.  Why is it looking for 'sinatra java' and how can I push it back to just 'sinatra'</p>\n\n<p>NOTE: I have verified that the application works using the gem install method, but that is not the ideal method.</p>\n\n<p>EDIT:</p>\n\n<p>This is how the gem is specified in the gemspec </p>\n\n<pre><code>spec.add_runtime_dependency 'sinatra'\n</code></pre>\n\n<p>EDIT2:</p>\n\n<p>The gemfile just has</p>\n\n<pre><code>source 'https://rubygems.org'\n\n# Specify your gem's dependencies in cucumber_distributed.gemspec\ngemspec\n</code></pre>\n"}, {"tags": ["ruby", "circleci", "aws-code-deploy"], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 5066382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd0975457c9492d50ba95d6f0a433c52?s=128&d=identicon&r=PG&f=1", "display_name": "Amartya Datta Gupta", "link": "https://stackoverflow.com/users/5066382/amartya-datta-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1454539296, "last_edit_date": 1454539296, "creation_date": 1454538850, "answer_id": 35189094, "question_id": 35046697, "link": "https://stackoverflow.com/questions/35046697/circleci-and-aws-codedeploy-no-such-file-or-directory/35189094#35189094", "title": "CircleCI and AWS CodeDeploy: No such file or directory", "body": "<p><a href=\"http://docs.aws.amazon.com/cli/latest/reference/deploy/push.html\" rel=\"nofollow\">It seems the deployment stage is being handled by the deploy push command from aws CLI</a>, and it cannot handle broken symlinks.</p>\n\n<p>I could reproduce the problem by trying to deploy an app containing a broken symlink using the push command:</p>\n\n<p>(Command - aws deploy push --application-name  --s3-location s3:///.zip --source ./)\n(Output - [Errno 2] No such file or directory: '/path/to/source/')</p>\n\n<p>I guess you will need to manually remove all broken symlinks for the deployment to succeed.</p>\n"}, {"tags": [], "owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "is_accepted": false, "score": 0, "last_activity_date": 1504715049, "creation_date": 1504715049, "answer_id": 46080149, "question_id": 35046697, "link": "https://stackoverflow.com/questions/35046697/circleci-and-aws-codedeploy-no-such-file-or-directory/46080149#46080149", "title": "CircleCI and AWS CodeDeploy: No such file or directory", "body": "<p>For what it's worth, <a href=\"https://github.com/tom-lord/regexp-examples/pull/10\" rel=\"nofollow noreferrer\">this gem was later refactored to not use symbolic links</a>; as of <code>v1.3.0</code>.</p>\n\n<p>Upgrading from your current version (<code>1.1.4</code>) should almost certainly require no code change.</p>\n"}], "owner": {"reputation": 283, "user_id": 1992210, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5663683d264a505018f00fc823c71cad?s=128&d=identicon&r=PG", "display_name": "Sterling Paramore", "link": "https://stackoverflow.com/users/1992210/sterling-paramore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504715049, "creation_date": 1453924037, "last_edit_date": 1453924373, "question_id": 35046697, "link": "https://stackoverflow.com/questions/35046697/circleci-and-aws-codedeploy-no-such-file-or-directory", "title": "CircleCI and AWS CodeDeploy: No such file or directory", "body": "<p>I've got a Ruby application that has been deployed to an AWS instance using CodeDeploy via CircleCI.  I added a gem to the application.  All tests are passing both locally and in CircleCI, but the deployment stage fails with this error:</p>\n\n<pre><code>$ create_application_revision /tmp/codedeploy_applications.json /tmp/codedeploy_revisions.json\ncreate_application_revision loaded: {\"applications\":[{\"application_root\":\"/\",\"region\":\"us-west-2\",\"revision_location\":{\"revisionType\":\"S3\",\"s3Location\":{\"bucket\":\"something\",\"key\":\"etl-scripts-testdeploy-3a050b1\"}},\"deployment_group\":\"EtlScriptsFleet\",\"application_name\":\"EtlScripts\"}]}\nBundling EtlScripts from /home/ubuntu/etl-scripts\nUnhandled exception\n[Errno 2] No such file or directory: '/home/ubuntu/etl-scripts/vendor/bundle/ruby/2.2.0/gems/regexp-examples-1.1.4/db/unicode_ranges_2.1.pstore'\n</code></pre>\n\n<p>It's true that file doesn't exist.  It doesn't exist locally either, but all tests pass.  I just can't figure out why the deployment process thinks it needs this file?</p>\n\n<p>I noticed that in the source code for this gem (<a href=\"https://github.com/tom-lord/regexp-examples/tree/master/db\" rel=\"nofollow\">https://github.com/tom-lord/regexp-examples/tree/master/db</a>) is a symbolic link and that's probably why it's not being created.  But I'm still confused about how the deployment bundle process would know about a non-existant symbolic link.</p>\n\n<p>Any help greatly appreciated!</p>\n"}, {"tags": ["ruby", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "is_accepted": false, "score": 2, "last_activity_date": 1453922913, "creation_date": 1453922913, "answer_id": 35046328, "question_id": 35046327, "link": "https://stackoverflow.com/questions/35046327/configuring-fixture-path-in-activerecord-test-fixtures/35046328#35046328", "title": "Configuring fixture_path in ActiveRecord test fixtures", "body": "<p>I can't believe I didn't see this, but I didn't. I had to use <code>self</code>, just like the settings for transactional fixtures and instantiated fixtures.</p>\n\n<pre><code># test_helper.rb\nrequire_relative '../app'\nrequire 'minitest/autorun'\nrequire 'active_record'\n\nActiveRecord::Base.establish_connection(:test)\n\n#Set up fixtures and such\nclass ActiveSupport::TestCase\n  include ActiveRecord::TestFixtures\n  include ActiveRecord::TestFixtures::ClassMethods\n\n  self.fixture_path = 'test/fixtures'\n  self.use_transactional_fixtures = true\n  self.use_instantiated_fixtures  = false\nend\n</code></pre>\n\n<p>The trick is understanding the meaning of <code>self</code> in a class definition; it refers to the class, not an instance of the class. I guess when I'm monkey patching <code>ActiveSupport::TestCase</code>, that's the only way to set a class variable. For some reason <code>@fixture_path</code> and <code>@@fixture_path</code> don't work.</p>\n"}, {"comments": [{"owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "edited": false, "score": 0, "creation_date": 1453930896, "post_id": 35047249, "comment_id": 57821396, "body": "Thanks for the explanation. I had noticed the <code>class_attribute</code>, but hadn&#39;t put it all together."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 3, "last_activity_date": 1453926042, "creation_date": 1453926042, "answer_id": 35047249, "question_id": 35046327, "link": "https://stackoverflow.com/questions/35046327/configuring-fixture-path-in-activerecord-test-fixtures/35047249#35047249", "title": "Configuring fixture_path in ActiveRecord test fixtures", "body": "<p>I tried to leave this as a comment on your answer, but it got too long so I thought I might as put it in an answer.</p>\n\n<p>The reason <code>@fixture_path</code> and <code>@@fixture_path</code> didn't work is that <code>fixture_path</code> is an ActiveSupport <a href=\"http://guides.rubyonrails.org/active_support_core_extensions.html#class-attributes\" rel=\"nofollow\">class attribute</a>, which is like a Ruby <code>attr_accessor</code> except it's defined as a singleton method on the class. You can see where the <code>fixture_path</code> attribute is defined with <code>class_attribute :fixture_path</code> in the <a href=\"https://github.com/rails/rails/blob/ea4f0e2baba8653b03fba154357842933cf7b778/activerecord/lib/active_record/fixtures.rb#L862\" rel=\"nofollow\">ActiveRecord::TestFixtures module source</a>.</p>\n\n<p>Class attributes are part of ActiveSupport and not native to Ruby. You can read more about them in the <a href=\"http://guides.rubyonrails.org/active_support_core_extensions.html#class-attributes\" rel=\"nofollow\">Active Support Core Extensions</a> Rails Guide and in the <a href=\"http://api.rubyonrails.org/classes/Class.html#method-i-class_attribute\" rel=\"nofollow\">API docs</a>, and see how <code>class_attribute</code> works <a href=\"https://github.com/rails/rails/blob/e5e42a3687801a1dc1c3e36ea784a7a1479a9230/activesupport/lib/active_support/core_ext/class/attribute.rb#L71\" rel=\"nofollow\">in the Rails source</a>. As you can see, \nthe value is stored in the instance variable <code>\"@#{name}\"</code> (e.g. <code>@fixture_path</code>), but that happens inside a singleton method, which means it's an instance variable on the singleton class and you can only access it from within the singleton class.</p>\n\n<p>That's all a little bit moot, though, because the point of attributes (and feel free to disregard this if it's old news to you) is that they allow you to keep instance variables private and change your implementation without breaking code that subclasses or includes your code. When an attribute reader or writer exists, you should always use it instead of accessing the instance variable directly, because at some point the implementation might change and the attribute methods could be replaced by methods with more complex logic, and accessing the instance variable directly will no longer produce the same results as using the attribute reader and writer.</p>\n\n<p>As you discovered, you need to use <code>self.fixture_path =</code> instead of <code>fixture_path =</code> because in the latter case Ruby assumes you want to assign to a local variable.</p>\n"}], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1779, "favorite_count": 0, "accepted_answer_id": 35047249, "answer_count": 2, "score": 2, "last_activity_date": 1453926042, "creation_date": 1453922913, "question_id": 35046327, "link": "https://stackoverflow.com/questions/35046327/configuring-fixture-path-in-activerecord-test-fixtures", "title": "Configuring fixture_path in ActiveRecord test fixtures", "body": "<p>I'm using ActiveRecord with Sinatra instead of Rails, and I want to use fixtures in my tests. The documentation for <a href=\"http://apidock.com/rails/v4.0.2/ActiveRecord/FixtureSet\" rel=\"nofollow\">ActiveRecord's FixtureSet</a> says that you have to use <code>fixture_path</code> to tell it where the fixture files are:</p>\n\n<blockquote>\n  <p>placed in the directory appointed by ActiveSupport::TestCase.fixture_path=(path)</p>\n</blockquote>\n\n<p>How can I write to that setting? I tried <code>@fixture_path</code> and <code>@@fixture_path</code>, but both of them left the value nil when <code>FixtureSet</code> tried to read it.</p>\n\n<p>Here's the only thing I could get to work, but it can't possibly be right:</p>\n\n<pre><code># test_helper.rb\nrequire_relative '../app'\nrequire 'minitest/autorun'\nrequire 'active_record'\n\nActiveRecord::Base.establish_connection(:test)\n\n#Set up fixtures and such\nclass ActiveSupport::TestCase\n  include ActiveRecord::TestFixtures\n  include ActiveRecord::TestFixtures::ClassMethods\n\n  class &lt;&lt; self\n    def fixtures(*fixture_set_names)\n      self.fixture_path = 'test/fixtures'\n      super *fixture_set_names\n    end\n  end\n\n  self.use_transactional_fixtures = true\n  self.use_instantiated_fixtures  = false\nend\n</code></pre>\n\n<p>The full source code is posted as a <a href=\"https://github.com/donkirkby/active_sinatra\" rel=\"nofollow\">small demo project</a> for ActiveRecord and Sinatra.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "rails-activerecord"], "comments": [{"owner": {"reputation": 4174, "user_id": 399346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83209f4fd149c44c74720e9df2ca9fea?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/399346/rob"}, "edited": false, "score": 0, "creation_date": 1453923543, "post_id": 35046225, "comment_id": 57817237, "body": "Surely you mean &quot;parents.id&quot;, not :parent_id in the schema above? I mean, you could do it that way, but the near universal standard is simply &quot;id&quot; for the primary key."}, {"owner": {"reputation": 11, "user_id": 4042982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Cfbzw_CtVJU/AAAAAAAAAAI/AAAAAAAAAJc/LGH4_sOqeYA/photo.jpg?sz=128", "display_name": "Antonio Grass", "link": "https://stackoverflow.com/users/4042982/antonio-grass"}, "edited": false, "score": 0, "creation_date": 1453923941, "post_id": 35046225, "comment_id": 57817480, "body": "I recommend you check this stackoverflow post: <a href=\"http://stackoverflow.com/questions/1313120/retrieving-the-last-record-in-each-group\">http://stackoverflow.com/questions/1313120/retrieving-the-la&zwnj;&#8203;st-record-in-each-gr&zwnj;&#8203;oup</a>"}, {"owner": {"reputation": 21, "user_id": 3779847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59dc565ea9620b7526466da78d90f268?s=128&d=identicon&r=PG&f=1", "display_name": "tuxr", "link": "https://stackoverflow.com/users/3779847/tuxr"}, "edited": false, "score": 0, "creation_date": 1453925554, "post_id": 35046225, "comment_id": 57818383, "body": "Yeah, generally I agree but in the database we are using it is actually in the form like parents.parents_id"}], "answers": [{"tags": [], "owner": {"reputation": 3832, "user_id": 136508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391f9b787cdc12aa2c179713f5103e3a?s=128&d=identicon&r=PG", "display_name": "ilan berci", "link": "https://stackoverflow.com/users/136508/ilan-berci"}, "is_accepted": false, "score": 0, "last_activity_date": 1453923588, "creation_date": 1453923588, "answer_id": 35046562, "question_id": 35046225, "link": "https://stackoverflow.com/questions/35046225/rails-activerecord-joining-to-most-recent-child-in-scope/35046562#35046562", "title": "Rails ActiveRecord joining to most recent child in scope", "body": "<p>If you are using the first/or last child a lot in your queries, I would add them as fields in the parent</p>\n\n<pre><code>class Parent\n  belongs_to :youngest_child, class_name: Child, inverse_of: :parent\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4174, "user_id": 399346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83209f4fd149c44c74720e9df2ca9fea?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/399346/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1453923741, "creation_date": 1453923741, "answer_id": 35046614, "question_id": 35046225, "link": "https://stackoverflow.com/questions/35046225/rails-activerecord-joining-to-most-recent-child-in-scope/35046614#35046614", "title": "Rails ActiveRecord joining to most recent child in scope", "body": "<p>Well, you can push some of the logic into the joins() statement like below, but I don't see how you can get out having to have a subquery somewhere.</p>\n\n<pre><code>Parent.joins(%Q{left join children on children.parent_id = parents.id\n                  and children.birth_date = (select max(birth_date) from children \n                  where children.parent_id = parents.id)}).\n                where('children.status = ?', Status[:in_school]')\n</code></pre>\n\n<p>That would look like that. HTH</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 3779847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59dc565ea9620b7526466da78d90f268?s=128&d=identicon&r=PG&f=1", "display_name": "tuxr", "link": "https://stackoverflow.com/users/3779847/tuxr"}, "edited": false, "score": 0, "creation_date": 1453925783, "post_id": 35046723, "comment_id": 57818520, "body": "Yeah I have other scopes on Parent base that I need"}, {"owner": {"reputation": 4174, "user_id": 399346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83209f4fd149c44c74720e9df2ca9fea?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/399346/rob"}, "reply_to_user": {"reputation": 21, "user_id": 3779847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59dc565ea9620b7526466da78d90f268?s=128&d=identicon&r=PG&f=1", "display_name": "tuxr", "link": "https://stackoverflow.com/users/3779847/tuxr"}, "edited": false, "score": 0, "creation_date": 1453926818, "post_id": 35046723, "comment_id": 57819107, "body": "Oh, you need it to come in from parent? I&#39;m sure we can do a merge and make it work if that is what you need."}, {"owner": {"reputation": 21, "user_id": 3779847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59dc565ea9620b7526466da78d90f268?s=128&d=identicon&r=PG&f=1", "display_name": "tuxr", "link": "https://stackoverflow.com/users/3779847/tuxr"}, "edited": false, "score": 0, "creation_date": 1453927382, "post_id": 35046723, "comment_id": 57819404, "body": "Yeah it needs to come from parent because it&#39;ll be scoped more before the join which makes it less expensive only having to look at the limited number or parents that are remaining"}, {"owner": {"reputation": 4174, "user_id": 399346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83209f4fd149c44c74720e9df2ca9fea?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/399346/rob"}, "reply_to_user": {"reputation": 21, "user_id": 3779847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59dc565ea9620b7526466da78d90f268?s=128&d=identicon&r=PG&f=1", "display_name": "tuxr", "link": "https://stackoverflow.com/users/3779847/tuxr"}, "edited": false, "score": 0, "creation_date": 1453927440, "post_id": 35046723, "comment_id": 57819455, "body": "I suspect something like this might work, I&#39;d need to gen up a sample and try it: class Child &lt; ActiveRecord::Base   scope :oldest_child, lambda {Child.order(:birth_date).first} end  class Parent &lt; ActiveRecord::Base   has_many :children end  Parent.joins(:children).merge(Child.oldest_child).where(&#39;chi&zwnj;&#8203;ldren.status = ?&#39;, Status[:in_school]&#39;)"}], "tags": [], "owner": {"reputation": 4174, "user_id": 399346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83209f4fd149c44c74720e9df2ca9fea?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/399346/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1453924131, "creation_date": 1453924131, "answer_id": 35046723, "question_id": 35046225, "link": "https://stackoverflow.com/questions/35046225/rails-activerecord-joining-to-most-recent-child-in-scope/35046723#35046723", "title": "Rails ActiveRecord joining to most recent child in scope", "body": "<p>Alternatively, you can use order and last to find the last child, and then check the status of the child in-memory. There will be at most one child fetched by this approach, so performance is reasonable. Like below:</p>\n\n<pre><code>child=Child.order(:birth_date).joins(:parent).last\nparent.do_stuff if child.in_school?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 6656137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c37e948e8ffcbc3a7e01ea72066e3c?s=128&d=identicon&r=PG", "display_name": "rmhunter", "link": "https://stackoverflow.com/users/6656137/rmhunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1471305669, "last_edit_date": 1495541314, "creation_date": 1471288038, "answer_id": 38961400, "question_id": 35046225, "link": "https://stackoverflow.com/questions/35046225/rails-activerecord-joining-to-most-recent-child-in-scope/38961400#38961400", "title": "Rails ActiveRecord joining to most recent child in scope", "body": "<p>Your query works - it gets the job done and it is clear what you're going for. I tested your pattern on a similar association in the app I'm working on now, and <code>ActiveRecord</code> combined it all into one query correctly, and it took <strong>1.4ms</strong>.</p>\n\n<p>If you want to optimize performance, you could use a join to get the oldest child, instead of a subquery:</p>\n\n<pre><code>Parent.joins(\"INNER JOIN (\n                SELECT c1.*\n                FROM children c1\n                LEFT JOIN children c2 ON (c1.parent_id = c2.parent_id AND c1.birthdate &gt; c2.birthdate)\n                WHERE c2.parent_id IS NULL\n              ) c ON parent.parent_id = c.parent_id\")\n              .where('children.status = ?', Status[:in_school])\n              .pluck(:parent_id)\n</code></pre>\n\n<p>It is a little bit less clear what you're going for, because it uses a sort of manual outer join, but it allows the nested join to use an index as well. In the same test scenario as above, this performed the same query in <strong>0.9ms</strong> (almost twice as fast). That was in a very small database, with only a few hundred records. With millions of records, the difference would be noticeable.</p>\n\n<p>Thanks to this <a href=\"https://stackoverflow.com/a/1313293/6656137\">StackOverflow answer</a>, for the join pattern.</p>\n"}], "owner": {"reputation": 21, "user_id": 3779847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59dc565ea9620b7526466da78d90f268?s=128&d=identicon&r=PG&f=1", "display_name": "tuxr", "link": "https://stackoverflow.com/users/3779847/tuxr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1015, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1471305669, "creation_date": 1453922579, "last_edit_date": 1453926084, "question_id": 35046225, "link": "https://stackoverflow.com/questions/35046225/rails-activerecord-joining-to-most-recent-child-in-scope", "title": "Rails ActiveRecord joining to most recent child in scope", "body": "<p>I am currently trying to write a worker that has to check the most recent child's status and queuing it based on that. For example, find parents whose oldest child is in school</p>\n\n<pre><code>class Parent\n  has_many :children\nend\nclass Child\n  belongs_to :parent\n  lookup_for :status, symbolize: true\nend\n</code></pre>\n\n<p>Currently my scope is:</p>\n\n<pre><code>Parent.joins(:children).\n      where(\"children.birth_date =\n            (SELECT MAX(children.birth_date)\n             FROM children\n             WHERE children.parent_id = parents.parent_id\").\n      where('children.status = ?', Status[:in_school]').pluck(:parent_id)\n</code></pre>\n\n<p>Seems like there should be a better way to do this.  Any ideas</p>\n\n<p><strong>To Clarify</strong> I am looking for all the Parents who's oldest child is still in school</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems"], "comments": [{"owner": {"reputation": 10921, "user_id": 85125, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5636d7549013d9fc365de56ad90d12bc?s=128&d=identicon&r=PG", "display_name": "Bart Jedrocha", "link": "https://stackoverflow.com/users/85125/bart-jedrocha"}, "edited": false, "score": 1, "creation_date": 1453923907, "post_id": 35046216, "comment_id": 57817454, "body": "The <a href=\"https://github.com/aasm/aasm\" rel=\"nofollow noreferrer\">project page</a> is a good place to start. This <a href=\"http://stackoverflow.com/a/256011/85125\">SO post</a> also has good information on uses for state machines."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453934317, "post_id": 35046216, "comment_id": 57823307, "body": "Your question is too broad. We have no idea what your level of expertise is, so any explanation would have to start at the basics and move up, which would be a tutorial. Stack Overflow isn&#39;t a substitute for your own research; Please tell us what you&#39;ve tried and why that didn&#39;t help. Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and <a href=\"http://meta.stackoverflow.com/q/261592/128421\">meta.stackoverflow.com/q/261592/128421</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3020, "user_id": 4453584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25188d50654874d1125dd754d783851b?s=128&d=identicon&r=PG&f=1", "display_name": "guitarman", "link": "https://stackoverflow.com/users/4453584/guitarman"}, "is_accepted": false, "score": 2, "last_activity_date": 1453969361, "last_edit_date": 1453969361, "creation_date": 1453925650, "answer_id": 35047144, "question_id": 35046216, "link": "https://stackoverflow.com/questions/35046216/where-can-we-use-gem-aasm/35047144#35047144", "title": "Where can we use Gem AASM?", "body": "<p>The intention is to allow defined values for an attribute only and allow predefined transitions from one state to another only. For example, state A can be transferred in state B or state C, but state B can not be transferred in state C. In addition AASM offers some callback methods to controll transitions or do something before or after a transition. </p>\n\n<p>I used AASM within a user model to ensure that the user states can only be changed on predefined ways. See the example:</p>\n\n<pre><code># THE STATE MACHINE ----------------------------------------------------------\nINITIAL_STATE = :pending\nSTATES = {\n  INITIAL_STATE    =&gt; 'new user accounts initial state',\n  :waiting         =&gt; 'new user account is waiting for confirmation',\n  :confirmed       =&gt; 'user confirmed the registration',\n  :changing_email  =&gt; 'user changed its email address',\n  :blocked         =&gt; 'user can not log in',\n  :anonymized      =&gt; 'personal user data deleted',\n  :not_deletable   =&gt; 'can not delete user, because he has some content'\n}\n\ninclude AASM\nattr_protected :state\naasm({:column =&gt; :state}) do\n  STATES.keys.each do |key|\n    state(key, (key == INITIAL_STATE ? {:initial =&gt; true} : {}))\n  end\n\n  # creates instance methods confirm, confirm! and confirmed? for later usage\n  event :confirm do\n    transitions :to =&gt; :confirmed, :from =&gt; :waiting\n    transitions :to =&gt; :confirmed, :from =&gt; :blocked\n    transitions :to =&gt; :confirmed, :from =&gt; :changing_email\n    transitions :to =&gt; :confirmed, :from =&gt; :not_deletable\n  end\nend\n</code></pre>\n\n<p>In the event block I define how a user state can become confirmed. Therefore the user.state attribute has to be \"waiting\", \"blocked\", \"changing_email\" or \"not_deleteable\". In these cases you can call some magic methods which AASM brings in.</p>\n\n<pre><code>user.confirmed?\n# =&gt; false\n</code></pre>\n\n<p>Now you can confirm the user.</p>\n\n<pre><code>user.confirm\nuser.state\n# =&gt; confirmed\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>user.confirm! \n# =&gt; true\nuser.state\n# =&gt; confirmed\n</code></pre>\n\n<p>Now</p>\n\n<pre><code>user.confirmed?\n# =&gt; true\n</code></pre>\n\n<p><strong>If</strong> my user has the state \"anonymized\" then I can't confirm it and will get an error. This way my user instances have well defined states at any time. I can't make a mistake while changing a user state. I do it with the defined methods from AASM only. Only defined states and defined transitions are possible to do.</p>\n"}], "owner": {"reputation": 11, "user_id": 4418884, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-C21gwe67bUM/AAAAAAAAAAI/AAAAAAAADB4/3PwPL7eLsBg/photo.jpg?sz=128", "display_name": "kanagaraj gurusamy", "link": "https://stackoverflow.com/users/4418884/kanagaraj-gurusamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1453969361, "creation_date": 1453922534, "question_id": 35046216, "link": "https://stackoverflow.com/questions/35046216/where-can-we-use-gem-aasm", "title": "Where can we use Gem AASM?", "body": "<p>Since I am new to ROR, I just want to know about the Gem AASM. Actually, I have Ruby code which is already built with AASM Gem. </p>\n\n<p>It's hard for me to understand that why they are using this Gem here.</p>\n\n<p>I just want to know the basic ideas of why/when/where can we use this Gem.</p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "hashmap"], "comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453922685, "post_id": 35046176, "comment_id": 57816699, "body": "What is the use of <code>winner</code> parameter?"}, {"owner": {"reputation": 854, "user_id": 4696152, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ce4a2a4814cedafd095f3516a9f9cfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Herbert", "link": "https://stackoverflow.com/users/4696152/zack-herbert"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453922901, "post_id": 35046176, "comment_id": 57816852, "body": "@WandMaker I just fixed that it was supposed to be high_score"}, {"owner": {"reputation": 5713, "user_id": 846163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/623857ee8390f91edba65fcac0d152ab?s=128&d=identicon&r=PG", "display_name": "sschmeck", "link": "https://stackoverflow.com/users/846163/sschmeck"}, "edited": false, "score": 1, "creation_date": 1453923022, "post_id": 35046176, "comment_id": 57816924, "body": "What hash do you expect, example?"}, {"owner": {"reputation": 854, "user_id": 4696152, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ce4a2a4814cedafd095f3516a9f9cfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Herbert", "link": "https://stackoverflow.com/users/4696152/zack-herbert"}, "reply_to_user": {"reputation": 5713, "user_id": 846163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/623857ee8390f91edba65fcac0d152ab?s=128&d=identicon&r=PG", "display_name": "sschmeck", "link": "https://stackoverflow.com/users/846163/sschmeck"}, "edited": false, "score": 1, "creation_date": 1453923096, "post_id": 35046176, "comment_id": 57816973, "body": "@sschmeck I provided that at the bottom of the question"}, {"owner": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "edited": false, "score": 2, "creation_date": 1453923139, "post_id": 35046176, "comment_id": 57816998, "body": "What does the hash actually contain? This looks like it should work"}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453923271, "post_id": 35046176, "comment_id": 57817080, "body": "When you say <code>it doesn&#39;t contain the key for each high_score.user</code> - do you mean those users belonged to current arcade?  Should you be using <code>Game.all</code> instead of <code>self.games</code>?"}, {"owner": {"reputation": 854, "user_id": 4696152, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ce4a2a4814cedafd095f3516a9f9cfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Herbert", "link": "https://stackoverflow.com/users/4696152/zack-herbert"}, "reply_to_user": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "edited": false, "score": 0, "creation_date": 1453923315, "post_id": 35046176, "comment_id": 57817106, "body": "@Dbz I think I figured out my problem, for some reason the hash was only containing the values not the key, so at the end I just returned winners and it seems to be working now"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1453929119, "post_id": 35046176, "comment_id": 57820330, "body": "When you present a question it is important to first explain what you are trying to accomplish, preferably in words, preferably with an example. Instead you are asking the reader to figure out what you are trying to by studying your code. This question begs for an example at the beginning. When you provide an example, make it self-contained (no <code>...</code> or <code>etc.</code>), and compact as possible, assign a variable to each input object (so readers can cut-and-paste and refer to the variables in comments and answers without having to define them), and show the desired result."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453934635, "post_id": 35046176, "comment_id": 57823458, "body": "Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. We need to see the minimal code that demonstrates the problem, along with the minimum data necessary to test that code. As is we can&#39;t run it and we have to dissect your code to figure out the data, which wastes our time and slows our answers."}], "answers": [{"tags": [], "owner": {"reputation": 32547, "user_id": 276959, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mSp5G.jpg?s=128&g=1", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/276959/mohamad"}, "is_accepted": false, "score": 0, "last_activity_date": 1453923310, "creation_date": 1453923310, "answer_id": 35046472, "question_id": 35046176, "link": "https://stackoverflow.com/questions/35046176/create-a-hash-containing-arrays/35046472#35046472", "title": "Create a hash containing arrays", "body": "<p>How about something like this? Using <a href=\"http://ruby-doc.org/core-2.3.0/Enumerable.html#method-i-each_with_object\" rel=\"nofollow\"><code>each_with_object</code></a>:</p>\n\n<pre><code>def prizes_by winner\n  games.each_with_object({}) do |game, hash|\n    if high_score = game.high_score\n      (hash[high_score.user] ||= []).push(game)\n    end\n  end\nend\n</code></pre>\n\n<p>I haven't tested this.</p>\n"}], "owner": {"reputation": 854, "user_id": 4696152, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ce4a2a4814cedafd095f3516a9f9cfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Herbert", "link": "https://stackoverflow.com/users/4696152/zack-herbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1453934531, "creation_date": 1453922409, "last_edit_date": 1453934531, "question_id": 35046176, "link": "https://stackoverflow.com/questions/35046176/create-a-hash-containing-arrays", "title": "Create a hash containing arrays", "body": "<p>I am trying to create a hash called winners.</p>\n\n<p>I have a model called <code>arcade</code> each even has <code>games</code> associated with it. I am trying to create a hash of winners that is matched to each prize.</p>\n\n<p><code>arcade.rb</code> is:</p>\n\n<pre><code>def prizes_by winner\n  winners = {}\n  self.games.each do |g|\n   high_score = g.high_score\n   if high_score\n     winners[high_score.user] ||= []\n     winners[high_score.user] &lt;&lt; g\n   end\n  end\nend \n</code></pre>\n\n<p>When I get the hash back it doesn't contain the key for each <code>high_score.user</code>.</p>\n\n<p>I expect a hash that looks like:</p>\n\n<pre><code>winners{\n   user1 =&gt; [game1, game2, game3...]\n   user2 =&gt; [game 4]\n   user3 =&gt; [game10, game11]\n   ...\n}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "devise"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 2, "creation_date": 1453923676, "post_id": 35046112, "comment_id": 57817313, "body": "The registrations view is <code>&#47;app&#47;views&#47;devise&#47;registrations&#47;new.html.erb</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "is_accepted": false, "score": 0, "last_activity_date": 1484051653, "creation_date": 1484051653, "answer_id": 41568996, "question_id": 35046112, "link": "https://stackoverflow.com/questions/35046112/how-to-work-with-tabbed-signup-signin-form-using-devise-in-rails/41568996#41568996", "title": "How to work with tabbed signup/signin form using devise in rails", "body": "<p>Well, I like to make reference to the comment from @max as an answer, so that others could take that as an answer to this question. </p>\n\n<p>I believe you are getting those errors because you are hacking your session views in Devise. The registration view in Devise is at <code>/app/views/devise/registrations/new.html.erb</code>. You have to refactor your code to do away with the errors.</p>\n\n<p><em>Answer is courtesy of @max</em> </p>\n"}], "owner": {"reputation": 3276, "user_id": 1337630, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/48cb4a2446034dc6443a7a40f2b00608?s=128&d=identicon&r=PG", "display_name": "Deepak Kumar Padhy", "link": "https://stackoverflow.com/users/1337630/deepak-kumar-padhy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484051653, "creation_date": 1453922247, "question_id": 35046112, "link": "https://stackoverflow.com/questions/35046112/how-to-work-with-tabbed-signup-signin-form-using-devise-in-rails", "title": "How to work with tabbed signup/signin form using devise in rails", "body": "<p>I am a new to the whole rails environment and learning to implement 'devise' gem for my project. Currently I have a tabbed signup/signin form.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zELb1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zELb1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have generated the devise views and modified the <code>/app/views/devise/sessions/new.html.erb</code> to show this kind of tabbed form.Now functionality wise everything working fine. But there are several issues.</p>\n\n<ol>\n<li>When I am hitting <a href=\"http://localhost:3000/users/sign_up\" rel=\"nofollow noreferrer\">http://localhost:3000/users/sign_up</a> it still shows the devise old signup form. I want to show the same form with the <code>Registration</code> tab activated.</li>\n<li>On the <code>Register</code> tab if I submit the form with some error (Empty Email/Password), it is again redirecting to the default device registration form to show up the error messages.</li>\n</ol>\n\n<p>I just want to get rid of this default registration page and want to use my <code>Register</code> tab for all signup purposes. </p>\n\n<p>This question may sounds very basic, but I have no idea how to customize it.\nPlease help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "while-loop", "syntax-error"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1453920376, "post_id": 35045506, "comment_id": 57815388, "body": "What is your question?"}, {"owner": {"reputation": 2285, "user_id": 4620141, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10152601898256854/picture?type=large", "display_name": "David Geismar", "link": "https://stackoverflow.com/users/4620141/david-geismar"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1453920505, "post_id": 35045506, "comment_id": 57815466, "body": "well I am asking  if someone can see the syntax error. I thought it was pretty clear"}, {"owner": {"reputation": 32547, "user_id": 276959, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mSp5G.jpg?s=128&g=1", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/276959/mohamad"}, "edited": false, "score": 1, "creation_date": 1453920671, "post_id": 35045506, "comment_id": 57815563, "body": "Your code has some serious issues. What happens if <code>params[:room_number]</code> is 5 and you get an error on the 3rd iteration? You now have two rooms created in a failed request. You should think about using transaction, and removing some of the logic from the controller. Also, using something <code>params[:room_number].to_.each</code>"}, {"owner": {"reputation": 2285, "user_id": 4620141, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10152601898256854/picture?type=large", "display_name": "David Geismar", "link": "https://stackoverflow.com/users/4620141/david-geismar"}, "reply_to_user": {"reputation": 32547, "user_id": 276959, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mSp5G.jpg?s=128&g=1", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/276959/mohamad"}, "edited": false, "score": 0, "creation_date": 1453920858, "post_id": 35045506, "comment_id": 57815687, "body": "@Mohamad what is transaction?"}, {"owner": {"reputation": 32547, "user_id": 276959, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mSp5G.jpg?s=128&g=1", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/276959/mohamad"}, "edited": false, "score": 0, "creation_date": 1453921284, "post_id": 35045506, "comment_id": 57815924, "body": "@DavidGeismar transactions help you maintain your data integrity in case of failure; if anything goes wrong before the entire operation is complete, all changes will be rolled back, and the state of the database will be restored to how it was before the request was made. So you won&#39;t end up with two rooms if my scenario above comes to fruition, as they will be rolled back and won&#39;t be committed in to the database. <a href=\"https://www.google.com.br/search?q=database+transaction&amp;gws_rd=cr,ssl&amp;ei=exOpVsDGLoKHwQTWpLOYDg\" rel=\"nofollow noreferrer\">google.com.br/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1272, "user_id": 3338159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6132bd030583e478dbc41c369f410ad6?s=128&d=identicon&r=PG&f=1", "display_name": "T J", "link": "https://stackoverflow.com/users/3338159/t-j"}, "is_accepted": true, "score": 3, "last_activity_date": 1453920478, "creation_date": 1453920478, "answer_id": 35045584, "question_id": 35045506, "link": "https://stackoverflow.com/questions/35045506/syntax-error-on-while-loop-with-ruby/35045584#35045584", "title": "syntax error on while loop with ruby", "body": "<p>I believe your error is being caused by your use of <code>i++</code> which is not valid ruby syntax.  Try replacing that with <code>i += 1</code></p>\n"}, {"tags": [], "owner": {"reputation": 4561, "user_id": 1043569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f0397c0ae99625fde35aaa75a20494e?s=128&d=identicon&r=PG", "display_name": "Atri", "link": "https://stackoverflow.com/users/1043569/atri"}, "is_accepted": false, "score": 0, "last_activity_date": 1453920562, "creation_date": 1453920562, "answer_id": 35045612, "question_id": 35045506, "link": "https://stackoverflow.com/questions/35045506/syntax-error-on-while-loop-with-ruby/35045612#35045612", "title": "syntax error on while loop with ruby", "body": "<p>The problem is <code>i++</code>. Replace it with <code>i += 1</code> or <code>i = i + 1</code>. Ruby doesn't support <code>++</code> operator.</p>\n"}], "owner": {"reputation": 2285, "user_id": 4620141, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10152601898256854/picture?type=large", "display_name": "David Geismar", "link": "https://stackoverflow.com/users/4620141/david-geismar"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "closed_date": 1453920615, "accepted_answer_id": 35045584, "answer_count": 2, "score": -4, "last_activity_date": 1453920562, "creation_date": 1453920186, "last_edit_date": 1453920432, "question_id": 35045506, "link": "https://stackoverflow.com/questions/35045506/syntax-error-on-while-loop-with-ruby", "closed_reason": "Duplicate", "title": "syntax error on while loop with ruby", "body": "<p>I am having a syntax error on my API I dont understand. \nInside my rooms_controller I have a multiple_create method responsible for creating multiple rooms :</p>\n\n<pre><code>  def multiple_create\n    i = 0\n    while i &lt; params[:room_number]\n      Room.create!(room_params)\n      i++\n    end\n    if i == params[:room_number]\n      render json: {message: \"All rooms where successfully created\"}\n    else\n      render json: {message: \"There was a problem during room creation. Some rooms might not have been created\"}\n    end\n  end\n</code></pre>\n\n<p>I am testing this method with a curl request :</p>\n\n<pre><code>curl -i -X POST                                      \\\n       -H 'Content-Type: application/json'              \\\n       -H 'X-User-Email: leon_kuhlman@zulauf.net'               \\\n       -H 'X-User-Token: 7B5RGzsosxekH-5p2tt5'          \\\n       -d '{ \"room_number\": 10, \"room\": {\"content\": \"plein sud\"} }'    \\\n      http://localhost:3000/api/v1/hotels/1/rooms/multiple_create\n</code></pre>\n\n<p>but I am getting a syntax error : </p>\n\n<pre><code>&gt; syntax error, unexpected keyword_end\n/Users/davidgeismar/code/davidgeismar/quick_bed_api/app/controllers/api/v1/rooms_controller.rb:68: syntax error, unexpected end-of-input, expecting keyword_end\n\napp/controllers/api/v1/rooms_controller.rb, line 34\n---------------------------------------------------\n\n``` ruby\n   29       i = 0\n   30       num = 5\n   31       while i &lt; num\n   32         Room.create!(room_params)\n   33         i++\n&gt;  34       end\n   35       if i == params[:room_number]\n   36         render json: {message: \"All rooms where successfully created\"}\n   37       else\n   38         render json: {message: \"There was a problem during room creation. Some rooms might not have been created\"}\n   39       end\n``\n</code></pre>\n\n<p>I dont get why I am getting an error here. Here's my all controller if you can find it !</p>\n\n<pre><code>class Api::V1::RoomsController &lt; Api::V1::BaseController\n\nbefore_action :set_room, only: [ :show, :update]\n\n  def index\n    if params[:search].blank?\n      @rooms = policy_scope(Room)\n    else\n      @slots = policy_scope(Room)\n      .where('name ILIKE ?', \"%#{params[:search]}%\")\n    end\n  end\n\n  def show\n  end\n\n  def update\n    if @room.update(room_params)\n      render :show\n    else\n      render_error\n    end\n  end\n\n\n  ## input hotel + number of rooms\n\n  def multiple_create\n    i = 0\n    num = 5\n    while i &lt; params[:room_number]\n      Room.create!(room_params)\n      i++\n    end\n    if i == params[:room_number]\n      render json: {message: \"All rooms where successfully created\"}\n    else\n      render json: {message: \"There was a problem during room creation. Some rooms might not have been created\"}\n    end\n  end\n\n  def create\n    #ATTENTION LA LIGNE CI-DESSOUS DOIT ETRE CORRIG\u00c9 POUR LIER ACCOUNT ET ROOM\n    @room = current_user.rooms.build(room_params)\n    authorize @room\n    if @room.save\n      render :show\n    else\n      render_error\n    end\n  end\n\nprivate\n\n  def set_room\n      @room = Room.find(params[:id])\n      authorize @room\n  end\n\n  def room_params\n    params.require(:room).permit(:hotel_id, :content)\n  end\n\n  def render_error\n    render json: { errors: @room.errors.full_messages }, status: :unprocessable_entity\n  end\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "model-view-controller"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453919866, "post_id": 35045286, "comment_id": 57815071, "body": "I think the &quot;CA&quot; is one thing, &quot;controller action.&quot; It refers to the methods in your controller that routes link to, generally <code>index</code>, <code>create</code>, <code>show</code>, etc."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1453919912, "post_id": 35045286, "comment_id": 57815099, "body": "Things can be built in any order, although without the route, controllers are harder to test. I don&#39;t see how an action could be thought to represent a model; a Rails controller implements actions, the <i>controller</i> in MVC is what determines what handles what requests (messages, calls, etc.)"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1453919975, "post_id": 35045286, "comment_id": 57815144, "body": "My own take is that you&#39;re vastly over-complicating this."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453920016, "post_id": 35045286, "comment_id": 57815170, "body": "Also, unless I&#39;m mistaken &quot;RCAV&quot; refers to the order of execution when Rails receives a request. It does not refer to the order you should build thing in."}], "answers": [{"tags": [], "owner": {"reputation": 1592, "user_id": 4271743, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Nivk1.jpg?s=128&g=1", "display_name": "ConnorCMcKee", "link": "https://stackoverflow.com/users/4271743/connorcmckee"}, "is_accepted": true, "score": 0, "last_activity_date": 1453953845, "last_edit_date": 1453953845, "creation_date": 1453924630, "answer_id": 35046849, "question_id": 35045286, "link": "https://stackoverflow.com/questions/35045286/do-actions-in-rcav-model-in-mvc-rails/35046849#35046849", "title": "Do Actions in RCAV = Model in MVC? (Rails)", "body": "<p>To your title question, <strong>no.</strong></p>\n\n<p>To elaborate, it's kind of confusing to map out RCAV (the sequence) against MVC (the framework), but I'll see if I can clarify. It's worth noting that the concepts themselves are not as complex as they seem, it's just confusing to explain.</p>\n\n<p><strong>RCAV</strong>\n(Route-Controller-Action-View)</p>\n\n<p><em>Routes</em> are defined in config/routes.rb. You may think of them as the coupling between an HTTP Request and a Method (a specific type of method called an Action). On the one side it defines a path (ex. \"/login\") and one of the HTTP verbs (ex. \"GET\"), and says that whenever that type of request is made to that location, to perform the appropriate action. On the other side, an action is given in the form of the name of its controller (ex. \"sessions\"), and the name of the method itself (ex. \"new\").</p>\n\n<p><em>Controllers</em> receive the request according to the routes (so following the above example, if a user navigated to www.example.com/login, they would wind up in the sessions controller, which would be housed in app/controllers/sessions_controller.rb). The Controller may perform a number of functions prior to (and following) the action, in the form of callbacks. Callbacks are arguably a more advanced concept than what you need to understand right now, they are an important step (and the reason I explain RCAV as \"Route >> Controller >> Action >> View\", not as \"Route >> Controller-Action >> View\").</p>\n\n<p><em>Actions</em> are public methods in the Controller. Again, by our above example, you'll be hitting a method named \"new\" in the sessions_controller when a user navigates to www.example.com/login. Actions may perform any variety of functions, and there is often interaction with the model here (for instance, you may have a session model in app/models/sessions.rb with a method named \"logout\", and perhaps the first thing you do when you hit the login page is ensure the user is currently logged out by calling <code>Session.logout</code>. This is a poor design, but a decent example). Your action must \"return\" in one way or another. Assuming your action is meant to be consumed by a user directly through their browser (as opposed to as, say, a JSON or XML service), you will either render a view now, or redirect_to another action.</p>\n\n<p><em>Views</em> are, dare I say, the \"end result\" of the action. If nothing is specified, the above example will end by rendering \"app/views/sessions/new.html.erb\" for the user (Rails defaults to rendering the view whose path matches the controller and action, but as referenced above you could name something different). In this file you will also potentially make reference to the model associated with sessions (but this time inside of ERB tags, to be compiled into HTML).</p>\n\n<p><strong>MVC</strong>\n(Model-View-Controller)</p>\n\n<p><em>Models</em> are classes tied, generally, to tables in a database. They contain validations for their fields, class methods, and instance methods. Say your database keeps track of sessions. Then you could potentially grab a list of sessions by calling <code>Session.all</code> anywhere in your application. You'd probably use an action in the Sessions controller to save this list to an instance variable (maybe <code>@sessions</code>), which could in turn be accessed in its appropriate view (<code>&lt;% @sessions.each do |s| %&gt; ... &lt;% end %&gt;</code>).</p>\n\n<p><em>Views</em> are essentially the web pages. They can bring along their own styles and scripts, and exist in the form of HTML files with embedded ruby. They are the end point of request made to your site (unless you're hitting a service which returns something like JSON or XML instead).</p>\n\n<p><em>Controllers</em> contain all the actions a user may access, often prepare variables via methods from the models, and generally drop the user into a view.</p>\n\n<p><strong>In Summation</strong></p>\n\n<p>A user accesses a route. The route drops them into a specific action within a controller. The controller (in the form of callbacks) and the action (on its own) prepare data from the model (via instance variables) to be consumed by the view. The view is then rendered into the users browser.</p>\n\n<p>This <em>is</em> a simplification, but in the most standard cases, this is how the MVC framework (and rails, specifically) functions.</p>\n"}], "owner": {"reputation": 15, "user_id": 5848357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fa2003e006ba1db733dcb1864b1cb76?s=128&d=identicon&r=PG&f=1", "display_name": "mszub", "link": "https://stackoverflow.com/users/5848357/mszub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 35046849, "answer_count": 1, "score": 1, "last_activity_date": 1453953845, "creation_date": 1453919458, "question_id": 35045286, "link": "https://stackoverflow.com/questions/35045286/do-actions-in-rcav-model-in-mvc-rails", "title": "Do Actions in RCAV = Model in MVC? (Rails)", "body": "<p>I'm trying to better understand the Rails workflow, specifically RCAV in relation to MVC. I know that MVC is the typical structure of a Rails app and that RCAV is the standard order of building various components of the app, however, I'm a little confused about the correlation between the two. </p>\n\n<p>For example, I'm assuming the routes in RCAV are what link the models with views and controller in MVC. Is this correct?</p>\n\n<p>I'm also guessing that the controller and view in RCAV are the same as the controller and view in MVC and simply represent the order in which you build them. Is this correct as well?</p>\n\n<p>What I'm really stuck on is the Action part of RCAV - does this represent the Model component of MVC?</p>\n\n<p>Sorry if my question doesn't make sense, just trying to get a better hang of the standard Rails workflow and the order in which various components of an app are typically built. I wish it were a little more distilled i.e. \"first build Model, then Views, then Controller\" but this whole separate RCAV thing is confusing me a little.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 646, "user_id": 2171548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dabc3bb73957ca9b86a66e0992004f4a?s=128&d=identicon&r=PG", "display_name": "depquid", "link": "https://stackoverflow.com/users/2171548/depquid"}, "edited": false, "score": 1, "creation_date": 1453919879, "post_id": 35045076, "comment_id": 57815077, "body": "Why not just use <code>root_url</code> and related (<code>link_to</code> and <code>url_for</code>)?"}], "answers": [{"tags": [], "owner": {"reputation": 7036, "user_id": 1740079, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Xp2ab.png?s=128&g=1", "display_name": "nicooga", "link": "https://stackoverflow.com/users/1740079/nicooga"}, "is_accepted": true, "score": 6, "last_activity_date": 1453919499, "last_edit_date": 1453919499, "creation_date": 1453919145, "answer_id": 35045202, "question_id": 35045076, "link": "https://stackoverflow.com/questions/35045076/creating-a-global-variable-to-all-the-controllers-in-rails/35045202#35045202", "title": "Creating a global variable to all the controllers in Rails", "body": "<p>Take advantage of ruby's inheritance chain. You can define that on some parent class of all your controllers as a constant, normally <code>ApplicationController</code>:</p>\n\n\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  BASE_URL = \"www.url.com/something/\"\nend\n</code></pre>\n\n<p>Then it will become available to all is children, namely <code>PostsController &lt; ApplicationController</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6059, "user_id": 301419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/03850242d6e9a3b36279cdaf6f231d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Alok Swain", "link": "https://stackoverflow.com/users/301419/alok-swain"}, "is_accepted": false, "score": 8, "last_activity_date": 1453919189, "creation_date": 1453919189, "answer_id": 35045216, "question_id": 35045076, "link": "https://stackoverflow.com/questions/35045076/creating-a-global-variable-to-all-the-controllers-in-rails/35045216#35045216", "title": "Creating a global variable to all the controllers in Rails", "body": "<p>In your application controller.</p>\n\n<pre><code>before_action :set_variables\n\ndef set_variables\n @baseURL = \"www.url.com/something/\"\nend\n</code></pre>\n\n<p>This <code>@baseURL</code> instance variable will be accessible in all your actions and views as you make all controllers inherit the ApplicationController. </p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 3942941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5f524eaf2c6c5e6a4f73e58e8f5139?s=128&d=identicon&r=PG&f=1", "display_name": "abcm1989", "link": "https://stackoverflow.com/users/3942941/abcm1989"}, "is_accepted": false, "score": 0, "last_activity_date": 1453919280, "creation_date": 1453919280, "answer_id": 35045236, "question_id": 35045076, "link": "https://stackoverflow.com/questions/35045076/creating-a-global-variable-to-all-the-controllers-in-rails/35045236#35045236", "title": "Creating a global variable to all the controllers in Rails", "body": "<p>Rails controllers inherit from ApplicationController. Try putting it there:</p>\n\n<pre><code>def baseUrl\n @baseURL = \"www.url.com/something/\"\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3020, "user_id": 4453584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25188d50654874d1125dd754d783851b?s=128&d=identicon&r=PG&f=1", "display_name": "guitarman", "link": "https://stackoverflow.com/users/4453584/guitarman"}, "is_accepted": false, "score": 0, "last_activity_date": 1453919823, "creation_date": 1453919823, "answer_id": 35045389, "question_id": 35045076, "link": "https://stackoverflow.com/questions/35045076/creating-a-global-variable-to-all-the-controllers-in-rails/35045389#35045389", "title": "Creating a global variable to all the controllers in Rails", "body": "<p>You could define a class variable in your application controller:</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  @@baseURL = \"www.url.com/something/\"\n\n  def self.baseURL\n    @@baseURL\n  end\nend\n\nclass SomeFrontendController &lt; ApplicationController\n\nend\n</code></pre>\n\n<p>Within all your controllers now you could access @@baseURL or call the class method:</p>\n\n<pre><code>SomeFrontendController.baseURL\n# =&gt; \"www.url.com/something/\"\n</code></pre>\n\n<p><strong>But</strong> this is dirty. <strong>Better</strong> use a constant:</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  BASE_URL = \"www.url.com/something/\"\nend\n\nclass SomeFrontendController &lt; ApplicationController\n\nend\n</code></pre>\n\n<p>Within all your controllers now you could access BASE_URL or:</p>\n\n<pre><code>SomeFrontendController::BASE_URL\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 490, "user_id": 4835347, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jYSX21F2zsc/AAAAAAAAAAI/AAAAAAAAAeo/MJZfozW2Ml8/photo.jpg?sz=128", "display_name": "Igor Springer", "link": "https://stackoverflow.com/users/4835347/igor-springer"}, "is_accepted": false, "score": 0, "last_activity_date": 1453922234, "creation_date": 1453922234, "answer_id": 35046106, "question_id": 35045076, "link": "https://stackoverflow.com/questions/35045076/creating-a-global-variable-to-all-the-controllers-in-rails/35046106#35046106", "title": "Creating a global variable to all the controllers in Rails", "body": "<p>If it is only one variable and you are <strong>sure</strong>, that you need it only within controllers scope declaring a constant in <code>ApplicationController</code> should be enough:</p>\n\n\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  BASE_URL = \"www.url.com/something/\"\nend\n\nclass SomeOtherController &lt; ApplicationController\n  def index\n   @base_url = BASE_URL\n  end\nend\n</code></pre>\n\n<p>However usually custom URLs (and other things like email addresses) earlier or later are needed in other parts of an application so it is useful to have a single source of truth by using gem like <a href=\"https://github.com/settingslogic/settingslogic\" rel=\"nofollow\" title=\"settingslogic\">https://github.com/settingslogic/settingslogic</a> and store all such variables in one place (file).</p>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 1049779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7865f5b0eb4ea45364b8f85b8b2dfaa0?s=128&d=identicon&r=PG", "display_name": "DarthTux", "link": "https://stackoverflow.com/users/1049779/darthtux"}, "is_accepted": false, "score": 2, "last_activity_date": 1453928547, "creation_date": 1453928547, "answer_id": 35047921, "question_id": 35045076, "link": "https://stackoverflow.com/questions/35045076/creating-a-global-variable-to-all-the-controllers-in-rails/35047921#35047921", "title": "Creating a global variable to all the controllers in Rails", "body": "<p>You could define a method inside <code>ApplicationController</code> and use that method like a helper_method to access it from the views.</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n\n  helper_method :base_url\n  def base_url\n    @base_url ||= \"www.url.com/something/\"\n  end\nend\n</code></pre>\n\n<p>I try to avoid before_actions to setup variables.\nInside your controllers and views you will able to call the <code>base_url</code> method.</p>\n\n<p>It's the same to include this method in the <code>application_helper.rb</code>.</p>\n"}], "owner": {"reputation": 680, "user_id": 4897880, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2d3bf5b67282f5f466e503d702dabcf3?s=128&d=identicon&r=PG", "display_name": "Eduardo Pedroso", "link": "https://stackoverflow.com/users/4897880/eduardo-pedroso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9363, "favorite_count": 1, "accepted_answer_id": 35045202, "answer_count": 6, "score": 4, "last_activity_date": 1453928547, "creation_date": 1453918725, "last_edit_date": 1453919454, "question_id": 35045076, "link": "https://stackoverflow.com/questions/35045076/creating-a-global-variable-to-all-the-controllers-in-rails", "title": "Creating a global variable to all the controllers in Rails", "body": "<p>I have a base URL common to all my controllers. I want to declare this as a variable in one place, and use it in all my controllers. That will make any future updates fast and simple. Is that possible? I'm declaring it in all my controllers like this:</p>\n\n<pre><code>@baseURL = \"www.url.com/something/\"\n</code></pre>\n"}, {"tags": ["sql", "ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 6, "creation_date": 1453920542, "post_id": 35045074, "comment_id": 57815488, "body": "<code>sanitize_sql_like</code> is the correct way to do this. The fact that it&#39;s <code>protected</code> does not prevent you from calling it directly from the class context in a class that inherits from ActiveRecord::Base, e.g. in a Rails <code>scope</code> lambda, as in this answer: <a href=\"http://stackoverflow.com/questions/5709887/a-proper-way-to-escape-when-building-like-queries-in-rails-3-activerecord/32165883#32165883\" title=\"a proper way to escape when building like queries in rails 3 activerecord\">stackoverflow.com/questions/5709887/&hellip;</a>. If you&#39;re having trouble with this, please edit your question to include the code you tried and the exact error message you&#39;re getting."}, {"owner": {"reputation": 224, "user_id": 3732185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472fc51078c5ecb7bde28c95b2cc2085?s=128&d=identicon&r=PG", "display_name": "Sergio", "link": "https://stackoverflow.com/users/3732185/sergio"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453926822, "post_id": 35045074, "comment_id": 57819110, "body": "Thanks @Jordan. Is there a way to call it from a controller?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1453926955, "post_id": 35045074, "comment_id": 57819186, "body": "Not directly. You should have very little query logic in your controller, though."}], "owner": {"reputation": 224, "user_id": 3732185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472fc51078c5ecb7bde28c95b2cc2085?s=128&d=identicon&r=PG", "display_name": "Sergio", "link": "https://stackoverflow.com/users/3732185/sergio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "closed_date": 1454775749, "answer_count": 0, "score": 4, "last_activity_date": 1453918718, "creation_date": 1453918718, "question_id": 35045074, "link": "https://stackoverflow.com/questions/35045074/how-to-properly-escape-like-queries-in-rails", "closed_reason": "Duplicate", "title": "How to _properly_ escape LIKE queries in Rails?", "body": "<p>I have been searching for a way to <strong>properly</strong> escape LIKE queries in Ruby on Rails. But all the answers suggest to use string interpolation like this:</p>\n\n<pre><code>Post.where(\"title LIKE ?\", \"%#{title}%\")\n</code></pre>\n\n<p>Even with Arel people suggest using string interpolation in the same way.</p>\n\n<p>But this has a caveat. If the query contains a % character it will affect the LIKE expression, that means a query like <code>20% less</code> will cause the results to include posts which title contains anything between <code>20</code> and <code>less</code> which is not what I want. What I want is to get all posts which contains <code>20% less</code> in the title.</p>\n\n<p>I know there is a method called <code>sanitize_sql_like</code> in the <code>ActiveRecord::Sanitization</code> module but it is a protected method and I cannot call it directly.</p>\n\n<p>I could go to the method source on github and copy the code, it's a pretty simple code actually:</p>\n\n<pre><code>pattern = Regexp.union(escape_character, \"%\", \"_\")\nstring.gsub(pattern) { |x| [escape_character, x].join }\n</code></pre>\n\n<p>But I wonder. If Rails already have it, why write it again?</p>\n\n<p>Is there some way to call the method directly? or any other method to escape LIKE queries in Rails.</p>\n\n<p>PD: Back in the old days in CodeIgniter I used a method called <code>escape_like_str</code> to do exactly this. I refuse to believe Rails doesn't have one.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "hirb"], "comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453921496, "post_id": 35045064, "comment_id": 57816040, "body": "Don&#39;t think that feature is available in <code>hirb</code> implementation"}], "owner": {"reputation": 3238, "user_id": 2469769, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7b880cf2f7613e8752fba1e19e7bc7bc?s=128&d=identicon&r=PG", "display_name": "AndrewH", "link": "https://stackoverflow.com/users/2469769/andrewh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1453918704, "creation_date": 1453918704, "question_id": 35045064, "link": "https://stackoverflow.com/questions/35045064/how-can-i-specify-fields-to-ignore-in-hirb-output", "title": "How can I specify fields to ignore in Hirb output", "body": "<p><a href=\"http://tagaholic.me/2009/03/13/hirb-irb-on-the-good-stuff.html\" rel=\"nofollow\">This question</a> is helpful but not quite what I need.</p>\n\n<p>I would like to provide a list of fields to ignore in a Hirb yaml configuration file. A blacklist, as opposed to a whitelist. This way, as my model changes from migrations, I wont have to keep adding fields.</p>\n\n<p>I would like for something like this to work:</p>\n\n<hr>\n\n<pre><code>:output:\n  User:\n    :options:\n      :ignore_fields:\n        - password_digest\n        - password_reset_token\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ember-cli-rails"], "comments": [{"owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1453920655, "post_id": 35044864, "comment_id": 57815552, "body": "Are you using <code>rvm</code> or <code>rbenv</code> or some other ruby version manager? Did you execute all those commands in the same directory?"}, {"owner": {"reputation": 42480, "user_id": 148423, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6ed1f9b5afd258d0b73ad1eae10ac384?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/148423/joe"}, "reply_to_user": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1453922078, "post_id": 35044864, "comment_id": 57816357, "body": "Yes, <code>rbenv</code>, and yes all in the same directory (root directory of the project)."}], "owner": {"reputation": 42480, "user_id": 148423, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6ed1f9b5afd258d0b73ad1eae10ac384?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/148423/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1453938516, "creation_date": 1453918062, "last_edit_date": 1453938516, "question_id": 35044864, "link": "https://stackoverflow.com/questions/35044864/installerror-installing-ember-cli-rails", "title": "InstallError installing ember-cli-rails", "body": "<p>I'm new to Ruby so I'm sure there's something I've overlooked, but I don't know what.</p>\n\n<p>I'm trying to install a Rails app in a bundle.</p>\n\n<pre><code>$ bundle install --path vendor/bundle\n</code></pre>\n\n<p>Many gems work, but </p>\n\n<pre><code>Installing ember-cli-rails 0.7.0\nGem::InstallError: ember-cli-rails requires Ruby version &gt;= 2.1.0.\n</code></pre>\n\n<p>I think I'm running an acceptable version of Ruby...</p>\n\n<pre><code>$ bundle exec ruby --version\nruby 2.2.3p173 (2015-08-18 revision 51636) [x86_64-darwin14]   \n$ ruby --version\nruby 2.2.3p173 (2015-08-18 revision 51636) [x86_64-darwin14]\n</code></pre>\n\n<p>Any ideas of what's wrong?</p>\n"}, {"tags": ["ruby", "json", "amazon-web-services", "chef-recipe"], "answers": [{"tags": [], "owner": {"reputation": 2506, "user_id": 983387, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/r8F4P.jpg?s=128&g=1", "display_name": "gsaslis", "link": "https://stackoverflow.com/users/983387/gsaslis"}, "is_accepted": true, "score": 1, "last_activity_date": 1453976240, "creation_date": 1453976240, "answer_id": 35058601, "question_id": 35044437, "link": "https://stackoverflow.com/questions/35044437/chef-error-invalid-or-missing-manifest-json-rb-or-yml-file-provided/35058601#35058601", "title": "Chef Error : Invalid or missing manifest .json, .rb, or .yml file provided", "body": "<p>The problem is that you're not passing a well-formed config file, which spiceweasel is expecting (usually something along the lines of <code>infrastructure.yml</code>, but it can also be a .rb).</p>\n\n<p>The file you've copy-pasted has a few syntax errors. Basically, you're missing a ',' between the <code>nodes</code> array elements. </p>\n\n<p>Here's the corrected version: </p>\n\n<pre><code>{\n  'cookbooks' =&gt;\n    [\n      { 'common' =&gt; {} },\n      { 'hostsfile' =&gt; {} },\n      { 's3cmd-master' =&gt; {} },\n      { 'delivery-server-setup' =&gt; {} }\n    ],\n  'nodes' =&gt;\n    [\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB51-C-71\\\" --node-name \\\"-PROD-DEL-DB51-C-71\\\"\"\n         }\n      },\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-72\\\" --node-name \\\"-PROD-DEL-DB52-C-72\\\"\"\n         }\n      },\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-73\\\" --node-name \\\"-PROD-DEL-DB52-C-73\\\"\"\n         }\n      },\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-74\\\" --node-name \\\"-PROD-DEL-DB52-C-74\\\"\"\n         }\n      },\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-75\\\" --node-name \\\"-PROD-DEL-DB52-C-75\\\"\"\n         }\n      },\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-71\\\" --node-name \\\"-PROD-DEL-DB06-D-71\\\"\"\n         }\n      },\n\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-72\\\" --node-name \\\"-PROD-DEL-DB06-D-72\\\"\"\n         }\n      },\n\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-73\\\" --node-name \\\"-PROD-DEL-DB06-D-73\\\"\"\n         }\n      },\n\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-74\\\" --node-name \\\"-PROD-DEL-DB06-D-74\\\"\"\n         }\n      },\n\n      { 'ec2 1' =&gt;\n         {\n           'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n           'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-75\\\" --node-name \\\"-PROD-DEL-DB06-D-75\\\"\"\n         }\n      }\n    ]\n}\n</code></pre>\n\n<p>That should solve this problem.   </p>\n"}], "owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 1, "accepted_answer_id": 35058601, "answer_count": 1, "score": 1, "last_activity_date": 1453976240, "creation_date": 1453916607, "last_edit_date": 1453916993, "question_id": 35044437, "link": "https://stackoverflow.com/questions/35044437/chef-error-invalid-or-missing-manifest-json-rb-or-yml-file-provided", "title": "Chef Error : Invalid or missing manifest .json, .rb, or .yml file provided", "body": "<p>I am very new to chef. I am trying to launch aws instance using chef getting following error. </p>\n\n<p>[root@PROD-CHEF-CLIENT chef]# chef exec spiceweasel -T 2600 -e </p>\n\n<pre><code>cookbooks/delivery-server-setup/server_create.rb\n\n==========================================\n**Selected Organization::development**\n==========================================\n\nERROR: Invalid or missing  manifest .json, .rb, or .yml file provided.\n[root@APROD-CHEF-CLIENT chef]#\n</code></pre>\n\n<p>cat cookbooks/delivery-server-setup/server_create.rb</p>\n\n<pre><code>{\n        'cookbooks'     =&gt;\n        [\n                {'common' =&gt; {}},\n                {\"hostsfile\" =&gt; {}},\n                {\"s3cmd-master\" =&gt; {}},\n                {\"delivery-server-setup\" =&gt; {}}\n        ],\n        'nodes' =&gt;\n        [\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB51-C-71\\\" --node-name \\\"-PROD-DEL-DB51-C-71\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-72\\\" --node-name \\\"-PROD-DEL-DB52-C-72\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-73\\\" --node-name \\\"-PROD-DEL-DB52-C-73\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-74\\\" --node-name \\\"-PROD-DEL-DB52-C-74\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1c --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB52-C-75\\\" --node-name \\\"-PROD-DEL-DB52-C-75\\\"\"\n   }\n  }\n\n\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-71\\\" --node-name \\\"-PROD-DEL-DB06-D-71\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-72\\\" --node-name \\\"-PROD-DEL-DB06-D-72\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-73\\\" --node-name \\\"-PROD-DEL-DB06-D-73\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-74\\\" --node-name \\\"-PROD-DEL-DB06-D-74\\\"\"\n   }\n  }\n\n{'ec2 1' =&gt;\n   {\n    'run_list' =&gt; 'recipe[-delivery-server-setup::install]',\n    'options'  =&gt; \"-S -keypair -I ami-fb5d7f91 --user-data /mnt/chef/delivery_user_data -Z us-east-1d --groups -delivery -f c3.4xlarge --ssh-user auto_deploy -i /home/auto_deploy/.ssh/id_rsa --tags \\\"Name=-PROD-DEL-DB06-D-75\\\" --node-name \\\"-PROD-DEL-DB06-D-75\\\"\"\n   }\n  }\n\n]\n\n}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "database-design", "database-schema"], "comments": [{"owner": {"reputation": 3331, "user_id": 994210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32122073312c9c8b4c6a05f4c1257516?s=128&d=identicon&r=PG", "display_name": "Tom L", "link": "https://stackoverflow.com/users/994210/tom-l"}, "edited": false, "score": 1, "creation_date": 1453916979, "post_id": 35044265, "comment_id": 57813223, "body": "<a href=\"http://stackoverflow.com/questions/1473996/mysql-how-many-columns-is-too-many\" title=\"mysql how many columns is too many\">stackoverflow.com/questions/1473996/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 4488174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede6ac7b11ebf6ac8b33c34060907077?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Campbell", "link": "https://stackoverflow.com/users/4488174/aaron-campbell"}, "edited": false, "score": 0, "creation_date": 1453918235, "post_id": 35044655, "comment_id": 57814005, "body": "I don&#39;t have fields that are just numbers after the name, but I do have things like pallet barcode, item barcode, carton barcode, and pallet price, carton price, etc. Does it make sense to break those out? The pallet has a bar code and a price and the carton has a bar code and a price, etc."}], "tags": [], "owner": {"reputation": 1272, "user_id": 3338159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6132bd030583e478dbc41c369f410ad6?s=128&d=identicon&r=PG&f=1", "display_name": "T J", "link": "https://stackoverflow.com/users/3338159/t-j"}, "is_accepted": false, "score": 3, "last_activity_date": 1453917323, "creation_date": 1453917323, "answer_id": 35044655, "question_id": 35044265, "link": "https://stackoverflow.com/questions/35044265/is-44-columns-too-much-for-a-model-does-it-make-sense-to-break-a-one-to-one-re/35044655#35044655", "title": "Is ~44 columns too much for a model? Does it make sense to break a one-to-one relation?", "body": "<p>As mentioned in the answer linked by Tom, if all your attributes really belong to that model there is no reason to break it up.  However, if you have columns like <code>price1</code>, <code>price2</code>, <code>price3</code> or <code>dimension_x_1</code>, <code>dimension_y_1</code>, <code>dimension_x_2</code>, <code>dimension_y_2</code>, etc, then it usually means you should be creating another table to contain those.</p>\n\n<p>For example, you could set it up so that you have the following models</p>\n\n<pre><code>Sku\nhas_many :prices\nhas_many :dimensions\n\nPrice\nbelongs_to :sku\n\nDimension\nbelongs_to :sku\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 2, "last_activity_date": 1453918250, "creation_date": 1453918250, "answer_id": 35044918, "question_id": 35044265, "link": "https://stackoverflow.com/questions/35044265/is-44-columns-too-much-for-a-model-does-it-make-sense-to-break-a-one-to-one-re/35044918#35044918", "title": "Is ~44 columns too much for a model? Does it make sense to break a one-to-one relation?", "body": "<p>Database should be designed not according to how many columns it has, but according to logic, particularly following <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow\">Codd's normal forms</a>. If there is systematic redundancy in your database, then that is a sign for splitting it into multiple tables. If not, keep it as is.</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 4488174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede6ac7b11ebf6ac8b33c34060907077?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Campbell", "link": "https://stackoverflow.com/users/4488174/aaron-campbell"}, "edited": false, "score": 0, "creation_date": 1453932079, "post_id": 35047115, "comment_id": 57822068, "body": "Good points. It&#39;s been a long time since I reviewed the normalization rules. I think based on this I will probably break out the different packaging levels into their own objects."}], "tags": [], "owner": {"reputation": 373, "user_id": 5483846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565a8640c24134dca2dd438792ef46ae?s=128&d=identicon&r=PG", "display_name": "Aldana", "link": "https://stackoverflow.com/users/5483846/aldana"}, "is_accepted": true, "score": 2, "last_activity_date": 1453925535, "creation_date": 1453925535, "answer_id": 35047115, "question_id": 35044265, "link": "https://stackoverflow.com/questions/35044265/is-44-columns-too-much-for-a-model-does-it-make-sense-to-break-a-one-to-one-re/35047115#35047115", "title": "Is ~44 columns too much for a model? Does it make sense to break a one-to-one relation?", "body": "<p>As everyone else said, the design of a database should respond to the logic behind it. Why? Mainly, because it will be easier to maintain and understand.</p>\n\n<p>I was also going to drive attention to normalization rules, as @sawa did. </p>\n\n<p>Generally, is a good approach to normalize your database, as it provides several advantages. You should read <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow\">this</a> wikipedia link (at least as a starting point).</p>\n\n<p>Following normal rules will help you to design your database taking into account the logic behind your data.</p>\n\n<p>But <a href=\"https://en.wikipedia.org/wiki/Denormalization\" rel=\"nofollow\">denormalization</a> also has it's advantages. The first (always considered) being optimizing read performance. This basically means having data on one table that you would have had in different tables when following normal rules, and generally makes sense when that data has <em>some</em> logic relation.</p>\n\n<p>You have to aim to achieve a balance depending on the problem you are facing. </p>\n\n<p>On the other side, for the tags on your post I can see you are using ruby on rails, that uses the active record pattern. One consequence of the database model you are presenting, is that you will probably have a domain model just as complex. I mean, very large. I don't know every detail about your project, but I guess that it will quickly grow to be a <a href=\"https://en.wikipedia.org/wiki/God_object\" rel=\"nofollow\">god object</a>, making your code hard to maintain, extend and understand.</p>\n"}, {"tags": [], "owner": {"reputation": 936, "user_id": 4053283, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-bjRPHozgTro/AAAAAAAAAAI/AAAAAAAAACQ/UWwJL0D9z5s/photo.jpg?sz=128", "display_name": "Dzenly", "link": "https://stackoverflow.com/users/4053283/dzenly"}, "is_accepted": false, "score": 1, "last_activity_date": 1453928613, "last_edit_date": 1453928613, "creation_date": 1453928278, "answer_id": 35047849, "question_id": 35044265, "link": "https://stackoverflow.com/questions/35044265/is-44-columns-too-much-for-a-model-does-it-make-sense-to-break-a-one-to-one-re/35047849#35047849", "title": "Is ~44 columns too much for a model? Does it make sense to break a one-to-one relation?", "body": "<p>I think it is good to design data model, taking into account how DB engine works with files and memory. The first bottleneck of PostgreSQL is file IO. Memory consumption is also an important part. When PostgreSQL reads some table data (FYI: table data is not read at Index-Only-Scans) it reads 8 KB (compile time parameter) pages. More tuples in such a page, - less file IO, less memory consumption, better cache using (more often hits, fast prewarming, etc.), better performance.</p>\n\n<p>So, if one have a really high-loaded project, it can be useful to think about separation of often used data to isolated tables (as a next step - place this tables into a separate tablespace on SDD or powerful RAID).</p>\n\n<p>I.e. there should be some balance between a logic simplicity and performance tweaks.</p>\n"}], "owner": {"reputation": 95, "user_id": 4488174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede6ac7b11ebf6ac8b33c34060907077?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Campbell", "link": "https://stackoverflow.com/users/4488174/aaron-campbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 35047115, "answer_count": 4, "score": 3, "last_activity_date": 1453928613, "creation_date": 1453916136, "last_edit_date": 1453918036, "question_id": 35044265, "link": "https://stackoverflow.com/questions/35044265/is-44-columns-too-much-for-a-model-does-it-make-sense-to-break-a-one-to-one-re", "title": "Is ~44 columns too much for a model? Does it make sense to break a one-to-one relation?", "body": "<p>I am interested in what the best practice is for a model that has a lot of data attached to it. Most of my app revolve around one model (SKU), and it seems to have more and more things associated with it.</p>\n\n<p>For example, my SKU model has multiple prices, dimensions, weight, recommended prices for multiple price levels, title, description, shelf life, etc. Would it make sense to break all the pricing info to another table? Or break up the SKU into different uses of the SKU and associate them? For example, WebSKU, StockSKU, etc.</p>\n"}, {"tags": ["ruby", "selenium-webdriver", "cucumber", "capybara", "site-prism"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1453919796, "post_id": 35045262, "comment_id": 57815020, "body": "Thanks for reply. I have used below codes:                                logs = page.driver.manage.logs.get(&quot;browser&quot;);     p &quot;Logs: #{logs}&quot;                             Getting below error: undefined method `manage&#39; for #&lt;Capybara::Selenium::Driver:0x007fa1574910b0&gt; (NoMethodError)         Please help..."}, {"owner": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1453921297, "post_id": 35045262, "comment_id": 57815932, "body": "That&#39;s right. I don&#39;t know how to accept it. I will accept after it works. Anyway still not working. I am getting this error while using chrome.                 unknown error: log type &#39;chrome&#39; not found         (Session info: chrome=47.0.2526.111)         (Driver info: chromedriver=2.14.313457 (3d645c400edf2e2c500566c9aa096063e707c9cf),platform=Mac OS X 10.9.5 x86_64) (Selenium::WebDriver::Error::UnknownError) . If the status is 200 instead any javascript errors, i should get 200 status code"}, {"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "reply_to_user": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1453921674, "post_id": 35045262, "comment_id": 57816136, "body": "Your question specifically says you&#39;re using PhantomJS -- where did using chrome come from?"}, {"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "reply_to_user": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1453921764, "post_id": 35045262, "comment_id": 57816194, "body": "Huh -- I&#39;m not really sure what you&#39;re asking now -- What do status codes have to do with console logs?"}, {"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "reply_to_user": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1453922584, "post_id": 35045262, "comment_id": 57816652, "body": "but the log types arent chrome or phantomjs  - the logtype is &quot;browser&quot; -- .get(&quot;browser&quot;)"}], "tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": true, "score": 12, "last_activity_date": 1453920040, "last_edit_date": 1453920040, "creation_date": 1453919380, "answer_id": 35045262, "question_id": 35043909, "link": "https://stackoverflow.com/questions/35043909/how-to-print-browser-console-logs-using-cucumber-ruby-automation/35045262#35045262", "title": "How to Print Browser console logs using Cucumber Ruby Automation?", "body": "<p>Since you're using selenium you can try </p>\n\n<pre><code>page.driver.browser.manage.logs.get(\"browser\")\n</code></pre>\n\n<p>Note: I've never tried it with PhantomJS as the browser</p>\n"}], "owner": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4012, "favorite_count": 0, "accepted_answer_id": 35045262, "answer_count": 1, "score": 4, "last_activity_date": 1479693833, "creation_date": 1453915089, "last_edit_date": 1479693833, "question_id": 35043909, "link": "https://stackoverflow.com/questions/35043909/how-to-print-browser-console-logs-using-cucumber-ruby-automation", "title": "How to Print Browser console logs using Cucumber Ruby Automation?", "body": "<p>Can you please help on printing the console logs generate in web browser for any errors in Cucumber Capybara Test Automation?\nI am using PhantomJS webdriver as below:</p>\n\n<blockquote>\n  <p>Capybara::Selenium::Driver.new(app, :browser => :phantomjs,\n  desired_capabilities: { 'phantomjs.cli.args' =>\n  ['--ignore-ssl-errors=yes']</p>\n</blockquote>\n\n<p>I want to capture Browser JS console logs and print it while i need on automation execution</p>\n"}, {"tags": ["ruby", "hash"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453915034, "post_id": 35043500, "comment_id": 57811881, "body": "I am kinda disagree, that the answer is exactly the same, since it involves \u201cstrange disappearing of <code>:foo</code> key,\u201d which is not covered by the answer linked."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 1, "creation_date": 1453915110, "post_id": 35043500, "comment_id": 57811941, "body": "The glitch is here: <code>some_hash[:foo][:bar] = :baz</code>. You <i>did not assign the value</i> of <code>some_hash[:foo]</code>. Call to <code>some_hash[:foo]</code> returned a default for this hash, you updated this hash successfully, but the initial hash was never updated, e. g. <code>some_hash#[]=</code> was never called. <code>some_hash[:foo]</code> in line 5 again returned the default, not the [inexisting] value of key <code>:foo</code> of <code>some_hash</code>."}, {"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 2, "creation_date": 1453915489, "post_id": 35043500, "comment_id": 57812185, "body": "Also: <a href=\"http://stackoverflow.com/questions/1822021/why-does-hash-new-hide-hash-members\" title=\"why does hash new hide hash members\">stackoverflow.com/questions/1822021/&hellip;</a> It covers the disappearance issue, and yet it&#39;s marked as a duplicate of a <i>later</i> question. Weird. :)"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1453915608, "post_id": 35043500, "comment_id": 57812265, "body": "@MladenJablanovi\u0107 the latter link makes much more sense, thanks."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453921068, "post_id": 35043500, "comment_id": 57815805, "body": "Welcome to Stack Overflow. When asking a question, come up with a title that explains what the question is about. &quot;Ruby Hash Weirdness. Can someone tell me what&#39;s going on here?&quot; isn&#39;t very useful. Read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and the &quot;Question title&quot; section of <a href=\"http://tinyurl.com/stack-hints\" rel=\"nofollow noreferrer\">tinyurl.com/stack-hints</a>, well, read all that article too as it&#39;s very good information."}, {"owner": {"reputation": 834, "user_id": 3588645, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PqWVv.jpg?s=128&g=1", "display_name": "Paul Danelli", "link": "https://stackoverflow.com/users/3588645/paul-danelli"}, "edited": false, "score": 0, "creation_date": 1453981220, "post_id": 35043500, "comment_id": 57843662, "body": "Thanks for the tip. Can you think of a better title for this Ruby Hash Weirdness as an example? I&#39;d be very grateful for the advise from such an esteemed member of the community."}], "owner": {"reputation": 834, "user_id": 3588645, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PqWVv.jpg?s=128&g=1", "display_name": "Paul Danelli", "link": "https://stackoverflow.com/users/3588645/paul-danelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1453914651, "answer_count": 0, "score": 3, "last_activity_date": 1453915513, "creation_date": 1453913886, "last_edit_date": 1453915513, "question_id": 35043500, "link": "https://stackoverflow.com/questions/35043500/ruby-hash-weirdness-can-someone-tell-me-whats-going-on-here", "closed_reason": "Duplicate", "title": "Ruby Hash Weirdness. Can someone tell me what&#39;s going on here?", "body": "<p>After playing with with creating some new hash values I came across this Ruby weirdness... can anyone explain what is happening?</p>\n\n<pre><code>irb(main):001:0&gt; some_hash = Hash.new({})\n=&gt; {}\nirb(main):002:0&gt; some_hash[:foo][:bar] = :baz\n=&gt; :baz\nirb(main):003:0&gt; some_hash\n=&gt; {}\nirb(main):004:0&gt; some_hash.keys\n=&gt; []\nirb(main):005:0&gt; some_hash[:foo]\n=&gt; {:bar=&gt;:baz}\nirb(main):006:0&gt; some_hash.size\n=&gt; 0\nirb(main):007:0&gt; some_hash[:some_completely_new_key]\n=&gt; {:bar=&gt;:baz}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "post", "network-programming", "vagrant"], "comments": [{"owner": {"reputation": 569, "user_id": 3978366, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/adfd542c717f83dc36ff74636c60fe15?s=128&d=identicon&r=PG", "display_name": "Terry Raimondo", "link": "https://stackoverflow.com/users/3978366/terry-raimondo"}, "edited": false, "score": 0, "creation_date": 1453912783, "post_id": 35042877, "comment_id": 57810297, "body": "Well, it is an application error, I guess this is because there is no params and it should backtrace something like undefined method yells for NilClass. Can you give us the routing and the backtrace ?"}], "answers": [{"tags": [], "owner": {"reputation": 5428, "user_id": 1938097, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/928c1abb5e28975cff71561ce3ed98d6?s=128&d=identicon&r=PG", "display_name": "Austio", "link": "https://stackoverflow.com/users/1938097/austio"}, "is_accepted": false, "score": 0, "last_activity_date": 1453912601, "creation_date": 1453912601, "answer_id": 35042991, "question_id": 35042877, "link": "https://stackoverflow.com/questions/35042877/params-not-defined/35042991#35042991", "title": "Params not defined", "body": "<p>Looks like it may be limited to local host.  Try running your rails server like this to allow external connections.</p>\n\n<pre><code>rails server -b 0.0.0.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 569, "user_id": 3978366, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/adfd542c717f83dc36ff74636c60fe15?s=128&d=identicon&r=PG", "display_name": "Terry Raimondo", "link": "https://stackoverflow.com/users/3978366/terry-raimondo"}, "edited": false, "score": 0, "creation_date": 1453912921, "post_id": 35043051, "comment_id": 57810393, "body": "Why <b>Completed 500</b> then ?"}, {"owner": {"reputation": 3521, "user_id": 1801379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8623bb58fab9617aa3afe078e6b3e8d9?s=128&d=identicon&r=PG", "display_name": "Babar Al-Amin", "link": "https://stackoverflow.com/users/1801379/babar-al-amin"}, "reply_to_user": {"reputation": 569, "user_id": 3978366, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/adfd542c717f83dc36ff74636c60fe15?s=128&d=identicon&r=PG", "display_name": "Terry Raimondo", "link": "https://stackoverflow.com/users/3978366/terry-raimondo"}, "edited": false, "score": 0, "creation_date": 1453913047, "post_id": 35043051, "comment_id": 57810479, "body": "<code>params[:user_id]</code> works? I guess it should be <code>params[&#39;user_id&#39;]</code>"}], "tags": [], "owner": {"reputation": 3521, "user_id": 1801379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8623bb58fab9617aa3afe078e6b3e8d9?s=128&d=identicon&r=PG", "display_name": "Babar Al-Amin", "link": "https://stackoverflow.com/users/1801379/babar-al-amin"}, "is_accepted": false, "score": 1, "last_activity_date": 1453912762, "creation_date": 1453912762, "answer_id": 35043051, "question_id": 35042877, "link": "https://stackoverflow.com/questions/35042877/params-not-defined/35043051#35043051", "title": "Params not defined", "body": "<p>Rails restricts verbose log output for remote machines in terminal.</p>\n\n<p>That's why the error:</p>\n\n<pre><code>Cannot render console from 10.0.2.2! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255\n</code></pre>\n\n<p>But actually the <code>params</code> is okay. You can use it normally in controller. </p>\n\n<p>Anyway, if you want same verbose log for another machine, you can whitelist the IP in your <code>development.rb</code> file.</p>\n\n<pre><code>config.web_console.whitelisted_ips = '10.0.2.2'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 569, "user_id": 3978366, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/adfd542c717f83dc36ff74636c60fe15?s=128&d=identicon&r=PG", "display_name": "Terry Raimondo", "link": "https://stackoverflow.com/users/3978366/terry-raimondo"}, "is_accepted": true, "score": 1, "last_activity_date": 1453918153, "creation_date": 1453918153, "answer_id": 35044894, "question_id": 35042877, "link": "https://stackoverflow.com/questions/35042877/params-not-defined/35044894#35044894", "title": "Params not defined", "body": "<p>You can add something like this in your application controller:</p>\n\n<pre><code>before_filter :set_format\n\ndef set_format\n  request.format = 'json' # Or whatever you want\nend\n</code></pre>\n\n<p>Or in your routes.rb</p>\n\n<pre><code>resources :shouts, defaults: { format: 'json' }\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 5067173, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10203627734808956/picture?type=large", "display_name": "Marcius Leandro", "link": "https://stackoverflow.com/users/5067173/marcius-leandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 35044894, "answer_count": 3, "score": 0, "last_activity_date": 1453918153, "creation_date": 1453912285, "last_edit_date": 1453913291, "question_id": 35042877, "link": "https://stackoverflow.com/questions/35042877/params-not-defined", "title": "Params not defined", "body": "<p>I'm doing an API application, where I have a POST route:</p>\n\n<pre><code>{\n    \"user_id\":\"1\"\n}\n</code></pre>\n\n<p>this route calls the method of my controller:</p>\n\n<pre><code>def shouts\n  puts(params)\n  @user = User.find_by_id(params[:user_id])\n  render json: {status: 0, message: \"sucess\", data: @user.yells}\nend\n</code></pre>\n\n<p>what happens is that when I test the postman on my machine runs smoothly. And it is possible to accompany the <code>puts</code> the terminal:</p>\n\n<pre><code>Started POST \"/api/shouts\" for 10.0.2.2 at 2016-01-27 16:11:16 +0000\nCannot render console from 10.0.2.2! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255\nProcessing by Api::YellsController#shouts as */*\n  Parameters: {\"user_id\"=&gt;\"1\", \"yell\"=&gt;{\"user_id\"=&gt;\"1\"}}\n{\"user_id\"=&gt;\"1\", \"controller\"=&gt;\"api/yells\", \"action\"=&gt;\"shouts\", \"yell\"=&gt;{\"user_id\"=&gt;\"1\"}}\n  User Load (0.3ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT 1  [[\"id\", 1]]\n  Yell Load (0.5ms)  SELECT \"yells\".* FROM \"yells\" WHERE \"yells\".\"user_id\" = $1  [[\"user_id\", 1]]\n  Category Load (0.4ms)  SELECT \"categories\".* FROM \"categories\" INNER JOIN \"categories_yells\" ON \"categories\".\"id\" = \"categories_yells\".\"category_id\" WHERE \"categories_yells\".\"yell_id\" = $1  [[\"yell_id\", 1]]\nCompleted 200 OK \n</code></pre>\n\n<p>however when testo on another machine within the same network, the stop comes with nothing, or even this coming:</p>\n\n<pre><code>Started POST \"/api/shouts\" for 10.0.2.2 at 2016-01-27 16:09:04 +0000\nCannot render console from 10.0.2.2! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255\nProcessing by Api::YellsController#shouts as */*\n{\"controller\"=&gt;\"api/yells\", \"action\"=&gt;\"shouts\"}\n  User Load (0.3ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" IS NULL LIMIT 1\nCompleted 500\n</code></pre>\n\n<p>Anyone know what can this happening? How fix? It's something I have to set in my vagrant machine? Or on the server? Or ruby on rails?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I discovered that I was wrong in my call on the postman was forgetting to put on a Content-Type Header = aplicatio / json.</p>\n\n<p>Is there any way of pre configure this in ruby on rails? Put that all calls will have the same header.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "stubbing"], "comments": [{"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "edited": false, "score": 0, "creation_date": 1453913400, "post_id": 35042831, "comment_id": 57810770, "body": "I don&#39;t think you stubbed the method.  Stubbing would be done by allow_any_instance_of(Api::Dashboards::InstallationsBacklog)&zwnj;&#8203;.to receive(:backlog_tasks).and_return(desired_return_value)."}, {"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1453914998, "post_id": 35042831, "comment_id": 57811860, "body": "I would use <code>allow(Api::Dashboards::InstallationsBacklog).to receive(:new).and_return(backlog_double)</code> and so on..."}], "answers": [{"comments": [{"owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "edited": false, "score": 0, "creation_date": 1453918429, "post_id": 35044027, "comment_id": 57814120, "body": "Great, I understand this angle here... however, if for example, there is no instance method <code>backlog_tasks</code> on <code>Api::Dashboards::InstallationsBacklog</code>, this test will still pass, and I want it to fail"}, {"owner": {"reputation": 12022, "user_id": 419017, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Y6Frk.jpg?s=128&g=1", "display_name": "Damien Roche", "link": "https://stackoverflow.com/users/419017/damien-roche"}, "reply_to_user": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "edited": false, "score": 0, "creation_date": 1453919192, "post_id": 35044027, "comment_id": 57814657, "body": "@SunnyK that&#39;s fine. Test your <code>InstallationBacklog</code> class separately and that will catch such a scenario. It shouldn&#39;t be the responsibility of this spec."}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "reply_to_user": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "edited": false, "score": 0, "creation_date": 1453924165, "post_id": 35044027, "comment_id": 57817612, "body": "@SunnyK: You might want to use an <a href=\"https://www.relishapp.com/rspec/rspec-mocks/v/3-2/docs/verifying-doubles/using-an-instance-double\" rel=\"nofollow noreferrer\"><code>instance_double</code></a> instead of a simple <code>double</code> to verify the \texistence of the stubbed method."}], "tags": [], "owner": {"reputation": 12022, "user_id": 419017, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Y6Frk.jpg?s=128&g=1", "display_name": "Damien Roche", "link": "https://stackoverflow.com/users/419017/damien-roche"}, "is_accepted": true, "score": 1, "last_activity_date": 1453915450, "creation_date": 1453915450, "answer_id": 35044027, "question_id": 35042831, "link": "https://stackoverflow.com/questions/35042831/how-to-correctly-use-stub-for-testing-in-rspec/35044027#35044027", "title": "how to correctly use stub for testing in rspec", "body": "<p>Here's how I'd set it up. Might help..</p>\n\n<pre><code>let(:backlog) {\n  double('Backlog', backlog_tasks: [])\n}\n\nbefore do\n  allow(Api::Dashboards::InstallationsBacklog).to receive(:new).\n    and_return(backlog)\nend\n\nit 'instantiates InstallationBacklog' do\n  expect(Api::Dashboards::InstallationBacklog).to receive(:new).\n    with(operational_district_id, officer_id)\n\n  @installation_officer.installation_backlog\nend\n\nit 'calls backlog_tasks on instance of InstallationBacklog' do\n  expect(backlog).to receive(:backlog_tasks)\n\n  @installation_officer.installation_backlog\nend\n</code></pre>\n"}], "owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 1, "accepted_answer_id": 35044027, "answer_count": 1, "score": 1, "last_activity_date": 1453915450, "creation_date": 1453912179, "question_id": 35042831, "link": "https://stackoverflow.com/questions/35042831/how-to-correctly-use-stub-for-testing-in-rspec", "title": "how to correctly use stub for testing in rspec", "body": "<p>So, I have a method in a class as follow:</p>\n\n<pre><code>def installation_backlog\n  Api::Dashboards::InstallationsBacklog.new(operational_district_id, officer_id).backlog_tasks\nend\n</code></pre>\n\n<p>And I want to spec it. So, I just wrote an RSpec test to test it as follow:</p>\n\n<pre><code>it \"should call a new instance of InstallationsBacklog with the backlog_tasks method\" do\n  expect_any_instance_of(Api::Dashboards::InstallationsBacklog).to receive(:backlog_tasks)\n  @installation_officer.installation_backlog # @installation_officer is a new instance of the container class.\nend\n</code></pre>\n\n<p>And this is working.</p>\n\n<p>However, I began to wonder if this was a correct way of doing it. Like: am I sure that even if I stub the wrong ( probably inexistent ) method, and test for it, will it pass or fail?</p>\n\n<p><em>I tried it, it passed</em></p>\n\n<p>So, if later, the method name gets changed, there is no way for this test to detect that.</p>\n\n<p><strong>So, here is the question</strong>: How can I be sure that a RSpec stubbed method is actually existent in a code?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1453910858, "post_id": 35042266, "comment_id": 57808942, "body": "It&#39;s useless in the above code, but not in general."}, {"owner": {"reputation": 10344, "user_id": 1509401, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/HiLe4.jpg?s=128&g=1", "display_name": "thank_you", "link": "https://stackoverflow.com/users/1509401/thank-you"}, "edited": false, "score": 0, "creation_date": 1453910977, "post_id": 35042266, "comment_id": 57809024, "body": "I don&#39;t have access to the codebase to run and I wondered if there was a unique purpose in mind by the author."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 10344, "user_id": 1509401, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/HiLe4.jpg?s=128&g=1", "display_name": "thank_you", "link": "https://stackoverflow.com/users/1509401/thank-you"}, "edited": false, "score": 0, "creation_date": 1453911132, "post_id": 35042266, "comment_id": 57809131, "body": "@jason328\tYou don&#39;t need access to the codebase, you just need Ruby, e.g., <a href=\"https://ideone.com/hC30WZ\" rel=\"nofollow noreferrer\">ideone.com/hC30WZ</a>"}, {"owner": {"reputation": 10344, "user_id": 1509401, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/HiLe4.jpg?s=128&g=1", "display_name": "thank_you", "link": "https://stackoverflow.com/users/1509401/thank-you"}, "edited": false, "score": 0, "creation_date": 1453911266, "post_id": 35042266, "comment_id": 57809234, "body": "Don&#39;t have access to ruby. Did not know about that site. Thanks!"}], "tags": [], "owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "is_accepted": true, "score": 9, "last_activity_date": 1453910730, "creation_date": 1453910730, "answer_id": 35042266, "question_id": 35042182, "link": "https://stackoverflow.com/questions/35042182/backslash-in-ruby-conditional-statement/35042266#35042266", "title": "Backslash in Ruby conditional statement", "body": "<p>It's a useless line-continuation character. </p>\n\n<p>The question \"is it a syntax error\" seems pretty simple to discover.</p>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1453911446, "post_id": 35042462, "comment_id": 57809369, "body": "From your example it looks like <code>\\</code> is related to strings."}, {"owner": {"reputation": 4561, "user_id": 1043569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f0397c0ae99625fde35aaa75a20494e?s=128&d=identicon&r=PG", "display_name": "Atri", "link": "https://stackoverflow.com/users/1043569/atri"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453911683, "post_id": 35042462, "comment_id": 57809527, "body": "@Stefan yes, I am showing the difference of using backslash and not using it because it doesn&#39;t matter in OP&#39;s example."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453912221, "post_id": 35042462, "comment_id": 57809896, "body": "Your example is perfectly valid, but since the OP says <i>&quot;I know <code>\\</code> is used in strings&quot;</i>, an example <i>without</i> a string might be more helpful."}, {"owner": {"reputation": 4561, "user_id": 1043569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f0397c0ae99625fde35aaa75a20494e?s=128&d=identicon&r=PG", "display_name": "Atri", "link": "https://stackoverflow.com/users/1043569/atri"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453913191, "post_id": 35042462, "comment_id": 57810603, "body": "@Stefan point taken, edited my answer. Thanks for the suggestion."}], "tags": [], "owner": {"reputation": 4561, "user_id": 1043569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f0397c0ae99625fde35aaa75a20494e?s=128&d=identicon&r=PG", "display_name": "Atri", "link": "https://stackoverflow.com/users/1043569/atri"}, "is_accepted": false, "score": 2, "last_activity_date": 1453913169, "last_edit_date": 1453913169, "creation_date": 1453911228, "answer_id": 35042462, "question_id": 35042182, "link": "https://stackoverflow.com/questions/35042182/backslash-in-ruby-conditional-statement/35042462#35042462", "title": "Backslash in Ruby conditional statement", "body": "<p><code>\\</code> is used to indicate line continuation in ruby. Using <code>\\</code> will strip the <code>\\n</code> (newline) character. </p>\n\n<p><strong>Example (Using string):</strong></p>\n\n<p>Without <code>\\</code>:</p>\n\n<pre><code>2.1.2-perf :018 &gt; s = \"test this\n2.1.2-perf :019\"&gt; out\"\n =&gt; \"test this\\nout\"\n</code></pre>\n\n<p>With <code>\\</code>:</p>\n\n<pre><code>2.1.2-perf :020 &gt; s = \"test this \\\n2.1.2-perf :021\"&gt; out\"\n =&gt; \"test this out\"\n</code></pre>\n\n<p><strong>Example (without using string):</strong></p>\n\n<p>Without <code>\\</code>:</p>\n\n<pre><code>2.1.2-perf :043 &gt; return \"test\" if true &amp;&amp; false &amp;&amp;\n2.1.2-perf :044 &gt;   true\n =&gt; nil\n</code></pre>\n\n<p>With <code>\\</code>:</p>\n\n<pre><code>2.1.2-perf :045 &gt; return \"test\" if true &amp;&amp; false &amp;&amp; \\\n2.1.2-perf :046 &gt;   true\n =&gt; nil\n</code></pre>\n\n<p>In your case, it wouldn't matter, but it is not a syntax error.</p>\n\n<p>From the <a href=\"http://ruby-doc.org/docs/ruby-doc-bundle/Manual/man-1.4/syntax.html\" rel=\"nofollow\">doc</a>: </p>\n\n<blockquote>\n  <p>Ruby programs are sequence of expressions. Each expression are delimited by semicolons(;) or newlines. Backslashes at the end of line does not terminate expression. </p>\n</blockquote>\n"}], "owner": {"reputation": 10344, "user_id": 1509401, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/HiLe4.jpg?s=128&g=1", "display_name": "thank_you", "link": "https://stackoverflow.com/users/1509401/thank-you"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 35042266, "answer_count": 2, "score": 0, "last_activity_date": 1453913169, "creation_date": 1453910480, "last_edit_date": 1453912383, "question_id": 35042182, "link": "https://stackoverflow.com/questions/35042182/backslash-in-ruby-conditional-statement", "title": "Backslash in Ruby conditional statement", "body": "<p>I was browsing some code and spotted this:</p>\n\n<pre><code>stem = \"\"\n\nanswer = \"\"\n\nreturn if stem.nil? || answer.nil? || \\\n          stem.question == answer.question\n</code></pre>\n\n<p>What is the <code>\\</code> for? I know <code>\\</code> is used in strings, but I've never seen a use-case for this before. Is this a syntax error or some advanced ruby syntax? Am I missing something?</p>\n"}, {"tags": ["ruby", "xpath", "capybara"], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 5310502, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b6f92af37160cf2310ac2ccadcd9b758?s=128&d=identicon&r=PG&f=1", "display_name": "testerBDD", "link": "https://stackoverflow.com/users/5310502/testerbdd"}, "edited": false, "score": 0, "creation_date": 1453920731, "post_id": 35045191, "comment_id": 57815599, "body": "You made my day ... Thanks a ton"}], "tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": true, "score": 4, "last_activity_date": 1453919682, "last_edit_date": 1453919682, "creation_date": 1453919095, "answer_id": 35045191, "question_id": 35042106, "link": "https://stackoverflow.com/questions/35042106/ruby-capybara-get-xpath-at-runtime/35045191#35045191", "title": "ruby capybara - get xpath at runtime", "body": "<p>See - <a href=\"http://www.rubydoc.info/gems/capybara/Capybara/Node/Element#path-instance_method\" rel=\"nofollow\">http://www.rubydoc.info/gems/capybara/Capybara/Node/Element#path-instance_method</a></p>\n\n<pre><code>page.find('#Plan Type:').path\n</code></pre>\n\n<p>Note -- I just copied your find which is not actually valid for finding anything in the html you posted. If you really wanted to find the xpath to the label with text 'Plan Type:' it would be something like</p>\n\n<pre><code>page.find('label', text: 'Plan Type:').path\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 5310502, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b6f92af37160cf2310ac2ccadcd9b758?s=128&d=identicon&r=PG&f=1", "display_name": "testerBDD", "link": "https://stackoverflow.com/users/5310502/testerbdd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 35045191, "answer_count": 1, "score": 2, "last_activity_date": 1481063744, "creation_date": 1453910295, "last_edit_date": 1481063744, "question_id": 35042106, "link": "https://stackoverflow.com/questions/35042106/ruby-capybara-get-xpath-at-runtime", "title": "ruby capybara - get xpath at runtime", "body": "<p>How can we retrieve XPath through code?</p>\n\n<p>Example we have below html code:</p>\n\n<pre><code>    &lt;div class=\"row\"&gt;\n        &lt;label class=\"strongLabel col-sm-3\"&gt;Plan Type:&lt;/label&gt; \n        &lt;label class=\"strongLabel col-sm-3\"&gt;Plan Subtype:&lt;/label&gt; \n        &lt;label class=\"strongLabel col-sm-3\"&gt;ERISA:&lt;/label&gt;\n        &lt;label class=\"strongLabel col-sm-3\"&gt;TPA Name:&lt;/label&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>I wanted to get XPath, some thing like below:</p>\n\n<pre><code>table_results = page.find('#Plan Type:')[:xpath]\n</code></pre>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453910734, "post_id": 35041680, "comment_id": 57808844, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/18552891/how-to-dynamically-create-a-local-variable\">How to dynamically create a local variable?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453910656, "post_id": 35042059, "comment_id": 57808782, "body": "I have not seen usage like first example, can you please explain what is happening in that case, especially what does <code>a:</code> really mean in this case."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453910803, "post_id": 35042059, "comment_id": 57808895, "body": "@WandMaker these are simple hash-parameters, accepted since Ruby2, but without default values. You should\u2019ve seen <code>def fun a: 42, b: nil</code> \u2014 that\u2019s the same."}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 1, "creation_date": 1453911504, "post_id": 35042059, "comment_id": 57809401, "body": "Thanks, got it now.  Its called <a href=\"https://robots.thoughtbot.com/ruby-2-keyword-arguments\" rel=\"nofollow noreferrer\">keyword arguments</a>"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 1, "creation_date": 1453911660, "post_id": 35042059, "comment_id": 57809510, "body": "@WandMaker Indeed, I can\u2019t memoize that name for unknown reason :)"}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 4, "last_activity_date": 1453910128, "creation_date": 1453910128, "answer_id": 35042059, "question_id": 35041680, "link": "https://stackoverflow.com/questions/35041680/is-it-possible-to-use-hash-keys-as-a-first-level-variables-inside-ruby-method/35042059#35042059", "title": "is it possible to use hash keys as a first level variables inside ruby method?", "body": "<p>Is it possible using Ruby2 splat parameters:</p>\n\n<pre><code>options = {a: 1, b: 2}\n\ndef some_method1(a:, b:)\n  a + b\nend\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>def some_method2(**options)\n  options[:a] + options[:b]\nend\n\n\nsome_method1 **options\n#\u21d2 3\nsome_method2 **options\n#\u21d2 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3521, "user_id": 1801379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8623bb58fab9617aa3afe078e6b3e8d9?s=128&d=identicon&r=PG", "display_name": "Babar Al-Amin", "link": "https://stackoverflow.com/users/1801379/babar-al-amin"}, "is_accepted": true, "score": 2, "last_activity_date": 1453910129, "creation_date": 1453910129, "answer_id": 35042061, "question_id": 35041680, "link": "https://stackoverflow.com/questions/35041680/is-it-possible-to-use-hash-keys-as-a-first-level-variables-inside-ruby-method/35042061#35042061", "title": "is it possible to use hash keys as a first level variables inside ruby method?", "body": "<p>If your options are fixed, like only <code>:a</code> and <code>:b</code> are the only keys, you can write the method like this:</p>\n\n<pre><code>def some_method(a:, b:)\n  a + b\nend\n\noptions = {a: 1, b: 2}\n\nsome_method(options) #=&gt; 3\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 2125211, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/1878fa72482ac377c3131b4a8047a904?s=128&d=identicon&r=PG", "display_name": "Ilya Libin", "link": "https://stackoverflow.com/users/2125211/ilya-libin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 35042061, "answer_count": 2, "score": 1, "last_activity_date": 1453910162, "creation_date": 1453909175, "question_id": 35041680, "link": "https://stackoverflow.com/questions/35041680/is-it-possible-to-use-hash-keys-as-a-first-level-variables-inside-ruby-method", "title": "is it possible to use hash keys as a first level variables inside ruby method?", "body": "<p>I'll try to explain myself a little bit more</p>\n\n<pre><code># Lets say I have this hash\noptions = {a: 1, b: 2}\n\n# and here I'm calling the method\nsome_method(options)\n\ndef some_method(options)\n  # now instead of using options[:a] I'd like to simply use a.\n  options.delete_nesting_and_create_vars\n  a + b # :a + :b also good.\n</code></pre>\n\n<p>thanks!</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1453906591, "post_id": 35040503, "comment_id": 57805677, "body": "Did you mean <code>a.frozen? # false</code> in the last snippet?"}, {"owner": {"reputation": 421, "user_id": 2304366, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e91d714662a9a6c004cc21d181c52e61?s=128&d=identicon&r=PG", "display_name": "Naremy", "link": "https://stackoverflow.com/users/2304366/naremy"}, "reply_to_user": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1453908908, "post_id": 35040503, "comment_id": 57807499, "body": "Yes, sorry for the mistake. :)"}, {"owner": {"reputation": 7447, "user_id": 602372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/q6bLu.jpg?s=128&g=1", "display_name": "Yam Marcovic", "link": "https://stackoverflow.com/users/602372/yam-marcovic"}, "edited": false, "score": 2, "creation_date": 1453909180, "post_id": 35040503, "comment_id": 57807695, "body": "Did you also mean that in the second snippet?"}, {"owner": {"reputation": 379, "user_id": 5070754, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/841063582643271/picture?type=large", "display_name": "Redouane Red", "link": "https://stackoverflow.com/users/5070754/redouane-red"}, "edited": false, "score": 2, "creation_date": 1453913086, "post_id": 35040503, "comment_id": 57810511, "body": "It&#39;s also possible to unfreeze a string with the Fiddle class,check out the 8th tip in <a href=\"http://www.blackbytes.info/2016/01/ruby-tricks/\" rel=\"nofollow noreferrer\">blackbytes.info/2016/01/ruby-tricks</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7447, "user_id": 602372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/q6bLu.jpg?s=128&g=1", "display_name": "Yam Marcovic", "link": "https://stackoverflow.com/users/602372/yam-marcovic"}, "is_accepted": true, "score": 4, "last_activity_date": 1453920543, "last_edit_date": 1453920543, "creation_date": 1453909768, "answer_id": 35041928, "question_id": 35040503, "link": "https://stackoverflow.com/questions/35040503/how-to-declare-a-mutable-string-in-ruby-2-3-ruby-3/35041928#35041928", "title": "How to declare a mutable string in ruby 2.3 &amp;&amp; ruby 3", "body": "<p>The elegant way to achieve this in future Ruby versions is <a href=\"https://bugs.ruby-lang.org/issues/11473\" rel=\"nofollow\">still being discussed</a>. Until then, of course, the best bet would therefore be to avoid it, or to indeed use <code>String#dup</code> explicitly.</p>\n\n<p>Technically, however, there's nothing to stop you from doing something like this:</p>\n\n<pre><code>def MutableString(x)\n  x.dup\nend\n\nMutableString('...')\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 2304366, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e91d714662a9a6c004cc21d181c52e61?s=128&d=identicon&r=PG", "display_name": "Naremy", "link": "https://stackoverflow.com/users/2304366/naremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 35041928, "answer_count": 1, "score": 4, "last_activity_date": 1529500284, "creation_date": 1453906149, "last_edit_date": 1529500284, "question_id": 35040503, "link": "https://stackoverflow.com/questions/35040503/how-to-declare-a-mutable-string-in-ruby-2-3-ruby-3", "title": "How to declare a mutable string in ruby 2.3 &amp;&amp; ruby 3", "body": "<p>I just pass into ruby 2.3 with the new frozen_string_literal option.</p>\n\n<p>Over each of my file I add this line :</p>\n\n<p><code># frozen_string_literal: true</code></p>\n\n<pre><code>a = String('test')\na.frozen?        # true\na.gsub!('t', 'a') # raise error : OK\n</code></pre>\n\n<p>It work well but, is there a way to declare something like this :</p>\n\n<pre><code>a = MutableString('test')\na.frozen?        # false\na.gsub!('t', 'a') # aesa\n</code></pre>\n\n<p>Currently I make it work like this :</p>\n\n<pre><code>a = 'test'.dup\na.frozen?        # false\na.gsub!('t', 'a') # aesa\n</code></pre>\n\n<p>But it's a little bit ugly.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453904364, "post_id": 35039803, "comment_id": 57803912, "body": "I understood that only leading <code>x_</code> should not be camelized."}, {"owner": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453904537, "post_id": 35039803, "comment_id": 57804056, "body": "@mudasobwa You are right. I updated the question to reflect that."}, {"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "edited": false, "score": 0, "creation_date": 1453904543, "post_id": 35039803, "comment_id": 57804066, "body": "<code>gsub(&#39;.x_&#39;,&#39;#&#39;)</code> for leading, but this assumes that string cannot contain <code>&#39;#&#39;</code>"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "reply_to_user": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "edited": false, "score": 0, "creation_date": 1453904586, "post_id": 35039803, "comment_id": 57804097, "body": "@Vasfed yes, is that name with <code>#</code> valid for rails namespace?"}, {"owner": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "edited": false, "score": 0, "creation_date": 1453905375, "post_id": 35039803, "comment_id": 57804718, "body": "@\u041c\u0430\u043b\u044a\u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a This is a very ingenious hack but unfortunately I have no control over what characters can appear in the string so I can&#39;t take the risk. Either way, thank you."}], "tags": [], "owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "is_accepted": false, "score": 0, "last_activity_date": 1453904683, "last_edit_date": 1453904683, "creation_date": 1453904290, "answer_id": 35039803, "question_id": 35039601, "link": "https://stackoverflow.com/questions/35039601/apply-modification-only-to-substring-in-ruby/35039803#35039803", "title": "Apply modification only to substring in Ruby", "body": "<p>Could you try solmething like this:</p>\n\n<pre><code>'award.x_initial_value.currency'.gsub(/(\\.|\\A)x_/,'\\1#').camelize(:lower).gsub('#','x_')\n\n# =&gt; award.x_initialValue.currency\n</code></pre>\n\n<p><strong>NOTE:</strong> for <code>#</code> char can be used any of unused char for current name/char space.</p>\n"}, {"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "edited": false, "score": 0, "creation_date": 1453905645, "post_id": 35039814, "comment_id": 57804933, "body": "Welcome. Lookaheads and lookbehinds always come to the rescue."}, {"owner": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "edited": false, "score": 0, "creation_date": 1453906122, "post_id": 35039814, "comment_id": 57805303, "body": "I would like to use the second one but I&#39;m having a hard time understanding what <code>&quot;#{$~[1]}&quot; &lt;&lt; $~[2]</code> does. Could you please give a hint?"}, {"owner": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "edited": false, "score": 0, "creation_date": 1453907004, "post_id": 35039814, "comment_id": 57805994, "body": "Very well explained. Much appreciated."}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 2, "last_activity_date": 1453906381, "last_edit_date": 1453906381, "creation_date": 1453904313, "answer_id": 35039814, "question_id": 35039601, "link": "https://stackoverflow.com/questions/35039601/apply-modification-only-to-substring-in-ruby/35039814#35039814", "title": "Apply modification only to substring in Ruby", "body": "<pre><code>\u25b6 \"award.x_initial_value.x_currency\".split('.').map do |s|\n    \"#{s[/\\Ax_/]}#{s[/(\\Ax_)?(.*)\\z/, 2].camelize(:lower)}\"\n  end.join('.')\n#\u21d2 \"award.x_initialValue.x_currency\"\n</code></pre>\n\n<p>or, with one <code>gsub</code> iteration:</p>\n\n<pre><code>\u25b6 \"award.x_initial_value.x_currency\".gsub(/(?&lt;=\\.|\\A)(x_)?(.*?)(?=\\.|\\z)/) do |m|\n    \"#{$~[1]}\" &lt;&lt; $~[2].camelize(:lower)\n  end\n#\u21d2 \"award.x_initialValue.x_currency\"\n</code></pre>\n\n<p>In the latter version we use global substitution:</p>\n\n<ul>\n<li><code>$~</code> is a short-hand to a global, storing <em>the last regexp match occured</em>;</li>\n<li><code>$~[1]</code> is the first matched entity, corresponding <code>(x_)?</code>, because of <code>?</code> it might be either matched string, or <code>nil</code>; that\u2019s why we use string extrapolation, in case of <code>nil</code> <code>\"#{nil}\"</code> will result in an empty string;</li>\n<li>after all, we append the camelized second match to the string, discussed above;</li>\n<li><strong>NB</strong> Instead of <code>$~</code> for the last match, one might use <a href=\"http://ruby-doc.org/core-2.2.0/Regexp.html#method-c-last_match\" rel=\"nofollow\"><code>Regexp::last_match</code></a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453907573, "post_id": 35040853, "comment_id": 57806428, "body": "Though I am unable to understand, why <code>&#39;x_x_x_x&#39;.gsub(&#47;(?&lt;!\\bx)_(\\w)&#47;) { $1.capitalize }</code> works :)"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453907792, "post_id": 35040853, "comment_id": 57806588, "body": "@mudasobwa because <code>\\b</code> is part of the negative lookbehind, i.e. it doesn&#39;t match <code>x_</code> at the beginning of a word."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453908176, "post_id": 35040853, "comment_id": 57806872, "body": "Ah, clear, <code>&#39;_&#39; =~ &#47;\\w&#47; #\u21d2 0</code>, I did not realize <code>_</code> is a word symbol."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "edited": false, "score": 0, "creation_date": 1453962424, "post_id": 35040853, "comment_id": 57832331, "body": "@Georgiana.b: is &quot;smooth&quot; code better than &quot;bumpy&quot; code?"}, {"owner": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1453978687, "post_id": 35040853, "comment_id": 57842031, "body": "@CarySwoveland  In the context of &quot;working smooth and fast&quot; which was referring to performance, &quot;smooth&quot; means not producing load spikes. It might not be very explicit but I couldn&#39;t find a better word."}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 5, "last_activity_date": 1453907818, "last_edit_date": 1453907818, "creation_date": 1453907044, "answer_id": 35040853, "question_id": 35039601, "link": "https://stackoverflow.com/questions/35039601/apply-modification-only-to-substring-in-ruby/35040853#35040853", "title": "Apply modification only to substring in Ruby", "body": "<p>Since <em>\"performance is key\"</em> you could skip the overhead of <code>ActiveSupport::Inflector</code> and use a regular expression to perform the \"camelization\" yourself:</p>\n\n<pre><code>a = \"award.x_initial_value.currency\"\na.gsub(/(?&lt;!\\bx)_(\\w)/) { $1.capitalize }\n#=&gt; \"award.x_initialValue.currency\"\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 3385328, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/63107cd816389909734d2a68340f651e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgiana.b", "link": "https://stackoverflow.com/users/3385328/georgiana-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 35040853, "answer_count": 3, "score": 2, "last_activity_date": 1453969822, "creation_date": 1453903726, "last_edit_date": 1453904500, "question_id": 35039601, "link": "https://stackoverflow.com/questions/35039601/apply-modification-only-to-substring-in-ruby", "title": "Apply modification only to substring in Ruby", "body": "<p>I have a string of the form \"award.x_initial_value.currency\" and I would like to camelize everything except the leading \"x_\"  so that I get a result of the form: \"award.x_initialValue.currency\". \nMy current implementation is: </p>\n\n<pre><code>a = \"award.x_initial_value.currency\".split(\".\")\nb = a.map{|s| s.slice!(\"x_\")}\na.map!{|s| s.camelize(:lower)}\na.zip(b).map!{|x, y| x.prepend(y.to_s)}\n</code></pre>\n\n<p>I am not very happy with it since it's neither fast nor elegant and performance is key since this will be applied to large amounts of data.\nI also googled it but couldn't find anything.<br>\nIs there a faster/better way of achieving this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "view-helpers"], "answers": [{"comments": [{"owner": {"reputation": 4509, "user_id": 2936491, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/BIeeI.jpg?s=128&g=1", "display_name": "techdreams", "link": "https://stackoverflow.com/users/2936491/techdreams"}, "edited": false, "score": 0, "creation_date": 1453959367, "post_id": 35039482, "comment_id": 57831181, "body": "Oops that was a typo...thanks i was in too much hurry actually!"}], "tags": [], "owner": {"reputation": 4103, "user_id": 4271125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQnWR.jpg?s=128&g=1", "display_name": "djaszczurowski", "link": "https://stackoverflow.com/users/4271125/djaszczurowski"}, "is_accepted": true, "score": 7, "last_activity_date": 1453903385, "creation_date": 1453903385, "answer_id": 35039482, "question_id": 35039440, "link": "https://stackoverflow.com/questions/35039440/link-to-get-rails-error-wrong-number-of-arguments-1-for-0/35039482#35039482", "title": "link_to get rails error: wrong number of arguments (1 for 0)", "body": "<p>you are missing <code>,</code>\n<code>&lt;%= link_to category.name, store_path %&gt;</code></p>\n"}], "owner": {"reputation": 4509, "user_id": 2936491, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/BIeeI.jpg?s=128&g=1", "display_name": "techdreams", "link": "https://stackoverflow.com/users/2936491/techdreams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 35039482, "answer_count": 1, "score": 0, "last_activity_date": 1453907876, "creation_date": 1453903270, "last_edit_date": 1453907876, "question_id": 35039440, "link": "https://stackoverflow.com/questions/35039440/link-to-get-rails-error-wrong-number-of-arguments-1-for-0", "title": "link_to get rails error: wrong number of arguments (1 for 0)", "body": "<p>I am using a simple <code>link_to</code> which we use always in my rails app but it is giving this error.</p>\n\n<p><code>wrong number of arguments (1 for 0)</code></p>\n\n<p>My code in view.</p>\n\n<pre><code>&lt;%= link_to category.name store_path %&gt;\n</code></pre>\n\n<p>The path is correct when running in the url and also in the console.</p>\n\n<pre><code>2.2.3 :003 &gt; app.store_path\n=&gt; \"/store\"\n</code></pre>\n\n<p>I don't understand why this picking up an argument over here.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "mailcatcher"], "comments": [{"owner": {"reputation": 1267, "user_id": 1718633, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/fabe1e6b28afc64cdbd3c071621a7565?s=128&d=identicon&r=PG", "display_name": "Rich_F", "link": "https://stackoverflow.com/users/1718633/rich-f"}, "edited": false, "score": 0, "creation_date": 1455733303, "post_id": 35039407, "comment_id": 58625028, "body": "Was this ever solved?"}], "answers": [{"tags": [], "owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "is_accepted": false, "score": 2, "last_activity_date": 1453921330, "creation_date": 1453921330, "answer_id": 35045816, "question_id": 35039407, "link": "https://stackoverflow.com/questions/35039407/mailcatcher-error-error-somethings-using-port-1025-are-you-already-runni/35045816#35045816", "title": "Mailcatcher Error: ~~&gt; ERROR: Something&#39;s using port 1025. Are you already running MailCatcher?", "body": "<p>Something seems to be running on that port. It can be another instance of mailcatcher, or some other process. </p>\n\n<p>On most *nix systems you can use the following command to search for a process occupying a particular port:</p>\n\n<pre><code>lsof -i :PORT\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>lsof -i :1025\n</code></pre>\n\n<p>The result will contain a PID (Process ID). You can use this to kill the offending process.</p>\n\n<pre><code>kill -9 SOME_PID\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>kill -9 32487 \n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 2993674, "user_type": "registered", "accept_rate": 6, "profile_image": "https://i.stack.imgur.com/TRxII.jpg?s=128&g=1", "display_name": "rld", "link": "https://stackoverflow.com/users/2993674/rld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535459637, "creation_date": 1453903180, "question_id": 35039407, "link": "https://stackoverflow.com/questions/35039407/mailcatcher-error-error-somethings-using-port-1025-are-you-already-runni", "title": "Mailcatcher Error: ~~&gt; ERROR: Something&#39;s using port 1025. Are you already running MailCatcher?", "body": "<p>I have installed the gem mailcatcher. And when I want to run the mailcatcher I have this error message:</p>\n\n<pre><code>$ mailcatcher\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::BASE\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of BASE was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::EXCEPTION_ALL\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of EXCEPTION_ALL was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::EXCEPTION_NaN\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of EXCEPTION_NaN was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::EXCEPTION_INFINITY\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of EXCEPTION_INFINITY was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::EXCEPTION_UNDERFLOW\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of EXCEPTION_UNDERFLOW was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::EXCEPTION_OVERFLOW\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of EXCEPTION_OVERFLOW was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::EXCEPTION_ZERODIVIDE\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of EXCEPTION_ZERODIVIDE was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_MODE\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_MODE was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_UP\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_UP was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_DOWN\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_DOWN was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_HALF_UP\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_HALF_UP was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_HALF_DOWN\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_HALF_DOWN was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_CEILING\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_CEILING was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_FLOOR\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_FLOOR was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::ROUND_HALF_EVEN\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of ROUND_HALF_EVEN was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::SIGN_NaN\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of SIGN_NaN was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::SIGN_POSITIVE_ZERO\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of SIGN_POSITIVE_ZERO was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::SIGN_NEGATIVE_ZERO\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of SIGN_NEGATIVE_ZERO was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::SIGN_POSITIVE_FINITE\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of SIGN_POSITIVE_FINITE was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::SIGN_NEGATIVE_FINITE\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of SIGN_NEGATIVE_FINITE was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::SIGN_POSITIVE_INFINITE\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of SIGN_POSITIVE_INFINITE was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::SIGN_NEGATIVE_INFINITE\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of SIGN_NEGATIVE_INFINITE was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::INFINITY\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of INFINITY was here\n/Users/romenigld/.rvm/gems/ruby-2.2.3@global/extensions/x86_64-darwin-14/2.2.0-static/bigdecimal-1.2.7/bigdecimal.bundle: warning: already initialized constant BigDecimal::NAN\n/Users/romenigld/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:121: warning: previous definition of NAN was here\nStarting MailCatcher\n~~&gt; ERROR: Something's using port 1025. Are you already running MailCatcher?\n</code></pre>\n\n<p>Then when I try to use the <code>http://localhost:1080/</code> shows me the app mailcatcher.\nBut what I need to do with the application for don't show anymore this error?</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "is_accepted": false, "score": 5, "last_activity_date": 1453903212, "creation_date": 1453903212, "answer_id": 35039420, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address/35039420#35039420", "title": "in ruby how to remove the last part of ip address", "body": "<p>Can be done this way:</p>\n\n<pre><code>ip = \"208.68.38.12\"\nip.split(\".\")[0...-1].join(\".\")\n#=&gt; \"208.68.38\"\n</code></pre>\n\n<p>If you go step by step, the above used line of code is quite self-explanatory. Here:</p>\n\n<pre><code>ip.split(\".\") # splitting string on `.` so we have an Array\n#=&gt; [\"208\", \"68\", \"38\", \"12\"]\nip.split(\".\")[0...-1] # taking 0th to n-1 th element of Array (-1 represents last element when size is unknown)\n#=&gt; [\"208\", \"68\", \"38\"]\nip.split(\".\")[0...-1].join(\".\") # finally joining the Array over `.`\n#=&gt; \"208.68.38\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": false, "score": 1, "last_activity_date": 1453903218, "creation_date": 1453903218, "answer_id": 35039426, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address/35039426#35039426", "title": "in ruby how to remove the last part of ip address", "body": "<p>Try:</p>\n\n<pre><code>\"208.68.38.12\".split('.')[0,3].join('.') #=&gt; \"208.68.38\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14704, "user_id": 908515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/f1L9v.png?s=128&g=1", "display_name": "undur_gongor", "link": "https://stackoverflow.com/users/908515/undur-gongor"}, "is_accepted": false, "score": 0, "last_activity_date": 1453903240, "creation_date": 1453903240, "answer_id": 35039431, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address/35039431#35039431", "title": "in ruby how to remove the last part of ip address", "body": "<p>Assuming you can rely on a well-formed IPv4 address:</p>\n\n<pre><code>ip.sub(/\\.[^.]*\\z/, '')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7447, "user_id": 602372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/q6bLu.jpg?s=128&g=1", "display_name": "Yam Marcovic", "link": "https://stackoverflow.com/users/602372/yam-marcovic"}, "is_accepted": false, "score": 0, "last_activity_date": 1453903264, "creation_date": 1453903264, "answer_id": 35039436, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address/35039436#35039436", "title": "in ruby how to remove the last part of ip address", "body": "<pre><code>ip = ip.split('.')[0..-2].join('.')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1453903377, "creation_date": 1453903377, "answer_id": 35039479, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address/35039479#35039479", "title": "in ruby how to remove the last part of ip address", "body": "<pre><code>ip = '208.68.38.12'\nip[/.*(?=\\.\\d+\\z)/]\n#\u21d2 \"208.68.38\"\n</code></pre>\n\n<p>Here we use <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-5B-5D\" rel=\"nofollow\"><code>String#[]</code></a> and positive lookahead in regular expression to omit last dot and following numbers in the result.</p>\n\n<p>BTW, there are gems all around to deal with IPs, e. g.: <a href=\"https://github.com/deploy2/ruby-ip\" rel=\"nofollow\">https://github.com/deploy2/ruby-ip</a></p>\n"}, {"tags": [], "owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "is_accepted": false, "score": 3, "last_activity_date": 1453903539, "creation_date": 1453903539, "answer_id": 35039533, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address/35039533#35039533", "title": "in ruby how to remove the last part of ip address", "body": "<p>Yet another version:</p>\n\n<pre><code>ip = \"208.68.38.12\"\nip[0...ip.rindex('.')] # =&gt; \"208.68.38\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3693, "user_id": 4800588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5yZA.jpg?s=128&g=1", "display_name": "Enver Dzhaparoff", "link": "https://stackoverflow.com/users/4800588/enver-dzhaparoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1453906761, "creation_date": 1453906761, "answer_id": 35040730, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address/35040730#35040730", "title": "in ruby how to remove the last part of ip address", "body": "<p>Simplest way, in my opinion:</p>\n\n<pre><code>\"208.68.38.12\"[/(\\.?\\d+){3}/]\n</code></pre>\n"}], "owner": {"reputation": 61601, "user_id": 1203556, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/aca772bc8ed79a86894211c7efd920aa?s=128&d=identicon&r=PG", "display_name": "Tampa", "link": "https://stackoverflow.com/users/1203556/tampa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1149, "favorite_count": 0, "answer_count": 7, "score": 2, "last_activity_date": 1453906761, "creation_date": 1453902993, "question_id": 35039333, "link": "https://stackoverflow.com/questions/35039333/in-ruby-how-to-remove-the-last-part-of-ip-address", "title": "in ruby how to remove the last part of ip address", "body": "<p>I am new to ruby.</p>\n\n<p>I have an ip address and I need the strip the last part of the ip address.</p>\n\n<p>e.g.</p>\n\n<p>208.68.38.12 becomes 208.68.38</p>\n\n<p>How do I do that in ruby?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 3, "creation_date": 1453902510, "post_id": 35039098, "comment_id": 57802493, "body": "Try <code>@object_form.id</code>"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 2, "creation_date": 1453902515, "post_id": 35039098, "comment_id": 57802496, "body": "<code>@object_form.reload.id</code>"}, {"owner": {"reputation": 120, "user_id": 5329195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a247c6fe5dbfbf595dec2107334bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "Hoggie", "link": "https://stackoverflow.com/users/5329195/hoggie"}, "edited": false, "score": 0, "creation_date": 1453902655, "post_id": 35039098, "comment_id": 57802579, "body": "I Already tried object_form.id, hope reload will work"}, {"owner": {"reputation": 120, "user_id": 5329195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a247c6fe5dbfbf595dec2107334bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "Hoggie", "link": "https://stackoverflow.com/users/5329195/hoggie"}, "edited": false, "score": 0, "creation_date": 1453902732, "post_id": 35039098, "comment_id": 57802630, "body": "undefined method `reload&#39; for #&lt;ObjectForm:0x007feb9c96b3d0&gt; after using reload on @object_form"}, {"owner": {"reputation": 3134, "user_id": 3884750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100003183948251/picture?type=large", "display_name": "Oleg  Sobchuk", "link": "https://stackoverflow.com/users/3884750/oleg-sobchuk"}, "edited": false, "score": 2, "creation_date": 1453902959, "post_id": 35039098, "comment_id": 57802788, "body": "Are you sure that your object was saved? Try <code>@object_form.persisted?</code> what you get?"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 1, "creation_date": 1453903300, "post_id": 35039098, "comment_id": 57803069, "body": "It should be saved and should return <code>@object_form.id</code> no problem really"}, {"owner": {"reputation": 120, "user_id": 5329195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a247c6fe5dbfbf595dec2107334bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "Hoggie", "link": "https://stackoverflow.com/users/5329195/hoggie"}, "edited": false, "score": 0, "creation_date": 1453903364, "post_id": 35039098, "comment_id": 57803124, "body": "Yeah im quite sure, It is an action after checking if object_form was created"}], "answers": [{"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": true, "score": 4, "last_activity_date": 1453903280, "creation_date": 1453903280, "answer_id": 35039441, "question_id": 35039098, "link": "https://stackoverflow.com/questions/35039098/rails-getting-id-of-currently-created-element-with-formobject/35039441#35039441", "title": "Rails - getting ID of currently created element with formobject", "body": "<p>If you're <em>saving</em> the object, and if that <em>save</em> is successful, you'll be able to just reference the <code>id</code> of the newly <em>saved</em> object:</p>\n\n<pre><code>id = @object_form.id if @object_form.save\n</code></pre>\n\n<p>You have to remember that you're <em>not</em> saving the \"form\", but an <code>ActiveRecord</code> object. Thus, if you've still got the <code>@instance_variable</code> available from the save, it will return the newly populated <code>id</code> method.</p>\n"}], "owner": {"reputation": 120, "user_id": 5329195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a247c6fe5dbfbf595dec2107334bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "Hoggie", "link": "https://stackoverflow.com/users/5329195/hoggie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 35039441, "answer_count": 1, "score": 0, "last_activity_date": 1453903280, "creation_date": 1453902388, "question_id": 35039098, "link": "https://stackoverflow.com/questions/35039098/rails-getting-id-of-currently-created-element-with-formobject", "title": "Rails - getting ID of currently created element with formobject", "body": "<p>I would like to know how can i get ID of currently created Model record, which was saved by Form Object. I have:</p>\n\n<pre><code>@object_form.save\n\nid = @parent.objects.last.id\n</code></pre>\n\n<p>i would like to change it into something more meaningful like:\\</p>\n\n<pre><code>@object_form.save\n\nid = (currently saved OBJECT.id)\n</code></pre>\n"}, {"tags": ["ruby", "multithreading", "parallel-processing", "rake"], "comments": [{"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "edited": false, "score": 0, "creation_date": 1453903140, "post_id": 35039068, "comment_id": 57802924, "body": "How many files are there? Do you download all of the files in one task or have many tasks?"}, {"owner": {"reputation": 487, "user_id": 3972754, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/abc0c79fb8e22725f81c87b09aa5aaf7?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3972754/jack"}, "reply_to_user": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "edited": false, "score": 0, "creation_date": 1453903775, "post_id": 35039068, "comment_id": 57803440, "body": "At the moment I have 3 tasks, and 3 files to download from 3 different web locations: Each task has its file to download and import."}], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 3972754, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/abc0c79fb8e22725f81c87b09aa5aaf7?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3972754/jack"}, "edited": false, "score": 0, "creation_date": 1453904654, "post_id": 35039757, "comment_id": 57804149, "body": "Is it ok even when files are quite big and take a lot of time to be processed? With big I mean some 20k rows csv files that need to be parsed and mapped to model."}, {"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "reply_to_user": {"reputation": 487, "user_id": 3972754, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/abc0c79fb8e22725f81c87b09aa5aaf7?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3972754/jack"}, "edited": false, "score": 0, "creation_date": 1453905015, "post_id": 35039757, "comment_id": 57804438, "body": "@Jack if you opt for separate process - then no problems, only have to care about imports being able to run in parallel"}, {"owner": {"reputation": 487, "user_id": 3972754, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/abc0c79fb8e22725f81c87b09aa5aaf7?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3972754/jack"}, "edited": false, "score": 0, "creation_date": 1453905277, "post_id": 35039757, "comment_id": 57804652, "body": "I&#39;ll try this approach then, thank you for your time!"}], "tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": true, "score": 3, "last_activity_date": 1453904135, "creation_date": 1453904135, "answer_id": 35039757, "question_id": 35039068, "link": "https://stackoverflow.com/questions/35039068/ruby-rake-tasks-thread-optimization/35039757#35039757", "title": "Ruby rake tasks thread optimization", "body": "<p>When number of such files is low, you do not care for order of execution and can afford some extra memory - simpliest solution is just to run them in different processes by cron (for example - <code>gem 'whenever'</code>).</p>\n\n<p>If there're more - use some http gems for parallel downloading - <code>typhoeus</code>, <code>curb</code>, <code>em-http-request</code> etc</p>\n"}], "owner": {"reputation": 487, "user_id": 3972754, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/abc0c79fb8e22725f81c87b09aa5aaf7?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3972754/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 35039757, "answer_count": 1, "score": 3, "last_activity_date": 1453904135, "creation_date": 1453902301, "last_edit_date": 1453903049, "question_id": 35039068, "link": "https://stackoverflow.com/questions/35039068/ruby-rake-tasks-thread-optimization", "title": "Ruby rake tasks thread optimization", "body": "<p>I have some rake tasks that need to run every hour approximately, each one of them has to contact a web site, download a file and import the file into my db.</p>\n\n<p>I was wondering what the best approach would be in terms of efficiency and speed of execution.\nAm I correct if I think that making a thread for each task will save me some time? By doing so I should be able to minimize the time spent waiting for the server response to that of the slowest one among the threads.</p>\n\n<p>Once downloaded the files, I was thinking of using <code>gem \"parallel\"</code> for importing data into the db from large csv and xml files.</p>\n\n<p>Please let me know should you have any suggestions.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "graphviz", "erd"], "answers": [{"comments": [{"owner": {"reputation": 740, "user_id": 599471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OF6hl.jpg?s=128&g=1", "display_name": "Magesh", "link": "https://stackoverflow.com/users/599471/magesh"}, "edited": false, "score": 3, "creation_date": 1507187362, "post_id": 35040185, "comment_id": 80112373, "body": "For me, it doesn&#39;t work even after installing graphviz"}], "tags": [], "owner": {"reputation": 11075, "user_id": 744346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4d4016d193e6a2ccf2fef223f7eac9db?s=128&d=identicon&r=PG", "display_name": "MrDanA", "link": "https://stackoverflow.com/users/744346/mrdana"}, "is_accepted": false, "score": 19, "last_activity_date": 1471264728, "last_edit_date": 1471264728, "creation_date": 1453905309, "answer_id": 35040185, "question_id": 35038840, "link": "https://stackoverflow.com/questions/35038840/saving-diagram-failed-verify-that-graphviz-is-installed-and-in-your-path-or-us/35040185#35040185", "title": "Saving diagram failed! Verify that Graphviz is installed and in your path, or use filetype=dot", "body": "<p>It's because your project is using <a href=\"https://github.com/voormedia/rails-erd\" rel=\"noreferrer\">Rails ERD</a>, a gem that can automatically create ERDs - entity relationship diagrams. It relies on a library called <code>graphviz</code> to run. If you want to continue to use it, you'll have to <a href=\"http://www.graphviz.org/Download..php\" rel=\"noreferrer\">install</a> <code>graphviz</code>. On Linux you can do this via console:</p>\n\n<pre><code>sudo apt-get install graphviz\n</code></pre>\n\n<p>If you don't want to use the <code>rails-erd</code> gem, remove it from your Gemfile and <code>bundle</code>. If you don't see it in your Gemfile, look at your Gemfile.lock to determine what is requiring the <code>rails-erd</code> gem and think about removing that gem.</p>\n"}, {"comments": [{"owner": {"reputation": 5312, "user_id": 6535997, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10156345016155058/picture?type=large", "display_name": "Mark", "link": "https://stackoverflow.com/users/6535997/mark"}, "edited": false, "score": 0, "creation_date": 1540913688, "post_id": 47218130, "comment_id": 93034019, "body": "Installing graphviz didn&#39;t work for me - the above did"}], "tags": [], "owner": {"reputation": 800, "user_id": 1427604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e8883ddbae9f37d6a93d5598cf3cf78?s=128&d=identicon&r=PG", "display_name": "vitthal", "link": "https://stackoverflow.com/users/1427604/vitthal"}, "is_accepted": false, "score": 4, "last_activity_date": 1510300820, "creation_date": 1510300820, "answer_id": 47218130, "question_id": 35038840, "link": "https://stackoverflow.com/questions/35038840/saving-diagram-failed-verify-that-graphviz-is-installed-and-in-your-path-or-us/47218130#47218130", "title": "Saving diagram failed! Verify that Graphviz is installed and in your path, or use filetype=dot", "body": "<p>Try with below commands.</p>\n\n<pre><code>erd --inheritance --direct --attributes=foreign_keys,content --filetype=dot\ndot -Tjpg erd.dot &gt; erd.jpg\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1670773"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4452, "favorite_count": 3, "answer_count": 2, "score": 8, "last_activity_date": 1510300820, "creation_date": 1453901743, "question_id": 35038840, "link": "https://stackoverflow.com/questions/35038840/saving-diagram-failed-verify-that-graphviz-is-installed-and-in-your-path-or-us", "title": "Saving diagram failed! Verify that Graphviz is installed and in your path, or use filetype=dot", "body": "<p>When I run <code>rake db:migrate</code> I get this error </p>\n\n<pre><code>rake aborted!\nSaving diagram failed!\nVerify that Graphviz is installed and in your path, or use filetype=dot.\n</code></pre>\n\n<p>Full log:</p>\n\n<pre><code>rake db:migrate\nLoading application environment...\nLoading code in search of Active Record models...\nGenerating Entity-Relationship Diagram for 20 models...\nrake aborted!\nSaving diagram failed!\nVerify that Graphviz is installed and in your path, or use filetype=dot.\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:207:in `rescue in block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:198:in `block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `instance_eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `save'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:120:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:74:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/tasks.rake:41:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:18:in `update_model'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:3:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nStandardError: GraphViz not installed or dot not in PATH. Install GraphViz or use the 'path' option\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/ruby-graphviz-1.2.2/lib/graphviz.rb:544:in `output'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:200:in `block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `instance_eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `save'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:120:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:74:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/tasks.rake:41:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:18:in `update_model'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:3:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nTasks: TOP =&gt; erd =&gt; erd:generate\n(See full trace by running task with --trace)\nbcc@bcc /media/bcc/Other/work/incomingerasmus $ git branch\n  master\n* rails4\nbcc@bcc /media/bcc/Other/work/incomingerasmus $ rake db:migrate\nLoading application environment...\nLoading code in search of Active Record models...\nGenerating Entity-Relationship Diagram for 20 models...\nrake aborted!\nSaving diagram failed!\nVerify that Graphviz is installed and in your path, or use filetype=dot.\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:207:in `rescue in block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:198:in `block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `instance_eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `save'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:120:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:74:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/tasks.rake:41:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:18:in `update_model'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:3:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nStandardError: GraphViz not installed or dot not in PATH. Install GraphViz or use the 'path' option\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/ruby-graphviz-1.2.2/lib/graphviz.rb:544:in `output'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:200:in `block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `instance_eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `save'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:120:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:74:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/tasks.rake:41:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:18:in `update_model'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:3:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nTasks: TOP =&gt; erd =&gt; erd:generate\n(See full trace by running task with --trace)\n</code></pre>\n\n<p>If I run the command with --trace I get this</p>\n\n<pre><code>rake db:migrate --trace\n** Invoke db:migrate (first_time)\n** Invoke environment (first_time)\n** Execute environment\n** Invoke db:load_config (first_time)\n** Execute db:load_config\n** Execute db:migrate\n** Invoke db:_dump (first_time)\n** Execute db:_dump\n** Invoke db:schema:dump (first_time)\n** Invoke environment \n** Invoke db:load_config \n** Execute db:schema:dump\n** Invoke erd (first_time)\n** Invoke erd:generate (first_time)\n** Invoke erd:options (first_time)\n** Execute erd:options\n** Invoke erd:load_models (first_time)\n** Execute erd:load_models\nLoading application environment...\n** Invoke environment \nLoading code in search of Active Record models...\n** Execute erd:generate\nGenerating Entity-Relationship Diagram for 20 models...\nrake aborted!\nSaving diagram failed!\nVerify that Graphviz is installed and in your path, or use filetype=dot.\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:207:in `rescue in block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:198:in `block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `instance_eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `save'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:120:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:74:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/tasks.rake:41:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `call'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `block in execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:179:in `block in invoke_with_call_chain'\n/home/bcc/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:172:in `invoke_with_call_chain'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:201:in `block in invoke_prerequisites'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:199:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:199:in `invoke_prerequisites'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:178:in `block in invoke_with_call_chain'\n/home/bcc/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:172:in `invoke_with_call_chain'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:165:in `invoke'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:18:in `update_model'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:3:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `call'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `block in execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:179:in `block in invoke_with_call_chain'\n/home/bcc/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:172:in `invoke_with_call_chain'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:165:in `invoke'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:150:in `invoke_task'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:106:in `block (2 levels) in top_level'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:106:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:106:in `block in top_level'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:115:in `run_with_threads'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:100:in `top_level'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:78:in `block in run'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:176:in `standard_exception_handling'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:75:in `run'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/bin/rake:33:in `&lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/rake:23:in `load'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/rake:23:in `&lt;main&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nStandardError: GraphViz not installed or dot not in PATH. Install GraphViz or use the 'path' option\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/ruby-graphviz-1.2.2/lib/graphviz.rb:544:in `output'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram/graphviz.rb:200:in `block in &lt;class:Graphviz&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `instance_eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:142:in `save'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:120:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/diagram.rb:74:in `create'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/rails_erd/tasks.rake:41:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `call'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `block in execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:179:in `block in invoke_with_call_chain'\n/home/bcc/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:172:in `invoke_with_call_chain'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:201:in `block in invoke_prerequisites'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:199:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:199:in `invoke_prerequisites'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:178:in `block in invoke_with_call_chain'\n/home/bcc/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:172:in `invoke_with_call_chain'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:165:in `invoke'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:18:in `update_model'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rails-erd-1.4.5/lib/tasks/auto_generate_diagram.rake:3:in `block (2 levels) in &lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `call'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:240:in `block in execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:235:in `execute'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:179:in `block in invoke_with_call_chain'\n/home/bcc/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:172:in `invoke_with_call_chain'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/task.rb:165:in `invoke'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:150:in `invoke_task'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:106:in `block (2 levels) in top_level'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:106:in `each'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:106:in `block in top_level'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:115:in `run_with_threads'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:100:in `top_level'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:78:in `block in run'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:176:in `standard_exception_handling'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/lib/rake/application.rb:75:in `run'\n/home/bcc/.rvm/gems/ruby-2.2.3/gems/rake-10.5.0/bin/rake:33:in `&lt;top (required)&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/rake:23:in `load'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/rake:23:in `&lt;main&gt;'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `eval'\n/home/bcc/.rvm/gems/ruby-2.2.3/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\nTasks: TOP =&gt; erd =&gt; erd:generate\n</code></pre>\n\n<p>I don't understand the problem. I am facing this problem after I upgraded my application from rails 3 to rails 4.2. My application is running without any problem. But when I run <code>rake db:migrate command</code> I get this error. How to solve this problem?</p>\n\n<p>There is a line in the error log might be important but I don't understand it. </p>\n\n<pre><code>GraphViz not installed or dot not in PATH. Install GraphViz or use the 'path' option\n</code></pre>\n"}, {"tags": ["ruby", "mongodb"], "comments": [{"owner": {"reputation": 232, "user_id": 1068805, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9d780d125ed2db179863b30988089c61?s=128&d=identicon&r=PG", "display_name": "Deepak", "link": "https://stackoverflow.com/users/1068805/deepak"}, "edited": false, "score": 0, "creation_date": 1453901788, "post_id": 35038112, "comment_id": 57801973, "body": "<code>MONGODB | execution expired</code>  this is the message I am getting"}, {"owner": {"reputation": 232, "user_id": 1068805, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9d780d125ed2db179863b30988089c61?s=128&d=identicon&r=PG", "display_name": "Deepak", "link": "https://stackoverflow.com/users/1068805/deepak"}, "edited": false, "score": 0, "creation_date": 1453956893, "post_id": 35038112, "comment_id": 57830365, "body": "I am using mongo driver version 2.2"}], "owner": {"reputation": 232, "user_id": 1068805, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9d780d125ed2db179863b30988089c61?s=128&d=identicon&r=PG", "display_name": "Deepak", "link": "https://stackoverflow.com/users/1068805/deepak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 892, "favorite_count": 5, "answer_count": 0, "score": 5, "last_activity_date": 1453899611, "creation_date": 1453899611, "question_id": 35038112, "link": "https://stackoverflow.com/questions/35038112/execution-expired-mongo-ruby-driver-on-connecting-to-replica-set", "title": "&quot;execution expired&quot; mongo ruby driver on connecting to replica set", "body": "<p>I am keep getting the following error while trying to connect with my mongodb replica set. I am unable to figure out the issue here.</p>\n\n<pre><code>2.2.0 :026 &gt; require 'mongo'\n2.2.0 :026 &gt; client = Mongo::Client.new([\"#{DB[:host]}:#{DB[:port]}\"],\n2.2.0 :027 &gt;       :database =&gt; DB[:name],\n2.2.0 :028 &gt;       :replica_set =&gt; DB[:replica_set],\n2.2.0 :029 &gt;       :user =&gt; DB[:user],\n2.2.0 :030 &gt;       :password =&gt; DB[:password])\nD, [2016-01-27T18:20:47.883886 #3743] DEBUG -- : MONGODB | Adding mongo-replica-1:27028 to the cluster.\nD, [2016-01-27T18:20:49.005494 #3743] DEBUG -- : MONGODB | execution expired\nD, [2016-01-27T18:20:50.376267 #3743] DEBUG -- : MONGODB | execution expired\nD, [2016-01-27T18:20:58.096017 #3743] DEBUG -- : MONGODB | execution expired`\n</code></pre>\n\n<p>I can access the replica set using mongo command from bash</p>\n\n<pre><code>mongo mydb --host mongo-replica-1 --port 27028 --username myuser --password mypass\n</code></pre>\n\n<p>with the above command I can access mongo and run read data after runnning </p>\n\n<pre><code>&gt; db.setSlaveOk()\n</code></pre>\n\n<p>But I am not even able to connect in the first case, it looks like it is connected but keep getting the message \"execution expired\".</p>\n"}, {"tags": ["ruby", "cocoa"], "comments": [{"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1453910989, "post_id": 35037891, "comment_id": 57809030, "body": "taobao.org is reporting some connection issues. Try again."}, {"owner": {"reputation": 166, "user_id": 5524641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1u0zz.jpg?s=128&g=1", "display_name": "Marc Steven", "link": "https://stackoverflow.com/users/5524641/marc-steven"}, "reply_to_user": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1453961352, "post_id": 35037891, "comment_id": 57831917, "body": "I retry again,but the issue is still existing.Could you give me the details to solve it?Thank you so much."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 5524641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1u0zz.jpg?s=128&g=1", "display_name": "Marc Steven", "link": "https://stackoverflow.com/users/5524641/marc-steven"}, "is_accepted": false, "score": 0, "last_activity_date": 1584158852, "last_edit_date": 1584158852, "creation_date": 1577965026, "answer_id": 59562695, "question_id": 35037891, "link": "https://stackoverflow.com/questions/35037891/reinstall-cocoa-pods-mirror-to-make-it-work/59562695#59562695", "title": "Reinstall cocoa pods mirror to make it work", "body": "<p>Yeah  I did it via command order</p>\n\n<pre><code>pod install cocoapods\n</code></pre>\n\n<p>Sometimes you need to reinstall it and then all will be solved.</p>\n"}], "owner": {"reputation": 166, "user_id": 5524641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1u0zz.jpg?s=128&g=1", "display_name": "Marc Steven", "link": "https://stackoverflow.com/users/5524641/marc-steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584158963, "creation_date": 1453898992, "last_edit_date": 1584158963, "question_id": 35037891, "link": "https://stackoverflow.com/questions/35037891/reinstall-cocoa-pods-mirror-to-make-it-work", "title": "Reinstall cocoa pods mirror to make it work", "body": "<p>Several days earlier I met a strange issue,when imported the library of Alamofire and then let enum conform to protocol .The error shows enum cannot conform to protocol .I thought the issue was from cocoa pods ,so I uninstalled cocoa pods and then wanna install again.\nI executed the order:\"gem install cocoapods\".But it displayed the error,the error as follow,I hope get everyone's help to solve it completely.I'm not skilled in the field of cocoa pods.Thank you so much..\nERROR:  Could not find a valid gem 'cocoapods' (>= 0), here is why:\n          Unable to download data from <a href=\"https://ruby.taobao.org\" rel=\"nofollow\">https://ruby.taobao.org</a> - no such name (<a href=\"https://ruby.taobao.org/specs.4.8.gz\" rel=\"nofollow\">https://ruby.taobao.org/specs.4.8.gz</a>)\nSorry to disturb everyone......But I really desire to get your hand to solve it.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "friendly-id", "transliteration"], "comments": [{"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1453902128, "post_id": 35037834, "comment_id": 57802224, "body": "What do you mean <code>transliteration is wrong.</code>? What value has the <code>input</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4106722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b8ae5bae5b7c38d9cc1e382a05118ec?s=128&d=identicon&r=PG&f=1", "display_name": "Nam", "link": "https://stackoverflow.com/users/4106722/nam"}, "is_accepted": false, "score": 1, "last_activity_date": 1472845043, "last_edit_date": 1472845043, "creation_date": 1472837869, "answer_id": 39298010, "question_id": 35037834, "link": "https://stackoverflow.com/questions/35037834/ruby-on-rails-friendly-id-babosa-gems-problems-with-transliteration/39298010#39298010", "title": "Ruby on Rails friendly_id, babosa gems, problems with transliteration", "body": "<p>You can fix it by replacing function on model <code>product.rb</code>:</p>\n\n<pre><code>\"input.to_s.to_slug.normalize(transliterations: :russian).to_s\" -&gt;\n\"input.to_slug.normalize! :transliterations =&gt; [:russian]\"\n</code></pre>\n\n<p>on my Model it is:</p>\n\n<pre><code>def normalize_friendly_id(text)\n    text.to_slug.normalize! :transliterations =&gt; [:vietnamese]\nend\n</code></pre>\n"}], "owner": {"reputation": 170, "user_id": 1180923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VY4FS.jpg?s=128&g=1", "display_name": "Viacheslav Soldatov", "link": "https://stackoverflow.com/users/1180923/viacheslav-soldatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1472845043, "creation_date": 1453898851, "last_edit_date": 1453902046, "question_id": 35037834, "link": "https://stackoverflow.com/questions/35037834/ruby-on-rails-friendly-id-babosa-gems-problems-with-transliteration", "title": "Ruby on Rails friendly_id, babosa gems, problems with transliteration", "body": "<p>I'm using the gems: <code>friendly_id, babosa</code>.</p>\n\n<p>Model <strong>product.rb</strong>:</p>\n\n<pre><code>class Product &lt; ActiveRecord::Base\n   extend FriendlyId\n   friendly_id :name, use: [:slugged, :finders]\n   has_many :tags\n\n   def normalize_friendly_id(input)\n    input.to_s.to_slug.normalize(transliterations: :russian).to_s\n   end\n\nend\n</code></pre>\n\n<p>I launched \u0441onsole, to generate slugs for existing products:</p>\n\n<pre><code>Product.find_each(&amp;:save)\n</code></pre>\n\n<p>Checking the last item:</p>\n\n<pre><code>Product.last\n\n#&lt;Product id: 4972, name: \"\u0412\u0410 47-63, 2P 2\u0410 (C) EKF\", created_at: \"2016-01-27 11:32:39\", updated_at: \"2016-01-27 11:32:39\", slug: 04b4aa2d-2bb9-46f9-8d49-cbb9d0c3f872\"&gt;\n</code></pre>\n\n<p>But transliteration is wrong. I'm trying doing same in console:</p>\n\n<pre><code>\"\u0412\u0410 47-63, 2P 2\u0410 (C) EKF\".to_s.to_slug.normalize(transliterations: :russian).to_s\n=&gt; \"va-47-63-2p-2a-c-ekf\"\n</code></pre>\n\n<p>Now its normal result. I can not understand why this is so.</p>\n\n<p>In the same way did transliteration for the tags, she received adequate.</p>\n\n<p>Model <strong>tag.rb</strong>:</p>\n\n<pre><code>class Tag &lt; ActiveRecord::Base\n  extend FriendlyId\n  friendly_id :name, use: [:slugged, :finders]\n  belongs_to :product\n\n  def normalize_friendly_id(input)\n   input.to_s.to_slug.normalize(transliterations: :russian).to_s\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby", "loops", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "edited": false, "score": 0, "creation_date": 1453898726, "post_id": 35037646, "comment_id": 57799862, "body": "can you give an example of how the params[:author] is like?"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "reply_to_user": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "edited": false, "score": 0, "creation_date": 1453899221, "post_id": 35037646, "comment_id": 57800230, "body": "I added it to the OP"}], "answers": [{"tags": [], "owner": {"reputation": 3665, "user_id": 4330954, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/340ffba5552ac48227741a8695a255ff?s=128&d=identicon&r=PG", "display_name": "x6iae", "link": "https://stackoverflow.com/users/4330954/x6iae"}, "is_accepted": false, "score": 2, "last_activity_date": 1453899939, "creation_date": 1453899939, "answer_id": 35038229, "question_id": 35037646, "link": "https://stackoverflow.com/questions/35037646/how-to-create-this-for-each-loop-in-ruby/35038229#35038229", "title": "How to create this &#39;for each loop&#39; in Ruby?", "body": "<p>For this, you can first map out all the <code>arti_id</code> in a separate array variable, and then use the <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-include-3F\" rel=\"nofollow\"><code>include?</code> method</a> or the <a href=\"http://apidock.com/rails/String/exclude%3F\" rel=\"nofollow\"><code>exclude?</code> method</a> to check if a particular id is in the array.</p>\n\n<p><em>Example:</em></p>\n\n<pre><code>article_ids = params[:author][:articles_attributes].map{ |art_attr| art_attr[:arti_id] }\n</code></pre>\n\n<p>and then in the loop: ( for using the <code>include?</code> method )</p>\n\n<pre><code>article_collection = @author.articles.all\nunless article_collection.blank?\n  article_collection.each do |article_from_collection|\n    # This is how you can handle it...\n    unless article_ids.include? article_from_collection.arti_id \n      article_from_collection.destroy\n    end\n  end\nend\n</code></pre>\n\n<p>or if you will prefer using <code>exclude</code>?</p>\n\n<pre><code>article_collection = @author.articles.all\nunless article_collection.blank?\n  article_collection.each do |article_from_collection|\n    # This is how you can handle it...\n    if article_ids.exclude? article_from_collection.arti_id \n      article_from_collection.destroy\n    end\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 914, "user_id": 1612193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f21ef0b135d7399570b3679ce958fcbd?s=128&d=identicon&r=PG", "display_name": "Dani", "link": "https://stackoverflow.com/users/1612193/dani"}, "is_accepted": false, "score": 2, "last_activity_date": 1453900239, "creation_date": 1453900239, "answer_id": 35038328, "question_id": 35037646, "link": "https://stackoverflow.com/questions/35037646/how-to-create-this-for-each-loop-in-ruby/35038328#35038328", "title": "How to create this &#39;for each loop&#39; in Ruby?", "body": "<p>How about something like the following:</p>\n\n<pre><code>article_collection = @author.articles.all\nparams_article_ids = params[:author][:articles_attributes].collect{ |article_attrs| article_attrs[:arti_id]}\n\narticle_collection.reject{ |art| present_article_ids.include?(art.id)}.each(&amp;:destroy)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3020, "user_id": 4453584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25188d50654874d1125dd754d783851b?s=128&d=identicon&r=PG&f=1", "display_name": "guitarman", "link": "https://stackoverflow.com/users/4453584/guitarman"}, "is_accepted": false, "score": 2, "last_activity_date": 1453900330, "creation_date": 1453900330, "answer_id": 35038359, "question_id": 35037646, "link": "https://stackoverflow.com/questions/35037646/how-to-create-this-for-each-loop-in-ruby/35038359#35038359", "title": "How to create this &#39;for each loop&#39; in Ruby?", "body": "<p>I assume your params[:author][:articles_attributes] holds hashes of article attributes where each of them has an arti_id. </p>\n\n<p>At first I would return all article ids of the author:</p>\n\n<pre><code>all_article_ids = @author.articles.pluck(:arti_id)\n</code></pre>\n\n<p>Second, I collect all arti_ids from your article attributes you want to keep save:</p>\n\n<pre><code>ids = params[:author][:articles_attributes].map{|attr| attr.arti_id}\n</code></pre>\n\n<p>Now there are two arrays of ids. I subtract the \"ids\" array from the \"all_article_ids\" and I get a new array of ids, which are not in the \"ids\" array. These are the ids of \"all_article_ids\", which should be destroyed.</p>\n\n<pre><code>@author.articles.destroy(all_article_ids - ids)\n</code></pre>\n\n<p>Is this what fits your needs?</p>\n"}, {"comments": [{"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1453901017, "post_id": 35038526, "comment_id": 57801437, "body": "Thanks, would this still work in case <code>article_ids</code> is <code>nil</code> (no articles at all)? Or would the last line then throw an error?"}, {"owner": {"reputation": 16564, "user_id": 1261399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/679444399bbf92e3a5d3f16347809f3f?s=128&d=identicon&r=PG", "display_name": "Leo Correa", "link": "https://stackoverflow.com/users/1261399/leo-correa"}, "reply_to_user": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1453901430, "post_id": 35038526, "comment_id": 57801741, "body": "If article_ids is empty, as map always returns an array, it will simply destroy all of the articles for the author."}], "tags": [], "owner": {"reputation": 16564, "user_id": 1261399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/679444399bbf92e3a5d3f16347809f3f?s=128&d=identicon&r=PG", "display_name": "Leo Correa", "link": "https://stackoverflow.com/users/1261399/leo-correa"}, "is_accepted": true, "score": 6, "last_activity_date": 1453900822, "creation_date": 1453900822, "answer_id": 35038526, "question_id": 35037646, "link": "https://stackoverflow.com/questions/35037646/how-to-create-this-for-each-loop-in-ruby/35038526#35038526", "title": "How to create this &#39;for each loop&#39; in Ruby?", "body": "<p>You could do this with an ActiveRecord query</p>\n\n<pre><code>article_ids = params[:author][:article_attributes].map do |attrs|\n  attrs[:arti_id]\nend\n\n@author.articles.where.not(id: article_ids).destroy_all\n</code></pre>\n\n<p>This will destroy all articles for the author whose ids are not in the article attributes you've been given. </p>\n\n<p>If you're confused about the query, it simply creates a <code>NOT IN</code> query which filters out the articles passed in and then destroys the ones that are left over. </p>\n"}], "owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 35038526, "answer_count": 4, "score": 2, "last_activity_date": 1453900822, "creation_date": 1453898400, "last_edit_date": 1453900508, "question_id": 35037646, "link": "https://stackoverflow.com/questions/35037646/how-to-create-this-for-each-loop-in-ruby", "title": "How to create this &#39;for each loop&#39; in Ruby?", "body": "<p>Given:</p>\n\n<pre><code>class Author &lt; ActiveRecord::Base\n  has_many :articles\nend\n</code></pre>\n\n<p>Upon receipt of a JSON file that includes the author's articles, I'd like to destroy the articles that are in the database for the author, but not included in the JSON file. How can I create this 'for each loop'?</p>\n\n<pre><code>article_collection = @author.articles.all\nunless article_collection.blank?\n  article_collection.each do |article_from_collection|\n    # How can I check on the next line if it's id is included in the params?\n    if article_from_collection.arti_id \"is not part of\" params[:author][:articles_attributes]\n      article_from_collection.destroy\n    end\n  end\nend\n</code></pre>\n\n<p>How can I check on the 5th line, on basis of <code>arti_id</code> which is also included in the params, whether the article with that <code>arti_id</code> exists in the JSON input? </p>\n\n<p>Should I perhaps build a collection of <code>arti_id</code>s in the parameters and then use <code>.include?</code> to see for each article in the DB, if it is in this collection? </p>\n\n<p>I tried the two lines below. The first returns <code>false</code> irrespective whether the article is included in the json or not. The second line returns the error <code>TypeError Exception: no implicit conversion of Symbol into Integer</code>.</p>\n\n<pre><code>if params[:author][:articles_attributes].include? article_from_collection.arti_id\nif params[:author][:articles_attributes][:arti_id].include? article_from_collection.arti_id\n</code></pre>\n\n<p><code>params[:author]</code> returns something like:</p>\n\n<pre><code>{ \"some_other_attributes\"=&gt;[ {\"key\"=&gt;\"value\", ...},\n                             {...} ],\n  \"articles_attributes\"=&gt;  [ {\"arti_id\"=&gt;\"string-id\", \"other_attributes\"=&gt;\"value\", ...},\n                             {\"arti_id\"=&gt;\"string-id\", \"other_attributes\"=&gt;\"value\", ...} ]\n}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "calendar"], "comments": [{"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1453900840, "post_id": 35037489, "comment_id": 57801314, "body": "I would add a join table between events and calendars, and make it &quot;has_many :through&quot; in both directions, rather than &quot;event belongs_to calendar&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 5701051, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a84ab02fcf8603703392942ccc2cdcaa?s=128&d=identicon&r=PG&f=1", "display_name": "S Craig", "link": "https://stackoverflow.com/users/5701051/s-craig"}, "edited": false, "score": 0, "creation_date": 1453901468, "post_id": 35038304, "comment_id": 57801761, "body": "ok, will removing &quot;belongs_to :calendar&quot; have any effect on another other methods? Such as in the calendar show view?"}, {"owner": {"reputation": 1616, "user_id": 3375148, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0634d92d3a39072fb1e23a897bea6d9e?s=128&d=identicon&r=PG", "display_name": "DevMarwen", "link": "https://stackoverflow.com/users/3375148/devmarwen"}, "reply_to_user": {"reputation": 281, "user_id": 5701051, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a84ab02fcf8603703392942ccc2cdcaa?s=128&d=identicon&r=PG&f=1", "display_name": "S Craig", "link": "https://stackoverflow.com/users/5701051/s-craig"}, "edited": false, "score": 0, "creation_date": 1453912144, "post_id": 35038304, "comment_id": 57809839, "body": "You do not have to remove anything."}, {"owner": {"reputation": 281, "user_id": 5701051, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a84ab02fcf8603703392942ccc2cdcaa?s=128&d=identicon&r=PG&f=1", "display_name": "S Craig", "link": "https://stackoverflow.com/users/5701051/s-craig"}, "edited": false, "score": 0, "creation_date": 1453913362, "post_id": 35038304, "comment_id": 57810742, "body": "oh ok, so my events model will have 3 associative code lines? Also, when adding event_id to the migration, do I declare it as t.string event_id or is it more complicated than that? thanks"}, {"owner": {"reputation": 281, "user_id": 5701051, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a84ab02fcf8603703392942ccc2cdcaa?s=128&d=identicon&r=PG&f=1", "display_name": "S Craig", "link": "https://stackoverflow.com/users/5701051/s-craig"}, "edited": false, "score": 0, "creation_date": 1454005389, "post_id": 35038304, "comment_id": 57861108, "body": "I am getting an error on the line  @part_event = @part_calendar.events.build(event_params) #adds event to participant&#39;s calendar saying undefined method `events&#39; for nil:NilClass, why am I getting this?"}], "tags": [], "owner": {"reputation": 1616, "user_id": 3375148, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0634d92d3a39072fb1e23a897bea6d9e?s=128&d=identicon&r=PG", "display_name": "DevMarwen", "link": "https://stackoverflow.com/users/3375148/devmarwen"}, "is_accepted": true, "score": 1, "last_activity_date": 1453936225, "last_edit_date": 1592644375, "creation_date": 1453900168, "answer_id": 35038304, "question_id": 35037489, "link": "https://stackoverflow.com/questions/35037489/ruby-on-rails-allowing-separate-calendars-to-share-the-same-event/35038304#35038304", "title": "Ruby on Rails: Allowing separate Calendars to share the same Event?", "body": "<p>You can have the <code>Event</code> self referenced: An event will have many events and belongs to an event:</p>\n<h3>Model</h3>\n<pre><code>class Event &lt; ActiveRecord::Base\n  has_many :events, dependent: :destroy\n  belongs_to :event, class_name: &quot;Event&quot;\nend\n</code></pre>\n<p>You will have to add <code>event_id</code> to your migration as an <code>integer</code></p>\n<h3>Controller</h3>\n<pre><code>  def create\n    @calendar = current_customer.calendar\n    @newevent = @calendar.events.build(event_params) #creates event in creator's calendar\n\n    if @newevent.save\n      # We wait until it's saved because we need its id\n      @participant_ids = params[:id_array]\n      @participant_ids.each do |item|\n        @participant = Customer.find(item)\n        @part_calendar = @participant.calendar \n        # We merge the newly created event id to the params\n        @part_event = @part_calendar.events.\n          build(event_params.merge(event_id: @newevent.id))\n        @part_event.save\n      end\n      redirect_to '/main' #'/main/#{@calendar.id}'\n    else\n      redirect_to '/compose'\n    end\n  end\n</code></pre>\n<p>This way you will have this:</p>\n<p>Let's say that <code>customer</code> has a calendar and through your form you created an <code>event</code> and also selected other customers to be part of this <code>event</code>:</p>\n<p>The <code>current_customer</code> will have new <code>event</code>, each of the other <code>customer</code>s you selected will have a new <code>event</code> ( which have a shared parent <code>event</code> which is the new <code>event</code> of the <code>current_customer</code>). This way:</p>\n<ul>\n<li>The newly created <code>event</code> will have a children <code>events</code> via <code>event.events</code> as you wiched</li>\n<li>If you destroy the <code>event</code> of the <code>current_customer</code>, all it's children <code>event</code>s will be destroy</li>\n<li>You can access a parent event of a particular <code>event</code> via <code>event.event</code></li>\n</ul>\n"}], "owner": {"reputation": 281, "user_id": 5701051, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a84ab02fcf8603703392942ccc2cdcaa?s=128&d=identicon&r=PG&f=1", "display_name": "S Craig", "link": "https://stackoverflow.com/users/5701051/s-craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 35038304, "answer_count": 1, "score": 1, "last_activity_date": 1453936225, "creation_date": 1453897945, "last_edit_date": 1453897983, "question_id": 35037489, "link": "https://stackoverflow.com/questions/35037489/ruby-on-rails-allowing-separate-calendars-to-share-the-same-event", "title": "Ruby on Rails: Allowing separate Calendars to share the same Event?", "body": "<p>I'm having some trouble with the theory (and code) behind my events creator. A quick overview:\nI have <code>Customers</code> (the users) who each own a <code>Calendar</code>. A <code>Calendar</code> <code>belongs_to</code> a <code>Customer</code> Each <code>Calendar</code> <code>has_many</code> <code>Events</code>, and an <code>Event belongs_to</code> a <code>Calendar</code>:</p>\n\n<pre><code>#customer.rb\nclass Customer &lt; ActiveRecord::Base\n  belongs_to :business\n  has_one :calendar, :dependent =&gt; :destroy\n...\nend \n\n#calendar.rb\nclass Calendar &lt; ActiveRecord::Base\n  belongs_to :customer\n  has_many :events, :dependent =&gt; :destroy    \nend\n\n#event.rb\nclass Event &lt; ActiveRecord::Base\n  belongs_to :calendar\n\nend\n</code></pre>\n\n<p>When a Customer fills in a form in <code>events\\new.html.erb</code> the Events_controller's <code>create</code> action picks up the info from the form, including an array <code>id_array</code> of each participant Customer that the creator of the event wished to be involved. </p>\n\n<p>So far, I have made it so that the events_controller iterates through the array and creates a corresponding <code>Event</code> for each of the participating customer's <code>Calendar</code>:</p>\n\n<pre><code>def create\n\n    @calendar = current_customer.calendar\n    @newevent = @calendar.events.build(event_params) #creates event in creator's calendar\n\n    @participant_ids = params[:id_array]\n\n    @participant_ids.each do |item| #iterates through id array, finds corresponding customer and creates event\n      @participant = Customer.find(item)\n      @part_calendar = @participant.calendar \n      @part_event = @part_calendar.events.build(event_params) #adds event to participant's calendar\n    end\n\n    if @newevent.save\n      redirect_to '/main' #'/main/#{@calendar.id}'\n    else\n      redirect_to '/compose'\n      end\n\n  end\n</code></pre>\n\n<p>However, this is clearly not satisfactory, because none of these events created are <strong>connected to each other</strong> at all. I would like to know what the best most efficient and rubyish way is to allow all these Customer's Calendars to <strong>share</strong> the event (or share a unique identifier). This is so that if the creator decides to delete the event, it will be deleted from all participating calendars.</p>\n\n<pre><code>Here is also my event db migrate file for reference:\n\nclass CreateEvents &lt; ActiveRecord::Migration\n  def change\n    create_table :events do |t|\n\n      t.timestamps\n      t.references :calendar, foreign_key: true\n\n      t.string :name\n      t.string :description\n      t.date :day\n      t.datetime :starts_at\n      t.datetime :ends_at\n      t.string :location\n\n    end\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "activerecord", "polymorphic-associations"], "answers": [{"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": true, "score": 5, "last_activity_date": 1541575443, "last_edit_date": 1541575443, "creation_date": 1453897961, "answer_id": 35037494, "question_id": 35037114, "link": "https://stackoverflow.com/questions/35037114/what-is-the-rails-way-to-work-with-polymorphic-associations/35037494#35037494", "title": "What is the Rails way to work with polymorphic associations?", "body": "<p>You'll be best <a href=\"http://guides.rubyonrails.org/routing.html#nested-resources\" rel=\"nofollow noreferrer\">nesting it in the routes</a>, then delegating from the parent class:</p>\n\n<pre><code># config/routes.rb\nresources :photos, :albums do\n   resources :comments, only: :create #-&gt; url.com/photos/:photo_id/comments\nend\n\n# app/controllers/comments_controller.rb\nclass CommentsController &lt; ApplicationController\n   def create\n      @parent  = parent\n      @comment = @parent.comments.new comment_params\n      @comment.save\n   end\n\n   private\n\n   def parent\n      return Album.find params[:album_id] if params[:album_id]\n      Photo.find params[:photo_id] if params[:photo_id]\n   end\n\n   def comment_params\n      params.require(:comment).permit(:body).merge(user_id: current_user.id)\n   end\nend\n</code></pre>\n\n<p>This will fill it out automatically for you.</p>\n\n<hr>\n\n<p>In order to give yourself a <code>@comment</code> object, you'll have to use:</p>\n\n<pre><code>#app/controllers/photos_controller.rb\nclass PhotosController &lt; ApplicationController\n   def show\n      @photo = Photo.find params[:id] \n      @comment = @photo.comments.new\n   end\nend\n\n#app/views/photos/show.html.erb\n&lt;%= form_for [@photo, @comment] do |f| %&gt;\n  ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 5, "last_activity_date": 1453900472, "last_edit_date": 1453900472, "creation_date": 1453899562, "answer_id": 35038095, "question_id": 35037114, "link": "https://stackoverflow.com/questions/35037114/what-is-the-rails-way-to-work-with-polymorphic-associations/35038095#35038095", "title": "What is the Rails way to work with polymorphic associations?", "body": "<p>I would use nested routes together with good old inheritance.</p>\n\n<pre><code>Rails.application.routes.draw do\n\n\n  resources :comments, only: [:show, :edit, :update, :destroy] # chances are that you don't need all these actions...\n\n  resources :album, shallow: true do\n    resources :comments, only: [:new, :index, :create],  module: 'albums'\n  end\n\n  resources :photos, shallow: true do\n    resources :comments, only: [:new, :index, :create],  module: 'photos'\n  end\nend\n</code></pre>\n\n<hr>\n\n<pre><code>class CommentsController &lt; ApplicationController\n  before_action :set_commentable, only: [:new, :index, :create]\n\n  def create\n     @comment = @commentable.comments.new(comment_params) do |c|\n       c.user = current_user\n     end\n     # ...\n  end\n\n  # ...\nend\n\nclass Albums::CommentsController &lt; ::CommentsController\n  private\n    def set_commentable\n      @commentable = Album.find(param[:id])\n    end\nend\n\nclass Photos::CommentsController &lt; ::CommentsController\n  private\n    def set_commentable\n      @commentable = Photo.find(param[:id])\n    end\nend\n</code></pre>\n\n<p>While you could simply let <code>CommentsController</code> look at the parameters to determine what the \"commentable\" resource is I rather prefer this solution as <code>CommentsController</code> otherwise ends up dealing with far more than a single resource and can swell into a god class.</p>\n\n<p>This really shines when you have index actions and need to perform joins based on the parent resource or when things just get complicated.</p>\n\n<p>Making a reusable form is quite simple using partials:</p>\n\n<pre><code># views/comments/_form.html.erb\n&lt;%= form_for([commentable, commentable.comment.new]) do |f| %&gt;\n  &lt;%= f.label :body %&gt;\n  &lt;%= f.text_field :body %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>You would then include it like so:</p>\n\n<pre><code>&lt;%= render partial: 'comments/form', commentable: @album %&gt;\n</code></pre>\n"}], "owner": {"reputation": 3542, "user_id": 5381547, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/jFcfu.png?s=128&g=1", "display_name": "Viktor", "link": "https://stackoverflow.com/users/5381547/viktor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2038, "favorite_count": 2, "accepted_answer_id": 35037494, "answer_count": 2, "score": 5, "last_activity_date": 1541575443, "creation_date": 1453896887, "question_id": 35037114, "link": "https://stackoverflow.com/questions/35037114/what-is-the-rails-way-to-work-with-polymorphic-associations", "title": "What is the Rails way to work with polymorphic associations?", "body": "<p>I have few models in my Rails application, which are:</p>\n\n<ol>\n<li>User</li>\n<li>Photo</li>\n<li>Album</li>\n<li>Comment</li>\n</ol>\n\n<p>I need to make comments belog to either to <code>Photo</code> or <code>Album</code>, and obviously always belong to <code>User</code>. I'm going to use <a href=\"http://guides.rubyonrails.org/association_basics.html#polymorphic-associations\" rel=\"noreferrer\">polymorphic associations</a> for that.</p>\n\n<pre><code># models/comment.rb\n\nclass Comment &lt; ActiveRecord::Base\n  belongs_to :user\n  belongs_to :commentable, :polymorphic =&gt; true\nend\n</code></pre>\n\n<p>The question is, what is the Rails way to describe <code>#create</code> action for the new comment. I see two options for that.</p>\n\n<p><strong>1. Describe the comment creation in each controller</strong></p>\n\n<p>But ths is not a DRY solution. I can make one common partial view for displaying and creating comments but I will have to repeat myself writing comments logic for each controller. So It doesn't work</p>\n\n<p><strong>2. Create new CommentsController</strong></p>\n\n<p>This is the right way I guess, but as I aware:</p>\n\n<blockquote>\n  <p>To make this work, you need to declare both a foreign key column and a\n  type column in the model that declares the polymorphic interface</p>\n</blockquote>\n\n<p>Like this:</p>\n\n<pre><code># schema.rb\n\n  create_table \"comments\", force: :cascade do |t|\n    t.text     \"body\"\n    t.integer  \"user_id\"\n    t.integer  \"commentable_id\"\n    t.string   \"commentable_type\"\n    t.datetime \"created_at\",       null: false\n    t.datetime \"updated_at\",       null: false\n  end\n</code></pre>\n\n<p>So, when I will be writing pretty simple controller, which will be accepting requests from the remote form:</p>\n\n<pre><code># controllers/comments_controller.rb\n\nclass CommentsController &lt; ApplicationController\n  def new\n    @comment = Comment.new\n  end\n\n  def create\n    @commentable = ??? # How do I get commentable id and type?\n    if @comment.save(comment_params)\n      respond_to do |format|\n        format.js {render js: nil, status: :ok}\n      end\n    end\n  end\n\n  private\n\n  def comment_params\n    defaults = {:user_id =&gt; current_user.id, \n                :commentable_id =&gt; @commentable.id, \n                :commentable_type =&gt; @commentable.type}\n    params.require(:comment).permit(:body, :user_id, :commentable_id, \n                                    :commentable_type).merge(defaults)\n  end\nend\n</code></pre>\n\n<p>How will I get <code>commentable_id</code> and <code>commetable_type</code>? I guess, <code>commentable_type</code> might be a model name.</p>\n\n<p>Also, what is the best way to make a <code>form_for @comment</code> from other views? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "currency"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453896918, "post_id": 35036866, "comment_id": 57798597, "body": "In the code above there is no one line where <code>RubyMoney</code> gem is involved.  <code>Object#new</code> is not overwritten by <code>RubyMoney</code> afaik."}, {"owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453897091, "post_id": 35036866, "comment_id": 57798715, "body": "You had to assume that we&#39;re using the gem. I editing the question to show that <code>Object</code> is monetizing <code>price_cents</code>."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453897283, "post_id": 35036866, "comment_id": 57798863, "body": "I do not have to assume anything. You are talking about <code>money-rails</code> gem, that transparently makes use of <code>monetize</code> gem; you\u2019ve never mentioned neither of them in the question. <code>RubyMoney</code> itself does not have <code>monetize</code> method."}, {"owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453897357, "post_id": 35036866, "comment_id": 57798912, "body": "You&#39;re correct. I&#39;ve updated the question."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453898517, "post_id": 35036866, "comment_id": 57799723, "body": "Have you passed <a href=\"https://github.com/RubyMoney/money-rails#instance-currencies\" rel=\"nofollow noreferrer\"><code>:with_model_currency</code></a> to <code>monetize</code> DSL?"}, {"owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453898984, "post_id": 35036866, "comment_id": 57800049, "body": "No. It uses the default <code>currency</code> attribute."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453899081, "post_id": 35036866, "comment_id": 57800124, "body": "If the currency is not a subject toi change from one model instance to another, it makes no sense to pass a currency to constructor."}, {"owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453899132, "post_id": 35036866, "comment_id": 57800174, "body": "It is subject to change."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453899163, "post_id": 35036866, "comment_id": 57800195, "body": "Than re-read the documentation I linked in my previous comment <i>carefully</i>."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453899330, "post_id": 35036866, "comment_id": 57800317, "body": "The side-effect you encountered is likely produced my implicit money convertion to JPY, that apparently has no cents, and since the gem is not aware of that the currency is a subject to change, it performs the rude conversion. On the other hand, when the currency is received as the first argument, no conversion is done, obviously."}, {"owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453899546, "post_id": 35036866, "comment_id": 57800441, "body": "<code>with_model_currency: :currency</code> does not change anything. The order of <code>currency</code> and <code>price</code> needs to be specific in order for it to store the correct value. The issue is that I don&#39;t control over the order that is sent over an API, for example."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453899913, "post_id": 35036866, "comment_id": 57800682, "body": "Try to set <code>price_cents</code> rather that <code>price</code> to avoid conversion."}, {"owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453900043, "post_id": 35036866, "comment_id": 57800765, "body": "Ok, I think that&#39;ll work. I guess the order is specific for dollar amounts."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453900126, "post_id": 35036866, "comment_id": 57800818, "body": "As I have already said, the order is specific for those currencies, having not 2 decimals. For dollars everything should work as expected."}], "answers": [{"tags": [], "owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1453903029, "creation_date": 1453903029, "answer_id": 35039345, "question_id": 35036866, "link": "https://stackoverflow.com/questions/35036866/money-rails-order-of-amount-and-currency/35039345#35039345", "title": "Money Rails - Order Of Amount And Currency", "body": "<p>It looks like the order matters for certain currencies (including JPY because it doesn't have cents). This may not be the best solution but if anyone is stuck, here is what I did.</p>\n\n<p>I added the following to the <code>self.monetize</code> method in <code>money-rails</code> to override the initialize methods for classes that use it:</p>\n\n<pre><code>define_method \"initialize\" do |opts = {}|\n  opts = opts.deep_symbolize_keys\n  opts = {currency: opts[:currency]}.merge(opts)\n  super(opts)\nend\n</code></pre>\n\n<p>This way it will send the currency first.</p>\n"}], "owner": {"reputation": 5794, "user_id": 850224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/65b467905691337e208944fcb34c7f57?s=128&d=identicon&r=PG", "display_name": "Artem Kalinchuk", "link": "https://stackoverflow.com/users/850224/artem-kalinchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453903029, "creation_date": 1453896206, "last_edit_date": 1453897343, "question_id": 35036866, "link": "https://stackoverflow.com/questions/35036866/money-rails-order-of-amount-and-currency", "title": "Money Rails - Order Of Amount And Currency", "body": "<p>Does the <code>money-rails</code> gem require a specific order of <code>price</code> and <code>currency</code> when initializing an object? For example, take a look at the following:</p>\n\n<pre><code>Object.new(currency: 'JPY', price: 25)\n=&gt; #&lt;Object id: nil, price_cents: 25, currency: \"JPY\"&gt;\n</code></pre>\n\n<p>If we specify the <code>price</code> first, we get an incorrect value (2500) for the price:</p>\n\n<pre><code>Object.new(price: 25, currency: 'JPY')\n=&gt; #&lt;Object id: nil, price_cents: 2500, currency: \"JPY\"&gt;\n</code></pre>\n\n<p><code>Object</code> contains the following: <code>monetize :price_cents</code>.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "nginx", "server", "unicorn"], "comments": [{"owner": {"reputation": 2437, "user_id": 4058838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/56c7770d8f5d6b9ec7a13e82fbf0a59c?s=128&d=identicon&r=PG", "display_name": "Amit Badheka", "link": "https://stackoverflow.com/users/4058838/amit-badheka"}, "edited": false, "score": 0, "creation_date": 1453895742, "post_id": 35036216, "comment_id": 57797682, "body": "Have you checked the memory of the system? Is that fine?"}, {"owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "reply_to_user": {"reputation": 2437, "user_id": 4058838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/56c7770d8f5d6b9ec7a13e82fbf0a59c?s=128&d=identicon&r=PG", "display_name": "Amit Badheka", "link": "https://stackoverflow.com/users/4058838/amit-badheka"}, "edited": false, "score": 0, "creation_date": 1453896274, "post_id": 35036216, "comment_id": 57798070, "body": "The memory is fine, I have 1.7 Gb ram in a linux server."}, {"owner": {"reputation": 120, "user_id": 3973421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/liVU5.jpg?s=128&g=1", "display_name": "0r4cl3", "link": "https://stackoverflow.com/users/3973421/0r4cl3"}, "edited": false, "score": 0, "creation_date": 1453896497, "post_id": 35036216, "comment_id": 57798237, "body": "Have you checked the logs on the server?"}, {"owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453898899, "post_id": 35036216, "comment_id": 57799986, "body": "Don&#39;t have nothing wrong in logs, server receive the request, but don&#39;t do nothing. I put in question a example the log."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453900066, "post_id": 35037734, "comment_id": 57800773, "body": "I put this lines for attempt to solution the problem. Same without this configuration the problem persists, same with one sockets in &#39;unicorn&#39; and without a &#39;proxy_next_upstream&#39; config"}, {"owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "reply_to_user": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453900285, "post_id": 35037734, "comment_id": 57800938, "body": "Have you tested the socket directly when the problem is happening?"}, {"owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453900895, "post_id": 35037734, "comment_id": 57801351, "body": "I can&#39;t test socket directly when the problem is happening, why the is gives bad gateway one time in somewhat 10 minutes with unicorn, while I used a puma instead unicorn, really stop to work, but now I had a progress with te unicorn"}, {"owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "reply_to_user": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453901132, "post_id": 35037734, "comment_id": 57801505, "body": "Why can&#39;t you test the socket directly when the problem is happening? Or are you saying you tried testing the socket directly but couldn&#39;t connect?"}, {"owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453901719, "post_id": 35037734, "comment_id": 57801923, "body": "I&#39;m saying that my unicorn fixes a part the problem. Instead the server stop totally the unicorn reset the server and back to work. But to unicorn reset the server, it responding with bad gateway first. This is a bad experience to user,  that is why I&#39;m desperate to fix."}, {"owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "reply_to_user": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453901883, "post_id": 35037734, "comment_id": 57802035, "body": "You didn&#39;t answer my question about socket testing. If you can&#39;t connect to Unicorn via socket while there&#39;s a problem, then the performance problem is in your app, not with Nginx, and you need to fix that."}, {"owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453902512, "post_id": 35037734, "comment_id": 57802494, "body": "I don&#39;t know exactly when the problem go happening. But I know that socket is works, why the Rails&#39;s log receives the request, but does not treat"}, {"owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "reply_to_user": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453904609, "post_id": 35037734, "comment_id": 57804114, "body": "If the problem is due to load, you can simulate load. If the problem is due to particular requests, you can review your logs to find what requests happen just prior to the outages."}, {"owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "edited": false, "score": 0, "creation_date": 1453911946, "post_id": 35037734, "comment_id": 57809699, "body": "The problem happens to all pages and not to load. Always happening after a time (10 minutes generally), at any page or request."}], "tags": [], "owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1453898598, "creation_date": 1453898598, "answer_id": 35037734, "question_id": 35036216, "link": "https://stackoverflow.com/questions/35036216/server-ruby-on-rails-unicorn-nginx-stop-responding/35037734#35037734", "title": "Server Ruby on Rails + unicorn + nginx stop responding", "body": "<p>Here's what I see is going on. A single <code>unicorn</code> backend is listening on the two sockets Nginx is load-balancing between them. However, two settings could cause the load balancing to get \"stuck\";</p>\n\n<pre><code> # Sets unlimited tries before trying next server   \n proxy_next_upstream_tries 0;\n\n # Unlimited time allowed before passing request to next server\n proxy_next_upstream_timeout 0;\n</code></pre>\n\n<p>Some recommendations:</p>\n\n<ul>\n<li>Try removing the above lines</li>\n<li>Do real load balancing by running a second copy of the backend app, or remove the complexity of using the upstream module and just <code>proxy_pass</code> directly to the single backend app that actually exists.</li>\n</ul>\n\n<p>Finally, when you are getting the 502's, try testing connecting the backend directly. Then you will know whether the problem is that your backend is really remaining down continually, or whether there is an issue with your Nginx configuration. </p>\n\n<p>To test the app directly, you can use <code>socat</code> to connect directly to the socket:</p>\n\n<pre><code>$ socat - UNIX-CONNECT:/you/socket/path.sock,crnl\n--&gt;GET / HTTP/1.1\n--&gt;Host: example.com.com\n--&gt;X-Forwarded-Proto: https\n--&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "is_accepted": true, "score": 0, "last_activity_date": 1479010336, "creation_date": 1479010336, "answer_id": 40570486, "question_id": 35036216, "link": "https://stackoverflow.com/questions/35036216/server-ruby-on-rails-unicorn-nginx-stop-responding/40570486#40570486", "title": "Server Ruby on Rails + unicorn + nginx stop responding", "body": "<p>I discovery what was happening, the linux firewall killed the connection. When I put the database in the same machine it is worked without trumbles.</p>\n"}], "owner": {"reputation": 61, "user_id": 5686800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4KLl.png?s=128&g=1", "display_name": "LeshySage", "link": "https://stackoverflow.com/users/5686800/leshysage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 40570486, "answer_count": 2, "score": 1, "last_activity_date": 1512917945, "creation_date": 1453894420, "last_edit_date": 1453901924, "question_id": 35036216, "link": "https://stackoverflow.com/questions/35036216/server-ruby-on-rails-unicorn-nginx-stop-responding", "title": "Server Ruby on Rails + unicorn + nginx stop responding", "body": "<p>My server Rails worker normally, but after 10 minutes without a request its response is a bad gateway. \nI really think my configurations are in order, but it don't work.\nI don't have more ideas what to is happening.</p>\n\n<p><strong>That my configurations:</strong></p>\n\n<p>unicorn.rb:</p>\n\n<pre><code>@dir = File.expand_path(File.dirname(__FILE__)) + \"/..\"\n\nworker_processes 2\nworking_directory @dir\n\ntimeout 10\n\nlisten File.join('/tmp/nutrimais.sock')\nlisten File.join('/tmp/nutrimais_2.sock')\n\npreload_app true# if ENV['RAILS_ENV'] != 'development'\n\nGC.respond_to?(:copy_on_write_friendly=) and\n  GC.copy_on_write_friendly = true\n\ncheck_client_connection false\n\nbefore_fork do |server, worker|\n\n  Signal.trap 'TERM' do\n    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'\n    Process.kill 'QUIT', Process.pid\n  end\n\n  defined?(ActiveRecord::Base) and\n    ActiveRecord::Base.connection.disconnect!\nend\n\nafter_fork do |server, worker|\n\n  Signal.trap 'TERM' do\n    puts 'Unicorn worker intercepting TERM and doing nothing. Wait for master to send QUIT'\n  end\n\n  defined?(ActiveRecord::Base) and\n    ActiveRecord::Base.establish_connection\nend\n</code></pre>\n\n<p>nginx config:</p>\n\n<pre><code>upstream nutrimais {\n    # Path to Puma SOCK file, as defined previously\n    server unix:/tmp/nutrimais.sock max_fails=2 fail_timeout=10s;\n    server unix:/tmp/nutrimais_2.sock;\n}\n\nserver {\n  listen 80;\n  server_name dev.nutrimais.com.br;\n\n  location / {\n    autoindex on;\n    proxy_set_header X-Real-IP  $remote_addr;\n    proxy_set_header X-Forwarded-For $remote_addr;\n    proxy_set_header Host $host;\n    # time out settings\n    proxy_next_upstream http_502 timeout;\n    proxy_next_upstream_timeout 0;\n    proxy_next_upstream_tries 0;\n    proxy_connect_timeout 159s;\n    proxy_send_timeout   600;\n    proxy_read_timeout   600;\n    proxy_buffer_size    64k;\n    proxy_buffers     16 32k;\n    proxy_busy_buffers_size 64k;\n    proxy_temp_file_write_size 64k;\n    proxy_pass_header Set-Cookie;\n    proxy_redirect     off;\n    proxy_hide_header  Vary;\n    proxy_set_header   Accept-Encoding '';\n    proxy_ignore_headers Cache-Control Expires;\n    proxy_set_header   Referer $http_referer;\n    proxy_set_header   Host   $host;\n    proxy_set_header   Cookie $http_cookie;\n    proxy_set_header   X-Real-IP  $remote_addr;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_pass http://nutrimais;\n  }\n}\n</code></pre>\n\n<p>gemfile:</p>\n\n<pre><code>source 'https://rubygems.org'\ngem 'rails', '4.2.4'\ngem 'unicorn-rails', '~&gt; 2.2'\ngem 'pg'\ngem 'mysql2', '~&gt; 0.3.18'\ngem 'sass-rails', '~&gt; 5.0'\ngem 'uglifier', '&gt;= 1.3.0'\ngem 'coffee-rails', '~&gt; 4.1.0'\ngem 'duktape'\ngem 'jquery-rails'\ngem 'turbolinks'\ngem 'jbuilder', '~&gt; 2.0'\ngem 'bootstrap-sass'\ngem 'devise'\ngem 'simple_form'\ngem 'minitest'\ngem \"paperclip\", \"~&gt; 4.3\"\ngem 'aws-sdk', '&lt; 2.0'\ngem 'mail_form', '~&gt; 1.5.0.rc'\ngem 'sendgrid-ruby'\ngem 'zopim_rails'\ngem 'meta-tags'\ngem 'ckeditor'\ngem 'slick_rails'\n\ngroup :development do\n  gem 'better_errors'\n  gem 'binding_of_caller', :platforms=&gt;[:mri_20]\n  gem 'quiet_assets'\n  gem 'rails_layout'\n  gem 'spring-commands-rspec'\n  gem 'web-console', '~&gt; 2.0'\n  gem 'spring'\nend\ngroup :production do\n  gem 'therubyracer'\nend\ngroup :development, :test do\n  gem 'factory_girl_rails'\n  gem 'faker'\n  gem 'pry-rails'\n  gem 'pry-rescue'\n  gem 'rspec-rails'\n  gem 'rubocop'\n  gem 'byebug'\nend\n\ngroup :test do\n  gem 'capybara'\n  gem 'database_cleaner'\n  gem 'launchy'\n  gem 'selenium-webdriver'\nend\n</code></pre>\n\n<p>Log while gives bad gateway:</p>\n\n<pre><code>Started GET \"/menus\" for 127.0.0.1 at 2016-01-20 17:25:17 +0000\nI, [2016-01-20T17:25:17.580380 #9]  INFO -- : Processing by MenusController#index as HTML\nD, [2016-01-20T17:25:17.904933 #9] DEBUG -- :   [1m[36mMenu Load (322.3ms)[0m  [1mSELECT `menus`.* FROM `menus`  ORDER BY created_at DESC[0m\nI, [2016-01-20T17:25:20.006674 #9]  INFO -- : Started GET \"/menus\" for 127.0.0.1 at 2016-01-20 17:25:20 +0000\n</code></pre>\n\n<p>It stays in <code>Started GET</code> and not does nothing</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "multithreading", "performance", "heroku"], "comments": [{"owner": {"reputation": 1249, "user_id": 5224982, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/20a0ec1c0a5a8a9e5690fb30e7cb4a01?s=128&d=identicon&r=PG&f=1", "display_name": "Muaaz Rafi", "link": "https://stackoverflow.com/users/5224982/muaaz-rafi"}, "edited": false, "score": 0, "creation_date": 1453920202, "post_id": 35036073, "comment_id": 57815279, "body": "Lately puma has many issues with memory leaking and i was forced to switch server to phusion passenger 5.023. Check it&#39;s benchmark if that helps."}], "answers": [{"comments": [{"owner": {"reputation": 792, "user_id": 828233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5bcad50215ca59293ff859cfca21fac?s=128&d=identicon&r=PG", "display_name": "Tikiboy", "link": "https://stackoverflow.com/users/828233/tikiboy"}, "edited": false, "score": 0, "creation_date": 1453911762, "post_id": 35037205, "comment_id": 57809569, "body": "I dont think my process is CPU bound.  The highest ive seen the CPU load is:     source=web.1 dyno=heroku.123456789 sample#load_avg_1m=2.98  Most of the time however, its either 0.00 or smaller than 0.1.  On top of that, the only code that is called in the controller is:     @package = Package.all Immediately after, it is followed by rendering of the JSON response which is declared in HAML.  Btw, Package.all only returns about 5 records.  I will try your suggestion on Unicorn and inspect the link you provided further and then get back to you.   Thanks!"}, {"owner": {"reputation": 18593, "user_id": 4304188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5695b0e5c30d4464163e3f3412fe5f1?s=128&d=identicon&r=PG", "display_name": "Mihai Dinculescu", "link": "https://stackoverflow.com/users/4304188/mihai-dinculescu"}, "reply_to_user": {"reputation": 792, "user_id": 828233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5bcad50215ca59293ff859cfca21fac?s=128&d=identicon&r=PG", "display_name": "Tikiboy", "link": "https://stackoverflow.com/users/828233/tikiboy"}, "edited": false, "score": 0, "creation_date": 1453912230, "post_id": 35037205, "comment_id": 57809905, "body": "It might very well be database constrained then. Your DB can serve only as many requests per second. This can constrain your web server. Maybe WEBrick is moving as fast as the database is allowing it, leaving no room for improvement."}, {"owner": {"reputation": 792, "user_id": 828233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5bcad50215ca59293ff859cfca21fac?s=128&d=identicon&r=PG", "display_name": "Tikiboy", "link": "https://stackoverflow.com/users/828233/tikiboy"}, "edited": false, "score": 0, "creation_date": 1453912429, "post_id": 35037205, "comment_id": 57810057, "body": "Ill try using Unicorn first, and then Ill try just hitting a simple &quot;hello world&quot; page. Man, something like this just makes me not be able to sleep in peace. Just cant seem to make sense of it. :S Ill let you know."}, {"owner": {"reputation": 792, "user_id": 828233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5bcad50215ca59293ff859cfca21fac?s=128&d=identicon&r=PG", "display_name": "Tikiboy", "link": "https://stackoverflow.com/users/828233/tikiboy"}, "edited": false, "score": 0, "creation_date": 1454038418, "post_id": 35037205, "comment_id": 57875361, "body": "Nop, hitting an index page that does nothing but load HTML and CSS and Webbrick still keeps up with Puma or Unicorn with any number of workers. Ill probably create a brand new scaffold app and test this again."}, {"owner": {"reputation": 879, "user_id": 3686096, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fccaae7d8c34340d41508370ca291d0e?s=128&d=identicon&r=PG", "display_name": "Projjol", "link": "https://stackoverflow.com/users/3686096/projjol"}, "reply_to_user": {"reputation": 792, "user_id": 828233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5bcad50215ca59293ff859cfca21fac?s=128&d=identicon&r=PG", "display_name": "Tikiboy", "link": "https://stackoverflow.com/users/828233/tikiboy"}, "edited": false, "score": 0, "creation_date": 1479460909, "post_id": 35037205, "comment_id": 68576775, "body": "@Tikiboy I ran into the same issue(?) my performance across Webbrick and Unicorn seems to be pretty much the same as seen from apache bench tests. Did you find anything that lead to something more conclusive?"}, {"owner": {"reputation": 792, "user_id": 828233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5bcad50215ca59293ff859cfca21fac?s=128&d=identicon&r=PG", "display_name": "Tikiboy", "link": "https://stackoverflow.com/users/828233/tikiboy"}, "reply_to_user": {"reputation": 879, "user_id": 3686096, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fccaae7d8c34340d41508370ca291d0e?s=128&d=identicon&r=PG", "display_name": "Projjol", "link": "https://stackoverflow.com/users/3686096/projjol"}, "edited": false, "score": 0, "creation_date": 1480339296, "post_id": 35037205, "comment_id": 68907467, "body": "Hey @Projjol, unfortunately no. So far my understanding of performance improvements remains at the theoratical level. I even created a temp project with all 3 different implementation and benchmarked them (Webbrick, Puma and Unicorn). I intended to create a follow up question while linking the temp project for others to try but i got sidetracked.   If you do eventually find out conclusive details about this, do let me know, I am greatly interested in finding out as well. :D"}], "tags": [], "owner": {"reputation": 18593, "user_id": 4304188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5695b0e5c30d4464163e3f3412fe5f1?s=128&d=identicon&r=PG", "display_name": "Mihai Dinculescu", "link": "https://stackoverflow.com/users/4304188/mihai-dinculescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1453917521, "last_edit_date": 1453917521, "creation_date": 1453897138, "answer_id": 35037205, "question_id": 35036073, "link": "https://stackoverflow.com/questions/35036073/puma-or-unicorn-vs-webbrick-load-test-benchmark-shows-no-improvement/35037205#35037205", "title": "Puma or Unicorn VS Webbrick load test benchmark shows no improvement", "body": "<p>I trust that you have followed Heroku's <a href=\"https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server\" rel=\"nofollow\">Deploying Rails Applications with the Puma Web Server</a> guide thoroughly.</p>\n\n<p>My guess is that your test environment minimizes multi-threading advantages, or the HTTP server is bottle-necked by the SQL database.</p>\n\n<p>Your API calls, especially if they cache database results, can be CPU intensive. Having 10 threads is no advantage when the CPU is used 100% by only 1. Managing the threads can actually hinder the performance in this case.</p>\n\n<p>Multi-threading is useful when your worker threads are waiting a long time for resources (databases, files, etc.), instead of using the CPU.</p>\n\n<p>The second possibility is that your HTTP server is constrained by the database. It may be that WEBrick is moving as fast as the database is allowing it, leaving no room for improvement by switching to a better performing HTTP server.</p>\n\n<p>You should give <a href=\"http://www.madebymarket.com/blog/dev/ruby-web-benchmark-report.html\" rel=\"nofollow\">this</a> comprehensive benchmark report a read.</p>\n\n<p>You will notice that Puma isn't one of the speediest Rails HTTP servers. If all you care about is speed, try <a href=\"http://unicorn.bogomips.org\" rel=\"nofollow\">Unicorn</a>, or <a href=\"https://github.com/torquebox/torquebox/tree/torqbox\" rel=\"nofollow\">Torquebox 4</a> if using <em>JRuby</em>.</p>\n\n<p>Here's a <a href=\"https://blog.heroku.com/archives/2013/2/27/unicorn_rails\" rel=\"nofollow\">guide</a> on how to setup Unicorn on Heroku.</p>\n"}], "owner": {"reputation": 792, "user_id": 828233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5bcad50215ca59293ff859cfca21fac?s=128&d=identicon&r=PG", "display_name": "Tikiboy", "link": "https://stackoverflow.com/users/828233/tikiboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1587, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1453922226, "creation_date": 1453894033, "last_edit_date": 1453922226, "question_id": 35036073, "link": "https://stackoverflow.com/questions/35036073/puma-or-unicorn-vs-webbrick-load-test-benchmark-shows-no-improvement", "title": "Puma or Unicorn VS Webbrick load test benchmark shows no improvement", "body": "<p><strong>The Setup</strong></p>\n\n<p>Ok, I am running a rails application on Heroku(free tier).</p>\n\n<p>I have 2 separate application releases, lets call them <em>Staging</em> and <em>Fake-Production</em>.</p>\n\n<p>In <em>Staging</em>, I am using Webbrick as the server. My <code>Procfile</code> is </p>\n\n<pre><code>web: rails s -p $PORT\n</code></pre>\n\n<p>In <em>Fake-Production</em>, I am using Puma as the server. My <code>Procfile</code> is</p>\n\n<pre><code>bundle exec puma -C config/puma.rb\n</code></pre>\n\n<p>I have configured puma to run with 2 workers and 1 thread per worker.\n<code>config/puma.rb</code> is defined below (taken from <a href=\"https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server#config\" rel=\"nofollow\">Heroku's Setting up Puma Webserver</a>)</p>\n\n<pre><code>workers Integer(ENV['WEB_CONCURRENCY'] || 2)\nthreads_count = Integer(ENV['MAX_THREADS'] || 1)\nthreads threads_count, threads_count\n\npreload_app!\n\nrackup      DefaultRackup\nport        ENV['PORT']     || 3000\nenvironment ENV['RACK_ENV'] || 'development'\n\non_worker_boot do\n  # Worker specific setup for Rails 4.1+\n  # See: https://devcenter.heroku.com/articles/deploying-rails-applications-    with-the-puma-web-server#on-worker-boot\n  ActiveRecord::Base.establish_connection\nend\n</code></pre>\n\n<p>My <code>database.yml</code> is configured to have a connection pool of 20.</p>\n\n<p><strong>The Test</strong></p>\n\n<p>In order to do the load testing, I used ApacheBench tool from my laptop to hit an API endpoint. The API basically does a very simple database query to return a fixed amount of records (does not change).</p>\n\n<p>I hit both deployments with the following code:</p>\n\n<pre><code>ab -n 1000 -c 100 https://&lt;some heroku endpoint&gt;?access_token=f73f50514c\n</code></pre>\n\n<p><strong>The Results</strong></p>\n\n<p>The results here are the most surprising. I was expecting the Puma deployment to comepletely trash the Webbrick deployment, but in reality, it was almost the same. I tried hitting different API endpoints as well as different combination of Puma workers and threads (at one point, It was 4 workers and 5 threads) and yet there wasnt any visible improvements. </p>\n\n<p><strong><em>Webbrick Results</em></strong></p>\n\n<pre><code>Server Software:        WEBrick/1.3.1\nServer Hostname:        webbrick-build.herokuapp.com\nServer Port:            443\nSSL/TLS Protocol:       TLSv1,DHE-RSA-AES128-SHA,2048,128\n\nDocument Path:          /api/v1/packages?access_token=f73f50514c6\nDocument Length:        488 bytes\n\nConcurrency Level:      100\nTime taken for tests:   21.484 seconds\nComplete requests:      1000\nFailed requests:        0\nTotal transferred:      995000 bytes\nHTML transferred:       488000 bytes\nRequests per second:    46.55 [#/sec] (mean)\nTime per request:       2148.360 [ms] (mean)\nTime per request:       21.484 [ms] (mean, across all concurrent requests)\nTransfer rate:          45.23 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:      714 1242 278.1   1214    2012\nProcessing:   248  842 493.6    699    2883\nWaiting:      247  809 492.3    677    2876\nTotal:       1072 2085 643.5   1929    4845\n\nPercentage of the requests served within a certain time (ms)\n  50%   1929\n  66%   2039\n  75%   2109\n  80%   2168\n  90%   2622\n  95%   3821\n  98%   4473\n  99%   4646\n 100%   4845 (longest request)\n</code></pre>\n\n<p>Memory Impact</p>\n\n<pre><code>source=web.1 dyno=heroku.1234567899 sample#memory_total=198.41MB sample#memory_rss=197.60MB sample#memory_cache=0.30MB sample#memory_swap=0.51MB sample#memory_pgpgin=103879pages sample#memory_pgpgout=53216pages\n</code></pre>\n\n<p><strong><em>Puma Results</em></strong>(More or less the same regardless of Worker/Thread count)</p>\n\n<pre><code>Server Software:        Cowboy\nServer Hostname:        puma-build.herokuapp.com\nServer Port:            443\nSSL/TLS Protocol:       TLSv1,DHE-RSA-AES128-SHA,2048,128\n\nDocument Path:          /api/v1/packages?access_token=fb7168c147adc2ccd83b2\nDocument Length:        489 bytes\n\nConcurrency Level:      100\nTime taken for tests:   23.299 seconds\nComplete requests:      1000\nFailed requests:        0\nTotal transferred:      943000 bytes\nHTML transferred:       489000 bytes\nRequests per second:    42.92 [#/sec] (mean)\nTime per request:       2329.949 [ms] (mean)\nTime per request:       23.299 [ms] (mean, across all concurrent requests)\nTransfer rate:          39.52 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:      743 1304 283.9   1287    2092\nProcessing:   253  951 740.3    684    5353\nWaiting:      253  898 729.0    627    5196\nTotal:       1198 2255 888.0   1995    7426\n\nPercentage of the requests served within a certain time (ms)\n  50%   1995\n  66%   2085\n  75%   2213\n  80%   2444\n  90%   3755\n  95%   4238\n  98%   5119\n  99%   5437\n 100%   7426 (longest request)\n</code></pre>\n\n<p>Memory Impact(4 workers, 5 threads)</p>\n\n<pre><code>source=web.1 dyno=heroku.1234567890 sample#memory_total=406.75MB sample#memory_rss=406.74MB sample#memory_cache=0.00MB sample#memory_swap=0.00MB sample#memory_pgpgin=151515pages sample#memory_pgpgout=47388pages\n</code></pre>\n\n<p>Based on the snippets above, sometimes the Puma deployment will be faster than Webbrick, while other times it can be slower (as shown in the snippet). Even if it is much faster, the speed is not significant, probably only increase by 1-5 requests/sec.</p>\n\n<p>My question here is, what am i doing wrong? Is my database pool somehow at fault?Am i benchmarking it wrongly? Am I using Puma wrongly?</p>\n\n<p><strong><em>EDIT:</em></strong></p>\n\n<p>Highest CPU Load for Puma (5 worker and 5 threads each)</p>\n\n<pre><code>source=web.1 dyno=heroku.123456789 sample#load_avg_1m=2.98\n</code></pre>\n\n<p>Most of the time however, its either 0.00 or smaller than 0.1.</p>\n\n<p>On top of that, the only code that is called in the controller is:</p>\n\n<pre><code>@package = Package.all\n</code></pre>\n\n<p>Immediately after, it is followed by rendering of the JSON response which is declared in HAML.</p>\n\n<p>Btw, Package.all only returns about 5 records.</p>\n\n<p><strong><em>EDIT 2:</em></strong></p>\n\n<p>UNICORN RESULTS</p>\n\n<p>Implemented Unicorn according to . Running 3 unicorn workers.</p>\n\n<pre><code>Server Software:        Cowboy\nServer Hostname:        unicorn-build.herokuapp.com\nServer Port:            443\nSSL/TLS Protocol:       TLSv1,DHE-RSA-AES128-SHA,2048,128\n\nDocument Path:          /api/v1/packages?access_token=f73f50514c6b8a3ea\nDocument Length:        488 bytes\n\nConcurrency Level:      100\nTime taken for tests:   22.311 seconds\nComplete requests:      1000\nFailed requests:        0\nTotal transferred:      942000 bytes\nHTML transferred:       488000 bytes\nRequests per second:    44.82 [#/sec] (mean)\nTime per request:       2231.135 [ms] (mean)\nTime per request:       22.311 [ms] (mean, across all concurrent requests)\nTransfer rate:          41.23 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:      846 1326 294.5   1304    2720\nProcessing:   245  627 342.8    540    3061\nWaiting:      244  532 313.6    470    3057\nTotal:       1232 1954 463.0   1874    4875\n\nPercentage of the requests served within a certain time (ms)\n  50%   1874\n  66%   2016\n  75%   2161\n  80%   2250\n  90%   2466\n  95%   2799\n  98%   3137\n  99%   3901\n 100%   4875 (longest request)\n</code></pre>\n\n<p>One thing ive noticed is that running the same ab load test code several times will return different \"Requests per seconds\". This applies to both Unicorn and Puma. For both Unicorn and Puma, the best \"Requests per seconds\" is about 48-50 while the worst is about 25-33.</p>\n\n<p>Either way, it still does not make sense. Why are'nt either Puma or Unicorn crushing Webbrick?</p>\n"}, {"tags": ["ruby", "api", "evernote"], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 5815301, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/284ce686823cdd725e16133d219e7f41?s=128&d=identicon&r=PG&f=1", "display_name": "anzeaucha", "link": "https://stackoverflow.com/users/5815301/anzeaucha"}, "is_accepted": false, "score": 1, "last_activity_date": 1453893567, "creation_date": 1453893567, "answer_id": 35035895, "question_id": 35035654, "link": "https://stackoverflow.com/questions/35035654/when-create-note-in-evernote-in-evernote-api-raise-evernoteedamerroredamu/35035895#35035895", "title": "when create note in evernote in evernote api, raise Evernote::EDAM::Error::EDAMUserException", "body": "<p>see <a href=\"https://dev.evernote.com/doc/articles/creating_notes.php\" rel=\"nofollow\">here</a>, following code will work</p>\n\n<pre><code>note_store = c.note_store\nnote_title = ::Time.now.to_s\nnote_body = &lt;&lt;-CONTENT\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE en-note SYSTEM \"http://xml.evernote.com/pub/enml2.dtd\"&gt;\n&lt;en-note&gt;#{::Time.now}&lt;/en-note&gt;\nCONTENT\n\n## Create n object\nour_note = Evernote::EDAM::Type::Note.new\nour_note.title = note_title\nour_note.content = note_body;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9007035, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154809138986114/picture?type=large", "display_name": "Juriaan Massenza", "link": "https://stackoverflow.com/users/9007035/juriaan-massenza"}, "is_accepted": false, "score": 0, "last_activity_date": 1514579728, "creation_date": 1514579728, "answer_id": 48028143, "question_id": 35035654, "link": "https://stackoverflow.com/questions/35035654/when-create-note-in-evernote-in-evernote-api-raise-evernoteedamerroredamu/48028143#48028143", "title": "when create note in evernote in evernote api, raise Evernote::EDAM::Error::EDAMUserException", "body": "<p>you have to clear all files in c:\\users\\%username%\\appdata\\local\\evernote or the equivalent in your OS environment.</p>\n"}], "owner": {"reputation": 127, "user_id": 5815301, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/284ce686823cdd725e16133d219e7f41?s=128&d=identicon&r=PG&f=1", "display_name": "anzeaucha", "link": "https://stackoverflow.com/users/5815301/anzeaucha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1514579728, "creation_date": 1453892959, "last_edit_date": 1453893307, "question_id": 35035654, "link": "https://stackoverflow.com/questions/35035654/when-create-note-in-evernote-in-evernote-api-raise-evernoteedamerroredamu", "title": "when create note in evernote in evernote api, raise Evernote::EDAM::Error::EDAMUserException", "body": "<p>here is my <a href=\"https://gist.github.com/9636aa4770f67e7729d7\" rel=\"nofollow\">full code</a>, following is my code:</p>\n\n<pre><code>note_store = c.note_store\nnote_title = ::Time.now.to_s\nnote_body = ::Time.now.to_s\nn_body = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\"\nn_body += \"&lt;!DOCTYPE en-n SYSTEM \\\"http://xml.evernote.com/pub/enml2.dtd\\\"&gt;\"\nn_body += \"&lt;en-n&gt;#{note_body}&lt;/en-n&gt;\"\n\n## Create n object\nour_note = Evernote::EDAM::Type::Note.new\nour_note.title = note_title\nour_note.content = n_body\n</code></pre>\n\n<p>I'm sure my developer token can work for search evernote notes, but when i create note, it raise this error</p>\n\n<p>the full error is:</p>\n\n<pre><code>&lt;Evernote::EDAM::Error::EDAMUserException errorCode:ENML_VALIDATION (11), parameter:\"Element type \\\"en-n\\\" must be declared.\"&gt;\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453892218, "post_id": 35035228, "comment_id": 57795412, "body": "Just declare <code>A#baz</code> as <code>private</code>."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1453893859, "post_id": 35035228, "comment_id": 57796410, "body": "<code>B.new</code> doesn&#39;t work - you can&#39;t create instances of a module."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453893929, "post_id": 35035228, "comment_id": 57796462, "body": "@Stefan You are right. That was my interpretation. That was the only way to interpret what the OP mentioned. After all, the OP&#39;s question probably does not make sense."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1453893994, "post_id": 35035228, "comment_id": 57796519, "body": "@MikeJackson I tried to simplify and make your point clear. But as Stefan points out, it does not make sense. If you had something different in mind, please edit (based on my edit), and make the question clear. But please don&#39;t go back to your original post as that included too many things that are not to the point."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453894122, "post_id": 35035228, "comment_id": 57796602, "body": "I suspect that <code>C.new.foobaz</code> should raise an error (because <code>baz</code> was called from within <code>B</code>), whereas <code>C.new.barbaz</code> should not (because <code>baz</code> was called from within <code>C</code>)."}, {"owner": {"reputation": 10377, "user_id": 2832282, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZJ4WG.jpg?s=128&g=1", "display_name": "Cyril Duchon-Doris", "link": "https://stackoverflow.com/users/2832282/cyril-duchon-doris"}, "edited": false, "score": 0, "creation_date": 1453894538, "post_id": 35035228, "comment_id": 57796864, "body": "I believe a small user scenario would help corner your requirements. Do you want A = Execution environment, B = Executor, C = SafeEnvironment, and to prevent B from working if not &quot;included&quot; in a safe environment ?"}], "answers": [{"tags": [], "owner": {"reputation": 10377, "user_id": 2832282, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZJ4WG.jpg?s=128&g=1", "display_name": "Cyril Duchon-Doris", "link": "https://stackoverflow.com/users/2832282/cyril-duchon-doris"}, "is_accepted": false, "score": 0, "last_activity_date": 1453894288, "creation_date": 1453894288, "answer_id": 35036168, "question_id": 35035228, "link": "https://stackoverflow.com/questions/35035228/module-method-access-restriction/35036168#35036168", "title": "Module method access restriction", "body": "<p>Maybe this is what you wanted to do ?</p>\n\n<pre><code>class A\n  def baz; 5 end\nend\n\nmodule B\n  module_function\n  def foobaz\n    self.respond_to(:baz) ? baz : \"No baz defined :(\"\n  end\nend\n\nclass C &lt; A\n  include B\n  def barbaz; baz end\nend\n\nB.foobaz # =&gt; \"No baz defined :(\"\nC.new.foobaz # =&gt; 5\nC.new.barbaz # =&gt; 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3693, "user_id": 4800588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5yZA.jpg?s=128&g=1", "display_name": "Enver Dzhaparoff", "link": "https://stackoverflow.com/users/4800588/enver-dzhaparoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1453908074, "creation_date": 1453908074, "answer_id": 35041243, "question_id": 35035228, "link": "https://stackoverflow.com/questions/35035228/module-method-access-restriction/35041243#35041243", "title": "Module method access restriction", "body": "<p><strong>My option:</strong></p>\n\n<pre><code>class A\n  private def baz; 5 end\nend\n\nmodule B\n  def foobaz; self.baz end\nend\n\nclass C &lt; A\n  include B\n  def barbaz; baz end\nend\n\nC.new.foobaz # =&gt; private method `baz' called\nC.new.barbaz # =&gt; no error\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5846197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831e2522c51bf2160f6f03dfae195c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Jackson", "link": "https://stackoverflow.com/users/5846197/mike-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453908074, "creation_date": 1453891720, "last_edit_date": 1453894132, "question_id": 35035228, "link": "https://stackoverflow.com/questions/35035228/module-method-access-restriction", "title": "Module method access restriction", "body": "<p>I have class <code>C</code> that inherits class <code>A</code> and includes module <code>B</code>. <code>A</code> has a method <code>baz</code>.</p>\n\n<pre><code>class A\n  def baz; 5 end\nend\n\nmodule B\n  def foobaz; baz end\nend\n\nclass C &lt; A\n  include B\n  def barbaz; baz end\nend\n</code></pre>\n\n<p>I want to disallow <code>B</code> instance from (indirectly) calling <code>baz</code>, but  allow <code>C</code> instance to call <code>baz</code>.</p>\n\n<pre><code>B.new.foobaz # =&gt; error\nC.new.foobaz # =&gt; no error\nC.new.barbaz # =&gt; no error\n</code></pre>\n\n<p>How would I do this?</p>\n"}, {"tags": ["ruby", "rest", "jira"], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 5353059, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f279ef3ff1107b4fd9e93edce10bd4bc?s=128&d=identicon&r=PG", "display_name": "Alex T.", "link": "https://stackoverflow.com/users/5353059/alex-t"}, "is_accepted": true, "score": 0, "last_activity_date": 1453899369, "creation_date": 1453899369, "answer_id": 35038012, "question_id": 35034776, "link": "https://stackoverflow.com/questions/35034776/ruby-is-there-any-way-to-move-versions-in-jira-via-ruby-rest-client/35038012#35038012", "title": "Ruby: Is there any way to move versions in JIRA via Ruby rest-client", "body": "<pre><code>require 'rubygems'\nrequire 'json'\nrequire 'restclient'\n\ndef jira_request\n  project_key=\"TEST\"\n  jira_login = \"bot\"\n  jira_pass = \"password\"\n  jira_url = \"http://#{jira_login}:#{jira_pass}@jira.local:16011/rest/api/2/version/22105/move\"\n\n  @move = RestClient.post \"#{jira_url}\",\n  {\n    'after' =&gt; \"http://jira.local:16011/rest/api/2/version/22106\"\n  }.to_json, :content_type =&gt; :json, :accept =&gt; :json\n\n  @jiradata = JSON.parse(@move)\nend\n\njira_request\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 5353059, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f279ef3ff1107b4fd9e93edce10bd4bc?s=128&d=identicon&r=PG", "display_name": "Alex T.", "link": "https://stackoverflow.com/users/5353059/alex-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 2, "accepted_answer_id": 35038012, "answer_count": 1, "score": 0, "last_activity_date": 1453899369, "creation_date": 1453890550, "last_edit_date": 1453899340, "question_id": 35034776, "link": "https://stackoverflow.com/questions/35034776/ruby-is-there-any-way-to-move-versions-in-jira-via-ruby-rest-client", "title": "Ruby: Is there any way to move versions in JIRA via Ruby rest-client", "body": "<p>Recently i tried to rewrite an old legacy Python program for our production Ruby environment. The main goal of this script is:</p>\n\n<ul>\n<li>Get all version from JIRA for project TEST</li>\n<li>Get parent version</li>\n<li>Create new version after parent</li>\n</ul>\n\n<p>jira-ruby gem is good for creating things, but there is no \"move\" method, so i tried to use REST library.</p>\n\n<p>But i can't figure how to move newly created version after parent one.</p>\n\n<p><a href=\"https://developer.atlassian.com/static/rest/jira/6.1.html#d2e137\" rel=\"nofollow\">https://developer.atlassian.com/static/rest/jira/6.1.html#d2e137</a></p>\n\n<p>How should i sent REST query to move version 22015 after 22010 via POST method?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3775, "user_id": 5268235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lval0.jpg?s=128&g=1", "display_name": "Minato", "link": "https://stackoverflow.com/users/5268235/minato"}, "edited": false, "score": 0, "creation_date": 1453889975, "post_id": 35034530, "comment_id": 57793876, "body": "you can also access a <i>belongs to</i> relation in your case <code>teacher.school.id</code> will return the <code>id</code> of the <code>school</code> <code>teacher</code> belongs to..."}, {"owner": {"reputation": 67, "user_id": 5735392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JRyZT.jpg?s=128&g=1", "display_name": "Final Fantasy VIII", "link": "https://stackoverflow.com/users/5735392/final-fantasy-viii"}, "reply_to_user": {"reputation": 3775, "user_id": 5268235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lval0.jpg?s=128&g=1", "display_name": "Minato", "link": "https://stackoverflow.com/users/5268235/minato"}, "edited": false, "score": 0, "creation_date": 1453890069, "post_id": 35034530, "comment_id": 57793944, "body": "Thanks for your quick reply. But could you show me more details? I dont quite get it."}, {"owner": {"reputation": 3775, "user_id": 5268235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lval0.jpg?s=128&g=1", "display_name": "Minato", "link": "https://stackoverflow.com/users/5268235/minato"}, "edited": false, "score": 1, "creation_date": 1453894256, "post_id": 35034530, "comment_id": 57796678, "body": "see @froderik&#39;s answer.."}, {"owner": {"reputation": 67, "user_id": 5735392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JRyZT.jpg?s=128&g=1", "display_name": "Final Fantasy VIII", "link": "https://stackoverflow.com/users/5735392/final-fantasy-viii"}, "reply_to_user": {"reputation": 3775, "user_id": 5268235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lval0.jpg?s=128&g=1", "display_name": "Minato", "link": "https://stackoverflow.com/users/5268235/minato"}, "edited": false, "score": 0, "creation_date": 1453895798, "post_id": 35034530, "comment_id": 57797741, "body": "@Minato yes, thanks a lot. I will try his solution."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 5735392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JRyZT.jpg?s=128&g=1", "display_name": "Final Fantasy VIII", "link": "https://stackoverflow.com/users/5735392/final-fantasy-viii"}, "edited": false, "score": 0, "creation_date": 1453891396, "post_id": 35034902, "comment_id": 57794851, "body": "Thank you very much. I will try your solution and let you know whether it can fix my current problem or not. Have a wonderful day."}], "tags": [], "owner": {"reputation": 4018, "user_id": 135673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/42ee5885ec2ae8f7834b716a3a2b57c2?s=128&d=identicon&r=PG", "display_name": "froderik", "link": "https://stackoverflow.com/users/135673/froderik"}, "is_accepted": true, "score": 4, "last_activity_date": 1453890854, "creation_date": 1453890854, "answer_id": 35034902, "question_id": 35034530, "link": "https://stackoverflow.com/questions/35034530/how-can-i-add-school-id-to-my-path/35034902#35034902", "title": "How can I add school_id to my path?", "body": "<p><code>school_teacher_path</code> is called with a <code>@school</code> that is nil since <code>find_school</code> is not used for <code>search</code>. You probably want to replace <code>@school</code> with <code>teacher.school</code>: <code>school_teacher_path(teacher.school, teacher)</code>.</p>\n"}], "owner": {"reputation": 67, "user_id": 5735392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JRyZT.jpg?s=128&g=1", "display_name": "Final Fantasy VIII", "link": "https://stackoverflow.com/users/5735392/final-fantasy-viii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 35034902, "answer_count": 1, "score": 4, "last_activity_date": 1453890854, "creation_date": 1453889847, "question_id": 35034530, "link": "https://stackoverflow.com/questions/35034530/how-can-i-add-school-id-to-my-path", "title": "How can I add school_id to my path?", "body": "<p>in my search.html.haml, I want the user have the ability to click on the teacher name and it will lead them to the teacher show page. However, it also requires me to have the school_id because a teacher belongs to a school, and a school has many teachers. Now, I am wondering if there is a way for me to a the school_id to the path without breaking the application. The error that rails is throwing at me now is: </p>\n\n<blockquote>\n  <p>No route matches {:action=>\"show\", :controller=>\"teachers\", :id=>\"1\",\n  :school_id=>nil} missing required keys: [:school_id]</p>\n</blockquote>\n\n<p>Here are my files:</p>\n\n<p><strong>search.html.haml</strong>:</p>\n\n<pre><code>.text-center\n  / No search results announcement/notification\n  - if @teachers.blank?\n    %h2 Xin l\u1ed7i, h\u1ec7 th\u1ed1ng ch\u00fang t\u00f4i kh\u00f4ng c\u00f3 th\u00f4ng tin v\u1ec1 gi\u1ea3ng vi\u00ean m\u00e0 b\u1ea1n mu\u1ed1n t\u00ecm.\n  - else\n    - @teachers.each do |teacher|\n      %h2= link_to teacher.fullName, school_teacher_path(@school, teacher)\n      #note\n        %em\n          Khoa #{teacher.department}, tr\u01b0\u1eddng #{teacher.school.name}\n</code></pre>\n\n<p><strong>teachers_controller.rb</strong>:</p>\n\n<pre><code>class TeachersController &lt; ApplicationController\n  before_action :find_school, except: [:welcome, :search]\n  before_action :find_teacher, only: [:show, :edit, :update, :destroy]\n\n  def welcome\n  end\n\n  def show\n  end\n\n  def search\n    if params[:search].present?\n      @teachers = Teacher.search(params[:search], fields: [:fullName])\n    else\n      @teachers = nil\n    end\n  end\n\n  def new\n    @teacher = @school.teachers.build\n  end\n\n  def create\n    @teacher = @school.teachers.create(teacher_params)\n    @teacher.save\n      redirect_to(@school)\n  end\n\n  def edit\n  end\n\n  def update\n    @teacher.update(teacher_params)\n    redirect_to(@school)\n  end\n\n  private\n\n  def find_school\n    @school = School.find(params[:school_id])\n  end\n\n  def find_teacher\n    @teacher = Teacher.find(params[:id])\n  end\n\n  def teacher_params\n    params.require(:teacher).permit(:firstName, :lastName, :middleName, :department, :school_id, :fullName)\n  end\nend\n</code></pre>\n\n<p><strong>teacher.rb</strong>:</p>\n\n<pre><code>class Teacher &lt; ActiveRecord::Base\n  belongs_to :school\n  has_many :ratings\n\n  searchkick\n\n  def name\n    \"#{lastName} #{middleName} #{firstName}\"\n  end\n\n  def to_s\n    name\n  end\nend\n</code></pre>\n\n<p><strong>school.rb</strong>:</p>\n\n<pre><code>class School &lt; ActiveRecord::Base\n  has_many :teachers, dependent: :destroy\n\n  # searchkick\nend\n</code></pre>\n\n<p><strong>routes.rb</strong>:</p>\n\n<pre><code>Rails.application.routes.draw do\n  devise_for :users\n\n  resources :schools do\n    # collection do\n    #   get 'search'\n    # end\n    resources :teachers do\n      collection do\n        get 'search'\n      end\n    end\n  end\n\n  resources :teachers do\n    collection do\n      get 'search'\n    end\n    resources :ratings\n  end\n\n  root 'teachers#welcome'\nend\n</code></pre>\n"}, {"tags": ["ruby", "chef-infra", "cookbook"], "comments": [{"owner": {"reputation": 30536, "user_id": 400222, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75febe3a9bd5b1ad9cb63fceccb6aa31?s=128&d=identicon&r=PG", "display_name": "StephenKing", "link": "https://stackoverflow.com/users/400222/stephenking"}, "edited": false, "score": 2, "creation_date": 1453893661, "post_id": 35034033, "comment_id": 57796280, "body": "Welcome to StackOverflow and to Chef. It is unclear, to me, what you want to achieve. Please describe more in detail. Is this, how your recipe looks like? You can&#39;t declare three resources <code>maven_settings[settings.servers]</code> for the same node. Are you familiar with the <a href=\"https://docs.chef.io/attributes.html\" rel=\"nofollow noreferrer\">attributes</a> concept of Chef?"}, {"owner": {"reputation": 2506, "user_id": 983387, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/r8F4P.jpg?s=128&g=1", "display_name": "gsaslis", "link": "https://stackoverflow.com/users/983387/gsaslis"}, "edited": false, "score": 0, "creation_date": 1453893952, "post_id": 35034033, "comment_id": 57796478, "body": "Yes - just like <a href=\"http://stackoverflow.com/users/400222/stephenking\">StephenKing</a> says, the 3 different resources shouldn&#39;t have the same name, so you can simply try giving them a different name.  I&#39;m also not sure wht you&#39;re trying to achieve, but changing the &quot;settings.servers&quot; to - for example - &quot;settings.server1&quot;, &quot;settings.server2&quot;, &quot;settings.server3&quot; should solve your current problem with the value attribute."}, {"owner": {"reputation": 77, "user_id": 5845954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0fb84c834502085e1ea235a28d39f2f0?s=128&d=identicon&r=PG&f=1", "display_name": "VitaliyH", "link": "https://stackoverflow.com/users/5845954/vitaliyh"}, "edited": false, "score": 0, "creation_date": 1453899220, "post_id": 35034033, "comment_id": 57800228, "body": "Thanks, for your answers ! I edited the first message, added what you asked."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 5845954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0fb84c834502085e1ea235a28d39f2f0?s=128&d=identicon&r=PG&f=1", "display_name": "VitaliyH", "link": "https://stackoverflow.com/users/5845954/vitaliyh"}, "edited": false, "score": 0, "creation_date": 1453895995, "post_id": 35036281, "comment_id": 57797891, "body": "It turns something like this: &lt;servers&gt; &amp; lt; server &amp; gt; &amp; lt; i &amp; gt; server 1 &amp; lt; / id &amp; gt; &amp; lt; username &amp; gt; user1 &amp; lt; / username &amp; gt; &amp; lt; password &amp; gt; pass1 &amp; lt; / password &amp; gt; &amp; lt; / server &amp; gt; &lt;/ servers&gt;"}, {"owner": {"reputation": 2506, "user_id": 983387, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/r8F4P.jpg?s=128&g=1", "display_name": "gsaslis", "link": "https://stackoverflow.com/users/983387/gsaslis"}, "reply_to_user": {"reputation": 77, "user_id": 5845954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0fb84c834502085e1ea235a28d39f2f0?s=128&d=identicon&r=PG&f=1", "display_name": "VitaliyH", "link": "https://stackoverflow.com/users/5845954/vitaliyh"}, "edited": false, "score": 0, "creation_date": 1453900723, "post_id": 35036281, "comment_id": 57801241, "body": "Hmm... ok I see... I&#39;ve edited my answer above accordingly. Please try this, as that worked for me."}, {"owner": {"reputation": 77, "user_id": 5845954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0fb84c834502085e1ea235a28d39f2f0?s=128&d=identicon&r=PG&f=1", "display_name": "VitaliyH", "link": "https://stackoverflow.com/users/5845954/vitaliyh"}, "edited": false, "score": 0, "creation_date": 1453971396, "post_id": 35036281, "comment_id": 57836916, "body": "Big thank you for your help! I think that such an option should work, but I have done with &quot;From file&quot; option. I&#39;m not sure, what record &quot;server1,serverN&quot; in settings.xml will work properly."}], "tags": [], "owner": {"reputation": 2506, "user_id": 983387, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/r8F4P.jpg?s=128&g=1", "display_name": "gsaslis", "link": "https://stackoverflow.com/users/983387/gsaslis"}, "is_accepted": true, "score": 2, "last_activity_date": 1453900693, "last_edit_date": 1453900693, "creation_date": 1453894575, "answer_id": 35036281, "question_id": 35034033, "link": "https://stackoverflow.com/questions/35034033/chef-how-to-set-the-multiple-same-values-with-different-attributes/35036281#35036281", "title": "Chef, how to set the multiple same values with different attributes?", "body": "<p>It looks like you just need to edit the <code>servers</code> xml attribute, so according to the <a href=\"https://github.com/chef-cookbooks/maven\" rel=\"nofollow\">maven cookbook</a> README, the syntax should be like this: </p>\n\n<pre><code>maven_settings \"settings\" do\n    value \"servers\" =&gt; {\n      \"server1\" =&gt; {\n        \"id\" =&gt; \"server1\",\n        \"username\" =&gt; \"user1\",\n        \"password\" =&gt; \"pass1\"\n      },\n      \"server2\" =&gt; {\n        \"id\" =&gt; \"server2\",\n        \"username\" =&gt; \"user2\",\n        \"password\" =&gt; \"pass2\"\n      },\n      \"server3\" =&gt; {\n        \"id\" =&gt; \"server3\",\n        \"username\" =&gt; \"user3\",\n        \"password\" =&gt; \"pass3\"\n      }   \n}\nend\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5845954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0fb84c834502085e1ea235a28d39f2f0?s=128&d=identicon&r=PG&f=1", "display_name": "VitaliyH", "link": "https://stackoverflow.com/users/5845954/vitaliyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 35036281, "answer_count": 1, "score": 1, "last_activity_date": 1453900693, "creation_date": 1453888657, "last_edit_date": 1453899093, "question_id": 35034033, "link": "https://stackoverflow.com/questions/35034033/chef-how-to-set-the-multiple-same-values-with-different-attributes", "title": "Chef, how to set the multiple same values with different attributes?", "body": "<p>In one local node, using chef-solo. I want set 3 value \"server\", but only the last value set. Please, advise, how set all values?\nI want to achieve, this result in settings.xml: </p>\n\n<pre><code>&lt;servers&gt; \n  &lt;server&gt; \n    &lt;id&gt;server1&lt;/id&gt; \n    &lt;username&gt;user1&lt;/username&gt;\n     &lt;password&gt;pass1&lt;/password&gt;\n  &lt;/server&gt; \n  &lt;server&gt;\n     &lt;id&gt;server2&lt;/id&gt;\n     &lt;username&gt;user2&lt;/username&gt;\n     &lt;password&gt;pass2&lt;/password&gt;\n  &lt;/server&gt; \n  &lt;server&gt;\n     &lt;id&gt;server3&lt;/id&gt; \n     &lt;username&gt;user3&lt;/username&gt;\n     &lt;password&gt;pass3&lt;/password&gt;\n  &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n\n<p>This is my cookbook:</p>\n\n<pre><code>chef_gem 'nori' do\n  action :install\nend\n\nchef_gem 'gyoku' do\n  action :install\nend\n\ninclude_recipe \"maven\"\nnode.default['maven']['version'] = \"3.3.3\"\n\nmaven_settings \"settings.servers\" do\n  value \"server\" =&gt; {\n    \"id\" =&gt; \"server1\",\n    \"username\" =&gt; \"user1\",\n    \"password\" =&gt; \"pass1\"\n  }\nend\n\nmaven_settings \"settings.servers\" do\n  value \"server\" =&gt; {\n    \"id\" =&gt; \"server2\",\n    \"username\" =&gt; \"user2\",\n    \"password\" =&gt; \"pass2\"\n  }\nend\n\nmaven_settings \"settings.servers\" do\n  value \"server\" =&gt; {\n    \"id\" =&gt; \"server3\",\n    \"username\" =&gt; \"user3\",\n    \"password\" =&gt; \"pass3\"\n  }\nend\n</code></pre>\n\n<p>Thanks, foy any advise !</p>\n"}, {"tags": ["ruby", "osx-mavericks", "require", "taglib", "taglib-ruby"], "comments": [{"owner": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1453890779, "post_id": 35033903, "comment_id": 57794445, "body": "How did you install Ruby? How did you install the gem?  It looks like you haven&#39;t installed the gem, just downloaded it  The require simply isn&#39;t pointing to where the file needs to be loaded from.  I am not familiar with the gem, but usually installing the gems using <code>gem install &lt;gemname&gt;</code> will place the gems in the &quot;correct&quot; location for your installation.  Depending on how your Ruby is installed, you may need to use <code>sudo</code>."}, {"owner": {"reputation": 11, "user_id": 4295622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHTNJ.jpg?s=128&g=1", "display_name": "Shaneydev", "link": "https://stackoverflow.com/users/4295622/shaneydev"}, "reply_to_user": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1453898225, "post_id": 35033903, "comment_id": 57799526, "body": "I installed Ruby with rvm, and have RubyMotion working with my default Ruby version 2.0.0p481. I installed taglib using Homebrew, and then installed taglib-ruby using the &#39;gem install tagliib-ruby&#39; command from within my program directory. Gem list from this directory shows: taglib-ruby (0.7.1)"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4295622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHTNJ.jpg?s=128&g=1", "display_name": "Shaneydev", "link": "https://stackoverflow.com/users/4295622/shaneydev"}, "edited": false, "score": 0, "creation_date": 1453898846, "post_id": 35035841, "comment_id": 57799950, "body": "Yeah, gem list shows taglib-ruby (0.7.1) as successfully installed in the project folder. I don&#39;t know why the require isn&#39;t picking this up. I&#39;m wondering is the problem something to do with my installation of the taglib library (written in C++) that&#39;s not allowing the taglib-ruby wrapper gem to work. Should the taglib (the C++ one) be showing up in my gem list (it&#39;s not) or be installed somewhere relevant, or is there some pointing to this library that I must do to get taglib-ruby to work? Thanks"}, {"owner": {"reputation": 11, "user_id": 4295622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHTNJ.jpg?s=128&g=1", "display_name": "Shaneydev", "link": "https://stackoverflow.com/users/4295622/shaneydev"}, "edited": false, "score": 0, "creation_date": 1453898966, "post_id": 35035841, "comment_id": 57800034, "body": "I should note that I&#39;ve installed, removed and reinstalled the taglib API. My installation of it is nothing more than: &#39;brew install taglib&#39; which downloaded a .tar.gz file. I unzipped this file from within my downloads folder and that&#39;s as much as I&#39;ve done on the taglib (C++) part."}, {"owner": {"reputation": 120, "user_id": 3973421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/liVU5.jpg?s=128&g=1", "display_name": "0r4cl3", "link": "https://stackoverflow.com/users/3973421/0r4cl3"}, "reply_to_user": {"reputation": 11, "user_id": 4295622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHTNJ.jpg?s=128&g=1", "display_name": "Shaneydev", "link": "https://stackoverflow.com/users/4295622/shaneydev"}, "edited": false, "score": 0, "creation_date": 1453899665, "post_id": 35035841, "comment_id": 57800520, "body": "According to the documentation, the steps to follows are: install taglib with brew: <code>brew install taglib</code> and then install the gem <code>gem install taglib-gem</code>"}], "tags": [], "owner": {"reputation": 120, "user_id": 3973421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/liVU5.jpg?s=128&g=1", "display_name": "0r4cl3", "link": "https://stackoverflow.com/users/3973421/0r4cl3"}, "is_accepted": false, "score": 0, "last_activity_date": 1453896284, "last_edit_date": 1453896284, "creation_date": 1453893441, "answer_id": 35035841, "question_id": 35033903, "link": "https://stackoverflow.com/questions/35033903/load-error-when-requiring-taglib-ruby/35035841#35035841", "title": "Load Error when requiring taglib-ruby", "body": "<p>On your Mac Terminal try to type <code>gem list</code>. This should give you the list of installed gem. If the gem is not showing up, type <code>gem install \"gem-name\"</code> to install it.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4295622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHTNJ.jpg?s=128&g=1", "display_name": "Shaneydev", "link": "https://stackoverflow.com/users/4295622/shaneydev"}, "edited": false, "score": 0, "creation_date": 1454185761, "post_id": 35047915, "comment_id": 57934389, "body": "Thanks vgoff, really helpful answer that&#39;s well written for a new learner. It helped a lot in working this out. Cheers"}], "tags": [], "owner": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "is_accepted": false, "score": 1, "last_activity_date": 1453928522, "creation_date": 1453928522, "answer_id": 35047915, "question_id": 35033903, "link": "https://stackoverflow.com/questions/35033903/load-error-when-requiring-taglib-ruby/35047915#35047915", "title": "Load Error when requiring taglib-ruby", "body": "<p>When you require a file, the file must be either in your <code>$LOAD_PATH</code> variable for Ruby, or explicitly indicated in the require string.</p>\n\n<p>The error that you posted is specific to this.  The require command leaves off the extension, as it will load other types of files other than Ruby if they are available.  See the documentation on the <code>require</code> method for more information.</p>\n\n<p>If you have installed the library in <code>~/my_projects/music_analyzer/taglib_unzip_folder</code> then you can use <code>require '~/my_projects/music_analyzer/taglib_unsip_folder/taglib</code> and the error messages should change.</p>\n\n<p>If you have installed the gem, and are using rvm, you should not use <code>sudo</code>, but should use <code>gem install taglib-ruby</code></p>\n\n<p>And in this case you would not need to specify the folder name, as the path would be included in Ruby's load path.</p>\n\n<p>If you are using an IDE, and that IDE is not using the same environment, then you will end up with load problems, as your installation and the IDE's environment may not be identical.</p>\n\n<p>Instead of using the IDE, you can test these things out right at the terminal, using irb.</p>\n\n<pre><code>&gt;&gt; require 'taglib'\n=&gt; true\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4295622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHTNJ.jpg?s=128&g=1", "display_name": "Shaneydev", "link": "https://stackoverflow.com/users/4295622/shaneydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1453928522, "creation_date": 1453888269, "question_id": 35033903, "link": "https://stackoverflow.com/questions/35033903/load-error-when-requiring-taglib-ruby", "title": "Load Error when requiring taglib-ruby", "body": "<p>I'm trying to use the Ruby wrapper gem for Taglib to play around with ID3 Tags in a practice program. I'm getting Load Errors regarding the requiring of the taglib ruby gem.</p>\n\n<p>I've installed the gem into my project via RubyGems and am simply requiring the gem as stated in a number of posts:</p>\n\n<pre><code>require 'taglib'\n</code></pre>\n\n<p>These are the software versions I'm working with:</p>\n\n<ul>\n<li>ruby 2.0.0p481</li>\n<li>taglib-ruby (0.7.1)</li>\n<li>taglib-1.9.1 </li>\n</ul>\n\n<p>I'm on a Mac with Mavericks 10.9.5, using RubyMine as my IDE. \nI'm not sure if my installation is correct for taglib (the original, not the Ruby wrapper). I used Homebrew to download the .tar.gz file and then unzipped this. The Taglib 1.10 folder is sitting in my local downloads folder - should this be placed somewhere else?</p>\n\n<p>As mentioned, I'm requiring 'taglib' at the top of my .rb file. The error I'm getting when trying to run this file is:</p>\n\n<pre><code>'require': cannot load such file -- taglib (LoadError)\n</code></pre>\n\n<p>I'm pretty new to Ruby and SO so anything else I need to clarify, please ask. Any help would be appreciated, thanks a lot. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "https", "devise"], "answers": [{"comments": [{"owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "edited": false, "score": 0, "creation_date": 1453890496, "post_id": 35034187, "comment_id": 57794244, "body": "I&#39;m afraid that&#39;s not the issue, the <code>destroy</code> isn&#39;t called at all. After redirecting to <code>https</code> it tries to call <code>destroy</code> with a GET method instead of DELETE."}, {"owner": {"reputation": 7359, "user_id": 599989, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d752d2574aeb36bc66471f4d0f8811aa?s=128&d=identicon&r=PG", "display_name": "Bijendra", "link": "https://stackoverflow.com/users/599989/bijendra"}, "reply_to_user": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "edited": false, "score": 0, "creation_date": 1453894127, "post_id": 35034187, "comment_id": 57796609, "body": "You cannot use redirect_to with Delete method, it just gets the destination url"}, {"owner": {"reputation": 7359, "user_id": 599989, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d752d2574aeb36bc66471f4d0f8811aa?s=128&d=identicon&r=PG", "display_name": "Bijendra", "link": "https://stackoverflow.com/users/599989/bijendra"}, "reply_to_user": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "edited": false, "score": 0, "creation_date": 1453894390, "post_id": 35034187, "comment_id": 57796760, "body": "Also apart from devise are you using any authentication/authorization gems"}], "tags": [], "owner": {"reputation": 7359, "user_id": 599989, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d752d2574aeb36bc66471f4d0f8811aa?s=128&d=identicon&r=PG", "display_name": "Bijendra", "link": "https://stackoverflow.com/users/599989/bijendra"}, "is_accepted": false, "score": 0, "last_activity_date": 1453888965, "creation_date": 1453888965, "answer_id": 35034187, "question_id": 35033721, "link": "https://stackoverflow.com/questions/35033721/forcing-ssl-on-devise-controller-redirects-to-get-instead-of-delete-on-sign-out/35034187#35034187", "title": "Forcing ssl on devise controller redirects to GET instead of DELETE on sign_out", "body": "<pre><code>class ApplicationController &lt; ActionController::Base\n private\n\n # Overwriting the sign_out redirect path method\n def after_sign_out_path_for(resource_or_scope)\n   root_path\n end\nend\n</code></pre>\n\n<p>From the <a href=\"https://github.com/plataformatec/devise/wiki/How-To:-Change-the-redirect-path-after-destroying-a-session-i.e.-signing-out\" rel=\"nofollow\">Devise docs for signout</a>, just change <strong>root_path</strong> to <strong>root_path :protocol => 'http://'</strong>. Once you signout, return it to some page.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 787475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hbj5m.jpg?s=128&g=1", "display_name": "Brilnius", "link": "https://stackoverflow.com/users/787475/brilnius"}, "is_accepted": false, "score": -1, "last_activity_date": 1487774335, "last_edit_date": 1495540398, "creation_date": 1487774335, "answer_id": 42394524, "question_id": 35033721, "link": "https://stackoverflow.com/questions/35033721/forcing-ssl-on-devise-controller-redirects-to-get-instead-of-delete-on-sign-out/42394524#42394524", "title": "Forcing ssl on devise controller redirects to GET instead of DELETE on sign_out", "body": "<p>That worked for me (inspired by <a href=\"https://stackoverflow.com/a/38821571/787475\">this answer</a>) :</p>\n\n<pre><code>config.to_prepare { Devise::SessionsController.force_ssl except: [:destroy] }\n</code></pre>\n\n<p>This way, SSL redirection is not necessary for loging out.</p>\n"}], "owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487774335, "creation_date": 1453887748, "question_id": 35033721, "link": "https://stackoverflow.com/questions/35033721/forcing-ssl-on-devise-controller-redirects-to-get-instead-of-delete-on-sign-out", "title": "Forcing ssl on devise controller redirects to GET instead of DELETE on sign_out", "body": "<p>I've placed <code>config.to_prepare { Devise::SessionsController.force_ssl }</code> in my <code>production.rb</code> in order to require logging in/out via https.</p>\n\n<p>Unfortunately, <code>force_ssl</code> seems to forget the original request method. Logs:</p>\n\n<pre><code>Started DELETE \"/users/sign_out\" for (...)\nProcessing by Users::SessionsController#destroy as HTML\n  Parameters: {\"authenticity_token\"=&gt;\"foo\"}\n  User Load (0.8ms)  SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = id  ORDER BY \"users\".\"id\" ASC LIMIT 1\nRedirected to https://my.domain/users/sign_out\nFilter chain halted as #&lt;Proc:some-ruby-path/gems/actionpack-4.1.5/lib/action_controller/metal/force_ssl.rb:65&gt; rendered or redirected\n\nCompleted 301 Moved Permanently in 6ms (ActiveRecord: 0.8ms)\nStarted GET \"/users/sign_out\" for (...)\n\nActionController::RoutingError (No route matches [GET] \"/users/sign_out\")\n</code></pre>\n\n<p>Any ideas how to tackle this? It seems like it could be a common problem.</p>\n"}, {"tags": ["ruby", "google-calendar-api", "google-api-ruby-client"], "comments": [{"owner": {"reputation": 3262, "user_id": 3666886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a3a677332b94cfa75f11e364c7c2fb7?s=128&d=identicon&r=PG&f=1", "display_name": "luc", "link": "https://stackoverflow.com/users/3666886/luc"}, "edited": false, "score": 0, "creation_date": 1453894514, "post_id": 35033182, "comment_id": 57796848, "body": "Could you try to look (and paste here) what the actual http request is and what is the JSON body of the event in it?"}, {"owner": {"reputation": 2756, "user_id": 5637321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8517c82aa245d1972c00abe3d64abf07?s=128&d=identicon&r=PG&f=1", "display_name": "adjuremods", "link": "https://stackoverflow.com/users/5637321/adjuremods"}, "edited": false, "score": 0, "creation_date": 1453950824, "post_id": 35033182, "comment_id": 57828593, "body": "Disclaimer - not a ruby dev. For some reason the <code>end</code> object isn&#39;t being recognized. I see that your code snippet is similar to the the <a href=\"https://developers.google.com/google-apps/calendar/create-events\" rel=\"nofollow noreferrer\">sample in the documentation</a>, the only thing different I see (aside from some properties being removed) is the last property (<code>end</code>), didn&#39;t end with &quot;,&quot; like the other objects. If you check out the other objects they look like it ends with the comma, can you test that out?"}, {"owner": {"reputation": 32008, "user_id": 322020, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dce43cb8158a14c3fed02bea797becd7?s=128&d=identicon&r=PG", "display_name": "Nakilon", "link": "https://stackoverflow.com/users/322020/nakilon"}, "edited": false, "score": 0, "creation_date": 1454001658, "post_id": 35033182, "comment_id": 57858876, "body": "You may move the &#39;solution&#39; out from the question body to a real Answer -- it&#39;s ok to answer own questions at SO."}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 1151209, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/554b7bc81831e7f92b1e61fcc8ffd5c4?s=128&d=identicon&r=PG", "display_name": "WWTLF", "link": "https://stackoverflow.com/users/1151209/wwtlf"}, "is_accepted": true, "score": 2, "last_activity_date": 1454061086, "creation_date": 1454061086, "answer_id": 35081435, "question_id": 35033182, "link": "https://stackoverflow.com/questions/35033182/google-calendar-v3-ruby-api-insert-event/35081435#35081435", "title": "Google Calendar V3 Ruby API insert event", "body": "<p>I solved my issue. Event hash must be like this:</p>\n\n<pre><code>event = Google::Apis::CalendarV3::Event.new({\n  'summary':'Google I/O 2015',\n  'location':'800 Howard St., San Francisco, CA 94103',\n  'description':'A chance to hear more about Google\\'s developer products.',\n  'start':{\n    'date_time': DateTime.parse('2016-05-28T09:00:00-07:00'),\n    'time_zone': 'America/Los_Angeles'\n  },\n  'end':{\n    'date_time': DateTime.parse('2016-05-28T17:00:00-07:00'),\n    'time_zone': 'America/Los_Angeles'\n  }\n})\n</code></pre>\n\n<p>Also don't forget to provide the access to your calendar by severice accaunt email from json file. \"client_email\": \"bla@blablabla.iam.gserviceaccount.com\",</p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 1151209, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/554b7bc81831e7f92b1e61fcc8ffd5c4?s=128&d=identicon&r=PG", "display_name": "WWTLF", "link": "https://stackoverflow.com/users/1151209/wwtlf"}, "edited": false, "score": 0, "creation_date": 1454066607, "post_id": 35081644, "comment_id": 57888359, "body": "You are right. Actually it is google&#39;s example. As you see, I have added brackets, and call constructor &quot;new&quot; by passing hash as agrument."}], "tags": [], "owner": {"reputation": 3867, "user_id": 3906189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/432b41df14bd9197f1b8601cabf49386?s=128&d=identicon&r=PG", "display_name": "siegy22", "link": "https://stackoverflow.com/users/3906189/siegy22"}, "is_accepted": false, "score": 3, "last_activity_date": 1487583477, "last_edit_date": 1487583477, "creation_date": 1454061725, "answer_id": 35081644, "question_id": 35033182, "link": "https://stackoverflow.com/questions/35033182/google-calendar-v3-ruby-api-insert-event/35081644#35081644", "title": "Google Calendar V3 Ruby API insert event", "body": "<p>In your example you're creating a ruby block which is equal to:</p>\n\n<pre><code>Google::Apis::CalendarV3::Event.new do\n  # something\nend\n</code></pre>\n\n<p>But what you want, is to pass a hash like this: </p>\n\n<pre><code>Google::Apis::CalendarV3::Event.new({\n  key: value\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5131216, "user_type": "registered", "profile_image": "https://graph.facebook.com/855908187790176/picture?type=large", "display_name": "Igor Dmitriev", "link": "https://stackoverflow.com/users/5131216/igor-dmitriev"}, "is_accepted": false, "score": 4, "last_activity_date": 1476206045, "creation_date": 1476206045, "answer_id": 39982917, "question_id": 35033182, "link": "https://stackoverflow.com/questions/35033182/google-calendar-v3-ruby-api-insert-event/39982917#39982917", "title": "Google Calendar V3 Ruby API insert event", "body": "<p>For me, atm, works this syntax:</p>\n\n<pre><code>Google::Apis::CalendarV3::Event.new({\n  :summary =&gt; 'event title',\n  :location =&gt; 'event address',\n  :description =&gt; 'event description',\n  :start =&gt; {\n    :date_time =&gt; 'event start time in rfc3339'\n  },\n  :end =&gt; {\n    :date_time =&gt; 'event end time in rfc 3339'\n  }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 1843338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6816825b0ba41a9ffa431ae7721559fd?s=128&d=identicon&r=PG", "display_name": "Kacper Perschke", "link": "https://stackoverflow.com/users/1843338/kacper-perschke"}, "is_accepted": false, "score": 0, "last_activity_date": 1557685671, "creation_date": 1557685671, "answer_id": 56102218, "question_id": 35033182, "link": "https://stackoverflow.com/questions/35033182/google-calendar-v3-ruby-api-insert-event/56102218#56102218", "title": "Google Calendar V3 Ruby API insert event", "body": "<p>In reminders works <code>:reminder_method</code>.</p>\n\n<p><a href=\"https://github.com/googleapis/google-api-ruby-client/issues/470#issuecomment-247511569\" rel=\"nofollow noreferrer\">Link here</a>.</p>\n\n<p>Example below</p>\n\n<pre><code>{   \n    :summary=&gt;\"Never underestimate yourself!\",                                                     \n    :location=&gt;\"In my brain\",\n    :description=&gt;\"Never underestimate\\nwhat you can acomplish\\nwhen you believe in yourself.\\n\\nNever give up.\\n\\nhttp://www.youtube.com/watch?v=qX9FSZJu448\",\n    :attendees =&gt; [                                                                                \n        {:email =&gt;'Sample.Mail@gmail.com'},                                                        \n    ],                                                                                             \n    :start=&gt;{                                                                                      \n        :date_time=&gt;\"2019-05-12T11:30:00+02:00\",                                                   \n        :time_zone=&gt;\"Europe/Warsaw\"                                                                \n    },                                                                                             \n    :end=&gt;{                                                                                        \n        :date_time=&gt;\"2019-05-12T11:30:15+02:00\",                                                   \n        :time_zone=&gt;\"Europe/Warsaw\"\n    },                                                              \n    :reminders=&gt;{                                                                                  \n        :use_default=&gt;false,                                                                       \n        :overrides=&gt;[                                                                              \n            {:reminder_method=&gt;\"email\", :minutes=&gt;35}                                              \n            {:reminder_method=&gt;\"popup\", :minutes=&gt;5}                                               \n        ]                                                                                          \n    }                                                                                              \n}    \n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 1151209, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/554b7bc81831e7f92b1e61fcc8ffd5c4?s=128&d=identicon&r=PG", "display_name": "WWTLF", "link": "https://stackoverflow.com/users/1151209/wwtlf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2029, "favorite_count": 0, "accepted_answer_id": 35081435, "answer_count": 4, "score": 1, "last_activity_date": 1557685671, "creation_date": 1453886307, "last_edit_date": 1454061110, "question_id": 35033182, "link": "https://stackoverflow.com/questions/35033182/google-calendar-v3-ruby-api-insert-event", "title": "Google Calendar V3 Ruby API insert event", "body": "<p>I am using example from <a href=\"https://developers.google.com/google-apps/calendar/v3/reference/events/insert\" rel=\"nofollow noreferrer\">https://developers.google.com/google-apps/calendar/v3/reference/events/insert</a></p>\n\n<pre><code>event = Google::Apis::CalendarV3::Event.new{\n  summary:'Google I/O 2015',\n  location:'800 Howard St., San Francisco, CA 94103',\n  description:'A chance to hear more about Google\\'s developer products.',\n  start: {\n    date_time: '2015-05-28T09:00:00-07:00',\n    time_zone:'America/Los_Angeles',\n  },\n  end: {\n    date_time:'2015-05-28T17:00:00-07:00',\n    time_zone:'America/Los_Angeles',\n  }\n}\n\nresult = service.insert_event(calendar_id, event)\n</code></pre>\n\n<p>However, I got error:</p>\n\n<pre><code>wwtlf:~/workspace $ ruby test.rb \n/usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/http_command.rb:202:in `check_status': required: Missing end time. (Google::Apis::ClientError)\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/api_command.rb:103:in `check_status'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/http_command.rb:170:in `process_response'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/http_command.rb:275:in `execute_once'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/http_command.rb:107:in `block (2 levels) in execute'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/retriable-2.1.0/lib/retriable.rb:54:in `block in retriable'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/retriable-2.1.0/lib/retriable.rb:48:in `times'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/retriable-2.1.0/lib/retriable.rb:48:in `retriable'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/http_command.rb:104:in `block in execute'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/retriable-2.1.0/lib/retriable.rb:54:in `block in retriable'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/retriable-2.1.0/lib/retriable.rb:48:in `times'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/retriable-2.1.0/lib/retriable.rb:48:in `retriable'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/http_command.rb:96:in `execute'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/lib/google/apis/core/base_service.rb:267:in `execute_or_queue_command'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/google-api-client-0.9.1/generated/google/apis/calendar_v3/service.rb:1207:in `insert_event'\n</code></pre>\n\n<p>What is wrong with event object from example?\nI tried to use dateTime insted of date_time, but error is the same.</p>\n\n<p><strong>UPD:</strong>\nThe original example:</p>\n\n<pre><code>event = Google::Apis::CalendarV3::Event.new{\n  summary: 'Google I/O 2015',\n  location: '800 Howard St., San Francisco, CA 94103',\n  description: 'A chance to hear more about Google\\'s developer products.',\n  start: {\n    date_time: '2015-05-28T09:00:00-07:00',\n    time_zone: 'America/Los_Angeles',\n  },\n  end: {\n    date_time: '2015-05-28T17:00:00-07:00',\n    time_zone: 'America/Los_Angeles',\n  },\n  recurrence: [\n    'RRULE:FREQ=DAILY;COUNT=2'\n  ],\n  attendees: [\n    {email: 'lpage@example.com'},\n    {email: 'sbrin@example.com'},\n  ],\n  reminders: {\n    use_default: false,\n    overrides: [\n      {method' =&gt; 'email', 'minutes: 24 * 60},\n      {method' =&gt; 'popup', 'minutes: 10},\n    ],\n  },\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/glHzG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/glHzG.png\" alt=\"enter image description here\"></a>\nObviously, there are a lot of syntax errors.\n(missed ')method' => 'popup', 'minutes(missed '): 10</p>\n\n<p>So, I decided to modify it:</p>\n\n<pre><code>event = Google::Apis::CalendarV3::Event.new{\n  summary:'Google I/O 2015',\n  location:'800 Howard St., San Francisco, CA 94103',\n  description:'A chance to hear more about Google\\'s developer products.',\n  start: {\n    date_time:'2015-05-28T09:00:00-07:00',\n    time_zone:'America/Los_Angeles',\n  },\n  end: {\n    date_time:'2015-05-28T17:00:00-07:00',\n    time_zone:'America/Los_Angeles',\n  },\n  recurrence: [\n    'RRULE:FREQ=DAILY;COUNT=2'\n  ],\n  attendees: [\n    {email: 'lpage@example.com'},\n    {email: 'sbrin@example.com'},\n  ],\n  reminders: {\n    use_default: false,\n    overrides: [\n      {'method' =&gt; 'email', 'minutes'=&gt; 24 * 60},\n      {'method' =&gt; 'popup', 'minutes'=&gt; 10},\n    ],\n  }\n}\n</code></pre>\n\n<p>But, I still got http_command.rb:202:in `check_status': required: Missing end time. (Google::Apis::ClientError)</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453886083, "post_id": 35033067, "comment_id": 57791234, "body": "What exactly means \u201cin the middle\u201d? Given <code>[1,1,4,4]</code> input, should <code>[2,3]</code> be inserted where?"}, {"owner": {"reputation": 2945, "user_id": 294809, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6a7d530189ec12da99c9481ae6737e2?s=128&d=identicon&r=PG", "display_name": "Andree", "link": "https://stackoverflow.com/users/294809/andree"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453886187, "post_id": 35033067, "comment_id": 57791305, "body": "&quot;Where&quot; should be a variable. I want to be able to insert in the beginning or anywhere in the middle, but not at the end (which can be easily achieved with array1 + array2)."}], "answers": [{"tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 3, "last_activity_date": 1453886644, "last_edit_date": 1453886644, "creation_date": 1453886295, "answer_id": 35033174, "question_id": 35033067, "link": "https://stackoverflow.com/questions/35033067/how-to-insert-an-array-in-the-middle-of-an-array/35033174#35033174", "title": "How to insert an array in the middle of an array?", "body": "<pre><code>def insert_array receiver, pos, other\n  receiver.insert pos, *other\nend\n\ninsert_array [1, 4], 1, [2, 3]\n#\u21d2 [1, 2, 3, 4]\n</code></pre>\n\n<p>or, the above might be achieved by monkeypatching the <code>Array</code> class:</p>\n\n<pre><code>class Array\n  def insert_array pos, other\n    insert pos, *other\n  end\nend\n</code></pre>\n\n<p>I believe, this is short enough notation to have any additional syntax sugar. BTW, flattening the result is not a good idea, since it will corrupt an input arrays, already having arrays inside:</p>\n\n<pre><code>[1, [4,5]].insert 1, *[2,3]\n#\u21d2 [1, 2, 3, [4,5]]\n</code></pre>\n\n<p>but:</p>\n\n<pre><code>[1, [4,5]].insert(1, [2,3]).flatten\n#\u21d2 [1, 2, 3, 4, 5]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2945, "user_id": 294809, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6a7d530189ec12da99c9481ae6737e2?s=128&d=identicon&r=PG", "display_name": "Andree", "link": "https://stackoverflow.com/users/294809/andree"}, "edited": false, "score": 0, "creation_date": 1453899855, "post_id": 35033215, "comment_id": 57800648, "body": "All answers I got are great, but I think yours are the easiest to read. Thanks!"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1453917515, "post_id": 35033215, "comment_id": 57813577, "body": "It&#39;s perhaps worth noting that <code>[1,4].insert(2,*[2,3]) #=&gt;  [1,4,2,3]</code>, which allows the elements of the second array to be inserted after the last element of the first array."}], "tags": [], "owner": {"reputation": 5713, "user_id": 846163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/623857ee8390f91edba65fcac0d152ab?s=128&d=identicon&r=PG", "display_name": "sschmeck", "link": "https://stackoverflow.com/users/846163/sschmeck"}, "is_accepted": true, "score": 13, "last_activity_date": 1453887101, "last_edit_date": 1453887101, "creation_date": 1453886412, "answer_id": 35033215, "question_id": 35033067, "link": "https://stackoverflow.com/questions/35033067/how-to-insert-an-array-in-the-middle-of-an-array/35033215#35033215", "title": "How to insert an array in the middle of an array?", "body": "<p>You could do it the following way.</p>\n\n<pre><code>[1,4].insert(1,*[2,3])\n</code></pre>\n\n<p>The <a href=\"http://ruby-doc.org/core-2.3.0/Array.html#method-i-insert\"><code>insert()</code></a> method handles multiple parameters. Therefore you can convert your array to parameters with the splat operator <code>*</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1453892584, "post_id": 35033801, "comment_id": 57795627, "body": "This is a very concise way to insert another array&#39;s elements. Maybe you should add some explanation (and some whitespace)."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 4, "last_activity_date": 1453916671, "last_edit_date": 1453916671, "creation_date": 1453887972, "answer_id": 35033801, "question_id": 35033067, "link": "https://stackoverflow.com/questions/35033067/how-to-insert-an-array-in-the-middle-of-an-array/35033801#35033801", "title": "How to insert an array in the middle of an array?", "body": "<p>One form of the method <a href=\"http://docs.ruby-lang.org/en/2.3.0/Array.html#method-i-5B-5D-3D\" rel=\"nofollow\">Array#[]=</a> takes two arguments, <code>index</code> and <code>length</code>. When the latter is zero and the rvalue is an array, the method inserts the elements of the rvalue into the receiver <em>before</em> the element at the given index (and returns the rvalue). Therefore, to insert the elements of:</p>\n\n<pre><code>b = [2,3]\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>a = [1,4]\n</code></pre>\n\n<p>before the element at index <code>1</code> (<code>4</code>), we write:</p>\n\n<pre><code>a[1,0] = b\n  #=&gt; [2,3]\na #=&gt; [1,2,3,4]\n</code></pre>\n\n<p>Note:</p>\n\n<pre><code>a=[1,4]\na[0,0] = [2,3]\na #=&gt; [2,3,1,4]\n\na=[1,4]\na[2,0] = [2,3]\na #=&gt; [1,4,2,3]\n\na=[1,4]\na[4,0] = [2,3]\na #=&gt; [1,4,nil,nil,2,3]]\n</code></pre>\n\n<p>which is why the insertion location is before the given index.</p>\n"}, {"tags": [], "owner": {"reputation": 3693, "user_id": 4800588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5yZA.jpg?s=128&g=1", "display_name": "Enver Dzhaparoff", "link": "https://stackoverflow.com/users/4800588/enver-dzhaparoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1453908430, "creation_date": 1453908430, "answer_id": 35041391, "question_id": 35033067, "link": "https://stackoverflow.com/questions/35033067/how-to-insert-an-array-in-the-middle-of-an-array/35041391#35041391", "title": "How to insert an array in the middle of an array?", "body": "<p><strong>My option without array#insert method</strong></p>\n\n<pre><code>array = [1,2,3,6,7,8]\nnew_array = [4,5]\n\narray[0...array.size/2] + new_array + array[array.size/2..-1]\n</code></pre>\n"}], "owner": {"reputation": 2945, "user_id": 294809, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6a7d530189ec12da99c9481ae6737e2?s=128&d=identicon&r=PG", "display_name": "Andree", "link": "https://stackoverflow.com/users/294809/andree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5660, "favorite_count": 0, "accepted_answer_id": 35033215, "answer_count": 4, "score": 5, "last_activity_date": 1453916671, "creation_date": 1453885995, "question_id": 35033067, "link": "https://stackoverflow.com/questions/35033067/how-to-insert-an-array-in-the-middle-of-an-array", "title": "How to insert an array in the middle of an array?", "body": "<p>I have a Ruby array <code>[1, 4]</code>. I want to insert another array <code>[2, 3]</code> in the middle so that it becomes <code>[1, 2, 3, 4]</code>. I can achieve that with <code>[1, 4].insert(1, [2, 3]).flatten</code>, but is there a better way to do this?</p>\n"}, {"tags": ["ruby", "centos", "vagrant", "puppet", "compass-sass"], "comments": [{"owner": {"reputation": 585, "user_id": 919902, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7385aa15c501ebb76b4273edae39ae67?s=128&d=identicon&r=PG", "display_name": "Arne De Smedt", "link": "https://stackoverflow.com/users/919902/arne-de-smedt"}, "edited": false, "score": 0, "creation_date": 1453885873, "post_id": 35032952, "comment_id": 57791085, "body": "If I&#39;m running it with debug = on, the script halts on the following command: <code>&#47;bin&#47;gem install --no-rdoc --no-ri compass</code>"}, {"owner": {"reputation": 44774, "user_id": 4296747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-muYS9LV5AoA/AAAAAAAAAAI/AAAAAAAACG4/KcTmlFyGWRI/photo.jpg?sz=128", "display_name": "Frederic Henri", "link": "https://stackoverflow.com/users/4296747/frederic-henri"}, "edited": false, "score": 0, "creation_date": 1453927482, "post_id": 35032952, "comment_id": 57819478, "body": "compass has quite a lot of dependency but man, 30 minutes. another possibility for you would be to build your box once and repackage as a new box so if you destroy you will (re)up from the repackaged box"}], "answers": [{"tags": [], "owner": {"reputation": 585, "user_id": 919902, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7385aa15c501ebb76b4273edae39ae67?s=128&d=identicon&r=PG", "display_name": "Arne De Smedt", "link": "https://stackoverflow.com/users/919902/arne-de-smedt"}, "is_accepted": false, "score": 0, "last_activity_date": 1453981108, "creation_date": 1453981108, "answer_id": 35060483, "question_id": 35032952, "link": "https://stackoverflow.com/questions/35032952/vagrant-up-wit-puppet-install-compass/35060483#35060483", "title": "Vagrant up wit puppet =&gt; install compass", "body": "<p>I already found a solution. If I tried the same scenario on my localhost it succeeded in 1 minute. I compared the gem version and the gem version on the puppet was an older version.</p>\n\n<p>Now I'm first executing:</p>\n\n<pre><code>/bin/gem update --system\n</code></pre>\n"}], "owner": {"reputation": 585, "user_id": 919902, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7385aa15c501ebb76b4273edae39ae67?s=128&d=identicon&r=PG", "display_name": "Arne De Smedt", "link": "https://stackoverflow.com/users/919902/arne-de-smedt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453981108, "creation_date": 1453885629, "question_id": 35032952, "link": "https://stackoverflow.com/questions/35032952/vagrant-up-wit-puppet-install-compass", "title": "Vagrant up wit puppet =&gt; install compass", "body": "<p>Is there anybody who has experience with installing compass via puppet on a vagrant box?</p>\n\n<p>If I'm installing compass via the following puppet command (<a href=\"http://www.thisprogrammingthing.com/2013/installing-ruby-gems-in-puppet/\" rel=\"nofollow\">http://www.thisprogrammingthing.com/2013/installing-ruby-gems-in-puppet/</a>):</p>\n\n<pre><code>package { ['sass', 'compass']:\n    ensure =&gt; 'installed',\n    provider =&gt; 'gem',\n}\n</code></pre>\n\n<p>The sass package is installed in a few seconds. The compass package is also installed but it takes about 30 minutes to install. And that's a bit anoying if you want to destroy and up the box on a regular base.</p>\n\n<p>I use this VagrantBox => puppetlabs/centos-7.2-64-puppet</p>\n\n<p>I also installed the following needed centos packages:</p>\n\n<p>\"rubygems\", \"ruby-devel\"</p>\n\n<p>Is there anybody with a solution?</p>\n\n<p>Thx!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "doorkeeper"], "owner": {"reputation": 211, "user_id": 4423225, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100002385910850/picture?type=large", "display_name": "Juan Dela Cruz", "link": "https://stackoverflow.com/users/4423225/juan-dela-cruz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1453885488, "creation_date": 1453885488, "question_id": 35032894, "link": "https://stackoverflow.com/questions/35032894/rails-5-doorkeeper-token-create-argumenterror", "title": "Rails 5 - Doorkeeper token create ( ArgumentError )", "body": "<p>Currently, I'm converting rails 4 app to rails 5. I'm having this error in Doorkeeper in creating token.</p>\n\n<pre><code>ArgumentError (wrong number of arguments (given 2, expected 0..1)):\n  app/controllers/oauth/tokens_controller.rb:4:in `create'\n\n\nclass Oauth::TokensController &lt; Doorkeeper::TokensController\n  def create\n    response = authorize_response\n    self.headers.merge! response.headers\n    self.response_body =\n      if response.status == :ok\n        json_success( response )\n      else\n        json_fail( response )\n      end\n  end\n</code></pre>\n\n<p>end</p>\n\n<p>everything is fine in rails 4.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "heroku", "amazon-s3", "apple-push-notifications"], "answers": [{"tags": [], "owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "is_accepted": false, "score": 3, "last_activity_date": 1453884228, "creation_date": 1453884228, "answer_id": 35032460, "question_id": 35032321, "link": "https://stackoverflow.com/questions/35032321/storing-private-files-on-heroku/35032460#35032460", "title": "Storing Private Files on Heroku", "body": "<p>You can't use the file system in Heroku, hence you need a different storage system.</p>\n\n<p>You can either use a cloud-system storage such as Amazon S3, and encrypt the connection and the data transferred to ensure the information stay private. The delay can be minimized using a memory-based cache system, such as memcached.</p>\n\n<p>Another approach is to store the data in the database, as binary information. You can either use the same application database, or a database specifically designed for that.</p>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 3973421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/liVU5.jpg?s=128&g=1", "display_name": "0r4cl3", "link": "https://stackoverflow.com/users/3973421/0r4cl3"}, "is_accepted": false, "score": 0, "last_activity_date": 1453888318, "creation_date": 1453888318, "answer_id": 35033915, "question_id": 35032321, "link": "https://stackoverflow.com/questions/35032321/storing-private-files-on-heroku/35033915#35033915", "title": "Storing Private Files on Heroku", "body": "<p>You should consider using some external storage services as you can't store files on Heroku. </p>\n\n<p><a href=\"https://devcenter.heroku.com/articles/s3\" rel=\"nofollow\">Using AWS S3 to Store Static Assets and File Uploads</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5845616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZqP7W1oEOMs/AAAAAAAAAAI/AAAAAAAAAcA/7g71y6FsH2g/photo.jpg?sz=128", "display_name": "Jayanth Sai V", "link": "https://stackoverflow.com/users/5845616/jayanth-sai-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1453888318, "creation_date": 1453883803, "last_edit_date": 1453884297, "question_id": 35032321, "link": "https://stackoverflow.com/questions/35032321/storing-private-files-on-heroku", "title": "Storing Private Files on Heroku", "body": "<p>I have a scenario here related to storing private files on heroku.</p>\n\n<p>I need to store private files( certificates and keys for sending push notifications to IOS devices) in a heroku app(uses Cedar stack), I can push these files to heroku server through git but storing on git is not secure as these are private. So, I want to secure copy (SCP) these files to heroku server but heroku doesnt allow incoming connections and storing these files on S3 bucket is not a great solution as it takes some time to get the file from S3 bucket which increases the delay in sending each push notification when in a loop. </p>\n\n<p>I'm kinda lost finding the right solution to this scenario. The gem <a href=\"https://github.com/NicosKaralis/pushmeup\" rel=\"nofollow\">https://github.com/NicosKaralis/pushmeup</a> accepts the private files either as a file object or a string (that points out the path of the files on server). Heroku allows to set config vars(only strings) that can be used in Environment but not files.</p>\n\n<p>Could someone please suggest me some workarounds in this scenario, Thank you.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "postgresql"], "answers": [{"tags": [], "owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "is_accepted": false, "score": 1, "last_activity_date": 1453883141, "creation_date": 1453883141, "answer_id": 35032108, "question_id": 35032084, "link": "https://stackoverflow.com/questions/35032084/syntax-error-at-or-near-using-rails-in-postgresql/35032108#35032108", "title": "syntax error at or near &quot;{&quot; using rails in postgresql", "body": "<p>You should use double-quoted strings when you want to use interpolation:</p>\n\n<pre><code>Campaign.scheduled_with_community_ids(community_ids).\n    joins(:community).\n    order(\"FIELD(campaigns.id, #{editable_ids}) DESC\").\n    order(:launch_date, 'communities.community_name')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 748447, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/q7YU9.jpg?s=128&g=1", "display_name": "user748447", "link": "https://stackoverflow.com/users/748447/user748447"}, "edited": false, "score": 0, "creation_date": 1453886432, "post_id": 35032112, "comment_id": 57791485, "body": "Okay even though i got some different error --------------  ActiveRecord::StatementInvalid - PG::UndefinedFunction: ERROR:  function field(bigint, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer) does not exist LINE 2: ...OR &quot;campaigns&quot;.&quot;status&quot; = &#39;s_approved&#39;)) ORDER BY FIELD(camp..."}, {"owner": {"reputation": 1616, "user_id": 3375148, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0634d92d3a39072fb1e23a897bea6d9e?s=128&d=identicon&r=PG", "display_name": "DevMarwen", "link": "https://stackoverflow.com/users/3375148/devmarwen"}, "reply_to_user": {"reputation": 101, "user_id": 748447, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/q7YU9.jpg?s=128&g=1", "display_name": "user748447", "link": "https://stackoverflow.com/users/748447/user748447"}, "edited": false, "score": 0, "creation_date": 1453886787, "post_id": 35032112, "comment_id": 57791724, "body": "Could you update the question and explain more what you are trying to accomplish"}, {"owner": {"reputation": 101, "user_id": 748447, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/q7YU9.jpg?s=128&g=1", "display_name": "user748447", "link": "https://stackoverflow.com/users/748447/user748447"}, "edited": false, "score": 0, "creation_date": 1453888651, "post_id": 35032112, "comment_id": 57793024, "body": "Campaign.scheduled_with_community_ids(community_ids).     joins(:community).     order(&quot;FIELD(campaigns.id, #{editable_ids}) DESC&quot;).     order(:launch_date, &#39;communities.community_name&#39;)   -----------------------  but am getting this error  ActiveRecord::StatementInvalid - PG::UndefinedFunction: ERROR:  function field(bigint, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer, integer) does not exist LINE 2: ...OR &quot;campaigns&quot;.&quot;status&quot; = &#39;s_approved&#39;)) ORDER BY FIELD(camp..."}, {"owner": {"reputation": 1616, "user_id": 3375148, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0634d92d3a39072fb1e23a897bea6d9e?s=128&d=identicon&r=PG", "display_name": "DevMarwen", "link": "https://stackoverflow.com/users/3375148/devmarwen"}, "reply_to_user": {"reputation": 101, "user_id": 748447, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/q7YU9.jpg?s=128&g=1", "display_name": "user748447", "link": "https://stackoverflow.com/users/748447/user748447"}, "edited": false, "score": 1, "creation_date": 1453888790, "post_id": 35032112, "comment_id": 57793128, "body": "I think <b>Postgresql</b> doesn&#39;t have a <code>field()</code> <b>function</b>, and if it has you have to activate it first."}], "tags": [], "owner": {"reputation": 1616, "user_id": 3375148, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0634d92d3a39072fb1e23a897bea6d9e?s=128&d=identicon&r=PG", "display_name": "DevMarwen", "link": "https://stackoverflow.com/users/3375148/devmarwen"}, "is_accepted": false, "score": 0, "last_activity_date": 1453883153, "creation_date": 1453883153, "answer_id": 35032112, "question_id": 35032084, "link": "https://stackoverflow.com/questions/35032084/syntax-error-at-or-near-using-rails-in-postgresql/35032112#35032112", "title": "syntax error at or near &quot;{&quot; using rails in postgresql", "body": "<p>change this</p>\n\n<pre><code>Campaign.scheduled_with_community_ids(community_ids).\n        joins(:community).\n        order('FIELD(campaigns.id, #{editable_ids}) DESC').\n        order(:launch_date, 'communities.community_name')\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>Campaign.scheduled_with_community_ids(community_ids).\n        joins(:community).\n        order(\"FIELD(campaigns.id, #{editable_ids}) DESC\").\n        order(:launch_date, 'communities.community_name')\n</code></pre>\n\n<p>You have to use double quotes to be able to interpolate</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "is_accepted": false, "score": 1, "last_activity_date": 1453883171, "creation_date": 1453883171, "answer_id": 35032116, "question_id": 35032084, "link": "https://stackoverflow.com/questions/35032084/syntax-error-at-or-near-using-rails-in-postgresql/35032116#35032116", "title": "syntax error at or near &quot;{&quot; using rails in postgresql", "body": "<p>Instead of using <code>single qoute</code> try <code>double qoute</code>:</p>\n\n<pre><code>Campaign.scheduled_with_community_ids(community_ids).\n    joins(:community).\n    order(\"FIELD(campaigns.id, #{editable_ids}) DESC\").\n    order(:launch_date, 'communities.community_name')\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 748447, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/q7YU9.jpg?s=128&g=1", "display_name": "user748447", "link": "https://stackoverflow.com/users/748447/user748447"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "closed_date": 1456446775, "answer_count": 3, "score": -1, "last_activity_date": 1453884404, "creation_date": 1453883048, "last_edit_date": 1453884404, "question_id": 35032084, "link": "https://stackoverflow.com/questions/35032084/syntax-error-at-or-near-using-rails-in-postgresql", "closed_reason": "Not suitable for this site", "title": "syntax error at or near &quot;{&quot; using rails in postgresql", "body": "<p>Below query is working in Mysql,but its not working in postgresql. </p>\n\n<pre><code>Campaign.scheduled_with_community_ids(community_ids).\n        joins(:community).\n        order('FIELD(campaigns.id, #{editable_ids}) DESC').\n        order(:launch_date, 'communities.community_name')\n</code></pre>\n\n<p>am getting below error</p>\n\n<pre><code>ActiveRecord::StatementInvalid - PG::SyntaxError: ERROR:  syntax error at or near \"{\" LINE 2: ...s\" = 's_approved')) ORDER BY FIELD(campaigns.id, #{editable_...\n</code></pre>\n\n<p>Please anyone help me</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "bundler"], "comments": [{"owner": {"reputation": 23312, "user_id": 560215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb365e8477053edcc55b40c3d27781d8?s=128&d=identicon&r=PG", "display_name": "sevenseacat", "link": "https://stackoverflow.com/users/560215/sevenseacat"}, "edited": false, "score": 0, "creation_date": 1453891998, "post_id": 35031998, "comment_id": 57795252, "body": "prepend <code>bundle exec</code> to whatever command you ran to give the error, exactly as the error tells you to do."}, {"owner": {"reputation": 5867, "user_id": 425809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3cdb8f2e41a63ca197b0f1ca78c98b1?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/425809/richard"}, "edited": false, "score": 0, "creation_date": 1611776042, "post_id": 35031998, "comment_id": 116562259, "body": "I ran into this error when attempting to debug RoR on VSCode using WSL.  I fixed that issue by adding &quot;useBundler&quot;:true to my launch.json.  VSCode throwing this error is how I ended up here."}], "answers": [{"comments": [{"owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "reply_to_user": {"reputation": 1990, "user_id": 4952770, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GMmxH.jpg?s=128&g=1", "display_name": "Junaid Farooq", "link": "https://stackoverflow.com/users/4952770/junaid-farooq"}, "edited": false, "score": 0, "creation_date": 1453884784, "post_id": 35032543, "comment_id": 57790492, "body": "Please read my answer. As I wrote, just prepend your command with <code>bundle exec</code>."}, {"owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "reply_to_user": {"reputation": 1990, "user_id": 4952770, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GMmxH.jpg?s=128&g=1", "display_name": "Junaid Farooq", "link": "https://stackoverflow.com/users/4952770/junaid-farooq"}, "edited": false, "score": 1, "creation_date": 1453887710, "post_id": 35032543, "comment_id": 57792386, "body": "You need to make sure that your command never calls any other subcommand directly."}, {"owner": {"reputation": 1990, "user_id": 4952770, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GMmxH.jpg?s=128&g=1", "display_name": "Junaid Farooq", "link": "https://stackoverflow.com/users/4952770/junaid-farooq"}, "edited": false, "score": 0, "creation_date": 1453887783, "post_id": 35032543, "comment_id": 57792435, "body": "how to make sure that?"}, {"owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "reply_to_user": {"reputation": 1990, "user_id": 4952770, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GMmxH.jpg?s=128&g=1", "display_name": "Junaid Farooq", "link": "https://stackoverflow.com/users/4952770/junaid-farooq"}, "edited": false, "score": 0, "creation_date": 1453892617, "post_id": 35032543, "comment_id": 57795657, "body": "You need to inspect your code to check if you are running any shell command, and always prepend it with <code>bundle exec</code>."}, {"owner": {"reputation": 834, "user_id": 3588645, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PqWVv.jpg?s=128&g=1", "display_name": "Paul Danelli", "link": "https://stackoverflow.com/users/3588645/paul-danelli"}, "edited": false, "score": 2, "creation_date": 1582818842, "post_id": 35032543, "comment_id": 106915868, "body": "This is not a solution."}], "tags": [], "owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "is_accepted": true, "score": 12, "last_activity_date": 1453884468, "creation_date": 1453884468, "answer_id": 35032543, "question_id": 35031998, "link": "https://stackoverflow.com/questions/35031998/prepending-bundle-exec-to-your-command-may-solve-this-rails/35032543#35032543", "title": "Prepending `bundle exec` to your command may solve this rails", "body": "<p>You need to prefix your command with <code>bundle exec</code>. For example, if your <code>rake</code> command is</p>\n\n<pre><code>rake deploy\n</code></pre>\n\n<p>You have instead to use</p>\n\n<pre><code>bundle exec rake deploy\n</code></pre>\n\n<p>Bundler will fetch the proper gem versions as listed in your <code>Gemfile</code>, and execute the command.</p>\n"}, {"comments": [{"owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "edited": false, "score": 0, "creation_date": 1453892574, "post_id": 35033952, "comment_id": 57795623, "body": "It will not work if you don&#39;t use <code>bundle exec</code> for the subsequent commands."}, {"owner": {"reputation": 651, "user_id": 841312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9faeb4e3aad727915f4a6cda5b261f3?s=128&d=identicon&r=PG", "display_name": "jacob bullock", "link": "https://stackoverflow.com/users/841312/jacob-bullock"}, "edited": false, "score": 4, "creation_date": 1454339201, "post_id": 35033952, "comment_id": 57987394, "body": "this just solved the problem for me.  bundle exec is not necessary after running this update."}], "tags": [], "owner": {"reputation": 779, "user_id": 3828281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ObrkS.jpg?s=128&g=1", "display_name": "Dheeresha", "link": "https://stackoverflow.com/users/3828281/dheeresha"}, "is_accepted": false, "score": 30, "last_activity_date": 1453888411, "creation_date": 1453888411, "answer_id": 35033952, "question_id": 35031998, "link": "https://stackoverflow.com/questions/35031998/prepending-bundle-exec-to-your-command-may-solve-this-rails/35033952#35033952", "title": "Prepending `bundle exec` to your command may solve this rails", "body": "<p>First run <strong>bundle update rake</strong> .</p>\n\n<p>I hope this works for you.</p>\n"}], "owner": {"reputation": 1990, "user_id": 4952770, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/GMmxH.jpg?s=128&g=1", "display_name": "Junaid Farooq", "link": "https://stackoverflow.com/users/4952770/junaid-farooq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17825, "favorite_count": 2, "accepted_answer_id": 35032543, "answer_count": 2, "score": 8, "last_activity_date": 1453911091, "creation_date": 1453882758, "last_edit_date": 1453911091, "question_id": 35031998, "link": "https://stackoverflow.com/questions/35031998/prepending-bundle-exec-to-your-command-may-solve-this-rails", "title": "Prepending `bundle exec` to your command may solve this rails", "body": "<p>I am having an issue while deploying my site to <code>AWS</code>.</p>\n\n<pre><code>Gem::LoadError: You have already activated rake 10.4.2, but your Gemfile requires rake 10.5.0. Prepending `bundle exec` to your command may solve this.\n  /var/app/ondeck/config/boot.rb:3:in `&lt;top (required)&gt;'\n  /var/app/ondeck/config/application.rb:1:in `&lt;top (required)&gt;'\n  /var/app/ondeck/Rakefile:4:in `&lt;top (required)&gt;'\n  LoadError: cannot load such file -- bundler/setup\n  /var/app/ondeck/config/boot.rb:3:in `&lt;top (required)&gt;'\n  /var/app/ondeck/config/application.rb:1:in `&lt;top (required)&gt;'\n  /var/app/ondeck/Rakefile:4:in `&lt;top (required)&gt;'\n  (See full trace by running task with --trace)\n   (ElasticBeanstalk::ExternalInvocationError)\n</code></pre>\n\n<p>while when I do <code>gem list rake</code> it gives me </p>\n\n<pre><code>*** LOCAL GEMS ***\n\nairbrake (4.3.1)\nrake (10.5.0, 10.4.2)\n</code></pre>\n\n<p>I want to have just one version when I do <code>bundle exec gem uninstall rake -v 10.4.2</code> it gives me </p>\n\n<pre><code>ERROR:  While executing gem ... (Gem::InstallError)\n    gem \"rake\" cannot be uninstalled because it is a default gem\n</code></pre>\n\n<p>How to resolve this issue? any help will be appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "omniauth"], "answers": [{"tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 2, "last_activity_date": 1453897292, "last_edit_date": 1453897292, "creation_date": 1453885173, "answer_id": 35032795, "question_id": 35031967, "link": "https://stackoverflow.com/questions/35031967/authentication-custom-or-third-party/35032795#35032795", "title": "Authentication: Custom or Third Party", "body": "<p>Devise and Omniauth do very different things - and they are often used together.</p>\n\n<p><strong>Devise</strong> provides a full authentication package with views, controllers and routes to allow users to sign up, edit user profiles, reset passwords, etc.\nDevise can be used without the database authentication module with provides signup via email password. </p>\n\n<p><strong>Omniauth</strong> is a framework for authentication users via Oauth. Omniauth unlike Devise does not ship with any views or controllers. Instead you need to integrate the Oauth callbacks into your app. What Omniauth does is abstract away the differences between different providers. </p>\n\n<p>Both can be used together to provide user authentication via password or oauth for example.</p>\n\n<p><strong>Rolling your own authentication solution</strong> is generally not advisable. Projects like Devise have hundreds if not thousands of man-hours behind them and many eyes viewing the code base for flaws. Crappy home rolled auth solutions by companies with <em>Not Invented Here Syndrom</em>  are one of the most common security failures that have lead to user data and passwords being leaked.</p>\n"}, {"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 1, "last_activity_date": 1453893621, "last_edit_date": 1592644375, "creation_date": 1453893621, "answer_id": 35035915, "question_id": 35031967, "link": "https://stackoverflow.com/questions/35031967/authentication-custom-or-third-party/35035915#35035915", "title": "Authentication: Custom or Third Party", "body": "<p>To add context to <code>@max</code>'s answer, OmniAuth is an extraction of <a href=\"http://oauth.net\" rel=\"nofollow noreferrer\">OAuth (Open Authorization)</a>...</p>\n<blockquote>\n<p>OAuth is a simple way to publish and interact with protected data. It's also a safer and more secure way for people to give you access. We've kept it simple to save you time.</p>\n</blockquote>\n<p>Whenever you have a <em>trusted</em> service such as <code>Facebook</code>, <code>Twitter</code>, <code>LinkedIn</code>, <code>GitHub</code>, <code>NetFlix</code>, etc, and want to use a service <em>in conjunction</em> with your pre-built connectivity on these existing services, you'll need a secure way to &quot;authorize&quot; the use of that data...</p>\n<ul>\n<li>A &quot;CRM&quot; system which allows you to &quot;import&quot; contacts from <code>LinkedIn</code></li>\n<li>A &quot;social sender&quot; system which allows you to send messages to your <code>Facebook</code> friends</li>\n<li>Recommend new movies based on what you recently watched on <code>NetFlix</code></li>\n</ul>\n<hr />\n<p>Most people know <code>OAuth</code> by virtue of the &quot;Allow Access&quot; notification for <code>Facebook</code> etc:</p>\n<p><a href=\"https://i.stack.imgur.com/xjbUG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xjbUG.png\" alt=\"enter image description here\" /></a></p>\n<p>Interpreting this in your own app is simple - do you want to pull data from <code>Facebook</code> / <code>Twitter</code> / <code>LinkedIn</code> / <code>GitHub</code> etc?</p>\n<p><em>Real</em> use of OAuth should be to <em><strong>extend</strong></em> your application.</p>\n<p><a href=\"https://i.stack.imgur.com/vfVTs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vfVTs.png\" alt=\"enter image description here\" /></a></p>\n<p>Most users treat &quot;app requests&quot; for their social network data as an extension of the &quot;social&quot; experience (IE if I allow <code>app</code> access to my <code>FB</code>, I expect it to post to my wall etc).</p>\n<p>Instead of treating it as a way to allow users to sign in with <code>Twitter</code> / <code>Facebook</code> / <code>LinkedIn</code> credentials (which is 100% valid), you should think about the higher-level functionality.</p>\n<p>--</p>\n<h1>Devise != OmniAuth</h1>\n<p>Devise is an <em>authentication</em> system; OAuth is <em>authorization</em>.</p>\n<p><a href=\"https://github.com/intridea/omniauth\" rel=\"nofollow noreferrer\"><code>OmniAuth</code></a> extends <code>OAuth</code> for authentication:</p>\n<blockquote>\n<p>OmniAuth is a library that standardizes multi-provider authentication for web applications.</p>\n</blockquote>\n<p>It replaces <code>email</code>/<code>password</code> with <code>Twitter API key</code>. Thus, whenever creating authentication on your system, you will always need to store <code>User</code> data etc - it's <em>how</em> that data is authenticated which makes the difference.</p>\n<p>In short, <strong>if you want <code>Sign in with Twitter</code> buttons etc, <code>OmniAuth</code> is recommended</strong>. However, to keep your authentication consistent, <a href=\"https://github.com/plataformatec/devise/wiki/OmniAuth:-Overview\" rel=\"nofollow noreferrer\">you'll be best using <code>Devise</code> <em>with</em> OmniAuth</a>.</p>\n<p>--</p>\n<p>Finally, don't roll your own authentication <em>unless</em> you've implemented <code>Devise</code> at least 5 times. All Rails authentication works similarly (uses <a href=\"https://github.com/hassox/warden\" rel=\"nofollow noreferrer\"><code>Warden</code> strategies</a>). It's not going to be worth your time debugging your own system when <code>Devise</code> has 100,000's of users doing the work for you.</p>\n"}], "owner": {"reputation": 47, "user_id": 4730750, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c89c49b58abca9b364724ee9f6bb875a?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patel", "link": "https://stackoverflow.com/users/4730750/ankit-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453897292, "creation_date": 1453882635, "question_id": 35031967, "link": "https://stackoverflow.com/questions/35031967/authentication-custom-or-third-party", "title": "Authentication: Custom or Third Party", "body": "<p>I'm creating an app in Ruby on Rails and have research Devise, Omniauth, and creating my own custom version.</p>\n\n<p>My question is: what are the scenarios in which you would use one of the three choices above?</p>\n\n<p>My take:\n- Omniauth can provide quick registration through third party APIs, but would require additional permissions to access additional data\n- Devise provides core functionality which can also be customized based on the applications needs\n- Custom may be for extreme scenarios which, currently, I do not need</p>\n\n<p>** I'm leaning towards Devise as it provides the core and allows me to add onto that</p>\n\n<p>Additional Considerations:\n- My application needs to sign in and access basic information for: location, language I18n, etc\n- My application also does financial transactions (if you're a paid member, et al).</p>\n\n<p>Going back to my question: based on the above, does Devise seem to be the better choice? Does Omniauth provide these features? When should I use one versus the other?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby", "openssl", "ubuntu-14.04", "rbenv"], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 5751058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c62cf4047fd1775b82da29a6198e190?s=128&d=identicon&r=PG", "display_name": "tryHendri", "link": "https://stackoverflow.com/users/5751058/tryhendri"}, "edited": false, "score": 1, "creation_date": 1453950372, "post_id": 35043361, "comment_id": 57828450, "body": "Thank for your answer, I am using rbenv,  otherwise I have fix this problem."}], "tags": [], "owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "is_accepted": false, "score": 1, "last_activity_date": 1453913547, "creation_date": 1453913547, "answer_id": 35043361, "question_id": 35031850, "link": "https://stackoverflow.com/questions/35031850/rbenv-build-failed-when-install-ruby-2-2-3-on-ubuntu-14-04-x86-64/35043361#35043361", "title": "rbenv : BUILD FAILED when Install Ruby 2.2.3 on UBUNTU 14.04 (x86_64)", "body": "<p>this looks like an openssl problem. The SSL_v3 not defined means that you don't have it or you have an older library.</p>\n\n<p>Try:</p>\n\n<pre><code>rvm pkg install openssl\nrvm install 2.2.3 --with-openssl-dir=$HOME/.rvm/usr\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2753, "user_id": 2009612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/VGBK2.jpg?s=128&g=1", "display_name": "FilBot3", "link": "https://stackoverflow.com/users/2009612/filbot3"}, "edited": false, "score": 0, "creation_date": 1457406692, "post_id": 35052140, "comment_id": 59381661, "body": "Hopefully this won&#39;t be needed for 2.3.0"}, {"owner": {"reputation": 307, "user_id": 850223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfd50cf0d0f1ba89a14df200dace4374?s=128&d=identicon&r=PG", "display_name": "Jitendra Pathak", "link": "https://stackoverflow.com/users/850223/jitendra-pathak"}, "edited": false, "score": 0, "creation_date": 1470383869, "post_id": 35052140, "comment_id": 64938637, "body": "Thanks it&#39;s awesome, Working Great !!"}, {"owner": {"reputation": 4340, "user_id": 1069375, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6235a867d68ca47947f2015c2eaf0552?s=128&d=identicon&r=PG", "display_name": "Marcos", "link": "https://stackoverflow.com/users/1069375/marcos"}, "edited": false, "score": 0, "creation_date": 1497881235, "post_id": 35052140, "comment_id": 76251022, "body": "The pipe to rbenv ends up with <code>usage: rbenv install VERSION</code>.  Is there a different way to handle the --patch ?"}], "tags": [], "owner": {"reputation": 146, "user_id": 5751058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c62cf4047fd1775b82da29a6198e190?s=128&d=identicon&r=PG", "display_name": "tryHendri", "link": "https://stackoverflow.com/users/5751058/tryhendri"}, "is_accepted": false, "score": 6, "last_activity_date": 1453950396, "creation_date": 1453950396, "answer_id": 35052140, "question_id": 35031850, "link": "https://stackoverflow.com/questions/35031850/rbenv-build-failed-when-install-ruby-2-2-3-on-ubuntu-14-04-x86-64/35052140#35052140", "title": "rbenv : BUILD FAILED when Install Ruby 2.2.3 on UBUNTU 14.04 (x86_64)", "body": "<p>I have fixed this <em>build failed</em> by patching from <a href=\"https://gist.github.com/mislav/055441129184a1512bb5/\" rel=\"noreferrer\">https://gist.github.com/mislav/055441129184a1512bb5/</a></p>\n\n<p>executed this :</p>\n\n<blockquote>\n  <p>curl -fsSL <a href=\"https://gist.github.com/mislav/055441129184a1512bb5.txt\" rel=\"noreferrer\">https://gist.github.com/mislav/055441129184a1512bb5.txt</a> |\n  rbenv install --patch 2.2.3</p>\n</blockquote>\n"}], "owner": {"reputation": 146, "user_id": 5751058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c62cf4047fd1775b82da29a6198e190?s=128&d=identicon&r=PG", "display_name": "tryHendri", "link": "https://stackoverflow.com/users/5751058/tryhendri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2047, "favorite_count": 4, "answer_count": 2, "score": 2, "last_activity_date": 1453950396, "creation_date": 1453882184, "last_edit_date": 1495540122, "question_id": 35031850, "link": "https://stackoverflow.com/questions/35031850/rbenv-build-failed-when-install-ruby-2-2-3-on-ubuntu-14-04-x86-64", "title": "rbenv : BUILD FAILED when Install Ruby 2.2.3 on UBUNTU 14.04 (x86_64)", "body": "<p>I am trying to install ruby 2.2.3, previously I have installed ruby 2.2.2,</p>\n\n<pre><code>rbenv versions\nsystem  \n* 2.2.2 (set by /home/emen/.ruby-version)\njruby-1.7.20\njruby-9.0.0.0.pre2Build\n</code></pre>\n\n<p>I got a problem when tried to install Ruby 2.2.3, got build failed below :</p>\n\n<pre><code>rbenv install 2.2.3  \nDownloading ruby-2.2.3.tar.bz2...\n-&gt; https://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.3.tar.bz2 Installing ruby-2.2.3...\n\nBUILD FAILED (Ubuntu 14.04 using ruby-build 20160111-27-g06f1254)\n\nInspect or clean up the working tree at /tmp/ruby-build.20160127112741.26444 Results logged to /tmp/ruby-build.20160127112741.26444.log\n</code></pre>\n\n<p>I have inspected log, just  copy a part of suspect since another checking and compiling process were fine :</p>\n\n<pre><code>linking shared-object objspace.so\nmake[2]: Leaving directory `/tmp/ruby-build.20160127112741.26444/ruby-2.2.3/ext/objspace'\ncompiling ossl_ssl.c\nmake[2]: Entering directory `/tmp/ruby-build.20160127112741.26444/ruby-2.2.3/ext/pathname'\ncompiling pathname.c\nossl_ssl.c:141:27: error: \u2018SSLv3_method\u2019 undeclared here (not in a function)\n     OSSL_SSL_METHOD_ENTRY(SSLv3),\n                           ^\nossl_ssl.c:119:69: note: in definition of macro \u2018OSSL_SSL_METHOD_ENTRY\u2019\n #define OSSL_SSL_METHOD_ENTRY(name) { #name, (SSL_METHOD *(*)(void))name##_method }\n                                                                     ^\nossl_ssl.c:142:27: error: \u2018SSLv3_server_method\u2019 undeclared here (not in a function)\n     OSSL_SSL_METHOD_ENTRY(SSLv3_server),\n                           ^\nossl_ssl.c:119:69: note: in definition of macro \u2018OSSL_SSL_METHOD_ENTRY\u2019\n #define OSSL_SSL_METHOD_ENTRY(name) { #name, (SSL_METHOD *(*)(void))name##_method }\n                                                                     ^\nossl_ssl.c:143:27: error: \u2018SSLv3_client_method\u2019 undeclared here (not in a function)\n     OSSL_SSL_METHOD_ENTRY(SSLv3_client),\n                           ^\nossl_ssl.c:119:69: note: in definition of macro \u2018OSSL_SSL_METHOD_ENTRY\u2019\n #define OSSL_SSL_METHOD_ENTRY(name) { #name, (SSL_METHOD *(*)(void))name##_method }\n                                                                     ^\nmake[2]: *** [ossl_ssl.o] Error 1\nmake[2]: Leaving directory `/tmp/ruby-build.20160127112741.26444/ruby-2.2.3/ext/openssl'\nmake[1]: *** [ext/openssl/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\ninstalling default pathname libraries\nlinking shared-object date_core.so\nmake[2]: Leaving directory `/tmp/ruby-build.20160127112741.26444/ruby-2.2.3/ext/date'\nlinking shared-object pathname.so\nmake[2]: Leaving directory `/tmp/ruby-build.20160127112741.26444/ruby-2.2.3/ext/pathname'\nlinking shared-object nkf.so\nmake[2]: Leaving directory `/tmp/ruby-build.20160127112741.26444/ruby-2.2.3/ext/nkf'\nmake[1]: Leaving directory `/tmp/ruby-build.20160127112741.26444/ruby-2.2.3'\nmake: *** [build-ext] Error 2\n</code></pre>\n\n<p>I have tried to follow this \n<a href=\"https://stackoverflow.com/questions/23177652/rbenv-install-ruby-build-failed\">rbenv install ruby BUILD FAILED</a></p>\n\n<p>I have run this :</p>\n\n<blockquote>\n  <p>sudo apt-get install libffi-dev  </p>\n</blockquote>\n\n<p>or </p>\n\n<blockquote>\n  <p>sudo apt-get install git-core curl\n  zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev\n  libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev\n  python-software-properties libffi-dev</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>curl -fsSL <a href=\"https://gist.github.com/ekr1/7313abef4348daa038dd.txt\" rel=\"nofollow noreferrer\">https://gist.github.com/ekr1/7313abef4348daa038dd.txt</a> |\n  rbenv install --patch 2.2.3</p>\n</blockquote>\n\n<p>but still no luck, I might miss something, appreciating your help. Thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453877486, "post_id": 35030414, "comment_id": 57786858, "body": "In the controller you should set <code>@applicants_view</code> to smth like <code>Applicant.where(job_id: posted_jobs_id)</code>. This suggestion won\u2019t work out of the box, since you likely have more complicated model, but the hint should be sufficient enough."}, {"owner": {"reputation": 345, "user_id": 5292071, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d78fea665b9ca7a535bf299a8aa67000?s=128&d=identicon&r=PG&f=1", "display_name": "Fameless", "link": "https://stackoverflow.com/users/5292071/fameless"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453880047, "post_id": 35030414, "comment_id": 57788057, "body": "I mean your thinking is right, if you think deeply will be able to write answer  @mudasobwa"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453880923, "post_id": 35030414, "comment_id": 57788513, "body": "I\u2019m not gonna write an answer, I already provided a valuable hint. Please show us your effort."}, {"owner": {"reputation": 345, "user_id": 5292071, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d78fea665b9ca7a535bf299a8aa67000?s=128&d=identicon&r=PG&f=1", "display_name": "Fameless", "link": "https://stackoverflow.com/users/5292071/fameless"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453881912, "post_id": 35030414, "comment_id": 57788989, "body": "I  have tried like this    @applicants_view = AppliedJob.where(applied_jobs_id:posted_jobs_id) it&#39;s showing the below error   &quot; undefined local variable or method `posted_jobs_id&#39; &quot;"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 3989368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dtd28.png?s=128&g=1", "display_name": "Rahul Kumar Das", "link": "https://stackoverflow.com/users/3989368/rahul-kumar-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1453878020, "creation_date": 1453878020, "answer_id": 35030687, "question_id": 35030414, "link": "https://stackoverflow.com/questions/35030414/how-to-show-applicants-list-according-to-posted-jobs-id-in-ruby-on-rails/35030687#35030687", "title": "How to show applicants list according to posted jobs id in ruby on rails", "body": "<p>In start of your looping section, i.e.</p>\n\n<blockquote>\n  <p>@applicants_view.each do | applicants |</p>\n</blockquote>\n\n<p>it's not very clear what you have taken in <strong>applicants_view</strong> , but you need to modify it such a way that it only filters specific applicants who have viewed or applied for the job.</p>\n\n<p>In backend models also you need to maintain records for job viewers (if you want to show the job viewers only)</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 5292071, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d78fea665b9ca7a535bf299a8aa67000?s=128&d=identicon&r=PG&f=1", "display_name": "Fameless", "link": "https://stackoverflow.com/users/5292071/fameless"}, "is_accepted": true, "score": 0, "last_activity_date": 1453898804, "creation_date": 1453898804, "answer_id": 35037816, "question_id": 35030414, "link": "https://stackoverflow.com/questions/35030414/how-to-show-applicants-list-according-to-posted-jobs-id-in-ruby-on-rails/35037816#35037816", "title": "How to show applicants list according to posted jobs id in ruby on rails", "body": "<p>I solved this question! Want to share with the stack overflow community because it will be helpful for others.</p>\n\n<p>I added in my controller:</p>\n\n<blockquote>\n  <p>@applicants_view = AppliedJob.where(:posted_jobs_id =>\n  params[:posted_jobs_id])</p>\n</blockquote>\n\n<p>My view file is same as question code.</p>\n"}], "owner": {"reputation": 345, "user_id": 5292071, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d78fea665b9ca7a535bf299a8aa67000?s=128&d=identicon&r=PG&f=1", "display_name": "Fameless", "link": "https://stackoverflow.com/users/5292071/fameless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 35037816, "answer_count": 2, "score": -2, "last_activity_date": 1453898804, "creation_date": 1453876878, "question_id": 35030414, "link": "https://stackoverflow.com/questions/35030414/how-to-show-applicants-list-according-to-posted-jobs-id-in-ruby-on-rails", "title": "How to show applicants list according to posted jobs id in ruby on rails", "body": "<p>I am a newbie in ruby on rails it's also my first ruby application.</p>\n\n<p>I applied for a job according to posted_jobs_id as a jobseeker and\napplied successfully.</p>\n\n<p>Now I am a recruiter want to show specific applicants for specific\nposted_jobs_id, but it's showing whole applicants when I click for\nspecific posted_jobs_id anyone can help me, please how can I write a\nlogic or solution for this?</p>\n\n<p>My view file code:</p>\n\n<pre><code>&lt;tbody&gt;\n    &lt;% @applicants_view.each do | applicants | %&gt;\n       &lt;tr&gt;\n          &lt;td&gt;\n            &lt;%= link_to user_path(:jobseeker_id =&gt;applicants.jobseeker_id) %&gt;\n            &lt;%= applicants.jobseeker.try(:first_name) %&gt;\n         &lt;/td&gt;\n         &lt;td&gt;\n           &lt;%= applicants.jobseeker.try(:year_of_experience) %&gt;\n         &lt;/td&gt;\n\n         &lt;td&gt;\n          &lt;%= applicants.expected_salary %&gt;\n        &lt;/td&gt;\n\n      &lt;/tr&gt;\n    &lt;% end %&gt;\n &lt;/tbody&gt;\n</code></pre>\n\n<p>Thanks in Advanced for all!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "gmail-api", "openstruct"], "comments": [{"owner": {"reputation": 21, "user_id": 5757010, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b6627dabec04b90ff63ed74ca9258a70?s=128&d=identicon&r=PG&f=1", "display_name": "AJinkya", "link": "https://stackoverflow.com/users/5757010/ajinkya"}, "edited": false, "score": 0, "creation_date": 1453876412, "post_id": 35030286, "comment_id": 57786457, "body": "can any one suggest me some solution that how could I pass a connection to sidekiq ?"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1453879687, "post_id": 35030286, "comment_id": 57787871, "body": "I would be surprised if an open connection from a web server to an external service which will be stored serialized in Redis would still work when it is de-serialized on the worker machine. I would at least expect that the connection is not working anymore or was closed, because it was interrupted, non existing in memory for some time and perhaps even moved to a different server. Why do you try to avoid creating the connection in the worker?"}], "answers": [{"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453877662, "post_id": 35030547, "comment_id": 57786921, "body": "As a third alternative, Sidekiq job might call back the method, closing the connection after the job is done. <i>Sidenote</i>: please, mention in the answer that the parameter passed as expected, not as a <code>String</code>, it\u2019s only displayed as a string."}], "tags": [], "owner": {"reputation": 161, "user_id": 4621307, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fxBMlFTpnAY/AAAAAAAAAAI/AAAAAAAABQU/eiZT3Th4r1I/photo.jpg?sz=128", "display_name": "Nick Aschenbach", "link": "https://stackoverflow.com/users/4621307/nick-aschenbach"}, "is_accepted": true, "score": 3, "last_activity_date": 1453877444, "creation_date": 1453877444, "answer_id": 35030547, "question_id": 35030286, "link": "https://stackoverflow.com/questions/35030286/pass-gmail-connection-to-sidekiq/35030547#35030547", "title": "Pass Gmail Connection to sidekiq", "body": "<p>There are a couple of issues. I do not think the code above will work as you intend. The SidekiqWork is run asynchronously with the rest of the code. It looks like your code might be subject to a race condition. You cannot control if the worker code runs before or after the <code>gmail.logout()</code> call.</p>\n\n<p>In addition, it's generally not considered a best practice to pass an object as an argument to a Sidekiq job. See the <a href=\"https://github.com/mperham/sidekiq/wiki/Best-Practices\" rel=\"nofollow\">Sidekiq Best Practices</a>. Instead, I might consider making the gmail connection from within the Sidekiq job.</p>\n\n<p>As an alternative, you might consider using a class method in a lib class that stores an instance of the gmail client. You can memoize this connection like the following:</p>\n\n<pre><code> class GmailClient\n   def self.connection\n     @client ||= Gmail.connect(\"testemail@gmail.com\", \"password\")\n   end\n end\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5757010, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b6627dabec04b90ff63ed74ca9258a70?s=128&d=identicon&r=PG&f=1", "display_name": "AJinkya", "link": "https://stackoverflow.com/users/5757010/ajinkya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 35030547, "answer_count": 1, "score": 1, "last_activity_date": 1453877444, "creation_date": 1453876343, "last_edit_date": 1453876493, "question_id": 35030286, "link": "https://stackoverflow.com/questions/35030286/pass-gmail-connection-to-sidekiq", "title": "Pass Gmail Connection to sidekiq", "body": "<pre><code>require gmail\ngmail = Gmail.connect(\"testemail@gmail.com\", \"password\")\nSidekiqWorker.perform_async(gmail, item.user_id)\ngmail.logout()\n</code></pre>\n\n<p>I want to pass a object to sidekiq,It is a gmail client object,And I don't want to create that object in perform method ,so I am passing and its going in string format , I am taking the help of open struct to pass it,\nBut its going in string format.</p>\n\n<pre><code>#OpenStruct gmail=#Gmail::Client0xbe18230 (abcd@gmail.com) connected&gt;&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "edited": false, "score": 0, "creation_date": 1453871923, "post_id": 35029347, "comment_id": 57784820, "body": "On your screenshot, you are calling <code>update</code> action not <code>show</code>. Can you show your <code>show.html.erb</code> as well?"}, {"owner": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453872100, "post_id": 35029347, "comment_id": 57784873, "body": "sorry, it is new&amp;create method failed not show"}, {"owner": {"reputation": 980, "user_id": 338536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6Kl4s.jpg?s=128&g=1", "display_name": "miligraf", "link": "https://stackoverflow.com/users/338536/miligraf"}, "edited": false, "score": 0, "creation_date": 1453872912, "post_id": 35029347, "comment_id": 57785132, "body": "@ThugForever try removing <code>url: {:action =&gt; &quot;update&quot;}</code> Rails is smart enough to know if it should do a POST (create) or a PUT (update)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "edited": false, "score": 0, "creation_date": 1453873026, "post_id": 35029347, "comment_id": 57785173, "body": "Are you using <code>_form.html.erb</code> for <code>new</code>? If you use the same <code>_form.html.erb</code> for <code>new</code> and <code>update</code>, please see my answer below."}, {"owner": {"reputation": 1874, "user_id": 347698, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/97a603e8b378256cd3f706912dbfd031?s=128&d=identicon&r=PG", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/347698/chaitanya"}, "edited": false, "score": 0, "creation_date": 1453873074, "post_id": 35029347, "comment_id": 57785187, "body": "just use = form_for @input do |person| in new form"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "reply_to_user": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453873683, "post_id": 35029636, "comment_id": 57785426, "body": "What does it says when i failed?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "reply_to_user": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453874099, "post_id": 35029636, "comment_id": 57785586, "body": "Add <code>resources :people</code> on your routes.rb. I updated my answer above."}, {"owner": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453874398, "post_id": 35029636, "comment_id": 57785708, "body": "Yeah it kind of work for new test but still wrong for update approach"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "reply_to_user": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453874605, "post_id": 35029636, "comment_id": 57785780, "body": "How do you say that it is wrong for update approach? You are using RESTful. Follow and try the following tutorial found on this link so you could understand <a href=\"http://guides.rubyonrails.org/getting_started.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/getting_started.html</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "reply_to_user": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453875156, "post_id": 35029636, "comment_id": 57785969, "body": "I updated my answer for your third screenshot. I don&#39;t think you know the basics for  developing Ruby on Rails. Could you start and following all of tutorials from rails? This is it: <a href=\"http://guides.rubyonrails.org/\" rel=\"nofollow noreferrer\">guides.rubyonrails.org</a>"}, {"owner": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453875350, "post_id": 35029636, "comment_id": 57786051, "body": "Ok thanks for your help, but I have one last question, for the resources, I should include for view: home and database:people? I am kind of confused why you add resource:people"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "reply_to_user": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "edited": false, "score": 0, "creation_date": 1453876058, "post_id": 35029636, "comment_id": 57786320, "body": "I add <code>resources :people</code> because you are using <code>People</code> model. <code>resources</code> is for RESTful routing. All Model if you add it on your routing, you should write it as plural."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5245636"}, "is_accepted": false, "score": 1, "last_activity_date": 1453874917, "last_edit_date": 1453874917, "creation_date": 1453873147, "answer_id": 35029636, "question_id": 35029347, "link": "https://stackoverflow.com/questions/35029347/ruby-on-rails-new-method-failed-not-show/35029636#35029636", "title": "ruby on rails new method failed not show", "body": "<p>If you use the same <code>_form.html.erb</code> for <code>new</code> and <code>edit</code>, you should do this in your <code>_form.html.erb</code>:</p>\n\n<p><code>&lt;%= form_for @input do |person| %&gt;</code></p>\n\n<p>Not:</p>\n\n<p><code>&lt;%= form_for @input, url: {:action =&gt; \"update\"} do |person| %&gt;</code></p>\n\n<p>You don't need to add <code>url: {:action =&gt; \"update\"}</code> because you use RESTful or the <code>resources</code> in your <code>routes.rb</code>.</p>\n\n<p>On your second screenshot, it seems that you don't have <code>resources :people</code>. </p>\n\n<p>Based on your post <code>routes.rb</code>:</p>\n\n<pre><code>resources:home\nroot 'home#index'\n</code></pre>\n\n<p>You don't have: <code>resources :people</code>. Add the following on your routes:</p>\n\n<p><code>resources :people</code></p>\n\n<p>On your third screenshot, notice that you dont have an space for <code>resources :home</code></p>\n\n<p>Do this on your <code>routes.rb</code>:</p>\n\n<pre><code>resources :home\nresources :people\nroot 'home#index'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": true, "score": 0, "last_activity_date": 1453895795, "creation_date": 1453895795, "answer_id": 35036733, "question_id": 35029347, "link": "https://stackoverflow.com/questions/35029347/ruby-on-rails-new-method-failed-not-show/35036733#35036733", "title": "ruby on rails new method failed not show", "body": "<p>To add to <code>OJ1987</code>'s answer...</p>\n\n<hr>\n\n<p>Your issue is that <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-form_for-label-Resource-oriented+style\" rel=\"nofollow\"><code>form_for</code></a> automatically pulls the url from the passed object. In your case, it will expect <code>people_path</code>:</p>\n\n<pre><code>&lt;%= form_for @person do |f| %&gt;\n</code></pre>\n\n<p>... is the equivalent of ...</p>\n\n<pre><code>&lt;%= form_for @person, as: :person, url: people_path(@person), method: :patch, html: { class: \"edit_person\", id: \"edit_person_45\" } do |f| %&gt;\n</code></pre>\n\n<p>Thus, when you're using the <code>resources :home</code> directive, you're going to end up with <a href=\"https://en.wikipedia.org/wiki/Convention_over_configuration\" rel=\"nofollow\">configuration</a> problems.</p>\n\n<p>--</p>\n\n<p>The solution is to put your <code>@person</code> functionality in a <code>PeopleController</code>:</p>\n\n<pre><code>#config/routes.rb\nresources :people #-&gt; url.com/people/new\n\n#app/views/people/_form.html.erb\n&lt;%= form_for @person do |f| %&gt;\n</code></pre>\n\n<p>You should <a href=\"http://guides.rubyonrails.org/routing.html#resource-routing-the-rails-default\" rel=\"nofollow\">read about <code>resourceful</code> routing</a>.</p>\n\n<hr>\n\n<p>To get this working with some \"static\" pages (as it seems you're trying to with your <code>Home</code> controller):</p>\n\n<pre><code>#config/routes.rb\nresources :people\nroot \"application#index\"\n\n#app/controllers/application_controller.rb\nclass ApplicationController &lt; ActionController::Base\n   def home\n     #app/views/application/home.html.erb\n   end\nend\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 35036733, "answer_count": 2, "score": 1, "last_activity_date": 1453895795, "creation_date": 1453871564, "last_edit_date": 1453874456, "question_id": 35029347, "link": "https://stackoverflow.com/questions/35029347/ruby-on-rails-new-method-failed-not-show", "title": "ruby on rails new method failed not show", "body": "<p>below is my code, but my problem is in my _form.html.erb, when i use the form_for method for one of my method update, it works, but when i want to create a new data, it failed.</p>\n\n<p>home controller</p>\n\n<pre><code>class HomeController &lt; ApplicationController\n  def index\n    @inputs = Person.all\n  end\n\n  def new\n    @input = Person.new\n  end\n\n  def create\n    @input = Person.new(input_params)\n    respond_to do |x|\n    if @input.save\n        x.html {redirect_to :action =&gt; 'index'}\n    else\n        x.html {render :action =&gt; 'new'}\n    end\n   end\n  end\n\n  def show\n    @input = Person.find(params[:id])\n  end\n\n  def edit\n    @input = Person.find(params[:id])\n  end\n\n  def update\n    @input = Person.find(params[:id])\n    respond_to do |x|\n      if @input.update(input_params)\n        x.html {redirect_to :action =&gt; 'index'}\n      else\n        x.html {render :edit}\n      end\n    end\n  end\n\n  def destroy\n    @input = Person.find(params[:id])\n    @input.destroy\n    respond_to do |x|\n      x.html {redirect_to :action =&gt; 'index', notice: 'data was delete successfully'}\n    end\n  end\n\n  private\n\n  def input_params\n    params.require(:person).permit(:name, :weight, :height, :color, :age)\n  end\nend\n</code></pre>\n\n<p>_form.html.erb</p>\n\n<pre><code>&lt;%= form_for @input, url: {:action =&gt; \"update\"} do |person| %&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :name %&gt;&lt;br&gt;\n    &lt;%= person.text_field :name %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :weight %&gt;&lt;br&gt;\n    &lt;%= person.number_field :weight %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :height %&gt;&lt;br&gt;\n    &lt;%= person.number_field :height %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :color %&gt;&lt;br&gt;\n    &lt;%= person.text_field :color %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :age %&gt;&lt;br&gt;\n    &lt;%= person.number_field :age %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"actions\"&gt;\n    &lt;%= person.submit %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>routes.rb</p>\n\n<pre><code>resources:home\nroot 'home#index'\n</code></pre>\n\n<p>index.html.erb:</p>\n\n<pre><code>&lt;p id=\"notice\"&gt;&lt;%= notice %&gt;&lt;/p&gt;\n&lt;h1&gt;Listing&lt;/h1&gt;\n\n&lt;table&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt; Weight&lt;/th&gt;\n            &lt;th&gt; Height&lt;/th&gt;\n            &lt;th&gt; Color&lt;/th&gt;\n            &lt;th&gt; Age&lt;/th&gt;\n            &lt;th colspan=\"4\"&gt;&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;% @inputs.each do |person| %&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;%= person.name %&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= person.weight %&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= person.height %&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= person.color %&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= person.age %&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= link_to 'Show',home_path(person.id) %&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= link_to 'Edit', edit_home_path(person.id) %&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= link_to 'Destroy', home_path(person.id), method: :delete, data: {action: 'are you sure?'} %&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;% end %&gt;\n     &lt;/tbody&gt;\n &lt;/table&gt;\n &lt;br&gt;\n &lt;%= link_to 'New Test', new_home_path %&gt;\n</code></pre>\n\n<p>and lastly a screenshot of what the error is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WMaN1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WMaN1.png\" alt=\"this is happening when i click on &#39;New Test&#39;\"></a></p>\n\n<p>It has no problem when i click on 'Edit' and the 'Update'</p>\n\n<p>New update, after removing url{action: 'update'}\nthis problem comes up\n<a href=\"https://i.stack.imgur.com/AKmS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AKmS5.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ijm7R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ijm7R.jpg\" alt=\"having resources: home and resources:people altogether\"></a></p>\n"}, {"tags": ["ruby", "class", "subclass"], "comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453871921, "post_id": 35029319, "comment_id": 57784819, "body": "<code>Subclass A</code> is not valid class name, you can&#39;t have spaces in class names or any variable/constant names."}, {"owner": {"reputation": 229, "user_id": 5602107, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10207659293467674/picture?type=large", "display_name": "Andrea McKenzie", "link": "https://stackoverflow.com/users/5602107/andrea-mckenzie"}, "edited": false, "score": 0, "creation_date": 1453872059, "post_id": 35029319, "comment_id": 57784860, "body": "I edited it. I was changing the names and I just messed that part up. My other program just has it as a capitalized one word."}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453872198, "post_id": 35029319, "comment_id": 57784905, "body": "Please use some other name than <code>Class</code> as Ruby already has a <code>Class</code> class of which all classes are object of.  If still face an issue, post an updated question."}, {"owner": {"reputation": 229, "user_id": 5602107, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10207659293467674/picture?type=large", "display_name": "Andrea McKenzie", "link": "https://stackoverflow.com/users/5602107/andrea-mckenzie"}, "edited": false, "score": 0, "creation_date": 1453872405, "post_id": 35029319, "comment_id": 57784969, "body": "I think I should just rewrite the question, hold on. The actual question has me devising a class Temperature, but I don&#39;t want t post that solution online so I just changed the names of everything. The subclasses are Celsius and Fahrenheit."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453873638, "post_id": 35029319, "comment_id": 57785410, "body": "You shouldn&#39;t nest a class inside another class. You can do it, but there&#39;s almost never a good reason to. Also, calling <code>self.new</code> inside <code>initialize</code> will fail because <code>new</code> is a class method, but inside <code>initialize</code> <code>self</code> is an instance, not the class. Use <code>super</code>. If you&#39;re getting an error, edit your question to include the exact error message and stack trace."}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 5602107, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10207659293467674/picture?type=large", "display_name": "Andrea McKenzie", "link": "https://stackoverflow.com/users/5602107/andrea-mckenzie"}, "edited": false, "score": 0, "creation_date": 1453873218, "post_id": 35029510, "comment_id": 57785253, "body": "Tried that. :/ <code>super(:a =&gt; var)</code> threw up a bunch of errors and <code>super(a: =&gt; var)</code> gives me the uninitialized constant NameError"}, {"owner": {"reputation": 229, "user_id": 5602107, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10207659293467674/picture?type=large", "display_name": "Andrea McKenzie", "link": "https://stackoverflow.com/users/5602107/andrea-mckenzie"}, "edited": false, "score": 0, "creation_date": 1453873297, "post_id": 35029510, "comment_id": 57785281, "body": "So wait, if I try to initialize the subclasses outside of the main class, will that work?"}, {"owner": {"reputation": 3630, "user_id": 4799659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153200714295120/picture?type=large", "display_name": "fylooi", "link": "https://stackoverflow.com/users/4799659/fylooi"}, "reply_to_user": {"reputation": 229, "user_id": 5602107, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10207659293467674/picture?type=large", "display_name": "Andrea McKenzie", "link": "https://stackoverflow.com/users/5602107/andrea-mckenzie"}, "edited": false, "score": 0, "creation_date": 1453873366, "post_id": 35029510, "comment_id": 57785293, "body": "@SiouxsieAsylum Yes, then you can call it without namespacing"}, {"owner": {"reputation": 229, "user_id": 5602107, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10207659293467674/picture?type=large", "display_name": "Andrea McKenzie", "link": "https://stackoverflow.com/users/5602107/andrea-mckenzie"}, "edited": false, "score": 0, "creation_date": 1453873506, "post_id": 35029510, "comment_id": 57785352, "body": "GOT IT!! Thanks guys!!"}], "tags": [], "owner": {"reputation": 3630, "user_id": 4799659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153200714295120/picture?type=large", "display_name": "fylooi", "link": "https://stackoverflow.com/users/4799659/fylooi"}, "is_accepted": true, "score": 2, "last_activity_date": 1453872723, "last_edit_date": 1453872723, "creation_date": 1453872411, "answer_id": 35029510, "question_id": 35029319, "link": "https://stackoverflow.com/questions/35029319/why-does-my-subclass-keep-saying-its-not-initialized/35029510#35029510", "title": "Why does my subclass keep saying it&#39;s not initialized?", "body": "<p>You need to call <code>super</code> with arguments to invoke the base class's <code>initialize</code> method.</p>\n\n<pre><code>  class Cherry &lt; Red\n    def initialize(var)\n      super(:a =&gt; var)\n    end\n  end\n</code></pre>\n\n<p>Additionally, your subclasses are namespaced inside the main class. You need to invoke them with the namespace.</p>\n\n<p><code>Red::Cherry.new(something: \"here\")</code></p>\n"}, {"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 0, "last_activity_date": 1453884869, "creation_date": 1453884869, "answer_id": 35032681, "question_id": 35029319, "link": "https://stackoverflow.com/questions/35029319/why-does-my-subclass-keep-saying-its-not-initialized/35032681#35032681", "title": "Why does my subclass keep saying it&#39;s not initialized?", "body": "<blockquote>\n  <p>Why do I keep getting a <code>NameError</code> saying that <code>Subclass_A</code> is an uninitialized constant?</p>\n</blockquote>\n\n<p>Simple: there is no <code>Subclass_A</code> in your code.</p>\n"}], "owner": {"reputation": 229, "user_id": 5602107, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10207659293467674/picture?type=large", "display_name": "Andrea McKenzie", "link": "https://stackoverflow.com/users/5602107/andrea-mckenzie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 35029510, "answer_count": 2, "score": -1, "last_activity_date": 1453890068, "creation_date": 1453871416, "last_edit_date": 1453890068, "question_id": 35029319, "link": "https://stackoverflow.com/questions/35029319/why-does-my-subclass-keep-saying-its-not-initialized", "title": "Why does my subclass keep saying it&#39;s not initialized?", "body": "<p>Why do I keep getting a NameError saying that <code>Cherry</code> is an uninitialized constant when I call <code>Cherry.new</code>? I'm not yet versed in creating subclasses yet. </p>\n\n<pre><code>class Red\n  def initialize(options = {})\n    @options = options\n  end\n\n  def instance_method_a\n    return @options[:a] if @options.has_key?(:a)\n    if @options.has_key?(:b)\n      #mathy code\n    end\n  end\n\n  def instance_method_b\n    return @options[:b] if @options.has_key?(:b)\n    if @options.has_key?(:a)\n      #mathy code\n    end\n  end\n\n  class Cherry &lt; Red\n    def initialize(var)\n      self.new(:a =&gt; var)\n    end\n  end\n\n  class Vermillion &lt; Red\n    def initialize(var)\n      self.new(:b =&gt; var)\n    end\n  end\nend\n</code></pre>\n\n<p>I'm sure that <code>Vermillion</code> is going to be just as uninitialized. I need to be able to assign variables to those subclasses to run them through the instance method. How can I get these to work?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 5844894, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edd291f84ba94b3f7353fd951c7eb976?s=128&d=identicon&r=PG&f=1", "display_name": "user568949", "link": "https://stackoverflow.com/users/5844894/user568949"}, "is_accepted": false, "score": 0, "last_activity_date": 1454129853, "last_edit_date": 1454129853, "creation_date": 1454129424, "answer_id": 35098117, "question_id": 35029196, "link": "https://stackoverflow.com/questions/35029196/ruby-on-rails-tutorial-test-reset-password/35098117#35098117", "title": "Ruby on Rails Tutorial - test, reset password", "body": "<p>I asked a source - author of the book, Michael Hartl :)</p>\n\n<p>His answer: \"It's been a while since I looked at that code, but I think what's going on is that <code>@user</code> has a <code>reset_digest</code> but not a <code>reset_token</code>. The <code>post</code> to the password resets path changes the <code>@user</code> variable in the <code>create</code> method, but that's not the same variable as the one in the test. That's why the call to <code>assigns</code> is necessary: the <code>@user</code> in the test doesn't have the virtual <code>reset_token</code> attribute, but the one in the controller does.\"</p>\n\n<p>To be honest, I still don't get it - why reset_digest of test variable \"@user\" changes, if it's not the variable which is influenced by create action?</p>\n"}], "owner": {"reputation": 35, "user_id": 5844894, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edd291f84ba94b3f7353fd951c7eb976?s=128&d=identicon&r=PG&f=1", "display_name": "user568949", "link": "https://stackoverflow.com/users/5844894/user568949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 446, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1454129853, "creation_date": 1453870581, "last_edit_date": 1454087817, "question_id": 35029196, "link": "https://stackoverflow.com/questions/35029196/ruby-on-rails-tutorial-test-reset-password", "title": "Ruby on Rails Tutorial - test, reset password", "body": "<p>I have problem with understanding one code in Michael Hartl's tutorial.</p>\n\n<p>In <code>PasswordResetsTest</code> class, in test <code>password resets</code> we took our user from fixtures, we posted to <code>password_resets_path</code> with right mail and we asserted that <code>@user.reset_digest</code> doesn't equal <code>@user.reload.reset_digest</code>.<br>\nLater, Michael said we need to use assigns method to be able to patch to <code>password_reset_path</code>. He said it's because our user from fixtures doesn't have <code>reset_token</code>, because it is created only in create_reset_digest method.<br>\nI understand it, but I don't get one thing - why <code>assert_not_equal</code> with pre- and post- reload user's <code>reset_digest</code> passes?<br>\nI thought it goes like this: <code>reset_digest</code> is <code>nil</code> at first, we post to <code>password_resets_path</code>, which is create action of <code>PasswordResetsController</code>; in this action we have <code>create_reset_digest</code> method. <code>reset_digest</code> isn't nil anymore, we reload it and our assert_not_equal passes.</p>\n\n<p>But if so, <code>@user</code> from fixtures should also have <code>reset_token</code> now (if its <code>reset_digest</code> was influenced by create action (specifically <code>create_reset_digest</code> method). </p>\n\n<p>Can someone please take a look? :)</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>require 'test_helper'\n\nclass PasswordResetsTest &lt; ActionDispatch::IntegrationTest\n\n    def setup\n        ActionMailer::Base.deliveries.clear\n        @user = users(:michael)\n        end\n\n        test \"password resets\" do\n            get new_password_reset_path\n            assert_template 'password_resets/new'\n            # Invalid email\n            post password_resets_path, password_reset: { email: \"\" }\n            assert_not flash.empty?\n            assert_template 'password_resets/new'\n            # Valid email\n            post password_resets_path, password_reset: { email: @user.email }\n            assert_not_equal @user.reset_digest, @user.reload.reset_digest\n            assert_equal 1, ActionMailer::Base.deliveries.size\n            assert_not flash.empty?\n            assert_redirected_to root_url\n            # Password reset form\n            user = assigns(:user)\n            # Valid password &amp; confirmation\n            patch password_reset_path(user.reset_token),\n            email: user.email,\n            user: {\n                password: \"foobaz\",\n                password_confirmation: \"foobaz\"\n            }\n        end\n    end\n\n    def create_reset_digest\n        self.reset_token = User.new_token\n        #creating reset_digest\n    end    \n\n    def create\n        @user = User.find_by(email: params[:password_reset][:email].downcase)\n        if @user\n            @user.create_reset_digest\n\n        # ...\n    end\nend\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1453870566, "post_id": 35028955, "comment_id": 57784440, "body": "As an aside, in regular expressions <code>[\\d]</code> is the same as <code>\\d</code> and <code>[+-\\&#47;\\*]{1}</code> is the same as <code>[+-\\&#47;*]</code>, so your expression can be simplified to <code>&#47;^\\d+[+-\\&#47;*]\\d+&#47;</code>."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453878377, "post_id": 35028955, "comment_id": 57787224, "body": "You should avoid <code>eval</code>. Instead, you could use <code>&#47;^(\\d+)\\+(\\d+)$&#47;</code> and calculate the result via <code>$1.to_i + $2.to_i</code>. Same for subtraction, multiplication and division."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453879125, "post_id": 35028955, "comment_id": 57787578, "body": "@Stefan: if it&#39;s static data - why not?"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1453880820, "post_id": 35028955, "comment_id": 57788459, "body": "@SergioTulentsev that&#39;s a crucial &quot;if&quot;. I just see little to no reason to use potentially dangerous methods when safer alternatives exist."}], "answers": [{"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1453876847, "post_id": 35029009, "comment_id": 57786609, "body": "Consider using <code>String#scan</code> instead of <code>match</code> to avoid check for <code>nil</code>. The former always returns an array, possibly empty."}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "edited": false, "score": 0, "creation_date": 1454026162, "post_id": 35029009, "comment_id": 57872091, "body": "Thanks for the simplified code, and the detailed explanation!"}], "tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": true, "score": 3, "last_activity_date": 1453871694, "last_edit_date": 1453871694, "creation_date": 1453869556, "answer_id": 35029009, "question_id": 35028955, "link": "https://stackoverflow.com/questions/35028955/eval-returns-string-instead-of-value/35029009#35029009", "title": "eval returns string instead of value", "body": "<p><code>s = matches.to_a</code> is an array <code>[\"12+2\"]</code>, the <code>eval(s.to_s)</code> will return the array <code>[\"12+2\"]</code>, and when you print it, you will get the output <code>12+2</code>, a string representation of the array <code>[\"12+2\"]</code>.</p>\n\n<p>You should be <code>eval</code>ing the element of the array, in this case, <code>s[0]</code> or <code>s.first</code>.</p>\n\n<p>Fix it like this:</p>\n\n<pre><code>perms=[\"12+2\",\"22\",\"-2+\"]\nperms.each do |line|\n    matches=/^[\\d]+[+-\\/\\*]{1}[\\d]+$/.match(line)\n    if matches\n        s = matches.to_a\n        puts eval(s.first)\n    end\nend\n</code></pre>\n\n<p><code>matches</code> can be <code>nil</code> if there was no match.  Use <code>eval</code> only if its not <code>nil</code> by checking <code>if matches</code></p>\n\n<hr>\n\n<p>You could further simplify the code and write something like this:</p>\n\n<pre><code>perms=[\"12+2\",\"22\",\"-2+\"]\nperms.each do |line|\n    puts eval(line) if line =~ /^[\\d]+[+-\\/\\*]{1}[\\d]+$/\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1453877060, "creation_date": 1453877060, "answer_id": 35030462, "question_id": 35028955, "link": "https://stackoverflow.com/questions/35028955/eval-returns-string-instead-of-value/35030462#35030462", "title": "eval returns string instead of value", "body": "<p>Instead of iterating through inputs, one might directly map them to outputs:</p>\n\n<pre><code>perms.map do |p|                      # map inputs to outputs\n  eval(p) if p =~ /\\A\\d+[+-\\/*]\\d+\\z/ # return eval\u2019ed or nil\nend.compact                           # get rid of nils\n\n#\u21d2 [14]\n</code></pre>\n"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 35029009, "answer_count": 2, "score": 0, "last_activity_date": 1453877060, "creation_date": 1453869267, "question_id": 35028955, "link": "https://stackoverflow.com/questions/35028955/eval-returns-string-instead-of-value", "title": "eval returns string instead of value", "body": "<p>Can someone explain why eval is returning the string, rather than the result of the expression? </p>\n\n<pre><code>perms=[\"12+2\",\"22\",\"-2+\"]\nperms.each { |line|\nmatches=/^[\\d]+[+-\\/\\*]{1}[\\d]+$/.match(line)\ns=matches.to_a\nputs s\nputs eval(s.to_s)\n} \n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1453866848, "post_id": 35028519, "comment_id": 57783379, "body": "To simplify, wrap in <code>loop do ...</code> with <code>case gets.chomp</code>. You already <code>break</code> out of the loop."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5540494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a570b57a4974ca8c129d1739d785dc?s=128&d=identicon&r=PG&f=1", "display_name": "garfield_digital", "link": "https://stackoverflow.com/users/5540494/garfield-digital"}, "edited": false, "score": 0, "creation_date": 1453943963, "post_id": 35028585, "comment_id": 57826677, "body": "Thank you very much sjagr, this was very helpful and simple!  Greatly appreciate your time and expertise!"}], "tags": [], "owner": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "is_accepted": false, "score": 0, "last_activity_date": 1453866840, "creation_date": 1453866840, "answer_id": 35028585, "question_id": 35028519, "link": "https://stackoverflow.com/questions/35028519/how-to-tell-the-user-the-number-of-correct-answers-in-a-quiz/35028585#35028585", "title": "How to tell the user the number of correct answers in a quiz", "body": "<p>Start by declaring two variables at the top of your code:</p>\n\n<pre><code>correct = 0\nincorrect = 0\n</code></pre>\n\n<p>Then for each switch statement, add <code>correct += 1</code> and <code>incorrect += 1</code> to the respective <code>when</code> sections.</p>\n\n<p>By the end of your code you should be able to output:</p>\n\n<pre><code>puts \"You got #{correct} answers correct and #{incorrect} answers wrong.\"\n</code></pre>\n\n<p>Variable assignments and string interpolations are very simple. I recommend you <a href=\"http://ruby-doc.org/\" rel=\"nofollow\">go here</a> and follow the links under \"Getting Started\".</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 5540494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a570b57a4974ca8c129d1739d785dc?s=128&d=identicon&r=PG&f=1", "display_name": "garfield_digital", "link": "https://stackoverflow.com/users/5540494/garfield-digital"}, "edited": false, "score": 0, "creation_date": 1453943902, "post_id": 35028595, "comment_id": 57826666, "body": "Thank you very much Wand Maker!  I need to study this a bit but looks like I will learn some new things from your advice.  Thank you for your time and expertise!"}], "tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": false, "score": 0, "last_activity_date": 1453868233, "last_edit_date": 1453868233, "creation_date": 1453866894, "answer_id": 35028595, "question_id": 35028519, "link": "https://stackoverflow.com/questions/35028519/how-to-tell-the-user-the-number-of-correct-answers-in-a-quiz/35028595#35028595", "title": "How to tell the user the number of correct answers in a quiz", "body": "<p>You could put your questions in an array so that you can remove the duplicate code of asking user response, and in the process keep counters of right and wrong answers.  Here is one way to do that:</p>\n\n<pre><code>prompt = \"&gt; \"\n\nquiz = [\n    {q: \"Is the Earth round?\", a: \"yes\"},\n    {q: \"Is Pluto close to the sun?\", a: \"yes\"}\n]\n\nresult = {:right =&gt; 0, :wrong =&gt; 0}\n\nputs \"Planet Pop Quiz:\"\n\nquiz.each.with_index do |h, i|\n    puts \"Q#{i+1}: #{h[:q]}\"\n    print prompt\n\n    while user_input = gets.chomp\n        case user_input\n            when \"yes\", \"no\"\n                if user_input == h[:a]\n                    puts \"Correct!\" \n                    result[:right] += 1\n                else\n                    puts \"Wrong!\"\n                    result[:wrong] += 1\n                end\n                break;\n            else\n                puts \"Please answer either yes or no\"\n                print prompt \n        end\n    end\nend\n\nprint \"You answered #{result[:right]} questions correctly out of #{questions.size} questions\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 5540494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a570b57a4974ca8c129d1739d785dc?s=128&d=identicon&r=PG&f=1", "display_name": "garfield_digital", "link": "https://stackoverflow.com/users/5540494/garfield-digital"}, "edited": false, "score": 0, "creation_date": 1453943804, "post_id": 35028669, "comment_id": 57826640, "body": "Thank  you tadman!  This is very helpful information, I need to do my homework and practice a bit more.  Thank you for your time and expertise!"}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 0, "last_activity_date": 1453867335, "creation_date": 1453867335, "answer_id": 35028669, "question_id": 35028519, "link": "https://stackoverflow.com/questions/35028519/how-to-tell-the-user-the-number-of-correct-answers-in-a-quiz/35028669#35028669", "title": "How to tell the user the number of correct answers in a quiz", "body": "<p>The one thing worth absorbing first when writing Ruby code is learning to structure your problem more in terms of <em>data manipulation</em> and less in terms of <em>code</em>.</p>\n\n<p>For example:</p>\n\n<pre><code># Define your questions in an array-of-arrays\n@questions = [\n  [ 'Is Mars a planet?', 'yes' ],\n  [ 'Is the Sun a star?', 'yes' ],\n  [ 'Is Pluto a planet?', 'maybe' ]\n]\n@answers = [ 'yes', 'no', 'maybe' ]\n@responses = [ ]\n</code></pre>\n\n<p>Then you can iterate over these easily:</p>\n\n<pre><code>@questions.each do |question, answer|\n   puts question\n\n   loop do\n     response = line.gets.chomp.downcase\n\n     if (@answers.include?(response))\n       @responses &lt;&lt; response\n       break\n     else\n       puts \"Please respond with one of: #{@answers.join(', ')}\"\n     end\n   end\n end\n\n # Keep score by true or false on answer matching\n @score = { true: 0, false: 0 }\n\n # Now step over each response and tally up score\n # according to the expected answer.\n @responses.each_with_index do |response, i|\n   @score[response == @questions[i][1])] += 1\n end\n\n puts \"You got %d correct and %d incorrect\" % [ \n   @score[true],\n   @score[false]\n ]\n</code></pre>\n\n<p>Note that here you can manipulate the various parameters without having to actually change any of the code. This allows a great deal of flexibility, and provides simple paths to expand on this functionality. For example, you can easily read the questions in from a JSON or YAML file.</p>\n"}], "owner": {"reputation": 47, "user_id": 5540494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a570b57a4974ca8c129d1739d785dc?s=128&d=identicon&r=PG&f=1", "display_name": "garfield_digital", "link": "https://stackoverflow.com/users/5540494/garfield-digital"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1453871278, "creation_date": 1453866442, "last_edit_date": 1453871278, "question_id": 35028519, "link": "https://stackoverflow.com/questions/35028519/how-to-tell-the-user-the-number-of-correct-answers-in-a-quiz", "title": "How to tell the user the number of correct answers in a quiz", "body": "<p>I made a simple quiz, and would like to know how to inform the user the number of correct, and if possible incorrect, answers they got at the end of the quiz. Below is my code.</p>\n\n<pre><code>prompt = \"&gt; \"\nputs \"Planet Pop Quiz, is the Earth round?\"\nprint prompt\n\nwhile user_input = gets.chomp\n  case user_input\n  when \"yes\"\n    puts \"Correct!\"\n    break \n  when \"no\"\n    puts \"Wrong!\"\n    break \n  else\n    puts \"Please answer either yes or no\"\n    print prompt \n  end\nend\n\nprompt = \"&gt; \"\nputs \"Is Pluto close to the sun?\"\nprint prompt\n\nwhile user_input = gets.chomp \n  case user_input\n  when \"yes\"\n    puts \"Wrong!\"\n    break \n  when \"no\"\n    puts \"Correct!\"\n    break \n  else\n    puts \"Please answer either yes or no\"\n    print prompt \n  end\nend\n\nprompt = \"&gt; \"\nputs \"Is Mercury bigger than Jupiter?\"\nprint prompt\n\nwhile user_input = gets.chomp \n  case user_input\n  when \"yes\"\n    puts \"Wrong!\"\n    break \n  when \"no\"\n    puts \"Correct!\"\n    break \n  else\n    puts \"Please answer either yes or no\"\n    print prompt \n  end\nend\n</code></pre>\n"}, {"tags": ["ruby", "hash"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1453879176, "post_id": 35028373, "comment_id": 57787603, "body": "What exactly confuses you? The square brackets in <code>frequencies[word]</code> or the <code>+=</code> operator or both?"}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1453902619, "post_id": 35028373, "comment_id": 57802556, "body": "If you&#39;ve found any answers useful be sure to accept an answer."}], "answers": [{"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 2, "last_activity_date": 1453865966, "creation_date": 1453865966, "answer_id": 35028446, "question_id": 35028373, "link": "https://stackoverflow.com/questions/35028373/when-you-run-through-an-array-does-the-key-value-pairs-go-into-the-hashes-in-ru/35028446#35028446", "title": "When you run through an array, does the key value pairs go into the hashes in Ruby?", "body": "<p>Yes, it assigns. <code>frequencies[word] += 1</code> is syntactic sugar for:</p>\n\n<pre><code>frequencies[word] = frequencies[word] + 1\n</code></pre>\n\n<p>which can be further rewritten as:</p>\n\n<pre><code>frequencies.[]=(word, frequencies[word] + 1)\n</code></pre>\n\n<p>Here, the method <code>[]=</code> is applied to the hash <code>frequencies</code>, which does the assignment. Each time this is called, <code>frequencies[word]</code> is reassigned a value one-incremented from its previous value.</p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 5729878, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019196828102556/picture?type=large", "display_name": "DumDumGenius", "link": "https://stackoverflow.com/users/5729878/dumdumgenius"}, "is_accepted": false, "score": 1, "last_activity_date": 1453867484, "last_edit_date": 1592644375, "creation_date": 1453867174, "answer_id": 35028642, "question_id": 35028373, "link": "https://stackoverflow.com/questions/35028373/when-you-run-through-an-array-does-the-key-value-pairs-go-into-the-hashes-in-ru/35028642#35028642", "title": "When you run through an array, does the key value pairs go into the hashes in Ruby?", "body": "<blockquote>\n<p>frequencies = Hash.new(0)</p>\n</blockquote>\n<p>In this line , means if the key not exist it will return 0 to you</p>\n<blockquote>\n<p>frequencies[word]</p>\n</blockquote>\n<p>So if word is not exist it will return 0 to you , just as &quot; return nil&quot; while you just write</p>\n<blockquote>\n<p>frequencies = Hash.new</p>\n</blockquote>\n<p>But notice that , if you didn't do anything for the value &quot;0&quot; , the key value will not be stored</p>\n<blockquote>\n<p>frequencies[word] += 1</p>\n</blockquote>\n<p>So after this , the new value's stored by the key &quot;word&quot;</p>\n<p>I think the reason why it uses 0 rather than nil is because 0 is more convenient to do calculation , while &quot;nil&quot; needs one more condition to judge , like this</p>\n<blockquote>\n<p>frequencies.store(word,0)  if  frequencies[word].nil?</p>\n<p>frequencies[word]+=1</p>\n</blockquote>\n<p>Just try this , you will know how it works</p>\n<blockquote>\n<p>a=Hash.new(1)</p>\n<p>puts a['x']</p>\n<p>puts a.to_s</p>\n<p>puts a['x']+=1</p>\n<p>puts a.to_s</p>\n</blockquote>\n"}], "owner": {"reputation": 1080, "user_id": 5166249, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-WzuHmMgRjOk/AAAAAAAAAAI/AAAAAAAAANM/KmLSxYcVElE/photo.jpg?sz=128", "display_name": "Penny", "link": "https://stackoverflow.com/users/5166249/penny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453867484, "creation_date": 1453865560, "question_id": 35028373, "link": "https://stackoverflow.com/questions/35028373/when-you-run-through-an-array-does-the-key-value-pairs-go-into-the-hashes-in-ru", "title": "When you run through an array, does the key value pairs go into the hashes in Ruby?", "body": "<p>I'm learning Ruby in Codecademy and I'm stuck in the hashes lessons. i have problems reading how the key value pairs go into the hashes. So below is the code:</p>\n\n<pre><code>puts \"Text please: \"\ntext = gets.chomp\n\nwords = text.split(\" \")\nfrequencies = Hash.new(0)\nwords.each {|word| frequencies[word] += 1}\n\nfrequencies = frequencies.sort_by {|word, count| count}\n\nfrequencies.reverse!\n\nfrequencies.each{|word, count| puts word + \" \" + count.to_s}\n</code></pre>\n\n<p>So this code is supposed to count word frequencies in the user's input. I'm a bit confused about the code <code>words.each {|word| frequencies[word] += 1}</code>...so does the frequency number go into the hashes every time the previous code runs through each word? Otherwise, how could a repeated word can get a count of 2?</p>\n\n<p>It would be great that if anyone can explain to me a bit about the code  <code>words.each {|word| frequencies[word] += 1}</code>, so that I'll be able to understand the whole code block. Thank you so much! </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "devise", "irb"], "comments": [{"owner": {"reputation": 311, "user_id": 2718180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/HYXB3.png?s=128&g=1", "display_name": "Lenocam", "link": "https://stackoverflow.com/users/2718180/lenocam"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1453877949, "post_id": 35028311, "comment_id": 57787037, "body": "Dave, thanks for checking it out. I added the full console transcript."}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 2718180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/HYXB3.png?s=128&g=1", "display_name": "Lenocam", "link": "https://stackoverflow.com/users/2718180/lenocam"}, "edited": false, "score": 0, "creation_date": 1453879253, "post_id": 35030860, "comment_id": 57787647, "body": "fylooi, is this what you mean: Account.create! name: &quot;flat&quot;, subdomain: &quot;line&quot;, {owner_attributes: [{email: &quot;email@notreal.com&quot;}, { password: &quot;foobar&quot;}, {password_confirmation: &quot;foobar&quot;}]}"}, {"owner": {"reputation": 3630, "user_id": 4799659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153200714295120/picture?type=large", "display_name": "fylooi", "link": "https://stackoverflow.com/users/4799659/fylooi"}, "reply_to_user": {"reputation": 311, "user_id": 2718180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/HYXB3.png?s=128&g=1", "display_name": "Lenocam", "link": "https://stackoverflow.com/users/2718180/lenocam"}, "edited": false, "score": 0, "creation_date": 1453879345, "post_id": 35030860, "comment_id": 57787691, "body": "That should be valid syntax, but i&#39;m not sure whether ActiveRecord expects that or <code>{owner_attributes: {email: &quot;email@notreal.com&quot;, password: &quot;foobar&quot;, password_confirmation: &quot;foobar&quot;} }</code>"}, {"owner": {"reputation": 311, "user_id": 2718180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/HYXB3.png?s=128&g=1", "display_name": "Lenocam", "link": "https://stackoverflow.com/users/2718180/lenocam"}, "edited": false, "score": 0, "creation_date": 1453879817, "post_id": 35030860, "comment_id": 57787944, "body": "I tried the way I asked about in my comment and the way that you showed me in your most recent comment and I still have the same error."}, {"owner": {"reputation": 3630, "user_id": 4799659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153200714295120/picture?type=large", "display_name": "fylooi", "link": "https://stackoverflow.com/users/4799659/fylooi"}, "reply_to_user": {"reputation": 311, "user_id": 2718180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/HYXB3.png?s=128&g=1", "display_name": "Lenocam", "link": "https://stackoverflow.com/users/2718180/lenocam"}, "edited": false, "score": 0, "creation_date": 1453883562, "post_id": 35030860, "comment_id": 57789856, "body": "Ah, I missed the earlier hashes. Try <code>create! name: &quot;Cheese&quot;, subdomain: &quot;cheesy&quot;, owner_attributes: { email: &quot;email@real.com&quot;, password: &quot;foobar&quot;, password_confirmation: &quot;foobar&quot; }</code>"}], "tags": [], "owner": {"reputation": 3630, "user_id": 4799659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153200714295120/picture?type=large", "display_name": "fylooi", "link": "https://stackoverflow.com/users/4799659/fylooi"}, "is_accepted": false, "score": 0, "last_activity_date": 1453878574, "creation_date": 1453878574, "answer_id": 35030860, "question_id": 35028311, "link": "https://stackoverflow.com/questions/35028311/irb-documentation-rails-4-syntax-error-params-console/35030860#35030860", "title": "IRB Documentation, Rails 4, Syntax Error, Params, Console", "body": "<p><code>[ email: \"email@real.com\", password: \"foobar\", password_confirmation: \"foobar\" ]</code> is an array containing hashes. </p>\n\n<p>The inner hashes need curly braces. </p>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 2718180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/HYXB3.png?s=128&g=1", "display_name": "Lenocam", "link": "https://stackoverflow.com/users/2718180/lenocam"}, "is_accepted": false, "score": 0, "last_activity_date": 1453917404, "creation_date": 1453917404, "answer_id": 35044685, "question_id": 35028311, "link": "https://stackoverflow.com/questions/35028311/irb-documentation-rails-4-syntax-error-params-console/35044685#35044685", "title": "IRB Documentation, Rails 4, Syntax Error, Params, Console", "body": "<p>The response from fylooi was the correct one:</p>\n\n<blockquote>\n  <p>Ah, I missed the earlier hashes. Try create! name: \"Cheese\", subdomain: \"cheesy\", owner_attributes: { email: \"email@real.com\", password: \"foobar\", password_confirmation: \"foobar\" } \u2013 fylooi </p>\n</blockquote>\n\n<p>Thanks fylooi</p>\n"}], "owner": {"reputation": 311, "user_id": 2718180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/HYXB3.png?s=128&g=1", "display_name": "Lenocam", "link": "https://stackoverflow.com/users/2718180/lenocam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512843413, "creation_date": 1453865226, "last_edit_date": 1512843413, "question_id": 35028311, "link": "https://stackoverflow.com/questions/35028311/irb-documentation-rails-4-syntax-error-params-console", "title": "IRB Documentation, Rails 4, Syntax Error, Params, Console", "body": "<p>I'm going to slip in a specific code question to illustrate my point, but my real concern is, where can find some translation or deeper explanation of how to use IRB and a good explanation of what the errors mean?</p>\n\n<p>The error I'm getting in console:</p>\n\n<blockquote>\n  <p>SyntaxError: (irb):10: syntax error, unexpected '\\n', expecting =></p>\n</blockquote>\n\n<p>I'm inexperienced in rails, but I think I understand what this says. Let me try:</p>\n\n<p>\"Syntax error, unexpected end of the line, expecting hash rocket\" I assume this means I didn't correctly right out my params when I was creating a new Account and User/Owner.</p>\n\n<p>I'm trying to create a new account and add the owner attribute at the same time, as it should work in my app. Below is the AccountController code related to my issue:</p>\n\n<pre><code>def create\n    @account = Account.new(account_params)\n        if @account.save\n            sign_in(@account.owner)\n            flash[:notice] = \"Your account has been successfully created.\"\n            redirect_to root_url(subdomain: @account.subdomain)\n        else\n            flash.now[:alert] = \"Sorry, your account could not be created.\"\n            render :new\n        end\nend\n</code></pre>\n\n<p>And the params also in AccountController:</p>\n\n<pre><code>private\n    def account_params\n        params.require(:account).permit(:name, :subdomain,\n            { owner_attributes: [ :email, :password, :password_confirmation\n                ]}\n        )\n    end\n</code></pre>\n\n<p>This is how I entered it into console:</p>\n\n<pre><code>Account.create! name: \"Cheese\", subdomain: \"cheesy\", { owner_attributes: [ email: \"email@real.com\", password: \"foobar\", password_confirmation: \"foobar\" ]}\n</code></pre>\n\n<p>User is made by Devise in case that matters in this circumstance.</p>\n\n<p>Frankly, even if I've translated this correctly, which I probably didn't, did I make the error in my original code or in the console? But back to my original question where is a good resource to figure out what the IRB error is telling me? If I Google this error as is the results only remotely relate to my concern. More specifically, Google seems to treat \\n as \"n\" and => as nothing.</p>\n\n<p>Here is the complete console transcript:</p>\n\n<p>2.1.5 :002 > Account.create! name: \"Cheese\", subdomain: \"cheesy\", { owner_attributes: [ email: \"email@real.com\", password: \"foobar\", password_confirmation: \"foobar\" ]}\nSyntaxError: (irb):2: syntax error, unexpected '\\n', expecting =>\n    from /home/reed/.gem/ruby/2.1.5/gems/railties-4.2.2/lib/rails/commands/console.rb:110:in <code>start'\n    from /home/reed/.gem/ruby/2.1.5/gems/railties-4.2.2/lib/rails/commands/console.rb:9:in</code>start'\n    from /home/reed/.gem/ruby/2.1.5/gems/railties-4.2.2/lib/rails/commands/commands_tasks.rb:68:in <code>console'\n    from /home/reed/.gem/ruby/2.1.5/gems/railties-4.2.2/lib/rails/commands/commands_tasks.rb:39:in</code>run_command!'\n    from /home/reed/.gem/ruby/2.1.5/gems/railties-4.2.2/lib/rails/commands.rb:17:in <code>&lt;top (required)&gt;'\n    from bin/rails:9:in</code>require'\n    from bin/rails:9:in `'</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "blogger"], "comments": [{"owner": {"reputation": 3092, "user_id": 3535931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/isOaa.jpg?s=128&g=1", "display_name": "p4sh4", "link": "https://stackoverflow.com/users/3535931/p4sh4"}, "edited": false, "score": 0, "creation_date": 1453864723, "post_id": 35028106, "comment_id": 57782738, "body": "Have you seeded your Heroku database?"}, {"owner": {"reputation": 1, "user_id": 5844318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCk81.jpg?s=128&g=1", "display_name": "Reichstian", "link": "https://stackoverflow.com/users/5844318/reichstian"}, "reply_to_user": {"reputation": 3092, "user_id": 3535931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/isOaa.jpg?s=128&g=1", "display_name": "p4sh4", "link": "https://stackoverflow.com/users/3535931/p4sh4"}, "edited": false, "score": 0, "creation_date": 1453871292, "post_id": 35028106, "comment_id": 57784650, "body": "No I don&#39;t know how to do that."}, {"owner": {"reputation": 3092, "user_id": 3535931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/isOaa.jpg?s=128&g=1", "display_name": "p4sh4", "link": "https://stackoverflow.com/users/3535931/p4sh4"}, "edited": false, "score": 0, "creation_date": 1453872097, "post_id": 35028106, "comment_id": 57784872, "body": "Rephrasing question - is there any data in your Heroku database? If the database is empty, obviously there will be no data."}, {"owner": {"reputation": 1, "user_id": 5844318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCk81.jpg?s=128&g=1", "display_name": "Reichstian", "link": "https://stackoverflow.com/users/5844318/reichstian"}, "reply_to_user": {"reputation": 3092, "user_id": 3535931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/isOaa.jpg?s=128&g=1", "display_name": "p4sh4", "link": "https://stackoverflow.com/users/3535931/p4sh4"}, "edited": false, "score": 0, "creation_date": 1453879562, "post_id": 35028106, "comment_id": 57787817, "body": "How do I check my Heroku Database?"}, {"owner": {"reputation": 3092, "user_id": 3535931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/isOaa.jpg?s=128&g=1", "display_name": "p4sh4", "link": "https://stackoverflow.com/users/3535931/p4sh4"}, "edited": false, "score": 0, "creation_date": 1453880214, "post_id": 35028106, "comment_id": 57788144, "body": "You can check yourself fist - have you added any data to the Heroku database yourself? If not, there is no magic way for it to appear there, so it&#39;s probably empty."}], "answers": [{"comments": [{"owner": {"reputation": 3092, "user_id": 3535931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/isOaa.jpg?s=128&g=1", "display_name": "p4sh4", "link": "https://stackoverflow.com/users/3535931/p4sh4"}, "edited": false, "score": 0, "creation_date": 1453865728, "post_id": 35028266, "comment_id": 57783037, "body": "Assuming the data in question is in the seeds.rb file."}, {"owner": {"reputation": 1, "user_id": 5844318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCk81.jpg?s=128&g=1", "display_name": "Reichstian", "link": "https://stackoverflow.com/users/5844318/reichstian"}, "edited": false, "score": 0, "creation_date": 1453871366, "post_id": 35028266, "comment_id": 57784670, "body": "My seeds.rb file is empty, all of the stuff in it is commented out. I tried running rake db:seed but get  ---&quot;rake aborted! Gem::LoadError: You have already activated rake 10.5.0, but your Gemfile requires rake 10.4.2. Prepending <code>bundle exec</code> to your command may solve this.&quot; I tried running it with bundle exec but it still doesn&#39;t work."}], "tags": [], "owner": {"reputation": 358, "user_id": 1894421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f8d115dd20a51bf2e13c3e1598ff8352?s=128&d=identicon&r=PG", "display_name": "apebeast", "link": "https://stackoverflow.com/users/1894421/apebeast"}, "is_accepted": false, "score": 0, "last_activity_date": 1453864984, "creation_date": 1453864984, "answer_id": 35028266, "question_id": 35028106, "link": "https://stackoverflow.com/questions/35028106/why-are-some-elements-of-my-blogger-rails-app-root-articleindex-not-showing-up/35028266#35028266", "title": "Why are some elements of my Blogger rails app root Article#index not showing up properly on heroku, but work fine locally?", "body": "<p>Assuming you have heroku CLI installed, run the command: <code>heroku run rake db:seed</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5844318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCk81.jpg?s=128&g=1", "display_name": "Reichstian", "link": "https://stackoverflow.com/users/5844318/reichstian"}, "edited": false, "score": 0, "creation_date": 1453871462, "post_id": 35029166, "comment_id": 57784699, "body": "tried it, it runs but the models still don&#39;t show up."}, {"owner": {"reputation": 96, "user_id": 5725312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/706dbc8c322beb2023ce75b47723648e?s=128&d=identicon&r=PG&f=1", "display_name": "Shaomai888", "link": "https://stackoverflow.com/users/5725312/shaomai888"}, "reply_to_user": {"reputation": 1, "user_id": 5844318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCk81.jpg?s=128&g=1", "display_name": "Reichstian", "link": "https://stackoverflow.com/users/5844318/reichstian"}, "edited": false, "score": 0, "creation_date": 1453871939, "post_id": 35029166, "comment_id": 57784827, "body": "maybe post your log from Heroku"}, {"owner": {"reputation": 1, "user_id": 5844318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCk81.jpg?s=128&g=1", "display_name": "Reichstian", "link": "https://stackoverflow.com/users/5844318/reichstian"}, "edited": false, "score": 0, "creation_date": 1453879909, "post_id": 35029166, "comment_id": 57787988, "body": "I added my log from Heroku =)"}], "tags": [], "owner": {"reputation": 96, "user_id": 5725312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/706dbc8c322beb2023ce75b47723648e?s=128&d=identicon&r=PG&f=1", "display_name": "Shaomai888", "link": "https://stackoverflow.com/users/5725312/shaomai888"}, "is_accepted": false, "score": 0, "last_activity_date": 1453870403, "creation_date": 1453870403, "answer_id": 35029166, "question_id": 35028106, "link": "https://stackoverflow.com/questions/35028106/why-are-some-elements-of-my-blogger-rails-app-root-articleindex-not-showing-up/35029166#35029166", "title": "Why are some elements of my Blogger rails app root Article#index not showing up properly on heroku, but work fine locally?", "body": "<p>If you ran migrations locally, to see these changes in heroku run the command:</p>\n\n<pre><code>heroku run rake db:migrate \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5844318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCk81.jpg?s=128&g=1", "display_name": "Reichstian", "link": "https://stackoverflow.com/users/5844318/reichstian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1453879845, "creation_date": 1453863903, "last_edit_date": 1453879845, "question_id": 35028106, "link": "https://stackoverflow.com/questions/35028106/why-are-some-elements-of-my-blogger-rails-app-root-articleindex-not-showing-up", "title": "Why are some elements of my Blogger rails app root Article#index not showing up properly on heroku, but work fine locally?", "body": "<p>Everything else is working fine but my models(Articles, Tags, Authors, etc) aren't showing up properly.</p>\n\n<p>What it should look like: <a href=\"http://i.stack.imgur.com/7c9Zl.png\" rel=\"nofollow\">LocalHost:3000</a></p>\n\n<p>What it looks like on Heroku: <a href=\"http://i.stack.imgur.com/EVmRl.png\" rel=\"nofollow\">Heroku</a></p>\n\n<p>I ran heroku run rake db:migrate</p>\n\n<p>went through the entire git cycle, etc.</p>\n\n<p>what gives?</p>\n\n<p>Here is my Heroku Log: </p>\n\n<pre><code>`2016-01-27T05:04:54.159491+00:00 app[web.1]: [2016-01-27 05:04:54] INFO  WEBrick 1.3.1\n2016-01-27T05:04:54.159621+00:00 app[web.1]: [2016-01-27 05:04:54] INFO  ruby 2.0.0 (2015-12-16) [x86_64-linux]\n2016-01-27T05:04:54.159954+00:00 app[web.1]: [2016-01-27 05:04:54] INFO  WEBrick::HTTPServer#start: pid=3 port=22843\n2016-01-27T05:04:55.059161+00:00 app[web.1]: =&gt; Booting WEBrick\n2016-01-27T05:04:55.059166+00:00 app[web.1]: =&gt; Rails 4.2.3 application starting in production on http://0.0.0.0:22843\n2016-01-27T05:04:55.059168+00:00 app[web.1]: =&gt; Run `rails server -h` for more startup options\n2016-01-27T05:04:55.059169+00:00 app[web.1]: =&gt; Ctrl-C to shutdown server\n2016-01-27T05:04:55.059170+00:00 app[web.1]: Started GET \"/\" for 104.33.156.67 at 2016-01-27 05:04:55 +0000\n2016-01-27T05:04:55.127233+00:00 app[web.1]: Processing by ArticlesController#index as HTML\n2016-01-27T05:04:55.195262+00:00 app[web.1]:   Rendered articles/index.html.erb within layouts/application (5.9ms)\n2016-01-27T05:04:55.202280+00:00 heroku[router]: at=info method=GET path=\"/\" host=salty-gorge-52761.herokuapp.com request_id=f6d476e6-9718-4f42-bc80-77717f0fcee5 fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=146ms status=200 bytes=1556\n2016-01-27T05:04:55.191802+00:00 app[web.1]:   Article Load (1.4ms)  SELECT \"articles\".* FROM \"articles\"\n2016-01-27T05:04:55.197340+00:00 app[web.1]: Completed 200 OK in 70ms (Views: 52.3ms | ActiveRecord: 3.3ms)\n2016-01-27T05:04:55.563586+00:00 heroku[router]: at=info method=GET path=\"/assets/application-1c3144617da0f508877350fe0ab06ea7c058d62df6f671ddde8529617cf30580.js\" host=salty-gorge-52761.herokuapp.com request_id=17a45a37-1f6d-46a9-8c9a-7d8534bfa4ea fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=5ms status=304 bytes=133\n2016-01-27T05:04:55.563994+00:00 heroku[router]: at=info method=GET path=\"/assets/application-a681cdeddb3b45d83f9aecea003c058946e8fc0fe08159f100b52f348d537ccd.css\" host=salty-gorge-52761.herokuapp.com request_id=0d1ca85f-69a0-464a-8343-1804e4e5292f fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=4ms status=304 bytes=133\n2016-01-27T05:04:56.013911+00:00 heroku[router]: at=info method=GET path=\"/favicon.ico\" host=salty-gorge-52761.herokuapp.com request_id=169764a0-1f9a-433f-bb33-5cb48e81a039 fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=3ms status=304 bytes=133\n2016-01-27T05:04:54.283840+00:00 heroku[web.1]: State changed from starting to up\n2016-01-27T05:11:11.742361+00:00 heroku[router]: at=info method=GET path=\"/\" host=salty-gorge-52761.herokuapp.com request_id=7f940186-4a59-4956-9814-d1051a583f63 fwd=\"104.33.156.67\" dyno=web.1 connect=1ms service=30ms status=200 bytes=1556\n2016-01-27T05:11:11.716258+00:00 app[web.1]: Started GET \"/\" for 104.33.156.67 at 2016-01-27 05:11:11 +0000\n2016-01-27T05:11:11.735097+00:00 app[web.1]:   Article Load (7.7ms)  SELECT \"articles\".* FROM \"articles\"\n2016-01-27T05:11:11.737544+00:00 app[web.1]: Completed 200 OK in 15ms (Views: 4.6ms | ActiveRecord: 7.7ms)\n2016-01-27T05:11:11.722760+00:00 app[web.1]: Processing by ArticlesController#index as HTML\n2016-01-27T05:11:11.735817+00:00 app[web.1]:   Rendered articles/index.html.erb within layouts/application (9.3ms)\n2016-01-27T05:11:11.869266+00:00 heroku[router]: at=info method=GET path=\"/assets/application-a681cdeddb3b45d83f9aecea003c058946e8fc0fe08159f100b52f348d537ccd.css\" host=salty-gorge-52761.herokuapp.com request_id=a69d3c72-4195-4a5b-b4e4-10d25a4f42d6 fwd=\"104.33.156.67\" dyno=web.1 connect=1ms service=25ms status=304 bytes=133\n2016-01-27T05:11:11.857742+00:00 heroku[router]: at=info method=GET path=\"/assets/application-1c3144617da0f508877350fe0ab06ea7c058d62df6f671ddde8529617cf30580.js\" host=salty-gorge-52761.herokuapp.com request_id=4f0c1675-04ac-4528-a069-b571227466e3 fwd=\"104.33.156.67\" dyno=web.1 connect=1ms service=17ms status=304 bytes=133\n2016-01-27T05:11:12.349478+00:00 heroku[router]: at=info method=GET path=\"/favicon.ico\" host=salty-gorge-52761.herokuapp.com request_id=a824f3c1-1bfa-4936-a4d4-1d09772b63fa fwd=\"104.33.156.67\" dyno=web.1 connect=1ms service=4ms status=200 bytes=228\n2016-01-27T05:11:33.114026+00:00 heroku[api]: Starting process with command `bundle exec rake run db:migrate` by chrs_espi@yahoo.com\n2016-01-27T05:11:36.201452+00:00 heroku[run.2031]: Awaiting client\n2016-01-27T05:11:36.240221+00:00 heroku[run.2031]: Starting process with command `bundle exec rake run db:migrate`\n2016-01-27T05:11:36.671586+00:00 heroku[run.2031]: State changed from starting to up\n2016-01-27T05:11:40.844250+00:00 heroku[run.2031]: Process exited with status 1\n2016-01-27T05:11:59.449972+00:00 heroku[api]: Starting process with command `bundle exec rake db:migrate` by chrs_espi@yahoo.com\n2016-01-27T05:12:01.840518+00:00 heroku[run.2233]: Awaiting client\n2016-01-27T05:12:01.868168+00:00 heroku[run.2233]: Starting process with command `bundle exec rake db:migrate`\n2016-01-27T05:12:02.311946+00:00 heroku[run.2233]: State changed from starting to up\n2016-01-27T05:12:06.862455+00:00 heroku[run.2233]: State changed from up to complete\n2016-01-27T05:12:06.847225+00:00 heroku[run.2233]: Process exited with status 0\n2016-01-27T05:11:40.861112+00:00 heroku[run.2031]: State changed from up to complete\n2016-01-27T05:12:13.020716+00:00 heroku[router]: at=info method=GET path=\"/\" host=salty-gorge-52761.herokuapp.com request_id=9c6ec886-e1a2-4014-9e70-b9a43ef72a6a fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=32ms status=200 bytes=1556\n2016-01-27T05:12:13.137652+00:00 heroku[router]: at=info method=GET path=\"/assets/application-a681cdeddb3b45d83f9aecea003c058946e8fc0fe08159f100b52f348d537ccd.css\" host=salty-gorge-52761.herokuapp.com request_id=2de4b506-eaa1-4a23-b034-0bfb40928a2a fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=15ms status=304 bytes=133\n2016-01-27T05:12:13.147819+00:00 heroku[router]: at=info method=GET path=\"/assets/application-1c3144617da0f508877350fe0ab06ea7c058d62df6f671ddde8529617cf30580.js\" host=salty-gorge-52761.herokuapp.com request_id=97de1be7-c677-4837-be85-58a322f322b2 fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=16ms status=304 bytes=133\n2016-01-27T05:12:12.993353+00:00 app[web.1]: Started GET \"/\" for 104.33.156.67 at 2016-01-27 05:12:12 +0000\n2016-01-27T05:12:13.015030+00:00 app[web.1]:   Article Load (8.9ms)  SELECT \"articles\".* FROM \"articles\"\n2016-01-27T05:12:13.017787+00:00 app[web.1]: Completed 200 OK in 18ms (Views: 2.4ms | ActiveRecord: 8.9ms)\n2016-01-27T05:12:12.998667+00:00 app[web.1]: Processing by ArticlesController#index as HTML\n2016-01-27T05:12:13.015467+00:00 app[web.1]:   Rendered articles/index.html.erb within layouts/application (9.8ms)\n2016-01-27T05:12:13.332611+00:00 heroku[router]: at=info method=GET path=\"/favicon.ico\" host=salty-gorge-52761.herokuapp.com request_id=521c00fa-6ddc-4e65-a481-c4b63fd13dd5 fwd=\"104.33.156.67\" dyno=web.1 connect=0ms service=6ms status=200 bytes=228\n2016-01-27T05:45:00.132901+00:00 heroku[web.1]: State changed from up to down\n2016-01-27T05:45:00.132321+00:00 heroku[web.1]: Idling\n2016-01-27T05:45:00.141134+00:00 heroku[web.1]: State changed from down to starting\n2016-01-27T05:45:02.249246+00:00 heroku[web.1]: Starting process with command `bin/rails server -p 23488 -e production`\n2016-01-27T05:45:05.549660+00:00 app[web.1]: [2016-01-27 05:45:05] INFO  WEBrick 1.3.1\n2016-01-27T05:45:05.549679+00:00 app[web.1]: [2016-01-27 05:45:05] INFO  ruby 2.0.0 (2015-12-16) [x86_64-linux]\n2016-01-27T05:45:05.549921+00:00 app[web.1]: [2016-01-27 05:45:05] INFO  WEBrick::HTTPServer#start: pid=3 port=23488\n2016-01-27T05:45:05.979627+00:00 heroku[web.1]: State changed from starting to up\n2016-01-27T05:45:06.139392+00:00 heroku[web.1]: Stopping all processes with SIGTERM\n2016-01-27T05:45:08.122848+00:00 app[web.1]: [2016-01-27 05:45:08] FATAL SignalException: SIGTERM\n2016-01-27T05:45:08.122852+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:170:in `select'\n2016-01-27T05:45:08.122854+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:170:in `block in start'\n2016-01-27T05:45:08.122855+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:32:in `start'\n2016-01-27T05:45:08.122856+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:160:in `start'\n2016-01-27T05:45:08.122857+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/rack-1.6.4/lib/rack/handler/webrick.rb:34:in `run'\n2016-01-27T05:45:08.122857+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/rack-1.6.4/lib/rack/server.rb:286:in `start'\n2016-01-27T05:45:08.122858+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/server.rb:80:in `start'\n2016-01-27T05:45:08.122861+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:75:in `server'\n2016-01-27T05:45:08.122859+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:80:in `block in server'\n2016-01-27T05:45:08.122861+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\n2016-01-27T05:45:08.122860+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:75:in `tap'\n2016-01-27T05:45:08.122862+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands.rb:17:in `&lt;top (required)&gt;'\n2016-01-27T05:45:08.122863+00:00 app[web.1]:    bin/rails:4:in `require'\n2016-01-27T05:45:08.122864+00:00 app[web.1]:    bin/rails:4:in `&lt;main&gt;'\n2016-01-27T05:45:08.122967+00:00 app[web.1]: [2016-01-27 05:45:08] INFO  going to shutdown ...\n2016-01-27T05:45:08.123062+00:00 app[web.1]: [2016-01-27 05:45:08] INFO  WEBrick::HTTPServer#start done.\n2016-01-27T05:45:08.124002+00:00 app[web.1]: Exiting\n2016-01-27T05:45:09.740154+00:00 heroku[web.1]: Process exited with status 143\n2016-01-27T06:19:20.071630+00:00 heroku[web.1]: Idling\n2016-01-27T06:19:20.071630+00:00 heroku[web.1]: State changed from up to down\n2016-01-27T06:19:23.504474+00:00 heroku[web.1]: Stopping all processes with SIGTERM\n2016-01-27T06:19:24.515937+00:00 app[web.1]: [2016-01-27 06:19:24] FATAL SignalException: SIGTERM\n2016-01-27T06:19:24.515942+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:170:in `select'\n2016-01-27T06:19:24.515945+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:170:in `block in start'\n2016-01-27T06:19:24.515945+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:32:in `start'\n2016-01-27T06:19:24.515946+00:00 app[web.1]:    /app/vendor/ruby-2.0.0/lib/ruby/2.0.0/webrick/server.rb:160:in `start'\n2016-01-27T06:19:24.515947+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/rack-1.6.4/lib/rack/handler/webrick.rb:34:in `run'\n2016-01-27T06:19:24.515948+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/rack-1.6.4/lib/rack/server.rb:286:in `start'\n2016-01-27T06:19:24.515948+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/server.rb:80:in `start'\n2016-01-27T06:19:24.515950+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:75:in `tap'\n2016-01-27T06:19:24.515949+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:80:in `block in server'\n2016-01-27T06:19:24.515951+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:75:in `server'\n2016-01-27T06:19:24.515952+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\n2016-01-27T06:19:24.515954+00:00 app[web.1]:    bin/rails:4:in `require'\n2016-01-27T06:19:24.515953+00:00 app[web.1]:    /app/vendor/bundle/ruby/2.0.0/gems/railties-4.2.3/lib/rails/commands.rb:17:in `&lt;top (required)&gt;'\n2016-01-27T06:19:24.516026+00:00 app[web.1]: [2016-01-27 06:19:24] INFO  going to shutdown ...\n2016-01-27T06:19:24.515954+00:00 app[web.1]:    bin/rails:4:in `&lt;main&gt;'\n2016-01-27T06:19:24.516086+00:00 app[web.1]: [2016-01-27 06:19:24] INFO  WEBrick::HTTPServer#start done.\n2016-01-27T06:19:24.516128+00:00 app[web.1]: =&gt; Rails 4.2.3 application starting in production on http://0.0.0.0:23488\n2016-01-27T06:19:24.516126+00:00 app[web.1]: =&gt; Booting WEBrick\n2016-01-27T06:19:24.516145+00:00 app[web.1]: Exiting\n2016-01-27T06:19:24.516129+00:00 app[web.1]: =&gt; Run `rails server -h` for more startup options\n2016-01-27T06:19:24.516130+00:00 app[web.1]: =&gt; Ctrl-C to shutdown server\n2016-01-27T06:19:25.482405+00:00 heroku[web.1]: Process exited with status 143\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "nginx", "production-environment", "client-side-validation"], "comments": [{"owner": {"reputation": 548, "user_id": 2449018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe26d0da2cc79429017be8bbd6c81ece?s=128&d=identicon&r=PG", "display_name": "techbrownbags", "link": "https://stackoverflow.com/users/2449018/techbrownbags"}, "edited": false, "score": 0, "creation_date": 1456353456, "post_id": 35028063, "comment_id": 58912962, "body": "I&#39;m seeing the same, did you find any resolution?"}], "answers": [{"comments": [{"owner": {"reputation": 5480, "user_id": 1264360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97babb5c190f0eacce8cb27affe733?s=128&d=identicon&r=PG", "display_name": "Shawn C.", "link": "https://stackoverflow.com/users/1264360/shawn-c"}, "edited": false, "score": 0, "creation_date": 1522254029, "post_id": 49534134, "comment_id": 86086300, "body": "Thank you for this code snippet, which might provide some limited short-term help. A proper explanation <a href=\"https://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">would greatly improve</a> its long-term value by showing why this is a good solution to the problem and would make it more useful to future readers with other, similar questions. Please edit your answer to add some explanation, including the assumptions you&#39;ve made"}], "tags": [], "owner": {"reputation": 1, "user_id": 9563726, "user_type": "registered", "profile_image": "https://graph.facebook.com/2383588621658646/picture?type=large", "display_name": "Anderson De Souza Lira", "link": "https://stackoverflow.com/users/9563726/anderson-de-souza-lira"}, "is_accepted": false, "score": 0, "last_activity_date": 1522238813, "creation_date": 1522238813, "answer_id": 49534134, "question_id": 35028063, "link": "https://stackoverflow.com/questions/35028063/message-from-application-cannot-load-such-file-js-regex-loaderror-with-cli/49534134#49534134", "title": "Message from application: cannot load such file -- js_regex (LoadError) with client_side_validations", "body": "<p>I just used:</p>\n\n<p><code>gem install js_regex</code></p>\n"}], "owner": {"reputation": 277, "user_id": 1392465, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e0678a73995234f2549af6877c948f0?s=128&d=identicon&r=PG", "display_name": "figdig", "link": "https://stackoverflow.com/users/1392465/figdig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522238813, "creation_date": 1453863670, "last_edit_date": 1506885608, "question_id": 35028063, "link": "https://stackoverflow.com/questions/35028063/message-from-application-cannot-load-such-file-js-regex-loaderror-with-cli", "title": "Message from application: cannot load such file -- js_regex (LoadError) with client_side_validations", "body": "<p>I tried to deploy my Rails app (to Cloud66 and DigitalOcean) but, when accessing the app, it simply says: </p>\n\n<blockquote>\n  <p><em>We're sorry, but something went wrong. We've been notified about this issue and we'll take a look at it shortly.</em></p>\n</blockquote>\n\n<p>According to the logs (pasted below) the js_regex gem is missing. But I'm having trouble fixing it, because locally everything works as it should. And if I take away the client_side_navigation gem, everything works on production as well. Seems like it cannot load js_regex in production, but I have no idea why. (client_side_validations depends on js_regex)</p>\n\n<p>Using Rails 4.2.2, ruby 2.2.0 and client_side-validations 4.2.1, js_regex is version 1.0.12.</p>\n\n<p>Here are the nginx error logs:</p>\n\n<pre><code>\u2014 Message from application: cannot load such file --     js_regex (LoadError)\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-  4f000000a858/lib/client_side_validations/core_ext/regexp.rb:1:in `require'\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-4f000000a858/lib/client_side_validations/core_ext/regexp.rb:1:in `&lt;top (required)&gt;'\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-4f000000a858/lib/client_side_validations/core_ext.rb:3:in `require'\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-4f000000a858/lib/client_side_validations/core_ext.rb:3:in `&lt;top (required)&gt;'\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-4f000000a858/lib/client_side_validations/active_model.rb:1:in `require'\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-4f000000a858/lib/client_side_validations/active_model.rb:1:in `&lt;top (required)&gt;'\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-4f000000a858/lib/client_side_validations.rb:5:in `require'\n\u2014 /var/deploy/flokky/web_head/shared/bundle/ruby/2.3.0/bundler/gems/client_side_validations-4f000000a858/lib/client_side_validations.rb:5:in `&lt;top (required)&gt;'\n\u2014 /usr/local/lib/ruby/gems/2.3.0/gems/bundler-1.11.2/lib/bundler/runtime.rb:77:in `require'\n\u2014 /usr/local/lib/ruby/gems/2.3.0/gems/bundler-1.11.2/lib/bundler/runtime.rb:77:in `block (2 levels) in require'\n\u2014 /usr/local/lib/ruby/gems/2.3.0/gems/bundler-1.11.2/lib/bundler/runtime.rb:72:in `each'\n\u2014 /usr/local/lib/ruby/gems/2.3.0/gems/bundler-1.11.2/lib/bundler/runtime.rb:72:in `block in require'\n\u2014 /usr/local/lib/ruby/gems/2.3.0/gems/bundler-1.11.2/lib/bundler/runtime.rb:61:in `each'\n\u2014 /usr/local/lib/ruby/gems/2.3.0/gems/bundler-1.11.2/lib/bundler/runtime.rb:61:in `require'\n\u2014 /usr/local/lib/ruby/gems/2.3.0/gems/bundler-1.11.2/lib/bundler.rb:99:in `require'\n\u2014 /var/deploy/flokky/web_head/releases/20160127023519/config/application.rb:7:in `&lt;top (required)&gt;'\n\u2014 /var/deploy/flokky/web_head/releases/20160127023519/config/environment.rb:2:in `require'\n\u2014 /var/deploy/flokky/web_head/releases/20160127023519/config/environment.rb:2:in `&lt;top (required)&gt;'\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "twitter-bootstrap-3", "bootstrap-form-helper"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 5636776, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/6KWhh.jpg?s=128&g=1", "display_name": "Green Chief", "link": "https://stackoverflow.com/users/5636776/green-chief"}, "edited": false, "score": 0, "creation_date": 1453929816, "post_id": 35035521, "comment_id": 57820778, "body": "But how does the url: &#39;&quot; bit work when specifying reference to an action that is a found in the user controller? Better yet, how do I specify the routes to it?  Currently my routes contain: match &#39;:controller(/:action(/:id))(.:format)&#39; , via: [:post, :get]"}, {"owner": {"reputation": 81, "user_id": 5636776, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/6KWhh.jpg?s=128&g=1", "display_name": "Green Chief", "link": "https://stackoverflow.com/users/5636776/green-chief"}, "edited": false, "score": 0, "creation_date": 1453995595, "post_id": 35035521, "comment_id": 57854529, "body": "OK, awesome...Thanks for your help... I tried to vote up your answer but it&#39;s telling me I need a reputation of 15 to do it. I find this stackoverflow interface overly anal/restrictive."}, {"owner": {"reputation": 216, "user_id": 5799163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab113470543163bec5ebae1a679a4b2f?s=128&d=identicon&r=PG", "display_name": "Johnny Klironomos", "link": "https://stackoverflow.com/users/5799163/johnny-klironomos"}, "reply_to_user": {"reputation": 81, "user_id": 5636776, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/6KWhh.jpg?s=128&g=1", "display_name": "Green Chief", "link": "https://stackoverflow.com/users/5636776/green-chief"}, "edited": false, "score": 0, "creation_date": 1455025713, "post_id": 35035521, "comment_id": 58297119, "body": "You can just accept it, so it doesn&#39;t seem unanswered. No need to vote up. Glad I could help."}], "tags": [], "owner": {"reputation": 216, "user_id": 5799163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab113470543163bec5ebae1a679a4b2f?s=128&d=identicon&r=PG", "display_name": "Johnny Klironomos", "link": "https://stackoverflow.com/users/5799163/johnny-klironomos"}, "is_accepted": true, "score": 0, "last_activity_date": 1453936758, "last_edit_date": 1453936758, "creation_date": 1453892560, "answer_id": 35035521, "question_id": 35027790, "link": "https://stackoverflow.com/questions/35027790/how-would-the-following-change-using-the-bootstrap-form-for-gem/35035521#35035521", "title": "How would the following change using the bootstrap_form_for gem?", "body": "<p>Use the <code>url: ''</code> instead. If you have problem finding the right url, run <code>rake routes</code> and search for your action in there.</p>\n\n<p>You should have in your <code>routes.rb</code> something like:</p>\n\n<pre><code>match '/attempt_login', to: 'login_controller#attempt_login', via: :post\n</code></pre>\n\n<p>then edit your form:</p>\n\n<pre><code>&lt;%= bootstrap_form_for(url: '/attempt_login', method: :post) do |f| %&gt;\n...\n&lt;% end %&gt;\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 81, "user_id": 5636776, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/6KWhh.jpg?s=128&g=1", "display_name": "Green Chief", "link": "https://stackoverflow.com/users/5636776/green-chief"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 35035521, "answer_count": 1, "score": 0, "last_activity_date": 1453936758, "creation_date": 1453861801, "last_edit_date": 1453933035, "question_id": 35027790, "link": "https://stackoverflow.com/questions/35027790/how-would-the-following-change-using-the-bootstrap-form-for-gem", "title": "How would the following change using the bootstrap_form_for gem?", "body": "<p>## I'm not sure how to re-write the :action=> tag in my old code snippet below to use the boostrap_form_for context. Can someone help?   </p>\n\n<pre><code>        &lt;%= form_tag(:action =&gt; 'attempt_login') do %&gt;\n         &lt;%= error_messages_for(@user) %&gt;\n          &lt;table&gt;\n            &lt;tr&gt;\n              &lt;th&gt;email&lt;/th&gt;\n              &lt;td&gt;&lt;%= email_field_tag(:email) %&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;th&gt;password&lt;/th&gt;\n              &lt;td&gt;&lt;%= password_field_tag(:password) %&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;/table&gt;\n            &lt;div class=\"frm-button\"&gt;\n                &lt;td&gt;&lt;%= submit_tag(\"login\") %&gt;&lt;/td&gt;\n            &lt;/div&gt;  \n           &lt;% end %&gt;  \n</code></pre>\n"}, {"tags": ["ruby", "lambda", "lisp", "sicp"], "comments": [{"owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1453866373, "post_id": 35027617, "comment_id": 57783241, "body": "See also <a href=\"https://en.wikipedia.org/wiki/Tail_call\" rel=\"nofollow noreferrer\">tail call</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2086, "user_id": 4507649, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-AWTAsfZocmw/AAAAAAAAAAI/AAAAAAAAAP4/_23BG_Mk_SU/photo.jpg?sz=128", "display_name": "mobiuseng", "link": "https://stackoverflow.com/users/4507649/mobiuseng"}, "is_accepted": false, "score": -1, "last_activity_date": 1453882364, "creation_date": 1453882364, "answer_id": 35031893, "question_id": 35027617, "link": "https://stackoverflow.com/questions/35027617/implement-if-else-as-a-procedure-in-lisp-ruby/35031893#35031893", "title": "Implement IF-ELSE as a procedure in Lisp/Ruby", "body": "<p>I am not that familiar with Ruby syntax, but it seems you are placing an anonymous function in place where the expression would have been. An anonymous function does produce the desired delay, since it does not evaluate the body until called. The question is how it is called and by where. Introducing such an \"in-place\" delays lead to very confusing code in general.</p>\n\n<p>In Scheme you can make a delayed version of <code>if</code> but with slightly different semantics:</p>\n\n<pre><code>(define (new-if test consequent alternative)\n       (cond (test (consequent))\n             (else alternative)))\n&gt; (new-if (= (+ 1 2) 3) \n                 (lambda () (display \"Yay\"))\n                 (lambda () (display \"Nei\")))\nYay\n</code></pre>\n\n<p>So, the consequent and alternative need to be passed as anonymous functions. Notice, this version still uses special form <code>cond</code>. If you want to go all the way to basics and define <code>if</code> just via lambda-functions in a language with applicative order of evaluation (i.e. strict like Scheme), you are setting yourself up to a very difficult task to control where the expression is delayed and where it is not.</p>\n"}], "owner": {"reputation": 3967, "user_id": 3853711, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/SwXly.png?s=128&g=1", "display_name": "Rahn", "link": "https://stackoverflow.com/users/3853711/rahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453882364, "creation_date": 1453860633, "last_edit_date": 1453864520, "question_id": 35027617, "link": "https://stackoverflow.com/questions/35027617/implement-if-else-as-a-procedure-in-lisp-ruby", "title": "Implement IF-ELSE as a procedure in Lisp/Ruby", "body": "<p>I'm reading the lambda calculus section(chapter 4) of <a href=\"https://rads.stackoverflow.com/amzn/click/com/1449329276\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Understanding Computation</a>. This code try building <code>MOD</code> with lambda calculus in Ruby:</p>\n\n<pre><code>MOD = -&gt; m { -&gt; n { CONTROL_IF[\n            IS_LESS_OR_EQUAL[n][m]\n            ][\n                MOD[SUBTRACT[m][n]][n]\n            ][\n                m\n            ]\n        }}\n\nCONTROL_IF = -&gt; b { b }\nIS_LESS_OR_EQUAL = -&gt; m { -&gt; n { IS_ZERO[SUBTRACT[m][n]] }}\nIS_ZERO = -&gt; n { n[-&gt; x { B_FALSE }][B_TRUE] }\n#Full code would listed below\n</code></pre>\n\n<p>irb fail and print <code>SystemStackError: stack level too deep</code></p>\n\n<p>when entered <code>to_integer(MOD[THREE][TWO])</code></p>\n\n<p>According to the book, <code>MOD</code> doesn't work since it fail to implement the lazy evaluation of Ruby <code>if-else</code> control logic and keeps calling itself recursively.</p>\n\n<p>And it works after modifying:</p>\n\n<pre><code>#working one\nMOD = -&gt; m { -&gt; n { CONTROL_IF[\n            IS_LESS_OR_EQUAL[n][m]\n            ][\n              -&gt; x { MOD[SUBTRACT[m][n]][n][x]}\n            ][\n              m\n            ]\n        }}\n</code></pre>\n\n<p>It is said that <code>-&gt; x { ...[x]}</code> delay the recursive calling of <code>MOD</code> but I don't get it.</p>\n\n<p>Further, it occurs to me a similar exercise(1.6) in SICP:</p>\n\n<pre><code>(define (new-if predicate then-clause else-clause)\n    (cond (predicate then-clause)\n        (else else-clause)))\n\n(define (sqrt-iter guess x)\n    (new-if (good-enough? guess x)\n            guess\n            (sqrt-iter (improve guess x) x)))\n</code></pre>\n\n<p>As a user-defined procedure, <code>sqrt-iter</code> runs into infinite recursion because <code>(sqrt-iter (improve guess x) x)</code> is evaluated every time as an argument of procedure <code>new-if</code>.</p>\n\n<p>So now I understand that key point of implementing <code>IF-ELSE</code> as a procedure is lazy evaluation and my question is:</p>\n\n<ol>\n<li><strong>Why could the</strong> <code>MOD</code> <strong>be working after modification?</strong></li>\n<li><strong>Can the</strong> <code>new-if</code> <strong>be improved in the Ruby way (</strong><code>-&gt; x { ...[x]}</code><strong>) so as to delay recursive calling?</strong></li>\n</ol>\n\n<p>Full code of Ruby:</p>\n\n<pre><code>ZERO  = -&gt; proc { -&gt; x {                          x      } }\nONE   = -&gt; proc { -&gt; x {                     proc[x]     } }\nTWO   = -&gt; proc { -&gt; x {                proc[proc[x]]    } }\nTHREE = -&gt; proc { -&gt; x {           proc[proc[proc[x]]]   } }\nFOUR  = -&gt; proc { -&gt; x {      proc[proc[proc[proc[x]]]]  } }\nFIVE  = -&gt; proc { -&gt; x { proc[proc[proc[proc[proc[x]]]]] } }\n\ndef to_integer(proc)\n    proc[-&gt; n { n + 1 }][0]\nend\n\nCONTROL_IF = -&gt; b { b }\n\nB_TRUE  = -&gt; x { -&gt; y { x }}\nB_FALSE = -&gt; x { -&gt; y { y }}\nIS_ZERO = -&gt; n { n[-&gt; x { B_FALSE }][B_TRUE] }\n\nIS_LESS_OR_EQUAL = -&gt; m { -&gt; n { IS_ZERO[SUBTRACT[m][n]] }}\n\nADD      = -&gt; m { -&gt; n { n[INCREMENT][m] } }\nSUBTRACT = -&gt; m { -&gt; n { n[DECREMENT][m] } }\n\nPAIR  = -&gt; x { -&gt; y { -&gt; f { f[x][y] } } }\nLEFT  = -&gt; p { p[-&gt; x { -&gt; y { x } } ] }\nRIGHT = -&gt; p { p[-&gt; x { -&gt; y { y } } ] }\n\nINCREMENT = -&gt; n { -&gt; p { -&gt; x { p[n[p][x]] } } }\n\nSLIDE     = -&gt; p { PAIR[RIGHT[p]][INCREMENT[RIGHT[p]]] }\nDECREMENT = -&gt; n { LEFT[n[SLIDE][PAIR[ZERO][ZERO]]] }\n\n=begin\n#failed one\nMOD = -&gt; m { -&gt; n { CONTROL_IF[\n            IS_LESS_OR_EQUAL[n][m]\n            ][\n                MOD[SUBTRACT[m][n]][n]\n            ][\n                m\n            ]\n        }}\n=end\n\n#working one\nMOD = -&gt; m { -&gt; n { CONTROL_IF[\n            IS_LESS_OR_EQUAL[n][m]\n            ][\n              -&gt; x { MOD[SUBTRACT[m][n]][n][x]}\n            ][\n              m\n            ]\n        }}\n\n#to_integer(MOD[THREE][TWO])\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "elasticsearch", "lucene"], "answers": [{"tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 1, "last_activity_date": 1453875550, "last_edit_date": 1453875550, "creation_date": 1453858644, "answer_id": 35027331, "question_id": 35027214, "link": "https://stackoverflow.com/questions/35027214/how-to-use-lucene-solr-in-rails-4/35027331#35027331", "title": "How to use Lucene/Solr in rails 4?", "body": "<p>You can use <a href=\"https://github.com/elastic/elasticsearch-rails\" rel=\"nofollow\">elastic-search-rails</a> gem for implementing full text search in your Rails application.</p>\n\n<p>In your <code>app/models/phone.rb:</code></p>\n\n<pre><code>require 'elasticsearch/model'\nclass Phone &lt; ActiveRecord::Base\n  include Elasticsearch::Model\n  include Elasticsearch::Model::Callbacks\nend\n\nPhone.import\n</code></pre>\n\n<p>Then, in your controller:</p>\n\n<pre><code>@result = Phone.search('foobar').records\n</code></pre>\n\n<p>Here is a good tutorial on <a href=\"http://www.codinginthecrease.com/news_article/show/409843?referrer_id=948927\" rel=\"nofollow\">Getting Started with Elasticsearch on Rails</a> that would help you. Another good SitePoint article that will help you get going is <a href=\"http://www.sitepoint.com/full-text-search-rails-elasticsearch/\" rel=\"nofollow\">Full-Text Search in Rails with ElasticSearch</a>.</p>\n"}], "owner": {"reputation": 409, "user_id": 5617584, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/888909587882951/picture?type=large", "display_name": "H\u01b0ng H&#237;p", "link": "https://stackoverflow.com/users/5617584/h%c6%b0ng-h%c3%adp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 35027331, "answer_count": 1, "score": 1, "last_activity_date": 1454019874, "creation_date": 1453857874, "last_edit_date": 1454019874, "question_id": 35027214, "link": "https://stackoverflow.com/questions/35027214/how-to-use-lucene-solr-in-rails-4", "title": "How to use Lucene/Solr in rails 4?", "body": "<p>My project is about an online Mobile Shopping site.</p>\n\n<p>I created search controller,and I use WHERE LIKE to do that:</p>\n\n<pre><code>def create\n    @result = Phone.where(['name LIKE ?', \"%#{get}%\" ])\n    render :index\nend\n\nprivate\n   def get\n      params[:keyword]\n   end \n</code></pre>\n\n<p>Now I want to exchange to Full-text-search.So have some gem to do that ? And how to code to searching by full-text-search ?</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453860238, "post_id": 35027053, "comment_id": 57781399, "body": "Welcome to Stack Overflow. When asking a question we expect to see evidence of your effort, either in where you searched and what those failed to show you, or your code toward solving the problem. As is it looks like you want us to write code for you which is not what Stack Overflow is for. Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;, &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;, <a href=\"http://meta.stackoverflow.com/q/261592/128421\">meta.stackoverflow.com/q/261592/128421</a> and <a href=\"http://tinyurl.com/stack-hints\" rel=\"nofollow noreferrer\">tinyurl.com/stack-hints</a>."}], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 4126841, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ab42893d8e2eccdcfabccad5a96e6bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Gaeta", "link": "https://stackoverflow.com/users/4126841/tony-gaeta"}, "edited": false, "score": 1, "creation_date": 1453857796, "post_id": 35027184, "comment_id": 57780706, "body": "This is exactly what I needed because it includes the 0 and stringify&#39;s the integers. Thanks!"}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "reply_to_user": {"reputation": 124, "user_id": 4126841, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ab42893d8e2eccdcfabccad5a96e6bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Gaeta", "link": "https://stackoverflow.com/users/4126841/tony-gaeta"}, "edited": false, "score": 1, "creation_date": 1453859059, "post_id": 35027184, "comment_id": 57781087, "body": "@TonyGaeta modifying @sawa&#39;s answer, try: <code>(&#39;0&#39;..&#39;23&#39;).map{|i| [i, i] }</code>."}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": true, "score": 5, "last_activity_date": 1453857690, "creation_date": 1453857690, "answer_id": 35027184, "question_id": 35027053, "link": "https://stackoverflow.com/questions/35027053/what-would-be-a-good-approach-to-creating-this-range-of-array-of-arrays-in-ruby/35027184#35027184", "title": "What would be a good approach to creating this range of array of arrays in ruby?", "body": "<pre><code>Array.new(24){|i| [i.to_s, i.to_s]}\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 4126841, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ab42893d8e2eccdcfabccad5a96e6bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Gaeta", "link": "https://stackoverflow.com/users/4126841/tony-gaeta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 35027184, "answer_count": 1, "score": -2, "last_activity_date": 1453866368, "creation_date": 1453856832, "question_id": 35027053, "link": "https://stackoverflow.com/questions/35027053/what-would-be-a-good-approach-to-creating-this-range-of-array-of-arrays-in-ruby", "title": "What would be a good approach to creating this range of array of arrays in ruby?", "body": "<p>I have this array I'm creating for a select box; however, this definitely does not look like a clean way of going about it. Can anyone provide an easier way to write this out?</p>\n\n<pre><code>[ [ '0', '0' ],\n  [ '1', '1' ],\n  [ '2', '2' ],\n  [ '3', '3' ],\n  [ '4', '4' ],\n  [ '5', '5' ],\n  [ '6', '6' ],\n  [ '7', '7' ],\n  [ '8', '8' ],\n  [ '9', '9' ],\n  [ '10', '10' ],\n  [ '11', '11' ],\n  [ '12', '12' ],\n  [ '13', '13' ],\n  [ '14', '14' ],\n  [ '15', '15' ],\n  [ '16', '16' ],\n  [ '17', '17' ],\n  [ '18', '18' ],\n  [ '19', '19' ],\n  [ '20', '20' ],\n  [ '21', '21' ],\n  [ '22', '22' ],\n  [ '23', '23' ] ]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 2110, "user_id": 2146879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMsq7.jpg?s=128&g=1", "display_name": "Ho Man", "link": "https://stackoverflow.com/users/2146879/ho-man"}, "edited": false, "score": 1, "creation_date": 1453855921, "post_id": 35026680, "comment_id": 57780135, "body": "have you reloaded the console, either via reload! or restarting it?"}, {"owner": {"reputation": 1568, "user_id": 966100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xN0ul.jpg?s=128&g=1", "display_name": "eeeeeean", "link": "https://stackoverflow.com/users/966100/eeeeeean"}, "edited": false, "score": 0, "creation_date": 1453857766, "post_id": 35026680, "comment_id": 57780689, "body": "Thanks, Ho Man. Yes. I have."}], "tags": [], "owner": {"reputation": 841, "user_id": 2114492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc445ff127826b4e53e0199eecb213aa?s=128&d=identicon&r=PG", "display_name": "edikgat", "link": "https://stackoverflow.com/users/2114492/edikgat"}, "is_accepted": true, "score": 2, "last_activity_date": 1453854624, "creation_date": 1453854624, "answer_id": 35026680, "question_id": 35026586, "link": "https://stackoverflow.com/questions/35026586/undefined-method-created-at-for-activerecord-object/35026680#35026680", "title": "undefined method `created_at&#39; for ActiveRecord object", "body": "<p>active record read attributtes form your db\nso - there are no created_at and updated_at fields in your alerts table</p>\n\n<p>your should create migration for adding that fields</p>\n\n<pre><code>class AddTimestampsToAlerts &lt; ActiveRecord::Migration\n  def change\n    change_table(:alerts) do |t| \n      t.timestamps\n    end\n  end\nend \n</code></pre>\n"}], "owner": {"reputation": 1568, "user_id": 966100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xN0ul.jpg?s=128&g=1", "display_name": "eeeeeean", "link": "https://stackoverflow.com/users/966100/eeeeeean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1788, "favorite_count": 0, "accepted_answer_id": 35026680, "answer_count": 1, "score": 0, "last_activity_date": 1453858284, "creation_date": 1453854084, "last_edit_date": 1453858284, "question_id": 35026586, "link": "https://stackoverflow.com/questions/35026586/undefined-method-created-at-for-activerecord-object", "title": "undefined method `created_at&#39; for ActiveRecord object", "body": "<p>I've defined an ActiveRecord object that somehow doesn't have methods <code>created_at</code> or <code>updated_at</code>.</p>\n\n<p>In the console:</p>\n\n<pre><code>a = Alert.find(1)\n=&gt; #&lt;Alert id: 1, unread: false, alertable_type: \"Comment\", alertable_id: 1, membership_id: 1, stake_id: 1&gt;\na.class\n=&gt; Alert(id: integer, unread: boolean, alertable_type: string, alertable_id: integer, membership_id: integer, stake_id: integer)\na.is_a? ActiveRecord::Base\n=&gt; true\na.created_at\nNoMethodError: undefined method `created_at' for #&lt;Alert:0x00000108b83b80&gt;\n</code></pre>\n\n<p>There's nothing strange as far as I can tell in my schema or <code>alert.rb</code> though I'd be glad to post them. I've restarted my console. I've checked my last few dozen commits to make sure I didn't accidentally touch some config file somewhere.</p>\n\n<p>I'm doing other ActiveRecord methods on Alert objects, for example <code>update_attributes</code>. Also <code>created_at</code> and <code>updated_at</code> are working normally for my other models. Any idea where I'd look next?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "rmagick"], "comments": [{"owner": {"reputation": 584, "user_id": 1753072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBgnF.jpg?s=128&g=1", "display_name": "semiomant", "link": "https://stackoverflow.com/users/1753072/semiomant"}, "edited": false, "score": 0, "creation_date": 1460561931, "post_id": 35026112, "comment_id": 60803606, "body": "One thing to remember is to close and restart the CommandPrompt after installing ImageMagick. Only then the option &quot;add application to system path&quot; will take effect."}, {"owner": {"reputation": 2885, "user_id": 1903781, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/61Mu1.jpg?s=128&g=1", "display_name": "Adrian Moisa", "link": "https://stackoverflow.com/users/1903781/adrian-moisa"}, "edited": false, "score": 0, "creation_date": 1473951136, "post_id": 35026112, "comment_id": 66344214, "body": "Late at the party. Check out this <a href=\"http://stackoverflow.com/a/39513938/1903781\">answer</a> on how to install <code>rmagik</code> on windows 10."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453929238, "post_id": 35026291, "comment_id": 57820401, "body": "I&#39;ve tried that countless times, but DevKit keeps preventing the gem from being installed, and the command line stated that DevKit is needed to install the gem."}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453929295, "post_id": 35026291, "comment_id": 57820436, "body": "There is a trick to doing it. Admittedly, I&#39;ve forgotten the specifics, we have it running."}, {"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453930604, "post_id": 35026291, "comment_id": 57821209, "body": "Yes, and there are not any answers on how to install it online."}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453930791, "post_id": 35026291, "comment_id": 57821336, "body": "Want to go to chat about it? I remember having to fiddle with it to get it to work"}, {"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453931139, "post_id": 35026291, "comment_id": 57821531, "body": "Ok, where can we chat?"}, {"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 1, "creation_date": 1453959208, "post_id": 35026291, "comment_id": 57831147, "body": "Can someone please show me on this interface of Stack Overflow how to install imagemagick properly with DevKit to install rmagick?"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453973704, "post_id": 35026291, "comment_id": 57838556, "body": "Update written; if you want to go to chat, I&#39;ll help you install it."}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453976565, "post_id": 35026291, "comment_id": 57840504, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/101865/discussion-between-rich-peck-and-metaco57\">continue this discussion in chat</a>."}, {"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1453996049, "post_id": 35026291, "comment_id": 57854921, "body": "Sorry, I don&#39;t have enough reputation points to go into chat on here."}, {"owner": {"reputation": 182, "user_id": 3338091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qIygf.jpg?s=128&g=1", "display_name": "Sergio A.", "link": "https://stackoverflow.com/users/3338091/sergio-a"}, "edited": false, "score": 0, "creation_date": 1610450674, "post_id": 35026291, "comment_id": 116131142, "body": "I have wasted 4 hours researching on this. Got it installed last year but this time I had no luck. Thanks to your links I finally got it working.It seems this issue is caused of incompatible Imagemagick and Rmagick versions. I got it working with Imagemagick 6.9.3-2-Q16-HDRI-x64-dll, and rmagick-4.1.2."}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 4, "last_activity_date": 1608451474, "last_edit_date": 1608451474, "creation_date": 1453852458, "answer_id": 35026291, "question_id": 35026112, "link": "https://stackoverflow.com/questions/35026112/how-to-install-rmagick-on-windows-10/35026291#35026291", "title": "How to install rmagick on windows 10", "body": "<p>You have to use the correct version of ImageMagick, and have to reference that when you install the gem:</p>\n<ul>\n<li><a href=\"https://www.imagemagick.org/script/download.php\" rel=\"nofollow noreferrer\">Download ImageMagick 6.9.x HDRI Q16 (64bit)</a> (<a href=\"http://www.imagemagick.org/download/binaries/ImageMagick-6.9.3-2-Q16-HDRI-x64-dll.exe\" rel=\"nofollow noreferrer\">direct</a>)</li>\n<li>Install it into a path <strong>without spaces</strong></li>\n<li>Reference the installed files when you install the gem:</li>\n</ul>\n<p>Here is the gem:</p>\n<pre><code>gem install rmagick --platform=ruby -- '--with-opt-dir=&quot;[path to ImageMagick]&quot;'\n</code></pre>\n<hr />\n<h1>Update</h1>\n<p>Here's a <a href=\"https://www.redmine.org/projects/redmine/wiki/HowTo_install_rmagick_gem_on_Windows\" rel=\"nofollow noreferrer\">good reference</a></p>\n<p>Here's how to install it step-by-step:</p>\n<ol>\n<li><strong><a href=\"https://www.imagemagick.org/script/download.php\" rel=\"nofollow noreferrer\">Download</a> &amp; Install ImageMagick</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/KiY5m.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KiY5m.gif\" alt=\"enter image description here\" /></a></p>\n<p>There used to be a problem with newer versions of RMagick; we installed the version <code>6.9.2</code>, which is working on Win10 x64:</p>\n<p><a href=\"https://i.stack.imgur.com/nRa8K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nRa8K.png\" alt=\"enter image description here\" /></a></p>\n<p>You need to make sure you have the above two checkboxes ticked (<code>C headers</code> &amp;&amp; <code>system PATH</code>). The headers are used by the gem to compile (the likely reason for your error); <code>PATH</code> is used to call ImageMagick from the cmd.</p>\n<p>You also need to make sure...</p>\n<ul>\n<li>Install path has <strong>no spaces</strong></li>\n<li>You download <a href=\"http://www.imagemagick.org/download/binaries/ImageMagick-6.9.3-2-Q16-HDRI-x64-dll.exe\" rel=\"nofollow noreferrer\"><code>dll</code> version of ImageMagick</a> (contains C Headers)</li>\n<li>We got the HDRI version; it doesn't really matter</li>\n</ul>\n<p>--</p>\n<ol start=\"2\">\n<li><strong>Install the gem</strong></li>\n</ol>\n<p>Like <code>mysql2</code> etc, you need to make sure you reference the installed libraries in order to get <code>rmagick</code> to install:</p>\n<pre><code>gem install rmagick --platform=ruby -- --with-opt-lib=&quot;c:/path_to_image_magick/lib&quot; --with-opt-include=&quot;c:/path_to_image_magick/include&quot;\n</code></pre>\n<p>This may take a while, but should install.</p>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 2148956, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02753bb3985c104236033d09224fdf1c?s=128&d=identicon&r=PG", "display_name": "user2148956", "link": "https://stackoverflow.com/users/2148956/user2148956"}, "is_accepted": false, "score": 0, "last_activity_date": 1539692446, "creation_date": 1539692446, "answer_id": 52835365, "question_id": 35026112, "link": "https://stackoverflow.com/questions/35026112/how-to-install-rmagick-on-windows-10/52835365#52835365", "title": "How to install rmagick on windows 10", "body": "<p>Make sure to use the 32-bit (i.e. x86) versions of ruby AND devkit. For some reason the build process for rmagick crashes with the 64-bit versions.</p>\n"}], "owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2864, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1608451474, "creation_date": 1453851450, "question_id": 35026112, "link": "https://stackoverflow.com/questions/35026112/how-to-install-rmagick-on-windows-10", "title": "How to install rmagick on windows 10", "body": "<p>I am trying to install a gem which has rmagick as a dependency on windows 10. But each time I try to install it, this error appears: </p>\n\n<pre><code>ERROR:  Error installing rmagick:\n    ERROR: Failed to build gem native extension.\n\nC:/Ruby22-x64/bin/ruby.exe -r ./siteconf20160126-6648-ks1v6.rb extconf.rb --  with-opt-dir=C:/ImageMagick\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n    --with-opt-dir\n    --with-opt-include\n    --without-opt-include=${opt-dir}/include\n    --with-opt-lib\n    --without-opt-lib=${opt-dir}/lib\n    --with-make-prog\n    --without-make-prog\n    --srcdir=.\n    --curdir\n    --ruby=C:/Ruby22-x64/bin/$(RUBY_BASE_NAME)\nextconf.rb:110:in ``': No such file or directory - identify -version    (Errno::ENOENT)\n    from extconf.rb:110:in `configure_compile_options'\n    from extconf.rb:16:in `initialize'\n    from extconf.rb:517:in `new'\n    from extconf.rb:517:in `&lt;main&gt;'\n\nextconf failed, exit code 1\n\nGem files will remain installed in C:/Ruby22-   x64/lib/ruby/gems/2.2.0/gems/rmagick-2.15.4 for inspection.\nResults logged to C:/Ruby22-x64/lib/ruby/gems/2.2.0/extensions/x64- mingw32/2.2.0/rmagick-2.15.4/gem_make.out\nTemporarily enhancing PATH to include DevKit...\nBuilding native extensions with: '--with-opt-dir=C:/ImageMagick'\nThis could take a while...\n</code></pre>\n\n<p>I have even installed the gem imagemagick, but it doesn't allow me to install rmagick. How are you supposed to install rmagick on windows 10?  </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 1, "creation_date": 1453851587, "post_id": 35025901, "comment_id": 57778825, "body": "Why don&#39;t you use Rails&#39; (and Ruby) naming conventions and name your methods with underscore (<code>create_customer</code>) instead of camel case?"}, {"owner": {"reputation": 233, "user_id": 5278592, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/c88151d9bdf0065c1171fa4c7e97c9b2?s=128&d=identicon&r=PG&f=1", "display_name": "farhan", "link": "https://stackoverflow.com/users/5278592/farhan"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 1, "creation_date": 1453852519, "post_id": 35025901, "comment_id": 57779122, "body": "my bad, im still new to it. Im coming from iOS. ill change it. Is that the issue?"}, {"owner": {"reputation": 1, "user_id": 2789614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a17e914f19055702fe666a7802d4cae?s=128&d=identicon&r=PG&f=1", "display_name": "aerz", "link": "https://stackoverflow.com/users/2789614/aerz"}, "edited": false, "score": 0, "creation_date": 1453854831, "post_id": 35025901, "comment_id": 57963749, "body": "Do you have <code>get &#39;charge&#47;createCustomer&#39;</code> in <code>route.rb</code> or respond_to do |format| format.html end in <code>createCustomer</code> method?"}, {"owner": {"reputation": 175, "user_id": 6011636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qZqLjjnKMrc/AAAAAAAAAAI/AAAAAAAAAD0/YYbYp8yTIMI/photo.jpg?sz=128", "display_name": "praveenkumar", "link": "https://stackoverflow.com/users/6011636/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1486652049, "post_id": 35025901, "comment_id": 71445833, "body": "I also have a same issue anyone solve that..plz give some details about that"}], "answers": [{"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 0, "last_activity_date": 1453897334, "creation_date": 1453897334, "answer_id": 35037265, "question_id": 35025901, "link": "https://stackoverflow.com/questions/35025901/getting-actionviewmissingtemplate/35037265#35037265", "title": "getting ActionView::MissingTemplate", "body": "<p>To add to the comments, you need to equate yourself with the Rails infrastructure (<a href=\"https://en.wikipedia.org/wiki/Convention_over_configuration\" rel=\"nofollow\">convention over configuration</a>):</p>\n\n<ul>\n<li>Class names are <a href=\"https://en.wikipedia.org/wiki/CamelCase\" rel=\"nofollow\"><code>CamelCase</code></a>, file names are <a href=\"https://en.wikipedia.org/wiki/Snake_case\" rel=\"nofollow\"><code>snake_case</code></a></li>\n<li>Controllers are <code>plural</code> (mostly)</li>\n<li>You should keep your controllers <a href=\"http://guides.rubyonrails.org/routing.html#resource-routing-the-rails-default\" rel=\"nofollow\"><code>resourceful</code></a></li>\n</ul>\n\n<hr>\n\n<p>Here's how it should be structured:</p>\n\n<pre><code># config/routes.rb\nresources :customers #-&gt; url.com/customers/new\n\n# app/controllers/customers_controller.rb\nclass CustomersController &lt; ApplicationController\n   def new\n      @customer = Customer.new\n   end\n\n   def create\n      @customer = Customer.new customer_params\n      redirect_to @customer if @customer.save\n   end\n\n   private\n\n   def customer_params\n      params.require(:customer).permit(...)\n   end\nend\n\n# app/views/customers/new.html.erb\n&lt;%= form_for @customer do |f| %&gt;\n   ...\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 5278592, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/c88151d9bdf0065c1171fa4c7e97c9b2?s=128&d=identicon&r=PG&f=1", "display_name": "farhan", "link": "https://stackoverflow.com/users/5278592/farhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453897334, "creation_date": 1453850189, "last_edit_date": 1453896860, "question_id": 35025901, "link": "https://stackoverflow.com/questions/35025901/getting-actionviewmissingtemplate", "title": "getting ActionView::MissingTemplate", "body": "<p>i have a method called <code>def createCustomer</code> so i created a .html.erb file called createCustomer within the folder name <code>charge</code> which is the name of the controller. This <code>charge</code> folder is in under the <code>views</code> folder. </p>\n\n<p>i am getting this on my logs </p>\n\n<pre><code>ActionView::MissingTemplate (Missing template charge/createCustomer, application/createCustomer with {:locale=&gt;[:en], :formats=&gt;[:html, :text, :js, :css, :ics, :csv, :vcf, :png, :jpeg, :gif, :bmp, :tiff, :mpeg, :xml, :rss, :atom, :yaml, :multipart_form, :url_encoded_form, :json, :pdf, :zip], :variants=&gt;[], :handlers=&gt;[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in: 2016-01-26T23:00:34.324498+00:00 app[web.1]:   * \"/app/app/views\"\n</code></pre>\n"}, {"tags": ["ruby", "rbenv", "irb"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453860672, "post_id": 35025415, "comment_id": 57781550, "body": "We don&#39;t have enough information to diagnose the problem without guessing. Your Ruby is one not installed by rvm or rbenv; I could have been installed by Homebrew. Run <code>gem env</code> at the command-line and copy/paste the information into your question, formatting it appropriately. I suspect you haven&#39;t initialized rbenv correctly. Please review the rbenv documentation and the related links on the right side of this page. Also read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and come up with a more indicative title for your question. The more effort you put into the question the better we can help you."}, {"owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453921374, "post_id": 35025415, "comment_id": 57815972, "body": "Thank you. I have edited my question to better reflect my problem."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453848802, "post_id": 35025536, "comment_id": 57777779, "body": "That was a typo in the question I posed here.  The closing quotes are intact in my file. Thank you kindly for the response."}, {"owner": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "reply_to_user": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453848884, "post_id": 35025536, "comment_id": 57777814, "body": "Did you try removing the require statements entirely and running your code?"}, {"owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453849560, "post_id": 35025536, "comment_id": 57778074, "body": "After the required two gems there&#39;s not much else other than the class and it works fine without the gems."}, {"owner": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "reply_to_user": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453850255, "post_id": 35025536, "comment_id": 57778343, "body": "Yup. Your problem is that you are requiring yourself, and you can&#39;t do that"}, {"owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453851133, "post_id": 35025536, "comment_id": 57778679, "body": "Dbz, I&#39;m not clear as to what you mean by &#39;requiring yourself&#39;. Could you expand on that point. Sincerely,Mitch"}, {"owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453851580, "post_id": 35025536, "comment_id": 57778824, "body": "Dbz, I&#39;m not clear as to what you mean by &#39;requiring yourself&#39;. Could you expand on that point? What I understand is that I don&#39;t require the gems? Is that correct? I am newish and none of this comes easily to me. Sincerely, Mitch"}, {"owner": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "reply_to_user": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453851732, "post_id": 35025536, "comment_id": 57778865, "body": "I thought you were requiring &#39;game.rb&#39;, but you&#39;re not. The issue is still the rubygame gem. Try &#39;gem install rubygame&#39;. Let me know if that works"}, {"owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453852301, "post_id": 35025536, "comment_id": 57779051, "body": "Both appear in my gem list, rubygame (2.6.4) and rubygems-update (2.5.1). I ran the gem install rubygame as you recommended, but if you&#39;ll notice they appear to be part of the stack. Any other thoughts?"}], "tags": [], "owner": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "is_accepted": false, "score": 0, "last_activity_date": 1453850489, "last_edit_date": 1453850489, "creation_date": 1453848421, "answer_id": 35025536, "question_id": 35025415, "link": "https://stackoverflow.com/questions/35025415/when-i-load-game-rb-in-my-irb-console-it-returns-a-stack-of-lines-the-firs/35025536#35025536", "title": "When I $ load &#39;game.rb&#39; in my &#39;irb&#39; console it returns a stack of lines the first of which contains &quot;Could not load SDL. (LoadError)&quot;", "body": "<p>In your question you have:</p>\n\n<pre><code>require 'rubygems'\nrequire 'rubygame'\n</code></pre>\n\n<p>I don't think you will need the first require, but your problem is that you are requiring the file you're in. Try removing them altogether and running your program i.e.</p>\n\n<pre><code># No require statements\nclass Game\nend\n</code></pre>\n\n<p>Your error message says the problem is from line 2, and that is <code>require 'rubygame'</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 9795, "user_id": 1566187, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00cb2ecc49f0f05736dc7c14bbccfeaa?s=128&d=identicon&r=PG", "display_name": "Ely", "link": "https://stackoverflow.com/users/1566187/ely"}, "is_accepted": false, "score": 1, "last_activity_date": 1453855889, "last_edit_date": 1453855889, "creation_date": 1453848497, "answer_id": 35025551, "question_id": 35025415, "link": "https://stackoverflow.com/questions/35025415/when-i-load-game-rb-in-my-irb-console-it-returns-a-stack-of-lines-the-firs/35025551#35025551", "title": "When I $ load &#39;game.rb&#39; in my &#39;irb&#39; console it returns a stack of lines the first of which contains &quot;Could not load SDL. (LoadError)&quot;", "body": "<p>I think you have to learn how to use <code>rbenv</code>: <a href=\"https://github.com/rbenv/rbenv#choosing-the-ruby-version\" rel=\"nofollow\">Choosing the Ruby Version</a></p>\n\n<blockquote>\n  <p><strong>Choosing the Ruby Version</strong></p>\n  \n  <p>When you execute a shim, rbenv determines which Ruby version to use by\n  reading it from the following sources, in this order:</p>\n  \n  <ol>\n  <li><p>The RBENV_VERSION environment variable, if specified. You can use the\n  rbenv shell command to set this environment variable in your current\n  shell session.</p></li>\n  <li><p>The first .ruby-version file found by searching the directory of the\n  script you are executing and each of its parent directories until\n  reaching the root of your filesystem.</p></li>\n  <li><p>The first .ruby-version file found by searching the current working\n  directory and each of its parent directories until reaching the root\n  of your filesystem. You can modify the .ruby-version file in the\n  current working directory with the rbenv local command.</p></li>\n  <li><p>The global ~/.rbenv/version file. You can modify this file using the\n  rbenv global command. If the global version file is not present, rbenv\n  assumes you want to use the \"system\" Ruby\u2014i.e. whatever version would\n  be run if rbenv weren't in your path.</p></li>\n  </ol>\n</blockquote>\n\n<p>You can use the <code>rbenv</code> command to display the options and to query the status of your current environment. Check it out, it is self explaining I'd say.</p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453928707, "post_id": 35046183, "comment_id": 57820115, "body": "Your explanation is clear and I had a feeling that this was the case. I will read, review, and reflect on the available resources and with a little confidence, I should be able to resolve these issues with my development-enviroment. As you might have already guessed I am rather new to coding. Sincerely, thank you."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "reply_to_user": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "edited": false, "score": 0, "creation_date": 1453929140, "post_id": 35046183, "comment_id": 57820348, "body": "Work through that information. Programming is part system administration and part coding; We don&#39;t normally need to know as much as a dedicated system-administrator (nor do I ever want to) but knowing enough to stay out of trouble, to know what commands make no sense in a given situation, and what you need to know when asking for help can take a while to learn. You should also read <a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>. Wait a couple days before selecting answers because it takes a while for good answers to be formulated, but selecting the answer that helped helps everyone."}], "tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 1, "last_activity_date": 1453928623, "last_edit_date": 1453928623, "creation_date": 1453922424, "answer_id": 35046183, "question_id": 35025415, "link": "https://stackoverflow.com/questions/35025415/when-i-load-game-rb-in-my-irb-console-it-returns-a-stack-of-lines-the-firs/35046183#35046183", "title": "When I $ load &#39;game.rb&#39; in my &#39;irb&#39; console it returns a stack of lines the first of which contains &quot;Could not load SDL. (LoadError)&quot;", "body": "<p>Take a look at your PATH as displayed by <code>gem env</code>:</p>\n\n<pre><code> - /Library/Frameworks/Python.framework/Versions/3.5/bin\n - /usr/local/bin\n - /Users/michelfrechette/.rbenv/shims\n - /Users/michelfrechette/.rbenv/bin\n - /usr/local/bin\n - /usr/local/sbin\n - /usr/local/mysql/bin\n - /usr/bin\n - /usr/local/heroku/bin\n - /usr/local/bin\n - /usr/bin\n - /bin\n - /usr/sbin\n - /sbin\n - /Users/michelfrechette/.rvm/bin\n - /Applications/Postgres.app/Contents/Versions/9.4/bin\n</code></pre>\n\n<p>You have multiple issues:</p>\n\n<ul>\n<li>Multiple definitions for <code>/usr/bin</code> and <code>/usr/local/bin</code></li>\n<li><p>You have a <code>/usr/local/bin</code> before <code>.rbenv/shims</code> or <code>.rbenv/bin</code></p>\n\n<p>This will cause <code>ruby</code>, or any command associated with Ruby, to be searched for in <code>/usr/local/bin</code> before any Ruby managed by rbenv. And, if it's found that will be executed, even if you want rbenv to use a different version.</p></li>\n<li><p>You have a remaining <code>.rvm/bin</code> in your home directory that could be searched if a hit didn't occur in any previous directory, possibly resulting in crashing code since nothing else it points to appears to exist any more.</p></li>\n</ul>\n\n<p>To fix this:</p>\n\n<ul>\n<li>Look in your ~/.bashrc and ~/.bash_profile files and figure out where your PATH is being modified and clean it up. There are lots of resources on the internet explaining how PATH should be defined, but in short you want to search in your <code>.rbenv</code> directory before <code>/usr/local/bin</code> and in <code>/usr/local/bin</code> before any <code>/usr/bin</code>.</li>\n<li>Look in ~/.bashrc and ~/.bash_profile and make sure that rbenv is being initialized correctly. The documentation explains how to do that.</li>\n<li>Delete the ~/.rvm directory. rbenv and RVM do not make good companions since they're designed to do the same thing only they do it different ways. The ensuing tug-of-war if they both try to manage your Rubies will make you insane.</li>\n</ul>\n\n<p>Programmers have to understand their underlying OS enough to not get it messed up. You need to understand how your shell uses ~/.bashrc and ~/.bash_profile, how it searches PATH and resolves the names of executables, and how rbenv is supposed to be initialized.</p>\n\n<p>There are multiple answers on SO about rbenv initialization so search. You'll find the information.</p>\n"}], "owner": {"reputation": 87, "user_id": 2925162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/634730582/picture?type=large", "display_name": "Michel Frechette", "link": "https://stackoverflow.com/users/2925162/michel-frechette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 2, "answer_count": 3, "score": -3, "last_activity_date": 1454047882, "creation_date": 1453847922, "last_edit_date": 1454047882, "question_id": 35025415, "link": "https://stackoverflow.com/questions/35025415/when-i-load-game-rb-in-my-irb-console-it-returns-a-stack-of-lines-the-firs", "title": "When I $ load &#39;game.rb&#39; in my &#39;irb&#39; console it returns a stack of lines the first of which contains &quot;Could not load SDL. (LoadError)&quot;", "body": "<p>This is the output from <code>$ gem env</code>:</p>\n\n<pre><code>Michels-MacBook-Pro:~ michelfrechette$ gem env\nRubyGems Environment:\n  - RUBYGEMS VERSION: 2.5.1\n  - RUBY VERSION: 2.2.3 (2015-08-18 patchlevel 173) [x86_64-darwin15]\n  - INSTALLATION DIRECTORY: /usr/local/lib/ruby/gems/2.2.0\n  - USER INSTALLATION DIRECTORY: /Users/michelfrechette/.gem/ruby/2.2.0\n  - RUBY EXECUTABLE: /usr/local/opt/ruby/bin/ruby\n  - EXECUTABLE DIRECTORY: /usr/local/bin\n  - SPEC CACHE DIRECTORY: /Users/michelfrechette/.gem/specs\n  - SYSTEM CONFIGURATION DIRECTORY: /usr/local/Cellar/ruby/2.2.3/etc\n  - RUBYGEMS PLATFORMS:\n  - ruby\n    - x86_64-darwin-15\n  - GEM PATHS:\n     - /usr/local/lib/ruby/gems/2.2.0\n     - /Users/michelfrechette/.gem/ruby/2.2.0\n     - /usr/local/Cellar/ruby/2.2.3/lib/ruby/gems/2.2.0\n  - GEM CONFIGURATION:\n     - :update_sources =&gt; true\n     - :verbose =&gt; true\n     - :backtrace =&gt; false\n     - :bulk_threshold =&gt; 1000\n  - REMOTE SOURCES:\n     - https://rubygems.org/\n  - SHELL PATH:\n     - /Library/Frameworks/Python.framework/Versions/3.5/bin\n     - /usr/local/bin\n     - /Users/michelfrechette/.rbenv/shims\n     - /Users/michelfrechette/.rbenv/bin\n     - /usr/local/bin\n     - /usr/local/sbin\n     - /usr/local/mysql/bin\n     - /usr/bin\n     - /usr/local/heroku/bin\n     - /usr/local/bin\n     - /usr/bin\n     - /bin\n     - /usr/sbin\n     - /sbin\n     - /Users/michelfrechette/.RVM/bin\n     - /Applications/Postgres.app/Contents/Versions/9.4/bin\nMichels-MacBook-Pro:~ michelfrechette$ \n</code></pre>\n\n<p>I am running a script using <code>$ ruby game.rb</code>, which contains:</p>\n\n<pre><code>require 'rubygame'\n\nclass Game\nend\n</code></pre>\n\n<p>I am using rbenv to manage my versions of Ruby and it is currently set to 2.3.0-dev; once upon a time I had RVM installed on my MacBook-Pro.</p>\n\n<p>When I run commands like <code>brew update</code> or <code>gem update</code> all appears to be fine.  </p>\n\n<p>I've tried using ruby 2.2.0, but it doesn't make a difference.  </p>\n\n<p>When I run <code>ruby -v</code> I get <code>2.3.0p173</code>.</p>\n\n<p>Is this occurring because I once used RVM as my version manager.</p>\n\n<p>Is this the output I should be seeing when I run my file?  </p>\n\n<pre><code>Last login: Tue Jan 26 16:27:35 on ttys005\nMichels-MacBook-Pro:~ michelfrechette$ ruby game.rb\n/usr/local/lib/ruby/gems/2.2.0/gems/nice-ffi-0.4/lib/nice-ffi/library.rb:98:in `load_library': Could not load SDL. (LoadError)\nfrom /usr/local/lib/ruby/gems/2.2.0/gems/ruby-sdl-ffi-0.4/lib/ruby-sdl-ffi/sdl.rb:51:in `&lt;module:SDL&gt;'\nfrom /usr/local/lib/ruby/gems/2.2.0/gems/ruby-sdl-ffi-0.4/lib/ruby-sdl-ffi/sdl.rb:34:in `&lt;top (required)&gt;'\nfrom /usr/local/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:67:in `require'\nfrom /usr/local/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:67:in `require'\nfrom /usr/local/lib/ruby/gems/2.2.0/gems/rubygame-2.6.4/lib/rubygame/main.rb:22:in `&lt;top (required)&gt;'\nfrom /usr/local/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:119:in `require'\nfrom /usr/local/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:119:in `require'\nfrom /usr/local/lib/ruby/gems/2.2.0/gems/rubygame-2.6.4/lib/rubygame.rb:44:in `block in &lt;top (required)&gt;'\nfrom /usr/local/lib/ruby/gems/2.2.0/gems/rubygame-2.6.4/lib/rubygame.rb:43:in `each'\nfrom /usr/local/lib/ruby/gems/2.2.0/gems/rubygame-2.6.4/lib/rubygame.rb:43:in `&lt;top (required)&gt;'\nfrom /usr/local/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:126:in `require'\nfrom /usr/local/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:126:in `rescue in require'\nfrom /usr/local/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:39:in `require'\nfrom game.rb:2:in `&lt;main&gt;'\n  Michels-MacBook-Pro:~ michelfrechette$\n</code></pre>\n\n<p>How can I fix this?  </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "edited": false, "score": 0, "creation_date": 1453849295, "post_id": 35025326, "comment_id": 57777965, "body": "There might be better ways of doing things.  If you are referring to <code>has_many :widgets</code> as <code>array</code> then that must be corrected. Secondly, I would not advise your <code>after_initialize</code> block for what it is doing because <code>after_initialize</code> gets called everywhere, initialization, Active Record&#39;s finders etc. Could you add more information to your problem?"}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1453869247, "post_id": 35025326, "comment_id": 57784068, "body": "By default, you can access <code>my_model.widgets[0]</code>, <code>my_model.widgets[1]</code>, <code>my_model.widgets.last</code> etc. - is there anything missing in that way of doing things?"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 4621307, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fxBMlFTpnAY/AAAAAAAAAAI/AAAAAAAABQU/eiZT3Th4r1I/photo.jpg?sz=128", "display_name": "Nick Aschenbach", "link": "https://stackoverflow.com/users/4621307/nick-aschenbach"}, "is_accepted": false, "score": 0, "last_activity_date": 1453865478, "creation_date": 1453865478, "answer_id": 35028360, "question_id": 35025326, "link": "https://stackoverflow.com/questions/35025326/bind-value-to-ruby-define-method/35028360#35028360", "title": "Bind value to ruby define_method", "body": "<p>I might create an accessor / assignment methods that overload the <code>[]</code> operator:</p>\n\n<pre><code>class BracketOperator\n  def initialize\n    @values = (1..100).to_a\n  end\n\n  def [](index)\n    @values[index]\n  end\n\n  def []=(index, value)\n    @values[index] = value\n  end\n end\n\n bo = BracketOperator.new\n bo[3] # =&gt; 4\n bo[3] = 17\n bo[3] # =&gt; 17\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10064, "user_id": 1769276, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ddbbe9a629cce4be0da2d0a7a3421370?s=128&d=identicon&r=PG", "display_name": "PressingOnAlways", "link": "https://stackoverflow.com/users/1769276/pressingonalways"}, "is_accepted": false, "score": 0, "last_activity_date": 1453883723, "creation_date": 1453883723, "answer_id": 35032296, "question_id": 35025326, "link": "https://stackoverflow.com/questions/35025326/bind-value-to-ruby-define-method/35032296#35032296", "title": "Bind value to ruby define_method", "body": "<p>So for reference, here's the answer I came up with. Apparently I don't understand scoping for ruby too well. The variable <code>n</code> somehow remains referenced to the n within the each loop. Hence for my original question, I can just use the <code>index</code> variable within the method and it will be mapped to what I am expecting it to be mapped to.</p>\n\n<pre><code> class Test\n   def setup\n     names = [ \"foo\",\"bar\" ] \n     names.each do |n|\n       self.class.send :define_method, n do\n         puts \"method is called #{n}!\"\n       end\n     end\n   end\n end\n</code></pre>\n"}], "owner": {"reputation": 10064, "user_id": 1769276, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ddbbe9a629cce4be0da2d0a7a3421370?s=128&d=identicon&r=PG", "display_name": "PressingOnAlways", "link": "https://stackoverflow.com/users/1769276/pressingonalways"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453883723, "creation_date": 1453847534, "question_id": 35025326, "link": "https://stackoverflow.com/questions/35025326/bind-value-to-ruby-define-method", "title": "Bind value to ruby define_method", "body": "<p>In my model, I'm trying to dynamically expose objects that are inside an array as a top level attribute. Here's the code snippet:</p>\n\n<pre><code>class Widget &lt; ActiveRecord::Base\n  # attr_accessor :name\nend\n\nclass MyModel &lt; ActiveRecord::Base\n  has_many :widgets\n  #attr_accessor :widgets\n\n  after_initialize :init_widgets\n\n  def init_widgets\n    widgets\n    widgets.each_with_index do |widget, index|\n      define_method(widget.name) do\n        widgets[index]\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>Is there any way for me to define the value of index into the new method I am creating so that it will be associated with the proper index?</p>\n"}, {"tags": ["ruby"], "owner": {"reputation": 403, "user_id": 1515316, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/lLdvb.jpg?s=128&g=1", "display_name": "wise_gremlin", "link": "https://stackoverflow.com/users/1515316/wise-gremlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1453846646, "creation_date": 1453846646, "question_id": 35025119, "link": "https://stackoverflow.com/questions/35025119/rbconfig-ruby-version-mismatch", "title": "RbConfig ruby_version mismatch", "body": "<p>When I run the following Ruby code:</p>\n\n<pre><code>require 'rbconfig'\nputs RbConfig::CONFIG[\"ruby_version\"]\n</code></pre>\n\n<p>It returns \"2.2.0\". However, when I run \"ruby -v\" or \"rbenv version\", it returns \"2.2.3\".</p>\n\n<p>What could be causing RbConfig to report the wrong Ruby version?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453844366, "post_id": 35024398, "comment_id": 57775676, "body": "This is an extremely elementary problem covered by tutorials. Where have you searched and why didn&#39;t that information help? Please read <a href=\"http://meta.stackoverflow.com/q/261592/128421\">meta.stackoverflow.com/q/261592/128421</a> and <a href=\"http://catb.org/esr/faqs/smart-questions.html\" rel=\"nofollow noreferrer\">catb.org/esr/faqs/smart-questions.html</a>"}, {"owner": {"reputation": 55, "user_id": 2534619, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d54ff78dde2a910144cea3a66a133eed?s=128&d=identicon&r=PG", "display_name": "kasper_341", "link": "https://stackoverflow.com/users/2534619/kasper-341"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453844872, "post_id": 35024398, "comment_id": 57775960, "body": "@theTinMan - yes it is, as i am beginner, and searched through tutorials. but did not find this specific problem."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453845004, "post_id": 35024398, "comment_id": 57776030, "body": "Perhaps a quick search of the internet using <code>ruby call a method</code>?"}, {"owner": {"reputation": 55, "user_id": 2534619, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d54ff78dde2a910144cea3a66a133eed?s=128&d=identicon&r=PG", "display_name": "kasper_341", "link": "https://stackoverflow.com/users/2534619/kasper-341"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453845062, "post_id": 35024398, "comment_id": 57776061, "body": "@theTinMan - i am working on this tutorial <a href=\"https://www.ruby-lang.org/en/documentation/quickstart/2/\" rel=\"nofollow noreferrer\">link</a> - as they go though the example and change code, it is hard to manage on &quot;irb&quot; console."}], "answers": [{"comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "reply_to_user": {"reputation": 55, "user_id": 2534619, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d54ff78dde2a910144cea3a66a133eed?s=128&d=identicon&r=PG", "display_name": "kasper_341", "link": "https://stackoverflow.com/users/2534619/kasper-341"}, "edited": false, "score": 0, "creation_date": 1453845500, "post_id": 35024446, "comment_id": 57776284, "body": "@kasper_341 If you&#39;re in <code>irb</code>, you need to exit it using <code>exit</code> then run the code in my answer. Make sure you&#39;re in the correct directory in your command line."}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "reply_to_user": {"reputation": 55, "user_id": 2534619, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d54ff78dde2a910144cea3a66a133eed?s=128&d=identicon&r=PG", "display_name": "kasper_341", "link": "https://stackoverflow.com/users/2534619/kasper-341"}, "edited": false, "score": 1, "creation_date": 1453846302, "post_id": 35024446, "comment_id": 57776658, "body": "And you did save the file before running the script? Just trying to cover all bases here."}, {"owner": {"reputation": 55, "user_id": 2534619, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d54ff78dde2a910144cea3a66a133eed?s=128&d=identicon&r=PG", "display_name": "kasper_341", "link": "https://stackoverflow.com/users/2534619/kasper-341"}, "edited": false, "score": 0, "creation_date": 1453847089, "post_id": 35024446, "comment_id": 57777068, "body": "thanks for your help. it worked now. may b a typo error"}], "tags": [], "owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "is_accepted": true, "score": 0, "last_activity_date": 1453844151, "creation_date": 1453844151, "answer_id": 35024446, "question_id": 35024398, "link": "https://stackoverflow.com/questions/35024398/how-do-i-run-ruby-script-from-command-line/35024446#35024446", "title": "How do i run Ruby script from command line ?", "body": "<p>Try putting this in <code>filename.rb</code>:</p>\n\n<pre><code>def hi()\n    puts \"hello\"\nend\n\nhi\n</code></pre>\n\n<p>Then run your code in the command line: with <code>ruby filename.rb</code></p>\n"}, {"tags": [], "owner": {"reputation": 1201, "user_id": 5097493, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/95b290a191545edb4077adfaab317f1a?s=128&d=identicon&r=PG&f=1", "display_name": "RuNpiXelruN", "link": "https://stackoverflow.com/users/5097493/runpixelrun"}, "is_accepted": false, "score": 1, "last_activity_date": 1453844590, "last_edit_date": 1453844590, "creation_date": 1453844348, "answer_id": 35024508, "question_id": 35024398, "link": "https://stackoverflow.com/questions/35024398/how-do-i-run-ruby-script-from-command-line/35024508#35024508", "title": "How do i run Ruby script from command line ?", "body": "<p>Add puts <code>hi(\"John\")</code> to the bottom of the method:</p>\n\n<pre><code>def hi(name)\n  puts \"hello\"\nend\n\nputs hi(\"John\")\n</code></pre>\n\n<p>Where \"John\" is whatever name you want it to be. </p>\n\n<p>Then just run it as usual, <code>ruby yourfilename.rb</code></p>\n"}], "owner": {"reputation": 55, "user_id": 2534619, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d54ff78dde2a910144cea3a66a133eed?s=128&d=identicon&r=PG", "display_name": "kasper_341", "link": "https://stackoverflow.com/users/2534619/kasper-341"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 35024446, "answer_count": 2, "score": -3, "last_activity_date": 1456371989, "creation_date": 1453843969, "last_edit_date": 1456371989, "question_id": 35024398, "link": "https://stackoverflow.com/questions/35024398/how-do-i-run-ruby-script-from-command-line", "title": "How do i run Ruby script from command line ?", "body": "<p>I've a file, which I can run from command line using:</p>\n\n<pre><code>ruby filename.rb\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>12345\n</code></pre>\n\n<p>A different script containing:</p>\n\n<pre><code>def hi() \nputs \"hello\"\nend\n</code></pre>\n\n<p>does not return anything when I run it from the command-line.</p>\n\n<p>How do I run this from the command line?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "edited": false, "score": 0, "creation_date": 1453844905, "post_id": 35024444, "comment_id": 57775975, "body": "Yes, I have the validations. But some of these required variables don&#39;t exist as parameters. That is, they are not send with form submission but are &quot;calculated&quot; on bases of other variables. So part of what is to be saved is included in the parameters and part of it is not. So these are not part of the <code>update_params</code> and <code>update_attributes(update_params)</code> therefore does not save them."}, {"owner": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "edited": false, "score": 0, "creation_date": 1453844945, "post_id": 35024444, "comment_id": 57775998, "body": "Or can I also include &quot;calculated&quot; variables in the strong params?"}, {"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "reply_to_user": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "edited": false, "score": 0, "creation_date": 1453845456, "post_id": 35024444, "comment_id": 57776267, "body": "@Marty then regular setters in controller before save will do, see updated answer"}, {"owner": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "edited": false, "score": 0, "creation_date": 1453845968, "post_id": 35024444, "comment_id": 57776513, "body": "That&#39;s great! Wasn&#39;t familiar with <code>assign_attributes</code>."}], "tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": true, "score": 1, "last_activity_date": 1453845385, "last_edit_date": 1453845385, "creation_date": 1453844145, "answer_id": 35024444, "question_id": 35024175, "link": "https://stackoverflow.com/questions/35024175/how-to-create-update-record-if-some-variables-are-not-set-through-strong-params/35024444#35024444", "title": "How to create/update record if some variables are not set through strong params?", "body": "<p>Just write validations for these fields, on validation error(s) the record will not be saved and <code>save</code> will return <code>false</code>.</p>\n\n<p>Common pattern is to render the form again, with errors, asking the user to correct</p>\n\n<p>Your code for new record is correct, just check return value of <code>save</code> like for existing:</p>\n\n<pre><code>connect.assign_attributes update_connection_params(connection)\nconnect.first_id = comp1.id\nconnect.second_id = comp2.id\nif connect.save\n  redirect_to somewhere_path\nelse\n  return render json: @organization, message: connect.errors.full_messages, status: :bad_request\nend\n</code></pre>\n"}], "owner": {"reputation": 1718, "user_id": 5086345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/15e2e469991bde6f4187ae3c22c3b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5086345/marty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 35024444, "answer_count": 1, "score": 1, "last_activity_date": 1453845385, "creation_date": 1453843170, "question_id": 35024175, "link": "https://stackoverflow.com/questions/35024175/how-to-create-update-record-if-some-variables-are-not-set-through-strong-params", "title": "How to create/update record if some variables are not set through strong params?", "body": "<p>Some of the variables are required for a record but not included in the params. How to then create/update such a record? Would the code below be correct? I belief the new method works, but have doubts about the update method.</p>\n\n<p><strong>New record:</strong></p>\n\n<pre><code>connect = Connect.new(update_params(connection))\nconnect.first_id = comp1.id\nconnect.second_id = comp2.id\nconnect.save\n</code></pre>\n\n<p><strong>Update existing record:</strong></p>\n\n<pre><code>#If record exists, do this:\nconnect.first_id = comp1.id\nconnect.second_id = comp2.id\nif connect.save\n  unless connect.update_attributes(update_connection_params(connection))\n    return render json: @organization, message: connect.errors.full_messages, status: :bad_request\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex", "ruby-on-rails-3", "ruby-on-rails-3.2"], "comments": [{"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1453842886, "post_id": 35024035, "comment_id": 57774771, "body": "See <a href=\"http://ideone.com/D4Chmm\" rel=\"nofollow noreferrer\">this demo</a> - here, it is split at the last semi-colon, however."}, {"owner": {"reputation": 2475, "user_id": 523585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NtF1o.jpg?s=128&g=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/523585/raghu"}, "reply_to_user": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1453843223, "post_id": 35024035, "comment_id": 57774968, "body": "@WiktorStribi\u017cew Thanks for the quick response .The string I posted is just an example . The original string that im working is too long and has multiple semicolons . So i want only the first semi colon skipped and rest all semi colons considered.I just updated the question"}, {"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1453844695, "post_id": 35024035, "comment_id": 57775852, "body": "What about <a href=\"http://ideone.com/I7rB7B\" rel=\"nofollow noreferrer\">this demo</a>? <code>lines.scan(&#47;\\A[^;]*;[^;]*|[^;]+&#47;)</code>?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1453844900, "post_id": 35024035, "comment_id": 57775972, "body": "This looks like an XY Problem. What is the goal of the split? Why aren&#39;t you using a parser, like Nokogiri, since you&#39;re trying to manipulate HTML. Regular expressions fall apart quickly when dealing with XML/HTML text."}], "answers": [{"comments": [{"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1453843519, "post_id": 35024257, "comment_id": 57775150, "body": "Does it mean you assume there will be some specific number of elements in the result?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1453843767, "post_id": 35024257, "comment_id": 57775318, "body": "@Wikor, my understanding (which I believe is consistent with the desired result from the OP&#39;s  example) is that the string is to be split on semi-colons, except the first semi-colon is skipped, making it a character of the first element (string) of the array returned. No?"}, {"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1453843938, "post_id": 35024257, "comment_id": 57775434, "body": "Well, I am just against code only answers. Some comments on the code would be of great help."}, {"owner": {"reputation": 2475, "user_id": 523585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NtF1o.jpg?s=128&g=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/523585/raghu"}, "edited": false, "score": 0, "creation_date": 1453844127, "post_id": 35024257, "comment_id": 57775542, "body": "@CarySwoveland The reason I use regex is because of the HTML involved. I makes my life much easier when dealing with spaces and special characters. I came up with a similar code but it doesn&#39;t seem to fit in the system im working on . so i specially need to get this done using regex. I hope you are understanding my point here."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1453844303, "post_id": 35024257, "comment_id": 57775644, "body": "@Wiktor, I generally provide explanations (sometimes going overboard), but here I thought showing what is returned by each statement is sufficient. I&#39;ll add a bit, however."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1453845645, "post_id": 35024257, "comment_id": 57776366, "body": "Raghu, I don&#39;t understand why the fact that the strings are HTML is relevant. A character is a character. Can you provide a counter-example to what I suggested? As @theTinMan noted, using a regex with HTML is fraught with peril."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1453845224, "last_edit_date": 1453845224, "creation_date": 1453843438, "answer_id": 35024257, "question_id": 35024035, "link": "https://stackoverflow.com/questions/35024035/skip-first-occurrence-of-semicolon-using-regex/35024257#35024257", "title": "Skip first occurrence of semicolon using regex", "body": "<p>Must I use a regex?</p>\n\n<pre><code>str = \"Now is; the time; for all good; people; to party\" \n\nf, sc, l = str.partition(';')\naf, *a = str[str.index(';')+1..-1].split(';')\n[f+sc+af, *a]\n  #=&gt; [\"Now is; the time\", \" for all good\", \" people\", \" to party\"] \n</code></pre>\n\n<p>The steps:</p>\n\n<pre><code>f, sc, l = str.partition(';')\n   #=&gt; [\"Now is\", \";\", \" the time; for all good; people; to party\"] \nf  #=&gt; \"Now is\" \nsc #=&gt; \";\" \nl  #=&gt; \" the time; for all good; people; to party\" \nidx = str.index(';')+1\n   #=&gt; 7 \nb = str[idx..-1]\n   #=&gt; \" the time; for all good; people; to party\" \naf, *a = b.split(';')\naf #=&gt; \" the time\" \na  #=&gt; [\" for all good\", \" people\", \" to party\"] \n[f+sc+af, *a]\n   #=&gt; [\"Now is; the time\", \" for all good\", \" people\", \" to party\"] \n</code></pre>\n\n<p>For the OP's example:</p>\n\n<pre><code>f, sc, l = lines.partition(';')\naf, *a = lines[lines.index(';')+1..-1].split(';')\n[f+sc+af, *a]\n  #=&gt; [\"&lt;/li&gt; &lt;li&gt; Urinary tract infection &lt;/li&gt; &lt;li&gt; Respiratory infection\\    \n         &lt;/li&gt; &lt;li&gt; Sinus problems; and &lt;/li&gt; &lt;li&gt; Ear infections\",\n  #    \" &lt;li&gt; Some more info &lt;/li&gt;\"]\n</code></pre>\n\n<p>Another way:</p>\n\n<pre><code>b = str.sub(';', 0.chr).split(';')\n  #=&gt; [\"Now is\\u0000 the time\", \" for all good\", \" people\", \" to party\"] \na[0].sub!(0.chr, ';')\n  #=&gt; \"Now is; the time\" \na #=&gt; [\"Now is; the time\", \" for all good\", \" people\", \" to party\"] \n</code></pre>\n"}], "owner": {"reputation": 2475, "user_id": 523585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NtF1o.jpg?s=128&g=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/523585/raghu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453845376, "creation_date": 1453842693, "last_edit_date": 1453844781, "question_id": 35024035, "link": "https://stackoverflow.com/questions/35024035/skip-first-occurrence-of-semicolon-using-regex", "title": "Skip first occurrence of semicolon using regex", "body": "<p>I am trying to skip the first semicolon in the string  and do a split on the rest of the semicolon using a regular expression:</p>\n\n<pre><code>lines = &lt;/li&gt; &lt;li&gt; Urinary tract infection &lt;/li&gt; &lt;li&gt; Respiratory infection &lt;/li&gt; &lt;li&gt; Sinus problems; and &lt;/li&gt; &lt;li&gt; Ear infections; &lt;li&gt; Some more info &lt;/li&gt;\n</code></pre>\n\n<p>I am using this code to split this at every semicolon except the first one:</p>\n\n<pre><code>lines.split(/(?&lt;!\\\\\\\\);/)\n</code></pre>\n\n<p>My expected output is:</p>\n\n<pre><code>[\"&lt;/li&gt; &lt;li&gt; Urinary tract infection &lt;/li&gt; &lt;li&gt; Respiratory infection &lt;/li&gt; &lt;li&gt; Sinus problems; and &lt;/li&gt; &lt;li&gt; Ear infections\",\"&lt;li&gt; Some more info &lt;/li&gt;\" ]\n</code></pre>\n\n<p>Note that the string could be long with any number of semicolons but I want to prevent the splitting from happening only from the first semicolon. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "validation"], "comments": [{"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1453844477, "post_id": 35023993, "comment_id": 57775726, "body": "<code>{ :title, format: { without: ^\\s+$, message: &quot;no spaces&quot;} }</code> isn&#39;t a Hash, do you perhaps want <code>{ :title =&gt; { format: { without: ^\\s+$, message: &quot;no spaces&quot;} } }</code> or similar?"}, {"owner": {"reputation": 424, "user_id": 2573572, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/uADil.jpg?s=128&g=1", "display_name": "Kyle L.", "link": "https://stackoverflow.com/users/2573572/kyle-l"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1453844606, "post_id": 35023993, "comment_id": 57775792, "body": "Doing that throws this: syntax error, unexpected &#39;:&#39;, expecting keyword_end validates: { :title =&gt; { format: { with..."}], "answers": [{"comments": [{"owner": {"reputation": 424, "user_id": 2573572, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/uADil.jpg?s=128&g=1", "display_name": "Kyle L.", "link": "https://stackoverflow.com/users/2573572/kyle-l"}, "edited": false, "score": 0, "creation_date": 1453843125, "post_id": 35024061, "comment_id": 57774913, "body": "It was missing, thank you. But it did not fix the issue, same error."}], "tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": false, "score": 1, "last_activity_date": 1453842824, "creation_date": 1453842824, "answer_id": 35024061, "question_id": 35023993, "link": "https://stackoverflow.com/questions/35023993/syntax-error-syntax-error-unexpected-tidentifier-expecting/35024061#35024061", "title": "Syntax Error &quot;syntax error, unexpected tIDENTIFIER, expecting =&gt;&quot;", "body": "<p>You're missing regex delimiters:</p>\n\n<pre><code>validates: { :title, format: { without: ^\\s+$, message: \"no spaces\"} }\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>validates: { :title, format: { without: /^\\s+$/, message: \"no spaces\"} }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 424, "user_id": 2573572, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/uADil.jpg?s=128&g=1", "display_name": "Kyle L.", "link": "https://stackoverflow.com/users/2573572/kyle-l"}, "edited": false, "score": 0, "creation_date": 1453903980, "post_id": 35024752, "comment_id": 57803604, "body": "Thank you for actually helping me. A simple &quot;your hash syntax is wrong&quot; is all I needed. Thank you :),"}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 1, "last_activity_date": 1453845224, "creation_date": 1453845224, "answer_id": 35024752, "question_id": 35023993, "link": "https://stackoverflow.com/questions/35023993/syntax-error-syntax-error-unexpected-tidentifier-expecting/35024752#35024752", "title": "Syntax Error &quot;syntax error, unexpected tIDENTIFIER, expecting =&gt;&quot;", "body": "<p>I don't know Hydra, but if this example is valid syntax:</p>\n\n<pre><code>attribute :title,\n  datastream: :descMetadata, multiple: false,\n  validates: { presence: { message: 'Your article must have a title.' } }\n</code></pre>\n\n<p>Then this example has an invalid hash in the third line and an invalid regexp (as Vasfed already pointed out):</p>\n\n<pre><code>attribute :title,\n  datastream: :descMetadata, multiple: false,\n  validates: { :title, format: { without: ^\\s+$, message: \"no spaces\" } }\n</code></pre>\n\n<p>I would try to fix that by removing the duplicate <code>:title</code>: </p>\n\n<pre><code>attribute :title,\n  datastream: :descMetadata, multiple: false,\n  validates: { format: { without: /^\\s+$/, message: \"no spaces\" } }\n</code></pre>\n"}], "owner": {"reputation": 424, "user_id": 2573572, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/uADil.jpg?s=128&g=1", "display_name": "Kyle L.", "link": "https://stackoverflow.com/users/2573572/kyle-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "closed_date": 1453861037, "accepted_answer_id": 35024752, "answer_count": 2, "score": -3, "last_activity_date": 1453845224, "creation_date": 1453842537, "last_edit_date": 1453842955, "question_id": 35023993, "link": "https://stackoverflow.com/questions/35023993/syntax-error-syntax-error-unexpected-tidentifier-expecting", "closed_reason": "Not suitable for this site", "title": "Syntax Error &quot;syntax error, unexpected tIDENTIFIER, expecting =&gt;&quot;", "body": "<p>I'm working with a Hydra project that uses the curate gem for ruby and rails.</p>\n\n<p>There is a current bug in our code when users are uploading new works, if they add a single space, \" \", to any of the required fields, the app crashes and throws a stack trace. Obviously we can't have this in the production code, we need it to throw an invalid input error.</p>\n\n<p>So I started reading about Ruby's validation system with the different validation filters and found a few validators that I think can help me with this, however the format of our code and that of the example docs on the RoR website is different.</p>\n\n<p>I'm rather new to Ruby and Rails in general and haven't been working with the code base for very long. The format on the RoR site goes something like this:</p>\n\n<pre><code>  class Coffee &lt; ActiveRecord::Base\n    validates :size, inclusion: { in: %w(small medium large),\n    message: \"%{value} is not a valid size\" }\n  end\n</code></pre>\n\n<p>while our code is this in the generic_work.rb file:</p>\n\n<pre><code>class GenericWork &lt; ActiveFedora::Base\n\n    attribute :title,\n        datastream: :descMetadata, multiple: false,\n        validates: { presence: { message: 'Your article must have a title.' } }\nend\n</code></pre>\n\n<p>Now, the validation itself is fine, and it works well. But when I try to add my own condition to account for single spaces in the title field, it throws the syntax error: </p>\n\n<pre><code>syntax error, unexpected tIDENTIFIER, expecting =&gt; validates: { :title format: { without: ^\\s+$, message:\n</code></pre>\n\n<p>The full syntax of my custom validator is:</p>\n\n<pre><code>attribute :title,\n    datastream: :descMetadata, multiple: false,\n    validates: { :title, format: { without: ^\\s+$, message: \"no spaces\"} }\n</code></pre>\n\n<p>I'm sure it's because I don't understand the different syntax our app uses, but for the life of e I can't figure out how to format the code.</p>\n\n<p>Also when I get the validator to work, I'm sure there will be an issue with the RegEx I used to target the space. If anyone knows a validator better suited for this use case, I would be most grateful to you.</p>\n\n<p>For FYI: Here is the full trace I get from the error:</p>\n\n<pre><code>syntax error, unexpected tIDENTIFIER, expecting =&gt; validates: { :title format: { without: ^\\s+$, message: ... ^    \n/home/kyle/workspace/curate/app/repository_models/generic_work.rb:91: syntax error, unexpected tIDENTIFIER, expecting keyword_end ...rmat: { without: ^\\s+$, message: \"no spaces\"} } ... ^ \n/home/kyle/workspace/curate/app/repository_models/generic_work.rb:91: syntax error, unexpected '}', expecting keyword_end ...t: ^\\s+$, message: \"no spaces\"} }\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 995, "user_id": 2576714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RcYff.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2576714/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1453846707, "last_edit_date": 1453846707, "creation_date": 1453842790, "answer_id": 35024056, "question_id": 35023851, "link": "https://stackoverflow.com/questions/35023851/ruby-on-rails-update-failed-still/35024056#35024056", "title": "Ruby On Rails Update failed still", "body": "<p>It looks like you are not binding your form to your method.</p>\n\n<p><a href=\"http://guides.rubyonrails.org/form_helpers.html#binding-a-form-to-an-object\" rel=\"nofollow\">http://guides.rubyonrails.org/form_helpers.html#binding-a-form-to-an-object</a></p>\n\n<p>gives an overview, but I'd suggest something like this for your edit:</p>\n\n<pre><code>&lt;%= form_for @input do |f| %&gt;\n  &lt;%= render 'form', f: f %&gt;\n  &lt;%= f.submit \"Update\" %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>and in your partial - which should be _form.html.erb</p>\n\n<pre><code>&lt;div class=\"field\"&gt;\n&lt;p&gt;&lt;label for = \"input_name\"&gt;Name&lt;/label&gt;:\n &lt;%= f.text_field :name %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>etc.. Now assuming you have set your routes correctly, it will go back to your update method. If you have <em>not</em> set up your routes in the way rails expects, then you should use:</p>\n\n<pre><code>&lt;%= form_for @article, url: **your_update_path** do |f| %&gt;\n</code></pre>\n\n<p>Just add the routes path that points to your update method, when you run rake routes.</p>\n"}, {"comments": [{"owner": {"reputation": 995, "user_id": 2576714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RcYff.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2576714/tim"}, "edited": false, "score": 0, "creation_date": 1453846801, "post_id": 35024078, "comment_id": 57776923, "body": "Your issue is with the routes. Rails works by convention, if you follow the patterns, &quot;it just works&quot;, if you don&#39;t then you have to add some configure. i&#39;ve update my answer."}], "tags": [], "owner": {"reputation": 1746, "user_id": 1364489, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a14de6f4e93dddde282d1edd68029f6b?s=128&d=identicon&r=PG", "display_name": "apotry", "link": "https://stackoverflow.com/users/1364489/apotry"}, "is_accepted": true, "score": 0, "last_activity_date": 1453842886, "creation_date": 1453842886, "answer_id": 35024078, "question_id": 35023851, "link": "https://stackoverflow.com/questions/35023851/ruby-on-rails-update-failed-still/35024078#35024078", "title": "Ruby On Rails Update failed still", "body": "<p>You should use <code>form_for</code> instead of <code>form_tag</code>,</p>\n\n<pre><code>&lt;%= form_for @input do |x| %&gt;\n...\n</code></pre>\n\n<p>and then (depending on what @input actually is!)</p>\n\n<pre><code>&lt;%= x.text_field :age %&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5429326, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-8Dxhpcr9PnE/AAAAAAAAAAI/AAAAAAAAAAA/9xmhTs1mVSA/photo.jpg?sz=128", "display_name": "ThugForever", "link": "https://stackoverflow.com/users/5429326/thugforever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 35024078, "answer_count": 2, "score": 0, "last_activity_date": 1453847496, "creation_date": 1453842011, "last_edit_date": 1453847496, "question_id": 35023851, "link": "https://stackoverflow.com/questions/35023851/ruby-on-rails-update-failed-still", "title": "Ruby On Rails Update failed still", "body": "<p>I have try many things but still failed, i want to implement a edit and update action here.\nBelow is my code</p>\n\n<p>home controller:</p>\n\n<pre><code>class HomeController &lt; ApplicationController\n  def index\n    @inputs = Person.all\n  end\n\n  def new\n    @input = Person.new\n  end\n\n  def create\n    @input = Person.new(input_params)\n    respond_to do |x|\n    if @input.save\n        x.html {redirect_to :action =&gt; 'index'}\n    else\n        x.html {render :action =&gt; 'new'}\n    end\n   end\n  end\n\n  def show\n    @input = Person.find(params[:id])\n  end\n\n  def edit\n    @input = Person.find(params[:id])\n  end\n\n  def update\n    @input = Person.find(params[:id])\n    respond_to do |x|\n      if @input.update(input_params)\n        x.html {redirect_to :action =&gt; 'index'}\n      else\n        x.html {render :edit}\n      end\n    end\n  end\n\n  private\n\n  def input_params\n    params.require(:inputs).permit(:name, :weight, :height, :color, :age)\n  end\nend\n</code></pre>\n\n<p>edit.html.erb</p>\n\n<pre><code>&lt;h1&gt;Editing Data&lt;/h1&gt;\n&lt;%= render 'form' %&gt;\n&lt;%= link_to 'Show', home_path %&gt; |\n&lt;%= link_to 'Back', home_index_path %&gt;\n</code></pre>\n\n<p>form.html.erb:</p>\n\n<pre><code>&lt;%= form_for :@input do |person| %&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :name %&gt;&lt;br&gt;\n    &lt;%= person.text_field :name %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :weight %&gt;&lt;br&gt;\n    &lt;%= person.number_field :weight %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :height %&gt;&lt;br&gt;\n    &lt;%= person.number_field :height %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :color %&gt;&lt;br&gt;\n    &lt;%= person.text_field :color %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= person.label :age %&gt;&lt;br&gt;\n    &lt;%= person.number_field :age %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"actions\"&gt;\n    &lt;%= person.submit %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Routes are correct, i can lead me to the edit page, however, it shows,\n<a href=\"https://i.stack.imgur.com/rGhi3.png\" rel=\"nofollow noreferrer\">first problem, edit with no data pops up</a></p>\n\n<p>New updated</p>\n\n<p><a href=\"https://i.stack.imgur.com/jYYQ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYYQ5.png\" alt=\"Second problem, when click on button, directly go to this page\"></a></p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453838845, "post_id": 35022816, "comment_id": 57772314, "body": "Welcome to Stack Overflow. We need minimal sample input. Also, your code is not syntactically correct. Please fix it. See &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Also, since TMX is an XML format, you shouldn&#39;t try to use regex, you should use a parser like <a href=\"http://nokogiri.org\" rel=\"nofollow noreferrer\">Nokogiri</a>."}], "answers": [{"comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1453915007, "post_id": 35023043, "comment_id": 57811864, "body": "Dear downvoter: Please leave a comment explaining the reason for your downvote. If my answer is lacking I would appreciate the opportunity to improve it."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": -1, "last_activity_date": 1453839677, "last_edit_date": 1453839677, "creation_date": 1453839255, "answer_id": 35023043, "question_id": 35022816, "link": "https://stackoverflow.com/questions/35022816/i-need-to-rename-a-file-just-created-but-before-the-type-extension/35023043#35023043", "title": "I need to rename a file just created, but before the type extension", "body": "<p>The answer to your edited question is simple.</p>\n\n<pre><code>filepath = \"test.tmx\"\nfilepath_before_extension = File.basename(filepath, '.tmx')\n# =&gt; \"test\"\n\nputs \"#{filepath_before_extension}_out.tmx\"\n# =&gt; test_out.tmx\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>puts filepath.sub(/\\.tmx$/, '_out.tmx')\n# =&gt; test_out.tmx\n</code></pre>\n\n<p>The answer to your original question is only slightly more complex.</p>\n\n<p>If I understand correctly you're trying to combine <code>filepath</code> and <code>language_code</code> to form a filename like this:</p>\n\n<pre><code>adidas_174_Generic-en-AR_out.tmx\n</code></pre>\n\n<p>...but instead you're getting this:</p>\n\n<pre><code>adidas_174_Generic.tmx-en-AR_out\n</code></pre>\n\n<p>In that case, it's the same, except you add <code>language_code</code> to the output:</p>\n\n<pre><code>language_code = \"es-AR\"\nfilepath = \"adidas_174_Generic.tmx\"\nfilepath_before_extension = File.basename(filepath, '.tmx')\n# =&gt; \"adidas_174_Generic\"\n\nputs \"#{filepath_before_extension}-#{language_code}_out.tmx\"\n# =&gt; adidas_174_Generic-es-AR_out.tmx\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>puts filepath.sub(/\\.tmx$/, \"-#{language_code}_out.tmx\")\n# =&gt; adidas_174_Generic-es-AR_out.tmx\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "is_accepted": false, "score": 1, "last_activity_date": 1453839283, "creation_date": 1453839283, "answer_id": 35023050, "question_id": 35022816, "link": "https://stackoverflow.com/questions/35022816/i-need-to-rename-a-file-just-created-but-before-the-type-extension/35023050#35023050", "title": "I need to rename a file just created, but before the type extension", "body": "<p>First, extract the file <a href=\"http://ruby-doc.org/core-2.2.3/File.html#method-c-extname\" rel=\"nofollow\">extension</a> and <a href=\"http://ruby-doc.org/core-2.2.3/File.html#method-c-basename\" rel=\"nofollow\">basename</a> into a couple of variables:</p>\n\n<pre><code># Get the file extension\next = File.extname(filepath)\n\n# Get the file's basename (without extension)\nbasename = File.basename(filepath, '.*')\n</code></pre>\n\n<p>Then you can construct the new filename using them:</p>\n\n<pre><code>File.open(basename + language_code + '_out' + ext, 'w')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 476, "user_id": 5569392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d6669e4b55c5495e9728ca0341827ed?s=128&d=identicon&r=PG&f=1", "display_name": "Yevgeniy Goyfman", "link": "https://stackoverflow.com/users/5569392/yevgeniy-goyfman"}, "is_accepted": false, "score": 0, "last_activity_date": 1453839555, "creation_date": 1453839555, "answer_id": 35023151, "question_id": 35022816, "link": "https://stackoverflow.com/questions/35022816/i-need-to-rename-a-file-just-created-but-before-the-type-extension/35023151#35023151", "title": "I need to rename a file just created, but before the type extension", "body": "<p>Parse your filename to separate the base from extension using the standard library's <code>File</code>, and then re-assable.</p>\n\n<p>This should work:</p>\n\n<pre><code>languages_list = [\"es-AR\", \"es-CL\", \"es-CO\", \"es-MX\", \"es-PE\"]\nfilepath = \"adidas_174_Generic.tmx\"\ntext = File.read(filepath)\n\nlanguages_list.each do |language_code|\n  puts language_code\n  replace = text.gsub('&lt;tuv xml:lang=\"es-PA\"&gt;', \"&lt;tuv xml:lang=\\\"#       {language_code}\\\"&gt;\")\n\n  file_base = File.basename filepath, \".*\"\n  file_extension = File.extname filepath\n\n  new_file_path = file_base+language_code+\"_out\"+file_extension\n\n  File.open(new_file_path, \"w\") {|file| file.puts  replace}\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 5599975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/niUdi.jpg?s=128&g=1", "display_name": "Topa_14", "link": "https://stackoverflow.com/users/5599975/topa-14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 35023043, "answer_count": 3, "score": -3, "last_activity_date": 1453839677, "creation_date": 1453838493, "last_edit_date": 1453839142, "question_id": 35022816, "link": "https://stackoverflow.com/questions/35022816/i-need-to-rename-a-file-just-created-but-before-the-type-extension", "title": "I need to rename a file just created, but before the type extension", "body": "<p>I've got the following variable:</p>\n\n<pre><code>filepath = \"test.tmx\"\n</code></pre>\n\n<p>I need to add <code>_out</code> at the end of the name of the file generated, but before the extension. So far, I've written this, but it's incorrect:</p>\n\n<pre><code>File.open(filepath+\"-\"+language_code+\"_out\", \"w\")\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1453838565, "post_id": 35022808, "comment_id": 57772128, "body": "Your last code is syntactically invalid."}, {"owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1453838787, "post_id": 35022808, "comment_id": 57772282, "body": "Yes i know i don&#39;t know what to try."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453839255, "post_id": 35022808, "comment_id": 57772524, "body": "First you figure out why it&#39;s not syntactically correct. I&#39;d suggest looking at what IRB shows as its line marker as it interprets it. <code>3&quot;</code> is significant and reading the IRB documentation will explain what is happening."}], "answers": [{"comments": [{"owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "edited": false, "score": 0, "creation_date": 1453839082, "post_id": 35022863, "comment_id": 57772425, "body": "I tried get &#39;main&#39;, to: &#39;user_management/user#main&#39;, as: :main and i&#39;m getting the url <a href=\"http://localhost:3000/user_management/user/main\" rel=\"nofollow noreferrer\">localhost:3000/user_management/user/main</a>"}], "tags": [], "owner": {"reputation": 3134, "user_id": 3884750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100003183948251/picture?type=large", "display_name": "Oleg  Sobchuk", "link": "https://stackoverflow.com/users/3884750/oleg-sobchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1453838657, "creation_date": 1453838657, "answer_id": 35022863, "question_id": 35022808, "link": "https://stackoverflow.com/questions/35022808/is-there-a-method-to-change-url-using-namespaces/35022863#35022863", "title": "Is there a method to change URL using namespaces?", "body": "<p>you can do like in example:</p>\n\n<pre><code>get 'exit', to: 'sessions#destroy', as: :logout # url =&gt; /logout\n</code></pre>\n\n<p><a href=\"http://guides.rubyonrails.org/routing.html#naming-routes\" rel=\"nofollow\">FROM RAILS ROUTING</a></p>\n"}, {"comments": [{"owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "edited": false, "score": 0, "creation_date": 1453903733, "post_id": 35027845, "comment_id": 57803405, "body": "I got Couldn&#39;t find User with &#39;id&#39;=main"}, {"owner": {"reputation": 554, "user_id": 5824259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-a65ax7kXB68/AAAAAAAAAAI/AAAAAAAAAA8/q3fFbjFHsOs/photo.jpg?sz=128", "display_name": "Lymuel", "link": "https://stackoverflow.com/users/5824259/lymuel"}, "reply_to_user": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "edited": false, "score": 0, "creation_date": 1453942131, "post_id": 35027845, "comment_id": 57826131, "body": "what id are you talking about, thats not a css"}], "tags": [], "owner": {"reputation": 554, "user_id": 5824259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-a65ax7kXB68/AAAAAAAAAAI/AAAAAAAAAA8/q3fFbjFHsOs/photo.jpg?sz=128", "display_name": "Lymuel", "link": "https://stackoverflow.com/users/5824259/lymuel"}, "is_accepted": false, "score": 1, "last_activity_date": 1453862199, "creation_date": 1453862199, "answer_id": 35027845, "question_id": 35022808, "link": "https://stackoverflow.com/questions/35022808/is-there-a-method-to-change-url-using-namespaces/35027845#35027845", "title": "Is there a method to change URL using namespaces?", "body": "<p>try</p>\n\n<pre><code>match \"user_admin\", :to =&gt; \"user_management/user#main\"\n</code></pre>\n"}], "owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1453862199, "creation_date": 1453838475, "last_edit_date": 1453839117, "question_id": 35022808, "link": "https://stackoverflow.com/questions/35022808/is-there-a-method-to-change-url-using-namespaces", "title": "Is there a method to change URL using namespaces?", "body": "<p>I'm trying to change the URL name.</p>\n\n<p>This is my routes.rb:</p>\n\n<pre><code>namespace :user_management do\n  resources :user do\n    collection do\n      get 'main'\n    end\n  end\nend\n\nmatch ':controller(/:action(/:id(.:format)))', :via =&gt; [:get, :post]\n</code></pre>\n\n<p>Rake routes:     </p>\n\n<pre><code>                              Prefix Verb     URI Pattern                              Controller#Action\n                                root GET      /                                        user_management/login#login\nuser_main_user_management_user_index GET      /user_management/user/main(.:format)     user_management/user#main\n          user_management_user_index GET      /user_management/user(.:format)          user_management/user#index\n                                     POST     /user_management/user(.:format)          user_management/user#create\n            new_user_management_user GET      /user_management/user/new(.:format)      user_management/user#new\n           edit_user_management_user GET      /user_management/user/:id/edit(.:format) user_management/user#edit\n                user_management_user GET      /user_management/user/:id(.:format)      user_management/user#show\n                                     PATCH    /user_management/user/:id(.:format)      user_management/user#update\n                                     PUT      /user_management/user/:id(.:format)      user_management/user#update\n                                     DELETE   /user_management/user/:id(.:format)      user_management/user#destroy\n                                     GET|POST /:controller(/:action(/:id(.:format)))   :controller#:action\n</code></pre>\n\n<p>My URL is:</p>\n\n<pre><code>localhost/user_management/user/main\n</code></pre>\n\n<p>And I want:</p>\n\n<pre><code>localhost/user_main\n</code></pre>\n\n<p>I tried this but it is not working:</p>\n\n<pre><code>namespace :user_management do\n  resources :user do\n    collection do\n      get 'main', as: :user_main\n    end\n  end\nend\n</code></pre>\n\n<p>I tried this but is not working either:</p>\n\n<pre><code>namespace :user_management do\n  resources :user do\n    collection do\n      get '/user_main', as: \"user_management/user#main\n    end\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "calendar"], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 1850307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6aeb9c38c2cf6ccdd381a43ac9c0f?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/1850307/oleg"}, "is_accepted": true, "score": 1, "last_activity_date": 1453840054, "last_edit_date": 1453840054, "creation_date": 1453837248, "answer_id": 35022454, "question_id": 35022320, "link": "https://stackoverflow.com/questions/35022320/how-to-return-to-previous-url-after-clicking-on-back-button-in-rails/35022454#35022454", "title": "How to return to previous URL after clicking on &quot;Back&quot; button in Rails", "body": "<p>I think you can use <a href=\"http://apidock.com/rails/Rack/Request/referer\" rel=\"nofollow\"><code>request.referer</code></a> as the URL for the \"Back\" button.</p>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 10706174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abe39094dc66a87ffe959bb40fef139?s=128&d=identicon&r=PG&f=1", "display_name": "gangothri", "link": "https://stackoverflow.com/users/10706174/gangothri"}, "edited": false, "score": 0, "creation_date": 1613647534, "post_id": 35022733, "comment_id": 117142544, "body": "thank you...literally this works like charm"}], "tags": [], "owner": {"reputation": 144, "user_id": 1154667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e4522538adef0561a6171470a3183a8?s=128&d=identicon&r=PG", "display_name": "ThalesMiguel", "link": "https://stackoverflow.com/users/1154667/thalesmiguel"}, "is_accepted": false, "score": 3, "last_activity_date": 1481971575, "last_edit_date": 1481971575, "creation_date": 1453838230, "answer_id": 35022733, "question_id": 35022320, "link": "https://stackoverflow.com/questions/35022320/how-to-return-to-previous-url-after-clicking-on-back-button-in-rails/35022733#35022733", "title": "How to return to previous URL after clicking on &quot;Back&quot; button in Rails", "body": "<p>This worked like a charm:</p>\n\n<pre><code>&lt;%= link_to 'Back', url_for(:back) %&gt;\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 1154667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e4522538adef0561a6171470a3183a8?s=128&d=identicon&r=PG", "display_name": "ThalesMiguel", "link": "https://stackoverflow.com/users/1154667/thalesmiguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2429, "favorite_count": 1, "accepted_answer_id": 35022454, "answer_count": 2, "score": 1, "last_activity_date": 1481971575, "creation_date": 1453836736, "last_edit_date": 1453840003, "question_id": 35022320, "link": "https://stackoverflow.com/questions/35022320/how-to-return-to-previous-url-after-clicking-on-back-button-in-rails", "title": "How to return to previous URL after clicking on &quot;Back&quot; button in Rails", "body": "<p>I'm using simple_calendar in my Ruby on Rails project and I'm having a problem.</p>\n\n<p>When I see \"February\" my URL looks like this:</p>\n\n<pre><code>localhost:3000/meetings?start_date=2016-02-07\n</code></pre>\n\n<p>After I \"Edit\" an event, I am redirected to the \"Show\" page of that event where I have a \"Back\" button.\nWhen pressing that button, I'd like to return to the same month's URL I was at before. Instead of that, I return to:</p>\n\n<pre><code>localhost:3000/meetings\n</code></pre>\n\n<p>How do I return to the first URL?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4.2"], "answers": [{"comments": [{"owner": {"reputation": 1012, "user_id": 1214880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800685f29fe9f1cd946c5c3d15f60fed?s=128&d=identicon&r=PG", "display_name": "Austin", "link": "https://stackoverflow.com/users/1214880/austin"}, "edited": false, "score": 0, "creation_date": 1453837296, "post_id": 35022436, "comment_id": 57771288, "body": "Thanks that fixed it!"}], "tags": [], "owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "is_accepted": true, "score": 26, "last_activity_date": 1453919730, "last_edit_date": 1453919730, "creation_date": 1453837178, "answer_id": 35022436, "question_id": 35022249, "link": "https://stackoverflow.com/questions/35022249/undefined-method-cache-for-nilnilclass-after-upgrading-to-rails-4-2-5-1/35022436#35022436", "title": "undefined method `cache&#39; for nil:NilClass after upgrading to rails 4.2.5.1", "body": "<p>This is an rspec/rspec-rails <a href=\"https://github.com/rspec/rspec-rails/issues/1532#issuecomment-174679485\">issue</a>. </p>\n\n<p>You can upgrade to rspec-rails-3.4.1 to fix it. Unless you've hard-coded the version of rspec-rails in your Gemfile, running:</p>\n\n<pre><code>bundle update rspec-rails rspec\n</code></pre>\n\n<p>should fix the problem.</p>\n"}], "owner": {"reputation": 1012, "user_id": 1214880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800685f29fe9f1cd946c5c3d15f60fed?s=128&d=identicon&r=PG", "display_name": "Austin", "link": "https://stackoverflow.com/users/1214880/austin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2362, "favorite_count": 2, "accepted_answer_id": 35022436, "answer_count": 1, "score": 21, "last_activity_date": 1453919730, "creation_date": 1453836533, "last_edit_date": 1453853251, "question_id": 35022249, "link": "https://stackoverflow.com/questions/35022249/undefined-method-cache-for-nilnilclass-after-upgrading-to-rails-4-2-5-1", "title": "undefined method `cache&#39; for nil:NilClass after upgrading to rails 4.2.5.1", "body": "<p>While upgrading from rails <code>4.2.5</code> to the recently released <code>4.2.5.1</code>, I have encountered this error. This error exists only for specs with a <code>before_filter</code> that render an invalid status, such as <code>render file: \"public/422\", status: :unauthorized</code>. I get this error for both ruby-2.2.2 and ruby-2.3.0</p>\n\n<p>The error exists in the action_view resolver method, implying the <code>@cache</code> value is nil. However, in the <code>initialize</code> method it should be instantiated: <code>@cache = Cache.new</code></p>\n\n<p>I am still working on a reproducible sample, but am so far lost as to how <code>@cache</code> could be nil.</p>\n\n<p>These are the config variables set in my <code>test.rb</code> environment</p>\n\n<pre><code>config.cache_classes = true\nconfig.eager_load = false\n\nconfig.serve_static_files   = true\nconfig.static_cache_control = 'public, max-age=3600'\n\nconfig.consider_all_requests_local       = true\nconfig.action_controller.perform_caching = false\n\nconfig.action_dispatch.show_exceptions = false\nconfig.action_controller.allow_forgery_protection = false  \n\nconfig.action_mailer.default_url_options = {\n  :host =&gt; '127.0.0.1',\n  :port =&gt; 3000\n}\n\nconfig.action_mailer.delivery_method = :test\nconfig.active_support.test_order = :random\nconfig.active_support.deprecation = :stderr\n</code></pre>\n\n<p>Stack Trace:</p>\n\n<pre><code>1) UserController validates user\n Failure/Error: put :update, { id: user.id  }\n NoMethodError:\n   undefined method `cache' for nil:NilClass\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/template/resolver.rb:151:in `cached'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/template/resolver.rb:121:in `find_all_anywhere'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/path_set.rb:68:in `block (2 levels) in _find_all'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/path_set.rb:66:in `each'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/path_set.rb:66:in `block in _find_all'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/path_set.rb:65:in `each'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/path_set.rb:65:in `_find_all'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/path_set.rb:50:in `find_file'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/lookup_context.rb:126:in `find_file'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/renderer/abstract_renderer.rb:18:in `find_file'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/renderer/template_renderer.rb:32:in `block in determine_template'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/lookup_context.rb:147:in `with_fallbacks'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/renderer/abstract_renderer.rb:18:in `with_fallbacks'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/renderer/template_renderer.rb:32:in `determine_template'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/renderer/template_renderer.rb:8:in `render'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/renderer/renderer.rb:42:in `render_template'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/renderer/renderer.rb:23:in `render'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/rendering.rb:100:in `_render_template'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/streaming.rb:217:in `_render_template'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionview-4.2.5.1/lib/action_view/rendering.rb:83:in `render_to_body'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/rendering.rb:32:in `render_to_body'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/renderers.rb:37:in `render_to_body'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/abstract_controller/rendering.rb:25:in `render'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/rendering.rb:16:in `render'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'\n # ~/.rvm/gems/ruby-2.2.2/gems/activesupport-4.2.5.1/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'\n # ~/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'\n # ~/.rvm/gems/ruby-2.2.2/gems/activesupport-4.2.5.1/lib/active_support/core_ext/benchmark.rb:12:in `ms'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/instrumentation.rb:44:in `block in render'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'\n # ~/.rvm/gems/ruby-2.2.2/gems/activerecord-4.2.5.1/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'\n # ~/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.5.1/lib/action_controller/metal/instrumentation.rb:43:in `render'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "public-activity"], "comments": [{"owner": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "edited": false, "score": 0, "creation_date": 1453837334, "post_id": 35022088, "comment_id": 57771305, "body": "Show your <code>post_params</code> method please"}, {"owner": {"reputation": 63, "user_id": 2305287, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e8c9f700cf8778fcb35fea210aa78200?s=128&d=identicon&r=PG", "display_name": "Daniel W", "link": "https://stackoverflow.com/users/2305287/daniel-w"}, "reply_to_user": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "edited": false, "score": 0, "creation_date": 1453838055, "post_id": 35022088, "comment_id": 57771802, "body": "I included the post parameters in the updated question."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 2305287, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e8c9f700cf8778fcb35fea210aa78200?s=128&d=identicon&r=PG", "display_name": "Daniel W", "link": "https://stackoverflow.com/users/2305287/daniel-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1453858329, "creation_date": 1453858329, "answer_id": 35027289, "question_id": 35022088, "link": "https://stackoverflow.com/questions/35022088/receiving-unknown-attribute-error-public-activity-rails-4/35027289#35027289", "title": "Receiving unknown attribute error Public Activity Rails 4", "body": "<p>I solved this problem by adding a custom field to the activities table.</p>\n"}], "owner": {"reputation": 63, "user_id": 2305287, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e8c9f700cf8778fcb35fea210aa78200?s=128&d=identicon&r=PG", "display_name": "Daniel W", "link": "https://stackoverflow.com/users/2305287/daniel-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453858329, "creation_date": 1453836067, "last_edit_date": 1453838621, "question_id": 35022088, "link": "https://stackoverflow.com/questions/35022088/receiving-unknown-attribute-error-public-activity-rails-4", "title": "Receiving unknown attribute error Public Activity Rails 4", "body": "<p>I'm currently using Public_Activity for user notifications. The problem is that I cannot create a new post without Public::Activity causing a 500 internal Server error. The error is occurring in my create method for the <strong>Posts_Controller.rb</strong></p>\n\n<pre><code>ActiveRecord::UnknownAttributeError (unknown attribute 'photo' for PublicActivity::Activity.):\n  app/controllers/posts_controller.rb:28:in `create'\n\n  def create\n    @user = current_user\n    @post = @user.posts.build(post_params)\n\n    if @post.save\n      flash[:success] = \"New Moment Posted\"\n      redirect_to @post\n    else\n      flash[:danger] = @post.errors.full_messages.to_sentence\n      redirect_to root_url\n    end\n  end\n</code></pre>\n\n<p>post.rb</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  include PublicActivity::Model\n\n  tracked owner: Proc.new {|controller, model| controller.current_user ? controller.current_user : nil },\n          photo: proc {|controller, model| model.photo },\n          body: proc {|controller, model| model.body }\n\n  default_scope -&gt; { order(created_at: :desc) }\n\n  validates :body, presence: true, length: {maximum: 150}\n  validates :photo, presence: true #CarrierWave\n\n  mount_uploader :photo, PhotoUploader\n\n  has_many :comments, as: :commentable, dependent: :destroy\n  acts_as_commentable\n  belongs_to :user\nend\n\nCannot render console with content type multipart/form-dataAllowed content types: [#&lt;Mime::Type:0x3b50128 @synonyms=[\"application/xhtml+xml\"], @symbol=:html, @string=\"text/html\"&gt;, #&lt;Mime::Type:0x3b4b610 @synonyms=[], @symbol=:text, @string=\"text/plain\"&gt;, #&lt;Mime::Type:0x3b430d8 @synonyms=[], @symbol=:url_encoded_form, @string=\"application/x-www-form-urlencoded\"&gt;]\n</code></pre>\n\n<p>Posts_Controller.rb Parameters</p>\n\n<pre><code>def post_params\n    params.require(:post).permit(:body, :photo, :video)\nend\n</code></pre>\n\n<p>show view for activities</p>\n\n<pre><code>&lt;div class=\"col-sm-3\"&gt;\n  &lt;ul class=\"list-group\"&gt;\n    &lt;% @activities.each do |activity| %&gt;\n        &lt;li class=\"list-group-item\"&gt;\n          &lt;span class=\"glyphicon glyphicon-&lt;%= activity.key.match(/\\.(.*)/)[1] %&gt;\"&gt;&lt;/span&gt;\n          &lt;small class=\"text-muted\"&gt;&lt;%= activity.created_at.strftime('%H:%M:%S %-d %B %Y') %&gt;&lt;/small&gt;&lt;br/&gt;\n          &lt;strong&gt;&lt;%= activity.owner ? activity.owner.username : 'Guest' %&gt;&lt;/strong&gt;\n          &lt;%= render_activity(activity, display: :i18n) %&gt;\n          &lt;% if activity.trackable %&gt;\n              \"&lt;%= link_to activity.trackable.body, post_path(activity.trackable) %&gt;\"\n              \"&lt;%= link_to activity.trackable.photo, post_path(activity.trackable) %&gt;\"\n          &lt;% elsif activity.photo %&gt;\n              &lt;span class=\"text-muted\"&gt;\"&lt;%= activity.photo %&gt;\"&lt;/span&gt;\n          &lt;% else %&gt;\n              with unknown post\n          &lt;% end %&gt;\n        &lt;/li&gt;\n    &lt;% end %&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "delayed-job"], "answers": [{"tags": [], "owner": {"reputation": 1476, "user_id": 3282479, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/45e313bf91a74f84cb6dfc02625797de?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/3282479/rohan"}, "is_accepted": true, "score": 3, "last_activity_date": 1453836604, "creation_date": 1453836604, "answer_id": 35022276, "question_id": 35022026, "link": "https://stackoverflow.com/questions/35022026/how-to-set-priority-in-queue-in-delayed-job-and-active-job/35022276#35022276", "title": "How to set priority in queue in delayed job and Active job?", "body": "<p>Use <code>:priority =&gt; &lt;priority_number&gt;</code> when adding jobs to your ffmpeg queue.</p>\n\n<p>Rails uses default 0 - 10 where 0 is highest priority. If you dont specify, your job will have 0 as priority</p>\n"}], "owner": {"reputation": 199, "user_id": 4523131, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/86cf048bc70e51aaf75da31c5f43ea36?s=128&d=identicon&r=PG&f=1", "display_name": "rs41", "link": "https://stackoverflow.com/users/4523131/rs41"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "accepted_answer_id": 35022276, "answer_count": 1, "score": 2, "last_activity_date": 1453836604, "creation_date": 1453835860, "question_id": 35022026, "link": "https://stackoverflow.com/questions/35022026/how-to-set-priority-in-queue-in-delayed-job-and-active-job", "title": "How to set priority in queue in delayed job and Active job?", "body": "<p>Let we have 2 queues: ffmpeg, default. In ffmpeg queue we have screenshot def, light video convertation , heavy convertation.So I want to start all screenshot job, all light convertation and after it heavy.As I understanded, from doc I can set one pool for 3 jobs in ffmpeg queue, but I can't prioritize it.I am only can set different queues and set priority for every queue, is it posible through Active Job?</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3377, "user_id": 3438405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bacfe7cf1712f9858bebaf738438718?s=128&d=identicon&r=PG&f=1", "display_name": "The F", "link": "https://stackoverflow.com/users/3438405/the-f"}, "edited": false, "score": 0, "creation_date": 1453836109, "post_id": 35022023, "comment_id": 57770580, "body": "An <code>id</code> must be unique and should not occur more than once. You could update it to also consist of the index from your iteration to ensure your <code>data-target</code> does not lose its functionality. In addition, add a class like <code>class=&quot;data-toggle&quot;</code> and update your jquery to <code>$(&#39;.data-toggle&#39;).collapse();</code>"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1453840133, "post_id": 35022023, "comment_id": 57773090, "body": "Asking for &quot;good documentations and examples&quot; is off-topic. We expect you to search and locate that information. &quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, <a href=\"http://meta.stackoverflow.com/questions/254393\">describe the problem</a> and what has been done so far to solve it.&quot; Your basic question is a JavaScript question, not Rails. I&#39;d recommend supplying a minimal example of the HTML and JS rather than your view and make this about jQuery"}], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 5747951, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-y7gPx05xGJ0/AAAAAAAAAAI/AAAAAAAAAG4/nwnudI01L28/photo.jpg?sz=128", "display_name": "Megan Woodruff", "link": "https://stackoverflow.com/users/5747951/megan-woodruff"}, "is_accepted": true, "score": 2, "last_activity_date": 1453846035, "creation_date": 1453846035, "answer_id": 35024973, "question_id": 35022023, "link": "https://stackoverflow.com/questions/35022023/dynamic-collapsible-lists-in-rails-4-app/35024973#35024973", "title": "Dynamic Collapsible Lists in Rails 4 app", "body": "<p>UPDATE: For anyone who has this problem in the future. I used the CollapsibleList from <a href=\"http://code.stephenmorley.org/javascript/collapsible-lists/\" rel=\"nofollow\">http://code.stephenmorley.org/javascript/collapsible-lists/</a>. It worked like a charm! Just include it in your app/assets/javascripts folder and add to your .html.erb with the list</p>\n\n<pre><code>&lt;script src=\"CollapsibleList.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and follow the instruction for referencing the classes from the link. </p>\n"}], "owner": {"reputation": 194, "user_id": 5747951, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-y7gPx05xGJ0/AAAAAAAAAAI/AAAAAAAAAG4/nwnudI01L28/photo.jpg?sz=128", "display_name": "Megan Woodruff", "link": "https://stackoverflow.com/users/5747951/megan-woodruff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 1, "accepted_answer_id": 35024973, "answer_count": 1, "score": 2, "last_activity_date": 1453846035, "creation_date": 1453835851, "last_edit_date": 1453845941, "question_id": 35022023, "link": "https://stackoverflow.com/questions/35022023/dynamic-collapsible-lists-in-rails-4-app", "title": "Dynamic Collapsible Lists in Rails 4 app", "body": "<hr>\n\n<p>UPDATE: For anyone who has this problem in the future. I used the CollapsibleList from <a href=\"http://code.stephenmorley.org/javascript/collapsible-lists/\" rel=\"nofollow\">http://code.stephenmorley.org/javascript/collapsible-lists/</a>. It worked like a charm! Just include it in your app/assets/javascripts folder and add  to your .html.erb with the list and follow the instruction for referencing the classes from the link. </p>\n\n<hr>\n\n<p>I have a Rails 4 app with Tasks, Missions, and SubTasks. Each Tasks has many Missions. Each Mission has many tasks. And each Task has many subtasks, but a subtasks can only have one tasks. On the mission index page, I dynamically creating a tree like structure using nested lists. Currently, it looks like:    \n         </p>\n\n<pre><code>     &lt;% @missions.each do |mission| %&gt;\n\n         &lt;li data-toggle=\"collapse\" data-target=\"list\"&gt;\n\n            &lt;%=  mission.id %&gt;| &lt;%= mission.name %&gt; | &lt;%= link_to mission.description, mission %&gt;\n\n                   &lt;% if !mission.tasks.empty? %&gt;           \n\n                       &lt;div id=\"list\" class=\"collapse\"&gt;\n\n                         &lt;ul&gt;&lt;% mission.tasks.each do |task| %&gt;\n\n                           &lt;li&gt;&lt;%=  link_to task.name,task %&gt;                   \n                  &lt;% if !task.sub_tasks.empty? %&gt;\n\n                                &lt;ul&gt;\n\n                    &lt;% task.sub_tasks.each do |sub_task| %&gt;\n\n                    &lt;li&gt;&lt;%= sub_task.name %&gt;&lt;/li&gt;\n\n                            &lt;% end %&gt;\n\n                &lt;/ul&gt;\n\n               &lt;/li&gt;\n\n            &lt;% end %&gt;\n\n            &lt;%end%&gt;\n           &lt;/ul&gt; \n            &lt;/div&gt;\n     &lt;%end%&gt;\n       &lt;/li&gt; \n &lt;% end %&gt;\n&lt;/ul&gt;\n&lt;/div&gt;  \n</code></pre>\n\n<p>This gave me the basic structure that I wanted. I added the following script:</p>\n\n<pre><code>&lt;script&gt;\n$('#data-toggle').collapse();\n&lt;/script&gt;\n</code></pre>\n\n<p>And it made the list item collapse once it was clicked. However, it only applied to the first element of the list. I guess I just wanted to know is there a way to use the collapse functionality on each of the list items.</p>\n\n<p>I have tried to use the ancestry and jstree gems. However, I can't find a example of applying those to an existing rails app. Any help would be appreciated.</p>\n"}]