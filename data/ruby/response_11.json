[{"tags": ["ruby-on-rails", "ruby", "twitter-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 735143, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5198cf315801c6e58fa1f1192adb114?s=128&d=identicon&r=PG", "display_name": "Dabrorius", "link": "https://stackoverflow.com/users/735143/dabrorius"}, "is_accepted": true, "score": 0, "last_activity_date": 1427329554, "creation_date": 1427329554, "answer_id": 29269016, "question_id": 29268677, "link": "https://stackoverflow.com/questions/29268677/how-to-change-jumbotron-text-per-page/29269016#29269016", "title": "How to change jumbotron text per page?", "body": "<p>There's a lot of ways you can resolve this problem.\nMain question is, how much versions of jumbotron content are there? Here are two suggestions.</p>\n\n<h1>Solution 1: Before action</h1>\n\n<p>You can use a <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#filters\" rel=\"nofollow\">before action</a> in your applications controller to assign some default value.</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  before_action :set_jumbotext\n\n  private\n\n  def set_jumbotext\n    @jumbotext = \"Default value\"\n  end\nend\n</code></pre>\n\n<p>and then assign a different value in controller actions where it's needed.</p>\n\n<h1>Solution 2: Content for</h1>\n\n<p>You could also avoid using an instance variable and inject HTML from view directly to your layout using <a href=\"http://guides.rubyonrails.org/layouts_and_rendering.html#using-the-content-for-method\" rel=\"nofollow\">content_for</a> helper</p>\n\n<p>application.html.erb</p>\n\n<pre><code>&lt;div class=\"jumbotron\"&gt;\n  &lt;p class=\"text-center\"&gt;\n    &lt;%= yield :jumbotron %&gt;\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>create_user_view.html.erb</p>\n\n<pre><code>&lt;h1&gt; Normal view content &lt;/h1&gt;\n\n&lt;% content_for :jumbotron do %&gt;\n  This will be embedded in jubotron.\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4709022"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 29269016, "answer_count": 1, "score": 1, "last_activity_date": 1427329554, "creation_date": 1427327316, "last_edit_date": 1495541200, "question_id": 29268677, "link": "https://stackoverflow.com/questions/29268677/how-to-change-jumbotron-text-per-page", "title": "How to change jumbotron text per page?", "body": "<p>In application.html.erb I know I need to use this:</p>\n\n<pre><code>&lt;div class=\"jumbotron\"&gt;\n  &lt;p class=\"text-center\"&gt;\n    &lt;%= @jumbotext %&gt; &lt;!-- this variable should be assigned in controller action--&gt;\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>But what do I put in the controller? Do I put it in the application controller or do I put it in each of the other controllers?</p>\n\n<p>Once whatever needs to go in the controller is there where do I add text so that the jumbotron renders different text depending on what page is clicked on, just like how <a href=\"http://getbootstrap.com/components/#jumbotron\" rel=\"nofollow noreferrer\">boostrap</a> has it on there site?</p>\n\n<p>This question was inspired by this <a href=\"https://stackoverflow.com/questions/29264937/how-to-make-a-full-width-jumbotron\">answer</a>.</p>\n"}, {"tags": ["ruby", "substring"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1427339504, "post_id": 29268659, "comment_id": 46741751, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/29269937/how-to-use-gsub-regex-in-ruby\">How to use gsub regex in ruby</a>"}, {"owner": {"reputation": 89316, "user_id": 238886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8ca29123b5669b26f9b6ca2c62d9d215?s=128&d=identicon&r=PG", "display_name": "Wayne Conrad", "link": "https://stackoverflow.com/users/238886/wayne-conrad"}, "edited": false, "score": 0, "creation_date": 1428325960, "post_id": 29268659, "comment_id": 47105180, "body": "This isn&#39;t valid Ruby... it might need some quotes somewhere."}], "answers": [{"comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1427328469, "post_id": 29268710, "comment_id": 46739001, "body": "Use <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-gsub-21\" rel=\"nofollow noreferrer\"><code>gsub!</code></a> to modify the receiver (i.e. <code>response</code>)"}, {"owner": {"reputation": 41, "user_id": 4714486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6c90bb6fad52bb110b67f2a19bdab2e?s=128&d=identicon&r=PG&f=1", "display_name": "ruby developer", "link": "https://stackoverflow.com/users/4714486/ruby-developer"}, "edited": false, "score": 0, "creation_date": 1427334496, "post_id": 29268710, "comment_id": 46740554, "body": "Thanks! I&#39;m trying same again here but is not working, I have this string localhost:8080/test1  xxx: foopbar, and I tried to remove xxx and rest of the string using following code but its not working as expected:                response = value.gsub(/ xxx .+$/,&#39;&#39;) . Can you tell what I&#39;m doing wrong here"}, {"owner": {"reputation": 1013, "user_id": 400676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/446f38da3c3a952c604795d66053a9fa?s=128&d=identicon&r=PG", "display_name": "cypheon", "link": "https://stackoverflow.com/users/400676/cypheon"}, "edited": false, "score": 0, "creation_date": 1427395479, "post_id": 29268710, "comment_id": 46770285, "body": "You rstring contains a colon <code>:</code> after the &quot;xxx&quot;, so you should change the regular expression to <code>&#47; xxx.+$&#47;</code> (remove the space after the last &#39;x&#39;)"}], "tags": [], "owner": {"reputation": 1013, "user_id": 400676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/446f38da3c3a952c604795d66053a9fa?s=128&d=identicon&r=PG", "display_name": "cypheon", "link": "https://stackoverflow.com/users/400676/cypheon"}, "is_accepted": false, "score": 0, "last_activity_date": 1427327518, "creation_date": 1427327518, "answer_id": 29268710, "question_id": 29268659, "link": "https://stackoverflow.com/questions/29268659/how-to-sub-string-using-ruby/29268710#29268710", "title": "How to sub string using ruby", "body": "<p>In this case, a simple regex should do the trick:</p>\n\n<pre><code>response = \"localhost:8080/test1 and xxx: foopbar\"\nresponse.gsub(/ and .+$/,'')  # returns =&gt; \"localhost:8080/test1\"\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4714486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6c90bb6fad52bb110b67f2a19bdab2e?s=128&d=identicon&r=PG&f=1", "display_name": "ruby developer", "link": "https://stackoverflow.com/users/4714486/ruby-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427331815, "creation_date": 1427327200, "last_edit_date": 1427331815, "question_id": 29268659, "link": "https://stackoverflow.com/questions/29268659/how-to-sub-string-using-ruby", "title": "How to sub string using ruby", "body": "<p>I'm having below  string value in ruby:</p>\n\n<pre><code>response = localhost:8080/test1 and xxx: foopbar,\n</code></pre>\n\n<p>I need output in below format like </p>\n\n<pre><code>response = localhost:8080/test1\n</code></pre>\n\n<p>after \"and\" all string value should be deleted and give only <code>localhost:8080/test1</code>. Can someone help how to achieve this in Ruby. thanks for your help!</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 561, "user_id": 1561592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5570ff9d7d35624342688d36ff15d5?s=128&d=identicon&r=PG", "display_name": "marvwhere", "link": "https://stackoverflow.com/users/1561592/marvwhere"}, "edited": false, "score": 0, "creation_date": 1427326252, "post_id": 29268248, "comment_id": 46738338, "body": "why you want  to transform into a hash, when it is already a hash? condition[:email] and you good to go? but to answer your question a dirty hack would be .to_a.to_h"}, {"owner": {"reputation": 2943, "user_id": 3751534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IejGt.jpg?s=128&g=1", "display_name": "Damon Yuan", "link": "https://stackoverflow.com/users/3751534/damon-yuan"}, "reply_to_user": {"reputation": 561, "user_id": 1561592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5570ff9d7d35624342688d36ff15d5?s=128&d=identicon&r=PG", "display_name": "marvwhere", "link": "https://stackoverflow.com/users/1561592/marvwhere"}, "edited": false, "score": 0, "creation_date": 1427327768, "post_id": 29268248, "comment_id": 46738787, "body": "the conditions = warden_conditions.dup. It is the suggested method of Devise about &quot;How to allow user sign in using either email or username&quot;. I think the warden_conditions might have the possibility be not a hash. But who do you mean by .to_a.to_h? And why the to_h and to_hash would behave like this? I wanna get it understand, not just hack it. Thx."}], "answers": [{"comments": [{"owner": {"reputation": 2943, "user_id": 3751534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IejGt.jpg?s=128&g=1", "display_name": "Damon Yuan", "link": "https://stackoverflow.com/users/3751534/damon-yuan"}, "edited": false, "score": 0, "creation_date": 1427334331, "post_id": 29268766, "comment_id": 46740509, "body": "Tried, find to_unsafe_h do not work, only to_hash work... some object cannot find the method, I think it is rails implementation rather than Ruby core implementation. So when it is not Rails params, it cannot find the to_unsafe_h method."}], "tags": [], "owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "is_accepted": true, "score": 4, "last_activity_date": 1427328227, "last_edit_date": 1592644375, "creation_date": 1427327915, "answer_id": 29268766, "question_id": 29268248, "link": "https://stackoverflow.com/questions/29268248/strange-behavior-of-to-h-method-in-ruby/29268766#29268766", "title": "strange behavior of to_h method in ruby", "body": "<p>Nothing strange about it; <code>p conditions.to_h</code> is returning <code>{}</code> correctly as none of the keys are marked as permitted.</p>\n<p>Take a look at the documentation for the method: <a href=\"http://api.rubyonrails.org/classes/ActionController/Parameters.html#method-i-to_h\" rel=\"nofollow noreferrer\">http://api.rubyonrails.org/classes/ActionController/Parameters.html#method-i-to_h</a></p>\n<blockquote>\n<p><strong>to_h()</strong></p>\n<p>Returns a safe Hash representation of this parameter with all unpermitted keys removed.</p>\n</blockquote>\n<p>Try setting a key as permitted as follows:</p>\n<pre><code>&gt; permitted_conditions = conditions.permit(:email)\n&gt; permitted_conditions.to_h\n=&gt; {&quot;email&quot;=&gt;&quot;asdf.yuan@asdf.com&quot;}\n</code></pre>\n<p><a href=\"http://api.rubyonrails.org/classes/ActionController/Parameters.html#method-i-to_unsafe_h\" rel=\"nofollow noreferrer\"><code>to_unsafe_h</code></a> has the behavior you were originally looking for.</p>\n"}], "owner": {"reputation": 2943, "user_id": 3751534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IejGt.jpg?s=128&g=1", "display_name": "Damon Yuan", "link": "https://stackoverflow.com/users/3751534/damon-yuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 858, "favorite_count": 0, "accepted_answer_id": 29268766, "answer_count": 1, "score": 0, "last_activity_date": 1427328227, "creation_date": 1427325087, "last_edit_date": 1427325447, "question_id": 29268248, "link": "https://stackoverflow.com/questions/29268248/strange-behavior-of-to-h-method-in-ruby", "title": "strange behavior of to_h method in ruby", "body": "<p>I have condition var which need to be converted to hash but I always get an empty hash and I do not know why...The debug info is as follows.</p>\n\n<pre><code>0&gt; p conditions\nApp 3069 stdout: {\"email\"=&gt;\"asdf.yuan@asdf.com\"}\n=&gt; {\"email\"=&gt;\"asdf.yuan@asdf.com\"}\n\n0&gt; p conditions.class\nApp 3069 stdout: ActionController::Parameters\n=&gt; ActionController::Parameters\n\n0&gt; p conditions.to_h\nApp 3069 stdout: {}\n=&gt; {}\n</code></pre>\n\n<p>And I tried to_hash, it just behaves as espected!!!really strange!!!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "rake"], "comments": [{"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1427328171, "post_id": 29268233, "comment_id": 46738928, "body": "Have you tried logging into bash on that app and doing it from there? <code>heroku run bash --app your_app_name</code> then try running your rake command."}, {"owner": {"reputation": 20590, "user_id": 504963, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xlYLo.jpg?s=128&g=1", "display_name": "Antarr Byrd", "link": "https://stackoverflow.com/users/504963/antarr-byrd"}, "edited": false, "score": 0, "creation_date": 1427341148, "post_id": 29268233, "comment_id": 46742123, "body": "does <code>heroku run rake db:migrate --remote heroku</code> work? Or whatever your heroku remote is called."}], "answers": [{"tags": [], "owner": {"reputation": 1958, "user_id": 3071728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4ebf924726264bf9e286276c875b07cd?s=128&d=identicon&r=PG", "display_name": "Legit Stack", "link": "https://stackoverflow.com/users/3071728/legit-stack"}, "is_accepted": false, "score": 0, "last_activity_date": 1427561475, "creation_date": 1427561475, "answer_id": 29319861, "question_id": 29268233, "link": "https://stackoverflow.com/questions/29268233/heroku-run-rake-dbmigrate-doesnt-find-app/29319861#29319861", "title": "heroku run rake db:migrate doesn&#39;t find app", "body": "<p>the problem was that I was trying to do this at work. I thought that it was communicating with the server because it would say things like app not found but it actually wasn't. when I tried this at home it worked fine.</p>\n"}], "owner": {"reputation": 1958, "user_id": 3071728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4ebf924726264bf9e286276c875b07cd?s=128&d=identicon&r=PG", "display_name": "Legit Stack", "link": "https://stackoverflow.com/users/3071728/legit-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427561475, "creation_date": 1427324991, "last_edit_date": 1495535055, "question_id": 29268233, "link": "https://stackoverflow.com/questions/29268233/heroku-run-rake-dbmigrate-doesnt-find-app", "title": "heroku run rake db:migrate doesn&#39;t find app", "body": "<p>I've tried everything - I always get Timeout waiting dyno or App not found.</p>\n\n<p><img src=\"https://i.stack.imgur.com/P3HSn.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/Wj7lz.png\" alt=\"enter image description here\"></p>\n\n<p>can someone please help me use the right syntax or something - what in the world could I be doing wrong??</p>\n\n<p>Here are some links that haven't helped:</p>\n\n<blockquote>\n  <p><a href=\"https://twitter.com/viktorbenei/status/456913389928054784\" rel=\"nofollow noreferrer\">https://twitter.com/viktorbenei/status/456913389928054784</a>\n  <a href=\"https://stackoverflow.com/questions/14003881/heroku-run-rake-dbmigrate-error\">heroku : run rake db:migrate error</a>\n  <a href=\"https://devcenter.heroku.com/articles/one-off-dynos#timeout-awaiting-process\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/one-off-dynos#timeout-awaiting-process</a>\n  <a href=\"https://devcenter.heroku.com/articles/dynos\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/dynos</a>\n  <a href=\"https://www.google.com/search?espv=2&amp;q=how+to+deploy+rails+app+to+heroku+rake+db&amp;oq=how+to+deploy+rails+app+to+heroku+rake+db&amp;gs_l=serp.3...1923.3702.0.3978.8.8.0.0.0.0.258.775.0j4j1.5.0.msedr...0...1c.1.64.serp..5.3.520.88zR1b0gS6c\" rel=\"nofollow noreferrer\">https://www.google.com/search?espv=2&amp;q=how+to+deploy+rails+app+to+heroku+rake+db&amp;oq=how+to+deploy+rails+app+to+heroku+rake+db&amp;gs_l=serp.3...1923.3702.0.3978.8.8.0.0.0.0.258.775.0j4j1.5.0.msedr...0...1c.1.64.serp..5.3.520.88zR1b0gS6c</a>\n  <a href=\"https://devcenter.heroku.com/articles/rake\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/rake</a>\n  <a href=\"https://stackoverflow.com/questions/15737800/heroku-run-rake-dbmigrate-results-in-no-change-in-the-database-app-restarted-s\">Heroku run rake db:migrate results in no change in the database, app restarted several times</a></p>\n</blockquote>\n"}, {"tags": ["ruby", "string"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1427325735, "post_id": 29268215, "comment_id": 46738167, "body": "<a href=\"http://stackoverflow.com/questions/10144543/what-is-the-use-case-for-rubys-q-q-quoting-methods\" title=\"what is the use case for rubys q q quoting methods\">stackoverflow.com/questions/10144543/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1833, "user_id": 4561925, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NqlRJ.png?s=128&g=1", "display_name": "HolyMoly", "link": "https://stackoverflow.com/users/4561925/holymoly"}, "edited": false, "score": 0, "creation_date": 1427335376, "post_id": 29268257, "comment_id": 46740749, "body": "That clears it up a little for me and thanks for the link..very useful!"}], "tags": [], "owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "is_accepted": true, "score": 5, "last_activity_date": 1427326197, "last_edit_date": 1427326197, "creation_date": 1427325111, "answer_id": 29268257, "question_id": 29268215, "link": "https://stackoverflow.com/questions/29268215/why-use-q-or/29268257#29268257", "title": "Why use %q( ) or %( )?", "body": "<p>The <code>%</code> and <code>%q</code> forms <em>are</em> string literals as well, just with different parsing rules. Consider:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>%q(I am a 'string' with a \"string\" in me!)\n</code></pre>\n\n<p>Allowing the different forms, with different escape/termination characters, can make <em>certain</em> literals easier to express. I prefer <code>'</code>-by-default, but it's about using an appropriate form for the given situation.</p>\n\n<p>The <code>%</code> (same as <code>%Q</code>) and <code>%q</code> forms have the same relationship as the <code>\"</code> and <code>'</code> forms; so the difference between using one or the other (of the same family) should be clear.</p>\n\n<p>Historically, these <a href=\"http://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Literals#The_.25_Notation\" rel=\"nofollow\">different % Notations</a> were 'borrowed' from perl.</p>\n"}], "owner": {"reputation": 1833, "user_id": 4561925, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NqlRJ.png?s=128&g=1", "display_name": "HolyMoly", "link": "https://stackoverflow.com/users/4561925/holymoly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "accepted_answer_id": 29268257, "answer_count": 1, "score": 4, "last_activity_date": 1427326197, "creation_date": 1427324898, "question_id": 29268215, "link": "https://stackoverflow.com/questions/29268215/why-use-q-or", "title": "Why use %q( ) or %( )?", "body": "<p>As I am going through some of the Ruby Doc's I have encountered percent strings, two of which I am a little confused about. Specifically it is the %()</p>\n\n<pre><code>string = %(I am a string)\n #=&gt; \"I am a string\"\n</code></pre>\n\n<p>and the %q()</p>\n\n<pre><code> string = %q(I am a string)\n     #=&gt; \"I am a string\"\n</code></pre>\n\n<p>When I played with them they both seem to output a string the same as if I just wrote </p>\n\n<pre><code>string = \"I am a string\"\n#=&gt; \"I am a string\"\n</code></pre>\n\n<p>Why, and in what instances, would one prefer to use them as opposed to just creating a string literal, since they do not seem to save much by way of typing nor ease?</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "ajax", "will-paginate"], "comments": [{"owner": {"reputation": 261, "user_id": 4422752, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-jB2ehwBuqhI/AAAAAAAAAAI/AAAAAAAAAFw/TrCNjtgrrqo/photo.jpg?sz=128", "display_name": "kkomaz", "link": "https://stackoverflow.com/users/4422752/kkomaz"}, "edited": false, "score": 1, "creation_date": 1427326040, "post_id": 29268128, "comment_id": 46738261, "body": "Did you try turning off turbo-links?  I noticed sometimes it doesn&#39;t jive with some javascript files----------------                 <b>gem file, application.js file</b> get rid of <code>&#47;&#47;= require turbolinks</code> in your application file &amp; comment out the  <code>gem &#39;turbolinks&#39;</code> in your gem file, then rebundle"}, {"owner": {"reputation": 7262, "user_id": 845371, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8095efdc89f4a70029477fcb58cddd06?s=128&d=identicon&r=PG", "display_name": "Rafael Adel", "link": "https://stackoverflow.com/users/845371/rafael-adel"}, "reply_to_user": {"reputation": 261, "user_id": 4422752, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-jB2ehwBuqhI/AAAAAAAAAAI/AAAAAAAAAFw/TrCNjtgrrqo/photo.jpg?sz=128", "display_name": "kkomaz", "link": "https://stackoverflow.com/users/4422752/kkomaz"}, "edited": false, "score": 0, "creation_date": 1427327618, "post_id": 29268128, "comment_id": 46738748, "body": "@kkomaz Yup! That was because of turbolinks. Thanks a lot. Please post your answer so I can accept it."}, {"owner": {"reputation": 261, "user_id": 4422752, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-jB2ehwBuqhI/AAAAAAAAAAI/AAAAAAAAAFw/TrCNjtgrrqo/photo.jpg?sz=128", "display_name": "kkomaz", "link": "https://stackoverflow.com/users/4422752/kkomaz"}, "edited": false, "score": 0, "creation_date": 1427332659, "post_id": 29268128, "comment_id": 46740091, "body": "glad it worked out :)"}], "answers": [{"tags": [], "owner": {"reputation": 261, "user_id": 4422752, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-jB2ehwBuqhI/AAAAAAAAAAI/AAAAAAAAAFw/TrCNjtgrrqo/photo.jpg?sz=128", "display_name": "kkomaz", "link": "https://stackoverflow.com/users/4422752/kkomaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1427332490, "creation_date": 1427332490, "answer_id": 29269424, "question_id": 29268128, "link": "https://stackoverflow.com/questions/29268128/rails-ajax-fires-more-than-once-when-using-will-paginate/29269424#29269424", "title": "Rails - Ajax fires more than once when using will_paginate", "body": "<p>Did you try turning off turbo-links? I noticed sometimes it doesn't jive with some javascript files <strong>gem file, application.js</strong> file get rid of <strong>//= require turbolinks</strong> in your <strong>application file</strong> &amp; comment out the <strong>gem 'turbolinks'</strong> in your <strong>gem file</strong>, then rebundle </p>\n"}], "owner": {"reputation": 7262, "user_id": 845371, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8095efdc89f4a70029477fcb58cddd06?s=128&d=identicon&r=PG", "display_name": "Rafael Adel", "link": "https://stackoverflow.com/users/845371/rafael-adel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 29269424, "answer_count": 1, "score": 0, "last_activity_date": 1427332490, "creation_date": 1427324510, "question_id": 29268128, "link": "https://stackoverflow.com/questions/29268128/rails-ajax-fires-more-than-once-when-using-will-paginate", "title": "Rails - Ajax fires more than once when using will_paginate", "body": "<p>I'm a beginner in Ruby on Rails. I'm trying to learn using Ajax with Rails. So far so good, I've made basic CRUD operations using Ajax. </p>\n\n<p>But the problem is, for example, when creating a new <code>post</code>, It's created only once. But after clicking on one of the pagination links. It's created twice. If I clicked for the third time and added new <code>post</code>, It's added three times.</p>\n\n<p>The same goes with deletion (i.e. confirmation window is presented three times if clicked on three pagination links)</p>\n\n<p>Note, pagination is not using Ajax.</p>\n\n<p>Here's my code:</p>\n\n<p><strong>posts_controller.rb</strong></p>\n\n<pre><code>class PostsController &lt; ApplicationController\n  before_action :get_all, only: [:index, :create, :destroy]\n\n  def index\n    @post = Post.new\n  end\n\n  def new\n    @post = Post.new\n  end\n\n  def create\n    @post = Post.new(post_params)\n    if @post.save\n      @post = Post.new\n      respond_to do |format|\n        format.html { redirect_to posts_url}\n        format.js\n      end\n    else\n      respond_to do |format|\n        format.html { render 'posts/new' }\n        format.js\n      end\n    end\n  end\n\n  private\n  def post_params\n    params.require(:post).permit(:title, :content)\n  end\n\n  def get_all\n    @posts = Post.paginate(page: params[:page], per_page: 3)\n  end\nend\n</code></pre>\n\n<hr>\n\n<p><strong>index.html.erb:</strong></p>\n\n<pre><code>&lt;div class=\"form_wrapper\"&gt;\n&lt;%= render 'posts/form_ajax' %&gt;\n&lt;/div&gt;\n\n&lt;hr/&gt;\n&lt;div class=\"result\"&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;\n\n&lt;div class=\"posts_wrapper\"&gt;\n&lt;%= render 'posts/post', posts: @posts %&gt;\n&lt;/div&gt;\n  &lt;% content_for :javascripts do %&gt;\n      &lt;%= javascript_include_tag 'index_page' %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>posts/_form_ajax.html.erb</strong></p>\n\n<pre><code>&lt;%= form_for(@post, remote: true) do |f| %&gt;\n    &lt;%= render \"shared/form\", f: f %&gt;\n    &lt;div&gt;\n      &lt;%= f.submit \"Add\" %&gt;\n    &lt;/div&gt;\n    &lt;% if @post.errors.any? %&gt;\n        &lt;ul&gt;\n          &lt;% @post.errors.full_messages.each do |err| %&gt;\n              &lt;li&gt;&lt;%= err %&gt;&lt;/li&gt;\n          &lt;% end %&gt;\n        &lt;/ul&gt;\n    &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>posts/_post.html.erb</strong></p>\n\n<pre><code>&lt;%= will_paginate @posts, :params =&gt; {:action =&gt; 'index', :controller =&gt; 'posts' } %&gt;\n&lt;% @posts.each do |p| %&gt;\n    &lt;div class=\"post\"&gt;\n      &lt;p&gt;Title: &lt;%= p.title %&gt;&lt;/p&gt;\n      &lt;p&gt;Content: &lt;%= p.content %&gt;&lt;/p&gt;\n      &lt;p&gt;\n        &lt;%= link_to \"edit\", edit_post_path(p) %&gt;\n        &lt;%= link_to p, method: :delete, data: { confirm: 'Are you sure?' }, remote: true do %&gt;\n            &lt;button&gt;Delete&lt;/button&gt;\n        &lt;% end %&gt;\n      &lt;/p&gt;\n    &lt;/div&gt;\n\n&lt;hr/&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>posts/create.js.erb</strong></p>\n\n<pre><code>$(\".form_wrapper\").html(\"&lt;%= escape_javascript(render 'posts/form_ajax') %&gt;\");\n$(\".posts_wrapper\").html(\"&lt;%= escape_javascript(render 'posts/post', posts: @posts) %&gt;\");\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "delayed-job"], "answers": [{"tags": [], "owner": {"reputation": 5256, "user_id": 2692595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89f68b5a82eb26defde97de80816f9fc?s=128&d=identicon&r=PG", "display_name": "hackerrdave", "link": "https://stackoverflow.com/users/2692595/hackerrdave"}, "is_accepted": false, "score": 0, "last_activity_date": 1427326169, "creation_date": 1427326169, "answer_id": 29268472, "question_id": 29267989, "link": "https://stackoverflow.com/questions/29267989/rails-4-record-not-persisted-in-after-create-callback-delayed-job/29268472#29268472", "title": "Rails 4, record not-persisted in after create callback &amp; Delayed Job", "body": "<p>The <code>after_create</code> callback will not have access to the persisted object, and therefore the object will not have an id. You will have to use the <code>after_save</code> callback to access the object's id. To prevent the creation of a delayed job during future saves you can try something like this:</p>\n\n<pre><code>class Klass\n  has_many :klass_instances\n  after_save :create_klass_instances\n\n  def create_klass_instances\n    delay.now_create_klass_instances if klass_instances.empty?\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 550, "user_id": 3868832, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f9927e6b41853798340f92fe9fb078e5?s=128&d=identicon&r=PG&f=1", "display_name": "user3868832", "link": "https://stackoverflow.com/users/3868832/user3868832"}, "is_accepted": false, "score": 0, "last_activity_date": 1427327066, "creation_date": 1427327066, "answer_id": 29268628, "question_id": 29267989, "link": "https://stackoverflow.com/questions/29267989/rails-4-record-not-persisted-in-after-create-callback-delayed-job/29268628#29268628", "title": "Rails 4, record not-persisted in after create callback &amp; Delayed Job", "body": "<p><a href=\"http://logicalfriday.com/2012/08/21/rails-callbacks-workers-and-the-race-you-never-expected-to-lose/\" rel=\"nofollow\">This Chap</a> gave me the answer I was looking for.</p>\n\n<p>In summary, use <code>after_commit</code></p>\n\n<p>The problem is that Delayed Job has snatched the job off the queue and tried to process it before your database transaction has completed. So when it calls to the database to find your new record, it won\u2019t actually be there, even though you said \u201cafter save\u201d.</p>\n"}], "owner": {"reputation": 550, "user_id": 3868832, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f9927e6b41853798340f92fe9fb078e5?s=128&d=identicon&r=PG&f=1", "display_name": "user3868832", "link": "https://stackoverflow.com/users/3868832/user3868832"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1220, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427327066, "creation_date": 1427323842, "question_id": 29267989, "link": "https://stackoverflow.com/questions/29267989/rails-4-record-not-persisted-in-after-create-callback-delayed-job", "title": "Rails 4, record not-persisted in after create callback &amp; Delayed Job", "body": "<p>I've a really expensive method to run after creating an instance of a 'Klass', so I want to queue the job in DelayedJob. </p>\n\n<pre><code>class Klass\n  has_many :klass_instances\n  after_create :create_klassinstances\n\n  def create_klassinstances\n    .....\n    delay.create_if_ok_to_create_klass_instances\n    .....\n  end\n\nend \n</code></pre>\n\n<p>However this throws the error </p>\n\n<pre><code>#&lt;ArgumentError: job cannot be created for non-persisted record:\n</code></pre>\n\n<p>Which I don't really understand. I am using an 'after_create' call back so surely an ID must exist now for the Klass record? I've played around with pry and calling 'self' in the create_klassinstances method returns the non persisted object with the ID set as nil. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex", "split"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1427323512, "post_id": 29267906, "comment_id": 46737304, "body": "<code>str.split(&quot;:&quot;)</code> gives me three exact strings."}, {"owner": {"reputation": 222093, "user_id": 50742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03cdad7329f1a13d2b2f3d9c8a08813d?s=128&d=identicon&r=PG", "display_name": "Chuck", "link": "https://stackoverflow.com/users/50742/chuck"}, "edited": false, "score": 0, "creation_date": 1427323852, "post_id": 29267906, "comment_id": 46737434, "body": "What version of Ruby are you using? <code>first, rest = &quot;ex1:ex2:ex3&quot;.split(&quot;:&quot;); puts first, rest</code> prints &quot;ext1&quot; and &quot;ext2&quot; for me."}], "answers": [{"tags": [], "owner": {"reputation": 20590, "user_id": 504963, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xlYLo.jpg?s=128&g=1", "display_name": "Antarr Byrd", "link": "https://stackoverflow.com/users/504963/antarr-byrd"}, "is_accepted": true, "score": 0, "last_activity_date": 1427324075, "last_edit_date": 1427324075, "creation_date": 1427323508, "answer_id": 29267933, "question_id": 29267906, "link": "https://stackoverflow.com/questions/29267906/using-string-split-in-ruby/29267933#29267933", "title": "Using string split in Ruby?", "body": "<pre><code>str = \"ex1:ex2:ex3\"\nfirst, rest = str.split(/\\:/)\nprint \"#{first} and #{rest}\"    # output =&gt; \"ex1 and ex2\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1427324338, "last_edit_date": 1427324338, "creation_date": 1427323697, "answer_id": 29267965, "question_id": 29267906, "link": "https://stackoverflow.com/questions/29267906/using-string-split-in-ruby/29267965#29267965", "title": "Using string split in Ruby?", "body": "<p>Perhaps you want this:</p>\n\n<pre><code>str = \"ex1:ex2:ex3:ex4\"\n\nf,s = str.split(':')\nf #=&gt; \"ex1\" \ns #=&gt; \"ex2\" \n</code></pre>\n\n<p>If you want to return an array:</p>\n\n<pre><code>str.split(':').first(2)\n  #=&gt; [\"ex1\", \"ex2\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1427323772, "creation_date": 1427323772, "answer_id": 29267977, "question_id": 29267906, "link": "https://stackoverflow.com/questions/29267906/using-string-split-in-ruby/29267977#29267977", "title": "Using string split in Ruby?", "body": "<p>There is another way with a regex, too. First, we get only the first 2 groups between <code>:</code>, and then remove the rest of the string. And then split:</p>\n\n<pre><code>str = \"ex1:ex2:ex3\".gsub(/^(\\w+\\:\\w+).*$/, \"\\1\")\nfirst, rest = str.split(\":\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1427323814, "creation_date": 1427323814, "answer_id": 29267983, "question_id": 29267906, "link": "https://stackoverflow.com/questions/29267906/using-string-split-in-ruby/29267983#29267983", "title": "Using string split in Ruby?", "body": "<p>Through sub and gsub. Remove the last colon part and then replace the colons with newline character.</p>\n\n<pre><code>&gt; str = \"ex1:ex2:ex3\"\n&gt; str.sub(/:[^:]*$/, \"\").gsub(/:/, \"\\n\")\n=&gt; \"ex1\\nex2\"\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 1725651, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b07fef859d285cd7d14c7900beac4575?s=128&d=identicon&r=PG", "display_name": "user1725651", "link": "https://stackoverflow.com/users/1725651/user1725651"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 29267933, "answer_count": 4, "score": 1, "last_activity_date": 1427324338, "creation_date": 1427323358, "question_id": 29267906, "link": "https://stackoverflow.com/questions/29267906/using-string-split-in-ruby", "title": "Using string split in Ruby?", "body": "<pre><code>    str = \"ex1:ex2:ex3\"\n</code></pre>\n\n<p>I want to split the string with : delimiter and get only ex1 and ex2, and ignore ex3. When I do,</p>\n\n<pre><code>    first, rest = str.split(\":\")\n</code></pre>\n\n<p>It gives me the following</p>\n\n<pre><code>    ex1\n   :ex2\n</code></pre>\n\n<p>I tried replacing : with a space</p>\n\n<pre><code>    str.gsub(\":\",\" \")\n</code></pre>\n\n<p>But it still gives the same answer with the delimiter (:) with the second part</p>\n\n<p>Is there any good way to split the string using Ruby where I am interested in only the first 2 parts of the string.</p>\n\n<p>Expected answer is:</p>\n\n<pre><code>    ex1\n    ex2\n</code></pre>\n\n<p>Thanks!!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "associations", "model-associations"], "comments": [{"owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "edited": false, "score": 0, "creation_date": 1427319033, "post_id": 29266874, "comment_id": 46735463, "body": "The error could be with <code>customer.name</code>."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4708669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/86e927af287dc805419ce303842a7191?s=128&d=identicon&r=PG&f=1", "display_name": "davefogo", "link": "https://stackoverflow.com/users/4708669/davefogo"}, "edited": false, "score": 0, "creation_date": 1427322392, "post_id": 29267052, "comment_id": 46736894, "body": "Thank you neo this worked out! Why though? I am not understanding the logic why it was failing?"}, {"owner": {"reputation": 3728, "user_id": 2612713, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0a7f606f9e135589780620d1160d941e?s=128&d=identicon&r=PG&f=1", "display_name": "neo", "link": "https://stackoverflow.com/users/2612713/neo"}, "reply_to_user": {"reputation": 103, "user_id": 4708669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/86e927af287dc805419ce303842a7191?s=128&d=identicon&r=PG&f=1", "display_name": "davefogo", "link": "https://stackoverflow.com/users/4708669/davefogo"}, "edited": false, "score": 0, "creation_date": 1427323816, "post_id": 29267052, "comment_id": 46737418, "body": "You have a nil salesman somewhere, when you call name of nil, you get that error"}, {"owner": {"reputation": 103, "user_id": 4708669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/86e927af287dc805419ce303842a7191?s=128&d=identicon&r=PG&f=1", "display_name": "davefogo", "link": "https://stackoverflow.com/users/4708669/davefogo"}, "edited": false, "score": 0, "creation_date": 1427323931, "post_id": 29267052, "comment_id": 46737468, "body": "Thank you neo!  Actually found the nil and corrected the code."}, {"owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "edited": false, "score": 0, "creation_date": 1427325097, "post_id": 29267052, "comment_id": 46737915, "body": "The Railsway is using <code>#try</code> in such scenarios."}], "tags": [], "owner": {"reputation": 3728, "user_id": 2612713, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0a7f606f9e135589780620d1160d941e?s=128&d=identicon&r=PG&f=1", "display_name": "neo", "link": "https://stackoverflow.com/users/2612713/neo"}, "is_accepted": true, "score": 1, "last_activity_date": 1427319568, "creation_date": 1427319568, "answer_id": 29267052, "question_id": 29266874, "link": "https://stackoverflow.com/questions/29266874/rails-association-bug/29267052#29267052", "title": "Rails Association Bug", "body": "<p>Add the following  to your views instead of what you currently have<code>&lt;%= customer.salesman.name if customer.salesman %&gt;</code></p>\n\n<p>This will ensure that you're not calling <code>name</code> when customer doesn't have a salesman.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 4708669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/86e927af287dc805419ce303842a7191?s=128&d=identicon&r=PG&f=1", "display_name": "davefogo", "link": "https://stackoverflow.com/users/4708669/davefogo"}, "edited": false, "score": 0, "creation_date": 1427322423, "post_id": 29267260, "comment_id": 46736902, "body": "Worked also! Why was it failing and now works? Thanks Sharvy."}, {"owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "reply_to_user": {"reputation": 103, "user_id": 4708669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/86e927af287dc805419ce303842a7191?s=128&d=identicon&r=PG&f=1", "display_name": "davefogo", "link": "https://stackoverflow.com/users/4708669/davefogo"}, "edited": false, "score": 0, "creation_date": 1427325018, "post_id": 29267260, "comment_id": 46737878, "body": "You have some customers who do not have salemans. For that particular Customer, <code>customer.saleman</code> will return <code>nil</code>, okay? So, when you are trying to get the <code>name</code> of <code>nil</code> by <code>customer.salesman.name</code> (= nil.name), it raises <code>NoMethodError</code>. So Rails provides you <code>#try</code> for such scenarios. Now if you do <code>nil.try(:name)</code>, it will return <code>nil</code> instead of raising exception. Got it?"}, {"owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "reply_to_user": {"reputation": 103, "user_id": 4708669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/86e927af287dc805419ce303842a7191?s=128&d=identicon&r=PG&f=1", "display_name": "davefogo", "link": "https://stackoverflow.com/users/4708669/davefogo"}, "edited": false, "score": 0, "creation_date": 1427392288, "post_id": 29267260, "comment_id": 46768428, "body": "@davefogo, did you get it?"}], "tags": [], "owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1427320390, "creation_date": 1427320390, "answer_id": 29267260, "question_id": 29266874, "link": "https://stackoverflow.com/questions/29266874/rails-association-bug/29267260#29267260", "title": "Rails Association Bug", "body": "<p>Try this:</p>\n\n<pre><code>&lt;% @customers.each do |customer| %&gt; \n  &lt;%= customer.name %&gt; \n  &lt;%= customer.address %&gt; \n  &lt;%= customer.salesman.try(:name) %&gt; \n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22836, "user_id": 152786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/581hP.jpg?s=128&g=1", "display_name": "smathy", "link": "https://stackoverflow.com/users/152786/smathy"}, "is_accepted": false, "score": 0, "last_activity_date": 1427320953, "creation_date": 1427320953, "answer_id": 29267400, "question_id": 29266874, "link": "https://stackoverflow.com/questions/29266874/rails-association-bug/29267400#29267400", "title": "Rails Association Bug", "body": "<p>Do this:</p>\n\n<pre><code>&lt;% @customers.each do |customer| %&gt;\n  &lt;% Rails.logger.debug \"\\n\\n#{@customers} has a nil customer in it\\n\\n\" if customer.nil? %&gt;\n  &lt;% Rails.logger.debug \"\\n\\nCustomer #{customer.id} has no salesman for [#{customer.salesman_id}]\\n\\n\" if customer.salesman.nil? %&gt;\n  &lt;%= customer.name %&gt;\n  &lt;%= customer.address %&gt;\n  &lt;%= customer.salesman.name %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>...and then check your logs after hitting the index.</p>\n"}], "owner": {"reputation": 103, "user_id": 4708669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/86e927af287dc805419ce303842a7191?s=128&d=identicon&r=PG&f=1", "display_name": "davefogo", "link": "https://stackoverflow.com/users/4708669/davefogo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 29267052, "answer_count": 3, "score": 1, "last_activity_date": 1427322088, "creation_date": 1427318871, "last_edit_date": 1427322088, "question_id": 29266874, "link": "https://stackoverflow.com/questions/29266874/rails-association-bug", "title": "Rails Association Bug", "body": "<p>I am getting <strong><em>NoMethodError in SitesController#index undefined method `name' for nil:NilClass</em></strong> in my Salesman index view and cannot find the culprit.</p>\n\n<p>I have a simple rails app with the following tables: Customer, Salesman and Invoice.</p>\n\n<p>In the index view for the customer table I have the following call: </p>\n\n<p><code>&lt;% @customers.each do |customer| %&gt;\n    &lt;%= customer.name %&gt;&lt;/td&gt;\n    &lt;%= customer.address %&gt;\n    &lt;%= customer.salesman.name %&gt;\n&lt;% end %&gt;</code></p>\n\n<p>This is the call that results in the undefined method \u00b4name\u00b4 listed above. I made sure the salesman table has a salesman_id foreign key in the customer table. Also, I made the respective association in the models: </p>\n\n<p><code>class Customer &lt; ActiveRecord::Base\n    belongs_to :salesman\n     has_many :invoices\nend</code></p>\n\n<p><code>class Salesman &lt; ActiveRecord::Base\n    has_many :customers\nend</code></p>\n\n<p>I tested the <code>customer.salesman.name</code> call in the console and it works flawlessly. The show view for the customer has an exact call like this one and it also works. The only way I can make the customer index pass is by replacing <code>customer.salesman.name</code> to <code>customer.salesman_id</code> returning only the id.</p>\n\n<p>Thank you for your time here.</p>\n\n<pre><code>***schema.rb*** \n\nActiveRecord::Schema.define(version: 20150325172212) do\ncreate_table \"customers\", force: :cascade do |t|\n    t.string   \"name\"\n    t.string   \"address\"\n    t.datetime \"created_at\",               null: false\n    t.datetime \"updated_at\",               null: false\n    t.integer  \"salesman_id\"\n  end\ncreate_table \"invoices\", force: :cascade do |t|\n    t.datetime \"date\"\n    t.string   \"fid\"\n    t.integer  \"salesman_id\"\n    t.datetime \"created_at\",      null: false\n    t.datetime \"updated_at\",      null: false\n    t.string   \"address\"\n  end\ncreate_table \"salesmen\", force: :cascade do |t|\n    t.datetime \"name\"\n    t.string   \"address\"\"\n    t.datetime \"created_at\",      null: false\n    t.datetime \"updated_at\",      null: false\n  end \n\n***controllers***\n\n**customer**\n\nClass CustomersController &lt; ApplicationController\n  before_action :set_customer, only: [:show, :edit, :update, :destroy]\n  # GET /customers\n  # GET /customers.json\n  def index\n    @customers = Customer.all\n  end\n  # GET /customers/1\n  # GET /customers/1.json\n  def show\n  end\n  # GET /customers/new\n  def new\n    @customer = Customer.new\n  end\n  # GET /customers/1/edit\n  def edit\n  end\n  # POST /customers\n  # POST /customers.json\n  def create\n    @customer = Customer.new(customer_params)\n    respond_to do |format|\n      if @customer.save\n        format.html { redirect_to @customer, notice: 'Customer was successfully created.' }\n        format.json { render :show, status: :created, location: @customer }\n      else\n        format.html { render :new }\n        format.json { render json: @customer.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n  # PATCH/PUT /customers/1\n  # PATCH/PUT /customers/1.json\n  def update\n    respond_to do |format|\n      if @customer.update(customer_params)\n        format.html { redirect_to @customer, notice: 'Customer was successfully updated.' }\n        format.json { render :show, status: :ok, location: @customer }\n      else\n        format.html { render :edit }\n        format.json { render json: @customer.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n  # DELETE /customers/1\n  # DELETE /customers/1.json\n  def destroy\n    @customer.destroy\n    respond_to do |format|\n      format.html { redirect_to customers_url, notice: 'Customer was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_cliente\n      @cliente = Cliente.find(params[:id])\n    end\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def customer_params\n      params.require(:customer).permit(:name, :address, :salesman_id)\n    end\nend\n\n***salesman***\n\nclass SalesmenController &lt; ApplicationController\n  before_action :set_salesman, only: [:show, :edit, :update, :destroy]\n  # GET /salesmans\n  # GET /salesmans.json\n  def index\n    @salesmen = Salesman.all\n  end\n  # GET /salesmans/1\n  # GET /salesmans/1.json\n  def show\n  end\n  # GET /salesmans/new\n  def new\n    @salesman = Salesman.new\n  end\n  # GET /salesmans/1/edit\n  def edit\n  end\n  # POST /salesmans\n  # POST /salesmans.json\n  def create\n    @salesman = Salesman.new(salesman_params)\n    respond_to do |format|\n      if @salesman.save\n        format.html { redirect_to @salesman, notice: 'Salesman was successfully created.' }\n        format.json { render :show, status: :created, location: @salesman }\n      else\n        format.html { render :new }\n        format.json { render json: @salesman.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n  # PATCH/PUT /salesmans/1\n  # PATCH/PUT /salesmans/1.json\n  def update\n    respond_to do |format|\n      if @salesman.update(salesman_params)\n        format.html { redirect_to @salesman, notice: 'Salesman was successfully updated.' }\n        format.json { render :show, status: :ok, location: @salesman }\n      else\n        format.html { render :edit }\n        format.json { render json: @salesman.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n  # DELETE /salesmans/1\n  # DELETE /salesmans/1.json\n  def destroy\n    @salesman.destroy\n    respond_to do |format|\n      format.html { redirect_to salesmans_url, notice: 'Salesman was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_salesman\n      @salesman = Salesman.find(params[:id])\n    end\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def salesman_params\n      params.require(:salesman).permit(:name, :address)\n    end\n\n**invoice**\n\nclass InvoicesController &lt; ApplicationController\n  before_action :set_invoice, only: [:show, :edit, :update, :destroy]\n  # GET /invoices\n  # GET /invoices.json\n  def index\n    @invoices = Invoice.all\n  end\n  # GET /invoices/1\n  # GET /invoices/1.json\n  def show\n    @invoice = Invoice.find(params[:id])\n    @ordenes = @invoice.ordenes\n  end\n  # GET /invoices/new\n  def new\n    @invoice = Invoice.new\n  end\n  # GET /invoices/1/edit\n  def edit\n  end\n  # POST /invoices\n  # POST /invoices.json\n  def create\n    @invoice = Invoice.new(invoice_params)\n    respond_to do |format|\n      if @invoice.save\n        format.html { redirect_to @invoice, notice: 'Invoice was successfully created.' }\n        format.json { render :show, status: :created, location: @invoice }\n      else\n        format.html { render :new }\n        format.json { render json: @invoice.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n  # PATCH/PUT /invoices/1\n  # PATCH/PUT /invoices/1.json\n  def update\n    respond_to do |format|\n      if @invoice.update(invoice_params)\n        format.html { redirect_to @invoice, notice: 'Invoice was successfully updated.' }\n        format.json { render :show, status: :ok, location: @invoice }\n      else\n        format.html { render :edit }\n        format.json { render json: @invoice.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n  # DELETE /invoices/1\n  # DELETE /invoices/1.json\n  def destroy\n    @invoice.destroy\n    respond_to do |format|\n      format.html { redirect_to invoices_url, notice: 'Invoice was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_invoice\n      @invoice = Invoice.find(params[:id])\n    end\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def invoice_params\n      params.require(:invoice).permit(:date, :fid, :name, :address, :salesman_id)\n    end\nend\n</code></pre>\n\n<p>-davefogo</p>\n"}, {"tags": ["ruby", "arrays", "loops"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4709748, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Cp2VP.png?s=128&g=1", "display_name": "Touka", "link": "https://stackoverflow.com/users/4709748/touka"}, "edited": false, "score": 0, "creation_date": 1427319066, "post_id": 29266767, "comment_id": 46735478, "body": "that helps considerably but I need to export to <code>num</code> amount of arrays"}], "tags": [], "owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "is_accepted": false, "score": 0, "last_activity_date": 1427319152, "last_edit_date": 1427319152, "creation_date": 1427318461, "answer_id": 29266767, "question_id": 29266455, "link": "https://stackoverflow.com/questions/29266455/return-string-value-to-array-from-loop-ruby/29266767#29266767", "title": "Return string value to array from loop (Ruby)", "body": "<p>You can add to an array using the <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-3C-3C\" rel=\"nofollow\"><code>&lt;&lt;</code></a> method.  For example:</p>\n\n<pre><code>arr = []\n3.times do |el|\n  arr &lt;&lt; el\nend\narr.inspect #=&gt; [0, 1, 2]\n</code></pre>\n\n<p>Another option would be the <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-push\" rel=\"nofollow\"><code>push</code></a> method:</p>\n\n<pre><code>arr = []\n(0..2).each { |el| arr.push(el)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "is_accepted": true, "score": 0, "last_activity_date": 1427319197, "creation_date": 1427319197, "answer_id": 29266956, "question_id": 29266455, "link": "https://stackoverflow.com/questions/29266455/return-string-value-to-array-from-loop-ruby/29266956#29266956", "title": "Return string value to array from loop (Ruby)", "body": "<p>I think you can simplify your life by replacing the <code>if...</code> and below with the following:</p>\n\n<pre><code>case type\n  when \"1\"\n    arr = [norm,nums].flatten\n  when \"2\"\n    arr = [caps,nums].flatten\n  when \"3\"\n    arr = [norm,caps,nums].flatten\n  else\n    exit\nend\npasswd_set = []\nnum.times { passwd_set &lt;&lt; arr.sample(len).join }\np passwd_set\n</code></pre>\n\n<p>I find <code>case</code> statements easier to read, and more easily extended.  Flattening the arrays makes it so <code>sample</code> can directly produce the desired number of characters/symbols, and those can be <code>join</code>ed to produce a string which can be appended to your <code>passwd_set</code> array.</p>\n"}, {"tags": [], "owner": {"reputation": 1910, "user_id": 676788, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/16dfcfaa3f6405e9572cea3f88a68c56?s=128&d=identicon&r=PG", "display_name": "Nafaa Boutefer", "link": "https://stackoverflow.com/users/676788/nafaa-boutefer"}, "is_accepted": false, "score": 1, "last_activity_date": 1427320092, "last_edit_date": 1427320092, "creation_date": 1427319774, "answer_id": 29267109, "question_id": 29266455, "link": "https://stackoverflow.com/questions/29266455/return-string-value-to-array-from-loop-ruby/29267109#29267109", "title": "Return string value to array from loop (Ruby)", "body": "<p>here your code simplified</p>\n\n<pre><code>#Password list generator by Nightc||ed, \u00a92015\nnorm = [*\"a\"..\"z\"]\ncaps = [*\"A\"..\"Z\"]\nnums = [*0..9]\nnum, len, type = [\n   \"How many passwords would you like to generate?\",\n   \"Password length (1-x):\",\n   \"Which characters would you like to use?\n    [1] a-z, 0-9\n    [2] A-Z, 0-9\n    [3] a-z, A-Z, 0-9\"].map do |msg|\n     puts msg\n     gets.to_i\n   end\n\narr = case type\n      when 1 then\n        norm + nums\n      when 2 then\n        caps + nums\n      when 3 then\n        norm + caps + nums\n      else\n        exit\n      end\n\npasswords = num.times.map { arr.sample(len).join }\nputs passwords.inspect\nsleep\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4709748, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Cp2VP.png?s=128&g=1", "display_name": "Touka", "link": "https://stackoverflow.com/users/4709748/touka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 29266956, "answer_count": 3, "score": 0, "last_activity_date": 1427320092, "creation_date": 1427317376, "question_id": 29266455, "link": "https://stackoverflow.com/questions/29266455/return-string-value-to-array-from-loop-ruby", "title": "Return string value to array from loop (Ruby)", "body": "<p>Not sure if that's the term I should use for it but what I'm trying to do is add <code>len</code> amount of characters to an array, then output that to a <code>.txt</code>. I have the generation done to my satisfaction but I'm not sure how to pack the strings into an array. Right now it just spits out all the strings into the console because of the <code>puts</code> statement, just to make sure it works.</p>\n\n<pre><code>#Password list generator by Nightc||ed, \u00a92015\nnorm = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"]\ncaps = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"]\nnums = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nputs \"How many passwords would you like to generate?\"\nnum = gets.to_i\nsystem \"cls\"\nputs \"Password length (1-x):\"\nlen = gets.to_i\nsystem \"cls\"\nputs \"\"\"\nWhich characters would you like to use?\n[1] a-z, 0-9\n[2] A-Z, 0-9\n[3] a-z, A-Z, 0-9\n\"\"\"\narr = []\ntype = gets.chomp\nif type == \"1\"\n    arr = [norm,nums]\nelsif type == \"2\"\n    arr = [caps,nums]\nelsif type == \"3\"\n    arr = [norm,caps,nums]\nelse\n    exit\nend\nnum.times do |pass|\n    len.times do |char|\n        arr2 = arr.to_a.sample\n        char = arr2.to_a.sample\n        puts char\n    end\nend\nsleep\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rake"], "comments": [{"owner": {"reputation": 1158, "user_id": 2267992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wsP3m.jpg?s=128&g=1", "display_name": "Ryan Rebo", "link": "https://stackoverflow.com/users/2267992/ryan-rebo"}, "edited": false, "score": 0, "creation_date": 1427317295, "post_id": 29266317, "comment_id": 46734574, "body": "Why not leave the ID field blank since Rails auto-creates/increments id&#39;s? Just curious."}], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 1, "last_activity_date": 1427317283, "creation_date": 1427317283, "answer_id": 29266434, "question_id": 29266317, "link": "https://stackoverflow.com/questions/29266317/problems-during-rake-dbseed-value-dosnt-set-correctly/29266434#29266434", "title": "Problems during rake db:seed, value dosn&#39;t set correctly", "body": "<p>The most common thing that causes this kind of problems are validations. In this case I would expect that a user needs an email or a password. Please check if</p>\n\n<pre><code>User.create!(\n  :id =&gt; 1, :firstname =&gt; 'Felix', :lastname =&gt; 'Hohlwegler', :active =&gt; true\n)\n</code></pre>\n\n<p>passes the validations and creates an user.</p>\n\n<p>Please note that I use <code>create!</code> that would raise an error if it not able to create an user instead of just returning an unsaved one.</p>\n"}, {"tags": [], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "is_accepted": false, "score": 0, "last_activity_date": 1427317843, "creation_date": 1427317843, "answer_id": 29266589, "question_id": 29266317, "link": "https://stackoverflow.com/questions/29266317/problems-during-rake-dbseed-value-dosnt-set-correctly/29266589#29266589", "title": "Problems during rake db:seed, value dosn&#39;t set correctly", "body": "<p>solution that works fine for me:</p>\n\n<pre><code>u = User.new(\n  :id =&gt; 1, :firstname =&gt; 'Felix', :lastname =&gt; 'Hohlwegler', :active =&gt; 1\n)\n\nu.active = true\nu.save\n</code></pre>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 29266434, "answer_count": 2, "score": 0, "last_activity_date": 1427317843, "creation_date": 1427316864, "question_id": 29266317, "link": "https://stackoverflow.com/questions/29266317/problems-during-rake-dbseed-value-dosnt-set-correctly", "title": "Problems during rake db:seed, value dosn&#39;t set correctly", "body": "<p>I want to prefill my table with the seeds.rb file in app/db</p>\n\n<p>but there I got a problem during storing the right data.</p>\n\n<p>in the table users I have an column called active withe datatype tinyint. so now I want to store with the seeds.rb int values </p>\n\n<pre><code>User.create([ { :id =&gt; 1, :firstname =&gt; 'Felix', :lastname =&gt; 'Hohlwegler', :active =&gt; 1}]) \n</code></pre>\n\n<p>but it dosn't store 1. It always stores 0 in database. </p>\n\n<p>also tried this:</p>\n\n<pre><code>User.create([ { :id =&gt; 1, :firstname =&gt; 'Felix', :lastname =&gt; 'Hohlwegler', :active =&gt; true}]) \n</code></pre>\n\n<p>same problem it stores 0 in db. </p>\n\n<p>Whats going wrong?</p>\n"}, {"tags": ["ruby", "arrays", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1427315920, "post_id": 29265917, "comment_id": 46733814, "body": "or <code>status.sort_by{|x| x[0].downcase}</code>."}, {"owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "edited": false, "score": 0, "creation_date": 1584545905, "post_id": 29265917, "comment_id": 107470912, "body": "is there an additional flag i can use to determine if it&#39;s ascending or descending"}], "tags": [], "owner": {"reputation": 2581, "user_id": 1032757, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/L4YPP.jpg?s=128&g=1", "display_name": "awenkhh", "link": "https://stackoverflow.com/users/1032757/awenkhh"}, "is_accepted": false, "score": 2, "last_activity_date": 1427316007, "last_edit_date": 1427316007, "creation_date": 1427315456, "answer_id": 29265917, "question_id": 29265916, "link": "https://stackoverflow.com/questions/29265916/how-to-sort-an-array-of-arrays-in-ruby-where-the-first-elements-is-a-string/29265917#29265917", "title": "How to sort an Array of Arrays in Ruby where the first elements is a String", "body": "<p><strong>A common error</strong> is to forget, that the String (in each Array at position <code>a[0]</code>) is upper or lowercase. Naturally the sorting will result in something like:</p>\n\n<pre><code> \"Aktiv\",  \n \"E-Mail Best\u00e4tigung\",  \n \"IBAN existiert\",  \n \"LottoIdent\",  \n ...,  \n \"SMS Best\u00e4tigung\",  \n \"ausgeschlossen\",    \n \"gesperrt\"  \n</code></pre>\n\n<p>So the solution is to use the common Ruby sort method with a block and to downcase the values at position <code>a[0]</code>:</p>\n\n<pre><code>status.sort{|x,y| x[0].downcase &lt;=&gt; y[0].downcase}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "is_accepted": false, "score": 4, "last_activity_date": 1427316095, "creation_date": 1427316095, "answer_id": 29266100, "question_id": 29265916, "link": "https://stackoverflow.com/questions/29265916/how-to-sort-an-array-of-arrays-in-ruby-where-the-first-elements-is-a-string/29266100#29266100", "title": "How to sort an Array of Arrays in Ruby where the first elements is a String", "body": "<pre><code>p status.sort_by{|ar| ar.first.downcase}\n# =&gt;[[\"Aktiv\", :active], [\"ausgeschlossen\", :locked_out], [\"E-Mail Best\u00e4tigung\", :email_validation], [\"gesperrt\", :locked], [\"IBAN existiert\", :iban_exists], [\"LottoIdent\", :lotto_ident], [\"Schufa Check\", :schufa_check], [\"Schufa Key existiert\", :schufa_person_key_exists], [\"SMS Best\u00e4tigung\", :mobile_validation], [\"Wartend\", :pending], [\"werden gel\u00f6scht\", :marked_for_deletion]]\n</code></pre>\n"}], "owner": {"reputation": 2581, "user_id": 1032757, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/L4YPP.jpg?s=128&g=1", "display_name": "awenkhh", "link": "https://stackoverflow.com/users/1032757/awenkhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1427316095, "creation_date": 1427315456, "question_id": 29265916, "link": "https://stackoverflow.com/questions/29265916/how-to-sort-an-array-of-arrays-in-ruby-where-the-first-elements-is-a-string", "title": "How to sort an Array of Arrays in Ruby where the first elements is a String", "body": "<p>The question is how to sort an Array of Arrays with the following structure:</p>\n\n<pre><code>status = \n [[\"Wartend\", :pending],\n  [\"Schufa Check\", :schufa_check],\n  [\"Schufa Key existiert\", :schufa_person_key_exists],\n  [\"LottoIdent\", :lotto_ident],\n  [\"IBAN existiert\", :iban_exists],\n  [\"E-Mail Best\u00e4tigung\", :email_validation],\n  [\"SMS Best\u00e4tigung\", :mobile_validation],\n  [\"Aktiv\", :active],\n  [\"gesperrt\", :locked],\n  [\"ausgeschlossen\", :locked_out],\n  [\"werden gel\u00f6scht\", :marked_for_deletion]]\n</code></pre>\n\n<p><strong>The result</strong> should be this:</p>\n\n<pre><code>[[\"Aktiv\", :active], \n [\"ausgeschlossen\", :locked_out], \n [\"E-Mail Best\u00e4tigung\", :email_validation], \n [\"gesperrt\", :locked], \n [\"IBAN existiert\", :iban_exists], \n [\"LottoIdent\", :lotto_ident], \n [\"Schufa Check\", :schufa_check], \n [\"Schufa Key existiert\", :schufa_person_key_exists], \n [\"SMS Best\u00e4tigung\", :mobile_validation], \n [\"Wartend\", :pending], \n [\"werden gel\u00f6scht\", :marked_for_deletion]]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "slim-lang"], "answers": [{"comments": [{"owner": {"reputation": 2549, "user_id": 3284936, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/TDrZU.jpg?s=128&g=1", "display_name": "dimitry_n", "link": "https://stackoverflow.com/users/3284936/dimitry-n"}, "edited": false, "score": 0, "creation_date": 1427317588, "post_id": 29265990, "comment_id": 46734735, "body": "This will cause the <code>sign-Up</code> text to go after the <code>fa</code> element"}, {"owner": {"reputation": 2549, "user_id": 3284936, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/TDrZU.jpg?s=128&g=1", "display_name": "dimitry_n", "link": "https://stackoverflow.com/users/3284936/dimitry-n"}, "edited": false, "score": 1, "creation_date": 1427318196, "post_id": 29265990, "comment_id": 46735054, "body": "almost there). This would return &quot;up&quot; in the view, because the &quot;Sign&quot; part will be treated as a tag. I would add the <code>|</code> symbol (see my answer), to make sure it gets rendered as plain text."}], "tags": [], "owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1428004276, "last_edit_date": 1428004276, "creation_date": 1427315691, "answer_id": 29265990, "question_id": 29265591, "link": "https://stackoverflow.com/questions/29265591/font-awesome-in-ruby-on-rails-slim/29265990#29265990", "title": "Font awesome in Ruby on Rails Slim", "body": "<p>You can try this, I hope this will help.</p>\n\n<pre><code>=link_to \"#\", class: \"hollow-btn-green\"\n  |Sign Up\n  i.fa.fa-arrow-right\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2549, "user_id": 3284936, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/TDrZU.jpg?s=128&g=1", "display_name": "dimitry_n", "link": "https://stackoverflow.com/users/3284936/dimitry-n"}, "is_accepted": true, "score": 4, "last_activity_date": 1427316989, "creation_date": 1427316989, "answer_id": 29266352, "question_id": 29265591, "link": "https://stackoverflow.com/questions/29265591/font-awesome-in-ruby-on-rails-slim/29266352#29266352", "title": "Font awesome in Ruby on Rails Slim", "body": "<p>I think the problem is the <code>Sign Up</code> text not being escaped from formatting. Try this:</p>\n\n<pre><code>a.hollow-btn-green href=\"#\"\n    |Sign Up \n    i.fa.fa-arrow-right\n</code></pre>\n"}], "owner": {"reputation": 715, "user_id": 2464536, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/87e89a45fb2a98bcf44a43ff0f475019?s=128&d=identicon&r=PG", "display_name": "ajk4550", "link": "https://stackoverflow.com/users/2464536/ajk4550"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1632, "favorite_count": 0, "accepted_answer_id": 29266352, "answer_count": 2, "score": 1, "last_activity_date": 1428004276, "creation_date": 1427314287, "question_id": 29265591, "link": "https://stackoverflow.com/questions/29265591/font-awesome-in-ruby-on-rails-slim", "title": "Font awesome in Ruby on Rails Slim", "body": "<p>I am using Font-Awesome in my ruby on rails project and I am also using the Slim html pre-processor. I am having trouble getting font-awesome to work and I know it is just an issue of me being new to Slim</p>\n\n<p>Here is what I am attempting to do in HTML</p>\n\n<pre><code>&lt;a href=\"#\" class=\"hollow-btn-green\"&gt;Sign Up &lt;i class=\"fa fa-arrow-right\"&gt;&lt;/i&gt;&lt;/a&gt;\n</code></pre>\n\n<p>In my Slim file, I was thinking it would be something along the lines of this:</p>\n\n<pre><code>a.hollow-btn-green href=\"#\" Sign Up\n  i.fa.fa-arrow-right\n</code></pre>\n\n<p>But that doesn't seem to be working. It just outputs the literal i.fa.fa-arrow-right into the button instead of processing that to the html code. </p>\n\n<p>Any idea's?</p>\n"}, {"tags": ["ruby", "rspec"], "answers": [{"tags": [], "owner": {"reputation": 2473, "user_id": 1460123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3e1a7d9ccfa13aed6bc6cb7ec6892518?s=128&d=identicon&r=PG", "display_name": "Madison May", "link": "https://stackoverflow.com/users/1460123/madison-may"}, "is_accepted": false, "score": 0, "last_activity_date": 1427314713, "creation_date": 1427314713, "answer_id": 29265710, "question_id": 29264880, "link": "https://stackoverflow.com/questions/29264880/undefined-method-reset-all-for-nil/29265710#29265710", "title": "undefined method `reset_all` for nil", "body": "<p>Looks like it was simply a matter of an outdated ruby version!</p>\n"}], "owner": {"reputation": 2473, "user_id": 1460123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3e1a7d9ccfa13aed6bc6cb7ec6892518?s=128&d=identicon&r=PG", "display_name": "Madison May", "link": "https://stackoverflow.com/users/1460123/madison-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428109255, "creation_date": 1427311982, "last_edit_date": 1428109255, "question_id": 29264880, "link": "https://stackoverflow.com/questions/29264880/undefined-method-reset-all-for-nil", "title": "undefined method `reset_all` for nil", "body": "<pre><code>F\n  An error occurred in an `around(:example)` hook\n    NoMethodError: undefined method `reset_all' for nil:NilClass\n    occurred at /usr/lib/ruby/vendor_ruby/rspec/mocks.rb:22:in `teardown'\n</code></pre>\n\n<p>I'm currently trying to run a ruby test suite, but running into issues when calling <code>rspec spec/</code>.  I'm getting the above traceback.  Any ideas as to what might cause this?  I've tried updating rspec to no avail.</p>\n\n<p>Any debugging tips are also appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "installation", "rbenv"], "comments": [{"owner": {"reputation": 518, "user_id": 1895804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b21b6e741f33a30cc2bf4acd65e622e?s=128&d=identicon&r=PG", "display_name": "Jason Cheladyn", "link": "https://stackoverflow.com/users/1895804/jason-cheladyn"}, "edited": false, "score": 0, "creation_date": 1427311676, "post_id": 29264711, "comment_id": 46731452, "body": "Try installing 2.0.0-p576 first."}, {"owner": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "reply_to_user": {"reputation": 518, "user_id": 1895804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b21b6e741f33a30cc2bf4acd65e622e?s=128&d=identicon&r=PG", "display_name": "Jason Cheladyn", "link": "https://stackoverflow.com/users/1895804/jason-cheladyn"}, "edited": false, "score": 0, "creation_date": 1427311996, "post_id": 29264711, "comment_id": 46731638, "body": "@liyicky how to install 2.0.0-p576? Its older version right"}, {"owner": {"reputation": 518, "user_id": 1895804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b21b6e741f33a30cc2bf4acd65e622e?s=128&d=identicon&r=PG", "display_name": "Jason Cheladyn", "link": "https://stackoverflow.com/users/1895804/jason-cheladyn"}, "edited": false, "score": 0, "creation_date": 1427312180, "post_id": 29264711, "comment_id": 46731738, "body": "Yeah, try this: rbenv install 2.0.0-p576"}, {"owner": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "reply_to_user": {"reputation": 518, "user_id": 1895804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b21b6e741f33a30cc2bf4acd65e622e?s=128&d=identicon&r=PG", "display_name": "Jason Cheladyn", "link": "https://stackoverflow.com/users/1895804/jason-cheladyn"}, "edited": false, "score": 0, "creation_date": 1427313048, "post_id": 29264711, "comment_id": 46732225, "body": "@liyicky it worked know what? How can i install the latest version?"}, {"owner": {"reputation": 518, "user_id": 1895804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b21b6e741f33a30cc2bf4acd65e622e?s=128&d=identicon&r=PG", "display_name": "Jason Cheladyn", "link": "https://stackoverflow.com/users/1895804/jason-cheladyn"}, "edited": false, "score": 0, "creation_date": 1427317476, "post_id": 29264711, "comment_id": 46734672, "body": "Do you need the latest version? If you don&#39;t need it I would recommend staying with 2.0 or 2.1"}], "owner": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 675, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427311372, "creation_date": 1427311372, "question_id": 29264711, "link": "https://stackoverflow.com/questions/29264711/failed-to-install-ruby-with-rbenv", "title": "failed to install ruby with rbenv", "body": "<p>I followed this video: <a href=\"https://www.youtube.com/watch?v=jx0NrIbQbzI\" rel=\"nofollow\">for how to install ruby</a>. But then I couldn't install ruby. There are some other people as well with such kind of <a href=\"https://github.com/sstephenson/ruby-build/issues/736#issue-63587267\" rel=\"nofollow\">issue</a>. Please help me to fix it. Thanks.</p>\n\n<pre><code>rbenv install 2.2.1\nDownloading ruby-2.2.1.tar.gz...\n-&gt;     http://dqw8nmjcqpjn7.cloudfront.net/5a4de38068eca8919cb087d338c0c2e3d72c9382c804fb27ab746e6c7819ab28\nInstalling ruby-2.2.1...\n\nBUILD FAILED (OS X 10.10.2 using ruby-build 20150319zf)\n\nInspect or clean up the working tree at             /var/folders/c8/tr13g20944g8jymgp72wz7pw0000gn/T/ruby-build.20150326002550.58440\nResults logged to /var/folders/c8/tr13g20944g8jymgp72wz7pw0000gn/T/ruby-build.20150326002550.58440.log\n\nLast 10 log lines:\n                          psych 2.0.8\n                          rake 10.4.2\n                          rdoc 4.2.0\n./tool/rbinstall.rb:714:in `rescue in block in &lt;main&gt;': uninitialized constant LoadErroe (NameError)\n    from ./tool/rbinstall.rb:712:in `block in &lt;main&gt;'\n    from ./tool/rbinstall.rb:757:in `call'\n    from ./tool/rbinstall.rb:757:in `block in &lt;main&gt;'\n    from ./tool/rbinstall.rb:754:in `each'\n    from ./tool/rbinstall.rb:754:in `&lt;main&gt;'\nmake: *** [do-install-all] Error 1\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "edited": false, "score": 0, "creation_date": 1427311418, "post_id": 29264589, "comment_id": 46731285, "body": "run <code>bundle install</code> from the rails app; that should place all the required gems in a single place."}, {"owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "edited": false, "score": 0, "creation_date": 1427311714, "post_id": 29264589, "comment_id": 46731482, "body": "What happens when you run <code>bundle install</code>?"}, {"owner": {"reputation": 1765, "user_id": 1507704, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/785573f088dadbefb15252caa1fcbbfc?s=128&d=identicon&r=PG", "display_name": "Farooq", "link": "https://stackoverflow.com/users/1507704/farooq"}, "reply_to_user": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "edited": false, "score": 0, "creation_date": 1427311779, "post_id": 29264589, "comment_id": 46731517, "body": "It just lists all the gems...&quot;Using abc gem&quot; &quot;Using def gem&quot; etc..."}, {"owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "edited": false, "score": 0, "creation_date": 1427311904, "post_id": 29264589, "comment_id": 46731590, "body": "Read up on bundler. <a href=\"http://softwarebymatt.com/blog/intro-to-bundler/\" rel=\"nofollow noreferrer\">softwarebymatt.com/blog/intro-to-bundler</a> is a good start."}], "answers": [{"tags": [], "owner": {"reputation": 667, "user_id": 3183046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b1hgB.jpg?s=128&g=1", "display_name": "Phobos", "link": "https://stackoverflow.com/users/3183046/phobos"}, "is_accepted": false, "score": 0, "last_activity_date": 1427327905, "creation_date": 1427327905, "answer_id": 29268759, "question_id": 29264589, "link": "https://stackoverflow.com/questions/29264589/gems-not-found-because-installed-in-different-locations/29268759#29268759", "title": "Gems not found because installed in different locations", "body": "<p>Try running it with <code>bundle exec rails server</code></p>\n"}], "owner": {"reputation": 1765, "user_id": 1507704, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/785573f088dadbefb15252caa1fcbbfc?s=128&d=identicon&r=PG", "display_name": "Farooq", "link": "https://stackoverflow.com/users/1507704/farooq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427327905, "creation_date": 1427311011, "question_id": 29264589, "link": "https://stackoverflow.com/questions/29264589/gems-not-found-because-installed-in-different-locations", "title": "Gems not found because installed in different locations", "body": "<p>I have some gems that are not being found b/c I think they are installed in the wrong location. How can I fix this? My setup:</p>\n\n<pre><code>which gem allure-cucumber\n/Users/qahq/.rvm/rubies/ruby-2.1.0/bin/gem\n\nwhich gem cucumber\n/Users/qahq/.rvm/rubies/ruby-2.1.0/bin/gem\n/Users/qahq/.rvm/gems/ruby-2.1.0@idme-revelator/bin/cucumber\n\nrvm gemset name\nidme-revelator\n\nRubyGems Environment:\n  - RUBYGEMS VERSION: 2.4.6\n  - RUBY VERSION: 2.1.0 (2013-12-25 patchlevel 0) [x86_64-darwin14.0]\n  - INSTALLATION DIRECTORY: /Users/qahq/.rvm/gems/ruby-2.1.0@idme-revelator\n  - RUBY EXECUTABLE: /Users/qahq/.rvm/rubies/ruby-2.1.0/bin/ruby\n  - EXECUTABLE DIRECTORY: /Users/qahq/.rvm/gems/ruby-2.1.0@idme-revelator/bin\n  - SPEC CACHE DIRECTORY: /Users/qahq/.gem/specs\n  - SYSTEM CONFIGURATION DIRECTORY: /Users/qahq/.rvm/rubies/ruby-2.1.0/etc\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-darwin-14\n  - GEM PATHS:\n     - /Users/qahq/.rvm/gems/ruby-2.1.0@idme-revelator\n     - /Users/qahq/.rvm/gems/ruby-2.1.0@global\n  - GEM CONFIGURATION:\n     - :update_sources =&gt; true\n     - :verbose =&gt; true\n     - :backtrace =&gt; false\n     - :bulk_threshold =&gt; 1000\n  - REMOTE SOURCES:\n     - https://rubygems.org/\n  - SHELL PATH:\n     - /Users/qahq/.rvm/gems/ruby-2.1.0@idme-revelator/bin\n     - /Users/qahq/.rvm/gems/ruby-2.1.0@global/bin\n     - /Users/qahq/.rvm/rubies/ruby-2.1.0/bin\n     - /Users/qahq/.rvm/bin\n     - /usr/local/bin\n     - /usr/bin\n     - /bin\n     - /usr/sbin\n     - /sbin\n\nallure\n-bash: allure: command not found\n</code></pre>\n\n<p>I'm guessing the <code>allure</code> command isn't working b/c it's not in the proper directory that <code>cucumber</code> is in, b/c the <code>cucumber</code> command works.</p>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["ruby", "iterator", "comparison", "each", "null"], "comments": [{"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1427315876, "post_id": 29264539, "comment_id": 46733797, "body": "<code>order.each_cons(2).all?{|e1, e2| e1 &lt;= e2}</code>, avoiding these index problems."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 1115489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a17b6ca99d40df487733e1e549df79?s=128&d=identicon&r=PG", "display_name": "FlintGold", "link": "https://stackoverflow.com/users/1115489/flintgold"}, "edited": false, "score": 0, "creation_date": 1484203530, "post_id": 29264582, "comment_id": 70415254, "body": "Thanks for the help.  I know this is years later, but I&#39;m happy to finally have an answer ; P"}], "tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1427311641, "last_edit_date": 1427311641, "creation_date": 1427311004, "answer_id": 29264582, "question_id": 29264539, "link": "https://stackoverflow.com/questions/29264539/comparison-of-string-with-nil-failed-argumenterror/29264582#29264582", "title": "`&lt;=&#39;: comparison of String with nil failed (ArgumentError)", "body": "<p>No, because three dots <code>...</code> here <code>(0...(order.length - 1))</code> mean 'without last element', so last value would be <code>order.length - 2</code>.</p>\n\n<p>You'll encounter the same error if you try <code>(0..(order.length - 1))</code>.</p>\n\n<p>Check <a href=\"http://ruby-doc.org/core-2.2.0/Range.html\" rel=\"nofollow\">Range documentation</a>:</p>\n\n<blockquote>\n  <p>Ranges may be constructed using the s..e and s...e literals</p>\n  \n  <p>Those created using ... exclude the end value</p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 1115489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a17b6ca99d40df487733e1e549df79?s=128&d=identicon&r=PG", "display_name": "FlintGold", "link": "https://stackoverflow.com/users/1115489/flintgold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427311641, "creation_date": 1427310871, "last_edit_date": 1427311132, "question_id": 29264539, "link": "https://stackoverflow.com/questions/29264539/comparison-of-string-with-nil-failed-argumenterror", "title": "`&lt;=&#39;: comparison of String with nil failed (ArgumentError)", "body": "<p>I am testing whether array elements are greater than or equal to elements of smaller indices.</p>\n\n<p>I get the error message from the subject line if I use the following loop</p>\n\n<pre><code>return true if order.each_index {|i| order[i ] &lt;= order[i+1]}\n</code></pre>\n\n<p>I understand the last element of my array(order) can't be compared to a non-existant element.</p>\n\n<p>Comparing a value to nil is impossible.</p>\n\n<p>I don't, however understand why the following loop doesn't return the same error</p>\n\n<pre><code>(0...(order.length - 1)).all? do |i|\n  order[i] &lt;= order[i + 1]\nend\n</code></pre>\n\n<p>It seems that at some point, <code>i = order.length-1</code>\nThis means <code>order[i+1]</code> is a <code>nil</code> value (<code>order.length</code>)</p>\n\n<p>Apparently not?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "e-commerce", "spree"], "comments": [{"owner": {"reputation": 4791, "user_id": 2209525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b705604832be91c5bd958e2ab26923a?s=128&d=identicon&r=PG", "display_name": "gmacdougall", "link": "https://stackoverflow.com/users/2209525/gmacdougall"}, "edited": false, "score": 0, "creation_date": 1427459841, "post_id": 29264430, "comment_id": 46796257, "body": "If you&#39;re getting a redirect loop it&#39;s likely because you don&#39;t have anything to not redirect someone on the login page. Visitor goes to root, they&#39;re not logged in, they get redirected on the login page. Then on the login page, they&#39;re not logged in so they get redirected to the login page. Repeat forever."}, {"owner": {"reputation": 163, "user_id": 3727593, "user_type": "registered", "profile_image": "https://graph.facebook.com/782600061/picture?type=large", "display_name": "hutch", "link": "https://stackoverflow.com/users/3727593/hutch"}, "reply_to_user": {"reputation": 4791, "user_id": 2209525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b705604832be91c5bd958e2ab26923a?s=128&d=identicon&r=PG", "display_name": "gmacdougall", "link": "https://stackoverflow.com/users/2209525/gmacdougall"}, "edited": false, "score": 0, "creation_date": 1427554867, "post_id": 29264430, "comment_id": 46828936, "body": "according to the <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#filters\" rel=\"nofollow noreferrer\">rails documentation</a>, a redirect inside a before_action is supposed to halt the loop"}], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 3727593, "user_type": "registered", "profile_image": "https://graph.facebook.com/782600061/picture?type=large", "display_name": "hutch", "link": "https://stackoverflow.com/users/3727593/hutch"}, "is_accepted": false, "score": 1, "last_activity_date": 1428003331, "creation_date": 1428003331, "answer_id": 29421054, "question_id": 29264430, "link": "https://stackoverflow.com/questions/29264430/spree-action-require-login-creates-a-redirect-loop-when-assigned-to-the-before-a/29421054#29421054", "title": "Spree action require_login creates a redirect loop when assigned to the before_action filter", "body": "<p><strong>Solution:</strong></p>\n\n<p>I used <code>skip_before_action :require_login, only: [:spree_login]</code> to stop the redirect loop, and also created a static page to point users to when they are not logged in (log in portal)</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  require 'createsend'\n\n  before_action :require_login\n  skip_before_action :require_login, only: [:spree_login]\n\n  private\n\n  def logged_in?\n     spree_current_user != nil\n   end\n\n  def require_login\n    unless logged_in?\n      flash[:error] = \"Please log in to access the Wholesaler site.\"\n\n      render('staticpage/wholesale_login')\n    end\n  end\n\nend\n</code></pre>\n\n<p>It is still unclear to me why my original <code>redirect</code> inside <code>before_action</code> was not halting the redirect loop as the <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#filters\" rel=\"nofollow\">rails documentation suggests</a>, but I had to get this working somehow. Thank you Antarr and gmacdougall for your help.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5348288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3wou.jpg?s=128&g=1", "display_name": "Nolan Zandi", "link": "https://stackoverflow.com/users/5348288/nolan-zandi"}, "is_accepted": true, "score": 1, "last_activity_date": 1478062333, "creation_date": 1478062333, "answer_id": 40372705, "question_id": 29264430, "link": "https://stackoverflow.com/questions/29264430/spree-action-require-login-creates-a-redirect-loop-when-assigned-to-the-before-a/40372705#40372705", "title": "Spree action require_login creates a redirect loop when assigned to the before_action filter", "body": "<p>I was able to get this to work without rendering a custom page by changing the placement of <code>skip_before_action</code>. According to the rails documentation that you linked to:</p>\n\n<blockquote>\n  <p>In this example the filter is added to ApplicationController and thus\n  all controllers in the application inherit it. This will make\n  everything in the application require the user to be logged in in\n  order to use it. For obvious reasons (the user wouldn't be able to log\n  in in the first place!), not all controllers or actions should require\n  this. You can prevent this filter from running before particular\n  actions with skip_before_action:</p>\n\n<pre><code>class LoginsController &lt; ApplicationController   \n   skip_before_action :require_login, only: [:new, :create] \nend\n</code></pre>\n</blockquote>\n\n<p>This means that the <code>skip_before_action</code> should go in your LoginsController and not your ApplicationsController. I was able to get it to work by making this split:</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  before_action :require_login\n\n  private\n\n  def logged_in?\n    spree_current_user != nil\n  end\n\n  def require_login\n    unless logged_in?\n      flash[:error] = \"Please Login or Sign Up\"\n      redirect_to spree_login_path\n    end\n  end\nend\n</code></pre>\n\n<p>Then I used a <a href=\"http://guides.spreecommerce.org/developer/logic.html\" rel=\"nofollow noreferrer\">controller decorator</a> to add the <code>skip_before_action</code> to the sessions_controller:</p>\n\n<pre><code>Spree::UserSessionsController.class_eval do\n  skip_before_action :require_login\n\nend\n</code></pre>\n\n<p>You may need to add decorators and the <code>skip_before_action</code> to other controllers that are affecting login and you want users to have access to (like password resets and registrations)</p>\n"}], "owner": {"reputation": 163, "user_id": 3727593, "user_type": "registered", "profile_image": "https://graph.facebook.com/782600061/picture?type=large", "display_name": "hutch", "link": "https://stackoverflow.com/users/3727593/hutch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 40372705, "answer_count": 2, "score": 3, "last_activity_date": 1478062333, "creation_date": 1427310529, "last_edit_date": 1427310725, "question_id": 29264430, "link": "https://stackoverflow.com/questions/29264430/spree-action-require-login-creates-a-redirect-loop-when-assigned-to-the-before-a", "title": "Spree action require_login creates a redirect loop when assigned to the before_action filter", "body": "<p>I am trying to restrict the entire Spree (Rails) app so that only users who are logged in can access the site. I read in the rails documentation that </p>\n\n<blockquote>\n  <p>If a \"before\" filter renders or redirects, the action will not run</p>\n</blockquote>\n\n<p>Here is the code from app/controllers/application_controller.rb that is causing this loop</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n\n  before_action :require_login\n\n  private\n\n  def logged_in?\n     spree_current_user != nil\n  end\n\n  def require_login\n    unless logged_in?\n      flash[:error] = spree_current_user\n      # supposed to halt request cycle - \n      # http://guides.rubyonrails.org/action_controller_overview.html#filters\n      redirect_to spree_login_path \n    end\n  end\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "forgot-password"], "comments": [{"owner": {"reputation": 576, "user_id": 4628440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa3da493842e50c2fcfcf3805165065?s=128&d=identicon&r=PG", "display_name": "Santiago Su&#225;rez", "link": "https://stackoverflow.com/users/4628440/santiago-su%c3%a1rez"}, "edited": false, "score": 0, "creation_date": 1427310459, "post_id": 29264266, "comment_id": 46730694, "body": "this is normal behaviour, if you are using ajax to change your password the flash message will not appear until the page reloads unless YOU MAKE IT APPEAR on your javascript file, I guess you are using ajax to change your password right? if you don&#39;t, do you want to make the flash message appear before reloading the page? it will appear for half a second before the page reloads"}, {"owner": {"reputation": 3232, "user_id": 2689002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zIvab.jpg?s=128&g=1", "display_name": "Amit Sharma", "link": "https://stackoverflow.com/users/2689002/amit-sharma"}, "edited": false, "score": 0, "creation_date": 1427316138, "post_id": 29264266, "comment_id": 46733937, "body": "Please post your update password method"}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 3709592, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/21ca80ef1de7012eb9e733ba468faaf4?s=128&d=identicon&r=PG&f=1", "display_name": "whoaaallamapajama", "link": "https://stackoverflow.com/users/3709592/whoaaallamapajama"}, "is_accepted": true, "score": 0, "last_activity_date": 1427316208, "creation_date": 1427316208, "answer_id": 29266127, "question_id": 29264266, "link": "https://stackoverflow.com/questions/29264266/rails-devise-redirect-success-message-not-occuring/29266127#29266127", "title": "Rails - Devise - Redirect &amp; Success message not occuring", "body": "<p>Okay I solved it, default rails behavior is to go to root_path. I added this code and it was fine </p>\n\n<pre><code>class PasswordsController &lt; Devise::PasswordsController\n  skip_before_filter :require_no_authentication, only: [:edit, :update]\n\n  protected\n\n  def after_resetting_password_path_for(resource_name)\n    password_success_path\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 3709592, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/21ca80ef1de7012eb9e733ba468faaf4?s=128&d=identicon&r=PG&f=1", "display_name": "whoaaallamapajama", "link": "https://stackoverflow.com/users/3709592/whoaaallamapajama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 29266127, "answer_count": 1, "score": 0, "last_activity_date": 1427316208, "creation_date": 1427310005, "question_id": 29264266, "link": "https://stackoverflow.com/questions/29264266/rails-devise-redirect-success-message-not-occuring", "title": "Rails - Devise - Redirect &amp; Success message not occuring", "body": "<p>I am having success with changing my password in Rails, but the success flash notice is not appearing (unless I refresh the page, which the user shouldn't have to do). Is this a devise issue?</p>\n\n<p>State of the page when I first arrive - </p>\n\n<p><img src=\"https://i.stack.imgur.com/IuRBs.png\" alt=\"enter image description here\"></p>\n\n<p>Page after I enter password and press 'Change My Password' - </p>\n\n<p><img src=\"https://i.stack.imgur.com/QZ8LG.png\" alt=\"enter image description here\"></p>\n\n<p>Page after a refresh \n<img src=\"https://i.stack.imgur.com/qcArA.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["ruby", "arrays", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 6335, "user_id": 1125496, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/080961fa29948468f345ff94344c4b3c?s=128&d=identicon&r=PG", "display_name": "rctneil", "link": "https://stackoverflow.com/users/1125496/rctneil"}, "edited": false, "score": 1, "creation_date": 1427310119, "post_id": 29264230, "comment_id": 46730517, "body": "Will accept when it lets me. Thanks!"}, {"owner": {"reputation": 20590, "user_id": 504963, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xlYLo.jpg?s=128&g=1", "display_name": "Antarr Byrd", "link": "https://stackoverflow.com/users/504963/antarr-byrd"}, "reply_to_user": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "edited": false, "score": 0, "creation_date": 1427310413, "post_id": 29264230, "comment_id": 46730677, "body": "@RustamA.Gasanov This behaves similar to  SQL  <code>ORDER BY col1, col2</code>"}, {"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "edited": false, "score": 0, "creation_date": 1427310539, "post_id": 29264230, "comment_id": 46730738, "body": "@AntarrByrd ah, now it&#39;s clear, thanks"}], "tags": [], "owner": {"reputation": 20590, "user_id": 504963, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xlYLo.jpg?s=128&g=1", "display_name": "Antarr Byrd", "link": "https://stackoverflow.com/users/504963/antarr-byrd"}, "is_accepted": true, "score": 3, "last_activity_date": 1427309890, "creation_date": 1427309890, "answer_id": 29264230, "question_id": 29264172, "link": "https://stackoverflow.com/questions/29264172/ruby-array-sorting/29264230#29264230", "title": "Ruby Array sorting", "body": "<pre><code>   @coasters.sort_by! { |c| [c.coaster_sort,  c.park_name]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25272, "user_id": 1695163, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/85ffb58dc3ed0067128804ef843245a6?s=128&d=identicon&r=PG", "display_name": "ddavison", "link": "https://stackoverflow.com/users/1695163/ddavison"}, "is_accepted": false, "score": 2, "last_activity_date": 1427309949, "creation_date": 1427309949, "answer_id": 29264247, "question_id": 29264172, "link": "https://stackoverflow.com/questions/29264172/ruby-array-sorting/29264247#29264247", "title": "Ruby Array sorting", "body": "<p>You can pass an array with the most important sort first:</p>\n\n<pre><code>@coasters = @coasters.sort_by {|c| [c.coaster_sort, c.park_name]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 2506595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0c553bb86432b83db24d22ceae249ba?s=128&d=identicon&r=PG", "display_name": "rmsimpsonau", "link": "https://stackoverflow.com/users/2506595/rmsimpsonau"}, "is_accepted": false, "score": 0, "last_activity_date": 1427310111, "last_edit_date": 1495542495, "creation_date": 1427310111, "answer_id": 29264308, "question_id": 29264172, "link": "https://stackoverflow.com/questions/29264172/ruby-array-sorting/29264308#29264308", "title": "Ruby Array sorting", "body": "<p>As the previous answers have already mentioned, you can pass an array:</p>\n\n<pre><code>@coasters = @coasters.sort_by {|c| [c.coaster_sort, c.park_name]}\n</code></pre>\n\n<p>This is a repeat of the following question I believe: <a href=\"https://stackoverflow.com/questions/1442546/ruby-sort-by-twice\">ruby sort_by twice</a></p>\n"}], "owner": {"reputation": 6335, "user_id": 1125496, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/080961fa29948468f345ff94344c4b3c?s=128&d=identicon&r=PG", "display_name": "rctneil", "link": "https://stackoverflow.com/users/1125496/rctneil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1427311919, "accepted_answer_id": 29264230, "answer_count": 3, "score": 2, "last_activity_date": 1427310111, "creation_date": 1427309681, "question_id": 29264172, "link": "https://stackoverflow.com/questions/29264172/ruby-array-sorting", "closed_reason": "Duplicate", "title": "Ruby Array sorting", "body": "<p>I have an array of items that I need to sort. I need to sort by two attributes but currently one sort is overwriting the other. I need a sort of mixed sort so it does one sort inside another.  Any ideas. Here's what I have:</p>\n\n<pre><code>    @coasters = @coasters.sort_by { |c| c.coaster_sort }\n    @coasters = @coasters.sort_by { |c| c.park_name }\n</code></pre>\n\n<p>Thanks,\nNeil</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "notifications", "public-activity", "read-unread"], "answers": [{"tags": [], "owner": {"reputation": 852, "user_id": 4462581, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/624f67643bdf37b458085aee294c870d?s=128&d=identicon&r=PG", "display_name": "abbott567", "link": "https://stackoverflow.com/users/4462581/abbott567"}, "is_accepted": true, "score": 5, "last_activity_date": 1427554104, "creation_date": 1427554104, "answer_id": 29318506, "question_id": 29263920, "link": "https://stackoverflow.com/questions/29263920/is-it-possible-to-use-the-gem-unread-with-the-gem-public-activity/29318506#29318506", "title": "Is it possible to use the gem Unread with the gem Public Activity?", "body": "<p>To anyone that may find this in future, i implemented a completely different system by data modelling my own notifications. Rather than using public activity and unread, I made a new model called notifications. This had the columns:</p>\n\n<pre><code>    recipient:integer\n    sender:integer\n    post_id:integer\n    type:string\n    read:boolean\n</code></pre>\n\n<p>Then, whenever I had a user comment or like etc, I built a new notification in the controller, passing in the following information:</p>\n\n<pre><code>    recipient = @post.user.id\n    sender = current_user.id\n    post_id = @post.id\n    type = \"comment\"    # like, or comment etc\n    read = false        # read is false by default\n</code></pre>\n\n<p>In the navigation bar I simply added a badge that counted the current_users unread notifications, based on an application controller variable.</p>\n\n<pre><code>    @unreadnotifications = current_user.notifications.where(read: false)\n\n    &lt;% if @unreadnotifications.count != 0 %&gt;\n        (&lt;%= @unreadnotifications.count %&gt;)\n    &lt;% end %&gt;\n</code></pre>\n\n<p>Then, in the notifications controller I had it run a <code>mark_as_read</code> action on the view. This then set the notification count back to 0.</p>\n\n<pre><code>    before_action :mark_as_read\n\n    def mark_as_read\n        @unread = current_user.notifications.where(read: false)\n        @unread.each do |unread|\n            unread.update_attribute(:read, true)\n        end\n    end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4250, "user_id": 129798, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5cc165c5b9f18bfb64faddb021c82172?s=128&d=identicon&r=PG", "display_name": "Brendon Muir", "link": "https://stackoverflow.com/users/129798/brendon-muir"}, "is_accepted": false, "score": 1, "last_activity_date": 1498178906, "creation_date": 1498178906, "answer_id": 44711402, "question_id": 29263920, "link": "https://stackoverflow.com/questions/29263920/is-it-possible-to-use-the-gem-unread-with-the-gem-public-activity/44711402#44711402", "title": "Is it possible to use the gem Unread with the gem Public Activity?", "body": "<p>It's actually possible to add extra stuff to the <code>PublicActivity::Class</code> like this:</p>\n\n<p>Add this file called <code>public_activity.rb</code> to <code>config/initializers</code>.</p>\n\n<pre><code>PublicActivity::Activity.class_eval do\n  acts_as_readable :on =&gt; :created_at\n\n  def self.policy_class\n    ActivityPolicy\n  end\nend\n</code></pre>\n\n<p>I've also included a snippet in there for anyone using Pundit with Public Activity so that you can just have an <code>activity_policy.rb</code> policy file.</p>\n\n<p>NOTE: Be sure to use the latest version of Public Activity that includes this line: <a href=\"https://github.com/chaps-io/public_activity/blob/1-5-stable/lib/public_activity/orm/active_record/activity.rb#L9\" rel=\"nofollow noreferrer\">https://github.com/chaps-io/public_activity/blob/1-5-stable/lib/public_activity/orm/active_record/activity.rb#L9</a> because without <code>base_class</code> set, Unread will use the wrong polymorphic class name.</p>\n"}], "owner": {"reputation": 852, "user_id": 4462581, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/624f67643bdf37b458085aee294c870d?s=128&d=identicon&r=PG", "display_name": "abbott567", "link": "https://stackoverflow.com/users/4462581/abbott567"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1209, "favorite_count": 3, "accepted_answer_id": 29318506, "answer_count": 2, "score": 1, "last_activity_date": 1498178906, "creation_date": 1427308909, "question_id": 29263920, "link": "https://stackoverflow.com/questions/29263920/is-it-possible-to-use-the-gem-unread-with-the-gem-public-activity", "title": "Is it possible to use the gem Unread with the gem Public Activity?", "body": "<p>I am currently using the gem 'Public Activity', and in the view I have a users activity filtered to only show that user the activities that apply to them, such as 'John Smith commented on your post'. However, I would like to add notifications to this, like facebook or twitter, where a badge shows a number, and when you see the feed the badge disappears.</p>\n\n<p>I have found a gem called Unread which looks ideal, except it requires adding <code>acts_as_readable :on =&gt; :created_at</code> to your model, and as I'm using the public_activity gem the class is not accessible to add this.</p>\n\n<p>Is it possible to inject the code the unread gem requires, into the PublicActivity:Activity class?</p>\n\n<p>Links:</p>\n\n<p>gem public_activity: <a href=\"https://github.com/pokonski/public_activity\" rel=\"nofollow\">https://github.com/pokonski/public_activity</a></p>\n\n<p>gem unread: <a href=\"https://github.com/ledermann/unread\" rel=\"nofollow\">https://github.com/ledermann/unread</a></p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4650631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LzOct.jpg?s=128&g=1", "display_name": "Michael Landon", "link": "https://stackoverflow.com/users/4650631/michael-landon"}, "edited": false, "score": 0, "creation_date": 1427384715, "post_id": 29263826, "comment_id": 46763483, "body": "Thanks for your help! it was very informative.  One more question because this also confused me about the player name bit.  What is the relationship between the attr_accessor :name and @name in the Person class of this program.  Are both necessary? Do they work together somehow?"}, {"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "reply_to_user": {"reputation": 3, "user_id": 4650631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LzOct.jpg?s=128&g=1", "display_name": "Michael Landon", "link": "https://stackoverflow.com/users/4650631/michael-landon"}, "edited": false, "score": 0, "creation_date": 1427398457, "post_id": 29263826, "comment_id": 46771849, "body": "@heylittlehouse no, they don&#39;t work together. You can easily replace <code>attr_accessor :name</code> with <code>attr_reader :name</code>(you need reader because you use <code>my_dungeon.player.name</code>, it gives you an ability to read player&#39;s name basically)."}], "tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1427308998, "last_edit_date": 1427308998, "creation_date": 1427308651, "answer_id": 29263826, "question_id": 29263719, "link": "https://stackoverflow.com/questions/29263719/get-ruby-dungeon-to-repeat-back-player-name/29263826#29263826", "title": "Get ruby dungeon to repeat back player name", "body": "<p>You probably wanted to use</p>\n\n<pre><code>my_dungeon.player.name\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>@player.name\n</code></pre>\n\n<p>in rooms addition method calls(since <code>player</code> has been defined for <code>Dungeon</code> instance).</p>\n\n<p>So just use these lines instead of ones you currently have:</p>\n\n<pre><code>my_dungeon.add_room(:largecave, \"Large Cave\", \"#{my_dungeon.player.name}, you find yourself in a large cavernous cave. To the west is a small aperture\", {:west =&gt; :smallcave})\nmy_dungeon.add_room(:smallcave, \"Small Cave\", \"#{my_dungeon.player.name}, you find yourself in a small, claustrophopic cave. To the east is a small aperture\", {:east =&gt; :largecave}\n</code></pre>\n\n<p>By the way, you set name in initialize method, so there is no need for <code>@player.name = player_name</code>. And it is simpler to read <code>while player_name.empty?</code> instead of <code>until !player_name.empty?</code>, consider following refactoring:</p>\n\n<pre><code>  def initialize\n    player_name = \"\"\n\n    while player_name.empty?\n      puts \"Enter your name!\"\n      player_name = gets.chomp\n    end\n\n    @player = Player.new(player_name)\n    @rooms = []\n  end\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4650631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LzOct.jpg?s=128&g=1", "display_name": "Michael Landon", "link": "https://stackoverflow.com/users/4650631/michael-landon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 29263826, "answer_count": 1, "score": 0, "last_activity_date": 1427311639, "creation_date": 1427308325, "last_edit_date": 1427311639, "question_id": 29263719, "link": "https://stackoverflow.com/questions/29263719/get-ruby-dungeon-to-repeat-back-player-name", "title": "Get ruby dungeon to repeat back player name", "body": "<p>I'm trying to expand upon Peter Cooper's dungeon game in Beginning Ruby and I want the game to address the player by name at each room and then ask them where they will go to make the game more interactive. I keep getting this error though:</p>\n\n<blockquote>\n  <p>dungeon.rb:82:in <code>&lt;main&gt;': undefined method</code>name' for nil:NilClass (NoMethodError)</p>\n</blockquote>\n\n<p>So the main parts I've added to try to make this work are Dungeon initialize (lines 4-13)</p>\n\n<pre><code>def initialize\nplayer_name = \"\"\n\nuntil !player_name.empty?\n  puts \"Enter your name!\"\n  player_name = gets.chomp\nend\n\n@player = Player.new(player_name)\n@player.name = player_name\n@rooms = []\nend\n</code></pre>\n\n<p>The line in question that creates the error is this:</p>\n\n<pre><code>    my_dungeon.add_room(:largecave, \"Large Cave\", \"#{@player.name}, you find yourself in a large cavernous cave. To the west is a small aperture\", {:west =&gt; :smallcave})\n</code></pre>\n\n<p>Full code is here:\n<a href=\"https://github.com/heylittlehouse/Ruby-Dungeon/blob/master/code\" rel=\"nofollow\">Ruby Dungeon Code</a></p>\n\n<p>What's going on here?</p>\n"}, {"tags": ["ruby", "unix"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1427307920, "post_id": 29263120, "comment_id": 46729118, "body": "First, if you want to do a &quot;system&quot; logger, look at using either Ruby&#39;s built-in <a href=\"http://ruby-doc.org/stdlib-2.2.1/libdoc/logger/rdoc/index.html\" rel=\"nofollow noreferrer\">Logger</a> or <a href=\"http://ruby-doc.org/stdlib-2.2.1/libdoc/syslog/rdoc/index.html\" rel=\"nofollow noreferrer\">Syslog</a> classes, which have all sorts of bells and whistles. Read through their documentation a couple times as there is a lot of capability. The second thing is, it really looks like you&#39;re asking us to write code for you since you don&#39;t show anything that works along the lines of what you&#39;re asking about. Finally, using <code>system &#39;echo hello&#39;</code> is no better than <code>puts &#39;hello&#39;</code>"}, {"owner": {"reputation": 1143, "user_id": 1563837, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0784ce3665c294c4547f81a212014d4b?s=128&d=identicon&r=PG", "display_name": "Josh Bodah", "link": "https://stackoverflow.com/users/1563837/josh-bodah"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1427309935, "post_id": 29263120, "comment_id": 46730414, "body": "I was really looking for more of advice for an approach than actual code. The two classes you linked and the answer below will be helpful, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 1143, "user_id": 1563837, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0784ce3665c294c4547f81a212014d4b?s=128&d=identicon&r=PG", "display_name": "Josh Bodah", "link": "https://stackoverflow.com/users/1563837/josh-bodah"}, "edited": false, "score": 0, "creation_date": 1427310050, "post_id": 29263663, "comment_id": 46730480, "body": "Okay I figured I had to do it at the shell level so I&#39;ll investigate that a bit"}], "tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": true, "score": 1, "last_activity_date": 1427308126, "creation_date": 1427308126, "answer_id": 29263663, "question_id": 29263120, "link": "https://stackoverflow.com/questions/29263120/prefixing-console-ouput-of-system-calls-from-ruby/29263663#29263663", "title": "Prefixing console ouput of system calls from Ruby", "body": "<p>The important point here is that there's no way to know if <code>system</code> will actually produce output. I'm assuming you don't want a blank <code>MainLogger:</code> whenever a system call doesn't print anything, so you'll need to do the prefixes in the shell:</p>\n\n<pre><code>def prefix_system_calls pre\n  sys = Kernel.instance_method(:system)\n  # redefine to add prefix\n  Kernel.send(:define_method, :system) do |cmd|\n    sys.bind(self)[\"#{cmd} | sed -e 's/^/#{pre}: /'\"]\n  end\n\n  yield\n  # redefine to call original method\n  Kernel.send(:define_method, :system) do |*args|\n    sys.bind(self)[*args]\n  end\nend\n\nsystem \"echo foo\"\nprefix_system_calls(\"prefix\") do\n  system \"echo bar\"\nend\nsystem \"echo baz\"\n# foo\n# prefix: bar\n# baz\n</code></pre>\n\n<p>This implementation is pretty fragile, though. It doesn't handle <a href=\"http://ruby-doc.org/core-2.2.1/Kernel.html#method-i-system\" rel=\"nofollow\">all the different ways you can call <code>system</code></a>, and prefixes containing special shell characters could cause an error.</p>\n"}], "owner": {"reputation": 1143, "user_id": 1563837, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0784ce3665c294c4547f81a212014d4b?s=128&d=identicon&r=PG", "display_name": "Josh Bodah", "link": "https://stackoverflow.com/users/1563837/josh-bodah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 29263663, "answer_count": 1, "score": 0, "last_activity_date": 1427308126, "creation_date": 1427306465, "question_id": 29263120, "link": "https://stackoverflow.com/questions/29263120/prefixing-console-ouput-of-system-calls-from-ruby", "title": "Prefixing console ouput of system calls from Ruby", "body": "<p>I'd like to create a Ruby script that prefixes the console output. For example:</p>\n\n<p>I want to implement an interface like this:</p>\n\n<pre><code>puts 'MainLogger: Saying hello'\nprefix_output_with('MainLogger') do\n  system 'echo hello'\nend\n</code></pre>\n\n<p>So this shows up in the console:</p>\n\n<pre><code>MainLogger: Saying hello\nMainLogger: hello\n</code></pre>\n\n<p>What would be a good approach to prefix all of the syscall output to have some logger?</p>\n\n<p>Note: I don't care if we echo what the system call is or not</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "import-from-excel", "axlsx"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1427306415, "post_id": 29263016, "comment_id": 46728140, "body": "Why not just deal with the stream directly e.g. <code>excel_package.to_stream.read</code>? This will return a <code>String</code> the same as <code>File#read</code> would. <code>to_stream</code> returns a <code>StringIO</code> and <code>read</code> will return the full stream as a String"}, {"owner": {"reputation": 105, "user_id": 1073081, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/131791cc9668c2f58a23b583aa96be50?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/1073081/zack"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1427321739, "post_id": 29263016, "comment_id": 46736636, "body": "excel_package.to_stream.read return an encoded string. I need something to parse it, to make it readable again. Preferably in a way I could easily read the excel file off the disk using libraries like creek, spreadsheet etc"}], "answers": [{"tags": [], "owner": {"reputation": 2300, "user_id": 1262303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/855975ff404621dc525c72b618d95dcc?s=128&d=identicon&r=PG", "display_name": "randym", "link": "https://stackoverflow.com/users/1262303/randym"}, "is_accepted": false, "score": 0, "last_activity_date": 1427360924, "creation_date": 1427360924, "answer_id": 29274569, "question_id": 29263016, "link": "https://stackoverflow.com/questions/29263016/reading-xlsx-file-from-stream-in-ruby/29274569#29274569", "title": "Reading .xlsx file from stream in ruby", "body": "<p>The package is a zip archive. </p>\n\n<p>The simplest thing you can do is write the package to disk and load it with RubyZip, however if you want everything working without disk I/O you might take a look at rubyzip's InputStream to load from StringIO, <a href=\"https://github.com/rubyzip/rubyzip/blob/master/lib/zip/input_stream.rb\" rel=\"nofollow\">https://github.com/rubyzip/rubyzip/blob/master/lib/zip/input_stream.rb</a></p>\n\n<p>Once you have access to the zip archive. From there, you load the entry for the package part you want to spec with tools like Nokogiri and assert as needed.</p>\n\n<p>You will find a sample list of parts here <a href=\"https://github.com/randym/axlsx/blob/master/test/tc_package.rb#L163\" rel=\"nofollow\">https://github.com/randym/axlsx/blob/master/test/tc_package.rb#L163</a></p>\n"}], "owner": {"reputation": 105, "user_id": 1073081, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/131791cc9668c2f58a23b583aa96be50?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/1073081/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 945, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427360924, "creation_date": 1427306086, "last_edit_date": 1427308802, "question_id": 29263016, "link": "https://stackoverflow.com/questions/29263016/reading-xlsx-file-from-stream-in-ruby", "title": "Reading .xlsx file from stream in ruby", "body": "<p>I am using axlsx gem to write contents to .xlsx file. I am using following code to stream the file to the browser:</p>\n\n<pre><code>  send_data excel_package.to_stream.read, type: \"application/xlsx\", filename: filename\n</code></pre>\n\n<p>Now I want to write test cases for this and want to read the same file in my rspec. How can I do that ? I looked for other libraries that can read excel file, but all of those read from the disk.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "validation", "testing", "rspec"], "comments": [{"owner": {"reputation": 633, "user_id": 451357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27cd8e5e772e3b852a6a3d9284db3e3b?s=128&d=identicon&r=PG", "display_name": "Kamen", "link": "https://stackoverflow.com/users/451357/kamen"}, "edited": false, "score": 4, "creation_date": 1427305681, "post_id": 29262699, "comment_id": 46727655, "body": "yes: <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html\" rel=\"nofollow noreferrer\">api.rubyonrails.org/classes/ActiveRecord/Callbacks.html</a>"}, {"owner": {"reputation": 518, "user_id": 1895804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b21b6e741f33a30cc2bf4acd65e622e?s=128&d=identicon&r=PG", "display_name": "Jason Cheladyn", "link": "https://stackoverflow.com/users/1895804/jason-cheladyn"}, "edited": false, "score": 0, "creation_date": 1427312304, "post_id": 29262699, "comment_id": 46731810, "body": "Why not take out the validation and write another method? Then the before_save can call the custom &quot;validation&quot; method"}], "answers": [{"tags": [], "owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "is_accepted": true, "score": 38, "last_activity_date": 1427318583, "last_edit_date": 1427318583, "creation_date": 1427318261, "answer_id": 29266713, "question_id": 29262699, "link": "https://stackoverflow.com/questions/29262699/does-before-save-run-after-validations/29266713#29266713", "title": "Does before_save run after validations?", "body": "<pre><code>after_initialize \u2193 (1)\n</code></pre>\n\n<hr>\n\n<pre><code>before_validation \u2193 (2)\nafter_validation \u2193 (3)\n</code></pre>\n\n<hr>\n\n<pre><code>before_save \u2193 (4) \n</code></pre>\n\n<hr>\n\n<pre><code>before_create \u2193 (5)\nafter_create \u2193 (6)\n</code></pre>\n\n<hr>\n\n<pre><code>after_save \u2193 (7)\n</code></pre>\n\n<hr>\n\n<pre><code>after_commit \u2193 (8)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 657, "user_id": 321629, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c028050688670a758fdbf35691978a35?s=128&d=identicon&r=PG", "display_name": "CyberMew", "link": "https://stackoverflow.com/users/321629/cybermew"}, "is_accepted": false, "score": 2, "last_activity_date": 1533111525, "creation_date": 1533111525, "answer_id": 51628500, "question_id": 29262699, "link": "https://stackoverflow.com/questions/29262699/does-before-save-run-after-validations/51628500#51628500", "title": "Does before_save run after validations?", "body": "<p>Per <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html\" rel=\"nofollow noreferrer\">https://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html</a>, as of Ruby on Rails 5.2.0:</p>\n\n<p>Active Record Callbacks</p>\n\n<p>Callbacks are hooks into the life cycle of an Active Record object that allow you to trigger logic before or after an alteration of the object state. This can be used to make sure that associated and dependent objects are deleted when ActiveRecord::Base#destroy is called (by overwriting <code>before_destroy</code>) or to massage attributes before they're validated (by overwriting <code>before_validation</code>). As an example of the callbacks initiated, consider the ActiveRecord::Base#save call for a new record:</p>\n\n<ul>\n<li><p>(-) <code>save</code></p></li>\n<li><p>(-) <code>valid</code></p></li>\n<li><p>(1) <code>before_validation</code></p></li>\n<li><p>(-) <code>validate</code></p></li>\n<li><p>(2) <code>after_validation</code></p></li>\n<li><p>(3) <code>before_save</code></p></li>\n<li><p>(4) <code>before_create</code></p></li>\n<li><p>(-) <code>create</code></p></li>\n<li><p>(5) <code>after_create</code></p></li>\n<li><p>(6) <code>after_save</code></p></li>\n<li><p>(7) <code>after_commit</code></p></li>\n</ul>\n\n<p>Also, an <code>after_rollback</code> callback can be configured to be triggered whenever a rollback is issued. Check out ActiveRecord::Transactions for more details about <code>after_commit</code> and <code>after_rollback</code>.</p>\n\n<p>Additionally, an <code>after_touch</code> callback is triggered whenever an object is touched.</p>\n\n<p>Lastly an <code>after_find</code> and <code>after_initialize</code> callback is triggered for each object that is found and instantiated by a finder, with <code>after_initialize</code> being triggered after new objects are instantiated as well.</p>\n\n<p>There are nineteen callbacks in total, which give you immense power to react and prepare for each state in the Active Record life cycle. The sequence for calling ActiveRecord::Base#save for an existing record is similar, except that each <code>_create</code> callback is replaced by the corresponding <code>_update</code> callback.</p>\n"}], "owner": {"reputation": 553, "user_id": 3121196, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/500a19c40799500fd428c8a9f4e3c570?s=128&d=identicon&r=PG", "display_name": "Monti", "link": "https://stackoverflow.com/users/3121196/monti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5808, "favorite_count": 5, "accepted_answer_id": 29266713, "answer_count": 2, "score": 13, "last_activity_date": 1533111525, "creation_date": 1427305109, "question_id": 29262699, "link": "https://stackoverflow.com/questions/29262699/does-before-save-run-after-validations", "title": "Does before_save run after validations?", "body": "<p>My custom validation seems to run before my <code>before_save</code> block, which is odd to me. I'm aware of <code>before_validation</code>, but I'm trying to test my custom validator, so a before_validation hook wouldn't allow me to. I've also read that testing a private method (my validator) is bad practice. What should I do?</p>\n\n<p>More info: We want users to be able to upload a Document with either a URL or File, but not both or none (xor). My validator checks the xor of these. If a user edits a Document, the <code>before_save</code> hook removes the current URL or File. In theory, the flow should be:</p>\n\n<ol>\n<li>Upload file</li>\n<li>Validate and save</li>\n<li>Upload URL</li>\n<li>before_save, validate, save</li>\n</ol>\n\n<p>But in my tests, I get validation errors, suggesting that the <code>before_save</code> is not occurring.</p>\n"}, {"tags": ["ruby", "regex", "middleman", "string-interpolation"], "answers": [{"tags": [], "owner": {"reputation": 25150, "user_id": 383888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kd57u.jpg?s=128&g=1", "display_name": "Mori", "link": "https://stackoverflow.com/users/383888/mori"}, "is_accepted": false, "score": 2, "last_activity_date": 1427304815, "creation_date": 1427304815, "answer_id": 29262593, "question_id": 29262494, "link": "https://stackoverflow.com/questions/29262494/i18n-and-interpolation/29262593#29262593", "title": "I18n and Interpolation?", "body": "<p>See <a href=\"http://guides.rubyonrails.org/i18n.html#passing-variables-to-translations\" rel=\"nofollow\">Passing Variables to Translations</a> in the Rails Internationalization API RailsGuide:</p>\n\n<blockquote>\n  <p>You can use variables in the translation messages and pass their values from the view.</p>\n</blockquote>\n\n<pre><code># app/views/home/index.html.erb\n&lt;%=t 'greet_username', user: \"Bill\", message: \"Goodbye\" %&gt;\n\n# config/locales/en.yml\nen:\n  greet_username: \"%{message}, %{user}!\"\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 1019051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/771d863ca5bc4c837ef88ebb6b195cc1?s=128&d=identicon&r=PG", "display_name": "Lacy", "link": "https://stackoverflow.com/users/1019051/lacy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1491500572, "creation_date": 1427304564, "last_edit_date": 1491500572, "question_id": 29262494, "link": "https://stackoverflow.com/questions/29262494/i18n-and-interpolation", "title": "I18n and Interpolation?", "body": "<p>I want to be able interpolate variables inside of strings stored in a yml locales file. The only way I have figured out how to do this is with regex.</p>\n\n<p>For example in en.yml I have</p>\n\n<pre><code>---\nen:\n  byline: \"By &lt;strong&gt;{{author}}&lt;/strong&gt;\"`\n</code></pre>\n\n<p>And then in my erb file I have:</p>\n\n<p><code>&lt;%= t(:byline).gsub!(/{{author}}/, current_page.data.author) %&gt;</code></p>\n\n<p>Is there an easier way to do this?</p>\n"}, {"tags": ["ruby", "json", "facebook", "facebook-graph-api"], "comments": [{"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1427306650, "post_id": 29262483, "comment_id": 46728304, "body": "It looks to me like the scraper is expecting a JSON response, but is getting something else. I recommend <a href=\"https://github.com/arsduo/koala\" rel=\"nofollow noreferrer\">Koala</a>, which does a really good job of parsing graph API responses."}, {"owner": {"reputation": 107, "user_id": 1364153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2rVXQ.png?s=128&g=1", "display_name": "AMDP", "link": "https://stackoverflow.com/users/1364153/amdp"}, "reply_to_user": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1427323378, "post_id": 29262483, "comment_id": 46737258, "body": "I&#39;m not a great coder, if I need to obtain the whole group feed with likes, what should I do?"}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1427386988, "post_id": 29262483, "comment_id": 46765242, "body": "Unfortunately, this site is not about getting people to write code for you. You could try reading the documentation for the graph API and koala, and using that knowledge to modify the script you got. If you run into a specific problem while doing so (not just &quot;how should I fix it and why it does not work&quot;), that would be a good thing to ask about here."}, {"owner": {"reputation": 107, "user_id": 1364153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2rVXQ.png?s=128&g=1", "display_name": "AMDP", "link": "https://stackoverflow.com/users/1364153/amdp"}, "reply_to_user": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 1, "creation_date": 1427828058, "post_id": 29262483, "comment_id": 46933041, "body": "The point is that I&#39;ve asked about something else in the first place, but I thank you very much for your suggestions."}], "answers": [{"tags": [], "owner": {"reputation": 771, "user_id": 2781965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rO7Y.jpg?s=128&g=1", "display_name": "jeton", "link": "https://stackoverflow.com/users/2781965/jeton"}, "is_accepted": true, "score": 0, "last_activity_date": 1480223038, "creation_date": 1480223038, "answer_id": 40825912, "question_id": 29262483, "link": "https://stackoverflow.com/questions/29262483/facebook-group-data/40825912#40825912", "title": "Facebook group data", "body": "<p>I changed couple of lines and it is working with Ruby 2.3.1p112 </p>\n\n<ul>\n<li><p>added</p>\n\n<p>require 'json'</p>\n\n<p>require 'csv'</p></li>\n<li><p>changed (fastercsv -> csv &amp; Crack::JSON.parse -> JSON.parse()</p>\n\n<p>resp = JSON.parse(RestClient.get(url))</p>\n\n<p>CSV.open(\"fb_posts_#{@group_id}.csv\", \"w\") do |csv|</p></li>\n</ul>\n"}], "owner": {"reputation": 107, "user_id": 1364153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2rVXQ.png?s=128&g=1", "display_name": "AMDP", "link": "https://stackoverflow.com/users/1364153/amdp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 40825912, "answer_count": 1, "score": 0, "last_activity_date": 1480223038, "creation_date": 1427304528, "last_edit_date": 1427306305, "question_id": 29262483, "link": "https://stackoverflow.com/questions/29262483/facebook-group-data", "title": "Facebook group data", "body": "<p>Hi I'm following this:</p>\n\n<blockquote>\n  <h2>How To Download Your Facebook Group Data</h2>\n  \n  <p>Here are instructions for Mac users to download Facebook group data,\n  courtesy of Al Shaw.</p>\n  \n  <ol>\n  <li>Get an access token for your group from the Facebook Graph API Explorer. A box will pop up. Make sure you click the\n  user.groupspermission, and then click Get Access Token again. Copy and\n  paste this into a text editor.</li>\n  <li>Copy and paste your group ID (example: <a href=\"https://www.facebook.com/groups/209024949216061/\" rel=\"nofollow\">https://www.facebook.com/groups/209024949216061/</a>) into a text editor.\n  You can also test your group ID in the Facebook Graph API Explorer by\n  entering \u201cGROUPID/feed\u201d in the get field. You should see all of your\n  group posts. </li>\n  <li>Grab the script for scraping the feed here:\n  <a href=\"https://gist.github.com/4322279/\" rel=\"nofollow\">https://gist.github.com/4322279/</a></li>\n  <li>Click \u201cdownload gist\u201d and decompress the file on your computer.</li>\n  <li>Navigate to where that file exists in the terminal (example: iMac:/\n  myname$ cd /Users/myname/documents). Here are instructions on how to\n  use the terminal. Stack Overflow is also a good place to go with\n  questions.  </li>\n  <li>In your terminal, type: \u201csudo gem install crack fastercsv rest-client\u201d and hit return. You\u2019ll have to enter your network\n  password.</li>\n  <li>Type: \u201cruby fb_scrape.rb YOUR_ACCESS_TOKEN YOUR_GROUP_ID\u201d and hit return. Make sure to note that this is two pieces of information: your\n  access token, and your group id \u2013 both of which you pasted into a text\n  editor earlier.</li>\n  </ol>\n  \n  <p>You'll see all the Facebook data fly across the\n  screen. A file should show up in your gist folder (check in your\n  Finder) called fb_posts_GROUPID.csv (with that long number being the\n  group ID you put in). Click to open, and you have your spreadsheet!</p>\n</blockquote>\n\n<p>If I do it all and then issue the command I get:</p>\n\n<pre><code>$ ruby fb_scrape.rb CAACEdEomyaccesstokenZD 2017mygroup6335\n/var/lib/gems/1.9.1/gems/crack-0.4.2/lib/crack/json.rb:33:in `rescue in parse': Invalid JSON string (Crack::ParseError)\n    from /var/lib/gems/1.9.1/gems/crack-0.4.2/lib/crack/json.rb:26:in `parse'\n    from fb_scrape.rb:28:in `scrape'\n    from fb_scrape.rb:24:in `start'\n    from fb_scrape.rb:78:in `&lt;main&gt;'\n</code></pre>\n\n<p>how should I fix it and why it does not work?\nThanks!</p>\n"}, {"tags": ["ruby", "cucumber"], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "is_accepted": true, "score": 0, "last_activity_date": 1427303819, "creation_date": 1427303819, "answer_id": 29262230, "question_id": 29262012, "link": "https://stackoverflow.com/questions/29262012/cucumber-table-changing/29262230#29262230", "title": "Cucumber table: changing", "body": "<p>Good Lord, I am so sorry.  I have the solution after I posted the question (with a truncated subject line.)  The solution is as follows:</p>\n\n<pre><code>  results = []\n  columns.hashes.each {|row|\n    st = sprintf(sql,\"#{WorkTable.table_name}\",\"#{WorkTable.table_name}.#{row['COLUMN_NAME']}\")\n    results &lt;&lt; {\n        'COLUMN_NAME' =&gt; row['COLUMN_NAME'],\n        'result' =&gt; WorkTable.connection.select_all(st.encode('utf-8')).first['result']\n    }\n  }\n\n  columns.diff!(results,surplus_row: false)\n</code></pre>\n\n<p>I was trying to diff a table against another table.  That is not the correct thing to do.  I need to diff a table against an array of hashes.  When I do that correctly, I get the following output:</p>\n\n<pre><code>   | ActiveDate          | pass   |\n   | TermDate            | pass   |  &lt;&lt;\n   | TermDate            | fail   |  &lt;&lt;\n   | create_user         | pass   |\n   | create_dt           | pass   |\n</code></pre>\n\n<p>That is what I was looking for.</p>\n\n<p>Sorry to bother. Hopefully this helps someone else.\ndvn</p>\n"}], "owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 29262230, "answer_count": 1, "score": 0, "last_activity_date": 1427303819, "creation_date": 1427303157, "question_id": 29262012, "link": "https://stackoverflow.com/questions/29262012/cucumber-table-changing", "title": "Cucumber table: changing", "body": "<p>What I am trying to do is iterate over a list of columns, run a function against that column, save the result, the using .diff to compare expected results with actual results.  That way I guess a pretty table of green and red depending on how the test completed.</p>\n\n<p>So I have a table that looks like the following:</p>\n\n<pre><code>  |     COLUMN_NAME         |     result |\n  |     RecordNum           |     pass   |\n  |     MasterCompanyTicker |     pass   |\n</code></pre>\n\n<p>A sql script is executed against each column name, returning 'pass' or 'fail' depending on the outcome.  The function is as follows:</p>\n\n<pre><code>Then(/^these columns are expected to be not null$/) do |columns|\n  # expected is an instance of Cucumber::Ast::Table\n  WorkTable.logger.info title_line('Columns cannot be null')\n\n  sql = File.readlines(File.join(ENV['ms_home'],'db','scripts','test','pass_or_fail_template.sql'))\n  sql = (sql.map {|l| l.strip}).join(' ')\n\n  results = columns.clone\n  results.hashes.each {|row|\n    st = sprintf(sql,\"#{WorkTable.table_name}\",\"#{WorkTable.table_name}.#{row['COLUMN_NAME']}\")\n    row['result'] = WorkTable.connection.select_all(st.encode('utf-8')).first['result']\n  }\n  columns.diff!(results,surplus_row: false)\nend\n</code></pre>\n\n<p>The sql script is running correctly; there is one that returns the string 'fail'.  So I am expecting row['result'] to be 'fail'.  If I do pp right after assignment, I indeed see that row['result'] == 'fail'.  </p>\n\n<pre><code>{\"COLUMN_NAME\"=&gt;\"TermDate\", \"result\"=&gt;\"fail\"}\n</code></pre>\n\n<p>However, if I do \"pp results\" against the whole table after the \"results.hashes\" block, it is not 'fail'.  It is its original value, 'pass'.</p>\n\n<pre><code>|     TermDate            |     pass   |\n</code></pre>\n\n<p>What am I doing incorrectly?  I thought this was an ingenious way of collecting all the results in on swoop, the comparing them using table.diff.  I've seen other posts along these lines and tried following the advice, but it doesn't work for me.</p>\n\n<p>Your time and consideration is appreciated,\ndvn</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 4425597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd696a36f89b9a3c5668049a8bbbf36?s=128&d=identicon&r=PG&f=1", "display_name": "Snags88", "link": "https://stackoverflow.com/users/4425597/snags88"}, "is_accepted": false, "score": 1, "last_activity_date": 1427306516, "creation_date": 1427306516, "answer_id": 29263134, "question_id": 29261526, "link": "https://stackoverflow.com/questions/29261526/creating-new-nested-model-in-ror/29263134#29263134", "title": "Creating new nested model in RoR", "body": "<p>It's hard to troubleshoot without seeing the action you're going through to get to that error, but in your header, you should be invoking the <em>current_beekeeper</em> method for it's return value.</p>\n\n<p>You already have logic to check if the beekeeper is logged in before showing your header so it is assumed that <em>session[:beekeeper_id]</em> is not nil. By invoking the <em>current_beekeeper</em> method, you'll be able to get the current beekeeper object.</p>\n\n<p>If you depend on the @beekeeper instance variable, it's not always guaranteed to be set depending on the controller action that renders your view.</p>\n"}], "owner": {"reputation": 323, "user_id": 4055306, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3a1c03379d3493e18c169fd29fc7d9c8?s=128&d=identicon&r=PG&f=1", "display_name": "filby", "link": "https://stackoverflow.com/users/4055306/filby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427310542, "creation_date": 1427301774, "last_edit_date": 1427310542, "question_id": 29261526, "link": "https://stackoverflow.com/questions/29261526/creating-new-nested-model-in-ror", "title": "Creating new nested model in RoR", "body": "<p>i am pretty new in RoR and trying to understand the basics. I have two models </p>\n\n<pre><code>class Beekeeper &lt; ActiveRecord::Base\n  has_many :apiaries, dependent: :destroy \nend\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class Apiary &lt; ActiveRecord::Base\n  belongs_to :beekeeper\nend\n</code></pre>\n\n<p>The controller for the Beekeepers is working just fine, but i have trouble routing to the 'new' route for apiary creation.</p>\n\n<p>The apiaries controller is</p>\n\n<pre><code>class ApiariesController &lt; ApplicationController\n\n  def new\n    @beekeeper = Beekeeper.find(params[:beekeeper_id] )\n    @apiary = @beekeeper.apiaries.build\n    respond_to do |format|\n      format.html { render new }\n    end\n  end\n\n\n  private\n\n    def apiary_params\n      params.require(:apiary).permit(:name, :location, :numberofbeehives, :beekeeper_id)\n    end\nend\n</code></pre>\n\n<p>Also in beekeepers controller we have a </p>\n\n<pre><code>def current_beekeeper\n  @current_beekeeper ||= Beekeeper.find_by(id: session[:beekeeper_id])\nend\n</code></pre>\n\n<p>I am using 'application.html.erb' for rendering a header and a footer in all pages. The first problem is in the '_header.html.erb':</p>\n\n<pre><code>&lt;% if logged_in? %&gt;\n  &lt;li&gt;&lt;%= link_to \"Insert Apiary\", new_beekeeper_apiary_path(@beekeeper) %&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;%= link_to \"All Beekeepers\", beekeepers_path %&gt;&lt;/li&gt;\n\n  &lt;li&gt;&lt;%= link_to \"Profile\", beekeeper_path(@beekeeper) %&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;%= link_to \"Settings\", '#' %&gt;&lt;/li&gt;\n  &lt;li&gt;\n    &lt;%= link_to \"Log out\", logout_path, method: \"delete\" %&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>If in the links for 'profile' and 'new_apiary' i include (@beekeeper) i get a:\n        $<code>No route matches {:action=&gt;\"new\", :beekeeper_id=&gt;nil, :controller=&gt;\"apiaries\"} missing required keys: [:beekeeper_id]</code>$</p>\n\n<p>If in the above links i include instead of $<code>@beekeeper</code>$ -> $<code>current_beekeeper</code>$ (or just current_beekeeper dunno why) the pages load just fine but then when i click on the new apiary link i get either (Couldn't find Beekeeper with 'id'=) if i use  $ <code>@beekeeper = Beekeeper.find(params[:id] )</code>\nin my apiaries controller or a stack too deep error (it is recursing around lines 4 and 5 of the controller) if i use $ <code>@beekeeper = Beekeeper.find(params[:beekeeper_id] )</code>$ which i think should work. </p>\n\n<p>Forgot to mention my routes files is </p>\n\n<pre><code>Rails.application.routes.draw do\n\n  resources :beekeepers do\n    resources :apiaries\n  end\nend\n</code></pre>\n\n<p>and i do have a beekeeper_id field in my apiaries db.\nThanks for any help !</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json", "grape"], "answers": [{"tags": [], "owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "is_accepted": true, "score": 1, "last_activity_date": 1427321731, "creation_date": 1427321731, "answer_id": 29267584, "question_id": 29261274, "link": "https://stackoverflow.com/questions/29261274/rails-grape-entity-throws-uninitialized-constant-grapeentity/29267584#29267584", "title": "Rails, Grape entity throws: uninitialized constant Grape::Entity", "body": "<p>You are using old version of grape, change your grape version:</p>\n\n<pre><code>gem 'grape', '~&gt; 0.11.0'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 1448139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c41f05ce581e3a23d37f8536cf18ce?s=128&d=identicon&r=PG", "display_name": "dylanninin", "link": "https://stackoverflow.com/users/1448139/dylanninin"}, "is_accepted": false, "score": 1, "last_activity_date": 1446229609, "last_edit_date": 1592644375, "creation_date": 1446229609, "answer_id": 33442643, "question_id": 29261274, "link": "https://stackoverflow.com/questions/29261274/rails-grape-entity-throws-uninitialized-constant-grapeentity/33442643#33442643", "title": "Rails, Grape entity throws: uninitialized constant Grape::Entity", "body": "<p>You can refer to this repository: <a href=\"https://github.com/philcallister/rails-grape-entity\" rel=\"nofollow noreferrer\">https://github.com/philcallister/rails-grape-entity</a></p>\n<p>Just add</p>\n<blockquote>\n<p>gem 'grape'</p>\n<p>gem 'grape-entity'</p>\n</blockquote>\n<p>into your <code>Gemfile</code></p>\n"}], "owner": {"reputation": 5695, "user_id": 3003432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/835081031b807fb7f1bc8eb683dd4626?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.D", "link": "https://stackoverflow.com/users/3003432/mr-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "accepted_answer_id": 29267584, "answer_count": 2, "score": 1, "last_activity_date": 1446229609, "creation_date": 1427301076, "question_id": 29261274, "link": "https://stackoverflow.com/questions/29261274/rails-grape-entity-throws-uninitialized-constant-grapeentity", "title": "Rails, Grape entity throws: uninitialized constant Grape::Entity", "body": "<p>In rails project, I made <code>api</code> folder and I added this code to my <code>application.rb</code> file:</p>\n\n<pre><code>config.paths.add File.join('app', 'api'), glob: File.join('**', '*.rb')\nconfig.autoload_paths += Dir[Rails.root.join('app', 'api', '*')]\n</code></pre>\n\n<p>In my <code>api</code> folder I have created <code>game_server.rb</code> file:</p>\n\n<pre><code>module GameServer\n\n  module Entities\n   class Test &lt; Grape::Entity\n     expose :id\n   end\n  end\n\n\nclass API &lt; Grape::API\n   version 'v1', using: :path\n   prefix :api\n   format :json\n\n   get :details do\n      present Basis.all, with: GameServer::Entities::Test\n   end\n\n end\nend\n</code></pre>\n\n<p>All code inside <code>GameServer</code> module. When I hit <code>http://localhost:3000/api/v1/details</code> in my browser I het this error:\n<code>uninitialized constant Grape::Entity</code>.  </p>\n\n<p>I even tried to put my <code>Entities</code> module in other file, still does not work.</p>\n\n<p>WHY?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "gem", "profanity"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "edited": false, "score": 0, "creation_date": 1427302844, "post_id": 29261277, "comment_id": 46725829, "body": "This doesn&#39;t really work, it will only allow one work in your &#39;list of forbidden words&#39;"}, {"owner": {"reputation": 311, "user_id": 4670652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1visj3ZEngA/AAAAAAAAAAI/AAAAAAAAACk/2JaUXp9U_aE/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/4670652/matt"}, "edited": false, "score": 0, "creation_date": 1427304733, "post_id": 29261277, "comment_id": 46727010, "body": "Right, you&#39;d need to customize that validation message to suit your needs."}], "tags": [], "owner": {"reputation": 311, "user_id": 4670652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1visj3ZEngA/AAAAAAAAAAI/AAAAAAAAACk/2JaUXp9U_aE/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/4670652/matt"}, "is_accepted": false, "score": 3, "last_activity_date": 1427301085, "creation_date": 1427301085, "answer_id": 29261277, "question_id": 29261137, "link": "https://stackoverflow.com/questions/29261137/ruby-on-rails-stop-profanity/29261277#29261277", "title": "Ruby on Rails Stop Profanity", "body": "<p>Sounds like you might want to add a custom validation method. Something like:</p>\n\n<pre><code>validate :text_must_be_decent\n\ndef text_must_be_decent\n  if review_text.include?(... list of forbidden words...)\n    errors.add(:review_text, 'Wash your mouth out with soap!')\n  end\nend\n</code></pre>\n\n<p>See also <a href=\"http://guides.rubyonrails.org/active_record_validations.html#performing-custom-validations\" rel=\"nofollow\">http://guides.rubyonrails.org/active_record_validations.html#performing-custom-validations</a></p>\n"}, {"tags": [], "owner": {"reputation": 228, "user_id": 7042977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YlZhM.jpg?s=128&g=1", "display_name": "Moshe Edri", "link": "https://stackoverflow.com/users/7042977/moshe-edri"}, "is_accepted": false, "score": 0, "last_activity_date": 1500911671, "creation_date": 1500911671, "answer_id": 45285051, "question_id": 29261137, "link": "https://stackoverflow.com/questions/29261137/ruby-on-rails-stop-profanity/45285051#45285051", "title": "Ruby on Rails Stop Profanity", "body": "<p>it's really doesn't work like that with validate , and i should know i tried it your way Matt.</p>\n\n<p>to create a custom validate you need to create a class like that : </p>\n\n<pre><code>    class myValidator &lt; ActiveModel::Validator\n      def validate(record)\n        if record.review_text.present?\n         @review_text = record.review_text.dup\n         @review_text.downcase!\n\n     @bad_keywords = [\"bad_word\",\"another_bad_word\",....]\n     @bad_keywords.each do |word|  \n     if @review_text.include? word\n      record.errors[:review_text] &lt;&lt; 'Wash your mouth out with soap!'\n    end\n    end\n\n\n   end\nend\nend\n</code></pre>\n\n<p>and inside your model :</p>\n\n<pre><code> include ActiveModel::Validations\n\n  validates_with myValidator\n</code></pre>\n\n<p>you can put \"myValidator\" inside your model or you can put it in the lib dir</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 9616949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MQwgm.jpg?s=128&g=1", "display_name": "Reinier Garcia", "link": "https://stackoverflow.com/users/9616949/reinier-garcia"}, "is_accepted": false, "score": 1, "last_activity_date": 1605716840, "last_edit_date": 1605716840, "creation_date": 1605715855, "answer_id": 64896875, "question_id": 29261137, "link": "https://stackoverflow.com/questions/29261137/ruby-on-rails-stop-profanity/64896875#64896875", "title": "Ruby on Rails Stop Profanity", "body": "<p>Another easier option is to use the <a href=\"https://github.com/tjackiw/obscenity\" rel=\"nofollow noreferrer\">Obscenity</a> gem.</p>\n<ol>\n<li><p>Add the following to the Gemfile:</p>\n<pre><code>gem 'obscenity'\n</code></pre>\n</li>\n<li><p>Execute in the terminal:</p>\n<pre><code>bundle install\n</code></pre>\n</li>\n<li><p>Modify your Review model this way:</p>\n<pre><code> class Review &lt; ActiveRecord::Base\n   belongs_to :user\n   belongs_to :film\n\n   validates :review_text, :presence =&gt; { :message =&gt; &quot;Please enter a review&quot; }\n\n   validates :review_text, :length =&gt; { :maximum =&gt; 2000, :message =&gt; &quot;The review must not exceed 2000 characters&quot; }\n   validates :review_text, obscenity: true\n end\n</code></pre>\n</li>\n</ol>\n<p>And that's it. The project is not longer maintained since 2016, but I'm using it on production with rails 6 and it still works.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1605716840, "creation_date": 1427300684, "question_id": 29261137, "link": "https://stackoverflow.com/questions/29261137/ruby-on-rails-stop-profanity", "title": "Ruby on Rails Stop Profanity", "body": "<p>I am creating a cinema site using Ruby on Rails and am adding in a review system. I want to stop users from swearing in their reviews and have tried the following gems to do so:</p>\n\n<pre><code>validates_decency_of\n\nNoNo\n\nFu-Fu\n</code></pre>\n\n<p>The only thing that has come close is using exclusion:</p>\n\n<pre><code>validates :review_text, :exclusion =&gt; { :in =&gt; %w(shit fuck fucking twat bitch), :message =&gt; \"you must not enter swear words\"}\n</code></pre>\n\n<p>But the problem with this is that it will only work against reviews that have only those words, e.g. if you type \"shit film\" it will allow it but it will not allow the single word \"shit\".</p>\n\n<p>Can someone please help.</p>\n\n<p>review.rb:</p>\n\n<pre><code>class Review &lt; ActiveRecord::Base\n  belongs_to :user\n  belongs_to :film\n\n  validates :review_text, :presence =&gt; { :message =&gt; \"Please enter a review\"}\n  validates :review_text, :length =&gt;   {:maximum =&gt; 2000, :message =&gt; \"The review must not exceed 2000 characters\"} \n  validates :review_text, length: { maximum: 2000 }\nend\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1427316350, "post_id": 29261017, "comment_id": 46734047, "body": "It took you more time to write this question than it would have taken to check the <a href=\"http://ruby-doc.org/core-2.2.0/Array.html\" rel=\"nofollow noreferrer\">Array documentation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 1010748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0177b2583d30009f1d7e7761a376e6f1?s=128&d=identicon&r=PG", "display_name": "Marcus Brunsten", "link": "https://stackoverflow.com/users/1010748/marcus-brunsten"}, "edited": false, "score": 0, "creation_date": 1427300488, "post_id": 29261042, "comment_id": 46724186, "body": "Great, Thanks! Stackoverflow is for all kinds of questions :-) And since i couldn&#39;t find the answer for it here, I asked :-)"}], "tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1427300383, "creation_date": 1427300383, "answer_id": 29261042, "question_id": 29261017, "link": "https://stackoverflow.com/questions/29261017/how-to-define-an-array-with-x-nil-values/29261042#29261042", "title": "How to define an Array with X nil values?", "body": "<p>This is very basic question:</p>\n\n<pre><code>i = 5\nArray.new(i) #=&gt; [nil, nil, nil, nil, nil]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "is_accepted": false, "score": 1, "last_activity_date": 1427301823, "creation_date": 1427301823, "answer_id": 29261542, "question_id": 29261017, "link": "https://stackoverflow.com/questions/29261017/how-to-define-an-array-with-x-nil-values/29261542#29261542", "title": "How to define an Array with X nil values?", "body": "<pre><code>i = 5\n[nil]*i #=&gt; [nil, nil, nil, nil, nil]\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 1010748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0177b2583d30009f1d7e7761a376e6f1?s=128&d=identicon&r=PG", "display_name": "Marcus Brunsten", "link": "https://stackoverflow.com/users/1010748/marcus-brunsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 29261042, "answer_count": 2, "score": 1, "last_activity_date": 1427304645, "creation_date": 1427300322, "question_id": 29261017, "link": "https://stackoverflow.com/questions/29261017/how-to-define-an-array-with-x-nil-values", "title": "How to define an Array with X nil values?", "body": "<p>I have an <code>integer</code> with a value</p>\n\n<p>I want to create an <code>array</code> with nil values representing this <code>integer</code></p>\n\n<p>For example:</p>\n\n<pre><code>i = 5\n# The result i want is\n[nil, nil, nil, nil, nil]\n</code></pre>\n\n<p>What is the most Ruby way of doing this? Aka, the shortest way. Without need of looping et c.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "forgot-password"], "comments": [{"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1427300958, "post_id": 29260986, "comment_id": 46724508, "body": "<a href=\"http://stackoverflow.com/questions/19018657/rails-4-devise-password-reset-is-always-giving-a-token-is-invalid-error-on\" title=\"rails 4 devise password reset is always giving a token is invalid error on\">stackoverflow.com/questions/19018657/&hellip;</a>"}, {"owner": {"reputation": 91, "user_id": 3709592, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/21ca80ef1de7012eb9e733ba468faaf4?s=128&d=identicon&r=PG&f=1", "display_name": "whoaaallamapajama", "link": "https://stackoverflow.com/users/3709592/whoaaallamapajama"}, "reply_to_user": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1427302298, "post_id": 29260986, "comment_id": 46725457, "body": "This is my code - &#39;&lt;p&gt;&lt;%= link_to &#39;Change my password&#39;, edit_password_url(@resource, reset_password_token: @token) %&gt;&lt;/p&gt;&#39;. I think that SO post is before my issue"}], "owner": {"reputation": 91, "user_id": 3709592, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/21ca80ef1de7012eb9e733ba468faaf4?s=128&d=identicon&r=PG&f=1", "display_name": "whoaaallamapajama", "link": "https://stackoverflow.com/users/3709592/whoaaallamapajama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427300254, "creation_date": 1427300254, "question_id": 29260986, "link": "https://stackoverflow.com/questions/29260986/devise-rails-strange-password-reset-error-without-proper-notification", "title": "Devise Rails - Strange password reset error without proper notification", "body": "<p>I am using Rails 4.1.5 and devise 3.4.1 and have the following problem with reseting my passwords.....</p>\n\n<p><img src=\"https://i.stack.imgur.com/JpTDq.png\" alt=\"This is the correct password login screen\"></p>\n\n<p>After I enter the new password and press enter I get the following...(Note: on the account the password was changed successfully, but a user would never know this based on this output unless they had the tenacity to try the new password)</p>\n\n<p><img src=\"https://i.stack.imgur.com/IEysb.png\" alt=\"enter image description here\"></p>\n\n<p>In my interpretation it is changing the password correctly and reloading the page, so the error message may be valid BUT it should display that the reset was successful!</p>\n\n<p>I can also post my edit.html.erb or devise.en.yml or devise.rb if that is helpful....I'm totally stuck and don't understand where to start.</p>\n"}, {"tags": ["ruby", "oop", "object", "objectid"], "comments": [{"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "edited": false, "score": 0, "creation_date": 1427300307, "post_id": 29260748, "comment_id": 46724053, "body": "I believe it is limited by the amount of memory server has, but this is only my opinion."}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1427300461, "post_id": 29260748, "comment_id": 46724173, "body": "Just ran this. No, it didn&#39;t raise any errors. I doubt it&#39;s helpful though, the hypothetical limit could be higher."}, {"owner": {"reputation": 22074, "user_id": 4703663, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kN6k0.jpg?s=128&g=1", "display_name": "Richard Hamilton", "link": "https://stackoverflow.com/users/4703663/richard-hamilton"}, "edited": false, "score": 0, "creation_date": 1427300482, "post_id": 29260748, "comment_id": 46724177, "body": "You ran this code without a <code>MemoryAllocationError</code>?"}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1427300650, "post_id": 29260748, "comment_id": 46724294, "body": "You might want to read answers <a href=\"http://stackoverflow.com/questions/3430280/how-does-object-id-assignment-work\">given here</a>."}, {"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1427300655, "post_id": 29260748, "comment_id": 46724297, "body": "@user4703663 Yes. 100 million strings is not very much for a modern computer."}, {"owner": {"reputation": 22074, "user_id": 4703663, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kN6k0.jpg?s=128&g=1", "display_name": "Richard Hamilton", "link": "https://stackoverflow.com/users/4703663/richard-hamilton"}, "edited": false, "score": 0, "creation_date": 1427301093, "post_id": 29260748, "comment_id": 46724597, "body": "Alright, I ran <code>ids.max</code> and got <code>22314984</code>. When I ran <code>ids.uniq.count</code>, I only got <code>44301</code>. This means that different strings are the same object. Is this part of <code>GC</code> or is there a different explanation?"}, {"owner": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "edited": false, "score": 1, "creation_date": 1427304252, "post_id": 29260748, "comment_id": 46726675, "body": "You create 100000000 strings, but they aren&#39;t alive at the same time. Your array only stores their IDs and the strings are left unreferenced. Now the GC may collect them and if that happens a new object can have the same ID as an already collected one since its slot is free."}], "answers": [{"comments": [{"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1427302381, "post_id": 29261581, "comment_id": 46725518, "body": "For reference, <a href=\"https://github.com/ruby/ruby/blob/4e8fbe17787fe3d46431087f791ed443b1010e19/gc.c#L2873\" rel=\"nofollow noreferrer\">this</a> is how <code>object_id</code> is implemented in current MRI."}], "tags": [], "owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "is_accepted": true, "score": 6, "last_activity_date": 1427301917, "creation_date": 1427301917, "answer_id": 29261581, "question_id": 29260748, "link": "https://stackoverflow.com/questions/29260748/is-there-a-theoretical-limit-to-the-number-of-objects-ruby-can-store/29261581#29261581", "title": "Is there a theoretical limit to the number of objects Ruby can store?", "body": "<p>How object ids are allocated is implementation dependant. On C-ruby, object id is just the numerical value of the memory address of the object (with some exceptions for immediate values such as true, false, nil, Fixnums).</p>\n\n<p>Therefore two live objects can't share the same object id (good!), however if you trigger a garbage collection then some of the memory locations (i.e. heap slots) may be reused and therefore the object ids too.</p>\n\n<p>Another consequence is that you'll never run out of object ids (unless you exhaust the address space of the process, but you're in trouble anyway if that happens)</p>\n"}], "owner": {"reputation": 22074, "user_id": 4703663, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kN6k0.jpg?s=128&g=1", "display_name": "Richard Hamilton", "link": "https://stackoverflow.com/users/4703663/richard-hamilton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 29261581, "answer_count": 1, "score": 3, "last_activity_date": 1427302899, "creation_date": 1427299580, "last_edit_date": 1427302899, "question_id": 29260748, "link": "https://stackoverflow.com/questions/29260748/is-there-a-theoretical-limit-to-the-number-of-objects-ruby-can-store", "title": "Is there a theoretical limit to the number of objects Ruby can store?", "body": "<p>At least up to a little more than <code>20_000_000</code>, the <code>object_id</code>s of numbers are 2 times the number + 1:</p>\n\n<pre><code>1454.object_id # =&gt; 2909\n</code></pre>\n\n<p>When calling the <code>object_id</code> on large numbers, this format is not kept. It seems like there is a built in limit to the number of objects you could theoretically have. I ran:</p>\n\n<pre><code>ids = []\n100_000_000.times { ids &lt;&lt; String.new.object_id }\nids.max # =&gt; 22314984\nids.uniq.count # =&gt; 44301\n</code></pre>\n\n<p>So out of the 100,000,000 string objects, only about 50,000 were actually unique. That means 99.95% of these objects were the same object. I'm not sure why this is.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ajax", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1427297961, "post_id": 29259875, "comment_id": 46722426, "body": "<code>remote: true</code> is for links and form submissions. check this question: <a href=\"http://stackoverflow.com/questions/15697000/rails-check-box-tag-how-to-pass-value-when-checked-ajaxily\" title=\"rails check box tag how to pass value when checked ajaxily\">stackoverflow.com/questions/15697000/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 838, "user_id": 4107375, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/92eb78c7c4b20429f9d22a1d5e38be57?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/4107375/jay"}, "edited": false, "score": 0, "creation_date": 1427298663, "post_id": 29259985, "comment_id": 46722928, "body": "Thanks, I now have this code in my js <code>$.get(&quot;&#47;foo_data&#47;&quot; + id + &quot;&#47;edit&quot;, function(data) {   })</code>  This is also hitting my edit method, but the &quot;edit.js.erb&quot; is still not being rendered."}, {"owner": {"reputation": 786, "user_id": 2249001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bw0ht.png?s=128&g=1", "display_name": "aspencer8111", "link": "https://stackoverflow.com/users/2249001/aspencer8111"}, "reply_to_user": {"reputation": 838, "user_id": 4107375, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/92eb78c7c4b20429f9d22a1d5e38be57?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/4107375/jay"}, "edited": false, "score": 0, "creation_date": 1427303898, "post_id": 29259985, "comment_id": 46726455, "body": "hmmm...are you sure the edit method is getting called? If so, it should return and fire off that alert. Can you post the server log of it firing off?"}], "tags": [], "owner": {"reputation": 786, "user_id": 2249001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bw0ht.png?s=128&g=1", "display_name": "aspencer8111", "link": "https://stackoverflow.com/users/2249001/aspencer8111"}, "is_accepted": true, "score": 1, "last_activity_date": 1427297573, "creation_date": 1427297573, "answer_id": 29259985, "question_id": 29259875, "link": "https://stackoverflow.com/questions/29259875/rails-ajax-my-edit-js-erb-is-not-being-run/29259985#29259985", "title": "Rails + ajax, my &quot;edit.js.erb&quot; is not being run", "body": "<p>You can't append <code>remote: true</code> to a checkbox and expect it to fire off.</p>\n\n<p>It needs to either be attached to the parent form tag of said checkbox, or you need to write some js that watches that checkbox. </p>\n\n<p>If you go the watcher route, the JS will send an ajax call when the box gets clicked on.</p>\n\n<p><a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow\">Here is a link</a> on how to do AJAX with jQuery (which is built into rails)</p>\n"}], "owner": {"reputation": 838, "user_id": 4107375, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/92eb78c7c4b20429f9d22a1d5e38be57?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/4107375/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 29259985, "answer_count": 1, "score": 0, "last_activity_date": 1427297573, "creation_date": 1427297277, "question_id": 29259875, "link": "https://stackoverflow.com/questions/29259875/rails-ajax-my-edit-js-erb-is-not-being-run", "title": "Rails + ajax, my &quot;edit.js.erb&quot; is not being run", "body": "<p>I'm trying to setup ajax within rails, but I am having trouble getting my \"edit.js.erb\" to be ran</p>\n\n<p>My edit.html.haml</p>\n\n<pre><code>= f.check_box :foo, {checked: eligibility_data.foo, class: \"foo\", remote: true}\n</code></pre>\n\n<p>controller</p>\n\n<pre><code>def edit\n  @survey = Foo.find_by_id(params[:id])\n  respond_to do |format|\n    format.html\n    format.js\n  end\nend\n</code></pre>\n\n<p>edit.js.erb</p>\n\n<pre><code>alert(\"Testing\");\n</code></pre>\n\n<p>How can I get edit.js.erb to run?  Once it's working I want to append html to my view, will I be able to place that html right into my js.erb, or will I have to make a partial of some sort?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "chartkick"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 4668477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824c886e0b4b3525536e9df4cbf0196f?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Armstrong", "link": "https://stackoverflow.com/users/4668477/sean-armstrong"}, "is_accepted": false, "score": 0, "last_activity_date": 1427309115, "creation_date": 1427309115, "answer_id": 29263977, "question_id": 29259523, "link": "https://stackoverflow.com/questions/29259523/rails-chartkick-doesnt-join-up-points-on-line-chart/29263977#29263977", "title": "Rails Chartkick doesn&#39;t join up points on line chart", "body": "<p>This is actually only a bug using google charts. HighCharts seems to work find</p>\n\n<p>Anyone with problems try using highcharts or if that doesn't work I actually found the answer installing the highchart-rails gem</p>\n"}], "owner": {"reputation": 33, "user_id": 4668477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824c886e0b4b3525536e9df4cbf0196f?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Armstrong", "link": "https://stackoverflow.com/users/4668477/sean-armstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427309115, "creation_date": 1427296382, "question_id": 29259523, "link": "https://stackoverflow.com/questions/29259523/rails-chartkick-doesnt-join-up-points-on-line-chart", "title": "Rails Chartkick doesn&#39;t join up points on line chart", "body": "<p>I'm currently trying to display some data using chartkick in Rails. I have a 4 sets of data already on the chart where each point contains the same x data, the create at date for the klass_result_set. </p>\n\n<p>I now want to add a list of tasks to be displayed on the grid and was happy to settle for now with points along the bottom of the chart however if I try and add these tasks the datapoints stop joining up.</p>\n\n<p>Is there a way to get this to work correctly? Do I need to concat the dates for both sets and use null/nil values?</p>\n\n<p>Image</p>\n\n<p><a href=\"http://s9.postimg.org/l4pu1pl67/chartkick_issue.png\" rel=\"nofollow\">http://s9.postimg.org/l4pu1pl67/chartkick_issue.png</a></p>\n\n<p>Code snippets: </p>\n\n<pre><code>      &lt;h4&gt;History&lt;/h4&gt;\n  &lt;% sets = @klass.klass_result_sets %&gt;\n  &lt;% tasks = @klass.project.tasks.where(complete: true) %&gt;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>&lt;div class=\"col-md-6\"&gt;\n   &lt;%= line_chart [\n       {name: \"Total Variables\", data: sets.map{|s| [s.created_at, s.variables] }},\n       {name: \"Public Variables\", data: sets.map{|s| [s.created_at, s.public_variables] }},\n       {name: \"Protected Variables\", data: sets.map{|s| [s.created_at, s.protected_variables] }},\n        {name: \"Private Variables\", data: sets.map{|s| [s.created_at, s.private_variables] }}, \n        {name: \"Tasks\", data: tasks.map{|t|  [t.completed_at, 0] }}\n      ] %&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Cheers</p>\n"}, {"tags": ["ruby", "arrays", "excel", "roo-gem"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1427298880, "post_id": 29258945, "comment_id": 46723095, "body": "you realize that <code>xls</code> already has this structure before the loop right? if <code>xls.each { |row| p row }</code> comes out as you have described then <code>xls</code> is already the multidimensional array that you want. if you really wanted to add this unneeded complexity then <code>xls.map { |row| row}</code> will do this too."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3923528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a50665548b8c758d459e3118bbc8d7?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/3923528/mike"}, "edited": false, "score": 0, "creation_date": 1427295857, "post_id": 29259075, "comment_id": 46720866, "body": "Thanks Amit! Silly mistake on my part."}, {"owner": {"reputation": 53706, "user_id": 3001736, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j4wN2.jpg?s=128&g=1", "display_name": "Amit Joki", "link": "https://stackoverflow.com/users/3001736/amit-joki"}, "reply_to_user": {"reputation": 31, "user_id": 3923528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a50665548b8c758d459e3118bbc8d7?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/3923528/mike"}, "edited": false, "score": 0, "creation_date": 1427295879, "post_id": 29259075, "comment_id": 46720887, "body": "@Mike glad to have helped :)"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1427298978, "post_id": 29259075, "comment_id": 46723172, "body": "Just to clarify you are taking a multidimensional <code>Array</code> and making a new one that looks exactly the same? Why would you need to do this? If your code works the way he wanted then <code>xls</code> is already what he wanted from the start."}], "tags": [], "owner": {"reputation": 53706, "user_id": 3001736, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j4wN2.jpg?s=128&g=1", "display_name": "Amit Joki", "link": "https://stackoverflow.com/users/3001736/amit-joki"}, "is_accepted": true, "score": 2, "last_activity_date": 1427295224, "creation_date": 1427295224, "answer_id": 29259075, "question_id": 29258945, "link": "https://stackoverflow.com/questions/29258945/how-to-put-arrays-from-roo-excel-sheet-in-two-dimensional-array/29259075#29259075", "title": "How to put arrays from Roo excel sheet in two dimensional array", "body": "<p>Just declare the array outside the <code>each</code> block. You're resetting it to <code>[]</code> every time the block is run. In that case, you will only append to <strong>one</strong> array.</p>\n\n<pre><code>two_dimensional = []\nxls = Roo::Spreadsheet.open('test_work.xls')\nxls.each do |row|\n  two_dimensional &lt;&lt; row\n  p two_dimensional\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 423, "user_id": 7417349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-HsRlq415RjU/AAAAAAAAAAI/AAAAAAAAAB0/bPSMQyEcuXc/photo.jpg?sz=128", "display_name": "javalearner_heaven", "link": "https://stackoverflow.com/users/7417349/javalearner-heaven"}, "is_accepted": false, "score": 1, "last_activity_date": 1509635047, "creation_date": 1509635047, "answer_id": 47078469, "question_id": 29258945, "link": "https://stackoverflow.com/questions/29258945/how-to-put-arrays-from-roo-excel-sheet-in-two-dimensional-array/47078469#47078469", "title": "How to put arrays from Roo excel sheet in two dimensional array", "body": "<p>You can also try </p>\n\n<pre><code>require 'rubygems'\nrequire 'roo'\n\nclass InputExcelReader\n$INPUTPATH = 'C:\\test_input_excel.xlsx'\nexcel_data_array = Array.new()\n\nworkbook = Roo::Spreadsheet.open($INPUTPATH)\nworksheets = workbook.sheets\nputs worksheets\nputs \"Found #{worksheets.count} worksheets\"\n\nworksheets.each do |worksheet|\n    puts \"Reading: #{worksheet}\"\n    num_rows = 0\n    workbook.sheet(worksheet).each_row_streaming do |row|\n        if(num_rows&gt;0)\n            puts \"Reading the row no: #{num_rows}\"\n            row_cells = row.map { |cell| \n                puts \"Reading cells\"\n                cell.value              \n            }\n            excel_data_array.push(row_cells)            \n        end\n        num_rows += 1\n    end\n    puts excel_data_array.to_s\nend\nend\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3923528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a50665548b8c758d459e3118bbc8d7?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/3923528/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1205, "favorite_count": 0, "accepted_answer_id": 29259075, "answer_count": 2, "score": 2, "last_activity_date": 1509635047, "creation_date": 1427294886, "question_id": 29258945, "link": "https://stackoverflow.com/questions/29258945/how-to-put-arrays-from-roo-excel-sheet-in-two-dimensional-array", "title": "How to put arrays from Roo excel sheet in two dimensional array", "body": "<p>I am using the roo-gem in ruby to get excel sheet cell values.</p>\n\n<p>I have a file 'ruby.rb' with:</p>\n\n<pre><code>require 'spreadsheet'\nrequire 'roo'\n\nxls = Roo::Spreadsheet.open('test_work.xls')\nxls.each do |row|\n  p row\nend\n</code></pre>\n\n<p>my output in the terminal when I run ruby 'ruby.rb' is:</p>\n\n<pre><code>[\"id\", \"header2\", \"header3\", \"header4\"]\n[\"val1\", \"val2\", \"val3\", \"val4\"]\n[\"val1\", \"val2\", \"val3\", \"val4\"]\n</code></pre>\n\n<p>when I add:</p>\n\n<pre><code>require 'spreadsheet'\nrequire 'roo'\n\nxls = Roo::Spreadsheet.open('test_work.xls')\nxls.each do |row|\n  two_dimensional = []\n  two_dimensional &lt;&lt; row\n  p two_dimensional\nend\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>[[\"id\", \"header2\", \"header3\", \"header4\"]]\n[[\"val1\", \"val2\", \"val3\", \"val4\"]]\n[[\"val1\", \"val2\", \"val3\", \"val4\"]]\n</code></pre>\n\n<p>What I want is:</p>\n\n<pre><code>[[\"id\", \"header2\", \"header3\", \"header4\"],\n[\"val1\", \"val2\", \"val3\", \"val4\"],\n[\"val1\", \"val2\", \"val3\", \"val4\"]]\n</code></pre>\n\n<p>How would I go about doing this.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby", "xml", "ubuntu", "amazon-web-services"], "comments": [{"owner": {"reputation": 10274, "user_id": 930207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oy7Q3.png?s=128&g=1", "display_name": "mcfinnigan", "link": "https://stackoverflow.com/users/930207/mcfinnigan"}, "edited": false, "score": 0, "creation_date": 1427295132, "post_id": 29258680, "comment_id": 46720347, "body": "Realistically, the only way you could do this without any additional infrastructure is by mounting the folder on U2 as a device on U1 using NFS."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 4151972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e6ddced56dc5f791b74c0752ffb995b6?s=128&d=identicon&r=PG", "display_name": "click", "link": "https://stackoverflow.com/users/4151972/click"}, "edited": false, "score": 0, "creation_date": 1427296053, "post_id": 29259077, "comment_id": 46721006, "body": "Thank You for your response how ever I dont have any experience with NFS share. Can you please give an example of using NFS share in ruby?"}, {"owner": {"reputation": 18303, "user_id": 790224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/auulQ.jpg?s=128&g=1", "display_name": "datasage", "link": "https://stackoverflow.com/users/790224/datasage"}, "reply_to_user": {"reputation": 377, "user_id": 4151972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e6ddced56dc5f791b74c0752ffb995b6?s=128&d=identicon&r=PG", "display_name": "click", "link": "https://stackoverflow.com/users/4151972/click"}, "edited": false, "score": 0, "creation_date": 1427296621, "post_id": 29259077, "comment_id": 46721458, "body": "Its not something you do in Ruby, instead it involves configuration on your instances. As far as Ruby is concerned, it will just look like any other file. Something like this should help you get it set up. <a href=\"https://theredblacktree.wordpress.com/2013/05/23/how-to-setup-a-amazon-aws-ec2-nfs-share/\" rel=\"nofollow noreferrer\">theredblacktree.wordpress.com/2013/05/23/&hellip;</a>"}, {"owner": {"reputation": 377, "user_id": 4151972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e6ddced56dc5f791b74c0752ffb995b6?s=128&d=identicon&r=PG", "display_name": "click", "link": "https://stackoverflow.com/users/4151972/click"}, "edited": false, "score": 0, "creation_date": 1427297268, "post_id": 29259077, "comment_id": 46721940, "body": "Thank you for your help I will try that!"}], "tags": [], "owner": {"reputation": 18303, "user_id": 790224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/auulQ.jpg?s=128&g=1", "display_name": "datasage", "link": "https://stackoverflow.com/users/790224/datasage"}, "is_accepted": true, "score": 0, "last_activity_date": 1427295226, "creation_date": 1427295226, "answer_id": 29259077, "question_id": 29258680, "link": "https://stackoverflow.com/questions/29258680/how-to-access-a-xml-file-from-another-machine/29259077#29259077", "title": "How to access a XML file from another machine", "body": "<p>You need to set up some type of method to access the file, or upload a new one. You have a few different options here.</p>\n\n<p>Access the file directly with something like an NFS share. Instance U2 will provide the NFS share for U1 to mount and connect to. With this the file will appear to be part of the local filesystem.</p>\n\n<p>Update the file all at once. You can either keep a local copy of the file, or download it again before you do processing. But the idea here is that you would update it on U1, then copy the new file to U2. You have a few different options for getting the file depending what you have setup, rsync or scp will probably be the easiest, FTP could be configured as well.</p>\n"}], "owner": {"reputation": 377, "user_id": 4151972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e6ddced56dc5f791b74c0752ffb995b6?s=128&d=identicon&r=PG", "display_name": "click", "link": "https://stackoverflow.com/users/4151972/click"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 29259077, "answer_count": 1, "score": 0, "last_activity_date": 1427295226, "creation_date": 1427294206, "question_id": 29258680, "link": "https://stackoverflow.com/questions/29258680/how-to-access-a-xml-file-from-another-machine", "title": "How to access a XML file from another machine", "body": "<p>Lets say I have two Ubuntu machine (in the real world they are two ec2 instances) U1 and U2 with ip address of 10.0.0.0 and 11.0.0.0. There is a XML file in U2 that I want to modify from a ruby file that is located in U1 when a new information arrive. I am developing in Ruby and I know about NokoGiri and how to modify the XML I just dont know how to access the U2 from my ruby file.\n<img src=\"https://i.stack.imgur.com/EEV33.jpg\" alt=\"enter image description here\"></p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "renderpartial"], "answers": [{"comments": [{"owner": {"reputation": 1962, "user_id": 2945616, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TL0yY.jpg?s=128&g=1", "display_name": "Atul Khanduri", "link": "https://stackoverflow.com/users/2945616/atul-khanduri"}, "edited": false, "score": 0, "creation_date": 1427348634, "post_id": 29258321, "comment_id": 46743921, "body": "I cannot use html_safe as I&#39;m in JS file. It says undefined method <code>html_safe</code>. I actually want to change my instance variable so that I can use it in <code>collection</code> to iterate it in partial file."}], "tags": [], "owner": {"reputation": 1009, "user_id": 735143, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5198cf315801c6e58fa1f1192adb114?s=128&d=identicon&r=PG", "display_name": "Dabrorius", "link": "https://stackoverflow.com/users/735143/dabrorius"}, "is_accepted": false, "score": 2, "last_activity_date": 1427293298, "last_edit_date": 1495541791, "creation_date": 1427293298, "answer_id": 29258321, "question_id": 29257994, "link": "https://stackoverflow.com/questions/29257994/prevent-instance-variable-to-encode-in-html-within-js-file/29258321#29258321", "title": "Prevent instance variable to encode in html within js file", "body": "<p>You can use <a href=\"http://apidock.com/rails/ActionView/Helpers/RawOutputHelper/raw\" rel=\"nofollow noreferrer\">raw</a> method that is available in rails.\nThere's also html_safe and some other options, you can read about them <a href=\"https://stackoverflow.com/questions/4251284/raw-vs-html-safe-vs-h-to-unescape-html\">here</a>.</p>\n"}], "owner": {"reputation": 1962, "user_id": 2945616, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TL0yY.jpg?s=128&g=1", "display_name": "Atul Khanduri", "link": "https://stackoverflow.com/users/2945616/atul-khanduri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427293675, "creation_date": 1427292406, "last_edit_date": 1427293675, "question_id": 29257994, "link": "https://stackoverflow.com/questions/29257994/prevent-instance-variable-to-encode-in-html-within-js-file", "title": "Prevent instance variable to encode in html within js file", "body": "<p>I have an instance method in my controller, for example</p>\n\n<pre><code>@instance_var =  [{:id=&gt;7142,\n  :t_id=&gt;\"5888\",\n  :date=&gt;Mon, 10 Mar 2014,\n  :name=&gt;\"test\"]\n</code></pre>\n\n<p>From my controller, I have rendered a js to call a partial file.</p>\n\n<p>In this js file, my instance variable is encoded in HTML like <code>\"</code> is encoded to <code>&amp;quot;</code> and <code>=&gt;</code>is encoded to <code>=&amp;gt;</code>. That's why I am having problems in calling a partial file with <code>collection</code>. Partial files are not iterating to each instance_var key-value pair.</p>\n\n<pre><code>$('#element_id').html('&lt;%= escape_javascript(render(:partial =&gt; \"my_partial\", :collection =&gt; @instance_var)) %&gt;')\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1427291915, "post_id": 29257564, "comment_id": 46717984, "body": "Why can you use <code>filename.open</code>?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1427293268, "post_id": 29257564, "comment_id": 46718964, "body": "What makes you think that the <code>String</code> class should be responsible for managing access to the filesystem? Or even know about what a filesystem is?"}, {"owner": {"reputation": 10274, "user_id": 930207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oy7Q3.png?s=128&g=1", "display_name": "mcfinnigan", "link": "https://stackoverflow.com/users/930207/mcfinnigan"}, "edited": false, "score": 0, "creation_date": 1427293797, "post_id": 29257564, "comment_id": 46719354, "body": "Because that&#39;s what Ruby expects you to do."}], "answers": [{"tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": true, "score": 2, "last_activity_date": 1427291384, "creation_date": 1427291384, "answer_id": 29257598, "question_id": 29257564, "link": "https://stackoverflow.com/questions/29257564/why-cant-i-use-filename-open-instead-of-openfilename/29257598#29257598", "title": "Why can&#39;t I use `filename.open&#39; instead of `open(filename)&#39;?", "body": "<p>You cant use <code>filename.open</code>, because filename is a String and method <code>open</code> is not defined in String</p>\n\n<p>Use <a href=\"http://ruby-doc.org/core-2.1.4/File.html#method-c-open\" rel=\"nofollow\">File#open</a></p>\n\n<pre><code>File.open(filename)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "is_accepted": false, "score": 0, "last_activity_date": 1427291972, "last_edit_date": 1427291972, "creation_date": 1427291659, "answer_id": 29257705, "question_id": 29257564, "link": "https://stackoverflow.com/questions/29257564/why-cant-i-use-filename-open-instead-of-openfilename/29257705#29257705", "title": "Why can&#39;t I use `filename.open&#39; instead of `open(filename)&#39;?", "body": "<pre><code>File.open(\"file\")\n</code></pre>\n\n<p>opens a local file and returns a file object. Here <a href=\"http://ruby-doc.org/core-2.2.0/File.html#method-c-open\" rel=\"nofollow\">File#open</a> is a method of File class.</p>\n\n<pre><code>open(\"file\")\n</code></pre>\n\n<p>is actually <a href=\"http://ruby-doc.org/core-2.2.0/Kernel.html#method-i-open\" rel=\"nofollow\">Kernel#open</a> and looks at the string to decide what to do with it. </p>\n\n<p><strong>Trivializing things:</strong></p>\n\n<ul>\n<li><code>File.open(\"file\")</code> is telling Ruby specifically to open a file.</li>\n<li>In case of <code>open(\"file\")</code> Ruby examines the string <code>\"file\"</code> to determine what type it is (here a file) and open corresponding type else throws appropriate error. </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": false, "score": 0, "last_activity_date": 1427296741, "creation_date": 1427296741, "answer_id": 29259653, "question_id": 29257564, "link": "https://stackoverflow.com/questions/29257564/why-cant-i-use-filename-open-instead-of-openfilename/29259653#29259653", "title": "Why can&#39;t I use `filename.open&#39; instead of `open(filename)&#39;?", "body": "<p>Ruby has a class for dealing with paths in an object-oriented way: <a href=\"http://ruby-doc.org/stdlib-2.2.1/libdoc/pathname/rdoc/Pathname.html\" rel=\"nofollow\"><code>Pathname</code></a></p>\n\n<pre><code>require 'pathname'\n\nloop do\n  print 'Enter filename: '\n  pn = Pathname(gets.chomp)\n  if pn.file?\n    puts \"Here's your file '#{pn}':\", pn.read\n  elsif pn.exist?\n    puts 'That is not a file.'\n  else\n    puts 'File does not exist.'\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4529445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a21a3580cb32c01af626b6146081d07?s=128&d=identicon&r=PG&f=1", "display_name": "laganio", "link": "https://stackoverflow.com/users/4529445/laganio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 29257598, "answer_count": 3, "score": -2, "last_activity_date": 1427296741, "creation_date": 1427291297, "last_edit_date": 1427291878, "question_id": 29257564, "link": "https://stackoverflow.com/questions/29257564/why-cant-i-use-filename-open-instead-of-openfilename", "title": "Why can&#39;t I use `filename.open&#39; instead of `open(filename)&#39;?", "body": "<p>In this piece of code which lets you read a file in the terminal, why do you need to use <code>open(filename)</code> rather than <code>filename.open</code>?</p>\n\n<pre><code>filename = ARGV.first\ntxt = open(filename)\nputs \"Here's your file #{filename}:\"\nprint txt.read\nprint \"Type the filename again: \"\nfile_again = $stdin.gets.chomp\ntxt_again = open(file_again)\nprint txt_again.read \n</code></pre>\n"}, {"tags": ["ruby", "gem", "jekyll", "liquid", "yaml-front-matter"], "answers": [{"comments": [{"owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "edited": false, "score": 0, "creation_date": 1427416616, "post_id": 29257517, "comment_id": 46779624, "body": "I don&#39;t think that was it. I seem to be using liquid 2.5.5 and that works as expected, with very similar settings."}, {"owner": {"reputation": 499, "user_id": 1766637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbdf99c797b7fefb2c3f890a0127e9?s=128&d=identicon&r=PG", "display_name": "joe sepi", "link": "https://stackoverflow.com/users/1766637/joe-sepi"}, "reply_to_user": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "edited": false, "score": 0, "creation_date": 1427506275, "post_id": 29257517, "comment_id": 46818724, "body": "Hmm. I don&#39;t know what happened then. Odd. Thanks for chiming in."}, {"owner": {"reputation": 767, "user_id": 578480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/LKpvI.jpg?s=128&g=1", "display_name": "Steve Heim", "link": "https://stackoverflow.com/users/578480/steve-heim"}, "edited": false, "score": 0, "creation_date": 1432636393, "post_id": 29257517, "comment_id": 48992629, "body": "I just ran into the same problem: I had &quot;jekyll serve&quot; running locally and rebuilding continuously. Simply stopping it and re-running &quot;jekyll serve&quot; from scratch was the solution in my case: for certain changes, it seems that regeneration doesn&#39;t quite catch all the changes."}], "tags": [], "owner": {"reputation": 499, "user_id": 1766637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbdf99c797b7fefb2c3f890a0127e9?s=128&d=identicon&r=PG", "display_name": "joe sepi", "link": "https://stackoverflow.com/users/1766637/joe-sepi"}, "is_accepted": false, "score": 0, "last_activity_date": 1427291176, "creation_date": 1427291176, "answer_id": 29257517, "question_id": 29257516, "link": "https://stackoverflow.com/questions/29257516/why-are-my-jekyll-defaults-in-config-not-working/29257517#29257517", "title": "Why are my Jekyll defaults in config not working?", "body": "<p>I found that running <code>bundle update</code> (assuming you use Bundler) fixed the problem. I don't think that the gems were that old, but it looks like I upgraded liquid, which I suspect was the issue:</p>\n\n<p><code>Using liquid 2.6.2 (was 2.5.5)</code></p>\n"}], "owner": {"reputation": 499, "user_id": 1766637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbdf99c797b7fefb2c3f890a0127e9?s=128&d=identicon&r=PG", "display_name": "joe sepi", "link": "https://stackoverflow.com/users/1766637/joe-sepi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1427291217, "creation_date": 1427291176, "last_edit_date": 1427291217, "question_id": 29257516, "link": "https://stackoverflow.com/questions/29257516/why-are-my-jekyll-defaults-in-config-not-working", "title": "Why are my Jekyll defaults in config not working?", "body": "<p>I am setting the defaults in my <code>_config.yml</code> file but they are not being picked up:</p>\n\n<pre><code>defaults:\n  -\n    scope:\n      path: \"\"\n      type: \"posts\"\n    values:\n      layout: \"post\"\n</code></pre>\n\n<p>I am comparing it with another Jekyll site that I maintain where my sitewide frontmatter defaults are working as expected. What gives?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 4365, "user_id": 3275167, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2d5b6485571a870043f694cfb979eefa?s=128&d=identicon&r=PG&f=1", "display_name": "coderz", "link": "https://stackoverflow.com/users/3275167/coderz"}, "edited": false, "score": 0, "creation_date": 1427291343, "post_id": 29257367, "comment_id": 46717558, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/10246023/bundle-install-fails-with-ssl-certificate-verification-error\">bundle install fails with SSL certificate verification error</a>"}], "answers": [{"tags": [], "owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "is_accepted": false, "score": 0, "last_activity_date": 1427291110, "last_edit_date": 1495542144, "creation_date": 1427291110, "answer_id": 29257484, "question_id": 29257367, "link": "https://stackoverflow.com/questions/29257367/creating-a-rails-app-in-windows/29257484#29257484", "title": "Creating a Rails app in Windows", "body": "<p>First message: </p>\n\n<blockquote>\n  <p>DL is deprecated, please use Fiddle Fetching gem metadata ..</p>\n</blockquote>\n\n<p>is a warning message. You read about it <a href=\"https://stackoverflow.com/a/15601984/3035830\">here</a>.</p>\n\n<p>The main error is encountered while installing rake.</p>\n\n<blockquote>\n  <p>An error occurred while installing rake (10.4.2), and Bundler cannot\n  continue. Make sure that  gem install rake -v '10.4.2' succeeds before\n  bundling.</p>\n</blockquote>\n\n<p>To solve this, you should first update Rubygems:</p>\n\n<pre><code>gem update --system\n</code></pre>\n\n<p>And then update Bundler:</p>\n\n<pre><code>gem install bundler\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4365, "user_id": 3275167, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2d5b6485571a870043f694cfb979eefa?s=128&d=identicon&r=PG&f=1", "display_name": "coderz", "link": "https://stackoverflow.com/users/3275167/coderz"}, "is_accepted": false, "score": 0, "last_activity_date": 1427291294, "last_edit_date": 1495541197, "creation_date": 1427291294, "answer_id": 29257563, "question_id": 29257367, "link": "https://stackoverflow.com/questions/29257367/creating-a-rails-app-in-windows/29257563#29257563", "title": "Creating a Rails app in Windows", "body": "<p>I simply run</p>\n\n<pre><code>gem update --system\n</code></pre>\n\n<p>and it fixed. More info please check <a href=\"https://stackoverflow.com/questions/10246023/bundle-install-fails-with-ssl-certificate-verification-error\">bundle install fails with SSL certificate verification error</a></p>\n"}, {"comments": [{"owner": {"reputation": 660, "user_id": 4765229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed691896ec0e5fab87f8d9c8a9f10ea5?s=128&d=identicon&r=PG&f=1", "display_name": "Yami Medina", "link": "https://stackoverflow.com/users/4765229/yami-medina"}, "edited": false, "score": 0, "creation_date": 1443889548, "post_id": 29261585, "comment_id": 53676007, "body": "Online IDEs like Nitrous and c9.io acting like Linux are the way to go...I have to use Windows at both work and home, and it was the easiest way."}], "tags": [], "owner": {"reputation": 2276, "user_id": 4164651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100004012909097/picture?type=large", "display_name": "Edmund Lee", "link": "https://stackoverflow.com/users/4164651/edmund-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1427301920, "last_edit_date": 1495540704, "creation_date": 1427301920, "answer_id": 29261585, "question_id": 29257367, "link": "https://stackoverflow.com/questions/29257367/creating-a-rails-app-in-windows/29261585#29261585", "title": "Creating a Rails app in Windows", "body": "<p>This link could be helpful.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17060886/creating-a-ruby-on-rails-environment-on-windows-in-a-vm-vagrant-box\">Creating a Ruby on Rails environment on Windows, in a VM Vagrant Box</a></p>\n\n<p>Instead of install ROR directly onto Windows, you might want to use a Linux like OS. Not because Rails environment cannot be setup in Windows. But all the problems you will encounter, especially when most of tools are designed for that when you are not using a Linux like OS and try to mimic that.</p>\n\n<p>But I highly recommend you skip doing all that if you are just trying to learn, and use Nitrous.io, which is an online IDE that gives you all the tool.\nIMHO, dealing with Windows in this case is a waste of time.</p>\n"}], "owner": {"reputation": 11, "user_id": 4712297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565a764150e833dd24a3aa6d69a44a73?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus van der Neut", "link": "https://stackoverflow.com/users/4712297/marcus-van-der-neut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1443883570, "creation_date": 1427290817, "last_edit_date": 1427290909, "question_id": 29257367, "link": "https://stackoverflow.com/questions/29257367/creating-a-rails-app-in-windows", "title": "Creating a Rails app in Windows", "body": "<p>I have been trying to install Rails on my Windows PC for the past days. I got the bundle from www.railsinstaller.org and it installed great. When creating a new application I can see that all the app files are created then I get the following error:</p>\n\n<pre><code>  bundle install\n</code></pre>\n\n<blockquote>\n  <p>DL is deprecated, please use Fiddle Fetching gem metadata from\n  <a href=\"https://rubygems.org/\" rel=\"nofollow\">https://rubygems.org/</a>.......... Resolving dependencies... \n  Gem::RemoteFetcher::FetchError: SSL_connect returned=1 errno=0\n  state=SSLv3 read server certificate B : certificate verify failed\n  (<a href=\"https://rubygems.org/gems/rake-10.4.2.gem\" rel=\"nofollow\">https://rubygems.org/gems/rake-10.4.2.gem</a>) An error occurred while\n  installing rake (10.4.2), and Bundler cannot continue. Make sure that\n  <code>gem install rake -v '10.4.2'</code> succeeds before bundling.</p>\n</blockquote>\n\n<p>Hoping someone can help with resolving this.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 1374, "user_id": 525616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e3b794bd899226a8958ec92ffa24d2?s=128&d=identicon&r=PG", "display_name": "dentarg", "link": "https://stackoverflow.com/users/525616/dentarg"}, "edited": false, "score": 0, "creation_date": 1435274608, "post_id": 29257297, "comment_id": 50145276, "body": "Same questions as <a href=\"http://stackoverflow.com/questions/14391312/openssl-neither-pub-key-nor-priv-key-nested-asn1-error\" title=\"openssl neither pub key nor priv key nested asn1 error\">stackoverflow.com/questions/14391312/&hellip;</a>"}], "owner": {"reputation": 1070, "user_id": 2963716, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/818579164/picture?type=large", "display_name": "Acacia", "link": "https://stackoverflow.com/users/2963716/acacia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2716, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1427291463, "creation_date": 1427290682, "last_edit_date": 1427291463, "question_id": 29257297, "link": "https://stackoverflow.com/questions/29257297/opensslpkeyrsaerror-neither-pub-key-nor-priv-key-nested-asn1-error", "title": "OpenSSL::PKey::RSAError: Neither PUB key nor PRIV key:: nested asn1 error", "body": "<p>I have a public key shared with me by one of the vendors. \nI have a model method that looks like this;</p>\n\n<pre><code>def self.decode_signature(signature)      \n      public_key = OpenSSL::PKey::RSA.new(File.read(Rails.root.join(\"public/certificate.pem\")))\n      string = public_key.private_decrypt(Base64.decode64(signature))\n      return string\n  end\n</code></pre>\n\n<p>However when i run it, it returns the error <strong>OpenSSL::PKey::RSAError: Neither PUB key nor PRIV key:: nested asn1 error</strong></p>\n\n<p>I have tried a couple of things in vain including .crt, .der.</p>\n\n<p>Environment: Rails 3.1.2 and Ruby 1.9.3</p>\n\n<p>Assistance is welcome!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "validation"], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 1250810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9aeb78094d2f38e3e34fa3af0df85f?s=128&d=identicon&r=PG", "display_name": "rowend", "link": "https://stackoverflow.com/users/1250810/rowend"}, "is_accepted": false, "score": 0, "last_activity_date": 1616177542, "creation_date": 1616177542, "answer_id": 66713598, "question_id": 29257100, "link": "https://stackoverflow.com/questions/29257100/accessing-rails-validation-context-outside-of-validations/66713598#66713598", "title": "Accessing rails validation context outside of validations", "body": "<p>Maybe it is a little late for the party.</p>\n<p>I was able to use in the callback <code>before_validation</code> the method <code>validation_context</code> and it includes the contexts.</p>\n<p>Rails version: 6.1.3</p>\n<p>Ruby version: 2.7.2</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 10803650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ddde3d70e9cfd9e750862f744fcc70?s=128&d=identicon&r=PG&f=1", "display_name": "lnuikcek85", "link": "https://stackoverflow.com/users/10803650/lnuikcek85"}, "is_accepted": false, "score": 0, "last_activity_date": 1616202407, "creation_date": 1616202407, "answer_id": 66717352, "question_id": 29257100, "link": "https://stackoverflow.com/questions/29257100/accessing-rails-validation-context-outside-of-validations/66717352#66717352", "title": "Accessing rails validation context outside of validations", "body": "<p>You could just write your own methods to carry out the same actions as the validations you want to use.</p>\n"}], "owner": {"reputation": 3514, "user_id": 803804, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/lNNNT.jpg?s=128&g=1", "display_name": "Paul Odeon", "link": "https://stackoverflow.com/users/803804/paul-odeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1616202407, "creation_date": 1427290191, "question_id": 29257100, "link": "https://stackoverflow.com/questions/29257100/accessing-rails-validation-context-outside-of-validations", "title": "Accessing rails validation context outside of validations", "body": "<p>I would like to use the rails validation contexts outside of the validations themselves, specifically in callbacks.</p>\n\n<p>I can see in the source code of the valid? method that internally a validation_context attr_accessor is used but it seems to always be nil.</p>\n\n<p>Looking at the rails source it seems that there is no way it will be anything but nil so perhaps it is a bug in rails? </p>\n\n<p><a href=\"https://github.com/rails/rails/blob/master/activemodel/lib/active_model/validations.rb#L331\" rel=\"nofollow\">https://github.com/rails/rails/blob/master/activemodel/lib/active_model/validations.rb#L331</a></p>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1427289693, "post_id": 29256681, "comment_id": 46716325, "body": "<code>if current_user.seeker_info &amp;&amp; current_user.seeker_info.image?</code>"}, {"owner": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "reply_to_user": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1427290079, "post_id": 29256681, "comment_id": 46716617, "body": "hey , thank you Santosh..it worked : )"}, {"owner": {"reputation": 598, "user_id": 1019579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3iQz.jpg?s=128&g=1", "display_name": "bsvin33t", "link": "https://stackoverflow.com/users/1019579/bsvin33t"}, "edited": false, "score": 0, "creation_date": 1427290539, "post_id": 29256681, "comment_id": 46716968, "body": "Usually It is preferred to use a decorator here. You have to create a <code>UserDecorator</code> and get the <code>image_url</code> from there. It will allow you to separate the view concerns from your domain."}], "answers": [{"tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1427290210, "creation_date": 1427290210, "answer_id": 29257109, "question_id": 29256681, "link": "https://stackoverflow.com/questions/29256681/nomethoderror-rails-4/29257109#29257109", "title": "NoMethodError rails 4", "body": "<pre><code>undefined method `image' for nil : Nil Class\n</code></pre>\n\n<p>This error means that you are calling a method <code>image</code> on a <code>nil</code> object.</p>\n\n<p>Modify the condition to check if both <code>seeker_info</code> and <code>seeker_info.image</code> is present.</p>\n\n<pre><code>if current_user.seeker_info &amp;&amp; current_user.seeker_info.image?\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 29257109, "answer_count": 1, "score": 1, "last_activity_date": 1427290210, "creation_date": 1427289162, "last_edit_date": 1427289567, "question_id": 29256681, "link": "https://stackoverflow.com/questions/29256681/nomethoderror-rails-4", "title": "NoMethodError rails 4", "body": "<p>I have user and seeker_info models in my rails 4 app, and the relationship between these two models is one-to-one that is user has_one seeker_info.user has to fill up his seeker_info after sign up.i have image field in my seeker_info model and i am displaying user's image on my page's header part before user's name. but after sign up i am getting below error. the problem is that after sign up, seeker_info model is empty , because only after successful sign up user can fill his seeker_info details.</p>\n\n<pre><code>undefined method `image' for nil : Nil Class\n</code></pre>\n\n<p>this is my code </p>\n\n<pre><code>&lt;%= image_tag current_user.seeker_info.image_url.to_s, :class=&gt;\"img-profile\" if current_user.seeker_info.image? %&gt; \n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "tdd", "capybara"], "comments": [{"owner": {"reputation": 1910, "user_id": 676788, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/16dfcfaa3f6405e9572cea3f88a68c56?s=128&d=identicon&r=PG", "display_name": "Nafaa Boutefer", "link": "https://stackoverflow.com/users/676788/nafaa-boutefer"}, "edited": false, "score": 0, "creation_date": 1427387844, "post_id": 29255355, "comment_id": 46765802, "body": "can you give an id for each checkbox. this will make things a lot easier."}, {"owner": {"reputation": 128, "user_id": 4473176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ejBjhYLdPxo/AAAAAAAAAAI/AAAAAAAAABE/W24XW-RqgaI/photo.jpg?sz=128", "display_name": "gilesdotcodes", "link": "https://stackoverflow.com/users/4473176/gilesdotcodes"}, "reply_to_user": {"reputation": 1910, "user_id": 676788, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/16dfcfaa3f6405e9572cea3f88a68c56?s=128&d=identicon&r=PG", "display_name": "Nafaa Boutefer", "link": "https://stackoverflow.com/users/676788/nafaa-boutefer"}, "edited": false, "score": 0, "creation_date": 1427444415, "post_id": 29255355, "comment_id": 46787708, "body": "i&#39;m working on view files that I didn&#39;t create and I didn&#39;t think I was able to edit. They did not have IDs and they had the same class. I think i&#39;m going to have to add IDs to them to solve this. Thanks for your help though."}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 4473176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ejBjhYLdPxo/AAAAAAAAAAI/AAAAAAAAABE/W24XW-RqgaI/photo.jpg?sz=128", "display_name": "gilesdotcodes", "link": "https://stackoverflow.com/users/4473176/gilesdotcodes"}, "edited": false, "score": 0, "creation_date": 1427377996, "post_id": 29255733, "comment_id": 46758318, "body": "Apologies, but this doesn&#39;t seem to be working: <code>Failure&#47;Error: find(&#39;input[type=&quot;checkbox&quot;]:nth-child(1)&#39;).click</code>      <code>Capybara::ElementNotFound:</code>        <code>Unable to find css &quot;input[type=\\&quot;checkbox\\&quot;]:nth-child(1)&quot;</code>"}], "tags": [], "owner": {"reputation": 1910, "user_id": 676788, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/16dfcfaa3f6405e9572cea3f88a68c56?s=128&d=identicon&r=PG", "display_name": "Nafaa Boutefer", "link": "https://stackoverflow.com/users/676788/nafaa-boutefer"}, "is_accepted": false, "score": 0, "last_activity_date": 1427286627, "creation_date": 1427286627, "answer_id": 29255733, "question_id": 29255355, "link": "https://stackoverflow.com/questions/29255355/capybara-finding-a-second-checkbox-which-is-identical-to-the-first/29255733#29255733", "title": "Capybara: Finding a second checkbox which is identical to the first", "body": "<p>try this</p>\n\n<pre><code># find the second checkbox\nfind('input[type=\"checkbox\"]:nth-child(2)').click\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 128, "user_id": 4473176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ejBjhYLdPxo/AAAAAAAAAAI/AAAAAAAAABE/W24XW-RqgaI/photo.jpg?sz=128", "display_name": "gilesdotcodes", "link": "https://stackoverflow.com/users/4473176/gilesdotcodes"}, "edited": false, "score": 0, "creation_date": 1427377829, "post_id": 29264667, "comment_id": 46758208, "body": "Apologies, but this doesn&#39;t seem to be working: <code>Failure&#47;Error: all(&#39;input[type=&quot;checkbox&quot;]&#39;, :text =&gt; &#39;Select all&#39;)[1].click</code>     <code>NoMethodError:</code>        <code>undefined method `click&#39; for nil:NilClass&#39;</code>"}, {"owner": {"reputation": 727, "user_id": 4024964, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t0rq7.png?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/4024964/phil"}, "reply_to_user": {"reputation": 128, "user_id": 4473176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ejBjhYLdPxo/AAAAAAAAAAI/AAAAAAAAABE/W24XW-RqgaI/photo.jpg?sz=128", "display_name": "gilesdotcodes", "link": "https://stackoverflow.com/users/4473176/gilesdotcodes"}, "edited": false, "score": 0, "creation_date": 1427389906, "post_id": 29264667, "comment_id": 46767114, "body": "@HatStephensWork - Nafaa and I took a complete guess at how to identify the checkbox in your HTML.  It&#39;s possible that it&#39;s something completely different.  You&#39;ll need to inspect and see whether your checkbox has some kind of ID or div that you can actually click on."}], "tags": [], "owner": {"reputation": 727, "user_id": 4024964, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t0rq7.png?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/4024964/phil"}, "is_accepted": false, "score": 0, "last_activity_date": 1427311233, "creation_date": 1427311233, "answer_id": 29264667, "question_id": 29255355, "link": "https://stackoverflow.com/questions/29255355/capybara-finding-a-second-checkbox-which-is-identical-to-the-first/29264667#29264667", "title": "Capybara: Finding a second checkbox which is identical to the first", "body": "<p>You can use find all</p>\n\n<pre><code>all('input[type=\"checkbox\"]', :text =&gt; 'Select all')[1].click\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 4473176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ejBjhYLdPxo/AAAAAAAAAAI/AAAAAAAAABE/W24XW-RqgaI/photo.jpg?sz=128", "display_name": "gilesdotcodes", "link": "https://stackoverflow.com/users/4473176/gilesdotcodes"}, "is_accepted": true, "score": 0, "last_activity_date": 1437494153, "creation_date": 1437494153, "answer_id": 31543996, "question_id": 29255355, "link": "https://stackoverflow.com/questions/29255355/capybara-finding-a-second-checkbox-which-is-identical-to-the-first/31543996#31543996", "title": "Capybara: Finding a second checkbox which is identical to the first", "body": "<p>Whoops. Turns out it was a JS issue and not Capybara macthers! Thanks for the help though!</p>\n"}], "owner": {"reputation": 128, "user_id": 4473176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ejBjhYLdPxo/AAAAAAAAAAI/AAAAAAAAABE/W24XW-RqgaI/photo.jpg?sz=128", "display_name": "gilesdotcodes", "link": "https://stackoverflow.com/users/4473176/gilesdotcodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 0, "accepted_answer_id": 31543996, "answer_count": 3, "score": 0, "last_activity_date": 1437494153, "creation_date": 1427285596, "last_edit_date": 1427973239, "question_id": 29255355, "link": "https://stackoverflow.com/questions/29255355/capybara-finding-a-second-checkbox-which-is-identical-to-the-first", "title": "Capybara: Finding a second checkbox which is identical to the first", "body": "<p>I am writing tests for view files. I have a page with two checkboxes which allows the user to Select All items in two different lists. However, the checkboxes are part of a partial so are identical. I have managed to check the first one using:</p>\n\n<pre><code>first(:checkbox, \"Select all\").click\n</code></pre>\n\n<p>But I am unable to check the second. I have tried replacing <code>first</code> with <code>last</code> and with <code>second</code> but to no avail.\nI think I may need to use the <code>find</code> selector but am struggling with that also. Any help much appreciated.\nThanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It appears that this in fact <strong>another issue</strong>. I <em>think</em> that any checkbox that impacts on other checkboxes does not work as expected when \"checked\" by Capybara. So the current answers below work in the sense that they do check the checkbox, but the expected behaviour does not occur i.e. the checkboxes linked to them do not get \"checked\". I may be wrong though.</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1427284591, "post_id": 29254604, "comment_id": 46712834, "body": "Tl:dr but can&#39;t you just call function 2 at the end of function 1?"}, {"owner": {"reputation": 59, "user_id": 3910236, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ac68b2c54460701095b0ff73b5580912?s=128&d=identicon&r=PG&f=1", "display_name": "sNOWsYSTEM", "link": "https://stackoverflow.com/users/3910236/snowsystem"}, "reply_to_user": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1427285892, "post_id": 29254604, "comment_id": 46713679, "body": "How would I do that could you show me? @Max Williams"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 3910236, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ac68b2c54460701095b0ff73b5580912?s=128&d=identicon&r=PG&f=1", "display_name": "sNOWsYSTEM", "link": "https://stackoverflow.com/users/3910236/snowsystem"}, "edited": false, "score": 0, "creation_date": 1427287400, "post_id": 29255763, "comment_id": 46714705, "body": "I tried that but its seeing the person_id field as null..   Manager Load (40.6ms)  SELECT  &quot;EMP_DIRECT&quot;.* FROM &quot;EMP_DIRECT&quot;  WHERE &quot;EMP_DIRECT&quot;.&quot;PERSON_ID&quot; IS NULL AND ROWNUM &lt;= 1 @Ronak Jain"}], "tags": [], "owner": {"reputation": 1573, "user_id": 1298784, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b4b47ba716148b3bb8cc62f6982d9c5a?s=128&d=identicon&r=PG", "display_name": "Ronak Jain", "link": "https://stackoverflow.com/users/1298784/ronak-jain"}, "is_accepted": true, "score": 1, "last_activity_date": 1427287596, "last_edit_date": 1427287596, "creation_date": 1427286713, "answer_id": 29255763, "question_id": 29254604, "link": "https://stackoverflow.com/questions/29254604/is-there-a-way-to-string-these-together-so-they-work-together-at-the-same-time-b/29255763#29255763", "title": "Is there a way to string these together so they work together at the same time basically?", "body": "<p>How about this (Assuming that you have data as object but not array, Even if you do, you can use Enumerable), You don't have to use Javascript Ajax for this, </p>\n\n<pre><code>def populate_form\n  @visual = Visual.find_by_id(params[:emp_id])\n  @emp_first_name = @visual.first_name\n  @person_id = @visual.pds_alias\n  @manager_name = Manager.find_by_person_id(@person_id).mgr_name\n\n    render :json =&gt; {\n\n        :emp_first_name =&gt; @emp_first_name,\n        :person_id =&gt; @person_id,\n        :mgr_first_name =&gt; @manager_name\n\n    }\n end\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 3910236, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ac68b2c54460701095b0ff73b5580912?s=128&d=identicon&r=PG&f=1", "display_name": "sNOWsYSTEM", "link": "https://stackoverflow.com/users/3910236/snowsystem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29255763, "answer_count": 1, "score": -1, "last_activity_date": 1523796003, "creation_date": 1427283526, "last_edit_date": 1523796003, "question_id": 29254604, "link": "https://stackoverflow.com/questions/29254604/is-there-a-way-to-string-these-together-so-they-work-together-at-the-same-time-b", "title": "Is there a way to string these together so they work together at the same time basically?", "body": "<p>In my Rails application.js I have two javascripts what they do is autopopulate my sign up form. The first one is based off what gets put into my emp_id text_field once something is put in there and it matches with what I have in my other table it will pull the user's first name and person_id and place them in the appropriate text_fields. Now I have a my second javascript that looks at the data in person_id text_field because now from the first javascript it has data in it But, the only way to get this second one to work is if I change a number and hit tab then it will fill in my manager_first_name text_field ...Is there a way to have the first javascript pull the initial data then the second one react to data automatically with out me have to click on it or change person_id text_field?</p>\n\n<p>This is my controller for user these are the methods in my javascipts.</p>\n\n<p>class UserController &lt; ApplicationController</p>\n\n<pre><code> def populate_form\n  @visual = Visual.find_by_id(params[:emp_id])\n  @emp_first_name = @visual.first_name\n  @person_id = @visual.pds_alias\n\n    render :json =&gt; {\n\n        :emp_first_name =&gt; @emp_first_name,\n        :person_id =&gt; @person_id\n\n    }\n\n  end\n\n  def populate_manager\n    @manager = Manager.find_by_person_id(params[:person_id])\n    @mgr_first_name = @manager.mgr_name\n\n     render :json =&gt; {\n\n        :mgr_first_name =&gt; @mgr_first_name\n     }\n\n   end\n end\n</code></pre>\n\n<p>Here is my view </p>\n\n<pre><code>&lt;div class='row form-group'&gt;\n   &lt;div class='col-xs-8 col-xs-offset-2 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-2 col-lg-offset-5 text-right'&gt;\n    &lt;%= f.text_field :emp_id, tabindex: 1, id: 'emp_id', autofocus: true, placeholder: t( 'login_label' ), class: 'form-control' %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n &lt;div class='row form-group'&gt;\n  &lt;div class='col-xs-8 col-xs-offset-2 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-2 col-lg-offset-5 text-right'&gt;\n    &lt;%= f.text_field :emp_first_name, tabindex: 1, id: 'emp_first_name', autofocus: true, placeholder: t( 'login_label' ), class: 'form-control' %&gt;\n   &lt;/div&gt;\n &lt;/div&gt;\n\n\n\n &lt;div class='row form-group'&gt;\n  &lt;div class='col-xs-8 col-xs-offset-2 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-2 col-lg-offset-5 text-right'&gt;\n    &lt;%= f.text_field :person_id, tabindex: 1, id: 'person_id', autofocus: true, placeholder: t( 'login_label' ), class: 'form-control' %&gt;\n   &lt;/div&gt;\n &lt;/div&gt;\n\n\n\n &lt;div class='row form-group'&gt;\n  &lt;div class='col-xs-8 col-xs-offset-2 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-2 col-lg-offset-5 text-right'&gt;\n    &lt;%= f.text_field :mgr_first_name, tabindex: 1, id: 'mgr_first_name', autofocus: true, placeholder: t( 'login_label' ), class: 'form-control' %&gt;\n   &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>And here is my App.js</p>\n\n<pre><code> $(document).ready(function(){\n\n   $('#emp_id').change(function() {\n         var url = \"/user/populate_form?emp_id=\"+$(this).val();\n         $.getJSON(url, function(data) {\n           if(!(data.emp_first_name === undefined))\n           $('#emp_first_name').val(data.emp_first_name);\n           if(!(data.person_id === undefined))\n           $('#person_id').val(data.person_id);\n         });\n       }\n     );\n   });\n\n$(document).ready(function(){\n\n    $('#person_id').click(function() {\n         var url = \"/user/populate_manager?person_id=\"+$(this).val();\n         $.getJSON(url, function(data) {\n           if(!(data.mgr_first_name === undefined))\n           $('#mgr_first_name').val(data.mgr_first_name);\n         });\n       }\n     );\n   });\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "json", "grape-api"], "comments": [{"owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "edited": false, "score": 0, "creation_date": 1427286798, "post_id": 29254486, "comment_id": 46714311, "body": "Use grape entity - <a href=\"https://github.com/intridea/grape-entity\" rel=\"nofollow noreferrer\">github.com/intridea/grape-entity</a> for exposing specific attributes."}], "answers": [{"comments": [{"owner": {"reputation": 5695, "user_id": 3003432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/835081031b807fb7f1bc8eb683dd4626?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.D", "link": "https://stackoverflow.com/users/3003432/mr-d"}, "edited": false, "score": 0, "creation_date": 1427285440, "post_id": 29255207, "comment_id": 46713323, "body": "It prints JSON with all attributes. I want only specific."}, {"owner": {"reputation": 423, "user_id": 1938491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f9f0daaf18d089a2a47a23b44cc43390?s=128&d=identicon&r=PG", "display_name": "ROR", "link": "https://stackoverflow.com/users/1938491/ror"}, "reply_to_user": {"reputation": 5695, "user_id": 3003432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/835081031b807fb7f1bc8eb683dd4626?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.D", "link": "https://stackoverflow.com/users/3003432/mr-d"}, "edited": false, "score": 0, "creation_date": 1427287745, "post_id": 29255207, "comment_id": 46714927, "body": "I am using map so it prints only specifics."}], "tags": [], "owner": {"reputation": 423, "user_id": 1938491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f9f0daaf18d089a2a47a23b44cc43390?s=128&d=identicon&r=PG", "display_name": "ROR", "link": "https://stackoverflow.com/users/1938491/ror"}, "is_accepted": true, "score": 1, "last_activity_date": 1427285182, "creation_date": 1427285182, "answer_id": 29255207, "question_id": 29254486, "link": "https://stackoverflow.com/questions/29254486/rails-grape-create-custom-json-from-collection/29255207#29255207", "title": "Rails, Grape create custom JSON from collection", "body": "<p>Please try this code.</p>\n\n<pre><code>list = my_collection.map do |element|\n           { :id =&gt; element.id,\n             :name =&gt; element.email\n           }\n       end\n\nlist.to_json\n</code></pre>\n"}], "owner": {"reputation": 5695, "user_id": 3003432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/835081031b807fb7f1bc8eb683dd4626?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.D", "link": "https://stackoverflow.com/users/3003432/mr-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 29255207, "answer_count": 1, "score": 0, "last_activity_date": 1427285182, "creation_date": 1427283165, "last_edit_date": 1427283677, "question_id": 29254486, "link": "https://stackoverflow.com/questions/29254486/rails-grape-create-custom-json-from-collection", "title": "Rails, Grape create custom JSON from collection", "body": "<p>I started to learn how to use Grape. I have collection with a lot of attributes and want only some of them. I did something like this:</p>\n\n<pre><code>get :all_elements do\n    [\n      my_collection.each do |element|\n          {\n           id: element.id,\n           name: element.name\n          }\n      end\n    ]\nend\n</code></pre>\n\n<p>However this is not working. How can I create custom json array from collection?</p>\n"}, {"tags": ["ruby", "arrays", "iteration"], "comments": [{"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 2, "creation_date": 1427283410, "post_id": 29254481, "comment_id": 46712076, "body": "You haven&#39;t specified the language you&#39;re using (Ruby perhaps?), but you probably want to use <code>if wn.length % 3 == 0</code>."}, {"owner": {"reputation": 2222, "user_id": 2339551, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/48e00397ce26346f40c9f76d86e6e7f4?s=128&d=identicon&r=PG", "display_name": "lodo", "link": "https://stackoverflow.com/users/2339551/lodo"}, "edited": false, "score": 1, "creation_date": 1427283431, "post_id": 29254481, "comment_id": 46712093, "body": "Please, add the tag of the programming language you are using, to gain attention from experts of that language."}], "answers": [{"comments": [{"owner": {"reputation": 1380, "user_id": 1811541, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1QGHJ.png?s=128&g=1", "display_name": "MBJH", "link": "https://stackoverflow.com/users/1811541/mbjh"}, "edited": false, "score": 0, "creation_date": 1427289804, "post_id": 29255414, "comment_id": 46716408, "body": "Thank you. This is just what I needed :)"}], "tags": [], "owner": {"reputation": 14364, "user_id": 1023609, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14cd00b085c207261db49ac46be4773c?s=128&d=identicon&r=PG", "display_name": "MurifoX", "link": "https://stackoverflow.com/users/1023609/murifox"}, "is_accepted": true, "score": 1, "last_activity_date": 1427285769, "creation_date": 1427285769, "answer_id": 29255414, "question_id": 29254481, "link": "https://stackoverflow.com/questions/29254481/iteration-and-array/29255414#29255414", "title": "Iteration and array", "body": "<p>A simple solution:</p>\n\n<pre><code>a1 = []\na2 = []\na3 = []\n1.upto(9) do |i|\n  if a1.empty? || a1.size &lt; 3\n    a1 &lt;&lt; gets.chomp!\n  elsif a2.size &lt; 3 \n    a2 &lt;&lt; gets.chomp!\n  else\n    a3 &lt;&lt; gets.chomp!\n  end\nend\nputs a1\nputs a2\nputs a3\n</code></pre>\n\n<p>Create the 3 arrays, iterate 9 times, create conditions to populate them.</p>\n"}, {"comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 1, "creation_date": 1427286654, "post_id": 29255650, "comment_id": 46714229, "body": "That first one could be made simpler: <code>&quot;abcdefghi&quot;.chars.each_slice(3).to_a</code>"}], "tags": [], "owner": {"reputation": 4422, "user_id": 1202525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc5db30edf02524aa2a0fb17d154bf8?s=128&d=identicon&r=PG", "display_name": "TomDunning", "link": "https://stackoverflow.com/users/1202525/tomdunning"}, "is_accepted": false, "score": 1, "last_activity_date": 1427286410, "creation_date": 1427286410, "answer_id": 29255650, "question_id": 29254481, "link": "https://stackoverflow.com/questions/29254481/iteration-and-array/29255650#29255650", "title": "Iteration and array", "body": "<p>Do you have to iterate? you could always break your string by length, like so:</p>\n\n<pre><code>\"abcdefghi\".scan(/.{3}/).map{|i| i.split('')} # =&gt; [[\"a\", \"b\", \"c\"], [\"d\", \"e\", \"f\"], [\"g\", \"h\", \"i\"]]\n</code></pre>\n\n<p>If you really must iterate:</p>\n\n<pre><code>1.upto(9) do\n xxx = gets.chomp\n wn &lt;&lt; xxx\n if wn.length % 3 == 0 \n   puts wn.inspect\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "is_accepted": false, "score": 0, "last_activity_date": 1427288792, "creation_date": 1427288792, "answer_id": 29256543, "question_id": 29254481, "link": "https://stackoverflow.com/questions/29254481/iteration-and-array/29256543#29256543", "title": "Iteration and array", "body": "<p>I think nested loops are a clean solution for you.</p>\n\n<pre><code>a = [[],[],[]]\n3.times do |i|\n  3.times { |j| a[i][j] = gets.strip }\n  puts a[i].inspect\nend\n</code></pre>\n"}], "owner": {"reputation": 1380, "user_id": 1811541, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1QGHJ.png?s=128&g=1", "display_name": "MBJH", "link": "https://stackoverflow.com/users/1811541/mbjh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 29255414, "answer_count": 3, "score": 0, "last_activity_date": 1427288792, "creation_date": 1427283151, "last_edit_date": 1427285257, "question_id": 29254481, "link": "https://stackoverflow.com/questions/29254481/iteration-and-array", "title": "Iteration and array", "body": "<p>How do I iterate 9 times and produce three arrays like this:</p>\n\n<pre><code>1 a\n2 b\n3 c\n[\"a\",\"b\",\"c\"]\n\n4 d\n5 e\n6 f\n[\"d\",\"e\",\"f\"]\n\n7 g\n8 h\n9 i\n[\"g\",\"h\",\"i\"]  ?\n-------------------------------------\n1.upto(9) do\n xxx = gets.chomp\n  wn &lt;&lt; xxx\nif wn.length ==3\nputs wn.inspect\n\nend\nend\n------------------------------------\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>a\nb\nc\n[\"a\", \"b\", \"c\"]\nd\ne\nf\ng\nh\ni\n</code></pre>\n\n<p>Not the results I hoped for :(</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "database"], "answers": [{"tags": [], "owner": {"reputation": 413, "user_id": 1437550, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ef9b06db7c6ff891c865c61f4c768e1d?s=128&d=identicon&r=PG&f=1", "display_name": "SRDP", "link": "https://stackoverflow.com/users/1437550/srdp"}, "is_accepted": false, "score": 1, "last_activity_date": 1427283995, "last_edit_date": 1427283995, "creation_date": 1427283556, "answer_id": 29254618, "question_id": 29254477, "link": "https://stackoverflow.com/questions/29254477/error-while-rake-dbseed-prefilling-database-uninitialized-constant-clients-co/29254618#29254618", "title": "Error while rake db:seed, prefilling database. uninitialized constant Clients_courses", "body": "<ul>\n<li>Create a model  ClientsCourse<br>\nie in app/model/clients_course.rb</li>\n<li><p>Inside the file add line below and save</p>\n\n<pre><code>class ClientsCourse   &lt; ActiveRecord::Base\n\nend\n</code></pre></li>\n<li><p>Correct the line as below</p>\n\n<pre><code> ClientsCourse.create(:client_id =&gt; 6, :course_id =&gt; 2)\n</code></pre></li>\n</ul>\n\n<p>Hope that helps</p>\n"}, {"comments": [{"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1427290533, "post_id": 29254621, "comment_id": 46716966, "body": "Additional quastion. If I do <code>Client.create( :id =&gt; </code>  The id is an autoincrement column in database. But the values I add to database need to have a special id for example it coudln&#39;t start with 1 . in this case it I need to set up a client id 2 client id 10 ...   Is that possiblie? ... If I do <code>Client.create( :id =&gt; 10</code> it automatically set it to one"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1427291279, "post_id": 29254621, "comment_id": 46717505, "body": "also not working is this: <code>:active =&gt; 1</code> colum is tinyint on database and every time i run rake db:seed the value is set to <code>0</code>"}, {"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1427291685, "post_id": 29254621, "comment_id": 46717829, "body": "@Felix it is a bad idea to manipulate with primary key. Much better approach is to create new field and use it for your special purposes. Sorry, but I didn&#39;t understand your last question. I can&#39;t tell anything unless you show db scheme and code for both models."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1427301911, "post_id": 29254621, "comment_id": 46725181, "body": "in the table users I have an column called <code>active</code> withe datatype tinyint. so now I want to store with the seeds.rb int values <code>User.create([                 {                     :id =&gt; 1,                     :firstname =&gt; &#39;Felix&#39;,                     :lastname =&gt; &#39;Hohlwegler&#39;, :active =&gt; 1}]) </code> but it dosn&#39;t store 1. It always stores 0 in database."}, {"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1427302068, "post_id": 29254621, "comment_id": 46725278, "body": "@Felix this is unrelated to initial question, but try this: <code>User.create({ :id =&gt; 1, :firstname =&gt; &#39;Felix&#39;, :lastname =&gt; &#39;Hohlwegler&#39;, :active =&gt; true })</code>"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1427316875, "post_id": 29254621, "comment_id": 46734333, "body": "yeah I know its a different question. I&#39;ve started a new question  <a href=\"http://stackoverflow.com/questions/29266317/problems-during-rake-dbseed-value-dosnt-set-correctly\" title=\"problems during rake dbseed value dosnt set correctly\">stackoverflow.com/questions/29266317/&hellip;</a>"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1427325572, "post_id": 29254621, "comment_id": 46738113, "body": "this: <code>Client.find(6).courses &lt;&lt; Course.find(2)</code> is a n:m relationship right? ... how can I realize a 1:n relationship?"}], "tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1427283557, "creation_date": 1427283557, "answer_id": 29254621, "question_id": 29254477, "link": "https://stackoverflow.com/questions/29254477/error-while-rake-dbseed-prefilling-database-uninitialized-constant-clients-co/29254621#29254621", "title": "Error while rake db:seed, prefilling database. uninitialized constant Clients_courses", "body": "<p>You should have corresponding model to manipulate data like this. For <code>users</code> table you usually have <code>User</code> model. In your case you either have <code>ClientsCourses</code> or <code>ClientsCourse</code> model, or, assuming you have <code>:has_and_belongs_to_many</code> association there is no such model.</p>\n\n<p>And in this case, the only way to do what you want is to use existing ones(<code>Client</code> and <code>Course</code>):</p>\n\n<pre><code> Client.find(6).courses &lt;&lt; Course.find(2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "is_accepted": false, "score": 0, "last_activity_date": 1427284220, "creation_date": 1427284220, "answer_id": 29254853, "question_id": 29254477, "link": "https://stackoverflow.com/questions/29254477/error-while-rake-dbseed-prefilling-database-uninitialized-constant-clients-co/29254853#29254853", "title": "Error while rake db:seed, prefilling database. uninitialized constant Clients_courses", "body": "<p>your model name <strong>should</strong> be <code>client_course.rb</code> and a table named <code>client_courses</code></p>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2508, "favorite_count": 0, "accepted_answer_id": 29254621, "answer_count": 3, "score": 2, "last_activity_date": 1427284220, "creation_date": 1427283141, "question_id": 29254477, "link": "https://stackoverflow.com/questions/29254477/error-while-rake-dbseed-prefilling-database-uninitialized-constant-clients-co", "title": "Error while rake db:seed, prefilling database. uninitialized constant Clients_courses", "body": "<p>I want to prefill my database with the db/seeds.rb but got an error during execution.</p>\n\n<p>The schema is loaded and setup perfectly. But when I will prefill the database with rake db:seed i got this error:</p>\n\n<pre><code>uninitialized constant Clients_courses\n</code></pre>\n\n<p>I have got the Table clients_courses in my database schema. So I've tried to prefill it like this:</p>\n\n<pre><code>Clients_courses.create(:client_id =&gt; 6, :course_id =&gt; 2)\n</code></pre>\n\n<p>What's wrong with this? </p>\n\n<p>I've tried it with some other tables as well for example with the users table. But theres the same problem.</p>\n"}, {"tags": ["ruby", "data-structures", "hash"], "answers": [{"tags": [], "owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "is_accepted": true, "score": 5, "last_activity_date": 1427282781, "creation_date": 1427282781, "answer_id": 29254348, "question_id": 29254314, "link": "https://stackoverflow.com/questions/29254314/can-i-use-in-ruby-hash/29254348#29254348", "title": "can i use &quot;:&quot; in ruby hash", "body": "<p>You can't do it. This syntax applies only to <code>Symbol</code> hash keys. What you can do is allow symbol-based hash as an argument to <code>make_request</code> method (or check if it isn't allowed already) - or use <a href=\"http://api.rubyonrails.org/classes/ActiveSupport/HashWithIndifferentAccess.html\"><code>HashWithIndifferentAccess</code></a> from <a href=\"https://rubygems.org/gems/activesupport\"><code>activesupport</code></a> gem. </p>\n"}, {"tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1427283128, "creation_date": 1427283128, "answer_id": 29254467, "question_id": 29254314, "link": "https://stackoverflow.com/questions/29254314/can-i-use-in-ruby-hash/29254467#29254467", "title": "can i use &quot;:&quot; in ruby hash", "body": "<p>You can't do this in ruby &lt; 2.2. But starting from 2.2.0 this is actually a valid syntax:</p>\n\n<pre><code>2.2.0 :001 &gt; { 'a': 'b' }\n =&gt; {:a=&gt;\"b\"}\n</code></pre>\n\n<p>Which, anyway, will convert key into symbol.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4652667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 29254348, "answer_count": 2, "score": 1, "last_activity_date": 1427283128, "creation_date": 1427282676, "last_edit_date": 1427282819, "question_id": 29254314, "link": "https://stackoverflow.com/questions/29254314/can-i-use-in-ruby-hash", "title": "can i use &quot;:&quot; in ruby hash", "body": "<p>Currently i am using the \"=>\" for hash</p>\n\n<pre><code>registrationData = {\n        \"webhook_uri\" =&gt; \"http://148.251.44.168:5000\"\n    }\n\n   puts make_request(\"webhooks\",\"POST\",registrationData)\n</code></pre>\n\n<p>But i want to use \":\" instead of \"=>\" like the below code</p>\n\n<pre><code>    registrationData = {\n    \"webhook_uri\": \"http://148.251.44.168:5000\"\n}\n</code></pre>\n\n<p>But the above code throws error</p>\n\n<pre><code>syntax error, unexpected ':', expecting =&gt;\n\"webhook_uri\": \"http://148.251.44.168:5000\"\n</code></pre>\n\n<p>but seems like api ony accepts this format</p>\n"}, {"tags": ["ruby", "rabbitmq", "message-queue"], "comments": [{"owner": {"reputation": 2873, "user_id": 1929959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/be7c8d8d01d02c41df25100e7f294234?s=128&d=identicon&r=PG", "display_name": "Mihai8", "link": "https://stackoverflow.com/users/1929959/mihai8"}, "edited": false, "score": 0, "creation_date": 1427281514, "post_id": 29253828, "comment_id": 46710946, "body": "See tutorial <a href=\"http://rubybunny.info/articles/queues.html\" rel=\"nofollow noreferrer\">rubybunny.info/articles/queues.html</a>."}, {"owner": {"reputation": 690, "user_id": 2992299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y9CzE.jpg?s=128&g=1", "display_name": "CatsLoveJazz", "link": "https://stackoverflow.com/users/2992299/catslovejazz"}, "reply_to_user": {"reputation": 2873, "user_id": 1929959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/be7c8d8d01d02c41df25100e7f294234?s=128&d=identicon&r=PG", "display_name": "Mihai8", "link": "https://stackoverflow.com/users/1929959/mihai8"}, "edited": false, "score": 0, "creation_date": 1427282758, "post_id": 29253828, "comment_id": 46711665, "body": "&quot;Durable queues that are shared by many consumers and have an independent existence: i.e. they will continue to exist and collect messages whether or not there are consumers to receive them.&quot; It seems for me that this is not true if a connection to the server is closed?"}, {"owner": {"reputation": 690, "user_id": 2992299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y9CzE.jpg?s=128&g=1", "display_name": "CatsLoveJazz", "link": "https://stackoverflow.com/users/2992299/catslovejazz"}, "reply_to_user": {"reputation": 2873, "user_id": 1929959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/be7c8d8d01d02c41df25100e7f294234?s=128&d=identicon&r=PG", "display_name": "Mihai8", "link": "https://stackoverflow.com/users/1929959/mihai8"}, "edited": false, "score": 0, "creation_date": 1427282858, "post_id": 29253828, "comment_id": 46711722, "body": "&quot;shared message queues that are deleted when the last of many consumers disconnects.&quot; - How do I avoid this behaviour?"}], "owner": {"reputation": 690, "user_id": 2992299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y9CzE.jpg?s=128&g=1", "display_name": "CatsLoveJazz", "link": "https://stackoverflow.com/users/2992299/catslovejazz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427281318, "creation_date": 1427281318, "question_id": 29253828, "link": "https://stackoverflow.com/questions/29253828/rabbitmq-exchange-queues-dissapearing", "title": "RabbitMQ - Exchange/Queues dissapearing", "body": "<p>I am using the Bunny implementation of RabbitMQ messaging</p>\n\n<p>I have a bash script that provisions a durable topic exchange, a number of durable queues and binds them.\nI am using Bunny on both client and server side to send messages between them.</p>\n\n<p>However, I find that on terminating either connection (client/server) that my exchange and queues dissapear. I would like to configure it so that even if the server side fails, the client can still push messages to the queue and they will be processed once the server is back online.</p>\n\n<p>Is this possible  with Bunny/RabbitMQ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 1470, "user_id": 1987461, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/664b3ec09a4053da7ecd919255539b54?s=128&d=identicon&r=PG", "display_name": "borjagvo", "link": "https://stackoverflow.com/users/1987461/borjagvo"}, "edited": false, "score": 0, "creation_date": 1427282061, "post_id": 29253821, "comment_id": 46711271, "body": "Great explanation. Thanks!"}], "tags": [], "owner": {"reputation": 928, "user_id": 1203757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o2qzD.jpg?s=128&g=1", "display_name": "lobanovadik", "link": "https://stackoverflow.com/users/1203757/lobanovadik"}, "is_accepted": true, "score": 1, "last_activity_date": 1427281302, "creation_date": 1427281302, "answer_id": 29253821, "question_id": 29253560, "link": "https://stackoverflow.com/questions/29253560/what-is-the-difference-between-these-two-class-instances/29253821#29253821", "title": "What is the difference between these two class instances?", "body": "<p>It is actually much simplier.\n<code>Moped::Session</code> <a href=\"https://github.com/mongoid/moped/blob/master/lib/moped/session.rb#L146\" rel=\"nofollow\">implements <code>inspect</code> method</a></p>\n\n<pre><code>def inspect\n  \"&lt;#{self.class.name} seeds=#{cluster.seeds} database=#{current_database_name}&gt;\"\nend\n</code></pre>\n\n<p>that's why it looks different. By default <code>inspect</code> includes instance variables as it happens with <code>Moped::Collection</code>.</p>\n\n<p><code>inspect</code> method is called on an object when it is printed with <code>p</code> method, or is returned to console. You can read about <code>inspect</code> <a href=\"http://ruby-doc.org/core-2.2.1/Object.html#method-i-inspect\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 1470, "user_id": 1987461, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/664b3ec09a4053da7ecd919255539b54?s=128&d=identicon&r=PG", "display_name": "borjagvo", "link": "https://stackoverflow.com/users/1987461/borjagvo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 29253821, "answer_count": 1, "score": 1, "last_activity_date": 1427288400, "creation_date": 1427280593, "last_edit_date": 1427281506, "question_id": 29253560, "link": "https://stackoverflow.com/questions/29253560/what-is-the-difference-between-these-two-class-instances", "title": "What is the difference between these two class instances?", "body": "<p>There are noticeable difference between <code>Moped::Collection</code> object instances. The inspection of <code>Item.collection</code> object is as follows (with line ending added):</p>\n\n<pre><code>#&lt;Moped::Collection:0x007fb381e3ed10\n  @database=#&lt;Moped::Database:0x007fb381e3fa30\n    @name=\"production_datagatherer\",\n    @session=&lt;Moped::Session\n      seeds=[\n        &lt;Moped::Node resolved_address=\"22.22.22.22:43700\"&gt;,\n        &lt;Moped::Node resolved_address=\"22.22.22.22:43700\"&gt;\n      ]\n      database=production_datagatherer\n    &gt;\n  &gt;,\n  @name=\"items\"\n&gt;\n</code></pre>\n\n<p><code>Item.collection</code> <code>Moped::Collection</code> object has following instance variables:</p>\n\n<pre><code>@database: Moped::Database object\n@name: \"items\"\n</code></pre>\n\n<p><code>@database</code> variable has the format <code>#&lt;Moped::Database:0x007fb381e3fa30</code> while <code>@session</code> instance variable has a <code>Moped::Session</code> object but it is formatted differently.</p>\n\n<ul>\n<li>Is the value of <code>@session</code> not an object? </li>\n<li>What kind of variables does it have if they aren't instance variables (<code>seeds</code> and <code>database</code>).</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "routes", "omniauth"], "answers": [{"tags": [], "owner": {"reputation": 264, "user_id": 1944986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7a1edeee0ce6eb20c4d617a5fe2cb04?s=128&d=identicon&r=PG", "display_name": "Bernie Chiu", "link": "https://stackoverflow.com/users/1944986/bernie-chiu"}, "is_accepted": true, "score": 0, "last_activity_date": 1427705428, "creation_date": 1427705428, "answer_id": 29341922, "question_id": 29253360, "link": "https://stackoverflow.com/questions/29253360/trouble-with-multiple-rails-app-routing-on-facebook-omniauth-login/29341922#29341922", "title": "Trouble with Multiple Rails app routing on Facebook omniauth login", "body": "<p>Well I just figured this out, I have to add a path for my devise\nthen move it outside the RouteScoper.</p>\n\n<pre><code>devise_for :users, controllers: { omniauth_callbacks: \"omniauth_callbacks\" }, path: \"#{RouteScoper.root}/users\"\n</code></pre>\n"}], "owner": {"reputation": 264, "user_id": 1944986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7a1edeee0ce6eb20c4d617a5fe2cb04?s=128&d=identicon&r=PG", "display_name": "Bernie Chiu", "link": "https://stackoverflow.com/users/1944986/bernie-chiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 29341922, "answer_count": 1, "score": 0, "last_activity_date": 1427705428, "creation_date": 1427280055, "last_edit_date": 1495540610, "question_id": 29253360, "link": "https://stackoverflow.com/questions/29253360/trouble-with-multiple-rails-app-routing-on-facebook-omniauth-login", "title": "Trouble with Multiple Rails app routing on Facebook omniauth login", "body": "<p>I'm currently maitaining a Rails project that needs to switch its Passenger Rack Middleware to Unicorn. I've bumped into an issue that Unicorn does not seem support subdomain that much, so I have a workaround like the below.</p>\n\n<pre><code>require_relative '../lib/route_scoper'\n\nMyProject::Application.routes.draw do\n  scope RouteScoper.root do\n    get \"pages/welcome\"\n\n    mount RailsAdmin::Engine =&gt; '/admin', as: 'rails_admin'\n\n    devise_for :users, controllers: { omniauth_callbacks: \"omniauth_callbacks\" }\n\n    root to: \"pages#welcome\"\n\n    resources :categories, only: [:index, :show]\n    resources :counties, only: [:index], defaults: { format: :json }\n    resources :products, only: [:show] do\n      resources :votes, only: [:create]\n    end\n\n    resources :tickets, only: [:new, :create]\n  end\nend\n</code></pre>\n\n<p>I've made a workaround according to the article here</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18134046/multiple-rails-4-app-using-nginx-unicorn\">Multiple Rails 4 app using nginx + unicorn</a></p>\n\n<p>Everything works fine except our Facebook Login seems to have a routing problem.</p>\n\n<pre><code>Started GET \"/my_project\"\nProcessing by Devise::CasSessionsController#service as HTML\nRedirected to http://events.staging.mainsite/users/auth/facebook\nFilter chain halted as :sync_fb_user rendered or redirected\nCompleted 302 Found in 49.8ms (ActiveRecord: 0.0ms)\n</code></pre>\n\n<p>The Rails project is under a domain name like\n<code>http://events.staging.mainsite/my_project</code></p>\n\n<p>It always redirect me to <code>http://events.staging.mainsite/users/auth/facebook</code> page and show error message 404 not found.</p>\n\n<p>It's used to route at the URL like the below from the old version</p>\n\n<pre><code>Redirected to /my_project/users/auth/facebook\n</code></pre>\n\n<p>Not sure if I can overwrite the omniauth path to fix this or simply modify the <code>route.rb</code> to point to the right login path, thanks for the help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "devise", "public-activity"], "answers": [{"tags": [], "owner": {"reputation": 16396, "user_id": 2564298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BhG1x.jpg?s=128&g=1", "display_name": "Rajdeep Singh", "link": "https://stackoverflow.com/users/2564298/rajdeep-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1427280019, "creation_date": 1427280019, "answer_id": 29253343, "question_id": 29253241, "link": "https://stackoverflow.com/questions/29253241/how-to-access-current-user-in-partial-of-public-activity-gem/29253343#29253343", "title": "How to access current_user in partial of public_activity gem?", "body": "<p>In application controller you need to include a module</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base  \n  include PublicActivity::StoreController       \n\nend \n</code></pre>\n\n<p>This records the controller on each request allowing us to access it from the models. We can do this in the model by adding an owner option to tracked.</p>\n\n<pre><code>tracked owner: -&gt;(controller, model) { controller.current_user } \n</code></pre>\n\n<p>You can read in details about this here <a href=\"http://asciicasts.com/episodes/406-public-activity\" rel=\"nofollow\">http://asciicasts.com/episodes/406-public-activity</a> </p>\n"}, {"tags": [], "owner": {"reputation": 988, "user_id": 4384619, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l7-7H3MFzcY/AAAAAAAAAAI/AAAAAAAAAP8/K6ILQ-kg8T4/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my Buttice", "link": "https://stackoverflow.com/users/4384619/j%c3%a9r%c3%a9my-buttice"}, "is_accepted": false, "score": 0, "last_activity_date": 1427282043, "creation_date": 1427282043, "answer_id": 29254102, "question_id": 29253241, "link": "https://stackoverflow.com/questions/29253241/how-to-access-current-user-in-partial-of-public-activity-gem/29254102#29254102", "title": "How to access current_user in partial of public_activity gem?", "body": "<p>Example for track User.</p>\n\n<p>application_controller.rb</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  include PublicActivity::StoreController\n\n  [.....]\n\n  # Only if devise is not used\n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\nend\n</code></pre>\n\n<p>activities_controller.rb</p>\n\n<pre><code>class ActivitiesController &lt; ApplicationController\n  def index\n    @activities = PublicActivity::Activity.order(\"created_at desc\")\n  end\nend\n</code></pre>\n\n<p>user.rb</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  include PublicActivity::Common\n  [...]\nend\n</code></pre>\n\n<p>users_controller.rb</p>\n\n<pre><code>class UsersController &lt; ApplicationController      \n\n  def my_method\n    [...]\n      respond_to do |format|\n      if @my_object.save\n      @my_object.create_activity :create, owner: current_user \n    [...] \n  end\nend\n</code></pre>\n\n<p>app/views/activities/index.html.haml</p>\n\n<pre><code>- @activities.each do |a|\n  = render_activity a\n</code></pre>\n\n<p>others views</p>\n\n<pre><code>/app\n  /views\n    /public_activity\n      /user\n        _create.html.haml\n        _destroy.html.haml\n        [_all_methods.html.haml] \n</code></pre>\n\n<p>view example</p>\n\n<pre><code> = a.owner.name + \" \" + a.owner.firstname\n created the user\n = a.trackable.name + \" \" + a.trackable.firstname + \" (\" + a.trackable.email + \")\"\n</code></pre>\n"}], "owner": {"reputation": 724, "user_id": 4595811, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gEgiS.jpg?s=128&g=1", "display_name": "sank", "link": "https://stackoverflow.com/users/4595811/sank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 862, "favorite_count": 0, "accepted_answer_id": 29253343, "answer_count": 2, "score": 0, "last_activity_date": 1427282043, "creation_date": 1427279687, "question_id": 29253241, "link": "https://stackoverflow.com/questions/29253241/how-to-access-current-user-in-partial-of-public-activity-gem", "title": "How to access current_user in partial of public_activity gem?", "body": "<p>When I m trying to access current_user in partial file it will contains nil value.</p>\n\n<p>I used devise gem for login process.\nI also used public_activity gem for generating notification.</p>\n\n<p>I have notification controller as below.</p>\n\n<pre><code>def index\n    @activities = PublicActivity::Activity.all      \nend\n</code></pre>\n\n<p>In views/notifications/index.html.erb</p>\n\n<pre><code>&lt;%= render @activities %&gt;\n</code></pre>\n\n<p>Now in views/public_activity/commontator_comment/_create.html.erb</p>\n\n<p>in this partial I want to access current_user but it contains nil value.</p>\n\n<p>I didn't understand what was the problem.</p>\n\n<p>please help me.\nthanks in advance. </p>\n"}, {"tags": ["ruby", "cucumber"], "answers": [{"tags": [], "owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "is_accepted": false, "score": 0, "last_activity_date": 1427297068, "creation_date": 1427297068, "answer_id": 29259794, "question_id": 29253153, "link": "https://stackoverflow.com/questions/29253153/how-could-i-add-or-append-to-my-cucumber-table/29259794#29259794", "title": "How could I add or append to my cucumber Table?", "body": "<p>The table object is of type Cucumber::Core::Ast::DataTable and can be found here. <a href=\"https://github.com/cucumber/cucumber-ruby-core/blob/master/lib/cucumber/core/ast/data_table.rb\" rel=\"nofollow\">https://github.com/cucumber/cucumber-ruby-core/blob/master/lib/cucumber/core/ast/data_table.rb</a></p>\n\n<pre><code># Creates a new instance. +raw+ should be an Array of Array of String\n# or an Array of Hash\n# You don't typically create your own DataTable objects - Cucumber will do\n# it internally and pass them to your Step Definitions.\n#\ndef initialize(raw, location)\n  raw = ensure_array_of_array(rubify(raw))\n  verify_rows_are_same_length(raw)\n  @raw = raw.freeze\n  @location = location\nend\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427297068, "creation_date": 1427279445, "question_id": 29253153, "link": "https://stackoverflow.com/questions/29253153/how-could-i-add-or-append-to-my-cucumber-table", "title": "How could I add or append to my cucumber Table?", "body": "<p>In cucumber, one of the best feature is the Table data passing. However if I want to add additional data to it, or create a Table data in my step_definitions, how could I do that? What type is Table (hash? map? list? array?)?</p>\n\n<p>To illustrate, below is one of my step, accepting a table data from the feature, and pass along to a function. I like to append some data to it. How could I do that?</p>\n\n<pre><code>Then(/^posted JSON should have the below attributes$/) do |table|\n  ## Here I want to append some data to my table. How to do it?\n  posted_json_attribute_table_check table\nend\n</code></pre>\n\n<p>Then I have a function that use it to compare with a read JSON.</p>\n\n<pre><code>def posted_json_attribute_table_check(table)\n  json = JSON.parse $post_result.lines.first \n\n  data = table.raw\n  data.each do |entry|\n    status = entry[0]\n    value = entry[1]\n    expect(json[status].to_s).to eq(value)\n  end\nend\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby", "appium"], "comments": [{"owner": {"reputation": 1772, "user_id": 5743300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/86b739012f3bafbce2e40f59f3291c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Emjey", "link": "https://stackoverflow.com/users/5743300/emjey"}, "edited": false, "score": 0, "creation_date": 1491980479, "post_id": 29252877, "comment_id": 73786765, "body": "Have you already implemented this? I am facing the same scenario but considering your case, is there a built in function for <code>long press</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 2757230, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/513a6808b6f0095b28a351666bca542c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2757230/dmitry"}, "edited": false, "score": 0, "creation_date": 1427309446, "post_id": 29260250, "comment_id": 46730113, "body": "I tried <code>Appium::TouchAction.new.press(element: my_elem).move_to(element: text(...)).release.perform</code> but result is the same as in the second case: <code>Selenium::WebDriver::Error::NoSuchElementError</code>. Element searching in <code>move_to</code> works too early and it produce this error, I think."}, {"owner": {"reputation": 321, "user_id": 2757230, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/513a6808b6f0095b28a351666bca542c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2757230/dmitry"}, "edited": false, "score": 0, "creation_date": 1427309707, "post_id": 29260250, "comment_id": 46730276, "body": "What does <code>duration</code> do? There is a <code>long_press</code> method in Ruby, and it has both <code>element</code> and <code>duration</code> options. But it still doesn&#39;t work."}, {"owner": {"reputation": 1397, "user_id": 992094, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Ta6Ey.jpg?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/992094/gaurav"}, "reply_to_user": {"reputation": 321, "user_id": 2757230, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/513a6808b6f0095b28a351666bca542c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2757230/dmitry"}, "edited": false, "score": 0, "creation_date": 1427395043, "post_id": 29260250, "comment_id": 46770043, "body": "element is your variable of TouchAction class. longPress, put some duration on it, release() and then perform. This should work"}], "tags": [], "owner": {"reputation": 1397, "user_id": 992094, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Ta6Ey.jpg?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/992094/gaurav"}, "is_accepted": false, "score": 0, "last_activity_date": 1427298235, "creation_date": 1427298235, "answer_id": 29260250, "question_id": 29252877, "link": "https://stackoverflow.com/questions/29252877/appium-press-and-move-to-element/29260250#29260250", "title": "Appium press and move_to element", "body": "<p>Not sure about Ruby but in java first you <code>release()</code> it before <code>perform()</code>. Also, if this doesn't work, look if duration() method is availabe in Ruby. Then you should use somethings like:</p>\n\n<pre><code>element.longPress.duration.release.perform();\n</code></pre>\n\n<p>In case if you don't find duration method, then its a bug in Appium what they are working on. Look at this:</p>\n\n<p><a href=\"https://github.com/appium/appium/issues/4695\" rel=\"nofollow\">https://github.com/appium/appium/issues/4695</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4824652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d381f7ddf1eba0dc720878cb4268b676?s=128&d=identicon&r=PG", "display_name": "srinivas", "link": "https://stackoverflow.com/users/4824652/srinivas"}, "is_accepted": false, "score": 0, "last_activity_date": 1462769223, "last_edit_date": 1462769223, "creation_date": 1429802151, "answer_id": 29827656, "question_id": 29252877, "link": "https://stackoverflow.com/questions/29252877/appium-press-and-move-to-element/29827656#29827656", "title": "Appium press and move_to element", "body": "<p>Try this:</p>\n\n<pre><code>driver.scrollTo(\"string\").tap(1,2000);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 802, "user_id": 3461670, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8460dac22568bd28f3241525564dd829?s=128&d=identicon&r=PG", "display_name": "Nadarian", "link": "https://stackoverflow.com/users/3461670/nadarian"}, "is_accepted": false, "score": 0, "last_activity_date": 1463149389, "creation_date": 1463149389, "answer_id": 37212535, "question_id": 29252877, "link": "https://stackoverflow.com/questions/29252877/appium-press-and-move-to-element/37212535#37212535", "title": "Appium press and move_to element", "body": "<p>First, make sure that the element you want move to is really reachable.  If it is but it hasn't appeared before you called the method then you should wait till the element appears. This is a sample in java</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 120);\nwait.until(ExpectedConditions.presenceOfElementLocated(locator));\n</code></pre>\n\n<p>This may look a little different in your case, but the idea is the same. After it passes, then call <code>move_to</code>, if it fails then probably your element is not reachable.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8790733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vLmYk.jpg?s=128&g=1", "display_name": "Tiago Mateus", "link": "https://stackoverflow.com/users/8790733/tiago-mateus"}, "is_accepted": false, "score": 0, "last_activity_date": 1513856511, "creation_date": 1513856511, "answer_id": 47924227, "question_id": 29252877, "link": "https://stackoverflow.com/questions/29252877/appium-press-and-move-to-element/47924227#47924227", "title": "Appium press and move_to element", "body": "<p>If the problem is like you said,</p>\n\n<blockquote>\n  <p>But it fails with Selenium::WebDriver::Error::NoSuchElementError: No element found, because element, where we move_to, didn't appeared yet.</p>\n</blockquote>\n\n<p>Then try this </p>\n\n<pre><code>wait = Selenium::WebDriver::Wait.new :timeout =&gt; 10\n</code></pre>\n\n<p>then you can do something like this</p>\n\n<pre><code>wait.until { moveTo(element: text(...)) } ...\n</code></pre>\n\n<p>You probably have to adapt this to your case, I just wanted to show you the idea, you can read more about this <a href=\"http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 321, "user_id": 2757230, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/513a6808b6f0095b28a351666bca542c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2757230/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1342, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1513856511, "creation_date": 1427278599, "last_edit_date": 1427308894, "question_id": 29252877, "link": "https://stackoverflow.com/questions/29252877/appium-press-and-move-to-element", "title": "Appium press and move_to element", "body": "<p>I have an application, and it works such way: when I tap &amp; hold some element, context menu is shown, then I can move my finger to specified element and release it on appropriate menu item. I try implement this logic with Appium, but it's failed.</p>\n\n<p>At first, I tried <code>press</code> element, then <code>move_to</code> another:</p>\n\n<pre><code>Appium::TouchAction.new.press(element: my_elem).perform\nAppium::TouchAction.new.move_to(element: text(...)).perform\n</code></pre>\n\n<p>But before second action \"finger releases screen\" and context menu disappeared. Then I tried another way:</p>\n\n<pre><code>Appium::TouchAction.new\n    .press(element: my_elem)\n    .move_to(element: text(...))\n    .perform\n</code></pre>\n\n<p>But it fails with <code>Selenium::WebDriver::Error::NoSuchElementError: No element found</code>, because element, where we <code>move_to</code>, didn't appeared yet.</p>\n\n<p>So, tell me please, how can I implement neccessary logic?</p>\n"}, {"tags": ["ruby", "erb"], "comments": [{"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 1, "creation_date": 1427276961, "post_id": 29252093, "comment_id": 46708192, "body": "Did you mean to put a @ in front of weekday?  The example here <a href=\"http://www.stuartellis.eu/articles/erb/\" rel=\"nofollow noreferrer\">stuartellis.eu/articles/erb</a> does not do that.  Touche someone else made it an answer."}, {"owner": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "reply_to_user": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1427278403, "post_id": 29252093, "comment_id": 46709084, "body": "the example does not work as well, I received an error &quot;undefined local variable or method &#39;weekday&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "edited": false, "score": 0, "creation_date": 1427279049, "post_id": 29252362, "comment_id": 46709504, "body": "it does not work if I simply change from weekday to @weekday."}, {"owner": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "edited": false, "score": 0, "creation_date": 1427287276, "post_id": 29252362, "comment_id": 46714620, "body": "it  is OK when I run with 2.0.0p481, but failed in another machine. I am still confused, why I can use @weekday, is it an instance variable? if I just use  weekday, I will receive error."}, {"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "reply_to_user": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "edited": false, "score": 0, "creation_date": 1427287535, "post_id": 29252362, "comment_id": 46714794, "body": "@AdamLee no matter which type of variable you use, but keep in mind that <code>weekday</code> and <code>@weekday</code> are 2 completely different variables. See updated answer."}, {"owner": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "edited": false, "score": 0, "creation_date": 1427290574, "post_id": 29252362, "comment_id": 46716990, "body": "@ Rustam A. Gasanov, the second one does not work for sure.  received an error &quot;undefined local variable or method &#39;weekday&quot;"}, {"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "reply_to_user": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "edited": false, "score": 0, "creation_date": 1427291424, "post_id": 29252362, "comment_id": 46717618, "body": "@AdamLee it works for sure. You can easily check it in console or here <a href=\"http://ideone.com/Ik0FDs\" rel=\"nofollow noreferrer\">ideone.com/Ik0FDs</a> No one will be able to answer you, unless you tell more about that mysterious  &quot;other machine&quot;"}, {"owner": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "edited": false, "score": 0, "creation_date": 1427292979, "post_id": 29252362, "comment_id": 46718753, "body": "Thanks , I am now totally believe. Actually I just checked, running from console has no problem. My Ruby editor use ruby -e $stdout.sync=true;$stderr.sync=true;load($0=ARGV.shift) whihc cause the problem, do you have any idea about this?"}], "tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1427287466, "last_edit_date": 1427287466, "creation_date": 1427277155, "answer_id": 29252362, "question_id": 29252093, "link": "https://stackoverflow.com/questions/29252093/why-i-received-no-output-in-the-following-code/29252362#29252362", "title": "why I received no output in the following code?", "body": "<p>Because you didn't define <code>@weekday</code>. You use instance variable in template, so you need to define it:</p>\n\n<pre><code>require 'erb'\n\n@weekday = Time.now.strftime('%A')\nsimple_template = \"Today is &lt;%= @weekday %&gt;.\"\n\nrenderer = ERB.new(simple_template)\nputs output = renderer.result()\n</code></pre>\n\n<p>OR</p>\n\n<p>You can use defined local variable in template:</p>\n\n<pre><code>require 'erb'\n\nweekday = Time.now.strftime('%A')\nsimple_template = \"Today is &lt;%= weekday %&gt;.\"\n\nrenderer = ERB.new(simple_template)\nputs output = renderer.result()\n</code></pre>\n"}], "owner": {"reputation": 21398, "user_id": 1136700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e484894210178f84679e4e35695ff8ac?s=128&d=identicon&r=PG", "display_name": "Adam Lee", "link": "https://stackoverflow.com/users/1136700/adam-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427287466, "creation_date": 1427276482, "question_id": 29252093, "link": "https://stackoverflow.com/questions/29252093/why-i-received-no-output-in-the-following-code", "title": "why I received no output in the following code?", "body": "<pre><code>require 'erb'\n\nweekday = Time.now.strftime('%A')\nsimple_template = \"Today is &lt;%= @weekday %&gt;.\"\n\nrenderer = ERB.new(simple_template)\nputs output = renderer.result()\n</code></pre>\n\n<p>The result is Today is . which is not expected. How to fix?</p>\n"}, {"tags": ["c#", "ruby", "arrays"], "comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1427274588, "post_id": 29251243, "comment_id": 46706732, "body": "If there is something particularly unclear about the documentation of <a href=\"http://ruby-doc.org/core-2.2.1/Array.html#method-i-5B-5D-3D\" rel=\"nofollow noreferrer\"><code>Array#[]=</code></a>, I&#39;m sure the Ruby team would be <a href=\"https://bugs.ruby-lang.org/projects/ruby-trunk/issues/new\" rel=\"nofollow noreferrer\">happy to know about it</a>!"}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1427274702, "post_id": 29251243, "comment_id": 46706790, "body": "@J&#246;rgWMittag: I think here it is the odd special-casing of parsing a <code>Range</code> end point . . . because e.g. <code>5..-1</code> will do different things inside and outside of <code>[ ]</code>"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1427275549, "post_id": 29251243, "comment_id": 46707260, "body": "Yeah, array slicing doesn&#39;t care about the contents of the range (which in this particular case is just empty), only the start and endpoint. Makes sense, but is non-obvious."}], "answers": [{"tags": [], "owner": {"reputation": 195828, "user_id": 112968, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zHTaT.png?s=128&g=1", "display_name": "knittl", "link": "https://stackoverflow.com/users/112968/knittl"}, "is_accepted": false, "score": 3, "last_activity_date": 1427274250, "creation_date": 1427274250, "answer_id": 29251369, "question_id": 29251243, "link": "https://stackoverflow.com/questions/29251243/ruby-to-c-conversion-assigning-to-an-array-indexed-by-range/29251369#29251369", "title": "Ruby to C# conversion, assigning to an array indexed by range", "body": "<p>The ruby snippet will remove everything after position:</p>\n\n<pre><code>gifts = [1,2,3,4,5];\ngifts[2..-1] = [];\ngifts; // [1, 2]\n</code></pre>\n\n<p>An equivalent C# snippet (using LINQ) would be:</p>\n\n<pre><code>gifts = gifts.Take(position+1).ToList();\n</code></pre>\n\n<p>Or, if you want to modify the list in-place (no LINQ required):</p>\n\n<pre><code>gifts.RemoveRange(position + 1, list.Count - position - 1);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25213, "user_id": 3651607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mnc14.png?s=128&g=1", "display_name": "Andy Korneyev", "link": "https://stackoverflow.com/users/3651607/andy-korneyev"}, "is_accepted": true, "score": 3, "last_activity_date": 1427274346, "creation_date": 1427274346, "answer_id": 29251394, "question_id": 29251243, "link": "https://stackoverflow.com/questions/29251243/ruby-to-c-conversion-assigning-to-an-array-indexed-by-range/29251394#29251394", "title": "Ruby to C# conversion, assigning to an array indexed by range", "body": "<p>This Ruby code <code>gifts[(position + 1)..-1] = []</code> removes entries from <code>position + 1</code> to <code>-1</code> which is \"last element of array\" in Ruby.</p>\n\n<p>So equivalent code in C# will be </p>\n\n<pre><code>gifts.RemoveRange(position + 1, gifts.Count- position - 1);\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 658108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5ebcc2114cb3e6804f53368948cf9e?s=128&d=identicon&r=PG", "display_name": "imerovic", "link": "https://stackoverflow.com/users/658108/imerovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 29251394, "answer_count": 2, "score": 2, "last_activity_date": 1427274607, "creation_date": 1427273846, "last_edit_date": 1427274607, "question_id": 29251243, "link": "https://stackoverflow.com/questions/29251243/ruby-to-c-conversion-assigning-to-an-array-indexed-by-range", "title": "Ruby to C# conversion, assigning to an array indexed by range", "body": "<p>I have trouble understanding this since I'm not very familiar with Ruby and I need to convert this code to C#:</p>\n\n<pre><code>gifts[(position + 1)..-1] = []\n</code></pre>\n\n<p>gifts is an array, but what does this line do? Does it remove elements from (position + 1) to -1, or marks them as an empty element?</p>\n\n<p>What I'm using is:</p>\n\n<pre><code>gifts.RemoveRange(0, position + 1);\n</code></pre>\n"}, {"tags": ["ruby", "git", "concurrency", "rugged"], "answers": [{"comments": [{"owner": {"reputation": 14211, "user_id": 16784, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ca054e9c7aecbfac1d99af1fd0a6d72c?s=128&d=identicon&r=PG", "display_name": "Confusion", "link": "https://stackoverflow.com/users/16784/confusion"}, "edited": false, "score": 0, "creation_date": 1427454474, "post_id": 29298821, "comment_id": 46793323, "body": "Thanks, that issue explains the status quite well. I think I&#39;ll just serialize access to the repo with a Mutex then. Individual operations are fast enough that the user won&#39;t notice."}], "tags": [], "owner": {"reputation": 511, "user_id": 1119896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e7abe48c5b5c5d54563408f31e82db?s=128&d=identicon&r=PG", "display_name": "Arthur Schreiber", "link": "https://stackoverflow.com/users/1119896/arthur-schreiber"}, "is_accepted": true, "score": 2, "last_activity_date": 1427453072, "creation_date": 1427453072, "answer_id": 29298821, "question_id": 29250745, "link": "https://stackoverflow.com/questions/29250745/are-rugged-repository-instances-threadsafe/29298821#29298821", "title": "Are rugged Repository instances threadsafe?", "body": "<p>Yes, libgit2 (and thus rugged as well) should be threadsafe, <strong>as long</strong> as you don't use the same repository instance (or any other object created from libgit2) across different threads.</p>\n\n<p>But as indicated by the second part of your question, you actually want to use the same repository instance across different threads. Here, the answe is <strong>it depends</strong>. Most, but not all, of the functions provided by libgit2 should be threadsafe, but I can't give you a definite list. See <a href=\"https://github.com/libgit2/libgit2/issues/2491\" rel=\"nofollow\">https://github.com/libgit2/libgit2/issues/2491</a> for a bit of more information.</p>\n"}], "owner": {"reputation": 14211, "user_id": 16784, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ca054e9c7aecbfac1d99af1fd0a6d72c?s=128&d=identicon&r=PG", "display_name": "Confusion", "link": "https://stackoverflow.com/users/16784/confusion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 29298821, "answer_count": 1, "score": 2, "last_activity_date": 1427453072, "creation_date": 1427272219, "question_id": 29250745, "link": "https://stackoverflow.com/questions/29250745/are-rugged-repository-instances-threadsafe", "title": "Are rugged Repository instances threadsafe?", "body": "<p>My question boils down to the title: are <a href=\"https://github.com/libgit2/rugged\" rel=\"nofollow\">rugged</a> Repository instances (intended to be) threadsafe? </p>\n\n<p>While I'm at it, I may be able to settle a question I've been having longer: is access to a git repository using rugged (intended to be) threadsafe when using different Repository instances?</p>\n\n<p><strong>Context</strong></p>\n\n<p>I'm using Rugged to access a git repository that stores documents for multiple users that can access the repo via a shared web frontend. So far I created a new Repository instance for each access, as that performs well enough and seems to be safe (I can't find guarantees in the docs or determine obvious safety from the way libgit2 is used, but no tests found problems and I'm assuming libgit2 itself is safe). </p>\n\n<p>However, I ran into an <a href=\"https://github.com/libgit2/rugged/issues/182\" rel=\"nofollow\">issue</a>, which limits the amount of repository instances that you can open near-simultaneously, which causes problems for some scripts that reuse some of the code that create Repository instances for each git repository access. An easy solution would be to share Repository instances between all users. However, that will cause problems if repository instances are not thread safe. Do I need to guard all of these shared instances with a Mutex or can I do without, because rugged/libgit2 already solves this problem for me?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "oauth-2.0", "doorkeeper"], "answers": [{"tags": [], "owner": {"reputation": 235, "user_id": 4641699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84350297131f507c89ac20e4558bb71f?s=128&d=identicon&r=PG&f=1", "display_name": "bhtabor", "link": "https://stackoverflow.com/users/4641699/bhtabor"}, "is_accepted": true, "score": 3, "last_activity_date": 1432844695, "creation_date": 1432844695, "answer_id": 30516443, "question_id": 29249977, "link": "https://stackoverflow.com/questions/29249977/how-to-specify-the-list-of-superapps-for-doorkeepers-skip-authorization-block/30516443#30516443", "title": "How to specify the list of superapp(s) for doorkeeper&#39;s skip_authorization block?", "body": "<p>Superapp is a concept that is supposed to be custom implemented. <br/>\nRef: <a href=\"https://github.com/doorkeeper-gem/doorkeeper/issues/488\" rel=\"nofollow\">https://github.com/doorkeeper-gem/doorkeeper/issues/488</a> <br/>\n<br/>\nThe easiest way you could auto authorize a trusted app is if you use the trusted client's application id like below: <br/></p>\n\n<pre><code># config/initializers/doorkeeper.rb\n  skip_authorization do |resource_owner, client|\n    client.uid == \"client application id goes here\"\n  end\n</code></pre>\n\n<p>Perhaps you could also use scopes and make the client's scopes field to be 'trusted' (As far as I know by directly going to the Database). <br/>\n<br/>\nBut, I believe, scopes are not supposed to be used this way. They usually notify the resource_owner what type of client it is so that he/she can choose to authorize or not. <br/>\nRef: <a href=\"https://github.com/doorkeeper-gem/doorkeeper/wiki/Using-Scopes\" rel=\"nofollow\">https://github.com/doorkeeper-gem/doorkeeper/wiki/Using-Scopes</a>\n<br/>\n<br/>\nI hope this helps! It would be nice if anyone has a better way of implementing this though.</p>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 813303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa0294bcedbeb23bb30d1f25b019134e?s=128&d=identicon&r=PG", "display_name": "C.J. Bordeleau", "link": "https://stackoverflow.com/users/813303/c-j-bordeleau"}, "is_accepted": false, "score": 0, "last_activity_date": 1506977026, "creation_date": 1506977026, "answer_id": 46533463, "question_id": 29249977, "link": "https://stackoverflow.com/questions/29249977/how-to-specify-the-list-of-superapps-for-doorkeepers-skip-authorization-block/46533463#46533463", "title": "How to specify the list of superapp(s) for doorkeeper&#39;s skip_authorization block?", "body": "<p>I think it's best to create a migration to add a <code>superapp</code> boolean field on your <code>oauth_applications</code> table. </p>\n\n<p>Then you could do</p>\n\n<pre><code># Skip Authorization for trusted clients\nDoorkeeper.configure\n  skip_authorization do |resource_owner, client|\n    client.superapp?\n  end\nend\n</code></pre>\n\n<p>If the application has the superapp boolean set to <code>true</code> then the authorization step will be skipped and it will automatically authorize the app without user action. </p>\n"}], "owner": {"reputation": 4373, "user_id": 1007325, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba57e1be1c442cef7e9f81d09d95e1e6?s=128&d=identicon&r=PG", "display_name": "Sagar Ranglani", "link": "https://stackoverflow.com/users/1007325/sagar-ranglani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1002, "favorite_count": 0, "accepted_answer_id": 30516443, "answer_count": 2, "score": 3, "last_activity_date": 1506977026, "creation_date": 1427269372, "question_id": 29249977, "link": "https://stackoverflow.com/questions/29249977/how-to-specify-the-list-of-superapps-for-doorkeepers-skip-authorization-block", "title": "How to specify the list of superapp(s) for doorkeeper&#39;s skip_authorization block?", "body": "<p>I wish to <a href=\"https://github.com/doorkeeper-gem/doorkeeper/wiki/Skipping-application-authorization\" rel=\"nofollow\">auto-autorize some trusted apps</a> for our rails API with doorkeeper</p>\n\n<pre><code># Skip Authorization for trusted clients\nDoorkeeper.configure\n  skip_authorization do |resource_owner, client|\n    client.superapp? || resource_owner.admin?\n  end\nend\n</code></pre>\n\n<p>According to <a href=\"https://github.com/doorkeeper-gem/doorkeeper/issues/488#issuecomment-57256339\" rel=\"nofollow\">this comment</a>, it is a concept that app understands.</p>\n\n<p>Should this be done using the client_id(s) whitelisting?\nHow can I specify the list of superapp(s)?\nThanks in advance!</p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 1940, "user_id": 1976375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Fo9Gc.jpg?s=128&g=1", "display_name": "Hieu Le", "link": "https://stackoverflow.com/users/1976375/hieu-le"}, "edited": false, "score": 0, "creation_date": 1427270289, "post_id": 29249974, "comment_id": 46704577, "body": "Thank you! it seem good. can i ask more? i have this case: <code>text = &quot;[A#] and [B]&quot;</code>, <code>search = [&quot;[A#]&quot;, &quot;[B]&quot;, &quot;[C]&quot;, &quot;[D]&quot;, &quot;[Aa]&quot;]</code>, <code>replace = [&quot;[B]&quot;, &quot;[C]&quot;, &quot;[D]&quot;, &quot;[E]&quot;, &quot;[Bb]&quot;]</code>, and i still want to replace value of text to <code>&quot;[B] and [C]&quot;</code>. How can i modify your method to use it?"}, {"owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 1, "creation_date": 1427271838, "post_id": 29249974, "comment_id": 46705295, "body": "Just add <code>#</code> to gsub part, like this: <code>.gsub(&#47;\\[\\w+\\#*\\]&#47;,</code>"}, {"owner": {"reputation": 1940, "user_id": 1976375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Fo9Gc.jpg?s=128&g=1", "display_name": "Hieu Le", "link": "https://stackoverflow.com/users/1976375/hieu-le"}, "reply_to_user": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 0, "creation_date": 1427272201, "post_id": 29249974, "comment_id": 46705478, "body": "Thank you @YevgeniyAnfilofyev, i tried to use <code>.gsub(&#47;\\[\\w+#\\]&#47;,</code> and i forgot <code>*</code> after <code>#</code>"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 3, "creation_date": 1427279783, "post_id": 29249974, "comment_id": 46709957, "body": "Another option is to build the regular expression from the input array: <code>text.gsub(Regexp.union(search), search.zip(replace).to_h)</code>"}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1427284353, "post_id": 29249974, "comment_id": 46712663, "body": "This is a great answer, as is @Stefan&#39;s comment which makes it work for arbitrary search strings."}], "tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": true, "score": 8, "last_activity_date": 1427269366, "creation_date": 1427269366, "answer_id": 29249974, "question_id": 29249887, "link": "https://stackoverflow.com/questions/29249887/ruby-how-to-replace-the-words-in-string-by-two-arrays/29249974#29249974", "title": "Ruby: How to replace the words in string by two arrays?", "body": "<pre><code>text.gsub(/\\[\\w+\\]/, Hash[search.zip replace])\n# =&gt; \"[B] and [C]\"\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 1976375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Fo9Gc.jpg?s=128&g=1", "display_name": "Hieu Le", "link": "https://stackoverflow.com/users/1976375/hieu-le"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 29249974, "answer_count": 1, "score": 3, "last_activity_date": 1427272006, "creation_date": 1427268950, "last_edit_date": 1427272006, "question_id": 29249887, "link": "https://stackoverflow.com/questions/29249887/ruby-how-to-replace-the-words-in-string-by-two-arrays", "title": "Ruby: How to replace the words in string by two arrays?", "body": "<p>My case:</p>\n\n<pre><code>text = \"[A] and [B]\"\nsearch = [\"[A]\", \"[B]\", \"[C]\", \"[D]\", \"[Aa]\"]\nreplace = [\"[B]\", \"[C]\", \"[D]\", \"[E]\", \"[Bb]\"]\n</code></pre>\n\n<p>i want to replace value of <code>text</code> to <code>\"[B] and [C]\"</code></p>\n\n<p>How can i do that? Thanks a lot!</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "edited": false, "score": 0, "creation_date": 1427267312, "post_id": 29249141, "comment_id": 46703262, "body": "I dont understand why this question was initially downvoted? I found it quite informative."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1427270326, "post_id": 29249141, "comment_id": 46704597, "body": "See <a href=\"http://ruby-doc.org/core-2.2.1/doc/syntax/control_expressions_rdoc.html#label-Modifier+if+and+unless\" rel=\"nofollow noreferrer\">Modifier <code>if</code> and <code>unless</code></a> (3rd example)"}, {"owner": {"reputation": 145, "user_id": 3981995, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001953543235/picture?type=large", "display_name": "Jechol Lee", "link": "https://stackoverflow.com/users/3981995/jechol-lee"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1427273678, "post_id": 29249141, "comment_id": 46706238, "body": "@Stefan Thanks. I understand now."}], "answers": [{"tags": [], "owner": {"reputation": 1347, "user_id": 1929187, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4ec85f02401d596848f4aef24110afd9?s=128&d=identicon&r=PG", "display_name": "0aslam0", "link": "https://stackoverflow.com/users/1929187/0aslam0"}, "is_accepted": false, "score": 0, "last_activity_date": 1427266309, "creation_date": 1427266309, "answer_id": 29249226, "question_id": 29249141, "link": "https://stackoverflow.com/questions/29249141/local-variable-undefined-when-it-is-set-in-same-line/29249226#29249226", "title": "Local variable undefined when it is set in same line", "body": "<p>When you give <code>puts \"hello\"</code>, you give information to the interpreter about what to print.</p>\n\n<p>When you give <code>puts line</code>, interpreter will look for an object <code>line</code>.Otherwise you get the error : <code>NameError: undefined local variable or method 'line' for main:Object</code>. That is the power of declaration! Learn to read error messages. All the best!</p>\n"}, {"tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": true, "score": 4, "last_activity_date": 1427266797, "last_edit_date": 1427266797, "creation_date": 1427266497, "answer_id": 29249274, "question_id": 29249141, "link": "https://stackoverflow.com/questions/29249141/local-variable-undefined-when-it-is-set-in-same-line/29249274#29249274", "title": "Local variable undefined when it is set in same line", "body": "<p>You encounter an error, because Ruby parser reads from top to bottom, left to right, so it reads <code>puts line</code>, but doesn't know anything about this variable.</p>\n\n<p>Your code will work if you rewrite it like this:</p>\n\n<pre><code>while line = gets\n  puts line \nend\n</code></pre>\n\n<p>In this way parser will see assignment first and won't complain.</p>\n"}], "owner": {"reputation": 145, "user_id": 3981995, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001953543235/picture?type=large", "display_name": "Jechol Lee", "link": "https://stackoverflow.com/users/3981995/jechol-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 29249274, "answer_count": 2, "score": 1, "last_activity_date": 1427266895, "creation_date": 1427265973, "last_edit_date": 1427266895, "question_id": 29249141, "link": "https://stackoverflow.com/questions/29249141/local-variable-undefined-when-it-is-set-in-same-line", "title": "Local variable undefined when it is set in same line", "body": "<p>I wrote a simple echo loop, but it gives undefined local variable error.</p>\n\n<pre><code>&gt; puts line while line = gets\nNameError: undefined local variable or method `line' for main:Object\n</code></pre>\n\n<p>Why is <code>line</code> not visible to <code>puts</code>?</p>\n\n<p>I know adding <code>line = nil</code> fixes this error. But I want to know why so.</p>\n\n<pre><code>&gt; line = nil\n&gt; puts line while line = gets #==&gt; Works!\napple banana\napple banana\n</code></pre>\n"}, {"tags": ["ruby", "arrays"], "comments": [{"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 4, "creation_date": 1427266053, "post_id": 29248748, "comment_id": 46702650, "body": "Those aren&#39;t two dimensional arrays, Ruby has no such thing (unless you want to count <code>Matrix</code>), those are just arrays-of-arrays."}, {"owner": {"reputation": 6470, "user_id": 1896986, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/qEG8G.jpg?s=128&g=1", "display_name": "Rajesh Omanakuttan", "link": "https://stackoverflow.com/users/1896986/rajesh-omanakuttan"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1427266993, "post_id": 29248748, "comment_id": 46703111, "body": "Ok!! That means Ruby has no &#39;Two Dimensional Array&#39; by convention?"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 3, "creation_date": 1427267414, "post_id": 29248748, "comment_id": 46703304, "body": "That means that there are no two dimensional arrays period."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1427271273, "post_id": 29248748, "comment_id": 46705027, "body": "Do you want to compare the ith element of <code>a</code> with the ith element of <code>b</code> or with any element of &#39;b`? (Your example suggests the former.) If the latter, can there be duplicate elements, and if so, how are duplicates to be counted?"}, {"owner": {"reputation": 6470, "user_id": 1896986, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/qEG8G.jpg?s=128&g=1", "display_name": "Rajesh Omanakuttan", "link": "https://stackoverflow.com/users/1896986/rajesh-omanakuttan"}, "edited": false, "score": 0, "creation_date": 1427271850, "post_id": 29248748, "comment_id": 46705305, "body": "good question! Mine is the former one."}], "answers": [{"tags": [], "owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "is_accepted": false, "score": 3, "last_activity_date": 1427265201, "last_edit_date": 1427265201, "creation_date": 1427264798, "answer_id": 29248849, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29248849#29248849", "title": "Compare two dimensional arrays", "body": "<p>Instead of <code>a - b</code> you should do this:</p>\n\n<pre><code>a.map{|k,v| [k,v.downcase]} - b.map{|k,v| [k,v.downcase]} # case-insensitive\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35071, "user_id": 316799, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0fa8da5d4aacf3078d23d33c4effadd5?s=128&d=identicon&r=PG", "display_name": "Felipe Oriani", "link": "https://stackoverflow.com/users/316799/felipe-oriani"}, "edited": false, "score": 0, "creation_date": 1427285431, "post_id": 29248904, "comment_id": 46713319, "body": "Consider explaning your anwser!"}], "tags": [], "owner": {"reputation": 1300, "user_id": 3118220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac8cc81c7b432465c18eb731b5a1a8c?s=128&d=identicon&r=PG&f=1", "display_name": "user3118220", "link": "https://stackoverflow.com/users/3118220/user3118220"}, "is_accepted": false, "score": 1, "last_activity_date": 1427287243, "last_edit_date": 1427287243, "creation_date": 1427265038, "answer_id": 29248904, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29248904#29248904", "title": "Compare two dimensional arrays", "body": "<p>It will convert second element of inner array to upcase for both array then you can perform subtraction, then It will return exact result that you want</p>\n\n<pre><code>a.map{|first,second| [first,second.upcase]} - b.map{|first,second| [first,second.upcase]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1427265097, "creation_date": 1427265097, "answer_id": 29248913, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29248913#29248913", "title": "Compare two dimensional arrays", "body": "<pre><code>a.count - (a.map{|e| [e[0],e[1].downcase] } - b.map{|e| [e[0],e[1].downcase] }).count\n</code></pre>\n\n<p>The above maps <code>a</code> and <code>b</code> to new arrays where the second sub-array element is downcase.</p>\n"}, {"tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": false, "score": 2, "last_activity_date": 1427266203, "creation_date": 1427266203, "answer_id": 29249208, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29249208#29249208", "title": "Compare two dimensional arrays", "body": "<p>You can convert Arrays to Hash, and use <a href=\"http://ruby-doc.org/core-2.2.1/Enumerable.html#method-i-count\" rel=\"nofollow\">Enumerable#count</a> with a block.</p>\n\n<pre><code>b_hash = b.to_h\na.to_h.count {|k, v| b_hash[k] &amp;&amp; b_hash[k].downcase == v.downcase }\n# =&gt; 5 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 3981995, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001953543235/picture?type=large", "display_name": "Jechol Lee", "link": "https://stackoverflow.com/users/3981995/jechol-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1427266392, "creation_date": 1427266392, "answer_id": 29249248, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29249248#29249248", "title": "Compare two dimensional arrays", "body": "<p>You want to count similar, so &amp;(AND) operation is more suitable.</p>\n\n<pre><code>(a.map { |k, v| [k, v.upcase] } &amp; b.map { |k, v| [k, v.upcase] }).count\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1427268152, "last_edit_date": 1427268152, "creation_date": 1427267200, "answer_id": 29249470, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29249470#29249470", "title": "Compare two dimensional arrays", "body": "<p>Using <a href=\"http://ruby-doc.org/core-2.2.0/Proc.html\" rel=\"nofollow\">Proc</a> and '<a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-26\" rel=\"nofollow\">&amp;</a>':</p>\n\n<pre><code>procedure = Proc.new { |i, j| [i, j.upcase] }\n(a.map(&amp;procedure) &amp; b.map(&amp;procedure)).count\n#=&gt; 5\n</code></pre>\n\n<p>For better understanding, let's simplify it:</p>\n\n<pre><code>new_a = a.map {|i, j| [i, j.upcase]}\nnew_b = b.map {|i, j| [i, j.upcase]}\n\n# Set intersection using '&amp;'\n(new_a &amp; new_b).count\n#=&gt; 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1427424831, "last_edit_date": 1495540770, "creation_date": 1427270619, "answer_id": 29250291, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29250291#29250291", "title": "Compare two dimensional arrays", "body": "<p>I have assumed that the ith element of <code>a</code> is to be compared with the ith element of <code>b</code>. (Edit: a subsequent comment by the OP confirmed this interpretation.)</p>\n\n<p>I would be inclined to use indices to avoid the construction of relatively large temporary arrays. Here are two ways that might be done.</p>\n\n<p><strong>#1 Use indices</strong></p>\n\n<pre><code>[a.size,b.size].min.size.times.count do |i|\n  af,al=a[i]\n  bf,bl=b[i]; \n  af==bf &amp;&amp; al.downcase==bl.downcase\nend\n  #=&gt; 5\n</code></pre>\n\n<p><strong>#2 Use <code>Refinements</code></strong></p>\n\n<p>My purpose in giving this solution is to illustrate the use of <a href=\"http://ruby-doc.org/core-2.1.5/doc/syntax/refinements_rdoc.html\" rel=\"nofollow noreferrer\">Refinements</a>. I would not argue for its use for the problem at hand, but this problem provides a good vehicle for showing how the technique can be applied.</p>\n\n<p>I could not figure out how best to do this, so I posted this <a href=\"https://stackoverflow.com/questions/29290275/using-refinements-hierarchically\">question</a> on SO. I've applied @ZackAnderson's answer below.</p>\n\n<pre><code>module M\n  refine String do\n    alias :dbl_eql :==\n    def ==(other)\n      downcase.dbl_eql(other.downcase)\n    end\n  end\n\n  refine Array do\n    def ==(other)\n      zip(other).all? {|x, y| x == y}\n    end\n  end\nend\n\n'a' == 'A'         #=&gt; false (as expected)\n[1,'a'] == [1,'A'] #=&gt; false (as expected)\n\nusing M\n'a' == 'A'         #=&gt; true\n[1,'a'] == [1,'A'] #=&gt; true\n</code></pre>\n\n<p>I could use <a href=\"http://ruby-doc.org/core-2.2.0/Enumerable.html#method-i-zip\" rel=\"nofollow noreferrer\">Enumerable#zip</a>, but for variety I'll use <a href=\"http://ruby-doc.org/core-2.2.1/Object.html#method-i-to_enum\" rel=\"nofollow noreferrer\">Object#to_enum</a> and <a href=\"http://ruby-doc.org/core-2.2.0/Kernel.html#method-i-loop\" rel=\"nofollow noreferrer\">Kernel#loop</a> in conjunction with <a href=\"http://ruby-doc.org/core-2.1.5/Enumerator.html#method-i-next\" rel=\"nofollow noreferrer\">Enumerator#next</a>:</p>\n\n<pre><code>ea, eb = a.to_enum, b.to_enum\ncnt = 0\nloop do\n   cnt += 1 if ea.next == eb.next\nend\ncnt #=&gt; 5    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "is_accepted": false, "score": 1, "last_activity_date": 1427287899, "creation_date": 1427287899, "answer_id": 29256214, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays/29256214#29256214", "title": "Compare two dimensional arrays", "body": "<p>You can zip them and then use the block form of count:</p>\n\n<pre><code>a.zip(b).count{|e| e[0][1].downcase == e[1][1].downcase}\n</code></pre>\n"}], "owner": {"reputation": 6470, "user_id": 1896986, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/qEG8G.jpg?s=128&g=1", "display_name": "Rajesh Omanakuttan", "link": "https://stackoverflow.com/users/1896986/rajesh-omanakuttan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "answer_count": 8, "score": 0, "last_activity_date": 1427424831, "creation_date": 1427264395, "last_edit_date": 1427265267, "question_id": 29248748, "link": "https://stackoverflow.com/questions/29248748/compare-two-dimensional-arrays", "title": "Compare two dimensional arrays", "body": "<p>I have two two-dimensional arrays,</p>\n\n<pre><code>a = [[17360, \"Z51.89\"],\n [17361, \"S93.601A\"],\n [17362, \"H66.91\"],\n [17363, \"H25.12\"],\n [17364, \"Z01.01\"],\n [17365, \"Z00.121\"],\n [17366, \"Z00.129\"],\n [17367, \"K57.90\"],\n [17368, \"I63.9\"]]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>b = [[17360, \"I87.2\"],\n [17361, \"s93.601\"],\n [17362, \"h66.91\"],\n [17363, \"h25.12\"],\n [17364, \"Z51.89\"],\n [17365, \"z00.121\"],\n [17366, \"z00.129\"],\n [17367, \"k55.9\"],\n [17368, \"I63.9\"]]\n</code></pre>\n\n<p>I would like to count similar rows in both the arrays irrespective of the character case, i.e., <code>\"h25.12\"</code> would be equal to <code>\"H25.12\"</code>.</p>\n\n<p>I tried,</p>\n\n<pre><code>count = a.count - (a - b).count\n</code></pre>\n\n<p>But <code>(a - b)</code> returns</p>\n\n<pre><code>[[17360, \"Z51.89\"],\n [17361, \"S93.601A\"],\n [17362, \"H66.91\"],\n [17363, \"H25.12\"],\n [17364, \"Z01.01\"],\n [17365, \"Z00.121\"],\n [17366, \"Z00.129\"],\n [17367, \"K57.90\"]]\n</code></pre>\n\n<p>I need the count as <code>5</code> since there are five similar rows when we do not consider the character case.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 5381, "user_id": 3958148, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1d13082f7803e52dd98b2808509976c2?s=128&d=identicon&r=PG", "display_name": "Sung Cho", "link": "https://stackoverflow.com/users/3958148/sung-cho"}, "edited": false, "score": 0, "creation_date": 1427355813, "post_id": 29249010, "comment_id": 46746052, "body": "Thank you. I didn&#39;t have much time to test this out, and thought it&#39;d be good to make this knowledge available here on SO."}, {"owner": {"reputation": 16229, "user_id": 525478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b6c0b47a0c430a0b141baee7ea845be?s=128&d=identicon&r=PG", "display_name": "Brad Werth", "link": "https://stackoverflow.com/users/525478/brad-werth"}, "reply_to_user": {"reputation": 5381, "user_id": 3958148, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1d13082f7803e52dd98b2808509976c2?s=128&d=identicon&r=PG", "display_name": "Sung Cho", "link": "https://stackoverflow.com/users/3958148/sung-cho"}, "edited": false, "score": 0, "creation_date": 1427379716, "post_id": 29249010, "comment_id": 46759624, "body": "@MikeC you&#39;re welcome. It was interesting to me, because I didn&#39;t know for sure how it worked, either, and had to look it up to satisfy my curiosity."}], "tags": [], "owner": {"reputation": 16229, "user_id": 525478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b6c0b47a0c430a0b141baee7ea845be?s=128&d=identicon&r=PG", "display_name": "Brad Werth", "link": "https://stackoverflow.com/users/525478/brad-werth"}, "is_accepted": true, "score": 3, "last_activity_date": 1427265442, "creation_date": 1427265442, "answer_id": 29249010, "question_id": 29248709, "link": "https://stackoverflow.com/questions/29248709/rails-around-action-includes-before-and-after-callbacks/29249010#29249010", "title": "Rails around_action includes before, and after callbacks?", "body": "<p>Yes, <code>some_callback</code> will be executed. These methods are completely unaware of one another, and will be performed in the order they are written.</p>\n\n<p>It may interest you to see the code that rails uses to do this. You can find it at <a href=\"https://github.com/rails/rails/blob/cdaab2c479c819b04cc72a97c52b804832365cef/actionpack/lib/abstract_controller/callbacks.rb#L180\" rel=\"nofollow\">https://github.com/rails/rails/blob/cdaab2c479c819b04cc72a97c52b804832365cef/actionpack/lib/abstract_controller/callbacks.rb#L180</a>. You will notice that they both call the <code>_insert_callbacks</code> method (<a href=\"https://github.com/rails/rails/blob/cdaab2c479c819b04cc72a97c52b804832365cef/actionpack/lib/abstract_controller/callbacks.rb#L87\" rel=\"nofollow\">https://github.com/rails/rails/blob/cdaab2c479c819b04cc72a97c52b804832365cef/actionpack/lib/abstract_controller/callbacks.rb#L87</a>). </p>\n\n<p>Also, why not just try it using console output or something? This type of thing should be very easy to verify with a quick trial (which is, I suspect, the reason behind this question's downvote).</p>\n"}], "owner": {"reputation": 5381, "user_id": 3958148, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1d13082f7803e52dd98b2808509976c2?s=128&d=identicon&r=PG", "display_name": "Sung Cho", "link": "https://stackoverflow.com/users/3958148/sung-cho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 0, "accepted_answer_id": 29249010, "answer_count": 1, "score": 2, "last_activity_date": 1427265442, "creation_date": 1427264216, "last_edit_date": 1427264553, "question_id": 29248709, "link": "https://stackoverflow.com/questions/29248709/rails-around-action-includes-before-and-after-callbacks", "title": "Rails around_action includes before, and after callbacks?", "body": "<p>Does <code>around_action</code> in <code>ApplicationController::Base</code> include <code>before_action</code> and <code>after_action</code>? I understand that <code>around_action</code> wraps around the specified action, but would like to know if it also wraps around the before, and after callbacks associated with that action.</p>\n\n<p>For instance, let's look at a code modified from Rails documentation:</p>\n\n<pre><code>class ChangesController &lt; ApplicationController\n  before_action :some_callback, only: show\n  around_action :wrap_in_transaction, only: :show\n\n  ...\n\n  private\n\n  def wrap_in_transaction\n    yield unless true\n  end\nend\n</code></pre>\n\n<p>Will <code>some_callback</code> ever be executed?</p>\n"}, {"tags": ["ruby", "if-statement"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1427264007, "post_id": 29248619, "comment_id": 46701819, "body": "Your assumption is wrong. It is not the case that everything except <code>false</code>  is evaluated as truthy."}, {"owner": {"reputation": 4905, "user_id": 69836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ae352527d409c830fc7843d0e016e3?s=128&d=identicon&r=PG", "display_name": "locriani", "link": "https://stackoverflow.com/users/69836/locriani"}, "edited": false, "score": 0, "creation_date": 1427264051, "post_id": 29248619, "comment_id": 46701835, "body": "<a href=\"https://gist.github.com/jfarmer/2647362\" rel=\"nofollow noreferrer\">gist.github.com/jfarmer/2647362</a>"}, {"owner": {"reputation": 533, "user_id": 3169218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/O1pUh.jpg?s=128&g=1", "display_name": "Shan", "link": "https://stackoverflow.com/users/3169218/shan"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1427264337, "post_id": 29248619, "comment_id": 46701942, "body": "@sawa Sorry, Its Typo. Fixed"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1427270803, "post_id": 29248619, "comment_id": 46704807, "body": "From the <a href=\"http://ruby-doc.org/core-2.2.1/doc/syntax/control_expressions_rdoc.html\" rel=\"nofollow noreferrer\">documentation</a>: <i>&quot;... <code>nil</code> and <code>false</code> are false-values and <code>true</code> and any other object are true-values&quot;</i>"}], "answers": [{"tags": [], "owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "is_accepted": false, "score": 5, "last_activity_date": 1427264965, "last_edit_date": 1427264965, "creation_date": 1427263970, "answer_id": 29248651, "question_id": 29248619, "link": "https://stackoverflow.com/questions/29248619/why-is-everything-getting-true-expect-for-false-in-if-condition/29248651#29248651", "title": "Why is everything getting true expect for false in if condition?", "body": "<p>Everything evaluates to <code>true</code> in Ruby except <code>false</code> and <code>nil</code>.</p>\n\n<p>PS: There's no hidden objective here, it's just a language design choice.</p>\n"}], "owner": {"reputation": 533, "user_id": 3169218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/O1pUh.jpg?s=128&g=1", "display_name": "Shan", "link": "https://stackoverflow.com/users/3169218/shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427264965, "creation_date": 1427263861, "last_edit_date": 1427264736, "question_id": 29248619, "link": "https://stackoverflow.com/questions/29248619/why-is-everything-getting-true-expect-for-false-in-if-condition", "title": "Why is everything getting true expect for false in if condition?", "body": "<p>Why are all the true, numeric, floats, and strings getting true while checking with if condition, except for false? Examples:</p>\n\n<pre><code>puts \"Hello World\" if 0 # =&gt; Hello World\nputs \"Hello World\" if 1 # =&gt; Hello World\nputs \"Hello World\" if 2 # =&gt; Hello World\nputs \"Hello World\" if 200 # =&gt; Hello World\nputs \"Hello World\" if \"Ruby\" # =&gt; Hello World\nputs \"Hello World\" if \"Rails\" # =&gt; Hello World\nputs \"Hello World\" if true # =&gt; Hello World\n\nputs \"Hello World\" if false # =&gt; nil\n</code></pre>\n"}, {"tags": ["ruby", "string"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 4416068, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/630553b107253bbd9836ebe03c1e3a4a?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/4416068/guy"}, "edited": false, "score": 0, "creation_date": 1427337489, "post_id": 29248572, "comment_id": 46741256, "body": "Thanks for your solution. I was looking for a way to effectively rearrange <code>str1</code> to match <code>str2</code>, and if <code>str1</code> and <code>str2</code> are equal, it will return true otherwise false."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 79, "user_id": 4416068, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/630553b107253bbd9836ebe03c1e3a4a?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/4416068/guy"}, "edited": false, "score": 1, "creation_date": 1427340331, "post_id": 29248572, "comment_id": 46741932, "body": "That is different from what the question asks."}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 2, "last_activity_date": 1427263654, "creation_date": 1427263654, "answer_id": 29248572, "question_id": 29248335, "link": "https://stackoverflow.com/questions/29248335/string-scramble-coderbyte/29248572#29248572", "title": "String scramble Coderbyte", "body": "<pre><code>def StringScramble str1, str2\n  str1.chars.sort.join =~ Regexp.new(str2.chars.sort.join(\".*\")) ?\n  \"true\" : \"false\"\nend\n\nStringScramble(\"rkqodlw\", \"world\") # =&gt; \"true\"\nStringScramble(\"heloooolwrdlla\", \"helloworld\") # =&gt; \"true\"\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 4416068, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/630553b107253bbd9836ebe03c1e3a4a?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/4416068/guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427263654, "creation_date": 1427262484, "last_edit_date": 1427262785, "question_id": 29248335, "link": "https://stackoverflow.com/questions/29248335/string-scramble-coderbyte", "title": "String scramble Coderbyte", "body": "<p>I am solving this <a href=\"http://coderbyte.com/CodingArea/GuestEditor.php?ct=String%20Scramble&amp;lan=Ruby\" rel=\"nofollow\">string scramble problem</a> on coderbyte.com:</p>\n\n<blockquote>\n  <p>[H]ave the function <code>StringScramble(str1,str2)</code> take both parameters being passed and return the string <code>\"true\"</code> if a portion of <code>str1</code> characters can be rearranged to match <code>str2</code>, otherwise return the string <code>\"false\"</code>. For example: if <code>str1</code> is <code>\"rkqodlw\"</code> and <code>str2</code> is <code>\"world\"</code> the output should return <code>\"true\"</code>. Punctuation and symbols will not be entered with the parameters.</p>\n</blockquote>\n\n<p>Here is my complete code:</p>\n\n<pre><code>def StringScramble(str1,str2)\n    #convert string to array\n    #create an empty string\n    #double iterate and add string if item is satisfies condition\n    #compare\n\n    str1= str1.split(\"\")\n    str2= str2.split(\"\")\n    str = \"\"\n\n    for i in 0...str2.length\n        for j in 0...str1.length\n            if str2[i]==str1[j]\n                str = str + str1[j]\n                str1.delete_at(j)\n                puts \"#{str1}\"\n            end\n        end\n    end\n\n    puts str\n    if str == str2.join(\"\")\n        true\n    else\n        false\n    end\nend\n</code></pre>\n\n<p>It works for simple cases that don't have a lot of repeated letters in <code>str1</code>, but for some other cases such as</p>\n\n<pre><code>str1 =   \"heloooolwrdlla\"   #\"coodrebtqqkye\"\nstr2= \"helloworld\"  #\"coderbyte\"\nStringScramble(str1,str2)\n</code></pre>\n\n<p>I get a result of <code>hellllooword</code>. The problem stems from the condition <code>str2[i]==str1[j]</code>, and I tried fixing that by deleting the element that has already been used, but it continues to add element that are repeated. The nested iterations don't stop after finding the corresponding character to add into <code>str</code>. How can I fix this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "forms"], "comments": [{"owner": {"reputation": 20945, "user_id": 1265660, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WFK9j.jpg?s=128&g=1", "display_name": "Masudul", "link": "https://stackoverflow.com/users/1265660/masudul"}, "edited": false, "score": 0, "creation_date": 1427261109, "post_id": 29247997, "comment_id": 46700873, "body": "You can display this using <code>JS</code>. To get exact help you should post related code."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3311539"}, "edited": false, "score": 0, "creation_date": 1427262350, "post_id": 29248120, "comment_id": 46701242, "body": "Okay one more help needed. I am using nitrous ide for my coding. Can you please tell me where to place the JS code? I have never JS before with rails"}, {"owner": {"reputation": 131, "user_id": 964526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14282fa30326b5907eaffc1346e60817?s=128&d=identicon&r=PG", "display_name": "Deepak Shinde", "link": "https://stackoverflow.com/users/964526/deepak-shinde"}, "edited": false, "score": 1, "creation_date": 1427263347, "post_id": 29248120, "comment_id": 46701584, "body": "You can  add  app/assets/javascripts/create_new_file.js and inclide this file into application.js. also make sure class name id used correctly"}], "tags": [], "owner": {"reputation": 131, "user_id": 964526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14282fa30326b5907eaffc1346e60817?s=128&d=identicon&r=PG", "display_name": "Deepak Shinde", "link": "https://stackoverflow.com/users/964526/deepak-shinde"}, "is_accepted": false, "score": 2, "last_activity_date": 1427263060, "last_edit_date": 1427263060, "creation_date": 1427261382, "answer_id": 29248120, "question_id": 29247997, "link": "https://stackoverflow.com/questions/29247997/dynamically-update-field-value-in-rails-form/29248120#29248120", "title": "Dynamically update field value in Rails form", "body": "<p>You can use before_save callback \ne.g </p>\n\n<pre><code>before_save :update_total_houres\n\n def update_total_houres\n   total_hours_spent = design_hours + analysis_hours + coding_hour\n end\n</code></pre>\n\n<p>also using JavaScript</p>\n\n<pre><code>$(document).ready(function(){\n\n$('.hours').change(function() {\n    update_total_hours();\n});\n});\n\nfunction update_total_hours()\n{\nvar total = 0; \n\nvar analysis_hours = $(\".analysis_hours\").val();    \nvar design_hours = $(\".design_hours\").val();    \nvar coding_hour = $(\".coding_hour\").val();  \ntotal = sum all   \n//just update the total to sum  \n$('.total').text(total);\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1300, "user_id": 3118220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac8cc81c7b432465c18eb731b5a1a8c?s=128&d=identicon&r=PG&f=1", "display_name": "user3118220", "link": "https://stackoverflow.com/users/3118220/user3118220"}, "is_accepted": false, "score": 0, "last_activity_date": 1427261413, "creation_date": 1427261413, "answer_id": 29248125, "question_id": 29247997, "link": "https://stackoverflow.com/questions/29247997/dynamically-update-field-value-in-rails-form/29248125#29248125", "title": "Dynamically update field value in Rails form", "body": "<p>You can make callback before_create OR before_save in model, that will store automatically in database, like:</p>\n\n<pre><code>before_create :calculate_total_hours\n\ndef calculate_total_hours\n  total_hours_spent = design_hours, analysis_hours, coding_hours\nend\n</code></pre>\n\n<p>You can also do via jquery, but do something in model will be strong business logic</p>\n"}, {"tags": [], "owner": {"reputation": 4101, "user_id": 1482055, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/f4D9p.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/1482055/milind"}, "is_accepted": false, "score": 0, "last_activity_date": 1427277683, "creation_date": 1427277683, "answer_id": 29252553, "question_id": 29247997, "link": "https://stackoverflow.com/questions/29247997/dynamically-update-field-value-in-rails-form/29252553#29252553", "title": "Dynamically update field value in Rails form", "body": "<p>so if you have the required values in the database,you can directly use it as instance variable and show it in your views..for example</p>\n\n<pre><code>def create\n #here you create/save the required data in db\n @user=User.new(params[:new])\n  if @user.save\n   #get the values you need\n   @time_used=@user.time_used\n   @build_hrs=@user.build_hrs\n   ...\n   ...\n   #and so on\n   #all these values will be available in the view directly\n  redirect_to users_show_url\n else\n  render :new\n end \nend##method ends\n</code></pre>\n\n<p>end</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3311539"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1937, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1427277683, "creation_date": 1427260654, "last_edit_date": 1427262082, "question_id": 29247997, "link": "https://stackoverflow.com/questions/29247997/dynamically-update-field-value-in-rails-form", "title": "Dynamically update field value in Rails form", "body": "<p>I have a form in my ruby app which has a field total_hours_spent and different fields for breakup of the various activities like design_hours, analysis_hours, coding_hours etc.. I am looking for a mechanism where as soon as all the break up hours fields are filled, the total hours field should be updated dynamically. Sad thing is I dont know Ajax or Jquery. I know javascript but don't know how to use it with rails.</p>\n\n<p>So what I am doing now is once the user submits the form, the values are calculated and then stored in the data base. Is there a way to dynamically display the field value using only rails?</p>\n\n<p>Below is the form code: I would like to add two add a field total_hors which would be automatically populated with the value build_hours + test_hours + analysis_hours and other few fields..how to do this?</p>\n\n<pre><code>&lt;%= nested_form_for(@rfsestimation) do |f| %&gt;\n\n&lt;% if @rfsestimation.errors.any? %&gt;\n      &lt;h2&gt; These errors prohibited the RFS from being saved &lt;/h2&gt;\n&lt;font color=\"red\"&gt;\n        &lt;ul&gt;\n          &lt;% @rfsestimation.errors.full_messages.each do |msg| %&gt;\n          &lt;li&gt;&lt;%= msg %&gt; &lt;/li&gt;\n         &lt;% end %&gt;\n    &lt;% end %&gt;\n        &lt;/ul&gt;\n&lt;/font&gt;\n&lt;div class = \"col-md-6\"&gt;\n &lt;h4&gt;IRIS AME RFS Estimation Summary Sheet&lt;/h4&gt;\n\n&lt;table class = \"table\"&gt;\n&lt;tr&gt; &lt;td&gt; RFS Number &lt;/td&gt;\n&lt;td&gt; &lt;%= f.text_field :number, :placeholder =&gt; \"Enter RFS Number\" %&gt; &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt; &lt;td&gt; RFS Name &lt;/td&gt;\n&lt;td&gt; &lt;%= f.text_field :name, :placeholder =&gt; \"Enter RFS Name\" %&gt; &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt; &lt;td&gt; Date of Estimation &lt;/td&gt;\n&lt;td&gt; &lt;%= f.date_select :date_of_estimation, :placeholder =&gt; \"Enter Date of Estimation\" %&gt; &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt; &lt;td&gt; Request Type &lt;/td&gt;\n&lt;td&gt; &lt;%= f.select :request_type_id , Rfsestimation.request_types.map { |k, v| [k.humanize, v] } %&gt; &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt; &lt;td&gt;Band&lt;/td&gt;\n&lt;td&gt; &lt;%= f.select :band_id , Rfsestimation.band_types.map { |k, v| [k.humanize, v] } %&gt; &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;br/&gt;\n\n&lt;table class = \"table\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n   &lt;td&gt;Task&lt;/td&gt;\n   &lt;td&gt;Effort(Hours)&lt;/td&gt;\n   &lt;td&gt;Comments&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n  &lt;tr&gt;\n    &lt;td&gt;\n      Analysis / Requirements Gathering\n    &lt;/td&gt;\n    &lt;td&gt;\n&lt;%= f.fields_for :rfstaskset do |rfs_task| %&gt;\n      &lt;%= rfs_task.number_field :analysis_hours %&gt;\n    &lt;/td&gt;\n     &lt;td&gt;\n       &lt;%= rfs_task.text_area :analysis_comments, :size=&gt; \"40x1\" %&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;  \n\n    &lt;tr&gt;\n    &lt;td&gt;\n      Design\n    &lt;/td&gt;\n    &lt;td&gt;\n          &lt;%= rfs_task.number_field :design_hours %&gt;\n    &lt;/td&gt;\n     &lt;td&gt;\n       &lt;%= rfs_task.text_area :design_comments, :size=&gt; \"40x1\" %&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;  \n\n     &lt;tr&gt;\n    &lt;td&gt;\n      Build\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;%= rfs_task.number_field :build_hours %&gt;\n    &lt;/td&gt;\n     &lt;td&gt;\n       &lt;%= rfs_task.text_area :build_comments, :size=&gt; \"40x1\" %&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt; \n    &lt;tr&gt;\n    &lt;td&gt;\n      Test\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;%= rfs_task.number_field :test_hours %&gt;\n    &lt;/td&gt;\n     &lt;td&gt;\n       &lt;%= rfs_task.text_area :test_comments, :size=&gt; \"40x1\" %&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt; \n     &lt;tr&gt;\n    &lt;td&gt;\n      UAT Support\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;%= rfs_task.number_field :UATSupport_hours %&gt;\n    &lt;/td&gt;\n     &lt;td&gt;\n       &lt;%= rfs_task.text_area :UATSupport_comments, :size=&gt; \"40x1\" %&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt; \n     &lt;tr&gt;\n    &lt;td&gt;\n      Deployment Support and\n      Deployment instruction document\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;%= rfs_task.number_field :DepSupport_hours %&gt;\n    &lt;/td&gt;\n     &lt;td&gt;\n       &lt;%= rfs_task.text_area :DepSupport_comments, :size=&gt; \"40x1\" %&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt; \n\n    &lt;tr&gt;\n    &lt;td&gt;\n      contingency\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;%= rfs_task.text_field :hours_per_day, :value =&gt; \"10%\", :disabled =&gt; \"true\"  %&gt;\n    &lt;/td&gt;\n     &lt;td&gt;\n       &lt;%= rfs_task.text_area :contingency_comments, :size=&gt; \"40x1\" %&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt; \n\n\n\n  &lt;/tbody&gt;\n    &lt;% end %&gt;\n\n  &lt;/table&gt;\n  &lt;%= f.submit \"Create RFS\", class: \"btn btn-success\"%&gt;\n  &lt;/div&gt;\n  &lt;div class = \"col-md-6\"&gt;\n  &lt;table class=\"table\"&gt;\n  &lt;br/&gt;&lt;br/&gt;\n  &lt;tr&gt;\n  &lt;td&gt; Hours/day : &lt;/td&gt; &lt;td&gt; &lt;%= f.text_field :hours_per_day, :placeholder =&gt; \"Enter hours per day\", :value =&gt; \"8.8\", :disabled =&gt; \"false\" %&gt; &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n  &lt;td&gt; Estimated Start Date : &lt;/td&gt; &lt;td&gt; &lt;%= f.date_select :estimated_start_date %&gt; &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n  &lt;td&gt; Estimated End Date : &lt;/td&gt; &lt;td&gt; &lt;%= f.date_select :estimated_end_date %&gt; &lt;/td&gt;\n  &lt;/tr&gt;\n\n\n  &lt;/table&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt;&lt;br/&gt; &lt;br/&gt;&lt;br/&gt; \n  &lt;%= f.fields_for :rfsnote do |rfs_note| %&gt;\n  &lt;%= rfs_note.text_area :notes, :size=&gt; \"60x20\", :placeholder =&gt; \"Enter RFS Notes\" %&gt;\n  &lt;% end %&gt;\n  &lt;/div&gt;\n\n  &lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["ruby", "rspec", "cucumber"], "comments": [{"owner": {"reputation": 1243, "user_id": 1891599, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a1beeb83f38d8dc7c1499b686161613?s=128&d=identicon&r=PG", "display_name": "AshwinKumarS", "link": "https://stackoverflow.com/users/1891599/ashwinkumars"}, "edited": false, "score": 0, "creation_date": 1427266991, "post_id": 29247973, "comment_id": 46703108, "body": "is this a piece of test ? if not why do you need an expect in a module ."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 1243, "user_id": 1891599, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a1beeb83f38d8dc7c1499b686161613?s=128&d=identicon&r=PG", "display_name": "AshwinKumarS", "link": "https://stackoverflow.com/users/1891599/ashwinkumars"}, "edited": false, "score": 0, "creation_date": 1427277938, "post_id": 29247973, "comment_id": 46708806, "body": "Yes, this is one part of test. I&#39;m moving this expect into a module, it&#39;s because I plan to use it is various different test scenarios, and hence don&#39;t want to have it repeated over the Cucumber Matcher."}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 1479669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0381071c9759b19cdc9652694b4f8ad4?s=128&d=identicon&r=PG&f=1", "display_name": "roonie", "link": "https://stackoverflow.com/users/1479669/roonie"}, "is_accepted": false, "score": 0, "last_activity_date": 1427278018, "creation_date": 1427278018, "answer_id": 29252675, "question_id": 29247973, "link": "https://stackoverflow.com/questions/29247973/can-i-use-rspec-expect-in-a-module-defined-function/29252675#29252675", "title": "Can I use Rspec Expect in a module defined function?", "body": "<p>You may have to mixin the AccessFunc module, for the scenario steps to recognize this.<br>\nTry adding World AccessFunc to your env.rb and see how it goes. Can't say for sure if this will work, definitely worth a try though.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427278018, "creation_date": 1427260541, "last_edit_date": 1495534207, "question_id": 29247973, "link": "https://stackoverflow.com/questions/29247973/can-i-use-rspec-expect-in-a-module-defined-function", "title": "Can I use Rspec Expect in a module defined function?", "body": "<p>I'm trying to move my Cucumber Matcher into a function of a module</p>\n\n<pre><code>Then (/^posted \"(.*?)\" http response should be returned$/) do |arg1|\n  expect($post_result.lines.last.to_i).to eq(arg1.to_i)\nend\n</code></pre>\n\n<p>The module function as below</p>\n\n<pre><code>module AccessFunc\n    #  :\n    #  : Some require... global variable setting etc\n    #  :\n  def self.posted_http_response_check(arg1)\n    expect($post_result.lines.last.to_i).to eq(arg1.to_i)\n  end\nend\n</code></pre>\n\n<p>Running my cucumber test with the cucumber matcher could use the Expect. But I can't use the Expect within my module. I tried using</p>\n\n<pre><code>include ::RSpec::Matchers\n</code></pre>\n\n<p>as per <a href=\"https://stackoverflow.com/questions/23624655/use-rspecs-expect-etc-outside-a-describe-it-block\">Use RSpec&#39;s &quot;expect&quot; etc. outside a describe ... it block</a> but not successful.</p>\n\n<p>The error I got is </p>\n\n<pre><code>undefined method `expect' for AccessFunc:Module (NoMethodError)\n</code></pre>\n\n<p>Could someone shed some light how could I workaround this (e.g. using Expect within a Module.</p>\n\n<p>p/s: I could solve the problem by remove the Module, and define the function <em>posted_http_response_check</em> globally.</p>\n"}, {"tags": ["ruby", "pry"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 2825035, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a93678a7f941ec7228868d34fe9fa7ca?s=128&d=identicon&r=PG&f=1", "display_name": "greenaj", "link": "https://stackoverflow.com/users/2825035/greenaj"}, "edited": false, "score": 0, "creation_date": 1427297969, "post_id": 29247841, "comment_id": 46722434, "body": "I see your point, thanks, new to Pry and fairly new to Ruby and Rails. I had cd&#39;d into a session object and then tried to cd into that method. I did notice that <code>cd []</code> worked. Since both <code>[]</code> and <code>[]=&#39;</code> are methods, <code>cd []</code> should not have worked. Wonder what&#39;s going on."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 163, "user_id": 2825035, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a93678a7f941ec7228868d34fe9fa7ca?s=128&d=identicon&r=PG&f=1", "display_name": "greenaj", "link": "https://stackoverflow.com/users/2825035/greenaj"}, "edited": false, "score": 0, "creation_date": 1427298569, "post_id": 29247841, "comment_id": 46722863, "body": "<code>[]</code> <b>is</b> an object; it is an empty array. It is not a method in that case."}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": true, "score": 1, "last_activity_date": 1427259810, "creation_date": 1427259810, "answer_id": 29247841, "question_id": 29247731, "link": "https://stackoverflow.com/questions/29247731/how-do-you-browse-to-in-pry/29247841#29247841", "title": "How do you browse to `[]=` in Pry?", "body": "<p>Pry's <code>cd</code> is for objects. <code>[]=</code> is not an object. You cannot do that.</p>\n"}], "owner": {"reputation": 163, "user_id": 2825035, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a93678a7f941ec7228868d34fe9fa7ca?s=128&d=identicon&r=PG&f=1", "display_name": "greenaj", "link": "https://stackoverflow.com/users/2825035/greenaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 29247841, "answer_count": 1, "score": 0, "last_activity_date": 1427259895, "creation_date": 1427259235, "last_edit_date": 1427259895, "question_id": 29247731, "link": "https://stackoverflow.com/questions/29247731/how-do-you-browse-to-in-pry", "title": "How do you browse to `[]=` in Pry?", "body": "<p>In Pry, I cannot do this:</p>\n\n<pre><code>&gt;cd []=\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&gt;cd []\\=\n</code></pre>\n\n<p>for browsing the <code>[]=</code> method for a class. Any ideas, or does Pry not work for this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "websocket"], "answers": [{"tags": [], "owner": {"reputation": 20945, "user_id": 1265660, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WFK9j.jpg?s=128&g=1", "display_name": "Masudul", "link": "https://stackoverflow.com/users/1265660/masudul"}, "is_accepted": true, "score": 0, "last_activity_date": 1427260795, "creation_date": 1427260795, "answer_id": 29248020, "question_id": 29247340, "link": "https://stackoverflow.com/questions/29247340/websockets-and-rails/29248020#29248020", "title": "Websockets and Rails", "body": "<p>Take a look at <a href=\"https://github.com/faye/faye-websocket-ruby\" rel=\"nofollow\">faye-websocket</a>. Here is a nice railscasts <a href=\"http://railscasts.com/episodes/260-messaging-with-faye\" rel=\"nofollow\">tutorial</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "is_accepted": false, "score": 0, "last_activity_date": 1479282215, "last_edit_date": 1479282215, "creation_date": 1437374661, "answer_id": 31510229, "question_id": 29247340, "link": "https://stackoverflow.com/questions/29247340/websockets-and-rails/31510229#31510229", "title": "Websockets and Rails", "body": "<p>Take a look at the <a href=\"https://github.com/boazsegev/plezi\" rel=\"nofollow noreferrer\">Plezi framework</a>.</p>\n\n<p>The advantage over Faye is that Faye requires you to handle your Redis broadcasting logic yourself, whereas Plezi is a framework, which handles the Redis logic for you and lets you run both your Plezi websockets app and your Rails app on the same port on the same server.</p>\n\n<p>Plezi is also easily scalable when using Redis, as it can run all it's broadcasting and unicasting API through Redis and you don't need to do anything except point it to your Redis server.</p>\n\n<p>As stated in the <a href=\"http://www.plezi.io/docs/with_rack_app\" rel=\"nofollow noreferrer\">documentation</a>, You just include your Plezi code in your Rails app as middleware. Easy.</p>\n"}], "owner": {"reputation": 77, "user_id": 3537875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/968d0a954082de4983940c7b27d70831?s=128&d=identicon&r=PG", "display_name": "Olivier B.", "link": "https://stackoverflow.com/users/3537875/olivier-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 29248020, "answer_count": 2, "score": -1, "last_activity_date": 1541781463, "creation_date": 1427256932, "last_edit_date": 1427261108, "question_id": 29247340, "link": "https://stackoverflow.com/questions/29247340/websockets-and-rails", "title": "Websockets and Rails", "body": "<p>I want to develop a web file manager based on Rails 4.2 (Ruby 2.1.0) with websockets.</p>\n\n<ul>\n<li>Websocket-rails seems nice, but is dead.</li>\n<li>em-websocket lacks documentation (or if you have a link it will be great) and is not fully open source compliant.</li>\n</ul>\n\n<p>What is the best way to use websocket with rails?</p>\n"}, {"tags": ["ruby", "arrays", "dictionary", "nest"], "comments": [{"owner": {"reputation": 4534, "user_id": 885922, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2971dd5c919991b08f12849961bd4f0a?s=128&d=identicon&r=PG", "display_name": "xlm", "link": "https://stackoverflow.com/users/885922/xlm"}, "edited": false, "score": 0, "creation_date": 1427260623, "post_id": 29247279, "comment_id": 46700733, "body": "What way was it not effective?"}, {"owner": {"reputation": 365, "user_id": 3131092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SVxA5.jpg?s=128&g=1", "display_name": "Yuya Kobayashi", "link": "https://stackoverflow.com/users/3131092/yuya-kobayashi"}, "reply_to_user": {"reputation": 4534, "user_id": 885922, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2971dd5c919991b08f12849961bd4f0a?s=128&d=identicon&r=PG", "display_name": "xlm", "link": "https://stackoverflow.com/users/885922/xlm"}, "edited": false, "score": 0, "creation_date": 1427262894, "post_id": 29247279, "comment_id": 46701416, "body": "csv = csv.map{|csvrow|   if csvrow[0] == &#39;rec_upd_date&#39; then      next   end   #[csvrow[0].to_s.slice(8,2) + &quot;/&quot; + csvrow[0].to_s.slice(5,2) + &quot;/&quot; + csvrow[0].to_s.slice(0,4), csvrow[1], csvrow[2], csvrow[3], csvrow[4], csvrow[5], csvrow[6], csvrow[7], csvrow[8]]   csvrow.replace([csvrow[0].to_s.slice(8,2) + &quot;/&quot; + csvrow[0].to_s.slice(5,2) + &quot;/&quot; + csvrow[0].to_s.slice(0,4),csvrow[1],csvrow[2],csvrow[3],csvr&zwnj;&#8203;ow[4],csvrow[5],csvr&zwnj;&#8203;ow[6],csvrow[7]])       }"}], "answers": [{"tags": [], "owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "is_accepted": true, "score": 0, "last_activity_date": 1427257119, "creation_date": 1427257119, "answer_id": 29247370, "question_id": 29247279, "link": "https://stackoverflow.com/questions/29247279/how-to-convert-part-of-nested-arrays-in-ruby/29247370#29247370", "title": "How to convert part of nested arrays in Ruby?", "body": "<blockquote>\n  <p>I would like to know how I can convert date format of each first\n  element included in nested arrays from yyyy-MM-dd into dd/MM/yyyy.</p>\n</blockquote>\n\n<p>Converting yyyy-MM-dd into dd/MM/yyyy format:</p>\n\n<pre><code>d = \"2015-03-25\"\nd.to_date.strftime(\"%d/%m/%Y\")\n# =&gt; \"25/03/2015\"\n</code></pre>\n\n<p>In the provided code its not clear which variable contains date. Assuming its <code>row['REC_UPD_DATE']</code>, you can convert it in desired format as:</p>\n\n<pre><code>row['REC_UPD_DATE'].to_date.strftime(\"%d/%m/%Y\")\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 3131092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SVxA5.jpg?s=128&g=1", "display_name": "Yuya Kobayashi", "link": "https://stackoverflow.com/users/3131092/yuya-kobayashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 29247370, "answer_count": 1, "score": 0, "last_activity_date": 1427257119, "creation_date": 1427256522, "question_id": 29247279, "link": "https://stackoverflow.com/questions/29247279/how-to-convert-part-of-nested-arrays-in-ruby", "title": "How to convert part of nested arrays in Ruby?", "body": "<p>I would like to know how I can convert date format of each first element included in nested arrays from yyyy-MM-dd into dd/MM/yyyy.\nNext is my trial attempt to achieve that but wasn't effective for the purpose.</p>\n\n<pre><code>csv_string = CSV.generate(:force_quotes =&gt; true) do |csv|\n  csv &lt;&lt; ['rec_upd_date', 'pro_long_label', 'pro_short_label', 'act_label', 'stt_content', 'stt_label', 'contract_name', 'contract_no', 'accept_no']\n\n  res.each do |row|\n    csv &lt;&lt; [\n      row['REC_UPD_DATE'],\n      row['PRO_LONG_LABEL'],\n      row['PRO_SHORT_LABEL'],\n      row['ACT_LABEL'],\n      row['STT_CONTENT'],\n      row['STT_LABEL'],\n      row['CONTRACT_NAME'],\n      row['CONTRACT_NO'],\n      row['ACCEPT_NO'] \n    ]\n  end\nend\n\nFile.open('support_incident_statistics.csv', 'w:cp932') do |file|\n# w:cp932\n  file.write(csv_string)\nend\n\ncsv = CSV.parse(csv_string)\n\nindex = 0;\n\ncsv = csv.map{|csvrow|\n  if index == 0 then \n    next\n  end\n\n  \"#{csvrow[0].slice(8,2)}/#{csvrow[0].slice(5,2)}/#{csvrow[0].slice(0,4)}#{csvrow[1]}#{csvrow[2]}#{csvrow[3]}#{csvrow[4]}#{csvrow[5]}#{csvrow[6]}#{csvrow[7]}}\"\n\n  index = index +1\n}\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1427255864, "post_id": 29247154, "comment_id": 46699440, "body": "What test framework is that? What is <code>@d</code>?"}, {"owner": {"reputation": 10364, "user_id": 877472, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e73a159e3f7790ee019673c37da48a59?s=128&d=identicon&r=PG", "display_name": "Paul Richter", "link": "https://stackoverflow.com/users/877472/paul-richter"}, "edited": false, "score": 0, "creation_date": 1427256490, "post_id": 29247154, "comment_id": 46699636, "body": "<i>The pair without {} is not an object</i> It is an object, in fact. Ruby is simply letting you omit the braces in this case, but its a hash all the same. What is the problem you&#39;re having?"}], "answers": [{"tags": [], "owner": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "is_accepted": true, "score": 1, "last_activity_date": 1427256455, "creation_date": 1427256455, "answer_id": 29247265, "question_id": 29247154, "link": "https://stackoverflow.com/questions/29247154/adding-entries-to-hash/29247265#29247265", "title": "Adding entries to hash", "body": "<p>In Ruby, the curly braces are optional for a Hash passed as the last argument passed to a method. To quote <a href=\"http://ruby-doc.org/core-2.1.5/Hash.html\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Hashes are also commonly used as a way to have named parameters in functions...If a hash is the last argument on a method call, no braces are needed</p>\n</blockquote>\n\n<p>That is, if you have the method:</p>\n\n<pre><code>def foo(name, hash)\n  puts \"The keys in this hash are #{hash.keys.inspect}\"\nend\n</code></pre>\n\n<p>You could invoke it as:</p>\n\n<pre><code>foo(\"test\", {\"a\" =&gt; 1, \"b\" =&gt; 2})\n</code></pre>\n\n<p>Or as:</p>\n\n<pre><code>foo(\"test\", \"a\" =&gt; 1, \"b\" =&gt; 2)\n</code></pre>\n\n<p>In both cases, Ruby will correctly interpret the final argument as a Hash.</p>\n\n<p>In your case, <code>@d.add('fish' =&gt; 'aquatic animal')</code> and <code>@d.add({'fish' =&gt; 'aquatic animal'})</code> are synonymous.</p>\n"}], "owner": {"reputation": 2276, "user_id": 4164651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100004012909097/picture?type=large", "display_name": "Edmund Lee", "link": "https://stackoverflow.com/users/4164651/edmund-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 29247265, "answer_count": 1, "score": -1, "last_activity_date": 1427297632, "creation_date": 1427255668, "last_edit_date": 1427297632, "question_id": 29247154, "link": "https://stackoverflow.com/questions/29247154/adding-entries-to-hash", "title": "Adding entries to hash", "body": "<p>I am working on a ruby tutorial and came across this. I need to write a method to get this test passed.</p>\n\n<pre><code>it 'can add whole entries with keyword and definition' do\n    @d.add('fish' =&gt; 'aquatic animal')\n    @d.entries.should == {'fish' =&gt; 'aquatic animal'}\n    @d.keywords.should == ['fish']\nend\n</code></pre>\n\n<p>How do you add a key value pair to a hash if you pass <code>'fish' =&gt; 'aquatic animal'</code> instead of  <code>{'fish' =&gt; 'aquatic animal'}</code>? The pair without <code>{}</code> is not an object, so I can't assign it to a variable or use any method to manipulate it.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I am supposed to have a class Dictionary, which has an instance variable <code>@entries</code> (initialize as an empty hash), and a method <code>Dictionary#add</code> which will add hashes to <code>@entries</code>.</p>\n\n<p>So I have made my method like this.\n    def add(hash)\n      @entries.merge! hash\n    end\nBut obviously this is not merging my empty hash with the hash I need to add.</p>\n\n<p>In the test, <code>@d</code> is an instance of Dictionary.</p>\n\n<p><strong>Solved</strong></p>\n\n<p>Sorry guys... I just found out I made this mistake forgetting to use bang <code>!</code> when I merge. Thanks for helping!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "http", "curl", "controller"], "answers": [{"tags": [], "owner": {"reputation": 3558, "user_id": 2559490, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/20wjg.jpg?s=128&g=1", "display_name": "Hardik", "link": "https://stackoverflow.com/users/2559490/hardik"}, "is_accepted": true, "score": 2, "last_activity_date": 1427255860, "creation_date": 1427255860, "answer_id": 29247177, "question_id": 29247140, "link": "https://stackoverflow.com/questions/29247140/http-requests-with-username-and-password-in-ruby/29247177#29247177", "title": "http requests with username and password in ruby", "body": "<p>Try following</p>\n\n<pre><code>uri = URI.parse(\"http://192.168.122.198\")\n\nhttp = Net::HTTP.new(uri.host, uri.port)\nrequest = Net::HTTP::Get.new(uri.request_uri)\nrequest.basic_auth(\"admin\", \"admin\")\nresponse = http.request(request)\n</code></pre>\n"}], "owner": {"reputation": 862, "user_id": 956261, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b544e6fc64189634f9684caf691f9097?s=128&d=identicon&r=PG", "display_name": "rh4games", "link": "https://stackoverflow.com/users/956261/rh4games"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4764, "favorite_count": 0, "accepted_answer_id": 29247177, "answer_count": 1, "score": 3, "last_activity_date": 1427255860, "creation_date": 1427255608, "question_id": 29247140, "link": "https://stackoverflow.com/questions/29247140/http-requests-with-username-and-password-in-ruby", "title": "http requests with username and password in ruby", "body": "<p>from my RoR controller, I'm trying to send http requests that need a username and password.</p>\n\n<p>I tried this</p>\n\n<pre><code>url = 'http://192.168.122.198 ...'\nuri = URI.parse(url)\nrequest = Net::HTTP::Get.new(uri.path)\nrequest['Accept'] = 'application/json'\nrequest.body = {'credentials' =&gt; {'username' =&gt; 'admin', 'password' =&gt; 'admin'}}\nresponse = Net::HTTP.get(uri)\n</code></pre>\n\n<p>but I'm getting this error</p>\n\n<pre><code>Error 401 Unauthorized\n</code></pre>\n\n<p>Any idea how can I pass the username and password in my request?</p>\n"}, {"tags": ["ruby", "sql-server", "activerecord", "tiny-tds"], "comments": [{"owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "edited": false, "score": 0, "creation_date": 1427273215, "post_id": 29247064, "comment_id": 46705984, "body": "What&#39;s the x at the end of the statement doing? That looks wrong to me."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "edited": false, "score": 0, "creation_date": 1427278907, "post_id": 29251054, "comment_id": 46709407, "body": "TSql requires a label for the subquery.  Sql Server will throw an error without the label.  I use a lower case &quot;x&quot; to give it a visually low profile and to not distract from the rest of the code, given the label is functionally useless in this query."}, {"owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "reply_to_user": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "edited": false, "score": 0, "creation_date": 1427280279, "post_id": 29251054, "comment_id": 46710230, "body": "Ah! I&#39;d normally put an AS between the subquery and the x."}, {"owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "edited": false, "score": 0, "creation_date": 1427284756, "post_id": 29251054, "comment_id": 46712922, "body": "I&#39;m learning little bits here and there, as I have not had to deal with code pages before.  The string in the code, sql2 or sql1, is encoded US-ASCII.  The string read from the file, sql0, is encoded IBM437.  I&#39;m not sure if IBM437 is typical, but that is the way my laptop is configured.  When I force the code page to UTF-8, all is good with the world."}, {"owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "edited": false, "score": 0, "creation_date": 1427284847, "post_id": 29251054, "comment_id": 46712987, "body": "I tried adding &quot;encoding: utf-8&quot; to my database.yml, hoping activerecord/tinytds would pick that up and do the conversion internally, but no dice.  I have to explicitly force the code change."}, {"owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "edited": false, "score": 0, "creation_date": 1427375512, "post_id": 29251054, "comment_id": 46756460, "body": "One nit-picky comment to add.  Can the -1 be removed from my question?  I really think the problem and solution is noteworthy, and I don&#39;t want someone to ignore this post when they might receive some benefit from it."}, {"owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "reply_to_user": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "edited": false, "score": 0, "creation_date": 1427376203, "post_id": 29251054, "comment_id": 46756994, "body": "I agree. The need to force encoding isn&#39;t obvious IMO."}], "tags": [], "owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1427273321, "creation_date": 1427273321, "answer_id": 29251054, "question_id": 29247064, "link": "https://stackoverflow.com/questions/29247064/tinytdserror-procedure-expects-parameter/29251054#29251054", "title": "TinyTds::Error: Procedure expects parameter", "body": "<p>I think the statement generated by the file import should be:</p>\n\n<pre><code>SELECT (CASE WHEN freq = 0 THEN 'pass' ELSE 'fail' END) FROM ( SELECT COUNT(*) freq FROM Grant_Award WHERE Grant_Award.org_ticker IS NULL );\"\n</code></pre>\n\n<p>I think the x at the end of the statement is causing the error and wonder if this has slipped into your other lines by mistake.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1427279466, "creation_date": 1427279466, "answer_id": 29253162, "question_id": 29247064, "link": "https://stackoverflow.com/questions/29247064/tinytdserror-procedure-expects-parameter/29253162#29253162", "title": "TinyTds::Error: Procedure expects parameter", "body": "<p>I woke up this morning and realized it must have to do with the character set of the file on disk.  The following is a solution works [without changing the query]:</p>\n\n<pre><code>ActiveRecord::Base.connection.select_all(sql0.join(\" \").encode(\"UTF-8\"))\n</code></pre>\n\n<p>I forced the character-set to utf-8 when submitting it, and now everything executes fine.</p>\n\n<p>Proof:</p>\n\n<pre><code>#&lt;ActiveRecord::Result:0x3bede68\n @column_types={},\n @columns=[\"\"],\n @hash_rows=nil,\n @rows=[[\"pass\"]]&gt;\n\n#&lt;ActiveRecord::Result:0x3bf2c68\n @column_types={},\n @columns=[\"\"],\n @hash_rows=nil,\n @rows=[[\"pass\"]]&gt;\n\n\"SELECT (CASE WHEN freq = 0 THEN 'pass' ELSE 'fail' END) FROM ( SELECT COUNT(*) freq FROM Grant_Award WHERE Grant_Award.org_ticker IS NULL )x;\"\n\n#&lt;ActiveRecord::Result:0x3bf5410\n @column_types={},\n @columns=[\"\"],\n @hash_rows=nil,\n @rows=[[\"pass\"]]&gt;\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 2320991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d522e24e66aafeb2a4547c6c5e260d?s=128&d=identicon&r=PG", "display_name": "donvnielsen", "link": "https://stackoverflow.com/users/2320991/donvnielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 29253162, "answer_count": 2, "score": 0, "last_activity_date": 1427279466, "creation_date": 1427255138, "last_edit_date": 1427255770, "question_id": 29247064, "link": "https://stackoverflow.com/questions/29247064/tinytdserror-procedure-expects-parameter", "title": "TinyTds::Error: Procedure expects parameter", "body": "<p>Given the following ruby:</p>\n\n<pre><code>    sql2 = 'SELECT (CASE WHEN freq = 0 THEN \\'pass\\' ELSE \\'fail\\' END) FROM ( \nSELECT COUNT(*) freq FROM Grant_Award WHERE Grant_Award.org_ticker IS NULL )x;'\n    pp ActiveRecord::Base.connection.select_all(sql2)\n\n    sql1 = \"SELECT (CASE WHEN freq = 0 THEN 'pass' ELSE 'fail' END) FROM ( SELECT COUNT(*) freq FROM Grant_Award WHERE Grant_Award.org_ticker IS NULL )x;\"\n    pp ActiveRecord::Base.connection.select_all(sql1)\n\n    sql0 = File.readlines(File.join(BASE,'db','scripts','test','pass_or_fail.sql'))\n    sql = (sql0.map {|l| l.strip}).join(' ')\n    pp sql\n    pp ActiveRecord::Base.connection.select_all(sql)\n</code></pre>\n\n<p>The above produces the following results:</p>\n\n<pre><code>#&lt;ActiveRecord::Result:0x38b0ce0\n @column_types={},\n @columns=[\"\"],\n @hash_rows=nil,\n @rows=[[\"pass\"]]&gt;\n\n#&lt;ActiveRecord::Result:0x38b5ae0\n @column_types={},\n @columns=[\"\"],\n @hash_rows=nil,\n @rows=[[\"pass\"]]&gt;\n\n\"SELECT (CASE WHEN freq = 0 THEN 'pass' ELSE 'fail' END) FROM ( SELECT COUNT(*) freq FROM Grant_Award WHERE Grant_Award.org_ticker IS NULL )x;\"\n\nC:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-sqlserver-adapter-4.2.2/lib/active_record/connection_adapters/sqlserver/database_statements.rb:336:in `each': TinyTds::Error: Procedure expects parameter '@statement' of type 'ntext/nchar/nvarchar'.: EXEC sp_executesql 'SELECT (CASE WHEN freq = 0 THEN ''pass'' ELSE ''fail'' END) FROM ( SELECT COUNT(*) freq FROM Grant_Award WHERE Grant_Award.org_ticker IS NULL )x;' (ActiveRecord::StatementInvalid)\n</code></pre>\n\n<p>The first two attempts at executing the sql return just fine.  The third one, which is read from a file into an array and then joined, bombs.  I know this must have something to do with the treatment of strings.  But I cannot figure this out.</p>\n\n<p>What am I doing wrong?  Why does it (tinytds or activerecord?) think this is a stored procedure?</p>\n\n<p>What I want to do is have a whole bunch of sql scripts in a folder and then execute them one by one.</p>\n\n<p>Details: ruby 1.9.3, activerecord (4.2.0), and tiny_tds (0.6.2-x86-mingw32)</p>\n"}, {"tags": ["ruby", "arrays"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1427252412, "post_id": 29246616, "comment_id": 46698642, "body": "What do you mean by &quot;starting with the nth element&quot;?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1427253461, "post_id": 29246616, "comment_id": 46698941, "body": "Sure, just a slight change to what you have: <code>[array_2[1..-1], array_1[0..-2]].transpose.map  { |a,b| a-b } #=&gt; [8, 6, 4, 2]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1427252081, "creation_date": 1427252081, "answer_id": 29246646, "question_id": 29246616, "link": "https://stackoverflow.com/questions/29246616/adding-unparallel-elements-between-two-arrays/29246646#29246646", "title": "Adding unparallel elements between two arrays", "body": "<p>Use the non-destructive <code>drop</code> for the receiver, and <code>zip</code>, which will stop when the receiver runs out of an element even if the argument has more.</p>\n\n<pre><code>array_2.drop(1).zip(array_1).map{|a, b| a - b}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "is_accepted": false, "score": 1, "last_activity_date": 1427253162, "creation_date": 1427253162, "answer_id": 29246794, "question_id": 29246616, "link": "https://stackoverflow.com/questions/29246616/adding-unparallel-elements-between-two-arrays/29246794#29246794", "title": "Adding unparallel elements between two arrays", "body": "<p>I think you may be overthinking it a bit; as long as both arrays are the same length, you can just iterate over the indices you care about, and reference the other array by <code>index - offset</code>.</p>\n\n<pre><code>array_1 = [1,2,3,4,5]\narray_2 = [10,9,8,7,6]\nn = 1\n(n...array_1.length).map {|i| array_2[i] - array_1[i - 1] }\n</code></pre>\n\n<p>You can set <code>n</code> to whatever number you like and compute from that point onwards, so even if the arrays were tremendously large, you don't have to generate any intermediate arrays, and you don't have to perform any unnecessary work.</p>\n"}, {"comments": [{"owner": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "edited": false, "score": 0, "creation_date": 1427256613, "post_id": 29246917, "comment_id": 46699665, "body": "Very nice, though how does the loop terminate? I&#39;ve tested that it does, in fact, terminate, though there&#39;s something happening here that I haven&#39;t encountered before!"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "edited": false, "score": 1, "creation_date": 1427257585, "post_id": 29246917, "comment_id": 46699907, "body": "@Chris, <a href=\"http://ruby-doc.org/core-2.1.5/Enumerator.html#method-i-next\" rel=\"nofollow noreferrer\">Enumerator#next</a> raises a <code>StopIteration</code> exception when an attempt is made to advance the enumerator beyond its end. (Same for <code>peek</code>.) The exception is handled by <a href=\"http://ruby-doc.org/core-2.2.0/Kernel.html#method-i-loop\" rel=\"nofollow noreferrer\">Kernel#loop</a> by breaking out of the loop."}, {"owner": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "edited": false, "score": 0, "creation_date": 1427257613, "post_id": 29246917, "comment_id": 46699915, "body": "Lovely. Thanks for the explanation!"}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 2, "last_activity_date": 1427254129, "creation_date": 1427254129, "answer_id": 29246917, "question_id": 29246616, "link": "https://stackoverflow.com/questions/29246616/adding-unparallel-elements-between-two-arrays/29246917#29246917", "title": "Adding unparallel elements between two arrays", "body": "<p>Another way:</p>\n\n<pre><code>enum1 = array_1.to_enum\nenum2 = array_2.to_enum\nenum2.next\narr = []\n\nloop do\n  arr &lt;&lt; enum2.next - enum1.next\nend\narr\n  #=&gt; [8, 6, 4, 2]\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 3100282, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/QSsxN.gif?s=128&g=1", "display_name": "Xavier", "link": "https://stackoverflow.com/users/3100282/xavier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1427254129, "creation_date": 1427251869, "last_edit_date": 1427252361, "question_id": 29246616, "link": "https://stackoverflow.com/questions/29246616/adding-unparallel-elements-between-two-arrays", "title": "Adding unparallel elements between two arrays", "body": "<p>I have a pair of arrays,</p>\n\n<pre><code>array_1 = [1,2,3,4,5]\narray_2 = [10,9,8,7,6]\n</code></pre>\n\n<p>and I'm trying to subtract the nth element of one array from the (n-1)-th element of the second array, starting with the n-th element, yielding an array of:</p>\n\n<pre><code>[9-1, 8-2, 7-3, 6-4] = [8, 6, 4, 2]\n</code></pre>\n\n<p>I wrote it in a procedural fashion:</p>\n\n<pre><code> array_1.pop\n array_2.shift\n [array_2,array_1].transpose.map { |a,b| a-b }\n</code></pre>\n\n<p>but I do not wish to alter the arrays. Is there a method or another way to go about this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "arrays", "sorting"], "answers": [{"tags": [], "owner": {"reputation": 7525, "user_id": 1805902, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0W7rW.png?s=128&g=1", "display_name": "pangpang", "link": "https://stackoverflow.com/users/1805902/pangpang"}, "is_accepted": false, "score": 0, "last_activity_date": 1427250796, "last_edit_date": 1427250796, "creation_date": 1427250350, "answer_id": 29246418, "question_id": 29246381, "link": "https://stackoverflow.com/questions/29246381/read-a-table-into-an-array-in-ruby-on-rails/29246418#29246418", "title": "Read a table into an array in Ruby on Rails", "body": "<p>You can have a try.</p>\n\n<pre><code>ActiveRecord::Base.connection.execute('select * from table').map{ |row| row }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1058, "user_id": 2697793, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/618647720/picture?type=large", "display_name": "sabrams", "link": "https://stackoverflow.com/users/2697793/sabrams"}, "edited": false, "score": 0, "creation_date": 1427250659, "post_id": 29246431, "comment_id": 46698228, "body": "Perfect!  Is there a way to allow for undetermined columns?  For example if I added an additional column at a later time, could this code simply pull all columns without hard coding each one?"}, {"owner": {"reputation": 4999, "user_id": 4151953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d405a824f3f34d13b9e57532532f99?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Babio", "link": "https://stackoverflow.com/users/4151953/alejandro-babio"}, "reply_to_user": {"reputation": 1058, "user_id": 2697793, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/618647720/picture?type=large", "display_name": "sabrams", "link": "https://stackoverflow.com/users/2697793/sabrams"}, "edited": false, "score": 0, "creation_date": 1427280954, "post_id": 29246431, "comment_id": 46710633, "body": "Did this answer fix your issue?"}], "tags": [], "owner": {"reputation": 4999, "user_id": 4151953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d405a824f3f34d13b9e57532532f99?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Babio", "link": "https://stackoverflow.com/users/4151953/alejandro-babio"}, "is_accepted": true, "score": 2, "last_activity_date": 1427250753, "last_edit_date": 1427250753, "creation_date": 1427250458, "answer_id": 29246431, "question_id": 29246381, "link": "https://stackoverflow.com/questions/29246381/read-a-table-into-an-array-in-ruby-on-rails/29246431#29246431", "title": "Read a table into an array in Ruby on Rails", "body": "<p>Just:</p>\n\n<pre><code>my_array = MyModel.select(:position, :name, :value, :code).map {|e| e.attributes.values}\n</code></pre>\n\n<p>I think it does the trick.</p>\n\n<p><strong>Edited</strong></p>\n\n<p>If you want all the fields:</p>\n\n<pre><code>my_array = MyModel.all.map {|e| e.attributes.values}\n</code></pre>\n\n<p>If you want each row to be a Hash:</p>\n\n<pre><code>my_array = MyModel.all.to_a\n</code></pre>\n"}], "owner": {"reputation": 1058, "user_id": 2697793, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/618647720/picture?type=large", "display_name": "sabrams", "link": "https://stackoverflow.com/users/2697793/sabrams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "accepted_answer_id": 29246431, "answer_count": 2, "score": 1, "last_activity_date": 1427250796, "creation_date": 1427250055, "last_edit_date": 1427250428, "question_id": 29246381, "link": "https://stackoverflow.com/questions/29246381/read-a-table-into-an-array-in-ruby-on-rails", "title": "Read a table into an array in Ruby on Rails", "body": "<p>Using RoR 4, and SQlite3 for development, mySQL for production.</p>\n\n<p>Given a table \"Things\":</p>\n\n<pre><code>POSITION    NAME     VALUE     CODE\n1           Animal   Dog       1\n1           Animal   Cat       2\n1           Animal   Bird      3\n2           Place    USA       1\n2           Place    Other     2\n3           Color    Red       a\n3           Color    Blue      b\n3           Color    Orange    c\n4           Age      Young     a\n4           Age      Middle    b\n4           Age      Old       c\n5           Alive    Yes       y\n5           Alive    No        n\n</code></pre>\n\n<p>How can I read the table into an array that looks like this:</p>\n\n<pre><code>a = [[\"1\", \"Animal\", \"Dog\", \"1\"],\n     [\"1\", \"Animal\", \"Cat\", \"2\"],\n     [\"1\", \"Animal\", \"Bird\", \"3\"],\n     [\"2\", \"Place\", \"USA\", \"1\"],\n     [\"2\", \"Place\", \"Other\", \"2\"],\n     [\"3\", \"Color\", \"Red\", \"a\"],\n     [\"3\", \"Color\", \"Blue\", \"b\"],\n     [\"3\", \"Color\", \"Orange\", \"c\"],\n     [\"4\", \"Age\", \"Young\", \"a\"],\n     [\"4\", \"Age\", \"Middle\", \"b\"],\n     [\"4\", \"Age\", \"Old\", \"c\"],\n     [\"5\", \"Alive\", \"Yes\", \"y\"],\n     [\"5\", \"Alive\", \"No\", \"n\"]] \n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1427250817, "post_id": 29246325, "comment_id": 46698265, "body": "Controller names are usually pluralname_controller.rb.  Even when it&#39;s a <code>resource</code> in routes"}, {"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1427251104, "post_id": 29246325, "comment_id": 46698343, "body": "pay attention to my answer. its resources: summaries, not resource."}, {"owner": {"reputation": 61, "user_id": 4629462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bcbd4553850a90cb7fd5e7a58bba2137?s=128&d=identicon&r=PG&f=1", "display_name": "GoDucks713", "link": "https://stackoverflow.com/users/4629462/goducks713"}, "edited": false, "score": 0, "creation_date": 1427251813, "post_id": 29246325, "comment_id": 46698491, "body": "I have updated the post from resource to resources. Still same error occurring. Thanks for sticking with me."}, {"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1427252722, "post_id": 29246325, "comment_id": 46698738, "body": "&quot;/topics/17/posts/56/summaries/new&quot;"}, {"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1427252730, "post_id": 29246325, "comment_id": 46698740, "body": "This route should work."}], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "is_accepted": true, "score": 1, "last_activity_date": 1427331739, "last_edit_date": 1427331739, "creation_date": 1427250055, "answer_id": 29246380, "question_id": 29246325, "link": "https://stackoverflow.com/questions/29246325/rails-routing-error-uninitialized-constant/29246380#29246380", "title": "rails routing error &#39;uninitialized constant&#39;", "body": "<p>You summaries resources must be nested inside the posts resources : </p>\n\n<pre><code>Rails.application.routes.draw do\n\n\n      devise_for :users\n\n      resources :topics do\n        resources :posts, except: [:index] do\n          resources :summaries, only: [:new, :show]\n        end\n      end\n\n      get 'about' =&gt; 'welcome#about'\n\n      root to: 'welcome#index'\nend\n</code></pre>\n\n<p>You also need to update your controller name to summariesController. </p>\n"}], "owner": {"reputation": 61, "user_id": 4629462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bcbd4553850a90cb7fd5e7a58bba2137?s=128&d=identicon&r=PG&f=1", "display_name": "GoDucks713", "link": "https://stackoverflow.com/users/4629462/goducks713"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 29246380, "answer_count": 1, "score": 0, "last_activity_date": 1427331739, "creation_date": 1427249687, "last_edit_date": 1427251227, "question_id": 29246325, "link": "https://stackoverflow.com/questions/29246325/rails-routing-error-uninitialized-constant", "title": "rails routing error &#39;uninitialized constant&#39;", "body": "<p>I've been learning RoR through Bloc.io and am having an issue with one of their assignments and need some help. I am creating a reddit clone and have run into some routing errors.</p>\n\n<p>I was tasked with creating a new 'summary' model that was associated with individual posts.</p>\n\n<p>Update: I have now nested the summary within the posts routing. Updated error at bottom of post.</p>\n\n<p>Update2: Renamed Summary to Summaries in needed places. Updated error at bottom of post.</p>\n\n<p>Here is the Updated route.rb file:</p>\n\n<pre><code>    Rails.application.routes.draw do\n\n      devise_for :users\n\n      resources :topics do\n        resources :posts, except: [:index] do\n          resources :summaries, only: [:new, :show]\n        end\n      end\n\n      get 'about' =&gt; 'welcome#about'\n\n      root to: 'welcome#index'\n    end\n</code></pre>\n\n<p>The summary.rb file:</p>\n\n<pre><code>    class Summary &lt; ActiveRecord::Base\n        belongs_to :post\n    end\n</code></pre>\n\n<p>The post.rb file:</p>\n\n<pre><code>    class Post &lt; ActiveRecord::Base\n        has_many :comments\n        has_one :summary\n        belongs_to :user\n        belongs_to :topic\n\n        default_scope { order('created_at DESC') }\n    end\n</code></pre>\n\n<p>The Updated summaries_controller.rb file:</p>\n\n<pre><code>    class SummariesController &lt; ApplicationController\n      def new\n        @summary = Summary.new\n      end\n\n      def show\n        @summary = Summary.find(params[:id])\n      end\n    end\n</code></pre>\n\n<p>And finally the error when I try to go to for instance \"/topics/17/posts/56/summary\"</p>\n\n<pre><code>    No route matches [GET] \"/topics/17/posts/56/summary\"\n</code></pre>\n\n<p>If I am missing any files or anything else I'll be happy to post.</p>\n\n<p>Thank you for any help you can give.</p>\n"}, {"tags": ["ruby", "image-processing"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 2, "creation_date": 1427248481, "post_id": 29246110, "comment_id": 46697740, "body": "Because the gems (ruby code) leverage or &quot;wrap&quot; the <i>existing</i> native (eg. C or C++) executable libraries available. Significant amounts of work has already been put into these - and C/C++ is <i>much</i> better/faster than Ruby for bit twiddling which is required for image manipulations - so the libraries/program suites are reused, which has the side-effect of making them dependencies."}], "answers": [{"comments": [{"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "edited": false, "score": 0, "creation_date": 1427262429, "post_id": 29246248, "comment_id": 46701268, "body": "Awesome, thanks. Do you have any suggestions about what gem I should use for image resizing, or should I just use ImageMagick?....I would like to avoid installing the dependencies if possible"}, {"owner": {"reputation": 44, "user_id": 991104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5a1c51db3fec8f2135fd83613ea3d9?s=128&d=identicon&r=PG", "display_name": "Greg Willits", "link": "https://stackoverflow.com/users/991104/greg-willits"}, "reply_to_user": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "edited": false, "score": 0, "creation_date": 1427346847, "post_id": 29246248, "comment_id": 46743491, "body": "&#39;Fraid not. I&#39;ve used IM for many years now (10+?), haven&#39;t even looked for something else."}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "edited": false, "score": 0, "creation_date": 1427380872, "post_id": 29246248, "comment_id": 46760501, "body": "No prob, Thanks for your help!"}], "tags": [], "owner": {"reputation": 44, "user_id": 991104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5a1c51db3fec8f2135fd83613ea3d9?s=128&d=identicon&r=PG", "display_name": "Greg Willits", "link": "https://stackoverflow.com/users/991104/greg-willits"}, "is_accepted": true, "score": 1, "last_activity_date": 1427249205, "creation_date": 1427249205, "answer_id": 29246248, "question_id": 29246110, "link": "https://stackoverflow.com/questions/29246110/why-do-most-image-processing-gems-for-ruby-require-more-then-just-a-gem/29246248#29246248", "title": "Why do most image processing gems for ruby require more then just a gem?", "body": "<p>For your example of RMagick and ImageMagick, each one focuses on a separate responsibility. First, ImageMagick is a (vast) library of image manipulation capabilities. Resizing is one teeny portion. I assume you've looked it up and seen all the things it can do. Second, RMagick is a Ruby-specific front end to simplify using ImageMagick specifically for Ruby programmers. There will be other similar libraries for other langauges.</p>\n\n<p>Why are they separate? Image manipulation requires oodles of specialized code which needs to process as efficiently as possible (speed, memory size, etc.). Such libraries tend to be written in C, or various flavors thereof. While it is not difficult to install ImageMagick, and write your own Ruby front end for it, it's not something most people want to do. Instead they hope someone else has already done it (RMagick), and they use just that.</p>\n\n<p>Me, since most projects use so little of ImageMagick, I prefer to write my own front end for the ImageMagick commands I actually use, and with APIs dedicated to the processes I use the most often. I wouldn't suggest everyone do that, but it can be done.</p>\n\n<p>Many gems are going to specialize in one focused purpose which solves a particular missing piece to a puzzle as they see it. If someone has already written a well-tested library X, and someone else has written Z, then if you need Y to glue them together in some way, you're likely to use X, use Z, and just write the Y piece. If you think Y might be useful to someone else, you can publish Y as a gem.</p>\n\n<p>Another guy comes along, and wants Y, and finds out he needs X and Z too. Normal.</p>\n"}, {"tags": [], "owner": {"reputation": 329, "user_id": 2137426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33ea5c12d767bfd1253940a960274f5?s=128&d=identicon&r=PG", "display_name": "An RMagick User", "link": "https://stackoverflow.com/users/2137426/an-rmagick-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1427395932, "creation_date": 1427395932, "answer_id": 29286609, "question_id": 29246110, "link": "https://stackoverflow.com/questions/29246110/why-do-most-image-processing-gems-for-ruby-require-more-then-just-a-gem/29286609#29286609", "title": "Why do most image processing gems for ruby require more then just a gem?", "body": "<p>When you say \"image resizing\" what kind of images are you talking about? GIFs? JPEGs? PNGs? PDFs? BMPs? All those are different kinds of images and require different code to resize them. What algorithm do you want to use for resizing? ImageMagick can use dozens of different algorithms to resize your image depending on what kind of image it is. Blueprints are very different from photographs, for example. What you want to optimize for, speed, image quality, file size? Are you making your image bigger or smaller? It makes a difference.</p>\n\n<p>You said you wanted to start with \"something easy\" but this ain't it. Image processing is a very hard problem. ImageMagick has been around since before Linux (check it out) and is really, really good at what it does. Yes, it's got a lot of dependencies and it's hard to install. Image processing is for grown-ups. Don't jump in if the water's too deep for you.</p>\n"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 29246248, "answer_count": 2, "score": 1, "last_activity_date": 1427395932, "creation_date": 1427248189, "question_id": 29246110, "link": "https://stackoverflow.com/questions/29246110/why-do-most-image-processing-gems-for-ruby-require-more-then-just-a-gem", "title": "Why do most image processing gems for ruby require more then just a gem?", "body": "<p>I am new to image processing in Ruby so I figured I would start out with something easy, resizing a bunch of photos to make thumbnails. I found several possible solutions including Rmagick, and Ruby-vips. I know there a more out there, but my question is why do these tools need additional installs to work? (RMagick gem requires ImageMagick program etc)</p>\n"}, {"tags": ["ruby", "naming-conventions"], "comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1427247829, "post_id": 29246016, "comment_id": 46697605, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/17685712/does-ruby-support-type-hinting\">Does Ruby support type-hinting?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3641, "user_id": 439332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/JNgeL.jpg?s=128&g=1", "display_name": "Reed G. Law", "link": "https://stackoverflow.com/users/439332/reed-g-law"}, "edited": false, "score": 0, "creation_date": 1427249704, "post_id": 29246258, "comment_id": 46697996, "body": "This matches Rails&#39; convention of <code>find_by_name</code> for finding by the <code>name</code> attribute."}, {"owner": {"reputation": 3641, "user_id": 439332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/JNgeL.jpg?s=128&g=1", "display_name": "Reed G. Law", "link": "https://stackoverflow.com/users/439332/reed-g-law"}, "edited": false, "score": 0, "creation_date": 1427250078, "post_id": 29246258, "comment_id": 46698092, "body": "Sorry, I marked this correct just before seeing Huang Minghe&#39;s answer. I like the required keyword arguments even better because it makes for a more concise method name and it raises an error if a required keyword is missing. You can also have optional keywords. <a href=\"https://robots.thoughtbot.com/ruby-2-keyword-arguments\" rel=\"nofollow noreferrer\">robots.thoughtbot.com/ruby-2-keyword-arguments</a>"}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": false, "score": 1, "last_activity_date": 1427249255, "creation_date": 1427249255, "answer_id": 29246258, "question_id": 29246016, "link": "https://stackoverflow.com/questions/29246016/how-to-make-ruby-methods-show-what-types-they-expect/29246258#29246258", "title": "How to make Ruby methods show what types they expect", "body": "<p>I would argue that <code>find_step_by_name</code> makes it clear that is expects a <code>name</code> and not a <code>step</code> that might have a name. If you are unsure if to support strings or symbols then allow both:</p>\n\n<pre><code>  def find_step_by_name(name)\n    @steps.find { |s| s.name == name.to_s }\n  end\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3641, "user_id": 439332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/JNgeL.jpg?s=128&g=1", "display_name": "Reed G. Law", "link": "https://stackoverflow.com/users/439332/reed-g-law"}, "edited": false, "score": 0, "creation_date": 1427249920, "post_id": 29246330, "comment_id": 46698056, "body": "Thanks! I wasn&#39;t aware of Ruby&#39;s required keyword arguments until now. The way you have <code>find_by</code> defined raised an error for missing keyword: name."}, {"owner": {"reputation": 3641, "user_id": 439332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/JNgeL.jpg?s=128&g=1", "display_name": "Reed G. Law", "link": "https://stackoverflow.com/users/439332/reed-g-law"}, "edited": false, "score": 0, "creation_date": 1427250122, "post_id": 29246330, "comment_id": 46698101, "body": "BTW, you don&#39;t need to raise an exception. The empty keyword in the method argument list is enough."}], "tags": [], "owner": {"reputation": 331, "user_id": 1475214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cf4ea9378db965a6845a801995fb6a?s=128&d=identicon&r=PG", "display_name": "Huang Minghe", "link": "https://stackoverflow.com/users/1475214/huang-minghe"}, "is_accepted": true, "score": 1, "last_activity_date": 1427250517, "last_edit_date": 1427250517, "creation_date": 1427249718, "answer_id": 29246330, "question_id": 29246016, "link": "https://stackoverflow.com/questions/29246016/how-to-make-ruby-methods-show-what-types-they-expect/29246330#29246330", "title": "How to make Ruby methods show what types they expect", "body": "<p>after Ruby2.1 I think the following solution is nice.</p>\n\n<pre><code>def find_by(name:)\n  # and you can check if type of name is what you expect as you need.\n  # But that is not duck-typingy.\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3641, "user_id": 439332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/JNgeL.jpg?s=128&g=1", "display_name": "Reed G. Law", "link": "https://stackoverflow.com/users/439332/reed-g-law"}, "edited": false, "score": 0, "creation_date": 1427276332, "post_id": 29251551, "comment_id": 46707748, "body": "I think @spickerman rightly points out that this method shouldn&#39;t care whether it&#39;s passed a string or a symbol. With duck typing our method can be even more flexible (e.g. add a .to_s method to Step). But overall I prefer to have a shorter method name with self-documenting argument list. Your find_by(symbol) isn&#39;t clear what symbol it&#39;s looking for without looking into the method definition."}, {"owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "reply_to_user": {"reputation": 3641, "user_id": 439332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/JNgeL.jpg?s=128&g=1", "display_name": "Reed G. Law", "link": "https://stackoverflow.com/users/439332/reed-g-law"}, "edited": false, "score": 0, "creation_date": 1427278983, "post_id": 29251551, "comment_id": 46709458, "body": "I agree. In the vast majority of cases, the argument type should be irrelevant, and I wouldn&#39;t use this style of parameter naming. But in the small number of cases where type is important, I think this is the clearest way of doing it."}], "tags": [], "owner": {"reputation": 7638, "user_id": 1014251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c4500c91af486c885af8bb84eefd063?s=128&d=identicon&r=PG", "display_name": "ReggieB", "link": "https://stackoverflow.com/users/1014251/reggieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1427275964, "last_edit_date": 1427275964, "creation_date": 1427274854, "answer_id": 29251551, "question_id": 29246016, "link": "https://stackoverflow.com/questions/29246016/how-to-make-ruby-methods-show-what-types-they-expect/29251551#29251551", "title": "How to make Ruby methods show what types they expect", "body": "<p>I think the best answer to the question is good choice of the argument name. If you intend a symbol to be passed into your find_by method, why not do this:</p>\n\n<pre><code>def find_by(symbol)\n  @steps.find {|s| s.name == symbol }\nend\n</code></pre>\n\n<p>However, I think this would be clearest option:</p>\n\n<pre><code>def find_by_name(symbol)\n  @steps.find {|s| s.name == symbol }\nend\n</code></pre>\n\n<p>I don't agree that using a keyword solves this problem. All it does is change the way the string or symbol is passed into the method.</p>\n\n<pre><code>def find_by(name:)\n  puts name\nend\n\nfind_by name: 'this'  # name has to be passed in via hash\nfind_by name: :that\n\ndef find_by(name)\n  puts name\nend\n\nfind_by 'this' # name is passed in directly\nfind_by :that\n</code></pre>\n\n<p>It doesn't get over the problem that 'name' doesn't imply what type of object is being passed in.</p>\n\n<p>I think keywords are really useful if you are passing in multiple arguments into the method, as they makes the code much more readable at the point it is used.</p>\n\n<pre><code>def mass(width:, height:, density:)\n  width * height * density\nend\n\nmass width: 3, height: 11, density: 0.5\n</code></pre>\n\n<p>That means you don't have to go to the mass method definition each time it's used to work out what's being passed in. It also removes the necessity to get the argument order correct. This will work just as well:</p>\n\n<pre><code>mass width: 3, density: 0.5, height: 11\n</code></pre>\n\n<p>But for a method that has a single argument, I think you're just adding complexity by using keywords. </p>\n"}], "owner": {"reputation": 3641, "user_id": 439332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/JNgeL.jpg?s=128&g=1", "display_name": "Reed G. Law", "link": "https://stackoverflow.com/users/439332/reed-g-law"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 29246330, "answer_count": 3, "score": 1, "last_activity_date": 1427275964, "creation_date": 1427247436, "last_edit_date": 1495540773, "question_id": 29246016, "link": "https://stackoverflow.com/questions/29246016/how-to-make-ruby-methods-show-what-types-they-expect", "title": "How to make Ruby methods show what types they expect", "body": "<p>What is the best practice for expressing intent with Ruby method names?</p>\n\n<p>For example, with the following:</p>\n\n<pre><code>class Formula\n  attr_accessor :steps\n\n  def find_step(key)\n    @steps.find {|s| s.name == key }\n  end\n\nend\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>class Step\n  attr_accessor :name\nend\n</code></pre>\n\n<p>The <code>Formula#find_step</code> method expects a <code>Symbol</code> but it could just as easily take a <code>Step</code> type and check that the names match. I could rename the method <code>find_step_by_name</code> but it's still not clear what <code>name</code> is. Is it a string or a symbol? Or is it matching the name on a <code>Step</code> object?</p>\n\n<p>Edit: marked as a possible duplicate of <a href=\"https://stackoverflow.com/questions/17685712/does-ruby-support-type-hinting\">Does Ruby support type-hinting?</a>\nI'm not asking if it's possible, I'm asking a question about naming.</p>\n"}, {"tags": ["ruby", "shell"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1427245231, "post_id": 29245377, "comment_id": 46696995, "body": "I&#39;m unable to reproduce... I get <code>find &#47;app -type f -name &#39;.DS_Store&#39; -print0 | xargs -0 rm -rdf</code> with output: &quot;&quot;"}, {"owner": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 1, "creation_date": 1427245677, "post_id": 29245377, "comment_id": 46697105, "body": "What is the value of <code>@copies_folder</code>?"}, {"owner": {"reputation": 44, "user_id": 991104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5a1c51db3fec8f2135fd83613ea3d9?s=128&d=identicon&r=PG", "display_name": "Greg Willits", "link": "https://stackoverflow.com/users/991104/greg-willits"}, "edited": false, "score": 0, "creation_date": 1427247894, "post_id": 29245377, "comment_id": 46697619, "body": "<code>@copies_folder</code> is a path of..... e-friggin-gads. Just went to print it out (again, done it before) and through a quirk of fate, it was empty. Arrrrgh. Sorry to have you waste cycles on this. &quot;What a maroon&quot; -- Bugs (Now I have to go try to answer two questions to bring the universe back into balance.)"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1427255812, "post_id": 29245377, "comment_id": 46699423, "body": "I didn&#39;t see your comment, and when running some tests, I got the same error in the shell when I did this:  <code>find -type f -name 1.*</code>.  t"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1427256506, "post_id": 29245377, "comment_id": 46699642, "body": "I didn&#39;t see your comment, and I was running some tests, and by accident I executed the following in the shell: <code>find -type f -name *.*</code>, and I got the same error you did from your ruby program.  Of course, that meant that your path,<code>#{@copies_folder}</code>, was nil or &#39;&#39; in your ruby program."}], "owner": {"reputation": 44, "user_id": 991104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5a1c51db3fec8f2135fd83613ea3d9?s=128&d=identicon&r=PG", "display_name": "Greg Willits", "link": "https://stackoverflow.com/users/991104/greg-willits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427242820, "creation_date": 1427242820, "question_id": 29245377, "link": "https://stackoverflow.com/questions/29245377/shell-command-in-backticks-behaves-differently-than-cli", "title": "Shell command in backticks behaves differently than CLI", "body": "<p>Ruby 2.1.5 (or 1.8.7, or 1.9.3), OS X 10.10</p>\n\n<p>I've used the find command like the following for eons to strip away OS-specific hidden folders, svn folders, etc.</p>\n\n<p><code>find /somewhere -type f -name '.DS_Store' -print0 | xargs -0 rm -rdf</code></p>\n\n<p>However, when automating with Ruby, like this (in backticks):</p>\n\n<p><code>find #{@copies_folder} -type f -name '.DS_Store' -print0 | xargs -0 rm -rdf</code></p>\n\n<p>find gags and the message \"illegal option -- t\" is displayed. Note the -- is followed by a space.</p>\n\n<p>It seems plausible to me that -type is being misinterpreted as -t, and therefore flagged as invalid. Since there's no <code>--type</code> alternate form, I don't see any way to monkey with the command string itself.</p>\n\n<p>I've tried using <code>%x[]</code> and <code>popen3</code> as alternate approaches, but getting the same reaction.</p>\n\n<p>I've automated a lot of shell commands in Ruby successfully, but this one I can't figure out. The version of Ruby doesn't seem to matter.</p>\n\n<p>Any ideas or suggestions on some other way to skin this cat? Many thx.</p>\n"}, {"tags": ["ruby", "arrays", "enumerable"], "comments": [{"owner": {"reputation": 2597, "user_id": 1329321, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/c3c2bc221f92e4a674ac01510cf900f0?s=128&d=identicon&r=PG", "display_name": "Mike Manfrin", "link": "https://stackoverflow.com/users/1329321/mike-manfrin"}, "edited": false, "score": 0, "creation_date": 1427242651, "post_id": 29245134, "comment_id": 46696266, "body": "Could you give an example of the type of output you&#39;re trying to achieve?"}, {"owner": {"reputation": 49, "user_id": 4647279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6VPzR-E0A7M/AAAAAAAAAAI/AAAAAAAAAGc/jTiN4QPk6IE/photo.jpg?sz=128", "display_name": "Grace B.", "link": "https://stackoverflow.com/users/4647279/grace-b"}, "reply_to_user": {"reputation": 2597, "user_id": 1329321, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/c3c2bc221f92e4a674ac01510cf900f0?s=128&d=identicon&r=PG", "display_name": "Mike Manfrin", "link": "https://stackoverflow.com/users/1329321/mike-manfrin"}, "edited": false, "score": 0, "creation_date": 1427251968, "post_id": 29245134, "comment_id": 46698528, "body": "I&#39;m looking to get (roughly) counts for fail and success for each aspect of the tests, like 50% of the Firefox tests failed, etc.  I believe Mark Thomas&#39; answer is what I needed, though. Thank you. :)"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4647279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6VPzR-E0A7M/AAAAAAAAAAI/AAAAAAAAAGc/jTiN4QPk6IE/photo.jpg?sz=128", "display_name": "Grace B.", "link": "https://stackoverflow.com/users/4647279/grace-b"}, "edited": false, "score": 0, "creation_date": 1427251947, "post_id": 29245681, "comment_id": 46698522, "body": "The code I&#39;m writing is generating a fresh AoA every time I run it, so I can modify it to AoH (although I appreciate the map suggestion).  That example is the clearest one I&#39;ve seen, and I&#39;ll work from it. Thank you!"}], "tags": [], "owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "is_accepted": true, "score": 3, "last_activity_date": 1427245947, "last_edit_date": 1427245947, "creation_date": 1427244864, "answer_id": 29245681, "question_id": 29245134, "link": "https://stackoverflow.com/questions/29245134/ruby-enumerable-method-example/29245681#29245681", "title": "Ruby enumerable method example", "body": "<p>I would recommend that you use a different data structure than an array of arrays. You can use a struct, a custom class, or even simply an array of hashes. This gives you a huge readability and queryability advantage and also a slight performance gain.</p>\n\n<p>Here's an example of an array of hashes:</p>\n\n<pre><code>  runs =\n    [{\"Run #\"  =&gt;\"1\",\n      \"Server\" =&gt;\"bibble\",\n      \"Test\"   =&gt;\"perf_test\",\n      \"OS\"     =&gt;\"Windows 8\",\n      \"Browser\"=&gt;\"firefox 33\",\n      \"Result\" =&gt;\"failed\"\n     },\n     {\"Run #\"  =&gt;2,\n      \"Server\" =&gt;\"bibble\",\n      \"Test\"   =&gt;\"perf_test\",\n      \"OS\"     =&gt;\"Linux\",\n      \"Browser\"=&gt;\"firefox 26\",\n      \"Result\" =&gt;\"failed\"\n     }]\n</code></pre>\n\n<p>By the way, I created it from your array-of-arrays like so: <code>a.drop(1).map {|x| a.first.zip(x).to_h}</code></p>\n\n<p>Once you have it, you can query using the Enumerable method <code>select</code>. To find all failed firefox tests:</p>\n\n<pre><code>runs.select{|r| r[\"Result\"]==\"failed\"}.select{|r| r[\"Browser\"]=~/firefox/}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4647279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6VPzR-E0A7M/AAAAAAAAAAI/AAAAAAAAAGc/jTiN4QPk6IE/photo.jpg?sz=128", "display_name": "Grace B.", "link": "https://stackoverflow.com/users/4647279/grace-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 29245681, "answer_count": 1, "score": 2, "last_activity_date": 1427245947, "creation_date": 1427241537, "last_edit_date": 1427242455, "question_id": 29245134, "link": "https://stackoverflow.com/questions/29245134/ruby-enumerable-method-example", "title": "Ruby enumerable method example", "body": "<p>TL;DR: I'm new to Ruby and need help with Enumerable methods and how to use them.</p>\n\n<p>I'm building an array of arrays of test information structured like so:</p>\n\n<pre><code>[[ \"Run #\", \"Server\", \"Test\", \"OS\", \"Browser\", \"Result\" ],\n [ \"1\", \"bibble\", \"perf_test\", \"Windows 8\", \"firefox 33\", \"failed\"]]\n</code></pre>\n\n<p>I'm trying to write a rudimentary stats output (sorted by result and other aspects, specifically so that it's immediately human-obvious whether, say, all the firefox tests are failing, or all the tests on server bibble are failing.) From what I can grasp, Enumerable operations will allow me to do this, but I cannot find clear examples (like, LI5 clear) examples of how to use the methods.</p>\n\n<p>So my question is -- what is the simplest example possible of using Enumerable methods over at least a 3x3 array of arrays?</p>\n"}, {"tags": ["ruby", "jekyll", "github-pages"], "answers": [{"comments": [{"owner": {"reputation": 5410, "user_id": 827452, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a9ef0e0416eff267399e76c1d7a7b434?s=128&d=identicon&r=PG", "display_name": "Ege Ersoz", "link": "https://stackoverflow.com/users/827452/ege-ersoz"}, "edited": false, "score": 2, "creation_date": 1430706525, "post_id": 29245615, "comment_id": 48160820, "body": "Cool. The problem is actually caused by the <code>safe_yaml</code> gem 1.0.3. The subsequent version, 1.0.4 fixes it, which is what <code>bundle update</code> does. :)"}], "tags": [], "owner": {"reputation": 103, "user_id": 2294961, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a8002a37119322b475cbf5a10beae6e0?s=128&d=identicon&r=PG", "display_name": "cjweiner", "link": "https://stackoverflow.com/users/2294961/cjweiner"}, "is_accepted": false, "score": 9, "last_activity_date": 1427244345, "creation_date": 1427244345, "answer_id": 29245615, "question_id": 29245100, "link": "https://stackoverflow.com/questions/29245100/github-pages-error-running-jekyll-locally/29245615#29245615", "title": "Github-Pages error running Jekyll Locally", "body": "<p>So after some more digging I was missing a simple step. After running the command <code>bundle install</code> I needed to run <code>bundle update</code>. Once I did this the version of jekyll and other dependencies was brought up to the correct version and I was then able to run my <code>bundle exec jekyll serve -w</code> command without any errors.</p>\n\n<p>This seems strange that the initial install command would not install the latest version.</p>\n"}], "owner": {"reputation": 103, "user_id": 2294961, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a8002a37119322b475cbf5a10beae6e0?s=128&d=identicon&r=PG", "display_name": "cjweiner", "link": "https://stackoverflow.com/users/2294961/cjweiner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427244345, "creation_date": 1427241334, "question_id": 29245100, "link": "https://stackoverflow.com/questions/29245100/github-pages-error-running-jekyll-locally", "title": "Github-Pages error running Jekyll Locally", "body": "<p>I am trying to run my Github-pages website locally. I have it running on another machine that is using Ruby 2.1.0 on Windows x64. Today I wanted to run locally on my home machine that is running Ruby 2.2.0. I pulled my repo locally, ran <code>bundle install</code> after a few issues with nokogiri I was able to get through a clean <code>bundle install</code>. I then proceeded to run the command <code>bundle exec jekyll serve -w</code>. Upon running this command I receive the following errors:</p>\n\n<pre><code>/Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0@global/gems/commander 4.1.6/lib/commander/runner.rb:385:in block in require_program': program version required (Commander::Runner::CommandError)\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0@global/gems/commander-4.1.6/lib/commander/runner.rb:384:in `each'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0@global/gems/commander-4.1.6/lib/commander/runner.rb:384:in require_program'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0@global/gems/commander-4.1.6/lib/commander/runner.rb:52:in run!'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0@global/gems/commander-4.1.6/lib/commander/delegates.rb:8:in run!'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0@global/gems/commander-4.1.6/lib/commander/import.rb:10:in block in &lt;top (required)&gt;'\n/Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/safe_yaml-1.0.3/lib/safe_yaml/load.rb:43:in &lt;module:SafeYAML&gt;': undefined method tagged_classes' for Psych:Module (NoMethodError)\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/safe_yaml-1.0.3/lib/safe_yaml/load.rb:26:in &lt;top (required)&gt;'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/safe_yaml-1.0.3/lib/safe_yaml.rb:1:in require'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/safe_yaml-1.0.3/lib/safe_yaml.rb:1:in &lt;top (required)&gt;'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/jekyll-1.5.1/lib/jekyll.rb:21:in require'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/jekyll-1.5.1/lib/jekyll.rb:21:in &lt;top (required)&gt;'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/jekyll-1.5.1/bin/jekyll:7:in require'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/gems/jekyll-1.5.1/bin/jekyll:7:in &lt;top (required)&gt;'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/bin/jekyll:23:in load'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/bin/jekyll:23:in &lt;main&gt;'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/bin/ruby_executable_hooks:15:in eval'\n    from /Users/&lt;me&gt;/.rvm/gems/ruby-2.2.0/bin/ruby_executable_hooks:15:in &lt;main&gt;'\n</code></pre>\n\n<p>I'm beginning to believe that this issue is not to do with my setup but with an incompatibility with jekyll on ruby 2.2.0. Any help would be appreciated.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "paypal"], "comments": [{"owner": {"reputation": 8724, "user_id": 1068283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XZLfw.jpg?s=128&g=1", "display_name": "Michael Hampton", "link": "https://stackoverflow.com/users/1068283/michael-hampton"}, "edited": false, "score": 0, "creation_date": 1431199055, "post_id": 29245074, "comment_id": 48396585, "body": "If you mean the <a href=\"https://github.com/paypal/PayPal-Ruby-SDK\" rel=\"nofollow noreferrer\">official PayPal gem</a> it&#39;s meant for other people to pay <i>you</i>. I think all you can really do in this case is to send users to PayPal&#39;s website."}, {"owner": {"reputation": 706, "user_id": 4706028, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0f9ab6c0881ff54e5053ea8c3e07bbc0?s=128&d=identicon&r=PG&f=1", "display_name": "Zippo9", "link": "https://stackoverflow.com/users/4706028/zippo9"}, "reply_to_user": {"reputation": 8724, "user_id": 1068283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XZLfw.jpg?s=128&g=1", "display_name": "Michael Hampton", "link": "https://stackoverflow.com/users/1068283/michael-hampton"}, "edited": false, "score": 0, "creation_date": 1431201836, "post_id": 29245074, "comment_id": 48397416, "body": "I&#39;m looking for something similar to Stripe Connect but under paypal if it is available"}], "answers": [{"tags": [], "owner": {"reputation": 3372, "user_id": 4840536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79PlI.png?s=128&g=1", "display_name": "pp_pduan", "link": "https://stackoverflow.com/users/4840536/pp-pduan"}, "is_accepted": false, "score": 0, "last_activity_date": 1456196957, "creation_date": 1456196957, "answer_id": 35568069, "question_id": 29245074, "link": "https://stackoverflow.com/questions/29245074/peer-to-peer-payments-using-paypal-gem/35568069#35568069", "title": "Peer to peer payments using PayPal gem", "body": "<p>You were looking at the REST API gem which has not yet included the P2P/platform feature (in the up-to-date release).</p>\n\n<p>Adaptive Payments would work in your case to allow P2P payments on your platform, where you're supposed to be the API caller, and transactions are made from sender to reciever(you identified in the 'PAY' API call) on your platform.</p>\n\n<p>See more scenario descriptions <a href=\"https://developer.paypal.com/docs/classic/adaptive-payments/gs_AdaptivePayments/\" rel=\"nofollow\">HERE</a></p>\n\n<p>And you should look for the classic SDKs which Adaptive Payments are included\nSDK - <a href=\"https://github.com/paypal/adaptivepayments-sdk-ruby\" rel=\"nofollow\">Github repo for Adaptive Payments gem</a></p>\n"}], "owner": {"reputation": 706, "user_id": 4706028, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0f9ab6c0881ff54e5053ea8c3e07bbc0?s=128&d=identicon&r=PG&f=1", "display_name": "Zippo9", "link": "https://stackoverflow.com/users/4706028/zippo9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1456196957, "creation_date": 1427241206, "last_edit_date": 1444320763, "question_id": 29245074, "link": "https://stackoverflow.com/questions/29245074/peer-to-peer-payments-using-paypal-gem", "title": "Peer to peer payments using PayPal gem", "body": "<p>I plan on using the <a href=\"https://github.com/paypal/PayPal-Ruby-SDK\" rel=\"nofollow\">PayPal gem</a> in my Rails application, but after reading the docs and watching the Railscast on it, I am still uncertain if the gem allows users to send money to one another.</p>\n\n<p>Is there a particular part of the PayPal docs I should have a look at? I read into the PayPal Adaptive payments but that still seems like it is for the merchant to pay several people rather than for users to pay each other. </p>\n"}, {"tags": ["ruby", "hash", "tostring"], "comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 1, "creation_date": 1427241799, "post_id": 29245019, "comment_id": 46695967, "body": "How should the output look like if there are multiple emails or multiple home entries? Can you give an example?"}, {"owner": {"reputation": 2096, "user_id": 2108990, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/886481640b3ab8f05cdf3be8c0efdad6?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/2108990/zack"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1427241866, "post_id": 29245019, "comment_id": 46695990, "body": "@hek2mgl done. Doesn&#39;t need to be anything that special. Thanks!"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1427241973, "post_id": 29245019, "comment_id": 46696025, "body": "You told <code>This issue is ...</code>"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1427242971, "post_id": 29245019, "comment_id": 46696359, "body": "Ok, your edit explained it."}], "answers": [{"tags": [], "owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "is_accepted": true, "score": 2, "last_activity_date": 1427242681, "creation_date": 1427242681, "answer_id": 29245350, "question_id": 29245019, "link": "https://stackoverflow.com/questions/29245019/parsing-a-hash-to-print-into-a-nicely-formatted-string/29245350#29245350", "title": "Parsing a hash to print into a nicely formatted string", "body": "<p>You could use the following code:</p>\n\n<pre><code>array = [{\"type\"=&gt;\"work\", \"value\"=&gt;\"work@work.com\"}, {\"type\"=&gt;\"home\", \"value\"=&gt;\"home@home.com\"}]\n\nstring = array.map do |item|\n    item = \"#{item['type'].capitalize}: #{item['value']}\"\nend.join(\", \")\n\nputs string\n</code></pre>\n\n<p><em>Output:</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Work: work@work.com, Home: home@home.com, Home: home2@home2.com\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1427250455, "creation_date": 1427250455, "answer_id": 29246430, "question_id": 29245019, "link": "https://stackoverflow.com/questions/29245019/parsing-a-hash-to-print-into-a-nicely-formatted-string/29246430#29246430", "title": "Parsing a hash to print into a nicely formatted string", "body": "<p>You could write:</p>\n\n<pre><code>arr = [{ \"type\"=&gt;\"work\",    \"value\"=&gt;\"work@work.com\"    },\n       { \"type\"=&gt;\"home\",    \"value\"=&gt;\"home@home.com\"    },\n       { \"type\"=&gt;\"cottage\", \"value\"=&gt;\"cot1@cottage.com\" },\n       { \"type\"=&gt;\"home\",    \"value\"=&gt;\"home2@home2.com\"  },\n       { \"type\"=&gt;\"cottage\", \"value\"=&gt;\"cot2@cottage.com\" }]\n\nh = arr.each_with_object({}) { |g,h|\n  h.update(g[\"type\"]=&gt;[g[\"value\"]]) { |_,o,n| o+n } }\n  #=&gt; {\"work\"=&gt;[\"work@work.com\"],\n  #    \"home\"=&gt;[\"home@home.com\", \"home2@home2.com\"],\n  #    \"cottage\"=&gt;[\"cot1@cottage.com\", \"cot2@cottage.com\"]}\n\nputs h.map { |k,v| \"#{k.capitalize}: #{v.join(', ')}\" }.join(\"\\n\")\n  # Work: work@work.com\n  # Home: home@home.com, home2@home2.com\n  # Cottage: cot1@cottage.com, cot2@cottage.com\n</code></pre>\n\n<p>This uses the form of <a href=\"http://ruby-doc.org/core-2.2.0/Hash.html#method-i-update\" rel=\"nofollow\">Hash#update</a> (aka <code>merge!</code>) that uses a block to determine the values of keys that are present in both hashes being merged.</p>\n"}], "owner": {"reputation": 2096, "user_id": 2108990, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/886481640b3ab8f05cdf3be8c0efdad6?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/2108990/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 1, "accepted_answer_id": 29245350, "answer_count": 2, "score": 2, "last_activity_date": 1427250455, "creation_date": 1427240923, "last_edit_date": 1427241845, "question_id": 29245019, "link": "https://stackoverflow.com/questions/29245019/parsing-a-hash-to-print-into-a-nicely-formatted-string", "title": "Parsing a hash to print into a nicely formatted string", "body": "<p>I have the following array (which is part of a much larger hash):</p>\n\n<pre><code>[{\"type\"=&gt;\"work\", \"value\"=&gt;\"work@work.com\"}, {\"type\"=&gt;\"home\", \"value\"=&gt;\"home@home.com\"}, {\"type\"=&gt;\"home\", \"value\"=&gt;\"home2@home2.com\"}]\n</code></pre>\n\n<p>I would like somehow take that and convert it to a neatly formatted string such as:</p>\n\n<pre><code>Work: work@work.com, Home: home@home.com, Home: home2@home2.com\n</code></pre>\n\n<p>The issue is that this array will now always be the same, sometime it will have 2 emails, sometimes 5, sometimes none. And what is worse is that there can even be duplicates. two home emails for example. </p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 1475, "user_id": 1743874, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/vQYev.png?s=128&g=1", "display_name": "Piccolo", "link": "https://stackoverflow.com/users/1743874/piccolo"}, "is_accepted": true, "score": 0, "last_activity_date": 1427241584, "creation_date": 1427241584, "answer_id": 29245149, "question_id": 29244923, "link": "https://stackoverflow.com/questions/29244923/error-in-each-execution-ruby/29245149#29245149", "title": "Error in .each execution (Ruby)", "body": "<p>There's an easier way than iterating through each array. The <code>Array#include</code> method can be easily used to see if the word is contained in your redacted list.</p>\n\n<p>Here's some code that should behave how you wanted the original code to behave:</p>\n\n<pre><code>puts \"Enter string: \"\ntext = gets.chomp\nredact = File.read(\"wordlist.txt\").split(\" \")\nwords = text.split(\" \")\n\nwords.each do |word|\n  if redact.include? word\n    print \"[snip] \"\n  else\n    print word + \" \"\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 991104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5a1c51db3fec8f2135fd83613ea3d9?s=128&d=identicon&r=PG", "display_name": "Greg Willits", "link": "https://stackoverflow.com/users/991104/greg-willits"}, "is_accepted": false, "score": 0, "last_activity_date": 1427244983, "creation_date": 1427244983, "answer_id": 29245691, "question_id": 29244923, "link": "https://stackoverflow.com/questions/29244923/error-in-each-execution-ruby/29245691#29245691", "title": "Error in .each execution (Ruby)", "body": "<p>Scrubbing text gets very tricky. One thing you want to watch out for is word boundaries. Splitting on spaces will let a lot of beep words get through because of puctuation. Compare the first two results of the sample code below.</p>\n\n<p>Next, assembling the split text back into its intended form with punction, spacing, etc., gets to be quite challenging. You may want to consider using regex for something presuambly as small as user comments. See the third result.</p>\n\n<p>If you're doing this as a learning exercise, great, but if the application is sensitive where you're likely to take heat over failures to bleep words, you may want to look for an existing well-tested library.</p>\n\n<pre><code>#!/usr/bin/env ruby\n# Bleeper\n\nscifi_curses = ['friggin', 'gorram', 'fracking', 'dork']\ntext = \"Why splitting spaces won't catch all the friggin bleeps ya gorram, fracking dork.\"\n\nwords = text.split(\" \")\nwords.each do |this_word|\n  puts \"bleep #{this_word}\" if scifi_curses.include?(this_word)\nend\n\nputs\n\nbetter_words = text.split(/\\b/)\nbetter_words.each do |this_word|\n  puts \"bleep #{this_word}\" if scifi_curses.include?(this_word)\nend\n\nputs\n\nbleeped_text = text # keep copy of original if needed\nscifi_curses.each do |this_curse|\n  bleeped_text.gsub!(this_curse, '[bleep]')\nend\n\nputs bleeped_text\n</code></pre>\n\n<p>You should get these results:</p>\n\n<pre><code>bleep friggin\nbleep fracking\n\nbleep friggin\nbleep gorram\nbleep fracking\nbleep dork\n\nWhy splitting spaces won't catch all the [bleep] bleeps ya [bleep], [bleep] [bleep].\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4709748, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Cp2VP.png?s=128&g=1", "display_name": "Touka", "link": "https://stackoverflow.com/users/4709748/touka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 29245149, "answer_count": 2, "score": 0, "last_activity_date": 1427244983, "creation_date": 1427240405, "last_edit_date": 1427240838, "question_id": 29244923, "link": "https://stackoverflow.com/questions/29244923/error-in-each-execution-ruby", "title": "Error in .each execution (Ruby)", "body": "<p>I'm making an auditor with ruby which started off fine this morning (using single word, user inputted content to omit) but now that I've tried to implement a wordlist, it <code>puts</code> the string to search through as many times as there are words in the wordlist, only censoring it once or twice. My code is as follows.</p>\n\n<pre><code>#by Nightc||ed, \u00a92015\nputs \"Enter string: \"\ntext = gets.chomp\nredact = File.read(\"wordlist.txt\").split(\" \")\nwords = text.split(\" \")\nredact.each do |beep|\n    words.each do |word|\n        if word != beep\n            print word + \" \"\n        else\n            print \"[snip] \"\n        end\n    end\nend\nsleep\n</code></pre>\n\n<p>I kind of understand why it doesn't work but I'm not sure how to fix it.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["ruby", "chef-infra"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 1152865, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c03dea0e249fc336b9da35a041914c6?s=128&d=identicon&r=PG", "display_name": "yoshiwaan", "link": "https://stackoverflow.com/users/1152865/yoshiwaan"}, "edited": false, "score": 0, "creation_date": 1427300021, "post_id": 29257638, "comment_id": 46723899, "body": "Thank you, that does seem to work (with ::Config instead of ::config). Is there a better way to do this in general though? It seems funny to fallback on using file paths like regular ruby when Chef has its own structure and way of loading libraries. I thought Chef might have some sort of built in way to find library dependencies, especially for sub modules like this."}], "tags": [], "owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "is_accepted": false, "score": 0, "last_activity_date": 1427300085, "last_edit_date": 1427300085, "creation_date": 1427291479, "answer_id": 29257638, "question_id": 29244575, "link": "https://stackoverflow.com/questions/29244575/chef-library-other-cookbook-library-dependency/29257638#29257638", "title": "Chef library other cookbook library dependency", "body": "<p>You may require with a known path from chef-cache and the known path to the library inside the cookbook.</p>\n\n<p>something like this should do:</p>\n\n<pre><code>require File.join(Chef::Config['chef_repo_path'],'cookbooks/aws/libraries/ec2_region')\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 1152865, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c03dea0e249fc336b9da35a041914c6?s=128&d=identicon&r=PG", "display_name": "yoshiwaan", "link": "https://stackoverflow.com/users/1152865/yoshiwaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 801, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1427300085, "creation_date": 1427238444, "question_id": 29244575, "link": "https://stackoverflow.com/questions/29244575/chef-library-other-cookbook-library-dependency", "title": "Chef library other cookbook library dependency", "body": "<p>I'm trying to write a wrapper cookbook for the Public Aws cookbook in chef. I'm making a recipe which installs the CodeDeploy agent, which can change depending on the region. I've written a couple of libraries to help me do this but I get stuck when the library in my wrapper cookbook depends on a library in the original cookbook. I'm not sure if I need to do a require + include here (and if I do I don't know the path for require).</p>\n\n<p>I have 'depends \"aws\"' in my metadata.rb file.</p>\n\n<p>How can I set up the dependencies properly so this works? At the moment I get errors like this</p>\n\n<pre><code>undefined method `instance_availability_zone' for Chef::Resource::RemoteFile\n</code></pre>\n\n<p>Or am I doing this totally wrong?</p>\n\n<p>Here's the library with the problem</p>\n\n<pre><code>module Opscode\n  module Aws\n    module Ec2\n      module Region\n        # require '?????' # Do I need this?\n        # include Opscode::Aws::Ec2 # Do I need this?\n        def instance_region\n          # query instance region comes from Opscode::Aws::Ec2\n          # this is the dependency. \n          # Using Opscode::Aws::Ec2.instance_availability_zone doesn't\n          # work either.\n          @@instance_region ||= query_instance_region \n        end\n        def query_instance_region\n          region = instance_availability_zone\n          region = region[0, region.length - 1]\n          region\n        end\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>This library works as I know the require path</p>\n\n<pre><code>require File.join(File.dirname(__FILE__), 'ec2_region')\nmodule Opscode\n  module Aws\n    module CodeDeploy\n      include Opscode::Aws::Ec2::Region\n      def codedeploy_region_url\n        @@region_url ||= query_codedeploy_region_url\n      end\n      def query_codedeploy_region_url\n        region = instance_region\n        codeDeployPath = \"https://s3.amazonaws.com/aws-codedeploy-#{region}/latest/codedeploy-agent.noarch.rpm\"\n        codeDeployPath\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>And here's the recipe</p>\n\n<pre><code>Chef::Resource::RemoteFile.send(:include, Opscode::Aws::CodeDeploy)\n\nremote_file \"#{Chef::Config[:file_cache_path]}/codedeploy-agent.rpm\" do\n  source codedeploy_region_url\nend\n</code></pre>\n"}, {"tags": ["ruby", "rack", "middleware"], "answers": [{"tags": [], "owner": {"reputation": 1028, "user_id": 3527644, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1dad7383300b603c81c4e03f33aa7a0e?s=128&d=identicon&r=PG&f=1", "display_name": "lehnerchristian", "link": "https://stackoverflow.com/users/3527644/lehnerchristian"}, "is_accepted": true, "score": 1, "last_activity_date": 1427454868, "creation_date": 1427454868, "answer_id": 29299409, "question_id": 29244390, "link": "https://stackoverflow.com/questions/29244390/combine-rackbuilder-and-rackcascade/29299409#29299409", "title": "Combine Rack::Builder and Rack::Cascade", "body": "<p>The answer to this question is that I had to remove the resources (e.g. resource :user) from the APIs and then use Rack::Builder as follows:</p>\n\n<pre><code>app = Rack::Builder.new {\n    map '/user' do\n        use Middleware\n        run ExampleAPI1\n    end\n\n    map '/items' do\n        run ExampleAPI2\n    end\n\n    map '/locations' do\n        run ExampleAPI3\n    end\n\n    map '/reports' do\n        run ExampleAPI4\n    end\n}\n</code></pre>\n\n<p>The problem with Rack::Cascade was that it tries every app from top to bottom until it finds the a suitable endpoint</p>\n"}], "owner": {"reputation": 1028, "user_id": 3527644, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1dad7383300b603c81c4e03f33aa7a0e?s=128&d=identicon&r=PG&f=1", "display_name": "lehnerchristian", "link": "https://stackoverflow.com/users/3527644/lehnerchristian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 29299409, "answer_count": 1, "score": 2, "last_activity_date": 1427454868, "creation_date": 1427237558, "question_id": 29244390, "link": "https://stackoverflow.com/questions/29244390/combine-rackbuilder-and-rackcascade", "title": "Combine Rack::Builder and Rack::Cascade", "body": "<p>Sorry if this question is a duplication of another question, but i haven't found it yet.</p>\n\n<p>I have some Grape APIs (which are Rack apps) and one of them (the user API) uses a middleware for authentication.</p>\n\n<p>In my config.ru file i combined all APIs to one app via Rack::Cascade. Here's the code:</p>\n\n<pre><code>user_management = Rack::Builder.new {\n  use Middleware\n  run UserAPI.new\n}\napp = Rack::Cascade.new [\n    user_management,\n    ExampleAPI1,\n    ExampleAPI2,\n    ExampleAPI3\n]\n</code></pre>\n\n<p>The problem is that the middleware is called every time when any of the APIs gets a request.</p>\n\n<p>Does anybody have any advice on how to use the middleware only when the user API gets a request?</p>\n"}, {"tags": ["ruby", "nokogiri"], "answers": [{"comments": [{"owner": {"reputation": 877, "user_id": 2526278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3faebcd2c491e2bae0e6e43f01fcfed?s=128&d=identicon&r=PG", "display_name": "Anwuna", "link": "https://stackoverflow.com/users/2526278/anwuna"}, "edited": false, "score": 0, "creation_date": 1427238829, "post_id": 29244168, "comment_id": 46695037, "body": "But how come this works, though ruby ensures methods names start either with a  lower case letter or an underscore character?"}, {"owner": {"reputation": 61438, "user_id": 63034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZXKMO.jpg?s=128&g=1", "display_name": "mikej", "link": "https://stackoverflow.com/users/63034/mikej"}, "reply_to_user": {"reputation": 877, "user_id": 2526278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3faebcd2c491e2bae0e6e43f01fcfed?s=128&d=identicon&r=PG", "display_name": "Anwuna", "link": "https://stackoverflow.com/users/2526278/anwuna"}, "edited": false, "score": 0, "creation_date": 1427239299, "post_id": 29244168, "comment_id": 46695201, "body": "@Anwuna I&#39;ve added a bit more detail to the answer: short version: It&#39;s good practice, but not enforced, to start method names with a lower-case character."}, {"owner": {"reputation": 877, "user_id": 2526278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3faebcd2c491e2bae0e6e43f01fcfed?s=128&d=identicon&r=PG", "display_name": "Anwuna", "link": "https://stackoverflow.com/users/2526278/anwuna"}, "edited": false, "score": 1, "creation_date": 1427239564, "post_id": 29244168, "comment_id": 46695285, "body": "Thanks. Up until now I thought the interpreter actually enforced it. Didn&#39;t know it was more of a convention."}], "tags": [], "owner": {"reputation": 61438, "user_id": 63034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZXKMO.jpg?s=128&g=1", "display_name": "mikej", "link": "https://stackoverflow.com/users/63034/mikej"}, "is_accepted": true, "score": 3, "last_activity_date": 1427239175, "last_edit_date": 1427239175, "creation_date": 1427236585, "answer_id": 29244168, "question_id": 29244008, "link": "https://stackoverflow.com/questions/29244008/how-does-the-syntax-modulemethodnamestring-work/29244168#29244168", "title": "How does the syntax MODULE::METHODNAME(&#39;string&#39;) work", "body": "<p>The difference is in the Nokogiri example the method is being called with parentheses and a parameter value which identifies it as a method call. Your <code>DOESTHISWORK</code> method takes no parameters but can be called with empty parentheses e.g.</p>\n\n<pre><code>irb(main):028:0&gt; How::DOESTHISWORK()\nIn How Method\n=&gt; nil\n</code></pre>\n\n<p>If you add a parameter to your method that can also serve to identify it as a method like so:</p>\n\n<pre><code>irb(main):036:0&gt; How::DOESTHISWORK 'some param'\n</code></pre>\n\n<hr>\n\n<p>Starting method names with a lowercase letter is good practice but isn't enforced. Something that begins with a capital letter is assumed to be a constant and will be looked up as such, this is why the parentheses or parameter is needed to indicate a method is being referred to. Another example:</p>\n\n<pre><code>irb(main):051:0&gt; def Example\nirb(main):052:1&gt; puts \"An example!\"\nirb(main):053:1&gt; end\n=&gt; nil\nirb(main):054:0&gt; Example\nNameError: uninitialized constant Example\n    from (irb):54\n    from /Users/mike/.rbenv/versions/1.9.3-p194/bin/irb:12:in `&lt;main&gt;'\nirb(main):055:0&gt; Example()\nAn example!\n=&gt; nil\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 2526278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3faebcd2c491e2bae0e6e43f01fcfed?s=128&d=identicon&r=PG", "display_name": "Anwuna", "link": "https://stackoverflow.com/users/2526278/anwuna"}, "is_accepted": false, "score": 0, "last_activity_date": 1427239768, "last_edit_date": 1495534204, "creation_date": 1427239768, "answer_id": 29244815, "question_id": 29244008, "link": "https://stackoverflow.com/questions/29244008/how-does-the-syntax-modulemethodnamestring-work/29244815#29244815", "title": "How does the syntax MODULE::METHODNAME(&#39;string&#39;) work", "body": "<p>I also found this post to be very helpful </p>\n\n<p><a href=\"https://stackoverflow.com/questions/10542354/what-are-the-restrictions-for-method-names-in-ruby\">What are the restrictions for method names in Ruby?</a></p>\n\n<blockquote>\n  <p>It's good practice, while not mandatory, to start the method name with\n  a lower-case character, because names that start with capital letters\n  are constants in Ruby. It's still possible to use a constant name for\n  a method, but you won't be able to invoke it without parentheses,\n  because the interpeter will look-up for the name as a constant</p>\n</blockquote>\n"}], "owner": {"reputation": 877, "user_id": 2526278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3faebcd2c491e2bae0e6e43f01fcfed?s=128&d=identicon&r=PG", "display_name": "Anwuna", "link": "https://stackoverflow.com/users/2526278/anwuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 29244168, "answer_count": 2, "score": 0, "last_activity_date": 1427239768, "creation_date": 1427235787, "last_edit_date": 1427239389, "question_id": 29244008, "link": "https://stackoverflow.com/questions/29244008/how-does-the-syntax-modulemethodnamestring-work", "title": "How does the syntax MODULE::METHODNAME(&#39;string&#39;) work", "body": "<p>I recently had cause to use the nokogiri gem to parse html but while i going through their documentation, i came across this ruby syntax that i hadn't seen before</p>\n\n<pre><code>html_doc = Nokogiri::HTML('&lt;html&gt;&lt;body&gt;&lt;h1&gt;Mr. Belvedere Fan Club&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;')\nxml_doc  = Nokogiri::XML('&lt;root&gt;&lt;aliens&gt;&lt;alien&gt;&lt;name&gt;Alf&lt;/name&gt;&lt;/alien&gt;&lt;/aliens&gt;&lt;/root&gt;')\n</code></pre>\n\n<p>The part of interest for me is Nokogiri::HTML('...'). This looks very much like a method invocation but i know ruby method names cannot be in capital letters. So i looked through code files nokogiri gem and i came across the following definition </p>\n\n<pre><code>module Nokogiri\n  class &lt;&lt; self\n     ###\n     # Parse HTML.  Convenience method for Nokogiri::HTML::Document.parse\n     def HTML thing, url = nil, encoding = nil, options = XML::ParseOptions::DEFAULT_HTML, &amp;block\n          Nokogiri::HTML::Document.parse(thing, url, encoding, options, &amp;block)\n     end\n  end\n # more code\nend\n</code></pre>\n\n<p>I tried reproducing the same code </p>\n\n<pre><code>module How\n   class &lt;&lt; self\n      def DOESTHISWORK\n         puts \"In How Method\"\n      end\n   end\nend\n\nHow::DOESTHISWORK\n</code></pre>\n\n<p>But it keeps coming back with the error \"uninitialized constant How::DOESTHISWORK (NameError)\". I know it has to do with the method name starting in capitals but i just haven't been able to figure out how it works in nokogiri.</p>\n"}, {"tags": ["ruby", "raspberry-pi", "raspbian", "raspberry-pi2"], "answers": [{"comments": [{"owner": {"reputation": 11282, "user_id": 293856, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f9ccf4f1ba0e7a736b88a87d67681512?s=128&d=identicon&r=PG&f=1", "display_name": "unom", "link": "https://stackoverflow.com/users/293856/unom"}, "edited": false, "score": 0, "creation_date": 1427251131, "post_id": 29244506, "comment_id": 46698346, "body": "Oh good it works! &quot;sudo gem uninstall therubyracer&quot; then edit the Germfile and add a # before the line that says &quot;gem &#39;therubyracer&#39;&quot; and restart you Pi."}], "tags": [], "owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "is_accepted": true, "score": 0, "last_activity_date": 1427256817, "last_edit_date": 1427256817, "creation_date": 1427238099, "answer_id": 29244506, "question_id": 29243824, "link": "https://stackoverflow.com/questions/29243824/ruby-on-raspberry-pi-2-with-raspbian-webrick-crash-probably-during-asset-compila/29244506#29244506", "title": "Ruby on Raspberry Pi 2 with Raspbian WEBrick crash probably during asset compilation?", "body": "<p>This is a <a href=\"https://github.com/gitlabhq/gitlabhq/issues/8809\" rel=\"nofollow\">known issue</a>.  The solution is to remove therubyracer gem from your <code>Gemfile</code>. Then install nodejs on your Pi, which you can do with the following command:</p>\n\n<pre><code>apt-get install nodejs  \n</code></pre>\n"}], "owner": {"reputation": 11282, "user_id": 293856, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f9ccf4f1ba0e7a736b88a87d67681512?s=128&d=identicon&r=PG&f=1", "display_name": "unom", "link": "https://stackoverflow.com/users/293856/unom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 29244506, "answer_count": 1, "score": 1, "last_activity_date": 1427256817, "creation_date": 1427234993, "last_edit_date": 1427251187, "question_id": 29243824, "link": "https://stackoverflow.com/questions/29243824/ruby-on-raspberry-pi-2-with-raspbian-webrick-crash-probably-during-asset-compila", "title": "Ruby on Raspberry Pi 2 with Raspbian WEBrick crash probably during asset compilation?", "body": "<p>Installed this app that runs fine on my Mac called WAGN.</p>\n\n<p>Tried compiling Ruby from scratch and installed 2.0.0, 2.1.5 then 1.9.3 using RBENV.</p>\n\n<p>Tried using the packages from Raspbian which use an older 1.9.3-p194 and they all end up with the same crash. NOTE: the folder ruby1.9.1 below contains 1.9.3, it's just that the name of the package remained the same and it got an upgrade.</p>\n\n<p>Any ideas on how to deal with this? (Quick recap, the Pi 2 is a quad core 900mhz ARM7 with 1GB ram)</p>\n\n<pre><code>wagn server\n=&gt; Booting WEBrick\n=&gt; Rails 3.2.16 application starting in production on http://0.0.0.0:3000\n=&gt; Call with -d to detach\n=&gt; Ctrl-C to shutdown server\n[2015-03-24 21:14:45] INFO  WEBrick 1.3.1\n[2015-03-24 21:14:45] INFO  ruby 1.9.3 (2012-04-20) [arm-linux-eabihf]\n[2015-03-24 21:14:45] INFO  WEBrick::HTTPServer#start: pid=22094 port=3000\n/var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:13: [BUG] Segmentation fault\nruby 1.9.3p194 (2012-04-20 revision 35410) [arm-linux-eabihf]\n\n-- Control frame information -----------------------------------------------\nc:0166 p:---- s:0775 b:0775 l:000774 d:000774 CFUNC  :Call\nc:0165 p:0036 s:0770 b:0770 l:000774 d:000769 BLOCK  /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:13\nc:0164 p:0005 s:0768 b:0768 l:0024b4 d:000767 BLOCK  /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/error.rb:84\nc:0163 p:---- s:0764 b:0764 l:000763 d:000763 FINISH\nc:0162 p:---- s:0762 b:0762 l:000761 d:000761 CFUNC  :call\nc:0161 p:---- s:0760 b:0760 l:000759 d:000759 CFUNC  :TryCatch\nc:0160 p:0019 s:0757 b:0757 l:0024b4 d:0024b4 METHOD /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/error.rb:83\nc:0159 p:0045 s:0754 b:0753 l:000774 d:000ab4 BLOCK  /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:13\nc:0158 p:0033 s:0751 b:0751 l:000750 d:000750 METHOD /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:206\nc:0157 p:0013 s:0747 b:0747 l:000774 d:000774 METHOD /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:11\nc:0156 p:0027 s:0742 b:0742 l:000808 d:000741 BLOCK  /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:19\nc:0155 p:0028 s:0740 b:0740 l:0023c0 d:000739 BLOCK  /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:248\nc:0154 p:---- s:0738 b:0738 l:000737 d:000737 FINISH\nc:0153 p:---- s:0736 b:0736 l:000735 d:000735 CFUNC  :call\nc:0152 p:---- s:0734 b:0734 l:000733 d:000733 CFUNC  :HandleScope\nc:0151 p:0017 s:0731 b:0731 l:0023c0 d:001c8c BLOCK  /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:245\nc:0150 p:---- s:0729 b:0729 l:000728 d:000728 FINISH\nc:0149 p:---- s:0727 b:0727 l:000726 d:000726 CFUNC  :call\nc:0148 p:---- s:0725 b:0725 l:000724 d:000724 CFUNC  :Locker\nc:0147 p:0053 s:0722 b:0722 l:0023c0 d:0023c0 METHOD /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:244\nc:0146 p:0026 s:0718 b:0718 l:000717 d:000717 METHOD /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:204\nc:0145 p:0013 s:0714 b:0714 l:000808 d:000808 METHOD /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:18\nc:0144 p:0026 s:0710 b:0709 l:002434 d:000708 BLOCK  /var/lib/gems/1.9.1/gems/execjs-2.4.0/lib/execjs/ruby_racer_runtime.rb:45\nc:0143 p:0007 s:0706 b:0706 l:001294 d:000705 BLOCK  /var/lib/gems/1.9.1/gems/execjs-2.4.0/lib/execjs/ruby_racer_runtime.rb:75\nc:0142 p:---- s:0703 b:0703 l:000702 d:000702 FINISH\nc:0141 p:---- s:0701 b:0701 l:000700 d:000700 CFUNC  :call\nc:0140 p:---- s:0699 b:0699 l:000698 d:000698 CFUNC  :Locker\nc:0139 p:0027 s:0696 b:0696 l:001294 d:001294 METHOD /var/lib/gems/1.9.1/gems/execjs-2.4.0/lib/execjs/ruby_racer_runtime.rb:73\nc:0138 p:0011 s:0691 b:0691 l:002434 d:002434 METHOD /var/lib/gems/1.9.1/gems/execjs-2.4.0/lib/execjs/ruby_racer_runtime.rb:43\nc:0137 p:0125 s:0686 b:0686 l:000685 d:000685 METHOD /var/lib/gems/1.9.1/gems/coffee-script-2.3.0/lib/coffee_script.rb:76\nc:0136 p:0022 s:0680 b:0680 l:000679 d:000679 METHOD /home/pi/test/tmp/set/type/1002-coffee_script.rb:14\nc:0135 p:0031 s:0675 b:0674 l:001ef4 d:000673 LAMBDA /home/pi/test/tmp/set/type/1002-coffee_script.rb:20\nc:0134 p:---- s:0672 b:0672 l:000671 d:000671 FINISH\nc:0133 p:0056 s:0670 b:0669 l:000660 d:000668 BLOCK  \n</code></pre>\n\n<p>TOO LONG TO INCLUDE, PLEASE ASK FOR INFORMATION IF NEEDED</p>\n\n<pre><code>2.4.0/lib/execjs/ruby_racer_runtime.rb:45:in `block in call'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:18:in `call'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:204:in `enter'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:244:in `lock_scope_and_enter'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:244:in `Locker'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:244:in `call'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:245:in `block in lock_scope_and_enter'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:245:in `HandleScope'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:245:in `call'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:248:in `block (2 levels) in lock_scope_and_enter'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:19:in `block in call'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:11:in `methodcall'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/context.rb:206:in `enter'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:13:in `block in methodcall'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/error.rb:83:in `try'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/error.rb:83:in `TryCatch'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/error.rb:83:in `call'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/error.rb:84:in `block in try'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:13:in `block (2 levels) in methodcall'\n    /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/function.rb:13:in `Call'\n\n    -- C level backtrace information -------------------------------------------\n\n    -- Other runtime information -----------------------------------------------\n</code></pre>\n\n<p>TOO LONG TO INCLUDE, PLEASE ASK FOR INFORMATION IF NEEDED</p>\n\n<pre><code>* Process memory map:\n\n    00008000-00009000 r-xp 00000000 b3:02 53332      /usr/bin/ruby1.9.1\n    00010000-00011000 r--p 00000000 b3:02 53332      /usr/bin/ruby1.9.1\n    00011000-00012000 rw-p 00001000 b3:02 53332      /usr/bin/ruby1.9.1\n    00400000-03425000 rw-p 00000000 00:00 0          [heap]\n    24200000-24219000 rw-p 00000000 00:00 0 \n    27c00000-27d00000 rw-p 00000000 00:00 0 \n    2a800000-2a809000 rw-p 00000000 00:00 0 \n    2a809000-2a80a000 ---p 00000000 00:00 0 \n    2a80a000-2a8ff000 rwxp 00000000 00:00 0 \n    2a8ff000-2a900000 ---p 00000000 00:00 0 \n    2b200000-2b300000 rw-p 00000000 00:00 0 \n    2b700000-2b709000 rw-p 00000000 00:00 0 \n    2b709000-2b70a000 ---p 00000000 00:00 0 \n    2b70a000-2b70c000 rwxp 00000000 00:00 0 \n    2b70c000-2b74c000 ---p 00000000 00:00 0 \n    2c000000-2c100000 rw-p 00000000 00:00 0 \n    2e600000-2e700000 rw-p 00000000 00:00 0 \n    30500000-30600000 rw-p 00000000 00:00 0 \n    30f00000-31000000 rw-p 00000000 00:00 0 \n    32f00000-33000000 rw-p 00000000 00:00 0 \n    33ac6000-33ec6000 rw-p 00000000 00:00 0 \n    34a00000-34a19000 rw-p 00000000 00:00 0 \n    36200000-36300000 rw-p 00000000 00:00 0 \n    37000000-37100000 rw-p 00000000 00:00 0 \n    39c51000-39d51000 rw-p 00000000 00:00 0 \n    3b900000-3b909000 rw-p 00000000 00:00 0 \n    3b909000-3b90a000 ---p 00000000 00:00 0 \n    3b90a000-3b9ff000 rwxp 00000000 00:00 0 \n    3b9ff000-3ba00000 ---p 00000000 00:00 0 \n    3be00000-3bf00000 rw-p 00000000 00:00 0 \n    3f100000-3f109000 rw-p 00000000 00:00 0 \n    3f109000-3f10a000 ---p 00000000 00:00 0 \n    3f10a000-3f16a000 rwxp 00000000 00:00 0 \n    3f16a000-3f16b000 ---p 00000000 00:00 0 \n    43974000-43980000 ---p 00000000 00:00 0 \n    43980000-43990000 rw-p 00000000 00:00 0 \n    43990000-439a4000 ---p 00000000 00:00 0 \n    45200000-45300000 rw-p 00000000 00:00 0 \n    46a00000-46a49000 rw-p 00000000 00:00 0 \n    47600000-47700000 rw-p 00000000 00:00 0 \n    4a200000-4a300000 rw-p 00000000 00:00 0 \n    4f000000-4fc00000 rw-p 00000000 00:00 0 \n    4fc00000-50000000 rw-p 00000000 00:00 0 \n    58f00000-59000000 rw-p 00000000 00:00 0 \n    5a300000-5a339000 rw-p 00000000 00:00 0 \n    5b100000-5b109000 rw-p 00000000 00:00 0 \n    5b109000-5b10a000 ---p 00000000 00:00 0 \n    5b10a000-5b10f000 rwxp 00000000 00:00 0 \n    5b10f000-5b14c000 ---p 00000000 00:00 0 \n    5db00000-5dc00000 rw-p 00000000 00:00 0 \n    5de00000-5df00000 rw-p 00000000 00:00 0 \n    5f100000-5f109000 rw-p 00000000 00:00 0 \n    5f109000-5f10a000 ---p 00000000 00:00 0 \n    5f10a000-5f1ff000 rwxp 00000000 00:00 0 \n    5f1ff000-5f200000 ---p 00000000 00:00 0 \n    74900000-74909000 rw-p 00000000 00:00 0 \n    74909000-7490a000 ---p 00000000 00:00 0 \n    7490a000-749ff000 rwxp 00000000 00:00 0 \n    749ff000-74a00000 ---p 00000000 00:00 0 \n    74b00000-74c00000 rw-p 00000000 00:00 0 \n    74d00000-74e00000 rw-p 00000000 00:00 0 \n    74f00000-74f31000 rw-p 00000000 00:00 0 \n    74f31000-75000000 ---p 00000000 00:00 0 \n    75100000-75200000 rw-p 00000000 00:00 0 \n    752a8000-752a9000 ---p 00000000 00:00 0 \n    752a9000-753a9000 rw-p 00000000 00:00 0          [stack:22145]\n    753a9000-753ab000 r-xp 00000000 b3:02 68635      /lib/libnss_mdns4.so.2\n    753ab000-753b2000 ---p 00002000 b3:02 68635      /lib/libnss_mdns4.so.2\n    753b2000-753b3000 rw-p 00001000 b3:02 68635      /lib/libnss_mdns4.so.2\n    753b3000-753b7000 r-xp 00000000 b3:02 4255       /lib/arm-linux-gnueabihf/libnss_dns-2.13.so\n    753b7000-753be000 ---p 00004000 b3:02 4255       /lib/arm-linux-gnueabihf/libnss_dns-2.13.so\n    753be000-753bf000 r--p 00003000 b3:02 4255       /lib/arm-linux-gnueabihf/libnss_dns-2.13.so\n    753bf000-753c0000 rw-p 00004000 b3:02 4255       /lib/arm-linux-gnueabihf/libnss_dns-2.13.so\n    753c0000-753c2000 r-xp 00000000 b3:02 68636      /lib/libnss_mdns4_minimal.so.2\n    753c2000-753c9000 ---p 00002000 b3:02 68636      /lib/libnss_mdns4_minimal.so.2\n    753c9000-753ca000 rw-p 00001000 b3:02 68636      /lib/libnss_mdns4_minimal.so.2\n    753ca000-753cb000 ---p 00000000 00:00 0 \n    753cb000-7544a000 rw-p 00000000 00:00 0 \n    7544a000-75453000 r-xp 00000000 b3:02 4263       /lib/arm-linux-gnueabihf/libnss_nis-2.13.so\n    75453000-7545a000 ---p 00009000 b3:02 4263       /lib/arm-linux-gnueabihf/libnss_nis-2.13.so\n    7545a000-7545b000 r--p 00008000 b3:02 4263       /lib/arm-linux-gnueabihf/libnss_nis-2.13.so\n    7545b000-7545c000 rw-p 00009000 b3:02 4263       /lib/arm-linux-gnueabihf/libnss_nis-2.13.so\n    7545c000-7546d000 r-xp 00000000 b3:02 4257       /lib/arm-linux-gnueabihf/libnsl-2.13.so\n    7546d000-75474000 ---p 00011000 b3:02 4257       /lib/arm-linux-gnueabihf/libnsl-2.13.so\n    75474000-75475000 r--p 00010000 b3:02 4257       /lib/arm-linux-gnueabihf/libnsl-2.13.so\n    75475000-75476000 rw-p 00011000 b3:02 4257       /lib/arm-linux-gnueabihf/libnsl-2.13.so\n    75476000-75478000 rw-p 00000000 00:00 0 \n    75478000-7547e000 r-xp 00000000 b3:02 4259       /lib/arm-linux-gnueabihf/libnss_compat-2.13.so\n    7547e000-75485000 ---p 00006000 b3:02 4259       /lib/arm-linux-gnueabihf/libnss_compat-2.13.so\n    75485000-75486000 r--p 00005000 b3:02 4259       /lib/arm-linux-gnueabihf/libnss_compat-2.13.so\n    75486000-75487000 rw-p 00006000 b3:02 4259       /lib/arm-linux-gnueabihf/libnss_compat-2.13.so\n    75488000-75489000 ---p 00000000 00:00 0 \n    75489000-75498000 rw-p 00000000 00:00 0          [stack:22157]\n    75498000-754a2000 r-xp 00000000 b3:02 4245       /lib/arm-linux-gnueabihf/libnss_files-2.13.so\n    754a2000-754a9000 ---p 0000a000 b3:02 4245       /lib/arm-linux-gnueabihf/libnss_files-2.13.so\n    754a9000-754aa000 r--p 00009000 b3:02 4245       /lib/arm-linux-gnueabihf/libnss_files-2.13.so\n    754aa000-754ab000 rw-p 0000a000 b3:02 4245       /lib/arm-linux-gnueabihf/libnss_files-2.13.so\n    754ab000-7556a000 r-xp 00000000 b3:02 16117      /usr/lib/arm-linux-gnueabihf/libstdc++.so.6.0.19\n    7556a000-75571000 ---p 000bf000 b3:02 16117      /usr/lib/arm-linux-gnueabihf/libstdc++.so.6.0.19\n    75571000-75575000 r--p 000be000 b3:02 16117      /usr/lib/arm-linux-gnueabihf/libstdc++.so.6.0.19\n    75575000-75577000 rw-p 000c2000 b3:02 16117      /usr/lib/arm-linux-gnueabihf/libstdc++.so.6.0.19\n    75577000-7557d000 rw-p 00000000 00:00 0 \n    7557d000-759bc000 r-xp 00000000 b3:02 529565     /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/init.so\n    759bc000-759c4000 ---p 0043f000 b3:02 529565     /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/init.so\n    759c4000-759e3000 rw-p 0043f000 b3:02 529565     /var/lib/gems/1.9.1/gems/therubyracer-0.12.1/lib/v8/init.so\n    759e3000-759e4000 rw-p 00000000 00:00 0 \n</code></pre>\n\n<p>TOO LONG TO INCLUDE PLEASE ASK FOR INFORMATION IF NEEDED</p>\n\n<pre><code>    76620000-76621000 r-xp 00000000 b3:02 529172     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32le.so\n    76621000-76628000 ---p 00001000 b3:02 529172     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32le.so\n    76628000-76629000 r--p 00000000 b3:02 529172     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32le.so\n    76629000-7662a000 rw-p 00001000 b3:02 529172     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32le.so\n    7662a000-7662b000 r-xp 00000000 b3:02 529171     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32be.so\n    7662b000-76632000 ---p 00001000 b3:02 529171     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32be.so\n    76632000-76633000 r--p 00000000 b3:02 529171     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32be.so\n    76633000-76634000 rw-p 00001000 b3:02 529171     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_32be.so\n    76634000-76635000 r-xp 00000000 b3:02 529170     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16le.so\n    76635000-7663c000 ---p 00001000 b3:02 529170     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16le.so\n    7663c000-7663d000 r--p 00000000 b3:02 529170     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16le.so\n    7663d000-7663e000 rw-p 00001000 b3:02 529170     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16le.so\n    7663e000-7663f000 r-xp 00000000 b3:02 529169     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16be.so\n    7663f000-76646000 ---p 00001000 b3:02 529169     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16be.so\n    76646000-76647000 r--p 00000000 b3:02 529169     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16be.so\n    76647000-76648000 rw-p 00001000 b3:02 529169     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/utf_16be.so\n    76648000-7664d000 r-xp 00000000 b3:02 395321     /var/lib/gems/1.9.1/gems/json-1.8.2/lib/json/ext/parser.so\n    7664d000-76654000 ---p 00005000 b3:02 395321     /var/lib/gems/1.9.1/gems/json-1.8.2/lib/json/ext/parser.so\n    76654000-76655000 rw-p 00004000 b3:02 395321     /var/lib/gems/1.9.1/gems/json-1.8.2/lib/json/ext/parser.so\n    76655000-76657000 r-xp 00000000 b3:02 529176     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/md5.so\n    76657000-7665e000 ---p 00002000 b3:02 529176     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/md5.so\n    7665e000-7665f000 r--p 00001000 b3:02 529176     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/md5.so\n    7665f000-76660000 rw-p 00002000 b3:02 529176     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/md5.so\n    76660000-7666a000 r-xp 00000000 b3:02 529224     /usr/lib/ruby/1.9.1/arm-linux-eabihf/zlib.so\n    7666a000-76671000 ---p 0000a000 b3:02 529224     /usr/lib/ruby/1.9.1/arm-linux-eabihf/zlib.so\n    76671000-76672000 r--p 00009000 b3:02 529224     /usr/lib/ruby/1.9.1/arm-linux-eabihf/zlib.so\n    76672000-76673000 rw-p 0000a000 b3:02 529224     /usr/lib/ruby/1.9.1/arm-linux-eabihf/zlib.so\n    76673000-76692000 r-xp 00000000 b3:02 529219     /usr/lib/ruby/1.9.1/arm-linux-eabihf/socket.so\n    76692000-76699000 ---p 0001f000 b3:02 529219     /usr/lib/ruby/1.9.1/arm-linux-eabihf/socket.so\n    76699000-7669a000 r--p 0001e000 b3:02 529219     /usr/lib/ruby/1.9.1/arm-linux-eabihf/socket.so\n    7669a000-7669b000 rw-p 0001f000 b3:02 529219     /usr/lib/ruby/1.9.1/arm-linux-eabihf/socket.so\n    7669b000-766a9000 r-xp 00000000 b3:02 529196     /usr/lib/ruby/1.9.1/arm-linux-eabihf/bigdecimal.so\n    766a9000-766b0000 ---p 0000e000 b3:02 529196     /usr/lib/ruby/1.9.1/arm-linux-eabihf/bigdecimal.so\n    766b0000-766b1000 r--p 0000d000 b3:02 529196     /usr/lib/ruby/1.9.1/arm-linux-eabihf/bigdecimal.so\n    766b1000-766b2000 rw-p 0000e000 b3:02 529196     /usr/lib/ruby/1.9.1/arm-linux-eabihf/bigdecimal.so\n    766b2000-766d9000 r-xp 00000000 b3:02 529200     /usr/lib/ruby/1.9.1/arm-linux-eabihf/date_core.so\n    766d9000-766e1000 ---p 00027000 b3:02 529200     /usr/lib/ruby/1.9.1/arm-linux-eabihf/date_core.so\n    766e1000-766e2000 r--p 00027000 b3:02 529200     /usr/lib/ruby/1.9.1/arm-linux-eabihf/date_core.so\n    766e2000-766e3000 rw-p 00028000 b3:02 529200     /usr/lib/ruby/1.9.1/arm-linux-eabihf/date_core.so\n    766e3000-766fc000 r-xp 00000000 b3:02 53223      /usr/lib/arm-linux-gnueabihf/libyaml-0.so.2.0.2\n    766fc000-76703000 ---p 00019000 b3:02 53223      /usr/lib/arm-linux-gnueabihf/libyaml-0.so.2.0.2\n    76703000-76704000 r--p 00018000 b3:02 53223      /usr/lib/arm-linux-gnueabihf/libyaml-0.so.2.0.2\n    76704000-76705000 rw-p 00019000 b3:02 53223      /usr/lib/arm-linux-gnueabihf/libyaml-0.so.2.0.2\n    7670c000-7670d000 r-xp 00000000 b3:02 529151     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/iso_8859_1.so\n    7670d000-76714000 ---p 00001000 b3:02 529151     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/iso_8859_1.so\n    76714000-76715000 r--p 00000000 b3:02 529151     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/iso_8859_1.so\n    76715000-76716000 rw-p 00001000 b3:02 529151     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/iso_8859_1.so\n    76716000-7671b000 r-xp 00000000 b3:02 529214     /usr/lib/ruby/1.9.1/arm-linux-eabihf/psych.so\n    7671b000-76722000 ---p 00005000 b3:02 529214     /usr/lib/ruby/1.9.1/arm-linux-eabihf/psych.so\n    76722000-76723000 r--p 00004000 b3:02 529214     /usr/lib/ruby/1.9.1/arm-linux-eabihf/psych.so\n    76723000-76724000 rw-p 00005000 b3:02 529214     /usr/lib/ruby/1.9.1/arm-linux-eabihf/psych.so\n    76724000-76725000 r-xp 00000000 b3:02 529205     /usr/lib/ruby/1.9.1/arm-linux-eabihf/fcntl.so\n    76725000-7672c000 ---p 00001000 b3:02 529205     /usr/lib/ruby/1.9.1/arm-linux-eabihf/fcntl.so\n    7672c000-7672d000 r--p 00000000 b3:02 529205     /usr/lib/ruby/1.9.1/arm-linux-eabihf/fcntl.so\n    7672d000-7672e000 rw-p 00001000 b3:02 529205     /usr/lib/ruby/1.9.1/arm-linux-eabihf/fcntl.so\n    7672e000-76742000 r-xp 00000000 b3:02 5186       /lib/arm-linux-gnueabihf/libz.so.1.2.7\n    76742000-7674a000 ---p 00014000 b3:02 5186       /lib/arm-linux-gnueabihf/libz.so.1.2.7\n    7674a000-7674b000 r--p 00014000 b3:02 5186       /lib/arm-linux-gnueabihf/libz.so.1.2.7\n    7674b000-7674c000 rw-p 00015000 b3:02 5186       /lib/arm-linux-gnueabihf/libz.so.1.2.7\n    7674c000-7688f000 r-xp 00000000 b3:02 10829      /usr/lib/arm-linux-gnueabihf/libcrypto.so.1.0.0\n    7688f000-76897000 ---p 00143000 b3:02 10829      /usr/lib/arm-linux-gnueabihf/libcrypto.so.1.0.0\n    76897000-768a4000 r--p 00143000 b3:02 10829      /usr/lib/arm-linux-gnueabihf/libcrypto.so.1.0.0\n    768a4000-768ac000 rw-p 00150000 b3:02 10829      /usr/lib/arm-linux-gnueabihf/libcrypto.so.1.0.0\n    768ac000-768b0000 rw-p 00000000 00:00 0 \n    768b0000-768f4000 r-xp 00000000 b3:02 10828      /usr/lib/arm-linux-gnueabihf/libssl.so.1.0.0\n    768f4000-768fb000 ---p 00044000 b3:02 10828      /usr/lib/arm-linux-gnueabihf/libssl.so.1.0.0\n    768fb000-768fd000 r--p 00043000 b3:02 10828      /usr/lib/arm-linux-gnueabihf/libssl.so.1.0.0\n    768fd000-76901000 rw-p 00045000 b3:02 10828      /usr/lib/arm-linux-gnueabihf/libssl.so.1.0.0\n    76904000-76909000 r-xp 00000000 b3:02 529220     /usr/lib/ruby/1.9.1/arm-linux-eabihf/stringio.so\n    76909000-76910000 ---p 00005000 b3:02 529220     /usr/lib/ruby/1.9.1/arm-linux-eabihf/stringio.so\n    76910000-76911000 r--p 00004000 b3:02 529220     /usr/lib/ruby/1.9.1/arm-linux-eabihf/stringio.so\n    76911000-76912000 rw-p 00005000 b3:02 529220     /usr/lib/ruby/1.9.1/arm-linux-eabihf/stringio.so\n    76912000-76953000 r-xp 00000000 b3:02 529212     /usr/lib/ruby/1.9.1/arm-linux-eabihf/openssl.so\n    76953000-7695a000 ---p 00041000 b3:02 529212     /usr/lib/ruby/1.9.1/arm-linux-eabihf/openssl.so\n    7695a000-7695b000 r--p 00040000 b3:02 529212     /usr/lib/ruby/1.9.1/arm-linux-eabihf/openssl.so\n    7695b000-7695d000 rw-p 00041000 b3:02 529212     /usr/lib/ruby/1.9.1/arm-linux-eabihf/openssl.so\n    7695d000-76961000 r-xp 00000000 b3:02 529221     /usr/lib/ruby/1.9.1/arm-linux-eabihf/strscan.so\n    76961000-76968000 ---p 00004000 b3:02 529221     /usr/lib/ruby/1.9.1/arm-linux-eabihf/strscan.so\n    76968000-76969000 r--p 00003000 b3:02 529221     /usr/lib/ruby/1.9.1/arm-linux-eabihf/strscan.so\n    76969000-7696a000 rw-p 00004000 b3:02 529221     /usr/lib/ruby/1.9.1/arm-linux-eabihf/strscan.so\n    7696a000-7696c000 r-xp 00000000 b3:02 529202     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest.so\n    7696c000-76974000 ---p 00002000 b3:02 529202     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest.so\n    76974000-76975000 r--p 00002000 b3:02 529202     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest.so\n    76975000-76976000 rw-p 00003000 b3:02 529202     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest.so\n    76976000-76979000 r-xp 00000000 b3:02 529178     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/sha1.so\n    76979000-76980000 ---p 00003000 b3:02 529178     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/sha1.so\n    76980000-76981000 r--p 00002000 b3:02 529178     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/sha1.so\n    76981000-76982000 rw-p 00003000 b3:02 529178     /usr/lib/ruby/1.9.1/arm-linux-eabihf/digest/sha1.so\n    76982000-76984000 r-xp 00000000 b3:02 529204     /usr/lib/ruby/1.9.1/arm-linux-eabihf/etc.so\n    76984000-7698b000 ---p 00002000 b3:02 529204     /usr/lib/ruby/1.9.1/arm-linux-eabihf/etc.so\n    7698b000-7698c000 r--p 00001000 b3:02 529204     /usr/lib/ruby/1.9.1/arm-linux-eabihf/etc.so\n    7698c000-7698d000 rw-p 00002000 b3:02 529204     /usr/lib/ruby/1.9.1/arm-linux-eabihf/etc.so\n    7698d000-76992000 r-xp 00000000 b3:02 529213     /usr/lib/ruby/1.9.1/arm-linux-eabihf/pathname.so\n    76992000-76999000 ---p 00005000 b3:02 529213     /usr/lib/ruby/1.9.1/arm-linux-eabihf/pathname.so\n    76999000-7699a000 r--p 00004000 b3:02 529213     /usr/lib/ruby/1.9.1/arm-linux-eabihf/pathname.so\n    7699a000-7699b000 rw-p 00005000 b3:02 529213     /usr/lib/ruby/1.9.1/arm-linux-eabihf/pathname.so\n    7699b000-7699d000 r-xp 00000000 b3:02 529122     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/trans/transdb.so\n    7699d000-769a4000 ---p 00002000 b3:02 529122     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/trans/transdb.so\n    769a4000-769a5000 r--p 00001000 b3:02 529122     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/trans/transdb.so\n    769a5000-769a6000 rw-p 00002000 b3:02 529122     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/trans/transdb.so\n    769a6000-76a27000 rw-p 00000000 00:00 0 \n    76a27000-76b9e000 r--p 00000000 b3:02 16545      /usr/lib/locale/locale-archive\n    76b9e000-76bbe000 r-xp 00000000 b3:02 16120      /lib/arm-linux-gnueabihf/libgcc_s.so.1\n    76bbe000-76bc5000 ---p 00020000 b3:02 16120      /lib/arm-linux-gnueabihf/libgcc_s.so.1\n    76bc5000-76bc6000 rw-p 0001f000 b3:02 16120      /lib/arm-linux-gnueabihf/libgcc_s.so.1\n    76bc6000-76cea000 r-xp 00000000 b3:02 4254       /lib/arm-linux-gnueabihf/libc-2.13.so\n    76cea000-76cf1000 ---p 00124000 b3:02 4254       /lib/arm-linux-gnueabihf/libc-2.13.so\n    76cf1000-76cf3000 r--p 00123000 b3:02 4254       /lib/arm-linux-gnueabihf/libc-2.13.so\n    76cf3000-76cf4000 rw-p 00125000 b3:02 4254       /lib/arm-linux-gnueabihf/libc-2.13.so\n    76cf4000-76cf7000 rw-p 00000000 00:00 0 \n    76cf7000-76d5f000 r-xp 00000000 b3:02 4262       /lib/arm-linux-gnueabihf/libm-2.13.so\n    76d5f000-76d66000 ---p 00068000 b3:02 4262       /lib/arm-linux-gnueabihf/libm-2.13.so\n    76d66000-76d67000 r--p 00067000 b3:02 4262       /lib/arm-linux-gnueabihf/libm-2.13.so\n    76d67000-76d68000 rw-p 00068000 b3:02 4262       /lib/arm-linux-gnueabihf/libm-2.13.so\n    76d68000-76d6f000 r-xp 00000000 b3:02 4253       /lib/arm-linux-gnueabihf/libcrypt-2.13.so\n    76d6f000-76d76000 ---p 00007000 b3:02 4253       /lib/arm-linux-gnueabihf/libcrypt-2.13.so\n    76d76000-76d77000 r--p 00006000 b3:02 4253       /lib/arm-linux-gnueabihf/libcrypt-2.13.so\n    76d77000-76d78000 rw-p 00007000 b3:02 4253       /lib/arm-linux-gnueabihf/libcrypt-2.13.so\n    76d78000-76d9f000 rw-p 00000000 00:00 0 \n    76d9f000-76da1000 r-xp 00000000 b3:02 4260       /lib/arm-linux-gnueabihf/libdl-2.13.so\n    76da1000-76da8000 ---p 00002000 b3:02 4260       /lib/arm-linux-gnueabihf/libdl-2.13.so\n    76da8000-76da9000 r--p 00001000 b3:02 4260       /lib/arm-linux-gnueabihf/libdl-2.13.so\n    76da9000-76daa000 rw-p 00002000 b3:02 4260       /lib/arm-linux-gnueabihf/libdl-2.13.so\n    76daa000-76db0000 r-xp 00000000 b3:02 4241       /lib/arm-linux-gnueabihf/librt-2.13.so\n    76db0000-76db7000 ---p 00006000 b3:02 4241       /lib/arm-linux-gnueabihf/librt-2.13.so\n    76db7000-76db8000 r--p 00005000 b3:02 4241       /lib/arm-linux-gnueabihf/librt-2.13.so\n    76db8000-76db9000 rw-p 00006000 b3:02 4241       /lib/arm-linux-gnueabihf/librt-2.13.so\n    76db9000-76dcd000 r-xp 00000000 b3:02 4247       /lib/arm-linux-gnueabihf/libpthread-2.13.so\n    76dcd000-76dd4000 ---p 00014000 b3:02 4247       /lib/arm-linux-gnueabihf/libpthread-2.13.so\n    76dd4000-76dd5000 r--p 00013000 b3:02 4247       /lib/arm-linux-gnueabihf/libpthread-2.13.so\n    76dd5000-76dd6000 rw-p 00014000 b3:02 4247       /lib/arm-linux-gnueabihf/libpthread-2.13.so\n    76dd6000-76dd8000 rw-p 00000000 00:00 0 \n    76dd8000-76f81000 r-xp 00000000 b3:02 19084      /usr/lib/libruby-1.9.1.so.1.9.1\n    76f81000-76f88000 ---p 001a9000 b3:02 19084      /usr/lib/libruby-1.9.1.so.1.9.1\n    76f88000-76f8d000 rw-p 001a8000 b3:02 19084      /usr/lib/libruby-1.9.1.so.1.9.1\n    76f8d000-76f9c000 rw-p 00000000 00:00 0 \n    76f9e000-76fa0000 r-xp 00000000 b3:02 529141     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/encdb.so\n    76fa0000-76fa7000 ---p 00002000 b3:02 529141     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/encdb.so\n    76fa7000-76fa8000 r--p 00001000 b3:02 529141     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/encdb.so\n    76fa8000-76fa9000 rw-p 00002000 b3:02 529141     /usr/lib/ruby/1.9.1/arm-linux-eabihf/enc/encdb.so\n    76fa9000-76faa000 ---p 00000000 00:00 0 \n    76faa000-76fad000 rw-p 00000000 00:00 0          [stack:22096]\n    76fad000-76faf000 r-xp 00000000 b3:02 27297      /usr/lib/arm-linux-gnueabihf/libcofi_rpi.so\n    76faf000-76fb6000 ---p 00002000 b3:02 27297      /usr/lib/arm-linux-gnueabihf/libcofi_rpi.so\n    76fb6000-76fb7000 rw-p 00001000 b3:02 27297      /usr/lib/arm-linux-gnueabihf/libcofi_rpi.so\n    76fb7000-76fd4000 r-xp 00000000 b3:02 4248       /lib/arm-linux-gnueabihf/ld-2.13.so\n    76fd6000-76fdc000 rw-p 00000000 00:00 0 \n    76fdc000-76fdd000 r--p 0001d000 b3:02 4248       /lib/arm-linux-gnueabihf/ld-2.13.so\n    76fdd000-76fde000 rw-p 0001e000 b3:02 4248       /lib/arm-linux-gnueabihf/ld-2.13.so\n    7ed80000-7eda1000 rw-p 00000000 00:00 0          [stack]\n    7ee3d000-7ee3e000 r-xp 00000000 00:00 0          [sigpage]\n    ffff0000-ffff1000 r-xp 00000000 00:00 0          [vectors]\n\n\n    [NOTE]\n    You may have encountered a bug in the Ruby interpreter or extension libraries.\n    Bug reports are welcome.\n    For details: http://www.ruby-lang.org/bugreport.html\n\n    Aborted\n</code></pre>\n"}, {"tags": ["ruby", "macos"], "owner": {"reputation": 9, "user_id": 1856750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/538d38187e8713a0cb2b04098bbd5a33?s=128&d=identicon&r=PG", "display_name": "OrelFligelman", "link": "https://stackoverflow.com/users/1856750/orelfligelman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427234665, "creation_date": 1427234665, "question_id": 29243760, "link": "https://stackoverflow.com/questions/29243760/unimidi-does-not-have-an-input-device-calling-the-gets-method-returns-an-empty", "title": "UniMIDI does not have an input device. Calling the gets method returns an empty array", "body": "<p>There are a couple of recent changes to how MIDI devices can be selected with Unimidi.</p>\n\n<p>Prompting the User\nThe first is the addition of a handy console prompt that asks the user to select a device and waits for input.  The code looks like this</p>\n\n<p>require \"unimidi\"</p>\n\n<p>@input = UniMIDI::Input.gets\non my computer, this results in</p>\n\n<p>Select a MIDI input\n1) IAC Device\n2) Roland UM-2 (1)\n3) Roland UM-2 (2)</p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<p>On my computer, this returns a blank prompt</p>\n\n<p>Select a MIDI input \n></p>\n\n<p>When I enter in numbers, nothing happens. I think the problem is my computer is not mapped to an MIDI output?</p>\n\n<p>I am using a MacOSx</p>\n"}, {"tags": ["sql", "ruby", "arrays", "sorting", "dictionary"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1427245878, "post_id": 29243526, "comment_id": 46697164, "body": "<code>array</code> is perhaps not the best name for a string. :-)"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 1946151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89f7d6d990f07638757e7a3e8d57c019?s=128&d=identicon&r=PG", "display_name": "user1946151", "link": "https://stackoverflow.com/users/1946151/user1946151"}, "edited": false, "score": 0, "creation_date": 1427236027, "post_id": 29243621, "comment_id": 46693968, "body": "Awesome thank you, i think I was overthinking this, and thought it had to be shorter!"}], "tags": [], "owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "is_accepted": true, "score": 2, "last_activity_date": 1427234036, "creation_date": 1427234036, "answer_id": 29243621, "question_id": 29243526, "link": "https://stackoverflow.com/questions/29243526/how-to-use-ruby-map-to-add-quotes-to-array-elements/29243621#29243621", "title": "How to use ruby .map to add quotes to array elements", "body": "<p>You can do something like:</p>\n\n<pre><code>array_ids = ['1','2']\n\narray = array_ids.map { |id| \"'#{id}'\" }.join(',')\n\np array\n# =&gt; \"'1','2'\"\n\norder_sql = \"FIELD(ID,#{array})\"\n\np order_sql\n# =&gt; \"FIELD(ID,'1','2')\"\n</code></pre>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 153, "user_id": 1946151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89f7d6d990f07638757e7a3e8d57c019?s=128&d=identicon&r=PG", "display_name": "user1946151", "link": "https://stackoverflow.com/users/1946151/user1946151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 29243621, "answer_count": 1, "score": 0, "last_activity_date": 1427234256, "creation_date": 1427233690, "question_id": 29243526, "link": "https://stackoverflow.com/questions/29243526/how-to-use-ruby-map-to-add-quotes-to-array-elements", "title": "How to use ruby .map to add quotes to array elements", "body": "<p><strong>See my example below where I put 'something' I'm just confused on what to map:</strong></p>\n\n<pre><code>array_ids = ['1','2']\n\narray = array_ids.map(something).join(',')\n</code></pre>\n\n<p>So when I do:</p>\n\n<pre><code>order_sql = \"FIELD(ID,#{array})\" \n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>order_sql = \"FIELD(ID,'1','2')\"\n</code></pre>\n"}, {"tags": ["ruby", "regex"], "answers": [{"tags": [], "owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "is_accepted": false, "score": 0, "last_activity_date": 1427232712, "last_edit_date": 1427232712, "creation_date": 1427232157, "answer_id": 29243143, "question_id": 29242985, "link": "https://stackoverflow.com/questions/29242985/remove-in-a-string-with-regex/29243143#29243143", "title": "Remove \\ in a string with regex", "body": "<p>You could try using <code>/\\/|\\w+/</code></p>\n\n<pre><code>[13] pry(main)&gt; str\n=&gt; \"{:@text=&gt;\\\"\\\\\\\"Question 12\\\\\\\" must be answered when  \\\\\\\"question 10 / Question 11 (or Question 9)\\\\\\\" answered\\\"}\"\n[14] pry(main)&gt; str.scan(/\\/|\\w+/).join(\" \")\n=&gt; \"text Question 12 must be answered when question 10 / Question 11 or Question 9 answered\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 2, "last_activity_date": 1427232726, "last_edit_date": 1427232726, "creation_date": 1427232201, "answer_id": 29243157, "question_id": 29242985, "link": "https://stackoverflow.com/questions/29242985/remove-in-a-string-with-regex/29243157#29243157", "title": "Remove \\ in a string with regex", "body": "<p>That's not a valid string. You have the string:</p>\n\n<pre><code> \"#{:@text=&gt;\"\n</code></pre>\n\n<p>followed by:</p>\n\n<pre><code> \\\"Question 12\\\" must be answered when  \\\"question 10 / Question 11 (or Question 9)\\\" answered\"}\"\n</code></pre>\n\n<p>Use single quotes:</p>\n\n<pre><code>str = '{:@text=&gt;\"\\\"Question 12\\\" must be answered when  \\\"question 10 / Question 11 (or Question 9)\\\" answered\"}'\n</code></pre>\n\n<p>then</p>\n\n<pre><code>puts str.gsub(/\\{:@text=&gt;|\\\"|\\\\|\\}/,'')\n  #=&gt; Question 12 must be answered when  question 10 / Question 11 (or Question 9) answered\n</code></pre>\n"}], "owner": {"reputation": 673, "user_id": 3704250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/1ZYH3.png?s=128&g=1", "display_name": "mikeymurph77", "link": "https://stackoverflow.com/users/3704250/mikeymurph77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427232726, "creation_date": 1427231530, "question_id": 29242985, "link": "https://stackoverflow.com/questions/29242985/remove-in-a-string-with-regex", "title": "Remove \\ in a string with regex", "body": "<p>I have a sample string that looks like the following...</p>\n\n<pre><code> \"{:@text=&gt;\"\\\"Question 12\\\" must be answered when  \\\"question 10 / Question 11 (or Question 9)\\\" answered\"}\"\n</code></pre>\n\n<p>I only want to extract the text: </p>\n\n<p>\"Question 12 must be answered when question 10 / Question 11 (or Question 9) answered\"</p>\n\n<p>I tried using this:</p>\n\n<pre><code>@object.scan(/@text=&gt;\"(.*?)\"/).flatten.map{ |msg| msg.gsub(/(\\.|\\s+)/, '').strip }\n</code></pre>\n\n<p>However that returns just a <code>\\</code></p>\n\n<p>What else might I try?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "nokogiri"], "answers": [{"tags": [], "owner": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "is_accepted": true, "score": 8, "last_activity_date": 1427232491, "last_edit_date": 1427232491, "creation_date": 1427231482, "answer_id": 29242970, "question_id": 29242822, "link": "https://stackoverflow.com/questions/29242822/using-nokogiri-to-list-which-tags-are-present-in-the-html/29242970#29242970", "title": "Using Nokogiri to list which tags are present in the HTML", "body": "<p>Something like this will do what you're looking for:</p>\n\n<pre><code>require 'nokogiri'\nrequire 'open-uri'\nrequire 'awesome_print'\n\n# Create a Nokogiri document\ndoc = Nokogiri::HTML(open(\"http://www.stackoverflow.com/\").read)\n# Iterate each node in the result set, and for each tag, increment the appropriate counter on the output hash\nap doc.xpath(\"//*\").map(&amp;:name).each_with_object({}) {|n, r| r[n] = (r[n] || 0) + 1 }\n</code></pre>\n\n<p>And results:</p>\n\n<pre><code>{\n        \"html\" =&gt; 1,\n        \"head\" =&gt; 1,\n       \"title\" =&gt; 1,\n        \"link\" =&gt; 5,\n        \"meta\" =&gt; 7,\n      \"script\" =&gt; 13,\n        \"body\" =&gt; 1,\n    \"noscript\" =&gt; 2,\n         \"div\" =&gt; 1429,\n          \"h3\" =&gt; 99,\n           \"a\" =&gt; 717,\n          \"ul\" =&gt; 5,\n          \"li\" =&gt; 89,\n        \"span\" =&gt; 490,\n        \"form\" =&gt; 1,\n       \"input\" =&gt; 1,\n          \"br\" =&gt; 4,\n           \"b\" =&gt; 3,\n          \"ol\" =&gt; 8,\n          \"h1\" =&gt; 1,\n         \"img\" =&gt; 9,\n          \"h2\" =&gt; 1,\n          \"h4\" =&gt; 1,\n       \"table\" =&gt; 1,\n          \"tr\" =&gt; 2,\n          \"th\" =&gt; 5,\n          \"td\" =&gt; 7\n}\n</code></pre>\n\n<p><code>#name</code> is the attribute on each node that has the tag's name, so we just reduce the node set into an output hash keyed off of that.</p>\n"}], "owner": {"reputation": 79, "user_id": 943123, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/38314e36685fce5aa07c92e8243a2686?s=128&d=identicon&r=PG", "display_name": "Jason Wade", "link": "https://stackoverflow.com/users/943123/jason-wade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 1, "accepted_answer_id": 29242970, "answer_count": 1, "score": 2, "last_activity_date": 1427232491, "creation_date": 1427230974, "question_id": 29242822, "link": "https://stackoverflow.com/questions/29242822/using-nokogiri-to-list-which-tags-are-present-in-the-html", "title": "Using Nokogiri to list which tags are present in the HTML", "body": "<p>I'm trying to use Nokogiri to count out all of the attributes on an HTML page. Suppose I search Google, how could I count each HTML tag present from that domains source, using Nokogiri?</p>\n\n<p>This is my starting point, that is not yielding the results I expect:</p>\n\n<pre><code>require 'open-uri'\ndoc = Nokogiri::HTML(open(\"http://www.stackoverflow.com/\"))\n@doc = Nokogiri::XML(doc)\n@doc.xpath(\"//*\")\n</code></pre>\n"}, {"tags": ["ruby", "amazon-s3", "ftp", "file-transfer"], "answers": [{"comments": [{"owner": {"reputation": 19325, "user_id": 67505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/094c0ec476b95ed7619d6a4cb918da78?s=128&d=identicon&r=PG", "display_name": "Chen Kinnrot", "link": "https://stackoverflow.com/users/67505/chen-kinnrot"}, "edited": false, "score": 0, "creation_date": 1427264712, "post_id": 29245889, "comment_id": 46702081, "body": "If I have ftp user and pass it&#39;s enough ?"}], "tags": [], "owner": {"reputation": 326, "user_id": 4500198, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a15a842a58c015610ac68e55ed7b4560?s=128&d=identicon&r=PG", "display_name": "Alex Smith", "link": "https://stackoverflow.com/users/4500198/alex-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1427246471, "creation_date": 1427246471, "answer_id": 29245889, "question_id": 29242493, "link": "https://stackoverflow.com/questions/29242493/transfer-files-from-s3-to-ftp/29245889#29245889", "title": "Transfer files from S3 to FTP", "body": "<p>You could use net-ssh to access the FTP server and then have it download from S3.  Hope that helps!</p>\n"}], "owner": {"reputation": 19325, "user_id": 67505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/094c0ec476b95ed7619d6a4cb918da78?s=128&d=identicon&r=PG", "display_name": "Chen Kinnrot", "link": "https://stackoverflow.com/users/67505/chen-kinnrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427246471, "creation_date": 1427229791, "question_id": 29242493, "link": "https://stackoverflow.com/questions/29242493/transfer-files-from-s3-to-ftp", "title": "Transfer files from S3 to FTP", "body": "<p>I'm trying to figure out if there is a way to write a ruby code that can copy file (200mb) from s3 bucket to ftp without having to pass data from s3 to server and than to ftp, is there a way to make the stream go directly to the ftp server?</p>\n"}, {"tags": ["ruby", "multithreading", "tcp", "network-programming"], "answers": [{"tags": [], "owner": {"reputation": 461, "user_id": 3991313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38aec25ea1473b027ee229cfcedfb2c3?s=128&d=identicon&r=PG", "display_name": "slushie", "link": "https://stackoverflow.com/users/3991313/slushie"}, "is_accepted": false, "score": 0, "last_activity_date": 1427242891, "creation_date": 1427242891, "answer_id": 29245393, "question_id": 29242419, "link": "https://stackoverflow.com/questions/29242419/tcpsocket-connection-cloing-issue-in-ruby/29245393#29245393", "title": "TCPSocket connection cloing issue in Ruby", "body": "<p>When a TCPSocket object is closed, calls to <code>.gets</code> will return <code>nil</code>. That means that your <code>@server.gets.chomp</code> will raise an error (<code>NoMethodError</code>) and the thread will terminate. To handle this case, you want to check the return value of the socket's <code>.gets</code> call.</p>\n\n<pre><code>  def listen\n    @response = Thread.new do\n      loop {\n        msg = @server.gets\n        if msg.nil?\n          Thread.kill(@request)\n          Thread.kill(@response)\n        else\n          puts msg.chomp\n        end\n      }\n    end\n  end\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 1334306, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/180c1560ff371938b4a1d1894e3167f9?s=128&d=identicon&r=PG", "display_name": "Ascelhem", "link": "https://stackoverflow.com/users/1334306/ascelhem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427242891, "creation_date": 1427229505, "question_id": 29242419, "link": "https://stackoverflow.com/questions/29242419/tcpsocket-connection-cloing-issue-in-ruby", "title": "TCPSocket connection cloing issue in Ruby", "body": "<p>I'm pretty new in Ruby and I'm trying to implement Threading, but now I've got a mistake: client doesn't understand that connection has been closed.</p>\n\n<p>Earlier, I wrote a simple tcp client-server app in C++, and the application works correct: if the server closed the connection, the client says that connection was closed too. But in Ruby nothing (as a client) happens and than the application exits with errors:</p>\n\n<pre><code>main.rb:34:in `write': Broken pipe (Errno::EPIPE)\n    from main.rb:34:in `puts'\n    from main.rb:34:in `block (2 levels) in send'\n    from main.rb:32:in `loop'\n    from main.rb:32:in `block in send'\n</code></pre>\n\n<p>So, here is the part of the source file of the C++ app. As you can see, if <code>iResult</code> equals <code>0</code> it means that the server has closed the connection. </p>\n\n<pre><code>if (iResult &gt; 0) {\n    std::string recievedString(recvbuf, recvbuf + iResult);\n    std::cout &lt;&lt; recievedString;\n}\nelse if (iResult == 0) {\n    std::cout &lt;&lt; \"Connection closed.\" &lt;&lt; std::endl;\n    break;\n}\n</code></pre>\n\n<p>And it works fine. </p>\n\n<p>There is Ruby server-client tcp apps:</p>\n\n<p><strong>CLIENT APP</strong>\nYeah, sorry for these stupid methods..</p>\n\n<pre><code>#!/usr/bin/env ruby -w\nrequire \"socket\"\nclass Client\n  def initialize( server )\n    @server = server\n    @request = nil\n    @response = nil\n    listen\n    send\n    @request.join\n    @response.join\n  end\n\n  def listen\n    @response = Thread.new do\n      loop {\n        msg = @server.gets.chomp\n        if msg == \"\"\n          Thread.kill(@request)\n          Thread.kill(@response)\n        else\n          puts msg\n        end\n\n      }\n    end\n  end\n\n  def send\n    puts \"Enter the username:\"\n    @request = Thread.new do\n      loop {\n        msg = $stdin.gets.chomp\n        @server.puts( msg )\n      }\n    end\n  end\nend\n\nserver = TCPSocket.open( \"127.0.0.1\", 6666 )\nClient.new( server )\n</code></pre>\n\n<p><strong>SERVER APP</strong></p>\n\n<pre><code>#!/usr/bin/env ruby -w\nrequire \"socket\"\nclass Server\n  def initialize( port, ip )\n    @server = TCPServer.open( ip, port )\n    @connections = Hash.new\n    @clients = Hash.new\n    @connections[:server] = @server\n    @connections[:clients] = @clients\n    run\n  end\n\n  def run  \n    loop {\n      Thread.start(@server.accept) do | client |\n        nick_name = client.gets.chomp.to_sym \n        puts nick_name\n        @connections[:clients][nick_name] = client\n        puts @connections.inspect\n        client.puts \"0001\"\n        listen_user_messages(nick_name, client)\n        client.close\n        Thread.kill self\n      end\n    }\n\n  end\n\n  def listen_user_messages( username, client )\n    loop {\n      msg = client.gets.chomp\n      if msg == \"0002\"\n        command = \"Yah, two\"\n      else\n        command = \"Go home\"\n      end\n      client.puts command\n      break\n    }\n  end\nend\n\nServer.new( 6666, \"127.0.0.1\")\n</code></pre>\n"}, {"tags": ["python", "ruby", "python-2.7"], "comments": [{"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "edited": false, "score": 0, "creation_date": 1427238103, "post_id": 29242339, "comment_id": 46694801, "body": "for reference, while there may have been more elegant ways of doing this, i ended up saving the function variables in a text file, calling the ruby file, which extracted the variables from the text file, and then saved it&#39;s output in another text file, which Python read back in."}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1427247002, "post_id": 29242339, "comment_id": 46697445, "body": "Some thoughts: make the ruby script itself return the value and then use <code>subprocess.check_output</code>; wrap the ruby function in a microservice using sinatra; use JRuby and jython together (not so sure about this one...)"}], "answers": [{"comments": [{"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "edited": false, "score": 0, "creation_date": 1427229830, "post_id": 29242489, "comment_id": 46691015, "body": "My output is a string, and I am looking to get that string back into python"}, {"owner": {"reputation": 921, "user_id": 4579638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eeaac7e8a8edc80bbe141250fb24dd34?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Santana", "link": "https://stackoverflow.com/users/4579638/sara-santana"}, "reply_to_user": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "edited": false, "score": 0, "creation_date": 1427233283, "post_id": 29242489, "comment_id": 46692760, "body": "also this link in stackoverflow: <a href=\"http://stackoverflow.com/questions/3679501/calling-python-from-ruby\">link</a>"}], "tags": [], "owner": {"reputation": 921, "user_id": 4579638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eeaac7e8a8edc80bbe141250fb24dd34?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Santana", "link": "https://stackoverflow.com/users/4579638/sara-santana"}, "is_accepted": false, "score": 0, "last_activity_date": 1427229771, "creation_date": 1427229771, "answer_id": 29242489, "question_id": 29242339, "link": "https://stackoverflow.com/questions/29242339/call-a-ruby-script-from-python-and-return-response/29242489#29242489", "title": "Call a ruby script from python, and return response", "body": "<p>I don't know what is your output from ruby program but with  <code>os.startfile()</code>you can run your ruby script.</p>\n"}], "owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 955, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427235449, "creation_date": 1427229135, "last_edit_date": 1427235449, "question_id": 29242339, "link": "https://stackoverflow.com/questions/29242339/call-a-ruby-script-from-python-and-return-response", "title": "Call a ruby script from python, and return response", "body": "<p>I am using python, and I want to call a Ruby function (i.e. in a similar manner to how i would call a python function), specifying function arguments, and then get back a returned value.</p>\n\n<p>I have been searching around, and can see how to run ruby code e.g. using os.system, however can't seem to either:</p>\n\n<ol>\n<li>call a specific function within the Ruby code, passing variables</li>\n<li>Return the result of the function to Python.</li>\n</ol>\n\n<p>e.g. I am looking to be able to do something similar to:</p>\n\n<pre><code> desired_response = ruby_function(variables)\n</code></pre>\n\n<p>where ruby_function is within a file called ruby_file, and the response is the result of running that function.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 3, "creation_date": 1427225791, "post_id": 29241276, "comment_id": 46688721, "body": "Because <a href=\"http://ruby-doc.org/core-2.2.1/Object.html#method-i-inspect\" rel=\"nofollow noreferrer\"><code>Object#inspect</code></a> has been overridden by <a href=\"http://ruby-doc.org/core-2.2.1/String.html#method-i-inspect\" rel=\"nofollow noreferrer\"><code>String#inspect</code></a>( says - <b>Returns a printable version of str, surrounded by quote marks, with special characters escaped.</b>)"}], "answers": [{"tags": [], "owner": {"reputation": 4160, "user_id": 708635, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/477dc65c2083c0aea87485b399372db0?s=128&d=identicon&r=PG", "display_name": "Gosha Arinich", "link": "https://stackoverflow.com/users/708635/gosha-arinich"}, "is_accepted": true, "score": 2, "last_activity_date": 1427226368, "last_edit_date": 1427226368, "creation_date": 1427226042, "answer_id": 29241429, "question_id": 29241276, "link": "https://stackoverflow.com/questions/29241276/added-instance-variable-not-shown-with-inspect-in-ruby/29241429#29241429", "title": "added instance variable not shown with inspect in Ruby", "body": "<p><code>String</code> overrides <code>#inspect</code> (<a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-inspect\" rel=\"nofollow\"><code>String#inspect</code></a>) to return the original string wrapped in quotes, as opposed to <a href=\"http://ruby-doc.org/core-2.2.0/Object.html#method-i-inspect\" rel=\"nofollow\"><code>Object#inspect</code></a>, which dumps everything. </p>\n\n<p>You shouldn't need to re-define <code>String#inspect</code> to account for your special use-case though. If you want your string to have some additional data, you should create your own class instead:</p>\n\n<pre><code>class Animal\n  def initialize(name, other)\n    @name = name\n    @other = other\n  end\nend\n\nAnimal.new(\"cat\", \"dog\")\n# #&lt;Animal:0x007faf9404d828 @name=\"cat\", @other=\"dog\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": false, "score": 1, "last_activity_date": 1427228877, "last_edit_date": 1427228877, "creation_date": 1427227790, "answer_id": 29241942, "question_id": 29241276, "link": "https://stackoverflow.com/questions/29241276/added-instance-variable-not-shown-with-inspect-in-ruby/29241942#29241942", "title": "added instance variable not shown with inspect in Ruby", "body": "<blockquote>\n  <p>Why is inspect not giving me everything?</p>\n</blockquote>\n\n<p>DON'T DO THIS -> remove the <code>String#inspect</code> method and see what happen.</p>\n\n<pre><code>class String\n  remove_method :inspect\nend\n\nanimal = \"cat\"\nanimal.instance_variable_set(:@a, \"dog\")\nanimal # =&gt; #&lt;String:0x9976b94 @a=#&lt;String:0x9976b80&gt;&gt;\n</code></pre>\n\n<p>The above output is what <a href=\"http://ruby-doc.org/core-2.2.1/Object.html#method-i-inspect\" rel=\"nofollow\"><code>Object#inspect</code></a> explained -</p>\n\n<blockquote>\n  <p>The default inspect shows the object\u2019s class name, an encoding of the object id, and a list of the instance variables and their values (by calling inspect on each of them).</p>\n</blockquote>\n\n<p>But, in your case you are calling, <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-inspect\" rel=\"nofollow\"><code>String#inspect</code></a> which is the overridden version of <code>Object#inspect</code>.</p>\n\n<blockquote>\n  <p>Returns a printable version of str, surrounded by quote marks, with special characters escaped.</p>\n</blockquote>\n\n<p>And your output is what exactly documentation mentioned.</p>\n\n<p>I wanted to give you some <em>in sight</em>. Now don't play like this with Ruby core classes, create your own custom classes, and play with them as much as you can.</p>\n"}], "owner": {"reputation": 343, "user_id": 4492858, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/08beb92269ef8d0c6ea58f1fb416e89c?s=128&d=identicon&r=PG&f=1", "display_name": "totally", "link": "https://stackoverflow.com/users/4492858/totally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 29241429, "answer_count": 2, "score": 1, "last_activity_date": 1427228877, "creation_date": 1427225503, "question_id": 29241276, "link": "https://stackoverflow.com/questions/29241276/added-instance-variable-not-shown-with-inspect-in-ruby", "title": "added instance variable not shown with inspect in Ruby", "body": "<p>Inspect will tell object representation. so I tried this: </p>\n\n<pre><code>animal = \"cat\"\nanimal.instance_variable_set(:@a, \"dog\")\np \"inspect object animal: #{animal.inspect}\"\n</code></pre>\n\n<p>But inspect only gave me \"cat\", I cannot see @a=\"dog\"</p>\n\n<p>If I do this:</p>\n\n<pre><code>puts \"instance variables are: #{animal.instance_variables}\"\n</code></pre>\n\n<p>Then I can see [:@a] as output</p>\n\n<p>Why is inspect not giving me everything?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "is_accepted": true, "score": 1, "last_activity_date": 1427225356, "creation_date": 1427225356, "answer_id": 29241227, "question_id": 29240935, "link": "https://stackoverflow.com/questions/29240935/replacing-sql-case-with-multiple-scopes-in-rails/29241227#29241227", "title": "Replacing SQL CASE with multiple Scopes in Rails?", "body": "<p>A cleaner way in SQL, if I understand your intent correctly, might be:</p>\n\n<pre><code>@impressions = Impression.select(:ip_address).\n                          where(:name =&gt; [\"view\", \"conv\"]).\n                          group(:ip_address).\n                          having(\"count(distinct name) &gt; ?\",1)\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 995486, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7e53e6fb1d38cac72d80aaf2810e41e7?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/995486/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 29241227, "answer_count": 1, "score": 0, "last_activity_date": 1427226436, "creation_date": 1427224242, "question_id": 29240935, "link": "https://stackoverflow.com/questions/29240935/replacing-sql-case-with-multiple-scopes-in-rails", "title": "Replacing SQL CASE with multiple Scopes in Rails?", "body": "<p>I'm trying to create a query to count records that have a common identifier but appear twice with different attributes on my site - i.e. someone with a certain IP address creates an <code>Impression</code> with the name 'view' and subsequently creates one with the name 'conv' (I have a tracking pixel and want to count view-through conversions).</p>\n\n<p>At the moment, I find conversions using the Rails query below, which I converted from SQL:</p>\n\n<pre><code>@impressions = Impression.select(:ip_address).group(:ip_address).having\n(\"COUNT(CASE WHEN name = 'view' THEN 1 END) &gt; 0 AND \nCOUNT(CASE WHEN name = 'conv' THEN 1 END) &gt; 0\")\n</code></pre>\n\n<p>Is there a cleaner way to do this in Rails? My initial thought is that using multiple scopes might be the best way:</p>\n\n<pre><code>def self.converted(ip_address)\n  where(\"name == 'conv' and ip_address == ?\", ip_address)\nend\n\ndef self.viewed(ip_address)\n  where(\"name == 'view' and ip_address == ?\", ip_address)\nend\n</code></pre>\n\n<p>Controller (no idea how this should look...):</p>\n\n<pre><code>scope :view_through_conversion, Impression.viewed &amp; Impression.converted\n\n...\n\n@impressions = Impression.all.view_through_conversion(ip_address)\n</code></pre>\n\n<p>But I don't have any experience with scope and I don't know if this offers many advantages over my way. Can anyone provide some guidance on the best way to achieve this in Rails?</p>\n"}, {"tags": ["ruby", "xml", "soap", "savon"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 836234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01abde20944b43c1fbab15541a8d2554?s=128&d=identicon&r=PG", "display_name": "Harv Gill", "link": "https://stackoverflow.com/users/836234/harv-gill"}, "edited": false, "score": 0, "creation_date": 1427229980, "post_id": 29240641, "comment_id": 46691091, "body": "Thank you for your response. My wsdl contains inline XSD. When I try to use the wsdl file in place of the SCHEMA_FILE, I get an error that says, &quot;schema.rb:37:in `from_document&#39;: The XML document &#39;in_memory_buffer&#39; is not a schema document. (Nokogiri::XML::SyntaxError)&quot;"}, {"owner": {"reputation": 132392, "user_id": 244128, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/300502d6109af88a009074c42ff56c73?s=128&d=identicon&r=PG", "display_name": "maerics", "link": "https://stackoverflow.com/users/244128/maerics"}, "reply_to_user": {"reputation": 41, "user_id": 836234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01abde20944b43c1fbab15541a8d2554?s=128&d=identicon&r=PG", "display_name": "Harv Gill", "link": "https://stackoverflow.com/users/836234/harv-gill"}, "edited": false, "score": 0, "creation_date": 1427340290, "post_id": 29240641, "comment_id": 46741923, "body": "@HarvGill: yes, a WSDL file is not an XSD file.  You&#39;ll have to extract the schema from the containing document."}], "tags": [], "owner": {"reputation": 132392, "user_id": 244128, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/300502d6109af88a009074c42ff56c73?s=128&d=identicon&r=PG", "display_name": "maerics", "link": "https://stackoverflow.com/users/244128/maerics"}, "is_accepted": false, "score": 2, "last_activity_date": 1427223211, "creation_date": 1427223211, "answer_id": 29240641, "question_id": 29240559, "link": "https://stackoverflow.com/questions/29240559/validate-xml-response-against-wsdl-using-ruby-savon/29240641#29240641", "title": "Validate XML response against WSDL using Ruby Savon", "body": "<p>The excellent <a href=\"http://www.nokogiri.org/\" rel=\"nofollow\">Nokogiri library</a> supports <a href=\"http://www.rubydoc.info/github/sparklemotion/nokogiri/Nokogiri/XML/Schema\" rel=\"nofollow\">XML schema (XSD) validation</a> which is used for SOAP messages (i.e. the \"Types\" section of the WSDL should contain a reference or inline XSD).</p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>xsd = Nokogiri::XML::Schema(File.read(SCHEMA_FILE))\ndoc = Nokogiri::XML(File.read(XML_FILE))\n\nxsd.validate(doc).each do |error|\n  puts error.message\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 4696083, "user_type": "registered", "profile_image": "https://graph.facebook.com/986408971378624/picture?type=large", "display_name": "Samuel Garratt", "link": "https://stackoverflow.com/users/4696083/samuel-garratt"}, "is_accepted": false, "score": 1, "last_activity_date": 1535920409, "creation_date": 1535920409, "answer_id": 52140824, "question_id": 29240559, "link": "https://stackoverflow.com/questions/29240559/validate-xml-response-against-wsdl-using-ruby-savon/52140824#52140824", "title": "Validate XML response against WSDL using Ruby Savon", "body": "<p>I've made a <a href=\"https://rubygems.org/gems/wsdl_validator\" rel=\"nofollow noreferrer\">gem</a> to simplify this process. It should extract all schemas from the WSDL and import any if needed. Let me know if it doesn't work for you.</p>\n\n<pre><code>require 'wsdl_validator'\nwsld = WsdlValidator.new('path_to_wsdl')\n# xml can be String, Nokogiri::XML::Document\nwsdl.validate xml\n</code></pre>\n\n<p>This will return true if valid or raise an exception with the error message if it's not.</p>\n\n<p>You can get the XML from a Savon response and pass by the following</p>\n\n<pre><code>wsdl = 'path_to_wsdl'\nclient = Savon::Client.new(wsdl: wsdl)  \nresponse = client.call(:operation, message: { element: 'value' })\nWsdlValidator.new(wsdl).validate response.xml\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 836234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01abde20944b43c1fbab15541a8d2554?s=128&d=identicon&r=PG", "display_name": "Harv Gill", "link": "https://stackoverflow.com/users/836234/harv-gill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1451, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1535920409, "creation_date": 1427222891, "question_id": 29240559, "link": "https://stackoverflow.com/questions/29240559/validate-xml-response-against-wsdl-using-ruby-savon", "title": "Validate XML response against WSDL using Ruby Savon", "body": "<p>I am using Ruby/Cucumber/Savon to automate Soap webservice. I need to validate the response against the wsdl file. Savon docs don't mention validating XML response anywhere. Does anyone know a good solution to doing this?</p>\n\n<p>Thanks,\nHarv Gill</p>\n"}]