[{"tags": ["ruby", "rvm", "zsh", "zshrc"], "comments": [{"owner": {"reputation": 326, "user_id": 2807730, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e1789bc085ab08b8a218957e9ddd39f?s=128&d=identicon&r=PG&f=1", "display_name": "Ravenous", "link": "https://stackoverflow.com/users/2807730/ravenous"}, "edited": false, "score": 1, "creation_date": 1458775526, "post_id": 36190563, "comment_id": 60016108, "body": "try sudo nano ~/.zshrc. You need to choose a program to open the file with."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1458777743, "post_id": 36190563, "comment_id": 60016791, "body": "One supposes removing <code>${rvm-prompt}</code> would do the trick."}, {"owner": {"reputation": 12785, "user_id": 2992551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc782179e9110bc7dc82b666c87f48b?s=128&d=identicon&r=PG", "display_name": "Adaephon", "link": "https://stackoverflow.com/users/2992551/adaephon"}, "reply_to_user": {"reputation": 326, "user_id": 2807730, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e1789bc085ab08b8a218957e9ddd39f?s=128&d=identicon&r=PG&f=1", "display_name": "Ravenous", "link": "https://stackoverflow.com/users/2807730/ravenous"}, "edited": false, "score": 0, "creation_date": 1458806086, "post_id": 36190563, "comment_id": 60024537, "body": "@Ravenous Why would he need super user permissions to change a file in his home directory? The OP did not mention any permission issues. Also, if you surround code snippets with backticks, they will be more readable."}], "answers": [{"tags": [], "owner": {"reputation": 1021, "user_id": 2662823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuQWG.png?s=128&g=1", "display_name": "typo", "link": "https://stackoverflow.com/users/2662823/typo"}, "is_accepted": true, "score": 1, "last_activity_date": 1458782585, "creation_date": 1458782585, "answer_id": 36191687, "question_id": 36190563, "link": "https://stackoverflow.com/questions/36190563/how-do-i-get-rid-of-the-ruby-version-on-my-prompt-through-zsh/36191687#36191687", "title": "How do I get rid of the ruby version on my prompt through zsh?", "body": "<p>Try removing <code>${rvm-prompt}</code>...</p>\n\n<p>Also, for further easy customization take a look at - <a href=\"https://github.com/robbyrussell/oh-my-zsh\" rel=\"nofollow\">Oh My Zsh</a> - A delightful community-driven framework for managing your zsh configuration.</p>\n"}], "owner": {"reputation": 2176, "user_id": 5209224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0175ef92481829166b8e470de417de67?s=128&d=identicon&r=PG", "display_name": "akantoword", "link": "https://stackoverflow.com/users/5209224/akantoword"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 36191687, "answer_count": 1, "score": 0, "last_activity_date": 1458782585, "creation_date": 1458775322, "last_edit_date": 1458775805, "question_id": 36190563, "link": "https://stackoverflow.com/questions/36190563/how-do-i-get-rid-of-the-ruby-version-on-my-prompt-through-zsh", "title": "How do I get rid of the ruby version on my prompt through zsh?", "body": "<p>I have zsh and think that I need to go to the profile through ~/.zshrc and then add export PS1=\u201d$\u201c to get rid of the ruby version, but I'm not sure which export to replace?</p>\n\n<p><a href=\"https://i.stack.imgur.com/0c85b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0c85b.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ruby", "gmail", "gmail-api", "google-api-client"], "comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 2, "creation_date": 1458775061, "post_id": 36190210, "comment_id": 60015952, "body": "FWIW: have you checked out the <a href=\"https://github.com/gmailgem/gmail\" rel=\"nofollow noreferrer\"><code>gmail</code></a> gem?  Seems like you could use that and poll to see if the <code>inbox.count</code> has incremented."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458776752, "post_id": 36190210, "comment_id": 60016519, "body": "The old IMAP method works well. The new Google API for Email may have more limitations."}, {"owner": {"reputation": 283, "user_id": 1788943, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dafa45ccb0e700a30c98933e200566ca?s=128&d=identicon&r=PG", "display_name": "JoeNyland", "link": "https://stackoverflow.com/users/1788943/joenyland"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 1, "creation_date": 1458913300, "post_id": 36190210, "comment_id": 60073554, "body": "@orde @tadman Thanks, but I want to work out how to use the <code>watch</code> method that the Gmail API provides: <a href=\"https://developers.google.com/gmail/api/v1/reference/users/watch\" rel=\"nofollow noreferrer\">developers.google.com/gmail/api/v1/reference/users/watch</a>"}, {"owner": {"reputation": 6564, "user_id": 1153362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omiUU.jpg?s=128&g=1", "display_name": "Substantial", "link": "https://stackoverflow.com/users/1153362/substantial"}, "edited": false, "score": 0, "creation_date": 1497339726, "post_id": 36190210, "comment_id": 76022827, "body": "Late comment, but see here for how to set up webhooks to receive push notifications in your app: <a href=\"https://cloud.google.com/pubsub/docs/push\" rel=\"nofollow noreferrer\">cloud.google.com/pubsub/docs/push</a>"}], "owner": {"reputation": 283, "user_id": 1788943, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dafa45ccb0e700a30c98933e200566ca?s=128&d=identicon&r=PG", "display_name": "JoeNyland", "link": "https://stackoverflow.com/users/1788943/joenyland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1045, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1458914255, "creation_date": 1458773385, "last_edit_date": 1458914255, "question_id": 36190210, "link": "https://stackoverflow.com/questions/36190210/how-to-watch-a-gmail-mailbox-for-new-messages-with-ruby", "title": "How to watch a Gmail mailbox for new messages with Ruby", "body": "<p>So, I'm trying to build a small app that will listen for new messages on a Gmail mailbox and do stuff with the new messages it receives.</p>\n\n<p>I have the following code that connects to the Gmail API watches a user mailbox:</p>\n\n<pre><code>require 'google/apis/gmail_v1'\nrequire 'googleauth'\nrequire 'googleauth/stores/file_token_store'\nrequire 'fileutils'\n\nOOB_URI = 'urn:ietf:wg:oauth:2.0:oob'\nAPPLICATION_NAME = 'Gmail API Ruby Quickstart'\nCLIENT_SECRETS_PATH = 'client_secret.json'\nCREDENTIALS_PATH = File.join(Dir.home, '.credentials',\n                             \"gmail-ruby-quickstart.yaml\")\nSCOPE = Google::Apis::GmailV1::AUTH_GMAIL_MODIFY\n\n##\n# Ensure valid credentials, either by restoring from the saved credentials\n# files or initiating an OAuth2 authorization. If authorization is required,\n# the user's default browser will be launched to approve the request.\n#\n# @return [Google::Auth::UserRefreshCredentials] OAuth2 credentials\ndef authorize\n  FileUtils.mkdir_p(File.dirname(CREDENTIALS_PATH))\n\n  client_id = Google::Auth::ClientId.from_file(CLIENT_SECRETS_PATH)\n  token_store = Google::Auth::Stores::FileTokenStore.new(file: CREDENTIALS_PATH)\n  authorizer = Google::Auth::UserAuthorizer.new(\n      client_id, SCOPE, token_store)\n  user_id = 'default'\n  credentials = authorizer.get_credentials(user_id)\n  if credentials.nil?\n    url = authorizer.get_authorization_url(\n        base_url: OOB_URI)\n    puts \"Open the following URL in the browser and enter the \" +\n             \"resulting code after authorization\"\n    puts url\n    code = gets\n    credentials = authorizer.get_and_store_credentials_from_code(\n        user_id: user_id, code: code, base_url: OOB_URI)\n  end\n  credentials\nend\n\n# Initialize the API\nservice = Google::Apis::GmailV1::GmailService.new\nservice.client_options.application_name = APPLICATION_NAME\nservice.authorization = authorize\n\nwatch_request = Google::Apis::GmailV1::WatchRequest.new\nwatch_request.topic_name= 'projects/my-project/topics/push'\nservice.watch_user('me', watch_request)\n</code></pre>\n\n<p>What I can't work out is how I actually get notified of new messages. Can anyone help?</p>\n\n<p>Pages I've read to get this far:</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/gmail/api/auth/about-auth\" rel=\"nofollow\">https://developers.google.com/gmail/api/auth/about-auth</a></li>\n<li><a href=\"https://developers.google.com/gmail/api/v1/reference/users/watch\" rel=\"nofollow\">https://developers.google.com/gmail/api/v1/reference/users/watch</a></li>\n<li><a href=\"https://developers.google.com/gmail/api/guides/push\" rel=\"nofollow\">https://developers.google.com/gmail/api/guides/push</a></li>\n</ul>\n\n<h1>Update: 25/03/2016</h1>\n\n<p>So, inspecting the <code>google-api-client</code> gem code, I worked out that I need to provide a block to the <code>watch_user</code> method. I tried that, but the resulting object doesn't seem to provide any methods of handling events for new messages:</p>\n\n<pre><code>#...\nservice.watch_user('me', watch_request) do |request|\n  puts request.inspect\n  puts request.methods\nend\n</code></pre>\n\n<p><code>inspect</code> yields:</p>\n\n<pre><code>#&lt;Google::Apis::GmailV1::WatchResponse:0x007fecd515f9e0 @expiration=\"1459518159351\", @history_id=\"1038029\"&gt;\n</code></pre>\n\n<p><code>methods</code> yields:</p>\n\n<pre><code>expiration\nexpiration=\nhistory_id\nhistory_id=\nupdate!\nto_json\nto_h\npsych_to_yaml\nto_yaml\nto_yaml_properties\npretty_print\npretty_print_cycle\npretty_print_instance_variables\npretty_print_inspect\nnil?\n===\n=~\n!~\neql?\nhash\n&lt;=&gt;\nclass\nsingleton_class\nclone\ndup\nitself\ntaint\ntainted?\nuntaint\nuntrust\nuntrusted?\ntrust\nfreeze\nfrozen?\nto_s\ninspect\nmethods\nsingleton_methods\nprotected_methods\nprivate_methods\npublic_methods\ninstance_variables\ninstance_variable_get\ninstance_variable_set\ninstance_variable_defined?\nremove_instance_variable\ninstance_of?\nkind_of?\nis_a?\ntap\nsend\npublic_send\nrespond_to?\nextend\ndisplay\nmethod\npublic_method\nsingleton_method\ndefine_singleton_method\nobject_id\nto_enum\nenum_for\ngem\npretty_inspect\n==\nequal?\n!\n!=\ninstance_eval\ninstance_exec\n__send__\n__id__\n</code></pre>\n\n<p>Here's a link to the gem's code on GitHub: <a href=\"https://github.com/google/google-api-ruby-client\" rel=\"nofollow\">https://github.com/google/google-api-ruby-client</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "edited": false, "score": 0, "creation_date": 1459194809, "post_id": 36192444, "comment_id": 60167110, "body": "Yes i did that but still not saving the option selected. I edited the post."}], "tags": [], "owner": {"reputation": 641, "user_id": 2041835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mShBs.jpg?s=128&g=1", "display_name": "alxibra", "link": "https://stackoverflow.com/users/2041835/alxibra"}, "is_accepted": false, "score": 0, "last_activity_date": 1458787839, "creation_date": 1458787839, "answer_id": 36192444, "question_id": 36190195, "link": "https://stackoverflow.com/questions/36190195/nested-select-multiple-options-is-not-saving/36192444#36192444", "title": "Nested select multiple options is not saving", "body": "<p>see the server console, it says</p>\n\n<pre><code>Unpermitted parameters: user_ejecutives_attributes\n</code></pre>\n\n<p>your <code>users_params</code> in <code>users_controller</code></p>\n\n<pre><code>params.require(:user).permit(:name, :lastname, user_ejecutive_ids: []  )\n</code></pre>\n\n<p>change <code>user_ejecutive_ids</code> to <code>user_ejecutives_attributes</code></p>\n\n<p>may be it will works</p>\n"}, {"comments": [{"owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "edited": false, "score": 0, "creation_date": 1459198135, "post_id": 36192724, "comment_id": 60168826, "body": "I did that <a href=\"http://code.runnable.com/VvMYsfuOOwtvL870/nested-form-listbox-multipe-options\" rel=\"nofollow noreferrer\">code.runnable.com/VvMYsfuOOwtvL870/&hellip;</a>"}, {"owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "edited": false, "score": 0, "creation_date": 1459198247, "post_id": 36192724, "comment_id": 60168892, "body": "Check my logs is doing the insert but is not saving the option selected. Is saving NULL"}, {"owner": {"reputation": 26, "user_id": 3430838, "user_type": "registered", "profile_image": "https://graph.facebook.com/732432845/picture?type=large", "display_name": "Michael", "link": "https://stackoverflow.com/users/3430838/michael"}, "reply_to_user": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "edited": false, "score": 0, "creation_date": 1459211382, "post_id": 36192724, "comment_id": 60173786, "body": "ejecutives_attributes: [:id,:name]"}], "tags": [], "owner": {"reputation": 26, "user_id": 3430838, "user_type": "registered", "profile_image": "https://graph.facebook.com/732432845/picture?type=large", "display_name": "Michael", "link": "https://stackoverflow.com/users/3430838/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1459198756, "last_edit_date": 1459198756, "creation_date": 1458789747, "answer_id": 36192724, "question_id": 36190195, "link": "https://stackoverflow.com/questions/36190195/nested-select-multiple-options-is-not-saving/36192724#36192724", "title": "Nested select multiple options is not saving", "body": "<p><code>params.require(:user).permit(:name, :lastname,:user_ejecutives_attributes )</code></p>\n\n<p>Don't forget the colon (:user_ejecutives_attributes instead of user_ejecutives_attributes). It is a ruby symbol.</p>\n\n<p>change in user model:\n<code>has_many :ejecutives, through: :user_ejecutives</code></p>\n\n<p>change in ejecutives model:\n<code>has_many :users, through: :user_ejecutives</code></p>\n\n<p>I would take collection select instead of select:\n<code>f.collection_select( :ejecutive_id, Ejecutive.all, :id, :name, {:include_blank =&gt; 'Please Select'})</code></p>\n"}], "owner": {"reputation": 1126, "user_id": 2847322, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PFcQc.jpg?s=128&g=1", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/2847322/carlos-morales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1459198756, "creation_date": 1458773319, "last_edit_date": 1459194782, "question_id": 36190195, "link": "https://stackoverflow.com/questions/36190195/nested-select-multiple-options-is-not-saving", "title": "Nested select multiple options is not saving", "body": "<p>I created a project using nested form to add multiple options on select but is not saving correctly.</p>\n\n<p><strong>Tables:</strong></p>\n\n<pre><code>|users|\n  |id| |name|      |lastname|\n    1   Cristiano   Ronaldo\n    2   Lionel      Messi\n    3   David       Beckham\n    4   Thomas      Muller\n\n|ejecutives|\n  |id|  |name|\n    1    Mourinho\n    2    Guardiola\n\n|user_ejecutives|\n  |id|   |user_id|   |ejecutive_id|\n    1       1              1\n    2       1              4\n    3       2              3\n    4       2              2\n</code></pre>\n\n<p>Controller <strong>users_controller.rb</strong>:</p>\n\n<pre><code>def new\n  @user = User.new\n  @ejecutives = Ejecutive.where('id=1')\n  @user_ejecutives = @user.user_ejecutives.build\nend\n\ndef create\n  @user = User.new user_params\n  @user.save\nend\n\nprivate\n def user_params\n   params.require(:user).permit(:name,:lastname, user_ejecutives_attributes: [])\n end\n</code></pre>\n\n<p>Models:</p>\n\n<pre><code>#User.rb\nhas_many :user_ejecutives\naccepts_nested_attributes_for :user_ejecutives  \n\n#Ejecutive.rb\nhas_many :user_ejecutives\n\n#UserEjecutive.rb\nbelongs_to :user\nbelongs_to :ejecutive\n</code></pre>\n\n<p>View</p>\n\n<pre><code>&lt;%= form_for @user do |f| %&gt;\n  &lt;%= form.text_field :name %&gt;\n  &lt;%= form.text_field :lastname %&gt;\n\n  &lt;%= f.fields_for :user_ejecutives do |builder| %&gt;\n    &lt;%= render 'user_ejecutive_fields', :f =&gt; builder %&gt;\n  &lt;% end %&gt;\n\n&lt;% end %&gt;\n</code></pre>\n\n<p>Partial:</p>\n\n<pre><code>Select user ejecutives:      \n&lt;%= f.select :ejecutive_id, @ejecutives.collect { |e| [e.name,e.id]  }, {prompt: \"Select 2 or more\"}, {:multiple =&gt; true, class: \"input-lg\"} %&gt;\n</code></pre>\n\n<p>Here is the demo project edited:</p>\n\n<p><a href=\"http://code.runnable.com/VvMYsfuOOwtvL870/nested-form-listbox-multipe-options\" rel=\"nofollow\">http://code.runnable.com/VvMYsfuOOwtvL870/nested-form-listbox-multipe-options</a></p>\n\n<p>The issue is that is not saving multiple selections:</p>\n\n<pre><code>Parameters: {\"utf8\"=&gt;\"\u2713\", \"user\"=&gt;{\"name\"=&gt;\"sddasdas\", \"lastname1\"=&gt;\"das\",\"user_ejecutives_attributes\"=&gt;{\"0\"=&gt;{\"ejecutive_id\"=&gt;[\"\", \"1\", \"2\"] }}} , \"commit\"=&gt;\"Save\"}\nINSERT INTO `users` (`name`, `lastname1`, `created_at`, `updated_at`) VALUES ('David', 'Beckham',  '2016-03-28 19:43:18', '2016-03-28 19:43:18')\nINSERT INTO `user_ejecutives` (`user_id`, `created_at`, `updated_at`) VALUES (68, '2016-03-28 19:43:18', '2016-03-28 19:43:18')\nCOMMIT\n</code></pre>\n\n<p>Is not saving the name selected in mysql I see NULL</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "twitter-bootstrap", "erb"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1458773447, "post_id": 36190180, "comment_id": 60015353, "body": "I have that line in the scss file as well. I just didn&#39;t put it there."}, {"owner": {"reputation": 11, "user_id": 3926034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jwoCK.jpg?s=128&g=1", "display_name": "FarazPatankar", "link": "https://stackoverflow.com/users/3926034/farazpatankar"}, "reply_to_user": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1458773693, "post_id": 36190180, "comment_id": 60015438, "body": "Did you follow all the steps on the documentation properly and restart your server after installing the gem?"}, {"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1458777517, "post_id": 36190180, "comment_id": 60016733, "body": "I have all files in the app working accordingly except for that one."}, {"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1458777570, "post_id": 36190180, "comment_id": 60016747, "body": "I cannot seem to find out how to make that file display itself with a bootstrap ui format"}], "tags": [], "owner": {"reputation": 11, "user_id": 3926034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jwoCK.jpg?s=128&g=1", "display_name": "FarazPatankar", "link": "https://stackoverflow.com/users/3926034/farazpatankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1458773277, "creation_date": 1458773277, "answer_id": 36190180, "question_id": 36190118, "link": "https://stackoverflow.com/questions/36190118/bootstrap-isnt-showing-on-all-app-pages/36190180#36190180", "title": "Bootstrap isn&#39;t showing on all app pages", "body": "<p>You also have to import the bootstrap styles in your application.scss file.</p>\n\n<pre><code>@import \"bootstrap-sprockets\";\n@import \"bootstrap\";\n</code></pre>\n\n<p>and the javascript has to be imported like this:</p>\n\n<pre><code>//= require bootstrap-sprockets\n</code></pre>\n\n<p>Just follow all the steps mentioned <a href=\"https://github.com/twbs/bootstrap-sass\" rel=\"nofollow\">here</a> and you'll be fine.</p>\n"}], "owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 13, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458773325, "creation_date": 1458773000, "last_edit_date": 1458773325, "question_id": 36190118, "link": "https://stackoverflow.com/questions/36190118/bootstrap-isnt-showing-on-all-app-pages", "title": "Bootstrap isn&#39;t showing on all app pages", "body": "<p>I have created an app and am running it as a test. The app is comprised of using bootstrap to create buttons, fields, headers, and panels. When I run the app, one of the pages is displayed as raw html, displaying the fields as regular html pages. </p>\n\n<p><a href=\"https://i.stack.imgur.com/eIdOD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eIdOD.png\" alt=\"enter image description here\"></a></p>\n\n<p>The app is written in rails, and the html.erb file is written properly as well: </p>\n\n<pre><code>&lt;% header \"Edit #{resource_name.to_s.humanize}\" %&gt;\n&lt;%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %&gt;\n&lt;%= devise_error_messages! %&gt;\n\n &lt;div class=\"form-control\"&gt;\n  &lt;%= f.label :email %&gt;&lt;br /&gt;\n  &lt;%= f.email_field :email, autofocus: true, class: 'form-control' %&gt;\n  &lt;% if devise_mapping.confirmable? &amp;&amp; resource.pending_confirmation %&gt;\n    &lt;span class=\"label label-info\"&gt; Currently waiting confirmation for: &lt;% resource.unconfirmed_email %&gt;&lt;/span&gt;\n  &lt;% end %&gt;\n &lt;/div&gt;\n\n\n&lt;div class=\"form-group\"&gt;\n &lt;%= f.label :password %&gt;\n &lt;%= f.password_field :password, autocomplete: \"off\", class: 'form-control' %&gt;\n   &lt;span class=\"help-block\"&gt;Enter new password&lt;/span&gt;\n &lt;% end %&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n  &lt;%= f.label :password_confirmation %&gt;&lt;br /&gt;\n  &lt;%= f.password_field :password_confirmation, autocomplete: \"off\", class: 'form-control' %&gt;\n&lt;/div&gt;\n\n &lt;div class=\"form-group\"&gt;\n     &lt;%= f.label :current_password %&gt;\n     &lt;%= f.password_field :current_password, autocomplete: \"off\" %&gt;\n       &lt;span class=\"help-block\"&gt;Confirm password&lt;/span&gt;\n     &lt;% end %&gt;\n &lt;/div&gt;\n\n &lt;div class=\"actions\"&gt;\n   &lt;%= f.submit \"Update\", class: 'btn btn-primary' %&gt;\n &lt;/div&gt;\n  &lt;% end %&gt;\n\n  &lt;h3&gt;Cancel my account&lt;/h3&gt;\n\n  &lt;p&gt;Delete account &lt;%= button_to \"Cancel my account\", registration_path(resource_name), data: { confirm: \"Are you sure?\" }, method: :delete %&gt;&lt;/p&gt;\n\n  &lt;%= link_to \"Back\", :back, class: \"btn btn-default btn-sm\" %&gt;\n</code></pre>\n\n<p>I also have the bootstrap-sass gem installed on the system: </p>\n\n<pre><code>gem 'devise_zxcvbn'\n\ngem 'bootstrap-sass'\n</code></pre>\n\n<p>The file is also included in the javascript file as well: </p>\n\n<pre><code>//= require jquery\n//= require global\n//= require jquery_ujs\n//= require jquery.turbolinks\n//= require bootstrap/dropdown\n//= require turbolinks\n</code></pre>\n\n<p>How can I get the page to work with Bootstrap? </p>\n"}, {"tags": ["ruby", "rvm", "ansible", "redhat"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1458772297, "post_id": 36189727, "comment_id": 60014929, "body": "Are you trying to do a system-wide installation of RVM or user-local? System-wide requires <code>sudo</code> access. Are you using the <a href=\"https://rvm.io/rvm/install\" rel=\"nofollow noreferrer\">installation commands</a> recommended by the RVM maintainers? In past conversations with them they recommended the user-local version of installing RVM."}, {"owner": {"reputation": 47597, "user_id": 2753241, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/2on70.jpg?s=128&g=1", "display_name": "udondan", "link": "https://stackoverflow.com/users/2753241/udondan"}, "edited": false, "score": 0, "creation_date": 1458787344, "post_id": 36189727, "comment_id": 60019310, "body": "I have no issues with rvm_io.rvm1-ruby on CentOS7. I first had to create /usr/local/bin for it to work though. Never asked me for a username."}], "answers": [{"tags": [], "owner": {"reputation": 607, "user_id": 345996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a7721d956003ae07097d84e690adf2?s=128&d=identicon&r=PG&f=1", "display_name": "jogaco", "link": "https://stackoverflow.com/users/345996/jogaco"}, "is_accepted": false, "score": 0, "last_activity_date": 1481111235, "creation_date": 1481111235, "answer_id": 41016658, "question_id": 36189727, "link": "https://stackoverflow.com/questions/36189727/rvm-demands-username-in-interactive-prompt-during-ruby-install/41016658#41016658", "title": "RVM demands username in interactive prompt during Ruby install", "body": "<p>The reason is that rvm is trying to install system requirements, and that requires to enter the sudo password.</p>\n\n<p>I have fixed this in my fork of rvm1-ansible <a href=\"https://github.com/jogaco/rvm1-ansible\" rel=\"nofollow noreferrer\">here</a> in this <a href=\"https://github.com/jogaco/rvm1-ansible/commit/903f0e9c7bcb72dea37cbf60ce1a3b10facb1b2b\" rel=\"nofollow noreferrer\">commit</a></p>\n\n<p>Works for me in Ubuntu.</p>\n\n<pre><code>---\n- name: Configure servers with ruby support for single user\n  hosts: newservers\n  become: yes\n\n  roles:\n    - { role: rvm_io.ruby,\n        tags: ruby,\n        rvm1_rubies: [2.3.3],\n        rvm1_user: 'sudouser',\n        rvm1_install_flags: '--auto-dotfiles --user-install',\n        rvm1_install_path: '/home/{{ ansible_user }}/.rvm',\n      }\n</code></pre>\n\n<p>Launch the task with a sudo user:</p>\n\n<pre><code>ansible-playbook -i hosts.ini ruby_script.yml --user sudouser --ask-sudo-pass\n</code></pre>\n"}], "owner": {"reputation": 1363, "user_id": 2162964, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kKlkr.jpg?s=128&g=1", "display_name": "sumitsu", "link": "https://stackoverflow.com/users/2162964/sumitsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1481111235, "creation_date": 1458771309, "question_id": 36189727, "link": "https://stackoverflow.com/questions/36189727/rvm-demands-username-in-interactive-prompt-during-ruby-install", "title": "RVM demands username in interactive prompt during Ruby install", "body": "<p>I am attempting to use Ansible to install RVM to install an updated version of Ruby on a remote (RedHat 6.x) system. I have tried two separate Ansible-RVM playbooks (<a href=\"https://github.com/rvm/rvm1-ansible\" rel=\"nofollow\">rvm/rvm1-ansible</a> and <a href=\"https://github.com/newmen/ansible-rvm\" rel=\"nofollow\">newmen/ansible-rvm</a>), but they both exhibit the same behavior: they both reach the step at which the playbook directs RVM to install Ruby, then stall until I cancel the process:</p>\n\n<pre><code>TASK: [ansible-rvm | installing Ruby as root]\n*********************************\n&lt;HOST.DOMAIN.xyz&gt;\n&lt;HOST.DOMAIN.xyz&gt;\n&lt;HOST.DOMAIN.xyz&gt; IdentityFile=/Users/USER/.ssh/private-key-file ConnectTimeout=10 PasswordAuthentication=no KbdInteractiveAuthentication=no ControlPath=/Users/USER/.ansible/cp/ansible-ssh-%h-%p-%r PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey ControlMaster=auto ControlPersist=60s\n&lt;HOST.DOMAIN.xyz&gt;\n&lt;HOST.DOMAIN.xyz&gt; IdentityFile=/Users/USER/.ssh/private-key-file ConnectTimeout=10 'sudo -k &amp;&amp; sudo -H -S -p \"[sudo via ansible, key=KEY] password: \" -u root /bin/sh -c '\"'\"'echo SUDO-SUCCESS-KEY; LANG=en_US.UTF-8 LC_CTYPE=en_US.UTF-8 /usr/bin/python /home/USER/.ansible/tmp/ansible-tmp-dir/command; rm -rf /home/USER/.ansible/tmp/ansible-tmp-dir/ &gt;/dev/null 2&gt;&amp;1'\"'\"'' PasswordAuthentication=no KbdInteractiveAuthentication=no ControlPath=/Users/USER/.ansible/cp/ansible-ssh-%h-%p-%r PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey ControlMaster=auto ControlPersist=60s\n^CERROR: interrupted\n</code></pre>\n\n<p>It appears that the cause is that RVM is demanding some kind of login information. When I SSH into the host in question to run RVM manually, I get a prompt <code>Username:</code>:</p>\n\n<pre><code>$ rvm install ruby-2.2.2\nSearching for binary rubies, this might take some time.\nNo binary rubies available for: redhat/6/x86_64/ruby-2.2.2.\nContinuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.\nChecking requirements for redhat.\nEnabling optional repository\nUsername: ^C\nUser interrupted process.\n</code></pre>\n\n<p>The above occurs regardless of whether or not the <code>rvm</code> command is run under <code>sudo</code>.</p>\n\n<p>I have been unable to find any documentation as to what login/username RVM is requesting, nor any instructions as to flags or configuration I could apply in order to disable interactivity; in fact, I've yet to find any reference to this login prompt in conjunction with RVM at all. Has anyone encountered this problem before?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "dragonfly-gem"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458772536, "post_id": 36189637, "comment_id": 60015016, "body": "What did you find when you searched about converting files from WAV to MP3 using Ruby? What have you tried? Please read &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;."}, {"owner": {"reputation": 9447, "user_id": 1380867, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5dc27a551f77074a1dcc431e4158704b?s=128&d=identicon&r=PG", "display_name": "MZaragoza", "link": "https://stackoverflow.com/users/1380867/mzaragoza"}, "edited": false, "score": 0, "creation_date": 1459145622, "post_id": 36189637, "comment_id": 60142910, "body": "I started a sample app for this <a href=\"https://github.com/mzaragoza/sample_convert_mp3_to_wav\" rel=\"nofollow noreferrer\">github.com/mzaragoza/sample_convert_mp3_to_wav</a> I stuck when I am doing wav.to_mp3 but I will keep working at this"}, {"owner": {"reputation": 301, "user_id": 4790516, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BE6sLlnCck0/AAAAAAAAAAI/AAAAAAAALtQ/HGVJWyCmkqc/photo.jpg?sz=128", "display_name": "Anshul Mengi", "link": "https://stackoverflow.com/users/4790516/anshul-mengi"}, "edited": false, "score": 0, "creation_date": 1459510831, "post_id": 36189637, "comment_id": 60330375, "body": "Did you try the solution suggested by @ddgd ? Looks like that should work"}, {"owner": {"reputation": 1749, "user_id": 3820950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RjUpZ.jpg?s=128&g=1", "display_name": "akashchandrakar", "link": "https://stackoverflow.com/users/3820950/akashchandrakar"}, "edited": false, "score": 0, "creation_date": 1459602273, "post_id": 36189637, "comment_id": 60365065, "body": "how about using a gem <a href=\"https://github.com/pacso/paperclip-wav-mp3\" rel=\"nofollow noreferrer\">github.com/pacso/paperclip-wav-mp3</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1477, "user_id": 3401124, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f16bfeaf3bc98416db9d226c8ffbdc9?s=128&d=identicon&r=PG&f=1", "display_name": "ddgd", "link": "https://stackoverflow.com/users/3401124/ddgd"}, "is_accepted": true, "score": 1, "last_activity_date": 1459199892, "creation_date": 1459199892, "answer_id": 36271356, "question_id": 36189637, "link": "https://stackoverflow.com/questions/36189637/ruby-on-rails-dragonfly/36271356#36271356", "title": "Ruby on Rails Dragonfly", "body": "<p>Dragonfly cannot do it by default, you need to add <a href=\"https://markevans.github.io/dragonfly/processors/\" rel=\"nofollow\">a custom processor</a> and probably use some command line tool for it, <a href=\"https://stackoverflow.com/questions/11216445/converting-wav-files-to-high-quality-mp3-using-linux-terminal\">here's a few examples</a></p>\n\n<p>So if you go with one of the top responses from that thread and use libav-tools your custom processor will look something like this (you might also need to change new_path file extension to .mp_3):</p>\n\n<pre><code>processor :to_mp3 do |content|\n  content.shell_update do |old_path, new_path|\n    \"avconv -i #{old_path} #{new_path}\"\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 240, "user_id": 1037470, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71057673fdf4dabace362d0e9d251c4d?s=128&d=identicon&r=PG", "display_name": "Moe", "link": "https://stackoverflow.com/users/1037470/moe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 36271356, "answer_count": 1, "score": 0, "last_activity_date": 1467669845, "creation_date": 1458770872, "last_edit_date": 1467669845, "question_id": 36189637, "link": "https://stackoverflow.com/questions/36189637/ruby-on-rails-dragonfly", "title": "Ruby on Rails Dragonfly", "body": "<p>I have the following Model which has an accessor that receives an audio file with WAV format and then stores it</p>\n\n<pre><code>class Audio &lt; ActiveRecord::Base\n  belongs_to :contribution\n  belongs_to :recorder\n\n\n  dragonfly_accessor  :audio, :app_name =&gt; :videos do\n    storage_options do |audio|\n      { path: \"audios/#{audio.name}\" }\n    end\n  end\n\n\nend\n</code></pre>\n\n<p>What I want to do is to convert this audio from WAV to MP3 before saving it.</p>\n"}, {"tags": ["ruby", "windows", "sass", "rubygems"], "comments": [{"owner": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 0, "creation_date": 1458772211, "post_id": 36189548, "comment_id": 60014890, "body": "What folder is sass installed in?"}, {"owner": {"reputation": 1367, "user_id": 2152486, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8b73117c6d9417460a9e5ea5ce9357cc?s=128&d=identicon&r=PG", "display_name": "Boom", "link": "https://stackoverflow.com/users/2152486/boom"}, "reply_to_user": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 0, "creation_date": 1458772679, "post_id": 36189548, "comment_id": 60015085, "body": "I installed it using <code>gem install sass</code>, which I believe put it in <code>C:\\Program Files\\Ruby\\22-x64\\lib\\ruby\\gems\\2.2.0\\gems\\sass-3.4.21</code>. I&#39;m not sure where the &quot;true&quot; Sass is, as there&#39;s a bin folder within the mentioned Sass folder, and there&#39;s a sass file within Ruby&#39;s cache."}, {"owner": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 0, "creation_date": 1458776611, "post_id": 36189548, "comment_id": 60016472, "body": "you could try finding the short pathname for your ruby install folder by using dir /x  and then you could change your ruby path in the environment to the short version.  otherwise you&#39;re going to have to look in the sass gem folder and see if it stored any configuration files and just change the path in the files to the short version as well."}, {"owner": {"reputation": 25573, "user_id": 676874, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c8e67ec01dc3e7c402255ff26785863f?s=128&d=identicon&r=PG", "display_name": "knut", "link": "https://stackoverflow.com/users/676874/knut"}, "edited": false, "score": 0, "creation_date": 1459096719, "post_id": 36189548, "comment_id": 60129289, "body": "In a similar situation I moved my installation - it avoided <a href=\"http://stackoverflow.com/a/6193802/676874\">other problems</a> with other gems,"}], "answers": [{"tags": [], "owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "is_accepted": false, "score": 1, "last_activity_date": 1459094993, "creation_date": 1459094993, "answer_id": 36249560, "question_id": 36189548, "link": "https://stackoverflow.com/questions/36189548/sass-using-ruby-c-program-is-not-recognized-as-an-internal-or-external-co/36249560#36249560", "title": "Sass using Ruby - &#39;&quot;&quot;C:\\Program&#39; is not recognized as an internal or external command", "body": "<p>edit sass.bat (and compass.bat .. in fact, you might review all the .bat files there) in <code>%RUBY%/bin</code> path and replace the lines that start <code>@\"\"C:\\Program...</code> with <code>@\"C:\\Program....</code></p>\n\n<p>You also will get use of the \"Start Command Prompt with Ruby\" Start Menu launcher if you edit the <code>setrbvars.bat</code> while you are there.</p>\n"}], "owner": {"reputation": 1367, "user_id": 2152486, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8b73117c6d9417460a9e5ea5ce9357cc?s=128&d=identicon&r=PG", "display_name": "Boom", "link": "https://stackoverflow.com/users/2152486/boom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459094993, "creation_date": 1458770523, "last_edit_date": 1458770674, "question_id": 36189548, "link": "https://stackoverflow.com/questions/36189548/sass-using-ruby-c-program-is-not-recognized-as-an-internal-or-external-co", "title": "Sass using Ruby - &#39;&quot;&quot;C:\\Program&#39; is not recognized as an internal or external command", "body": "<p>Today I install Ruby and Sass, and every went pretty normally.</p>\n\n<p>I have Ruby installed and in my path. I can even do the following:</p>\n\n<pre><code>C:\\&gt; ruby -v\nruby 2.2.4p230 (2015-12-16 revision 53155) [x64-mingw32]\n</code></pre>\n\n<p>I also installed Sass, and the terminal, to my belief, knows that I'm calling Sass, but fails due to something else:</p>\n\n<pre><code>C:\\&gt; sass\n'\"\"C:\\Program' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n\n<p>My guess is that the issue stems from Ruby being installed in:</p>\n\n<pre><code>C:\\Program Files\\Ruby\\22-x64\\\n</code></pre>\n\n<p>And that it doesn't like the space in <code>Program Files</code>.</p>\n\n<p>How can I fix this, <strong>without moving my Ruby installation</strong>?</p>\n"}, {"tags": ["ruby", "string", "escaping"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1458769562, "post_id": 36189195, "comment_id": 60013732, "body": "Please edit your question to include your example code and explanation. Links to other sites tend to go bad, making this question and any answers less useful to future visitors."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458770117, "post_id": 36189195, "comment_id": 60014008, "body": "Do you want literally <i>backslash one</i>?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458772736, "post_id": 36189195, "comment_id": 60015106, "body": "Welcome to Stack Overflow. Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. We expect you to include your code and evidence of effort in the question itself, not in a link to somewhere else. Links rot then break, leaving your question making no sense to anyone."}, {"owner": {"reputation": 969, "user_id": 387169, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7fd6ad14459f190fffc8afe8f2e8fba7?s=128&d=identicon&r=PG", "display_name": "mhz", "link": "https://stackoverflow.com/users/387169/mhz"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458826788, "post_id": 36189195, "comment_id": 60036475, "body": "@Jordan Example code added. Thanks for the tip"}, {"owner": {"reputation": 969, "user_id": 387169, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7fd6ad14459f190fffc8afe8f2e8fba7?s=128&d=identicon&r=PG", "display_name": "mhz", "link": "https://stackoverflow.com/users/387169/mhz"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458826866, "post_id": 36189195, "comment_id": 60036532, "body": "@sawa neither <code>\\1</code> nor <code>\\\\1</code> can result in a string of &quot;\\1&quot;"}, {"owner": {"reputation": 969, "user_id": 387169, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7fd6ad14459f190fffc8afe8f2e8fba7?s=128&d=identicon&r=PG", "display_name": "mhz", "link": "https://stackoverflow.com/users/387169/mhz"}, "edited": false, "score": 0, "creation_date": 1458828423, "post_id": 36189195, "comment_id": 60037594, "body": "Thanks everyone for the answers."}], "answers": [{"tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": false, "score": 0, "last_activity_date": 1458769988, "creation_date": 1458769988, "answer_id": 36189404, "question_id": 36189195, "link": "https://stackoverflow.com/questions/36189195/how-to-write-1-in-string/36189404#36189404", "title": "How to write \\1 in string", "body": "<p>When I'm in IRB and type <code>\\1</code>, the value returned is <code>\\u0001</code> which is Ruby's way of\nrepresenting the character.</p>\n\n<p>When I write <code>puts('\\1</code>), the behavior is the same in IRB and when running \na script. I see a unicode character map as follows</p>\n\n<pre><code>0 0\n0 1\n</code></pre>\n\n<p>This won't be the same output on all platforms (it depends on how unicode is\ndisplayed). So that's probably why you see no output on the repl.it example. </p>\n"}, {"tags": [], "owner": {"reputation": 1211, "user_id": 5056202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Wq9rr.jpg?s=128&g=1", "display_name": "CheeseFry", "link": "https://stackoverflow.com/users/5056202/cheesefry"}, "is_accepted": false, "score": 2, "last_activity_date": 1458770060, "creation_date": 1458770060, "answer_id": 36189429, "question_id": 36189195, "link": "https://stackoverflow.com/questions/36189195/how-to-write-1-in-string/36189429#36189429", "title": "How to write \\1 in string", "body": "<p>Have you tried <code>puts '\\1'</code>? (single quotes instead of double)\nI'm not 100% sure what you're asking but if that helps, cheers. </p>\n"}, {"comments": [{"owner": {"reputation": 969, "user_id": 387169, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7fd6ad14459f190fffc8afe8f2e8fba7?s=128&d=identicon&r=PG", "display_name": "mhz", "link": "https://stackoverflow.com/users/387169/mhz"}, "edited": false, "score": 0, "creation_date": 1458828325, "post_id": 36189485, "comment_id": 60037521, "body": "Thanks for your answer!"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 969, "user_id": 387169, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7fd6ad14459f190fffc8afe8f2e8fba7?s=128&d=identicon&r=PG", "display_name": "mhz", "link": "https://stackoverflow.com/users/387169/mhz"}, "edited": false, "score": 0, "creation_date": 1458862150, "post_id": 36189485, "comment_id": 60056532, "body": "@mhz Let me know if that works, and if it does, accept it as your solution. Makes it easy for other people to find that way."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 5, "last_activity_date": 1458795017, "last_edit_date": 1458795017, "creation_date": 1458770252, "answer_id": 36189485, "question_id": 36189195, "link": "https://stackoverflow.com/questions/36189195/how-to-write-1-in-string/36189485#36189485", "title": "How to write \\1 in string", "body": "<p>There are a few ways to get it:</p>\n\n<pre><code>\"\\\\1\"\n'\\1'\n?\\\\ + ?1\n</code></pre>\n\n<p>Remember that the way it will show up is always <code>\"\\\\1\"</code>, which means <em>literal backslash, one</em>, which is what you want. The way to know that this is correct is to use <code>puts</code>:</p>\n\n<pre><code>puts \"\\\\1\"\n# =&gt; \\1\n</code></pre>\n\n<p>Inside of double-quoted strings, backslashes have significant meaning. <code>\\n</code> means the newline character. In single quoted strings, that's two characters: backslash and <code>n</code>.</p>\n\n<p>You can even test this:</p>\n\n<pre><code>\"\\\\1\".chars\n# =&gt; [\"\\\\\", \"1\"]\n\n'\\1'.chars\n# =&gt; [\"\\\\\", \"1\"]\n</code></pre>\n\n<p>So you can see Ruby is interpreting that as two characters, not three. Don't be fooled by the second backslash inside a double-quoted string. That's how a literal backslash is represented.</p>\n"}, {"tags": [], "owner": {"reputation": 663, "user_id": 2505634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dfbbca3f062f572d0046a85b38a0d8?s=128&d=identicon&r=PG", "display_name": "Tommy Steimel", "link": "https://stackoverflow.com/users/2505634/tommy-steimel"}, "is_accepted": false, "score": 2, "last_activity_date": 1458828913, "last_edit_date": 1458828913, "creation_date": 1458770512, "answer_id": 36189546, "question_id": 36189195, "link": "https://stackoverflow.com/questions/36189195/how-to-write-1-in-string/36189546#36189546", "title": "How to write \\1 in string", "body": "<p>Your command line shows \"\\1\" because irb does .inspect on the object, which escapes the string. So essentially \\1 is properly stored, but when it's displaying it, it adds another \\ to indicate to you that it's escaped</p>\n"}], "owner": {"reputation": 969, "user_id": 387169, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7fd6ad14459f190fffc8afe8f2e8fba7?s=128&d=identicon&r=PG", "display_name": "mhz", "link": "https://stackoverflow.com/users/387169/mhz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "closed_date": 1459293817, "accepted_answer_id": 36189485, "answer_count": 4, "score": -1, "last_activity_date": 1458828913, "creation_date": 1458769154, "last_edit_date": 1458826732, "question_id": 36189195, "link": "https://stackoverflow.com/questions/36189195/how-to-write-1-in-string", "closed_reason": "Not suitable for this site", "title": "How to write \\1 in string", "body": "<p>I'm trying to write <code>\\1</code> in a string, but I can't do it. I would appreciate if somebody helped me with this strange behaviour. <a href=\"https://repl.it/BzDt/2\" rel=\"nofollow\">Here</a> is an example with some explaining.</p>\n\n<p>EDIT: Adding example output</p>\n\n<p><code>puts \"\\1 &lt;- null\"</code></p>\n\n<p><code>puts \"\\\\1 &lt;- slash one\"</code></p>\n\n<p>works!</p>\n\n<p>but typing \n<code>\"\\1\"</code>\n<code>\"\\\\1\"</code></p>\n\n<p>in the irb command line yields</p>\n\n<p><code>\"\\1\"</code></p>\n\n<p><code>=&gt; \"\\u0001</code></p>\n\n<p><code>\"\\\\1\"</code></p>\n\n<p><code>=&gt; \"\\\\1\"</code></p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1458765508, "post_id": 36188232, "comment_id": 60011765, "body": "Is it rails project? If not, you have to require the file containing the definition before you can use it."}, {"owner": {"reputation": 1826, "user_id": 2216055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQ0Vr.jpg?s=128&g=1", "display_name": "Jon Carter", "link": "https://stackoverflow.com/users/2216055/jon-carter"}, "edited": false, "score": 0, "creation_date": 1458955286, "post_id": 36188232, "comment_id": 60092191, "body": "@Chris, if you feel the question has been answered, it&#39;s a good idea to mark that answer as accepted."}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 3924908, "user_type": "registered", "profile_image": "https://graph.facebook.com/709921381/picture?type=large", "display_name": "Chris Brown", "link": "https://stackoverflow.com/users/3924908/chris-brown"}, "edited": false, "score": 0, "creation_date": 1458766132, "post_id": 36188260, "comment_id": 60012081, "body": "Initially I thought that but if I put that at the top of another.rb I get the following error:  in `require&#39;: cannot load such file -- something (LoadError)"}, {"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "reply_to_user": {"reputation": 213, "user_id": 3924908, "user_type": "registered", "profile_image": "https://graph.facebook.com/709921381/picture?type=large", "display_name": "Chris Brown", "link": "https://stackoverflow.com/users/3924908/chris-brown"}, "edited": false, "score": 0, "creation_date": 1458767663, "post_id": 36188260, "comment_id": 60012886, "body": "Try <code>require &#39;.&#47;something&#39;</code>."}, {"owner": {"reputation": 4233, "user_id": 766783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JNUUy.png?s=128&g=1", "display_name": "DMKE", "link": "https://stackoverflow.com/users/766783/dmke"}, "edited": false, "score": 0, "creation_date": 1458767737, "post_id": 36188260, "comment_id": 60012922, "body": "That won&#39;t work, as <code>.</code> (the current dir) is not in <code>$LOAD_PATH</code>. <code>require_relative</code> is the way to go."}, {"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "edited": false, "score": 0, "creation_date": 1458769342, "post_id": 36188260, "comment_id": 60013622, "body": "No, it doesn&#39;t matter if the current dir is in the $LOAD_PATH. <code>require &#39;.&#47;something&#39;</code> will work."}], "tags": [], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "is_accepted": false, "score": 5, "last_activity_date": 1458765521, "creation_date": 1458765521, "answer_id": 36188260, "question_id": 36188232, "link": "https://stackoverflow.com/questions/36188232/how-do-you-use-a-class-from-a-different-file/36188260#36188260", "title": "How do you use a class from a different file?", "body": "<p>You have to require the something.rb.</p>\n\n<pre><code>require 'something.rb'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1826, "user_id": 2216055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQ0Vr.jpg?s=128&g=1", "display_name": "Jon Carter", "link": "https://stackoverflow.com/users/2216055/jon-carter"}, "reply_to_user": {"reputation": 213, "user_id": 3924908, "user_type": "registered", "profile_image": "https://graph.facebook.com/709921381/picture?type=large", "display_name": "Chris Brown", "link": "https://stackoverflow.com/users/3924908/chris-brown"}, "edited": false, "score": 0, "creation_date": 1458766502, "post_id": 36188421, "comment_id": 60012303, "body": "To nitpick myself, &#39;require&#39; will also work if you give it an absolute path from the root of the filesystem.  But read the last link there for a truly complete understanding."}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 2, "creation_date": 1458768329, "post_id": 36188421, "comment_id": 60013228, "body": "You don&#39;t need (and it is normal practice  to omit ) the extension in calls to require / require_relative"}, {"owner": {"reputation": 1826, "user_id": 2216055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQ0Vr.jpg?s=128&g=1", "display_name": "Jon Carter", "link": "https://stackoverflow.com/users/2216055/jon-carter"}, "reply_to_user": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1458768778, "post_id": 36188421, "comment_id": 60013397, "body": "That has been my experience as well, @FrederickCheung, and I agree.  In this case, however, I included the extension in the hope of avoiding confusion for a newer user, and to make it clear that it&#39;s a file path and not a class name."}], "tags": [], "owner": {"reputation": 1826, "user_id": 2216055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQ0Vr.jpg?s=128&g=1", "display_name": "Jon Carter", "link": "https://stackoverflow.com/users/2216055/jon-carter"}, "is_accepted": true, "score": 4, "last_activity_date": 1458766155, "creation_date": 1458766155, "answer_id": 36188421, "question_id": 36188232, "link": "https://stackoverflow.com/questions/36188232/how-do-you-use-a-class-from-a-different-file/36188421#36188421", "title": "How do you use a class from a different file?", "body": "<p>The most common way to use code like this is via <a href=\"http://ruby-doc.org/core-1.9.3/Kernel.html#method-i-require\" rel=\"nofollow\">require</a>:</p>\n\n<pre><code>require 'something.rb'\n</code></pre>\n\n<p>..will enable the use of classes defined within that file, but only if the file can be found either in the Ruby loadpath, or associated with an installed gem.</p>\n\n<p>If you want to write your own, especially for testing or short-term hacking, you'll probably want to use <a href=\"http://ruby-doc.org/core-1.9.3/Kernel.html#method-i-require_relative\" rel=\"nofollow\">require_relative</a>, which takes a relative path to the file you want to use:</p>\n\n<pre><code>require_relative './something.rb'`\n</code></pre>\n\n<p>That should work if something.rb is in the same directory as another.rb</p>\n\n<p>More info on various ways to reuse code in Ruby can be found <a href=\"https://practicingruby.com/articles/ways-to-load-code\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1021, "user_id": 2662823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuQWG.png?s=128&g=1", "display_name": "typo", "link": "https://stackoverflow.com/users/2662823/typo"}, "is_accepted": false, "score": 0, "last_activity_date": 1458779914, "creation_date": 1458779914, "answer_id": 36191289, "question_id": 36188232, "link": "https://stackoverflow.com/questions/36188232/how-do-you-use-a-class-from-a-different-file/36191289#36191289", "title": "How do you use a class from a different file?", "body": "<p>NOTE: It is extremely common to see the file name required WITHOUT the <code>.rb</code> extension, as shown in the examples below.  </p>\n\n<p>As others have stated, you must require 'something' if in the same load path.</p>\n\n<pre><code>require 'something'\n</code></pre>\n\n<p>or require_relative './something', by including the path to the file. </p>\n\n<pre><code>require_relative 'something'\n</code></pre>\n\n<p>\"Aside from looking nicer, this bareword way of referring to the extension is necessary because not all extensions use files ending in .rb. Specifically, extensions written in C are stored in files ending with .so or .dll. To keep the process transparent-that is, to save you the trouble of knowing whether the extension you want uses a .rb file or not-Ruby accepts a bareword and then does some automatic file-searching and trying out of possible filenames until it finds the file corresponding to the extension you have requested.\" </p>\n\n<p>For more info - <a href=\"http://rubylearning.com/satishtalim/including_other_files_in_ruby.html\" rel=\"nofollow\">http://rubylearning.com/satishtalim/including_other_files_in_ruby.html</a></p>\n"}], "owner": {"reputation": 213, "user_id": 3924908, "user_type": "registered", "profile_image": "https://graph.facebook.com/709921381/picture?type=large", "display_name": "Chris Brown", "link": "https://stackoverflow.com/users/3924908/chris-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 36188421, "answer_count": 3, "score": 3, "last_activity_date": 1458779914, "creation_date": 1458765419, "last_edit_date": 1458767575, "question_id": 36188232, "link": "https://stackoverflow.com/questions/36188232/how-do-you-use-a-class-from-a-different-file", "title": "How do you use a class from a different file?", "body": "<p>I'm trying to use a class from a different file.</p>\n\n<p>something.rb</p>\n\n<pre><code>class Something\n  def initialize\n  end\n  def getText\n    'Some example text'\n  end\nend\n</code></pre>\n\n<p>another.rb</p>\n\n<pre><code>class Another\nend\n\nsomethingVar = Something.new\nputs somethingVar.getText\n</code></pre>\n\n<p>This gives me the error</p>\n\n<pre><code>/usr/bin/ruby -e $stdout.sync=true;$stderr.sync=true;load($0=ARGV.shift) /home/chris/RubymineProjects/untitled1/another.rb\n/home/chris/RubymineProjects/untitled1/another.rb:4:in `&lt;top (required)&gt;': uninitialized constant Something (NameError)\n    from -e:1:in `load'\n    from -e:1:in `&lt;main&gt;'\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "nested-attributes"], "answers": [{"comments": [{"owner": {"reputation": 6076, "user_id": 4044009, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42e57031eb7d02c47c9afaecfc878638?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/4044009/neil"}, "edited": false, "score": 0, "creation_date": 1458765528, "post_id": 36188140, "comment_id": 60011779, "body": "Thanks, but I don&#39;t think this works for this situation.  I am not validating on any attributes of the <code>contacts_team</code> record.  I only intend to validate that the <code>contact</code> has at least one associated <code>team</code>.  In other words: at least one associated <code>contacts_team</code> record."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "reply_to_user": {"reputation": 6076, "user_id": 4044009, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42e57031eb7d02c47c9afaecfc878638?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/4044009/neil"}, "edited": false, "score": 0, "creation_date": 1458766575, "post_id": 36188140, "comment_id": 60012342, "body": "pretty sure you can pass that proc any condition."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "reply_to_user": {"reputation": 6076, "user_id": 4044009, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42e57031eb7d02c47c9afaecfc878638?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/4044009/neil"}, "edited": false, "score": 0, "creation_date": 1458766604, "post_id": 36188140, "comment_id": 60012358, "body": "contact.teams.count &gt; 0"}, {"owner": {"reputation": 6076, "user_id": 4044009, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42e57031eb7d02c47c9afaecfc878638?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/4044009/neil"}, "edited": false, "score": 0, "creation_date": 1458768783, "post_id": 36188140, "comment_id": 60013400, "body": "When you create a new contact though it will not have any associated <code>contacts_teams</code> because both the <code>contacts_team</code> record has not yet been created."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "reply_to_user": {"reputation": 6076, "user_id": 4044009, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42e57031eb7d02c47c9afaecfc878638?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/4044009/neil"}, "edited": false, "score": 0, "creation_date": 1458768997, "post_id": 36188140, "comment_id": 60013481, "body": "you can&#39;t check to make sure the values are present in the params hash?"}], "tags": [], "owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "is_accepted": false, "score": 0, "last_activity_date": 1458765087, "creation_date": 1458765087, "answer_id": 36188140, "question_id": 36187666, "link": "https://stackoverflow.com/questions/36187666/validate-presence-of-nested-attributes-within-a-form/36188140#36188140", "title": "Validate presence of nested attributes within a form", "body": "<p>docs recommend using reject_if and passing it a proc:</p>\n\n<pre><code>accepts_nested_attributes_for :posts, reject_if: proc { |attributes| attributes['title'].blank? }\n</code></pre>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html\" rel=\"nofollow\">http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 6076, "user_id": 4044009, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42e57031eb7d02c47c9afaecfc878638?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/4044009/neil"}, "is_accepted": true, "score": 4, "last_activity_date": 1458830251, "last_edit_date": 1495542275, "creation_date": 1458780240, "answer_id": 36191337, "question_id": 36187666, "link": "https://stackoverflow.com/questions/36187666/validate-presence-of-nested-attributes-within-a-form/36191337#36191337", "title": "Validate presence of nested attributes within a form", "body": "<p>This does the validations for both creating and updating a <code>contact</code>: making sure there is at least one associated <code>contacts_team</code>.  There is a current edge case which leads to a poor user experience. <a href=\"https://stackoverflow.com/posts/36202273/edit\">I posted that question here</a>.  For the most part though this does the trick. </p>\n\n<pre><code>#custom validation within models/contact.rb\nclass Contact &lt; ActiveRecord::Base\n  ...\n  validate :at_least_one_contacts_team\n\n  private\n  def at_least_one_contacts_team\n    # when creating a new contact: making sure at least one team exists\n    return errors.add :base, \"Must have at least one Team\" unless contacts_teams.length &gt; 0\n\n    # when updating an existing contact: Making sure that at least one team would exist\n    return errors.add :base, \"Must have at least one Team\" if contacts_teams.reject{|contacts_team| contacts_team._destroy == true}.empty?\n  end           \nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 2125954, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eef1ee1bb9a2440926fffae7e8eaa2f8?s=128&d=identicon&r=PG", "display_name": "Vasu", "link": "https://stackoverflow.com/users/2125954/vasu"}, "is_accepted": false, "score": 6, "last_activity_date": 1498168208, "last_edit_date": 1498168208, "creation_date": 1483510930, "answer_id": 41457414, "question_id": 36187666, "link": "https://stackoverflow.com/questions/36187666/validate-presence-of-nested-attributes-within-a-form/41457414#41457414", "title": "Validate presence of nested attributes within a form", "body": "<p>In Rails 5 this can be done using:</p>\n\n<pre><code>validates :contacts_teams, :presence =&gt; true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1070, "user_id": 1387241, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2465c149a2fa62c018723d3f3fdfa4d6?s=128&d=identicon&r=PG", "display_name": "sekmo", "link": "https://stackoverflow.com/users/1387241/sekmo"}, "is_accepted": false, "score": 2, "last_activity_date": 1518471586, "creation_date": 1518471586, "answer_id": 48755940, "question_id": 36187666, "link": "https://stackoverflow.com/questions/36187666/validate-presence-of-nested-attributes-within-a-form/48755940#48755940", "title": "Validate presence of nested attributes within a form", "body": "<p>If you have a Profile model nested in a User model, and you want to validate the nested model, you can write something like this: (you also need <code>validates_presence_of</code> because <code>validates_associated</code> doesn't validate the profile if the user doesn't have any associated profile)</p>\n\n<pre><code>class User &lt; ApplicationRecord\n\n  has_one :profile\n  accepts_nested_attributes_for :profile\n  validates_presence_of :profile\n  validates_associated :profile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4883112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZmoZpL2380w/AAAAAAAAAAI/AAAAAAAAABI/JpODAPi7gho/photo.jpg?sz=128", "display_name": "Idrees Ibrahim", "link": "https://stackoverflow.com/users/4883112/idrees-ibrahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1561472604, "creation_date": 1561472604, "answer_id": 56756270, "question_id": 36187666, "link": "https://stackoverflow.com/questions/36187666/validate-presence-of-nested-attributes-within-a-form/56756270#56756270", "title": "Validate presence of nested attributes within a form", "body": "<p>Model Names:\n1: approval\n2: approval_sirs  </p>\n\n<p>Associations:\n1: approval\nhas_many :approval_sirs, :foreign_key => 'approval_id', :dependent => :destroy\naccepts_nested_attributes_for :approval_sirs, :allow_destroy => true\n2: approval_sirs<br>\nbelongs_to :approval , :foreign_key => 'approval_id'</p>\n\n<p>In approvals.rb\n    ## nested form validations\n    validate :mandatory_field_of_demand_report_sirs</p>\n\n<pre><code>private\n\ndef mandatory_field_of_demand_report_sirs\n    self.approval_sirs.each do |approval_sir|\n        unless approval_sir.marked_for_destruction?\n          errors.add(:base, \"Demand Report Field are mandatory in SIRs' Detail\") unless approval_sir.demand_report.present?\n        end\n    end\nend\n</code></pre>\n"}], "owner": {"reputation": 6076, "user_id": 4044009, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42e57031eb7d02c47c9afaecfc878638?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/4044009/neil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6818, "favorite_count": 1, "accepted_answer_id": 36191337, "answer_count": 5, "score": 4, "last_activity_date": 1561472604, "creation_date": 1458763368, "last_edit_date": 1458765131, "question_id": 36187666, "link": "https://stackoverflow.com/questions/36187666/validate-presence-of-nested-attributes-within-a-form", "title": "Validate presence of nested attributes within a form", "body": "<p>I have the following associations:</p>\n\n<pre><code>#models/contact.rb\nclass Contact &lt; ActiveRecord::Base\n  has_many :contacts_teams\n  has_many :teams, through: :contacts\n\n  accepts_nested_attributes_for :contacts_teams, allow_destroy: true\nend\n\n#models/contacts_team.rb\nclass ContactsTeam &lt; ActiveRecord::Base\n  belongs_to :contact\n  belongs_to :team\nend\n\n#models/team.rb\nclass Team &lt; ActiveRecord::Base\n  has_many :contacts_team\n  has_many :contacts, through: :contacts_teams\nend\n</code></pre>\n\n<p><strong>A <code>contact</code> should always have at least one associated team (which is specified in the rich join table of <code>contacts_teams</code>).</strong>  </p>\n\n<p>If the user tried to create a contact without an associated team: a validation should be thrown.  If the user tries to remove all of a contact's associated teams: a validation should be thrown.</p>\n\n<p>How do I do that?</p>\n\n<p>I did look at the <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html\" rel=\"nofollow\">nested attributes</a> docs.  I also looked at <a href=\"http://michaelwelburn.com/2014/02/10/rails-4-nested-object-creation-and-parent-presence-validation-error/\" rel=\"nofollow\">this article</a> and <a href=\"http://homeonrails.com/2012/10/validating-nested-associations-in-rails/\" rel=\"nofollow\">this article</a> which are both a bit dated.</p>\n\n<p>For completion: I am using the <code>nested_form_fields</code> gem to dynamically add new associated teams to a contact.  Here is the relevant part on the form (which works, but currently not validating that at least one team was associated to the contact):</p>\n\n<pre><code>&lt;%= f.nested_fields_for :contacts_teams do |ff| %&gt;\n  &lt;%= ff.remove_nested_fields_link %&gt;\n  &lt;%= ff.label :team_id %&gt;\n  &lt;%= ff.collection_select(:team_id, Team.all, :id, :name) %&gt;\n&lt;% end %&gt;\n&lt;br&gt;\n&lt;div&gt;&lt;%= f.add_nested_fields_link :contacts_teams, \"Add Team\"%&gt;&lt;/div&gt;\n</code></pre>\n\n<p>So when \"Add Team\" is not clicked then nothing gets passed through the params related to teams, so no <code>contacts_team</code> record gets created.  But when \"Add Team\" is clicked and a team is selected and form submitted, something like this gets passed through the params:</p>\n\n<pre><code>\"contacts_teams_attributes\"=&gt;{\"0\"=&gt;{\"team_id\"=&gt;\"1\"}}\n</code></pre>\n"}, {"tags": ["ruby", "ruby-on-rails-3", "plugins", "ahoy"], "comments": [{"owner": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 0, "creation_date": 1458776994, "post_id": 36187123, "comment_id": 60016590, "body": "binary doesnt exist in sqlite"}], "owner": {"reputation": 535, "user_id": 4333410, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l9S2b.png?s=128&g=1", "display_name": "KavitaC", "link": "https://stackoverflow.com/users/4333410/kavitac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458764648, "creation_date": 1458761506, "last_edit_date": 1458764648, "question_id": 36187123, "link": "https://stackoverflow.com/questions/36187123/rails-3-ahoy-plugin-for-user-activity-tracking-installation-error", "title": "Rails 3 -&gt; Ahoy plugin for user activity tracking-&gt; Installation error", "body": "<p>I have installed the Gem Ahoy as per the instruction in the link ->\n<a href=\"https://github.com/ankane/ahoy\" rel=\"nofollow\">https://github.com/ankane/ahoy</a></p>\n\n<p>Add this line to your application\u2019s Gemfile:</p>\n\n<pre><code>gem 'ahoy_matey'\n</code></pre>\n\n<p>And add the javascript file in app/assets/javascripts/application.js after jQuery.</p>\n\n<pre><code>//= require jquery\n//= require ahoy\n</code></pre>\n\n<p>MySQL or SQLite</p>\n\n<p>Add activeuuid to your Gemfile.</p>\n\n<pre><code>gem 'activeuuid', '&gt;= 0.5.0'\n</code></pre>\n\n<p>And run:</p>\n\n<pre><code>rails generate ahoy:stores:active_record\nrake db:migrate\n</code></pre>\n\n<p>The last command produces following error </p>\n\n<pre><code>rake db:migrate\n==  CreateVisits: migrating ===================================================\n-- create_table(:visits, {:id=&gt;false})\nrake aborted!\nStandardError: An error has occurred, this and all later migrations canceled:\n\nPG::UndefinedObject: ERROR:  type \"binary\" does not exist\nLINE 1: CREATE TABLE \"visits\" (\"id\" binary(16) PRIMARY KEY, \"visitor...\n</code></pre>\n"}, {"tags": ["ruby", "linux", "sinatra", "resque"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1458761355, "post_id": 36186852, "comment_id": 60009458, "body": "I think if your own system is working, why not use it? It seems like a good use for Resque, but actually when I was considering this issue I decided to just roll my own implementation as well. See <a href=\"http://codereview.stackexchange.com/questions/122159/a-two-method-program-for-running-background-jobs\">here</a> or <a href=\"https://github.com/maxpleaner/tickers\" rel=\"nofollow noreferrer\">here</a>. But to reiterate, this is a good use for Resque."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458773374, "post_id": 36186852, "comment_id": 60015327, "body": "Welcome to Stack Overflow. When asking, you&#39;ll find a grammar-checker will help a lot. It&#39;ll help you avoid common errors such as not using proper capitalization and spelling. I&#39;d recommend reading <a href=\"http://catb.org/esr/faqs/smart-questions.html\" rel=\"nofollow noreferrer\">catb.org/esr/faqs/smart-questions.html</a> also. You don&#39;t say what OS you&#39;re running on, but if it&#39;s *nix, look into using the standard cron capability and preprocess the information prior to needing it in Sinatra; That&#39;ll help your system feel more responsive."}], "owner": {"reputation": 1, "user_id": 6105019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae73748e8b68129f5db6433916daf85?s=128&d=identicon&r=PG&f=1", "display_name": "asao", "link": "https://stackoverflow.com/users/6105019/asao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458823182, "creation_date": 1458760576, "last_edit_date": 1458823182, "question_id": 36186852, "link": "https://stackoverflow.com/questions/36186852/is-it-reasonable-to-use-resqueruby-to-manage-external-long-running-commands-a", "title": "Is it reasonable to use resque(ruby) to manage external long-running commands (and log tasks)", "body": "<p>I have to run <code>bash heavy-job.sh &lt;data-num&gt;</code> (that takes 0.5~2 days) frequently on my  computer to process data located at ~/a/data/<em>num</em> . The script call a few sub-processes sequentially and write a log to ~/a/result/<em>num</em>.log . I have done this manually until now.</p>\n\n<p>I wanted to visualize processed tasks and it's status(success or fail), etc as html table. I wrote simple sinatra app to render a table that shows </p>\n\n<ul>\n<li>the list of ~/a/data/<em>num</em> to be processed</li>\n<li>~/a/result/<em>num</em>.log  exists or not (process not-launched/processing/done)</li>\n<li>it's status (the log file contains the word \"error\" or not)</li>\n</ul>\n\n<p>I found that it would be convenient that if I could launch a <code>bash heavy-job.sh &lt;data-num&gt;</code> from the sinatra app, log the tasks (and info like time,date,etc..) and it's args (heavy-jobs takes some optional args ) and show them as html table. \nSo I need something that manages jobs and logs to files (or db).\nFirst I wrote a code like below for test (! for test, not integrated with my system yet !), but later I found <a href=\"https://github.com/resque/resque\" rel=\"nofollow\">resque</a> is what i wanted. I am a beginner and not sure if my decision is reasonable or not.</p>\n\n<p>my questions are</p>\n\n<ul>\n<li>is it reasonable to use resque to manage external long-running commands (and log tasks)</li>\n<li>or should I use another tool (not necessarily ruby-tool).</li>\n<li>(extra;) the task-manager and the sinatra app should work separately (and communicate each other over REST or something) OR not ?</li>\n</ul>\n\n<p>The jobs are not critical since I can retry tasks manually later if failed.\nI am not good at English and my question may be misleading. I appreciate any help :) .</p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>class TaskSpawn\n\n  def initialize()\n    @pids = []\n  end\n\n  def spawn(command, options = {})\n    #opt = {:pgroup =&gt; true}\n    @pids &lt;&lt; Kernel.spawn(command, options)\n  end\n\n  def pids()\n    return @pids.clone\n  end\n\n  def waitany_nohang()\n    delete_idx = nil\n    ret = nil\n    @pids.each_with_index do |p, idx|\n      pid,status = Process.waitpid2(p, Process::WNOHANG)\n      unless pid.nil?\n        delete_idx = idx\n        ret = [pid,status]\n        break\n      end\n    end\n\n    if delete_idx\n      @pids.delete_at(delete_idx)\n      return ret\n    else\n      # no task fininshed\n      return nil\n    end\n\n  end \n\n  def waitall()\n    ret = waitall\n    raise \"interal error\" if ret.size != pids.size\n    return ret\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "answers": [{"comments": [{"owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "edited": false, "score": 0, "creation_date": 1458760905, "post_id": 36186734, "comment_id": 60009145, "body": "Its not gonna help me, because that super creates me session anyway."}], "tags": [], "owner": {"reputation": 1227, "user_id": 1973735, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f2662932dbc7a607c5dda0896b45cbe6?s=128&d=identicon&r=PG", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1973735/rahul-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1458760194, "creation_date": 1458760194, "answer_id": 36186734, "question_id": 36186566, "link": "https://stackoverflow.com/questions/36186566/rails-devise-sign-in-customizing/36186734#36186734", "title": "Rails Devise: Sign In customizing", "body": "<p>The standard way will be to define a method say</p>\n\n<pre><code>def if_user_admin\n  return user.role &lt; 30\nend\n</code></pre>\n\n<p>and adding this in your controller:</p>\n\n<pre><code>before_action :if_user_admin\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "is_accepted": true, "score": 0, "last_activity_date": 1458761016, "creation_date": 1458761016, "answer_id": 36186972, "question_id": 36186566, "link": "https://stackoverflow.com/questions/36186566/rails-devise-sign-in-customizing/36186972#36186972", "title": "Rails Devise: Sign In customizing", "body": "<p>Alright, This way worked for me.</p>\n\n<p>I want to see better and easy solutions, if possible.</p>\n\n<pre><code>def create\n  user = User.find_by_email(params[:user][:email])\n  if user.role &gt;= 30\n    super\n  else\n    render 'users/sessions/new'\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 36186972, "answer_count": 2, "score": 0, "last_activity_date": 1458761016, "creation_date": 1458759640, "question_id": 36186566, "link": "https://stackoverflow.com/questions/36186566/rails-devise-sign-in-customizing", "title": "Rails Devise: Sign In customizing", "body": "<p>I am trying to authenticate an admin panel.</p>\n\n<p>If user not admin, cancel the request for sign in.</p>\n\n<p>In default, if email/password is wrong. It renders <code>/users/sign_in</code></p>\n\n<pre><code>  def create\n    super do |user|\n      if user.role &gt;= 30\n        res\n      else\n        #Do not create sessions, authenticate\n        flash[:notice] = \"You do not have permission\"\n        redirect_to :back\n      end\n    end\n  end\n</code></pre>\n\n<p>Currently, It signs in no matter what i did. </p>\n\n<p>How can i customize ? </p>\n\n<p>Thank You.</p>\n"}, {"tags": ["ruby", "eclipse", "cucumber"], "comments": [{"owner": {"reputation": 1410, "user_id": 3890924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uy8Gd.jpg?s=128&g=1", "display_name": "alannichols", "link": "https://stackoverflow.com/users/3890924/alannichols"}, "edited": false, "score": 0, "creation_date": 1458774179, "post_id": 36186499, "comment_id": 60015640, "body": "Are you implementing any automation for your step definitions?"}, {"owner": {"reputation": 364, "user_id": 5775158, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5a6e10a78313588cec58101292e0ebae?s=128&d=identicon&r=PG&f=1", "display_name": "Testilla", "link": "https://stackoverflow.com/users/5775158/testilla"}, "reply_to_user": {"reputation": 1410, "user_id": 3890924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uy8Gd.jpg?s=128&g=1", "display_name": "alannichols", "link": "https://stackoverflow.com/users/3890924/alannichols"}, "edited": false, "score": 0, "creation_date": 1459274314, "post_id": 36186499, "comment_id": 60208611, "body": "No, I am just looking at creating plain text file in an editor and was looking for which editor is very good for this purpose but open source"}], "answers": [{"tags": [], "owner": {"reputation": 3578, "user_id": 2731545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbaa55683cc693c2e95f63431af00ed0?s=128&d=identicon&r=PG", "display_name": "Thomas Sundberg", "link": "https://stackoverflow.com/users/2731545/thomas-sundberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1458894745, "creation_date": 1458894745, "answer_id": 36216569, "question_id": 36186499, "link": "https://stackoverflow.com/questions/36186499/can-cucumber-plugin-for-eclipse-do-the-job-of-rubymine/36216569#36216569", "title": "Can cucumber plugin for eclipse do the job of rubymine?", "body": "<p>If you want to use a Jetbrains tool for writing the features, try the free version of IntelliJ IDEA. It will allow you to write scenarios with syntax highlighting.</p>\n\n<p>I assume that the Ruby version of Cucumber also displays missing code snippets when you run so having another tool for writing the steps may be overkill.</p>\n"}], "owner": {"reputation": 364, "user_id": 5775158, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5a6e10a78313588cec58101292e0ebae?s=128&d=identicon&r=PG&f=1", "display_name": "Testilla", "link": "https://stackoverflow.com/users/5775158/testilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 542, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458894745, "creation_date": 1458759347, "question_id": 36186499, "link": "https://stackoverflow.com/questions/36186499/can-cucumber-plugin-for-eclipse-do-the-job-of-rubymine", "title": "Can cucumber plugin for eclipse do the job of rubymine?", "body": "<p>I am a cucumber new jack. I have heard of rubymine being very good for creating feature and step definition files. Can eclipse with cucumber plugin do the job as good? The problem is that eclipse is open source and free, rubymine is not. Open source tools are good for constant practice. Can someone please advise? Also, has anyone got a detailed documentation for cucumber plugin for eclipse? Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "dst"], "comments": [{"owner": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 0, "creation_date": 1458759387, "post_id": 36186443, "comment_id": 60008219, "body": "What version of rails are you using? I&#39;m getting the same thing for both."}, {"owner": {"reputation": 4664, "user_id": 751089, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b6f1a28960f232dda0a21b82a75d5677?s=128&d=identicon&r=PG", "display_name": "djb", "link": "https://stackoverflow.com/users/751089/djb"}, "reply_to_user": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 0, "creation_date": 1458759590, "post_id": 36186443, "comment_id": 60008333, "body": "Was on 4.2.1. Just tried upgrading to 4.2.6, and I get the same output."}], "answers": [{"comments": [{"owner": {"reputation": 4664, "user_id": 751089, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b6f1a28960f232dda0a21b82a75d5677?s=128&d=identicon&r=PG", "display_name": "djb", "link": "https://stackoverflow.com/users/751089/djb"}, "edited": false, "score": 1, "creation_date": 1458762123, "post_id": 36187057, "comment_id": 60009864, "body": "Thank you. For the record, I was storing duration in seconds in a table and wanted it to be applied intelligently when I used it. I don&#39;t need precision above months, so I&#39;ve ended up with <code>(duration.to_i &#47; 1.month.to_i).months.from_now</code>."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1458776877, "post_id": 36187057, "comment_id": 60016555, "body": "That&#39;s terrible.  Good to know, and great answer, but still terrible."}, {"owner": {"reputation": 14087, "user_id": 1544012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbaed9ca8e4320fd64d1989c0e0f488b?s=128&d=identicon&r=PG", "display_name": "BoraMa", "link": "https://stackoverflow.com/users/1544012/borama"}, "reply_to_user": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1458798156, "post_id": 36187057, "comment_id": 60021885, "body": "@Matt Why? It seems quite reasonable to me as the <code>1.year</code> expression means just an abstract amount of time that does not relate to any concrete date and time. So ruby tries to account for leap years that usually occur once in 4 years. If it were not doing that (if <code>1.year</code> would be equal to just <code>365.days</code>) than a longer time range expression would be seriously wrong, e.g. <code>now + 10.years</code> could be off by 2 days."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 2, "creation_date": 1458837121, "post_id": 36187057, "comment_id": 60043816, "body": "Two reasons really. 1) No year has any fractional amount of days.  It&#39;s either 365 days or 366, depending on which year you&#39;re talking about.  The length of the average year is only useful when estimating, and if you&#39;re estimating then getting a result in seconds is too fine-grained precision.  2) 365.25 is the average length of the year on the <i>Julian</i> calendar.  Most of us use the <i>Gregorian</i> calendar, which has an average year length of 365.2425 days."}], "tags": [], "owner": {"reputation": 14087, "user_id": 1544012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbaed9ca8e4320fd64d1989c0e0f488b?s=128&d=identicon&r=PG", "display_name": "BoraMa", "link": "https://stackoverflow.com/users/1544012/borama"}, "is_accepted": true, "score": 10, "last_activity_date": 1458799128, "last_edit_date": 1495540231, "creation_date": 1458761272, "answer_id": 36187057, "question_id": 36186443, "link": "https://stackoverflow.com/questions/36186443/in-rails-why-is-1-year-from-now-not-the-same-as-1-year-to-i-seconds-from-now/36187057#36187057", "title": "In Rails, why is 1.year.from_now not the same as 1.year.to_i.seconds.from_now?", "body": "<p>The difference is <strong>6 hours</strong>. And it is because 1 year in seconds (as converted by the <code>to_i</code> method) is defined as <strong>365.25 days</strong> in Ruby on Rails core extensions:</p>\n\n<pre><code>&gt;&gt; 1.year.to_i / 60 / 60 / 24.0\n=&gt; 365.25\n</code></pre>\n\n<p>Those 0.25 days is the actual 6 hours difference. By doing this, RoR is trying to count in the leap years which (by <a href=\"https://stackoverflow.com/questions/725098/leap-year-calculation\">basic approximation</a>) occur once in 4 years. The same is also evident from the <code>years</code> definition in <a href=\"https://github.com/rails/rails/blob/master/activesupport/lib/active_support/core_ext/integer/time.rb#L25\" rel=\"nofollow noreferrer\">Rails source code</a>.</p>\n\n<p>On the other hand <code>1.year.from_now</code> does a shift of a concrete calendar datetime instead. As if you turned pages on your wall calendar. </p>\n"}], "owner": {"reputation": 4664, "user_id": 751089, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b6f1a28960f232dda0a21b82a75d5677?s=128&d=identicon&r=PG", "display_name": "djb", "link": "https://stackoverflow.com/users/751089/djb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2286, "favorite_count": 0, "accepted_answer_id": 36187057, "answer_count": 1, "score": 8, "last_activity_date": 1458862602, "creation_date": 1458759151, "last_edit_date": 1458862602, "question_id": 36186443, "link": "https://stackoverflow.com/questions/36186443/in-rails-why-is-1-year-from-now-not-the-same-as-1-year-to-i-seconds-from-now", "title": "In Rails, why is 1.year.from_now not the same as 1.year.to_i.seconds.from_now?", "body": "<p>Can I make Rails apply the same logic to my calculation in seconds as it does to my calculation in years?</p>\n\n<pre><code>puts \"#{1.year.from_now} | #{1.year.to_i.seconds.from_now}\"\n 2017-03-23 18:48:06 UTC | 2017-03-24 00:48:06 UTC\n</code></pre>\n\n<p>I don\u2019t understand where the 6-hour difference comes from.</p>\n"}, {"tags": ["ruby", "regex"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1458758815, "post_id": 36186299, "comment_id": 60007889, "body": "writing code would be a good start..."}, {"owner": {"reputation": 1682, "user_id": 4949388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-N3pN_RBVZEo/AAAAAAAAAAI/AAAAAAAAANY/lPG94W1rQEw/photo.jpg?sz=128", "display_name": "Jonathan Parent L&#233;vesque", "link": "https://stackoverflow.com/users/4949388/jonathan-parent-l%c3%a9vesque"}, "edited": false, "score": 0, "creation_date": 1458758885, "post_id": 36186299, "comment_id": 60007936, "body": "will there always be non-breaking space literally written as <code>&amp;nbsp</code>?"}, {"owner": {"reputation": 157, "user_id": 4032302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dmitriy K", "link": "https://stackoverflow.com/users/4032302/dmitriy-k"}, "edited": false, "score": 0, "creation_date": 1458758960, "post_id": 36186299, "comment_id": 60007974, "body": "my questions is for regex"}, {"owner": {"reputation": 1682, "user_id": 4949388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-N3pN_RBVZEo/AAAAAAAAAAI/AAAAAAAAANY/lPG94W1rQEw/photo.jpg?sz=128", "display_name": "Jonathan Parent L&#233;vesque", "link": "https://stackoverflow.com/users/4949388/jonathan-parent-l%c3%a9vesque"}, "edited": false, "score": 0, "creation_date": 1458759084, "post_id": 36186299, "comment_id": 60008043, "body": "Yeah, I need to know if it will be literally written as <code>&amp;nbsp</code>, if the <code>;</code> after is optional, if the there will be floating value after the integer (or is it optional) part and if there will be the <code>cur.</code> at the end (or is it optional)."}, {"owner": {"reputation": 157, "user_id": 4032302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dmitriy K", "link": "https://stackoverflow.com/users/4032302/dmitriy-k"}, "edited": false, "score": 0, "creation_date": 1458759209, "post_id": 36186299, "comment_id": 60008112, "body": "I just need to get first numbers until comma. and skip nbsp to make it as whole number"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 1, "creation_date": 1458759330, "post_id": 36186299, "comment_id": 60008182, "body": "Why do you want to use a regexp?"}, {"owner": {"reputation": 1682, "user_id": 4949388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-N3pN_RBVZEo/AAAAAAAAAAI/AAAAAAAAANY/lPG94W1rQEw/photo.jpg?sz=128", "display_name": "Jonathan Parent L&#233;vesque", "link": "https://stackoverflow.com/users/4949388/jonathan-parent-l%c3%a9vesque"}, "edited": false, "score": 0, "creation_date": 1458759332, "post_id": 36186299, "comment_id": 60008183, "body": "How about that for the regex <code>([\\d]+)(&amp;nbsp;)?([\\d]+)(.*)</code> and that for the replacement <code>$1$3</code>?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458774486, "post_id": 36186299, "comment_id": 60015747, "body": "Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Show us your attempt to solve the problem. Right now it seems like you want us to write code for you, which is not what SO is for."}, {"owner": {"reputation": 157, "user_id": 4032302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dmitriy K", "link": "https://stackoverflow.com/users/4032302/dmitriy-k"}, "edited": false, "score": 0, "creation_date": 1458807411, "post_id": 36186299, "comment_id": 60025127, "body": "My solution is to split by comma and get [/D\\/] from [0]. I asked if there&#39;s more elegant way. Jordan answered to me."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4032302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dmitriy K", "link": "https://stackoverflow.com/users/4032302/dmitriy-k"}, "edited": false, "score": 0, "creation_date": 1458759854, "post_id": 36186569, "comment_id": 60008474, "body": "Yes, this works! But I thought there&#39;s a more simple way to do it. Thanks anyway"}, {"owner": {"reputation": 157, "user_id": 4032302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dmitriy K", "link": "https://stackoverflow.com/users/4032302/dmitriy-k"}, "edited": false, "score": 0, "creation_date": 1458761166, "post_id": 36186569, "comment_id": 60009333, "body": "what if it has &quot;961,03&quot; without nbsp dividing thouthand ?"}], "tags": [], "owner": {"reputation": 3020, "user_id": 4453584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25188d50654874d1125dd754d783851b?s=128&d=identicon&r=PG&f=1", "display_name": "guitarman", "link": "https://stackoverflow.com/users/4453584/guitarman"}, "is_accepted": false, "score": 1, "last_activity_date": 1458768661, "last_edit_date": 1458768661, "creation_date": 1458759649, "answer_id": 36186569, "question_id": 36186299, "link": "https://stackoverflow.com/questions/36186299/regex-for-price-with-nbsp-and-comma/36186569#36186569", "title": "Regex for price with &amp;nbsp; and comma", "body": "<pre><code>\"8&amp;nbsp;560,90 cur.\".scan(/(\\d*?).+?(\\d+,\\d\\d)/).flatten.join.to_i\n# =&gt; 8560\n\"sdwfdsf560,90 cur.\".scan(/(\\d*?).+?(\\d+,\\d\\d)/).flatten.join.to_i\n# =&gt; 560\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 4032302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dmitriy K", "link": "https://stackoverflow.com/users/4032302/dmitriy-k"}, "edited": false, "score": 0, "creation_date": 1458762145, "post_id": 36187029, "comment_id": 60009874, "body": "Nice trick! with converting float to int! Thanks."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 1, "last_activity_date": 1458762012, "last_edit_date": 1458762012, "creation_date": 1458761189, "answer_id": 36187029, "question_id": 36186299, "link": "https://stackoverflow.com/questions/36186299/regex-for-price-with-nbsp-and-comma/36187029#36187029", "title": "Regex for price with &amp;nbsp; and comma", "body": "<p>Here's how I'd do it:</p>\n\n<pre><code>str = \"8&amp;nbsp;560,90 cur.\"\nstr.gsub(/[^\\d,]/, '').to_i\n# =&gt; 8560\n</code></pre>\n\n<p>This removes every character that isn't a digit or a comma, yielding <code>\"8560,90\"</code>, then calls <code>to_i</code> on it, which gives <code>8560</code>. This will work for any string as long as you want every digit before the first comma to be part of the number, and none after.</p>\n"}], "owner": {"reputation": 157, "user_id": 4032302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dmitriy K", "link": "https://stackoverflow.com/users/4032302/dmitriy-k"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 1, "closed_date": 1458774495, "accepted_answer_id": 36187029, "answer_count": 2, "score": -7, "last_activity_date": 1458768661, "creation_date": 1458758631, "last_edit_date": 1458760343, "question_id": 36186299, "link": "https://stackoverflow.com/questions/36186299/regex-for-price-with-nbsp-and-comma", "closed_reason": "Needs details or clarity", "title": "Regex for price with &amp;nbsp; and comma", "body": "<p>I have <code>\"8&amp;nbsp;560,90 cur.\"</code>. How do I get the whole number <code>8560</code> as integer?</p>\n\n<p>I can split it by comma, and then get <code>[0]</code> as whole number, asked if there's more way to do it.</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "is_accepted": true, "score": 2, "last_activity_date": 1458758627, "last_edit_date": 1458758627, "creation_date": 1458758128, "answer_id": 36186156, "question_id": 36186099, "link": "https://stackoverflow.com/questions/36186099/how-to-add-an-html-argument-to-a-rails-select-helper-using-chosen-select/36186156#36186156", "title": "How to add an HTML argument to a Rails select helper using chosen-select", "body": "<p>Use <code>multiple: true</code> within the HTML options as follows:</p>\n\n<pre><code>&lt;%= f.select :card_details,\n  CardDetail.all.map { |cd| [cd.name, cd.id] },\n               { include_blank: true },\n               { class: 'chosen-select', multiple: true }\n%&gt;\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2840885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0022cd7ba72c27ac382e6983010a18?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Lynn", "link": "https://stackoverflow.com/users/2840885/jimmy-lynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 36186156, "answer_count": 1, "score": 0, "last_activity_date": 1458758627, "creation_date": 1458757943, "last_edit_date": 1458758610, "question_id": 36186099, "link": "https://stackoverflow.com/questions/36186099/how-to-add-an-html-argument-to-a-rails-select-helper-using-chosen-select", "title": "How to add an HTML argument to a Rails select helper using chosen-select", "body": "<p>I would like to use <a href=\"http://harvesthq.github.io/chosen/#multiple-select\" rel=\"nofollow\">Multiple select with chosen</a> with\nRails 4.</p>\n\n<pre><code>&lt;%= f.select :card_details,\n  CardDetail.all.map { |cd| [cd.name, cd.id] },\n               { include_blank: true },\n               { class: 'chosen-select' }\n%&gt;\n</code></pre>\n\n<p>How can I add \"multiple\" to the HTML argument?</p>\n\n<p>Right now, it renders this: </p>\n\n<pre><code>&lt;select class=\"chosen-select\" name=\"card[card_details]\" id=\"card_card_details\"&gt;\n</code></pre>\n\n<p>I want to add <code>multiple</code> in that line:</p>\n\n<pre><code>&lt;select class=\"chosen-select\" name=\"card[card_details]\" multiple id=\"card_card_details\"&gt;\n</code></pre>\n"}, {"tags": ["ruby", "unix", "memory", "memory-management"], "answers": [{"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1458758320, "last_edit_date": 1458758320, "creation_date": 1458757853, "answer_id": 36186070, "question_id": 36185848, "link": "https://stackoverflow.com/questions/36185848/how-to-ensure-that-ruby-releases-memory-used-by-a-unix-process-after-it-is-calle/36186070#36186070", "title": "How to ensure that Ruby releases memory used by a Unix process after it is called?", "body": "<p>*nix will do it as part of its normal processing, just as if you'd run it from the command-line. </p>\n\n<p>The output of that command will be in Ruby's memory space and garbage collection will take care of it once it's no longer needed. </p>\n\n<p>That said, as a programmer, we're supposed to recognize when something we're doing isn't scalable or efficient and find a way to do it that is scalable and efficient. People \"DOS\" their own systems regularly by not thinking out what they're doing. For instance, instead of using a recursive <code>ls</code> use <a href=\"http://ruby-doc.org/stdlib-2.3.0/libdoc/find/rdoc/Find.html\" rel=\"nofollow\"><code>Find.find</code></a>, which results in a more controllable and scalable piece of code.</p>\n"}], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458758320, "creation_date": 1458757220, "last_edit_date": 1458758156, "question_id": 36185848, "link": "https://stackoverflow.com/questions/36185848/how-to-ensure-that-ruby-releases-memory-used-by-a-unix-process-after-it-is-calle", "title": "How to ensure that Ruby releases memory used by a Unix process after it is called?", "body": "<p>If I have an executable called from Ruby that consumes a significant amount of memory, such as:</p>\n\n<pre><code>puts `ls -lR /`\n</code></pre>\n\n<p>What happens when the process finishes? Does Unix collect the memory used by the process? Or is there a way to force Ruby to do so?</p>\n"}, {"tags": ["ruby", "haml", "middleman"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1458758502, "post_id": 36185807, "comment_id": 60007727, "body": "Don&#39;t do that sort of transformation in your view. Do it in your controller and pass in a variable you simply iterate over."}, {"owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "edited": false, "score": 0, "creation_date": 1458767785, "post_id": 36185807, "comment_id": 60012949, "body": "I think you may be overthinking this a bit, can\u2019t you just do <code>ary.each {|h| h[:url] &lt;&lt; seed }</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 5207, "user_id": 3277393, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a2967a01798ad7d675a6b39f41232a5b?s=128&d=identicon&r=PG&f=1", "display_name": "user12341234", "link": "https://stackoverflow.com/users/3277393/user12341234"}, "is_accepted": true, "score": 3, "last_activity_date": 1458757785, "creation_date": 1458757785, "answer_id": 36186048, "question_id": 36185807, "link": "https://stackoverflow.com/questions/36185807/how-to-change-an-array-of-hashes-by-appending-a-string-to-a-certain-value/36186048#36186048", "title": "How to change an array of hashes by appending a string to a certain value", "body": "<p>I'd try solving this using <code>map</code> on the array and <code>merge</code> on the hash:</p>\n\n<pre><code>&gt;&gt; a = [{:text=&gt;\"Code\", :url=&gt;\"#code\"}, {:text=&gt;\"Output\", :url=&gt;\"#output\"}]\n\n&gt;&gt; a.map{|h| h.merge(url: h[:url] + '1234')}\n=&gt; [{:text=&gt;\"Code\", :url=&gt;\"#code1234\"}, {:text=&gt;\"Output\", :url=&gt;\"#output1234\"}]\n</code></pre>\n\n<p>Alternately, you could update your code to turn your results into the desired form by mapping each sub-array into a hash:</p>\n\n<pre><code>&gt;&gt; b = [[:text, \"Code\"], [:url, \"#code23324\"]], [[:text, \"Output\"], [:url, \"#output23324\"]]\n\n&gt;&gt; b.map(&amp;:to_h)\n=&gt; [{:text=&gt;\"Code\", :url=&gt;\"#code23324\"}, {:text=&gt;\"Output\", :url=&gt;\"#output23324\"}]\n</code></pre>\n"}], "owner": {"reputation": 1020, "user_id": 973192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ce34d527f3dfa7d9f63fa5893078203f?s=128&d=identicon&r=PG", "display_name": "Ian Warner", "link": "https://stackoverflow.com/users/973192/ian-warner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 36186048, "answer_count": 1, "score": 1, "last_activity_date": 1458758430, "creation_date": 1458757103, "last_edit_date": 1458758430, "question_id": 36185807, "link": "https://stackoverflow.com/questions/36185807/how-to-change-an-array-of-hashes-by-appending-a-string-to-a-certain-value", "title": "How to change an array of hashes by appending a string to a certain value", "body": "<p>I want to convert the following array of hashes:</p>\n\n<pre><code>[{:text=&gt;\"Code\", :url=&gt;\"#code\"}, {:text=&gt;\"Output\", :url=&gt;\"#output\"}] \n</code></pre>\n\n<p>by appending a seed to the URL value:</p>\n\n<pre><code>[{:text=&gt;\"Code\", :url=&gt;\"#code1234\"}, {:text=&gt;\"Output\", :url=&gt;\"#output1234\"}] \n</code></pre>\n\n<p>So far I have this code:</p>\n\n<pre><code>- t( :\"code.tab\" ).each do | obj |\n\n    = obj.collect do | k, v |\n\n        - if k.to_s == \"url\"\n            - [ k, v + seed ].flatten\n        - else\n            - [ k, v ].flatten\n</code></pre>\n\n<p>Which gives me:</p>\n\n<pre><code>[[:text, \"Code\"], [:url, \"#code23324\"]][[:text, \"Output\"], [:url, \"#output23324\"]]\n</code></pre>\n\n<p>I am close, but I haven't worked-out how to flatten and get the desired result.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "edited": false, "score": 0, "creation_date": 1458757167, "post_id": 36185796, "comment_id": 60006916, "body": "Do you mean, you want to save the yaml into a separate file and not the log file?"}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "reply_to_user": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "edited": false, "score": 0, "creation_date": 1458757229, "post_id": 36185796, "comment_id": 60006949, "body": "correct, I would like to store values selected by user and store them into a config file."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458759719, "post_id": 36185796, "comment_id": 60008397, "body": "Are you trying to keep a log of transactions, or are you trying to keep a user-configuration file? They&#39;re very different sorts of files. Do you intend to reload the user-config and need to manually edit it or view it, then YAML is good. If you need to reload it and people don&#39;t need to edit/view the file&#39;s contents then JSON is better, especially if other languages will need to read it. But why not have a table of user configurations instead of files?"}, {"owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458760119, "post_id": 36185796, "comment_id": 60008638, "body": "@theTinMan, the <code>settings</code> table is already there to hold the configuration isn&#39;t there?"}], "answers": [{"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458759392, "post_id": 36185911, "comment_id": 60008224, "body": "Be careful doing this. Appending like that will generate multiple YAML documents inside one file, which can result in unexpected results when reloading the content: <code>doc = {&#39;foo&#39; =&gt; 1}.to_yaml + {&#39;bar&#39; =&gt; 2}.to_yaml # =&gt; &quot;---\\nfoo: 1\\n---\\nbar: 2\\n&quot;</code>. <code>YAML.load(doc) # =&gt; {&quot;foo&quot;=&gt;1}</code>"}, {"owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458760035, "post_id": 36185911, "comment_id": 60008595, "body": "Spot on @theTinMan, you know I was answering the OPs question and how to save the YAML into a file. Formatting of the content is out of scope for this question and I did not want to comment on that part."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458760198, "post_id": 36185911, "comment_id": 60008688, "body": "We can answer only the question asked, or we can also point out the folly in doing something to help the person understand there are dragons out there. They might not know the scope should include possible pitfalls to what they want to do."}], "tags": [], "owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "is_accepted": true, "score": 1, "last_activity_date": 1458757395, "creation_date": 1458757395, "answer_id": 36185911, "question_id": 36185796, "link": "https://stackoverflow.com/questions/36185796/how-to-save-rails-input-parameters-to-file/36185911#36185911", "title": "How to save Rails input parameters to file", "body": "<p>If you want to save the yaml to a separate file, you could open the file in append mode and append the yaml as follows in your <code>create</code> action where you have <code>puts...</code>:</p>\n\n<pre><code>...\nsettings_param_file = ... # File path\nif @setting.save\n  File.open(settings_param_file, 'a') do |file|\n    file &lt;&lt; Setting.new(setting_params).to_yaml\n  end\nend\n</code></pre>\n\n<p>Also, using <code>puts</code> in your controller action should be considered invalid. Instead you should use <code>Rails.logger</code> or just <code>logger</code> in your controller. To log a debug message use: </p>\n\n<pre><code>logger.debug { Setting.new(setting_params).to_yaml }\n</code></pre>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 36185911, "answer_count": 1, "score": 0, "last_activity_date": 1458758903, "creation_date": 1458757077, "last_edit_date": 1458758903, "question_id": 36185796, "link": "https://stackoverflow.com/questions/36185796/how-to-save-rails-input-parameters-to-file", "title": "How to save Rails input parameters to file", "body": "<p>I created a small application using scaffold. I'm posting data via the chrome  \"PostMan\" extension.</p>\n\n<p>This is the default create method in my controller:</p>\n\n<pre><code># POST /settings\n  # POST /settings.json\n  def create\n    @setting = Setting.new(setting_params)\n\n    respond_to do |format|\n      if @setting.save\n        format.html { redirect_to @setting, notice: 'Setting was successfully created.' }\n        format.json { render :show, status: :created, location: @setting }\n        puts Setting.new(setting_params).to_yaml \n\n      else\n        format.html { render :new }\n        format.json { render json: @setting.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n\n<p>This is the log in Rails' console: </p>\n\n<pre><code>(0.2ms)  begin transaction\n  SQL (1.0ms)  INSERT INTO \"settings\" (\"DetectionOnly\", \"SecRequestBodyAccess\", \"created_at\", \"updated_at\") VALUES (?, ?, ?, ?)  [[\"DetectionOnly\", \"f\"], [\"SecRequestBodyAccess\", \"f\"], [\"created_at\", \"2016-03-23 18:04:42.642492\"], [\"updated_at\", \"2016-03-23 18:04:42.642492\"]\n</code></pre>\n\n<p>I'm trying to only log this transaction into a file and save output in YAML format .</p>\n\n<p>I tried adding this right after <code>@setting.save</code>.</p>\n\n<pre><code>   puts Setting.new(setting_params).to_yaml \n</code></pre>\n\n<p>What am I doing wrong here? </p>\n"}, {"tags": ["ruby", "rhodes"], "comments": [{"owner": {"reputation": 11, "user_id": 6105156, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206221867966995/picture?type=large", "display_name": "carlos Marcello", "link": "https://stackoverflow.com/users/6105156/carlos-marcello"}, "reply_to_user": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 0, "creation_date": 1458757771, "post_id": 36185482, "comment_id": 60007276, "body": "thanks, but when i try to install gem iconv i have some errors:ERROR:  Error installing iconv:         ERROR: Failed to build gem native extension.      current directory: C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/iconv-1.0.4/ext/ic onv C:/Ruby22-x64/bin/ruby.exe -r ./siteconf20160323-5976-im333h.rb extconf.rb checking for rb_enc_get() in ruby/encoding.h... yes checking for rb_sys_fail_str() in ruby.h... yes checking for iconv() in iconv.h... no checking for iconv() in -liconv... no *** extconf.rb failed ***"}, {"owner": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 0, "creation_date": 1458757975, "post_id": 36185482, "comment_id": 60007412, "body": "how to install iconv  <a href=\"http://stackoverflow.com/questions/28558578/error-while-installing-iconv-on-windows-by-ruby2-0-0\" title=\"error while installing iconv on windows by ruby2 0 0\">stackoverflow.com/questions/28558578/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 6105156, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206221867966995/picture?type=large", "display_name": "carlos Marcello", "link": "https://stackoverflow.com/users/6105156/carlos-marcello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458759852, "creation_date": 1458756111, "last_edit_date": 1458759852, "question_id": 36185482, "link": "https://stackoverflow.com/questions/36185482/how-to-resolve-cannot-load-such-file-iconv-in-rhodes-framework", "title": "How to resolve &quot;cannot load such file -- iconv&quot; in Rhodes framework", "body": "<p>I would like to create a new app using the Rhodes framework but I have some errors like this:</p>\n\n<pre><code>C:\\Users\\TOUCH&gt;rhodes app pharma\nC:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:120:in `require': cannot load such file -- iconv (LoadError)\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:120:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/activesupport-2.3.18/lib/active_support/inflector.rb:3:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/activesupport-2.3.18/lib/active_support/core_ext/integer/inflections.rb:1:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/activesupport-2.3.18/lib/active_support/core_ext/integer.rb:2:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/activesupport-2.3.18/lib/active_support/core_ext.rb:8:in `block in &lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/activesupport-2.3.18/lib/active_support/core_ext.rb:8:in `each'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/activesupport-2.3.18/lib/active_support/core_ext.rb:8:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/activesupport-2.3.18/lib/active_support.rb:56:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhodes-3.5.1.12/res/generators/rhogen.rb:6:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:120:in `require'\n        from C:/Ruby22-x64/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:120:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhodes-3.5.1.12/bin/rhogen:5    :in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhodes-3.5.1.12/bin/rhodes:4    :in `load'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhodes-3.5.1.12/bin/rhodes:4    :in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/bin/rhodes:22:in `load'\n        from C:/Ruby22-x64/bin/rhodes:22:in `&lt;main&gt;'\n</code></pre>\n\n<p>How can I resolve it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "facebook", "session", "omniauth"], "answers": [{"tags": [], "owner": {"reputation": 1289, "user_id": 2606967, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/C0xLY.jpg?s=128&g=1", "display_name": "siv rj", "link": "https://stackoverflow.com/users/2606967/siv-rj"}, "is_accepted": true, "score": 1, "last_activity_date": 1458756656, "creation_date": 1458756656, "answer_id": 36185658, "question_id": 36185252, "link": "https://stackoverflow.com/questions/36185252/sign-into-session-as-preexisting-user/36185658#36185658", "title": "Sign into session as preexisting_user?", "body": "<p>You can try below code, i am sure it will work.</p>\n\n<pre><code>def facebook\n  user = User.from_omniauth(env[\"omniauth.auth\"])\n  # preexisting_user = User.find(params[:id]) # What should go in this line?\n  # user.persisted? is what you need to add if you want to add here\n  # if user pre existed, it will execute if block otherwise else block.\n\n  # checks if pre-existing user\n  if user.persisted?\n   cookies.permanent.signed[:user_id] = user.id\n   redirect_to root_url\n   flash.now[:info] = 'Welcome Back to Live to Challenge!'\n  else\n   action = session.delete(:challenge_action)\n   user.challenges.create(action: action)\n   user.send_welcome_email\n   user.remember\n   cookies.permanent.signed[:user_id] = user.id\n   redirect_to tutorial_url\n   flash.now[:info] = 'Welcome to Live to Challenge!'\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 36185658, "answer_count": 1, "score": 0, "last_activity_date": 1458756656, "creation_date": 1458755295, "question_id": 36185252, "link": "https://stackoverflow.com/questions/36185252/sign-into-session-as-preexisting-user", "title": "Sign into session as preexisting_user?", "body": "<p>I'm getting the error: \"couldn't find user with id\" when trying to sign in with facebook. I want it where if a user is had already been created it triggers the first set of code in the conditional and if the user is new it triggers the second set of code:</p>\n\n<p><strong>sessions_controller</strong></p>\n\n<pre><code>  def facebook\n    preexisting_user = User.find(params[:id]) # What should go in this line?\n    user = User.from_omniauth(env[\"omniauth.auth\"])\n    if preexisting_user\n      cookies.permanent.signed[:user_id] = user.id\n      redirect_to root_url\n      flash.now[:info] = 'Welcome Back to Live to Challenge!'\n    else\n      action = session.delete(:challenge_action)\n      user.challenges.create(action: action)\n      user.send_welcome_email\n      user.remember\n      cookies.permanent.signed[:user_id] = user.id\n      redirect_to tutorial_url\n      flash.now[:info] = 'Welcome to Live to Challenge!'\n    end\n  end\n</code></pre>\n\n<p><strong>user.rb</strong></p>\n\n<pre><code>  def self.from_omniauth(auth)\n     # Sets 60 day auth token\n     oauth = Koala::Facebook::OAuth.new(\"154037ewr2976229929\", \"ee917abf2ere8f1c98274cdfwqreaebb1346f4\")\n     new_access_info = oauth.exchange_access_token_info auth.credentials.token\n\n     new_access_token = new_access_info[\"access_token\"]\n     new_access_expires_at = DateTime.now + new_access_info[\"expires\"].to_i.seconds\n\n    where(provider: auth.provider, uid: auth.uid).first_or_initialize.tap do |user|\n      user.provider = auth.provider\n      user.image = auth.info.image\n      user.uid = auth.uid\n      user.name = auth.info.name\n      user.oauth_token = new_access_token # auth.credentials.token &lt;- your old token. Not needed anymore.\n      user.oauth_expires_at = Time.at(auth.credentials.expires_at)\n      user.password = (0...8).map { (65 + rand(26)).chr }.join\n      user.email = SecureRandom.hex + \"@mailinator.com\" unless user.email.present?\n      user.activated = true\n      user.save!\n    end\n  end\n</code></pre>\n"}, {"tags": ["ruby", "rvm", "archlinux"], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 1001351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd3f71226948daeccfbe3183abe593d?s=128&d=identicon&r=PG", "display_name": "Bernhard Z&#252;rn", "link": "https://stackoverflow.com/users/1001351/bernhard-z%c3%bcrn"}, "edited": false, "score": 0, "creation_date": 1473413466, "post_id": 36186559, "comment_id": 66141279, "body": "Thanks helped me with ruby 2.1.2 on Ubuntu 16.04"}], "tags": [], "owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "is_accepted": true, "score": 10, "last_activity_date": 1458759599, "creation_date": 1458759599, "answer_id": 36186559, "question_id": 36185209, "link": "https://stackoverflow.com/questions/36185209/rvm-installing-ruby-error-on-arch-linux/36186559#36186559", "title": "RVM installing ruby error on arch linux", "body": "<p>It seems a problem with openssl <a href=\"https://github.com/rvm/rvm/issues/3548\">here</a> is a patch</p>\n\n<pre><code>curl https://github.com/ruby/ruby/commit/801e1fe46d83c856844ba18ae4751478c59af0d1.diff &gt; openssl.patch\nrvm install --patch ./openssl.patch 2.0.0\n</code></pre>\n"}], "owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2023, "favorite_count": 0, "accepted_answer_id": 36186559, "answer_count": 1, "score": 6, "last_activity_date": 1458759599, "creation_date": 1458755160, "question_id": 36185209, "link": "https://stackoverflow.com/questions/36185209/rvm-installing-ruby-error-on-arch-linux", "title": "RVM installing ruby error on arch linux", "body": "<p>I can install any ruby with rvm, I always get this, on arch linux (manjaro)</p>\n\n<pre><code>[anquegi@manjaro-pc ~]$ rvm install 2.1.6 --autolibs=packages\nruby-2.1.6 - #removing src/ruby-2.1.6..\nSearching for binary rubies, this might take some time.\nNo binary rubies available for: manjaro/16.06-pre1/x86_64/ruby-2.1.6.\nContinuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.                                  \nChecking requirements for manjaro.\nRequirements installation successful.\nInstalling Ruby from source to: /home/anquegi/.rvm/rubies/ruby-2.1.6, this may take a while depending on your cpu(s)...\nruby-2.1.6 - #downloading ruby-2.1.6, this may take a while depending on your connection...\nruby-2.1.6 - #extracting ruby-2.1.6 to /home/anquegi/.rvm/src/ruby-2.1.6....\nruby-2.1.6 - #configuring.....................................................\nruby-2.1.6 - #post-configuration..\nruby-2.1.6 - #compiling...............................................................................................\nError running '__rvm_make -j4',\nshowing last 15 lines of /home/anquegi/.rvm/log/1458754652_ruby-2.1.6/make.log\n #define OSSL_SSL_METHOD_ENTRY(name) { #name, (SSL_METHOD *(*)(void))name##_method }\n                                                                     ^\nMakefile:280: recipe for target 'ossl_ssl.o' failed\nmake[2]: *** [ossl_ssl.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.1.6/ext/openssl'\nexts.mk:192: recipe for target 'ext/openssl/all' failed\nmake[1]: *** [ext/openssl/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nlinking shared-object socket.so\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.1.6/ext/socket'\nmake[1]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.1.6'\nuncommon.mk:180: recipe for target 'build-ext' failed\nmake: *** [build-ext] Error 2\n++ return 2\nThere has been an error while running make. Halting the installation.\n</code></pre>\n\n<p>tried without autolibs:</p>\n\n<pre><code>[anquegi@manjaro-pc ~]$ rvm install 2.1.6\nruby-2.1.6 - #removing src/ruby-2.1.6..\nSearching for binary rubies, this might take some time.\nNo binary rubies available for: manjaro/16.06-pre1/x86_64/ruby-2.1.6.\nContinuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.\nChecking requirements for manjaro.\nRequirements installation successful.\nInstalling Ruby from source to: /home/anquegi/.rvm/rubies/ruby-2.1.6, this may take a while depending on your cpu(s)...\nruby-2.1.6 - #downloading ruby-2.1.6, this may take a while depending on your connection...\nruby-2.1.6 - #extracting ruby-2.1.6 to /home/anquegi/.rvm/src/ruby-2.1.6....\nruby-2.1.6 - #configuring.....................................................\nruby-2.1.6 - #post-configuration..\nruby-2.1.6 - #compiling........................................................................................\nError running '__rvm_make -j4',\nshowing last 15 lines of /home/anquegi/.rvm/log/1458753526_ruby-2.1.6/make.log\n #define OSSL_SSL_METHOD_ENTRY(name) { #name, (SSL_METHOD *(*)(void))name##_method }\n                                                                     ^\nMakefile:280: recipe for target 'ossl_ssl.o' failed\nmake[2]: *** [ossl_ssl.o] Error 1\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.1.6/ext/openssl'\nexts.mk:192: recipe for target 'ext/openssl/all' failed\nmake[1]: *** [ext/openssl/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\ninstalling default callback libraries\nlinking shared-object dl/callback.so\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.1.6/ext/dl/callback'\nmake[1]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.1.6'\nuncommon.mk:180: recipe for target 'build-ext' failed\nmake: *** [build-ext] Error 2\n++ return 2\nThere has been an error while running make. Halting the installation.\n</code></pre>\n\n<p>or another ruby version:</p>\n\n<pre><code>[anquegi@manjaro-pc ~]$ rvm install 2.2.3\nSearching for binary rubies, this might take some time.\nNo binary rubies available for: manjaro/16.06-pre1/x86_64/ruby-2.2.3.\nContinuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.                                  \nChecking requirements for manjaro.\nRequirements installation successful.\nInstalling Ruby from source to: /home/anquegi/.rvm/rubies/ruby-2.2.3, this may take a while depending on your cpu(s)...\nruby-2.2.3 - #downloading ruby-2.2.3, this may take a while depending on your connection...\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 12.7M  100 12.7M    0     0   435k      0  0:00:29  0:00:29 --:--:--  422k\nNo checksum for downloaded archive, recording checksum in user configuration.\nruby-2.2.3 - #extracting ruby-2.2.3 to /home/anquegi/.rvm/src/ruby-2.2.3....\nruby-2.2.3 - #configuring.........................................................\nruby-2.2.3 - #post-configuration..\nruby-2.2.3 - #compiling................................................................................\nError running '__rvm_make -j4',\nshowing last 15 lines of /home/anquegi/.rvm/log/1458753949_ruby-2.2.3/make.log\nmake[1]: *** [ext/openssl/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\ncompiling stubs.c\nlinking shared-object strscan.so\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.2.3/ext/strscan'\ninstalling tcltklib libraries\ninstalling default tcltklib libraries\nlinking shared-object tkutil.so\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.2.3/ext/tk/tkutil'\nlinking shared-object tcltklib.so\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.2.3/ext/tk'\nmake[1]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.2.3'\nuncommon.mk:189: recipe for target 'build-ext' failed\nmake: *** [build-ext] Error 2\n++ return 2\nThere has been an error while running make. Halting the installation.\n</code></pre>\n\n<p>and with flags</p>\n\n<pre><code>anquegi@manjaro-pc ~]$ rvm CFLAGS=\"-std=iso9899:1999\" install 2.2.3 \nruby-2.2.3 - #removing src/ruby-2.2.3..\nSearching for binary rubies, this might take some time.\nNo binary rubies available for: manjaro/16.06-pre1/x86_64/ruby-2.2.3.\nContinuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.                                  \nChecking requirements for manjaro.\nRequirements installation successful.\nInstalling Ruby from source to: /home/anquegi/.rvm/rubies/ruby-2.2.3, this may take a while depending on your cpu(s)...\nruby-2.2.3 - #downloading ruby-2.2.3, this may take a while depending on your connection...\nruby-2.2.3 - #extracting ruby-2.2.3 to /home/anquegi/.rvm/src/ruby-2.2.3....\nruby-2.2.3 - #configuring.........................................................\nruby-2.2.3 - #post-configuration..\nruby-2.2.3 - #compiling..............................................................................\nError running '__rvm_make -j4',\nshowing last 15 lines of /home/anquegi/.rvm/log/1458754170_ruby-2.2.3/make.log\nmake[1]: *** [ext/openssl/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\ninstalling default socket libraries\ncompiling init.c\ncompiling constants.c\nchecking ../.././parse.y and ../.././ext/ripper/eventids2.c\ninstalling default ripper libraries\nlinking shared-object ripper.so\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.2.3/ext/ripper'\nlinking shared-object socket.so\nmake[2]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.2.3/ext/socket'\nmake[1]: Leaving directory '/home/anquegi/.rvm/src/ruby-2.2.3'\nuncommon.mk:189: recipe for target 'build-ext' failed\nmake: *** [build-ext] Error 2\n++ return 2\nThere has been an error while running make. Halting the installation.\n</code></pre>\n\n<p>I also tried to reinstall base devel, </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "capistrano"], "comments": [{"owner": {"reputation": 1289, "user_id": 2606967, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/C0xLY.jpg?s=128&g=1", "display_name": "siv rj", "link": "https://stackoverflow.com/users/2606967/siv-rj"}, "edited": false, "score": 1, "creation_date": 1458755037, "post_id": 36184533, "comment_id": 60005641, "body": "It seems multiple version of rakes are installed. You need to uninstall other rake version and keep rake 10.5.0"}], "answers": [{"tags": [], "owner": {"reputation": 1052, "user_id": 5501253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/34E5j.jpg?s=128&g=1", "display_name": "Apoorv", "link": "https://stackoverflow.com/users/5501253/apoorv"}, "is_accepted": false, "score": 1, "last_activity_date": 1458758161, "creation_date": 1458758161, "answer_id": 36186161, "question_id": 36184533, "link": "https://stackoverflow.com/questions/36184533/capistrano-could-not-find-rake-10-5-0-in-any-of-the-sources/36186161#36186161", "title": "Capistrano: Could not find rake-10.5.0 in any of the sources", "body": "<pre><code>1) gem install bundler\n2) bundle install\n</code></pre>\n\n<p>try to run the code after these 2 commands</p>\n"}], "owner": {"reputation": 186, "user_id": 5195347, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/432dde466333ca2987ab5c80c5b50604?s=128&d=identicon&r=PG&f=1", "display_name": "saltlife31496", "link": "https://stackoverflow.com/users/5195347/saltlife31496"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1458758161, "creation_date": 1458753051, "question_id": 36184533, "link": "https://stackoverflow.com/questions/36184533/capistrano-could-not-find-rake-10-5-0-in-any-of-the-sources", "title": "Capistrano: Could not find rake-10.5.0 in any of the sources", "body": "<p>I tried deploying my rails application using Capistrano but after the deployment has finished, I get the following error:</p>\n\n<pre><code> Could not find rake-10.5.0 in any of the sources \n</code></pre>\n\n<p>I have tried adding  Gem 'rake' to my Gemfile and redeploying and have tried setting the rvm path.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "loops"], "answers": [{"tags": [], "owner": {"reputation": 13091, "user_id": 385532, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/082cc70175616a7f63b134a741c5d6e3?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/385532/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1458753365, "last_edit_date": 1495540866, "creation_date": 1458753365, "answer_id": 36184628, "question_id": 36184488, "link": "https://stackoverflow.com/questions/36184488/ruby-rails-loop-logic-for-layout-design/36184628#36184628", "title": "Ruby + Rails: Loop logic for layout design", "body": "<p><a href=\"http://ruby-doc.org/core-2.3.0/Enumerable.html#method-i-each_slice\" rel=\"nofollow noreferrer\">each_slice</a> allows you to grab a certain number of elements from an array, then do something with them. </p>\n\n<p>E.g.: <code>[1,2,3,4,5,6,7,8,9].each_slice(3).map{|i| i} \n    =&gt; [[1, 2, 3], [4, 5, 6], [7, 8, 9]]</code></p>\n\n<p>Edit: @vee's <a href=\"https://stackoverflow.com/a/36184638/385532\">answer</a> is much nicer due to the <code>fill_with</code> param, check the documentation!</p>\n"}, {"comments": [{"owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "edited": false, "score": 0, "creation_date": 1458755097, "post_id": 36184638, "comment_id": 60005686, "body": "my only issue (which I didn&#39;t state) is that my list is really made up of dictionaries and when I try to do <code>&lt;li&gt;&lt;%= elem[:name] %&gt;&lt;&#47;li&gt;</code> I get a no method error for nil class <code>[]</code>.  When my dictionary includes <code>{&quot;name&quot;: &quot;foo&quot;}</code>"}, {"owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "edited": false, "score": 1, "creation_date": 1458755417, "post_id": 36184638, "comment_id": 60005884, "body": "after reading the docs, the error was occurring becasue I needed to include <code>in_groups_of(3, false)</code> since the list length is not always divisible by 3"}, {"owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "reply_to_user": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "edited": false, "score": 0, "creation_date": 1458755617, "post_id": 36184638, "comment_id": 60006018, "body": "@JeremyThomas, very well."}], "tags": [], "owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "is_accepted": true, "score": 3, "last_activity_date": 1458753386, "creation_date": 1458753386, "answer_id": 36184638, "question_id": 36184488, "link": "https://stackoverflow.com/questions/36184488/ruby-rails-loop-logic-for-layout-design/36184638#36184638", "title": "Ruby + Rails: Loop logic for layout design", "body": "<p>You can use <a href=\"http://apidock.com/rails/Array/in_groups_of\" rel=\"nofollow\"><code>in_groups_of</code></a> as follows:</p>\n\n<pre><code>&lt;% [1,2,3,4,5,6,7,8,9].in_groups_of(3).each do |group| %&gt;\n  &lt;div class='col-md-4'&gt;\n    &lt;% group.each do |elem| %&gt;\n      &lt;li&gt;&lt;%= elem -%&gt;&lt;/li&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>&lt;div class='col-md-4'&gt;\n    &lt;li&gt;1&lt;/li&gt;\n    &lt;li&gt;2&lt;/li&gt;\n    &lt;li&gt;3&lt;/li&gt;\n&lt;/div&gt;\n&lt;div class='col-md-4'&gt;\n    &lt;li&gt;4&lt;/li&gt;\n    &lt;li&gt;5&lt;/li&gt;\n    &lt;li&gt;6&lt;/li&gt;\n&lt;/div&gt;\n&lt;div class='col-md-4'&gt;\n    &lt;li&gt;7&lt;/li&gt;\n    &lt;li&gt;8&lt;/li&gt;\n    &lt;li&gt;9&lt;/li&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 36184638, "answer_count": 2, "score": 1, "last_activity_date": 1458753530, "creation_date": 1458752896, "question_id": 36184488, "link": "https://stackoverflow.com/questions/36184488/ruby-rails-loop-logic-for-layout-design", "title": "Ruby + Rails: Loop logic for layout design", "body": "<p>I use Rails often, but am not all that familiar with Ruby loops.  I need to do the following:</p>\n\n<p>I am trying to create a layout where I loops through a list <code>x = [1, 2, 3, 4, 5, 6]</code> and generate a 3 column layout such that I end up with:</p>\n\n<pre><code>&lt;div class=\"col-md-4\"&gt;\n    &lt;li&gt;1&lt;/li&gt;\n    &lt;li&gt;2&lt;/li&gt;\n&lt;/div&gt;\n&lt;div class=\"col-md-4\"&gt;\n    &lt;li&gt;3&lt;/li&gt;\n    &lt;li&gt;4&lt;/li&gt;\n&lt;/div&gt;\n&lt;div class=\"col-md-4\"&gt;\n    &lt;li&gt;5&lt;/li&gt;\n    &lt;li&gt;6&lt;/li&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>if the list was <code>x = [1, 2, 3, 4, 5, 6, 7, 8, 9]</code> I would want the following:</p>\n\n<pre><code>&lt;div class=\"col-md-4\"&gt;\n    &lt;li&gt;1&lt;/li&gt;\n    &lt;li&gt;2&lt;/li&gt;\n    &lt;li&gt;3&lt;/li&gt;\n&lt;/div&gt;\n&lt;div class=\"col-md-4\"&gt;\n    &lt;li&gt;4&lt;/li&gt;\n    &lt;li&gt;5&lt;/li&gt;\n    &lt;li&gt;6&lt;/li&gt;\n&lt;/div&gt;\n&lt;div class=\"col-md-4\"&gt;\n    &lt;li&gt;7&lt;/li&gt;\n    &lt;li&gt;8&lt;/li&gt;\n    &lt;li&gt;9&lt;/li&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How might I accomplish this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "caching", "redis"], "answers": [{"tags": [], "owner": {"reputation": 7668, "user_id": 29680, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/isyUF.jpg?s=128&g=1", "display_name": "John Naegle", "link": "https://stackoverflow.com/users/29680/john-naegle"}, "is_accepted": true, "score": 7, "last_activity_date": 1458752655, "creation_date": 1458752655, "answer_id": 36184423, "question_id": 36184319, "link": "https://stackoverflow.com/questions/36184319/rails-cache-read-multi-using-array-of-keys/36184423#36184423", "title": "Rails cache read_multi using array of keys", "body": "<p>Splat the keys:</p>\n\n<pre><code>Rails.cache.read_multi(*keys)\n</code></pre>\n"}], "owner": {"reputation": 1262, "user_id": 1057951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KXcma.jpg?s=128&g=1", "display_name": "Chris We", "link": "https://stackoverflow.com/users/1057951/chris-we"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 0, "accepted_answer_id": 36184423, "answer_count": 1, "score": 1, "last_activity_date": 1458752655, "creation_date": 1458752394, "question_id": 36184319, "link": "https://stackoverflow.com/questions/36184319/rails-cache-read-multi-using-array-of-keys", "title": "Rails cache read_multi using array of keys", "body": "<p>I am currently trying to get my key value pair out of redis using this function: </p>\n\n<pre><code>Rails.cache.read_multi(\"asdf:1\", \"asdf:2\")\n</code></pre>\n\n<p>It works smoothly in the example above, but when I try to get it working with an array of values it returns nil. </p>\n\n<pre><code>keys = ids.map {|id| \"asdf:#{id}\"}\nRails.cache.read_multi(keys)\n</code></pre>\n\n<p>Anyone has an idea how I get this working?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 3, "creation_date": 1458752371, "post_id": 36184269, "comment_id": 60003912, "body": "That doesn&#39;t return <code>ONE</code>, it returns <code>eno</code>. And the operator precedence for those is left to right."}, {"owner": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "reply_to_user": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 0, "creation_date": 1458753410, "post_id": 36184269, "comment_id": 60004593, "body": "Jep, copied from the wrong workspace, edited the original post"}, {"owner": {"reputation": 1289, "user_id": 2606967, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/C0xLY.jpg?s=128&g=1", "display_name": "siv rj", "link": "https://stackoverflow.com/users/2606967/siv-rj"}, "edited": false, "score": 0, "creation_date": 1458753639, "post_id": 36184269, "comment_id": 60004727, "body": "you want result as &quot;ONE&quot; when length of s is greater than 1?"}, {"owner": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458754492, "post_id": 36184269, "comment_id": 60005314, "body": "See my comment above"}], "answers": [{"tags": [], "owner": {"reputation": 70793, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "is_accepted": false, "score": 2, "last_activity_date": 1458752815, "creation_date": 1458752815, "answer_id": 36184461, "question_id": 36184269, "link": "https://stackoverflow.com/questions/36184269/and-replacing-if-else-statement/36184461#36184461", "title": "`&amp;&amp;` and `||` replacing `if`-`else`-statement?", "body": "<p>The expression on the right side of the <code>&amp;&amp;</code> operator only gets evaluated if the expression on the left evaluates to a truthy value (anything but <code>nil</code> or <code>false</code>).  This is called <a href=\"https://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow\">short-circuit evaluation</a>.  The basic idea is that if the left side evaluates to false, we know the overall value of the <code>&amp;&amp;</code> operator will be false, so let's save some CPU time (and avoid some side effects) by not even evaluating the the expression on the right.</p>\n\n<p>So the line</p>\n\n<pre><code>s.length &gt; 1 &amp;&amp; s.reverse!\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>if s.length &gt; 1\n  s.reverse!\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458753684, "post_id": 36184637, "comment_id": 60004760, "body": "Mmhhhh, but how can a method not returning bool become evaluated as you suggest?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458753802, "post_id": 36184637, "comment_id": 60004846, "body": "In Ruby, any object can take place in logical operations."}, {"owner": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458754716, "post_id": 36184637, "comment_id": 60005462, "body": "Ok, I checked it on the console, makes sense. But then, what&#39;s the final interpretation: pure boolean logic or - like David Grayson - stated short-circuit evaluation? As I understood the latter would mean, that the <code>reverse!</code>-method does not get touched if <code>s.length &gt; n</code> evaluates to <code>false</code>"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458754784, "post_id": 36184637, "comment_id": 60005497, "body": "As I wrote, it returns a truthy value (anything but <code>false</code> or <code>nil</code>) or a falsy value (<code>false</code> or <code>nil</code>), whatever is returned from the components."}, {"owner": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458754963, "post_id": 36184637, "comment_id": 60005591, "body": "Yes, I got that. Please check the first answer to the question. I interpret it to be different from yours and now want to know if a) this is true and if so b) what is the right answer... Anyhow, thanks for your time ;-)"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458755032, "post_id": 36184637, "comment_id": 60005638, "body": "The first answer is discussing a part of your expression, and it is correct. My answer is  about the whole expression."}, {"owner": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "edited": false, "score": 0, "creation_date": 1458765118, "post_id": 36184637, "comment_id": 60011522, "body": "Thanks for all the answers. So I&#39;d translate everything that&#39;s been said to the following: <code>s.reverse</code>will always be evaluated as true. Since the whole expression is evaluated in short-circuit manner the outcome of the <code>length</code>-check determines whether the <code>!</code> in <code>s.reverse!</code> applies the reversing to the string. If the <code>length</code>-check fails the expression simply returns the string."}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1458753386, "creation_date": 1458753386, "answer_id": 36184637, "question_id": 36184269, "link": "https://stackoverflow.com/questions/36184269/and-replacing-if-else-statement/36184637#36184637", "title": "`&amp;&amp;` and `||` replacing `if`-`else`-statement?", "body": "<p>When <code>s.length &gt; 1</code> is truthy, <code>s.reverse!</code> is evaluated to see if it is further truthy. If it is, then <code>s.length &gt; 1 &amp;&amp; s.reverse!</code> is evaluated to be truthy. In such case, <code>s</code> is not evaluated. Otherwise, <code>s</code> is evaluated.</p>\n\n<p>So it is not the same as</p>\n\n<pre><code>if s.length &gt; 1\n  s.reverse!\nelse\n  s\nend\n</code></pre>\n\n<p>but is the same as</p>\n\n<pre><code>if s.length &gt; 1 and s.reverse!\nelse\n  s\nend\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 5941617, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b31e5e9a64252e84b40190beb943ac2d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Neumann", "link": "https://stackoverflow.com/users/5941617/a-neumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1458753386, "creation_date": 1458752178, "last_edit_date": 1458753314, "question_id": 36184269, "link": "https://stackoverflow.com/questions/36184269/and-replacing-if-else-statement", "title": "`&amp;&amp;` and `||` replacing `if`-`else`-statement?", "body": "<p>Can somebody please explain how to interpret the following excerpt of a ruby block?</p>\n\n<pre><code>s = \"one\"\ns.length &gt; 1 &amp;&amp; s.reverse! || s\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>\"eno\"\n</code></pre>\n\n<p>How is it possible that the expression substitutes an <code>if</code>-<code>else</code>-statement?</p>\n"}, {"tags": ["ruby", "github", "gitignore", "git-assume-unchanged"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "edited": false, "score": 0, "creation_date": 1458751797, "post_id": 36184084, "comment_id": 60003489, "body": "Sorry if I was unclear, the remote config files will always be different. I want to always ignore the remote files. It works on other branches. Just not this one. If I stash/pull/pop commit will I have to do that for each pull?"}, {"owner": {"reputation": 393, "user_id": 780213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf17949dead3ae516156356273e0fc2?s=128&d=identicon&r=PG", "display_name": "sorpha", "link": "https://stackoverflow.com/users/780213/sorpha"}, "reply_to_user": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "edited": false, "score": 0, "creation_date": 1458751933, "post_id": 36184084, "comment_id": 60003588, "body": "Is the config file something that needs to be in the repository?"}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "edited": false, "score": 0, "creation_date": 1458752472, "post_id": 36184084, "comment_id": 60003984, "body": "The config files store sensitive information that is different between developers. We do not store this information on Github. The version of the file on Github is essentially the same file with no values."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458753012, "post_id": 36184084, "comment_id": 60004332, "body": "The usual (and, if you ask me, correct) way to solve this is to store e.g. <code>config&#47;database.example.yml</code> in the repo, and then when a developer clones the repo they just copy it to <code>config&#47;database.yml</code> and make their changes. This way the file in the repo never conflicts with the local file."}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "edited": false, "score": 0, "creation_date": 1458753150, "post_id": 36184084, "comment_id": 60004433, "body": "Figured it out. Some one had committed their config files by accident. Which set the index for those files ahead of my local. Seems like a bug but is probably intended functionality."}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "edited": false, "score": 0, "creation_date": 1458753178, "post_id": 36184084, "comment_id": 60004456, "body": "Using stash pop let me get past this and have it work as usual."}], "tags": [], "owner": {"reputation": 393, "user_id": 780213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf17949dead3ae516156356273e0fc2?s=128&d=identicon&r=PG", "display_name": "sorpha", "link": "https://stackoverflow.com/users/780213/sorpha"}, "is_accepted": true, "score": 0, "last_activity_date": 1458751694, "creation_date": 1458751694, "answer_id": 36184084, "question_id": 36183987, "link": "https://stackoverflow.com/questions/36183987/how-do-i-ignore-files-when-pulling-from-github/36184084#36184084", "title": "How do I ignore files when pulling from github?", "body": "<p>Consider stashing your local changes before pulling:</p>\n\n<pre><code>git stash\ngit pull\ngit stash pop\n</code></pre>\n\n<p>It is possible that you have merge conflicts if the files you are stashing are changed on the origin.</p>\n"}], "owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 36184084, "answer_count": 1, "score": 0, "last_activity_date": 1458751694, "creation_date": 1458751417, "question_id": 36183987, "link": "https://stackoverflow.com/questions/36183987/how-do-i-ignore-files-when-pulling-from-github", "title": "How do I ignore files when pulling from github?", "body": "<p>I am working in Ruby and want to ignore my config files when I pull from Github.</p>\n\n<p>The error I am receiving is:\n\"error: Your local changes to the following files would be overwritten by merge:  config/database.yml\"</p>\n\n<p>Things I have tried:</p>\n\n<p>1) I added the file paths to my .gitignore located in my application root.</p>\n\n<p>2) I added the file paths to my global .gitignore</p>\n\n<p>3) I ran git update-index --assume-unchanged /config/database.yml from my application root</p>\n\n<p>4) I ran git update-index --skip-worktree config/database.yml from my application root</p>\n\n<p>I have multiple instances of the same application in several different folders on my computer. The other instances of the application respect the assume-unchanged command. Im not sure what I am missing.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 819, "user_id": 2499227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NpTc3.jpg?s=128&g=1", "display_name": "MTarantini", "link": "https://stackoverflow.com/users/2499227/mtarantini"}, "is_accepted": false, "score": 0, "last_activity_date": 1458753079, "creation_date": 1458753079, "answer_id": 36184537, "question_id": 36183909, "link": "https://stackoverflow.com/questions/36183909/can-someone-help-troubleshoot-the-cause-of-this-error-activerecordmigration-e/36184537#36184537", "title": "Can someone help troubleshoot the cause of this error: ActiveRecord::Migration Error PG::WrongObjectType &#39;table&#39; is not a view", "body": "<p>Try dropping the view and then creating it instead of 'CREATE OR REPLACE VIEW':</p>\n\n<pre><code>def up\n  execute('DROP VIEW contributions')\n  execute('CREATE VIEW contributions AS (\n    (\n    SELECT id,\n      id AS person_id,\n      project_id AS project_id,\n      name_fact_id AS name_fact_id,\n      null AS position_id\n    FROM people\n    WHERE project_id IS NOT NULL\n\n    .........etc etc. ...........'\nend\n</code></pre>\n\n<p>Also, you may want to consider naming the table 'v_contributions' so that it is clear that table is a view table.</p>\n"}], "owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458753079, "creation_date": 1458751209, "question_id": 36183909, "link": "https://stackoverflow.com/questions/36183909/can-someone-help-troubleshoot-the-cause-of-this-error-activerecordmigration-e", "title": "Can someone help troubleshoot the cause of this error: ActiveRecord::Migration Error PG::WrongObjectType &#39;table&#39; is not a view", "body": "<p>I am having some issues with a migration on my rails application. When I execute the pending migrations I receive an error that looks like this:</p>\n\n<pre><code>PG::WrongObjectType: ERROR:  \"contributions\" is not a view\n</code></pre>\n\n<p>This is a snippet of the migration file:</p>\n\n<pre><code>class ReplaceContributionView &lt; ActiveRecord::Migration\n  def up\n    execute &lt;&lt;-SQL\n      CREATE OR REPLACE VIEW contributions AS (\n      (\n      SELECT id,\n        id AS person_id,\n        project_id AS project_id,\n        name_fact_id AS name_fact_id,\n        null AS position_id\n      FROM people\n      WHERE project_id IS NOT NULL\n\n      .........etc etc. ...........\n  end\n\n  def down\n   .........\n  end\nend\n</code></pre>\n\n<p>Checking my development database for the <code>contributions</code> table shows that it is indeed a view.</p>\n\n<pre><code>\\d contributions\n\nMaterialized view \"public.contributions\"\nColumn    |  Type   | Modifiers\n--------------+---------+-----------\n id           | bigint  |\n person_id    | bigint  |\n project_id   | integer |\n name_fact_id | integer |\n position_id  | integer |\nIndexes:\n    \"index_contributions_on_id\" UNIQUE, btree (id)\n    \"index_contributions_on_project_id\" btree (project_id)\n</code></pre>\n\n<p>I also want to point out that migrating on my test database produces no error whatsoever and I am able to <code>migrate</code> and <code>rollback</code> without problems.</p>\n\n<p>I'm stuck on this migration and can't do a thing until it resolves. What could be the problem? It clearly is a view unless <code>view</code> and <code>materialized view</code> are different things. Does anyone have any ideas? Help would be appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "comments": [{"owner": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 1, "creation_date": 1458759523, "post_id": 36183697, "comment_id": 60008296, "body": "What you are looking for is a self-referential association. See if this helps: <a href=\"http://railscasts.com/episodes/163-self-referential-association\" rel=\"nofollow noreferrer\">railscasts.com/episodes/163-self-referential-association</a>"}, {"owner": {"reputation": 179, "user_id": 5726485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/10207019311632480/picture?type=large", "display_name": "Hussein.", "link": "https://stackoverflow.com/users/5726485/hussein"}, "reply_to_user": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 0, "creation_date": 1458759625, "post_id": 36183697, "comment_id": 60008350, "body": "@omarvelous I want to have <code>users</code>can follow and be followed by others users. Only that. Do I create an other table?"}, {"owner": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 0, "creation_date": 1458833117, "post_id": 36183697, "comment_id": 60040999, "body": "Did you check the link? It is exactly what you are looking for... You would just replace &quot;friendship&quot; with &quot;follow&quot; in your case."}, {"owner": {"reputation": 179, "user_id": 5726485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/10207019311632480/picture?type=large", "display_name": "Hussein.", "link": "https://stackoverflow.com/users/5726485/hussein"}, "reply_to_user": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 0, "creation_date": 1458859026, "post_id": 36183697, "comment_id": 60055468, "body": "@omarvelous yes but something went wrong when I try to do this what means <code>nifty</code> in <code>nifty_scaffold</code>?"}, {"owner": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 0, "creation_date": 1458919353, "post_id": 36183697, "comment_id": 60076805, "body": "nifty is some custom scaffolding gem, ignore that. You can replace <code>nifty_scaffold</code> with <code>scaffold</code>."}, {"owner": {"reputation": 179, "user_id": 5726485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/10207019311632480/picture?type=large", "display_name": "Hussein.", "link": "https://stackoverflow.com/users/5726485/hussein"}, "reply_to_user": {"reputation": 2714, "user_id": 828325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c3eba650a9324105defd178e58949b?s=128&d=identicon&r=PG", "display_name": "omarvelous", "link": "https://stackoverflow.com/users/828325/omarvelous"}, "edited": false, "score": 0, "creation_date": 1458947646, "post_id": 36183697, "comment_id": 60090265, "body": "@omarvelous Thank you it works."}], "owner": {"reputation": 179, "user_id": 5726485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/10207019311632480/picture?type=large", "display_name": "Hussein.", "link": "https://stackoverflow.com/users/5726485/hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1458750692, "creation_date": 1458750692, "question_id": 36183697, "link": "https://stackoverflow.com/questions/36183697/create-users-as-followers-with-devise-in-rails", "title": "Create Users as followers with Devise in Rails", "body": "<p>I wonder how to create a follower table with Users generate with Devise.</p>\n\n<p>Further more I created a Users Controller :</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n\n  before_filter :authenticate_user!, except: [:index]\n\n  def index\n    @users = User.all\n  end\n\n  def show\n    @user = User.find(params[:id])\n  end\n\n  def destroy\n  end\n\nend\n</code></pre>\n\n<p>I think I have to create a table like this </p>\n\n<pre><code>Follows\n----------\n   id\n----------\nuser_id\n\n=&gt; rails generate model Follow user:references\n</code></pre>\n\n<p>But I think in the <code>Follower Model</code> I have to use <code>has_and_belongs_to_many :users</code> </p>\n\n<p>Please could you guide me please. Thank for your help.</p>\n\n<p>I read some tutorials but I didn't understand where we create <code>following_id</code> and <code>follower_id</code></p>\n"}, {"tags": ["ruby", "macos", "rubygems", "bundler", "osx-elcapitan"], "comments": [{"owner": {"reputation": 560, "user_id": 2362505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/181c3e1a813fb39b2720f4b2ba34e9cd?s=128&d=identicon&r=PG", "display_name": "harshs08", "link": "https://stackoverflow.com/users/2362505/harshs08"}, "edited": false, "score": 1, "creation_date": 1458759836, "post_id": 36183670, "comment_id": 60008460, "body": "what&#39;s the output of <code>bundle show bundler-bower --path</code>"}, {"owner": {"reputation": 1594, "user_id": 74631, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8defd8778cfe282f13cbc5ef1d158d58?s=128&d=identicon&r=PG", "display_name": "devkat", "link": "https://stackoverflow.com/users/74631/devkat"}, "reply_to_user": {"reputation": 560, "user_id": 2362505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/181c3e1a813fb39b2720f4b2ba34e9cd?s=128&d=identicon&r=PG", "display_name": "harshs08", "link": "https://stackoverflow.com/users/2362505/harshs08"}, "edited": false, "score": 0, "creation_date": 1458772891, "post_id": 36183670, "comment_id": 60015156, "body": "When I run <code>bundle show bundler-bower --paths</code> I get the same error: <code>cannot load such file -- bundler&#47;bower</code>."}, {"owner": {"reputation": 560, "user_id": 2362505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/181c3e1a813fb39b2720f4b2ba34e9cd?s=128&d=identicon&r=PG", "display_name": "harshs08", "link": "https://stackoverflow.com/users/2362505/harshs08"}, "edited": false, "score": 0, "creation_date": 1458842220, "post_id": 36183670, "comment_id": 60047080, "body": "Just do a <code>bundle show</code> and see if bundler-bower is their"}, {"owner": {"reputation": 1594, "user_id": 74631, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8defd8778cfe282f13cbc5ef1d158d58?s=128&d=identicon&r=PG", "display_name": "devkat", "link": "https://stackoverflow.com/users/74631/devkat"}, "reply_to_user": {"reputation": 560, "user_id": 2362505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/181c3e1a813fb39b2720f4b2ba34e9cd?s=128&d=identicon&r=PG", "display_name": "harshs08", "link": "https://stackoverflow.com/users/2362505/harshs08"}, "edited": false, "score": 0, "creation_date": 1459193887, "post_id": 36183670, "comment_id": 60166638, "body": "<code>bundle show</code> results in the same error message."}], "answers": [{"comments": [{"owner": {"reputation": 1594, "user_id": 74631, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8defd8778cfe282f13cbc5ef1d158d58?s=128&d=identicon&r=PG", "display_name": "devkat", "link": "https://stackoverflow.com/users/74631/devkat"}, "edited": false, "score": 0, "creation_date": 1458752040, "post_id": 36183792, "comment_id": 60003676, "body": "Hi Tim, thanks a lot for your reply. I had already run <code>gem install &#39;bundler-bower&#39;</code> successfully. Adding <code>gem &#39;bundler-bower&#39;</code> unfortunately doesn&#39;t seem to help, I still get the same error."}], "tags": [], "owner": {"reputation": 67, "user_id": 6045297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d45a06d384dfb68a3c515cb395931c73?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Spence", "link": "https://stackoverflow.com/users/6045297/tim-spence"}, "is_accepted": false, "score": -1, "last_activity_date": 1458750922, "creation_date": 1458750922, "answer_id": 36183792, "question_id": 36183670, "link": "https://stackoverflow.com/questions/36183670/bundler-cant-find-gem-bundler-bower/36183792#36183792", "title": "Bundler can&#39;t find gem bundler/bower", "body": "<p><a href=\"https://github.com/LTe/bundler-bower\" rel=\"nofollow\">https://github.com/LTe/bundler-bower</a></p>\n\n<p>You need to </p>\n\n<pre><code>gem install 'bundler-bower'\n</code></pre>\n\n<p>before you can require modules from it. Potentially (hopefully) bundler is clever enough to resolve dependency order if you add</p>\n\n<pre><code>gem 'bundler-bower'\n</code></pre>\n\n<p>to your gemfile and then install it with\n    bundle install\ninstead</p>\n"}], "owner": {"reputation": 1594, "user_id": 74631, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8defd8778cfe282f13cbc5ef1d158d58?s=128&d=identicon&r=PG", "display_name": "devkat", "link": "https://stackoverflow.com/users/74631/devkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459261612, "creation_date": 1458750589, "last_edit_date": 1459261612, "question_id": 36183670, "link": "https://stackoverflow.com/questions/36183670/bundler-cant-find-gem-bundler-bower", "title": "Bundler can&#39;t find gem bundler/bower", "body": "<p>Environment:</p>\n\n<ul>\n<li>Mac OS X 10.11.3 (El Capitan)</li>\n<li>Homebrew 0.9.5</li>\n<li>rvm 1.26.11 (same problem occurs with rbenv)</li>\n<li>Bundler 1.11.2</li>\n</ul>\n\n<p>Gemfile (excerpt):</p>\n\n<pre><code>source 'https://rubygems.org'\nrequire 'bundler/bower'\n\nasset \"jquery\", \"~2.1.4\"`\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>bundle install\n\n[!] There was an error parsing `Gemfile`:\ncannot load such file -- bundler/bower. Bundler cannot continue.\n\n #  from /Users/nobby/becompany/website/src/website-static/Gemfile:5\n #  -------------------------------------------\n #  \n &gt;  require 'bundler/bower'\n #  \n #  -------------------------------------------\n</code></pre>\n\n<p>My RubyGems environment is:</p>\n\n<pre><code>- RUBYGEMS VERSION: 2.5.1\n- RUBY VERSION: 2.3.0 (2015-12-25 patchlevel 0) [x86_64-darwin15]\n- INSTALLATION DIRECTORY: /Users/nobby/.rvm/gems/ruby-2.3.0\n- USER INSTALLATION DIRECTORY: /Users/nobby/.gem/ruby/2.3.0\n- RUBY EXECUTABLE: /Users/nobby/.rvm/rubies/ruby-2.3.0/bin/ruby\n- EXECUTABLE DIRECTORY: /Users/nobby/.rvm/gems/ruby-2.3.0/bin\n- SPEC CACHE DIRECTORY: /Users/nobby/.gem/specs\n- SYSTEM CONFIGURATION DIRECTORY: /Users/nobby/.rvm/rubies/ruby-2.3.0/etc\n- RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-darwin-15\n- GEM PATHS:\n    - /Users/nobby/.rvm/gems/ruby-2.3.0\n    - /Users/nobby/.rvm/gems/ruby-2.3.0@global\n- GEM CONFIGURATION:\n    - :update_sources =&gt; true\n    - :verbose =&gt; true\n    - :backtrace =&gt; false\n    - :bulk_threshold =&gt; 1000\n- REMOTE SOURCES:\n    - https://rubygems.org/\n- SHELL PATH:\n    - /Users/nobby/.rvm/gems/ruby-2.3.0/bin\n    - /Users/nobby/.rvm/gems/ruby-2.3.0@global/bin\n    - /Users/nobby/.rvm/rubies/ruby-2.3.0/bin\n    - /Users/nobby/.rvm/bin\n    - /Users/nobby/src/apache/ant/apache-ant-1.9.6/bin\n    - /usr/local/bin\n    - /usr/bin\n    - /bin\n    - /usr/sbin\n    - /sbin\n</code></pre>\n\n<p>Maybe bundler is looking in the wrong gem paths? Is there a way to see which paths it is using?</p>\n\n<hr>\n\n<p>It works when I manually add the dependencies to LOAD_PATH in Gemfile; maybe this helps to point me to the cause of the problem:</p>\n\n<pre><code>[ 'bundler-bower-0.0.3', 'bower-rails-0.10.0'].each do |dep|\n  $LOAD_PATH.unshift \"/Users/nobby/.rvm/gems/ruby-2.3.0/gems/#{dep}/lib\"\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "web", "runtime-error", "cloud9-ide"], "comments": [{"owner": {"reputation": 1289, "user_id": 2606967, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/C0xLY.jpg?s=128&g=1", "display_name": "siv rj", "link": "https://stackoverflow.com/users/2606967/siv-rj"}, "edited": false, "score": 0, "creation_date": 1458752176, "post_id": 36183463, "comment_id": 60003773, "body": "Try removing Gemfile.lock and bundle install, and double try rails s -b $IP -p $PORT"}, {"owner": {"reputation": 3226, "user_id": 4449035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-cDrTIBwolm0/AAAAAAAAAAI/AAAAAAAANmE/OK9Bjdfpl7g/photo.jpg?sz=128", "display_name": "Brady Dowling", "link": "https://stackoverflow.com/users/4449035/brady-dowling"}, "edited": false, "score": 0, "creation_date": 1458755498, "post_id": 36183463, "comment_id": 60005939, "body": "Could be that another process is already attached to port 8080. Try <a href=\"https://docs.c9.io/docs/restarting-your-workspace\" rel=\"nofollow noreferrer\">restarting your workspace</a> or post about it at <a href=\"https://community.c9.io\" rel=\"nofollow noreferrer\">community.c9.io</a> and you&#39;ll get help there."}], "owner": {"reputation": 15, "user_id": 3057747, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001876269956/picture?type=large", "display_name": "user3057747", "link": "https://stackoverflow.com/users/3057747/user3057747"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 862, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458760737, "creation_date": 1458750026, "last_edit_date": 1458760737, "question_id": 36183463, "link": "https://stackoverflow.com/questions/36183463/cloud-9-rails-no-application-seems-to-be-running-here-run-time-error", "title": "Cloud 9 Rails &quot;No application seems to be running here&quot; run time error", "body": "<p>I'm developing a simple Rails application using Cloud 9.</p>\n\n<p>Everytime I run the application I get this error in the Cloud 9 browser</p>\n\n<pre><code>No application seems to be running here!\n</code></pre>\n\n<p>I researched this and I can't figure out why. I used</p>\n\n<pre><code>rails s -b $IP -p $PORT\n</code></pre>\n\n<p>to launch the server. This was done in the root directory of the application. I have installed all the Rails gems/bundles needed.</p>\n\n<p>When I run the application I'm getting a message in the terminal saying</p>\n\n<pre><code>my code is running at htttps://......... example\n</code></pre>\n\n<p>when I click the link is when I see the error.</p>\n\n<p>This is the response from the terminal after I try start the server: </p>\n\n<pre><code>$ rails server \u2013b $IP \u2013p $PORT\n\nExiting\n/usr/local/rvm/gems/ruby-2.3.0/gems/rack-1.6.4/lib/rack/handler.rb:78:in `require': cannot load such file -- rack/handler/\u2013b (LoadError)\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/rack-1.6.4/lib/rack/handler.rb:78:in `try_require'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/rack-1.6.4/lib/rack/handler.rb:16:in `get'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/rack-1.6.4/lib/rack/server.rb:290:in `server'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/railties-4.2.6/lib/rails/commands/server.rb:125:in `print_boot_information'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/railties-4.2.6/lib/rails/commands/server.rb:75:in `start'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:80:in `block in server'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:75:in `tap'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:75:in `server'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/railties-4.2.6/lib/rails/commands.rb:17:in `&lt;top (required)&gt;'\n        from /home/ubuntu/workspace/dublinapp/bin/rails:9:in `require'\n        from /home/ubuntu/workspace/dublinapp/bin/rails:9:in `&lt;top (required)&gt;'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/spring-1.6.4/lib/spring/client/rails.rb:28:in `load'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/spring-1.6.4/lib/spring/client/rails.rb:28:in `call'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/spring-1.6.4/lib/spring/client/command.rb:7:in `call'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/spring-1.6.4/lib/spring/client.rb:28:in `run'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/spring-1.6.4/bin/spring:49:in `&lt;top (required)&gt;'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/spring-1.6.4/lib/spring/binstub.rb:11:in `load'\n        from /usr/local/rvm/gems/ruby-2.3.0/gems/spring-1.6.4/lib/spring/binstub.rb:11:in `&lt;top (required)&gt;'\n        from /home/ubuntu/workspace/dublinapp/bin/spring:13:in `require'\n        from /home/ubuntu/workspace/dublinapp/bin/spring:13:in `&lt;top (required)&gt;'\n        from bin/rails:3:in `load'\n        from bin/rails:3:in `&lt;main&gt;'\n</code></pre>\n"}, {"tags": ["ruby", "algorithm", "recursion", "hash"], "comments": [{"owner": {"reputation": 682, "user_id": 1081532, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a0763b837743a98fe0170b75d715eb8c?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/1081532/pierre"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1458751290, "post_id": 36183107, "comment_id": 60003134, "body": "ok post your answer if you want."}], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1458760501, "post_id": 36183582, "comment_id": 60008860, "body": "Nice solution. I particularly like your decision to pass a block."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1458760769, "post_id": 36183582, "comment_id": 60009046, "body": "I just noticed a small problem. If <code>&quot;tof&quot;</code> were <code>43</code>, rather than <code>&quot;23&quot;</code>, <code>array</code> would be changed to <code>=&gt; [{:name=&gt;&quot;foo&quot;, :age=&gt;12, :children=&gt;[{:name=&gt;&quot;taz&quot;, :age=&gt;17, :children=&gt;[]}]}]</code>, but the OP does not want the key <code>:children</code> when its value is an empty array."}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1458773117, "post_id": 36183582, "comment_id": 60015240, "body": "Updated the solution to remove empty children. I don&#39;t know whether the method should return <code>nil</code> if the root array becomes empty."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1458780264, "post_id": 36183582, "comment_id": 60017400, "body": "I probably misspoke. Initially I mistakenly thought your original method returned a key-value pair <code>:children=&gt;[]</code> for the OPs example. As that differed from the OPs desired result I concluded that the OP wanted to remove <code>:children</code> when its value was an empty array. But you only returned <code>:children=&gt;[]</code> with the example I mentioned, so I don&#39;t know if the OP wants that or not."}], "tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": true, "score": 3, "last_activity_date": 1458772983, "last_edit_date": 1458772983, "creation_date": 1458750328, "answer_id": 36183582, "question_id": 36183107, "link": "https://stackoverflow.com/questions/36183107/remove-hash-which-contains-specific-key-value-in-a-recursive-array-of-hashes/36183582#36183582", "title": "Remove hash which contains specific key =&gt; value in a recursive array of hashes", "body": "<pre><code>def deep_reject!(array, &amp;block)\n  return if array.nil?\n  array.tap{|a| a.reject! &amp;block}.each do |h| \n    deep_reject!(h[:children], &amp;block)\n    h.delete(:children) if h[:children].nil? or h[:children].empty?\n  end\nend\n\narray = [\n  {\n    name: \"foo\",\n    age: 12,\n    children: [\n      {\n        name: \"zoo\",\n        age: 44\n      },\n      {\n        name: \"taz\",\n        age: 17,\n        children: [\n          {\n            name: 'tof',\n            age: 44\n          },\n          {\n            name: 'tok',\n            age: 67\n          }\n        ]\n      }\n    ]\n  },\n  {\n    name: \"bar\",\n    age: 54\n  }\n]\n\ndeep_reject!(array) {|hash| hash[:age] &gt; 40}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2572, "user_id": 2862049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffd65bc37e559c2c407f064f308828a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Baliak", "link": "https://stackoverflow.com/users/2862049/lukas-baliak"}, "is_accepted": false, "score": 1, "last_activity_date": 1458750363, "creation_date": 1458750363, "answer_id": 36183596, "question_id": 36183107, "link": "https://stackoverflow.com/questions/36183107/remove-hash-which-contains-specific-key-value-in-a-recursive-array-of-hashes/36183596#36183596", "title": "Remove hash which contains specific key =&gt; value in a recursive array of hashes", "body": "<p>Maybe something like this.</p>\n\n<p>INPUT:</p>\n\n<pre><code>array = [\n  {\n    name: \"foo\",\n    age: 12,\n    children: [\n      {\n        name: \"zoo\",\n        age: 44\n      },\n      {\n        name: \"taz\",\n        age: 17,\n        children: [\n          {\n            name: 'tof',\n            age: 23\n          },\n          {\n            name: 'tok',\n            age: 42\n          }\n        ]\n      }\n    ]\n  },\n  {\n    name: \"bar\",\n    age: 54\n  }\n]\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>def remove_from_children(array)\n  a = []\n  array.each{|h|\n    if h[:children] &amp;&amp; !h[:children].empty?\n      h[:children] = remove_from_children(h[:children])\n    end\n    a &lt;&lt; h if h[:age] &lt; 40\n  }\n  a\nend\n\nremove_from_children(array)\n</code></pre>\n\n<p>output</p>\n\n<pre><code>[\n  {\n    :name =&gt; \"foo\",\n    :age =&gt; 12,\n    :children =&gt; [\n      {\n        :name =&gt; \"taz\",\n        :age =&gt; 17,\n        :children =&gt; [\n          {\n            :name =&gt; \"tof\",\n            :age =&gt; 23\n          }\n        ]\n      }\n    ]\n  }\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1458759681, "creation_date": 1458759681, "answer_id": 36186581, "question_id": 36183107, "link": "https://stackoverflow.com/questions/36183107/remove-hash-which-contains-specific-key-value-in-a-recursive-array-of-hashes/36186581#36186581", "title": "Remove hash which contains specific key =&gt; value in a recursive array of hashes", "body": "<p>The following does not mutate <code>arr</code>.</p>\n\n<pre><code>def just_youngsters(arr, cutoff_age)\n  arr.each_with_object([]) do |h,a|\n    next if h[:age] &gt; cutoff_age\n    g = h.dup\n    if g.key?(:children) \n      (g[:children] = just_youngsters(g[:children], cutoff_age))\n      g.delete_if { |k,v| k==:children &amp;&amp; v.empty? }\n    end\n    a &lt;&lt; g\n  end\nend\n\njust_youngsters(arr, 40)\n  #=&gt; [\n  #    { \n  #      :name=&gt;\"foo\",\n  #      :age=&gt;12,\n  #      :children=&gt;[\n  #                  { \n  #                    :name=&gt;\"taz\",\n  #                    :age=&gt;17\n  #                  }\n  #                 ]\n  #    }\n  #   ] \n</code></pre>\n"}], "owner": {"reputation": 682, "user_id": 1081532, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a0763b837743a98fe0170b75d715eb8c?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/1081532/pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 36183582, "answer_count": 3, "score": 0, "last_activity_date": 1458772983, "creation_date": 1458749099, "last_edit_date": 1458751250, "question_id": 36183107, "link": "https://stackoverflow.com/questions/36183107/remove-hash-which-contains-specific-key-value-in-a-recursive-array-of-hashes", "title": "Remove hash which contains specific key =&gt; value in a recursive array of hashes", "body": "<p>I have the following Array (no limit of deepness) :</p>\n\n<pre><code> arr = [\n   {\n     name: \"foo\",\n     age: 12,\n     children: [{\n         name: \"zoo\",\n         age: 44\n       },\n       {\n         name: \"taz\",\n         age: 17,\n         children: [{\n             name: 'tof',\n             age: 23\n           },\n           {\n             name: 'tok',\n             age: 42\n           }\n         ]\n       }\n     ]\n   },\n   {\n     name: \"bar\",\n     age: 54\n   }\n ]\n</code></pre>\n\n<p>And I would like to remove each hash which contains <code>age &gt; 40</code>, the final array will be:</p>\n\n<pre><code>arr = [\n       {\n         name: \"foo\",\n         age: 12,\n         children: [{\n             name: \"taz\",\n             age: 17,\n             children: [{\n                 name: 'tof',\n                 age: 23\n               }\n             ]\n           }\n         ]\n       }\n     ]\n</code></pre>\n\n<p>Do you have any idea how I should code that function ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "validation"], "answers": [{"tags": [], "owner": {"reputation": 32037, "user_id": 249543, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/8ef93fcf1d542ad7bbe654a74d24716d?s=128&d=identicon&r=PG", "display_name": "jefflunt", "link": "https://stackoverflow.com/users/249543/jefflunt"}, "is_accepted": false, "score": 1, "last_activity_date": 1458749136, "last_edit_date": 1458749136, "creation_date": 1458748765, "answer_id": 36182985, "question_id": 36182837, "link": "https://stackoverflow.com/questions/36182837/how-to-validate-presence-of-drop-down-list-in-rails/36182985#36182985", "title": "How to validate presence of drop down list in Rails", "body": "<p>For view tests in general, I would write a test against the returned HTML from the controller action. This gives the benefit of not doing in-browser tests (i.e. you don't have to use a web driver/headless browser), and since it's up to the individual browsers to render your HTML properly you can keep you tests simpler by just ensuring that the returned HTML from the controller action is correct.</p>\n\n<p>If you want to validate that, when the user selects a given item, that it has been selected...well that's really up to the browser to do that job, so I don't know if you really want to test that. However, you should be able to check for the <code>selected</code> attribute on the tag (<a href=\"http://www.w3schools.com/tags/att_option_selected.asp\" rel=\"nofollow\">see here</a>)</p>\n\n<p>That said, in general don't go too crazy with view tests, if this is indeed what you're going for. The view is the part of most apps that changes very frequently, and is quite fragile. You may find yourself chasing view changes a lot in your test suite.</p>\n"}, {"comments": [{"owner": {"reputation": 897, "user_id": 4645227, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50d116f701889e0977127909fc1ce8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Prezes \u0141ukasz", "link": "https://stackoverflow.com/users/4645227/prezes-%c5%81ukasz"}, "edited": false, "score": 0, "creation_date": 1458749597, "post_id": 36183008, "comment_id": 60001965, "body": "Do you know why validation don&#39;t display validation error. When I don&#39;t select anything and click create, nothing happen."}, {"owner": {"reputation": 897, "user_id": 4645227, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50d116f701889e0977127909fc1ce8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Prezes \u0141ukasz", "link": "https://stackoverflow.com/users/4645227/prezes-%c5%81ukasz"}, "edited": false, "score": 0, "creation_date": 1458762307, "post_id": 36183008, "comment_id": 60009953, "body": "I use simple_form gem and it shows errors from other field but for collection_select doesn&#39;t react. I use object.errors.full_messages and this show error properly."}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "reply_to_user": {"reputation": 897, "user_id": 4645227, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50d116f701889e0977127909fc1ce8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Prezes \u0141ukasz", "link": "https://stackoverflow.com/users/4645227/prezes-%c5%81ukasz"}, "edited": false, "score": 1, "creation_date": 1458802671, "post_id": 36183008, "comment_id": 60023330, "body": "@\u0141ukaszKorol I updated my answer to address your question."}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 2, "last_activity_date": 1458802657, "last_edit_date": 1458802657, "creation_date": 1458748814, "answer_id": 36183008, "question_id": 36182837, "link": "https://stackoverflow.com/questions/36182837/how-to-validate-presence-of-drop-down-list-in-rails/36183008#36183008", "title": "How to validate presence of drop down list in Rails", "body": "<p>I would use:</p>\n\n<pre><code>validates :person, :presence =&gt; true\n</code></pre>\n\n<p>This ensures that the selected <code>person_id</code> was not only present, but it also belongs to an existing <code>Person</code>.</p>\n\n<p>Please note that if there are errors the errors will be added on <code>:person</code>, not on <code>person_id</code>. Depending on how you render validation errors you will have to check for error like this: <code>object.errors[:person]</code>.</p>\n\n<p>When you want to present errors next to the <code>person_id</code> field, but cannot update your view, then you might want to use a <a href=\"http://guides.rubyonrails.org/active_record_validations.html#custom-methods\" rel=\"nofollow\">custom validation</a> that checks <code>person</code>, but adds errors to <code>person_id</code>:</p>\n\n<pre><code>validate :person_existing\n\nprivate\ndef person_existing\n  errors.add(:person_id, :missing) if person.blank?\nend\n</code></pre>\n"}], "owner": {"reputation": 897, "user_id": 4645227, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50d116f701889e0977127909fc1ce8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Prezes \u0141ukasz", "link": "https://stackoverflow.com/users/4645227/prezes-%c5%81ukasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "accepted_answer_id": 36183008, "answer_count": 2, "score": 1, "last_activity_date": 1458802657, "creation_date": 1458748351, "last_edit_date": 1458760903, "question_id": 36182837, "link": "https://stackoverflow.com/questions/36182837/how-to-validate-presence-of-drop-down-list-in-rails", "title": "How to validate presence of drop down list in Rails", "body": "<p>I want to know how to validate that a user selected a value.</p>\n\n<p>My <code>collection_select</code> is:</p>\n\n<pre><code>= f.collection_select :person_id, @employee, :id, :fullName, {prompt: \"Select employee\"}, {class: \"form-control\"}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "rails-i18n"], "answers": [{"tags": [], "owner": {"reputation": 8160, "user_id": 163640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d63f02794544d271573750a83842cf59?s=128&d=identicon&r=PG", "display_name": "eugen", "link": "https://stackoverflow.com/users/163640/eugen"}, "is_accepted": true, "score": 0, "last_activity_date": 1458748381, "creation_date": 1458748381, "answer_id": 36182851, "question_id": 36182711, "link": "https://stackoverflow.com/questions/36182711/rails-4-how-to-translate-devise-view/36182851#36182851", "title": "Rails 4 : How to translate devise view?", "body": "<p>Unfortunately, not all devise views are fully localized. The links that are not translated in your form come from the partial <code>devise/shared/_links.html.erb</code> and they are hard-coded there.\nYou'll have to extract those strings manually into a locale file.</p>\n"}, {"tags": [], "owner": {"reputation": 722, "user_id": 5930970, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-0pb_9l21uBU/AAAAAAAAAAI/AAAAAAAAAIU/lfeHmSIIWGU/photo.jpg?sz=128", "display_name": "Sylvain Martin Saint L&#233;on", "link": "https://stackoverflow.com/users/5930970/sylvain-martin-saint-l%c3%a9on"}, "is_accepted": false, "score": 3, "last_activity_date": 1458748843, "creation_date": 1458748843, "answer_id": 36183016, "question_id": 36182711, "link": "https://stackoverflow.com/questions/36182711/rails-4-how-to-translate-devise-view/36183016#36183016", "title": "Rails 4 : How to translate devise view?", "body": "<p>Hello fellow Frenchman</p>\n\n<p>I suggest you visit :\n<a href=\"https://github.com/tigrish/devise-i18n\" rel=\"nofollow\">devise-i18n github page</a></p>\n\n<p>They advice you to edit the config/locales/devise.fr.yml page\nwhere you will be able to edit the translation.</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 3870, "user_id": 1613902, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/LX9Wg.jpg?s=128&g=1", "display_name": "Pracede", "link": "https://stackoverflow.com/users/1613902/pracede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2331, "favorite_count": 1, "accepted_answer_id": 36182851, "answer_count": 2, "score": 2, "last_activity_date": 1458748843, "creation_date": 1458748000, "question_id": 36182711, "link": "https://stackoverflow.com/questions/36182711/rails-4-how-to-translate-devise-view", "title": "Rails 4 : How to translate devise view?", "body": "<p>I used devise to manage authentication in my web application. Now i want to translate the view in french. So first i've install <a href=\"https://github.com/tigrish/devise-i18n\" rel=\"nofollow noreferrer\">devise I18n</a>. </p>\n\n<p>Then i generate the view : <code>rails g devise:views:locale fr</code> because i need to customize some texts. \nBut when i reload my webapp. I have also restarted it.Labels are translated but links are not translated. In my \"Sign Up\" page for instance, i have \"Log In\" and \"Didn't receive confirmation instructions?\" links are still in English.\nThank you for help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HcYiD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HcYiD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ruby", "net-ssh"], "comments": [{"owner": {"reputation": 2176, "user_id": 323303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1443a67b8c1b8ffd44cddad350ae6e2a?s=128&d=identicon&r=PG", "display_name": "amadain", "link": "https://stackoverflow.com/users/323303/amadain"}, "edited": false, "score": 0, "creation_date": 1458747200, "post_id": 36182099, "comment_id": 60000092, "body": "btw I know it can be done via shell commands (<a href=\"https://quizlet.com/44970397/linux-and-hacking-common-commands-and-memorize-mes-flash-cards/\" rel=\"nofollow noreferrer\">quizlet.com/44970397/&hellip;</a>) but I want to do this in ruby"}], "answers": [{"comments": [{"owner": {"reputation": 2176, "user_id": 323303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1443a67b8c1b8ffd44cddad350ae6e2a?s=128&d=identicon&r=PG", "display_name": "amadain", "link": "https://stackoverflow.com/users/323303/amadain"}, "edited": false, "score": 0, "creation_date": 1459776516, "post_id": 36182446, "comment_id": 60424325, "body": "Thx this is the method I used. It works with ruby but in jruby there is an issue (<a href=\"https://github.com/net-ssh/net-ssh/issues/122\" rel=\"nofollow noreferrer\">github.com/net-ssh/net-ssh/issues/122</a>) which was fixed in net-ssh version 3.0.2 and requires ruby &gt;=2.0"}], "tags": [], "owner": {"reputation": 20458, "user_id": 122087, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/431c64e3e3fd0c892ad2a7e4150cf63e?s=128&d=identicon&r=PG", "display_name": "Paul A Jungwirth", "link": "https://stackoverflow.com/users/122087/paul-a-jungwirth"}, "is_accepted": true, "score": 1, "last_activity_date": 1458761144, "last_edit_date": 1458761144, "creation_date": 1458747308, "answer_id": 36182446, "question_id": 36182099, "link": "https://stackoverflow.com/questions/36182099/how-to-ssh-to-a-jumpoff-server-and-ssh-from-that-jumpoff-server-in-ruby/36182446#36182446", "title": "How to SSH to a jumpoff server and SSH from that jumpoff server in Ruby", "body": "<p>This is possible, but you should use SSH's built-in <code>ProxyCommand</code> setting to do it. If you have an <code>~/.ssh/config</code> file, then <code>Net::SSH</code> will use that. For instance it could look like this:</p>\n\n<pre><code>Host the.protected.box\nHostname 10.10.10.20\nProxyCommand ssh 10.10.10.10 nc %h %p 2&gt; /dev/null\n</code></pre>\n\n<p>Then you can say:</p>\n\n<pre><code>Net::SSH.start('the.protected.box', 'admin')\n</code></pre>\n\n<p>and the proxying will just work.</p>\n\n<p>If you run into issues it is often easier to debug this using the <code>ssh</code> command-line tool before translating your work into Ruby.</p>\n\n<p>If you don't want to use <code>~/.ssh/config</code>, you can set up a proxy command in code instead:</p>\n\n<pre><code>require 'net/ssh/proxy/command'\nproxy = Net::SSH::Proxy::Command.new('ssh 10.10.10.10 nc %h %p 2&gt;/dev/null')\nNet::SSH.start('10.10.10.20', 'admin', proxy: proxy)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "is_accepted": false, "score": 1, "last_activity_date": 1458761205, "last_edit_date": 1458761205, "creation_date": 1458747887, "answer_id": 36182668, "question_id": 36182099, "link": "https://stackoverflow.com/questions/36182099/how-to-ssh-to-a-jumpoff-server-and-ssh-from-that-jumpoff-server-in-ruby/36182668#36182668", "title": "How to SSH to a jumpoff server and SSH from that jumpoff server in Ruby", "body": "<p>You can do this with SSH port forwarding. <a href=\"http://net-ssh.github.io/gateway/v1/api/classes/Net/SSH/Gateway.html\" rel=\"nofollow\">Net::SSH gateway</a> does this for you, but it's easy enough to do yourself. </p>\n\n<p>It basically has some code that looks like this:</p>\n\n<pre><code>Net::SSH.start(...) do |ssh|\n   ssh.forward(12345, \"internal host\", 22)\n   ssh.loop { true }\nend\n</code></pre>\n\n<p>That sets up the tunnel and then you make a new SSH connection to locahost port 12345.</p>\n"}], "owner": {"reputation": 2176, "user_id": 323303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1443a67b8c1b8ffd44cddad350ae6e2a?s=128&d=identicon&r=PG", "display_name": "amadain", "link": "https://stackoverflow.com/users/323303/amadain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 36182446, "answer_count": 2, "score": 0, "last_activity_date": 1458761205, "creation_date": 1458746451, "last_edit_date": 1458761067, "question_id": 36182099, "link": "https://stackoverflow.com/questions/36182099/how-to-ssh-to-a-jumpoff-server-and-ssh-from-that-jumpoff-server-in-ruby", "title": "How to SSH to a jumpoff server and SSH from that jumpoff server in Ruby", "body": "<p>I was looking for a way to SSH to a jumpoff server using ruby and from that server SSH to another server. The jumpoff server is the only server with access to the final server. I was trying Net::SSH but I can't seem to get an SSH connection from within the established SSH connection.</p>\n\n<pre><code>irb(main):021:0&gt; require \"net/ssh\"\n=&gt; false\nirb(main):022:0&gt; Net::SSH.start(\"10.10.10.10\", \"admin\") do |ssh|\nirb(main):023:1* result = ssh.exec!(\"mm | grep 'dv ' | awk '{print $1}'\").strip\nirb(main):024:1&gt; p \"Going to try to login to #{result}\" \nirb(main):025:1&gt; Net::SSH.start(result, \"admin\") do |ssh1|\nirb(main):026:2* hostname = ssh1.exec!(\"hostname\")\nirb(main):027:2&gt; p \"In #{hostname}\"\nirb(main):029:2&gt; end\nirb(main):030:1&gt; end\n\"Going to try to login to vz-int-api02\"\nSocketError: initialize: name or service not known\n    from org/jruby/ext/socket/RubyTCPSocket.java:129:in `initialize'\n    from org/jruby/RubyIO.java:1178:in `open'\n    from /usr/local/jruby-1.7.9/lib/ruby/gems/shared/gems/net-ssh-2.9.2    /lib/net/ssh/transport/session.rb:70:in `initialize'\n    from org/jruby/ext/timeout/Timeout.java:105:in `timeout'\n    from /usr/local/jruby-1.7.9/lib/ruby/gems/shared/gems/net-ssh-2.9.2    /lib/net/ssh/transport/session.rb:67:in `initialize'\n    from /usr/local/jruby-1.7.9/lib/ruby/gems/shared/gems/net-ssh-2.9.2    /lib/net/ssh.rb:207:in `start'\n    from (irb):25:in `evaluate'\n    from /usr/local/jruby-1.7.9/lib/ruby/gems/shared/gems/net-ssh-2.9.2    /lib/net/ssh.rb:215:in `start'\n    from (irb):22:in `evaluate'\n    from org/jruby/RubyKernel.java:1119:in `eval'\n    from org/jruby/RubyKernel.java:1519:in `loop'\n    from org/jruby/RubyKernel.java:1282:in `catch'\n    from org/jruby/RubyKernel.java:1282:in `catch'\n    from /usr/local/jruby-1.7.9/bin/irb:13:in `(root)'\n</code></pre>\n\n<p>I also tried running the SSH connection directly from the established SSH connection but there seems to be no way to initiate an new session from a session object:</p>\n\n<pre><code>irb(main):035:1&gt; ssh.start(result, \"admin\") do |ssh1|\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>NoMethodError: undefined method `start' for #&lt;Net::SSH::Connection::Session:0x5b11d0d8&gt;\n</code></pre>\n\n<p>I'm probably tackling this from the wrong angle but I could not find anyone who wanted to SSH from a SSH connection.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "devise"], "comments": [{"owner": {"reputation": 470, "user_id": 5847429, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aae8a096939117430c37280e7897f32c?s=128&d=identicon&r=PG", "display_name": "Elton Santos", "link": "https://stackoverflow.com/users/5847429/elton-santos"}, "reply_to_user": {"reputation": 7898, "user_id": 3437900, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/blKgR.jpg?s=128&g=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/3437900/illusionist"}, "edited": false, "score": 0, "creation_date": 1458746082, "post_id": 36181466, "comment_id": 59999181, "body": "@illusionist Thanks for edit my english!"}], "answers": [{"comments": [{"owner": {"reputation": 2765, "user_id": 5864985, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/UlhbW.jpg?s=128&g=1", "display_name": "Ronan Lopes", "link": "https://stackoverflow.com/users/5864985/ronan-lopes"}, "edited": false, "score": 1, "creation_date": 1458746572, "post_id": 36182119, "comment_id": 59999622, "body": "Identation is not ok in the answer, but it&#39;s quite simple, so I think you&#39;ll get it"}, {"owner": {"reputation": 470, "user_id": 5847429, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aae8a096939117430c37280e7897f32c?s=128&d=identicon&r=PG", "display_name": "Elton Santos", "link": "https://stackoverflow.com/users/5847429/elton-santos"}, "edited": false, "score": 0, "creation_date": 1458758668, "post_id": 36182119, "comment_id": 60007820, "body": "A detail, I write in English, but in my system the code is in Portuguese.... so, activated is &quot;ativado&quot; . I can do it: def ativo_for_authentication? My table is Usuario and the column is ativo:boolean"}, {"owner": {"reputation": 2765, "user_id": 5864985, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/UlhbW.jpg?s=128&g=1", "display_name": "Ronan Lopes", "link": "https://stackoverflow.com/users/5864985/ronan-lopes"}, "reply_to_user": {"reputation": 470, "user_id": 5847429, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aae8a096939117430c37280e7897f32c?s=128&d=identicon&r=PG", "display_name": "Elton Santos", "link": "https://stackoverflow.com/users/5847429/elton-santos"}, "edited": false, "score": 1, "creation_date": 1458761294, "post_id": 36182119, "comment_id": 60009422, "body": "Amigo, falo portugu&#234;s tamb&#233;m haha. Fica da seguinte forma ent&#227;o (se o nome do atributo for &quot;ativo&quot;):  def active_for_authentication?   super &amp;&amp; ativo end"}, {"owner": {"reputation": 2765, "user_id": 5864985, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/UlhbW.jpg?s=128&g=1", "display_name": "Ronan Lopes", "link": "https://stackoverflow.com/users/5864985/ronan-lopes"}, "reply_to_user": {"reputation": 470, "user_id": 5847429, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aae8a096939117430c37280e7897f32c?s=128&d=identicon&r=PG", "display_name": "Elton Santos", "link": "https://stackoverflow.com/users/5847429/elton-santos"}, "edited": false, "score": 1, "creation_date": 1458761352, "post_id": 36182119, "comment_id": 60009456, "body": "O nome do m&#233;todo permanece o mesmo. Voc&#234; s&#243; altera o nome do atributo em &quot;super &amp;&amp; nome_do_atributo&quot;"}, {"owner": {"reputation": 470, "user_id": 5847429, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aae8a096939117430c37280e7897f32c?s=128&d=identicon&r=PG", "display_name": "Elton Santos", "link": "https://stackoverflow.com/users/5847429/elton-santos"}, "edited": false, "score": 0, "creation_date": 1458761595, "post_id": 36182119, "comment_id": 60009591, "body": "kkkkkkkkkkkkkkkkkkkkkkk, eu ri demais agora ueheuheeu. Eu me passando aqui no ingles. Confesso que ri muito! Tentei ver se vc tinha algum email pra te add nao achei. Sou eltin182 la do grupo rails-br, qualquer coisa se quiser me add no gtalk elton melo santos. Eu vou tentar agora o que vc disse, vlwww cara, vou olhar agora! :D"}], "tags": [], "owner": {"reputation": 2765, "user_id": 5864985, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/UlhbW.jpg?s=128&g=1", "display_name": "Ronan Lopes", "link": "https://stackoverflow.com/users/5864985/ronan-lopes"}, "is_accepted": true, "score": 1, "last_activity_date": 1458750515, "last_edit_date": 1458750515, "creation_date": 1458746485, "answer_id": 36182119, "question_id": 36181466, "link": "https://stackoverflow.com/questions/36181466/allow-just-that-user-actived-sign-in-devise/36182119#36182119", "title": "Allow just that user actived sign_in - Devise", "body": "<p>To prevent deactivated users from signing in, override <code>active_for_authentication?</code> on your <code>User</code> model:</p>\n\n<pre><code>def active_for_authentication?\n  super &amp;&amp; activated\nend\n</code></pre>\n"}], "owner": {"reputation": 470, "user_id": 5847429, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aae8a096939117430c37280e7897f32c?s=128&d=identicon&r=PG", "display_name": "Elton Santos", "link": "https://stackoverflow.com/users/5847429/elton-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 36182119, "answer_count": 1, "score": -1, "last_activity_date": 1458750515, "creation_date": 1458744709, "last_edit_date": 1458745592, "question_id": 36181466, "link": "https://stackoverflow.com/questions/36181466/allow-just-that-user-actived-sign-in-devise", "title": "Allow just that user actived sign_in - Devise", "body": "<p>I'm using <code>devise</code> for authentication and have a <code>activated:boolean</code> on <code>users</code> table.<br>\nHow can I only allow the activated users to sign in? And show the flash message:</p>\n\n<p><code>Login successful</code> for users activated\nand <code>Login denied</code> for users <code>non-activated</code> / <code>deactivated</code> users</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sorting", "date", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 6104792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153940046297778/picture?type=large", "display_name": "Bryan Spence", "link": "https://stackoverflow.com/users/6104792/bryan-spence"}, "edited": false, "score": 0, "creation_date": 1458744131, "post_id": 36181081, "comment_id": 59997608, "body": "This sorts them - but sorts them in batches - first i get sorted Courses then sorted NewsItems. I don&#39;t get the mixed content I&#39;m looking for currently"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "reply_to_user": {"reputation": 131, "user_id": 6104792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153940046297778/picture?type=large", "display_name": "Bryan Spence", "link": "https://stackoverflow.com/users/6104792/bryan-spence"}, "edited": false, "score": 0, "creation_date": 1458744211, "post_id": 36181081, "comment_id": 59997672, "body": "What do you mean by that? Can you give an example of the output?"}, {"owner": {"reputation": 131, "user_id": 6104792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153940046297778/picture?type=large", "display_name": "Bryan Spence", "link": "https://stackoverflow.com/users/6104792/bryan-spence"}, "edited": false, "score": 0, "creation_date": 1458744357, "post_id": 36181081, "comment_id": 59997811, "body": "So I get Course 1 - Course 2 - Course 3 - NewsItem 1 - NewsItem 2 - NewsItem 3.     I am expecting However, Course 1 - NewsItem1, Course 2, NewsItem 2, Course 3, NewsItem 3"}, {"owner": {"reputation": 131, "user_id": 6104792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153940046297778/picture?type=large", "display_name": "Bryan Spence", "link": "https://stackoverflow.com/users/6104792/bryan-spence"}, "edited": false, "score": 0, "creation_date": 1458744896, "post_id": 36181081, "comment_id": 59998254, "body": "seems to be sorting by asc. is there an easy way to desc this?"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "reply_to_user": {"reputation": 131, "user_id": 6104792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153940046297778/picture?type=large", "display_name": "Bryan Spence", "link": "https://stackoverflow.com/users/6104792/bryan-spence"}, "edited": false, "score": 0, "creation_date": 1458744978, "post_id": 36181081, "comment_id": 59998327, "body": "Use a <code>.reverse</code> after the <code>sort_by</code> call and you&#39;re good to go ;-)"}], "tags": [], "owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "is_accepted": true, "score": 3, "last_activity_date": 1458745678, "last_edit_date": 1458745678, "creation_date": 1458743701, "answer_id": 36181081, "question_id": 36180893, "link": "https://stackoverflow.com/questions/36180893/sort-2-activerecords-by-date-when-date-fields-are-a-different-name-in-rails/36181081#36181081", "title": "Sort 2 Activerecords by date - when date fields are a different name in RAILS", "body": "<p>You can use the Ruby method <code>sort_by</code>:</p>\n\n<pre><code>@spotlight = @spotlight.sort_by do |record|\n  if record.respond_to?(:release_date)\n    record.release_date\n  else\n    record.publish_at\n  end\nend\n# sort by date ASC, you can use reverse! to change to order to DESC\n# @sportlight.reverse!\n</code></pre>\n\n<p>This code implies that every <code>@spotlight</code> records will always return a date from calling either <code>release_date</code> or <code>publish_at</code> (Ruby can't compare nil with Date). Also, this could be expensive in performances if you have a lot of records in <code>@spotlight</code> (like a hundred of records or more).</p>\n"}], "owner": {"reputation": 131, "user_id": 6104792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153940046297778/picture?type=large", "display_name": "Bryan Spence", "link": "https://stackoverflow.com/users/6104792/bryan-spence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 36181081, "answer_count": 1, "score": 2, "last_activity_date": 1458745678, "creation_date": 1458743194, "last_edit_date": 1458743544, "question_id": 36180893, "link": "https://stackoverflow.com/questions/36180893/sort-2-activerecords-by-date-when-date-fields-are-a-different-name-in-rails", "title": "Sort 2 Activerecords by date - when date fields are a different name in RAILS", "body": "<p>this is my first post here (first time I couldn't find an answer!)</p>\n\n<p>I have 2 Records</p>\n\n<pre><code>Course.spotlight\nNewsItem.spotlight\n</code></pre>\n\n<p>Both return 5 records. I have combined them with: </p>\n\n<pre><code>@spotlight = Course.spotlight + NewsItem.spotlight\n</code></pre>\n\n<p><code>Course.spotlight</code> is sorted by <code>release_date</code> and \n<code>NewsItem.spotlight</code> is sorted by <code>publish_at</code> and both are date fields.</p>\n\n<p>My question is how do i (now that they are combined) sort them by date when the date fields are different names?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "unit-testing", "debugging", "minitest"], "comments": [{"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1458747343, "post_id": 36179621, "comment_id": 60000213, "body": "Just to check, is the error 2 for 1 or 1 for 2 ? Are you doing any mocking / stubbing of the records loaded from the db?"}], "answers": [{"comments": [{"owner": {"reputation": 1211, "user_id": 5056202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Wq9rr.jpg?s=128&g=1", "display_name": "CheeseFry", "link": "https://stackoverflow.com/users/5056202/cheesefry"}, "edited": false, "score": 0, "creation_date": 1458740414, "post_id": 36179640, "comment_id": 59994581, "body": "I&#39;m a bit discombobulated. Why is it asking me for two arguments when I should be able to only pass it one. Is it an issue with my test?"}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1458763020, "post_id": 36179640, "comment_id": 60010320, "body": "Confusingly <code>@trip</code> isn&#39;t an instance of Trip - it&#39;s a relation and ActiveRecord::Relation.update does take 2 parameters."}, {"owner": {"reputation": 1211, "user_id": 5056202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Wq9rr.jpg?s=128&g=1", "display_name": "CheeseFry", "link": "https://stackoverflow.com/users/5056202/cheesefry"}, "edited": false, "score": 0, "creation_date": 1458769741, "post_id": 36179640, "comment_id": 60013824, "body": "@RSB Thanks for the clear example. I think getting the code looking as standard as possible will really help whomever has to maintain this in the future."}], "tags": [], "owner": {"reputation": 16396, "user_id": 2564298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BhG1x.jpg?s=128&g=1", "display_name": "Rajdeep Singh", "link": "https://stackoverflow.com/users/2564298/rajdeep-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1458739952, "creation_date": 1458739952, "answer_id": 36179640, "question_id": 36179621, "link": "https://stackoverflow.com/questions/36179621/wrong-number-of-arguments-1-for-2-for-update-method/36179640#36179640", "title": "Wrong number of arguments (1 for 2) for update method", "body": "<p>if you are calling <code>set_trip</code> in <code>before_action</code> then <code>update()</code> method should look like this </p>\n\n<pre><code>def update\n  if @trip.update(trip_params)\n    head :no_content\n  else\n    render json: [@invoice, @trip].errors, status: :unprocessable_entity\n  end\nend\n</code></pre>\n\n<p><code>update()</code> is an instance method that can be called using object, you only need to pass <code>trip_params</code> into it, Hope that helps!</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 1220445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68ae138cf8ec0144897a10bc77c8a71f?s=128&d=identicon&r=PG", "display_name": "Max N", "link": "https://stackoverflow.com/users/1220445/max-n"}, "is_accepted": false, "score": 1, "last_activity_date": 1458746311, "creation_date": 1458746311, "answer_id": 36182051, "question_id": 36179621, "link": "https://stackoverflow.com/questions/36179621/wrong-number-of-arguments-1-for-2-for-update-method/36182051#36182051", "title": "Wrong number of arguments (1 for 2) for update method", "body": "<p>You can get this error message when the method is calling another which is being passed the wrong number of arguments. </p>\n"}, {"tags": [], "owner": {"reputation": 384, "user_id": 2675681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b84c69f94a51e91af17b5d0ddef44e6?s=128&d=identicon&r=PG&f=1", "display_name": "mgidea", "link": "https://stackoverflow.com/users/2675681/mgidea"}, "is_accepted": false, "score": 1, "last_activity_date": 1458747207, "creation_date": 1458747207, "answer_id": 36182403, "question_id": 36179621, "link": "https://stackoverflow.com/questions/36179621/wrong-number-of-arguments-1-for-2-for-update-method/36182403#36182403", "title": "Wrong number of arguments (1 for 2) for update method", "body": "<p>update takes a hash as its one and only argument, but you are are passing two arguments (@trip.trip_id, trip_params) in the update method.  This is why you are getting the \"Wrong number of arguments (1 for 2) for update method\" error message.  as @RSB said, just pass in the trip_params and the Trip instance will be updated.</p>\n"}, {"tags": [], "owner": {"reputation": 1211, "user_id": 5056202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Wq9rr.jpg?s=128&g=1", "display_name": "CheeseFry", "link": "https://stackoverflow.com/users/5056202/cheesefry"}, "is_accepted": false, "score": 0, "last_activity_date": 1458763786, "creation_date": 1458763786, "answer_id": 36187795, "question_id": 36179621, "link": "https://stackoverflow.com/questions/36179621/wrong-number-of-arguments-1-for-2-for-update-method/36187795#36187795", "title": "Wrong number of arguments (1 for 2) for update method", "body": "<p>RSB was right on the money. It turned out in this case that my issue was at the database level. The table didn't have a primary key so I was using \n<code>@trip = Trip.where</code> in the private method and this was causing it to come back with an array of possible rows rather than the specific one. I changed things at the database level to have a primary key and updated the private method. Voil\u00e0 RSB's code worked!</p>\n"}], "owner": {"reputation": 1211, "user_id": 5056202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Wq9rr.jpg?s=128&g=1", "display_name": "CheeseFry", "link": "https://stackoverflow.com/users/5056202/cheesefry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 1, "accepted_answer_id": 36179640, "answer_count": 4, "score": 1, "last_activity_date": 1458763786, "creation_date": 1458739904, "last_edit_date": 1458740124, "question_id": 36179621, "link": "https://stackoverflow.com/questions/36179621/wrong-number-of-arguments-1-for-2-for-update-method", "title": "Wrong number of arguments (1 for 2) for update method", "body": "<p>I'm having an issue tracking down why my update method isn't getting the needed arguments. I have a similar test for show and the payloads are working. In this scenario the route in question is invoice/invoice_id/trip/id. If you can help me spot the error and give any suggestions on how to troubleshoot this type of problem in the future that'd be great. </p>\n\n<p>This is the update method.</p>\n\n<pre><code>def update\n  if @trip.update(@trip.trip_id, trip_params)\n    head :no_content\n  else\n    render json: [@invoice, @trip].errors, status: :unprocessable_entity\n  end\nend\n</code></pre>\n\n<p>With the following private methods.</p>\n\n<pre><code>private\n\n  def set_trip\n    @trip = Trip.where(:invoice_id =&gt; params[:invoice_id], :trip_id =&gt; params[:id] )\n  end\n\n  def trip_params\n    params.require(:trip).permit(:trip_id, :depart_airport, :arrive_airport, :passenger_first_name, :passenger_last_name, :passenger_count, :departure_date, :merchant_id)\n  end\n\n  def load_invoice\n    @invoice = Invoice.find(params[:invoice_id])\n  end\n\nend\n</code></pre>\n\n<p>My failing test looks like this.</p>\n\n<pre><code>test \"should update trip\" do\n  put :update, invoice_id: @invoice.invoice_id, id: @trip,\n   trip: {arrive_airport: @trip.arrive_airport,\n   depart_airport: @trip.depart_airport,\n   departure_date: @trip.departure_date,\n   passenger_count: @trip.passenger_count,\n   passenger_first_name: @trip.passenger_first_name, \n   passenger_last_name: @trip.passenger_last_name}\n assert_response 204\nend\n</code></pre>\n"}, {"tags": ["ruby", "eruby"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458749543, "post_id": 36179611, "comment_id": 60001918, "body": "What is the value of <code>priceRanges</code>?"}, {"owner": {"reputation": 329, "user_id": 2720867, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/926d3675f482650276eee7f5fca9a15f?s=128&d=identicon&r=PG&f=1", "display_name": "EntropicFox", "link": "https://stackoverflow.com/users/2720867/entropicfox"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458818648, "post_id": 36179611, "comment_id": 60031305, "body": "I don&#39;t know, the API documentation says its a list not a string. But I&#39;m not sure what to do, I searched convert list to string ruby and found nothing. What do you think?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1458828381, "post_id": 36179611, "comment_id": 60037558, "body": "Try doing something like <code>&lt;pre&gt;&lt;%= result.priceRanges.pretty_inspect %&gt;&lt;&#47;pre&gt;</code>. It should print a more readable representation of the object. Then come back and edit your question to include what&#39;s printed."}, {"owner": {"reputation": 329, "user_id": 2720867, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/926d3675f482650276eee7f5fca9a15f?s=128&d=identicon&r=PG&f=1", "display_name": "EntropicFox", "link": "https://stackoverflow.com/users/2720867/entropicfox"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458841190, "post_id": 36179611, "comment_id": 60046424, "body": "cool I get something like [{&quot;currencyUnits&quot;=&gt;&quot;GBP&quot;,   &quot;from&quot;=&gt;130.0,   &quot;periodType&quot;=&gt;&quot;NIGHTLY-WEEKDAY&quot;,   &quot;to&quot;=&gt;130.0},  {&quot;currencyUnits&quot;=&gt;&quot;GBP&quot;, &quot;from&quot;=&gt;800.0, &quot;periodType&quot;=&gt;&quot;WEEKLY&quot;, &quot;to&quot;=&gt;800.0},  {&quot;currencyUnits&quot;=&gt;&quot;GBP&quot;,   &quot;from&quot;=&gt;2499.9866,   &quot;periodType&quot;=&gt;&quot;MONTHLY&quot;,   &quot;to&quot;=&gt;2499.9866}] How would I select the first (from) element"}], "owner": {"reputation": 329, "user_id": 2720867, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/926d3675f482650276eee7f5fca9a15f?s=128&d=identicon&r=PG&f=1", "display_name": "EntropicFox", "link": "https://stackoverflow.com/users/2720867/entropicfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458827367, "creation_date": 1458739881, "last_edit_date": 1458827367, "question_id": 36179611, "link": "https://stackoverflow.com/questions/36179611/eruby-api-call-array-displays-instead-of-number", "title": "Eruby API call array displays [#,#] instead of number", "body": "<p>I'm trying to use the homeaway API to display some data on an html page.</p>\n\n<p>my search_results file looks like this\npriceRanges=[#, #, #] as opposed to 3 prices that I want. </p>\n\n<p>I've looked online in terms of convert to integer, but that does nothing. I'm just wondering if this number has been withheld from the server/there is something wrong with my stack/code, as I honestly have searched for a couple of hours and found nothing.</p>\n\n<p>This is my code</p>\n\n<p>search_results</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Search results for &lt;%= \"#{session[:me].first_name} #{session[:me].last_name}\" %&gt;&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h3&gt;Search results for &lt;%= \"#{session[:me].first_name} #  {session[:me].last_name}\" %&gt;&lt;/h3&gt;\n    &lt;br/&gt;\n\n    &lt;%   end %&gt;&lt;/p&gt;\n    &lt;p&gt;Here are your search results:\n      &lt;ul&gt;\n        &lt;% @search_results.each do |result| %&gt;\n          &lt;li&gt;\n            &lt;% if result.has?(:thumbnail) %&gt;\n              &lt;img src=\"&lt;%= result.thumbnail.secureUri %&gt;\"/&gt;\n            &lt;% end %&gt;\n            &lt;p&gt;&lt;%= result %&gt;&lt;/p&gt;\n            &lt;p&gt;Price Range: &lt;% a = result.priceRanges.to_a\n              b = a.at(1).to_i\n            %&gt;&lt;/p&gt;\n            &lt;p&gt;&lt;%= \"#{b}\" %&gt;\n            &lt;p&gt;Bedrooms: &lt;%= result.bedrooms %&gt;&lt;/p&gt;\n            &lt;p&gt;Bathrooms: &lt;%= result.bathrooms %&gt;&lt;/p&gt;\n            &lt;p&gt;Amount: &lt;% puts result.amount %&gt; &lt;% result.currency %&gt;&lt;/p&gt;\n            &lt;a href=\"/listing/&lt;%= result.listingId %&gt;\"&gt;&lt;%= result.headline %&gt;&lt;/a&gt;\n            &lt;a href=\"&lt;%=result.listingUrl %&gt;\"&gt;View on Homeaway&lt;/a&gt;\n            &lt;p&gt;&lt;%= result.Latitude %&gt;&lt;/p&gt;\n            &lt;p&gt;&lt;%= result.displayLongitude %&gt;&lt;/p&gt;    &lt;/li&gt;\n        &lt;% end %&gt;\n      &lt;/ul&gt;\n\n      &lt;br/&gt;&lt;br/&gt;\n      &lt;a href=\"/\"&gt;go back&lt;/a&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n\n<p>The other file that is on the back end </p>\n\n<pre><code>require 'homeaway_api'\nrequire 'sinatra/base'\nrequire 'webrick'\nrequire 'webrick/https'\nrequire 'openssl'\nrequire 'pp'\n\nclass HomeAwayApiTutorial &lt; Sinatra::Base\n  def create_client\n    client_id = 'personal id'\n    client_secret = 'my secret'\n    HomeAway::API::Client.new :client_id =&gt; client_id, :client_secret =&gt;     client_secret\n  end\n\n  enable :sessions\n\n  get '/' do\n    code = params[:code]\n\n    if session[:client].nil? &amp;&amp; (code.nil? || code.empty?)\n      client = create_client\n      session[:client] = client\n\n      redirect to(client.auth_url)\n    else\n      client = session[:client]\n      client.oauth_code = code if code\n      session[:me] = client.me\n      @me = session[:me]\n\n      erb :index\n    end\n  end\n\n  get '/search' do\n    search_query = params[:q]\n    redirect to ('/') if session[:client].nil? || search_query.nil?\n\n    client = session[:client]\n    @search_results = client.search(q: search_query)\n\n    erb :search_results\n  end\n\n  get '/listing/:id' do |id|\n    redirect to ('/') if session[:client].nil? || id.nil? || id.empty?\n\n    client = session[:client]\n    @listing = client.listing(id, %w(AVAILABILITY DETAILS LOCATION PHOTOS RATES REVIEWS))\n\n    erb :listing_details\n  end\n\n  get '/quote' do\n    search_query = params[:q]\n    redirect to ('/') if session[:client].nil? || search_query.nil?\n\n    client = session[:client]\n    listing_id = params[:listing_id]\n    adults_count = params[:adults_count]\n    start_date = params[:start_date]\n    end_date = params[:end_date]\n    listing = client.listing(listing_id)\n    unit_id = listing.units.first.unitNumber\n\n    erb :quote_results\n  end\n\n  get '/bookIt' do\n    redirect to ('/') if session[:client].nil?\n\n    client = session[:client]\n    listing_id = params[:listing_id]\n    priceRanges = params[:priceRanges]\n    displayLatitude = params[:displayLatitude]\n    displayLongitude = params[:displayLongitude]\n    adults_count = params[:adults_count]\n    start_date = params[:start_date]\n    end_date = params[:end_date]\n    listing = client.listing(listing_id)\n    unit_id = listing.units.first.unitNumber\n    book_stay = client.book_stay(listing_id, unit_id, adults_count.to_i, start_date, end_date)\n\n    halt 404, \"property not available to book\" unless book_stay.booking_url\n    redirect to(book_stay.booking_url)\n  end\n\n  get '/writeReview/:listing_id' do |listing_id|\n    redirect to ('/') if session[:client].nil?\n\n    client = session[:client]\n    @listing = client.listing(listing_id, 'DETAILS')\n\n    erb :write_review\n  end\n\n  post '/submitReview' do\n    redirect to ('/') if session[:client].nil?\n\n    client = session[:client]\n    listing_id = params[:listing_id]\n    arrival_date = params[:arrival_date]\n    rating = params[:rating]\n    headline = params[:headline]\n    body = params[:body]\n    listing = client.listing(listing_id)\n    unit_id = listing.units.first.unitNumber\n\n    client.submit_review(headline, body, 'en', arrival_date, rating, listing_id, unit_id)\n\n    redirect to (\"/listing/#{listing_id}\")\n  end\nend\n\nwebrick_options = {\n :Port =&gt; 4567,\n :BindAddress =&gt; '127.0.0.1',\n :Logger =&gt; WEBrick::Log::new($stderr, WEBrick::Log::DEBUG),\n :DocumentRoot =&gt; \"/ruby/htdocs\",\n :SSLEnable =&gt; true,\n :SSLVerifyClient =&gt; OpenSSL::SSL::VERIFY_NONE,\n :SSLCertificate =&gt; OpenSSL::X509::Certificate.new(File.open('localhost.crt').read),\n :SSLPrivateKey =&gt; OpenSSL::PKey::RSA.new(File.open('localhost.key').read),\n :SSLCertName =&gt; [[\"CN\", WEBrick::Utils::getservername]],\n :app =&gt; HomeAwayApiTutorial\n}\n\nRack::Server.start webrick_options\n</code></pre>\n\n<p>The first handler we just added will service req</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 4022, "user_id": 1741325, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/amaxC.png?s=128&g=1", "display_name": "DaniG2k", "link": "https://stackoverflow.com/users/1741325/danig2k"}, "edited": false, "score": 2, "creation_date": 1458739790, "post_id": 36179529, "comment_id": 59994141, "body": "your resources are <code>:settings</code> so <code>&#47;settings.json&#47;18</code> won&#39;t work. Try <code>&#47;settings&#47;18.json</code>"}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "reply_to_user": {"reputation": 4022, "user_id": 1741325, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/amaxC.png?s=128&g=1", "display_name": "DaniG2k", "link": "https://stackoverflow.com/users/1741325/danig2k"}, "edited": false, "score": 0, "creation_date": 1458742001, "post_id": 36179529, "comment_id": 59995850, "body": "You are correct, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "edited": false, "score": 1, "creation_date": 1458742011, "post_id": 36179562, "comment_id": 59995856, "body": "Thanks for your help"}], "tags": [], "owner": {"reputation": 16396, "user_id": 2564298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BhG1x.jpg?s=128&g=1", "display_name": "Rajdeep Singh", "link": "https://stackoverflow.com/users/2564298/rajdeep-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1458739762, "creation_date": 1458739762, "answer_id": 36179562, "question_id": 36179529, "link": "https://stackoverflow.com/questions/36179529/ruby-on-rails-api-unable-to-delete/36179562#36179562", "title": "Ruby on rails api unable to delete", "body": "<p>There's something wrong with the path, it should be <code>\"/settings/18.json\"</code> instead of <code>\"/settings.json/18\"</code>. </p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 36179562, "answer_count": 1, "score": 0, "last_activity_date": 1458740249, "creation_date": 1458739689, "last_edit_date": 1458740249, "question_id": 36179529, "link": "https://stackoverflow.com/questions/36179529/ruby-on-rails-api-unable-to-delete", "title": "Ruby on rails api unable to delete", "body": "<p>I have used scaffold to generate simple application, I'm able to perform GET and POST via chrome extension tool called \"PostMan\", However I'm unable to perform DELETE action via this tool, I'm getting: </p>\n\n<pre><code>No route matches [DELETE] \"/settings.json/18\"\n</code></pre>\n\n<p>I have checked routes.rb </p>\n\n<pre><code>Rails.application.routes.draw do\n  resources :settings\n</code></pre>\n\n<p>And deleting record via default scaffold works, only when I'm performing an API call. </p>\n\n<p>Console log displays the following: </p>\n\n<pre><code> ActionController::RoutingError (No route matches [DELETE] \"/settings.json/18\"):\n  actionpack (4.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'\n  web-console (2.3.0) lib/web_console/middleware.rb:20:in `block in call'\n  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'\n</code></pre>\n\n<p>I'm not sure what else to check, any input is hightly appreicate it. </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "edited": false, "score": 0, "creation_date": 1458739633, "post_id": 36179358, "comment_id": 59994032, "body": "You could use the html5 player: <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Using_HTML5_audio_and_video\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/Guide/HTML/&hellip;</a>"}, {"owner": {"reputation": 1143, "user_id": 1563837, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0784ce3665c294c4547f81a212014d4b?s=128&d=identicon&r=PG", "display_name": "Josh Bodah", "link": "https://stackoverflow.com/users/1563837/josh-bodah"}, "edited": false, "score": 1, "creation_date": 1458739715, "post_id": 36179358, "comment_id": 59994086, "body": "add <code>byebug</code> to your Gemfile, save the shell response to a variable <code>res = `mplayer myfile.mp3`</code> and put a <code>byebug</code> after that line. Then run your server again and click the link. You should hit  a breakpoint and be able to debug what&#39;s going on with your shell command"}, {"owner": {"reputation": 635, "user_id": 2487072, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qsxD3.jpg?s=128&g=1", "display_name": "Taha Rushain", "link": "https://stackoverflow.com/users/2487072/taha-rushain"}, "reply_to_user": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "edited": false, "score": 0, "creation_date": 1458739785, "post_id": 36179358, "comment_id": 59994134, "body": "@toddmetheny I don&#39;t want to play the audio files on client side, I want it to be played on the Linux machine in which Rails server is hosted."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "edited": false, "score": 0, "creation_date": 1458739878, "post_id": 36179358, "comment_id": 59994212, "body": "You can still host the actual file on the server side...you want the end user to hear it, correct?"}, {"owner": {"reputation": 635, "user_id": 2487072, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qsxD3.jpg?s=128&g=1", "display_name": "Taha Rushain", "link": "https://stackoverflow.com/users/2487072/taha-rushain"}, "edited": false, "score": 0, "creation_date": 1458740180, "post_id": 36179358, "comment_id": 59994442, "body": "Thank you guys, I figured it out. I was missing a package and the path to the sound file was incorrect."}], "answers": [{"tags": [], "owner": {"reputation": 635, "user_id": 2487072, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qsxD3.jpg?s=128&g=1", "display_name": "Taha Rushain", "link": "https://stackoverflow.com/users/2487072/taha-rushain"}, "is_accepted": false, "score": 0, "last_activity_date": 1458740122, "creation_date": 1458740122, "answer_id": 36179715, "question_id": 36179358, "link": "https://stackoverflow.com/questions/36179358/playing-sound-on-rails-server-on-request-of-client/36179715#36179715", "title": "Playing sound on Rails server on request of Client", "body": "<p>I was missing mplayer package in my linux host and the path to my sound file was incorrect.</p>\n\n<pre><code>sudo apt-get install mplayer\n</code></pre>\n\n<p>And I placed the file in the controller's directory thinking the files would be rooted from there, actually the file was being searched at the root directory of the rails app.</p>\n"}], "owner": {"reputation": 635, "user_id": 2487072, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qsxD3.jpg?s=128&g=1", "display_name": "Taha Rushain", "link": "https://stackoverflow.com/users/2487072/taha-rushain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458740277, "creation_date": 1458739266, "last_edit_date": 1458740277, "question_id": 36179358, "link": "https://stackoverflow.com/questions/36179358/playing-sound-on-rails-server-on-request-of-client", "title": "Playing sound on Rails server on request of Client", "body": "<p>I want to play music files on server machine which is connected to a stereo system but on the request of a client side.</p>\n\n<p>The client opens the web app through the URL and click play and the sound play on the server machine. (I don't want to stream)</p>\n\n<p>At the moment my sound file is located in the same directory as the Controller but when I press the play button from a browser nothing happen.</p>\n\n<p>This might be very straightforward but as a Beginner I am finding it difficult to execute system command on the host.</p>\n\n<p>So far I have this client interface on <strong>localhost:3000</strong>\n<a href=\"https://i.stack.imgur.com/NwXp1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NwXp1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have a controller defined which handles the request from play button.</p>\n\n<p>class WelcomeController &lt; ApplicationController\n    def index<br>\n    end</p>\n\n<pre><code>def play\n  `mplayer myfile.mp3`\n  head :ok\nend\n</code></pre>\n\n<p>end</p>\n\n<p>Routes.rb</p>\n\n<pre><code>Rails.application.routes.draw do\n  root 'welcome#index'\n  get \"/play\" =&gt; \"welcome#play\"\nend\n</code></pre>\n\n<p>Output of Rake Routes</p>\n\n<pre><code>Prefix Verb URI Pattern     Controller#Action\nroot GET  /               welcome#index\nplay GET  /play(.:format) welcome#play\n</code></pre>\n\n<p>Index.html.erb</p>\n\n<pre><code>&lt;h1&gt;Play it!&lt;/h1&gt;\n&lt;%= link_to \"Play\", play_path, remote: true %&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "routes"], "comments": [{"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "edited": false, "score": 1, "creation_date": 1458738038, "post_id": 36178891, "comment_id": 59992896, "body": "you&#39;re just posting to the wrong route. anything with a /new at the end is typically a <code>get</code>. The create route isn&#39;t going to end in <code>new</code>"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "edited": false, "score": 0, "creation_date": 1458739151, "post_id": 36178948, "comment_id": 59993694, "body": "When I do that I get the error: unintialized UsersControllers. Is that supposed to happen? Considering the fact that I am using devise."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "reply_to_user": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "edited": false, "score": 0, "creation_date": 1458739504, "post_id": 36178948, "comment_id": 59993933, "body": "I believe this should be hitting the contacts controller: <code>POST   &#47;users&#47;:user_id&#47;contacts(.:format)         contacts#create</code> Are you sure you need to nest the contacts resources inside user? I don&#39;t know the logic of your app. It&#39;s possible to make contacts to belong to the creating user without nesting the route and I think it&#39;s cleaner to leave the resources separate."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "reply_to_user": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "edited": false, "score": 0, "creation_date": 1458739530, "post_id": 36178948, "comment_id": 59993953, "body": "Could you post your <code>routes.rb</code>?"}, {"owner": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "edited": false, "score": 0, "creation_date": 1458740420, "post_id": 36178948, "comment_id": 59994587, "body": "The logic of the app is that a user has many contacts and contacts belongs to a user. Its just a simple web app to testing download to pdf functionality. The routes.rb is above."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "reply_to_user": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "edited": false, "score": 0, "creation_date": 1458740579, "post_id": 36178948, "comment_id": 59994697, "body": "Yeah--I wouldn&#39;t nest the contact routes and just set the user_id to the current_user &#39;s id before creating a contact. Then on the contact show page just define contact instance var as current_user.contacts."}, {"owner": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "edited": false, "score": 0, "creation_date": 1458740986, "post_id": 36178948, "comment_id": 59995005, "body": "Okay. I&#39;ll do that and get back to you."}, {"owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "reply_to_user": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "edited": false, "score": 0, "creation_date": 1458741229, "post_id": 36178948, "comment_id": 59995201, "body": "that should then make the create path contacts_path and the user controller is irrelevant for this."}], "tags": [], "owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "is_accepted": true, "score": 3, "last_activity_date": 1458738116, "creation_date": 1458738116, "answer_id": 36178948, "question_id": 36178891, "link": "https://stackoverflow.com/questions/36178891/no-route-matches-post-users-1-contacts-new/36178948#36178948", "title": "No route matches [POST] &quot;/users/1/contacts/new&quot;", "body": "<p>This:</p>\n\n<pre><code> &lt;%= simple_form_for @contact, :url =&gt; new_user_contact_path do |f| %&gt;\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code> &lt;%= simple_form_for @contact, :url =&gt; user_contacts_path do |f| %&gt;\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 2119604, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b0d0ce2a0e59387acbf0848f62aa52bf?s=128&d=identicon&r=PG", "display_name": "kinsomicrote", "link": "https://stackoverflow.com/users/2119604/kinsomicrote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1070, "favorite_count": 0, "accepted_answer_id": 36178948, "answer_count": 1, "score": 0, "last_activity_date": 1458738116, "creation_date": 1458737954, "question_id": 36178891, "link": "https://stackoverflow.com/questions/36178891/no-route-matches-post-users-1-contacts-new", "title": "No route matches [POST] &quot;/users/1/contacts/new&quot;", "body": "<p>app/views/contacts/new.html.erb</p>\n\n<pre><code>&lt;h2&gt;Add New Contact&lt;/h2&gt;\n\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col-md-8\"&gt;\n      &lt;%= simple_form_for @contact, :url =&gt; new_user_contact_path do |f| %&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;%= f.label :first_name %&gt;\n          &lt;%= f.text_field :first_name, class: \"form-control\" %&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;%= f.label :last_name %&gt;\n          &lt;%= f.text_field :last_name, class: \"form-control\" %&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;%= f.input :date_of_birth, as: :date,  discard_year:true, order:[:day, :month] %&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;%= f.label :sex %&gt;\n          &lt;%= f.select :sex, [:male, :female], class: \"form-control\" %&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;%= f.label :phone_number %&gt;\n          &lt;%= f.text_field :phone_number, class: \"form-control\" %&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;%= f.label :address %&gt;\n          &lt;%= f.text_area :address, class: \"form-control\" %&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;%= f.button :submit, \"Submit\", class: \"btn btn-success btn-md btn-block\" %&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;% end %&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;%= link_to \"Back\", user_contacts_path %&gt;\n</code></pre>\n\n<p>My routes when I run <code>rake routes</code></p>\n\n<pre><code> Prefix Verb   URI Pattern                                 Controller#Action\n            new_user_session GET    /users/sign_in(.:format)                    devise/sessions#new\n                user_session POST   /users/sign_in(.:format)                    devise/sessions#create\n        destroy_user_session DELETE /users/sign_out(.:format)                   devise/sessions#destroy\n               user_password POST   /users/password(.:format)                   devise/passwords#create\n           new_user_password GET    /users/password/new(.:format)               devise/passwords#new\n          edit_user_password GET    /users/password/edit(.:format)              devise/passwords#edit\n                             PATCH  /users/password(.:format)                   devise/passwords#update\n                             PUT    /users/password(.:format)                   devise/passwords#update\n    cancel_user_registration GET    /users/cancel(.:format)                     devise/registrations#cancel\n           user_registration POST   /users(.:format)                            devise/registrations#create\n       new_user_registration GET    /users/sign_up(.:format)                    devise/registrations#new\n      edit_user_registration GET    /users/edit(.:format)                       devise/registrations#edit\n                             PATCH  /users(.:format)                            devise/registrations#update\n                             PUT    /users(.:format)                            devise/registrations#update\n                             DELETE /users(.:format)                            devise/registrations#destroy\n               user_contacts GET    /users/:user_id/contacts(.:format)          contacts#index\n                             POST   /users/:user_id/contacts(.:format)          contacts#create\n            new_user_contact GET    /users/:user_id/contacts/new(.:format)      contacts#new\n           edit_user_contact GET    /users/:user_id/contacts/:id/edit(.:format) contacts#edit\n                user_contact GET    /users/:user_id/contacts/:id(.:format)      contacts#show\n                             PATCH  /users/:user_id/contacts/:id(.:format)      contacts#update\n                             PUT    /users/:user_id/contacts/:id(.:format)      contacts#update\n                             DELETE /users/:user_id/contacts/:id(.:format)      contacts#destroy\n                       users GET    /users(.:format)                            users#index\n                             POST   /users(.:format)                            users#create\n                    new_user GET    /users/new(.:format)                        users#new\n                   edit_user GET    /users/:id/edit(.:format)                   users#edit\n                        user GET    /users/:id(.:format)                        users#show\n                             PATCH  /users/:id(.:format)                        users#update\n                             PUT    /users/:id(.:format)                        users#update\n                             DELETE /users/:id(.:format)                        users#destroy\n                       index GET    /index(.:format)                            redirect(301, /)\n                        root GET    /                                           high_voltage/pages#show {:id=&gt;\"index\"}\n                        page GET    /pages/*id                                  high_voltage/pages#show\n</code></pre>\n\n<p>config/routes.rb</p>\n\n<pre><code>Rails.application.routes.draw do\n      devise_for :users\n\n      resources :users do\n        resources :contacts\n      end\n    end\n</code></pre>\n\n<p>My <code>new</code> and <code>create</code> action in <code>ContactsController</code></p>\n\n<pre><code>     def new\n        @contact = Contact.new\n      end\n\n      def create\n        @contact = Contact.new(contact_params)\n        @contact.user = current_user\n        if @contact.save\n          flash[:success] = \"Contact was successfully created!\"\n          redirect_to @contact.user\n        else\n          render :new\n        end\n      end\n</code></pre>\n\n<p>This is the issue:\nI get the error: <code>No route matches [POST] \"/users/1/contacts/new\"</code> when I submit the form at <a href=\"http://localhost:3000/users/1/contacts/new\" rel=\"nofollow\">http://localhost:3000/users/1/contacts/new</a>. What could be the issue?</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 8160, "user_id": 163640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d63f02794544d271573750a83842cf59?s=128&d=identicon&r=PG", "display_name": "eugen", "link": "https://stackoverflow.com/users/163640/eugen"}, "is_accepted": true, "score": 3, "last_activity_date": 1458738045, "creation_date": 1458738045, "answer_id": 36178924, "question_id": 36178674, "link": "https://stackoverflow.com/questions/36178674/activerecordmigration5-0-is-legal-ruby-grammar/36178924#36178924", "title": "ActiveRecord::Migration[5.0] is legal ruby grammar?", "body": "<p>It's perfectly legal - it calls the class method <code>[]</code> for the <code>ActiveRecord::Migration</code> class. Have a look at <a href=\"https://github.com/rails/rails/blob/master/activerecord/lib/active_record/migration.rb#L526\" rel=\"nofollow\">the implementation</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 8675, "user_id": 252047, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6d2877a46642bde6a1b65d96409122e?s=128&d=identicon&r=PG", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/252047/benjamin"}, "edited": false, "score": 0, "creation_date": 1458739794, "post_id": 36178937, "comment_id": 59994149, "body": "Chose @eugen&#39;s answer because he is little bit faster. But thank you. :)"}], "tags": [], "owner": {"reputation": 325, "user_id": 2798377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fc9cee7337bd6dee231ece7da35366?s=128&d=identicon&r=PG&f=1", "display_name": "JanC", "link": "https://stackoverflow.com/users/2798377/janc"}, "is_accepted": false, "score": 2, "last_activity_date": 1458738082, "creation_date": 1458738082, "answer_id": 36178937, "question_id": 36178674, "link": "https://stackoverflow.com/questions/36178674/activerecordmigration5-0-is-legal-ruby-grammar/36178937#36178937", "title": "ActiveRecord::Migration[5.0] is legal ruby grammar?", "body": "<p>[] is a class method of the <a href=\"https://github.com/rails/rails/blob/v5.0.0.beta2/activerecord/lib/active_record/migration.rb#L526\" rel=\"nofollow\">Migration class</a></p>\n\n<p><strong>Edit</strong> \n@eugen was a bit quicker than me :-)</p>\n"}], "owner": {"reputation": 8675, "user_id": 252047, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6d2877a46642bde6a1b65d96409122e?s=128&d=identicon&r=PG", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/252047/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1566103248, "accepted_answer_id": 36178924, "answer_count": 2, "score": 0, "last_activity_date": 1458738082, "creation_date": 1458737341, "question_id": 36178674, "link": "https://stackoverflow.com/questions/36178674/activerecordmigration5-0-is-legal-ruby-grammar", "closed_reason": "Duplicate", "title": "ActiveRecord::Migration[5.0] is legal ruby grammar?", "body": "<p><a href=\"http://blog.bigbinary.com/2016/03/01/migrations-are-versioned-in-rails-5.html\" rel=\"nofollow\">In this post</a>, I don't understand why <code>ActiveRecord::Migration[5.0]</code> class name doesn't throw a syntax error. Is that a legal ruby grammar? or what hack used with this?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 6105, "user_id": 4002659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11c2eb99f1668b4d442780e34fc983d?s=128&d=identicon&r=PG&f=1", "display_name": "dp7", "link": "https://stackoverflow.com/users/4002659/dp7"}, "edited": false, "score": 0, "creation_date": 1458737444, "post_id": 36178538, "comment_id": 59992459, "body": "If you are using a string (number value) as your hash key, then you can use <b>key.to_i</b> to convert your key to an integer value."}, {"owner": {"reputation": 316, "user_id": 5728092, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ab288c735af75db306ef2e0a5b7ee36?s=128&d=identicon&r=PG&f=1", "display_name": "BalajiB", "link": "https://stackoverflow.com/users/5728092/balajib"}, "reply_to_user": {"reputation": 6105, "user_id": 4002659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11c2eb99f1668b4d442780e34fc983d?s=128&d=identicon&r=PG&f=1", "display_name": "dp7", "link": "https://stackoverflow.com/users/4002659/dp7"}, "edited": false, "score": 0, "creation_date": 1458738316, "post_id": 36178538, "comment_id": 59993106, "body": "ya...thats correct. I thought array values are integers only .  So i didnt convert them to integers .Thats the mistake i did"}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 2675681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b84c69f94a51e91af17b5d0ddef44e6?s=128&d=identicon&r=PG&f=1", "display_name": "mgidea", "link": "https://stackoverflow.com/users/2675681/mgidea"}, "is_accepted": true, "score": 1, "last_activity_date": 1458737497, "creation_date": 1458737497, "answer_id": 36178734, "question_id": 36178538, "link": "https://stackoverflow.com/questions/36178538/how-to-compare-a-hash-key-with-an-integer-in-rails/36178734#36178734", "title": "How to compare a Hash Key with an Integer in rails", "body": "<p>You want to call :to_i on question.</p>\n\n<pre><code>params[:mg_question_id].each do |question_id|\n\n   @poll=MgPollData.build(:mg_question_id =&gt; question_id.to_i)\n\n   params[:options_id].each do |k,v|\n\n      if k.to_i==question_id.to_i\n        @poll.answer= v\n      end\n\n   end\n\n   @poll_answers.save\n</code></pre>\n\n<p>end </p>\n"}, {"comments": [{"owner": {"reputation": 316, "user_id": 5728092, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ab288c735af75db306ef2e0a5b7ee36?s=128&d=identicon&r=PG&f=1", "display_name": "BalajiB", "link": "https://stackoverflow.com/users/5728092/balajib"}, "edited": false, "score": 0, "creation_date": 1458825710, "post_id": 36191487, "comment_id": 60035752, "body": "Thanks @Tyler  . It&#39;s really making sense"}, {"owner": {"reputation": 1021, "user_id": 2662823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuQWG.png?s=128&g=1", "display_name": "typo", "link": "https://stackoverflow.com/users/2662823/typo"}, "reply_to_user": {"reputation": 316, "user_id": 5728092, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ab288c735af75db306ef2e0a5b7ee36?s=128&d=identicon&r=PG&f=1", "display_name": "BalajiB", "link": "https://stackoverflow.com/users/5728092/balajib"}, "edited": false, "score": 0, "creation_date": 1458834334, "post_id": 36191487, "comment_id": 60041896, "body": "Glad you found it useful, Best of luck on your project!"}], "tags": [], "owner": {"reputation": 1021, "user_id": 2662823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JuQWG.png?s=128&g=1", "display_name": "typo", "link": "https://stackoverflow.com/users/2662823/typo"}, "is_accepted": false, "score": 1, "last_activity_date": 1458781298, "creation_date": 1458781298, "answer_id": 36191487, "question_id": 36178538, "link": "https://stackoverflow.com/questions/36178538/how-to-compare-a-hash-key-with-an-integer-in-rails/36191487#36191487", "title": "How to compare a Hash Key with an Integer in rails", "body": "<p>As others suggest you can call .to_i on question</p>\n\n<pre><code>  params[:mg_question_id].each do |question_id|\n\n   @poll=MgPollData.build(:mg_question_id =&gt; question_id.to_i)\n\n   params[:options_id].each do |k,v|\n\n      if k.to_i==question_id.to_i\n        @poll.answer= v\n      end\n\n   end\n\n   @poll_answers.save\n</code></pre>\n\n<p>However, it's important to remember that arrays are index based beginning with 0. While hashes are object based, and hash keys are often symbols. <code>key: \"Value\"</code>,  and if the key is a symbol eg, <code>:key</code> calling <code>.to_i</code> may throw an error or in earlier ruby versions have unexpected side effects such as: </p>\n\n<p>Returns an integer that is unique for each symbol within a particular execution of a program. Similar to <code>object_id</code></p>\n\n<pre><code>:fred.to_i           #=&gt; 9809\n</code></pre>\n\n<p>For that reason, I might call <code>.to_s</code> rather than <code>.to_i</code> opting to have them both be strings and avoid the problems with converting symbols to integers. </p>\n\n<p>Hope this helps some... </p>\n"}], "owner": {"reputation": 316, "user_id": 5728092, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ab288c735af75db306ef2e0a5b7ee36?s=128&d=identicon&r=PG&f=1", "display_name": "BalajiB", "link": "https://stackoverflow.com/users/5728092/balajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 2, "accepted_answer_id": 36178734, "answer_count": 2, "score": -1, "last_activity_date": 1606859661, "creation_date": 1458736980, "last_edit_date": 1606859661, "question_id": 36178538, "link": "https://stackoverflow.com/questions/36178538/how-to-compare-a-hash-key-with-an-integer-in-rails", "title": "How to compare a Hash Key with an Integer in rails", "body": "<pre><code>params[:mg_question_id].each do |question|\n\n    @poll=MgPollData.new\n\n    @poll.mg_question_id= question\n\n    params[:options_id].each do |k,v|\n\n        if k==question\n            @poll.answer= v\n        end\n\n    end\n\n    @poll_answers.save\n\nend\n</code></pre>\n<p>here, I'm comparing the array value with the hash key. But hash key is string and array is integer - that's why I'm unable to compare the both.</p>\n<p>Is  there any solution regarding this?</p>\n"}, {"tags": ["ruby", "if-statement", "expression"], "answers": [{"comments": [{"owner": {"reputation": 68, "user_id": 6103586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2Fiy.png?s=128&g=1", "display_name": "Koda", "link": "https://stackoverflow.com/users/6103586/koda"}, "edited": false, "score": 0, "creation_date": 1458736116, "post_id": 36178185, "comment_id": 59991478, "body": "Thank you Sagarpandy. How would you write it using ELSIF?"}, {"owner": {"reputation": 68, "user_id": 6103586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2Fiy.png?s=128&g=1", "display_name": "Koda", "link": "https://stackoverflow.com/users/6103586/koda"}, "edited": false, "score": 1, "creation_date": 1458736585, "post_id": 36178185, "comment_id": 59991809, "body": "OH... cool. Thank you. That was on time, you rock @sagarpandya82!"}], "tags": [], "owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "is_accepted": true, "score": 2, "last_activity_date": 1458736281, "last_edit_date": 1458736281, "creation_date": 1458736013, "answer_id": 36178185, "question_id": 36178037, "link": "https://stackoverflow.com/questions/36178037/ruby-if-else-statement/36178185#36178185", "title": "Ruby - if else statement", "body": "<p>You should re-write as:</p>\n\n<pre><code>puts \"Do you like PC?\"\nanswer = gets.chomp\n\nif answer == 'yes'\n  puts \"I do too\"\nelsif answer == 'maybe'\n  puts \"you're confused\"\nelse\n  puts \"Mac is better\"\nend\n</code></pre>\n\n<p>The keyword <code>case</code> is preserved for case statements.</p>\n"}], "owner": {"reputation": 68, "user_id": 6103586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2Fiy.png?s=128&g=1", "display_name": "Koda", "link": "https://stackoverflow.com/users/6103586/koda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2487, "favorite_count": 0, "accepted_answer_id": 36178185, "answer_count": 1, "score": -3, "last_activity_date": 1579186208, "creation_date": 1458735660, "last_edit_date": 1579186208, "question_id": 36178037, "link": "https://stackoverflow.com/questions/36178037/ruby-if-else-statement", "title": "Ruby - if else statement", "body": "<p>I have been working on the configuration an <code>else</code> statement.\nHere is the code:</p>\n\n<pre><code>puts \"Do you like PC?\"\ncase (gets.chomp)\nwhen 'yes'\n  puts \"I do too\"\nwhen 'no'\n  puts \"Mac is better\"\nend\n</code></pre>\n\n<p>Now I am trying to configure it to (1) use <code>else</code>, and (2) to use <code>elsif</code>. How do I better write this to use \"else\", and how do I write it to use <code>elsif</code>. Here is what I wrote for the <code>else</code> version</p>\n\n<pre><code>puts \"Do you like PC?\"\ncase (gets.chomp)\nif 'yes'\n  puts \"I do too\"\nelse\n  puts \"Mac is better\"\nend\n</code></pre>\n"}, {"tags": ["ruby", "constructor"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458733069, "post_id": 36176892, "comment_id": 59989401, "body": "What arguments do they take?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458733180, "post_id": 36176892, "comment_id": 59989468, "body": "<code>Method 2: (note that I need to set the parameters by hand on this one as second way)</code> Isn&#39;t it evident that the second method/way follows the second way?"}, {"owner": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458734932, "post_id": 36176892, "comment_id": 59990617, "body": "@sawa Maybe I needed to be more clear. It takes a hash with id, status and dateTime OR I could initialize an object without parameters and say object.id = &quot;an id&quot; etc."}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1458744398, "post_id": 36176892, "comment_id": 59997840, "body": "Have a look at <a href=\"https://robots.thoughtbot.com/ruby-2-keyword-arguments\" rel=\"nofollow noreferrer\">Keyword arguments</a>"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "edited": false, "score": 0, "creation_date": 1458735070, "post_id": 36177200, "comment_id": 59990706, "body": "But now I need to be able to set the values via hash or via interaction with the object, like initializing an object as obj = Example.new; obj.id = &quot;an id&quot;"}, {"owner": {"reputation": 500, "user_id": 680588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50ddecc6673eb0179f854124e9554486?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/680588/tom"}, "reply_to_user": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "edited": false, "score": 1, "creation_date": 1458736985, "post_id": 36177200, "comment_id": 59992091, "body": "Not quite - I will update the answer with some usage examples."}, {"owner": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "edited": false, "score": 0, "creation_date": 1458738412, "post_id": 36177200, "comment_id": 59993191, "body": "So if I understand correctly, I can initialize the object with any amount of parameters, the ones that are not given will be left nil, and I can set them at a later time? Also if I understand it correctly I can say     my_new_example = Example.new           my_new_example.id = 23"}, {"owner": {"reputation": 500, "user_id": 680588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50ddecc6673eb0179f854124e9554486?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/680588/tom"}, "reply_to_user": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "edited": false, "score": 1, "creation_date": 1458738887, "post_id": 36177200, "comment_id": 59993522, "body": "For your first point. Yes as long as your define your properties (using attr_accessor in the examples so far) then you initialise your object with a hash. The key is the name of your param and the value the value to set it to. If your hash does not contain a key / value for a property that property will be nil.  Your second point. Yes you can do that as long as the my_new_example.id = 23 is on a new line!"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "edited": false, "score": 0, "creation_date": 1458744864, "post_id": 36177200, "comment_id": 59998225, "body": "@FalingDutchman you could also just use the <a href=\"http://ruby-doc.org/stdlib-2.0.0/libdoc/ostruct/rdoc/OpenStruct.html\" rel=\"nofollow noreferrer\"><code>OpenStruct</code></a> Class which will allow you to initialize with values but also set arbitrary ones after the fact. That being said if you want to use this i would recommend adding <code>attr_accessor</code> to the initialize block e.g. <code>self.class_eval { attr_accessor k}</code> inside the args loop this will create getter/setter methods for each of those attributes."}, {"owner": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1458745153, "post_id": 36177200, "comment_id": 59998453, "body": "@engineersmnky If I do that, and want to make a JSON out of it, I would get &#39;@&#39;id, &#39;@&#39;status, &#39;@&#39;dateTime, with no real solution to remove the &#39;@&#39;s, so I wrote my own to_json for my custom classes, that is the best way for me, AND I need to have the classes available as classes because I need to be able to set information.  On the solution I picked I added an if args != nil, to make the class initializable without parameters."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "edited": false, "score": 0, "creation_date": 1458755319, "post_id": 36177200, "comment_id": 60005825, "body": "@FalingDutchman the <code>JSON</code> module adds functionality to the <code>OpenStruct</code> for the purpose of calling <code>to_json</code>. Not sure what your overall issue is here but you could retain the set instance variables in a class level or singleton level array and then use those to generate JSON as well. Since your post said nothing about JSON obviously if you have questions that would need to be a new post."}], "tags": [], "owner": {"reputation": 500, "user_id": 680588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50ddecc6673eb0179f854124e9554486?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/680588/tom"}, "is_accepted": true, "score": 5, "last_activity_date": 1458737326, "last_edit_date": 1495542788, "creation_date": 1458733194, "answer_id": 36177200, "question_id": 36176892, "link": "https://stackoverflow.com/questions/36176892/ruby-class-initialization/36177200#36177200", "title": "Ruby class initialization", "body": "<p>I would try using a hash for your constructor like the code below adapted from <a href=\"https://stackoverflow.com/questions/2680523/dry-ruby-initialization-with-hash-argument\">DRY Ruby Initialization with Hash Argument</a></p>\n\n<pre><code>class Example\n  attr_accessor :id, :status, :dateTime\n\n  def initialize args\n    args.each do |k,v|\n      instance_variable_set(\"@#{k}\", v) unless v.nil?\n    end\n  end\nend\n</code></pre>\n\n<p>That way setting each of your properties in the constructor becomes optional. As the <a href=\"http://ruby-doc.org/core-2.3.0/Object.html#method-i-instance_variable_set\" rel=\"nofollow noreferrer\">instance_variable_set</a> method will set each property if the has contains a value for it.</p>\n\n<p>Which means you could support any number of ways to construct your object. The only downside is you might have to do more nil checking in your code but without more information it is hard to know.</p>\n\n<h1>Creating a new Object - Usage Examples</h1>\n\n<p>To create a new object with this technique all you need to do is pass in a hash to your initialiser:</p>\n\n<pre><code>my_new_example = Example.new :id =&gt; 1, :status =&gt; 'live'\n#=&gt; #&lt;Example: @id=1, @status='live'&gt;\n</code></pre>\n\n<p>And its flexible enough to create multiple objects without certain properties with one constructor:</p>\n\n<pre><code>my_second_new_example = Example.new :id =&gt; 1\n#=&gt; #&lt;Example: @id=1&gt;\n\nmy_third_new_example = Example.new :status =&gt; 'nonlive', :dateTime =&gt; DateTime.new(2001,2,3)\n#=&gt; #&lt;Example: @id=1, @dateTime=2001-02-03T00:00:00+00:00&gt;\n</code></pre>\n\n<p>You can still update your properties once the objects have been created:</p>\n\n<pre><code>my_new_example.id = 24\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 6017891, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9cff040a31ee30de4d6e3f66fea68af4?s=128&d=identicon&r=PG&f=1", "display_name": "Faling Dutchman", "link": "https://stackoverflow.com/users/6017891/faling-dutchman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2999, "favorite_count": 0, "accepted_answer_id": 36177200, "answer_count": 1, "score": 3, "last_activity_date": 1458737326, "creation_date": 1458732393, "question_id": 36176892, "link": "https://stackoverflow.com/questions/36176892/ruby-class-initialization", "title": "Ruby class initialization", "body": "<p>I want to create an object that can be initialized in two different ways. I found 3 different way's of accomplishing the same thing, I want to know which of my methods is the best one, and if there is another better way of doing it.</p>\n\n<p>Method </p>\n\n<pre><code>attr_accessor :id, :status, :dateTime\n  def initialize *args\n    if args.length == 1\n      puts args[0]\n    @id = args[0]['id']\n    @status = args[0]['status']\n    @dateTime = args[0]['dateTime']\n    else\n      @id = args[0]\n      @status = args[1]\n      @dateTime = args[2]\n    end\n  end\n</code></pre>\n\n<p>Method 2: (note that I need to set the parameters by hand on this one as second way)</p>\n\n<pre><code>  attr_accessor :id, :status, :dateTime\n  def initialize hash = nil\n    if hash != nil\n    @id = hash['id']\n      @status = hash['status']\n      @dateTime = hash['dateTime']\n    end\n  end\n</code></pre>\n\n<p>Method 3: (note that I need to set the parameters by hand on this one as second way AND that it is almost the same as my second way, just not in the constructor)</p>\n\n<pre><code>attr_accessor :id, :status, :dateTime\n  def initialize\n  end\n\n  def self.create hash\n    if hash != nil\n      obj = Obj3.new\n      obj.id = hash['id']\n      obj.status = hash['status']\n      obj.dateTime = hash['dateTime']\n      return obj\n    end\n  end\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ruby", "rspec", "rspec-mocks"], "answers": [{"comments": [{"owner": {"reputation": 642, "user_id": 750452, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fbece8eb020755c835cf19669f9fc5d?s=128&d=identicon&r=PG", "display_name": "astgtciv", "link": "https://stackoverflow.com/users/750452/astgtciv"}, "edited": false, "score": 0, "creation_date": 1464850569, "post_id": 37578588, "comment_id": 62655256, "body": "That&#39;s great info, thanks! But my problem was different - @Dave Schweisguth got it right."}, {"owner": {"reputation": 31711, "user_id": 634576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/48891dab622b535f3c2b4ec1c8765bed?s=128&d=identicon&r=PG", "display_name": "Dave Schweisguth", "link": "https://stackoverflow.com/users/634576/dave-schweisguth"}, "edited": false, "score": 1, "creation_date": 1464879828, "post_id": 37578588, "comment_id": 62676029, "body": "Adarsh didn&#39;t quite restate your problem, but <code>aggregate_failures</code> does solve it: if you wrap your entire test in <code>aggregate_failures</code>, you&#39;ll see both the non-mock failure and then the the mock failure. (As I said above, whether you want to see the non-mock failure at all depends on what you&#39;re testing.)"}], "tags": [], "owner": {"reputation": 398, "user_id": 1001350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/692dad2af6224bf856e94a96049292c4?s=128&d=identicon&r=PG", "display_name": "adarsh", "link": "https://stackoverflow.com/users/1001350/adarsh"}, "is_accepted": false, "score": 1, "last_activity_date": 1464814434, "creation_date": 1464814434, "answer_id": 37578588, "question_id": 36176200, "link": "https://stackoverflow.com/questions/36176200/how-to-make-rspec-mocks-expect-to-receive-with-fail-eagerly/37578588#37578588", "title": "How to make rspec-mocks&#39; expect to receive.with fail eagerly", "body": "<blockquote>\n  <p>the test starts failing because the target is called with different params, but then another assertion fails before the end of the test, so I only see the error from this assertion, not from the missing mock</p>\n</blockquote>\n\n<p>If I'm reading this correctly, you have multiple <code>expect</code> assertions in one spec and the first one is failing, so you're not seeing the second/third assertions failures?</p>\n\n<p>If so, I'd consider using <a href=\"https://www.relishapp.com/rspec/rspec-core/v/3-4/docs/expectation-framework-integration/aggregating-failures\" rel=\"nofollow\">RSpec's <code>aggregate_failures</code> introduced in v3.3</a>, which collect failures but run subsequent assertions:</p>\n\n<pre><code>aggregate_failures(\"verifying response\") do\n  expect(response.status).to eq(200)\n  expect(response.headers).to include(\"Content-Type\" =&gt; \"text/plain\")\n  expect(response.body).to include(\"Success\")\nend\n\n# Which gives you nice errors for all assertions\n\n1) Client returns a successful response\n     Got 3 failures:\n\n     1.1) Got 3 failures from failure aggregation block \"testing response\".\n          # ./spec/use_block_form_spec.rb:18\n          # ./spec/use_block_form_spec.rb:10\n\n          1.1.1) Failure/Error: expect(response.status).to eq(200)\n\n                   expected: 200\n                        got: 404\n\n                   (compared using ==)\n                 # ./spec/use_block_form_spec.rb:19\n\n          1.1.2) Failure/Error: expect(response.headers).to include(\"Content-Type\" =&gt; \"application/json\")\n                   expected {\"Content-Type\" =&gt; \"text/plain\"} to include {\"Content-Type\" =&gt; \"application/json\"}\n                   Diff:\n                   @@ -1,2 +1,2 @@\n                   -[{\"Content-Type\"=&gt;\"application/json\"}]\n                   +\"Content-Type\" =&gt; \"text/plain\",\n                 # ./spec/use_block_form_spec.rb:20\n\n          1.1.3) Failure/Error: expect(response.body).to eq('{\"message\":\"Success\"}')\n\n                   expected: \"{\\\"message\\\":\\\"Success\\\"}\"\n                        got: \"Not Found\"\n\n                   (compared using ==)\n                 # ./spec/use_block_form_spec.rb:21\n\n     1.2) Failure/Error: expect(false).to be(true), \"after hook failure\"\n            after hook failure\n          # ./spec/use_block_form_spec.rb:6\n          # ./spec/use_block_form_spec.rb:10\n\n     1.3) Failure/Error: expect(false).to be(true), \"around hook failure\"\n            around hook failure\n          # ./spec/use_block_form_spec.rb:12\n</code></pre>\n\n<p>You can also tag a describe block to <code>aggregate_failures</code>:</p>\n\n<pre><code>RSpec.describe ClassName, :aggregate_failures do\n  # stuff\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31711, "user_id": 634576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/48891dab622b535f3c2b4ec1c8765bed?s=128&d=identicon&r=PG", "display_name": "Dave Schweisguth", "link": "https://stackoverflow.com/users/634576/dave-schweisguth"}, "is_accepted": true, "score": 2, "last_activity_date": 1464992213, "last_edit_date": 1464992213, "creation_date": 1464835806, "answer_id": 37581836, "question_id": 36176200, "link": "https://stackoverflow.com/questions/36176200/how-to-make-rspec-mocks-expect-to-receive-with-fail-eagerly/37581836#37581836", "title": "How to make rspec-mocks&#39; expect to receive.with fail eagerly", "body": "<p>I don't know of a way to make <code>receive</code> fail eagerly. However, <code>have_received</code> fails eagerly, so if it is the first of several expectations it will be the one that fails the test and that RSpec reports.</p>\n\n<pre><code>class Foo\n  def self.bar(baz)\n  end\nend\n\ndescribe \"RSpec\" do\n  it \"reports a non-mock expectation failure before a mock expectation failure\" do\n    expect(Foo).to receive(:bar).with(1)\n    expect(true).to be_falsy # RSpec reports this failure\n    Foo.bar 2\n  end\n\n  it \"reports a spy expectation failure when you'd expect it to be reported\" do\n    allow(Foo).to receive(:bar) # Spy on Foo\n    Foo.bar 2\n    expect(Foo).to have_received(:bar).with(1) # RSpec reports this failure\n    expect(true).to be_falsy\n  end\n\nend\n</code></pre>\n\n<p>See <a href=\"https://relishapp.com/rspec/rspec-mocks/docs/basics/spies\" rel=\"nofollow\">the documentation of RSpec spies</a> for details.</p>\n\n<p>This solution is probably best if</p>\n\n<ul>\n<li>if you prefer your tests in the logical <a href=\"http://c2.com/cgi/wiki?ArrangeActAssert\" rel=\"nofollow\">arrange-act-assert</a> sequence like I do</li>\n<li>if the spy expectation fails, you don't care about the other expectation</li>\n<li>if you mind the extra typing of the <code>allow</code> that sets up the spy less than you mind the <code>aggregate_failures</code> block</li>\n</ul>\n\n<p>Regular mocks and Adarsh's solution are better</p>\n\n<ul>\n<li>you want to see the results of both expectations regardless of whether either fails</li>\n<li>if you mind the <code>aggregate_failures</code> block less than you mind the extra typing of the <code>allow</code> that sets up the spy</li>\n</ul>\n"}], "owner": {"reputation": 642, "user_id": 750452, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fbece8eb020755c835cf19669f9fc5d?s=128&d=identicon&r=PG", "display_name": "astgtciv", "link": "https://stackoverflow.com/users/750452/astgtciv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "accepted_answer_id": 37581836, "answer_count": 2, "score": 1, "last_activity_date": 1464992213, "creation_date": 1458730485, "last_edit_date": 1464850714, "question_id": 36176200, "link": "https://stackoverflow.com/questions/36176200/how-to-make-rspec-mocks-expect-to-receive-with-fail-eagerly", "title": "How to make rspec-mocks&#39; expect to receive.with fail eagerly", "body": "<p><a href=\"https://github.com/rspec/rspec-mocks\" rel=\"nofollow\">rspec-mocks</a>' <code>expect(target).to receive(:message).with(arg_matcher)</code> will only show an error at the end of the test if the target is invoked with parameters not matching the arg matcher passed to <code>with</code>. Is there a way to force it to fail eagerly - i.e., as soon as the target is invoked with non-matching params? RR works in this way.</p>\n\n<p>The problem I am facing is that when I set up this mock with an arg_matcher as above, the test starts failing because the target is called with different params, but then another assertion fails before the end of the test, so I only see the error from this assertion, not from the missing mock (which would have shown me the difference between the expected params and the actually invoked ones).</p>\n\n<p>Using rspec-mocks 3.3.2.</p>\n"}, {"tags": ["ruby", "ssl", "certificate", "ssl-certificate", "net-http"], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 6103484, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/66dd9f521f1f408c3cae829776ec8acc?s=128&d=identicon&r=PG", "display_name": "GPif", "link": "https://stackoverflow.com/users/6103484/gpif"}, "is_accepted": true, "score": 0, "last_activity_date": 1461599715, "creation_date": 1461599715, "answer_id": 36845465, "question_id": 36175041, "link": "https://stackoverflow.com/questions/36175041/ruby-https-with-ca-certification-does-not-work-while-it-worked-with-curl/36845465#36845465", "title": "Ruby https with ca certification does not work while it worked with curl", "body": "<p>I feel dumb but figured out the problem.</p>\n\n<p>When generating the different certificates I left some fields blank. \nIt seems that openssl detected this certificate as \"looking\" autosigned.</p>\n\n<p>Thus if we use OpenSSL::SSL::VERIFY_PEER the connection fails</p>\n\n<p>So to be sure that the certificate is well generated using the CA you can do :\n<code>openssl verify -CAfile ca.crt server.crt</code>\n(and same command with client.crt)</p>\n\n<p>if we get </p>\n\n<pre><code>error 18 at 0 depth lookup:self signed certificate\nOK\n</code></pre>\n\n<p>The certificate is detected as autosigned and it fails</p>\n\n<p>if we get</p>\n\n<pre><code> Signature ok\n</code></pre>\n\n<p>It should work</p>\n"}, {"comments": [{"owner": {"reputation": 443, "user_id": 6103484, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/66dd9f521f1f408c3cae829776ec8acc?s=128&d=identicon&r=PG", "display_name": "GPif", "link": "https://stackoverflow.com/users/6103484/gpif"}, "edited": false, "score": 3, "creation_date": 1502533347, "post_id": 45593865, "comment_id": 78256858, "body": "Indeed it worked. But the point was to not set SSL:: VERIFY_NONE. Doing so, you downgrade security."}], "tags": [], "owner": {"reputation": 21, "user_id": 4796774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18357dbeb0eed0387ebf1f490ed4e470?s=128&d=identicon&r=PG&f=1", "display_name": "DBulgatz", "link": "https://stackoverflow.com/users/4796774/dbulgatz"}, "is_accepted": false, "score": 1, "last_activity_date": 1502289788, "creation_date": 1502289788, "answer_id": 45593865, "question_id": 36175041, "link": "https://stackoverflow.com/questions/36175041/ruby-https-with-ca-certification-does-not-work-while-it-worked-with-curl/45593865#45593865", "title": "Ruby https with ca certification does not work while it worked with curl", "body": "<p>To possibly help others, here is a working solution with Ruby 2.0, for an HTTP GET.</p>\n\n<pre><code>require \"net/http\"\n\nuri = URI.parse('https://your_url.com')\nhttp = Net::HTTP.new(uri.host, uri.port)\nOpenSSL::SSL::SSLContext::DEFAULT_PARAMS[:ssl_version]=nil\nhttp.use_ssl = true\nhttp.ca_path='/etc/pki/tls/certs/'\nhttp.ca_file='/etc/pki/tls/certs/YOUR_CERT_CHAIN_FILE'\nhttp.cert = OpenSSL::X509::Certificate.new(File.read(\"YOUR_CERT)_FILE\"))\nhttp.key = OpenSSL::PKey::RSA.new(File.read(\"YOUR_KEY_FILE\"))\n\n#SSLv3 is cracked, and often not allowed\nhttp.ssl_version = :TLSv1_2\n\n#### This is IMPORTANT\nhttp.verify_mode = OpenSSL::SSL::VERIFY_NONE\n\n#Crete the GET request\nrequest = Net::HTTP::Get.new(uri.request_uri)\n#Add Headers, if needed\nrequest.add_field 'X_REMOTE_USER', 'USER_NAME'\nrequest.add_field 'Accept', '*'\n\n#Get Response\nresponse = http.request(request)\n\n#Review Response\nputs response.body\n</code></pre>\n"}], "owner": {"reputation": 443, "user_id": 6103484, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/66dd9f521f1f408c3cae829776ec8acc?s=128&d=identicon&r=PG", "display_name": "GPif", "link": "https://stackoverflow.com/users/6103484/gpif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1755, "favorite_count": 2, "accepted_answer_id": 36845465, "answer_count": 2, "score": 4, "last_activity_date": 1502289788, "creation_date": 1458727448, "last_edit_date": 1458775289, "question_id": 36175041, "link": "https://stackoverflow.com/questions/36175041/ruby-https-with-ca-certification-does-not-work-while-it-worked-with-curl", "title": "Ruby https with ca certification does not work while it worked with curl", "body": "<p>In ruby, I try to do a ssl connection to a nginx server I setup locally, with an auto-signed certificate. My code is :</p>\n\n<pre><code>require \"net/http\"\nrequire \"net/https\"\nrequire \"openssl\"\nrequire \"uri\"\nrequire \"pp\"\n\nrequest = Net::HTTP::Get.new(\"/\")\nresponse = Net::HTTP.start(\n  \"localhost\",\n  443,\n  {\n    :use_ssl =&gt; true,\n    :key =&gt; OpenSSL::PKey::RSA.new(File.read(\"/home/gg/crt/client.key\")),\n    :cert =&gt; OpenSSL::X509::Certificate.new(File.read(\"/home/gg/crt/client.crt\")),\n    :ca_file =&gt; \"/home/gg/crt/ca.pem\",\n    :verify_mode =&gt; OpenSSL::SSL::VERIFY_PEER,\n    :verify_depth =&gt; 5,\n  }\n) do |http|\n      http.request(request)\nend\nputs response.inspect\nputs response.body\n</code></pre>\n\n<p>When I run it it return </p>\n\n<pre><code>/home/gg/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/net/http.rb:923:in `connect': SSL_connect returned=1 errno=0 state=error: certificate verify failed (OpenSSL::SSL::SSLError)\n    from /home/gg/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/net/http.rb:923:in `block in connect'\n    from /home/gg/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/timeout.rb:74:in `timeout'\n    from /home/gg/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/net/http.rb:923:in `connect'\n    from /home/gg/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/net/http.rb:863:in `do_start'\n    from /home/gg/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/net/http.rb:852:in `start'\n    from /home/gg/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/net/http.rb:583:in `start'\n    from testso.rb:8:in `&lt;main&gt;'\n</code></pre>\n\n<p>But I have the correct result if I run it with curl:</p>\n\n<pre><code>curl https://localhost --key crt/client.key --cert crt/client.crt --cacert crt/ca.pem\n</code></pre>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1458727472, "post_id": 36174716, "comment_id": 59985663, "body": "You should add the problem within your question- not just a link."}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1458727789, "post_id": 36174716, "comment_id": 59985882, "body": "<code>return</code> keyword not required."}, {"owner": {"reputation": 3, "user_id": 6103423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59e16b99543e0e66ce3e8734924613e?s=128&d=identicon&r=PG&f=1", "display_name": "do20i", "link": "https://stackoverflow.com/users/6103423/do20i"}, "reply_to_user": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1458812289, "post_id": 36174716, "comment_id": 60027543, "body": "Thanks, will bear in mind to post the full problem in the future."}], "answers": [{"tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1458727561, "creation_date": 1458727561, "answer_id": 36175082, "question_id": 36174716, "link": "https://stackoverflow.com/questions/36174716/ruby-monk-number-shuffle-comparison-of-solutions/36175082#36175082", "title": "Ruby Monk Number Shuffle - comparison of solutions", "body": "<p>One thing that is \"non-ruby\" is... </p>\n\n<pre><code>result = []\n\nary.each do |i|\n  x = i.join.to_i\n  result &lt;&lt; x\nend\n</code></pre>\n\n<p>It's a typical \"new to ruby\" mistake to use <code>each</code> and add to an array on each iteration, when the method <code>map</code> will return an array automatically.</p>\n\n<pre><code>result = ary.map {|i| i.join.to_i }\n</code></pre>\n\n<p>Also note we didn't need the intermediate result <code>x</code>, and as the block is relatively short we're better served with <code>{}</code> instead of <code>do end</code></p>\n"}, {"comments": [{"owner": {"reputation": 4022, "user_id": 1741325, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/amaxC.png?s=128&g=1", "display_name": "DaniG2k", "link": "https://stackoverflow.com/users/1741325/danig2k"}, "reply_to_user": {"reputation": 3, "user_id": 6103423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59e16b99543e0e66ce3e8734924613e?s=128&d=identicon&r=PG&f=1", "display_name": "do20i", "link": "https://stackoverflow.com/users/6103423/do20i"}, "edited": false, "score": 0, "creation_date": 1458836318, "post_id": 36175284, "comment_id": 60043243, "body": "No problem, my pleasure :)"}], "tags": [], "owner": {"reputation": 4022, "user_id": 1741325, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/amaxC.png?s=128&g=1", "display_name": "DaniG2k", "link": "https://stackoverflow.com/users/1741325/danig2k"}, "is_accepted": true, "score": 0, "last_activity_date": 1458728055, "creation_date": 1458728055, "answer_id": 36175284, "question_id": 36174716, "link": "https://stackoverflow.com/questions/36174716/ruby-monk-number-shuffle-comparison-of-solutions/36175284#36175284", "title": "Ruby Monk Number Shuffle - comparison of solutions", "body": "<ol>\n<li>You are calling <code>number.to_s</code> twice even though you created a variable (i.e. <code>string_rep</code>) that contains that exact value. No need to make a method call multiple times.</li>\n<li>As someone mentioned, it's a newbie mistake to create a new array and then append to that array when you can simply use the <code>map</code> or <code>collect</code> methods (they do the same thing). So the code would be better if it read <code>result = ary.map {|i| i.join.to_i}</code></li>\n<li>No need to type out <code>return result.sort</code>. Ruby returns the last command by default, so you can simply omit the <code>return</code> directive and write <code>result.sort</code>.</li>\n</ol>\n\n<p>Also, the example solution makes the numbers unique. Are you doing the same?</p>\n"}, {"tags": [], "owner": {"reputation": 1814, "user_id": 5006469, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7b557baad76e9fca74ff4d0d1aac568a?s=128&d=identicon&r=PG&f=1", "display_name": "rdupz", "link": "https://stackoverflow.com/users/5006469/rdupz"}, "is_accepted": false, "score": 2, "last_activity_date": 1458728634, "last_edit_date": 1458728634, "creation_date": 1458728106, "answer_id": 36175308, "question_id": 36174716, "link": "https://stackoverflow.com/questions/36174716/ruby-monk-number-shuffle-comparison-of-solutions/36175308#36175308", "title": "Ruby Monk Number Shuffle - comparison of solutions", "body": "<p>Ruby Monk's solution is bad programming but the style is alright. Your solution is acceptable but the style can be improved.</p>\n\n<p>Anyway, this can be done with a one-liner :</p>\n\n<pre><code>def number_shuffle(number)\n  number.to_s.split('').permutation.to_a.collect {|a| a.join.to_i}.sort\nend\n</code></pre>\n\n<p>Edited: <code>sort</code> is needed because <code>permutation</code> <a href=\"http://ruby-doc.org/core-1.9.3/Array.html#method-i-permutation\" rel=\"nofollow\"> makes no guarantees about the order</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 6103423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59e16b99543e0e66ce3e8734924613e?s=128&d=identicon&r=PG&f=1", "display_name": "do20i", "link": "https://stackoverflow.com/users/6103423/do20i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 36175284, "answer_count": 3, "score": 0, "last_activity_date": 1458728634, "creation_date": 1458726544, "question_id": 36174716, "link": "https://stackoverflow.com/questions/36174716/ruby-monk-number-shuffle-comparison-of-solutions", "title": "Ruby Monk Number Shuffle - comparison of solutions", "body": "<p>I was doing this Ruby Monk challenge <a href=\"http://rubymonk.com/learning/books/1-ruby-primer/problems/154-permutations\" rel=\"nofollow\">http://rubymonk.com/learning/books/1-ruby-primer/problems/154-permutations</a> and came up with this solution:</p>\n\n<pre><code>def number_shuffle(number)\n  string_rep = number.to_s\n  ary = string_rep.split('').permutation(number.to_s.length).to_a\n\n  result = []\n\n  ary.each do |i|\n    x = i.join.to_i\n    result &lt;&lt; x\n  end\n\n  return result.sort\nend\n</code></pre>\n\n<p>Meanwhile, here's Ruby Monk's solution: </p>\n\n<pre><code>def number_shuffle(number)\n  no_of_combinations = number.to_s.size == 3 ? 6 : 24\n  digits = number.to_s.split(//)\n  combinations = []\n  combinations &lt;&lt; digits.shuffle.join.to_i while combinations.uniq.size!=no_of_combinations\n  combinations.uniq.sort\nend\n</code></pre>\n\n<p>I sense Ruby Monk's solution is more ruby-style but I'd like to better understand why.\nCould you share your thoughts and give some hints?\nMany thanks in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "omniauth"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 6078709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9445bf5242fd9c1d8124a74a60084da?s=128&d=identicon&r=PG&f=1", "display_name": "joenotjoe", "link": "https://stackoverflow.com/users/6078709/joenotjoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1458727050, "creation_date": 1458727050, "answer_id": 36174889, "question_id": 36174672, "link": "https://stackoverflow.com/questions/36174672/devise-omniauth-multiple-models/36174889#36174889", "title": "Devise + Omniauth multiple models", "body": "<p>Why the need for two models? You could use the same auth and then make the distinction between user or designer through a role. I would take a look at some railscasts videos to get up to speed with the different techniques out there. </p>\n\n<p>Roles with cancan:\n<a href=\"http://railscasts.com/episodes/192-authorization-with-cancan\" rel=\"nofollow\">http://railscasts.com/episodes/192-authorization-with-cancan</a></p>\n\n<p>Watch this one to get a sense on how to write your own Auth:\n<a href=\"http://railscasts.com/episodes/250-authentication-from-scratch-revised\" rel=\"nofollow\">http://railscasts.com/episodes/250-authentication-from-scratch-revised</a></p>\n"}, {"tags": [], "owner": {"reputation": 1719, "user_id": 1950763, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NzirI.jpg?s=128&g=1", "display_name": "Caffeine Coder", "link": "https://stackoverflow.com/users/1950763/caffeine-coder"}, "is_accepted": false, "score": 2, "last_activity_date": 1458728090, "creation_date": 1458728090, "answer_id": 36175300, "question_id": 36174672, "link": "https://stackoverflow.com/questions/36174672/devise-omniauth-multiple-models/36175300#36175300", "title": "Devise + Omniauth multiple models", "body": "<p>Let me share my experience here , i had done the same thing as you are currently doing . The issue might be you haven't followed all the steps throughout for both the users . </p>\n\n<p>Here's a summary of steps to follow -</p>\n\n<pre><code>1) rails generate devise MODEL (user and designer)\n\n2) rails generate devise:controllers [scope] (users and designers)\n\n3) rails generate devise:views USER (users and deigners)\n</code></pre>\n\n<p>After this , do a rake routes and see how different routes are created by devise for both user and designer and call it accordingly .</p>\n\n<p>To the best of my knowledge , it's better to use roles than to create different users as the codebase gets very messy later . If you are just starting to build one , roles are the way to go ahead .</p>\n"}], "owner": {"reputation": 1630, "user_id": 4509585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7023402d04ae775b7c6fa46626e38136?s=128&d=identicon&r=PG&f=1", "display_name": "pyfl88", "link": "https://stackoverflow.com/users/4509585/pyfl88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458728090, "creation_date": 1458726426, "question_id": 36174672, "link": "https://stackoverflow.com/questions/36174672/devise-omniauth-multiple-models", "title": "Devise + Omniauth multiple models", "body": "<p>I have seen a few solutions here, but none has answered my problem. I used devise to generate two models, namely: User and Designer. And I need to use Omniauth to signup/signin for this two models separately. Currently this is what I have: </p>\n\n<p>User.rb</p>\n\n<pre><code>def self.from_omniauth(auth)\n   where(provider: auth.provider, uid: auth.uid).first_or_create do |user|\n   user.provider = auth.provider\n   user.uid = auth.uid\n   user.user_name = auth.info.name\n   user.email = auth.info.email\n   user.password = \"password\"\n   user.skip_confirmation!\n end\n</code></pre>\n\n<p>user_authentications_controller.rb</p>\n\n<pre><code>class UserAuthenticationsController &lt; Devise::OmniauthCallbacksController\n\n def create\n    begin\n        @user = User.from_omniauth(request.env['omniauth.auth'])\n        sign_in_and_redirect @user\n        #redirect_to root_url, notice: \"Signed in!\"\n        flash[:success] = \"Welcome, #{@user.first_name}!\"\n        UserMailer.welcome(@user).deliver_now\n      rescue\n        flash[:warning] = \"There was an error while trying to authenticate you...\"\n      end\n  end\n end\n</code></pre>\n\n<p>designer.rb</p>\n\n<pre><code>def self.from_omniauth(auth)\n  where(provider: auth.provider, uid: auth.uid).first_or_create do |designer|\n   designer.provider = auth.provider\n   designer.uid = auth.uid\n   designer.user_name = auth.info.name\n   designer.email = auth.info.email\n   designer.password = \"password\"\n   designer.skip_confirmation!\n  end\n end\n</code></pre>\n\n<p>designer_authentication_controller.rb</p>\n\n<pre><code>DesignerAuthenticationsController &lt; Devise::OmniauthCallbacksController\n\n\n  def create\n    begin\n        @designer = Designer.from_omniauth(request.env['omniauth.auth'])\n        sign_in_and_redirect @designer\n        #redirect_to root_url, notice: \"Signed in!\"\n        flash[:success] = \"Welcome, #{@designer.first_name}!\"\n        UserMailer.welcome(@designer).deliver_now\n      rescue\n        flash[:warning] = \"There was an error while trying to authenticate you...\"\n      end\n  end\nend\n</code></pre>\n\n<p>routes.rb</p>\n\n<pre><code>devise_scope :user do get \"/auth/:provider/callback\" =&gt; \"user_authentications#create\" end\ndevise_scope :designer do get \"/auth/:provider/callback\" =&gt; \"designer_authentications#create\" end\n</code></pre>\n\n<p>My problems are: </p>\n\n<p>1) No matter from which page I signup, designer or user, It will sign up as User. I understand that is because it is using user_authentications_controller for both signup. Any ideas how can I let them determine which controller it will call by the signup page?</p>\n\n<p>2) Am I doing the right way, or are there any better ways for multiple models signup? </p>\n\n<p>Thanks. And please help!</p>\n"}, {"tags": ["ruby", "hash"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458726514, "post_id": 36174596, "comment_id": 59985041, "body": "Is that really json, or just Ruby hash?"}, {"owner": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458726555, "post_id": 36174596, "comment_id": 59985071, "body": "@sawa: Yes its a Ruby Hash Thanks..Let me edit the question"}], "answers": [{"comments": [{"owner": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "edited": false, "score": 0, "creation_date": 1458727463, "post_id": 36174860, "comment_id": 59985656, "body": "Thanks It helps :P"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1458729438, "post_id": 36174860, "comment_id": 59987034, "body": "Does it make sense to order the hash keys?"}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": true, "score": 1, "last_activity_date": 1458902764, "last_edit_date": 1458902764, "creation_date": 1458726975, "answer_id": 36174860, "question_id": 36174596, "link": "https://stackoverflow.com/questions/36174596/delete-elements-from-a-hash-after-a-matched-key-to-the-end/36174860#36174860", "title": "Delete elements from a hash after a matched key to the end", "body": "<pre><code>graph_data.slice_after{|k, _| k == \"3 pm\"}.first.to_h\n# =&gt; {\"12 am\"=&gt;0, \"1 am\"=&gt;0, \"2 am\"=&gt;0, \"3 am\"=&gt;0, \"4 am\"=&gt;0, \"5 am\"=&gt;0, \"6 am\"=&gt;0, \"7 am\"=&gt;0, \"8 am\"=&gt;0, \"9 am\"=&gt;0, \"10 am\"=&gt;0, \"11 am\"=&gt;0, \"12 pm\"=&gt;0, \"1 pm\"=&gt;0, \"2 pm\"=&gt;0, \"3 pm\"=&gt;0}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>h = graph_data.dup\nh.each_key.inject(false) do\n  |flag, k|\n  h.delete(k) if flag\n  flag = true if k == \"3 pm\"\n  flag\nend\nh # =&gt; {\"12 am\"=&gt;0, \"1 am\"=&gt;0, \"2 am\"=&gt;0, \"3 am\"=&gt;0, \"4 am\"=&gt;0, \"5 am\"=&gt;0, \"6 am\"=&gt;0, \"7 am\"=&gt;0, \"8 am\"=&gt;0, \"9 am\"=&gt;0, \"10 am\"=&gt;0, \"11 am\"=&gt;0, \"12 pm\"=&gt;0, \"1 pm\"=&gt;0, \"2 pm\"=&gt;0, \"3 pm\"=&gt;0}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "edited": false, "score": 0, "creation_date": 1458903988, "post_id": 36218732, "comment_id": 60068895, "body": "Thanks It also helps ."}, {"owner": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "reply_to_user": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "edited": false, "score": 0, "creation_date": 1458904004, "post_id": 36218732, "comment_id": 60068900, "body": "appreciate brother"}, {"owner": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "reply_to_user": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "edited": false, "score": 0, "creation_date": 1458904074, "post_id": 36218732, "comment_id": 60068928, "body": "but best answer was @sawa given one using slice_after"}, {"owner": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "edited": false, "score": 0, "creation_date": 1458904113, "post_id": 36218732, "comment_id": 60068942, "body": "Yup I completely Agreed with You but would not work in<code>ruby 2.1.2</code> ..... @Rajarshi Das:"}, {"owner": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "reply_to_user": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "edited": false, "score": 0, "creation_date": 1458904351, "post_id": 36218732, "comment_id": 60069046, "body": "2.1.2 should work with to_h <a href=\"http://ruby-doc.org/core-2.1.0/Array.html#method-i-to_h\" rel=\"nofollow noreferrer\">ruby-doc.org/core-2.1.0/Array.html#method-i-to_h</a>"}, {"owner": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "reply_to_user": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "edited": false, "score": 0, "creation_date": 1458904514, "post_id": 36218732, "comment_id": 60069133, "body": "oooho you mean slice_after yes yes it is introduce 2.2.0"}, {"owner": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "reply_to_user": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "edited": false, "score": 0, "creation_date": 1458904558, "post_id": 36218732, "comment_id": 60069150, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/107322/discussion-between-vinay-and-rajarshi-das\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "is_accepted": false, "score": 1, "last_activity_date": 1458920017, "last_edit_date": 1458920017, "creation_date": 1458903894, "answer_id": 36218732, "question_id": 36174596, "link": "https://stackoverflow.com/questions/36174596/delete-elements-from-a-hash-after-a-matched-key-to-the-end/36218732#36218732", "title": "Delete elements from a hash after a matched key to the end", "body": "<p>You can also try this way</p>\n\n<p>your value</p>\n\n<pre><code>graph_data = {\"12 am\"=&gt;0, \"1 am\"=&gt;0, \"2 am\"=&gt;0, \"3 am\"=&gt;0, \"4 am\"=&gt;0, \"5 am\"=&gt;0, \"6 am\"=&gt;0, \"7 am\"=&gt;0, \"8 am\"=&gt;0, \"9 am\"=&gt;0, \"10 am\"=&gt;0, \"11 am\"=&gt;0, \"12 pm\"=&gt;0, \"1 pm\"=&gt;0, \"2 pm\"=&gt;0, \"3 pm\"=&gt;0, \"4 pm\"=&gt;0, \"5 pm\"=&gt;0, \"6 pm\"=&gt;0, \"7 pm\"=&gt;0, \"8 pm\"=&gt;0, \"9 pm\"=&gt;0, \"10 pm\"=&gt;0, \"11 pm\"=&gt;0}\n</code></pre>\n\n<p>now</p>\n\n<pre><code>ar = graph_data.to_a\nar.reject{|j| ar.index(j) &gt; ar.find_index([\"3 pm\", 0])}.to_h\n=&gt; {\"12 am\"=&gt;0, \"1 am\"=&gt;0, \"2 am\"=&gt;0, \"3 am\"=&gt;0, \"4 am\"=&gt;0, \"5 am\"=&gt;0, \"6 am\"=&gt;0, \"7 am\"=&gt;0, \"8 am\"=&gt;0, \"9 am\"=&gt;0, \"10 am\"=&gt;0, \"11 am\"=&gt;0, \"12 pm\"=&gt;0, \"1 pm\"=&gt;0, \"2 pm\"=&gt;0, \"3 pm\" =&gt; 0}\n</code></pre>\n"}], "owner": {"reputation": 4875, "user_id": 3098330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7GLfA.jpg?s=128&g=1", "display_name": "Gupta", "link": "https://stackoverflow.com/users/3098330/gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 36174860, "answer_count": 2, "score": -1, "last_activity_date": 1458920017, "creation_date": 1458726247, "last_edit_date": 1458727400, "question_id": 36174596, "link": "https://stackoverflow.com/questions/36174596/delete-elements-from-a-hash-after-a-matched-key-to-the-end", "title": "Delete elements from a hash after a matched key to the end", "body": "<p>I have a hash</p>\n\n<pre><code>graph_data = {\"12 am\"=&gt;0, \"1 am\"=&gt;0, \"2 am\"=&gt;0, \"3 am\"=&gt;0, \"4 am\"=&gt;0, \"5 am\"=&gt;0, \"6 am\"=&gt;0, \"7 am\"=&gt;0, \"8 am\"=&gt;0, \"9 am\"=&gt;0, \"10 am\"=&gt;0, \"11 am\"=&gt;0, \"12 pm\"=&gt;0, \"1 pm\"=&gt;0, \"2 pm\"=&gt;0, \"3 pm\"=&gt;0, \"4 pm\"=&gt;0, \"5 pm\"=&gt;0, \"6 pm\"=&gt;0, \"7 pm\"=&gt;0, \"8 pm\"=&gt;0, \"9 pm\"=&gt;0, \"10 pm\"=&gt;0, \"11 pm\"=&gt;0}\n</code></pre>\n\n<p>I want to delete all elements from <code>graph_data</code> that appear after the <code>\"3 pm\"</code> key. Output that I'm looking for is:</p>\n\n<pre><code>group_data = {\"12 am\"=&gt;0, \"1 am\"=&gt;0, \"2 am\"=&gt;0, \"3 am\"=&gt;0, \"4 am\"=&gt;0, \"5 am\"=&gt;0, \"6 am\"=&gt;0, \"7 am\"=&gt;0, \"8 am\"=&gt;0, \"9 am\"=&gt;0, \"10 am\"=&gt;0, \"11 am\"=&gt;0, \"12 pm\"=&gt;0, \"1 pm\"=&gt;0, \"2 pm\"=&gt;0, \"3 pm\"=&gt;0\"}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 2573, "user_id": 5787849, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0885a24e8501106661f4475a59fe1a0b?s=128&d=identicon&r=PG&f=1", "display_name": "Aniket Shivam Tiwari", "link": "https://stackoverflow.com/users/5787849/aniket-shivam-tiwari"}, "edited": false, "score": 0, "creation_date": 1458722744, "post_id": 36173287, "comment_id": 59982693, "body": "show your controller code ...and tell me if you are using devise gem or not?"}, {"owner": {"reputation": 6105, "user_id": 4002659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11c2eb99f1668b4d442780e34fc983d?s=128&d=identicon&r=PG&f=1", "display_name": "dp7", "link": "https://stackoverflow.com/users/4002659/dp7"}, "edited": false, "score": 0, "creation_date": 1458722969, "post_id": 36173287, "comment_id": 59982804, "body": "This issue is occurring because you are using WINDOWS.  You have to change <b>application</b> to <b>default</b> in order to avoid <b>ExecJS::ProgramError</b>. But then your jquery and jquery_ujs will not be loaded since they have been required from your application.js . I would suggest you to move out of WINDOWS system or for learning purpose you can use <a href=\"https://c9.io/\" rel=\"nofollow noreferrer\">c9.io</a>"}, {"owner": {"reputation": 1, "user_id": 6103094, "user_type": "registered", "profile_image": "https://graph.facebook.com/1367597533269616/picture?type=large", "display_name": "Jo Nar", "link": "https://stackoverflow.com/users/6103094/jo-nar"}, "edited": false, "score": 0, "creation_date": 1458725825, "post_id": 36173287, "comment_id": 59984586, "body": "added controller code."}, {"owner": {"reputation": 1, "user_id": 6103094, "user_type": "registered", "profile_image": "https://graph.facebook.com/1367597533269616/picture?type=large", "display_name": "Jo Nar", "link": "https://stackoverflow.com/users/6103094/jo-nar"}, "edited": false, "score": 0, "creation_date": 1458726017, "post_id": 36173287, "comment_id": 59984697, "body": "okay. i will try to use that ide. it is free right?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6103094, "user_type": "registered", "profile_image": "https://graph.facebook.com/1367597533269616/picture?type=large", "display_name": "Jo Nar", "link": "https://stackoverflow.com/users/6103094/jo-nar"}, "edited": false, "score": 0, "creation_date": 1458727086, "post_id": 36174719, "comment_id": 59985428, "body": "There still an error..  ExecJS::ProgramError in Posts#index Showing c:/Sites/sample/blog/app/views/layouts/application.html.erb where line #5 raised:  TypeError: Object doesn&#39;t support this property or method Rails.root: c:/Sites/sample/blog    &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt;   &lt;title&gt;Blog&lt;/title&gt;   &lt;%= stylesheet_link_tag    &#39;application&#39;, media: &#39;all&#39;, &#39;data-turbolinks-track&#39; =&gt; true %&gt;   &lt;!-- &lt;%= javascript_include_tag &#39;application&#39;, &#39;data-turbolinks-track&#39; =&gt; true %&gt; --&gt;   &lt;%= javascript_include_tag &#39;application&#39;%&gt;   &lt;%= csrf_meta_tags %&gt; &lt;/head&gt; &lt;body&gt;  &lt;%= yield %&gt;  &lt;/body&gt; &lt;/html&gt;"}, {"owner": {"reputation": 171, "user_id": 1592591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b2d32ac48d24c7313d703b09b9d6ea7?s=128&d=identicon&r=PG", "display_name": "Sujay Gavhane", "link": "https://stackoverflow.com/users/1592591/sujay-gavhane"}, "reply_to_user": {"reputation": 1, "user_id": 6103094, "user_type": "registered", "profile_image": "https://graph.facebook.com/1367597533269616/picture?type=large", "display_name": "Jo Nar", "link": "https://stackoverflow.com/users/6103094/jo-nar"}, "edited": false, "score": 0, "creation_date": 1458727670, "post_id": 36174719, "comment_id": 59985811, "body": "Please make sure if you have included &#39;uglifier&#39; gem in your Gemfile"}, {"owner": {"reputation": 1, "user_id": 6103094, "user_type": "registered", "profile_image": "https://graph.facebook.com/1367597533269616/picture?type=large", "display_name": "Jo Nar", "link": "https://stackoverflow.com/users/6103094/jo-nar"}, "edited": false, "score": 0, "creation_date": 1458736894, "post_id": 36174719, "comment_id": 59992029, "body": "Where can i find my Gemfile?"}], "tags": [], "owner": {"reputation": 171, "user_id": 1592591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b2d32ac48d24c7313d703b09b9d6ea7?s=128&d=identicon&r=PG", "display_name": "Sujay Gavhane", "link": "https://stackoverflow.com/users/1592591/sujay-gavhane"}, "is_accepted": false, "score": 0, "last_activity_date": 1458726547, "creation_date": 1458726547, "answer_id": 36174719, "question_id": 36173287, "link": "https://stackoverflow.com/questions/36173287/delete-link-doesnt-work-in-this-ruby-on-rails-project/36174719#36174719", "title": "Delete link doesn&#39;t work in this Ruby on Rails project?", "body": "<p>Remove 'data-turbolinks-track => true' from javasript_include_tag from application.html.erb file and keep only 'application' file included.</p>\n"}], "owner": {"reputation": 1, "user_id": 6103094, "user_type": "registered", "profile_image": "https://graph.facebook.com/1367597533269616/picture?type=large", "display_name": "Jo Nar", "link": "https://stackoverflow.com/users/6103094/jo-nar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458726547, "creation_date": 1458722327, "last_edit_date": 1458725806, "question_id": 36173287, "link": "https://stackoverflow.com/questions/36173287/delete-link-doesnt-work-in-this-ruby-on-rails-project", "title": "Delete link doesn&#39;t work in this Ruby on Rails project?", "body": "<p>When i click the delete link, it doesn't do anything. There's no error notification. I got answer here to change the default in application.html to application</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Blog&lt;/title&gt;\n  &lt;%= stylesheet_link_tag    'default', media: 'all', 'data-turbolinks-track' =&gt; true %&gt;\n  &lt;%= javascript_include_tag 'default', 'data-turbolinks-track' =&gt; true %&gt;\n  &lt;%= csrf_meta_tags %&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;%= yield %&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>when i try to change that 'default' parameter, my application crash. Here is the error.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n      &lt;title&gt;Blog&lt;/title&gt;\n      &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' =&gt; true %&gt;\n      &lt;%= javascript_include_tag 'application', 'data-turbolinks-track' =&gt; true %&gt;\n      &lt;%= csrf_meta_tags %&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n    &lt;%= yield %&gt;\n\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>ExecJS::ProgramError in Posts#index</p>\n\n<p>Showing c:/Sites/sample/blog/app/views/layouts/application.html.erb where line #5 raised:\nTypeError: Object doesn't support this property or method</p>\n\n<p>Here is the code on my view</p>\n\n<pre><code>&lt;h1&gt;&lt;%= @post.title %&gt;&lt;/h1&gt;\n\n&lt;div&gt;&lt;%= @post.body %&gt;&lt;/div&gt;\n\n&lt;%= link_to 'Edit Post', edit_post_path(@post) %&gt;\n\n&lt;%= button_to 'Delete Post', post_path(@post), method: :delete, data: {confirm:\n   \"Are you sure?\"} %&gt;\n</code></pre>\n\n<p>the confirmation also doesn't work. </p>\n\n<p>~~~CONTROLLER~~~</p>\n\n<pre><code>class PostsController &lt; ApplicationController\n   before_action :find_post, only: [:show, :edit, :update, :destroy]\n  def index\n     @posts = Post.all.order(\"created_at DESC\")\n  end\n\n  def new\n   @post = Post.new\n  end\n\n  def create\n   @post = Post.new(post_params)\n\n   if @post.save\n      redirect_to @post\n   else\n      render 'new'\n   end\n  end\n\n  def show\n  end\n\n  def edit\n  end\n\n  def update\n\n     if @post.update(post_params)\n        redirect_to @post\n     else\n        render 'edit'\n     end\n  end\n\n  def destroy\n     @post.destroy\n     redirect_to root_path\n  end\n\n  private\n\n  def find_post\n     @post = Post.find(params[:id])\n  end\n\n  def post_params\n     params.require(:post).permit(:title, :body)\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby", "cucumber"], "comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1458740281, "post_id": 36172864, "comment_id": 59994502, "body": "Just a few style comments: the scenario will read better if you don&#39;t use IDs but instead use actual names (have the step implementations do the appropriate lookups). The &quot;Then I logout&quot; step can be accommodated in an After step (see <a href=\"https://github.com/cucumber/cucumber/wiki/Hooks\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber/wiki/Hooks</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 1441, "user_id": 6060224, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/miz4X.gif?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/6060224/anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1458724047, "creation_date": 1458724047, "answer_id": 36173820, "question_id": 36172864, "link": "https://stackoverflow.com/questions/36172864/cucumber-running-parallel-scenarios/36173820#36173820", "title": "Cucumber - running parallel scenarios", "body": "<p>Take a look at this. It might be the solution to your problem:</p>\n\n<p><a href=\"https://github.com/grosser/parallel_tests\" rel=\"nofollow\">https://github.com/grosser/parallel_tests</a></p>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 2895913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45ea77f684ca36d7870d495731280375?s=128&d=identicon&r=PG", "display_name": "Sugat Mankar", "link": "https://stackoverflow.com/users/2895913/sugat-mankar"}, "is_accepted": false, "score": 2, "last_activity_date": 1482736688, "last_edit_date": 1482736688, "creation_date": 1482736289, "answer_id": 41327678, "question_id": 36172864, "link": "https://stackoverflow.com/questions/36172864/cucumber-running-parallel-scenarios/41327678#41327678", "title": "Cucumber - running parallel scenarios", "body": "<p>You can use opensource plugin <a href=\"https://github.com/temyers/cucumber-jvm-parallel-plugin\" rel=\"nofollow noreferrer\">cucumber-jvm-parallel-plugin</a> which has many advantages over existing solutions but its only for java. Available at maven <a href=\"https://mvnrepository.com/artifact/com.github.temyers/cucumber-jvm-parallel-plugin\" rel=\"nofollow noreferrer\">repository</a></p>\n\n<pre><code>   &lt;dependency&gt;\n     &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n     &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n\n<ol>\n<li><p>First you need to add this dependency and plugin with required configuration in your project pom file.</p>\n\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n     &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n     &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;plugin&gt;\n  &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n  &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.2.0&lt;/version&gt;\n  &lt;executions&gt;\n     &lt;execution&gt;\n     &lt;id&gt;generateRunners&lt;/id&gt;\n     &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n     &lt;goals&gt;\n       &lt;goal&gt;generateRunners&lt;/goal&gt;\n     &lt;/goals&gt;\n     &lt;configuration&gt;\n         &lt;!-- Mandatory --&gt;\n         &lt;!-- comma separated list of package names to scan for glue code --&gt;\n         &lt;glue&gt;foo, bar&lt;/glue&gt;\n         &lt;outputDirectory&gt;${project.build.directory}/generated-test-sources/cucumber&lt;/outputDirectory&gt;\n          &lt;!-- The directory, which must be in the root of the runtime classpath, containing your feature files.  --&gt;\n           &lt;featuresDirectory&gt;src/test/resources/features/&lt;/featuresDirectory&gt;\n          &lt;!-- Directory where the cucumber report files shall be written  --&gt;\n          &lt;cucumberOutputDir&gt;target/cucumber-parallel&lt;/cucumberOutputDir&gt;\n          &lt;!-- comma separated list of output formats json,html,rerun.txt --&gt;\n          &lt;format&gt;json&lt;/format&gt;\n          &lt;!-- CucumberOptions.strict property --&gt;\n          &lt;strict&gt;true&lt;/strict&gt;\n          &lt;!-- CucumberOptions.monochrome property --&gt;\n          &lt;monochrome&gt;true&lt;/monochrome&gt;\n          &lt;!-- The tags to run, maps to CucumberOptions.tags property you can pass ANDed tags like \"@tag1\",\"@tag2\" and ORed tags like \"@tag1,@tag2,@tag3\" --&gt;\n         &lt;tags&gt;&lt;/tags&gt;\n         &lt;!-- If set to true, only feature files containing the required tags shall be generated. --&gt;\n         &lt;filterFeaturesByTags&gt;false&lt;/filterFeaturesByTags&gt;\n         &lt;!-- Generate TestNG runners instead of default JUnit ones. --&gt; \n         &lt;useTestNG&gt;false&lt;/useTestNG&gt;\n         &lt;!-- The naming scheme to use for the generated test classes.  One of 'simple' or 'feature-title' --&gt; \n        &lt;namingScheme&gt;simple&lt;/namingScheme&gt;\n        &lt;!-- The class naming pattern to use.  Only required/used if naming scheme is 'pattern'.--&gt;\n        &lt;namingPattern&gt;Parallel{c}IT&lt;/namingPattern&gt;\n        &lt;!-- One of [SCENARIO, FEATURE]. SCENARIO generates one runner per scenario.  FEATURE generates a runner per feature. --&gt;\n        &lt;parallelScheme&gt;SCENARIO&lt;/parallelScheme&gt;\n        &lt;!-- This is optional, required only if you want to specify a custom template for the generated sources (this is a relative path) --&gt;\n        &lt;customVmTemplate&gt;src/test/resources/cucumber-custom-runner.vm&lt;/customVmTemplate&gt;\n        &lt;/configuration&gt;\n       &lt;/execution&gt;\n     &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre></li>\n<li><p>Now add below plugin just below above plugin which will invoke runner classes generated by above plugin</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.19&lt;/version&gt;\n        &lt;configuration&gt; \n            &lt;forkCount&gt;5&lt;/forkCount&gt;\n            &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*IT.class&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre></li>\n<li><p>Above two plugins will do magic for cucumber test running in parallel (provided you machine also have advanced hardware support).</p></li>\n<li><p>Strictly provided  <code>&lt;forkCount&gt;n&lt;/forkCount&gt;</code> here 'n' is directly proportional to 1) Advanced Hardware support and 2) you available nodes i.e. registered browser instances to HUB.</p></li>\n<li><p>One major and most important changes is your WebDriver class must be <strong>SHARED</strong> and you should <strong>not</strong> implement driver.quit() method, as closing is take care by shutdown hook.</p>\n\n<pre><code>import cucumber.api.Scenario;\nimport cucumber.api.java.After;\nimport cucumber.api.java.Before;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebDriverException;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.events.EventFiringWebDriver;\n\npublic class SharedDriver extends EventFiringWebDriver {\n    private static WebDriver REAL_DRIVER = null;\n\n\n\n    private static final Thread CLOSE_THREAD = new Thread() {\n        @Override\n        public void run() {\n            REAL_DRIVER.close();\n        }\n    };\n\n    static {\n        Runtime.getRuntime().addShutdownHook(CLOSE_THREAD);\n    }\n\n    public SharedDriver() {\n        super(CreateDriver());\n    }\n\n    public static WebDriver CreateDriver() {\n        WebDriver webDriver;\n        if (REAL_DRIVER == null)\n            webDriver = new FirefoxDriver();\n        setWebDriver(webDriver);\n        return webDriver;\n    }\n\n    public static void setWebDriver(WebDriver webDriver) {\n        this.REAL_DRIVER = webDriver;\n    }\n\n    public static WebDriver getWebDriver() {\n        return this.REAL_DRIVER;\n    }\n\n    @Override\n    public void close() {\n        if (Thread.currentThread() != CLOSE_THREAD) {\n            throw new UnsupportedOperationException(\"You shouldn't close this WebDriver. It's shared and will close when the JVM exits.\");\n        }\n        super.close();\n    }\n\n    @Before\n    public void deleteAllCookies() {\n        manage().deleteAllCookies();\n    }\n\n    @After\n    public void embedScreenshot(Scenario scenario) {\n        try {\n            byte[] screenshot = getScreenshotAs(OutputType.BYTES);\n            scenario.embed(screenshot, \"image/png\");\n        } catch (WebDriverException somePlatformsDontSupportScreenshots) {\n            System.err.println(somePlatformsDontSupportScreenshots.getMessage());\n        }\n    }\n}\n</code></pre></li>\n<li><p>Considering you want to execute more than 50 threads i.e. same no of browser instances are registered to HUB but Hub will die if it doesn't get enough memory therefore to avoid this critical situation you should start hub with -DPOOL_MAX=512 (or larger) as stated in <a href=\"https://github.com/SeleniumHQ/selenium/wiki/Grid2\" rel=\"nofollow noreferrer\">grid2 documentation</a>.</p>\n\n<p><code>Really large (&gt;50 node) Hub installations may need to increase the jetty threads by setting -DPOOL_MAX=512 (or larger) on the java command line.</code></p>\n\n<p><code>java -jar selenium-server-standalone-&lt;version&gt;.jar -role hub -DPOOL_MAX=512</code></p></li>\n</ol>\n"}], "owner": {"reputation": 855, "user_id": 3759265, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/19a877022888fb56ba9c69541a3f09db?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3759265/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532503239, "creation_date": 1458720898, "last_edit_date": 1532503239, "question_id": 36172864, "link": "https://stackoverflow.com/questions/36172864/cucumber-running-parallel-scenarios", "title": "Cucumber - running parallel scenarios", "body": "<p>I have a test in Cucumber which is using the Example Table format.  Could I get Cucumber to run each line of the table in parallel. </p>\n\n<p>Scenario Outline: e_5_1 Check Convicting Court Codes in English 2</p>\n\n<p>Given I navigate to the customer portal search screen<br>\nWhen I enter <code>DLN</code>, <code>NI</code> and <code>Postcode</code> from row <code>&lt;user_row&gt;</code> and access <code>Penalties</code> and <code>disqualifications</code><br>\nAnd click on the endorsement in order to confirm court description from rows <code>&lt;row1&gt;</code> to <code>&lt;row2&gt;</code></p>\n\n<p>Then I Logout</p>\n\n<pre><code>  Examples:\n    | user_row  | row1      | row2      |\n    |   2       |   2       |   51      |\n    |   52      |   52      |   98      |\n    |   99      |   99      |   148     |\n    |   149     |   149     |   198     |\n</code></pre>\n\n<p>Normally, I would say run test.feature for the line number and it would iterate through each row one at a time, or using the line number I could specify in which line the table row sits.</p>\n\n<p>Could I get it to run all 4 rows in parallel at the same time?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["ruby", "csv", "ubuntu"], "comments": [{"owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "edited": false, "score": 0, "creation_date": 1458721128, "post_id": 36172821, "comment_id": 59981806, "body": "Works fine for me. <a href=\"http://asciinema.org/a/5ofd8fs5xsi8e2xikty1x2soe\" rel=\"nofollow noreferrer\">asciinema.org/a/5ofd8fs5xsi8e2xikty1x2soe</a>"}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1458723501, "post_id": 36172821, "comment_id": 59983121, "body": "Me too. Ubuntu 15.10"}, {"owner": {"reputation": 140, "user_id": 1960681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bce35ad252722733edcccb70e88ef03a?s=128&d=identicon&r=PG", "display_name": "Scoala", "link": "https://stackoverflow.com/users/1960681/scoala"}, "edited": false, "score": 0, "creation_date": 1458727536, "post_id": 36172821, "comment_id": 59985710, "body": "thank you for looking, what I discovered is that if I remove the headers then the csv gets parsed. the problem must lay somewhere there"}, {"owner": {"reputation": 140, "user_id": 1960681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bce35ad252722733edcccb70e88ef03a?s=128&d=identicon&r=PG", "display_name": "Scoala", "link": "https://stackoverflow.com/users/1960681/scoala"}, "edited": false, "score": 0, "creation_date": 1458730188, "post_id": 36172821, "comment_id": 59987539, "body": "I found the issue, the headers row was ending in /n and the ones below were ending in /r. I just added /r to the header row"}], "answers": [{"tags": [], "owner": {"reputation": 140, "user_id": 1960681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bce35ad252722733edcccb70e88ef03a?s=128&d=identicon&r=PG", "display_name": "Scoala", "link": "https://stackoverflow.com/users/1960681/scoala"}, "is_accepted": false, "score": 0, "last_activity_date": 1458730249, "creation_date": 1458730249, "answer_id": 36176120, "question_id": 36172821, "link": "https://stackoverflow.com/questions/36172821/oppening-csv-file-with-ruby-in-ubuntu-not-working/36176120#36176120", "title": "Oppening csv file with ruby in Ubuntu not working", "body": "<p>The headers row was ending in /n and the ones below were ending in /r.\nI just added /r to the header row</p>\n"}], "owner": {"reputation": 140, "user_id": 1960681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bce35ad252722733edcccb70e88ef03a?s=128&d=identicon&r=PG", "display_name": "Scoala", "link": "https://stackoverflow.com/users/1960681/scoala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458730249, "creation_date": 1458720786, "question_id": 36172821, "link": "https://stackoverflow.com/questions/36172821/oppening-csv-file-with-ruby-in-ubuntu-not-working", "title": "Oppening csv file with ruby in Ubuntu not working", "body": "<p>I am creating a CSV file from a txt file in ruby and then I want to open it to parse it.\nIn windows it works fine but in Ubuntu when I try to run it it gives me this error</p>\n\n<pre><code>\"Unquoted fields do not allow \\r or \\n (line 2). (CSV::MalformedCSVError)\"\n</code></pre>\n\n<p>this is how I open the file</p>\n\n<pre><code> CSV.foreach(\"b2cStockXL.csv\", :headers =&gt; true) do |csv_obj|\n</code></pre>\n\n<p>sample of csv</p>\n\n<pre><code>EAN,Artikel,Color,Size,Lager,Karton,Gender\n4250484201561,9991,00/white,S,158,50,M\n4250484201578,9990,00/white,M,354,50,M\n</code></pre>\n\n<p>any help would be great</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 14087, "user_id": 1544012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbaed9ca8e4320fd64d1989c0e0f488b?s=128&d=identicon&r=PG", "display_name": "BoraMa", "link": "https://stackoverflow.com/users/1544012/borama"}, "is_accepted": true, "score": 6, "last_activity_date": 1458741365, "last_edit_date": 1495541877, "creation_date": 1458740087, "answer_id": 36179697, "question_id": 36172335, "link": "https://stackoverflow.com/questions/36172335/rails5-ruby-2-2-3-how-activesupporttimezone-changed/36179697#36179697", "title": "Rails5 - ruby 2.2.3 // how ActiveSupport::TimeZone changed?", "body": "<p>The best way is to look into the <a href=\"https://github.com/rails/rails/blob/master/activesupport/lib/active_support/values/time_zone.rb#L248\" rel=\"nofollow noreferrer\">current source code</a> for the <code>TimeZone</code> in <code>ActiveSupport</code>: the <code>zones_map</code> method <a href=\"https://github.com/rails/rails/commit/89d48fb342279767b1446c8233ab6abefca7919c\" rel=\"nofollow noreferrer\">has been made private</a>, so I guess you are getting this error under Rails 5:</p>\n\n<pre><code>NoMethodError: private method 'zones_map' called for ActiveSupport::TimeZone:Class\n</code></pre>\n\n<p>So now you have two options: either use <code>send</code> to call the private method anyway:</p>\n\n<pre><code>ActiveSupport::TimeZone.send(:zones_map)\n</code></pre>\n\n<p>Or, even better, if all you need is <code>values</code> of this map (as suggested in the <a href=\"https://stackoverflow.com/a/36158119/1544012\">answer to your yesterday's question</a>), then there is no need to hack around the <code>zones_map</code>. You can use the <code>all</code> method instead:</p>\n\n<pre><code>ActiveSupport::TimeZone.all\n</code></pre>\n\n<p>According to the <a href=\"https://github.com/rails/rails/blob/master/activesupport/lib/active_support/values/time_zone.rb#L217\" rel=\"nofollow noreferrer\">source</a>, the <code>all</code> method is equivalent to <code>zones_map.values.sort</code> and it is a normal public method so there's no need to <code>send</code> anything.</p>\n"}], "owner": {"reputation": 4429, "user_id": 102133, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/561a3a55352fe6a5343e541a6894b541?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/102133/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "accepted_answer_id": 36179697, "answer_count": 1, "score": 3, "last_activity_date": 1458741365, "creation_date": 1458718987, "last_edit_date": 1495540942, "question_id": 36172335, "link": "https://stackoverflow.com/questions/36172335/rails5-ruby-2-2-3-how-activesupporttimezone-changed", "title": "Rails5 - ruby 2.2.3 // how ActiveSupport::TimeZone changed?", "body": "<p>Asking a question yesterday (<a href=\"https://stackoverflow.com/questions/36157457/rails-query-by-timezone-during-daytime/36158119#36158119\">here</a>) about time zones, the following is not working with rails 5 running on ruby 2.2.3 : </p>\n\n<pre><code>ActiveSupport::TimeZone.zones_map\n</code></pre>\n\n<p>Where can one read about the differences of use between with this new version ? What could be the way to achieve the same ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": true, "score": 1, "last_activity_date": 1458718733, "creation_date": 1458718733, "answer_id": 36172273, "question_id": 36172167, "link": "https://stackoverflow.com/questions/36172167/rails-the-way-for-activerecord-associations-collectionproxy-to-call-method-of-a/36172273#36172273", "title": "Rails, The way for ActiveRecord_Associations_CollectionProxy to call method of ActiveRecord", "body": "<p>You can move the logic into a <code>scope</code></p>\n\n<pre><code>class BoardThread &lt; ActiveRecord::Base\n    belongs_to :board\n    has_many :likes, as: :likable\n\n    scope :with_likes, -&gt; {\n        select(\"*, (SELECT COUNT(likes.id) FROM likes WHERE likable_id = board_threads.id AND likable_type = 'BoardThread') AS likes_cnt\")\n    }\nend\n\nboard_threads = Board.first.board_threads.with_likes.order(...)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1458718948, "post_id": 36172304, "comment_id": 59980761, "body": "No, you can&#39;t achieve what @user2880239 want by this modification, because <code>Board.first.board_threads</code> is not the class <code>BoardThread</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "is_accepted": false, "score": 0, "last_activity_date": 1458718849, "creation_date": 1458718849, "answer_id": 36172304, "question_id": 36172167, "link": "https://stackoverflow.com/questions/36172167/rails-the-way-for-activerecord-associations-collectionproxy-to-call-method-of-a/36172304#36172304", "title": "Rails, The way for ActiveRecord_Associations_CollectionProxy to call method of ActiveRecord", "body": "<p>Slight change to the code is to add the self keyword to your method like so:</p>\n\n<pre><code>def self.select_with_likes\n  select(\"*, (SELECT COUNT(likes.id) FROM likes WHERE likable_id = board_threads.id AND likable_type = 'BoardThread') AS likes_cnt\")\nend\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 2880239, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ed7b20a075cb217a367f7719de0c6690?s=128&d=identicon&r=PG&f=1", "display_name": "myggul", "link": "https://stackoverflow.com/users/2880239/myggul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 36172273, "answer_count": 2, "score": 0, "last_activity_date": 1458718849, "creation_date": 1458718364, "question_id": 36172167, "link": "https://stackoverflow.com/questions/36172167/rails-the-way-for-activerecord-associations-collectionproxy-to-call-method-of-a", "title": "Rails, The way for ActiveRecord_Associations_CollectionProxy to call method of ActiveRecord", "body": "<p>Board &amp; BoardThread model</p>\n\n<pre><code>class Board &lt; ActiveRecord::Base\n    has_many :board_threads\nend\n\nclass BoardThread &lt; ActiveRecord::Base\n    belongs_to :board\n    has_many :likes, as: :likable\n\n    def select_with_likes\n        select(\"*, (SELECT COUNT(likes.id) FROM likes WHERE likable_id = board_threads.id AND likable_type = 'BoardThread') AS likes_cnt\")\n    end\nend\n</code></pre>\n\n<p>And I want to use 'select_with_likes' from ActiveRecord_Associations_CollectionProxy class like below.</p>\n\n<pre><code>b = Board.first\nb.board_threads.select_with_likes.order()...\n</code></pre>\n\n<p>What is awesome way to work this?</p>\n"}, {"tags": ["arrays", "ruby", "merge"], "comments": [{"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 4, "creation_date": 1458716493, "post_id": 36171644, "comment_id": 59979617, "body": "<code>a.zip(b)</code> should do"}, {"owner": {"reputation": 49, "user_id": 5837146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qNM76.jpg?s=128&g=1", "display_name": "Ahkshay Ravi", "link": "https://stackoverflow.com/users/5837146/ahkshay-ravi"}, "reply_to_user": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1458716676, "post_id": 36171644, "comment_id": 59979702, "body": "How can I do this inside an view file in rails santhosh?"}, {"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1458716851, "post_id": 36171644, "comment_id": 59979772, "body": "Do you mean erb/haml file? In erb, any code inside <code>&lt;%  %&gt;</code> will be executed, and inside <code>&lt;%= %&gt;</code> will be executed, and result will be output in the html"}, {"owner": {"reputation": 49, "user_id": 5837146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qNM76.jpg?s=128&g=1", "display_name": "Ahkshay Ravi", "link": "https://stackoverflow.com/users/5837146/ahkshay-ravi"}, "reply_to_user": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1458717114, "post_id": 36171644, "comment_id": 59979891, "body": "so if i do &lt;%  @calculate[0].zip(@calculate[6]) %&gt; will it work? Note: @calculate is an variable from my controller where i am storing all my arrays"}, {"owner": {"reputation": 49, "user_id": 5837146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qNM76.jpg?s=128&g=1", "display_name": "Ahkshay Ravi", "link": "https://stackoverflow.com/users/5837146/ahkshay-ravi"}, "reply_to_user": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1458717172, "post_id": 36171644, "comment_id": 59979921, "body": "How can I store this in an variable in my view.I am a newbie to rails and hence this noob questions."}, {"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1458717222, "post_id": 36171644, "comment_id": 59979944, "body": "Yes. You can do <code>&lt;% combined_arr =  @calculate[0].zip(@calculate[6]) %&gt;</code>"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458717398, "post_id": 36171644, "comment_id": 59980029, "body": "<code>Resultant Array</code> is an invalid name for a constant/variable. Give a working name."}, {"owner": {"reputation": 49, "user_id": 5837146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qNM76.jpg?s=128&g=1", "display_name": "Ahkshay Ravi", "link": "https://stackoverflow.com/users/5837146/ahkshay-ravi"}, "edited": false, "score": 0, "creation_date": 1458718052, "post_id": 36171644, "comment_id": 59980348, "body": "Santhosh thanks a lot! Your suggestion and timely help nailed down my problem"}], "answers": [{"tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": true, "score": 5, "last_activity_date": 1458716600, "creation_date": 1458716600, "answer_id": 36171706, "question_id": 36171644, "link": "https://stackoverflow.com/questions/36171644/combine-arrays-in-ruby/36171706#36171706", "title": "Combine arrays in Ruby", "body": "<p>You can use <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-zip\">Array#zip</a></p>\n\n<pre><code>a.zip(b)\n# =&gt; [[1, 1.36], [2, 0.085], [3, -1.19], [4, -0.34], [5, 3.698]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 2287022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8146e322bee2bd7aa1c6a0a2c2eaecec?s=128&d=identicon&r=PG", "display_name": "Anton Epikhin", "link": "https://stackoverflow.com/users/2287022/anton-epikhin"}, "is_accepted": false, "score": 0, "last_activity_date": 1458716767, "creation_date": 1458716767, "answer_id": 36171738, "question_id": 36171644, "link": "https://stackoverflow.com/questions/36171644/combine-arrays-in-ruby/36171738#36171738", "title": "Combine arrays in Ruby", "body": "<p>You can do:</p>\n\n<pre><code>a.zip(b) #=&gt; [[1,1.360],[2,0.085],[3,-1.190],[4,-0.340],[5,3.698]]\n</code></pre>\n\n<p>I didn't try it.</p>\n\n<p>Source: <a href=\"http://apidock.com/ruby/Array/zip\" rel=\"nofollow\">apidoc.com</a></p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 5837146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qNM76.jpg?s=128&g=1", "display_name": "Ahkshay Ravi", "link": "https://stackoverflow.com/users/5837146/ahkshay-ravi"}, "edited": false, "score": 0, "creation_date": 1458717982, "post_id": 36171774, "comment_id": 59980310, "body": "I tried your suggestion too it worked fine but I think &#39;zip&#39; is an better way which is  exactly used to handle these type of situations, Hence I have accepted &#39;zip&#39; as my answer. Thanks anyways for your suggestion too."}, {"owner": {"reputation": 6105, "user_id": 4002659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11c2eb99f1668b4d442780e34fc983d?s=128&d=identicon&r=PG&f=1", "display_name": "dp7", "link": "https://stackoverflow.com/users/4002659/dp7"}, "reply_to_user": {"reputation": 49, "user_id": 5837146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qNM76.jpg?s=128&g=1", "display_name": "Ahkshay Ravi", "link": "https://stackoverflow.com/users/5837146/ahkshay-ravi"}, "edited": false, "score": 0, "creation_date": 1458718060, "post_id": 36171774, "comment_id": 59980353, "body": "@AhkshayRavi Yes, I agree with you :)"}], "tags": [], "owner": {"reputation": 6105, "user_id": 4002659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11c2eb99f1668b4d442780e34fc983d?s=128&d=identicon&r=PG&f=1", "display_name": "dp7", "link": "https://stackoverflow.com/users/4002659/dp7"}, "is_accepted": false, "score": 3, "last_activity_date": 1458716913, "creation_date": 1458716913, "answer_id": 36171774, "question_id": 36171644, "link": "https://stackoverflow.com/questions/36171644/combine-arrays-in-ruby/36171774#36171774", "title": "Combine arrays in Ruby", "body": "<pre><code>a = [1, 2, 3, 4, 5]\nb = [1.360, 0.085, -1.190, -0.340, 3.698]\n</code></pre>\n\n<p>You can also try an alternative:</p>\n\n<pre><code>[a,b].transpose\n</code></pre>\n\n<p><strong>Note:</strong> <i>Use this when length of your array is same</i></p>\n"}], "owner": {"reputation": 49, "user_id": 5837146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qNM76.jpg?s=128&g=1", "display_name": "Ahkshay Ravi", "link": "https://stackoverflow.com/users/5837146/ahkshay-ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 36171706, "answer_count": 3, "score": -1, "last_activity_date": 1458717472, "creation_date": 1458716361, "last_edit_date": 1458717472, "question_id": 36171644, "link": "https://stackoverflow.com/questions/36171644/combine-arrays-in-ruby", "title": "Combine arrays in Ruby", "body": "<p>I have two arrays as in the listing given below.</p>\n\n<pre><code>a = [1, 2, 3, 4, 5]\nb = [1.360, 0.085, -1.190, -0.340, 3.698]\n</code></pre>\n\n<p>I need to merge the values at each index so that I get a structure resembling <code>Resultant Array</code>.</p>\n\n<pre><code>Resultant Array = [[1, 1.360], [2, 0.085], [3, -1.190], [4, -0.340], [5, 3.698]]\n</code></pre>\n\n<p>How do I go about doing it?</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "jquery-chosen"], "comments": [{"owner": {"reputation": 3022, "user_id": 336392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c144b7e260029f00b1efb08fb29bb023?s=128&d=identicon&r=PG", "display_name": "Thomas R. Koll", "link": "https://stackoverflow.com/users/336392/thomas-r-koll"}, "edited": false, "score": 1, "creation_date": 1458717004, "post_id": 36171627, "comment_id": 59979839, "body": "The code looks find so I&#39;d guess that your HTML is bad and you have more than one <code>select#product_tags</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2537, "user_id": 5371321, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ZFyVo.jpg?s=128&g=1", "display_name": "Narasimha Reddy - Geeker", "link": "https://stackoverflow.com/users/5371321/narasimha-reddy-geeker"}, "is_accepted": true, "score": 4, "last_activity_date": 1458813697, "creation_date": 1458813697, "answer_id": 36197479, "question_id": 36171627, "link": "https://stackoverflow.com/questions/36171627/jquery-chosen-plugin-add-options-dynamically-with-out-using-ajax/36197479#36197479", "title": "jQuery Chosen plugin add options dynamically with out using Ajax?", "body": "<p>Try this </p>\n\n<pre><code>$(\".chosen-container\").on('keyup',function(event) {\n  if(event.which === 13) {\n    $(\"#product_tags\").append('&lt;option value=\"' + $(event.target).val() + '\" selected=\"selected\"&gt;' + $(event.target).val() + '&lt;/option&gt;');\n    $(\"#product_tags\").trigger('chosen:updated');\n   }\n</code></pre>\n\n<p>});</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5710450"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2273, "favorite_count": 0, "accepted_answer_id": 36197479, "answer_count": 1, "score": 2, "last_activity_date": 1458813697, "creation_date": 1458716270, "question_id": 36171627, "link": "https://stackoverflow.com/questions/36171627/jquery-chosen-plugin-add-options-dynamically-with-out-using-ajax", "title": "jQuery Chosen plugin add options dynamically with out using Ajax?", "body": "<p>first of all this is not a duplicate question. i checked all the available questions i didn't find the solution.</p>\n\n<p>My Problem is, i am working in a project which is using <code>Jquery choosen</code> plug-in <code>version 1.5.1</code> to create multiple select form fields. in some <code>multi select fields</code> i need to add options dynamically if the option not available in the list. for example<br></p>\n\n<p>i have a <code>tags</code> field with 3 options<br>\n1. male<br>\n2.female<br>\n3.kids but i am allowing user can able to add any new tag like <code>young</code> <code>baby</code> for this field. to achieve this  i did like this in following tutorial\n<a href=\"https://boundlessjourney.wordpress.com/2014/06/12/adding-new-values-to-chosen-plugin/\" rel=\"nofollow\">add attributes dynamically in using chosen plugin</a>. </p>\n\n<p>this is working fine. but the problem is this is adding new values in all <code>multi-select</code> fields. some fields like <code>products</code> should not allow to add. i have a very less fields to add dynamic values. so want to impliment that <code>case 13</code> logic in the form itself to add tags. till now i tried like this</p>\n\n<pre><code>$('#product_tags').on( \"keypress\", function (e) {\n\n  if (e.which == 13) {\n    e.preventDefault();\n    $('#product_tags').empty();\n    $('#product_tags').append('&lt;option&gt;' + $(evt.target).val() + '&lt;/option&gt;');\n    $('#product_tags').trigger(\"chosen:updated\");\n  }\n});\n</code></pre>\n\n<p>its not working. how can i achieve this?? any help would be well appreciate.. thank you</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "post", "http-post"], "comments": [{"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1458717291, "post_id": 36171329, "comment_id": 59979975, "body": "I guess it&#39;s because your reverse proxy offloaded https, but I can&#39;t be sure without the configuration of the reverse proxy."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1458720561, "post_id": 36171734, "comment_id": 59981518, "body": "Is there another way? Because the request is from another API. I just need to determine in the controller whether they sent me an https or http request protocol."}, {"owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "reply_to_user": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1458720967, "post_id": 36171734, "comment_id": 59981733, "body": "You can do this at the Rack level with the rack-ssl-enforcer gem. It&#39;s configurable to allow exclusion of specific paths, hosts, and methods. If it meets your needs, I&#39;d recommend doing this over rolling your own solution."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "is_accepted": false, "score": 1, "last_activity_date": 1458716746, "creation_date": 1458716746, "answer_id": 36171734, "question_id": 36171329, "link": "https://stackoverflow.com/questions/36171329/why-is-the-request-protocol-always-http-instead-of-https/36171734#36171734", "title": "Why is the request.protocol always http instead of https?", "body": "<pre><code># config/application.rb\nmodule MyApp\n  class Application &lt; Rails::Application\n    config.force_ssl = true\n  end\nend\n</code></pre>\n\n<p>This will force rails to use https for all requests. </p>\n"}], "owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458716746, "creation_date": 1458715093, "last_edit_date": 1458715239, "question_id": 36171329, "link": "https://stackoverflow.com/questions/36171329/why-is-the-request-protocol-always-http-instead-of-https", "title": "Why is the request.protocol always http instead of https?", "body": "<p>I have this page that does a POST request:</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"https://staging.cathytest.com/user/signup\"&gt;\n    &lt;input name=\"data\" value=\"tsd213guHUUDUhyusgd4314yDTSgts435dfsg\" /&gt;\n    &lt;input type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Then the controller action <code>signup</code> will check if the request protocol is https. I get the protocol using <code>request.protocol</code>, but it always gives me http. Can you tell me what the problem is?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "vagrant", "puppet"], "answers": [{"tags": [], "owner": {"reputation": 44774, "user_id": 4296747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-muYS9LV5AoA/AAAAAAAAAAI/AAAAAAAACG4/KcTmlFyGWRI/photo.jpg?sz=128", "display_name": "Frederic Henri", "link": "https://stackoverflow.com/users/4296747/frederic-henri"}, "is_accepted": false, "score": 2, "last_activity_date": 1458717407, "creation_date": 1458717407, "answer_id": 36171912, "question_id": 36170772, "link": "https://stackoverflow.com/questions/36170772/how-to-install-rvm-via-vagrant-and-puppet/36171912#36171912", "title": "How to Install RVM via Vagrant and Puppet", "body": "<blockquote>\n  <p>I don't have puppet installed</p>\n</blockquote>\n\n<p>Yes, you do - puppet is installed on your VM, otherwise you would not be able to provision mysql and other.</p>\n\n<p>You probably run the command <code>puppet module install maestrodev-rvm</code> from your host, while this needs to be run on the VM.</p>\n\n<p>There are different ways how people have the modules setup on the VM (librarian, some downloads all in module/ folder...) what I do is to create a shell provisioning which will install all the necessary modules.\nIn your vagrantfile add </p>\n\n<pre><code>config.vm.provision \"shell\", path: \"puppet/script/install-puppet-modules.sh\"\n</code></pre>\n\n<p>make sure this line is before your puppet provision - the install-puppet-modules.sh will be something like</p>\n\n<pre><code>#!/bin/bash\n\nmkdir -p /etc/puppet/modules;\n\nif [ ! -d /etc/puppet/modules/maestrodev/rvm ]; then\n  puppet module install maestrodev-rvm --version xxx\nfi\n</code></pre>\n\n<p>I like to make a point to the version so if there's a new version of the module in the forge it might break, at least I know that version xxx has been tested.</p>\n\n<p>So now you're able to add <code>class { 'rvm': }</code> and so on to install rvm and ruby in your <code>puppet/manifests/development.pp</code> file</p>\n"}], "owner": {"reputation": 75, "user_id": 2093866, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d3613ab824f554f29422c6f5feae8628?s=128&d=identicon&r=PG", "display_name": "railsguy42", "link": "https://stackoverflow.com/users/2093866/railsguy42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458717407, "creation_date": 1458712463, "question_id": 36170772, "link": "https://stackoverflow.com/questions/36170772/how-to-install-rvm-via-vagrant-and-puppet", "title": "How to Install RVM via Vagrant and Puppet", "body": "<p>I'm provisioning a new Vagrant box for Ruby on Rails development (using VirtualBox) and would like to add RVM + ruby 2.3.0 as part of the Vagrant provisioning process.</p>\n\n<p>My Vagrantfile:</p>\n\n<pre><code># -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure(2) do |config|\n  config.vm.box = \"ubuntu/trusty64\"\n\n  config.vm.network \"forwarded_port\", guest: 3000, host: 3000\n\n  config.vm.provision :puppet do |puppet|\n    puppet.manifests_path = \"puppet/manifests\"\n    puppet.module_path    = \"puppet/modules\"\n    puppet.manifest_file  = \"development.pp\"\n  end\n\nend\n</code></pre>\n\n<p>And puppet/manifests/development.pp:</p>\n\n<pre><code>class requirements {\n  group { \"puppet\": ensure =&gt; \"present\", }\n  exec { \"apt-update\":\n    command =&gt; \"/usr/bin/apt-get -y update\"\n  }\n\n  package {\n    [\"mysql-client\", \"mysql-server\", \"libmysqlclient-dev\"]: \n      ensure =&gt; installed, require =&gt; Exec['apt-update']\n  }\n}\n\ninclude requirements\n</code></pre>\n\n<p>This just installs mysql at the moment. I'd like to add RVM + install a default ruby (2.3.0 for example).</p>\n\n<p>There is this guide:\n<a href=\"http://blog.csanchez.org/2014/01/14/installing-rvm-and-multiple-ruby-versions-with-puppet/\" rel=\"nofollow\">http://blog.csanchez.org/2014/01/14/installing-rvm-and-multiple-ruby-versions-with-puppet/</a></p>\n\n<p>Which uses this puppet module:\n<a href=\"https://forge.puppetlabs.com/maestrodev/rvm\" rel=\"nofollow\">https://forge.puppetlabs.com/maestrodev/rvm</a></p>\n\n<p>I don't have puppet installed, because when I try to run:</p>\n\n<pre><code>puppet module install maestrodev-rvm\n</code></pre>\n\n<p>I get \"-bash: puppet: command not found\".</p>\n\n<p>Looking through the Puppet docs, it appears rather complicated to install/setup a Puppet client/server. This seems like overkill just to use the RVM puppet module. Also, designers on the team will be using this process so it needs to be as simple as possible.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 14087, "user_id": 1544012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbaed9ca8e4320fd64d1989c0e0f488b?s=128&d=identicon&r=PG", "display_name": "BoraMa", "link": "https://stackoverflow.com/users/1544012/borama"}, "is_accepted": true, "score": 2, "last_activity_date": 1458722482, "creation_date": 1458722482, "answer_id": 36173343, "question_id": 36170032, "link": "https://stackoverflow.com/questions/36170032/cant-write-unknown-attribute-to-habtm-join-table-when-using-custom-foreign-ke/36173343#36173343", "title": "&quot;Can&#39;t write unknown attribute&quot; to HABTM join table when using custom foreign key", "body": "<p>You have written your HABTM foreign keys definitions in just the opposite way. Quoting from <a href=\"http://guides.rubyonrails.org/association_basics.html#has-and-belongs-to-many-association-reference\" rel=\"nofollow\">Rails guides</a>:</p>\n\n<blockquote>\n  <p><code>:association_foreign_key</code></p>\n  \n  <p>By convention, Rails assumes that the column in the join table used to hold the foreign key <strong>pointing to the other model</strong> is the name of that model with the suffix _id added. The :association_foreign_key option lets you set the name of the foreign key directly.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p><code>:foreign_key</code></p>\n  \n  <p>By convention, Rails assumes that the column in the join table used to hold the foreign key <strong>pointing to this model</strong> is the name of this model with the suffix _id added. The :foreign_key option lets you set the name of the foreign key directly</p>\n</blockquote>\n\n<p>So, the following should work:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_and_belongs_to_many :games, foreign_key: \"storyteller_id\"\nend\n\nclass Game &lt; ActiveRecord::Base\n  has_and_belongs_to_many :storytellers, class_name: \"User\", \n                                         association_foreign_key: \"storyteller_id\"\nend\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 2706191, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/74ab0e27ab31ced61604276e6ce6f3fb?s=128&d=identicon&r=PG&f=1", "display_name": "user2706191", "link": "https://stackoverflow.com/users/2706191/user2706191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 1, "accepted_answer_id": 36173343, "answer_count": 1, "score": 1, "last_activity_date": 1458722482, "creation_date": 1458708368, "last_edit_date": 1458708689, "question_id": 36170032, "link": "https://stackoverflow.com/questions/36170032/cant-write-unknown-attribute-to-habtm-join-table-when-using-custom-foreign-ke", "title": "&quot;Can&#39;t write unknown attribute&quot; to HABTM join table when using custom foreign key", "body": "<p>A User can HABTM Games and a Game can HABTM Users as Storytellers, to differentiate them from a later relationship where a Game will have many Users as Participants.</p>\n\n<p>Rails throws the error \"can't write unknown attribute `user_id'\" when I attempt to add the user-input User objects to @game.storytellers via the create method in the Games controller.</p>\n\n<p>I'm pretty sure the problem lies in my last migration (at the bottom of this post).</p>\n\n<p>models/user.rb    </p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n    has_and_belongs_to_many :games, association_foreign_key: \"storyteller_id\"\nend\n</code></pre>\n\n<p>models/game.rb</p>\n\n<pre><code>class Game &lt; ActiveRecord::Base\n    has_and_belongs_to_many :storytellers, class_name: \"User\", \n                                           foreign_key: \"storyteller_id\"\n    attr_accessor :storyteller_group\nend\n</code></pre>\n\n<p>controllers/games.rb</p>\n\n<pre><code>  def create\n    @game = Game.new(game_params)\n    @game.storytellers &lt;&lt; params[:game][:storyteller_group].split(\",\").collect { |n| User.find_by(name: n) }\n\n    respond_to do |format|\n      if @game.save\n        format.html { redirect_to @game, notice: 'Game was successfully created.' }\n        format.json { render :show, status: :created, location: @game }\n      else\n        format.html { render :new }\n        format.json { render json: @game.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n\n<p>views/games/_form.html.erb</p>\n\n<pre><code>&lt;%= form_for(@game) do |f| %&gt;\n    [snip]\n\n    &lt;!-- Additional storytellers--&gt;\n    &lt;div class=\"field\"&gt;\n        &lt;%= f.label :storyteller_group, id: \"create-game\" %&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;%= f.text_field :storyteller_group, value: current_user.name %&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    [snip]\n&lt;% end %&gt;\n</code></pre>\n\n<p>db/migrations/create_users.rb</p>\n\n<pre><code>class CreateUsers &lt; ActiveRecord::Migration\n  def change\n    create_table :users do |t|\n      t.string :name\n      t.index :name\n\n      t.string :email\n      t.index :email\n\n      [snip]\n\n      t.timestamps\n    end\n  end\nend\n</code></pre>\n\n<p>db/migrations/create_games.rb</p>\n\n<pre><code>Class CreateGames &lt; ActiveRecord::Migration\n  def change\n    create_table :games do |t|\n      t.string :name\n      t.text :description\n      t.string :source\n\n      t.timestamps\n    end\n  end\nend\n</code></pre>\n\n<p>db/migrations/games_users.rb</p>\n\n<pre><code>class GamesUsers &lt; ActiveRecord::Migration\n  def change\n    create_table :games_users, id: false do |t|\n      t.belongs_to :game, index: true\n      t.integer :storyteller_id, index: true\n    end\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1458705332, "post_id": 36169442, "comment_id": 59975983, "body": "post your routes.."}, {"owner": {"reputation": 382, "user_id": 3308003, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AiKlE.png?s=128&g=1", "display_name": "rony", "link": "https://stackoverflow.com/users/3308003/rony"}, "reply_to_user": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1458705648, "post_id": 36169442, "comment_id": 59976085, "body": "@GokulM I have updated that for you."}], "answers": [{"tags": [], "owner": {"reputation": 7898, "user_id": 3437900, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/blKgR.jpg?s=128&g=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/3437900/illusionist"}, "is_accepted": true, "score": 1, "last_activity_date": 1458707238, "creation_date": 1458707238, "answer_id": 36169857, "question_id": 36169442, "link": "https://stackoverflow.com/questions/36169442/undefined-methods-in-linksshow-rails/36169857#36169857", "title": "Undefined methods in Links#Show Rails", "body": "<p>This is because </p>\n\n<pre><code>&lt;%= link_to 'Destroy', comment, ...\n</code></pre>\n\n<p>makes Rails to expect <code>comment_path</code> helper method to be present. But you have nested the resource <code>comments</code> inside <code>links</code>. </p>\n\n<p>So this might help you</p>\n\n<pre><code>&lt;%= link_to 'Destroy', link_comment_path(link_id: comment.link_id, id: comment.id), method: :delete,...\n</code></pre>\n\n<p>This answer might not be the best one; but it should work. Lets communicate</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 4245096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd71f8fd19572e66c0c1601ba8e4d69?s=128&d=identicon&r=PG", "display_name": "Mariah", "link": "https://stackoverflow.com/users/4245096/mariah"}, "is_accepted": false, "score": 0, "last_activity_date": 1458707626, "creation_date": 1458707626, "answer_id": 36169909, "question_id": 36169442, "link": "https://stackoverflow.com/questions/36169442/undefined-methods-in-linksshow-rails/36169909#36169909", "title": "Undefined methods in Links#Show Rails", "body": "<p>Your comment path is nested under links. You would have to access it as:</p>\n\n<pre><code>&lt;% if comment.user == current_user -%&gt;\n  &lt;%= link_to 'Destroy', \n              [@link, comment],\n              method: :delete,\n              data: { confirm: 'Are you sure?' }, \n              class: \"btn btn-sm btn-default\" \n  %&gt; \n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 3308003, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AiKlE.png?s=128&g=1", "display_name": "rony", "link": "https://stackoverflow.com/users/3308003/rony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 36169857, "answer_count": 2, "score": 1, "last_activity_date": 1458707626, "creation_date": 1458704646, "last_edit_date": 1458705629, "question_id": 36169442, "link": "https://stackoverflow.com/questions/36169442/undefined-methods-in-linksshow-rails", "title": "Undefined methods in Links#Show Rails", "body": "<p>I want to make button Destroy in rails app, but it shows the comment </p>\n\n<pre><code>    undefined method `comment_path' for #&lt;#&lt;Class:0x007fe0566264c8&gt;:0x007fe05a5df3f8&gt;\n    Did you mean?  font_path\n</code></pre>\n\n<p>While I don't have font_path, and when I get rid of this pseudocode, the problem is gone but I can't destroy comment.</p>\n\n<pre><code>  &lt;% if comment.user == current_user -%&gt;\n            &lt;%= link_to 'Destroy', comment, method: :delete, data: { confirm: 'Are you sure?' }, class: \"btn btn-sm btn-default\" %&gt;\n        &lt;% end %&gt;\n</code></pre>\n\n<p>If I get rid of this, the problem is gone, but I can't delete the comment. If I put the @ symbol before comment in 'Destroy', it's not the comment that will be deleted, but the post. Here's the full code:</p>\n\n<pre><code>&lt;%= div_for(comment) do %&gt;\n&lt;div class=\"comments_wrapper clearfix\"&gt;\n    &lt;div class=\"pull-left\"&gt;\n        &lt;p class=\"lead\"&gt;&lt;%= comment.body %&gt;&lt;/p&gt;\n        &lt;p&gt;&lt;small&gt;Submitted &lt;strong&gt;&lt;%= time_ago_in_words(comment.created_at) %&gt; ago&lt;/strong&gt; by &lt;%= comment.user.email %&gt;&lt;/small&gt;&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"btn-group pull-right\"&gt;\n  &lt;% if comment.user == current_user -%&gt;\n            &lt;%= link_to 'Destroy', comment, method: :delete, data: { confirm: 'Are you sure?' }, class: \"btn btn-sm btn-default\" %&gt;\n        &lt;% end %&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n\n\n<p>This is my routes.rb code</p>\n\n<pre><code>    Rails.application.routes.draw do\n  devise_for :users\n  resources :links do\n    member do\n      put \"like\", to: \"links#upvote\"\n      put \"dislike\", to: \"links#downvote\"\n    end\n    resources :comments\n  end\n\n  root to: \"links#index\"\n  # The priority is based upon order of creation: first created -&gt; highest priority.\n  # See how all your routes lay out with \"rake routes\".\n\n  # You can have the root of your site routed with \"root\"\n  # root 'welcome#index'\n\n  # Example of regular route:\n  #   get 'products/:id' =&gt; 'catalog#view'\n\n  # Example of named route that can be invoked with purchase_url(id: product.id)\n  #   get 'products/:id/purchase' =&gt; 'catalog#purchase', as: :purchase\n\n  # Example resource route (maps HTTP verbs to controller actions automatically):\n  #   resources :products\n\n  # Example resource route with options:\n  #   resources :products do\n  #     member do\n  #       get 'short'\n  #       post 'toggle'\n  #     end\n  #\n  #     collection do\n  #       get 'sold'\n  #     end\n  #   end\n\n  # Example resource route with sub-resources:\n  #   resources :products do\n  #     resources :comments, :sales\n  #     resource :seller\n  #   end\n\n  # Example resource route with more complex sub-resources:\n  #   resources :products do\n  #     #     resources :sales do\n  #       get 'recent', on: :collection\n  #     end\n  #   end\n\n  # Example resource route with concerns:\n  #   concern :toggleable do\n  #     post 'toggle'\n  #   end\n  #   resources :posts, concerns: :toggleable\n  #   resources :photos, concerns: :toggleable\n\n  # Example resource route within a namespace:\n  #   namespace :admin do\n  #     # Directs /admin/products/* to Admin::ProductsController\n  #     # (app/controllers/admin/products_controller.rb)\n  #     resources :products\n  #   end\nend\n</code></pre>\n\n<p>Thank you for your help!</p>\n"}, {"tags": ["ruby", "vim", "compilation"], "comments": [{"owner": {"reputation": 1868, "user_id": 2006429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/glOHj.jpg?s=128&g=1", "display_name": "rgajrawala", "link": "https://stackoverflow.com/users/2006429/rgajrawala"}, "edited": false, "score": 1, "creation_date": 1458706253, "post_id": 36169360, "comment_id": 59976270, "body": "What exactly are you looking for? It&#39;s difficult to understand what you are doing and what you want to achieve."}], "answers": [{"comments": [{"owner": {"reputation": 23477, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1458810724, "post_id": 36170476, "comment_id": 60026749, "body": "Not sure if <code>&lt;C-r&gt;</code> is a great example mapping, as it&#39;s already the commonly used <code>redo</code>... ;-)"}, {"owner": {"reputation": 63078, "user_id": 220147, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3881a28fe402dd2d1de44717486cae8?s=128&d=identicon&r=PG", "display_name": "Michael Kohl", "link": "https://stackoverflow.com/users/220147/michael-kohl"}, "edited": false, "score": 0, "creation_date": 1458811982, "post_id": 36170476, "comment_id": 60027375, "body": "Map it to something else then :)"}], "tags": [], "owner": {"reputation": 63078, "user_id": 220147, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3881a28fe402dd2d1de44717486cae8?s=128&d=identicon&r=PG", "display_name": "Michael Kohl", "link": "https://stackoverflow.com/users/220147/michael-kohl"}, "is_accepted": false, "score": 0, "last_activity_date": 1458724553, "last_edit_date": 1458724553, "creation_date": 1458710958, "answer_id": 36170476, "question_id": 36169360, "link": "https://stackoverflow.com/questions/36169360/how-to-compile-a-ruby-code-on-my-vim-editor-for-very-simple-and-easy-way-or-s/36170476#36170476", "title": "how to compile a ruby code on my vim-editor for very simple and easy way... or some trick", "body": "<p>You can try doing this to your <code>.vimrc</code>. It's not exactly sophisticated, but may be good enough for your needs:</p>\n\n<pre><code>\" Run current file as Ruby program\nnnoremap &lt;C-r&gt; :!ruby %&lt;CR&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7087, "user_id": 1389898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f2a3f2624a47edc48464d4929a7508?s=128&d=identicon&r=PG", "display_name": "dlmeetei", "link": "https://stackoverflow.com/users/1389898/dlmeetei"}, "is_accepted": false, "score": 1, "last_activity_date": 1458909033, "last_edit_date": 1458909033, "creation_date": 1458713321, "answer_id": 36170948, "question_id": 36169360, "link": "https://stackoverflow.com/questions/36169360/how-to-compile-a-ruby-code-on-my-vim-editor-for-very-simple-and-easy-way-or-s/36170948#36170948", "title": "how to compile a ruby code on my vim-editor for very simple and easy way... or some trick", "body": "<p>If your vim distribution has <code>ruby</code> support, can be confirmed using <code>vim --version |grep ruby</code>, Then </p>\n\n<pre><code> nnoremap &lt;F9&gt; :rubyfile %&lt;CR&gt;\n</code></pre>\n\n<p>This is will be more faster as this does not invoke an external command using <code>!ruby</code> and hence no shell launch. More details at <code>:help ruby</code>.</p>\n\n<p>Another way to complete the work irrespective of <code>ruby support</code>.\nYour vim distribution will come with <code>$VIMRUNTIME/compiler/ruby.vim</code> for <code>compiler</code> setting. If so, you can set it <code>:compiler ruby</code> for ruby files in your vimrc.</p>\n\n<p>This will allow you to just do <code>make</code> to accomplish what you are doing. But output looks somewhat clumsy. \nHence, Having a some keybinding will help</p>\n\n<pre><code>nnoremap &lt;f9&gt; :make&lt;CR&gt; :copen&lt;CR&gt;\n</code></pre>\n\n<p>This will open a <code>quickfix</code> for error. You can just press <kbd>F9</kbd> or any other key that you have mapped.</p>\n\n<p>You might also like to review quickfix commands at <code>:help quickfix</code></p>\n"}, {"tags": [], "owner": {"reputation": 23477, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "is_accepted": true, "score": 1, "last_activity_date": 1458733340, "creation_date": 1458733340, "answer_id": 36177244, "question_id": 36169360, "link": "https://stackoverflow.com/questions/36169360/how-to-compile-a-ruby-code-on-my-vim-editor-for-very-simple-and-easy-way-or-s/36177244#36177244", "title": "how to compile a ruby code on my vim-editor for very simple and easy way... or some trick", "body": "<p>You can use <code>:!!</code> to repeat the last <code>:!{cmd}</code>.</p>\n\n<p>You can type <code>:!ruby %</code> once, and then run <code>:!!</code>, which can of course be mapped to a key like:</p>\n\n<pre><code>nnoremap &lt;F8&gt; :!!&lt;CR&gt;\n</code></pre>\n\n<p>Or to write and run it (saves typing <code>:w</code>):</p>\n\n<pre><code>nnoremap &lt;F8&gt; :w&lt;CR&gt;:!!&lt;CR&gt;\n</code></pre>\n\n<p>This is a flexible solution, since you can replace <code>:!ruby %</code> with anything else (e.g. <code>:!coffee -c %</code>, <code>:!python %</code>, etc.).</p>\n"}], "owner": {"reputation": 3, "user_id": 6048318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFzXL.png?s=128&g=1", "display_name": "ddc", "link": "https://stackoverflow.com/users/6048318/ddc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 1, "accepted_answer_id": 36177244, "answer_count": 3, "score": -1, "last_activity_date": 1458909033, "creation_date": 1458704160, "last_edit_date": 1458712217, "question_id": 36169360, "link": "https://stackoverflow.com/questions/36169360/how-to-compile-a-ruby-code-on-my-vim-editor-for-very-simple-and-easy-way-or-s", "title": "how to compile a ruby code on my vim-editor for very simple and easy way... or some trick", "body": "<p>I'm trying to learn VIM editor , and I'm going to test some small code </p>\n\n<p>for ruby </p>\n\n<p>here is question.. </p>\n\n<p>When I compile and launch my small ruby code,</p>\n\n<ol>\n<li>Command-mode,</li>\n</ol>\n\n<p><code>:!ruby %</code></p>\n\n<ol start=\"2\">\n<li>Or Open another terminal,</li>\n</ol>\n\n<p><code>$ruby filename.rb</code> </p>\n\n<p>I did ,</p>\n\n<p>but.. its really stressful and I cannot focus....</p>\n\n<p>Is there any magical things?? , \nconfig .vimrc file then make a hot-key \nor... make some script by rubyself...??</p>\n"}, {"tags": ["ruby", "ubuntu"], "comments": [{"owner": {"reputation": 3152, "user_id": 1525759, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/LHtNL.jpg?s=128&g=1", "display_name": "Addison", "link": "https://stackoverflow.com/users/1525759/addison"}, "edited": false, "score": 1, "creation_date": 1458704113, "post_id": 36169068, "comment_id": 59975652, "body": "How did you install ruby?"}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1458710593, "post_id": 36169068, "comment_id": 59977491, "body": "Are you using some sort for ruby version manager (e.g. RVM)?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2066936"}, "reply_to_user": {"reputation": 3152, "user_id": 1525759, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/LHtNL.jpg?s=128&g=1", "display_name": "Addison", "link": "https://stackoverflow.com/users/1525759/addison"}, "edited": false, "score": 0, "creation_date": 1458733647, "post_id": 36169068, "comment_id": 59989786, "body": "@Addison sorry, don&#39;t remember... orde, &quot;rvm: command not found&quot; rbenv not installed either."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6102391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253dc5deca00ed8e3b3a0ec704d3546a?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6102391/raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1458711307, "creation_date": 1458711307, "answer_id": 36170545, "question_id": 36169068, "link": "https://stackoverflow.com/questions/36169068/how-is-this-path-being-set-to-ruby-for-new-user/36170545#36170545", "title": "How is this $PATH being set to ruby for new user?", "body": "<p>I faced similar issue. Please try with this option  dpkg --get-selections. </p>\n\n<p>As you might be knowing everything is considered as gems. Hence try with this also if above does not work...\n$ gem -h\nor\n$rvm list known\nand then you can install only the required version using\nrvm install ruby 2.0.0-p247 \nREFERNCE:- <a href=\"http://www.ruby-lang.org/en/downloads/\" rel=\"nofollow\">http://www.ruby-lang.org/en/downloads/</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2066936"}, "is_accepted": true, "score": 0, "last_activity_date": 1458780532, "creation_date": 1458780532, "answer_id": 36191380, "question_id": 36169068, "link": "https://stackoverflow.com/questions/36169068/how-is-this-path-being-set-to-ruby-for-new-user/36191380#36191380", "title": "How is this $PATH being set to ruby for new user?", "body": "<p>Turns out somewhere along the way, somehow, chruby got installed. The quick fix to resolve the user PATH not being overwritten was to disable the .sh chruby put in /etc/profile.d:</p>\n\n<pre><code>ubuntu@ip-10-10-10-10:/etc/profile.d$ ls -l\ntotal 16\n-rw-r--r-- 1 root root  663 Aug 19  2015 bash_completion.sh\n-rw-r--r-- 1 root root  147 Mar 21 00:58 chruby.sh\n-rw-r--r-- 1 root root 1559 Jul 29  2014 Z97-byobu.sh\n-rwxr-xr-x 1 root root 2691 Nov 23 18:41 Z99-cloud-locale-test.sh\nubuntu@ip-10-10-10-10:/etc/profile.d$ sudo mv chruby.sh chruby.sh.disabled\nubuntu@ip-10-10-10-10:/etc/profile.d$ ls\nbash_completion.sh  chruby.sh.disabled  Z97-byobu.sh  Z99-cloud-locale-test.sh\nubuntu@ip-10-10-10-10:/etc/profile.d$ sudo su - testuser\ntestuser@ip-10-10-10-10:~$ echo $PATH\n/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n</code></pre>\n\n<p>Better would be to uninstall chruby, but it's not obvious to me how to do that given I don't know / don't remember how it was installed.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2066936"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 36191380, "answer_count": 2, "score": 1, "last_activity_date": 1458780532, "creation_date": 1458702362, "question_id": 36169068, "link": "https://stackoverflow.com/questions/36169068/how-is-this-path-being-set-to-ruby-for-new-user", "title": "How is this $PATH being set to ruby for new user?", "body": "<p>I've been toying with chef, and may have installed ruby along the way. Now I would like to upgrade to ruby 2.0. Anyhow I'm curious what could have caused ruby to be added to the path of all new users? Note: there's no mention of ruby in the new user's .bashrc, .profile, or in the global /etc/environment:</p>\n\n<pre><code>ubuntu@ip-10-10-10-10:~$ sudo useradd -m testuser\nubuntu@ip-10-10-10-10:~$ sudo su - testuser\ntestuser@ip-10-10-10-10:~$ ls -la\ntotal 20\ndrwxr-xr-x 2 testuser testuser 4096 Mar 23 02:54 .\ndrwxr-xr-x 5 root     root     4096 Mar 23 02:54 ..\n-rw-r--r-- 1 testuser testuser  220 Apr  9  2014 .bash_logout\n-rw-r--r-- 1 testuser testuser 3637 Apr  9  2014 .bashrc\n-rw-r--r-- 1 testuser testuser  675 Apr  9  2014 .profile\ntestuser@ip-10-10-10-10:~$ echo $PATH\n/home/testuser/.gem/ruby/1.9.3/bin:/opt/rubies/1.9.3-p429/lib/ruby/gems/1.9.1/bin:/opt/rubies/1.9.3-p429/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\ntestuser@ip-10-10-10-10:~$ ruby --version\nruby 1.9.3p429 (2013-05-15 revision 40747) [x86_64-linux]\ntestuser@ip-10-10-10-10:~$ which ruby\n/opt/rubies/1.9.3-p429/bin/ruby\ntestuser@ip-10-10-10-10:~$\n</code></pre>\n\n<p>I'm at a loss as to where to look to find and remove the references to ruby 1.9.3 being added apparently automatically. </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 1544, "user_id": 4555367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/kA6dj.jpg?s=128&g=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4555367/prasad"}, "edited": false, "score": 0, "creation_date": 1458701400, "post_id": 36168724, "comment_id": 59974953, "body": "you should Know How to ask a question on stackoverflow"}, {"owner": {"reputation": 9, "user_id": 6101907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28594c9801d8904ffa0dcb784aeff709?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant", "link": "https://stackoverflow.com/users/6101907/nishant"}, "reply_to_user": {"reputation": 7898, "user_id": 3437900, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/blKgR.jpg?s=128&g=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/3437900/illusionist"}, "edited": false, "score": 0, "creation_date": 1459515143, "post_id": 36168724, "comment_id": 60333206, "body": "@illusionist:: Yes, I have tried by using the Resolv library of ruby               :: require &#39;resolv&#39;"}, {"owner": {"reputation": 9, "user_id": 6101907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28594c9801d8904ffa0dcb784aeff709?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant", "link": "https://stackoverflow.com/users/6101907/nishant"}, "reply_to_user": {"reputation": 1544, "user_id": 4555367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/kA6dj.jpg?s=128&g=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4555367/prasad"}, "edited": false, "score": 0, "creation_date": 1459515972, "post_id": 36168724, "comment_id": 60333867, "body": "@N.V.Prasad:::can you please tell me how to ask question on stackoverflow?"}, {"owner": {"reputation": 7898, "user_id": 3437900, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/blKgR.jpg?s=128&g=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/3437900/illusionist"}, "edited": false, "score": 1, "creation_date": 1459522068, "post_id": 36168724, "comment_id": 60338216, "body": "Nishant, please read this, <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and welcome to this community"}], "answers": [{"tags": [], "owner": {"reputation": 7898, "user_id": 3437900, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/blKgR.jpg?s=128&g=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/3437900/illusionist"}, "is_accepted": true, "score": 0, "last_activity_date": 1458700579, "creation_date": 1458700579, "answer_id": 36168817, "question_id": 36168724, "link": "https://stackoverflow.com/questions/36168724/i-want-to-find-ip-address-and-domain-name-of-server-whichever-we-connect-by-usin/36168817#36168817", "title": "I want to find Ip address and Domain name of server whichever we connect by using Ruby.?", "body": "<p>You can use <code>socket</code> from Ruby's standard library</p>\n\n<pre><code>require 'socket'\nSocket.getaddrinfo(\"www.ruby-lang.org\", \"http\", nil, :STREAM)\n# =&gt; [[\"AF_INET\", 80, \"carbon.ruby-lang.org\", \"221.186.184.68\", 2, 1, 6]] # PF_INET/SOCK_STREAM/IPPROTO_TCP\n\nIPSocket::getaddress('www.google.com') \n# =&gt; \"74.125.79.147\"\n</code></pre>\n\n<p>For more info you can see<br>\n<a href=\"http://docs.ruby-lang.org/en/2.1.0/Socket.html\" rel=\"nofollow\">http://docs.ruby-lang.org/en/2.1.0/Socket.html</a><br>\n<a href=\"http://ruby-doc.org/stdlib-2.3.0/libdoc/socket/rdoc/index.html\" rel=\"nofollow\">http://ruby-doc.org/stdlib-2.3.0/libdoc/socket/rdoc/index.html</a></p>\n"}], "owner": {"reputation": 9, "user_id": 6101907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28594c9801d8904ffa0dcb784aeff709?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant", "link": "https://stackoverflow.com/users/6101907/nishant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "closed_date": 1458723155, "accepted_answer_id": 36168817, "answer_count": 1, "score": -3, "last_activity_date": 1458700579, "creation_date": 1458699885, "question_id": 36168724, "link": "https://stackoverflow.com/questions/36168724/i-want-to-find-ip-address-and-domain-name-of-server-whichever-we-connect-by-usin", "closed_reason": "Needs more focus", "title": "I want to find Ip address and Domain name of server whichever we connect by using Ruby.?", "body": "<p>Means I want to create method which will find Ip address and Domain name of server by using Ruby.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "sqlite"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1458697059, "post_id": 36168315, "comment_id": 59973847, "body": "did you update your database.yml to use postgres instead of sqlite?"}, {"owner": {"reputation": 1457, "user_id": 2868510, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/069f0736011a9f950163f69bfc45b8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy K", "link": "https://stackoverflow.com/users/2868510/tommy-k"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1458699683, "post_id": 36168315, "comment_id": 59974488, "body": "@maxpleaner yes, but unsure if I did so correctly, I followed these instructions though: <a href=\"https://devcenter.heroku.com/articles/sqlite3\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/sqlite3</a>. I&#39;m going off past class/assignment which I had to deploy to heroku and I looked that their database.yml and they used sqlite so idk why those worked fine but now that I&#39;m doing this from scratch its giving me errors. Can I change only the <code>production</code> in the .yml since my gemfile has it only in <code>production</code> and <code>sqlite</code> for test and development or is that not how it works?"}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1458703432, "post_id": 36168315, "comment_id": 59975479, "body": "i think you actually dont need a production section as heroku generates one for you. See <a href=\"https://devcenter.heroku.com/articles/getting-started-with-rails4\" rel=\"nofollow noreferrer\">here</a> and look for the database.yml example. By the way, you can automate the postgres setup by using <code>rails new AppName -d postgresql</code>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "is_accepted": false, "score": 0, "last_activity_date": 1458716401, "creation_date": 1458716401, "answer_id": 36171653, "question_id": 36168315, "link": "https://stackoverflow.com/questions/36168315/detected-sqlite3-gem-which-is-not-supported-on-heroku-tried-other-solutions-b/36171653#36171653", "title": "Detected sqlite3 gem which is not supported on Heroku -- tried other solutions but to no avail", "body": "<p>Getting a SQLite error even though it is not in the Gemfile:</p>\n\n<p>If you\u2019ve removed the gem 'sqlite3' line from your Gemfile and are still getting errors while deploying to Heroku it is likely that another gem you are using has sqlite3 as a dependency. To help find the source of this dependency look in your Gemfile.lock for sqlite3. Find the gem that has sqlite3 as a dependency and remove it from your Gemfile. Once you\u2019ve done this run bundle install and ensure that sqlite3 no longer exists in your Gemfile.</p>\n\n<p>From <a href=\"https://devcenter.heroku.com/articles/sqlite3\" rel=\"nofollow\">devcenter</a></p>\n\n<p>So it appears to be that you should install posgresql locally and use that primarily. It is best practice to maintain database parity on dev and production servers anyway. </p>\n"}], "owner": {"reputation": 1457, "user_id": 2868510, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/069f0736011a9f950163f69bfc45b8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy K", "link": "https://stackoverflow.com/users/2868510/tommy-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458716401, "creation_date": 1458696909, "question_id": 36168315, "link": "https://stackoverflow.com/questions/36168315/detected-sqlite3-gem-which-is-not-supported-on-heroku-tried-other-solutions-b", "title": "Detected sqlite3 gem which is not supported on Heroku -- tried other solutions but to no avail", "body": "<p>Don't mark this as duplicate because I've tried the other solutions but I'm still getting this error. I accidentally put <code>gem 'sqlite3'</code> not under <code>:development</code> and now I keep getting the <code>Detected sqlite3 gem which is not supported on Heroku</code> error when I try to <code>git push heroku master</code>. I've confirmed that <code>gem install sqlite3 -v '1.3.11'</code> does work, which is what the error message suggests. </p>\n\n<p>Here is the Gemfile</p>\n\n<pre><code>source 'https://rubygems.org'\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '4.2.5.1'\n# Use SCSS for stylesheets\ngem 'sass-rails', '~&gt; 5.0'\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '&gt;= 1.3.0'\n# Use CoffeeScript for .coffee assets and views\ngem 'coffee-rails', '~&gt; 4.1.0'\n# See https://github.com/rails/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n# Use Haml as the templating library\ngem 'haml'\n# Use jquery as the JavaScript library\ngem 'jquery-rails'\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'turbolinks'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~&gt; 2.0'\n# bundle exec rake doc:rails generates the API under doc/api.\ngem 'sdoc', '~&gt; 0.4.0', group: :doc\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~&gt; 3.1.7'\n\n# Use Unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug'\n  gem 'sqlite3'\n  gem 'database_cleaner'\n  gem 'capybara'\n  gem 'launchy'\n  gem 'rspec-rails'\n  # Access an IRB console on exception pages or by using &lt;%= console %&gt; in views\n  gem 'web-console', '~&gt; 2.0'\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\nend\n\ngroup :test do\n  gem 'cucumber-rails' \n  gem 'cucumber-rails-training-wheels'\nend\n\ngroup :production do\n  gem 'pg' # for Heroku deployment\n  gem 'rails_12factor'\nend\n</code></pre>\n\n<p>And here is the Gemfile.lock, which I've deleted and regenerated</p>\n\n<pre><code>GEM\n  remote: https://rubygems.org/\n  specs:\n    actionmailer (4.2.5.1)\n      actionpack (= 4.2.5.1)\n      actionview (= 4.2.5.1)\n      activejob (= 4.2.5.1)\n      mail (~&gt; 2.5, &gt;= 2.5.4)\n      rails-dom-testing (~&gt; 1.0, &gt;= 1.0.5)\n    actionpack (4.2.5.1)\n      actionview (= 4.2.5.1)\n      activesupport (= 4.2.5.1)\n      rack (~&gt; 1.6)\n      rack-test (~&gt; 0.6.2)\n      rails-dom-testing (~&gt; 1.0, &gt;= 1.0.5)\n      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.2)\n    actionview (4.2.5.1)\n      activesupport (= 4.2.5.1)\n      builder (~&gt; 3.1)\n      erubis (~&gt; 2.7.0)\n      rails-dom-testing (~&gt; 1.0, &gt;= 1.0.5)\n      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.2)\n    activejob (4.2.5.1)\n      activesupport (= 4.2.5.1)\n      globalid (&gt;= 0.3.0)\n    activemodel (4.2.5.1)\n      activesupport (= 4.2.5.1)\n      builder (~&gt; 3.1)\n    activerecord (4.2.5.1)\n      activemodel (= 4.2.5.1)\n      activesupport (= 4.2.5.1)\n      arel (~&gt; 6.0)\n    activesupport (4.2.5.1)\n      i18n (~&gt; 0.7)\n      json (~&gt; 1.7, &gt;= 1.7.7)\n      minitest (~&gt; 5.1)\n      thread_safe (~&gt; 0.3, &gt;= 0.3.4)\n      tzinfo (~&gt; 1.1)\n    addressable (2.4.0)\n    arel (6.0.3)\n    binding_of_caller (0.7.2)\n      debug_inspector (&gt;= 0.0.1)\n    builder (3.2.2)\n    byebug (8.2.2)\n    capybara (2.6.2)\n      addressable\n      mime-types (&gt;= 1.16)\n      nokogiri (&gt;= 1.3.3)\n      rack (&gt;= 1.0.0)\n      rack-test (&gt;= 0.5.4)\n      xpath (~&gt; 2.0)\n    coffee-rails (4.1.1)\n      coffee-script (&gt;= 2.2.0)\n      railties (&gt;= 4.0.0, &lt; 5.1.x)\n    coffee-script (2.4.1)\n      coffee-script-source\n      execjs\n    coffee-script-source (1.10.0)\n    concurrent-ruby (1.0.1)\n    cucumber (2.3.3)\n      builder (&gt;= 2.1.2)\n      cucumber-core (~&gt; 1.4.0)\n      cucumber-wire (~&gt; 0.0.1)\n      diff-lcs (&gt;= 1.1.3)\n      gherkin (~&gt; 3.2.0)\n      multi_json (&gt;= 1.7.5, &lt; 2.0)\n      multi_test (&gt;= 0.1.2)\n    cucumber-core (1.4.0)\n      gherkin (~&gt; 3.2.0)\n    cucumber-rails (1.4.3)\n      capybara (&gt;= 1.1.2, &lt; 3)\n      cucumber (&gt;= 1.3.8, &lt; 3)\n      mime-types (&gt;= 1.16, &lt; 4)\n      nokogiri (~&gt; 1.5)\n      railties (&gt;= 3, &lt; 5)\n    cucumber-rails-training-wheels (1.0.0)\n      cucumber-rails (&gt;= 1.1.1)\n    cucumber-wire (0.0.1)\n    database_cleaner (1.5.1)\n    debug_inspector (0.0.2)\n    diff-lcs (1.2.5)\n    erubis (2.7.0)\n    execjs (2.6.0)\n    gherkin (3.2.0)\n    globalid (0.3.6)\n      activesupport (&gt;= 4.1.0)\n    haml (4.0.7)\n      tilt\n    i18n (0.7.0)\n    jbuilder (2.4.1)\n      activesupport (&gt;= 3.0.0, &lt; 5.1)\n      multi_json (~&gt; 1.2)\n    jquery-rails (4.1.1)\n      rails-dom-testing (&gt;= 1, &lt; 3)\n      railties (&gt;= 4.2.0)\n      thor (&gt;= 0.14, &lt; 2.0)\n    json (1.8.3)\n    launchy (2.4.3)\n      addressable (~&gt; 2.3)\n    loofah (2.0.3)\n      nokogiri (&gt;= 1.5.9)\n    mail (2.6.3)\n      mime-types (&gt;= 1.16, &lt; 3)\n    mime-types (2.99.1)\n    mini_portile2 (2.0.0)\n    minitest (5.8.4)\n    multi_json (1.11.2)\n    multi_test (0.1.2)\n    nokogiri (1.6.7.2)\n      mini_portile2 (~&gt; 2.0.0.rc2)\n    pg (0.18.4)\n    rack (1.6.4)\n    rack-test (0.6.3)\n      rack (&gt;= 1.0)\n    rails (4.2.5.1)\n      actionmailer (= 4.2.5.1)\n      actionpack (= 4.2.5.1)\n      actionview (= 4.2.5.1)\n      activejob (= 4.2.5.1)\n      activemodel (= 4.2.5.1)\n      activerecord (= 4.2.5.1)\n      activesupport (= 4.2.5.1)\n      bundler (&gt;= 1.3.0, &lt; 2.0)\n      railties (= 4.2.5.1)\n      sprockets-rails\n    rails-deprecated_sanitizer (1.0.3)\n      activesupport (&gt;= 4.2.0.alpha)\n    rails-dom-testing (1.0.7)\n      activesupport (&gt;= 4.2.0.beta, &lt; 5.0)\n      nokogiri (~&gt; 1.6.0)\n      rails-deprecated_sanitizer (&gt;= 1.0.1)\n    rails-html-sanitizer (1.0.3)\n      loofah (~&gt; 2.0)\n    rails_12factor (0.0.3)\n      rails_serve_static_assets\n      rails_stdout_logging\n    rails_serve_static_assets (0.0.5)\n    rails_stdout_logging (0.0.4)\n    railties (4.2.5.1)\n      actionpack (= 4.2.5.1)\n      activesupport (= 4.2.5.1)\n      rake (&gt;= 0.8.7)\n      thor (&gt;= 0.18.1, &lt; 2.0)\n    rake (11.1.1)\n    rdoc (4.2.2)\n      json (~&gt; 1.4)\n    rspec-core (3.4.4)\n      rspec-support (~&gt; 3.4.0)\n    rspec-expectations (3.4.0)\n      diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n      rspec-support (~&gt; 3.4.0)\n    rspec-mocks (3.4.1)\n      diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n      rspec-support (~&gt; 3.4.0)\n    rspec-rails (3.4.2)\n      actionpack (&gt;= 3.0, &lt; 4.3)\n      activesupport (&gt;= 3.0, &lt; 4.3)\n      railties (&gt;= 3.0, &lt; 4.3)\n      rspec-core (~&gt; 3.4.0)\n      rspec-expectations (~&gt; 3.4.0)\n      rspec-mocks (~&gt; 3.4.0)\n      rspec-support (~&gt; 3.4.0)\n    rspec-support (3.4.1)\n    sass (3.4.21)\n    sass-rails (5.0.4)\n      railties (&gt;= 4.0.0, &lt; 5.0)\n      sass (~&gt; 3.1)\n      sprockets (&gt;= 2.8, &lt; 4.0)\n      sprockets-rails (&gt;= 2.0, &lt; 4.0)\n      tilt (&gt;= 1.1, &lt; 3)\n    sdoc (0.4.1)\n      json (~&gt; 1.7, &gt;= 1.7.7)\n      rdoc (~&gt; 4.0)\n    spring (1.6.4)\n    sprockets (3.5.2)\n      concurrent-ruby (~&gt; 1.0)\n      rack (&gt; 1, &lt; 3)\n    sprockets-rails (3.0.4)\n      actionpack (&gt;= 4.0)\n      activesupport (&gt;= 4.0)\n      sprockets (&gt;= 3.0.0)\n    sqlite3 (1.3.11)\n    thor (0.19.1)\n    thread_safe (0.3.5)\n    tilt (2.0.2)\n    turbolinks (2.5.3)\n      coffee-rails\n    tzinfo (1.2.2)\n      thread_safe (~&gt; 0.1)\n    uglifier (3.0.0)\n      execjs (&gt;= 0.3.0, &lt; 3)\n    web-console (2.3.0)\n      activemodel (&gt;= 4.0)\n      binding_of_caller (&gt;= 0.7.2)\n      railties (&gt;= 4.0)\n      sprockets-rails (&gt;= 2.0, &lt; 4.0)\n    xpath (2.0.0)\n      nokogiri (~&gt; 1.3)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  byebug\n  capybara\n  coffee-rails (~&gt; 4.1.0)\n  cucumber-rails\n  cucumber-rails-training-wheels\n  database_cleaner\n  haml\n  jbuilder (~&gt; 2.0)\n  jquery-rails\n  launchy\n  pg\n  rails (= 4.2.5.1)\n  rails_12factor\n  rspec-rails\n  sass-rails (~&gt; 5.0)\n  sdoc (~&gt; 0.4.0)\n  spring\n  sqlite3\n  turbolinks\n  uglifier (&gt;= 1.3.0)\n  web-console (~&gt; 2.0)\n\nBUNDLED WITH\n   1.11.2\n</code></pre>\n\n<p>I'm not very experienced with ruby/rails so there may be something glaring obvious that I'm missing but I've tried the other solutions to this problem but I'm getting no where.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "date", "hash"], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1462126988, "post_id": 36167591, "comment_id": 61496139, "body": "Note that one of <code>@dates</code>&#39; keys is <code>nil</code>."}], "tags": [], "owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "is_accepted": true, "score": 1, "last_activity_date": 1458692925, "last_edit_date": 1458692925, "creation_date": 1458692009, "answer_id": 36167591, "question_id": 36167557, "link": "https://stackoverflow.com/questions/36167557/ruby-how-to-sum-values-of-a-hash-based-on-a-given-date-key/36167591#36167591", "title": "Ruby - How to sum values of a hash based on a given date (=key)?", "body": "<p>You can try with <code>select</code> and <code>sum</code>:</p>\n\n<pre><code>@dates.select{|d, _| d.strftime('%Y %m') == '2016 01'}.values.sum\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1458711983, "last_edit_date": 1458711983, "creation_date": 1458710485, "answer_id": 36170397, "question_id": 36167557, "link": "https://stackoverflow.com/questions/36167557/ruby-how-to-sum-values-of-a-hash-based-on-a-given-date-key/36170397#36170397", "title": "Ruby - How to sum values of a hash based on a given date (=key)?", "body": "<p><strong>Construct example hash</strong></p>\n\n<p>First let's construct a hash (<code>h</code>) that is similar to yours, but a bit smaller:</p>\n\n<pre><code>g = { \n  \"Thu, 03 Dec 2015\"=&gt; 1,\n  \"Fri, 11 Dec 2015\"=&gt; 2,\n  \"Mon, 14 Dec 2015\"=&gt; 3,\n  \"Tue, 15 Dec 2015\"=&gt; 4,\n  \"Wed, 16 Dec 2015\"=&gt; 5,\n  \"Fri, 18 Dec 2015\"=&gt; 6,\n  \"Mon, 21 Dec 2015\"=&gt; 7,\n  \"Mon, 04 Jan 2016\"=&gt; 8, \n  \"Fri, 08 Jan 2016\"=&gt; 9, \n  \"Wed, 13 Jan 2016\"=&gt; 0,\n  \"Thu, 14 Jan 2016\"=&gt; 0,\n  \"Wed, 09 Mar 2016\"=&gt;10, \n  \"Tue, 15 Mar 2016\"=&gt;11, \n  \"Wed, 16 Mar 2016\"=&gt;12, \n  \"Mon, 21 Mar 2016\"=&gt;13, \n  \"Tue, 22 Mar 2016\"=&gt; 0 }\n\nrequire 'date'\nrequire 'bigdecimal'\n\nh = { nil=&gt;0 }.tap { |h| g.each { |k,v|\n  h[Date.strptime(k, \"%a, %d %b %Y\")] = v.zero? ? 0 : BigDecimal.new(v) } }\n</code></pre>\n\n<p></p>    \n\n<pre><code>  #=&gt; {nil=&gt;0,\n  #    #&lt;Date: 2015-12-03 ((2457360j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef915c8e0,'0.1E1',9(27)&gt;,\n  #    #&lt;Date: 2015-12-11 ((2457368j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914ff28,'0.2E1',9(27)&gt;,\n  #    #&lt;Date: 2015-12-14 ((2457371j,0s,0n),+0s,2299161j) &gt;=&gt;\n  #      #&lt;BigDecimal:7faef914f938,'0.3E1',9(27)&gt;,\n  #    #&lt;Date: 2015-12-15 ((2457372j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914f7a8,'0.4E1',9(27)&gt;,\n  #    #&lt;Date: 2015-12-16 ((2457373j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914f320,'0.5E1',9(27)&gt;,\n  #    #&lt;Date: 2015-12-18 ((2457375j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914e8d0,'0.6E1',9(27)&gt;,\n  #    #&lt;Date: 2015-12-21 ((2457378j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914dde0,'0.7E1',9(27)&gt;,\n  #    #&lt;Date: 2016-01-04 ((2457392j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914dca0,'0.8E1',9(27)&gt;,\n  #    #&lt;Date: 2016-01-08 ((2457396j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914d390,'0.9E1',9(27)&gt;,\n  #    #&lt;Date: 2016-01-13 ((2457401j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      0,\n  #    #&lt;Date: 2016-01-14 ((2457402j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      0,\n  #    #&lt;Date: 2016-03-09 ((2457457j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef914cd28,'0.1E2',9(27)&gt;,\n  #    #&lt;Date: 2016-03-15 ((2457463j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef913ff60,'0.11E2',9(27)&gt;,\n  #    #&lt;Date: 2016-03-16 ((2457464j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef913f8d0,'0.12E2',9(27)&gt;,\n  #    #&lt;Date: 2016-03-21 ((2457469j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      #&lt;BigDecimal:7faef913f560,'0.13E2',9(27)&gt;,\n  #    #&lt;Date: 2016-03-22 ((2457470j,0s,0n),+0s,2299161j)&gt; =&gt;\n  #      0\n} \n</code></pre>\n\n<p>Here I've used the class methods <a href=\"http://ruby-doc.org/stdlib-2.2.0/libdoc/date/rdoc/Date.html#method-c-strptime\" rel=\"nofollow\">Date::strptime</a> and <a href=\"http://ruby-doc.org/stdlib-2.1.1/libdoc/bigdecimal/rdoc/BigDecimal.html#method-c-new\" rel=\"nofollow\">BigDecimal::new</a>.</p>\n\n<p><strong>Sum <code>BigDecimal</code> values by month</strong></p>\n\n<p>We can now use <a href=\"http://ruby-doc.org/core-2.2.0/Hash.html#method-i-reject\" rel=\"nofollow\">Hash#reject</a>, <a href=\"http://ruby-doc.org/core-2.2.0/Enumerable.html#method-i-group_by\" rel=\"nofollow\">Enumerable#group_by</a>, <a href=\"http://ruby-doc.org/core-2.2.0/Enumerable.html#method-i-map\" rel=\"nofollow\">Enumerable#map</a>, <a href=\"http://ruby-doc.org/core-2.2.0/Enumerable.html#method-i-reduce\" rel=\"nofollow\">Enumerable#reduce</a> (aka <code>inject</code>) and <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-to_h\" rel=\"nofollow\">Array#to_h</a> to obtain the results you require:</p>\n\n<pre><code>sums =\nh.reject { |k,_| k.nil? }.\n  group_by { |k,_| [k.year, k.month] }.\n  map { |yr_and_mon, arr| [yr_and_mon, arr.reduce(0) { |t,(_,bd)| t+bd }] }.\n  to_h\n    #=&gt; {[2015, 12]=&gt;#&lt;BigDecimal:7faef9197eb8,'0.28E2',9(18)&gt;,\n    #    [2016,  1]=&gt;#&lt;BigDecimal:7faef9197b70,'0.17E2',9(18)&gt;,\n    #    [2016,  3]=&gt;#&lt;BigDecimal:7faef9197760,'0.46E2',9(18)&gt;} \n</code></pre>\n\n<p>We see that the <code>BigDecimal</code> values more easily by converting them to integers:</p>\n\n<pre><code>sums.merge(sums) { |*,v| v.to_i }\n  #=&gt; {[2015, 12]=&gt;28, [2016, 1]=&gt;17, [2016, 3]=&gt;46} \n</code></pre>\n\n<p>Compare these results with the hash <code>g</code> at the beginning of this answer.</p>\n\n<p>I used the form of <a href=\"http://ruby-doc.org/core-2.2.0/Hash.html#method-i-merge\" rel=\"nofollow\">Hash#merge</a> that employs a block to determine the values of keys that are present in both hashes being merged. As I am merging <code>sums</code> with itself, the block is used to determine the values of all keys.</p>\n\n<p>Once you have the hash <code>sums</code> it's an easy task to print the totals by month and year in any format you want.</p>\n\n<p><strong>The steps</strong></p>\n\n<pre><code>h1 = h.reject { |k,_| k.nil? }.group_by { |k,_| [k.year, k.month] }\n  #=&gt; {[2015, 12]=&gt;[[#&lt;Date: 2015-12-03 ((2457360j,0s,0n),+0s,2299161j)&gt;,\n  #                    #&lt;BigDecimal:7faef915c8e0,'0.1E1',9(27)&gt;],\n  #                 [#&lt;Date: 2015-12-11 ((2457368j,0s,0n),+0s,2299161j)&gt;,\n  #                    #&lt;BigDecimal:7faef914ff28,'0.2E1',9(27)&gt;],\n  ...\n  #                    #&lt;BigDecimal:7faef9093850,'0.46E2',9(18)&gt;]]\na1 = h1.map { |yr_and_mon, arr| [yr_and_mon, arr.reduce(0) { |t,(_,bd)| t+bd }] }\n  #=&gt; [[[2015, 12], #&lt;BigDecimal:7faef9029dd8,'0.28E2',9(18)&gt;],\n  #    [[2016,  1], #&lt;BigDecimal:7faef90296a8,'0.17E2',9(18)&gt;],\n  #    [[2016,  3], #&lt;BigDecimal:7faef9028dc0,'0.46E2',9(18)&gt;]] \na1.to_h\n  #=&gt; {[2015, 12]=&gt;#&lt;BigDecimal:7faef9098710,'0.28E2',9(18)&gt;,\n  #    [2016,  1]=&gt;#&lt;BigDecimal:7faef9093da0,'0.17E2',9(18)&gt;,\n  #    [2016,  3]=&gt;#&lt;BigDecimal:7faef9093850,'0.46E2',9(18)&gt;}  \n</code></pre>\n"}], "owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 36167591, "answer_count": 2, "score": 0, "last_activity_date": 1458711983, "creation_date": 1458691776, "question_id": 36167557, "link": "https://stackoverflow.com/questions/36167557/ruby-how-to-sum-values-of-a-hash-based-on-a-given-date-key", "title": "Ruby - How to sum values of a hash based on a given date (=key)?", "body": "<p>I have these values in a hash:</p>\n\n<pre><code>{nil=&gt;0, \nThu, 03 Dec 2015=&gt;#&lt;BigDecimal:7ff496381db8,'0.151875E2',18(27)&gt;, \nFri, 04 Dec 2015=&gt;#&lt;BigDecimal:7ff496381cf0,'0.214375E2',18(27)&gt;, \nWed, 09 Dec 2015=&gt;#&lt;BigDecimal:7ff496381c28,'0.6229E2',18(27)&gt;, \nThu, 10 Dec 2015=&gt;#&lt;BigDecimal:7ff496381b60,'0.1243E2',18(27)&gt;, \nFri, 11 Dec 2015=&gt;#&lt;BigDecimal:7ff496381a98,'0.1243E2',18(27)&gt;, \nMon, 14 Dec 2015=&gt;#&lt;BigDecimal:7ff4963819d0,'0.6611E2',18(27)&gt;, \nTue, 15 Dec 2015=&gt;#&lt;BigDecimal:7ff496381908,'0.625E1',18(18)&gt;, \nWed, 16 Dec 2015=&gt;#&lt;BigDecimal:7ff496381840,'0.73345E2',18(27)&gt;, \nThu, 17 Dec 2015=&gt;#&lt;BigDecimal:7ff496381778,'0.31845E2',18(27)&gt;, \nFri, 18 Dec 2015=&gt;#&lt;BigDecimal:7ff4963816b0,'0.409225E2',18(27)&gt;, \nMon, 21 Dec 2015=&gt;#&lt;BigDecimal:7ff4963815e8,'0.8019E2',18(27)&gt;, \nMon, 28 Dec 2015=&gt;#&lt;BigDecimal:7ff496381520,'0.3125E2',18(27)&gt;, \nMon, 04 Jan 2016=&gt;#&lt;BigDecimal:7ff496381458,'0.125E2',18(27)&gt;, \nWed, 06 Jan 2016=&gt;#&lt;BigDecimal:7ff496381390,'0.625E2',18(27)&gt;, \nThu, 07 Jan 2016=&gt;#&lt;BigDecimal:7ff4963812c8,'0.9111E2',18(27)&gt;, \nFri, 08 Jan 2016=&gt;#&lt;BigDecimal:7ff4963811d8,'0.11972E3',18(27)&gt;, \nMon, 11 Jan 2016=&gt;#&lt;BigDecimal:7ff4963810e8,'0.5022E2',18(27)&gt;, \nWed, 13 Jan 2016=&gt;0, Thu, 14 Jan 2016=&gt;0, Fri, 15 Jan 2016=&gt;0, \nWed, 09 Mar 2016=&gt;#&lt;BigDecimal:7ff496380eb8,'0.258125E2',18(27)&gt;, \nTue, 15 Mar 2016=&gt;#&lt;BigDecimal:7ff496380da0,'0.631825E2',18(27)&gt;, \nWed, 16 Mar 2016=&gt;#&lt;BigDecimal:7ff496380cd8,'0.504225E2',18(27)&gt;, \nThu, 17 Mar 2016=&gt;#&lt;BigDecimal:7ff496380c10,'0.125E2',18(27)&gt;, \nFri, 18 Mar 2016=&gt;#&lt;BigDecimal:7ff496380b48,'0.631825E2',18(27)&gt;, \nMon, 21 Mar 2016=&gt;#&lt;BigDecimal:7ff496380a80,'0.167925E2',18(27)&gt;, \nTue, 22 Mar 2016=&gt;0}\n</code></pre>\n\n<p>I am looping through some calendar data (<code>@dates</code>) and from here I get two variables containing a specific year and month:</p>\n\n<pre><code>@dates.each do |d|\n    current_yer   = d.strftime('%Y') #2016\n    current_month = d.strftime('%m') # 01 - january\n</code></pre>\n\n<p>Now, I have variables containing the dates, I would like to print out a sum of all data in the hash; so in this case, I would like to get something like this as output:</p>\n\n<blockquote>\n  <p>2016 01: SUM of all January items in the hash</p>\n</blockquote>\n\n<p>specifically, SUM of these:</p>\n\n<pre><code>Mon, 04 Jan 2016=&gt;#&lt;BigDecimal:7ff496381458,'0.125E2',18(27)&gt;,\n\nWed, 06 Jan 2016=&gt;#&lt;BigDecimal:7ff496381390,'0.625E2',18(27)&gt;, \n\nThu, 07 Jan 2016=&gt;#&lt;BigDecimal:7ff4963812c8,'0.9111E2',18(27)&gt;, \n\nFri, 08 Jan 2016=&gt;#&lt;BigDecimal:7ff4963811d8,'0.11972E3',18(27)&gt;, \n\nMon, 11 Jan 2016=&gt;#&lt;BigDecimal:7ff4963810e8,'0.5022E2',18(27)&gt;, \n\nWed, 13 Jan 2016=&gt;0, Thu, 14 Jan 2016=&gt;0, Fri, 15 Jan 2016=&gt;0, \n</code></pre>\n\n<p>How to do this?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458691524, "post_id": 36167426, "comment_id": 59972259, "body": "STI subclasses should live on their own, not buried inside another. Having them in odd places will confuse the autoloader. At the very least this should be in <code>user&#47;buyer.rb</code>, but even better is to have it at the root, simply <code>buyer.rb</code> in <code>models</code>."}], "tags": [], "owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "is_accepted": false, "score": 2, "last_activity_date": 1458691106, "creation_date": 1458691106, "answer_id": 36167426, "question_id": 36167388, "link": "https://stackoverflow.com/questions/36167388/uninitialized-constant-buyer-nameerror-ruby-on-rails/36167426#36167426", "title": "uninitialized constant Buyer (NameError) Ruby on Rails", "body": "<p>Since <code>Buyer</code> class is defined inside <code>User</code> class (which is weird, but lets you use <code>get_name</code> method for <code>User</code> instances):</p>\n\n<pre><code>buyer1 = User::Buyer.new(\"jack\")\n</code></pre>\n\n<p><a href=\"https://repl.it/Bylr\" rel=\"nofollow\"><strong>Demonstration</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 9019159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080da344ace01293e4dc944184112f34?s=128&d=identicon&r=PG&f=1", "display_name": "Dr.Gonzo", "link": "https://stackoverflow.com/users/9019159/dr-gonzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1523442847, "creation_date": 1523442847, "answer_id": 49772801, "question_id": 36167388, "link": "https://stackoverflow.com/questions/36167388/uninitialized-constant-buyer-nameerror-ruby-on-rails/49772801#49772801", "title": "uninitialized constant Buyer (NameError) Ruby on Rails", "body": "<p>Try this:</p>\n\n<pre><code>class User\n\n  def initialize(name)\n     @name = name\n  end\n\n  def run\n    puts \"i am running\"\n  end\n\n  class Buyer &lt; User\n  end\n\n  def get_name\n    @name\n  end\n\nend\n\nclass Buyer &lt; User \n  # instantiate the Buyer class outside of the User class\nend\n\nuser = User.new(\"mike\")\nbuyer1 = Buyer.new(\"jack\")\nputs buyer1.run\nputs user.get_name\nputs user.run\n</code></pre>\n\n<p>While potashins answer is informative the above change to your code will help you more accurately understand what your doing here with inheritance.</p>\n\n<p>Instantiate the Buyer class outside of the User class and inherit User with &lt; User etc.   </p>\n"}], "owner": {"reputation": 97, "user_id": 6101149, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/3db722ca8df09cde48ce284b43f18bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Shasaco", "link": "https://stackoverflow.com/users/6101149/mike-shasaco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523442847, "creation_date": 1458690877, "last_edit_date": 1479711005, "question_id": 36167388, "link": "https://stackoverflow.com/questions/36167388/uninitialized-constant-buyer-nameerror-ruby-on-rails", "title": "uninitialized constant Buyer (NameError) Ruby on Rails", "body": "<p>I don't understand why I keep getting the error </p>\n\n<blockquote>\n  <p>uninitialized constant Buyer (NameError)</p>\n</blockquote>\n\n<p>When I created the subclass <code>Buyer</code>, i tried to run <code>puts buyer1.run</code> and it isn't working. I don't understand what I am doing wrong when trying to make a subclass to the parent class. </p>\n\n<pre><code>class User\n\n  def initialize(name)\n     @name = name\n  end\n\n  def run\n    puts \"i am running\"\n  end\n\n  class Buyer &lt; User\n  end\n\n  def get_name\n    @name\n  end\n\n\nend\n\nuser = User.new(\"mike\")\nbuyer1 = Buyer.new(\"jack\")\nputs buyer1.run\nputs user.get_name\nputs user.run\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "chef-infra", "chef-recipe"], "comments": [{"owner": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "edited": false, "score": 2, "creation_date": 1458690156, "post_id": 36167236, "comment_id": 59971779, "body": "Try using double slashes <code>c:\\\\buildinfo\\\\service-api...</code> and so forth."}, {"owner": {"reputation": 2779, "user_id": 2487334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3cfd9702eea6d8c79864a2d2b3934372?s=128&d=identicon&r=PG", "display_name": "Scooby", "link": "https://stackoverflow.com/users/2487334/scooby"}, "reply_to_user": {"reputation": 36449, "user_id": 2453699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b0a49d160baf7d95b81d798ea0cb65?s=128&d=identicon&r=PG", "display_name": "vee", "link": "https://stackoverflow.com/users/2453699/vee"}, "edited": false, "score": 0, "creation_date": 1458691870, "post_id": 36167236, "comment_id": 59972377, "body": "@vee - check edit please"}], "answers": [{"comments": [{"owner": {"reputation": 2779, "user_id": 2487334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3cfd9702eea6d8c79864a2d2b3934372?s=128&d=identicon&r=PG", "display_name": "Scooby", "link": "https://stackoverflow.com/users/2487334/scooby"}, "edited": false, "score": 0, "creation_date": 1458692081, "post_id": 36167288, "comment_id": 59972442, "body": "yes, the file exists.If I run the path in the system itself, it works. :/"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 2779, "user_id": 2487334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3cfd9702eea6d8c79864a2d2b3934372?s=128&d=identicon&r=PG", "display_name": "Scooby", "link": "https://stackoverflow.com/users/2487334/scooby"}, "edited": false, "score": 0, "creation_date": 1458692102, "post_id": 36167288, "comment_id": 59972449, "body": "Doesn&#39;t something like <code>command</code> run it on the remote machine?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 2779, "user_id": 2487334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3cfd9702eea6d8c79864a2d2b3934372?s=128&d=identicon&r=PG", "display_name": "Scooby", "link": "https://stackoverflow.com/users/2487334/scooby"}, "edited": false, "score": 0, "creation_date": 1458692271, "post_id": 36167288, "comment_id": 59972499, "body": "Are you sure? That looks suspiciously like a remote command execution attempt."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 2779, "user_id": 2487334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3cfd9702eea6d8c79864a2d2b3934372?s=128&d=identicon&r=PG", "display_name": "Scooby", "link": "https://stackoverflow.com/users/2487334/scooby"}, "edited": false, "score": 0, "creation_date": 1458692547, "post_id": 36167288, "comment_id": 59972570, "body": "Still pretty sure that&#39;s intended to execute remote commands. That&#39;s what tools like Chef are all about. Make sure that file exists on your target machine."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 2, "last_activity_date": 1458690305, "creation_date": 1458690305, "answer_id": 36167288, "question_id": 36167236, "link": "https://stackoverflow.com/questions/36167236/referencing-an-attribute-in-a-windows-path-string/36167288#36167288", "title": "referencing an attribute in a windows path string", "body": "<p>Using single quotes will not allow interpolation. Using double quotes will make the backslashes have special meaning, so <a href=\"https://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Literals#Backslash_Notation\" rel=\"nofollow\"><code>\\b</code> means \"backspace\"</a>.</p>\n\n<p>You can compromise by using the <code>%</code> operator to add content <code>printf</code>-style:</p>\n\n<pre><code>command('c:\\buildinfo\\service-api\\api\\approot\\web-%s.cmd' % node['default']['env'])\n</code></pre>\n"}], "owner": {"reputation": 2779, "user_id": 2487334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3cfd9702eea6d8c79864a2d2b3934372?s=128&d=identicon&r=PG", "display_name": "Scooby", "link": "https://stackoverflow.com/users/2487334/scooby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 36167288, "answer_count": 1, "score": 0, "last_activity_date": 1458691854, "creation_date": 1458689964, "last_edit_date": 1458691854, "question_id": 36167236, "link": "https://stackoverflow.com/questions/36167236/referencing-an-attribute-in-a-windows-path-string", "title": "referencing an attribute in a windows path string", "body": "<p>I have the following execute in chef:</p>\n\n<pre><code>#execute\nexecute 'service-api install' do\n  command 'c:\\buildinfo\\service-api\\api\\approot\\web-#{node['default']['env']}.cmd'\nend\n</code></pre>\n\n<p>its running in windows and #{node['default']['env']} is an attribute that I am trying to reference in the path string above. </p>\n\n<p>When I run this I get the following error:</p>\n\n<pre><code>&gt; SyntaxError\n&gt; ==&gt; default: -----------\n&gt; ==&gt; default: C:\\vagrant-chef\\319622f1791bb50a8f9441fd4c1ff806\\cookbooks\\djcm_paypal_win\\recipes\\installService.rb:76:\n&gt; syntax error, unexpected tIDENTIFIER, expecting keyword_end\n&gt; ==&gt; default: ...api\\approot\\web-#{node['default']['env']}.cmd'\n</code></pre>\n\n<p>If I try:</p>\n\n<pre><code> #execute\n    execute 'service-api install' do\n      command \"c:\\buildinfo\\service-api\\api\\approot\\web-#{node['default']['env']}.cmd\"\n    end\n</code></pre>\n\n<p>The slashes display in a different color(escape character?) and I get the following error: </p>\n\n<pre><code>[execute] The filename, directory name, or volume label syntax is incorrect.\n command \"c:\\buildinfo ervice-api\\api\\approotweb-integration.cmd\"\n</code></pre>\n\n<p>So it messes up around slashes but gets the attribute. How can I give an attribute in a string with slashes ?</p>\n\n<p>edit 1 :\n I tried both double slashes and the other solution, even though it now tries to find the right path but still gives a failure even though the file is present at that exact location and I can run it manually. Any ideas ?</p>\n\n<p>the error now : </p>\n\n<pre><code>* execute[service-api install] action run\n==&gt; default:     [execute] The system cannot find the path specified.\n==&gt; default:     \n==&gt; default: \n==&gt; default:     ================================================================================\n==&gt; default:     Error executing action `run` on resource 'execute[service-api install]'\n==&gt; default:     ================================================================================\n==&gt; default:     \n==&gt; default:     Mixlib::ShellOut::ShellCommandFailed\n==&gt; default:     ------------------------------------\n==&gt; default:     Expected process to exit with [0], but received '1'\n==&gt; default:     ---- Begin output of c:\\buildinfo\\service-api\\api\\approot\\web-integration.cmd ----\n==&gt; default:     STDOUT: \n==&gt; default:     STDERR: The system cannot find the path specified.\n==&gt; default:     ---- End output of c:\\buildinfo\\service-api\\api\\approot\\web-integration.cmd ----\n==&gt; default:     Ran c:\\buildinfo\\service-api\\api\\approot\\web-integration.cmd returned 1\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "bundler", "redmine", "gemfile"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 6101444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c885cf3273cd18cca07c1149b8f636f?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Gillette", "link": "https://stackoverflow.com/users/6101444/louis-gillette"}, "edited": false, "score": 0, "creation_date": 1458691170, "post_id": 36167153, "comment_id": 59972139, "body": "That line of database.yml contains the password for the mysql database; which starts with an &quot;@&quot;; looking for some type of escape character now."}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "reply_to_user": {"reputation": 65, "user_id": 6101444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c885cf3273cd18cca07c1149b8f636f?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Gillette", "link": "https://stackoverflow.com/users/6101444/louis-gillette"}, "edited": false, "score": 2, "creation_date": 1458691632, "post_id": 36167153, "comment_id": 59972300, "body": "The @ character is indeed reserved in YAML. Thus, if a hash value starts with an @, you have to put it into quotes (either single-quotes or double-quotes), e.g. <code>password: &quot;@s3cuR3&quot;</code>"}, {"owner": {"reputation": 444, "user_id": 2953356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/baleC.jpg?s=128&g=1", "display_name": "Quinn Carver", "link": "https://stackoverflow.com/users/2953356/quinn-carver"}, "edited": false, "score": 0, "creation_date": 1502368196, "post_id": 36167153, "comment_id": 78185864, "body": "FYI: I had a similar issue, and it was only because I failed to indent (2 spaces) the lines underneath &quot;production:&quot; in my database.yml file. That&#39;s all it took to make the file invalid. If fixed the indent, worked after that."}], "tags": [], "owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "is_accepted": true, "score": 3, "last_activity_date": 1458689502, "creation_date": 1458689502, "answer_id": 36167153, "question_id": 36167056, "link": "https://stackoverflow.com/questions/36167056/bundler-cannot-continue-error-parsing-gemfile-unknown/36167153#36167153", "title": "Bundler cannot continue; error parsing &#39;Gemfile&#39;: (&lt;unknown&gt;)", "body": "<p>Redmine loads the <code>config/database.yml</code> file from the Gemfile to determine the correct gem to require to access your configured database. Now, it seems your <code>database.yml</code> is invalid and can't be loaded. Thus, bundler can't finish installing the required gems.</p>\n\n<p>To resolve this issue, ensure that your <code>config/database.yml</code> is syntactically correct YAML. Check at or around line 10, column 13 in your <code>database.yml</code> file for errors.</p>\n"}], "owner": {"reputation": 65, "user_id": 6101444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c885cf3273cd18cca07c1149b8f636f?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Gillette", "link": "https://stackoverflow.com/users/6101444/louis-gillette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7954, "favorite_count": 0, "accepted_answer_id": 36167153, "answer_count": 1, "score": 6, "last_activity_date": 1458690268, "creation_date": 1458688893, "last_edit_date": 1458690268, "question_id": 36167056, "link": "https://stackoverflow.com/questions/36167056/bundler-cannot-continue-error-parsing-gemfile-unknown", "title": "Bundler cannot continue; error parsing &#39;Gemfile&#39;: (&lt;unknown&gt;)", "body": "<p>While using these installation instructions, <a href=\"https://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_30x_on_Ubuntu_1404_with_Apache2_Phusion_Passenger_MySQL_Subversion_and_Git_%28Gitolite%29\" rel=\"nofollow\">https://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_30x_on_Ubuntu_1404_with_Apache2_Phusion_Passenger_MySQL_Subversion_and_Git_%28Gitolite%29</a>, </p>\n\n<p>I ran into an issues when I performed the following command</p>\n\n<pre><code>bundle install --without development test postgresql sqlite\n</code></pre>\n\n<p>And got the following error.</p>\n\n<pre><code>redmine@zaps-VirtualBox:~/redmine$ bundle install --without development test postgresql sqlite\n\n[!] There was an error parsing `Gemfile`: (&lt;unknown&gt;): found character that cannot start any token while scanning for the next token at line 10 column 13. Bundler cannot continue.\n\n #  from /opt/redmine/redmine-3.0.4/Gemfile:57\n #  -------------------------------------------\n #    database_config = YAML::load(ERB.new(IO.read(database_file)).result)\n #    adapters = database_config.values.map {|c| c['adapter']}.compact.uniq\n #  -------------------------------------------\n</code></pre>\n\n<p>I've checked YAML syntax with this tool, <a href=\"http://www.yamllint.com/\" rel=\"nofollow\">http://www.yamllint.com/</a> , but nothing shakes out. </p>\n\n<p>As seen in the code, I commented out the line in question and simply rewrote it (an IT fellow suggested tab syntax or white spaces as the issue) also to no avail. </p>\n\n<p>My Gemfile is as follows;</p>\n\n<pre><code>if Gem::Version.new(Bundler::VERSION) &lt; Gem::Version.new('1.5.0')\n  abort \"Redmine requires Bundler 1.5.0 or higher (you're using #{Bundler::VERSION}).\\nPlease update with 'gem update bundler'.\" \nend\n\ngem \"rails\", \"4.2.3\"\ngem \"jquery-rails\", \"~&gt; 3.1.3\"\ngem \"coderay\", \"~&gt; 1.1.0\"\ngem \"builder\", \"&gt;= 3.0.4\"\ngem \"request_store\", \"1.0.5\"\ngem \"mime-types\"\ngem \"protected_attributes\"\ngem \"actionpack-action_caching\"\ngem \"actionpack-xml_parser\"\n\n# Windows does not include zoneinfo files, so bundle the tzinfo-data gem\ngem 'tzinfo-data', platforms: [:mingw, :x64_mingw, :mswin, :jruby]\ngem \"rbpdf\", \"~&gt; 1.18.6\"\n\n# Optional gem for LDAP authentication\ngroup :ldap do\n  gem \"net-ldap\", \"~&gt; 0.3.1\"\nend\n\n# Optional gem for OpenID authentication\ngroup :openid do\n  gem \"ruby-openid\", \"~&gt; 2.3.0\", :require =&gt; \"openid\"\n  gem \"rack-openid\"\nend\n\nplatforms :mri, :mingw, :x64_mingw do\n  # Optional gem for exporting the gantt to a PNG file, not supported with jruby\n  group :rmagick do\n    gem \"rmagick\", \"~&gt; 2.13.4\"\n  end\n\n  # Optional Markdown support, not for JRuby\n  group :markdown do\n    gem \"redcarpet\", \"~&gt; 3.1.2\"\n  end\nend\n\nplatforms :jruby do\n  # jruby-openssl is bundled with JRuby 1.7.0\n  gem \"jruby-openssl\" if Object.const_defined?(:JRUBY_VERSION) &amp;&amp; JRUBY_VERSION &lt; '1.7.0'\n  gem \"activerecord-jdbc-adapter\", \"~&gt; 1.3.2\"\nend\n\n# Include database gems for the adapters found in the database\n# configuration file\nrequire 'erb'\nrequire 'yaml'\ndatabase_file = File.join(File.dirname(__FILE__), \"config/database.yml\")\nif File.exist?(database_file)\n#  database_config = YAML::load(ERB.new(IO.read(database_file)).result)\n  database_config = YAML::load(ERB.new(IO.read(database_file)).result)\n  adapters = database_config.values.map {|c| c['adapter']}.compact.uniq\n  if adapters.any?\n    adapters.each do |adapter|\n      case adapter\n      when 'mysql2'\n        gem \"mysql2\", \"~&gt; 0.3.11\", :platforms =&gt; [:mri, :mingw, :x64_mingw]\n        gem \"activerecord-jdbcmysql-adapter\", :platforms =&gt; :jruby\n      when 'mysql'\n        gem \"activerecord-jdbcmysql-adapter\", :platforms =&gt; :jruby\n      when /postgresql/\n        gem \"pg\", \"~&gt; 0.17.1\", :platforms =&gt; [:mri, :mingw, :x64_mingw]\n        gem \"activerecord-jdbcpostgresql-adapter\", :platforms =&gt; :jruby\n      when /sqlite3/\n        gem \"sqlite3\", :platforms =&gt; [:mri, :mingw, :x64_mingw]\n        gem \"jdbc-sqlite3\", \"&gt;= 3.8.10.1\", :platforms =&gt; :jruby\n        gem \"activerecord-jdbcsqlite3-adapter\", :platforms =&gt; :jruby\n      when /sqlserver/\n        gem \"tiny_tds\", \"~&gt; 0.6.2\", :platforms =&gt; [:mri, :mingw, :x64_mingw]\n        gem \"activerecord-sqlserver-adapter\", :platforms =&gt; [:mri, :mingw, :x64_mingw]\n      else\n        warn(\"Unknown database adapter `#{adapter}` found in config/database.yml, use Gemfile.local to load your own database gems\")\n      end\n    end\n  else\n    warn(\"No adapter found in config/database.yml, please configure it first\")\n  end\nelse\n  warn(\"Please configure your config/database.yml first\")\nend\n\ngroup :development do\n  gem \"rdoc\", \"&gt;= 2.4.2\"\n  gem \"yard\"\nend\n\ngroup :test do\n  gem \"minitest\"\n  gem \"rails-dom-testing\"\n  gem \"mocha\"\n  gem \"simplecov\", \"~&gt; 0.9.1\", :require =&gt; false\n  # For running UI tests\n  gem \"capybara\"\n  gem \"selenium-webdriver\"\nend\n\nlocal_gemfile = File.join(File.dirname(__FILE__), \"Gemfile.local\")\nif File.exists?(local_gemfile)\n  eval_gemfile local_gemfile\nend\n\n# Load plugins' Gemfiles\nDir.glob File.expand_path(\"../plugins/*/{Gemfile,PluginGemfile}\", __FILE__) do |file|\n  eval_gemfile file\nend\n</code></pre>\n\n<p>What will resolve the conflict? Is more information required? Where can I find information about 'token's in the future?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activesupport"], "answers": [{"tags": [], "owner": {"reputation": 5579, "user_id": 3970701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a937016807c66d89d0a62d7a1b235533?s=128&d=identicon&r=PG", "display_name": "Amin Shah Gilani", "link": "https://stackoverflow.com/users/3970701/amin-shah-gilani"}, "is_accepted": false, "score": 0, "last_activity_date": 1458697697, "creation_date": 1458697697, "answer_id": 36168433, "question_id": 36166836, "link": "https://stackoverflow.com/questions/36166836/how-do-i-override-activesupportsafebuffer-when-i-yield-a-hash-provided-in-a-vi/36168433#36168433", "title": "How do I override ActiveSupport::SafeBuffer when I yield a hash provided in a view", "body": "<p>I fixed it with the following:</p>\n\n<pre><code>  &lt;% twitter_tags = String.new yield(:twitter)%&gt;\n  &lt;% twitter_tags = eval ( CGI.unescapeHTML( twitter_tags ) ) %&gt;\n\n  &lt;% twitter_tags.each do |key, value|%&gt;\n    &lt;%= tag(:meta, name: \"twitter:#{key}\", content: (value) )%&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>IMHO this is an extremely ugly way of hacking around the problem. I'll write a helper to take away most of this from the view, however, if you have a more elegant solution, please share it and I'll accept your answer instead of mine.</p>\n\n<p>By the default, all the provided values are instances of <code>ActiveSupport::SafeBuffer</code>, this converts it into a string, and evaluates it into a hash again.</p>\n"}, {"comments": [{"owner": {"reputation": 5579, "user_id": 3970701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a937016807c66d89d0a62d7a1b235533?s=128&d=identicon&r=PG", "display_name": "Amin Shah Gilani", "link": "https://stackoverflow.com/users/3970701/amin-shah-gilani"}, "edited": false, "score": 0, "creation_date": 1458757225, "post_id": 36168593, "comment_id": 60006947, "body": "The partial method is without a doubt the best method I&#39;ve seen so far!"}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": true, "score": 1, "last_activity_date": 1458728688, "last_edit_date": 1458728688, "creation_date": 1458698845, "answer_id": 36168593, "question_id": 36166836, "link": "https://stackoverflow.com/questions/36166836/how-do-i-override-activesupportsafebuffer-when-i-yield-a-hash-provided-in-a-vi/36168593#36168593", "title": "How do I override ActiveSupport::SafeBuffer when I yield a hash provided in a view", "body": "<p>Since provide expects either a string or a block then it might be better to create the meta tags in a helper and pass it as string argument.</p>\n\n<pre><code>module TwitterHelper\n  def twitter_meta_tags(hash)\n     hash.each_with_object([]) do |(key, value), array|\n        a.push( tag(:meta, { name: \"twitter:#{k}\", content: v }, false, false ) )\n     end.join(\"\\n\").html_safe\n     # not sure if that last html_safe is really needed.\n  end\nend\n</code></pre>\n\n<p>Downstream view:</p>\n\n<pre><code>&lt;%\nprovide(:twitter, twitter_meta_tags({\n  foo: \"bar\"\n}));\n%&gt;\n</code></pre>\n\n<p>Layout:</p>\n\n<pre><code>&lt;%= yield(:twitter) %&gt;\n</code></pre>\n\n<h2>Using a partial</h2>\n\n<p>Another option is to use a partial and pass a block instead of a string to <code>provide</code>:</p>\n\n<pre><code>&lt;% # app/views/twitter/_meta_tags.html.erb %&gt;\n&lt;% hash.each do |key, value|%&gt;\n  &lt;meta name=\"twitter:#{key}\" content=\"#{value}\" /&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Downstream view:</p>\n\n<pre><code>&lt;% provide(:twitter) do %&gt;\n  &lt;%= render partial: \"twitter/meta_tags\", hash: {\n    card: 'summary', \n    site: '@twitter',\n    title: 'Lorem ipsum',\n    description: 'Non sequitar',\n    image: gravatar_for(@user, { size: 150 } )\n  } %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Layout:</p>\n\n<pre><code>&lt;%= yield(:twitter) %&gt;\n</code></pre>\n"}], "owner": {"reputation": 5579, "user_id": 3970701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a937016807c66d89d0a62d7a1b235533?s=128&d=identicon&r=PG", "display_name": "Amin Shah Gilani", "link": "https://stackoverflow.com/users/3970701/amin-shah-gilani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1111, "favorite_count": 1, "accepted_answer_id": 36168593, "answer_count": 2, "score": 0, "last_activity_date": 1458728688, "creation_date": 1458687642, "last_edit_date": 1458710548, "question_id": 36166836, "link": "https://stackoverflow.com/questions/36166836/how-do-i-override-activesupportsafebuffer-when-i-yield-a-hash-provided-in-a-vi", "title": "How do I override ActiveSupport::SafeBuffer when I yield a hash provided in a view", "body": "<p>My <code>profile.html.erb</code> provides a hash upstream to the layout.html.erb to be included in the metadata</p>\n\n<pre><code>  &lt;% provide(:twitter, { %&gt;\n  &lt;% card: 'summary', %&gt;\n  &lt;% site: '@twitter', %&gt;\n  &lt;% title: 'Lorem ipsum', %&gt;\n  &lt;% description: 'Non sequitar', %&gt;\n  &lt;% image: gravatar_for(@user, { size: 150 } )%&gt;\n  &lt;% }) %&gt;\n</code></pre>\n\n<p>The <code>layout.html.erb</code> then is supposed to iterate over this and create the meta tags:</p>\n\n<pre><code>  &lt;% yield(:twitter).each do |key, value|%&gt;\n  &lt;meta name=\"twitter:#{key}\" content=\"#{value}\" /&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>However, it gives me the error <code>undefined method 'each' for #&lt;ActiveSupport::SafeBuffer:0x007f8d616e5870&gt;</code>, and after inspecting <code>yield(:twitter)</code> with <code>byebug</code> I see that I yield an instance of <code>ActiveSupport::SafeBuffer</code>:</p>\n\n<pre><code>(byebug) hash = yield(:twitter)\n\"{:card=&amp;gt;&amp;quot;summary&amp;quot;, :site=&amp;gt;&amp;quot;@twitter&amp;quot;, :title=&amp;gt;&amp;quot;Lorem ipsum&amp;quot;, :description=&amp;gt;&amp;quot;Non sequitar&amp;quot;, :image=&amp;gt;&amp;quot;https://secure.gravatar.com/avatar/a937016807c66d89d0a62d7a1b235533?s=150&amp;quot;}\"\n(byebug) hash.class\nActiveSupport::SafeBuffer\n</code></pre>\n\n<p>I could eval the string into a hash, but <code>ActiveSupport::SafeBuffer</code> encodes it html safe, and there's no method to get the original back out. Is there a smarter way to do this, or do I have to hack around it with a helper converting the string back into a hash, and then <code>eval()</code>ing it into a has?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1458687096, "post_id": 36166662, "comment_id": 59970633, "body": "Isn&#39;t it slightly overkill to use a full blown engine for one module?"}, {"owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1458687686, "post_id": 36166662, "comment_id": 59970881, "body": "Yeah a little, it&#39;s easier for me to roll out updates across many apps this way. I&#39;m also going to consider adding keywords and seo description helpers to it."}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "is_accepted": false, "score": 0, "last_activity_date": 1458692614, "creation_date": 1458692614, "answer_id": 36167681, "question_id": 36166662, "link": "https://stackoverflow.com/questions/36166662/rails-engine-helper-files-even-with-work-around-not-loading/36167681#36167681", "title": "Rails Engine Helper Files (Even with Work Around) Not Loading", "body": "<p>This worked.</p>\n\n<p>I put the line below in the host application's controller.</p>\n\n<pre><code>   helper Phctitler::Engine.helpers\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458692614, "creation_date": 1458686814, "question_id": 36166662, "link": "https://stackoverflow.com/questions/36166662/rails-engine-helper-files-even-with-work-around-not-loading", "title": "Rails Engine Helper Files (Even with Work Around) Not Loading", "body": "<p>I have title code that's getting repetitive, I decided to put it in an engine and load it in all my apps. </p>\n\n<p>I'm having troubles loading helpers (even with the work around in engine.rb).</p>\n\n<p>The host app is saying nomethod error, I don't think the helper files are loading. I can also render views from the engine fine, but still helpers won't load is there something I'm missing?</p>\n\n<p>Code Block causing problems on main app.</p>\n\n<pre><code>&lt;h1&gt;&lt;%= yield(:phc_title) %&gt;&lt;/h1&gt;\n&lt;span&gt;&lt;%= yield(:phc_title_tagline) %&gt;&lt;/span&gt;\n&lt;ol class=\"breadcrumb\"&gt;\n    &lt;li&gt;&lt;a href=\"#\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n\n<p>/lib/phctitler/engine.rb</p>\n\n<pre><code>module Phctitler\n    class Engine &lt; ::Rails::Engine\n\n        # Required Dependencies\n        require 'figaro'\n\n        # Isolate Namespace for PHC Members\n        isolate_namespace Phctitler\n\n        # Testing Generator\n        config.generators do |g|\n            g.test_framework :rspec,\n            fixtures: true,\n            view_specs: false,\n            helper_specs: false,\n            routing_specs: false,\n            controller_specs: true,\n            request_specs: false\n            g.fixture_replacement :factory_girl, dir: \"spec/factories\"\n        end\n\n        # Load Helper Files\n        config.to_prepare do\n            ApplicationController.helper(Phctitler::ApplicationHelper)\n        end\n\n        # Auto Mount Plugin\n        initializer \"phctitler\", before: :load_config_initializers do |app|\n            Rails.application.routes.append do\n                mount Phctitler::Engine, at: \"/\"\n            end\n        end\n\n    end\nend\n</code></pre>\n\n<p>helpers/phctitler/application_helper.rb</p>\n\n<pre><code>module Phctitler\n    module ApplicationHelper\n\n    # Helper for Page Title\n        def phc_title(phc_page_title)\n            content_for :phc_title, phc_page_title.to_s\n        end\n\n        # Helper for Page Title Tag\n        def phc_title_tagline(phc_page_title_tagline)\n            content_for :phc_title_tagline, phc_page_title_tagline.to_s\n        end\n\n    end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 4662, "user_id": 2456549, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9Uz71.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2456549/justin"}, "edited": false, "score": 0, "creation_date": 1458684194, "post_id": 36166034, "comment_id": 59969363, "body": "<a href=\"http://apidock.com/rails/ActionView/Helpers/FormHelper/label\" rel=\"nofollow noreferrer\">apidock.com/rails/ActionView/Helpers/FormHelper/label</a>"}, {"owner": {"reputation": 2558, "user_id": 1157242, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9d4b10e0b35be38592bed9e4e5457e3?s=128&d=identicon&r=PG", "display_name": "PJSCopeland", "link": "https://stackoverflow.com/users/1157242/pjscopeland"}, "edited": false, "score": 1, "creation_date": 1458684276, "post_id": 36166034, "comment_id": 59969403, "body": "<code>&lt;%= f.label :locked %&gt;</code> on its own will give you <code>&lt;label for=&quot;object_locked&quot;&gt;Locked&lt;&#47;label&gt;</code>. You don&#39;t need the extra <code>&lt;label&gt;</code> tag around it."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1458684930, "post_id": 36166034, "comment_id": 59969676, "body": "yeah but how can I set a translateion for :locked ?"}], "answers": [{"tags": [], "owner": {"reputation": 5966, "user_id": 2477691, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DaiPF.jpg?s=128&g=1", "display_name": "chumakoff", "link": "https://stackoverflow.com/users/2477691/chumakoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1458685292, "creation_date": 1458685292, "answer_id": 36166357, "question_id": 36166034, "link": "https://stackoverflow.com/questions/36166034/ruby-on-rails-define-translations-for-labels/36166357#36166357", "title": "ruby on rails define translations for labels", "body": "<p>Translations are set for a model object which is represented by <code>f</code> variable in the form. For example, if the form holds data of User model instance, then you shoud set translations like this:</p>\n\n<pre><code>en:\n  activerecord:\n    attributes:\n      user:\n        locked: Your Translation\n</code></pre>\n\n<p>You can find out which object is represented by <code>f</code> this way:</p>\n\n<pre><code> &lt;%= f.object %&gt;\n</code></pre>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 36166357, "answer_count": 1, "score": 0, "last_activity_date": 1458685292, "creation_date": 1458683928, "question_id": 36166034, "link": "https://stackoverflow.com/questions/36166034/ruby-on-rails-define-translations-for-labels", "title": "ruby on rails define translations for labels", "body": "<p>how can I define translations for the form lables .. </p>\n\n<p>code looks like this</p>\n\n<pre><code>&lt;label&gt;&lt;%= f.label :locked %&gt;&lt;/label&gt;\n</code></pre>\n\n<p>how do I add this in locales correctly?</p>\n"}, {"tags": ["ruby", "laravel-4", "bcrypt"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458680808, "post_id": 36164875, "comment_id": 59967581, "body": "You might have to rewrite <code>$2y</code> to <code>$2a</code> to get Bcrypt to understand that hash."}], "answers": [{"tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 4, "last_activity_date": 1458680923, "creation_date": 1458680923, "answer_id": 36165250, "question_id": 36164875, "link": "https://stackoverflow.com/questions/36164875/migrating-users-table-from-laravel-to-ruby-and-using-bcrypt-to-decode-passwords/36165250#36165250", "title": "Migrating users table from Laravel to Ruby and using BCrypt to decode passwords does not work", "body": "<p>The PHP <code>crypt</code> method uses a non-standard notation for bcrypt-hashed entries. You need to correct this:</p>\n\n<pre><code>hash = '$2y$10$tKrgxXzN.naFD3r//yX9/O5uJmGRA9lzlcoPgK.F8REX.kx9xOesS'\nBCrypt::Password.new(hash.sub(/\\A\\$2y/, '$2a')) ==  \"Test1111!\"\n# =&gt; true\n</code></pre>\n\n<p>There was a bug in PHP's crypto library so <code>2y</code> represents the fixed version.</p>\n"}], "owner": {"reputation": 1108, "user_id": 1001807, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/da6835f9d0a471c0093ed1d81f523673?s=128&d=identicon&r=PG", "display_name": "Leon", "link": "https://stackoverflow.com/users/1001807/leon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 36165250, "answer_count": 1, "score": 1, "last_activity_date": 1458680923, "creation_date": 1458679624, "question_id": 36164875, "link": "https://stackoverflow.com/questions/36164875/migrating-users-table-from-laravel-to-ruby-and-using-bcrypt-to-decode-passwords", "title": "Migrating users table from Laravel to Ruby and using BCrypt to decode passwords does not work", "body": "<p>I am migrating users table from a laravel application to a ruby SSO server, and I am using BCrypt to validate passwords in ruby.</p>\n\n<p>The problem i am facing is that passwords do not match because the Hash generated by laravel starts with <code>$2y$10.....</code> and my BCrypt generates a hash <code>$2a$10....</code></p>\n\n<p>The versions between the two hashes do not match.\nRuby BCrypt shows version <code>2a</code>, instead laravel <code>2y</code></p>\n\n<p>How can i bring them on the same version so i can do user authentication in ruby like this?</p>\n\n<p><code>BCrypt::Password.new(user.send(password_column.to_sym)) == @password</code></p>\n\n<p>This should return true, but instead returns false.</p>\n\n<p><code>BCrypt::Password.new('$2y$10$tKrgxXzN.naFD3r//yX9/O5uJmGRA9lzlcoPgK.F8REX.kx9xOesS') == \"Test1111!\"</code></p>\n"}, {"tags": ["ruby", "ibm-cloud-infrastructure"], "comments": [{"owner": {"reputation": 4368, "user_id": 5165832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7093683da5ea0a5d497732d01124de38?s=128&d=identicon&r=PG&f=1", "display_name": "Nelson Raul Cabero Mendoza", "link": "https://stackoverflow.com/users/5165832/nelson-raul-cabero-mendoza"}, "edited": false, "score": 0, "creation_date": 1458682590, "post_id": 36164444, "comment_id": 59968541, "body": "The provisionDate is filled once the provisioning proces has been ended. So the machines which do not have the provisi&#243;n date are still in provisioning. Inregard the order &#237;tem that is weird, please review if those machines are in provisioning or in cancelaci&#243;n proccess."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5660396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4dd907f8d2df4bc71d0579884901369d?s=128&d=identicon&r=PG&f=1", "display_name": "haunm", "link": "https://stackoverflow.com/users/5660396/haunm"}, "edited": false, "score": 0, "creation_date": 1458740224, "post_id": 36167101, "comment_id": 59994466, "body": "Thanks mcruz.  This is actually a lot of useful information.  One question, can the activeTransaction field ever be NOT equal to null after the machine is provisioned?  I&#39;m wondering if there are other cases where transactions occur.  If there are, do you have another field you recommend using that is a good indicator a machine is provisioned (a reliable field), maybe primaryBackendIpAddress?"}, {"owner": {"reputation": 1536, "user_id": 5094381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e8c1f673b4f8767f765f9253b566da?s=128&d=identicon&r=PG&f=1", "display_name": "mcruz", "link": "https://stackoverflow.com/users/5094381/mcruz"}, "reply_to_user": {"reputation": 39, "user_id": 5660396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4dd907f8d2df4bc71d0579884901369d?s=128&d=identicon&r=PG&f=1", "display_name": "haunm", "link": "https://stackoverflow.com/users/5660396/haunm"}, "edited": false, "score": 0, "creation_date": 1458756180, "post_id": 36167101, "comment_id": 60006334, "body": "Other property can help you to know that your machine has been already provisioned although other kind of transaction is been executed, is <code>\u201chardwareStatus\u201d</code>, it should have \u201cACTIVE\u201d value. I added some info in <b>EDIT</b> section of the answer."}], "tags": [], "owner": {"reputation": 1536, "user_id": 5094381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e8c1f673b4f8767f765f9253b566da?s=128&d=identicon&r=PG&f=1", "display_name": "mcruz", "link": "https://stackoverflow.com/users/5094381/mcruz"}, "is_accepted": true, "score": 0, "last_activity_date": 1458756745, "last_edit_date": 1458756745, "creation_date": 1458689196, "answer_id": 36167101, "question_id": 36164444, "link": "https://stackoverflow.com/questions/36164444/how-to-get-order-username-and-provisiondate-for-all-softlayer-machines-using-rub/36167101#36167101", "title": "How to get order username and provisionDate for all SoftLayer machines using Ruby?", "body": "<p>Please see the following provisioning steps, below is a little flow to consider:</p>\n\n<pre><code>1.  Order a Server\n\nResult: \n* An orderId is assigned to the server\n* The createDate has a new value\n* activeTransaction value is =  Null\n* provisionDate value is = Null\n\n2.  The order is approved\n\nResult: \n* activeTransaction value is &lt;&gt; Null\n* provisionDate value = Null\n\n3.  Server  is already provisioned\n\nResult:\n* activeTransaction value is = Null\n* provisionDate value has a New value\n* billingItem property has a new value\n</code></pre>\n\n<p>To see if your machines have still <code>\u201dactiveTransaction\u201d</code>, please execute:</p>\n\n<pre><code>https://[username]:[apikey]@api.softlayer.com/rest/v3/SoftLayer_Hardware_Server/[server_id]/getActiveTransaction\nMethod: GET\n</code></pre>\n\n<p>Now, after reviewing your example response, this server had some problems when completing the provisioning; for that reason this step was completed manually but the <code>provisionDate</code> was not set for any reason(please open a ticket if you want that the provisionDate can be set) . This is a special case. I can see that another server has a similar behavior. But the other servers that don\u2019t have <code>provisionDate</code>, have still <code>\u201dactiveTransaction&lt;&gt;null\u201d</code> (it means that these server are not provisioned yet).</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Other property can help you to know that your machine has been already provisioned although other kind of transaction is being executed, is <code>\u201chardwareStatus\u201d</code>, it should have \u201cACTIVE\u201d value.</p>\n\n<pre><code>https://[username]:[apikey]@api.softlayer.com/rest/v3/SoftLayer_Account/getHardware?objectMask=mask[id, hostname, fullyQualifiedDomainName, provisionDate,hardwareStatus]\nMethod: GET\n</code></pre>\n\n<p>The response should be something like this:</p>\n\n<pre><code>{\n\"fullyQualifiedDomainName\": \"myhostname.softlayer.com\"\n\"hostname\": \" myhostname\"\n\"id\": 1234567\n\"provisionDate\": \"2015-06-29T00:21:39-05:00\"\n\"hardwareStatus\": {\n\"id\": 5\n\"status\": \"ACTIVE\"\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5660396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4dd907f8d2df4bc71d0579884901369d?s=128&d=identicon&r=PG&f=1", "display_name": "haunm", "link": "https://stackoverflow.com/users/5660396/haunm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 36167101, "answer_count": 1, "score": 0, "last_activity_date": 1458756745, "creation_date": 1458678180, "question_id": 36164444, "link": "https://stackoverflow.com/questions/36164444/how-to-get-order-username-and-provisiondate-for-all-softlayer-machines-using-rub", "title": "How to get order username and provisionDate for all SoftLayer machines using Ruby?", "body": "<p>Using Ruby I'm making a call like:</p>\n\n<pre><code>client = SoftLayer::Client.new(:username =&gt; user, :api_key =&gt; api_key, :timeout =&gt; 999999)\nclient['Account'].object_mask(\"mask[id, hostname, fullyQualifiedDomainName, provisionDate, datacenter[name], billingItem[recurringFee, associatedChildren[recurringFee], orderItem[description, order[userRecord[username], id]]], tagReferences[tagId, tag[name]], primaryIpAddress, primaryBackendIpAddress]\").getHardware\n</code></pre>\n\n<p>But only some machines return a provisionDate and only some return orderItem information.  How can I consistently get this information for each machine?  What would cause one machine to return this data and another machine to not?</p>\n\n<p>Example output:</p>\n\n<pre><code>{\"fullyQualifiedDomainName\"=&gt;\"&lt;removed_by_me&gt;\",\n \"hostname\"=&gt;\"&lt;removed_by_me&gt;\",\n \"id\"=&gt;167719,\n \"provisionDate\"=&gt;\"\",\n \"primaryBackendIpAddress\"=&gt;\"&lt;removed_by_me&gt;\",\n \"primaryIpAddress\"=&gt;\"&lt;removed_by_me&gt;\",\n \"billingItem\"=&gt;\n  {\"recurringFee\"=&gt;\"506.78\",\n   \"associatedChildren\"=&gt;\n    [&lt;removed_by_me&gt;]},\n \"datacenter\"=&gt;{\"name\"=&gt;\"dal09\"},\n  \"tagReferences\"=&gt;\n  [{\"tagId\"=&gt;139415, \"tag\"=&gt;{\"name\"=&gt;\"&lt;removed_by_me&gt;\"}},\n   {\"tagId\"=&gt;139417, \"tag\"=&gt;{\"name\"=&gt;\"&lt;removed_by_me&gt;\"}},\n   {\"tagId\"=&gt;140549, \"tag\"=&gt;{\"name\"=&gt;\"&lt;removed_by_me&gt;\"}}]}\n</code></pre>\n\n<p>To be clear, most machines return this data so I'm trying to understand why some do not.</p>\n"}, {"tags": ["ruby", "chef-infra", "knife"], "answers": [{"tags": [], "owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "is_accepted": true, "score": 1, "last_activity_date": 1458679312, "creation_date": 1458679312, "answer_id": 36164787, "question_id": 36164051, "link": "https://stackoverflow.com/questions/36164051/knifing-outside-a-chef-run-from-a-node/36164787#36164787", "title": "Knifing outside a chef run from a node", "body": "<p>You would probably want to use one of the Chef scripting libraries like chef-api (Ruby), PyChef (Python), or Jclouds (Java) rather than knife itself. Using Jenkins for deploys is a bit wonky as it isn't reeeeally meant for that, but you can make it work. Tools like Push Jobs, Fabric, and RunDeck are possibly better suited, and all have direct integration with Chef's node catalog like you describe.</p>\n"}], "owner": {"reputation": 5186, "user_id": 1690765, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/59237bb43f984f251e904bd4904e4156?s=128&d=identicon&r=PG", "display_name": "Niels B.", "link": "https://stackoverflow.com/users/1690765/niels-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 36164787, "answer_count": 1, "score": 0, "last_activity_date": 1458679312, "creation_date": 1458676826, "last_edit_date": 1458677737, "question_id": 36164051, "link": "https://stackoverflow.com/questions/36164051/knifing-outside-a-chef-run-from-a-node", "title": "Knifing outside a chef run from a node", "body": "<p>I have a Jenkins server that I want to deploy some code to some servers. To pick the right servers, I would like the jenkins job to query chef for nodes with a particular role.</p>\n\n<p>However, I am not sure if that is a good idea or an anti-pattern, and I am not sure how to go about it in practice.</p>\n\n<p>The jenkins server is already listed as a non-admin client, so I am wondering if I can use the existing credentials for something or if I should create a jenkins admin and set up a <code>knife.rb</code> in Jenkins home.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "date", "datetime"], "comments": [{"owner": {"reputation": 759, "user_id": 1893173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490f89475ed60e72d8b58ff5b2c45baa?s=128&d=identicon&r=PG", "display_name": "Vincent", "link": "https://stackoverflow.com/users/1893173/vincent"}, "edited": false, "score": 0, "creation_date": 1458675507, "post_id": 36163432, "comment_id": 59964436, "body": "How many years and months do you want to loop through? You can add numbers like 1.month to slowly increment through the months"}], "answers": [{"comments": [{"owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1458678127, "post_id": 36163731, "comment_id": 59966099, "body": "Thanks @tadman for the answer. Why there&#39;s <code>0..6.collect</code>? I want to do it till <code>now</code>, so I&#39;ve done this: <code>Hash[@admin.created_at.to_date.beginning_of_month..Date.toda&zwnj;&#8203;y.to_date.beginning_&zwnj;&#8203;of_month.collect { |n| [ start.advance(months: n).month, 0 ] }]</code>, however got this error message: <code>NoMethodError (undefined method </code>collect&#39; for 3:Fixnum):` - am I missing some part of converting the dates?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1458678193, "post_id": 36163731, "comment_id": 59966138, "body": "Oh, sure, that could work. Just be sure that in <code>n..m</code> that <code>n &lt;= m</code>. I forgot to group the range. Edit made. Should be <code>(0..6)</code> as in &quot;months plus zero to plus six&quot;, but you can substitute your code as well. You can&#39;t use the range unless you want to iterate over each and every day."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 4, "last_activity_date": 1458678198, "last_edit_date": 1458678198, "creation_date": 1458675809, "answer_id": 36163731, "question_id": 36163432, "link": "https://stackoverflow.com/questions/36163432/loop-through-years-months/36163731#36163731", "title": "Loop through years + months", "body": "<p>If you want to compute the upcoming months/years you could always use <a href=\"http://api.rubyonrails.org/classes/DateTime.html#method-i-advance\" rel=\"nofollow\"><code>advance</code></a>:</p>\n\n<pre><code>start = @user.created_at.to_date.beginning_of_month\n\nHash[(0..6).collect { |n| [ start.advance(months: n).month, 0 ] }]\n</code></pre>\n\n<p>That should properly step through days/months. You may want to just stick in dates instead of just the month number.</p>\n\n<p>If you want to do \"up to today\" then try this:</p>\n\n<pre><code>date = @user.created_at.to_date.beginning_of_month\nstop = Date.today.beginning_of_month\nhash = { }\n\nwhile (date &lt;= stop)\n  hash[date] = 0\n\n  date = date.advance(months: 1)\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 819, "user_id": 2499227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NpTc3.jpg?s=128&g=1", "display_name": "MTarantini", "link": "https://stackoverflow.com/users/2499227/mtarantini"}, "is_accepted": false, "score": 0, "last_activity_date": 1458676820, "creation_date": 1458676820, "answer_id": 36164048, "question_id": 36163432, "link": "https://stackoverflow.com/questions/36163432/loop-through-years-months/36164048#36164048", "title": "Loop through years + months", "body": "<p>I would begin with the user created_at date and loop through until it has caught up to today:</p>\n\n<pre><code>start = @user.created_at\nmonths = []\nwhile start &lt;= Time.zone.now\n  months &lt;&lt; [start.strftime('%B'), start.year]\n  start += 1.month\nend\nmonths\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>=&gt; [[\"November\", 2015], [\"December\", 2015], [\"January\", 2016], [\"February\", 2016], [\"March\", 2016]]\n</code></pre>\n\n<p>This way you don't have to calculate the difference in months between created_at and now.</p>\n"}, {"tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": false, "score": 2, "last_activity_date": 1458678973, "last_edit_date": 1458678973, "creation_date": 1458677442, "answer_id": 36164221, "question_id": 36163432, "link": "https://stackoverflow.com/questions/36163432/loop-through-years-months/36164221#36164221", "title": "Loop through years + months", "body": "<p>One thing you can do is turn each date into a \"month number\" that's the year multiplied by 12 plus the zero-based month, and then iterate over them, e.g.:</p>\n\n<pre><code>from_date = Date.new(2015, 11) # Nov. 1, 2015\nto_date = Date.today # Mar. 22, 2016\n\nnov2015 = from_date.year * 12 + (from_date.month - 1)\n# =&gt; 24190\nnov2015.divmod(12)\n# =&gt; [2015, 10]\n\nmar2016 = to_date.year * 12 + (to_date.month - 1)\n# =&gt; 24194\nmar2016.divmod(12)\n# =&gt; [2016, 2]\n</code></pre>\n\n<p>Remember that the months are zero-based, so <code>2</code> is March and <code>10</code> is November. As expected, <code>nov2015</code> and <code>mar2016</code> have a difference of four. Now we can iterate from one to the other:</p>\n\n<pre><code>nov2015.upto(mar2016) do |month_num|\n  year, month = month_num.divmod(12)\n  puts Date.new(year, month + 1).strftime(\"%B %Y\")\nend\n# =&gt; November 2015\n#    December 2015\n#    January 2016\n#    February 2016\n#    March 2016\n</code></pre>\n\n<p>Perfect! But it's better if we can put this into a method that returns an Enumerator so we can use any of the Enumerable methods (<code>each</code>, <code>map</code>, <code>each_cons</code>, you name it) on it:</p>\n\n<pre><code>def months_enum(from_date, to_date)\n  from = from_date.year * 12 + from_date.month - 1\n  to = to_date.year * 12 + to_date.month - 1\n\n  Enumerator.new do |y|\n    from.upto(to) do |n|\n      year, month = n.divmod(12)\n      y &lt;&lt; Date.new(year, month + 1)\n    end\n  end\nend\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>from = Date.new(2015, 11, 1)\nto = Date.today\n\nmonths_enum(from, to).each do |date|\n  puts date.strftime(\"%Y-%m\")\nend\n# -&gt; 2015-11\n#    2015-12\n#    2016-01\n#    2016-02\n#    2016-03\n\np months_enum(from, to).map {|date| date.strftime(\"%B %Y\") }\n# =&gt; [ \"November 2015\",\n#      \"December 2015\",\n#      \"January 2016\",\n#      \"February 2016\",\n#      \"March 2016\" ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1458681095, "post_id": 36164865, "comment_id": 59967715, "body": "Hi @steenslag, thanks for your answer. I am trying to make it work, but the output will always stop on February, it never goes to March."}, {"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "reply_to_user": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "edited": false, "score": 0, "creation_date": 1458682165, "post_id": 36164865, "comment_id": 59968311, "body": "@user984621 I switched 2 lines of code (the <code>puts..</code>and the <code>from_date = from_date...</code> lines). Maybe you are testing the &quot;old&quot; version."}], "tags": [], "owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "is_accepted": false, "score": 1, "last_activity_date": 1458679592, "creation_date": 1458679592, "answer_id": 36164865, "question_id": 36163432, "link": "https://stackoverflow.com/questions/36163432/loop-through-years-months/36164865#36164865", "title": "Loop through years + months", "body": "<pre><code>require 'date'\nfrom_date = Date.new(2015, 11)\nto_date   = Date.today\n\nuntil from_date &gt; to_date do\n  puts from_date.strftime(\"%B %Y\")\n  from_date = from_date.next_month\nend\n\n#November 2015\n#December 2015\n#January 2016\n#February 2016\n#March 2016\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1458683741, "last_edit_date": 1458683741, "creation_date": 1458680374, "answer_id": 36165098, "question_id": 36163432, "link": "https://stackoverflow.com/questions/36163432/loop-through-years-months/36165098#36165098", "title": "Loop through years + months", "body": "<p>This is a pure-Ruby solution.</p>\n\n<pre><code>require 'date'\n</code></pre>\n\n<p>If given</p>\n\n<pre><code>prev_date = \"November 2015\"\nm = Date.strptime(prev_date,\"%B %Y\")\n  #=&gt; #&lt;Date: 2015-11-01 ((2457328j,0s,0n),+0s,2299161j)&gt; \n</code></pre>\n\n<p>then</p>\n\n<pre><code>n = Date.today\nn -= n.day - 1\n  #=&gt; #&lt;Date: 2016-03-01 ((2457449j,0s,0n),+0s,2299161j)&gt;\n\nwhile m &lt;= n\n  puts \"#{Date::MONTHNAMES[m.month].ljust(8)} #{m.year}\"\n  m = m &gt;&gt; 1\nend\n\nNovember 2015\nDecember 2015\nJanuary  2016\nFebruary 2016\nMarch    2016\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1141, "user_id": 3251463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxssB.png?s=128&g=1", "display_name": "Scott Schupbach", "link": "https://stackoverflow.com/users/3251463/scott-schupbach"}, "is_accepted": false, "score": 0, "last_activity_date": 1458691578, "last_edit_date": 1458691578, "creation_date": 1458691117, "answer_id": 36167429, "question_id": 36163432, "link": "https://stackoverflow.com/questions/36163432/loop-through-years-months/36167429#36167429", "title": "Loop through years + months", "body": "<p>Adding months to a date object in Rails using the <code>Integer#month()</code> method will take care of all the wrapping of years for you. It's also smart enough to not skip a month with less than 31 days should the user's join date fall on the 31st of some month. If you add a month to January 31st, the return value will be February 28th (or 29th in the case of a leap year).</p>\n\n<pre><code>date_joined = @user.created_at\nnow = Time.now\n\nuntil date_joined.month &gt; now.month &amp;&amp; date_joined.year == now.year\n  puts date_joined.strftime(\"%B %Y\")\n  date_joined += 1.month\nend\n</code></pre>\n"}], "owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1629, "favorite_count": 0, "accepted_answer_id": 36163731, "answer_count": 6, "score": 3, "last_activity_date": 1479710813, "creation_date": 1458674853, "last_edit_date": 1479710813, "question_id": 36163432, "link": "https://stackoverflow.com/questions/36163432/loop-through-years-months", "title": "Loop through years + months", "body": "<p>I am trying to loop through years and months. If <code>@user.created_at</code> is <code>November 2015</code>, then I'd like to get this output:</p>\n\n<pre><code>November 2015\nDecember 2015\nJanuary 2016\nFebruary 2016\nMarch 2016\n</code></pre>\n\n<p>I tried the following:</p>\n\n<pre><code>Hash[(@user.created_at.month..Date.today.month).map { |month| [ month, 0 ] }].merge(...)\n</code></pre>\n\n<p>But the above code returns </p>\n\n<blockquote>\n  <p>stack level too deep</p>\n</blockquote>\n\n<p>because it loops <code>11..3</code>. \nHow can I figure out this issue?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "inheritance", "single-table-inheritance"], "answers": [{"comments": [{"owner": {"reputation": 1509, "user_id": 3052463, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3w2GR.jpg?s=128&g=1", "display_name": "Abundance", "link": "https://stackoverflow.com/users/3052463/abundance"}, "edited": false, "score": 0, "creation_date": 1458848819, "post_id": 36165343, "comment_id": 60050952, "body": "Though not the full answer, this led me on the right track."}], "tags": [], "owner": {"reputation": 655, "user_id": 4916648, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cpT8L.png?s=128&g=1", "display_name": "SomeSchmo", "link": "https://stackoverflow.com/users/4916648/someschmo"}, "is_accepted": true, "score": 1, "last_activity_date": 1458681232, "creation_date": 1458681232, "answer_id": 36165343, "question_id": 36163294, "link": "https://stackoverflow.com/questions/36163294/aggregation-in-single-table-inheritance-in-ruby-on-rails/36165343#36165343", "title": "Aggregation in Single Table Inheritance in Ruby on Rails", "body": "<p><code>type</code> is reserved by rails, try changing the name of that column to <code>kind</code> or <code>type_of</code> and see if that fixes the error </p>\n"}], "owner": {"reputation": 1509, "user_id": 3052463, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3w2GR.jpg?s=128&g=1", "display_name": "Abundance", "link": "https://stackoverflow.com/users/3052463/abundance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 36165343, "answer_count": 1, "score": 0, "last_activity_date": 1458681232, "creation_date": 1458674369, "question_id": 36163294, "link": "https://stackoverflow.com/questions/36163294/aggregation-in-single-table-inheritance-in-ruby-on-rails", "title": "Aggregation in Single Table Inheritance in Ruby on Rails", "body": "<p>I'm working on Single Table Inheritance in Rails following <a href=\"https://samurails.com/tutorial/single-table-inheritance-with-rails-4-part-2/\" rel=\"nofollow\">this guide</a>. The classes that I'm working with are as follows:  </p>\n\n<p><strong>Superclass:</strong> Articles<br>\n<strong>Subclass:</strong> Tutorials, Projects, Thoughts<br>\n<em>All of them contain 'Comments'</em></p>\n\n<p>So I'm able to display all of these articles and filter them by type. However, I have trouble creating a new object of a subclass, say Tutorial.</p>\n\n<p>Here is the snippet of relevant code:</p>\n\n<pre><code>#articles_controller.rb\nclass ArticlesController &lt; ApplicationController\n\ndef type \n    Article.types.include?(params[:type]) ? params[:type] : \"Article\"\nend\n\ndef type_class \n    type.constantize \nend\n\ndef index\n    puts \"The type is: \" + type\n    #@articles = Article.all\n    @articles = type_class.all\n    @type = type\nend\n\ndef new\n    @article = type_class.new\nend\n\ndef edit\n    @article = type_class.find(params[:id])\nend\n\ndef show\n    @article = type_class.find(params[:id])\nend\n\n\n\n#show.html.erb\n&lt;p&gt;\n&lt;strong&gt;Title:&lt;/strong&gt;\n&lt;%= @article.title %&gt;\n&lt;/p&gt;\n\n&lt;p&gt;\n&lt;strong&gt;Text:&lt;/strong&gt;\n&lt;%= @article.text %&gt;\n&lt;/p&gt;\n\n&lt;div id=\"comments\"&gt;\n&lt;h2&gt;Comments&lt;/h2&gt;\n&lt;%= render @article.comments %&gt;\n&lt;/div&gt;\n\n&lt;h2&gt;Add a comment:&lt;/h2&gt;\n&lt;%= render 'comments/form' %&gt;\n\n\n&lt;%= link_to 'Edit', edit_article_path(@article) %&gt;\n&lt;%= link_to 'Back', articles_path %&gt;\n</code></pre>\n\n<p>Here is my article model:  </p>\n\n<pre><code>class Article &lt; ActiveRecord::Base\n\nhas_many :comments, dependent: :destroy\nvalidates :title, presence: true,\nlength: { minimum: 5 }\n\nscope :projects, -&gt; { where(type: 'Project')}\nscope :thoughts, -&gt; { where(type: 'Thought')}\nscope :tutorials, -&gt; { where(type: 'Tutorial')}\n\nself.inheritance_column = :type\n\ndef self.types\n    %w(Tutorial Project Thought)\nend\n\nend\n</code></pre>\n\n<p>I'm able to create a new Article object of type Tutorial but when rendering the associated comments, the console displays: </p>\n\n<pre><code>Mysql2::Error: Unknown column 'comments.tutorial_id' in 'where clause': SELECT `comments`.* FROM `comments` WHERE `comments`.`tutorial_id` = 29\n</code></pre>\n\n<p>I'm confused as to why the sql query contains <code>tutorial_id</code> instead of a plain id. Any suggestions on how to change that?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 16919, "user_id": 152825, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e990c2bcb4dfb7fd0c398098da9bca59?s=128&d=identicon&r=PG", "display_name": "timpone", "link": "https://stackoverflow.com/users/152825/timpone"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1458674333, "post_id": 36163170, "comment_id": 59963729, "body": "thx for comment - I used to always write with self. - but acknowledge that is longer. So when I <code>save</code> or <code>save!</code> nothing happens so not getting an error. Also, this is being called from another class so possibly self is the other class (which would be nasty)?"}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 1, "creation_date": 1458674489, "post_id": 36163170, "comment_id": 59963812, "body": "<code>is_enabled = true</code> should not work. If you were checking against it - i.e. <code>if is_enabled == true ...</code>, that should work correctly. But <code>is_enabled = true</code> should always need a <code>self</code> because Ruby has no idea if you&#39;re setting an attribute on the model or if you&#39;re defining a local variable."}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 1, "creation_date": 1458674822, "post_id": 36163170, "comment_id": 59964027, "body": "Personally, I <i>always</i> use <code>self</code>. There are a lot of things that Ruby does implicitly that are really nice. But this is one area where I think being explicit is just much more clear and saves you a lot of potential headaches in the long run."}, {"owner": {"reputation": 16919, "user_id": 152825, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e990c2bcb4dfb7fd0c398098da9bca59?s=128&d=identicon&r=PG", "display_name": "timpone", "link": "https://stackoverflow.com/users/152825/timpone"}, "edited": false, "score": 0, "creation_date": 1458675416, "post_id": 36163170, "comment_id": 59964369, "body": "hmm... thx - that seems to be it. so it would seem like any assignment would require self?"}], "owner": {"reputation": 16919, "user_id": 152825, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e990c2bcb4dfb7fd0c398098da9bca59?s=128&d=identicon&r=PG", "display_name": "timpone", "link": "https://stackoverflow.com/users/152825/timpone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1458681732, "answer_count": 0, "score": 0, "last_activity_date": 1458680514, "creation_date": 1458673900, "last_edit_date": 1458680514, "question_id": 36163170, "link": "https://stackoverflow.com/questions/36163170/what-are-the-rules-around-using-self-to-refer-to-the-current-instance-in-a-rails", "closed_reason": "Duplicate", "title": "what are the rules around using self to refer to the current instance in a rails model", "body": "<p>I got a bug in a bit of a complex part of a rails app and was curious when you need to use self to refer to the current object in a Rails model. I had (with the problematic lines beneath and commented out):</p>\n\n<pre><code>class Item &lt; ActiveRecord::Base\n....\ndef item_instore_enabled_changed list_is_instore_enabled # would be true or false\n  if item_is_instore_enabled\n    Rails.logger.info(\"this will be true with is_enabled_item: #{is_enabled_item}\")\n    self.is_enabled=true if self.is_enabled_item\n    # is_enabled=true if is_enabled_menu_item - this didn't work\n  end\n  Rails.logger.info(\"BEFORE item save and is_enabled: #{is_enabled}\")\n  self.save! \n  # save  - didn't work\n  Rails.logger.info(\"AFTER item save and is_enabled: #{is_enabled}\")\nend\n</code></pre>\n\n<p>Basically, I had to specify <code>self.is_enabled</code> rather than just <code>is_enabled</code> to assign a value and also could just call <code>save!</code> and had to call <code>self.save!</code>. </p>\n\n<p>What are the rules for referring to self within an object or was there some other bug causing a problem with the above code?</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "error-handling"], "comments": [{"owner": {"reputation": 2093, "user_id": 1747295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a70b9d5ee5e89974383b7cf856e1dea8?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Yawar Ali", "link": "https://stackoverflow.com/users/1747295/muhammad-yawar-ali"}, "edited": false, "score": 0, "creation_date": 1458677029, "post_id": 36163081, "comment_id": 59965404, "body": "Can you share a screenshot of the directory breakdown and application.js content ?"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1458691159, "post_id": 36163175, "comment_id": 59972135, "body": "Thank you for that answer. The app is now running smoothly and securely due to that line in the application.js file."}, {"owner": {"reputation": 717, "user_id": 1064380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/32580804f6456560f81f199391cf6c40?s=128&d=identicon&r=PG", "display_name": "Marcelo Risoli", "link": "https://stackoverflow.com/users/1064380/marcelo-risoli"}, "reply_to_user": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "edited": false, "score": 0, "creation_date": 1458739214, "post_id": 36163175, "comment_id": 59993729, "body": "I am glad that worked for you, if you could upvote the answer for such reason."}], "tags": [], "owner": {"reputation": 717, "user_id": 1064380, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/32580804f6456560f81f199391cf6c40?s=128&d=identicon&r=PG", "display_name": "Marcelo Risoli", "link": "https://stackoverflow.com/users/1064380/marcelo-risoli"}, "is_accepted": true, "score": 1, "last_activity_date": 1458673918, "creation_date": 1458673918, "answer_id": 36163175, "question_id": 36163081, "link": "https://stackoverflow.com/questions/36163081/rails-does-not-find-file-in-application-js/36163175#36163175", "title": "Rails does not find file in application.js", "body": "<p>There should be a file called <code>global.js</code>  or <code>global.coffee</code> under the <code>app/assets/javascripts/</code> path, also, you should add the following require statement to <code>application.js</code>:</p>\n\n<pre><code>//=require global\n</code></pre>\n\n<p>Note: you could also use <code>//= require_tree .</code> on the application.js file to require all files on the javascripts folder, but it is usually best to require your file before that statement to ensure loading order.</p>\n"}], "owner": {"reputation": 125, "user_id": 5329179, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/68jUk.jpg?s=128&g=1", "display_name": "metaco57", "link": "https://stackoverflow.com/users/5329179/metaco57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 36163175, "answer_count": 1, "score": 0, "last_activity_date": 1458673918, "creation_date": 1458673563, "question_id": 36163081, "link": "https://stackoverflow.com/questions/36163081/rails-does-not-find-file-in-application-js", "title": "Rails does not find file in application.js", "body": "<p>I have just built an app in rails and am trying to install a mailing system to the client and server side. When I try to run the application, the system states that the file cannot be found in the application.js file. Here is the error statement: </p>\n\n<pre><code>ActionView::Template::Error (couldn't find file 'global' with type '   application/javascript'):\n3: &lt;head&gt;\n4:   &lt;meta charset=\"utf-8\"&gt;\n5:   &lt;title&gt;Vumos&lt;/title&gt;\n6:   &lt;%= stylesheet_link_tag    'application', 'global', media: 'all', 'data-turbolinks-track' =&gt; true %&gt;\n7:   &lt;%= javascript_include_tag 'application', 'data-turbolinks-track' =&gt; true %&gt;\n8:   &lt;%= csrf_meta_tags %&gt;\n9: &lt;/head&gt;\napp/assets/javascripts/application.js:17\napp/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__160887971_97469592'\n</code></pre>\n\n<p>I the file 'global' stored at the base of the file tree, not in a folder. If this is the problem, which folder would I put this file in? If not, how do I include the file in the application.js file? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "amazon-s3"], "comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458675199, "post_id": 36162665, "comment_id": 59964255, "body": "1) What device are you using to look at the metadata?  2) What is the encoding of that device? 3) What is the encoding of the original filename?"}, {"owner": {"reputation": 12200, "user_id": 473040, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2713a4959692f16d27d2553fb06cc4b?s=128&d=identicon&r=PG", "display_name": "equivalent8", "link": "https://stackoverflow.com/users/473040/equivalent8"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458688853, "post_id": 36162665, "comment_id": 59971332, "body": "It&#39;s not a device it&#39;s AWS S3 Browser Upload <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingHTTPPOST.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/UsingHTTPPOST.html</a>  that is sending message via AWS SQS <a href=\"https://aws.amazon.com/sqs/\" rel=\"nofollow noreferrer\">aws.amazon.com/sqs</a> and my Application is fetching this message. AWS S3 has built in &quot;${filename}&quot; metadata header that will translate to original filename in AWS SQS message. The original file was created in Ubuntu 15.04 Nautilus so I guess UTF-8"}], "owner": {"reputation": 12200, "user_id": 473040, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2713a4959692f16d27d2553fb06cc4b?s=128&d=identicon&r=PG", "display_name": "equivalent8", "link": "https://stackoverflow.com/users/473040/equivalent8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458731845, "creation_date": 1458672197, "last_edit_date": 1458731845, "question_id": 36162665, "link": "https://stackoverflow.com/questions/36162665/s3-browser-upload-original-filename-metadata-encoding", "title": "S3 browser upload original filename metadata encoding", "body": "<ul>\n<li>Given I use AWS S3 browser upload </li>\n<li>When I upload File with name <code>;aoeu^'eaus%+eau90#\u0646:\u897feee.jpg</code></li>\n<li>Then \"${filename}\" Metadata returned by S3 message is <code>\"=?UTF-8?Q?;aoeu^'eaus%+eau90#=D9=86:=E8=A5=BFeee.jpg?=\"</code></li>\n</ul>\n\n<p>How can I decode this string to original filename (ideally with native Ruby solution)?</p>\n"}, {"tags": ["mysql", "ruby", "postgresql", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458671354, "post_id": 36162347, "comment_id": 59961904, "body": "Don&#39;t forget the <code>BETWEEN</code> operator which you can use with <code>where(expires_at: from .. to)</code>."}, {"owner": {"reputation": 171, "user_id": 5807685, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fa6c44fdbaf6c29e3c550465ca003ea7?s=128&d=identicon&r=PG&f=1", "display_name": "railsie", "link": "https://stackoverflow.com/users/5807685/railsie"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458672250, "post_id": 36162347, "comment_id": 59962467, "body": "thanks for the tip, that makes my code much cleaner!"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 5807685, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fa6c44fdbaf6c29e3c550465ca003ea7?s=128&d=identicon&r=PG&f=1", "display_name": "railsie", "link": "https://stackoverflow.com/users/5807685/railsie"}, "edited": false, "score": 0, "creation_date": 1458674682, "post_id": 36162581, "comment_id": 59963945, "body": "This worked perfectly.  I also added the suggestion from @tadman and ended up with <code>Match.joins(:grant).merge(Grant.where(&quot;expires_at BETWEEN ? AND ?&quot;, from, to)).order(&#39;expires_at asc&#39;)</code>."}], "tags": [], "owner": {"reputation": 6531, "user_id": 1614607, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j5OdR.jpg?s=128&g=1", "display_name": "Jacob Brown", "link": "https://stackoverflow.com/users/1614607/jacob-brown"}, "is_accepted": true, "score": 3, "last_activity_date": 1458671958, "creation_date": 1458671958, "answer_id": 36162581, "question_id": 36162347, "link": "https://stackoverflow.com/questions/36162347/how-to-combine-where-and-order-for-sql-query/36162581#36162581", "title": "how to combine where and order for SQL query", "body": "<p>Assuming you have defined your associations in your models, this should work (but has not been tested):</p>\n\n<pre><code>Match\n  .joins(:grant)\n  .merge(Grant.where(\"expires_at  &gt;= ? and expires_at &lt;= ?\", from, to))\n  .order('expires_at asc')\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 5807685, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fa6c44fdbaf6c29e3c550465ca003ea7?s=128&d=identicon&r=PG&f=1", "display_name": "railsie", "link": "https://stackoverflow.com/users/5807685/railsie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 36162581, "answer_count": 1, "score": 3, "last_activity_date": 1458671958, "creation_date": 1458671180, "question_id": 36162347, "link": "https://stackoverflow.com/questions/36162347/how-to-combine-where-and-order-for-sql-query", "title": "how to combine where and order for SQL query", "body": "<p>I have projects and grants that are connected through a match.  The grant has an expiration date.  I want to sort the matches of a project by the grants expiration date.  </p>\n\n<p>This get's me the matches based on expiration date:</p>\n\n<pre><code>def self.expires_date_between(from, to)\n  Match.where(:grant_id =&gt; Grant.where(\"expires_at  &gt;= ? and expires_at &lt;= ?\", from, to))\nend\n</code></pre>\n\n<p>And this shows the matches based on a specific date range.</p>\n\n<pre><code>def current_matches\n  range = user.current_period_range\n  matches.expires_date_between(range[0], range[1])\nend\n</code></pre>\n\n<p>This works great to show the grants based on a specific time period but the grants aren't showing in order of date (expires_at).  It appears that grants are being sorted by the date they were created instead. How can I change my query so that the grants are listed in order of expiration date? </p>\n\n<p>I tried:</p>\n\n<pre><code>def self.expires_date_between(from, to)\n  Match.where(:grant_id =&gt; Grant.where(\"expires_at  &gt;= ? and expires_at &lt;= ?\", from, to).order('expires_at asc'))\nend\n</code></pre>\n\n<p>This doesn't throw an error but it also doesn't change the order of the grants.  Any ideas?</p>\n"}, {"tags": ["ruby", "encoding", "utf-8", "windows-1252"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458671476, "post_id": 36162330, "comment_id": 59961985, "body": "You&#39;re pointing to a ? type character, which usually means invalid. There&#39;s <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow noreferrer\">no such character in Windows-1252</a>, so encoding it to that is a mistake. Why not use <code>force_encoding</code>?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458671998, "post_id": 36162330, "comment_id": 59962316, "body": "If the string already has the correct bytes for the UTF-8 representation, then the solution is (as @tadman says), to do <code>str.force_encoding(&#39;utf-8&#39;)</code>. That&#39;s all that&#39;s necessary. You shouldn&#39;t use <code>encode</code> if the actual bytes are already correct."}, {"owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458672323, "post_id": 36162330, "comment_id": 59962515, "body": "@Jordan, the problem is, the string&#39;s representation is <code>&#227;\u0192\\u008F</code>, <code>&quot;&#227;\u0192\\u008F&quot;.force_encoding(&#39;utf-8&#39;)</code> is still <code>&#227;\u0192\\u008F</code>"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1458672876, "post_id": 36162330, "comment_id": 59962854, "body": "What are the actual byte values, in decimal or hex, of the string you&#39;re getting from the database?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458707118, "post_id": 36162330, "comment_id": 59976539, "body": "<i>the problem is, the string&#39;s representation is &#227;\u0192\\u008F</i> -- You say that as if a string has a single representation. I say that the string&#39;s representation is <code>\u30cf</code>. Who is right? Your db is using a camera with a Windows-1252 lens to take a picture of the raw bytes. I am using a camera with a UTF-8 lens to take a picture of the raw bytes. The idea is to pick the right lens for your camera. force_encoding() will allow you to pick the right lens"}, {"owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458707888, "post_id": 36162330, "comment_id": 59976738, "body": "@jordan, the actually value I&#39;m getting from db is <code>&#227;\u0192\\u008F</code>"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458708031, "post_id": 36162330, "comment_id": 59976779, "body": "What are <i>the actual byte values, in decimal or hex</i>, of the string you&#39;re getting from the database?"}, {"owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458708213, "post_id": 36162330, "comment_id": 59976837, "body": "@7stud Taking your example of lens, if the raw bytes are <code>\\xe3\\x83\\x8f</code>, then in UTF-8 lens, it will show as <code>\u30cf</code>; while in Windows-1252, it will show as <code>&#227;\u0192\ufffd</code>, since <code>\\x8f</code> is not defined in Windows-1252. The problem is, for some reason, the db stores <code>&#227;\u0192\\u008F</code>, which is kind of mix in between."}, {"owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1458708416, "post_id": 36162330, "comment_id": 59976897, "body": "@Jordan The actually byte values in decimal should be <code>\\xc3\\xa3\\xc6\\x92\\xc2</code>, and viewing this value in UTF-8 is <code>&#227;\u0192\\u008F</code>"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458708619, "post_id": 36162330, "comment_id": 59976968, "body": "decimal???????????"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458709242, "post_id": 36162330, "comment_id": 59977116, "body": "<i>the actually value I&#39;m getting from db is &#227;\u0192\\u008F</i> -- What is the length of your db string, and by that I mean what does <i>ruby</i> say is the length of your db string?"}, {"owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458712102, "post_id": 36162330, "comment_id": 59977991, "body": "@7stud Sorry it&#39;s the hex value.. <code>&quot;&#227;\u0192\\u008F&quot;.size # =&gt; 3</code>, <code>&quot;&#227;\u0192\\u008F&quot;.bytesize # =&gt; 6</code>"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458713767, "post_id": 36162330, "comment_id": 59978582, "body": "Can explain how you get a byte size of 6, yet you only posted 5 hex escapes in your previous comment?  Can you post the output of: <code>str_from_db.each_byte {|byte| p byte}</code>"}, {"owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1458715392, "post_id": 36162330, "comment_id": 59979148, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/107094/discussion-between-sbs-and-7stud\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "edited": false, "score": 0, "creation_date": 1458713004, "post_id": 36166521, "comment_id": 59978315, "body": "I get what you doing here. To get the ord from <code>windows-1252</code> and rescue with it&#39;s own ord. Hope there&#39;s better way to do that."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 1, "last_activity_date": 1458686058, "creation_date": 1458686058, "answer_id": 36166521, "question_id": 36162330, "link": "https://stackoverflow.com/questions/36162330/encode-while-preserving-undefined-characters/36166521#36166521", "title": "Encode while preserving undefined characters", "body": "<p>I think I have a vague idea of what's going on here, but I'm having trouble formulating a proper explanation. Nevertheless, here's a solution that at least works for your one example:</p>\n\n<pre><code>str = \"\u00e3\u0192\\u008F\"\nstr2 = str.chars.map {|c| c.encode('windows-1252').ord rescue c.ord }\n         .pack('C*').force_encoding('utf-8')\nputs str2\n# =&gt; \u30cf\n</code></pre>\n\n<p>Of course, this is pretty inefficient for large texts, but hopefully it'll help. If I have the wherewithal later on I'll come back and try to add a better explanation.</p>\n"}], "owner": {"reputation": 3822, "user_id": 477068, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8rhcs.jpg?s=128&g=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/477068/sbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 36166521, "answer_count": 1, "score": -1, "last_activity_date": 1458738448, "creation_date": 1458671129, "last_edit_date": 1458671723, "question_id": 36162330, "link": "https://stackoverflow.com/questions/36162330/encode-while-preserving-undefined-characters", "title": "Encode while preserving undefined characters", "body": "<p>Here I got a string from outside db <code>\u00e3\u0192\\u008F</code>, and I want to convert it back to unicode character. I know the db is using <code>windows-1252</code> encoding, so the actual character should be <code>\\xe3\\x83\\x8f</code>, which is <code>\u30cf</code> in utf-8 encoding.</p>\n\n<p>Here are the things I've tried so far</p>\n\n<pre><code>\"\u00e3\u0192\\u008F\".encode('windows-1252')\n# =&gt; Encoding::UndefinedConversionError: U+008F to WINDOWS-1252 in conversion from UTF-8 to WINDOWS-1252\n\n\"\u00e3\u0192\\u008F\".encode('windows-1252', undef: :replace)\n# =&gt; \"\\xE3\\x83?\"\n</code></pre>\n\n<p>This is reasonable, since <code>0x8f</code> is undefined in <code>windows-1252</code>'s codepage.</p>\n\n<pre><code>----------Windows-1252-----------\n  0 1 2 3 4 5 6 7 8 9 a b c d e f\n2   ! \" # $ % &amp; ' ( ) * + , - . /\n3 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ?\n4 @ A B C D E F G H I J K L M N O\n5 P Q R S T U V W X Y Z [ \\ ] ^ _\n6 ` a b c d e f g h i j k l m n o\n7 p q r s t u v w x y z { | } ~ \n8 \u20ac \ufffd \u201a \u0192 \u201e \u2026 \u2020 \u2021 \u02c6 \u2030 \u0160 \u2039 \u0152 \ufffd \u017d \ufffd &lt;---right here!\n9 \ufffd \u2018 \u2019 \u201c \u201d \u2022 \u2013 \u2014 \u02dc \u2122 \u0161 \u203a \u0153 \ufffd \u017e \u0178\na \u00a0 \u00a1 \u00a2 \u00a3 \u00a4 \u00a5 \u00a6 \u00a7 \u00a8 \u00a9 \u00aa \u00ab \u00ac \u00ad \u00ae \u00af\nb \u00b0 \u00b1 \u00b2 \u00b3 \u00b4 \u00b5 \u00b6 \u00b7 \u00b8 \u00b9 \u00ba \u00bb \u00bc \u00bd \u00be \u00bf\nc \u00c0 \u00c1 \u00c2 \u00c3 \u00c4 \u00c5 \u00c6 \u00c7 \u00c8 \u00c9 \u00ca \u00cb \u00cc \u00cd \u00ce \u00cf\nd \u00d0 \u00d1 \u00d2 \u00d3 \u00d4 \u00d5 \u00d6 \u00d7 \u00d8 \u00d9 \u00da \u00db \u00dc \u00dd \u00de \u00df\ne \u00e0 \u00e1 \u00e2 \u00e3 \u00e4 \u00e5 \u00e6 \u00e7 \u00e8 \u00e9 \u00ea \u00eb \u00ec \u00ed \u00ee \u00ef\nf \u00f0 \u00f1 \u00f2 \u00f3 \u00f4 \u00f5 \u00f6 \u00f7 \u00f8 \u00f9 \u00fa \u00fb \u00fc \u00fd \u00fe \u00ff\n</code></pre>\n\n<p>My question is, how can I encode while preserving the undefined character? Namely, how can I get</p>\n\n<pre><code>s = \"\u00e3\u0192\\u008F\".some_magic_methods\n# =&gt; \"\\xE3\\x83\\x8F\"\n\ns.force_encoding('utf-8')\n# =&gt; \"\u30cf\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ab-testing", "vanity"], "comments": [{"owner": {"reputation": 4279, "user_id": 3920143, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1b47dd912eaeb6cd72a15ec2932f6751?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/3920143/joel"}, "edited": false, "score": 0, "creation_date": 1458675695, "post_id": 36162322, "comment_id": 59964528, "body": "Is it a bootstrap modal?"}], "answers": [{"tags": [], "owner": {"reputation": 4279, "user_id": 3920143, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1b47dd912eaeb6cd72a15ec2932f6751?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/3920143/joel"}, "is_accepted": true, "score": 1, "last_activity_date": 1458677266, "creation_date": 1458677266, "answer_id": 36164171, "question_id": 36162322, "link": "https://stackoverflow.com/questions/36162322/controlling-when-participants-are-added-with-vanity-a-b-test/36164171#36164171", "title": "Controlling when participants are added with vanity a/b test", "body": "<p>I would try to send a post via ajax with the data needed to add a participant to <code>/vanity/add_participant</code> after the modal is shown.</p>\n\n<pre><code>$('#myModal').on('shown', function(){\n    $.ajax({\n    type: \"POST\",\n    url: '/vanity/add_participant',\n    data: {\n      participant_data: participantData\n    },\n    success: function(data) {}\n  })\n});\n</code></pre>\n\n<p>Add the following to application.rb:</p>\n\n<pre><code>Vanity.configure do |config|\n  config.use_js = true\n\n  # Optionally configure the add_participant route that is added with Vanity::Rails::Dashboard,\n  # make sure that this action does not require authentication\n  # config.add_participant_route = '/vanity/add_participant'\nend\n</code></pre>\n\n<blockquote>\n  <p>Then add &lt;%= vanity_js %> to any page that calls an A/B test after\n  calling ab_test. vanity_js needs to be included after your call to\n  ab_test so that it knows which version of the experiment the\n  participant is a member of. The helper will render nothing if the\n  there are no ab_tests running on the current page, so adding vanity_js\n  to the bottom of your layouts is a good option. Keep in mind that if\n  you set use_js and don't include vanity_js in your view no\n  participants will be recorded.</p>\n</blockquote>\n\n<p>Not sure if this helps haha. </p>\n"}], "owner": {"reputation": 4045, "user_id": 1378252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d4025b3e5be289ffee5dffbd0a1a7fb5?s=128&d=identicon&r=PG", "display_name": "toddmetheny", "link": "https://stackoverflow.com/users/1378252/toddmetheny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 36164171, "answer_count": 1, "score": 1, "last_activity_date": 1458677266, "creation_date": 1458671116, "question_id": 36162322, "link": "https://stackoverflow.com/questions/36162322/controlling-when-participants-are-added-with-vanity-a-b-test", "title": "Controlling when participants are added with vanity a/b test", "body": "<p>Using <a href=\"https://github.com/assaf/vanity\" rel=\"nofollow\">vanity</a> to conduct an A/B test. The test is reliant on a modal that is conditionally shown to certain users. The modal contains different incentives based on which side of the test you see.</p>\n\n<p>The code for the modal is in a partial that gets loaded on several pages in our app. </p>\n\n<p>Example: </p>\n\n<pre><code>&lt;%= render partial: 'modals/example' %&gt;\n</code></pre>\n\n<p>That partial contains a condition for the content that will be shown:</p>\n\n<pre><code>&lt;% if ab_test(:whatever) == \"something\" %&gt;\n   &lt;p&gt;Stuff to show&lt;/p&gt;\n&lt;% else %&gt;\n   &lt;p&gt;Different stuff to show&lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>I'm tracking the relevant metric in the relevant place.</p>\n\n<p>The test itself works as expected in terms of showing the content and converting. The problem I'm running into is that because the partial is loaded even when the modal isn't show...everyone that lands on a page that references this partial is being added as a \"participant\" and I would like to only count people who have actually seen the modal as participants.</p>\n\n<p>We use mixpanel as well and I can pivot into running the test with that. I like vanity, though, and would prefer to use it if there's a reasonable solution that isn't going to significantly increase the time it takes to implement. Was hoping someone SO could point out what I'm missing and how to approach solving.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "activeadmin"], "comments": [{"owner": {"reputation": 20458, "user_id": 122087, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/431c64e3e3fd0c892ad2a7e4150cf63e?s=128&d=identicon&r=PG", "display_name": "Paul A Jungwirth", "link": "https://stackoverflow.com/users/122087/paul-a-jungwirth"}, "edited": false, "score": 0, "creation_date": 1458672710, "post_id": 36162119, "comment_id": 59962755, "body": "Your stack trace seems to be missing the actual error message. Can you replace it with a full stack trace?"}, {"owner": {"reputation": 1, "user_id": 6086562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0LMZR.jpg?s=128&g=1", "display_name": "Memovox", "link": "https://stackoverflow.com/users/6086562/memovox"}, "reply_to_user": {"reputation": 20458, "user_id": 122087, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/431c64e3e3fd0c892ad2a7e4150cf63e?s=128&d=identicon&r=PG", "display_name": "Paul A Jungwirth", "link": "https://stackoverflow.com/users/122087/paul-a-jungwirth"}, "edited": false, "score": 0, "creation_date": 1458673558, "post_id": 36162119, "comment_id": 59963279, "body": "Hey thank you for your comment, I think now it shows the main error: &quot;ActionView::Template::Error (comparison of Fixnum with String failed): -22T18:57:44.658699+00:00 app[web.1]:     1: insert_tag renderer_for(:index)&quot; , though I don&#39;t fully understand what this means? Hope this helped, if there&#39;s any more info I can produce that will help please inform me, and I will give that. Thank you so much!"}, {"owner": {"reputation": 20458, "user_id": 122087, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/431c64e3e3fd0c892ad2a7e4150cf63e?s=128&d=identicon&r=PG", "display_name": "Paul A Jungwirth", "link": "https://stackoverflow.com/users/122087/paul-a-jungwirth"}, "edited": false, "score": 0, "creation_date": 1458674826, "post_id": 36162119, "comment_id": 59964031, "body": "Okay, that&#39;s helpful. So it&#39;s having trouble sorting the tasks. Can you also post <code>app&#47;admin&#47;tasks.rb</code>?"}, {"owner": {"reputation": 1, "user_id": 6086562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0LMZR.jpg?s=128&g=1", "display_name": "Memovox", "link": "https://stackoverflow.com/users/6086562/memovox"}, "reply_to_user": {"reputation": 20458, "user_id": 122087, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/431c64e3e3fd0c892ad2a7e4150cf63e?s=128&d=identicon&r=PG", "display_name": "Paul A Jungwirth", "link": "https://stackoverflow.com/users/122087/paul-a-jungwirth"}, "edited": false, "score": 0, "creation_date": 1458675042, "post_id": 36162119, "comment_id": 59964157, "body": "Done, hopefully that helps, thanks!"}, {"owner": {"reputation": 196, "user_id": 339960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2767b9f7af80a5969b48972bba7384d2?s=128&d=identicon&r=PG", "display_name": "Juliano", "link": "https://stackoverflow.com/users/339960/juliano"}, "edited": false, "score": 0, "creation_date": 1458679464, "post_id": 36162119, "comment_id": 59966851, "body": "Does your database be equal in both cases? Maybe in the local tag is a number, but some migration was forgotten, a migration that changes. You can check your databases."}, {"owner": {"reputation": 3571, "user_id": 185310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/063c98fb1df33c7a4ea70a7d829f83c6?s=128&d=identicon&r=PG&f=1", "display_name": "Mike K.", "link": "https://stackoverflow.com/users/185310/mike-k"}, "edited": false, "score": 0, "creation_date": 1458680404, "post_id": 36162119, "comment_id": 59967332, "body": "You&#39;re using postgres on heroku? but what are u using locally, sqlite? Try to replicate with postgres locally."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6086562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0LMZR.jpg?s=128&g=1", "display_name": "Memovox", "link": "https://stackoverflow.com/users/6086562/memovox"}, "is_accepted": false, "score": 0, "last_activity_date": 1458681194, "creation_date": 1458681194, "answer_id": 36165334, "question_id": 36162119, "link": "https://stackoverflow.com/questions/36162119/activeadmin-not-working-fully-in-heroku-works-perfeclty-locally-rails-applicat/36165334#36165334", "title": "ActiveAdmin not working fully in Heroku, works perfeclty locally. Rails application", "body": "<p>I was able to sort this problem by changing the <code>sorting_attribute: :tag</code> to <code>sorting_attribute: :project_id</code> </p>\n\n<p>I know this might not be the best way to do this, but it solved my problem. Thank you tremendously you who commented and gave me wise help, I owe you big time!</p>\n"}], "owner": {"reputation": 1, "user_id": 6086562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0LMZR.jpg?s=128&g=1", "display_name": "Memovox", "link": "https://stackoverflow.com/users/6086562/memovox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1458681194, "creation_date": 1458670386, "last_edit_date": 1458674996, "question_id": 36162119, "link": "https://stackoverflow.com/questions/36162119/activeadmin-not-working-fully-in-heroku-works-perfeclty-locally-rails-applicat", "title": "ActiveAdmin not working fully in Heroku, works perfeclty locally. Rails application", "body": "<p>I have been struggling with this error for days now if someone knows where to look I would be highly grateful.</p>\n\n<p>Issue: I am running ActiveAdmin in my application, it works perfectly when I run it locally, but when I run it on Heroku, I can use all the functionality of my app except use one admin interface which is named \"tasks\". </p>\n\n<p>When I open \"tasks\" I get an internal error 500.</p>\n\n<p>Other functionality of my ActiveAdmin works perfectly and I am able to save data to my DB.</p>\n\n<p>here is my gem file: </p>\n\n<pre><code>source 'https://rubygems.org'\n\ngem 'rails', '4.2.0'\ngem 'sass-rails', '~&gt; 5.0'\ngem 'uglifier', '&gt;= 1.3.0'\ngem 'coffee-rails', '~&gt; 4.1.0'\ngem 'formtastic'\n\ngem 'jquery-rails'\ngem 'turbolinks'\ngem 'jbuilder', '~&gt; 2.0'\ngem 'sdoc', '~&gt; 0.4.0', group: :doc\n\ngem 'materialize-sass'\ngem 'devise', '~&gt; 3.4.1'\ngem 'toastr-rails'\ngem 'mandrill-api', '1.0.52', require: 'mandrill'\n\ngem 'omniauth'\ngem 'omniauth-google-oauth2'\ngem 'omniauth-facebook'\ngem 'omniauth-github'\ngem 'tzinfo-data'\n\ngem 'activeadmin', github: 'activeadmin'\ngem 'active_skin'\n\ngem 'paperclip', '~&gt; 4.2.1'\n\ngem 'redcarpet', '~&gt; 3.2.3'\ngem 'coderay', '~&gt; 1.1.0'\n\ngem 'friendly_id', '~&gt; 5.1.0'\n\ngem 'active_admin-sortable_tree', '~&gt; 0.2.1'\n\ngem 'stripe', :git =&gt; 'https://github.com/stripe/stripe-ruby'\n\ngem 'figaro', '~&gt; 1.1.1'\n\ngem 'aws-sdk'\n\ngroup :development, :test do\n  gem 'byebug'\n  gem 'web-console', '~&gt; 2.0'\n  gem 'spring'\n  gem 'sqlite3'\nend\n\ngroup :production do\n  gem 'pg'\n  gem 'rails_12factor'\nend\n</code></pre>\n\n<p>Here is my logs:</p>\n\n<pre><code>-22T18:57:44.580763+00:00 app[web.1]: Processing by Admin::TasksController#index as HTML\n-22T18:57:44.584610+00:00 app[web.1]:   AdminUser Load (1.8ms)  SELECT  \"admin_users\".* FROM \"admin_users\" WHERE \"admin_users\".\"id\" = $1  ORDER BY \"admin_users\".\"id\" ASC LIM\n[\"id\", 2]]\n-22T18:57:44.617306+00:00 app[web.1]:    (1.2ms)  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM \"tasks\" LIMIT 10000 OFFSET 0) subquery_for_count\n-22T18:57:44.618237+00:00 app[web.1]:   CACHE (0.0ms)  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM \"tasks\" LIMIT 10000 OFFSET 0) subquery_for_count\n-22T18:57:44.620682+00:00 app[web.1]:    (1.1ms)  SELECT COUNT(*) FROM \"tasks\"\n-22T18:57:44.621592+00:00 app[web.1]:   CACHE (0.0ms)  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM \"tasks\" LIMIT 10000 OFFSET 0) subquery_for_count\n-22T18:57:44.624387+00:00 app[web.1]:   Task Load (1.4ms)  SELECT  \"tasks\".* FROM \"tasks\"  ORDER BY \"tasks\".\"id\" desc LIMIT 10000 OFFSET 0\n-22T18:57:44.637054+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/app/views/active_admin/resource/index.html.arb (49.8ms)\n-22T18:57:44.637281+00:00 app[web.1]: Completed 500 Internal Server Error in 56ms\n-22T18:57:44.658687+00:00 app[web.1]:\n-22T18:57:44.658697+00:00 app[web.1]: ActionView::Template::Error (comparison of Fixnum with String failed):\n-22T18:57:44.658699+00:00 app[web.1]:     1: insert_tag renderer_for(:index)\n-22T18:57:44.658700+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/relation/delegation.rb:132:in `sort_by'\n-22T18:57:44.658701+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/relation/delegation.rb:132:in `public_send'\n-22T18:57:44.658701+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/relation/delegation.rb:132:in `method_missing'\n-22T18:57:44.658702+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/relation/delegation.rb:99:in `method_missing'\n-22T18:57:44.658703+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/active_admin-sortable_tree-0.2.1/lib/active_admin/views/index_as_sortable.rb:13:in `build'\n-22T18:57:44.658703+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:30:in `block in build_tag'\n-22T18:57:44.658704+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658705+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658705+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658706+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658709+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/index.rb:139:in `block (2 levels) in rend\nx'\n-22T18:57:44.658709+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:31:in `block in build_tag'\n-22T18:57:44.658710+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658711+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658712+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658712+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658713+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:14:in `div'\n-22T18:57:44.658715+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/index.rb:138:in `block in render_index'\n-22T18:57:44.658716+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:31:in `block in build_tag'\n-22T18:57:44.658716+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658717+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658718+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658718+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658719+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:14:in `paginated_collection'\n-22T18:57:44.658720+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/index.rb:132:in `render_index'\n-22T18:57:44.658720+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/index.rb:50:in `build_collection'\n-22T18:57:44.658721+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/index.rb:28:in `block in main_content'\n-22T18:57:44.658722+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:31:in `block in build_tag'\n-22T18:57:44.658723+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658723+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658724+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658725+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658726+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:14:in `batch_action_form'\n-22T18:57:44.658726+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/index.rb:36:in `wrap_with_batch_action_fo\n\n-22T18:57:44.658727+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/index.rb:26:in `main_content'\n-22T18:57:44.658732+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:91:in `block (2 levels) in build_\nntent_wrapper'\n-22T18:57:44.658733+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:31:in `block in build_tag'\n-22T18:57:44.658734+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658735+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658735+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658736+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658737+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:14:in `div'\n-22T18:57:44.658737+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:90:in `block in build_main_conten\ner'\n-22T18:57:44.658738+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:31:in `block in build_tag'\n-22T18:57:44.658739+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658740+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658740+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658741+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658742+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:14:in `div'\n-22T18:57:44.658743+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:89:in `build_main_content_wrapper\n\n-22T18:57:44.658743+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:75:in `block in build_page_conten\n\n-22T18:57:44.658744+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:31:in `block in build_tag'\n-22T18:57:44.658745+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658746+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658746+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658747+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658748+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:14:in `div'\n-22T18:57:44.658748+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:74:in `build_page_content'\n-22T18:57:44.658749+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:52:in `block (2 levels) in build_\n\n-22T18:57:44.658750+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:31:in `block in build_tag'\n-22T18:57:44.658751+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658752+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658752+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658753+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658754+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:14:in `div'\n-22T18:57:44.658754+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:48:in `block in build_page'\n-22T18:57:44.658755+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658756+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'\n-22T18:57:44.658757+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:47:in `build_page'\n-22T18:57:44.658758+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/lib/active_admin/views/pages/base.rb:10:in `build'\n-22T18:57:44.658758+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:30:in `block in build_tag'\n-22T18:57:44.658762+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:92:in `with_current_arbre_element'\n-22T18:57:44.658763+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:26:in `build_tag'\n-22T18:57:44.658764+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/element/builder_methods.rb:39:in `insert_tag'\n-22T18:57:44.658765+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/app/views/active_admin/resource/index.html.arb:2:in `block in _vendor_\nruby_______bundler_gems_activeadmin___fd_c__fc___app_views_active_admin_resource_index_html_arb___3510243039498056837_70206307693640'\n-22T18:57:44.658766+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:45:in `instance_eval'\n-22T18:57:44.658767+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/arbre-1.0.3/lib/arbre/context.rb:45:in `initialize'\n-22T18:57:44.658767+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/app/views/active_admin/resource/index.html.arb:1:in `new'\n-22T18:57:44.658768+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/bundler/gems/activeadmin-18fd1c23fc60/app/views/active_admin/resource/index.html.arb:1:in `_vendor_bundle_ru\n__bundler_gems_activeadmin___fd_c__fc___app_views_active_admin_resource_index_html_arb___3510243039498056837_70206307693640'\n-22T18:57:44.658769+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionview-4.2.0/lib/action_view/template.rb:145:in `block in render'\n-22T18:57:44.658786+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/notifications.rb:166:in `instrument'\n-22T18:57:44.658787+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionview-4.2.0/lib/action_view/template.rb:333:in `instrument'\n-22T18:57:44.658788+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionview-4.2.0/lib/action_view/template.rb:143:in `render'\n-22T18:57:44.658788+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionview-4.2.0/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_templa\n\n-22T18:57:44.658789+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionview-4.2.0/lib/action_view/renderer/abstract_renderer.rb:39:in `block in instrument'\n-22T18:57:44.658790+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/notifications.rb:164:in `block in instrument'\n-22T18:57:44.658790+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n-22T18:57:44.658791+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-\n-22T18:57:44.658838+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/notifications.rb:164:in `block in instrument'\n-22T18:57:44.658839+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n-22T18:57:44.658840+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/notifications.rb:164:in `instrument'\n-22T18:57:44.658840+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'\n-22T18:57:44.658841+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'\n-22T18:57:44.658842+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'\n-22T18:57:44.658842+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/abstract_controller/base.rb:137:in `process'\n-22T18:57:44.658843+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionview-4.2.0/lib/action_view/rendering.rb:30:in `process'\n-22T18:57:44.658844+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_controller/metal.rb:195:in `dispatch'\n-22T18:57:44.658845+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'\n-22T18:57:44.658845+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_controller/metal.rb:236:in `block in action'\n-22T18:57:44.658846+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/routing/route_set.rb:73:in `call'\n-22T18:57:44.658846+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'\n-22T18:57:44.658847+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/routing/route_set.rb:42:in `serve'\n-22T18:57:44.658847+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/journey/router.rb:43:in `block in serve'\n-22T18:57:44.658848+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/journey/router.rb:30:in `each'\n-22T18:57:44.658849+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/journey/router.rb:30:in `serve'\n-22T18:57:44.658849+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/routing/route_set.rb:802:in `call'\n-22T18:57:44.658854+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/omniauth-1.3.1/lib/omniauth/strategy.rb:186:in `call!'\n-22T18:57:44.658855+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/omniauth-1.3.1/lib/omniauth/strategy.rb:164:in `call'\n-22T18:57:44.658856+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/omniauth-1.3.1/lib/omniauth/strategy.rb:186:in `call!'\n-22T18:57:44.658856+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/omniauth-1.3.1/lib/omniauth/strategy.rb:164:in `call'\n-22T18:57:44.658857+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/omniauth-1.3.1/lib/omniauth/strategy.rb:186:in `call!'\n-22T18:57:44.658857+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/omniauth-1.3.1/lib/omniauth/strategy.rb:164:in `call'\n-22T18:57:44.658858+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/warden-1.2.6/lib/warden/manager.rb:35:in `block in call'\n-22T18:57:44.658859+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/warden-1.2.6/lib/warden/manager.rb:34:in `catch'\n-22T18:57:44.658859+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/warden-1.2.6/lib/warden/manager.rb:34:in `call'\n-22T18:57:44.658860+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/etag.rb:24:in `call'\n-22T18:57:44.658861+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/conditionalget.rb:25:in `call'\n-22T18:57:44.658861+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'\n-22T18:57:44.658862+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'\n-22T18:57:44.658863+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/flash.rb:260:in `call'\n-22T18:57:44.658863+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:225:in `context'\n-22T18:57:44.658864+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:220:in `call'\n-22T18:57:44.658865+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/cookies.rb:560:in `call'\n-22T18:57:44.658868+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/query_cache.rb:36:in `call'\n-22T18:57:44.658869+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'\n-22T18:57:44.658870+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'\n-22T18:57:44.658870+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:88:in `call'\n-22T18:57:44.658871+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:88:in `_run_callbacks'\n-22T18:57:44.658872+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:734:in `_run_call_callbacks'\n-22T18:57:44.658873+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:81:in `run_callbacks'\n-22T18:57:44.658873+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'\n-22T18:57:44.658874+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'\n-22T18:57:44.658874+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'\n-22T18:57:44.658875+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\n-22T18:57:44.658876+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/railties-4.2.0/lib/rails/rack/logger.rb:38:in `call_app'\n-22T18:57:44.658876+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/railties-4.2.0/lib/rails/rack/logger.rb:20:in `block in call'\n-22T18:57:44.658877+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/tagged_logging.rb:68:in `block in tagged'\n-22T18:57:44.658877+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/tagged_logging.rb:26:in `tagged'\n-22T18:57:44.658878+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/tagged_logging.rb:68:in `tagged'\n-22T18:57:44.658878+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/railties-4.2.0/lib/rails/rack/logger.rb:20:in `call'\n-22T18:57:44.658879+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'\n-22T18:57:44.658880+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'\n-22T18:57:44.656956+00:00 heroku[router]: at=info method=GET path=\"/admin/tasks\" host=www.mydomain.com request_id=c0a82d1f-490b-429f-9b09-48b6c75cd5d1 fwd=\"110.175.239.\nno=web.1 connect=1ms service=88ms status=500 bytes=1754\n-22T18:57:44.658880+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/runtime.rb:18:in `call'\n-22T18:57:44.658881+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'\n-22T18:57:44.658881+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/static.rb:113:in `call'\n-22T18:57:44.658882+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/sendfile.rb:113:in `call'\n-22T18:57:44.658883+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/railties-4.2.0/lib/rails/engine.rb:518:in `call'\n-22T18:57:44.658884+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/railties-4.2.0/lib/rails/application.rb:164:in `call'\n-22T18:57:44.658884+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/lock.rb:17:in `call'\n-22T18:57:44.658885+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'\n-22T18:57:44.658886+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/handler/webrick.rb:88:in `service'\n-22T18:57:44.658886+00:00 app[web.1]:   vendor/ruby-2.2.4/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'\n-22T18:57:44.658887+00:00 app[web.1]:   vendor/ruby-2.2.4/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'\n-22T18:57:44.658888+00:00 app[web.1]:   vendor/ruby-2.2.4/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'\n-22T18:57:44.658888+00:00 app[web.1]:\n-22T18:57:44.658889+00:00 app[web.1]:\n</code></pre>\n\n<p>app/admin/task.rb</p>\n\n<pre><code>ActiveAdmin.register Task do\n    permit_params :title, :note, :video, :header, :tag, :project_id\n\n    sortable tree: false,\n                        sorting_attribute: :tag\n\n    index :as =&gt; :sortable do\n        label :title\n\n        actions\n    end\n\n    index do \n        selectable_column\n        column :header\n        column :title\n        column :tag\n        column :project\n\n        actions\n    end\n\n    form do |f|\n        f.inputs do\n            input :project, label: \"Project\"\n            input :title, label: \"Title\"\n            input :note, label: \"Note\"\n            input :video, label: \"video\"\n            input :header, label: \"Header\"\n        end\n\n        actions\n    end\n\nend\n</code></pre>\n\n<p>If ANYONE knows knows what should I do I will be eternally grateful! If I should show other files to solve this problem please tell me and I will add them here.</p>\n"}, {"tags": ["ruby", "coding-style", "rubocop"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458671015, "post_id": 36162071, "comment_id": 59961710, "body": "As DaveNewton has noted in the answer, your <code>%w</code> notation is wrong, to begin with."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1458671268, "post_id": 36162071, "comment_id": 59961847, "body": "The less syntax junk there is in your code, the easier it is to read. <code>%w</code> looks quite clean at a glance."}], "answers": [{"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 3, "last_activity_date": 1458670458, "creation_date": 1458670458, "answer_id": 36162138, "question_id": 36162071, "link": "https://stackoverflow.com/questions/36162071/why-favor-the-use-of-w-over-foo-bar/36162138#36162138", "title": "Why favor the use of %w over [&#39;foo&#39;, &#39;bar&#39;]", "body": "<p>Yes, it is (partially because) less typing. But not only that. Less typing typically means less reading; it is easier to read. It is not trying to be cryptic, it is the opposite. Furthermore, as the array gets longer, the advantage and temptation of using <code>%w</code> becomes larger, and it would rather be cryptic to use different notations depending on the length of the array.</p>\n"}, {"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1458671104, "post_id": 36162185, "comment_id": 59961750, "body": "It&#39;s also nice that <code>w</code> means <i>words</i> or <i>whitespace-separated</i>. In modern Ruby you also get <code>%i</code> which is the same for <i>interns</i>, otherwise known as symbols, but that&#39;s less easy to remember."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458671119, "post_id": 36162185, "comment_id": 59961762, "body": "Isn&#39;t your first point a circular logic? It is the conventional way because it is forced to be so?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458671200, "post_id": 36162185, "comment_id": 59961797, "body": "I don&#39;t see how your third point answers or is relevant to the question. It rather seems to indicate something in the opposite direction. Isn&#39;t setting a convention to limit the use of various notations going against &quot;there is more than one way to do it&quot;-philosophy?"}, {"owner": {"reputation": 500, "user_id": 680588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50ddecc6673eb0179f854124e9554486?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/680588/tom"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458671253, "post_id": 36162185, "comment_id": 59961830, "body": "@sawa - I don&#39;t think it is, most (maybe all) languages have there own idiomatic style. In C# a List type is often preferred to an array for example. It certainly isn&#39;t forced however - thats why I added the third point to highlight the multiple options for doing something are to give a programmer more freedom :)"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1458672012, "post_id": 36162185, "comment_id": 59962322, "body": "@Tom There&#39;s a technical reason why collections are often preferred over arrays, though. In this case the reason isn&#39;t technical."}, {"owner": {"reputation": 500, "user_id": 680588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50ddecc6673eb0179f854124e9554486?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/680588/tom"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1458672724, "post_id": 36162185, "comment_id": 59962766, "body": "@DaveNewton - Yes thats true - it was more the first example I thought of! But in my mind at least using [ ] or %w() isn&#39;t a huge deal. If the developer is not too bothered by the syntax then use %w() for the first two reasons. If it does bother them then just use an [ ] (following reason 3) and move on!"}], "tags": [], "owner": {"reputation": 500, "user_id": 680588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50ddecc6673eb0179f854124e9554486?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/680588/tom"}, "is_accepted": true, "score": 6, "last_activity_date": 1458671451, "last_edit_date": 1458671451, "creation_date": 1458670607, "answer_id": 36162185, "question_id": 36162071, "link": "https://stackoverflow.com/questions/36162071/why-favor-the-use-of-w-over-foo-bar/36162185#36162185", "title": "Why favor the use of %w over [&#39;foo&#39;, &#39;bar&#39;]", "body": "<p>For three reasons:</p>\n\n<ol>\n<li>%w is more idiomatic ruby</li>\n</ol>\n\n<p>When reading ruby code you will come across %w a lot when dealing with     an array of strings. While you can write a simple [] and achieve the same thing %w is the 'ruby way'.</p>\n\n<ol start=\"2\">\n<li>%w conveys more meaning than []</li>\n</ol>\n\n<p>The second and I think more important reason is %w conveys a more specific meaning. An array created with %w can only hold strings, it cannot for example hold integers. So the code is showing its intent clearer to the programmer by pointing out that this array will only ever have strings.</p>\n\n<ol start=\"3\">\n<li>The Ruby philosophy: Multiple ways to do one thing.</li>\n</ol>\n\n<p>Ruby has a philosophy (rightly or wrongly) that the language should give the programmer multiple options to do the same thing so they can do what they think is right. So if you disagree with the rule thats ok :) Here is an snippet from an interview with the creator of Ruby <a href=\"https://en.wikipedia.org/wiki/Yukihiro_Matsumoto\">Yukihiro Matsumoto</a> </p>\n\n<blockquote>\n  <p>Ruby inherited the Perl philosophy of having more than one way to do the same thing. I inherited that philosophy from Larry Wall, who is my hero actually. I want to make Ruby users free. I want to give them the freedom to choose. People are different. People choose different criteria. But if there is a better way among many alternatives, I want to encourage that way by making it comfortable. So that's what I've tried to do. Maybe Python code is a bit more readable. Everyone can write the same style of Python code, so it can be easier to read, maybe. But the difference from one person to the next is so big, providing only one way is little help even if you're using Python, I think. I'd rather provide many ways if it's possible, but encourage or guide users to choose a better way if it's possible. - Yukihiro Matsumoto 2003 <a href=\"http://www.artima.com/intv/rubyP.html\">http://www.artima.com/intv/rubyP.html</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "is_accepted": false, "score": 6, "last_activity_date": 1458670819, "creation_date": 1458670819, "answer_id": 36162246, "question_id": 36162071, "link": "https://stackoverflow.com/questions/36162071/why-favor-the-use-of-w-over-foo-bar/36162246#36162246", "title": "Why favor the use of %w over [&#39;foo&#39;, &#39;bar&#39;]", "body": "<p>It's only \"cryptic\" if you're not familiar with the shortcut. </p>\n\n<p>I've never been convinced it's worth <em>enforcing</em>, but you can turn off this particular warning and not worry about it if that's how you roll.</p>\n\n<p>The syntax is actually cleaner yet:</p>\n\n<pre><code>%w(some words here)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458671901, "post_id": 36162425, "comment_id": 59962261, "body": "I don&#39;t get the &quot;It goes in the same line of having parentheses as optional for method definitions&quot; part. In method definition, parentheses is optional. In <code>%w</code> notation, you need some delimiter."}, {"owner": {"reputation": 5962, "user_id": 115159, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ac02a81e50f368f6d5c7a14b99ce2469?s=128&d=identicon&r=PG", "display_name": "Dharam Gollapudi", "link": "https://stackoverflow.com/users/115159/dharam-gollapudi"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458672055, "post_id": 36162425, "comment_id": 59962343, "body": "While defining a method, ex: <code>first_name</code>, you could write it as def first_name() end or def first_name end, making parentheses as optional for readability, especially if there are arguments for that method. Thats what I meant."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458672130, "post_id": 36162425, "comment_id": 59962389, "body": "Did you read the latter part of my comment? How does that make parentheses (or any other delimiter) optional for <code>%w</code>?"}, {"owner": {"reputation": 5962, "user_id": 115159, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ac02a81e50f368f6d5c7a14b99ce2469?s=128&d=identicon&r=PG", "display_name": "Dharam Gollapudi", "link": "https://stackoverflow.com/users/115159/dharam-gollapudi"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1458672295, "post_id": 36162425, "comment_id": 59962497, "body": "I didn&#39;t mean parentheses as optional in the context of <code>%w</code>. I meant in the context of readability, the same way as parentheses are optional, in the same readability, you could use <code>%w(a b c)</code> for defining arrays rather than [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]. Hope it makes sense."}], "tags": [], "owner": {"reputation": 5962, "user_id": 115159, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ac02a81e50f368f6d5c7a14b99ce2469?s=128&d=identicon&r=PG", "display_name": "Dharam Gollapudi", "link": "https://stackoverflow.com/users/115159/dharam-gollapudi"}, "is_accepted": false, "score": 2, "last_activity_date": 1458671490, "creation_date": 1458671490, "answer_id": 36162425, "question_id": 36162071, "link": "https://stackoverflow.com/questions/36162071/why-favor-the-use-of-w-over-foo-bar/36162425#36162425", "title": "Why favor the use of %w over [&#39;foo&#39;, &#39;bar&#39;]", "body": "<p>Its actually:</p>\n\n<p><code>%w(some words here)</code></p>\n\n<p>without commas. And you could use any matching \u201c(\u201d, \u201c[\u201d, \u201c{\u201d, \u201c&lt;\u201d to enclose them.</p>\n\n<p>It goes in the same line of having parentheses as optional for method definitions. Better readability. And not cryptic as long as you know what it is for.</p>\n\n<p>Refer to <a href=\"http://ruby-doc.org/core-2.0.0/doc/syntax/literals_rdoc.html#label-Percent+Strings\" rel=\"nofollow\">Ruby Docs</a> for more info.</p>\n"}], "owner": {"reputation": 253, "user_id": 1794978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ec926f2315a761364265d0bb2f45e4?s=128&d=identicon&r=PG", "display_name": "coteyr", "link": "https://stackoverflow.com/users/1794978/coteyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "closed_date": 1458679863, "accepted_answer_id": 36162185, "answer_count": 4, "score": 2, "last_activity_date": 1458671490, "creation_date": 1458670236, "last_edit_date": 1458671423, "question_id": 36162071, "link": "https://stackoverflow.com/questions/36162071/why-favor-the-use-of-w-over-foo-bar", "closed_reason": "Opinion-based", "title": "Why favor the use of %w over [&#39;foo&#39;, &#39;bar&#39;]", "body": "<p>I ran my code through rubocop. It has a rule:  <a href=\"http://www.rubydoc.info/github/bbatsov/rubocop/Rubocop/Cop/Style/WordArray\" rel=\"nofollow\"><code>%w</code> or <code>%W</code> for an array of words.</a></p>\n\n<pre><code>%w(some words here)   \n['some', 'words', 'here']\n</code></pre>\n\n<p>Why should <code>%w</code> be favored over <code>['some', 'words', 'here']</code>? Both seem to be equal. Is it just less typing, or are we trying to be cryptic for the sake of being confusing?</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "ajax"], "answers": [{"comments": [{"owner": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "edited": false, "score": 0, "creation_date": 1458674404, "post_id": 36162970, "comment_id": 59963767, "body": "thanks for taking the time to answer me! the very first time I access the page, application controller runs and renders the application layout right? then when I click any link and go to another controller/action, that doesn&#39;t mean that application controller will run again and render the application layout again, does it? when I click the link and rails runs questions_controller#show, is it possible reload the entire layout including application layout rather then show.html.erb alone within the application layout loaded previously? or is that what you mean by having to use js?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "edited": false, "score": 1, "creation_date": 1458675416, "post_id": 36162970, "comment_id": 59964368, "body": "The default behaviour for Rails is request/response, like HTTP in general. No state on the Rails side is preserved other than what you persist in the <code>session</code>, a database, or files on disk. Each page request starts with a brand new controller instance and a clean slate as far as instance variables go. What do you mean &quot;reload the layout&quot;? Each page request will run from scratch every time."}, {"owner": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "edited": false, "score": 0, "creation_date": 1458675880, "post_id": 36162970, "comment_id": 59964621, "body": "So, if I have: &lt;%= link_to &#39;question&#39;, question_path(question) %&gt;, when I click that link, rails will run a new instance of the application controller and a new instance of the questions controller?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "edited": false, "score": 1, "creation_date": 1458676670, "post_id": 36162970, "comment_id": 59965171, "body": "That&#39;s the general principle, yes. Each request is handled in a brand new controller instance. This can seem a bit off if you&#39;re used to Android or iOS development where the controller persists for a lot longer, sometimes the life of the entire application process."}, {"owner": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "edited": false, "score": 1, "creation_date": 1458677388, "post_id": 36162970, "comment_id": 59965644, "body": "I&#39;m used to mobile development, yes, you hit the nail! It makes a lot of sense now. I just figured my problem is not about reloading the application controller to change the icon. When I mark the notification as read the icon won&#39;t change because the HTML has actually ben sent to the browser as you said before, so I need to make it using js - I&#39;ll try it! Thanks a lot for your time and patience!"}, {"owner": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "edited": false, "score": 0, "creation_date": 1458677725, "post_id": 36162970, "comment_id": 59965859, "body": "Well, forget it, all I needed to do was to set @icon_path again on my questions_controller as you also said before. Thank you again!"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "edited": false, "score": 0, "creation_date": 1458677839, "post_id": 36162970, "comment_id": 59965937, "body": "The MVC model in Rails isn&#39;t like it is on mobile or desktop, so it&#39;s a bit of a mind-bending experience to get on track with it. Glad you&#39;re on top of it now."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 1, "last_activity_date": 1458673180, "creation_date": 1458673180, "answer_id": 36162970, "question_id": 36161829, "link": "https://stackoverflow.com/questions/36161829/update-application-layout-icon/36162970#36162970", "title": "Update application layout icon", "body": "<p>Your controller code runs to completion before the view renders, so you can do whatever it takes to get things set up prior to the rendering phase. You're free to change variables like <code>@icon_path</code> any number of times prior to that phase, the last value set is the one that's used.</p>\n\n<p>If you need to disable the icon in the view after the HTML has been sent to the browser you'll need to use JavaScript to toggle it off.</p>\n"}], "owner": {"reputation": 1899, "user_id": 3618575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QMv5d.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3618575/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 2, "accepted_answer_id": 36162970, "answer_count": 1, "score": 1, "last_activity_date": 1458673180, "creation_date": 1458669413, "question_id": 36161829, "link": "https://stackoverflow.com/questions/36161829/update-application-layout-icon", "title": "Update application layout icon", "body": "<p>In my application controller I have a method which I use to set notifications and the notifications icon on the application layout menu. I run this method with before_action:</p>\n\n<pre><code>def set_notifications\n  if user_signed_in?\n    @notifications = Notification.where(user_id: current_user.id)\n    @notifications.each do |n|\n      if n.read == false\n        return @icon_path = 'notification-alert-icon'\n      end\n    end\n    @icon_path = 'notification-icon'\n  end\nend\n</code></pre>\n\n<p>This works fine as I get the correct notification icon when I have unread notifications:</p>\n\n<pre><code>&lt;li class=\"dropdown\"&gt;\n  &lt;a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;&lt;%= image_tag(@icon_path) %&gt;&lt;/a&gt;\n  &lt;ul class=\"dropdown-menu\"&gt;\n    &lt;% if @notifications == 0 %&gt;\n      &lt;li class=\"text-center\" style=\"color:white;\"&gt;Voc\u00ea ainda n\u00e3o tem notifica\u00e7\u00f5es&lt;/li&gt;\n    &lt;% else %&gt;\n      &lt;% @notifications.each do |n| %&gt;\n        &lt;li&gt;&lt;%= link_to n.question.title, question_path(n.question), class: 'text-center' %&gt;&lt;/li&gt;\n      &lt;% end %&gt;\n    &lt;% end %&gt;\n    &lt;li role=\"separator\" class=\"divider\"&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;%= link_to 'Ver todas as notifica\u00e7\u00f5es', \"#\" %&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>When the user clicks the notification icon, then clicks the question he was notified on, the questions_controller marks that notification as read (inside the show action):</p>\n\n<pre><code>notifications = Notification.where(question_id: question.id) if Notification.exists?(question_id: question.id)\nif notifications\n  notifications.each do |notification|\n    if notification.user_id == current_user.id\n      notification.read = true\n      notification.save\n    end\n  end\nend\n</code></pre>\n\n<p>What I haven't been able to do is: how do I update the @notifications object and the notification icon on the application layout after marking the notification as read? I know I can call the method set_notifications but that alone won't reload application layout and change the icon right?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6100221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a1fa514a7194e2e6b92e5f336f7b25?s=128&d=identicon&r=PG&f=1", "display_name": "John Hug", "link": "https://stackoverflow.com/users/6100221/john-hug"}, "edited": false, "score": 0, "creation_date": 1458672310, "post_id": 36161983, "comment_id": 59962502, "body": "#&lt;StatsPeriod::Base:0x007f9741bbb478&gt; does not implement: to_range"}], "tags": [], "owner": {"reputation": 4174, "user_id": 399346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83209f4fd149c44c74720e9df2ca9fea?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/399346/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1458669870, "creation_date": 1458669870, "answer_id": 36161983, "question_id": 36161761, "link": "https://stackoverflow.com/questions/36161761/mock-method-from-child-class/36161983#36161983", "title": "mock method from child class", "body": "<p>Isn't it simply this?</p>\n\n<pre><code>  it \"returns hash with stats\" do\n      fred=described_class.new\n      allow(fred).to receive(:to_range) { range_data}\n      expect(.merge(data)).to eq(stats)\n  end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 6045297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d45a06d384dfb68a3c515cb395931c73?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Spence", "link": "https://stackoverflow.com/users/6045297/tim-spence"}, "is_accepted": false, "score": 0, "last_activity_date": 1458670161, "creation_date": 1458670161, "answer_id": 36162052, "question_id": 36161761, "link": "https://stackoverflow.com/questions/36161761/mock-method-from-child-class/36162052#36162052", "title": "mock method from child class", "body": "<p>Ruby + monkey-patching = win :)</p>\n\n<p>If you want, you could just open up the class and add an implementation of the method for the sake of testing. To prevent global scope, probably best to use refinements\n<a href=\"http://ruby-doc.org/core-2.1.1/doc/syntax/refinements_rdoc.html\" rel=\"nofollow\">http://ruby-doc.org/core-2.1.1/doc/syntax/refinements_rdoc.html</a></p>\n\n<pre><code>module M\n  refine StatsPeriod::Base do\n    def to_range\n      ...\n    end\n  end\nend\n</code></pre>\n\n<p>then you can call</p>\n\n<pre><code>using M\n</code></pre>\n\n<p>inside your spec to bring the monkey patch into scope?</p>\n"}], "owner": {"reputation": 1, "user_id": 6100221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a1fa514a7194e2e6b92e5f336f7b25?s=128&d=identicon&r=PG&f=1", "display_name": "John Hug", "link": "https://stackoverflow.com/users/6100221/john-hug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458670161, "creation_date": 1458669159, "question_id": 36161761, "link": "https://stackoverflow.com/questions/36161761/mock-method-from-child-class", "title": "mock method from child class", "body": "<p>I have parent class</p>\n\n<pre><code>class StatsPeriod::Base\n  def merge(data)\n    to_range.inject({}) do |result, date|\n      result[date] = data[date] || 0\n      result\n    end.to_a\n  end\nend\n</code></pre>\n\n<p>and this is my spec</p>\n\n<pre><code>require \"rails_helper\"\n\ndescribe StatsPeriod::Base do\n  let(:data) { { \"20160604\" =&gt; 1, \"20160601\" =&gt; 2 } }\n  let(:range_data) do\n    [\n      \"20160528\",\n      \"20160529\",\n      \"20160530\",\n      \"20160531\",\n      \"20160601\",\n      \"20160602\",\n      \"20160603\",\n      \"20160604\"\n    ]\n  end\n\n  describe \"#merge\" do\n    let(:stats) do\n      [\n        [\"20160528\", 0],\n        [\"20160529\", 0],\n        [\"20160530\", 0],\n        [\"20160531\", 0],\n        [\"20160601\", 2],\n        [\"20160602\", 0],\n        [\"20160603\", 0],\n        [\"20160604\", 1]\n      ]\n    end\n\n    it \"returns hash with stats\" do\n      expect(described_class.new.merge(data)).to eq(stats)\n    end\n  end\nend\n</code></pre>\n\n<p>How I can mock method <code>to_range</code> which exist only in child class and returns <code>range_data</code>\nor maybe I should mock child class and expect something like ChildClass.merge(data) but</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "coffeescript"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 1582670, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d9a038b93a1267e72cc0acb89956cf09?s=128&d=identicon&r=PG", "display_name": "splatoperator", "link": "https://stackoverflow.com/users/1582670/splatoperator"}, "edited": false, "score": 0, "creation_date": 1458783144, "post_id": 36182785, "comment_id": 60018253, "body": "Thank you so much.  Sometimes the issues is just staring you in the face."}], "tags": [], "owner": {"reputation": 384, "user_id": 2675681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b84c69f94a51e91af17b5d0ddef44e6?s=128&d=identicon&r=PG&f=1", "display_name": "mgidea", "link": "https://stackoverflow.com/users/2675681/mgidea"}, "is_accepted": false, "score": 0, "last_activity_date": 1458748237, "creation_date": 1458748237, "answer_id": 36182785, "question_id": 36161587, "link": "https://stackoverflow.com/questions/36161587/problems-with-object-reflection-in-nested-form-with-has-many-association/36182785#36182785", "title": "Problems with object reflection in nested form with has_many association", "body": "<p>one problem seems to be that you have shadowing variable names for the form_builder parameter here:</p>\n\n<pre><code>&lt;%= f.fields_for :profile_emails do |f| %&gt;\n  &lt;%= render 'profile_email_fields', f: f %&gt;\n  &lt;%= link_to_add_fields('Add Another Email', f, :profile_emails) %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>try changing to</p>\n\n<pre><code>&lt;%= f.fields_for :profile_emails do |ff| %&gt;\n  &lt;%= render 'profile_email_fields', f: ff %&gt;\n  &lt;%= link_to_add_fields('Add Another Email', f, :profile_emails) %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 1582670, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d9a038b93a1267e72cc0acb89956cf09?s=128&d=identicon&r=PG", "display_name": "splatoperator", "link": "https://stackoverflow.com/users/1582670/splatoperator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458748237, "creation_date": 1458668613, "last_edit_date": 1458669161, "question_id": 36161587, "link": "https://stackoverflow.com/questions/36161587/problems-with-object-reflection-in-nested-form-with-has-many-association", "title": "Problems with object reflection in nested form with has_many association", "body": "<p>I'm trying to implement the <code>has_many</code> pattern shown in \"<a href=\"http://tutorials.pluralsight.com/ruby-ruby-on-rails/ruby-on-rails-nested-attributes\" rel=\"nofollow\">Ruby on Rails Nested Attributes</a>\".  I'm combining it with some of my own methods and know exactly where it's raising an exception and why.  I just don't know how to fix it.  I'm using <code>accepts_nested_attributes</code>.  I have a class called <code>ProfilePhones</code>.  </p>\n\n<p>In profile_email.rb:</p>\n\n<pre><code>def self.attrs\n  column_names.map(&amp;:to_sym) - [:created_at, :updated_at]\nend\n</code></pre>\n\n<p>The use the above for nested attributes so if the model changes it doesn't break the other controller.  In the profiles_controller.rb I have: </p>\n\n<pre><code>def profile_params\n  params.require(:profile).permit(.... profile_phones_attributes: ProfilePhone.attrs)\n</code></pre>\n\n<p>In the Profile views folder, I have _profile_email_fields.html.erb with the fields for the ProfilePhone records:  </p>\n\n<pre><code>&lt;%= f.text_field :kind, placeholder: \"Type\" %&gt;\n&lt;%= f.text_field :email_address, placeholder: \"Email\" %&gt;\n</code></pre>\n\n<p>There's a bit more in this partial, but I'm simplifying it because the partial functions fine.  In the main _form partial I have the following:</p>\n\n<pre><code>&lt;%= f.fields_for :profile_emails do |f| %&gt;\n  &lt;%= render 'profile_email_fields', f: f %&gt;\n  &lt;%= link_to_add_fields('Add Another Email', f, :profile_emails) %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>In application_helper.rb:</p>\n\n<pre><code> def link_to_add_fields(name = nil, f = nil, association = nil, options = nil, html_options = nil, &amp;block)\n   f, association, options, html_options = name, f, association, options if block_given?\n\n   options = {} if options.nil?\n   html_options = {} if html_options.nil?\n\n   if options.include? :locals\n     locals = options[:locals]\n   else\n     locals = { }\n   end\n\n   if options.include? :partial\n     partial = options[:partial]\n   else\n     partial = association.to_s.singularize + '_fields'\n   end\n\n   new_object = f.object.class.reflect_on_association(association).klass.new\n   fields = f.fields_for(association, new_object, child_index: 'new_record') do |builder|\n     render(partial, locals.merge!( f: builder))\n   end\n\n   html_options['data-form-prepend'] = raw CGI::escapeHTML( fields )\n   html_options['href'] = '#'\n\n   content_tag(:a, name, html_options, &amp;block)\nend\n</code></pre>\n\n<p>Finally, in the profiles.coffee:</p>\n\n<pre><code>$('[data-form-prepend]').click (e) -&gt;\n  obj = $($(this).attr('data-form-prepend'))\n  obj.find('input, select, textarea').each -&gt;\n    $(this).attr 'name', -&gt;\n      $(this).attr('name').replace 'new_record', (new Date).getTime()\n    return\n  obj.insertBefore this\n  false\n</code></pre>\n\n<p>The problem is in the <code>application_helper</code> method above on the following line:</p>\n\n<pre><code> new_object = f.object.class.reflect_on_association(association).klass.new\n</code></pre>\n\n<p>f.object.class returns:  </p>\n\n<pre><code>ProfileEmail(id: integer, kind: string, email_address: string, profile_id: integer, created_at: datetime, updated_at: datetime)\n</code></pre>\n\n<p>association is set as <code>:profile_emails</code>.  The problem is that this produces Nil.  Also, I need to reflect on the model it belongs to Profile.  When I switch out with:</p>\n\n<pre><code>Profile.reflect_on_association(association).klass.new\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>-&gt;  #&lt;ProfileEmail id: nil, kind: nil, email_address: nil, profile_id: nil, created_at: nil, updated_at: nil&gt;\n</code></pre>\n\n<p>Which is what I want.  However, when I go to the view and click on 'Add another email' link   nothing happens.  This probably an issue either with my coffeescript or a consequence of calling Profile explicitly.  I'm not sure.  </p>\n\n<p>My two problems are:</p>\n\n<ol>\n<li><p>In my reflection method I should be reflecting on Profile and not Profile email, but I'm not sure how to fix it.  I can get a string of the profile name, but that doesn't help.</p></li>\n<li><p>When I explicitly call Profile in the helper method, nothing happens.</p></li>\n</ol>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458668584, "post_id": 36161491, "comment_id": 59960155, "body": "Update the question with <code>spec&#47;factories&#47;order.rb</code> content."}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458669265, "post_id": 36161491, "comment_id": 59960598, "body": "Try  <code>document_type [&quot;boleta&quot;, &quot;factura&quot;].sample</code> instead of <code>document_type &#39;MyString&#39;</code>"}, {"owner": {"reputation": 141, "user_id": 6010826, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f368bf6a1c64f908dd40905661b0809f?s=128&d=identicon&r=PG&f=1", "display_name": "Giancarlos", "link": "https://stackoverflow.com/users/6010826/giancarlos"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458670175, "post_id": 36161491, "comment_id": 59961183, "body": "@Pavan its not work :( , it show me the  same failed"}], "answers": [{"tags": [], "owner": {"reputation": 10255, "user_id": 1155142, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c680db41999d478ca34d1a77a470e30d?s=128&d=identicon&r=PG", "display_name": "gabrielhilal", "link": "https://stackoverflow.com/users/1155142/gabrielhilal"}, "is_accepted": true, "score": 2, "last_activity_date": 1458670959, "creation_date": 1458670959, "answer_id": 36162280, "question_id": 36161491, "link": "https://stackoverflow.com/questions/36161491/rspec-validate-failed-document-type-is-not-included-in-the-list/36162280#36162280", "title": "RSPEC validate failed : Document_type is not included in the list", "body": "<p>with the following:</p>\n\n<pre><code>validates :document_type, inclusion: { in: %w(boleta factura) },\n  allow_nil: true\n</code></pre>\n\n<p>you are specifying that <code>document_type</code> must be <code>boleta</code> or <code>factura</code>.</p>\n\n<p>However your Factory is setting <code>document_type</code> to <code>MyString</code>, so for that reason you are getting the validation error.</p>\n\n<p>To solve your problem change your factory to set <code>document_type</code> as <code>boleta</code> or <code>factura</code> OR just remove that field, since you are allowing nil (<code>allow_nil</code>).</p>\n\n<pre><code>FactoryGirl.define do\n factory :order do\n  status 'MyString'\n  order_date '2016-02-16 13:44:01'\n  delivery_date '2016-02-16 13:44:01'\n  subtotal '9.99'\n  igv '9.99'\n  total '9.99'\n  document_type 'boleta' # or factura or remove this line\n  store { FactoryGirl.build(:store) }\n  order_items { [FactoryGirl.build(:order_item)] }\n  user { FactoryGirl.build(:user) }\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1477, "user_id": 1004379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f5679275c965b9ea897e27026be433?s=128&d=identicon&r=PG", "display_name": "SacWebDeveloper", "link": "https://stackoverflow.com/users/1004379/sacwebdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1458671432, "creation_date": 1458671432, "answer_id": 36162410, "question_id": 36161491, "link": "https://stackoverflow.com/questions/36161491/rspec-validate-failed-document-type-is-not-included-in-the-list/36162410#36162410", "title": "RSPEC validate failed : Document_type is not included in the list", "body": "<p>Wrap an array sample in a block.</p>\n\n<pre><code>document_type { [\"boleta\", \"factura\"].sample }\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 6010826, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f368bf6a1c64f908dd40905661b0809f?s=128&d=identicon&r=PG&f=1", "display_name": "Giancarlos", "link": "https://stackoverflow.com/users/6010826/giancarlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 36162280, "answer_count": 2, "score": 0, "last_activity_date": 1458671432, "creation_date": 1458668341, "last_edit_date": 1458669245, "question_id": 36161491, "link": "https://stackoverflow.com/questions/36161491/rspec-validate-failed-document-type-is-not-included-in-the-list", "title": "RSPEC validate failed : Document_type is not included in the list", "body": "<p>I added a validate for my order model:</p>\n\n<pre><code>validates :document_type, inclusion: { in: %w(boleta factura) },\n  allow_nil: true\n</code></pre>\n\n<p>My spec/fatories/orders.rb:</p>\n\n<pre><code>FactoryGirl.define do\n factory :order do\n  status 'MyString'\n  order_date '2016-02-16 13:44:01'\n  delivery_date '2016-02-16 13:44:01'\n  subtotal '9.99'\n  igv '9.99'\n  total '9.99'\n  document_type 'MyString'\n  store { FactoryGirl.build(:store) }\n  order_items { [FactoryGirl.build(:order_item)] }\n  user { FactoryGirl.build(:user) }\nend\nend\n</code></pre>\n\n<p>But when I run \"rspec\" this failed and showed me this:</p>\n\n<pre><code>1) OrderItemsController POST create redirects\n Failure/Error: @order = FactoryGirl.create(:order)\n\n ActiveRecord::RecordInvalid:\n   Validate failed : Document type is not included in the list\n # ./spec/controllers/order_items_controller_spec.rb:4:in `block (3 levels) in &lt;top (required)&gt;'\n  2) OrderItemsController DELETE destroy redirects\n Failure/Error: @order = FactoryGirl.create(:order)\n\n ActiveRecord::RecordInvalid:\n   Validate failed : Document type is not included in the list\n # ./spec/controllers/order_items_controller_spec.rb:37:in `block (3 levels) in &lt;top (required)&gt;'\n 3) OrderItemsController PUT update redirects\n Failure/Error: @order = FactoryGirl.create(:order)\n\n ActiveRecord::RecordInvalid:\n   Validate failed : Document type is not included in the list\n # ./spec/controllers/order_items_controller_spec.rb:26:in `block (3 levels) in &lt;top (required)&gt;'\n  4) OrderItemsController PATCH update redirects\n Failure/Error: @order = FactoryGirl.create(:order)\n\n ActiveRecord::RecordInvalid:\n   Validate failed : Document type is not included in the list\n # ./spec/controllers/order_items_controller_spec.rb:15:in `block (3 levels) in &lt;top (required)&gt;'\n</code></pre>\n\n<p>How can I add <code>document_type</code> to the list?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "asset-pipeline", "sprockets", "capistrano3"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458665740, "post_id": 36160295, "comment_id": 59958248, "body": "Are you sure this wasn&#39;t a brief glitch with the Rubygems site?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458666243, "post_id": 36160295, "comment_id": 59958551, "body": "&quot;<code>undefined method &#39;to_h&#39; for nil:NilClass</code>&quot; doesn&#39;t tell us much. It should also tell you the line number and file it&#39;s occurring in. You have an uninitialized value but we have no idea what it&#39;d be."}, {"owner": {"reputation": 1217, "user_id": 5511520, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baaabef4e4f62eee165869427acd0472?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Belyakov", "link": "https://stackoverflow.com/users/5511520/mike-belyakov"}, "edited": false, "score": 0, "creation_date": 1458666477, "post_id": 36160295, "comment_id": 59958710, "body": "You post unuseful part of log, and this part was run under ruby 1.9.1. Maybe this is the catch?"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1458667186, "post_id": 36160295, "comment_id": 59959208, "body": "As previously mentioned by Mike, Capistrano appears to be running a different Ruby. Maybe <a href=\"http://stackoverflow.com/questions/23361546/trying-to-install-a-rails-app-with-capistrano-3-and-rbenv\">this will help</a> you?"}, {"owner": {"reputation": 120, "user_id": 839418, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/85cf066677f2d973743cd868f03833dd?s=128&d=identicon&r=PG", "display_name": "paul h", "link": "https://stackoverflow.com/users/839418/paul-h"}, "reply_to_user": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1458668528, "post_id": 36160295, "comment_id": 59960110, "body": "@David K-J Thanks, that post appears like it may solve the issue. I don&#39;t have access to the server again until Thursday, so will try then."}, {"owner": {"reputation": 120, "user_id": 839418, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/85cf066677f2d973743cd868f03833dd?s=128&d=identicon&r=PG", "display_name": "paul h", "link": "https://stackoverflow.com/users/839418/paul-h"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458668639, "post_id": 36160295, "comment_id": 59960198, "body": "@tadman No, there may well have a been a glitch with the ruby gems site, but after managing to install rails manually on the server, I tried to deploy again, with the same issue."}, {"owner": {"reputation": 120, "user_id": 839418, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/85cf066677f2d973743cd868f03833dd?s=128&d=identicon&r=PG", "display_name": "paul h", "link": "https://stackoverflow.com/users/839418/paul-h"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458668812, "post_id": 36160295, "comment_id": 59960318, "body": "@the Tin Man I know &quot;undefined .....&quot; doesn&#39;t say much, hence why I posted the output pointing to: .../gems/sprockets-es6-0.9.0/lib/sprockets/es6.rb:14:in `configuration_hash&#39; - line 14 of sprockets/es6?"}, {"owner": {"reputation": 120, "user_id": 839418, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/85cf066677f2d973743cd868f03833dd?s=128&d=identicon&r=PG", "display_name": "paul h", "link": "https://stackoverflow.com/users/839418/paul-h"}, "reply_to_user": {"reputation": 1217, "user_id": 5511520, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baaabef4e4f62eee165869427acd0472?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Belyakov", "link": "https://stackoverflow.com/users/5511520/mike-belyakov"}, "edited": false, "score": 0, "creation_date": 1458669224, "post_id": 36160295, "comment_id": 59960578, "body": "@Mike Belyakov I posted the output from running the failing cap production deploy task, and was aware I may need to post additional info hence why I stated &quot;let me know if there&#39;s something else I can add to help&quot; - except that has been edited out by the Tin Man!!!!"}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 839418, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/85cf066677f2d973743cd868f03833dd?s=128&d=identicon&r=PG", "display_name": "paul h", "link": "https://stackoverflow.com/users/839418/paul-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1459325221, "creation_date": 1459325221, "answer_id": 36303059, "question_id": 36160295, "link": "https://stackoverflow.com/questions/36160295/error-when-compiling-assets-on-the-production-server/36303059#36303059", "title": "Error when compiling assets on the production server", "body": "<p>For anyone coming across this, the problem was fixed thanks to the link posted by @DavidK-J which pointed me in the right direction. I needed to update the cap files with the settings for rbenv as follows:</p>\n\n<p>Capfile</p>\n\n<pre><code>require 'capistrano/rbenv'\n</code></pre>\n\n<p>deploy.rb</p>\n\n<pre><code>set :rbenv_type, :system\nset :rbenv_path, '~/.rbenv'\nset :rbenv_ruby, \"2.1.3\"\nset :rbenv_prefix, \"RBENV_ROOT=#{fetch(:rbenv_path)} RBENV_VERSION=#{fetch(:rbenv_ruby)} #{fetch(:rbenv_path)}/bin/rbenv exec\"\nset :rbenv_map_bins, %w{rake gem bundle ruby rails}\nset :rbenv_roles, :all\n</code></pre>\n\n<p>I then had to update passenger's config with the path to rbenv which in my case was:</p>\n\n<pre><code>~/.rbenv\n</code></pre>\n\n<p>HTH someone else.</p>\n\n<p>Paul</p>\n"}], "owner": {"reputation": 120, "user_id": 839418, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/85cf066677f2d973743cd868f03833dd?s=128&d=identicon&r=PG", "display_name": "paul h", "link": "https://stackoverflow.com/users/839418/paul-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459325221, "creation_date": 1458664938, "last_edit_date": 1458666133, "question_id": 36160295, "link": "https://stackoverflow.com/questions/36160295/error-when-compiling-assets-on-the-production-server", "title": "Error when compiling assets on the production server", "body": "<p>I tried to deploy my Rails application with Capistrano, and got the following error:</p>\n\n<pre><code>NoMethodError: undefined method `to_h' for nil:NilClass\n</code></pre>\n\n<p>Here is the stack trace, which looks like it may be a Sprockets issue, but I can't figure out why:</p>\n\n<pre><code>/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-es6-0.9.0/lib/sprockets/es6.rb:14:in `configuration_hash'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-es6-0.9.0/lib/sprockets/es6.rb:40:in `configuration_hash'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-es6-0.9.0/lib/sprockets/es6.rb:44:in `initialize'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-es6-0.9.0/lib/sprockets/es6.rb:21:in `new'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-es6-0.9.0/lib/sprockets/es6.rb:21:in `instance'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-es6-0.9.0/lib/sprockets/es6.rb:34:in `call'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:75:in `call_processor'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:57:in `block in call_processors'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:56:in `reverse_each'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:56:in `call_processors'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:134:in `load_from_unloaded'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:60:in `block in load'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:318:in `fetch_asset_from_dependency_cache'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:44:in `load'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:20:in `block in initialize'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:47:in `yield'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:47:in `default'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:47:in `load'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/bundle.rb:23:in `block in call'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/utils.rb:183:in `dfs'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/bundle.rb:24:in `call'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:75:in `call_processor'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:57:in `block in call_processors'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:56:in `reverse_each'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/processor_utils.rb:56:in `call_processors'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:134:in `load_from_unloaded'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:60:in `block in load'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:318:in `fetch_asset_from_dependency_cache'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/loader.rb:44:in `load'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:20:in `block in initialize'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:47:in `yield'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:47:in `default'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/cached_environment.rb:47:in `load'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/base.rb:66:in `find_asset'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/base.rb:73:in `find_all_linked_assets'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/manifest.rb:142:in `block in find'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/legacy.rb:114:in `block (2 levels) in logical_paths'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/path_utils.rb:225:in `block in stat_tree'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/path_utils.rb:209:in `block in stat_directory'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/path_utils.rb:206:in `each'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/path_utils.rb:206:in `stat_directory'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/path_utils.rb:224:in `stat_tree'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/legacy.rb:105:in `each'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/legacy.rb:105:in `block in logical_paths'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/legacy.rb:104:in `each'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/legacy.rb:104:in `logical_paths'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/manifest.rb:140:in `find'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/sprockets/manifest.rb:168:in `compile'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-rails-2.3.3/lib/sprockets/rails/task.rb:70:in `block (3 levels) in define'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-3.5.2/lib/rake/sprocketstask.rb:147:in `with_logger'\n/var/www/paperless_office/shared/bundle/ruby/1.9.1/gems/sprockets-rails-2.3.3/lib/sprockets/rails/task.rb:69:in `block (2 levels) in define'\nTasks: TOP =&gt; assets:precompile\n</code></pre>\n\n<p>This is my local environment:</p>\n\n<pre><code>OSX 10.11.3\nRuby 2.1.3p242\nRails 4.1.0\nRake 10.3.2\nSprockets-Rails 2.3.3\nCapistrano 3.4.0\n</code></pre>\n\n<p>This is my production environment:</p>\n\n<pre><code>Centos 5\nruby 2.1.3p242 (managed by rbenv)\n</code></pre>\n\n<p>My currently installed gems are:</p>\n\n<pre><code>bigdecimal (1.2.4)\nbundler (1.11.2)\nio-console (0.4.2)\njson (1.8.1)\nminitest (4.7.5)\npsych (2.0.5)\nrake (10.1.0)\nrdoc (4.1.0)\ntest-unit (2.1.3.0)\n</code></pre>\n\n<p>I have been able to run:</p>\n\n<pre><code>gem install bundler\n</code></pre>\n\n<p>However, if I run:</p>\n\n<pre><code>gem install rails\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>ERROR:  While executing gem ... (Gem::RemoteFetcher::FetchError)\n    bad response Service Unavailable 503 (https://api.rubygems.org/api/v1/dependencies?gems=rack)\n</code></pre>\n\n<p>Is this is linked to my initial question?</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 2, "creation_date": 1458664812, "post_id": 36160087, "comment_id": 59957631, "body": "Also look at matrix  <a href=\"http://dpaste.com/36FVG6F\" rel=\"nofollow noreferrer\">dpaste.com/36FVG6F</a>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 322, "user_id": 6062644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3MLX.jpg?s=128&g=1", "display_name": "JLB", "link": "https://stackoverflow.com/users/6062644/jlb"}, "edited": false, "score": 0, "creation_date": 1458666509, "post_id": 36160087, "comment_id": 59958734, "body": "Further to @JLB&#39;s suggestion, the <a href=\"http://ruby-doc.org/stdlib-2.2.0/libdoc/matrix/rdoc/Matrix.html\" rel=\"nofollow noreferrer\">Matrix</a> and <a href=\"http://ruby-doc.org/stdlib-2.2.0/libdoc/matrix/rdoc/Vector.html\" rel=\"nofollow noreferrer\">Vector</a> classes have several methods that would be convenient here, including ones for stabbing out columns and 3x3 submatrices. Note that an easy way to see if a 3x3 submatrix <code>m</code> contains any duplicates is to test <code>arr = m.to_a.flatten; arr == arr.uniq</code>. A similar approach could be taken for rows and columns, of course."}], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1458665916, "post_id": 36160159, "comment_id": 59958354, "body": "dpears, If you leave a comment on a question or answer the author of the comment/question will be notified by SO. It is only when you leave a comment for someone else that you need to include @username in the comment for that person to be notified of the comment."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1458666528, "post_id": 36160159, "comment_id": 59958749, "body": "Also, don&#39;t use comments to say &quot;thanks&quot;. The comment-box specifically mentions that. They only clog the system."}], "tags": [], "owner": {"reputation": 37836, "user_id": 24195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4bebe360045a2dce663ee875f13723?s=128&d=identicon&r=PG", "display_name": "Rob Di Marco", "link": "https://stackoverflow.com/users/24195/rob-di-marco"}, "is_accepted": true, "score": 4, "last_activity_date": 1458664564, "creation_date": 1458664564, "answer_id": 36160159, "question_id": 36160087, "link": "https://stackoverflow.com/questions/36160087/ruby-array-of-instances-modifying-attributes/36160159#36160159", "title": "Ruby Array of Instances, modifying attributes", "body": "<p>You need to use a block</p>\n\n<pre><code>@grid = Array.new(9) { Array.new(9) { Cell.new } }\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 4638257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FCCV5.png?s=128&g=1", "display_name": "daviscodesbugs", "link": "https://stackoverflow.com/users/4638257/daviscodesbugs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1458668552, "accepted_answer_id": 36160159, "answer_count": 1, "score": 0, "last_activity_date": 1458664564, "creation_date": 1458664360, "question_id": 36160087, "link": "https://stackoverflow.com/questions/36160087/ruby-array-of-instances-modifying-attributes", "closed_reason": "Duplicate", "title": "Ruby Array of Instances, modifying attributes", "body": "<p>I'm attempting to write a sudoku solver in ruby and I've run into an issue. Consider the following code:</p>\n\n<p><code>@grid = Array.new(9,Array.new(9,Cell.new))</code></p>\n\n<p>where <code>Cell</code> is defined as:</p>\n\n<pre><code>class Cell\n    def initialize\n        @value = 0\n        @possibles = Array (1..9)\n    end\n\n    attr_accessor :value, :possibles\nend\n</code></pre>\n\n<p>When I initialize my 9x9 <code>@grid</code> 2D array, it prints out the values</p>\n\n<pre><code>0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 0 0 0 0\n</code></pre>\n\n<p>which is what I expect. However, when I try running something like <code>@grid[5][5].value = 7</code> then the <code>@grid</code> prints out the values</p>\n\n<pre><code>7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n7 7 7 7 7 7 7 7 7\n</code></pre>\n\n<p>I realize that my 9x9 <code>@grid</code> 2D array is full of the <em>same</em> instance of <code>Cell</code> </p>\n\n<p>What is the syntax to create a 2D array of <em>unique</em> instances so that I can manipulate them individually?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458663847, "post_id": 36159867, "comment_id": 59956976, "body": "Can you post the remaining code for that code snippet?"}, {"owner": {"reputation": 382, "user_id": 3308003, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AiKlE.png?s=128&g=1", "display_name": "rony", "link": "https://stackoverflow.com/users/3308003/rony"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458663980, "post_id": 36159867, "comment_id": 59957065, "body": "I have updated the code snippet @Pavan"}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458664121, "post_id": 36159867, "comment_id": 59957170, "body": "Try <code>@comment = @link.comments.new(comment_params)</code> instead of <code>@comment = @link.comments.new[comment_params]</code>"}, {"owner": {"reputation": 382, "user_id": 3308003, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AiKlE.png?s=128&g=1", "display_name": "rony", "link": "https://stackoverflow.com/users/3308003/rony"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458664632, "post_id": 36159867, "comment_id": 59957517, "body": "thanks! I think this is the one!"}], "answers": [{"tags": [], "owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "is_accepted": true, "score": 2, "last_activity_date": 1458664772, "creation_date": 1458664772, "answer_id": 36160223, "question_id": 36159867, "link": "https://stackoverflow.com/questions/36159867/undefined-class-made-by-scaffold-rails/36160223#36160223", "title": "Undefined class made by scaffold rails", "body": "<blockquote>\n  <p>undefined method `save' for nil:NilClass</p>\n</blockquote>\n\n<p>I believe the error is due to the below line</p>\n\n<pre><code>@comment = @link.comments.new[comment_params]\n</code></pre>\n\n<p>which should be</p>\n\n<pre><code>@comment = @link.comments.new(comment_params)\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 3308003, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AiKlE.png?s=128&g=1", "display_name": "rony", "link": "https://stackoverflow.com/users/3308003/rony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 36160223, "answer_count": 1, "score": 0, "last_activity_date": 1458664772, "creation_date": 1458663754, "last_edit_date": 1458663946, "question_id": 36159867, "link": "https://stackoverflow.com/questions/36159867/undefined-class-made-by-scaffold-rails", "title": "Undefined class made by scaffold rails", "body": "<p>I find this problem while following the tutorial using scaffold</p>\n\n<pre><code>undefined method `save' for nil:NilClass\n</code></pre>\n\n<p>I have no idea why this is happening, since I didn't change anything and this methods is automatically written by the scaffold when I generate the Comment class. What's happening? I'm amateur, so I don't know what code to show here.\nThank you very much for your help.</p>\n\n<pre><code>    class CommentsController &lt; ApplicationController\n  before_action :set_comment, only: [:show, :edit, :update, :destroy]\n\n  def create\n    @link = Link.find(params[:link_id])\n    @comment = @link.comments.new[comment_params]\n    @comment.try[:user] = current_user\n\n    respond_to do |format|\n      if @comment.save\n        format.html { redirect_to @link, notice: 'Comment was successfully created.' }\n        format.json { render json: @comment, status: :created, location: @comment }\n      else\n        format.html { render action: \"new\" }\n        format.json { render json: @comment.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /comments/1\n  # DELETE /comments/1.json\n  def destroy\n    @comment.destroy\n    respond_to do |format|\n      format.html { redirect_to comments_url, notice: 'Comment was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_comment\n      @comment = Comment.find(params[:id])\n    end\n\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def comment_params\n      params.require(:comment).permit(:link_id, :body, :user_id)\n    end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "controller"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 1, "creation_date": 1458663460, "post_id": 36159676, "comment_id": 59956681, "body": "Please post the full error in the question."}, {"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458663658, "post_id": 36159676, "comment_id": 59956832, "body": "Added a screen shot [1]"}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 2, "creation_date": 1458663712, "post_id": 36159676, "comment_id": 59956877, "body": "Do you have a file called <code>roster.rb</code> in <code>app&#47;models</code>?"}, {"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458663823, "post_id": 36159676, "comment_id": 59956958, "body": "No, I don&#39;t, I presume I should?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1458663878, "post_id": 36159676, "comment_id": 59956994, "body": "Don&#39;t use screen shots for information that is essential to a question. We can&#39;t copy/paste information from a screen shot, nor can search engines use the image to index the page. Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;; We need the information in the question itself, not at the end of links that can rot and break."}, {"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458663988, "post_id": 36159676, "comment_id": 59957069, "body": "I think I added the error now, again, sorry!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "edited": false, "score": 0, "creation_date": 1458664018, "post_id": 36159676, "comment_id": 59957092, "body": "Yes you should have roster.rb as this is the class that will help you reach your rosters table. Are you familiar with rails generators for model classes?"}, {"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458664844, "post_id": 36159676, "comment_id": 59957651, "body": "I have roster.rb now but I get a different error,  ActionView::Template::Error (SQLite3::SQLException: no such column: created_at_DESC: SELECT &quot;rosters&quot;.* FROM &quot;rosters&quot;   ORDER BY created_at_DESC):      5: &lt;div id=&quot;rosters&quot; class=&quot;cf&quot;&gt;      6:         &lt;div class=&quot;wrapper&quot;&gt;      7:                 &lt;ul class=&quot;cf&quot;&gt;      8:                         &lt;% @rosters.each do |roster| %&gt;      9:                                 &lt;%= link_to roster do %&gt;     10:                                         &lt;li&gt;     11:   app/views/rosters/index.html.erb:8:in `_app_views_rosters_index_html_erb___315297093_57160776"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458664091, "post_id": 36159963, "comment_id": 59957149, "body": "I get another error when I create roster.rb                 ActiveRecord::StatementInvalid in Rosters#index  SQLite3::SQLException: no such table: rosters: SELECT &quot;rosters&quot;.* FROM &quot;rosters&quot;   ORDER BY created_at_DESC"}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "reply_to_user": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458664206, "post_id": 36159963, "comment_id": 59957236, "body": "@AaronO&#39;Leary That means now you should create a table called rosters in your db."}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "reply_to_user": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458664247, "post_id": 36159963, "comment_id": 59957260, "body": "@AaronO&#39;Leary Follow these guides <a href=\"http://guides.rubyonrails.org/getting_started.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/getting_started.html</a>"}, {"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458690996, "post_id": 36159963, "comment_id": 59972076, "body": "I did what you told me to do and it got me past the error, thanks! just have to create the show page! Thank you!"}], "tags": [], "owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "is_accepted": true, "score": 3, "last_activity_date": 1458664011, "creation_date": 1458664011, "answer_id": 36159963, "question_id": 36159676, "link": "https://stackoverflow.com/questions/36159676/uninitialized-constant-in-controller-rails/36159963#36159963", "title": "Uninitialized constant in controller Rails", "body": "<blockquote>\n  <p>uninitialized constant RostersController::Roster</p>\n</blockquote>\n\n<p>You should have a model file with the name <code>roster.rb</code> in <code>app/models</code></p>\n\n<pre><code>#roster.rb\n\nclass Roster &lt; ActiveRecord::Base\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458665940, "post_id": 36160580, "comment_id": 59958368, "body": "I don&#39;t think I have any naming issues but I will go through it again after work and see, thank you!"}], "tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": false, "score": 0, "last_activity_date": 1458665718, "creation_date": 1458665718, "answer_id": 36160580, "question_id": 36159676, "link": "https://stackoverflow.com/questions/36159676/uninitialized-constant-in-controller-rails/36160580#36160580", "title": "Uninitialized constant in controller Rails", "body": "<p>Rails is very very mean at naming (for many good reasons). You must follow the rules like this (pay attention to the case and the singular/plural forms):</p>\n\n<pre><code>File name            | Class name | Table name\napp/models/roster.rb | Roster     | rosters\n</code></pre>\n\n<p>Otherwise you will have errors.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1458691721, "post_id": 36161189, "comment_id": 59972328, "body": "Thank you for this! It saved me even more hassle! :)"}, {"owner": {"reputation": 11, "user_id": 4684966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc8183738ae7bc727edc311a28d4247?s=128&d=identicon&r=PG&f=1", "display_name": "Fiyin", "link": "https://stackoverflow.com/users/4684966/fiyin"}, "reply_to_user": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "edited": false, "score": 0, "creation_date": 1459237993, "post_id": 36161189, "comment_id": 60183270, "body": "Awesome! Glad I could help :)"}], "tags": [], "owner": {"reputation": 11, "user_id": 4684966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc8183738ae7bc727edc311a28d4247?s=128&d=identicon&r=PG&f=1", "display_name": "Fiyin", "link": "https://stackoverflow.com/users/4684966/fiyin"}, "is_accepted": false, "score": 0, "last_activity_date": 1458667479, "creation_date": 1458667479, "answer_id": 36161189, "question_id": 36159676, "link": "https://stackoverflow.com/questions/36159676/uninitialized-constant-in-controller-rails/36161189#36161189", "title": "Uninitialized constant in controller Rails", "body": "<p>In addition to @Pavan's answer,</p>\n\n<p>From the screenshot of your controller index action, this will not work <br>\n<code>@rosters = Roster.all.order(\"created_at_DESC\")</code><br><br>\nTry this instead <br>\n<code>@rosters = Roster.order('created_at': 'DESC')</code> ,<br>\n<code>@rosters = Roster.order(\"created_at DESC\")</code> <br>\nOR <br>\n<code>@rosters = Roster.order(created_at: :desc)</code>\n<br><br>\nAlso, <code>all</code> is not required with <code>order</code>.</p>\n\n<p><a href=\"http://apidock.com/rails/ActiveRecord/QueryMethods/order\" rel=\"nofollow\">http://apidock.com/rails/ActiveRecord/QueryMethods/order</a></p>\n"}], "owner": {"reputation": 15, "user_id": 4499409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dDc7fHFENt4/AAAAAAAAAAI/AAAAAAAAABE/iIhMGLVzorY/photo.jpg?sz=128", "display_name": "Aaron O&#39;Leary", "link": "https://stackoverflow.com/users/4499409/aaron-oleary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3344, "favorite_count": 0, "accepted_answer_id": 36159963, "answer_count": 3, "score": 1, "last_activity_date": 1458667479, "creation_date": 1458663269, "last_edit_date": 1458664122, "question_id": 36159676, "link": "https://stackoverflow.com/questions/36159676/uninitialized-constant-in-controller-rails", "title": "Uninitialized constant in controller Rails", "body": "<p>This is the route:</p>\n\n<pre><code>Rails.application.routes.draw.do\ndevise_for :users do\ncollection do\n  post 'batch_invite'\nend\nend\nroot 'welcome#index'\n\nresources :rosters, only: [:index, :show]\n\nend\n</code></pre>\n\n<p>My rosters controller: </p>\n\n<pre><code>class RostersController &lt; ApplicationController\n def index\n  @rosters = Roster.all.order(\"created_at_DESC\")\n  end\n end\n</code></pre>\n\n<p>My Index:</p>\n\n<pre><code>&lt;div id=\"banner\" class=\"roster_banner\"&gt;\n  &lt;h1&gt;View and create rosters&lt;/h1&gt;\n&lt;/div&gt;\n\n&lt;div id=\"rosters\" class=\"cf\"&gt;\n  &lt;div class=\"wrapper\"&gt;\n    &lt;ul class=\"cf\"&gt;\n      &lt;% @rosters.each do |roster| %&gt;\n        &lt;%= link_to roster do %&gt;\n          &lt;li&gt;\n\n            &lt;div class=\"roster_overview\"&gt;\n              &lt;h2&gt;&lt;%= roster.title %&gt;&lt;/h2&gt;\n              &lt;p class=\"week_count\"&gt;Week 1&lt;/p&gt;\n            &lt;/div&gt;\n          &lt;/li&gt;\n        &lt;% end %&gt;\n      &lt;% end %&gt;\n    &lt;/ul&gt;\n\n    &lt;%= will_paginate @rosters, previous_label: \"Previous\", next_label: \"Next\" %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I can't see anything wrong, but when I load localhost:3000/rosters I get:</p>\n\n<pre><code>Error: NameError (uninitialized constant RostersController::Roster):\n  app/controllers/rosters_controller.rb:3:in `index'\n</code></pre>\n\n<p>Error that I get: uninitialized constant RostersController::Roster <a href=\"http://i.stack.imgur.com/Bmn5S.png\" rel=\"nofollow\">1</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/Bmn5S.png\" rel=\"nofollow\">1</a>  = screenshot of error</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "selenium", "page-object-gem"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1458665400, "post_id": 36159661, "comment_id": 59958009, "body": "You are really overthinking it. In Ruby you use Selenium as an acceptance testing tool - you use it automate a browser which crawls an actual page served by a (local) web server. Look at some basic examples with RSpec and Capybara or MiniTest/TestUnit and Capybara. Recommendations are off topic for stackoverflow so I&#39;m not going to mention any."}, {"owner": {"reputation": 290, "user_id": 5630536, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/aa8b05352d99138a1001a5ec186497c4?s=128&d=identicon&r=PG&f=1", "display_name": "Speedychuck", "link": "https://stackoverflow.com/users/5630536/speedychuck"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1458723112, "post_id": 36159661, "comment_id": 59982888, "body": "Thanks, I will check out those frameworks."}], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 680588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50ddecc6673eb0179f854124e9554486?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/680588/tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1458738281, "last_edit_date": 1495542690, "creation_date": 1458736895, "answer_id": 36178494, "question_id": 36159661, "link": "https://stackoverflow.com/questions/36159661/ruby-selenium-webdriver-page-object-model-practice-website/36178494#36178494", "title": "Ruby Selenium Webdriver + Page object model + Practice Website?", "body": "<p>Rather than focus on specific frameworks it sounds like you need more information about the theory behind the Page Object Model Pattern in test.</p>\n\n<h1>A High Level Overview</h1>\n\n<p>One of the problems with writing automated UI tests for a website is there isn't a clear <a href=\"https://stackoverflow.com/questions/98734/what-is-separation-of-concerns\" title=\"SOC SO Anwser\">separation of concerns</a> between the UI Logic and the Test Logic. The Page Object Model Pattern aims to solve this by separating your Tests into there own test classes which contain just test logic (e.g. asserts, application flow). And page object classes contain interactions with the page (e.g. clicking buttons and filing in forms on the page).</p>\n\n<h1>A Page Object - In More Detail</h1>\n\n<p>These classes are a representation of a 'page' which isn't just a standard webpage but could also mean part of a page or a modal dialogue box.</p>\n\n<p>They only contain how to do things on the page for example:</p>\n\n<ul>\n<li>Click buttons</li>\n<li>Fill in a form</li>\n<li>Get elements from the page.</li>\n</ul>\n\n<p>Typically they are written as a <a href=\"http://martinfowler.com/bliki/FluentInterface.html\" rel=\"nofollow noreferrer\" title=\"Fluent Interface\">Fluent Interface</a> </p>\n\n<p>Imagine a app with a homepage and a contacts directory to search for contacts. This would be two page objects. A Homepage page object and a ContactsDirectoryPageObject. Each object handling how to interact with the page to perform actions and get data. So some puesdocode might look like:</p>\n\n<pre><code># The Homepage Page Object\nclass HomepageObject {\n\n  ClickContactsDirectoryPageButton()\n  {\n     webdriver.click(By.Id(\"contactsDirectoryButton\"));\n  }\n\n  GetContactsDirectoryPageObject()\n  {\n    return new ContactsDirectoryPageObject()\n  }\n}\n\n\n# The Contacts Directory Page Object\nclass ContactsDirectoryPageObject {\n  SearchForContact(contactName)\n  {\n    webdriver.findElementById(\"searchBox\").Click().SendKeys(contactName)\n    webdriver.findElementById(\"search\").Click()\n  }\n\n  GetFoundContactInformation()\n  {\n    resultElement = webdriver.findElementById(\"result\")\n\n    # Some logic to convert element into a model to pass back\n    result = new ContactResultModel(resultElement);\n\n    return result;\n  }\n}\n</code></pre>\n\n<h1>Using Page Object in test</h1>\n\n<p>so when used in a test class they might look like (puesdocode):</p>\n\n<pre><code>class MyTest {\n\n  daveContact = homepage.ClickContactsDirectoryPageButton()\n                        .GetContactsDirectoryPage()\n                        .SearchForContact(\"Dave\")\n                        .GetFoundContactInformation()\n\n  Assert.That(daveContact.Name).Equals(\"Dave\")\n\n}\n</code></pre>\n\n<p>Now the test only does one job - asserting that the feature under test works. By working through the application and asserting on data from it. The test doesn't know anything about how the page is constructed out.</p>\n\n<h1>Why Bother (Advantages)?</h1>\n\n<ul>\n<li>If your tests contained both test logic and page object model logic then you would have to update all your tests every time the ID of a button or text box changed.</li>\n<li>The tests become easier to read as they just focus on mapping out the flow of the app and asserting it is correct.</li>\n<li>Updating your tests when the application changes is easier as you only have one place to update it - your page objects. </li>\n</ul>\n"}], "owner": {"reputation": 290, "user_id": 5630536, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/aa8b05352d99138a1001a5ec186497c4?s=128&d=identicon&r=PG&f=1", "display_name": "Speedychuck", "link": "https://stackoverflow.com/users/5630536/speedychuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "closed_date": 1458766419, "accepted_answer_id": 36178494, "answer_count": 1, "score": -1, "last_activity_date": 1458738281, "creation_date": 1458663240, "question_id": 36159661, "link": "https://stackoverflow.com/questions/36159661/ruby-selenium-webdriver-page-object-model-practice-website", "closed_reason": "Not suitable for this site", "title": "Ruby Selenium Webdriver + Page object model + Practice Website?", "body": "<p>I have been using Selenium web-driver with java + TestNG framework, however, i've landed a job but they use ruby + selenium web-driver and the page object model. I've searched google and gathered some resources to read through before I start, however I would like to practice. From my understanding I could be completely wrong but for the page object model you create objects in a separate class which hold the same property's as the actual objects and then you use a different class with test code to test against those objects?</p>\n\n<p>I would like to practice and learn from ground up does anyone know of some concrete tutorials for ruby with selenium? I used <a href=\"http://toolsqa.com/\" rel=\"nofollow\">http://toolsqa.com/</a> for learning in java which was excellent something like this but in ruby would be great?</p>\n\n<p>And the last question! I was testing in a work environment with local environments, What is a good public website that has a registration, login, etc that I could practice writing tests for?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "edited": false, "score": 0, "creation_date": 1458663380, "post_id": 36159634, "comment_id": 59956626, "body": "what does <code>Settings.supported_languages</code> return?"}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1458663396, "post_id": 36159634, "comment_id": 59956635, "body": "What does <code>Settings.supported_languages</code> contain?"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1458663498, "post_id": 36159634, "comment_id": 59956712, "body": "It&#39;s shown above. An Array Like its mentiond above: {&quot;Deutsch&quot;=&gt;:de, &quot;English&quot;=&gt;:en}"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1458663977, "post_id": 36159634, "comment_id": 59957062, "body": "if I do this: Settings.supported_languages its the array and if I do this Settings.supported_languages.all its the hash"}], "answers": [{"comments": [{"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1458675186, "post_id": 36160926, "comment_id": 59964246, "body": "undefined method `select_tag&#39; for #&lt;ActionView::Helpers::FormBuilder:0x0000000952aae0&gt;"}, {"owner": {"reputation": 1217, "user_id": 5511520, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baaabef4e4f62eee165869427acd0472?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Belyakov", "link": "https://stackoverflow.com/users/5511520/mike-belyakov"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1458675898, "post_id": 36160926, "comment_id": 59964634, "body": "I do not know the context, but usually you use <code>f.select</code> or <code>select_tag</code>. Try to change it."}], "tags": [], "owner": {"reputation": 1217, "user_id": 5511520, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baaabef4e4f62eee165869427acd0472?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Belyakov", "link": "https://stackoverflow.com/users/5511520/mike-belyakov"}, "is_accepted": true, "score": 1, "last_activity_date": 1458666668, "creation_date": 1458666668, "answer_id": 36160926, "question_id": 36159634, "link": "https://stackoverflow.com/questions/36159634/rails-print-array-in-select-tag-printing-error/36160926#36160926", "title": "rails print array in select_tag printing error", "body": "<p>To fix this code use</p>\n\n<p><code>&lt;%= f.select_tag :language, Settings.supported_languages.collect {|p| [ p[0], p[1] ] }%&gt;</code></p>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 36160926, "answer_count": 1, "score": -1, "last_activity_date": 1458666668, "creation_date": 1458663187, "question_id": 36159634, "link": "https://stackoverflow.com/questions/36159634/rails-print-array-in-select-tag-printing-error", "title": "rails print array in select_tag printing error", "body": "<p>I've got the following code:</p>\n\n<pre><code>&lt;%= f.select_tag :language, Settings.supported_languages.collect {|p| [ p.value, p.key ] }%&gt;\n</code></pre>\n\n<p>that should print a array in the select_tag from rails ... </p>\n\n<p>But I got this error:</p>\n\n<pre><code>undefined method `value' for [\"Deutsch\", :de]:Array\n</code></pre>\n\n<p>how should it look corretly?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3096851, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a839d5d6458c5705b584996d73d9074d?s=128&d=identicon&r=PG&f=1", "display_name": "user3096851", "link": "https://stackoverflow.com/users/3096851/user3096851"}, "edited": false, "score": 0, "creation_date": 1458665705, "post_id": 36159573, "comment_id": 59958227, "body": "Thanks for the reply, unfortunately adding the attr_accessor didn&#39;t work."}, {"owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "reply_to_user": {"reputation": 41, "user_id": 3096851, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a839d5d6458c5705b584996d73d9074d?s=128&d=identicon&r=PG&f=1", "display_name": "user3096851", "link": "https://stackoverflow.com/users/3096851/user3096851"}, "edited": false, "score": 0, "creation_date": 1458687949, "post_id": 36159573, "comment_id": 59970967, "body": "@user3096851: post what the whole method then, and tell, what <code>results</code> and <code>comments</code> contain"}, {"owner": {"reputation": 41, "user_id": 3096851, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a839d5d6458c5705b584996d73d9074d?s=128&d=identicon&r=PG&f=1", "display_name": "user3096851", "link": "https://stackoverflow.com/users/3096851/user3096851"}, "edited": false, "score": 0, "creation_date": 1458817226, "post_id": 36159573, "comment_id": 60030414, "body": "Sorry my last comment was so brief.  Here&#39;s the code in one full script."}, {"owner": {"reputation": 41, "user_id": 3096851, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a839d5d6458c5705b584996d73d9074d?s=128&d=identicon&r=PG&f=1", "display_name": "user3096851", "link": "https://stackoverflow.com/users/3096851/user3096851"}, "edited": false, "score": 0, "creation_date": 1458818857, "post_id": 36159573, "comment_id": 60031439, "body": "results = client.query(&quot;SELECT id, parent_id, title, votes, popularity FROM &gt;comments WHERE thread_id = 1 order by popularity desc, posted asc&quot;)     comments = {}     records = results.map do |row|row[&#39;childs&#39;] = {}   comments[row[&#39;id&#39;]] = row end comments.map do |k, v| \tif v[&quot;parent_id&quot;] != 0 \t\t#puts v[&quot;parent_id&quot;] \t\tcomments[v[&quot;parent_id&quot;]][&#39;childs&#39;][k] =  v \tend end comments.map do |k, v| \tif v[&quot;parent_id&quot;] != 0 \t\tcomments.delete(k) \tend end"}, {"owner": {"reputation": 41, "user_id": 3096851, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a839d5d6458c5705b584996d73d9074d?s=128&d=identicon&r=PG&f=1", "display_name": "user3096851", "link": "https://stackoverflow.com/users/3096851/user3096851"}, "edited": false, "score": 0, "creation_date": 1458818875, "post_id": 36159573, "comment_id": 60031453, "body": "def display_comments(comments, level = 0) \tcomments.map do |k,v| \t\tputs &#39;-&#39; * (level + 1) + &quot; &quot; + comments[k][&quot;title&quot;] + &quot; (id: &quot; + comments[k][&quot;id&quot;].to_s + &quot;)\\n&quot; \t\tdisplay_comments(comments[k][&#39;childs], level + 1) \tend end display_comments(comments)"}], "tags": [], "owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "is_accepted": true, "score": 4, "last_activity_date": 1458663046, "creation_date": 1458663046, "answer_id": 36159573, "question_id": 36159481, "link": "https://stackoverflow.com/questions/36159481/in-a-rails-controller-creating-a-new-index-in-a-map-do-loop-fails-yet-its-fi/36159573#36159573", "title": "In a Rails controller creating a new index in a &#39;map.do&#39; loop fails, yet it&#39;s fine in Ruby", "body": "<p><code>row</code> is not a hash, but an <code>ActiveModel</code> object instance, so you can't just add/assign new attributes to it like a key to the hash. In your model, you can use <code>attr_accessor</code> to initiate setters(writing) and getters(reading) for <code>childs</code> attribute.</p>\n"}], "owner": {"reputation": 41, "user_id": 3096851, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a839d5d6458c5705b584996d73d9074d?s=128&d=identicon&r=PG&f=1", "display_name": "user3096851", "link": "https://stackoverflow.com/users/3096851/user3096851"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 36159573, "answer_count": 1, "score": 1, "last_activity_date": 1458664317, "creation_date": 1458662792, "last_edit_date": 1458664317, "question_id": 36159481, "link": "https://stackoverflow.com/questions/36159481/in-a-rails-controller-creating-a-new-index-in-a-map-do-loop-fails-yet-its-fi", "title": "In a Rails controller creating a new index in a &#39;map.do&#39; loop fails, yet it&#39;s fine in Ruby", "body": "<p>I have a bunch of records from a database using <code>select id, parent_id....</code> and loop over them using <code>map.do</code> creating a new index on each row.</p>\n\n<pre><code>records = results.map do |row|\n    row['childs'] = {}\n    comments[row['id']] = row\nend\n</code></pre>\n\n<p>This works fine when called from the command-line but when placed in the Rails context I get the following error:</p>\n\n<pre><code>&gt;ActiveModel::MissingAttributeError in CommentsController#index\ncan't write unknown attribute `childs'\n</code></pre>\n\n<p>Any idea what this would work in Ruby at the command line and not Rails? What am I missing about how Rails works? </p>\n"}, {"tags": ["ruby", "cucumber", "capybara"], "answers": [{"comments": [{"owner": {"reputation": 17178, "user_id": 61592, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/55ff1426273f950b43135f619d025476?s=128&d=identicon&r=PG", "display_name": "Todd R", "link": "https://stackoverflow.com/users/61592/todd-r"}, "edited": false, "score": 1, "creation_date": 1458662940, "post_id": 36159470, "comment_id": 59956301, "body": "page.html return a string so <code>find</code> is not a valid method"}, {"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "edited": false, "score": 0, "creation_date": 1458670788, "post_id": 36159470, "comment_id": 59961577, "body": "To use finders on a string you would need to create a Capybara::Node::Simple from it like <code>Capybara.string(page.html).find(...)</code> - while this is possible, it&#39;s really better just to figure out why Capybara isn&#39;t finding the element in the session - see my answer"}], "tags": [], "owner": {"reputation": 1217, "user_id": 5511520, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baaabef4e4f62eee165869427acd0472?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Belyakov", "link": "https://stackoverflow.com/users/5511520/mike-belyakov"}, "is_accepted": false, "score": -2, "last_activity_date": 1458662753, "creation_date": 1458662753, "answer_id": 36159470, "question_id": 36158868, "link": "https://stackoverflow.com/questions/36158868/capybara-can-not-find-element-by-id/36159470#36159470", "title": "Capybara can not find element by id", "body": "<p>I think, it is time to update capybara for the very beginning.</p>\n\n<p>And, I can not test it out now, but try <code>page.html.find('#notice_sent')</code></p>\n"}, {"comments": [{"owner": {"reputation": 17178, "user_id": 61592, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/55ff1426273f950b43135f619d025476?s=128&d=identicon&r=PG", "display_name": "Todd R", "link": "https://stackoverflow.com/users/61592/todd-r"}, "edited": false, "score": 0, "creation_date": 1458672779, "post_id": 36160607, "comment_id": 59962795, "body": "Yep - the id was on the page but wasn&#39;t visible until I added a click on a tab"}], "tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": true, "score": 18, "last_activity_date": 1458665801, "creation_date": 1458665801, "answer_id": 36160607, "question_id": 36158868, "link": "https://stackoverflow.com/questions/36158868/capybara-can-not-find-element-by-id/36160607#36160607", "title": "Capybara can not find element by id", "body": "<p>By default Capybara doesn't find elements that are not visible on the page.  You can try </p>\n\n<pre><code>page.find('#notice_sent', visible: :all)\n</code></pre>\n\n<p>to see if that's the case.  If so, and you're testing an app, then you should perform whatever actions a user would perform that would make that element visible, and then check for its presence.</p>\n"}, {"comments": [{"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "edited": false, "score": 2, "creation_date": 1458672910, "post_id": 36162541, "comment_id": 59962878, "body": "Setting ignore_hidden_elements to false is a really bad idea 99% of the time, especially if you&#39;re using Capybara as a testing tool.  It will lead to incorrectly passing tests for a lot of UI issues."}], "tags": [], "owner": {"reputation": 93, "user_id": 5526642, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh4.googleusercontent.com/-fINcvckTifg/AAAAAAAAAAI/AAAAAAAAAlw/idb5RjZAeTs/photo.jpg?sz=128", "display_name": "Chints Vadgama", "link": "https://stackoverflow.com/users/5526642/chints-vadgama"}, "is_accepted": false, "score": 1, "last_activity_date": 1458671819, "creation_date": 1458671819, "answer_id": 36162541, "question_id": 36158868, "link": "https://stackoverflow.com/questions/36158868/capybara-can-not-find-element-by-id/36162541#36162541", "title": "Capybara can not find element by id", "body": "<p>Though I am a newbie to Capybara, I think this might work for you !!</p>\n\n<pre><code>page.find('#notice_sent', :visible =&gt; false)\n</code></pre>\n\n<p>Also, add this code to your <code>env.rb</code> file.</p>\n\n<pre><code>Capybara.ignore_hidden_elements = false\n</code></pre>\n"}], "owner": {"reputation": 17178, "user_id": 61592, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/55ff1426273f950b43135f619d025476?s=128&d=identicon&r=PG", "display_name": "Todd R", "link": "https://stackoverflow.com/users/61592/todd-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11548, "favorite_count": 0, "accepted_answer_id": 36160607, "answer_count": 3, "score": 8, "last_activity_date": 1552310784, "creation_date": 1458661288, "last_edit_date": 1552310784, "question_id": 36158868, "link": "https://stackoverflow.com/questions/36158868/capybara-can-not-find-element-by-id", "title": "Capybara can not find element by id", "body": "<p>Capybara is not able to find a <code>&lt;p&gt;</code> tag by it's id in my cucumber test. I'm able to see the element when I <code>save_and_open_page</code>. But I can't locate it with <code>has_css?</code> or <code>find</code>:</p>\n\n<pre><code>pry(#&lt;Object&gt;)&gt; page.html.scan(/notice_sent/).count\n=&gt; 1\npry(#&lt;Object&gt;)&gt; page.html.scan(/id=\\\"notice_sent\\\"/).count\n=&gt; 1\npry(#&lt;Object&gt;)&gt; page.find('#notice_sent')\nCapybara::ElementNotFound: Unable to find css \"#notice_sent\"\nfrom /Users/me/.gem/ruby/2.1.7/gems/capybara-2.4.4/lib/capybara/node/finders.rb:41:in 'block in find'\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 0, "creation_date": 1458661157, "post_id": 36158648, "comment_id": 59954936, "body": "Please expand on &quot;it doesn&#39;t work though&quot;. What exactly <i>is</i> happening? Is it returning the wrong data? Is it returning nothing? Is it throwing an error?"}, {"owner": {"reputation": 355, "user_id": 4423629, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3fa874ac0511f471b34d491c0b45c1e8?s=128&d=identicon&r=PG&f=1", "display_name": "starwars25", "link": "https://stackoverflow.com/users/4423629/starwars25"}, "reply_to_user": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 0, "creation_date": 1458661438, "post_id": 36158648, "comment_id": 59955155, "body": "Exactly. No method error"}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 0, "creation_date": 1458661467, "post_id": 36158648, "comment_id": 59955186, "body": "Please include the exact error in your question."}, {"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 1, "creation_date": 1458662707, "post_id": 36158648, "comment_id": 59956139, "body": "The reason it&#39;s throwing that error is because you don&#39;t have an <code>investment_data</code> relationship on your <code>Investment</code> model. You have an <code>investment_datas</code> (plural) relationship."}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 4423629, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3fa874ac0511f471b34d491c0b45c1e8?s=128&d=identicon&r=PG&f=1", "display_name": "starwars25", "link": "https://stackoverflow.com/users/4423629/starwars25"}, "edited": false, "score": 0, "creation_date": 1458661622, "post_id": 36158999, "comment_id": 59955305, "body": "This solution produces N + 1 problem, cause I have to display data in <code>.each</code> loop"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "reply_to_user": {"reputation": 355, "user_id": 4423629, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3fa874ac0511f471b34d491c0b45c1e8?s=128&d=identicon&r=PG&f=1", "display_name": "starwars25", "link": "https://stackoverflow.com/users/4423629/starwars25"}, "edited": false, "score": 0, "creation_date": 1458661741, "post_id": 36158999, "comment_id": 59955394, "body": "nothing blocks you from eager loading the relations before the loop @starwars25"}, {"owner": {"reputation": 355, "user_id": 4423629, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3fa874ac0511f471b34d491c0b45c1e8?s=128&d=identicon&r=PG&f=1", "display_name": "starwars25", "link": "https://stackoverflow.com/users/4423629/starwars25"}, "edited": false, "score": 0, "creation_date": 1458661776, "post_id": 36158999, "comment_id": 59955418, "body": "If I do that, will results of first queries be cached and used in following queries?"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "reply_to_user": {"reputation": 355, "user_id": 4423629, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3fa874ac0511f471b34d491c0b45c1e8?s=128&d=identicon&r=PG&f=1", "display_name": "starwars25", "link": "https://stackoverflow.com/users/4423629/starwars25"}, "edited": false, "score": 0, "creation_date": 1458661863, "post_id": 36158999, "comment_id": 59955481, "body": "Try it to find this out"}], "tags": [], "owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "is_accepted": false, "score": 0, "last_activity_date": 1458661705, "last_edit_date": 1458661705, "creation_date": 1458661596, "answer_id": 36158999, "question_id": 36158648, "link": "https://stackoverflow.com/questions/36158648/exact-association-record-with-has-many-through/36158999#36158999", "title": "Exact association record with has_many through", "body": "<p>You said:</p>\n\n<blockquote>\n  <p>Where investment_data is the InvestmentData record which connects investor and investments.first records.</p>\n</blockquote>\n\n<p>Then you can do:</p>\n\n<pre><code>InvestmentData.where(investor_id: investor.id, investment_id: investments.first.id).first\n# or\ninvestor.investment_datas.where(investment_id: investments.first.id).first\n# or\ninvestments.first.investment_datas.where(investor_id: investor.id).first\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 4423629, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/3fa874ac0511f471b34d491c0b45c1e8?s=128&d=identicon&r=PG&f=1", "display_name": "starwars25", "link": "https://stackoverflow.com/users/4423629/starwars25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458661921, "creation_date": 1458660722, "last_edit_date": 1458661921, "question_id": 36158648, "link": "https://stackoverflow.com/questions/36158648/exact-association-record-with-has-many-through", "title": "Exact association record with has_many through", "body": "<p>I have following code in my models:</p>\n\n<pre><code>class Investment &lt; ActiveRecord::Base\n  has_many :investment_datas\n  has_many :investors, through: :investment_datas, source: :investor\n\nclass Investor &lt; ActiveRecord::Base\n  has_many :investment_datas\n  has_many :investments, through: :investment_datas, source: :investment\n\nclass InvestmentData &lt; ActiveRecord::Base\n  belongs_to :investor\n  belongs_to :investment\n</code></pre>\n\n<p>I have some fields in <code>InvestmentData</code> that I want to access for specific <code>Investor</code> and <code>Investment</code>. For example, like this:</p>\n\n<pre><code>investor.investments.first.investment_data\n</code></pre>\n\n<p>It gives an error:</p>\n\n<pre><code>NoMethodError undefined method 'investment_data' for #&lt;Investment:0x000000070f3028&gt;\n</code></pre>\n\n<p>Where <code>investment_data</code> is the <code>InvestmentData</code> record which connects <code>investor</code> and <code>investments.first</code> records.</p>\n\n<p>How can I achieve this with <code>ActiveRecord</code>? Or should I go with raw SQL?</p>\n"}]