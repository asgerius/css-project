[{"tags": ["ruby"], "comments": [{"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1476317384, "post_id": 40009904, "comment_id": 67298591, "body": "Just because the property is called <code>&quot;Hello World&quot;</code> inside MongoDB doesn&#39;t mean that you have to (or even should) use that name in Ruby. Part of an ORM/ODM&#39;s job is to deal with he impedance mismatch between the database and the code that is using the O[RD]M, renaming database properties/fields to match Ruby attribute conventions would certainly be a part of that."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476337482, "post_id": 40009904, "comment_id": 67303828, "body": "You are aware, that Mongoid supports <a href=\"https://docs.mongodb.com/ruby-driver/master/tutorials/6.0.0/mongoid-documents/#dynamic-fields\" rel=\"nofollow noreferrer\">dynamic fields</a> out of the box, aren&#39;t you?"}, {"owner": {"reputation": 5850, "user_id": 4501354, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1230cfcc7f68488ad19d0022cf7b1a93?s=128&d=identicon&r=PG&f=1", "display_name": "Donato", "link": "https://stackoverflow.com/users/4501354/donato"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 1, "creation_date": 1476388270, "post_id": 40009904, "comment_id": 67336668, "body": "@muistooshort you are right. My decision was to use the :as option Mongoid provides: field :&#39;Hello World&#39;, type: Array,  as: :hello_world"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1476389795, "post_id": 40009904, "comment_id": 67337494, "body": "Nice. I thought Mongoid had aliasing built in. That should make everything work smoother."}], "answers": [{"comments": [{"owner": {"reputation": 5850, "user_id": 4501354, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1230cfcc7f68488ad19d0022cf7b1a93?s=128&d=identicon&r=PG&f=1", "display_name": "Donato", "link": "https://stackoverflow.com/users/4501354/donato"}, "edited": false, "score": 0, "creation_date": 1476315181, "post_id": 40009958, "comment_id": 67297955, "body": "I am working with Rails and Mongoid, I don&#39;t think Rails will ever explicitly invoke it without using send."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1476315264, "post_id": 40009958, "comment_id": 67297976, "body": "A method name with spaces in it is pretty nuts, but it&#39;s also possible as you demonstrate here."}, {"owner": {"reputation": 144312, "user_id": 62076, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/62c90b6f399e6b95554b2da31ca8619a?s=128&d=identicon&r=PG", "display_name": "Alex Wayne", "link": "https://stackoverflow.com/users/62076/alex-wayne"}, "reply_to_user": {"reputation": 5850, "user_id": 4501354, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1230cfcc7f68488ad19d0022cf7b1a93?s=128&d=identicon&r=PG&f=1", "display_name": "Donato", "link": "https://stackoverflow.com/users/4501354/donato"}, "edited": false, "score": 0, "creation_date": 1476315789, "post_id": 40009958, "comment_id": 67298130, "body": "@Donato because you typically using syntactically valid method names, since the method names are what you type in your code to to do stuff. If you are generating methods like this you probably want a method that accepts keys as an argument. I bet Mongoid has an interface under the hood that looks like <code>instance.set(&#39;hello world&#39;, &#39;new value&#39;)</code> (or something). And that&#39;s probably what you want to override."}], "tags": [], "owner": {"reputation": 144312, "user_id": 62076, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/62c90b6f399e6b95554b2da31ca8619a?s=128&d=identicon&r=PG", "display_name": "Alex Wayne", "link": "https://stackoverflow.com/users/62076/alex-wayne"}, "is_accepted": true, "score": 4, "last_activity_date": 1476315869, "last_edit_date": 1476315869, "creation_date": 1476314981, "answer_id": 40009958, "question_id": 40009904, "link": "https://stackoverflow.com/questions/40009904/ruby-handle-arbitrary-method-names/40009958#40009958", "title": "Ruby: Handle arbitrary method names", "body": "<p><code>define_method</code> lets you do this:</p>\n\n<pre><code>define_method(:\"hello world\") { puts 'hello world' }\nsend :\"hello world\"\n</code></pre>\n\n<p>But you have to call it with <code>send</code> since the method name in normal invocation syntax is not allowed either.</p>\n\n<hr>\n\n<p>You can do this from a class definition as well.</p>\n\n<pre><code>class MyClass\n  def name\n    @name\n  end\n\n  define_method :\"set name\" do |new_name|\n    @name = new_name\n  end\nend\n\ninstance = MyClass.new\ninstance.send :\"set name\", 'Bob'\ninstance.name #=&gt; Bob\n</code></pre>\n\n<hr>\n\n<p>Lastly, I feel obliged to say this is probably a terrible idea. I'm not sure <em>exactly</em> what you're after here, but there is probably a better way. <code>:can != :should</code>.</p>\n"}], "owner": {"reputation": 5850, "user_id": 4501354, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1230cfcc7f68488ad19d0022cf7b1a93?s=128&d=identicon&r=PG&f=1", "display_name": "Donato", "link": "https://stackoverflow.com/users/4501354/donato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 40009958, "answer_count": 1, "score": 1, "last_activity_date": 1476315869, "creation_date": 1476314639, "question_id": 40009904, "link": "https://stackoverflow.com/questions/40009904/ruby-handle-arbitrary-method-names", "title": "Ruby: Handle arbitrary method names", "body": "<p>I remember watching a ruby screencast from Dave Thomas about using metaprogramming to create method names that do not need to adhere to identifier syntax requirements. Typically, an identifier must not contain spaces. And he showed how to create methods with spaces. But I don't remember how it's done.</p>\n\n<p>I have arbitrary field names for a class that <code>include</code>s Mongoid::Document. This works fine, where _field can be a string like 'Hello World':</p>\n\n<pre><code>MyClass.class_eval &lt;&lt;-EOS\n  field :'#{ _field }', type: #{_type}\nEOS\n</code></pre>\n\n<p>I want to override the setter. So I tried this:</p>\n\n<pre><code>MyClass.class_eval &lt;&lt;-EOS\n  field :'#{ _field }', type: #{_type}\n  def #{ _field }=(val)\n    self['#{ _field }'] = [self.send('#{ _field }')[0], val]\n  end\nEOS\n</code></pre>\n\n<p>Unfortunately, if the _field is a string like 'Hello World', I will get an error:</p>\n\n<pre><code>SyntaxError: (eval):2: formal argument cannot be a constant\n           def Hello World=(val)\n</code></pre>\n\n<p>How can I get around this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5494880"}, "edited": false, "score": 0, "creation_date": 1476314942, "post_id": 40009789, "comment_id": 67297890, "body": "Works. Thank you. If I wanted to use multiple methods in my controller does it need a new html.erb every time?"}, {"owner": {"reputation": 750, "user_id": 4032946, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d430e8647c39d6d9f8db1a660e13d49c?s=128&d=identicon&r=PG&f=1", "display_name": "Avir94", "link": "https://stackoverflow.com/users/4032946/avir94"}, "edited": false, "score": 0, "creation_date": 1476315236, "post_id": 40009789, "comment_id": 67297969, "body": "the only way I could think to make that work would be to use a redirect at the end of every controller method to point to the <code>available</code> method for showing.   But on a basic level, yes, you&#39;ll most likely need a html.erb for most methods."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5494880"}, "edited": false, "score": 0, "creation_date": 1476315447, "post_id": 40009789, "comment_id": 67298032, "body": "Thanks. This actually helps a ton. I have read a lot of tutorials but never really grasped this part until now."}], "tags": [], "owner": {"reputation": 750, "user_id": 4032946, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d430e8647c39d6d9f8db1a660e13d49c?s=128&d=identicon&r=PG&f=1", "display_name": "Avir94", "link": "https://stackoverflow.com/users/4032946/avir94"}, "is_accepted": true, "score": 39, "last_activity_date": 1476313755, "creation_date": 1476313755, "answer_id": 40009789, "question_id": 40009571, "link": "https://stackoverflow.com/questions/40009571/missing-a-template-for-this-request-format-and-variant/40009789#40009789", "title": "missing a template for this request format and variant", "body": "<p>you need to create the <code>available.html.erb</code> file within the <code>views/bubble/</code> directory. When the route takes you to that action, it also navigates you to that view, so if you put:</p>\n\n<pre><code>&lt;h2&gt;YEP!!!!&lt;/h2&gt;\n</code></pre>\n\n<p>as the only line in that file, it should return that to you on the webpage.</p>\n\n<p>In the future, you could use <code>rails g scaffold bubbles</code> and that will create a majority of the files (MVC) and routes for you.  </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5494880"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64267, "favorite_count": 6, "accepted_answer_id": 40009789, "answer_count": 1, "score": 33, "last_activity_date": 1476313755, "creation_date": 1476312388, "last_edit_date": 1476313152, "question_id": 40009571, "link": "https://stackoverflow.com/questions/40009571/missing-a-template-for-this-request-format-and-variant", "title": "missing a template for this request format and variant", "body": "<p>I am new to Ruby on Rails and am trying to gain a strong understanding of how MVC works.</p>\n\n<p>I did the following:</p>\n\n<pre><code>rails new bubblesman \nrails generate controller bubble\n</code></pre>\n\n<p>in my bubble controller I created a method as follows:</p>\n\n<pre><code>def available\n  puts \"YEP!!!!!!\"\nend\n</code></pre>\n\n<p>I put the following in my routes file:</p>\n\n<pre><code>'welcome' =&gt; 'bubble#available'\n</code></pre>\n\n<p>I navigate to <a href=\"http://localhost:3000/welcome\" rel=\"noreferrer\">http://localhost:3000/welcome</a>\nI get the below error:</p>\n\n<pre><code>ActionController::UnknownFormat (BubbleController#available is missing a template for this request format and variant.\n\nrequest.formats: [\"text/html\"]\nrequest.variant: []\n\nNOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not\u2026 nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):\n</code></pre>\n\n<p>what I also don't understand is if I put this in my helper controller instead of my main controller it all works fine.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rails-admin"], "comments": [{"owner": {"reputation": 5579, "user_id": 3970701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a937016807c66d89d0a62d7a1b235533?s=128&d=identicon&r=PG", "display_name": "Amin Shah Gilani", "link": "https://stackoverflow.com/users/3970701/amin-shah-gilani"}, "edited": false, "score": 0, "creation_date": 1476312166, "post_id": 40009435, "comment_id": 67297184, "body": "have you restarted your server since you installed the gems and changed the configuration?"}, {"owner": {"reputation": 165, "user_id": 6945851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f04ad7d281ce70001f1469bd4217beb8?s=128&d=identicon&r=PG&f=1", "display_name": "user6945851", "link": "https://stackoverflow.com/users/6945851/user6945851"}, "reply_to_user": {"reputation": 5579, "user_id": 3970701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a937016807c66d89d0a62d7a1b235533?s=128&d=identicon&r=PG", "display_name": "Amin Shah Gilani", "link": "https://stackoverflow.com/users/3970701/amin-shah-gilani"}, "edited": false, "score": 0, "creation_date": 1476341753, "post_id": 40009435, "comment_id": 67305747, "body": "yes, I restarted the server and that was not the problem.  I just solved it, I removed &quot;config.i18n.default_locale = :ca&quot; from application.rb and placed it inside the &quot;Rails.application.configure do&quot; of development.rb and now it&#39;s working. I placed it inside production.rb too."}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 6945851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f04ad7d281ce70001f1469bd4217beb8?s=128&d=identicon&r=PG&f=1", "display_name": "user6945851", "link": "https://stackoverflow.com/users/6945851/user6945851"}, "is_accepted": true, "score": 1, "last_activity_date": 1476341886, "creation_date": 1476341886, "answer_id": 40014274, "question_id": 40009435, "link": "https://stackoverflow.com/questions/40009435/change-language-on-rails-admin/40014274#40014274", "title": "change language on rails_admin", "body": "<p>I just solved it.</p>\n\n<p>I removed <code>config.i18n.default_locale = :ca</code> from <code>config/application.rb</code> and placed it inside the <code>Rails.application.configure do</code> of <code>config/environments/development.rb</code> and now it's working.</p>\n\n<p>I placed it inside production.rb and test.rb too.</p>\n"}], "owner": {"reputation": 165, "user_id": 6945851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f04ad7d281ce70001f1469bd4217beb8?s=128&d=identicon&r=PG&f=1", "display_name": "user6945851", "link": "https://stackoverflow.com/users/6945851/user6945851"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 40014274, "answer_count": 1, "score": -1, "last_activity_date": 1476341886, "creation_date": 1476311493, "question_id": 40009435, "link": "https://stackoverflow.com/questions/40009435/change-language-on-rails-admin", "title": "change language on rails_admin", "body": "<p>I have a web with no language configuration, because I'm only using one language.</p>\n\n<p>I installed rails_admin gem, and I want it on the language of the rest of the web instead of english. But I'm a newbie in the rails language configurations and I don't understand them very well yet.</p>\n\n<p>I  added a rails_admin.ca.yml file under the folder \"config/locales\" in my rails project, and <code>config.i18n.default_locale = :ca</code>, but it is not working.</p>\n\n<p><a href=\"https://github.com/sferik/rails_admin/wiki/Translations\" rel=\"nofollow\">https://github.com/sferik/rails_admin/wiki/Translations</a></p>\n\n<p>Can anybody help me?</p>\n\n<p>PD: I installed also the gem 'rails_admin-i18n' but still not working</p>\n"}, {"tags": ["ruby", "string", "string-matching"], "answers": [{"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476336360, "post_id": 40009507, "comment_id": 67303388, "body": "<code>match</code> treats its argument as a regular expression. For plain strings, <code>include?</code> should be enough."}], "tags": [], "owner": {"reputation": 6687, "user_id": 6496010, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4d564ef7fd53e4e76e5e520945dcc4c1?s=128&d=identicon&r=PG", "display_name": "davidhu", "link": "https://stackoverflow.com/users/6496010/davidhu"}, "is_accepted": false, "score": 2, "last_activity_date": 1476311903, "creation_date": 1476311903, "answer_id": 40009507, "question_id": 40009394, "link": "https://stackoverflow.com/questions/40009394/how-do-i-detect-the-presence-of-a-substring-in-1-string-in-another-string/40009507#40009507", "title": "How do I detect the presence of a substring in 1 string in another string?", "body": "<p>you can use <code>match</code></p>\n\n<pre><code>str = \"rubinassociatespa\"\n\ntest_str = \"associates\"\n\nstr.match(test_str) #=&gt; #&lt;MatchData \"associates\"&gt;\nstr.match(test_str).to_s #=&gt; \"associates\"\n\ntest_str = 'rob'\n\nstr.match(test_str) #=&gt; nil\n</code></pre>\n\n<p>So, if <code>test_str</code> is a substring of <code>str</code>, then the <code>match</code> method will return the entire <code>test_str</code>, otherwise, it will return <code>nil</code>.</p>\n\n<pre><code>if test_str.length &gt;= 3 &amp;&amp; str.match(test_str)\n  # do stuff here. \nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4293367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c9dfc4233855b37f315d670d67f88c?s=128&d=identicon&r=PG&f=1", "display_name": "markusos", "link": "https://stackoverflow.com/users/4293367/markusos"}, "is_accepted": false, "score": 1, "last_activity_date": 1476312338, "last_edit_date": 1495542746, "creation_date": 1476312338, "answer_id": 40009562, "question_id": 40009394, "link": "https://stackoverflow.com/questions/40009394/how-do-i-detect-the-presence-of-a-substring-in-1-string-in-another-string/40009562#40009562", "title": "How do I detect the presence of a substring in 1 string in another string?", "body": "<p>First you need a list of acceptable strings. Something like <a href=\"https://github.com/first20hours/google-10000-english\" rel=\"nofollow noreferrer\">https://github.com/first20hours/google-10000-english</a> would probably be usefull.</p>\n\n<p>Secondly you want a data structure that allows for fast lookups to see if a word is valid. I would use a Bloom Filter for this. This gem might be useful if you don't want to implement it on your own: <a href=\"https://github.com/igrigorik/bloomfilter-rb\" rel=\"nofollow noreferrer\">https://github.com/igrigorik/bloomfilter-rb</a></p>\n\n<p>Then you need to initiate the Bloom filter with the list of all valid words in the valid word list. </p>\n\n<p>Then, For each substring in your string you want to do a lookup in the bloom filter structure to see if it is in the valid word list. See this example for how to get all substrings: <a href=\"https://stackoverflow.com/questions/4508096/what-is-the-best-way-to-split-a-string-to-get-all-the-substrings-by-ruby\">What is the best way to split a string to get all the substrings by Ruby?</a></p>\n\n<p>If the bloom filter returns true you need to do a secondary check to confirm that it is actually in the list since Bloom filters is a probabilistic data structure. You probably need to use a database to store the valid word list collection, so you can just do a database lookup to confirm if it's valid.</p>\n\n<p>I hope this gives you an idea on how to proceed.</p>\n"}, {"comments": [{"owner": {"reputation": 2475, "user_id": 1298944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/717c09c121dd66d83aa8b729f4b92973?s=128&d=identicon&r=PG", "display_name": "Scott Bartell", "link": "https://stackoverflow.com/users/1298944/scott-bartell"}, "edited": false, "score": 0, "creation_date": 1476335354, "post_id": 40010570, "comment_id": 67303056, "body": "This is a great answer, but I&#39;d like to add that if you want to return an array of the matches, you can use <code>select</code> like this: <code>arr.select { |s| substring?(str, s) }</code>"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476336645, "post_id": 40010570, "comment_id": 67303508, "body": "What&#39;s the benefit of converting each string to a regex?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1476338274, "post_id": 40010570, "comment_id": 67304151, "body": "@Stefan, no benefit. Why do you ask?  &#175;\\_(\u30c4)_/&#175;"}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 4, "last_activity_date": 1477545474, "last_edit_date": 1477545474, "creation_date": 1476319639, "answer_id": 40010570, "question_id": 40009394, "link": "https://stackoverflow.com/questions/40009394/how-do-i-detect-the-presence-of-a-substring-in-1-string-in-another-string/40010570#40010570", "title": "How do I detect the presence of a substring in 1 string in another string?", "body": "<pre><code>str = \"rubinassociatespa\"\n\narr = %w| rubin associates spa ass rub rob cpa dea ru |\n  #=&gt; [\"rubin\", \"associates\", \"spa\", \"ass\", \"rub\", \"rob\", \"cpa\", \"dea\", \"ru\"]\n</code></pre>\n\n<p>Just use <a href=\"https://ruby-doc.org/core-2.2.0/String.html#method-i-include-3F\" rel=\"nofollow\">String#include?</a>.</p>\n\n<pre><code>def substring?(str, s)\n  (s.size &gt;= 3) ? str.include?(s) : false\nend\n\narr.each { |s| puts \"#{s}: #{substring? str, s}\" }\n  # rubin: true\n  # associates: true\n  # spa: true\n  # ass: true\n  # rub: true\n  # rob: false\n  # cpa: false\n  # dea: false\n  # ru: false\n</code></pre>\n"}], "owner": {"reputation": 29623, "user_id": 91970, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/64aa7d1e0eb006175565adb0a47a4452?s=128&d=identicon&r=PG", "display_name": "marcamillion", "link": "https://stackoverflow.com/users/91970/marcamillion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 40010570, "answer_count": 3, "score": 2, "last_activity_date": 1477545474, "creation_date": 1476311257, "question_id": 40009394, "link": "https://stackoverflow.com/questions/40009394/how-do-i-detect-the-presence-of-a-substring-in-1-string-in-another-string", "title": "How do I detect the presence of a substring in 1 string in another string?", "body": "<p>Say I have a string <code>\"rubinassociatespa\"</code>, what I would like to do is detect any substring of that string with 3 characters or more, in any other string.</p>\n\n<p>For example, the following strings should be detected:</p>\n\n<ul>\n<li><code>rubin</code></li>\n<li><code>associates</code></li>\n<li><code>spa</code></li>\n<li><code>ass</code></li>\n<li><code>rub</code>\netc.</li>\n</ul>\n\n<p>But what should NOT be detected are the following strings:</p>\n\n<ul>\n<li><code>rob</code></li>\n<li><code>cpa</code></li>\n<li><code>dea</code></li>\n<li><code>ru</code>\nor any other substring that does not appear in my original string, or is shorter than 3 characters.</li>\n</ul>\n\n<p>Basically, I have a string and I am comparing many other strings against it and I only want to match the strings that comprise a substring of the original string.</p>\n\n<p>I hope that's clear.</p>\n"}, {"tags": ["json", "ruby"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1476307858, "post_id": 40008643, "comment_id": 67295532, "body": "What returned hash? I see an array with two elements, each of which is a hash. You can access its elements like any other array, e.g. <code>arr[0]</code>, <code>arr[1]</code>, etc., or <code>arr.each</code> et al. If the keys match your model&#39;s attribute names and you&#39;re using Rails, you can just pass it directly to <code>create</code>, e.g. <code>MyModel.create(arr)</code> and it will create two records for you."}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1476309157, "post_id": 40008643, "comment_id": 67296087, "body": "Sorry, I meant to say array. Are you saying I should just assign any name to the array? I&#39;ve updated my question with the code I currently have to try and save the values."}, {"owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 1, "creation_date": 1476309419, "post_id": 40008643, "comment_id": 67296204, "body": "What exactly is not working with this code?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476311512, "post_id": 40008643, "comment_id": 67297006, "body": "When creating records use <code>create!</code> so any failures will be spectacular and obvious."}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "reply_to_user": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 0, "creation_date": 1476314130, "post_id": 40008643, "comment_id": 67297710, "body": "@infused i have edited the question to include the error."}], "answers": [{"comments": [{"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "edited": false, "score": 0, "creation_date": 1476314753, "post_id": 40009889, "comment_id": 67297849, "body": "Let me see if I understand this correctly, In the case that term is a value, the value will be fetched, but if nil then it won&#39;t be fetched. Correct?"}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "edited": false, "score": 0, "creation_date": 1476315646, "post_id": 40009889, "comment_id": 67298073, "body": "I changed the problematic values and now I get <code>undefined method &#39;fetch&#39; for nil:NilClass (NoMethodError)</code>"}], "tags": [], "owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "is_accepted": false, "score": 0, "last_activity_date": 1476314513, "creation_date": 1476314513, "answer_id": 40009889, "question_id": 40008643, "link": "https://stackoverflow.com/questions/40008643/how-do-i-save-this-json-api-output-to-the-database/40009889#40009889", "title": "How do I save this json API output to the database?", "body": "<p>In your example hash, <code>search_term</code> is <code>nil</code>, so this line will fail:</p>\n\n<pre><code>search_term: item['search_term']['term']\n</code></pre>\n\n<p>You can guard against <code>item['search_term']</code> being nil with:</p>\n\n<pre><code>search_term: item.fetch('search_term', {}).fetch('term', nil)\n</code></pre>\n\n<p>You may have similar problems with other values in the hash.</p>\n"}], "owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476314513, "creation_date": 1476307646, "last_edit_date": 1476314097, "question_id": 40008643, "link": "https://stackoverflow.com/questions/40008643/how-do-i-save-this-json-api-output-to-the-database", "title": "How do I save this json API output to the database?", "body": "<p>How do I save this json API output to the database?</p>\n\n<p>The JSON output is like this:</p>\n\n<pre><code>[{\"id\"=&gt;758426,\n  \"email\"=&gt;\"sender@email.com\",\n  \"created_at\"=&gt;\"2014-09-23T16:23:56Z\",\n  \"updated_at\"=&gt;\"2014-09-23T16:23:58Z\",\n  \"status\"=&gt;\"Customer\",\n  \"custom_status\"=&gt;nil,\n  \"first_name\"=&gt;\"Name\",\n  \"last_name\"=&gt;\"Name\",\n  \"latest_visitor\"=&gt;\n   {\"id\"=&gt;13940436, \"tracking_code\"=&gt;\"f29a780c-615a-41df-a2b1-72e5af2c466b\"},\n  \"url\"=&gt;{\"id\"=&gt;2452457, \"url\"=&gt;\"http://www.website.com/#_l_1a\"},\n  \"referrer\"=&gt;nil,\n  \"affiliate\"=&gt;{\"id\"=&gt;35521, \"email\"=&gt;\"sender@email.com\"},\n  \"campaign\"=&gt;nil,\n  \"search_term\"=&gt;nil,\n  \"tracking_code\"=&gt;\"f29a780c-615a-41df-a2b1-72e5af2c466b\"},\n {\"id\"=&gt;758845,\n  \"email\"=&gt;\"sender@email.com\",\n  \"created_at\"=&gt;\"2014-09-23T19:27:53Z\",\n  \"updated_at\"=&gt;\"2016-03-31T19:42:17Z\",\n  \"status\"=&gt;\"Cancelled\",\n  \"custom_status\"=&gt;\"\",\n  \"first_name\"=&gt;\"Name\",\n  \"last_name\"=&gt;\"Name\",\n  \"latest_visitor\"=&gt;\n   {\"id\"=&gt;14302036, \"tracking_code\"=&gt;\"d61e4f25-59ac-4e9a-b818-d5bc4ad73d62\"},\n  \"url\"=&gt;nil,\n  \"referrer\"=&gt;nil,\n  \"affiliate\"=&gt;{\"id\"=&gt;35579, \"email\"=&gt;\"sender@email.com\"},\n  \"campaign\"=&gt;nil,\n  \"search_term\"=&gt;nil,\n  \"tracking_code\"=&gt;\"d61e4f25-59ac-4e9a-b818-d5bc4ad73d62\"}]\n</code></pre>\n\n<p>My problem is that there is no name for the returned array to reference the contained objects by, so I don't know what to use to grab the fields and save them.</p>\n\n<p>My attempt to save the data is as follows:</p>\n\n<pre><code>  endpoint = 'https://api.leaddyno.com/v1/leads'\n  ## API key\n  request = {:params =&gt; {:key =&gt; Rails.application.secrets.LEADDYNO_PRIVATE, page: 1}}\n  ## Parse JSON\n  response = JSON.parse(RestClient.get endpoint, request)\n\n  response.each do |item|\n    LeaddynoLead.create(\n      leaddyno_lead_id: item['id'],\n      email: item['email'],\n      first_name: item['first_name'],\n      last_name: item['last_name'],\n      latest_visitor_id: item['latest_visitor']['id'],\n      latest_visitor_code: item['latest_visitor']['tracking_code'],\n      url: item['url']['url'],\n      referrer_id: item['referrer']['id'],\n      referrer_url: item['referrer']['url'],\n      leaddyno_affiliate_id: item['affiliate']['id'],\n      leaddyno_affiliate_email: item['affiliate']['email'],\n      search_term: item['search_term']['term'],\n      search_engine: item['search_term']['search_engine'],\n      leaddyno_tracking_code: item['tracking_code'],\n      created_at: item['created_at'],\n      updated_at: item['updated_at']\n      )\n      sleep 0.5\n  end\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre><code>lib/dyno.rb:30:in `block in &lt;top (required)&gt;': undefined method `[]' for nil:NilClass (NoMethodError)\n    from lib/dyno.rb:21:in `each'\n    from lib/dyno.rb:21:in `&lt;top (required)&gt;'\n</code></pre>\n\n<p>Which is this line: <code>referrer_id: item['referrer']['id'],</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": true, "score": 0, "last_activity_date": 1476306293, "creation_date": 1476306293, "answer_id": 40008326, "question_id": 40008178, "link": "https://stackoverflow.com/questions/40008178/sub-tables-and-referencing-data-in-other-tables-in-ruby-on-rails/40008326#40008326", "title": "sub-tables and referencing data in other tables in ruby on rails", "body": "<p>You can reference the Hotel table.</p>\n\n<p>If Tour has...</p>\n\n<pre><code>belongs_to :hotel\n</code></pre>\n\n<p>and subtour...</p>\n\n<pre><code>belongs_to :tour\n</code></pre>\n\n<p>you can do (in subtour)</p>\n\n<pre><code>delegate :hotel to :tour\n</code></pre>\n\n<p>Then <code>my_subtour.hotel</code> references the hotel object that tour belongs to.</p>\n"}], "owner": {"reputation": 3, "user_id": 3000665, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5cba85b9486a1836068aead4ac525b4c?s=128&d=identicon&r=PG&f=1", "display_name": "daverobertsfilm", "link": "https://stackoverflow.com/users/3000665/daverobertsfilm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 40008326, "answer_count": 1, "score": 0, "last_activity_date": 1476306293, "creation_date": 1476305630, "question_id": 40008178, "link": "https://stackoverflow.com/questions/40008178/sub-tables-and-referencing-data-in-other-tables-in-ruby-on-rails", "title": "sub-tables and referencing data in other tables in ruby on rails", "body": "<p>So this is new territory for me in Ruby on Rails but I am a bit stuck.</p>\n\n<p>I am trying to make a holiday tour booking system and so I have 3 tables - tours, hotels and transport.</p>\n\n<p>A line in the tours table refers to a hotel and transport in the relevant tables, but I also need it to a check against a date in that table and pull information back.</p>\n\n<p>Also, in the tours table I need it to have sub tours - e.g tour a runs on these dates so subtour a, subtour b etc. It then needs to reference the date of hotel on that table to pull through available rooms.</p>\n\n<p>Is this possible? I can only see the links for direct association at the moment in (<a href=\"http://guides.rubyonrails.org/association_basics.html\" rel=\"nofollow\">http://guides.rubyonrails.org/association_basics.html</a>)</p>\n"}, {"tags": ["html", "ruby-on-rails", "ruby", "haml"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1476305244, "post_id": 40008014, "comment_id": 67294130, "body": "it&#39;s because you are reading wrong documentation. Read the one on <code>text_field_tag</code>"}], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 6507806, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/59d0a71bbddf61b3c95d562c33a04a88?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/6507806/doe"}, "edited": false, "score": 0, "creation_date": 1476305521, "post_id": 40008085, "comment_id": 67294294, "body": "Thanks! I did not know that I can write in that way! Now I know!"}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 2, "last_activity_date": 1476305292, "creation_date": 1476305292, "answer_id": 40008085, "question_id": 40008014, "link": "https://stackoverflow.com/questions/40008014/haml-converts-my-code-into-wrong-html/40008085#40008085", "title": "HAML converts my code into wrong HTML", "body": "<p>What you're asking for is actually this:</p>\n\n<pre><code>.col-xs-4.form-control\n  = text_field_tag :q\n</code></pre>\n\n<p>That ends up nesting the <code>text_field_tag</code> HTML inside of the other <code>&lt;div&gt;</code> that you've declared implicitly.</p>\n\n<p>The Rails view helpers like <code>text_field_tag</code> are unaware of what DOM context they're being called in, so if you want to add classes you have to pass those through as explicit arguments:</p>\n\n<pre><code>= text_field_tag(:q, nil, class: 'col-xs-4 form-control')\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 6507806, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/59d0a71bbddf61b3c95d562c33a04a88?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/6507806/doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 40008085, "answer_count": 1, "score": 0, "last_activity_date": 1476305356, "creation_date": 1476304965, "last_edit_date": 1476305356, "question_id": 40008014, "link": "https://stackoverflow.com/questions/40008014/haml-converts-my-code-into-wrong-html", "title": "HAML converts my code into wrong HTML", "body": "<p>I'm writing HAML code:</p>\n\n<pre><code>.col-xs-4.form-control= text_field_tag :q\n</code></pre>\n\n<p>But this converts to:</p>\n\n<pre><code>&lt;div class=\"col-xs-4 form-control\"&gt;\n    &lt;input type=\"text\" name=\"q\" id=\"q\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How can I write HAML that it will convert it to:</p>\n\n<pre><code>&lt;input type=\"email\" class=\"form-control\" id=\"q\" placeholder=\"Email\"&gt;\n</code></pre>\n\n<p>I cannot find any good documentation for that.</p>\n"}, {"tags": ["arrays", "json", "ruby", "hash"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 2, "creation_date": 1476304997, "post_id": 40007934, "comment_id": 67293982, "body": "you shouldn&#39;t be calling <code>.values</code> on an array (which is what <code>test</code> is)"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1476305428, "post_id": 40007934, "comment_id": 67294232, "body": "You should be getting a syntax error for <i>undefined method</i>."}, {"owner": {"reputation": 51, "user_id": 2403456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4239c0507af77d2808783ecd3765f99c?s=128&d=identicon&r=PG", "display_name": "niallsc", "link": "https://stackoverflow.com/users/2403456/niallsc"}, "edited": false, "score": 0, "creation_date": 1476306948, "post_id": 40007934, "comment_id": 67295099, "body": "Thank you to the people who responded to this post. It definitely is that values is a method, and the unintended consequences from that was that it didn&#39;t go in and grab the key then get the contents but instead called the method values."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476309181, "post_id": 40007934, "comment_id": 67296101, "body": "It absolutely doesn&#39;t when I run that code in Ruby 2.3.1. Maybe you have some library added on that&#39;s adding that method, but it&#39;s non-standard. Are you using <a href=\"https://github.com/intridea/hashie\" rel=\"nofollow noreferrer\">Hashie</a> or something else that extends Hash? If you are that would be <code>test[0].values</code> not what you put there."}], "answers": [{"tags": [], "owner": {"reputation": 4110, "user_id": 517616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O19zB.jpg?s=128&g=1", "display_name": "Karl Laurentius Roos", "link": "https://stackoverflow.com/users/517616/karl-laurentius-roos"}, "is_accepted": false, "score": 4, "last_activity_date": 1476304994, "creation_date": 1476304994, "answer_id": 40008021, "question_id": 40007934, "link": "https://stackoverflow.com/questions/40007934/ruby-hash-of-arrays-issue/40008021#40008021", "title": "Ruby hash of arrays issue", "body": "<p>I'm fairly certain that you aren't accessing the data in the right way as this:</p>\n\n<pre><code>test = JSON.parse('[\n    {\"values\":[\n        [\"header 1\", \"header 2\", \"header 3\"],\n        [\"value 1\", \"value 2\", \"value 3\"]]\n    }]\n')\n\nputs test[0]['values'].inspect\nputs test[0]['values'][0].inspect\n</code></pre>\n\n<p>outputs:</p>\n\n<p><code>[[\"header 1\", \"header 2\", \"header 3\"], [\"value 1\", \"value 2\", \"value 3\"]]\n[\"header 1\", \"header 2\", \"header 3\"]</code></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3109230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6838b417dc6386ab4fb218f307fd3e?s=128&d=identicon&r=PG&f=1", "display_name": "jusmat", "link": "https://stackoverflow.com/users/3109230/jusmat"}, "is_accepted": false, "score": 1, "last_activity_date": 1476307852, "creation_date": 1476307852, "answer_id": 40008693, "question_id": 40007934, "link": "https://stackoverflow.com/questions/40007934/ruby-hash-of-arrays-issue/40008693#40008693", "title": "Ruby hash of arrays issue", "body": "<p>Your JSON contains a key called <strong>values</strong>. In order to receive values from the hash try using it like this <code>test[0]['values']</code>. When using <code>test[0].values</code> you are actually calling <code>Hash#values</code> (instance method of Hash class) which returns all the values of every single key in your hash combined into the array. </p>\n"}], "owner": {"reputation": 51, "user_id": 2403456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4239c0507af77d2808783ecd3765f99c?s=128&d=identicon&r=PG", "display_name": "niallsc", "link": "https://stackoverflow.com/users/2403456/niallsc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1476307852, "creation_date": 1476304677, "question_id": 40007934, "link": "https://stackoverflow.com/questions/40007934/ruby-hash-of-arrays-issue", "title": "Ruby hash of arrays issue", "body": "<p>I am new to ruby and its nuances but I am running into this issue that I dont quite know how to fix or understand: </p>\n\n<p>If I create the hash: </p>\n\n<pre><code>test = JSON.parse('[\n    {\"values\":[\n        [\"header 1\", \"header 2\", \"header 3\"],\n        [\"value 1\", \"value 2\", \"value 3\"]]\n    }]\n')\n</code></pre>\n\n<p>Then I access test.values[0] I get: </p>\n\n<pre><code>[[[\"header 1\", \"header 2\", \"header 3\"], [\"value 1\", \"value 2\", \"value 3\"]]]\n</code></pre>\n\n<p>As you can see it adds an extra layer onto the array. where what I would expect it to return would be: </p>\n\n<pre><code>[[\"header 1\", \"header 2\", \"header 3\"], [\"value 1\", \"value 2\", \"value 3\"]]\n</code></pre>\n\n<p>Can anyone explain this to me or help mitigate this issue?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 2399, "user_id": 1042380, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/50f29303e90e938ef4bdb3a8e2fbd1b4?s=128&d=identicon&r=PG", "display_name": "yu\u044fi", "link": "https://stackoverflow.com/users/1042380/yu%d1%8fi"}, "edited": false, "score": 0, "creation_date": 1476308815, "post_id": 40007687, "comment_id": 67295950, "body": "The whole point of what I&#39;m trying to accomplish is to make sure something like Prawn puts it in the right spot on the image. I want to have a pre-defined marker on the image I import into Prawn."}], "tags": [], "owner": {"reputation": 1344, "user_id": 1150876, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/84bdd2a52f2f327c8397a25d2182ec60?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Dubrovski", "link": "https://stackoverflow.com/users/1150876/guy-dubrovski"}, "is_accepted": false, "score": 0, "last_activity_date": 1476303832, "creation_date": 1476303832, "answer_id": 40007687, "question_id": 40007505, "link": "https://stackoverflow.com/questions/40007505/plot-point-on-existing-or-newly-created-image/40007687#40007687", "title": "Plot point on existing (or newly created) image", "body": "<p>For this purpose you can use the Prawn gem: \n<a href=\"https://github.com/cortiz/prawn-rails\" rel=\"nofollow\">https://github.com/cortiz/prawn-rails</a></p>\n\n<p>Here is an example from the manual (<a href=\"http://prawnpdf.org/manual.pdf\" rel=\"nofollow\">http://prawnpdf.org/manual.pdf</a>) of drawing ac circle in a border as specific (x,y).\nPlease note that (0,0) is the bottom left corner.</p>\n\n<pre><code>stroke_axis\nstroke_circle [0, 0], 10\nbounding_box([100, 300], :width =&gt; 300, :height =&gt; 200) do\n stroke_bounds\n stroke_circle [0, 0], 10\nend\n</code></pre>\n\n<p>In your case, after you locate the image in a certain location, you can calculate where exactly you want to draw the point (according to image height and width)</p>\n"}], "owner": {"reputation": 2399, "user_id": 1042380, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/50f29303e90e938ef4bdb3a8e2fbd1b4?s=128&d=identicon&r=PG", "display_name": "yu\u044fi", "link": "https://stackoverflow.com/users/1042380/yu%d1%8fi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476303832, "creation_date": 1476303094, "question_id": 40007505, "link": "https://stackoverflow.com/questions/40007505/plot-point-on-existing-or-newly-created-image", "title": "Plot point on existing (or newly created) image", "body": "<p>I am working on PDF generation logic, and would like to be able to plot points on images within the PDF at exact locations.</p>\n\n<p>To ensure those points are plotted exactly where I want them, I'd like to generate an image that I could insert into the PDF, which would have an object (point, circle, etc) at an exact and known location.</p>\n\n<p>What's the fastest/easiest way to take an image and add something to it at (x, y). Online tool? Easy ruby/rails solution? Anything else?</p>\n"}, {"tags": ["ruby", "git", "git-commit", "git-log", "git-revision"], "comments": [{"owner": {"reputation": 627, "user_id": 4490067, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195081069/picture?type=large", "display_name": "Briana Swift", "link": "https://stackoverflow.com/users/4490067/briana-swift"}, "edited": false, "score": 0, "creation_date": 1476306811, "post_id": 40007454, "comment_id": 67295014, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/4784575/how-do-i-find-the-most-recent-git-commit-that-modified-a-file\" title=\"how do i find the most recent git commit that modified a file\">stackoverflow.com/questions/4784575/&hellip;</a>"}, {"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "reply_to_user": {"reputation": 627, "user_id": 4490067, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195081069/picture?type=large", "display_name": "Briana Swift", "link": "https://stackoverflow.com/users/4490067/briana-swift"}, "edited": false, "score": 0, "creation_date": 1476309275, "post_id": 40007454, "comment_id": 67296136, "body": "The question you attached the link to helped me achieved that but my big problem remains on how to check individual files if are checked into git. I achieve that with directories using system(&#39;git rev-parse&#39;)"}, {"owner": {"reputation": 18855, "user_id": 6330106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ebfe17b6dfc96ff9309a0e9bfd5995c?s=128&d=identicon&r=PG&f=1", "display_name": "ElpieKay", "link": "https://stackoverflow.com/users/6330106/elpiekay"}, "edited": false, "score": 0, "creation_date": 1476320455, "post_id": 40007454, "comment_id": 67299273, "body": "Add <code>-- #{filename}</code> at the end of <code>git log</code>."}, {"owner": {"reputation": 2475, "user_id": 1298944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/717c09c121dd66d83aa8b729f4b92973?s=128&d=identicon&r=PG", "display_name": "Scott Bartell", "link": "https://stackoverflow.com/users/1298944/scott-bartell"}, "edited": false, "score": 0, "creation_date": 1476336193, "post_id": 40007454, "comment_id": 67303336, "body": "It looks like you have a syntax error, you have a line <code>gitLogArray.each { |singleFile| file}</code> which does nothing, followed by <code>puts gitLogArray</code> and then a random <code>end</code>."}, {"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "reply_to_user": {"reputation": 18855, "user_id": 6330106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ebfe17b6dfc96ff9309a0e9bfd5995c?s=128&d=identicon&r=PG&f=1", "display_name": "ElpieKay", "link": "https://stackoverflow.com/users/6330106/elpiekay"}, "edited": false, "score": 0, "creation_date": 1476340280, "post_id": 40007454, "comment_id": 67305027, "body": "@ElpieKay thank you so much!"}], "owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476342361, "creation_date": 1476302919, "last_edit_date": 1476342361, "question_id": 40007454, "link": "https://stackoverflow.com/questions/40007454/git-revision-id-and-date-stay-the-same-for-all-files", "title": "Git revision id and date stay the same for all files", "body": "<p>I am iterating over a git repo, or sub repos recursively and I want to output (along with other details) the revision id of the latest commit (aka most recent) of when a file was modified.</p>\n\n<p>My problem is that the revision id and date stay the same all the time, and I can't find my bug! Can you please help me?</p>\n\n<p>A part of my code:</p>\n\n<pre><code>Dir.glob(Dir.pwd &lt;&lt; \"/**/*\").each do |file|\n\n  filename = \"#{File.basename file}\"\n\n  output = `git log -1 -r -n 1 --abbrev=5 --`pretty=format:\\\"%cd [%h]: #{filename}\\\"\n\n  # Splits the string into different lines.\n  gitLogArray = output.split(\"\\n\")\n\n  # Outputs the content of the array.\n  gitLogArray.each { |singleFile| file }\n  puts gitLogArray\n  end\nend\n</code></pre>\n\n<p>As a result, I am getting:</p>\n\n<pre><code>2016-10-12T20:21:47+01:00 [6a2b6]: simple.sh\n2016-10-12T20:21:47+01:00 [6a2b6]: writeexit.o \n2016-10-12T20:21:47+01:00 [6a2b6]: writeexit.s\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "flipper"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 2237869, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d48028cd0026e905beffb1d539f86bb5?s=128&d=identicon&r=PG", "display_name": "Tom H", "link": "https://stackoverflow.com/users/2237869/tom-h"}, "edited": false, "score": 0, "creation_date": 1476358324, "post_id": 40013819, "comment_id": 67316313, "body": "Scott - Thank you for your excellent and and thorough explanation!"}], "tags": [], "owner": {"reputation": 2475, "user_id": 1298944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/717c09c121dd66d83aa8b729f4b92973?s=128&d=identicon&r=PG", "display_name": "Scott Bartell", "link": "https://stackoverflow.com/users/1298944/scott-bartell"}, "is_accepted": true, "score": 3, "last_activity_date": 1476341471, "last_edit_date": 1476341471, "creation_date": 1476340339, "answer_id": 40013819, "question_id": 40007323, "link": "https://stackoverflow.com/questions/40007323/can-the-flipper-gem-return-a-count-of-enabled-users/40013819#40013819", "title": "Can the flipper gem return a count of enabled users?", "body": "<p>You should be able to accomplish this by programmatically <a href=\"https://github.com/jnunemaker/flipper/blob/master/docs/Gates.md#3-individual-actor\" rel=\"nofollow\">turning the feature on for Individual Actors</a> until an upper limit is reached.</p>\n\n<p><strong>IMPORTANT NOTE:</strong> <a href=\"https://github.com/jnunemaker/flipper/blob/master/docs/Caveats.md\" rel=\"nofollow\">according to the documentation</a>:</p>\n\n<blockquote>\n  <p><strong>The individual actor gate is typically not designed for hundreds or\n  thousands of actors to be enabled.</strong> This is an explicit choice to make\n  it easier to batch load data from the adapters instead of performing\n  individual checks for actors over and over. If you need to enable\n  something for more than 20 individual people, I would recommend using\n  a group.</p>\n</blockquote>\n\n<p>Now that we've agreed that we want to move forward with this anyways.. Let's talk about implementation.</p>\n\n<h2>Enabling the feature for an actor</h2>\n\n<p>The first thing you need to do is to ensure that the actor (probably a User) responds to <code>flipper_id</code> and that the <code>flipper_id</code> is unique for every actor. Once that is set up, you should be able to simply do enable the feature for a user when they see the banner like this: </p>\n\n<pre><code>flipper[:stats].enable_actor user\n</code></pre>\n\n<h2>Counting actors enrolled in a feature</h2>\n\n<p>Now, in order to determine if we should enable the feature for a user, we need to determine how many users have been enrolled in the feature.</p>\n\n<p>To do this we can query the Gate directly:</p>\n\n<pre><code>Flipper::Adapters::ActiveRecord::Gate.where(\n  feature_key: \"stats\",\n  key: \"actors\"\n).count\n</code></pre>\n\n<p>This will return a count of the number of actors enrolled in a feature.</p>\n\n<h1>How do we know that works?</h1>\n\n<p>Well, let's take a look at the gem.</p>\n\n<p><a href=\"https://github.com/jnunemaker/flipper/blob/75d48610ff222e24028c495471912c93309f2bd3/lib/flipper/dsl.rb#L51:L53\" rel=\"nofollow\"><code>flipper[:stats].enable_actor</code></a> actually calls <code>Feature#enable_actor</code> with the <code>user</code> we passed in earlier (that responds to <code>flipper_id</code>) being passed in as the actor.</p>\n\n<p>Next, <a href=\"https://github.com/jnunemaker/flipper/blob/75d48610ff222e24028c495471912c93309f2bd3/lib/flipper/feature.rb#L110:L112\" rel=\"nofollow\"><code>Feature#enable_actor</code></a> passes the actor into <a href=\"https://github.com/jnunemaker/flipper/blob/master/lib/flipper/types/actor.rb\" rel=\"nofollow\"><code>Types::Actor.wrap</code></a> which creates a new instance of Types::Actor which checks to make sure the actor isn't nil and that it has a flipper_id and then sets two instance variables, <code>thing</code> which is set to the actor, and <code>value</code> which is set to the <code>flipper_id</code> of the actor.</p>\n\n<p>Now that we have an instance of <code>Types::Actor</code>, we pass it into <a href=\"https://github.com/jnunemaker/flipper/blob/75d48610ff222e24028c495471912c93309f2bd3/lib/flipper/feature.rb#L42:L53\" rel=\"nofollow\"><code>Feature#enable</code></a> which looks up the <code>gate</code> which in our case would be a <a href=\"https://github.com/jnunemaker/flipper/blob/75d48610ff222e24028c495471912c93309f2bd3/lib/flipper/gates/actor.rb\" rel=\"nofollow\"><code>Gates::Actor</code></a> instance. Finally we call <a href=\"https://github.com/jnunemaker/flipper/blob/master/lib/flipper/adapters/active_record.rb#L106:L132\" rel=\"nofollow\">enable</a> on the adaptor (which in your case is ActiveRecord).</p>\n\n<p>In <code>Adapters::ActiveRecord.enable</code> we first look at <code>gate.data_type</code> which in our case, is <a href=\"https://github.com/jnunemaker/flipper/blob/75d48610ff222e24028c495471912c93309f2bd3/lib/flipper/gates/actor.rb#L15\" rel=\"nofollow\"><code>:set</code></a>. From there we do:</p>\n\n<pre><code>@gate_class.create! do |g|\n  g.feature_key = feature.key\n  g.key = gate.key\n  g.value = thing.value.to_s\nend\n</code></pre>\n\n<p>Where, as mentioned earlier, <code>thing.value</code> is the <code>flipper_id</code>. Bingo! <code>@gate_class</code> is the active record class responsible for the gates table and <a href=\"https://github.com/jnunemaker/flipper/blob/master/lib/flipper/adapters/active_record.rb#L16:L18\" rel=\"nofollow\">the default table name</a> is \"flipper_gates\".</p>\n\n<p>Now we know exactly what to query to get a count of the actors enrolled in the feature!</p>\n\n<pre><code>number_of_actors_enrolled_in_stats_feature = Flipper::Adapters::ActiveRecord::Gate.where(\n  feature_key: \"stats\",\n  key: \"actors\"\n).count\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 586, "user_id": 367267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13c31390e0369fcd5972292ce0e7b92?s=128&d=identicon&r=PG", "display_name": "John Nunemaker", "link": "https://stackoverflow.com/users/367267/john-nunemaker"}, "is_accepted": false, "score": 4, "last_activity_date": 1516374421, "creation_date": 1516374421, "answer_id": 48344026, "question_id": 40007323, "link": "https://stackoverflow.com/questions/40007323/can-the-flipper-gem-return-a-count-of-enabled-users/48344026#48344026", "title": "Can the flipper gem return a count of enabled users?", "body": "<p>Nowadays you can do <code>Flipper[:some_feature].actors_value.size</code>, assuming you've configured your default flipper instance with <code>Flipper.configure</code>.</p>\n\n<p><a href=\"https://github.com/jnunemaker/flipper/blob/196946c63aee1eaa09fa25e945cdbff896fe71e5/lib/flipper/feature.rb#L258-L260\" rel=\"nofollow noreferrer\">https://github.com/jnunemaker/flipper/blob/196946c63aee1eaa09fa25e945cdbff896fe71e5/lib/flipper/feature.rb#L258-L260</a></p>\n"}], "owner": {"reputation": 157, "user_id": 2237869, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d48028cd0026e905beffb1d539f86bb5?s=128&d=identicon&r=PG", "display_name": "Tom H", "link": "https://stackoverflow.com/users/2237869/tom-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 1, "accepted_answer_id": 40013819, "answer_count": 2, "score": 6, "last_activity_date": 1516374421, "creation_date": 1476302433, "question_id": 40007323, "link": "https://stackoverflow.com/questions/40007323/can-the-flipper-gem-return-a-count-of-enabled-users", "title": "Can the flipper gem return a count of enabled users?", "body": "<p>We are exploring using the flipper gem (<a href=\"https://github.com/jnunemaker/flipper\" rel=\"noreferrer\">https://github.com/jnunemaker/flipper</a>) to gate who sees new features. In one of our first tests, we want to show a specific feature to only the first X users that see a banner promoting it. </p>\n\n<p>We looked at using a percentage, but the business is very specific on the number, and also wants to reach that number right away, then disable the feature for all other users, without disabling it for those that saw it first.  Using a percentage, we weren't able to see a way to ensure the correct number would see it, and that everyone of the first x would see it. </p>\n\n<p>Inside the gates/actor.rb, there is this:</p>\n\n<pre><code>enabled_actor_ids = value\n</code></pre>\n\n<p>which implies we could get the list of enabled ids, and perform a count on that, but we couldn't find whether or where that list may be exposed. </p>\n\n<p>Since we are using the AR adapter as a trial, we instead created a scope on an actor object that joins to the flipper_gates table, but this feels extremely fragile and getting very much into the inner workings of the gem. </p>\n\n<p>Any advice is greatly appreciated. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex", "word-boundary"], "comments": [{"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476302558, "post_id": 40007302, "comment_id": 67292736, "body": "See <a href=\"http://stackoverflow.com/questions/39875620/python-regex-words-boundary-with-unexpected-results/39876126#39876126\" title=\"python regex words boundary with unexpected results\">stackoverflow.com/questions/39875620/&hellip;</a>. <code>\\b</code> is not matching whitespaces and there is one between <code>first</code> and <code>second</code>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1476303177, "post_id": 40007302, "comment_id": 67293043, "body": "<code>\\b</code> is usually used at the beginning or end of an expression only since its utility in other places is questionable."}, {"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476303644, "post_id": 40007302, "comment_id": 67293287, "body": "@tadman there&#39;s a chance that <code>\\b</code> can be useful in the middle of an expression, but it&#39;s so rare that I can&#39;t think of a real world use case. Something like this is an efficient use: <code>&#47;[a-z ]\\b[a-z ]&#47;</code>"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "edited": false, "score": 0, "creation_date": 1476304111, "post_id": 40007302, "comment_id": 67293544, "body": "@Sam Yeah, the cases of using it in the middle are typically more like <code>&#47;test\\b|thing&#47;</code> but in those cases they&#39;re at the beginning or end of a sub-expression."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476304727, "post_id": 40007302, "comment_id": 67293851, "body": "This appears to be a pure-Ruby question. If so, there should be no Rails tag. Keep in mind that some members may filter out questions with Rails tags."}], "answers": [{"comments": [{"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1476302644, "post_id": 40007377, "comment_id": 67292777, "body": "Or <code>&#47;first\\ssecond&#47;</code> or <code>&#47;first second&#47;</code> or <code>&#47;\\bfirst second\\b&#47;</code>"}, {"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "reply_to_user": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476302680, "post_id": 40007377, "comment_id": 67292795, "body": "Thanks @WiktorStribi\u017cew, I was just updating the question to explain why you wouldn&#39;t usually use a zero-length match in a situation like this."}, {"owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "edited": false, "score": 0, "creation_date": 1476302924, "post_id": 40007377, "comment_id": 67292929, "body": "Thanks but the answer given fails for the case /first\\Wsecond/.match(&#39;first  second&#39;) in whcih there is more than one space in between the words."}, {"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "reply_to_user": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "edited": false, "score": 0, "creation_date": 1476303070, "post_id": 40007377, "comment_id": 67292995, "body": "@Dave any of these examples can make use of the <code>+</code> modifier to say &quot;one or more&quot;, i.e. <code>&#47;first\\W+second&#47;</code>..."}], "tags": [], "owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "is_accepted": true, "score": 2, "last_activity_date": 1476302975, "last_edit_date": 1476302975, "creation_date": 1476302608, "answer_id": 40007377, "question_id": 40007302, "link": "https://stackoverflow.com/questions/40007302/why-is-b-not-catching-my-word-boundary-in-rails/40007377#40007377", "title": "Why is &quot;\\b&quot; not catching my word boundary in Rails?", "body": "<p><code>\\b</code> matches a zero-length word boundary, not a space. You're looking for something more like this:</p>\n\n<pre><code>/first\\b.\\bsecond/.match('first second')\n</code></pre>\n\n<p>This will match any character (<code>.</code>) in between <code>first</code> and <code>second</code>, as long as there is a word boundary on either side.</p>\n\n<hr>\n\n<p>However, this is not how word boundaries are usually used (since there is no need to use a zero-length check when you are matching the word boundary itself). <code>\\b</code> is essentially looking for a non-word character after a word character; so, instead, you could just look for a non-word character in-between the <code>t</code> in <code>first</code> and <code>s</code> in <code>second</code>:</p>\n\n<pre><code>/first\\Wsecond/.match('first second')\n</code></pre>\n\n<p>This is exactly the same as the first example...but, realistically, you probably just want to match whitespace and can use something like this:</p>\n\n<pre><code>/first\\ssecond/.match('first second')\n</code></pre>\n\n<hr>\n\n<p>@WiktorStribi\u017cew's third example shows the best use of word boundaries (at the beginning and end). This is because you aren't matching anything before or after, so a zero-length test is helpful. Otherwise, the above examples could match something like <code>first secondary</code>. In the end, I'd use an expression like:</p>\n\n<pre><code>/\\bfirst\\ssecond\\b/.match('first second')\n</code></pre>\n"}], "owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 40007377, "answer_count": 1, "score": 0, "last_activity_date": 1476302975, "creation_date": 1476302372, "question_id": 40007302, "link": "https://stackoverflow.com/questions/40007302/why-is-b-not-catching-my-word-boundary-in-rails", "title": "Why is &quot;\\b&quot; not catching my word boundary in Rails?", "body": "<p>I\u2019m using Rails 4.2.7.  I want to match an expression and take advantage of the word boundary expression because there may be a space, arbitrary number of spaces, or a dash between my words.  But this isn\u2019t working</p>\n\n<pre><code>2.3.0 :006 &gt; /first\\bsecond/.match('first second')\n =&gt; nil\n</code></pre>\n\n<p>The manual here \u2014 <a href=\"https://ruby-doc.org/core-2.1.1/Regexp.html\" rel=\"nofollow\">https://ruby-doc.org/core-2.1.1/Regexp.html</a> suggests that \u201c\\b\u201d is the right expression to use to catch word boundaries so I\u2019m wondering where I\u2019m going wrong.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "capistrano", "capistrano3"], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 813282, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/946cc0a2f4a3ca6c2b9c6421b932684e?s=128&d=identicon&r=PG", "display_name": "icantbecool", "link": "https://stackoverflow.com/users/813282/icantbecool"}, "edited": false, "score": 0, "creation_date": 1476613890, "post_id": 40053760, "comment_id": 67411927, "body": "Thanks will! I tried the delayed job gem for capistrano, and it wasn&#39;t working properly, getting a bundler error, but simply emulating the code you what you posted worked."}], "tags": [], "owner": {"reputation": 2465, "user_id": 3042016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kVHc.jpg?s=128&g=1", "display_name": "will_in_wi", "link": "https://stackoverflow.com/users/3042016/will-in-wi"}, "is_accepted": true, "score": 1, "last_activity_date": 1476491236, "creation_date": 1476491236, "answer_id": 40053760, "question_id": 40006988, "link": "https://stackoverflow.com/questions/40006988/capistrano-3-rbenv-issue-no-such-file-to-load-rubygems-loaderror/40053760#40053760", "title": "Capistrano 3 rbenv issue: no such file to load -- rubygems (LoadError)", "body": "<h1>Short answer</h1>\n\n<p>Instead of writing it yourself, use the semi-official Capistrano 3 Delayed Job integration Gem: <a href=\"https://github.com/AgileConsultingLLC/capistrano3-delayed-job\" rel=\"nofollow\">https://github.com/AgileConsultingLLC/capistrano3-delayed-job</a></p>\n\n<h1>Long answer</h1>\n\n<p>If you were to actually write this yourself, capistrano-rbenv only affects a small default list of commands, as seen here: <a href=\"https://github.com/capistrano/rbenv/blob/master/lib/capistrano/tasks/rbenv.rake#L47\" rel=\"nofollow\">https://github.com/capistrano/rbenv/blob/master/lib/capistrano/tasks/rbenv.rake#L47</a></p>\n\n<p>In this case, you'd probably want something like the following:</p>\n\n<pre><code>namespace :deploy do\n  desc 'Restart application'\n  task :restart do\n    on roles(:all) do |host|\n      within release_path do\n        execute :ruby, \"bin/delayed_job\", 'restart'\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>Instead of creating the <code>tmp/</code> directory, add it to <code>:linked_dirs</code> in your config.</p>\n\n<p>Also, it looks like you are touching <code>tmp/restart.txt</code> to restart Passenger. Alternatively, use the capistrano-passenger gem to do that. It can run in a newer mode which uses the passenger commands to restart your app, or you can tell it to use the touch file mechanism.</p>\n\n<p>Finally, instead of using <code>cd ${release_path}</code>, use the <code>within</code> DSL method. That will accomplish the same thing and not break the command map.</p>\n"}], "owner": {"reputation": 482, "user_id": 813282, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/946cc0a2f4a3ca6c2b9c6421b932684e?s=128&d=identicon&r=PG", "display_name": "icantbecool", "link": "https://stackoverflow.com/users/813282/icantbecool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 40053760, "answer_count": 1, "score": 0, "last_activity_date": 1476491236, "creation_date": 1476301131, "question_id": 40006988, "link": "https://stackoverflow.com/questions/40006988/capistrano-3-rbenv-issue-no-such-file-to-load-rubygems-loaderror", "title": "Capistrano 3 rbenv issue: no such file to load -- rubygems (LoadError)", "body": "<p>I'm having issues with running ruby gem commands while using Capistrano 3 with capistrano-rbenv (I'm assuming it can't find the ruby interpreter), specifically delayed_job. I've posted the necessary files associated with the issue: </p>\n\n<pre><code>`require': no such file to load -- rubygems (LoadError)\n</code></pre>\n\n<p>Any assistance would be greatly appreciated.</p>\n\n<p>Gemfile</p>\n\n<pre><code>gem 'capistrano', \"~&gt; 3.6\"\ngem 'capistrano-rbenv', '~&gt; 2.0'\n</code></pre>\n\n<p>Capfile</p>\n\n<pre><code># Load DSL and set up stages\nrequire \"capistrano/setup\"\n\n# Include default deployment tasks\nrequire \"capistrano/deploy\"\nrequire \"capistrano/rbenv\"\n\n# Load custom tasks from `lib/capistrano/tasks` if you have any defined\nDir.glob(\"lib/capistrano/tasks/*.rake\").each { |r| import r }\n</code></pre>\n\n<p>deploy.rb</p>\n\n<pre><code># config valid only for current version of Capistrano\nlock '3.6.1'\n\nset :application, 'youtube_rank_tracker'\nset :repo_url, './.git'\n\n# Default branch is :master\n# ask :branch, `git rev-parse --abbrev-ref HEAD`.chomp\n\n# Default deploy_to directory is /var/www/my_app_name\nset :deploy_to, '/dogecoin'\n\n# Default value for :scm is :git\nset :scm, :git\n\n# Default value for :format is :airbrussh.\nset :format, :airbrussh\n\n# You can configure the Airbrussh format using :format_options.\n# These are the defaults.\nset :format_options, command_output: true, log_file: 'log/capistrano.log', color: :auto, truncate: :auto\n\n# Default value for :pty is false\nset :pty, true\n\n# Default value for :linked_files is []\n# append :linked_files, 'config/database.yml', 'config/secrets.yml'\n\n# Default value for linked_dirs is []\n# append :linked_dirs, 'log', 'tmp/pids', 'tmp/cache', 'tmp/sockets', 'public/system'\n\n# Default value for default_env is {}\n# set :default_env, { path:  '$HOME/.rbenv/shims:$HOME/.rbenv/bin:$PATH' }\n\n# Default value for keep_releases is 5\nset :keep_releases, 5\n\n# set :default_env, { path: \"$HOME/.rbenv/bin:$PATH\" }\nset :rbenv_type, :user # or :system, depends on your rbenv setup\nset :rbenv_ruby, '2.1.2'\nset :rbenv_prefix, \"RBENV_ROOT=#{fetch(:rbenv_path)} RBENV_VERSION=#{fetch(:rbenv_ruby)} #{fetch(:rbenv_path)}/bin/rbenv exec\"\nset :rbenv_map_bins, %w{rake gem bundle ruby rails}\nset :rbenv_roles, :all # default value\n\nnamespace :deploy do\n    desc 'Restart application'\n  task :restart do\n    on roles(:all) do |host|\n        execute :mkdir, \"-p #{release_path}/tmp\"\n      execute :touch, release_path.join('tmp/restart.txt')\n      execute \"cd #{release_path} &amp;&amp; RAILS_ENV=production bin/delayed_job restart;\"\n      # execute \"cd #{release_path} &amp;&amp; bundle exec rake -T\"\n    end\n    end\nend\n\nafter 'deploy:publishing', 'deploy:restart'\n</code></pre>\n\n<p>Error</p>\n\n<pre><code>he deploy has failed with an error: Exception while executing as root@.....: cd /.... &amp;&amp; RAILS_ENV=production bin/delayed_job restart; exit status: 1\ncd /.... &amp;&amp; RAILS_ENV=production bin/delayed_job restart; stdout: /usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb:2:in `require': no such file to load -- rubygems (LoadError)\n    from /usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb:2\n    from /usr/lib/ruby/vendor_ruby/bundler/setup.rb:1:in `require'\n    from /usr/lib/ruby/vendor_ruby/bundler/setup.rb:1\n</code></pre>\n"}, {"tags": ["ruby", "linux", "io", "terminal", "emulation"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476301182, "post_id": 40006678, "comment_id": 67292007, "body": "Do you have a list of the possible key encodings here? Parsing that out with a regular expression and <code>scan</code> seems possible, but without details on the allowed values that&#39;s hard to pin down. Also, rather than re-inventing the wheel have you tried using the <a href=\"https://github.com/ruby/curses\" rel=\"nofollow noreferrer\">Ruby Curses library</a> which does all of this for you?"}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476301637, "post_id": 40006678, "comment_id": 67292249, "body": "Every value should be allowed. Only tput is available. I don&#39;t use other parts of curses or ncurses because of compatibility and other issues. Is the only possibility to write a parser including all possible escape sequences? Isn&#39;t there a reliable possibility to read those inputs already split? I mean, they are split before written into the standard input, aren&#39;t they?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476303020, "post_id": 40006678, "comment_id": 67292970, "body": "What &quot;compatibility and other issues&quot;? There&#39;s support in the Ruby core, this is not some exotic dependency. You&#39;ve got a huge job ahead if you&#39;re going to write a parser for this. They&#39;re not split on input, they&#39;re fed through as a stream. The terminal understands them, and your code will have to as well if you assume responsibility fro that. Hence: <b>curses</b>."}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476303333, "post_id": 40006678, "comment_id": 67293125, "body": "I think the inputs are written one after another into the stream. Only the standard input merges them into one string. Curses is not flexible enough and it&#39;s slow I heard."}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476303721, "post_id": 40006678, "comment_id": 67293331, "body": "I already reached my goal without curses. I need a solution for this only to correct tiny inaccuracies."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476304053, "post_id": 40006678, "comment_id": 67293512, "body": "The way these things go the first 80% is easy. The remaining 80% is very, very hard. I think you underestimate the complexity here."}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476304427, "post_id": 40006678, "comment_id": 67293696, "body": "Only 0.01% is remaining. Maybe it isn&#39;t worth correcting. I&#39;ll have a look at the curses implementation of ruby. Thank you."}], "owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476299872, "creation_date": 1476299872, "question_id": 40006678, "link": "https://stackoverflow.com/questions/40006678/split-escape-sequences-in-ruby-from-linux-terminal-emulator", "title": "Split escape sequences in ruby from linux terminal emulator", "body": "<p>I'm reading escape sequences in Ruby from standard input in Linux terminal emulator, including mouse tracking data (<code>input=STDIN.sysread(100)</code>).</p>\n\n<p>How do I split the received string? Or is there a possibility to read the data already splitted?</p>\n\n<p>Example:\n<code>input</code> contains <code>\"\\e[Hs\\e[35;12;74M\"</code>.</p>\n\n<p>How do I get </p>\n\n<pre><code>[\n    \"\\e[H\",          # pos-key pressed\n    \"s\",             # s-key pressed\n    \"\\e[35;12;74M\"   # mouse moved\n]\n</code></pre>\n\n<p>?</p>\n\n<p>I think it should be possible to parse the string and I don't understand why I can't find any information about that.</p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["ruby", "bash", "macos", "bundler", "rbenv"], "comments": [{"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476314173, "post_id": 40006597, "comment_id": 67297722, "body": "Did you try <code>rbenv rehash</code> ?"}, {"owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "reply_to_user": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476314304, "post_id": 40006597, "comment_id": 67297747, "body": "I tried it no change"}, {"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476314452, "post_id": 40006597, "comment_id": 67297785, "body": "Can you show your the $PATH variable value (<code>echo $PATH</code>) and also output of the <code>rbenv</code> command?"}, {"owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "reply_to_user": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476314917, "post_id": 40006597, "comment_id": 67297886, "body": "Theres no output for <code>rbenv rehash</code> and heres my $PATH <code>&#47;Users&#47;$MYUSER&#47;.rbenv&#47;shims:&#47;Users&#47;$MYUSER&#47;.rbenv&#47;bin:&#47;usr&#47;l&zwnj;&#8203;ocal&#47;bin:&#47;usr&#47;bin:&#47;b&zwnj;&#8203;in:&#47;usr&#47;sbin:&#47;sbin</code>"}, {"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476315017, "post_id": 40006597, "comment_id": 67297911, "body": "The command is just <code>rbenv</code> without &quot;rehash&quot;"}, {"owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "reply_to_user": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476315216, "post_id": 40006597, "comment_id": 67297962, "body": "I can&#39;t paste the full output, but I assume you are looking for my rbenv version: <code>rbenv 1.0.0</code>"}, {"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476315307, "post_id": 40006597, "comment_id": 67297987, "body": "Please add it into your question it&#39;s important. And also I need <code>which bundle</code> output."}, {"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476316276, "post_id": 40006597, "comment_id": 67298283, "body": "<code>which bundle</code> should return <code>&#47;Users&#47;your-login&#47;.rbenv&#47;shims&#47;bundle</code> path or something like that. Could you check if you have <code>$HOME&#47;.rbenv&#47;shims&#47;bundle</code> file?"}, {"owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "reply_to_user": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476317736, "post_id": 40006597, "comment_id": 67298665, "body": "Nope I don&#39;t have any file under <code>~&#47;.rbenv&#47;shims&#47;bundle</code>"}, {"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476318709, "post_id": 40006597, "comment_id": 67298886, "body": "You should work in this way, it must be there. Do you have any ruby versions installed(<code>rbenv versions</code>)? Could you check if you have <code>~&#47;.rbenv&#47;versions&#47;2.1.1&#47;bin&#47;bundle</code> path?"}, {"owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "reply_to_user": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476319015, "post_id": 40006597, "comment_id": 67298938, "body": "Yes I have 2.1.1 installed with rbenv, but <code>bundle</code> is not in <code>~&#47;.rbenv&#47;versions&#47;2.1.1&#47;bin&#47;</code> and it is also not present in any other ruby versions I have under <code>~&#47;.rbenv&#47;versions&#47;</code>"}, {"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476319163, "post_id": 40006597, "comment_id": 67298976, "body": "Maybe I haven&#39;t installed it then. Can you try <code>gem install bundler</code> in your <code>~&#47;Desktop&#47;working-bundler-env</code> folder."}, {"owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "reply_to_user": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476324906, "post_id": 40006597, "comment_id": 67300369, "body": "Yea I&#39;ve been trying various attempts at completely uninstalling bundler then reinstalling it with no luck."}], "answers": [{"tags": [], "owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "is_accepted": true, "score": 0, "last_activity_date": 1476383427, "last_edit_date": 1476383427, "creation_date": 1476343424, "answer_id": 40014728, "question_id": 40006597, "link": "https://stackoverflow.com/questions/40006597/bundler-with-rbenv-version-pathfile-issue/40014728#40014728", "title": "Bundler with rbenv version pathfile issue", "body": "<p>So I noticed that when I ran <code>gem bundle install</code> the version was <code>1.13.3</code>.  After running <code>sudo find / -name bundle</code> I found two file locations that included that version number.  </p>\n\n<pre><code>/Users/myusername/.gems/gems/bundler-1.13.3/exe/bundle\n/Users/myusername/.gems/gems/bundler-1.13.3/lib/bundler/man/bundle\n</code></pre>\n\n<p>After attempting to run <code>/Users/myusername/.gems/gems/bundler-1.13.3/exe/bundle install</code> it works perfectly.  So I just made an alias in my <code>~/.bash_profile</code> that overwrote the incorrect bundle command.</p>\n\n<pre><code>alias bundle=/Users/alexcohen/.gems/gems/bundler-1.13.3/exe/bundle\n</code></pre>\n\n<p>The only side effect of this gem (for better or worse) is that it creates <code>.bundle</code> and <code>path</code> directories in the directory where I run <code>bundle install</code> where the gems are downloaded into.</p>\n\n<p>I still have to investigate why this is happening, but I think that the <code>bundle</code> command in my macs terminal was referencing some type of broken bundler gem or file somewhere in my system. </p>\n"}], "owner": {"reputation": 3536, "user_id": 5314903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63b7f28e96e254a2618902d079e06dba?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Cohen", "link": "https://stackoverflow.com/users/5314903/alex-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 40014728, "answer_count": 1, "score": 1, "last_activity_date": 1476383427, "creation_date": 1476299593, "last_edit_date": 1476343486, "question_id": 40006597, "link": "https://stackoverflow.com/questions/40006597/bundler-with-rbenv-version-pathfile-issue", "title": "Bundler with rbenv version pathfile issue", "body": "<p>So I am using rbenv to set my ruby version (for the specific project I'm working on this is 2.1.1).  The issue is that bundler is unable to detect this change.  I even tried to set the version in my gemfile:</p>\n\n<pre><code>source \"https://my-proxy-address\"\nruby \"2.1.1\"\ngem 'fileutils'\ngem 'json'\ngem 'chef-api'\n</code></pre>\n\n<p>However this then causes the exact error message as seen <a href=\"https://devcenter.heroku.com/articles/ruby-versions\" rel=\"nofollow\">here</a> at the end of the tutorial: </p>\n\n<pre><code>username@hostname:~/Desktop/working-bundler-env$ rbenv version\n2.1.1 (set by /Users/username/.rbenv/version)\nusername@hostname:~/Desktop/working-bundler-env$ ruby -v\nruby 2.1.1p76 (2014-02-24 revision 45161) [x86_64-darwin15.0]\nusername@hostname:~/Desktop/working-bundler-env$ bundle install\nYour Ruby version is 2.0.0, but your Gemfile specified 2.1.1\n</code></pre>\n\n<p><a href=\"https://devcenter.heroku.com/articles/ruby-versions\" rel=\"nofollow\">The tutorial</a> has the solution to the issue (edit a pathfile), however they dont say what file to change. What file do I change?</p>\n\n<pre><code>$ rbenv\nrbenv 1.0.0\nUsage: rbenv &lt;command&gt; [&lt;args&gt;]\n\nSome useful rbenv commands are:\n   commands    List all available rbenv commands\n   local       Set or show the local application-specific Ruby version\n   global      Set or show the global Ruby version\n   shell       Set or show the shell-specific Ruby version\n   install     Install a Ruby version using ruby-build\n   uninstall   Uninstall a specific Ruby version\n   rehash      Rehash rbenv shims (run this after installing executables)\n   version     Show the current Ruby version and its origin\n   versions    List all Ruby versions available to rbenv\n   which       Display the full path to an executable\n   whence      List all Ruby versions that contain the given executable\n\nSee `rbenv help &lt;command&gt;' for information on a specific command.\nFor full documentation, see: https://github.com/rbenv/rbenv#readme\n\n$ which bundle\n/usr/local/bin/bundle\n</code></pre>\n"}, {"tags": ["c++", "ruby", "qt", "type-conversion"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1476300913, "post_id": 40006334, "comment_id": 67291873, "body": "Perhaps <code>Base_Initialize</code> needs to be <code>extern &quot;C&quot;</code>?"}, {"owner": {"reputation": 173, "user_id": 5202096, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Cj-g4-8M82g/AAAAAAAAAAI/AAAAAAAAAEI/uZarQlx71kU/photo.jpg?sz=128", "display_name": "Strelokhalfer", "link": "https://stackoverflow.com/users/5202096/strelokhalfer"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1476342423, "post_id": 40006334, "comment_id": 67306141, "body": "<code>extern &quot;C&quot;</code>, as i know, needed in c++ extension, not embeded ruby. By the way, i tried this."}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 5202096, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Cj-g4-8M82g/AAAAAAAAAAI/AAAAAAAAAEI/uZarQlx71kU/photo.jpg?sz=128", "display_name": "Strelokhalfer", "link": "https://stackoverflow.com/users/5202096/strelokhalfer"}, "is_accepted": true, "score": 1, "last_activity_date": 1476359842, "creation_date": 1476359842, "answer_id": 40020363, "question_id": 40006334, "link": "https://stackoverflow.com/questions/40006334/ruby-rb-define-method-invalid-conversion/40020363#40020363", "title": "Ruby rb_define_method - invalid conversion", "body": "<p>I add <code>reinterpret_cast&lt; VALUE ( * ) ( ... ) &gt;(BaseItem_Initialize)</code> and it`s worked.</p>\n\n<pre><code>VALUE Base = rb_define_class(\"Base\", NULL);\nVALUE Base_Initialize(VALUE self);\nrb_define_method(Base, \"initialize\", reinterpret_cast&lt; VALUE ( * ) ( ... ) &gt;(BaseItem_Initialize), 0);\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 5202096, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Cj-g4-8M82g/AAAAAAAAAAI/AAAAAAAAAEI/uZarQlx71kU/photo.jpg?sz=128", "display_name": "Strelokhalfer", "link": "https://stackoverflow.com/users/5202096/strelokhalfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 40020363, "answer_count": 1, "score": 1, "last_activity_date": 1476359842, "creation_date": 1476298627, "question_id": 40006334, "link": "https://stackoverflow.com/questions/40006334/ruby-rb-define-method-invalid-conversion", "title": "Ruby rb_define_method - invalid conversion", "body": "<p>I embed Ruby in QT app and try to create class and add him new method</p>\n\n<pre><code>VALUE Base = rb_define_class(\"Base\", NULL);\nVALUE Base_Initialize(VALUE self);\nrb_define_method(Base, \"initialize\", Base_Initialize, 0);\n</code></pre>\n\n<p>But i get error while compile</p>\n\n<pre><code>invalid conversion from 'VALUE (*)(VALUE) {aka long unsigned int (*)(long unsigned int)}' to 'VALUE (*)(...) {aka long unsigned int (*)(...)}' [-fpermissive]\n</code></pre>\n\n<p>In c extension worked fine.</p>\n"}, {"tags": ["ruby", "methods", "parameters", "arguments", "truthiness"], "comments": [{"owner": {"reputation": 6687, "user_id": 6496010, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4d564ef7fd53e4e76e5e520945dcc4c1?s=128&d=identicon&r=PG", "display_name": "davidhu", "link": "https://stackoverflow.com/users/6496010/davidhu"}, "edited": false, "score": 0, "creation_date": 1476299108, "post_id": 40006304, "comment_id": 67290874, "body": "I&#39;m not sure I understand the question, can you clarify with a few more examples?"}, {"owner": {"reputation": 223, "user_id": 7009752, "user_type": "registered", "profile_image": "https://graph.facebook.com/868692553213520/picture?type=large", "display_name": "Sophie Proud", "link": "https://stackoverflow.com/users/7009752/sophie-proud"}, "reply_to_user": {"reputation": 6687, "user_id": 6496010, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4d564ef7fd53e4e76e5e520945dcc4c1?s=128&d=identicon&r=PG", "display_name": "davidhu", "link": "https://stackoverflow.com/users/6496010/davidhu"}, "edited": false, "score": 0, "creation_date": 1476299511, "post_id": 40006304, "comment_id": 67291093, "body": "During the program, sword changes its truth value. Instead of sword=false, now sword=true and when I write the forest method again, I should write forest true, false, false. But what if I wanted Ruby to tell me whether or not sword is true or false? Is there any command that can do that?"}, {"owner": {"reputation": 6687, "user_id": 6496010, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4d564ef7fd53e4e76e5e520945dcc4c1?s=128&d=identicon&r=PG", "display_name": "davidhu", "link": "https://stackoverflow.com/users/6496010/davidhu"}, "edited": false, "score": 0, "creation_date": 1476300134, "post_id": 40006304, "comment_id": 67291442, "body": "I think i have an idea now, I&#39;ll work on an answer below"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476301293, "post_id": 40006304, "comment_id": 67292066, "body": "Remember that <code>sword=true &amp;&amp; armor=true</code> does an <b>assignment</b> to both variables and not a test. If you want to compare, use <code>==</code>. When doing multiple assignments don&#39;t chain together with <code>&amp;&amp;</code>, just put them on multiple lines, or do <code>sword = armor = true</code> if you want it compact."}], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 7009752, "user_type": "registered", "profile_image": "https://graph.facebook.com/868692553213520/picture?type=large", "display_name": "Sophie Proud", "link": "https://stackoverflow.com/users/7009752/sophie-proud"}, "edited": false, "score": 0, "creation_date": 1476300667, "post_id": 40006825, "comment_id": 67291738, "body": "Thank you so much for the help! :)"}], "tags": [], "owner": {"reputation": 6687, "user_id": 6496010, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4d564ef7fd53e4e76e5e520945dcc4c1?s=128&d=identicon&r=PG", "display_name": "davidhu", "link": "https://stackoverflow.com/users/6496010/davidhu"}, "is_accepted": true, "score": 2, "last_activity_date": 1476300493, "creation_date": 1476300493, "answer_id": 40006825, "question_id": 40006304, "link": "https://stackoverflow.com/questions/40006304/ruby-method-arguments-can-they-change-truth-value-automatically/40006825#40006825", "title": "Ruby Method Arguments - Can they change truth value automatically?", "body": "<p>To achieve what you are looking for, you should wrap the <code>forest</code> method in a class and define each argument as an instance variable. </p>\n\n<pre><code>class Forest\n\n  attr_accessor :sword, :armour, :ring\n\n  def initialize(sword = false, armour = false, ring = false)\n    @sword = sword\n    @armour = armour\n    @ring = ring\n  end\n\nend\n</code></pre>\n\n<p>So now, you can declare an instance of <code>Forest</code>, </p>\n\n<pre><code>forest = Forest.new\n</code></pre>\n\n<p>All the variables default to <code>false</code>, unless you explicitly write <code>true</code>. </p>\n\n<p>With the <code>attr_accessor</code>, you can access and set all the variables.</p>\n\n<pre><code>forest.sword #=&gt; false\nforest.sword = true\nforest.sword #=&gt; true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": false, "score": 1, "last_activity_date": 1476300501, "creation_date": 1476300501, "answer_id": 40006829, "question_id": 40006304, "link": "https://stackoverflow.com/questions/40006304/ruby-method-arguments-can-they-change-truth-value-automatically/40006829#40006829", "title": "Ruby Method Arguments - Can they change truth value automatically?", "body": "<p>The values <code>true</code> and <code>false</code> are atomic. If you don't want pass them as literal values you have to set a variable, i.e.</p>\n\n<pre><code>is_sword = false\nis_armor = false\nis_ring = false\nforest is_sword, is_armor, is_ring\n</code></pre>\n\n<p>It seems like that should address your question, but it might be worth introducing the concepts of \"mutable\" objects as well. For example hashes and arrays are mutable:</p>\n\n<pre><code>   hash = { armor: false, sword: false, ring: false }\n   def delete_nil_values(options)\n     # delete all key-vals from the hash where the val is falsey\n     options.each_key { |key| options.delete(key) if !options[key]}\n     options\n   end\n   delete_nil_values(hash)\n   puts hash\n   # =&gt; {} \n   # it is empty\n</code></pre>\n\n<p>This may or may not be what you intend; if you want to write 'side effect free' code you should be aware of this. </p>\n\n<p>If you \"clone\" the input at the top of the <code>delete_nil_values</code> method using <code>options = Marshal.load(Marshal.dump(options))</code> then it will be immutable.</p>\n\n<p>To summarize: A function evaluates its arguments at runtime. So its variables will be the same that you passed in <strong>but</strong> if you have side-effects in your code the variables may have mutated. </p>\n"}], "owner": {"reputation": 223, "user_id": 7009752, "user_type": "registered", "profile_image": "https://graph.facebook.com/868692553213520/picture?type=large", "display_name": "Sophie Proud", "link": "https://stackoverflow.com/users/7009752/sophie-proud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 40006825, "answer_count": 2, "score": 0, "last_activity_date": 1476300501, "creation_date": 1476298541, "last_edit_date": 1476298982, "question_id": 40006304, "link": "https://stackoverflow.com/questions/40006304/ruby-method-arguments-can-they-change-truth-value-automatically", "title": "Ruby Method Arguments - Can they change truth value automatically?", "body": "<p>I have this method</p>\n\n<pre><code>def forest(sword, armour, ring)\n</code></pre>\n\n<p>with its arguments having <code>true</code> or <code>false</code> values, which I declare in the main program as</p>\n\n<pre><code>forest false, false, false\n</code></pre>\n\n<p>If during the program <code>sword=true &amp;&amp; armour=true</code>, is there any way for Ruby to automatically assess whether the arguments are true or false?\nCould I write something like</p>\n\n<pre><code>forest sword-truth-value, armour-truth-value, ring-truth-value?\n</code></pre>\n\n<p>The program I'm writing is very long and it would take too many code lines to take every single case into consideration.</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1476298839, "post_id": 40006273, "comment_id": 67290736, "body": "Do you get any messages that some params are not permitted?"}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1476298902, "post_id": 40006273, "comment_id": 67290772, "body": "Have you started debugging with any log statements to output the user or board id in the controller?"}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1476299194, "post_id": 40006273, "comment_id": 67290927, "body": "btw do you need the has_many :memberships when using through?"}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 1, "creation_date": 1476299640, "post_id": 40006273, "comment_id": 67291175, "body": "Is this correct? has_many :lists, :through =&gt; :memberships, <code>:source =&gt; :board</code> both on <code>board</code> and on <code>user</code>"}, {"owner": {"reputation": 117, "user_id": 4008080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f6d22e9b62c49a17d54c880d6914e62e?s=128&d=identicon&r=PG", "display_name": "chell", "link": "https://stackoverflow.com/users/4008080/chell"}, "reply_to_user": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1476300053, "post_id": 40006273, "comment_id": 67291399, "body": "I do not see any errors about the params not being permitted. In my attempts, I have gotten the error message &quot;Board cannot be blank&quot;, which furthers my thinking that the List is not being tied to a Board_id. I am not sure if my associations are correct. They are probably not. As far as log statements, I am a beginner and am not sure what to try."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1476301319, "post_id": 40006273, "comment_id": 67292079, "body": "I do not even see a create for boards at all"}, {"owner": {"reputation": 117, "user_id": 4008080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f6d22e9b62c49a17d54c880d6914e62e?s=128&d=identicon&r=PG", "display_name": "chell", "link": "https://stackoverflow.com/users/4008080/chell"}, "edited": false, "score": 0, "creation_date": 1476302004, "post_id": 40006273, "comment_id": 67292440, "body": "I did not think that was necessary to add since I can create a new board, just not a new list. I&#39;ve edited my post to include that method."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1476304749, "post_id": 40006273, "comment_id": 67293863, "body": "you can try to output the params in the view, using: <code>Rails.logger.info(params)</code>  or in the controller: <code>logger.info(params)</code> This should give you all params that come with the request, severside and client side!"}, {"owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "edited": false, "score": 0, "creation_date": 1476356407, "post_id": 40006273, "comment_id": 67315040, "body": "In your question you mentioned <b>The issue I&#39;m having is with creating a board. It does not save</b> but In comments you are saying <b>I can create a new board, just not a new list.</b> . Can you please edit with more specific problem and the exact error message if you have any."}, {"owner": {"reputation": 117, "user_id": 4008080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f6d22e9b62c49a17d54c880d6914e62e?s=128&d=identicon&r=PG", "display_name": "chell", "link": "https://stackoverflow.com/users/4008080/chell"}, "edited": false, "score": 0, "creation_date": 1476448702, "post_id": 40006273, "comment_id": 67362406, "body": "Updated. Thanks for catching that."}], "answers": [{"tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1476449087, "creation_date": 1476449087, "answer_id": 40043499, "question_id": 40006273, "link": "https://stackoverflow.com/questions/40006273/working-through-an-association-with-multiple-ids-rails-4-2-3/40043499#40043499", "title": "Working through an Association with multiple ID&#39;s (Rails 4.2.3)", "body": "<p>If you want the <code>List</code> object to be able to access the <code>:memberships</code> of the <code>Board</code> object then do...</p>\n\n<pre><code>class List &lt;&lt; ActiveRecord::Base\n\n  delegate :memberships, to: :board\n</code></pre>\n\n<p>Remove the \n<code>has_one :board, :through =&gt; :memberships, :source =&gt; :board</code> since that doesn't make sense... you already have a board relationship and you have no membership relationships to use to make a different board relationship.</p>\n"}], "owner": {"reputation": 117, "user_id": 4008080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f6d22e9b62c49a17d54c880d6914e62e?s=128&d=identicon&r=PG", "display_name": "chell", "link": "https://stackoverflow.com/users/4008080/chell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476449087, "creation_date": 1476298418, "last_edit_date": 1476448682, "question_id": 40006273, "link": "https://stackoverflow.com/questions/40006273/working-through-an-association-with-multiple-ids-rails-4-2-3", "title": "Working through an Association with multiple ID&#39;s (Rails 4.2.3)", "body": "<p>I am working through my first Rails project. I am creating an application where a user logs in and creates a board, and this board is specific to the user's ID. Inside that board, the user can create lists. Each list <em>should</em> be tied the ID of that board. The issue I'm having is with creating a list. It does not save. The specific error I'm seeing is <code>Could not find the association :memberships in model List</code> I can see there is an issue with the List being mapped to the Board's ID. When I'm looking at the output from the Rails server, I see that <em>showing</em> a board (which should show all the lists for that board) does not have a user ID or a board ID.</p>\n\n<p><strong>Showing the boards for a user</strong></p>\n\n<pre><code>Started GET \"/boards\" for ::1 at 2016-10-12 14:26:33 -0400\nProcessing by BoardsController#index as HTML\n  User Load (0.1ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT 1  [[\"id\", 1]]\n  Board Load (0.1ms)  SELECT \"boards\".* FROM \"boards\" WHERE \"boards\".\"user_id\" = ?  [[\"user_id\", 1]]\n  CACHE (0.0ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT 1  [[\"id\", 1]]\n  CACHE (0.0ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT 1  [[\"id\", 1]]\n  CACHE (0.0ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT 1  [[\"id\", 1]]\n  Rendered boards/index.html.erb within layouts/application (3.4ms)\n  Rendered layouts/_flash.html.erb (0.1ms)\nCompleted 200 OK in 168ms (Views: 166.1ms | ActiveRecord: 0.2ms)\n</code></pre>\n\n<p><strong>VS Showing the lists for that user</strong></p>\n\n<pre><code>Started GET \"/lists.3\" for ::1 at 2016-10-12 14:28:26 -0400\nProcessing by ListsController#index as\n  User Load (0.1ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT 1  [[\"id\", 1]]\n  List Load (0.3ms)  SELECT \"lists\".* FROM \"lists\"\n  Rendered lists/index.html.erb within layouts/application (2.3ms)\n  Rendered layouts/_flash.html.erb (0.1ms)\nCompleted 200 OK in 181ms (Views: 169.2ms | ActiveRecord: 0.9ms)\n</code></pre>\n\n<p>Relevant code ...</p>\n\n<p><strong>Models</strong></p>\n\n<p><strong>board.rb</strong></p>\n\n<pre><code>    class Board &lt; ActiveRecord::Base\n  belongs_to :owner, class_name: \"User\", foreign_key: \"user_id\"\n\n  has_many :lists\n  has_many :memberships\n  has_many :members, :through =&gt; :memberships, :source =&gt; :user\n  has_many :lists, :through =&gt; :memberships, :source =&gt; :board\n\n  validates_presence_of :title\n  validates_presence_of :owner\n\n  def is_private?\n    return self.is_private\n  end\nend\n</code></pre>\n\n<p><strong>list.rb</strong></p>\n\n<pre><code>class List &lt; ActiveRecord::Base\n  belongs_to :board\n  has_many :cards\n\n  has_one :board, :through =&gt; :memberships, :source =&gt; :board\n\n  validates_presence_of :title\n  validates_presence_of :board\nend\n</code></pre>\n\n<p><strong>user.rb</strong></p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_many :boards\n  has_many :lists\n  has_many :cards\n  has_many :memberships\n  has_many :board_memberships, :through =&gt; :memberships, :source =&gt; :board\n  has_many :list_memberships, :through =&gt; :memberships, :source =&gt; :board\n\n  has_secure_password\n\n  validates :password,\n    length: { :minimum =&gt; 8 },\n    presence: true\n\n  validates :username,\n    uniqueness: true,\n    presence: true\n\n  validates_confirmation_of :password\nend\n</code></pre>\n\n<p><strong>membership.rb</strong></p>\n\n<pre><code>class Membership &lt; ActiveRecord::Base\n  belongs_to :user\n  belongs_to :board\n\n  validates :user, presence: true, uniqueness: { scope: :board, message: \"User is already a member of that board\" }\n  validates :board, presence: true\nend\n</code></pre>\n\n<p><strong>Controllers</strong></p>\n\n<p><strong>boards_controller.rb</strong> (I've only added the relevant parts here)</p>\n\n<pre><code>    class BoardsController &lt; ApplicationController\n      before_action :set_board, only: [:show, :edit, :update, :destroy]\n      before_action :authenticate, except: [:show]\n      before_action :authorize, except: [:show]\n      before_action :authorize_owner, only: [:edit, :update, :destroy]\n      before_action :authorize_membership, only: [:show]\n\n      # GET /boards\n      # GET /boards.json\n      def index\n        @boards = current_user.boards\n      end\n\n      # GET /boards/1\n      # GET /boards/1.json\n      def show\n        @lists = current_user.board_id\n      end\n\n    private\n        def set_board\n          @board = Board.find(params[:id])\n        end\n\n        def board_params\n          params.require(:board).permit(:title, :is_private)\n        end\n\n        def authorize_owner\n          if current_user != @board.owner\n            redirect_to root_url, :notice =&gt; 'Board not found or inaccessible' and return\n          end\n        end\n\n        def authorize_membership\n          return\n          if @board.is_private?\n            if !authenticate\n              redirect_to root_url, :notice =&gt; 'Please login first' and return\n            end\n\n            if @board.owner != current_user || !@board.members.include?(current_user)\n              redirect_to root_url, :notice =&gt; 'Board not found or inaccessible' and return\n            end\n          end\n        end\n  # POST /boards\n  # POST /boards.json\n  def create\n    @board = Board.new(board_params)\n    @board.owner = current_user\n\n    respond_to do |format|\n      if @board.save\n        format.html { redirect_to @board, notice: 'Board was successfully created.' }\n        format.json { render :show, status: :created, location: @board }\n      else\n        format.html { render :new }\n        format.json { render json: @board.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n\n<p><strong>lists_controller.rb (entire file)</strong></p>\n\n<pre><code>class ListsController &lt; ApplicationController\n  before_action :set_list, only: [:show, :edit, :update, :destroy]\n  before_action :authenticate, except: [:show]\n\n  # GET /lists\n  # GET /lists.json\n  def index\n    @lists = List.all\n  end\n\n  # GET /lists/1\n  # GET /lists/1.json\n  def show\n    @lists = current_user.board_id\n  end\n\n  # GET /lists/new\n  def new\n    @list = List.new\n  end\n\n  # GET /lists/1/edit\n  def edit\n  end\n\n  # POST /lists\n  # POST /lists.json\n  def create\n    @list = List.new(list_params)\n\n    respond_to do |format|\n      if @list.save\n        format.html { redirect_to @list, notice: 'List was successfully created.' }\n        format.json { render :show, status: :created, location: @list }\n      else\n        format.html { render :new }\n        format.json { render json: @list.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PATCH/PUT /lists/1\n  # PATCH/PUT /lists/1.json\n  def update\n    respond_to do |format|\n      if @list.update(list_params)\n        format.html { redirect_to @list, notice: 'List was successfully updated.' }\n        format.json { render :show, status: :ok, location: @list }\n      else\n        format.html { render :edit }\n        format.json { render json: @list.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /lists/1\n  # DELETE /lists/1.json\n  def destroy\n    @list.destroy\n    respond_to do |format|\n      format.html { redirect_to lists_url, notice: 'List was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_list\n      @list = List.find(params[:id])\n    end\n\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def list_params\n      params.require(:list).permit(:title, :board_id)\n    end\nend\n</code></pre>\n\n<p>I have read through the several SO posts about nested models, as well as the Rails documentation. I know I have a knowledge gap <em>somewhere</em>. I would appreciate any direction, as my attempts at reading others' questions and trying solutions have failed.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 3997, "user_id": 3998420, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55ea542584d3fd2a430c3d409bdafc95?s=128&d=identicon&r=PG&f=1", "display_name": "bkunzi01", "link": "https://stackoverflow.com/users/3998420/bkunzi01"}, "edited": false, "score": 0, "creation_date": 1476299208, "post_id": 40005609, "comment_id": 67290933, "body": "Cool solution here just fit to meet your needs!   <a href=\"http://stackoverflow.com/questions/21669202/find-rows-with-multiple-duplicate-fields-with-active-record-rails-postgres\" title=\"find rows with multiple duplicate fields with active record rails postgres\">stackoverflow.com/questions/21669202/&hellip;</a>"}, {"owner": {"reputation": 7429, "user_id": 197302, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cb3f8a2021f4528c6e96896f6b217e82?s=128&d=identicon&r=PG", "display_name": "Toby", "link": "https://stackoverflow.com/users/197302/toby"}, "reply_to_user": {"reputation": 3997, "user_id": 3998420, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55ea542584d3fd2a430c3d409bdafc95?s=128&d=identicon&r=PG&f=1", "display_name": "bkunzi01", "link": "https://stackoverflow.com/users/3998420/bkunzi01"}, "edited": false, "score": 0, "creation_date": 1476300153, "post_id": 40005609, "comment_id": 67291450, "body": "Thanks @bkunzi01 but that is for multiple columns in one table, not across multiple tables."}], "answers": [{"tags": [], "owner": {"reputation": 1543, "user_id": 702436, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f3bd158296c95cb7da53ac38de00bd9?s=128&d=identicon&r=PG", "display_name": "Hass", "link": "https://stackoverflow.com/users/702436/hass"}, "is_accepted": true, "score": 1, "last_activity_date": 1476784403, "creation_date": 1476784403, "answer_id": 40105042, "question_id": 40005609, "link": "https://stackoverflow.com/questions/40005609/in-rails-5-what-is-the-best-way-to-show-duplicate-records-across-a-has-and-belon/40105042#40105042", "title": "In Rails 5 what is the best way to show duplicate records across a has_and_belongs_to_many and a belongs to relationship", "body": "<p>You could try this.</p>\n\n<pre><code>class Client &lt; ApplicationRecord\n  has_and_belongs_to_many :projects\n  has_many :leads, through: :projects\n\n  def duplicate_leads\n    duplicate_ids = leads.group(:email).having(\"count(email) &gt; 1\").count.keys\n    Lead.where(id: duplicate_ids)\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "is_accepted": false, "score": 0, "last_activity_date": 1476787541, "last_edit_date": 1495540795, "creation_date": 1476787541, "answer_id": 40106119, "question_id": 40005609, "link": "https://stackoverflow.com/questions/40005609/in-rails-5-what-is-the-best-way-to-show-duplicate-records-across-a-has-and-belon/40106119#40106119", "title": "In Rails 5 what is the best way to show duplicate records across a has_and_belongs_to_many and a belongs to relationship", "body": "<p>You could try creating a has_many association from Lead through Project back to Lead, in which you use a lambda to dynamically join based on a match on email between the two records, and on the id not matching. This would mark both records as a duplicate -- if you wanted to mark only one then you can require that the id of one is less than the id of the other.</p>\n\n<p>Some hints: <a href=\"https://stackoverflow.com/questions/2462203/rails-has-many-with-dynamic-conditions\">Rails has_many with dynamic conditions</a></p>\n"}], "owner": {"reputation": 7429, "user_id": 197302, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cb3f8a2021f4528c6e96896f6b217e82?s=128&d=identicon&r=PG", "display_name": "Toby", "link": "https://stackoverflow.com/users/197302/toby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 40105042, "answer_count": 2, "score": 1, "last_activity_date": 1476787541, "creation_date": 1476296105, "last_edit_date": 1476783094, "question_id": 40005609, "link": "https://stackoverflow.com/questions/40005609/in-rails-5-what-is-the-best-way-to-show-duplicate-records-across-a-has-and-belon", "title": "In Rails 5 what is the best way to show duplicate records across a has_and_belongs_to_many and a belongs to relationship", "body": "<p>Given the following model structures;</p>\n\n<pre><code>class Project &lt; ApplicationRecord\n  has_many :leads\n  has_and_belonds_to_many :clients\nend\n\nclass Lead &lt; ApplicationRecord\n  belongs_to :project\nend\n\nclass Client &lt; ApplicationRecord\n  has_and_belongs_to_many :projects\nend\n</code></pre>\n\n<p>How you would suggest reporting on duplicate leads across a <code>Client</code>?</p>\n\n<p>Right now I am doing something very gnarly with flattens and counts, it feels like there should be a 'Ruby way'.</p>\n\n<p>Ideally I would like the interface to be able to say either <code>Client.first.duplicate_leads</code> or <code>Lead.first.duplicate?</code>.</p>\n\n<h2>Current (terrible) solution</h2>\n\n<pre><code>@duplicate_leads = Client.all.map(&amp;:duplicate_leads).flatten\n\nClass Client\n  def duplicate_leads\n    leads = projects.includes(:leads).map(&amp;:leads).flatten\n    grouped_leads = leads.group_by(&amp;:email)\n    grouped_leads.select { |_, v| v.size &gt; 1 }.map { |a| a[1][0] }.flatten\n  end\nend\n</code></pre>\n\n<h2>Environment</h2>\n\n<ul>\n<li>Rails 5</li>\n<li>Ruby 2.3.1</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "edited": false, "score": 0, "creation_date": 1476818443, "post_id": 40005563, "comment_id": 67504164, "body": "where are you writing this <code>has_many :tags, -&gt; (user)...</code> ? In user.rb ?"}, {"owner": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "reply_to_user": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "edited": false, "score": 0, "creation_date": 1476821758, "post_id": 40005563, "comment_id": 67506075, "body": "@sajan correct - in <code>user.rb</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "edited": false, "score": 0, "creation_date": 1476826020, "post_id": 40117948, "comment_id": 67508262, "body": "That&#39;s correct - I&#39;m using <code>user.tags</code>. Also correct that the output is matching with what you said. Do you have an answer you think will solve? I&#39;m really looking for a replacement for the <code>finder_sql</code> (with <code>finder_sql</code> this can be done). Thanks."}], "tags": [], "owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "is_accepted": false, "score": 0, "last_activity_date": 1476824282, "creation_date": 1476824282, "answer_id": 40117948, "question_id": 40005563, "link": "https://stackoverflow.com/questions/40005563/has-many-finder-sql-replacement-in-rails-4-2/40117948#40117948", "title": "Has Many &#39;finder_sql&#39; Replacement in Rails 4.2", "body": "<p>So my guess is you are getting the error when you try to access <code>@user.tags</code> since you have that association inside the <code>user.rb</code>.</p>\n\n<p>So I think what happens is when we try to access the <code>@user.tags</code>, we are trying to fetch the <code>tags</code> of the user and to that rails will search <code>Tags</code> whose <code>user_id</code> matches with currently supplied user's id. Since rails takes association name as <code>modelname_id</code> format by default, even if you don't have <code>user_id</code> it will try to search in that column and it will search (or add <code>WHERE \"tags\".\"user_id\"</code>) no matter you want it to or not since ultimate goal is to find <code>tags</code> that are belongs to current user.</p>\n\n<p>Of course my answer may not explain it 100%. Feel free to comment your thought or If you find anything wrong, let me know. </p>\n"}, {"comments": [{"owner": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "edited": false, "score": 0, "creation_date": 1476829156, "post_id": 40118691, "comment_id": 67509463, "body": "Try <code>User.preload(:tags).each { |user| puts user.tags.inspect }</code> and you&#39;ll see the bad cardinality queries."}, {"owner": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "edited": false, "score": 0, "creation_date": 1476829280, "post_id": 40118691, "comment_id": 67509500, "body": "Don&#39;t think this fixes the problem - do you see the massive selects if you run the snippet pasted above?"}, {"owner": {"reputation": 3180, "user_id": 4659816, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5TNaW.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/4659816/david"}, "reply_to_user": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "edited": false, "score": 0, "creation_date": 1476829755, "post_id": 40118691, "comment_id": 67509632, "body": "ah you just moved the goalposts XD .. I shall have a quick look"}, {"owner": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "edited": false, "score": 0, "creation_date": 1476830076, "post_id": 40118691, "comment_id": 67509723, "body": "Yeah - sorry didn&#39;t realize this was going to be unclear. I am looking for a replacement / equivalency for <code>finder_sql</code> that works in multiple cases - and the original queries showed what I&#39;m seeing."}, {"owner": {"reputation": 3180, "user_id": 4659816, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5TNaW.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/4659816/david"}, "reply_to_user": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "edited": false, "score": 0, "creation_date": 1476831851, "post_id": 40118691, "comment_id": 67510155, "body": "closest i get is using has_many :tags, -&gt; { distinct }, through: :articles"}], "tags": [], "owner": {"reputation": 3180, "user_id": 4659816, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5TNaW.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/4659816/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1476831733, "last_edit_date": 1476831733, "creation_date": 1476827390, "answer_id": 40118691, "question_id": 40005563, "link": "https://stackoverflow.com/questions/40005563/has-many-finder-sql-replacement-in-rails-4-2/40118691#40118691", "title": "Has Many &#39;finder_sql&#39; Replacement in Rails 4.2", "body": "<p><strong>Short Answer</strong></p>\n\n<p>Ok, if I understand this correctly I think I have the solution, that just uses the core ActiveRecord utilities and does not use finder_sql.</p>\n\n<p>Could potentially use:</p>\n\n<pre><code>user.tags.all.distinct\n</code></pre>\n\n<p>Or alternatively, in the user model change the has_many tags to</p>\n\n<pre><code>has_many :tags, -&gt; {distinct}, through: :articles\n</code></pre>\n\n<p>You could create a helper method in user to retrieve this:</p>\n\n<pre><code>def distinct_tags\n  self.tags.all.distinct\nend\n</code></pre>\n\n<p><strong>The Proof</strong></p>\n\n<p>From your question I believe you have the following scenario:</p>\n\n<ol>\n<li>A user can have many articles.</li>\n<li>An article belongs to a single user.</li>\n<li>Tags can belong to many articles.</li>\n<li>Articles can have many tags.</li>\n<li>You want to retrieve all the distinct tags a user has associated with the articles they have created.</li>\n</ol>\n\n<p>With that in mind I created the following migrations:</p>\n\n<pre><code>class CreateUsers &lt; ActiveRecord::Migration\n  def change\n    create_table :users do |t|\n      t.string :name, limit: 255\n\n      t.timestamps null: false\n    end\n  end\nend\n\nclass CreateArticles &lt; ActiveRecord::Migration\n  def change\n    create_table :articles do |t|\n      t.string :name, limit: 255\n      t.references :user, index: true, null: false\n\n      t.timestamps null: false\n    end\n\n    add_foreign_key :articles, :users\n  end\nend\n\nclass CreateTags &lt; ActiveRecord::Migration\n  def change\n    create_table :tags do |t|\n      t.string :name, limit: 255\n\n      t.timestamps null: false\n    end\n  end\nend\n\nclass CreateArticlesTagsJoinTable &lt; ActiveRecord::Migration\n  def change\n    create_table :articles_tags do |t|\n      t.references  :article, index: true, null:false\n      t.references  :tag, index: true, null: false\n    end\n\n    add_index :articles_tags, [:tag_id, :article_id], unique: true\n    add_foreign_key :articles_tags, :articles\n    add_foreign_key :articles_tags, :tags\n  end\nend\n</code></pre>\n\n<p>And the models:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_many :articles\n  has_many :tags, through: :articles\n\n  def distinct_tags\n    self.tags.all.distinct\n  end\nend\n\nclass Article &lt; ActiveRecord::Base\n  belongs_to :user\n  has_and_belongs_to_many :tags\nend\n\nclass Tag &lt; ActiveRecord::Base\n  has_and_belongs_to_many :articles\nend\n</code></pre>\n\n<p>Next seed the database with a lot of data:</p>\n\n<pre><code>10.times do |tagcount|\n  Tag.create(name: \"tag #{tagcount+1}\")\nend\n\n5.times do |usercount|\n  user = User.create(name: \"user #{usercount+1}\")\n\n  1000.times do |articlecount|\n    article = Article.new(user: user)\n    5.times do |tagcount|\n      article.tags &lt;&lt; Tag.find(tagcount+usercount+1)\n    end\n    article.save\n  end\nend\n</code></pre>\n\n<p>Finally in rails console:</p>\n\n<pre><code>user = User.find(3)\nuser.distinct_tags\n</code></pre>\n\n<p>results in following output:</p>\n\n<pre><code>  Tag Load (0.4ms)  SELECT DISTINCT `tags`.* FROM `tags` INNER JOIN `articles_tags` ON `tags`.`id` = `articles_tags`.`tag_id` INNER JOIN `articles` ON `articles_tags`.`article_id` = `articles`.`id` WHERE `articles`.`user_id` = 3\n =&gt; #&lt;ActiveRecord::AssociationRelation [#&lt;Tag id: 3, name: \"tag 3\", created_at: \"2016-10-18 22:00:52\", updated_at: \"2016-10-18 22:00:52\"&gt;, #&lt;Tag id: 4, name: \"tag 4\", created_at: \"2016-10-18 22:00:52\", updated_at: \"2016-10-18 22:00:52\"&gt;, #&lt;Tag id: 5, name: \"tag 5\", created_at: \"2016-10-18 22:00:52\", updated_at: \"2016-10-18 22:00:52\"&gt;, #&lt;Tag id: 6, name: \"tag 6\", created_at: \"2016-10-18 22:00:52\", updated_at: \"2016-10-18 22:00:52\"&gt;, #&lt;Tag id: 7, name: \"tag 7\", created_at: \"2016-10-18 22:00:52\", updated_at: \"2016-10-18 22:00:52\"&gt;]&gt; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "edited": false, "score": 0, "creation_date": 1476832710, "post_id": 40119250, "comment_id": 67510354, "body": "The view appears to work (although it is readonly - but that makes sense). It doesn&#39;t dump to my schema (probably a separate issue) and readonly doesn&#39;t seem to change anything (but it raises an exception when attempting to assign). This might be the best effort (although a bit annoying requiring a view)."}], "tags": [], "owner": {"reputation": 34621, "user_id": 259900, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c78e40f8fc27a048f10ece6956a2fdf2?s=128&d=identicon&r=PG", "display_name": "Kevin Sylvestre", "link": "https://stackoverflow.com/users/259900/kevin-sylvestre"}, "is_accepted": true, "score": 3, "last_activity_date": 1476831715, "last_edit_date": 1476831715, "creation_date": 1476830346, "answer_id": 40119250, "question_id": 40005563, "link": "https://stackoverflow.com/questions/40005563/has-many-finder-sql-replacement-in-rails-4-2/40119250#40119250", "title": "Has Many &#39;finder_sql&#39; Replacement in Rails 4.2", "body": "<p>While this doesn't fix your problem directly - if you only need a subset of your data you can potentially preload it via a subselect:</p>\n\n<pre><code>users = User.select('\"users\".*\"').select('COALESCE((SELECT ARRAY_AGG(DISTINCT \"tags\".\"name\") ... WHERE \"articles\".\"user_id\" = \"users\".\"id\"), '{}') AS tag_names')\nusers.each do |user|\n  puts user[:tag_names].join(' ')\nend\n</code></pre>\n\n<p>The above is DB specific for Postgres (due to <code>ARRAY_AGG</code>) but an equivalent solution probably exists for other databases.</p>\n\n<p>An alternative option might be to setup a view as a fake join table (again requires database support):</p>\n\n<pre><code>CREATE OR REPLACE VIEW tags_users AS (\n  SELECT \n    \"users\".\"id\" AS \"user_id\", \n    \"tags\".\"id\" AS \"tag_id\"\n  FROM \"users\"\n    JOIN \"articles\" ON \"users\".\"id\" = \"articles\".\"user_id\"\n    JOIN \"articles_tags\" ON \"articles\".\"id\" = \"articles_tags\".\"article_id\"\n    JOIN \"tags\" ON \"articles_tags\".\"tag_id\" = \"tags\".\"id\"\n  GROUP BY \"user_id\", \"tag_id\"\n)\n</code></pre>\n\n<p>Then you can use <code>has_and_belongs_to_many :tags</code> (haven't tested - may want to set to <code>readonly</code> and can remove some of the joins and use if you have proper foreign key constraints setup).</p>\n"}, {"tags": [], "owner": {"reputation": 843, "user_id": 2705962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43e0615c7b33faefac277423391397e?s=128&d=identicon&r=PG&f=1", "display_name": "Semjon", "link": "https://stackoverflow.com/users/2705962/semjon"}, "is_accepted": false, "score": 0, "last_activity_date": 1476878149, "creation_date": 1476878149, "answer_id": 40130762, "question_id": 40005563, "link": "https://stackoverflow.com/questions/40005563/has-many-finder-sql-replacement-in-rails-4-2/40130762#40130762", "title": "Has Many &#39;finder_sql&#39; Replacement in Rails 4.2", "body": "<p>May be it is helpful to use <a href=\"http://api.rubyonrails.org/v4.0.1/classes/ActiveRecord/QueryMethods.html#method-i-eager_load\" rel=\"nofollow\">eager_load</a> to force ActiveRecord execute joins. It works as <code>includes(:tags).references(:tags)</code></p>\n\n<p>Here is a code snippet:</p>\n\n<pre><code>users.eager_load(:tags).map { |user| user.tag.inspect }\n# equal to\nusers.includes(:tags).references(:tags).map { |user| user.tag.inspect }\n</code></pre>\n\n<p>Where <code>users</code> - is an ActiveRecord relation.</p>\n\n<p>This code will hit a database at least twice:</p>\n\n<ol>\n<li>Select only users ids (hopefully, not too many)</li>\n<li>Select users with joins tags through article_tags avoiding </li>\n</ol>\n\n<blockquote>\n  <p>SELECT * FROM article_tags WHERE article_id IN (1,2,3...) -- a lot</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 20458, "user_id": 122087, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/431c64e3e3fd0c892ad2a7e4150cf63e?s=128&d=identicon&r=PG", "display_name": "Paul A Jungwirth", "link": "https://stackoverflow.com/users/122087/paul-a-jungwirth"}, "is_accepted": false, "score": 0, "last_activity_date": 1476915453, "creation_date": 1476915453, "answer_id": 40142423, "question_id": 40005563, "link": "https://stackoverflow.com/questions/40005563/has-many-finder-sql-replacement-in-rails-4-2/40142423#40142423", "title": "Has Many &#39;finder_sql&#39; Replacement in Rails 4.2", "body": "<p>You are on the right path with <code>has_many :tags, through: :articles</code> (or even better <code>has_many :tags, -&gt; {distinct}, through: :articles</code> as Kevin suggests). But you should read a bit about <a href=\"http://blog.arkency.com/2013/12/rails4-preloading/\" rel=\"nofollow\">includes vs preload vs eager_load</a>. You are doing this:</p>\n\n<pre><code>User.preload(:tags).each {|u| ... }\n</code></pre>\n\n<p>But you should do this:</p>\n\n<pre><code>User.eager_load(:tags).each {|u| ... }\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>User.includes(:tags).references(:tags).each {|u| ... }\n</code></pre>\n\n<p>When I do that I get this query:</p>\n\n<pre><code>SELECT  \"users\".\"id\" AS t0_r0,\n        \"tags\".\"id\" AS t1_r0,\n        \"tags\".\"name\" AS t1_r1\nFROM    \"users\"\nLEFT OUTER JOIN \"articles\"\nON      \"articles\".\"user_id\" = \"users\".\"id\"\nLEFT OUTER JOIN \"articles_tags\"\nON      \"articles_tags\".\"article_id\" = \"articles\".\"id\"\nLEFT OUTER JOIN \"tags\"\nON      \"tags\".\"id\" = \"articles_tags\".\"tag_id\"\n</code></pre>\n\n<p>But that is still going to send a lot of redundant stuff from the database to your app. This will be faster:</p>\n\n<pre><code>User.eager_load(:tags).distinct.each {|u| ... }\n</code></pre>\n\n<p>Giving:</p>\n\n<pre><code>SELECT  DISTINCT \"users\".\"id\" AS t0_r0,\n        \"tags\".\"id\" AS t1_r0,\n        \"tags\".\"name\" AS t1_r1\nFROM    \"users\"\nLEFT OUTER JOIN \"articles\"\nON      \"articles\".\"user_id\" = \"users\".\"id\"\nLEFT OUTER JOIN \"articles_tags\"\nON       \"articles_tags\".\"article_id\" = \"articles\".\"id\"\nLEFT OUTER JOIN \"tags\"\nON \"tags\".\"id\" = \"articles_tags\".\"tag_id\"\n</code></pre>\n\n<p>Doing just <code>User.first.tags.map &amp;:name</code> gets me joins too:</p>\n\n<pre><code>SELECT  DISTINCT \"tags\".*\nFROM    \"tags\"\nINNER JOIN \"articles_tags\"\nON      \"tags\".\"id\" = \"articles_tags\".\"tag_id\"\nINNER JOIN \"articles\"\nON      \"articles_tags\".\"article_id\" = \"articles\".\"id\"\nWHERE   \"articles\".\"user_id\" = ?\n</code></pre>\n\n<p>For more details, please see this <a href=\"https://github.com/pjungwir/finder_sql_demonstration\" rel=\"nofollow\">github repo</a> with an rspec test to see what SQL Rails is using.</p>\n"}, {"tags": [], "owner": {"reputation": 62179, "user_id": 163203, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/354dbc60f05bbc3ea25cdf2c14540caf?s=128&d=identicon&r=PG", "display_name": "Harish Shetty", "link": "https://stackoverflow.com/users/163203/harish-shetty"}, "is_accepted": false, "score": 0, "last_activity_date": 1477441308, "last_edit_date": 1477441308, "creation_date": 1477074550, "answer_id": 40183270, "question_id": 40005563, "link": "https://stackoverflow.com/questions/40005563/has-many-finder-sql-replacement-in-rails-4-2/40183270#40183270", "title": "Has Many &#39;finder_sql&#39; Replacement in Rails 4.2", "body": "<p>There are three possible solutions:</p>\n\n<p>1) Continue to use <code>has_many</code> associations</p>\n\n<p>Fake <code>user_id</code> column by adding it to the selected columns.</p>\n\n<pre><code>  class User &lt; ActiveRecord::Base\n    has_many :tags, -&gt; (user) {\n      select(%Q{DISTINCT \"tags\".*, #{user_id} AS user_id })\n        .joins('JOIN \"articles_tags\" ON \"articles_tags\".\"tag_id\" = \"tags\".\"id\"')\n        .joins('JOIN \"articles\" ON \"article_tags\".\"article_id\" = \"articles\".\"id\"')\n        .where('\"articles\".\"user_id\" = ?', user.id)\n    }, class_name: \"Tag\"\n  end\n</code></pre>\n\n<p>2) Add an instance method on the User class</p>\n\n<p>If you are using <code>tags</code> for queries only and you haven't used it in joins you can use this approach:</p>\n\n<pre><code>class User\n  def tags\n   select(%Q{DISTINCT \"tags\".*})\n        .joins('JOIN \"articles_tags\" ON \"articles_tags\".\"tag_id\" = \"tags\".\"id\"')\n        .joins('JOIN \"articles\" ON \"article_tags\".\"article_id\" = \"articles\".\"id\"')\n        .where('\"articles\".\"user_id\" = ?', id)\n  end\nend\n</code></pre>\n\n<p>Now <code>user.tags</code> behaves like an association for all practical purposes.</p>\n\n<p>3) OTOH, using <code>EXISTS</code> might be performant than using distinct</p>\n\n<pre><code>  class User &lt; ActiveRecord::Base\n    def tags\n      exists_sql = %Q{\n        SELECT  1\n        FROM    articles,\n                articles_tags\n        WHERE   \"articles\".\"user_id\" = #{id} AND\n                \"articles_tags\".\"article_id\" = \"article\".\"id\" AND\n                \"articles_tags\".\"tag_id\" = \"tags.id\"\n      }\n      Tag.where(%Q{ EXISTS ( #{exists_sql} ) })\n    end\n  end\n</code></pre>\n"}], "owner": {"reputation": 3205, "user_id": 370858, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1700551a025974d665ce034f1b1aec4f?s=128&d=identicon&r=PG", "display_name": "Stussa", "link": "https://stackoverflow.com/users/370858/stussa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 2, "accepted_answer_id": 40119250, "answer_count": 6, "score": 7, "last_activity_date": 1477441308, "creation_date": 1476295971, "last_edit_date": 1476829014, "question_id": 40005563, "link": "https://stackoverflow.com/questions/40005563/has-many-finder-sql-replacement-in-rails-4-2", "title": "Has Many &#39;finder_sql&#39; Replacement in Rails 4.2", "body": "<p>I've got an association that needs a few joins / custom queries. When trying to figure out how to implement this the repeated response is <code>finder_sql</code>. However in Rails 4.2 (and above):</p>\n\n<blockquote>\n  <p>ArgumentError: Unknown key: :finder_sql</p>\n</blockquote>\n\n<p>My query to do the join looks like this:</p>\n\n<pre><code>'SELECT DISTINCT \"tags\".*' \\\n' FROM \"tags\"' \\\n' JOIN \"articles_tags\" ON \"articles_tags\".\"tag_id\" = \"tags\".\"id\"' \\\n' JOIN \"articles\" ON \"article_tags\".\"article_id\" = \"articles\".\"id\"' \\\n' WHERE articles\".\"user_id\" = #{id}'\n</code></pre>\n\n<p>I understand that this can be achieved via:</p>\n\n<pre><code>has_many :tags, through: :articles\n</code></pre>\n\n<p>However if the cardinality of the join is large (i.e. a user has thousands of articles - but the system only has a few tags) it requires loading all the articles / tags:</p>\n\n<pre><code>SELECT * FROM articles WHERE user_id IN (1,2,...)\nSELECT * FROM article_tags WHERE article_id IN (1,2,3...) -- a lot\nSELECT * FROM tags WHERE id IN (1,2,3) -- a few\n</code></pre>\n\n<p>And of course also curious about the general case. </p>\n\n<p>Note: also tried using the proc syntax but can't seem to figure that out:</p>\n\n<pre><code>has_many :tags, -&gt; (user) {\n  select('DISTINCT \"tags\".*')\n    .joins('JOIN \"articles_tags\" ON \"articles_tags\".\"tag_id\" = \"tags\".\"id\"')\n    .joins('JOIN \"articles\" ON \"article_tags\".\"article_id\" = \"articles\".\"id\"')\n    .where('\"articles\".\"user_id\" = ?', user.id)\n}, class_name: \"Tag\"\n</code></pre>\n\n<blockquote>\n  <p>ActiveRecord::StatementInvalid: PG::UndefinedColumn: ERROR:  column tags.user_id does not exist</p>\n  \n  <p>SELECT DISTINCT \"tags\".* FROM \"tags\" JOIN \"articles_tags\" ON \"articles_tags\".\"tag_id\" = \"tags\".\"id\" JOIN \"articles\" ON \"article_tags\".\"article_id\" = \"articles\".\"id\" WHERE \"tags\".\"user_id\" = $1 AND (\"articles\".\"user_id\" = 1)</p>\n</blockquote>\n\n<p>That is it looks like it is trying to inject the <code>user_id</code> onto tags automatically (and that column only exists on articles). Note: I'm preloading for multiple users so can't use <code>user.tags</code> without other fixes (the SQL pasted is what I'm seeing using exactly that!). Thoughts?</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver", "watir", "watir-webdriver"], "comments": [{"owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "edited": false, "score": 1, "creation_date": 1476296306, "post_id": 40005524, "comment_id": 67289218, "body": "I think the answer will depend on how the data can vary. Can you show what the different variations that the blocks can be? You mention that the company title might not be present, but it is hard to tell what that exactly means in terms of the HTML layout. Which other fields might be optional? (It would also help if you could paste the HTML as opposed to a screenshot - this makes it easier for us to copy and verify solutions.)"}, {"owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "reply_to_user": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "edited": false, "score": 0, "creation_date": 1476296605, "post_id": 40005524, "comment_id": 67289411, "body": "@JustinKo, let me check."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1476297087, "post_id": 40005524, "comment_id": 67289671, "body": "Can you give us a link to one of the pages? That would go a long way in helping us to come up with a solution that would work consistently."}, {"owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "edited": false, "score": 0, "creation_date": 1476297125, "post_id": 40005524, "comment_id": 67289696, "body": "<a href=\"https://postimg.org/gallery/2bdrpopdc/01c6fffe/\" rel=\"nofollow noreferrer\">postimg.org/gallery/2bdrpopdc/01c6fffe</a>"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1476297609, "post_id": 40005524, "comment_id": 67289993, "body": "Welcome to Stack Overflow. Please read &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. We need the minimum sample HTML as text in the question, not as an image. We also need the minimum code you wrote that demonstrates the problem. Without that we&#39;d either have to write a tutorial, with is off-topic because your question is too broad. Without the HTML as text we have to type it in, or we have to extract it from whatever site you got it from, which wastes our time trying to help you. So, help us help you."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1476298374, "post_id": 40005524, "comment_id": 67290460, "body": "That HTML needs to be reduced to the minimum necessary to demonstrate the problem and then put into the question itself. Asking us to go to a page and sift through it wastes our time. We expect you to put in that effort if you want us to put in our effort."}, {"owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476298514, "post_id": 40005524, "comment_id": 67290533, "body": "@theTinMan, that&#39;s what the screenshot was for. So... you want a text-version of the screenshot is what you&#39;re saying?"}, {"owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "edited": false, "score": 0, "creation_date": 1476298727, "post_id": 40005524, "comment_id": 67290651, "body": "Screenshots are lazy? What must I do to appease?"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 3, "creation_date": 1476303103, "post_id": 40005524, "comment_id": 67293013, "body": "Screenshots of text are frowned upon on SO. Ideally you would post the HTML as text. It&#39;s easier for readers to grab the text and use it, if needed, which makes people more likely to help answer the question. Screenshots are better used for pictures of the UI, etc."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1476304313, "post_id": 40005524, "comment_id": 67293637, "body": "Screen shots of data, especially input data, are lazy. They&#39;re convenient for you but very inconvenient for anyone trying to help you, because we invariably need to recreate that just to test the code you submitted plus test our answers. Remember, you&#39;re asking us to help you for free, so it&#39;s only fair you do you part and make it as easy as possible for us."}], "answers": [{"tags": [], "owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 1, "last_activity_date": 1476297676, "creation_date": 1476297676, "answer_id": 40006081, "question_id": 40005524, "link": "https://stackoverflow.com/questions/40005524/having-trouble-parsing-these-data-in-watir-webdriver/40006081#40006081", "title": "Having trouble parsing these data in watir-webdriver", "body": "<p>You can split out everything inside the <code>&lt;div&gt;</code> and then split that by <code>&lt;br&gt;</code>. The first part is Company Title (if exists) and then Company Owner is last/second.</p>\n\n<p>The rest is ... trickier. Some are pretty straighforward in that Fax and Member Since have labels so those are easy. The <code>&lt;a&gt;</code> is easy.</p>\n\n<p>You could probably test the phone number with a regex and then back up from there. If the one before the phone number isn't <code>&lt;a&gt;</code> then it's city, state zip and the one before that is the address. If one exists before that, it's the Company Owner Title.</p>\n\n<p>Everything after the phone number in your examples have labels so those are easy.</p>\n"}, {"tags": [], "owner": {"reputation": 3480, "user_id": 4072371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112e615d8c60908294e30848d9556186?s=128&d=identicon&r=PG", "display_name": "titusfortner", "link": "https://stackoverflow.com/users/4072371/titusfortner"}, "is_accepted": false, "score": 1, "last_activity_date": 1476297780, "creation_date": 1476297780, "answer_id": 40006100, "question_id": 40005524, "link": "https://stackoverflow.com/questions/40005524/having-trouble-parsing-these-data-in-watir-webdriver/40006100#40006100", "title": "Having trouble parsing these data in watir-webdriver", "body": "<p>I'm not sure all of your use cases, but often for pages where the DOM is not very helpful I just get the text and parse with Ruby:</p>\n\n<pre><code>browser.td.text.split(\"\\n\").reject(&amp;:empty?)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "edited": false, "score": 0, "creation_date": 1476298596, "post_id": 40006192, "comment_id": 67290572, "body": "Received error upon install: <code>ERROR:  While executing gem ... (Errno::EPERM)     Operation not permitted - &#47;usr&#47;bin&#47;nokogiri</code>"}, {"owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "edited": false, "score": 0, "creation_date": 1476298634, "post_id": 40006192, "comment_id": 67290600, "body": "This is what I ran: <code>sudo gem install nokogiri</code>"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "reply_to_user": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "edited": false, "score": 1, "creation_date": 1476304162, "post_id": 40006192, "comment_id": 67293563, "body": "I don&#39;t know enough about your system to help based on that little bit of information. Also, that&#39;d be a separate question. Installing Nokogiri is covered well on the site."}], "tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 1, "last_activity_date": 1476298146, "creation_date": 1476298146, "answer_id": 40006192, "question_id": 40005524, "link": "https://stackoverflow.com/questions/40005524/having-trouble-parsing-these-data-in-watir-webdriver/40006192#40006192", "title": "Having trouble parsing these data in watir-webdriver", "body": "<p>This doesn't directly answer the question, but it shows how I'd go about doing this using Nokogiri, which is the standard HTML/XML parser for Ruby:</p>\n\n<pre><code>require 'nokogiri'\n\ndoc = Nokogiri::HTML('&lt;td&gt;&lt;div&gt;&lt;/div&gt;&lt;br&gt;a&lt;br&gt;b&lt;br&gt;c&lt;/td&gt;')\n</code></pre>\n\n<p><code>doc</code> is Nokogiri's internal representation of the document.</p>\n\n<p>We use landmarks in the markup to navigate and find things we want. In this case <code>&lt;div&gt;</code> is a good starting point:</p>\n\n<pre><code>doc.at('div').next_sibling.next_sibling.text # =&gt; \"a\"\n</code></pre>\n\n<p><code>next_sibling</code> is how we tell Nokogiri to look at the next node. In this case it's stepping past the first <code>&lt;br&gt;</code> and looking at the <code>a</code> TextNode.</p>\n\n<p>That'd result in unworkable code though, so there's a better way to go:</p>\n\n<pre><code>doc.search('td br').to_html # =&gt; \"&lt;br&gt;&lt;br&gt;&lt;br&gt;\"\n</code></pre>\n\n<p>That shows we can find all the <code>&lt;br&gt;</code> tags inside the <code>&lt;td&gt;</code>, so we just have to iterate over them and use them as our landmarks:</p>\n\n<pre><code>doc.search('td br').map{ |br| br.next_sibling.text } # =&gt; [\"a\", \"b\", \"c\"]\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1476298925, "creation_date": 1476295798, "last_edit_date": 1476298925, "question_id": 40005524, "link": "https://stackoverflow.com/questions/40005524/having-trouble-parsing-these-data-in-watir-webdriver", "title": "Having trouble parsing these data in watir-webdriver", "body": "<p>See hierarchy below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ps76g.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Ps76g.png\" alt=\"enter image description here\"></a></p>\n\n<p>All I need here is \"Company Title\", \"Company Owner\", \"Company Owner Title\", \"Street Number Street Name\", and \"City, State Zipcode\".</p>\n\n<p>I tried <code>b.div.span.bs</code>, but that didn't work (<code>bs</code> because there are multiple blocks I'm gathering data from). I also thought I'd just try something like <code>b.tds.split('&lt;br&gt;')</code> and then replace all instances of tags and somehow delete empty array cells, but I found that each block is different, so the data don't align, i.e., Company Title might be in cell 1 for the first array, but then if Company Title isn't present (for the second block) then cell 1 would be Company Owner, which is conflicting... Anyway, just trying to find a clever way to get these data. Thank you.</p>\n\n<p><a href=\"http://www.shoutkey.com/least\" rel=\"nofollow\">Here</a> is the actual HTML; however <strong>you must first click \"View All\".</strong></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 3832, "user_id": 136508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391f9b787cdc12aa2c179713f5103e3a?s=128&d=identicon&r=PG", "display_name": "ilan berci", "link": "https://stackoverflow.com/users/136508/ilan-berci"}, "edited": false, "score": 0, "creation_date": 1476295208, "post_id": 40005254, "comment_id": 67288593, "body": "Fire up a debugger (pry, byebug, etc...).  Any serious Rails development will require one anyways"}], "answers": [{"tags": [], "owner": {"reputation": 2460, "user_id": 3940126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0222b0a3b16a79649265eabba7e05add?s=128&d=identicon&r=PG&f=1", "display_name": "slowjack2k", "link": "https://stackoverflow.com/users/3940126/slowjack2k"}, "is_accepted": false, "score": 2, "last_activity_date": 1476295653, "creation_date": 1476295653, "answer_id": 40005484, "question_id": 40005254, "link": "https://stackoverflow.com/questions/40005254/not-able-to-save-data-into-model/40005484#40005484", "title": "Not able to save data into Model", "body": "<p>If you are unsure why your object is not created, you have multiple options.\nFirst you can use <code>@invoice.save!</code> instead of <code>@invoice.save</code> during debugging. This will raise an exception and give you some clues, what's going wrong.</p>\n\n<p>Or you can use a debugger and inspect <code>@invoice.errors.full_messages</code>.</p>\n\n<p>Further more you can output <code>@invoice.errors.full_messages</code> via <code>Rails.logger.error @invoice.errors.full_messages.to_sentence</code>.</p>\n\n<p>Or you can use the error message as a flash message <code>flash[:error] = @item.errors.full_messages.to_sentence</code></p>\n\n<p>This should help you find the error.</p>\n"}, {"tags": [], "owner": {"reputation": 210, "user_id": 3456978, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/717526bc961e5fee52fab86322b52568?s=128&d=identicon&r=PG&f=1", "display_name": "user3456978", "link": "https://stackoverflow.com/users/3456978/user3456978"}, "is_accepted": false, "score": 0, "last_activity_date": 1476384577, "last_edit_date": 1495541791, "creation_date": 1476296332, "answer_id": 40005690, "question_id": 40005254, "link": "https://stackoverflow.com/questions/40005254/not-able-to-save-data-into-model/40005690#40005690", "title": "Not able to save data into Model", "body": "<p>from: <a href=\"https://stackoverflow.com/questions/19761766/build-method-on-ruby-on-rails\">build method on ruby on rails</a></p>\n\n<p>build won't \"create\" a record in database, just create a new object in memory so that the view can take this object and display something, especially for a form.</p>\n\n<p>So build isn't working because you aren't creating (create and saving) a record. build doesn't save a record.</p>\n\n<p>Try:</p>\n\n<pre><code>def create\n  @permit = Permit.find(params[:permit_id])\n  @invoice = @permit.invoices.create(invoice_params)\n  if @invoice.save\n    redirect_to payment_path\n  else\n    redirect_to root_path\n end\nend\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4223268, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/8ec3bb31a088e75ad3476310a33efa13?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Vlc", "link": "https://stackoverflow.com/users/4223268/gary-vlc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476384577, "creation_date": 1476294890, "last_edit_date": 1476295055, "question_id": 40005254, "link": "https://stackoverflow.com/questions/40005254/not-able-to-save-data-into-model", "title": "Not able to save data into Model", "body": "<p>I can't save the data into my model. Every time when the code run it will ran into the else statement which failed to save the data in the CREATE action. Any idea?</p>\n\n<p>This is my invoices_controller.rb</p>\n\n<p>class InvoicesController &lt; ApplicationController</p>\n\n<pre><code>  def new\n    @permits = Permit.find(params[:permit_id])\n    @invoice = Invoice.new\n  end\n\n  def create\n    @permit = Permit.find(params[:permit_id])\n    @invoice = @permit.build_invoice(invoice_params)\n    if @invoice.save\n      redirect_to payment_path\n    else\n      redirect_to root_path\n    end\n  end\n\n  private\n  # Use callbacks to share common setup or constraints between actions.\n  def set_invoice\n    @invoice = Invoice.find(params[:id])\n  end\n\n  # Never trust parameters from the scary internet, only allow the white list through.\n  def invoice_params\n    params.require(:invoice).permit(:vehicle_type, :name, :department, :carplate, :duration, :permitstart, :permitend, :price, :time)\n  end\nend\n</code></pre>\n\n<p>Invoices/new.html.erb ( This is the data I wanted to save)</p>\n\n<pre><code>&lt;% provide(:title, 'Invoice') %&gt;\n&lt;h1&gt;Invoice&lt;/h1&gt;\n\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-6 col-md-offset-3\" id=\"datashow\"&gt;\n\n    &lt;%= form_for(@invoice) do |f| %&gt;\n    &lt;h2&gt;Time : &lt;%=@permits.created_at%&gt;&lt;/h2&gt;&lt;/br&gt;\n    &lt;h2&gt;Invoice ID : &lt;%=@permits.id%&gt;&lt;/h2&gt;&lt;/br&gt;\n\n        &lt;%= f.label :\"Vehicle\" %&gt;\n        &lt;%= f.text_field :vehicle_type, :value =&gt; @permits.vehicle_type, readonly: true %&gt;\n\n        &lt;%= f.label :\"License Plate\" %&gt;\n        &lt;%= f.text_field :carplate, :value =&gt; @permits.carplate, readonly: true %&gt;\n\n        &lt;%= f.label :\"Student ID\" %&gt;\n        &lt;%= f.text_field :studentid, :value =&gt; @permits.studentid, readonly: true %&gt;\n\n        &lt;%= f.label :name %&gt;\n        &lt;%= f.text_field :name, :value =&gt; @permits.name, readonly: true %&gt;\n\n        &lt;%= f.label :\"Department of applicant\" %&gt;\n        &lt;%= f.text_field :department, :value =&gt; @permits.department, readonly: true %&gt;\n\n        &lt;%= f.label :permit_start %&gt;\n        &lt;%= f.text_field :permitstart, :value =&gt; @permits.permitstart, readonly: true %&gt;\n\n        &lt;%= f.label :permit_end %&gt;\n        &lt;%= f.text_field :permitend,  :value =&gt; @permits.permitend, readonly: true  %&gt;\n\n    &lt;%= f.label :\"Price\" %&gt;\n    &lt;%= (f.text_field :price,  :value =&gt; '$AUD 50'  , readonly: true) %&gt;\n\n        &lt;%= hidden_field_tag(:permit_id, @permits.id) %&gt;\n        &lt;%= f.submit \"Make Payment\", class: \"btn btn-primary\" %&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Invoice.rb</p>\n\n<pre><code>class Invoice &lt; ApplicationRecord\n  belongs_to :user\n  has_one :receipt\n  belongs_to :permit\nend\n</code></pre>\n\n<p>Permit.rb</p>\n\n<pre><code>class Permit &lt; ApplicationRecord\n  belongs_to :user\n  has_one :invoice\n\nend\n</code></pre>\n"}, {"tags": ["ruby", "youtube"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476294858, "post_id": 40005188, "comment_id": 67288388, "body": "When posting code all you have to do is indent four spaces, or click the <code>{}</code> button which usually does that for you."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476294973, "post_id": 40005188, "comment_id": 67288454, "body": "There&#39;s an awful lot of threading going on in here which is going to massively complicate this program since statements will run out of order. I&#39;d try and get a non-threaded version working first, plus split out some of the code here into methods with well defined mandates. As a note, the use of <code>for</code>, <code>then</code> and <code>Array.new</code> suggests whomever wrote this isn&#39;t very familiar with Ruby."}], "owner": {"reputation": 13, "user_id": 6939181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJcKg.jpg?s=128&g=1", "display_name": "C. K. Ramer", "link": "https://stackoverflow.com/users/6939181/c-k-ramer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476294839, "creation_date": 1476294673, "last_edit_date": 1476294839, "question_id": 40005188, "link": "https://stackoverflow.com/questions/40005188/how-to-get-a-youtube-video-id-with-a-specific-ruby-code", "title": "How to get a youtube video id with a specific ruby code?", "body": "<p>Does anyone has a clue to correct the following program in order to obtain a YouTube video id from html result.</p>\n\n<p>This is a ruby code that I founded at <a href=\"http://www.mike-worth.com/2012/02/23/playing-youtube-music-from-the-command-line\" rel=\"nofollow\">Playing youtube music from the command line</a>. I'm trying to make it work in my computer:</p>\n\n<pre><code>require 'hpricot'  \nrequire 'open-uri'  \n\nplaylist=Array.new\n\n #This thread actually plays the tracks in the playlist then removes them.  \nplayer=Thread.new {  \n  while true  \n    #If the playlist is empty, play random mp3s until someone adds something  \n    if playlist.length==0 then  \n      system('./random_music.sh')  \n    else  \n      system('mpg321 -q '+playlist.shift)  \n    end  \n  end  \n}  \n\n #While the main thread handles the user interface:  \nwhile true  \n  puts \"What would you like to listen to?\"  \n  search_string= gets.chomp  \n  puts\"Searching for #{search_string}...\"  \n\n  #Use Hpricot to load the youtube search page and scrape the titles and ids of the top 5 results  \n\n  doc = Hpricot(open(\"https://www.youtube.com/results?search_type=search_videos&amp;search_query=\"+search_string.gsub(' ','+')))\n  result_divs=doc.search(\"div[@id=search-results]/div\")  \n  results=Array.new\n\n  #Ask the user which one they want  \n  for i in 0..4 do  \n    #keep the a object as it has both bits of data  \n    results[i]=result_divs[i].search(\"div.result-item-main-content/h3/a\")  \n    puts (i+1).to_s + ') ' + results[i].inner_html  \n  end  \n    choice=gets.chomp.to_i    \n  if (1..5).include?(choice) then  \n    choice-=1  \n    youtube_id = results[choice].attr('href').split('&amp;')[0].split('=')[1]  \n\n    #Download/extract the audio in parallel so that more tracks can be added in the meantime  \n    Thread.new(youtube_id,results[choice].inner_html) { |id,title|  \n      if ! File.exist?(id+'.mp3')  \n        puts 'Downloading ' + title  \n        system('youtube-dl --extract-audio -w -q -f 5 --no-part '+id)  \n      end  \n      playlist&lt;&lt;id +'.mp3'  \n      puts title+' added to playlist'\n    }  \n  end  \nend  \n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "haml"], "comments": [{"owner": {"reputation": 3180, "user_id": 4659816, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5TNaW.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/4659816/david"}, "edited": false, "score": 0, "creation_date": 1476294528, "post_id": 40004964, "comment_id": 67288182, "body": "what is the output from <code>rake routes</code>?"}, {"owner": {"reputation": 53, "user_id": 5651198, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae29d521ffcc15777a13bb50fbca9b22?s=128&d=identicon&r=PG&f=1", "display_name": "Cummings.P", "link": "https://stackoverflow.com/users/5651198/cummings-p"}, "reply_to_user": {"reputation": 3180, "user_id": 4659816, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5TNaW.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/4659816/david"}, "edited": false, "score": 0, "creation_date": 1476295130, "post_id": 40004964, "comment_id": 67288547, "body": "bulk_edit_turndown_leads POST         /leads/bulk_edit_turndown(.:format)                                                                     leads#bulk_edit_turndown"}], "answers": [{"tags": [], "owner": {"reputation": 1301, "user_id": 1537791, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1fVeq.jpg?s=128&g=1", "display_name": "Jayaprakash", "link": "https://stackoverflow.com/users/1537791/jayaprakash"}, "is_accepted": false, "score": 0, "last_activity_date": 1476294975, "creation_date": 1476294975, "answer_id": 40005280, "question_id": 40004964, "link": "https://stackoverflow.com/questions/40004964/abstractcontrolleractionnotfound-error-with-routes-and-controller-action-prese/40005280#40005280", "title": "AbstractController::ActionNotFound error with routes and controller action present", "body": "<p>Try using this in your routes file.</p>\n\n<pre><code>resources :abstract do\n  member do\n    post 'bulk_edit_turndown'\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5651198, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae29d521ffcc15777a13bb50fbca9b22?s=128&d=identicon&r=PG&f=1", "display_name": "Cummings.P", "link": "https://stackoverflow.com/users/5651198/cummings-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476294975, "creation_date": 1476293873, "question_id": 40004964, "link": "https://stackoverflow.com/questions/40004964/abstractcontrolleractionnotfound-error-with-routes-and-controller-action-prese", "title": "AbstractController::ActionNotFound error with routes and controller action present", "body": "<p>Keep getting this AbstractController::ActionNotFound error even though I have the following route under the right resource:</p>\n\n<pre><code>post 'bulk_edit_turndown'\n</code></pre>\n\n<p>and a customized controller method:</p>\n\n<pre><code>def bulk_edit_turndown\n</code></pre>\n\n<p>This is my code for my button_to</p>\n\n<pre><code>= button_to \"Turn Down\", :action =&gt; \"bulk_edit_turndown\"\n</code></pre>\n\n<p>Any idea what is going wrong? I have tried fiddling with it for a good amount of time and simply cannot see what is wrong. Any and all help is welcome. Cheers~</p>\n"}, {"tags": ["arrays", "ruby", "sorting", "hash"], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 6897476, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7d1f4b7fe23115a3cf52a7cc6a792f94?s=128&d=identicon&r=PG&f=1", "display_name": "danynl", "link": "https://stackoverflow.com/users/6897476/danynl"}, "edited": false, "score": 0, "creation_date": 1476295200, "post_id": 40005092, "comment_id": 67288591, "body": "thank you. Is there a way to sort the array so that the hashes without the <code>:reference</code> keys end up at the back of the array?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 265, "user_id": 6897476, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7d1f4b7fe23115a3cf52a7cc6a792f94?s=128&d=identicon&r=PG&f=1", "display_name": "danynl", "link": "https://stackoverflow.com/users/6897476/danynl"}, "edited": false, "score": 0, "creation_date": 1476295666, "post_id": 40005092, "comment_id": 67288877, "body": "I&#39;ve added a method to push those to the end by adding a second element to their sorting to force them back. An array is a convenient way of doing this since it&#39;s sorted based on first element <i>then</i> second element."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476301364, "post_id": 40005092, "comment_id": 67292099, "body": "You don&#39;t need <code>.to_s</code> in your last line. Strings will never be compared to <code>nil</code> and <code>nil &lt;=&gt; nil #=&gt; 0</code>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476301404, "post_id": 40005092, "comment_id": 67292113, "body": "@CarySwoveland That&#39;s a bit of paranoia that some crazy stuff like <code>false</code> might show up in there, but you&#39;re basically right that it&#39;s extraneous."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476301800, "post_id": 40005092, "comment_id": 67292327, "body": "If <code>false</code> an exception is raised in any event, which is probably what you want. Note that if <code>false</code> the first element of the <code>sort_by</code> array will be <code>1</code>, so you will comparing <code>false.to_s #=&gt; &quot;false&quot;</code> with <code>nil</code>, raising an exception. If you drop <code>to_s</code>, <code>false</code> will be compared with <code>nil</code>, again raising an exception (which is good). So not only does <code>to_s</code> not help, it&#39;s a distraction."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 3, "last_activity_date": 1476295631, "last_edit_date": 1476295631, "creation_date": 1476294313, "answer_id": 40005092, "question_id": 40004918, "link": "https://stackoverflow.com/questions/40004918/ruby-sorting-hashes-inside-array/40005092#40005092", "title": "ruby sorting hashes inside array", "body": "<p>You can only sort on values that can be compared, so if you've got values of different types it's best to convert them to the same type first. A simple work-around is to convert to string:</p>\n\n<pre><code>arr1.sort_by { |hash| hash[:reference].to_s }\n</code></pre>\n\n<p>You can also assign a default:</p>\n\n<pre><code>arr1.sort_by { |hash| hash[:reference] || '' }\n</code></pre>\n\n<p><strong>Edit</strong>: If you want the <code>nil</code> values sorted last:</p>\n\n<pre><code>arr1.sort_by { |hash| [ hash[:reference] ? 0 : 1, hash[:reference].to_s ] }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": false, "score": 1, "last_activity_date": 1476303007, "creation_date": 1476303007, "answer_id": 40007480, "question_id": 40004918, "link": "https://stackoverflow.com/questions/40004918/ruby-sorting-hashes-inside-array/40007480#40007480", "title": "ruby sorting hashes inside array", "body": "<p>If you don't mind temporary variables, you could split the array into two arrays, one containing hashes with <code>:reference</code> and the other those without:</p>\n\n<pre><code>with_ref, without_ref = arr1.partition { |h| h[:reference] }\n</code></pre>\n\n<p>Then sort the first one:</p>\n\n<pre><code>with_ref.sort_by! { |h| h[:reference] }\n</code></pre>\n\n<p>And finally concatenate both arrays:</p>\n\n<pre><code>arr1 = with_ref + without_ref\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 6897476, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7d1f4b7fe23115a3cf52a7cc6a792f94?s=128&d=identicon&r=PG&f=1", "display_name": "danynl", "link": "https://stackoverflow.com/users/6897476/danynl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476303007, "creation_date": 1476293714, "question_id": 40004918, "link": "https://stackoverflow.com/questions/40004918/ruby-sorting-hashes-inside-array", "title": "ruby sorting hashes inside array", "body": "<p>I have an array of hashes that I would like to sort based on the <code>:reference</code> values. But some of the elements within the array do not have a <code>:reference</code> key and therefore cannot be sorted. Is there a way to ignore this field and just sort the hash elements that contain this key?</p>\n\n<p>I've tried the following approach but I'm getting an argument error</p>\n\n<pre><code>ArgumentError: comparison of NilClass with String failed\n  sort_by at org/jruby/RubyEnumerable.java:503\n\n\n\narr1 = [{:reference=&gt; \"F123\",\n            :name=&gt; \"test4\"\n          },\n          {\n            :reference=&gt; \"ZA4\",\n            :name=&gt; \"test3\"\n          },\n          {\n            :reference=&gt; \"A43\",\n            :name=&gt; \"test2\"\n          },\n          {\n            :name=&gt; \"test1\"\n          },\n          {\n            :name=&gt; \"homework1\"\n          }]\n\narr1 = arr1.sort_by { |hash| hash[:reference] }\n\nputs arr1\n</code></pre>\n\n<p>The correct output should look like this :</p>\n\n<pre><code>=&gt; arr1= [\n        {:reference=&gt;\"A43\", :name=&gt;\"test2\"},\n        {:reference=&gt;\"F123\", :name=&gt;\"test4\"},\n        {:reference=&gt;\"ZA4\", :name=&gt;\"test3\"},\n        {:name=&gt; \"test1\"},\n        {:name=&gt; \"homework1\"}\n      ]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "linux", "ruby-on-rails-4", "rubygems"], "comments": [{"owner": {"reputation": 6200, "user_id": 637094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fd50f61387b63900335c8556f86237be?s=128&d=identicon&r=PG", "display_name": "Leonel Gal&#225;n", "link": "https://stackoverflow.com/users/637094/leonel-gal%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1476294690, "post_id": 40004914, "comment_id": 67288284, "body": "If you are new, I recommend you find a good guide for RVM or rbenv. Those two will allow you to install Ruby in the user space, so you don&#39;t/shouldn&#39;t have to use sudo at any time."}], "answers": [{"comments": [{"owner": {"reputation": 757, "user_id": 6939256, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e25b477a55a8048071d22e032ecf22f0?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamints", "link": "https://stackoverflow.com/users/6939256/benjamints"}, "edited": false, "score": 0, "creation_date": 1476294374, "post_id": 40004956, "comment_id": 67288086, "body": "Thanks for your help, it worked! I now received a new error, link above :)"}, {"owner": {"reputation": 1454, "user_id": 6509507, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/IU0E8.jpg?s=128&g=1", "display_name": "Blackcoat77", "link": "https://stackoverflow.com/users/6509507/blackcoat77"}, "reply_to_user": {"reputation": 757, "user_id": 6939256, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e25b477a55a8048071d22e032ecf22f0?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamints", "link": "https://stackoverflow.com/users/6939256/benjamints"}, "edited": false, "score": 0, "creation_date": 1476294772, "post_id": 40004956, "comment_id": 67288335, "body": "@Benjamints, try this: <code>gem install rails</code>, and after that run <code>bundle</code>"}], "tags": [], "owner": {"reputation": 43, "user_id": 7008093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D1HjaDMyDn4/AAAAAAAAAAI/AAAAAAAALzM/NQBCPvRp0n4/photo.jpg?sz=128", "display_name": "Ajit Singh", "link": "https://stackoverflow.com/users/7008093/ajit-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1476293849, "creation_date": 1476293849, "answer_id": 40004956, "question_id": 40004914, "link": "https://stackoverflow.com/questions/40004914/error-with-bundle-install-linux/40004956#40004956", "title": "Error with Bundle Install (Linux)", "body": "<p>It seems like you dont have bundler gem installed. </p>\n\n<p>Try:</p>\n\n<pre><code>gem install bundler\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 757, "user_id": 6939256, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e25b477a55a8048071d22e032ecf22f0?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamints", "link": "https://stackoverflow.com/users/6939256/benjamints"}, "edited": false, "score": 0, "creation_date": 1476294500, "post_id": 40005106, "comment_id": 67288162, "body": "Thank you, but it has now given me a new error, link above :)"}], "tags": [], "owner": {"reputation": 1301, "user_id": 1537791, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1fVeq.jpg?s=128&g=1", "display_name": "Jayaprakash", "link": "https://stackoverflow.com/users/1537791/jayaprakash"}, "is_accepted": false, "score": 0, "last_activity_date": 1476294356, "creation_date": 1476294356, "answer_id": 40005106, "question_id": 40004914, "link": "https://stackoverflow.com/questions/40004914/error-with-bundle-install-linux/40005106#40005106", "title": "Error with Bundle Install (Linux)", "body": "<p>Bundler is missing.</p>\n\n<p>Try the below commands.</p>\n\n<pre><code>[sudo] gem install bundler\nbundle install\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 4870465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6T3ds.jpg?s=128&g=1", "display_name": "Hugo David Farji", "link": "https://stackoverflow.com/users/4870465/hugo-david-farji"}, "is_accepted": false, "score": 0, "last_activity_date": 1476294711, "last_edit_date": 1495535652, "creation_date": 1476294711, "answer_id": 40005201, "question_id": 40004914, "link": "https://stackoverflow.com/questions/40004914/error-with-bundle-install-linux/40005201#40005201", "title": "Error with Bundle Install (Linux)", "body": "<p>Try stop using sudo in your commands. According to your new capture, you are using sudo with <code>gem install bundler</code>, and maybe that is conflicting with your configuration.</p>\n\n<p>Take this link for reference for <code>sudo</code> usage with <code>gem</code></p>\n\n<p><a href=\"https://stackoverflow.com/a/2119413/4870465\">https://stackoverflow.com/a/2119413/4870465</a></p>\n"}], "owner": {"reputation": 757, "user_id": 6939256, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e25b477a55a8048071d22e032ecf22f0?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamints", "link": "https://stackoverflow.com/users/6939256/benjamints"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1476294711, "creation_date": 1476293691, "last_edit_date": 1476294449, "question_id": 40004914, "link": "https://stackoverflow.com/questions/40004914/error-with-bundle-install-linux", "title": "Error with Bundle Install (Linux)", "body": "<p>Upon trying to start a new Rails App on Linux, I am receiving this error:</p>\n\n<p>I am a newbie to this software. Please help!</p>\n\n<p>Thanks :)</p>\n\n<p><a href=\"https://i.stack.imgur.com/eUVVi.png\" rel=\"nofollow\">My Error</a></p>\n\n<p>UPDATE: I ran 'sudo gem install bundler', and it worked but now received this error!</p>\n\n<p>'/usr/bin/ruby2.3: No such file or directory -- /usr/bin/bundle (LoadError)'</p>\n\n<p><a href=\"https://i.stack.imgur.com/5hIrX.png\" rel=\"nofollow\">My new error</a></p>\n"}, {"tags": ["ruby", "multithreading"], "comments": [{"owner": {"reputation": 1096, "user_id": 1016693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HgUkv.jpg?s=128&g=1", "display_name": "Donavan White", "link": "https://stackoverflow.com/users/1016693/donavan-white"}, "edited": false, "score": 1, "creation_date": 1476292657, "post_id": 40004486, "comment_id": 67287041, "body": "Are you running this on a multi threaded server? (not webrick)"}, {"owner": {"reputation": 105, "user_id": 4503510, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f6514d492d6bc419e4318424cb17d9c3?s=128&d=identicon&r=PG&f=1", "display_name": "dheil", "link": "https://stackoverflow.com/users/4503510/dheil"}, "reply_to_user": {"reputation": 1096, "user_id": 1016693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HgUkv.jpg?s=128&g=1", "display_name": "Donavan White", "link": "https://stackoverflow.com/users/1016693/donavan-white"}, "edited": false, "score": 0, "creation_date": 1476292990, "post_id": 40004486, "comment_id": 67287260, "body": "i&#39;m running &#39;thin&#39; as webserver"}, {"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 1, "creation_date": 1476293111, "post_id": 40004486, "comment_id": 67287334, "body": "You&#39;re doing something very wrong. If you have a need for some kind of asynchronous processing, you should use ActiveJob, Sidekiq or another job queue."}, {"owner": {"reputation": 2460, "user_id": 3940126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0222b0a3b16a79649265eabba7e05add?s=128&d=identicon&r=PG&f=1", "display_name": "slowjack2k", "link": "https://stackoverflow.com/users/3940126/slowjack2k"}, "edited": false, "score": 1, "creation_date": 1476295102, "post_id": 40004486, "comment_id": 67288528, "body": "If you realy want to got this path, try puma. <code>thin</code> uses eventmachine. Eventmachines FAQ&#39;s states that there can be issues with other threads running around. This blog <a href=\"http://blog.arkency.com/2013/06/implementing-worker-threads-in-rails/\" rel=\"nofollow noreferrer\">blog.arkency.com/2013/06/implementing-worker-threads-in-rail&zwnj;&#8203;s</a> should give you some clues."}], "answers": [{"tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 1, "last_activity_date": 1476294572, "creation_date": 1476294572, "answer_id": 40005165, "question_id": 40004486, "link": "https://stackoverflow.com/questions/40004486/ruby-thread-dies-after-redirect/40005165#40005165", "title": "Ruby thread dies after redirect", "body": "<p>I'm with @meagar here, this is asking for serious trouble. Presume your process will be killed after you finish making the web request, as that's something that happens under some Ruby on Rails process managers when they're pruning off excess instances.</p>\n\n<p>Sharing data between controller instances should also be considered impossible unless you're persisting the data somehow: Database, session, cookies, or arguments via GET or POST.</p>\n\n<p>In a typical system you'll have N Ruby processes on M machines, and the processes will be started and stopped arbitrarily, without warning, if they're not actively processing any requests. There's no way to reliably share data between these without some external IPC.</p>\n\n<p>You probably want a background server process that these controllers can contact for any information they might need, or a process that can dump data into a database or a service like <a href=\"http://redis.io\" rel=\"nofollow\">Redis</a> where it can be picked up.</p>\n\n<p>The way you could architect this is by pushing a job into a Redis queue, have another process that's watching that queue for work and pops the job and processes it. This is easily done with the <a href=\"http://redis.io/commands/blpop\" rel=\"nofollow\"><code>BLPOP</code></a> command in Redis, where your thread will block waiting for work, then immediately continue when there's something to do.</p>\n"}], "owner": {"reputation": 105, "user_id": 4503510, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f6514d492d6bc419e4318424cb17d9c3?s=128&d=identicon&r=PG&f=1", "display_name": "dheil", "link": "https://stackoverflow.com/users/4503510/dheil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476294572, "creation_date": 1476292178, "question_id": 40004486, "link": "https://stackoverflow.com/questions/40004486/ruby-thread-dies-after-redirect", "title": "Ruby thread dies after redirect", "body": "<p>i start a thread in my controller and want to redirect the user immediately after that.</p>\n\n<pre><code>class Profile::GeneralController &lt; ProfileController\n    def update\n       startTheThread(profile)\n       #sleep(5)\n       redirect_to 'selection_controller'\n    end\nend\n\nclass ProfileController &lt; ApplicationController\n    def startTheThread(profile = nil)\n        $collector_threads[current_user.id][sector] = Thread.new {\n            Thread.current['collecting_status'] = { a: 1, c: 0, c_id: -1, r: false }            \n            start_threaded_collector(sector)\n        }\n    end\nend\n</code></pre>\n\n<p>When i tell the controller to sleep for - let's say - 5 seconds, the thread finishes like it was supposed to.</p>\n\n<p>The thread is dead as soon as the user changes to another page - why is that and how can i keep threads alive across controllers. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 12542, "user_id": 156746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8TsPx.jpg?s=128&g=1", "display_name": "DiegoSalazar", "link": "https://stackoverflow.com/users/156746/diegosalazar"}, "edited": false, "score": 0, "creation_date": 1476292209, "post_id": 40004385, "comment_id": 67286757, "body": "what is your version of rubygems? run <code>gem -v</code>"}, {"owner": {"reputation": 12085, "user_id": 632688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6c6e4e8117bbd27fd25e9e2ea350458?s=128&d=identicon&r=PG", "display_name": "Wizard of Ogz", "link": "https://stackoverflow.com/users/632688/wizard-of-ogz"}, "edited": false, "score": 0, "creation_date": 1476293120, "post_id": 40004385, "comment_id": 67287340, "body": "It looks like the gems in use were installed for an older version of Ruby (2.3.0) than you are currently using (Ruby 2.3.1p112)"}, {"owner": {"reputation": 1143, "user_id": 1563837, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0784ce3665c294c4547f81a212014d4b?s=128&d=identicon&r=PG", "display_name": "Josh Bodah", "link": "https://stackoverflow.com/users/1563837/josh-bodah"}, "edited": false, "score": 0, "creation_date": 1476361100, "post_id": 40004385, "comment_id": 67318232, "body": "I don&#39;t believe that&#39;s necessarily true. Ruby doesn&#39;t change the base directory between minor versions. Here&#39;s an example path from my 2.3.1 installation: <code>&#47;Users&#47;jbodah&#47;.rbenv&#47;versions&#47;2.3.1&#47;lib&#47;ruby&#47;2.3.0</code>"}, {"owner": {"reputation": 1143, "user_id": 1563837, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0784ce3665c294c4547f81a212014d4b?s=128&d=identicon&r=PG", "display_name": "Josh Bodah", "link": "https://stackoverflow.com/users/1563837/josh-bodah"}, "edited": false, "score": 0, "creation_date": 1476361277, "post_id": 40004385, "comment_id": 67318355, "body": "Have you already run <code>bundle install</code>? If so, are you able to post your <code>Gemfile.lock</code>? It looks like ActiveSupport isn&#39;t being included into the runtime"}], "owner": {"reputation": 1, "user_id": 4746490, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vQ7Q8vHl2_o/AAAAAAAAAAI/AAAAAAAAAA0/8cPTCLSC56U/photo.jpg?sz=128", "display_name": "Parin Vachhani", "link": "https://stackoverflow.com/users/4746490/parin-vachhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476291863, "creation_date": 1476291863, "question_id": 40004385, "link": "https://stackoverflow.com/questions/40004385/modulegenerators-undefined-method-mattr-accessor-for-railsgeneratorsm", "title": "`&lt;module:Generators&gt;&#39;: undefined method `mattr_accessor&#39; for Rails::Generators:Module (NoMethodError)", "body": "<p>I have a fresh installation of Ruby on my Manjaro Arch Linux.</p>\n\n<pre><code>[parin@excalibur Desktop]$ ruby -v\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n</code></pre>\n\n<p>I installed rails using <code>gem install rails</code>\nNow on trying to generate a new project, I get the following error:</p>\n\n<pre><code>[parin@excalibur Desktop]$ rails new test\n/home/parin/.gem/ruby/2.3.0/gems/railties-5.0.0.1/lib/rails/generators.rb:24:in `&lt;module:Generators&gt;': undefined method `mattr_accessor' for Rails::Generators:Module (NoMethodError)\nDid you mean?  attr_accessor\n    from /home/parin/.gem/ruby/2.3.0/gems/railties-5.0.0.1/lib/rails/generators.rb:15:in `&lt;module:Rails&gt;'\n    from /home/parin/.gem/ruby/2.3.0/gems/railties-5.0.0.1/lib/rails/generators.rb:14:in `&lt;top (required)&gt;'\n    from /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /home/parin/.gem/ruby/2.3.0/gems/railties-5.0.0.1/lib/rails/commands/application.rb:1:in `&lt;top (required)&gt;'\n    from /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /home/parin/.gem/ruby/2.3.0/gems/railties-5.0.0.1/lib/rails/cli.rb:14:in `&lt;top (required)&gt;'\n    from /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /home/parin/.gem/ruby/2.3.0/gems/railties-5.0.0.1/exe/rails:9:in `&lt;top (required)&gt;'\n    from /home/parin/.gem/ruby/2.3.0/bin/rails:23:in `load'\n    from /home/parin/.gem/ruby/2.3.0/bin/rails:23:in `&lt;main&gt;'\n</code></pre>\n\n<p>I am a noob in Ruby and Rails both so would appreciate some help here.\nThanks in advance! :)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-5", "ruby-on-rails-4.2", "partials"], "comments": [{"owner": {"reputation": 210, "user_id": 3456978, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/717526bc961e5fee52fab86322b52568?s=128&d=identicon&r=PG&f=1", "display_name": "user3456978", "link": "https://stackoverflow.com/users/3456978/user3456978"}, "edited": false, "score": 0, "creation_date": 1476294955, "post_id": 40003840, "comment_id": 67288446, "body": "Your render is working - you see the button. Both rails 4.2 and 5.0 guides use &lt;%= yield f %&gt;. I think the issue is with this section &quot;  &lt;%= search_form_for @q, html: { class: &#39;form-inline&#39;} do |f| %&gt;&quot; Are you using ransack? Is that why you aren&#39;t using form_for and are using search_form_for?"}, {"owner": {"reputation": 145, "user_id": 3957894, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/230c9fb511efdaf6987b12590895f55b?s=128&d=identicon&r=PG&f=1", "display_name": "michaelreeves", "link": "https://stackoverflow.com/users/3957894/michaelreeves"}, "reply_to_user": {"reputation": 210, "user_id": 3456978, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/717526bc961e5fee52fab86322b52568?s=128&d=identicon&r=PG&f=1", "display_name": "user3456978", "link": "https://stackoverflow.com/users/3456978/user3456978"}, "edited": false, "score": 0, "creation_date": 1476303426, "post_id": 40003840, "comment_id": 67293170, "body": "yes, we&#39;re using ransack.  Anything I add inside the form-group renders on the page, but the yield does not function"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 3957894, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/230c9fb511efdaf6987b12590895f55b?s=128&d=identicon&r=PG&f=1", "display_name": "michaelreeves", "link": "https://stackoverflow.com/users/3957894/michaelreeves"}, "edited": false, "score": 0, "creation_date": 1494003006, "post_id": 43785619, "comment_id": 74659331, "body": "Thanks Pedro.  Unfortunately I left that project a few months back, so I can&#39;t see what my solution to this problem actually was. :)  But maybe this will help someone else."}], "tags": [], "owner": {"reputation": 1, "user_id": 3727491, "user_type": "registered", "profile_image": "https://graph.facebook.com/1775877165/picture?type=large", "display_name": "Pedro H. Grandin", "link": "https://stackoverflow.com/users/3727491/pedro-h-grandin"}, "is_accepted": false, "score": 0, "last_activity_date": 1493907943, "creation_date": 1493907943, "answer_id": 43785619, "question_id": 40003840, "link": "https://stackoverflow.com/questions/40003840/yielding-in-rails-partials/43785619#43785619", "title": "Yielding in Rails partials", "body": "<p>Try replace this at your index:</p>\n\n<pre><code> render layout: 'shared/search_filters', locals: { search: @q } do |f|\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 1494788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d5efe709ca0c03090528114e347ce5?s=128&d=identicon&r=PG", "display_name": "Derek Bruneau", "link": "https://stackoverflow.com/users/1494788/derek-bruneau"}, "is_accepted": false, "score": 2, "last_activity_date": 1495895188, "creation_date": 1495895188, "answer_id": 44218018, "question_id": 40003840, "link": "https://stackoverflow.com/questions/40003840/yielding-in-rails-partials/44218018#44218018", "title": "Yielding in Rails partials", "body": "<p>It looks like Rails only supports yielding to blocks in partials if you're using 5.0 or later.  From the <a href=\"http://edgeguides.rubyonrails.org/5_0_release_notes.html#action-view-notable-changes\" rel=\"nofollow noreferrer\">release notes for 5.0</a>:</p>\n\n<blockquote>\n  <p>Allow blocks while rendering with the <code>render partial:</code> helper.</p>\n</blockquote>\n"}], "owner": {"reputation": 145, "user_id": 3957894, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/230c9fb511efdaf6987b12590895f55b?s=128&d=identicon&r=PG&f=1", "display_name": "michaelreeves", "link": "https://stackoverflow.com/users/3957894/michaelreeves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1495895188, "creation_date": 1476290135, "question_id": 40003840, "link": "https://stackoverflow.com/questions/40003840/yielding-in-rails-partials", "title": "Yielding in Rails partials", "body": "<p>I'm using Rails 4.2, but following along with the Rails 5.0 documentation on partials, trying to build a search partial. <a href=\"http://guides.rubyonrails.org/layouts_and_rendering.html#using-partials\" rel=\"nofollow\">http://guides.rubyonrails.org/layouts_and_rendering.html#using-partials</a></p>\n\n<p>I am getting the Search button, so the shared partial is rendering, however, it does not seem to be yielding back to the calling block.  I'm not getting the label or the search_field.  Did I do something dumb, or does this not function in Rails 4.2?  Seems like this should just be basic Ruby.</p>\n\n<p>I did notice that this example is not included in the docs for 4.2. <a href=\"http://guides.rubyonrails.org/v4.2/layouts_and_rendering.html#using-partials\" rel=\"nofollow\">http://guides.rubyonrails.org/v4.2/layouts_and_rendering.html#using-partials</a></p>\n\n<p>shared/_search_filters.html.erb</p>\n\n<pre><code>&lt;div class=\"search\"&gt;\n  &lt;%= search_form_for @q, html: { class: 'form-inline'} do |f| %&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;%= yield f %&gt;\n    &lt;/div&gt;\n    &lt;%= f.submit 'Search', class: 'btn btn-default', role: 'button' %&gt;\n  &lt;% end %&gt;\n&lt;/div&gt; &lt;!-- /.search --&gt;\n</code></pre>\n\n<p>index.html.erb</p>\n\n<pre><code>&lt;%= render 'shared/search_filters', search: @q do |f| %&gt;\n  &lt;%= f.label :search, 'Search (optional)', class: 'control-label'  %&gt;\n  &lt;%= f.search_field :name_or_description_cont,\n                     class: 'form-control',\n                     placeholder: 'Search (optional)' %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 1301, "user_id": 1537791, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1fVeq.jpg?s=128&g=1", "display_name": "Jayaprakash", "link": "https://stackoverflow.com/users/1537791/jayaprakash"}, "is_accepted": true, "score": 0, "last_activity_date": 1476290524, "last_edit_date": 1476290524, "creation_date": 1476290201, "answer_id": 40003856, "question_id": 40003686, "link": "https://stackoverflow.com/questions/40003686/pulling-partials-with-onclick-function-in-javascript-function-ruby-on-rails/40003856#40003856", "title": "Pulling Partials with onclick function in Javascript function (Ruby on rails)", "body": "<p>Create a separate route in routes file.</p>\n\n<p>Then modify the below one</p>\n\n<pre><code>&lt;button onclick=\"myFunction()\"&gt; Switch to partial button &lt;/button&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;%= link_to \"Switch to partial button\", calender_path, :remote =&gt; true %&gt;\n</code></pre>\n\n<p>In your controller, add the below method.</p>\n\n<pre><code>def calender\n  respond_to do |format|               \n    format.js\n  end        \nend \n</code></pre>\n\n<p>Then you should create the <code>calender.js.erb</code> in your correct directory and add the following code in that file.</p>\n\n<pre><code>$('#demo').html(\"&lt;%= render :partial =&gt; 'form' %&gt;\");\n</code></pre>\n\n<p>Ref: <a href=\"https://blog.codeship.com/unobtrusive-javascript-via-ajax-rails/\" rel=\"nofollow\">Tutorial</a></p>\n"}], "owner": {"reputation": 71, "user_id": 5854975, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/990344fcf8b14a9487b01c1f87f01747?s=128&d=identicon&r=PG&f=1", "display_name": "Raidspec", "link": "https://stackoverflow.com/users/5854975/raidspec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 40003856, "answer_count": 1, "score": 0, "last_activity_date": 1476290524, "creation_date": 1476289602, "question_id": 40003686, "link": "https://stackoverflow.com/questions/40003686/pulling-partials-with-onclick-function-in-javascript-function-ruby-on-rails", "title": "Pulling Partials with onclick function in Javascript function (Ruby on rails)", "body": "<p>This code that I am using to pull a partial from Calendar/_form.html.erb is rendering the partial before I click on the actual button. Is there a more efficient way to do this? It's also not pulling any css/js correctly either. </p>\n\n<pre><code>&lt;div id=\"demo\"&gt;\n    This Will Magically Change to the partial i am rendering!\n&lt;/div&gt;\n\n&lt;button onclick=\"myFunction()\"&gt; Switch to partial button &lt;/button&gt;\n\n&lt;script&gt;\n  function myFunction() {\n    document.getElementById (\"demo\").src = &lt;%= render 'calendars/form' %&gt;;\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>For some reason I'm starting to think that this method of pulling data or partials isn't the right way (angularjs seems to do it in a diff way to create Single Page Application for example). </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 3736, "user_id": 1031061, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8IZUV.jpg?s=128&g=1", "display_name": "Pardeep Dhingra", "link": "https://stackoverflow.com/users/1031061/pardeep-dhingra"}, "edited": false, "score": 0, "creation_date": 1476287831, "post_id": 40003015, "comment_id": 67284051, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10246023/bundle-install-fails-with-ssl-certificate-verification-error\">bundle install fails with SSL certificate verification error</a>"}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 1, "creation_date": 1476289767, "post_id": 40003015, "comment_id": 67285302, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/19150017/ssl-error-when-installing-rubygems-unable-to-pull-data-from-https-rubygems-o\">SSL Error When installing rubygems, Unable to pull data from &#39;https://rubygems.org/</a>"}], "answers": [{"tags": [], "owner": {"reputation": 696, "user_id": 3323850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VYzBr.png?s=128&g=1", "display_name": "alebian", "link": "https://stackoverflow.com/users/3323850/alebian"}, "is_accepted": false, "score": 0, "last_activity_date": 1476291071, "creation_date": 1476291071, "answer_id": 40004135, "question_id": 40003015, "link": "https://stackoverflow.com/questions/40003015/rails-upgrade-error/40004135#40004135", "title": "Rails upgrade error", "body": "<p>The <a href=\"https://gorails.com/setup/windows/10\" rel=\"nofollow\">GoRails</a> site has a very good tutorial on how to setup Rais correctly</p>\n"}], "owner": {"reputation": 33, "user_id": 5079472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30516cd3687306bc5425d2ceacd9e215?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Koss", "link": "https://stackoverflow.com/users/5079472/neal-koss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477291551, "creation_date": 1476287592, "last_edit_date": 1476331965, "question_id": 40003015, "link": "https://stackoverflow.com/questions/40003015/rails-upgrade-error", "title": "Rails upgrade error", "body": "<p>With help from this excellent group, I was able to install Rails. The next step was to upgrade Rails. I tried both ways as suggested by the documentation and got errors from each...</p>\n\n<blockquote>\n  <p>C:\\Sites><code>gem update --system</code> ERROR:  While executing gem ...\n  (Gem::RemoteFetcher::FetchError)\n      SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (<a href=\"https://api.rubygems.org/specs.4.8.gz\" rel=\"nofollow\">https://api.rubygems.org/specs.4.8.gz</a>)</p>\n  \n  <p>C:\\Sites><code>gem install rails</code> ERROR:  Could not find a valid gem 'rails'\n  (>= 0), here is why:\n            Unable to download data from <a href=\"https://rubygems.org/\" rel=\"nofollow\">https://rubygems.org/</a> - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B:\n  certificate verify failed (<a href=\"https://api.rubygems.org/specs.4.8.gz\" rel=\"nofollow\">https://api.rubygems.org/specs.4.8.gz</a>)</p>\n</blockquote>\n\n<p>I reviewed the links given in the comments, but I really did not understand them...sorry. I hope there is a straightforward solution. Thanks</p>\n\n<p>I looked at the Go Rails site and that requires a Linux subsystem which seems like more than I need and was not mentioned by the instructor for the online course. I already have everything installed for running Rails, but the final step is to upgrade Rails from 4.2 to 5.0 and that is where the error occurs.</p>\n\n<p>I also looked at the website that was said to be a possible duplicate and did what it said and no change. Why is this so difficult?</p>\n\n<p>The answer was above. First execute gem sources -a <a href=\"http://rubygems.org\" rel=\"nofollow\">http://rubygems.org</a> and agree to the less secure http, then gem install rails works and upgrades to 5.0.0.1</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1476290621, "post_id": 40002927, "comment_id": 67285803, "body": "What problem are you trying to solve? As J&#246;rg wrote in the linked answer, &quot;Whenever you go looking for a singleton class, it&#39;ll be there.&quot; What&#39;s your use case?"}, {"owner": {"reputation": 2160, "user_id": 351756, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5bc950c9dbdedd419d0421a895162cda?s=128&d=identicon&r=PG", "display_name": "Remo", "link": "https://stackoverflow.com/users/351756/remo"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1476291030, "post_id": 40002927, "comment_id": 67286042, "body": "We&#39;re working on <a href=\"https://github.com/rails/rails/pull/26771\" rel=\"nofollow noreferrer\">github.com/rails/rails/pull/26771</a>. The problem is that when we&#39;re adding unintended classes via <code>singleton_class</code> which breaks some of the Rails tests that check the class count. We&#39;d like to go through <code>self.singleton_class</code> if it exists, and otherwise call the method on <code>self.class</code>."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 7, "creation_date": 1476291951, "post_id": 40002927, "comment_id": 67286601, "body": "My opinion is: <code>ObjectSpace</code> lets you look behind the curtain. But if you do that, you might see things that you aren&#39;t supposed to see. I stand by my assertion on the linked question: singleton classes always exist. The interpreter may possibly only <i>physically</i> create them when they are needed, but everytime you look to <i>check</i> whether there is one, there <i>will</i> be one. YARV, for example, it always creates singleton classes for modules and classes, regardless of whether they are needed or not, and it never creates them for other objects, unless you actually open it or add a singleton method."}, {"owner": {"reputation": 2160, "user_id": 351756, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5bc950c9dbdedd419d0421a895162cda?s=128&d=identicon&r=PG", "display_name": "Remo", "link": "https://stackoverflow.com/users/351756/remo"}, "edited": false, "score": 0, "creation_date": 1476292201, "post_id": 40002927, "comment_id": 67286753, "body": "I think you&#39;re right. I still don&#39;t see any way of working around this at the moment though."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 7, "creation_date": 1476302319, "post_id": 40002927, "comment_id": 67292591, "body": "The real solution might be to change those tests that check the class count to work in a different way."}, {"owner": {"reputation": 24560, "user_id": 4880924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d40e83be235d4f70428da0d42e12d427?s=128&d=identicon&r=PG&f=1", "display_name": "BKSpurgeon", "link": "https://stackoverflow.com/users/4880924/bkspurgeon"}, "edited": false, "score": 0, "creation_date": 1487654010, "post_id": 40002927, "comment_id": 71868747, "body": "@Remo are you still looking for a solution"}, {"owner": {"reputation": 2160, "user_id": 351756, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5bc950c9dbdedd419d0421a895162cda?s=128&d=identicon&r=PG", "display_name": "Remo", "link": "https://stackoverflow.com/users/351756/remo"}, "reply_to_user": {"reputation": 24560, "user_id": 4880924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d40e83be235d4f70428da0d42e12d427?s=128&d=identicon&r=PG&f=1", "display_name": "BKSpurgeon", "link": "https://stackoverflow.com/users/4880924/bkspurgeon"}, "edited": false, "score": 0, "creation_date": 1487847034, "post_id": 40002927, "comment_id": 71972767, "body": "@BKSpurgeon To be honest, no. The fix within Rails seems to be a big thing and we have changed our code to not rely on thread safety with class attributes. Thank you though!"}, {"owner": {"reputation": 24560, "user_id": 4880924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d40e83be235d4f70428da0d42e12d427?s=128&d=identicon&r=PG&f=1", "display_name": "BKSpurgeon", "link": "https://stackoverflow.com/users/4880924/bkspurgeon"}, "edited": false, "score": 0, "creation_date": 1487852627, "post_id": 40002927, "comment_id": 71976579, "body": "@Remo nevertheless it will make an interesting study for me. I&#39;ll have to look into it."}, {"owner": {"reputation": 2160, "user_id": 351756, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5bc950c9dbdedd419d0421a895162cda?s=128&d=identicon&r=PG", "display_name": "Remo", "link": "https://stackoverflow.com/users/351756/remo"}, "reply_to_user": {"reputation": 24560, "user_id": 4880924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d40e83be235d4f70428da0d42e12d427?s=128&d=identicon&r=PG&f=1", "display_name": "BKSpurgeon", "link": "https://stackoverflow.com/users/4880924/bkspurgeon"}, "edited": false, "score": 0, "creation_date": 1487857671, "post_id": 40002927, "comment_id": 71980357, "body": "@BKSpurgeon Very cool, thank you!"}, {"owner": {"reputation": 198, "user_id": 2936074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb5270af456d54f3f57fe05685968c6?s=128&d=identicon&r=PG&f=1", "display_name": "Foo Bar Zoo", "link": "https://stackoverflow.com/users/2936074/foo-bar-zoo"}, "edited": false, "score": 1, "creation_date": 1520978931, "post_id": 40002927, "comment_id": 85536674, "body": "There is a method in ruby vm which called as <code>rb_singleton_class_get</code> which returns nil in case there is no singleton class for the object but unfortunately it&#39;s an internal method."}, {"owner": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "edited": false, "score": 0, "creation_date": 1544293241, "post_id": 40002927, "comment_id": 94227648, "body": "Your problem/question is probably solved/answered by Amadan&#39;s answer to this question <a href=\"https://stackoverflow.com/questions/53644285/inspecting-marshal-methods\" title=\"inspecting marshal methods\">stackoverflow.com/questions/53644285/inspecting-marshal-meth&zwnj;&#8203;ods</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2160, "user_id": 351756, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5bc950c9dbdedd419d0421a895162cda?s=128&d=identicon&r=PG", "display_name": "Remo", "link": "https://stackoverflow.com/users/351756/remo"}, "edited": false, "score": 0, "creation_date": 1494263574, "post_id": 43848445, "comment_id": 74742674, "body": "Thanks for your answer. Contrary to common sense, this issue is not about the singleton pattern but about an advanced ruby feature / interna called &quot;Eigenclass&quot; which, unfortunately, is also called &quot;Singleton class&quot;. This basically is a class that exists just for one single instance and can differ to the &quot;real&quot; instance class. While your answer, in itself, is perfectly correct, I&#39;m afraid it isn&#39;t related to the subject at hand."}], "tags": [], "owner": {"reputation": 71, "user_id": 3569194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d26befbcae91ccb5f867a3d9431d0c91?s=128&d=identicon&r=PG", "display_name": "Roy Cruz", "link": "https://stackoverflow.com/users/3569194/roy-cruz"}, "is_accepted": false, "score": 2, "last_activity_date": 1494248726, "creation_date": 1494248726, "answer_id": 43848445, "question_id": 40002927, "link": "https://stackoverflow.com/questions/40002927/how-to-check-if-an-object-has-a-singleton-class-eigenclass-without-creating-on/43848445#43848445", "title": "How to check if an object has a singleton class (eigenclass) without creating one", "body": "<p>You can use the <code>ancestors</code> method. Because you want to check if a class (not an object) is a singleton, you can fetch all the modules mixed within the class and verify if any of those are a singleton class.</p>\n\n<pre><code>class Klass\n  include Singleton\nend\n\nKlass.ancestors.include? Singleton # true\n</code></pre>\n\n<p>In ruby, for creating a singleton you should include a <code>Singleton</code> module. So if you check for that module it means that that class is a singleton. Ruby's base class inheritance of the module class meaning that you have access to use the <code>ancestors</code> method.</p>\n\n<p><strong>References:</strong></p>\n\n<ol>\n<li><a href=\"https://ruby-doc.org/core-2.1.0/Module.html#method-i-ancestors\" rel=\"nofollow noreferrer\">https://ruby-doc.org/core-2.1.0/Module.html#method-i-ancestors</a></li>\n<li><a href=\"https://ruby-doc.org/core-2.2.0/Class.html\" rel=\"nofollow noreferrer\">https://ruby-doc.org/core-2.2.0/Class.html</a></li>\n<li><a href=\"https://ruby-doc.org/stdlib-2.1.0/libdoc/singleton/rdoc/Singleton.html#module-Singleton-label-Usage\" rel=\"nofollow noreferrer\">https://ruby-doc.org/stdlib-2.1.0/libdoc/singleton/rdoc/Singleton.html#module-Singleton-label-Usage</a></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2160, "user_id": 351756, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5bc950c9dbdedd419d0421a895162cda?s=128&d=identicon&r=PG", "display_name": "Remo", "link": "https://stackoverflow.com/users/351756/remo"}, "edited": false, "score": 0, "creation_date": 1520935220, "post_id": 48925442, "comment_id": 85509623, "body": "Thanks for your answer. But again, this question has nothing to do with the singleton pattern or the <code>Singleton</code> module but with a ruby concept called <i>Eigenclass</i>. See my comment on the answer to Roy Cruz for more information. I know it&#39;s confusing ;)"}], "tags": [], "owner": {"reputation": 19, "user_id": 4276817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-52g4uT74xdk/AAAAAAAAAAI/AAAAAAAAAeA/vKvJTNCweZE/photo.jpg?sz=128", "display_name": "Deven Detroja", "link": "https://stackoverflow.com/users/4276817/deven-detroja"}, "is_accepted": false, "score": 0, "last_activity_date": 1519296380, "creation_date": 1519296380, "answer_id": 48925442, "question_id": 40002927, "link": "https://stackoverflow.com/questions/40002927/how-to-check-if-an-object-has-a-singleton-class-eigenclass-without-creating-on/48925442#48925442", "title": "How to check if an object has a singleton class (eigenclass) without creating one", "body": "<p>The ancestors method returns an ordered list of classes and modules that corresponds with the method lookup sequence. below example, instances of the \nclass CheckKlass will search for methods in CheckKlass, Object, Kernel, and BasicObject before calling A#method_missing.</p>\n\n<pre><code>class CheckKlass; end\nCheckKlass.ancestors # =&gt; [CheckKlass, Object, Kernel, BasicObject]\n</code></pre>\n\n<p>And if Singleton is included this would look like below</p>\n\n<pre><code>class CheckKlass\n  include Singleton\nend\n</code></pre>\n\n<p>This could give you => </p>\n\n<pre><code>[CheckKlass, Singleton, ActiveSupport::ToJsonWithActiveSupportEncoder, Object, PP::ObjectMixin, ActiveSupport::Dependencies::Loadable, JSON::Ext::Generator::GeneratorMethods::Object, ActiveSupport::Tryable, Kernel, BasicObject]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "is_accepted": false, "score": 1, "last_activity_date": 1543068966, "last_edit_date": 1543068966, "creation_date": 1542538591, "answer_id": 53360086, "question_id": 40002927, "link": "https://stackoverflow.com/questions/40002927/how-to-check-if-an-object-has-a-singleton-class-eigenclass-without-creating-on/53360086#53360086", "title": "How to check if an object has a singleton class (eigenclass) without creating one", "body": "<p>An unelegant way I found out is to try:</p>\n\n<pre><code>Marshal.dump obj\n</code></pre>\n\n<p>If <em>obj</em> has a singleton class (without custom serialization strategy), we get a <em>TypeError</em>:</p>\n\n<pre><code>TypeError: singleton can't be dumped\n</code></pre>\n"}], "owner": {"reputation": 2160, "user_id": 351756, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5bc950c9dbdedd419d0421a895162cda?s=128&d=identicon&r=PG", "display_name": "Remo", "link": "https://stackoverflow.com/users/351756/remo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1629, "favorite_count": 6, "answer_count": 3, "score": 18, "last_activity_date": 1543068966, "creation_date": 1476287311, "last_edit_date": 1495541889, "question_id": 40002927, "link": "https://stackoverflow.com/questions/40002927/how-to-check-if-an-object-has-a-singleton-class-eigenclass-without-creating-on", "title": "How to check if an object has a singleton class (eigenclass) without creating one", "body": "<p>Is there a way of checking whether an object has a singleton class without creating one?</p>\n\n<p>Other than stated in <a href=\"https://stackoverflow.com/questions/16501353\">Check if an object has a singleton class</a>, it is not true that every object has a singleton class (see proof under <a href=\"https://repl.it/DuVJ/2\" rel=\"noreferrer\">https://repl.it/DuVJ/2</a>).</p>\n\n<p>The following approaches came into my mind, but don't work:</p>\n\n<ol>\n<li><p><code>obj.singleton_class</code></p>\n\n<p>This automatically creates a new singleton class if none exists (see \n<a href=\"https://ruby-doc.org/core-1.9.2/Object.html#method-i-singleton_class\" rel=\"noreferrer\">https://ruby-doc.org/core-1.9.2/Object.html#method-i-singleton_class</a>).</p></li>\n<li><p>Using <code>ObjectSpace</code>:</p>\n\n<pre><code>has_singleton_class = ObjectSpace.each_object(Class).any? do |klass|\n  klass &lt; self.class &amp;&amp; klass.singleton_class? &amp;&amp; self.is_a?(klass)\nend\n</code></pre>\n\n<p>This is very slow and might not work under jRuby as <code>ObjectSpace</code> might not \nbe available.</p></li>\n<li><p><code>obj.singleton_methods</code> only works if the singleton class has at least\none method.</p></li>\n</ol>\n"}, {"tags": ["ruby-on-rails", "ruby", "datatables", "rubygems", "rails-assets"], "answers": [{"comments": [{"owner": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476287290, "post_id": 40002892, "comment_id": 67283671, "body": "It&#39;s actually a project that I did not develop. I am just trying to install it. It&#39;s using rails-assets-DataTables from <a href=\"https://rails-assets.org\" rel=\"nofollow noreferrer\">rails-assets.org</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "reply_to_user": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476287487, "post_id": 40002892, "comment_id": 67283821, "body": "your gemfile contains that rails-assets.org source? <code>gem &#39;rails-assets-DataTables&#39;, source: &#39;https:&#47;&#47;rails-assets.org&#39;</code>"}, {"owner": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476287591, "post_id": 40002892, "comment_id": 67283896, "body": "source &#39;<a href=\"https://rails-assets.org\" rel=\"nofollow noreferrer\">rails-assets.org</a>&#39; do   gem &#39;rails-assets-DataTables&#39; end"}, {"owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "reply_to_user": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476287675, "post_id": 40002892, "comment_id": 67283949, "body": "prepend your source url with <code>https:&#47;&#47;</code> and run <code>bundle install</code> again then <code>rails c</code>"}, {"owner": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476287798, "post_id": 40002892, "comment_id": 67284032, "body": "it actually is...seems like SO took it out when converting to link"}, {"owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "reply_to_user": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476287941, "post_id": 40002892, "comment_id": 67284143, "body": "Have you tried running <code>bundle exec rails s</code> instead?"}, {"owner": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476288216, "post_id": 40002892, "comment_id": 67284340, "body": "same error... bundle show rails-assets-datatables also returns the same error"}, {"owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "reply_to_user": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476288545, "post_id": 40002892, "comment_id": 67284532, "body": "<code>bundle install --path vendor&#47;cache</code>"}, {"owner": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "edited": false, "score": 0, "creation_date": 1476289148, "post_id": 40002892, "comment_id": 67284928, "body": "all gems where installed to vendor/cache, but problem continues. rails-assets-DataTables-1.10.12.gem is located in vendor/cache. Do I have to specify somewhere where to look for gems?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "is_accepted": false, "score": 0, "last_activity_date": 1476287176, "creation_date": 1476287176, "answer_id": 40002892, "question_id": 40002756, "link": "https://stackoverflow.com/questions/40002756/gem-after-successfully-running-bundle-install-not-available/40002892#40002892", "title": "Gem after successfully running bundle install not available", "body": "<p>The gem rails-assets-datatabels doesn't seem to exist.\nAre you trying to use <code>datatables-rails</code>?<a href=\"https://rubygems.org/gems/datatables-rails/versions/1.10.3.0\" rel=\"nofollow\">  [rubygems]</a></p>\n"}], "owner": {"reputation": 5149, "user_id": 2708460, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/78fb5597f10a8f25d2a69cbf70fd6ecd?s=128&d=identicon&r=PG&f=1", "display_name": "almo", "link": "https://stackoverflow.com/users/2708460/almo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476287176, "creation_date": 1476286774, "question_id": 40002756, "link": "https://stackoverflow.com/questions/40002756/gem-after-successfully-running-bundle-install-not-available", "title": "Gem after successfully running bundle install not available", "body": "<p>In my RoR project I want to use the DataTables Gem:</p>\n\n<p><a href=\"https://rails-assets.org/#/components/DataTables\" rel=\"nofollow\">https://rails-assets.org/#/components/DataTables</a></p>\n\n<p>I put the Gem with the right Source in my Gem file and run <code>bundle install</code>.</p>\n\n<p>It outputs in green:</p>\n\n<pre><code>Installing rails-assets-datatables 1.10.12\n</code></pre>\n\n<p>And at the end:</p>\n\n<pre><code>Bundle complete! 66 Gemfile dependencies, 159 gems now installed.\n</code></pre>\n\n<p>No errors appear.</p>\n\n<p>But when I start run run <code>rails s</code> I get:</p>\n\n<pre><code>Could not find rails-assets-datatables-1.10.12 in any of the sources\n</code></pre>\n\n<p>Any help?</p>\n\n<p>I am using XOS El Capitan. I heard that this can have something to do with the security settings? I am searching for days now without success.</p>\n"}, {"tags": ["javascript", "jquery", "ruby-on-rails", "ruby", "toggle"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 1, "creation_date": 1476291486, "post_id": 40002736, "comment_id": 67286309, "body": "your <code>getElementById</code> result is evidently null. Try inspecting the generated html to see if the id exists on the form."}, {"owner": {"reputation": 767, "user_id": 6893534, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/udUvu.jpg?s=128&g=1", "display_name": "Slowboy", "link": "https://stackoverflow.com/users/6893534/slowboy"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1476292712, "post_id": 40002736, "comment_id": 67287080, "body": "Hi, Your guess was right, the <code>country-select</code> seems to add a default ID called <code>order_country</code> but if I us that the div stays hidden... no matter what country I select....."}], "answers": [{"tags": [], "owner": {"reputation": 599, "user_id": 5213979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1dfcb9ed38c471bb15c8685ee8a61ef?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Kumar", "link": "https://stackoverflow.com/users/5213979/abhishek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1476389148, "creation_date": 1476389148, "answer_id": 40029995, "question_id": 40002736, "link": "https://stackoverflow.com/questions/40002736/using-javascript-to-show-hide-div-in-rails-app-is-not-working-as-expected/40029995#40029995", "title": "Using Javascript to Show/Hide DIV in Rails app is not working as expected", "body": "<p>The javascript has to be executed each time the value of the select changes. You need to call a function on select's <code>change</code> event.\nUsing Jquery you can write:</p>\n\n<pre><code>$( \"#order_country\" ).change(function() {\n  $('#country_div').toggle();\n});\n</code></pre>\n"}], "owner": {"reputation": 767, "user_id": 6893534, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/udUvu.jpg?s=128&g=1", "display_name": "Slowboy", "link": "https://stackoverflow.com/users/6893534/slowboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 648, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476389148, "creation_date": 1476286716, "last_edit_date": 1476351804, "question_id": 40002736, "link": "https://stackoverflow.com/questions/40002736/using-javascript-to-show-hide-div-in-rails-app-is-not-working-as-expected", "title": "Using Javascript to Show/Hide DIV in Rails app is not working as expected", "body": "<p><strong>question edited after max pleaner comment</strong></p>\n\n<p>In an App I'm building I use this <code>javascript</code> below to show a <code>DIV</code> when the user selects the United States as a country.</p>\n\n<pre><code>&lt;script&gt;\n  window.onload = function() {\n  select_location = document.getElementById('order_country')\n  if(select_location[select_location.selectedIndex].value == 'US')\n  {\n  document.getElementById('country_div').style.display = 'block';\n  }\n  else\n  {\n  document.getElementById('country_div').style.display = 'none';\n  }\n};\n\n&lt;/script&gt;\n</code></pre>\n\n<p>It shows the <code>DIV</code>at page load but if the user change the country the <code>DIV</code> won't hide. But if I change the <code>value == 'US'</code>  for an example to <code>value == 'CA'</code> the div is hiding but then if I change the country to <code>Canada</code> in the <code>f.country_select</code> in the view(form is shown below), the div remains hidden.</p>\n\n<p>So my guess is that I have to somehow modify the javascript to update when the user selects a country in the <code>f.country_select</code>, but I\u00b4m not sure how I would do that.</p>\n\n<p>Here is the selection form</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n&lt;div class=\"col-md-5\"&gt;\n    &lt;%= f.label :country %&gt;\n    &lt;%= f.country_select :country, { priority_countries: [ \"US\", \"DE\", \"ES\", \"PT\" ]}, { class: \"form-control\" }, {:id =&gt; \"countries\"  } %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>  </p>\n\n<p>the html generates this ID for the <code>country_select</code> thats why I\u00b4m using the <code>id=\"order_country\"</code>in the <code>javascript</code>above</p>\n\n<pre><code>&lt;select class=\"form-control\" name=\"order[country]\" id=\"order_country\"&gt;  &lt;option value=\"US\"&gt;United States&lt;/option&gt;\n</code></pre>\n\n<p>This is the <code>div</code>I want to be shown/hidden</p>\n\n<pre><code>&lt;div class=\"col-md-5\" id=\"country_div\"&gt;\n\n &lt;p&gt;delivery cost&lt;/p&gt;\n\n &lt;p&gt;&lt;%= @cart.total_price_usd + @del_cost_usd %&gt;&lt;/p&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>I'm not able to figure this out by myself.\nIt would be very nice if someone could take a look at this and advise me</p>\n\n<p>thanks in advance</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1476285791, "post_id": 40002365, "comment_id": 67282520, "body": "You&#39;d do so in the same way you&#39;d print something like that to the console, honestly."}, {"owner": {"reputation": 2637, "user_id": 1260068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e0f4a1006aaeb0ae65db3d6ccdaa89?s=128&d=identicon&r=PG", "display_name": "roychri", "link": "https://stackoverflow.com/users/1260068/roychri"}, "edited": false, "score": 1, "creation_date": 1476285821, "post_id": 40002365, "comment_id": 67282549, "body": "I think you might want to look into printf : <a href=\"http://www.evc-cit.info/cit020/beginning-programming/chp_04/file_printf.html\" rel=\"nofollow noreferrer\">evc-cit.info/cit020/beginning-programming/chp_04/&hellip;</a> Something like <code>File.open(yourfile, &quot;w&quot;) {|f| f.printf(&quot;%55s&quot;, line) }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": true, "score": 2, "last_activity_date": 1476298067, "last_edit_date": 1476298067, "creation_date": 1476289401, "answer_id": 40003625, "question_id": 40002365, "link": "https://stackoverflow.com/questions/40002365/write-to-file-with-a-structure/40003625#40003625", "title": "Write to file with a structure", "body": "<p>You can format the string before saving it to the file, and the formatting will be preserved:</p>\n\n<pre><code> string = &lt;&lt;-TXT\n                      #{title}\n                   #{subheading}\n #{text1}\n      #{subtext1}\n ------------------------------------------- \n #{text2}\n      #{subtext2}\n ------------------------------------------\n TXT\n\n File.open(\"my file\", 'w') { |f| f.write(string) }\n</code></pre>\n\n<p>Although if you're trying to intelligently center text (like title and subheading) you will need to use a formatter like <code>printf</code> which someone else suggested</p>\n"}], "owner": {"reputation": 1225, "user_id": 5724342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0fc4bbc261a7a2a233a196a0b655fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmukh Singh", "link": "https://stackoverflow.com/users/5724342/gurmukh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 40003625, "answer_count": 1, "score": -3, "last_activity_date": 1476298067, "creation_date": 1476285628, "question_id": 40002365, "link": "https://stackoverflow.com/questions/40002365/write-to-file-with-a-structure", "title": "Write to file with a structure", "body": "<p>I want to write to a file in Ruby:</p>\n\n<pre><code>File.open(yourfile, 'w')\n</code></pre>\n\n<p>I want to push text into this file but with a format, for example something like:</p>\n\n<pre><code>                                    Title\n                                 subheading\n               some text here\n                    subtext here\n               ------------------------------------------- \n               sometext here\n                    subtext here\n               -------------------------------------------\n</code></pre>\n\n<p>not sure how i could write with this format to a file?</p>\n"}, {"tags": ["ruby-on-rails", "json", "ruby"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476284804, "post_id": 40002034, "comment_id": 67281804, "body": "what do you intend doing with <code>JSON[&#39;object&#39;]</code> ??"}, {"owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 1, "creation_date": 1476284954, "post_id": 40002034, "comment_id": 67281919, "body": "<code>JSON.parse(RestClient.get endpoint, request)</code> this syntax may be  wrong. Try <code>JSON.parse RestClient.get(endpoint, request)</code>"}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "reply_to_user": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476284965, "post_id": 40002034, "comment_id": 67281926, "body": "@bjhaid Oh, wow! I guess I&#39;ve been staring at this code for too long. Don&#39;t know how I missed that."}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "reply_to_user": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1476287074, "post_id": 40002034, "comment_id": 67283525, "body": "@Santhosh That part works, both ways. I still have the same problem however."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "reply_to_user": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "edited": false, "score": 0, "creation_date": 1476289674, "post_id": 40002034, "comment_id": 67285255, "body": "@NeyLive @Santhosh because ruby is right associative,not only are those both equivalent but you can leave out the parenthesis all together: <code>JSON.parse RestClient.get endpoint, request</code>"}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1476289828, "post_id": 40002034, "comment_id": 67285351, "body": "@NeyLive this line looks wierd: <code>JSON[&#39;object&#39;]</code> did you mean <code>response[&#39;object&#39;]</code>."}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1476290226, "post_id": 40002034, "comment_id": 67285579, "body": "@maxpleaner Yes, I fixed that line. Now an undefined local variable issue but I can sort that out. Then I&#39;ll see if I still have the same problem."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1476290960, "post_id": 40002034, "comment_id": 67285995, "body": "@NeyLive glad to hear that. It&#39;s very helpful if yu include your error in the question, i.e. the stack trace"}], "owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476307688, "creation_date": 1476284720, "last_edit_date": 1476307688, "question_id": 40002034, "link": "https://stackoverflow.com/questions/40002034/how-can-i-fix-this-unexpected-token-json-parser-error", "title": "How can I fix this unexpected token (JSON parser error)", "body": "<p>I am trying to save data from an API to my database, but I'm running into an error. The error states: <code>unexpected token at 'object' (JSON::ParserError)</code></p>\n\n<p>Here is my code:</p>\n\n<pre><code>require 'rest-client'\nrequire 'pp'\n\nendpoint = \"https://api.leaddyno.com/v1/leads\"\n\nclass TestDyno\n\n  def parser(page_number)\n    ## API key\n    request = {:params =&gt; {:key =&gt; Rails.application.secrets.LEADDYNO_PRIVATE, page: page_number}}\n\n    ## Parse JSON\n    response = JSON.parse(RestClient.get endpoint, request)\n\n    @response_count = response.count # Count results on the page.\n\n    pp response\n\n    puts response_count\n  end\n\n\n  def data\n    until @response_count == 0\n      1.upto(5) do |page_number|\n        response['object'].each do |item|\n          LeaddynoLead.save(\n              leaddyno_lead_id: item['id'],\n              email: item['email'],\n              first_name: item['first_name'],\n              last_name: item['last_name'],\n              latest_visitor_id: item['latest_visitor']['id'],\n              latest_visitor_code: item['latest_visitor']['tracking_code'],\n              url: item['url']['url'],\n              referrer_id: item['referrer']['id'],\n              referrer_url: item['referrer']['url'],\n              leaddyno_affiliate_id: item['affiliate']['id'],\n              leaddyno_affiliate_email: item['affiliate']['email'],\n              search_term: item['search_term']['term'],\n              search_engine: item['search_term']['search_engine'],\n              leaddyno_tracking_code: item['tracking_code'],\n              created_at: item['created_at'],\n              updated_at: item['updated_at']\n              )\n            sleep 0.5\n        end\n      end\n    end\n  end\nend\n\nretrieve = TestDyno.new\nretrieve.data\n</code></pre>\n\n<p>I guess I need another set of eyes to look at this and see what is wrong?</p>\n\n<p>The API docs are <a href=\"http://developer.leaddyno.com/rest-api.html\" rel=\"nofollow\">here</a> if that helps. Thanks.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "macos", "homebrew", "bundler"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476284759, "post_id": 40001923, "comment_id": 67281780, "body": "maybe you need to re-install xcode"}, {"owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "reply_to_user": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476285937, "post_id": 40001923, "comment_id": 67282643, "body": "I did re-install xcode. I moved the 7.3 application to the trash and installed 8.0"}], "answers": [{"tags": [], "owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "is_accepted": false, "score": 0, "last_activity_date": 1476287049, "creation_date": 1476287049, "answer_id": 40002850, "question_id": 40001923, "link": "https://stackoverflow.com/questions/40001923/why-cant-i-bundle-install-json-v-1-8-3-and-other-gems-for-mac-osx-sierra/40002850#40002850", "title": "Why can&#39;t I bundle install json -v 1.8.3 and other gems for mac osx sierra?", "body": "<p>It seems the answer to my problem was to install the latest version of bundler. </p>\n\n<p><a href=\"http://bundler.io/\" rel=\"nofollow\">Bundler</a></p>\n"}], "owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476287049, "creation_date": 1476284404, "question_id": 40001923, "link": "https://stackoverflow.com/questions/40001923/why-cant-i-bundle-install-json-v-1-8-3-and-other-gems-for-mac-osx-sierra", "title": "Why can&#39;t I bundle install json -v 1.8.3 and other gems for mac osx sierra?", "body": "<p>I recently upgraded to ruby 2.2.5 and MAC OSX sierra. When I try to <code>bundle install</code> I get a number of errors with a variety of gems. Here are a few examples:</p>\n\n<p>json gem</p>\n\n<pre><code>Gem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n/Users/drubio/.rvm/rubies/ruby-2.2.5/bin/ruby -r ./siteconf20161012-33018-1t7a1pc.rb extconf.rb\n creating Makefile\n\nmake \"DESTDIR=\" clean\n\nmake \"DESTDIR=\"\ncompiling debug_inspector.c\nlinking shared-object debug_inspector.bundle\nld: warning: directory not found for option '-L/Users/travis/.sm/pkg/active/lib'\n\nmake \"DESTDIR=\" install\nmake: /usr/local/bin/gmkdir: No such file or directory\nmake: *** [.RUBYARCHDIR.time] Error 1\n\nmake install failed, exit code 2\n\nGem files will remain installed in /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/debug_inspector-0.0.2 for inspection.\nResults logged to /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/extensions/x86_64-darwin-15/2.2.0-static/debug_inspector-0.0.2/gem_make.out\n</code></pre>\n\n<p>Here is the libv8 gem:</p>\n\n<pre><code>Gem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n/Users/drubio/.rvm/rubies/ruby-2.2.5/bin/ruby -r ./siteconf20161012-33018-u9qwng.rb extconf.rb\ncreating Makefile\nCompiling v8 for x64\nUsing python 2.7.12\nUsing compiler: /usr/bin/c++ (clang version 8.0.0)\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool: file: /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/atomicops_internals_x86_gcc.o has no symbols\nclang: warning: libstdc++ is deprecated; move to libc++ with a minimum deployment target of OS X 10.9\nIn file included from ../src/accessors.cc:28:\nIn file included from ../src/v8.h:60:\nIn file included from ../src/objects-inl.h:38:\nIn file included from ../src/elements.h:32:\n../src/objects.h:5252:44: error: shifting a negative signed value is undefined [-Werror,-Wshift-negative-value]\n  static const int kElementsKindMask = (-1 &lt;&lt; kElementsKindShift) &amp;\n                                        ~~ ^\n../src/objects.h:7386:36: error: shifting a negative signed value is undefined [-Werror,-Wshift-negative-value]\n      (~kMaxCachedArrayIndexLength &lt;&lt; kArrayIndexHashLengthShift) |\n       ~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^\n2 errors generated.\nmake[1]: *** [/Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/v8_base/src/accessors.o] Error 1\nmake: *** [x64.release] Error 2\n/Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/ext/libv8/location.rb:36:in `block in verify_installation!': libv8 did not install properly, expected binary v8 archive '/Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/tools/gyp/libv8_base.a'to exist, but it was not found (Libv8::Location::Vendor::ArchiveNotFound)\n    from /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/ext/libv8/location.rb:35:in `each'\n    from /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/ext/libv8/location.rb:35:in `verify_installation!'\n    from /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/ext/libv8/location.rb:26:in `install!'\n    from extconf.rb:7:in `&lt;main&gt;'\nGYP_GENERATORS=make \\\n    build/gyp/gyp --generator-output=\"out\" build/all.gyp \\\n                  -Ibuild/standalone.gypi --depth=. \\\n                  -Dv8_target_arch=x64 \\\n                  -S.x64  -Dv8_enable_backtrace=1 -Dv8_can_use_vfp2_instructions=true -Darm_fpu=vfpv2 -Dv8_can_use_vfp3_instructions=true -Darm_fpu=vfpv3 -Dwerror=''\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/allocation.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/atomicops_internals_x86_gcc.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/bignum.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/bignum-dtoa.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/cached-powers.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/conversions.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/diy-fp.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/dtoa.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/fast-dtoa.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/fixed-dtoa.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/once.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparse-data.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparser.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/preparser-api.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/scanner.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/strtod.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/token.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/unicode.o\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser_lib/src/utils.o\n  LIBTOOL-STATIC /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/libpreparser_lib.a\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/preparser/preparser/preparser-process.o\n  LINK(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/preparser\n  CXX(target) /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13/vendor/v8/out/x64.release/obj.target/v8_base/src/accessors.o\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/libv8-3.16.14.13 for inspection.\nResults logged to /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/extensions/x86_64-darwin-15/2.2.0-static/libv8-3.16.14.13/gem_make.out\n</code></pre>\n\n<p>and here is a particularly long error/warning for the bluecloth gem:</p>\n\n<pre><code>Gem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    /Users/drubio/.rvm/rubies/ruby-2.2.5/bin/ruby -r ./siteconf20161012-33018-9auiyx.rb extconf.rb\nchecking for srand()... yes\nchecking for random()... yes\nchecking for bzero() in string.h,strings.h... yes\nchecking for strcasecmp()... yes\nchecking for strncasecmp()... yes\nchecking for mkdio.h... yes\nchecking for ruby/encoding.h... yes\ncreating extconf.h\ncreating Makefile\n\nmake \"DESTDIR=\" clean\n\nmake \"DESTDIR=\"\ncompiling bluecloth.c\ncompiling Csio.c\ncompiling css.c\ncompiling docheader.c\ncompiling emmatch.c\nemmatch.c:113:20: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n    case 2: if ( e = empair(f,first,last,match=2) )\n                 ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nemmatch.c:113:20: note: place parentheses around the assignment to silence this warning\n    case 2: if ( e = empair(f,first,last,match=2) )\n                   ^\n                 (                               )\nemmatch.c:113:20: note: use '==' to turn this assignment into an equality comparison\n    case 2: if ( e = empair(f,first,last,match=2) )\n                   ^\n                   ==\n1 warning generated.\ncompiling generate.c\ngenerate.c:609:19: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n    else if ( tag = pseudo(ref-&gt;link) ) {\n              ~~~~^~~~~~~~~~~~~~~~~~~\ngenerate.c:609:19: note: place parentheses around the assignment to silence this warning\n    else if ( tag = pseudo(ref-&gt;link) ) {\n                  ^\n              (                      )\ngenerate.c:609:19: note: use '==' to turn this assignment into an equality comparison\n    else if ( tag = pseudo(ref-&gt;link) ) {\n                  ^\n                  ==\ngenerate.c:703:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n                if ( ref = bsearch(&amp;key, T(*f-&gt;footnotes), S(*f-&gt;footnotes),\n                     ~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ngenerate.c:703:12: note: place parentheses around the assignment to silence this warning\n                if ( ref = bsearch(&amp;key, T(*f-&gt;footnotes), S(*f-&gt;footnotes),\n                         ^\ngenerate.c:703:12: note: use '==' to turn this assignment into an equality comparison\n                if ( ref = bsearch(&amp;key, T(*f-&gt;footnotes), S(*f-&gt;footnotes),\n                         ^\n                         ==\n2 warnings generated.\ncompiling html5.c\ncompiling markdown.c\nmarkdown.c:184:11: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n        if ( end = strstr(T(t-&gt;text), \"--&gt;\") ) {\n             ~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~\nmarkdown.c:184:11: note: place parentheses around the assignment to silence this warning\n        if ( end = strstr(T(t-&gt;text), \"--&gt;\") ) {\n                 ^\n             (                              )\nmarkdown.c:184:11: note: use '==' to turn this assignment into an equality comparison\n        if ( end = strstr(T(t-&gt;text), \"--&gt;\") ) {\n                 ^\n                 ==\nmarkdown.c:232:16: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n                if ( closing = (c == '/') ) c = flogetc(&amp;f);\n                     ~~~~~~~~^~~~~~~~~~~~\nmarkdown.c:232:16: note: place parentheses around the assignment to silence this warning\n                if ( closing = (c == '/') ) c = flogetc(&amp;f);\n                             ^\n                     (                   )\nmarkdown.c:232:16: note: use '==' to turn this assignment into an equality comparison\n                if ( closing = (c == '/') ) c = flogetc(&amp;f);\n                             ^\n                             ==\nmarkdown.c:475:8: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n        if ( x=is_extra_dt(t-&gt;next, clip) )\n             ~^~~~~~~~~~~~~~~~~~~~~~~~~~~\nmarkdown.c:475:8: note: place parentheses around the assignment to silence this warning\n        if ( x=is_extra_dt(t-&gt;next, clip) )\n              ^\n             (                           )\nmarkdown.c:475:8: note: use '==' to turn this assignment into an equality comparison\n        if ( x=is_extra_dt(t-&gt;next, clip) )\n              ^\n              ==\nmarkdown.c:489:14: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n    if ( ret = is_discount_dt(t,clip) )\n         ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nmarkdown.c:489:14: note: place parentheses around the assignment to silence this warning\n    if ( ret = is_discount_dt(t,clip) )\n             ^\n         (                           )\nmarkdown.c:489:14: note: use '==' to turn this assignment into an equality comparison\n    if ( ret = is_discount_dt(t,clip) )\n             ^\n             ==\nmarkdown.c:763:16: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n        if ( p-&gt;ident = malloc(4+strlen(prefix)+S(q-&gt;text)) )\n             ~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmarkdown.c:763:16: note: place parentheses around the assignment to silence this warning\n        if ( p-&gt;ident = malloc(4+strlen(prefix)+S(q-&gt;text)) )\n                      ^\n             (                                             )\nmarkdown.c:763:16: note: use '==' to turn this assignment into an equality comparison\n        if ( p-&gt;ident = malloc(4+strlen(prefix)+S(q-&gt;text)) )\n                      ^\n                      ==\nmarkdown.c:928:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n        if ( para = (q != text) ) {\n             ~~~~~^~~~~~~~~~~~~\nmarkdown.c:928:12: note: place parentheses around the assignment to silence this warning\n        if ( para = (q != text) ) {\n                  ^\n             (                 )\nmarkdown.c:928:12: note: use '==' to turn this assignment into an equality comparison\n        if ( para = (q != text) ) {\n                  ^\n                  ==\n6 warnings generated.\ncompiling mkdio.c\nmkdio.c:272:14: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n    if ( len = S(f.out) ) {\n         ~~~~^~~~~~~~~~\nmkdio.c:272:14: note: place parentheses around the assignment to silence this warning\n    if ( len = S(f.out) ) {\n             ^\n         (             )\nmkdio.c:272:14: note: use '==' to turn this assignment into an equality comparison\n    if ( len = S(f.out) ) {\n             ^\n             ==\n1 warning generated.\ncompiling resource.c\ncompiling setup.c\ncompiling tags.c\ncompiling version.c\ncompiling xml.c\nxml.c:49:14: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n        if ( entity = mkd_xmlchar(c) )\n             ~~~~~~~^~~~~~~~~~~~~~~~\nxml.c:49:14: note: place parentheses around the assignment to silence this warning\n        if ( entity = mkd_xmlchar(c) )\n                    ^\n             (                      )\nxml.c:49:14: note: use '==' to turn this assignment into an equality comparison\n        if ( entity = mkd_xmlchar(c) )\n                    ^\n                    ==\nxml.c:72:14: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n        if ( entity = mkd_xmlchar(c) )\n             ~~~~~~~^~~~~~~~~~~~~~~~\nxml.c:72:14: note: place parentheses around the assignment to silence this warning\n        if ( entity = mkd_xmlchar(c) )\n                    ^\n             (                      )\nxml.c:72:14: note: use '==' to turn this assignment into an equality comparison\n        if ( entity = mkd_xmlchar(c) )\n                    ^\n                    ==\n2 warnings generated.\ncompiling xmlpage.c\nxmlpage.c:33:13: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\n        if ( title = mkd_doc_title(p) )\n             ~~~~~~^~~~~~~~~~~~~~~~~~\nxmlpage.c:33:13: note: place parentheses around the assignment to silence this warning\n        if ( title = mkd_doc_title(p) )\n                   ^\n             (                       )\nxmlpage.c:33:13: note: use '==' to turn this assignment into an equality comparison\n        if ( title = mkd_doc_title(p) )\n                   ^\n                   ==\n1 warning generated.\nlinking shared-object bluecloth_ext.bundle\nld: warning: directory not found for option '-L/Users/travis/.sm/pkg/active/lib'\n\nmake \"DESTDIR=\" install\nmake: /usr/local/bin/gmkdir: No such file or directory\nmake: *** [.RUBYARCHDIR.time] Error 1\n\nmake install failed, exit code 2\n\nGem files will remain installed in /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/gems/bluecloth-2.2.0 for inspection.\nResults logged to /Users/drubio/.rvm/gems/ruby-2.2.5@ohloh-ui/extensions/x86_64-darwin-15/2.2.0-static/bluecloth-2.2.0/gem_make.out\n</code></pre>\n\n<p>I have more errors for a variety of gems like the ones above. I've tried to look into this on stack overflow and some issues and the only thing I found was to update/upgrade brew and to update my xcode version from 7.3 to 8.0. I've done both of these upgrades and the errors still persist. Now I'm at a loss as to what to do. Everything works fine with ruby versions lower than 2.2.5 but the problem happens when I try to <code>cap deploy</code> as the environment that I'm deploying to uses ruby 2.2.5. Does anyone have any ideas as to what could be wrong?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "model-view-controller", "controller"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user896237"}, "is_accepted": false, "score": 0, "last_activity_date": 1476283622, "creation_date": 1476283622, "answer_id": 40001655, "question_id": 40001412, "link": "https://stackoverflow.com/questions/40001412/ruby-on-rails-difference-between-redirect-to-index-and-redirect-to-objects-p/40001655#40001655", "title": "Ruby on Rails - Difference between redirect_to &#39;index&#39; and redirect_to objects_path &amp; redirect_to action: &#39;index&#39;", "body": "<p><code>redirect_to 'index'</code> is not valid code.\nYou need to specify a full path for redirect_to's.</p>\n\n<p>You may be confusing this with <code>render 'index'</code> which is valid code.</p>\n"}, {"comments": [{"owner": {"reputation": 168, "user_id": 7008411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkznV.jpg?s=128&g=1", "display_name": "CareBearKate", "link": "https://stackoverflow.com/users/7008411/carebearkate"}, "edited": false, "score": 0, "creation_date": 1476381597, "post_id": 40002007, "comment_id": 67333019, "body": "Thanks so much for this answer and being so detailed."}], "tags": [], "owner": {"reputation": 12085, "user_id": 632688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6c6e4e8117bbd27fd25e9e2ea350458?s=128&d=identicon&r=PG", "display_name": "Wizard of Ogz", "link": "https://stackoverflow.com/users/632688/wizard-of-ogz"}, "is_accepted": true, "score": 5, "last_activity_date": 1476292386, "last_edit_date": 1476292386, "creation_date": 1476284627, "answer_id": 40002007, "question_id": 40001412, "link": "https://stackoverflow.com/questions/40001412/ruby-on-rails-difference-between-redirect-to-index-and-redirect-to-objects-p/40002007#40002007", "title": "Ruby on Rails - Difference between redirect_to &#39;index&#39; and redirect_to objects_path &amp; redirect_to action: &#39;index&#39;", "body": "<h3>Short answer</h3>\n\n<p>It is recommend in most cases to use the named route helpers. In your case, the correct thing to do is <code>redirect_to kiwis_path</code>.</p>\n\n<h3>Long answer</h3>\n\n<p>When you call redirect_to Rails will respond to the current request with a 302 (Redirect) status and the client (i.e. your browser) will then make <em>another request</em> to the specified location. The location for the redirect is determined by the arguments you pass to <code>redirect_to</code>.</p>\n\n<p>When you pass a <code>String</code> to <code>redirect_to</code> it <em>must</em> be a URL (with the protocol and host, e.g. \"<a href=\"http://localhost:3000/kiwis\" rel=\"nofollow\">http://localhost:3000/kiwis</a>\" or without, e.g. \"/kiwis\")</p>\n\n<p>In your case <code>redirect_to kiwis_path</code> is correct. It is equivalent to <code>redirect_to '/kiwis'</code></p>\n\n<p>When you pass a hash argument <code>action: 'index'</code> the <code>url_for</code> methods is used to generate the URL. </p>\n\n<p><code>redirect_to action: 'index'</code> is the same as <code>redirect_to url_for(action: 'index')</code>. <code>url_for(action: 'index')</code> will match your route for the path <code>/kiwis</code>. </p>\n\n<p>Therefore <code>redirect_to action: 'index'</code> is equivalent to both <code>redirect_to '/kiwis'</code> and <code>redirect_to kiwis_path</code></p>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActionController/Redirecting.html#method-i-redirect_to\" rel=\"nofollow\">Here</a> you can read about the different arguments which <code>redirect_to</code> accepts and how they are handled.</p>\n\n<h3>What happens with <code>redirect_to 'index'</code>?</h3>\n\n<p>I've set up a test controller/action to redirect with <code>redirect_to 'index'</code>. Let's see what happens when making a request to it using curl.</p>\n\n<pre><code>~/projects/gitlab $ curl -v -H \"Accept: text/html\" http://localhost:3000/redirect_test\n</code></pre>\n\n<p>I've omitted some irrelevant parts of the output:</p>\n\n<pre><code>&gt; GET /select_options HTTP/1.1\n&gt; Host: localhost:3000\n&gt; User-Agent: curl/7.43.0\n&gt; Accept: text/html\n&gt;\n&lt; HTTP/1.1 302 Moved Temporarily\n&lt; X-Frame-Options: ALLOWALL\n&lt; X-XSS-Protection: 1; mode=block\n&lt; X-Content-Type-Options: nosniff\n&lt; Location: http://localhost:3000index      &lt;----- That is not what we want!\n</code></pre>\n\n<p>You can see on the last line shown that the value for the Location header is not the desired URL. When I tested in Chrome the request was cancelled when it encountered this bad redirect. Thus the browser stayed on the same page and did not navigate away. This would explain why you had to do a \"hard refresh\" to see changes on your page.</p>\n"}], "owner": {"reputation": 168, "user_id": 7008411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkznV.jpg?s=128&g=1", "display_name": "CareBearKate", "link": "https://stackoverflow.com/users/7008411/carebearkate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2861, "favorite_count": 1, "accepted_answer_id": 40002007, "answer_count": 2, "score": 4, "last_activity_date": 1476292386, "creation_date": 1476283008, "question_id": 40001412, "link": "https://stackoverflow.com/questions/40001412/ruby-on-rails-difference-between-redirect-to-index-and-redirect-to-objects-p", "title": "Ruby on Rails - Difference between redirect_to &#39;index&#39; and redirect_to objects_path &amp; redirect_to action: &#39;index&#39;", "body": "<p>I have a simple model and controller. Let's use Kiwis as an example:</p>\n\n<pre><code>def index\n    @kiwis = Kiwi.all\nend\n\ndef destroy\n    kiwi = Kiwi.find(params[:id])\n    kiwi.destroy\n    redirect_to 'index'\nend\n</code></pre>\n\n<p>I use a delete link on the index page. When I use redirect_to 'index' the page does not refresh the model. I have to do a hard refresh on the page in order for the Kiwi to get removed. However, if I use either redirect_to action: 'index' or redirect_to kiwis_path the page will update after the destroy action. I can't seem to find an explanation on this. Can anyone shed some light on the issue.</p>\n"}, {"tags": ["ruby", "nfs", "rubocop"], "comments": [{"owner": {"reputation": 3537, "user_id": 326807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EQtEs.jpg?s=128&g=1", "display_name": "Reporter", "link": "https://stackoverflow.com/users/326807/reporter"}, "edited": false, "score": 0, "creation_date": 1476282468, "post_id": 40001161, "comment_id": 67280139, "body": "Properbly a wrong version of rubocop or wrong language version of generated binary files?"}, {"owner": {"reputation": 5014, "user_id": 46717, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6a5969043db7a7f09ba4df7a97bb917d?s=128&d=identicon&r=PG", "display_name": "Chris Drappier", "link": "https://stackoverflow.com/users/46717/chris-drappier"}, "reply_to_user": {"reputation": 3537, "user_id": 326807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EQtEs.jpg?s=128&g=1", "display_name": "Reporter", "link": "https://stackoverflow.com/users/326807/reporter"}, "edited": false, "score": 0, "creation_date": 1476283018, "post_id": 40001161, "comment_id": 67280547, "body": "what generated binary files?"}, {"owner": {"reputation": 3537, "user_id": 326807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EQtEs.jpg?s=128&g=1", "display_name": "Reporter", "link": "https://stackoverflow.com/users/326807/reporter"}, "edited": false, "score": 0, "creation_date": 1476283143, "post_id": 40001161, "comment_id": 67280640, "body": "Ok, this application doesn&#39;t generates binary files. My fault. And though, the error message says that there is a version conflict."}, {"owner": {"reputation": 5014, "user_id": 46717, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6a5969043db7a7f09ba4df7a97bb917d?s=128&d=identicon&r=PG", "display_name": "Chris Drappier", "link": "https://stackoverflow.com/users/46717/chris-drappier"}, "reply_to_user": {"reputation": 3537, "user_id": 326807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EQtEs.jpg?s=128&g=1", "display_name": "Reporter", "link": "https://stackoverflow.com/users/326807/reporter"}, "edited": false, "score": 0, "creation_date": 1476286693, "post_id": 40001161, "comment_id": 67283213, "body": "I can&#39;t run bundle install from the nfs version either, it says <code>Attempting to write to &#39;&#47;home&#47;deploy&#47;ruby&#47;2.1.0&#39; is unsupported by your OS.</code> <code>&#47;home&#47;deploy&#47;ruby...</code> is the path to ruby on the vm. I&#39;m not sure why it&#39;s trying to write there instead of using the rvm gemset that i&#39;m currently on. <code>&#47;Users&#47;user&#47;.rvm&#47;rubies&#47;ruby-2.1.6&#47;bin&#47;ruby</code> is what i get from <code>which ruby</code> in the same directory"}, {"owner": {"reputation": 7844, "user_id": 1520557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9KKRA.png?s=128&g=1", "display_name": "Drenmi", "link": "https://stackoverflow.com/users/1520557/drenmi"}, "edited": false, "score": 0, "creation_date": 1476358987, "post_id": 40001161, "comment_id": 67316744, "body": "Are you running RuboCop through Bundler? I.e. <code>bundle exec rubocop</code>?"}, {"owner": {"reputation": 5014, "user_id": 46717, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6a5969043db7a7f09ba4df7a97bb917d?s=128&d=identicon&r=PG", "display_name": "Chris Drappier", "link": "https://stackoverflow.com/users/46717/chris-drappier"}, "edited": false, "score": 0, "creation_date": 1476372701, "post_id": 40001161, "comment_id": 67327661, "body": "either way, with <code>bundle exec</code> or not it gives the same error"}], "owner": {"reputation": 5014, "user_id": 46717, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6a5969043db7a7f09ba4df7a97bb917d?s=128&d=identicon&r=PG", "display_name": "Chris Drappier", "link": "https://stackoverflow.com/users/46717/chris-drappier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476286858, "creation_date": 1476282326, "last_edit_date": 1476286858, "question_id": 40001161, "link": "https://stackoverflow.com/questions/40001161/rubocop-not-executing-from-nfs-folder", "title": "rubocop not executing from nfs folder", "body": "<p>I have a rails project that I run inside a vm and mount the project directory through nfs.  I also have a copy of the project checked out locally.</p>\n\n<p>If I run rubocop on the local version of the project, everything works correctly.  However if I run rubocop in the nfs mounted version i get </p>\n\n<pre><code>Could not find proper version of rubocop (0.39.0) in any of the sources\nRun `bundle install` to install missing gems.\n</code></pre>\n\n<p>If I run <code>bundle install</code> from the remote directory I get</p>\n\n<pre><code>Attempting to write to `/home/deploy/ruby/2.1.0` is unsupported by your OS.\n</code></pre>\n\n<p>However <code>which ruby</code> tells me ruby is located at </p>\n\n<pre><code>/Users/user/.rvm/rubies/ruby-2.1.6/bin/ruby\n</code></pre>\n\n<p>So, why is it looking for gems in /home/deploy/ruby/2.1.0 when my ruby (and rubocop for that matter) is in a totally different place?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 2, "creation_date": 1476282587, "post_id": 40001155, "comment_id": 67280228, "body": "change <code>{Date: k, Total: v.sum { |d| d[&#39;Total&#39;].to_i }</code> to <code>{Date: k, Total: v.sum { |d| d[&#39;Total&#39;].to_i , Grouped: v.size}</code>"}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476282851, "post_id": 40001155, "comment_id": 67280435, "body": "yep, just add the count"}], "answers": [{"comments": [{"owner": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "edited": false, "score": 0, "creation_date": 1476283566, "post_id": 40001370, "comment_id": 67280947, "body": "Sorry I didn&#39;t mean items. I&#39;ve just updated my question. What I really meant was how many days were being grouped into the month. As my JSON contains times so you could have 1000&#39;s per month. So getting the count wouldn&#39;t be correct. Sorry for the confusion."}, {"owner": {"reputation": 2637, "user_id": 1260068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e0f4a1006aaeb0ae65db3d6ccdaa89?s=128&d=identicon&r=PG", "display_name": "roychri", "link": "https://stackoverflow.com/users/1260068/roychri"}, "reply_to_user": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "edited": false, "score": 0, "creation_date": 1476283677, "post_id": 40001370, "comment_id": 67281029, "body": "@Cameron, in this case, the number of items is the number of days, no? That&#39;s what I see anyway. Try this code and see if you get the expected results and compare with a manual count. You&#39;ll see its the same."}, {"owner": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "edited": false, "score": 0, "creation_date": 1476283834, "post_id": 40001370, "comment_id": 67281146, "body": "No, because I might have several objects per day day for different times. So the count would be on every hour rather than every day for that month."}, {"owner": {"reputation": 2637, "user_id": 1260068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e0f4a1006aaeb0ae65db3d6ccdaa89?s=128&d=identicon&r=PG", "display_name": "roychri", "link": "https://stackoverflow.com/users/1260068/roychri"}, "reply_to_user": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "edited": false, "score": 0, "creation_date": 1476284102, "post_id": 40001370, "comment_id": 67281327, "body": "@cameron Then you should change your sample data to reflect that. For example, add <code>{&quot;Date&quot;:&quot;2012-04-01 13:00:00&quot;,&quot;Total&quot;:&quot;50&quot;}</code> which is same day, different hour and different total. right?"}, {"owner": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "edited": false, "score": 0, "creation_date": 1476285165, "post_id": 40001370, "comment_id": 67282069, "body": "Cool, that works :) I&#39;ll have a play with that. Thanks!"}], "tags": [], "owner": {"reputation": 2637, "user_id": 1260068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e0f4a1006aaeb0ae65db3d6ccdaa89?s=128&d=identicon&r=PG", "display_name": "roychri", "link": "https://stackoverflow.com/users/1260068/roychri"}, "is_accepted": true, "score": 1, "last_activity_date": 1476284768, "last_edit_date": 1476284768, "creation_date": 1476282913, "answer_id": 40001370, "question_id": 40001155, "link": "https://stackoverflow.com/questions/40001155/return-how-much-data-grouped-by-in-rails/40001370#40001370", "title": "Return how much data grouped by in Rails", "body": "<p>Knowing that group_by returns a hash where the <strong>keys are evaluated result from the block, and values are arrays of elements in enum corresponding to the key</strong>, then your collect received a |k,v| where the k is the month and v is an array of items in that month.</p>\n\n<p>You can use that to change you code like this:</p>\n\n<pre><code>data = data.group_by { |d| d['Date'].to_date.strftime('%Y-%m') }\n           .collect { |k, v| {Date: k, Total: v.sum { |d| d['Total'].to_i }, Grouped: v.count} }\n</code></pre>\n\n<hr>\n\n<h1>Updated answer</h1>\n\n<p>Ok, based on your comments, here's my updated answer. This code works but it is not the most elegant. There might be a better way to achieve this. But I hope this can help you anyway.</p>\n\n<pre><code>totals = {}\ndata2 = data.group_by { |d|\n  day = d['Date'].to_date.strftime('%Y-%m-%d')\n  totals[day] ||= 0\n  totals[day] += 1\n  d['Date'].to_date.strftime('%Y-%m')\n}.collect { |month, values|\n  {\n    Date: month,\n    Total: values.sum { |d| d['Total'].to_i},\n    Grouped: totals.group_by{|day, v| day.to_date.strftime('%Y-%m')}[month].count\n   }\n}\n</code></pre>\n\n<p>This keeps track of each day in a separate hash <code>totals</code> and then count the days in a specific month.</p>\n\n<hr>\n\n<h1>Slightly more elegant</h1>\n\n<pre><code>days = []\ndata2 = data.group_by { |d|\n  day = d['Date'].to_date.strftime('%Y-%m-%d')\n  days &lt;&lt; day\n  d['Date'].to_date.strftime('%Y-%m')\n}.collect { |month, values|\n  {\n    Date: month,\n    Total: values.sum { |d| d['Total'].to_i},\n    Days: days.uniq.select{|day| day.to_date.strftime('%Y-%m') == month}.count\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 40001370, "answer_count": 1, "score": 0, "last_activity_date": 1476284768, "creation_date": 1476282309, "last_edit_date": 1476284216, "question_id": 40001155, "link": "https://stackoverflow.com/questions/40001155/return-how-much-data-grouped-by-in-rails", "title": "Return how much data grouped by in Rails", "body": "<p>I have the following Ruby code which groups JSON data into months:</p>\n\n<pre><code>  data = data.group_by { |d| d['Date'].to_date.strftime('%Y-%m') }\n             .collect { |k, v| {Date: k, Total: v.sum { |d| d['Total'].to_i }} }\n</code></pre>\n\n<p>So for example it will change:</p>\n\n<pre><code>{\"Date\":\"2012-04-01 12:00:00\",\"Total\":\"50\"},\n{\"Date\":\"2012-04-01 13:00:00\",\"Total\":\"50\"},\n{\"Date\":\"2012-04-02 05:00:00\",\"Total\":\"100\"},\n{\"Date\":\"2012-04-02 06:00:00\",\"Total\":\"100\"}\n</code></pre>\n\n<p>Into:</p>\n\n<pre><code>{\"Date\":\"2012-04\",\"Total\":\"300\"}\n</code></pre>\n\n<p>But I'd like to know how many days were grouped into the new JSON.</p>\n\n<p>So again in my above example, I'd want to return:</p>\n\n<pre><code>{\"Date\":\"2012-04\",\"Total\":\"300\",\"Days\":\"2\"}\n</code></pre>\n\n<p>Edit: I accidentally thought I wanted the total items grouped originally, but I've edited this question, as what I really want to know, is the total days grouped into the month (as some months might not have data for all the days so I want to know how complete the month is).</p>\n\n<p><strong>The data always comes as hourly! So don't need to worry about minutes or seconds.</strong></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "elasticsearch"], "comments": [{"owner": {"reputation": 381, "user_id": 881759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sQCbM.jpg?s=128&g=1", "display_name": "apepper", "link": "https://stackoverflow.com/users/881759/apepper"}, "edited": false, "score": 0, "creation_date": 1476347980, "post_id": 40000942, "comment_id": 67309420, "body": "Can you see in the log, which search request is actually generated and executed? This could help, why the search is not working correctly."}, {"owner": {"reputation": 3772, "user_id": 51482, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ce2095c7e253de508c4a9dd4005f4a1b?s=128&d=identicon&r=PG", "display_name": "Randy Burgess", "link": "https://stackoverflow.com/users/51482/randy-burgess"}, "edited": false, "score": 1, "creation_date": 1490939840, "post_id": 40000942, "comment_id": 73344558, "body": "Seems to be a known issue: <a href=\"https://github.com/ankane/searchkick/pull/639\" rel=\"nofollow noreferrer\">github.com/ankane/searchkick/pull/639</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11597, "user_id": 473467, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2270d703967bfebb9cb555f85b3bb56b?s=128&d=identicon&r=PG", "display_name": "awendt", "link": "https://stackoverflow.com/users/473467/awendt"}, "edited": false, "score": 0, "creation_date": 1476343129, "post_id": 40012494, "comment_id": 67306548, "body": "Do you think it&#39;s an issue with stringified vs. symbolized keys?"}, {"owner": {"reputation": 118, "user_id": 4687962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddc40ff804c275a4062c3511d082fc9c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/4687962/anthony"}, "reply_to_user": {"reputation": 11597, "user_id": 473467, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2270d703967bfebb9cb555f85b3bb56b?s=128&d=identicon&r=PG", "display_name": "awendt", "link": "https://stackoverflow.com/users/473467/awendt"}, "edited": false, "score": 0, "creation_date": 1476348609, "post_id": 40012494, "comment_id": 67309815, "body": "I not actually sure how you do it on ruby cause I&#39;ve been using elasticsearch on java. Hopefully this one can help you. <a href=\"http://stackoverflow.com/questions/30030264/ordering-elasticsearch-results-elasticsearch-rails-gem-rails\" title=\"ordering elasticsearch results elasticsearch rails gem rails\">stackoverflow.com/questions/30030264/&hellip;</a>"}], "tags": [], "owner": {"reputation": 118, "user_id": 4687962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddc40ff804c275a4062c3511d082fc9c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/4687962/anthony"}, "is_accepted": false, "score": 0, "last_activity_date": 1476334139, "creation_date": 1476334139, "answer_id": 40012494, "question_id": 40000942, "link": "https://stackoverflow.com/questions/40000942/why-wont-elasticsearch-sort-my-records-in-descending-order/40012494#40012494", "title": "Why won&#39;t Elasticsearch sort my records in descending order?", "body": "<p>Have you tried\n\"sort\": {\n  \"purchased_at\": \n  { \"order\": \"desc\"  }\n}</p>\n\n<p>PS. I cant comment yet that's why I posted this as an answer</p>\n"}], "owner": {"reputation": 11597, "user_id": 473467, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2270d703967bfebb9cb555f85b3bb56b?s=128&d=identicon&r=PG", "display_name": "awendt", "link": "https://stackoverflow.com/users/473467/awendt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476334139, "creation_date": 1476281702, "question_id": 40000942, "link": "https://stackoverflow.com/questions/40000942/why-wont-elasticsearch-sort-my-records-in-descending-order", "title": "Why won&#39;t Elasticsearch sort my records in descending order?", "body": "<p>I have a an index containing documents with a <code>purchased_at</code>. Its mapping is:</p>\n\n<pre><code>\"purchased_at\" : {\n  \"format\" : \"strict_date_optional_time||epoch_millis\",\n  \"type\" : \"date\"\n}\n</code></pre>\n\n<p>Documents contain field values in this format: <code>\"2013-06-21T11:07:07.000Z\"</code>. <a href=\"https://www.elastic.co/guide/en/elasticsearch/guide/current/_sorting.html#_sorting_by_field_values\" rel=\"nofollow\">The docs</a> say about sorting:</p>\n\n<blockquote>\n  <p>The <code>_score</code> is not calculated, because it is not being used for sorting.</p>\n</blockquote>\n\n<p>This is a pretty good indicator if my <code>sort</code> parameter is used or not. I'm using the <code>elasticsearch</code> gem in version 2.0.0. What's working is sorting in ascending order:</p>\n\n<pre><code>MyModel.search(\"original_id:#{uniq_original_id}\", sort: 'purchased_at')\n</code></pre>\n\n<p>What doesn't work:</p>\n\n<pre><code># syntax documented here:\n# https://github.com/elastic/elasticsearch-rails/blob/15761247f3e99654bda946a178e50b5365414b59/elasticsearch-model/test/integration/active_record_pagination_test.rb#L106\nMyModel.search(\"original_id:#{uniq_original_id}\", sort: [{purchased_at: 'desc'}])\n\n# syntax used here:\n# https://github.com/elastic/elasticsearch-rails/blob/15761247f3e99654bda946a178e50b5365414b59/elasticsearch-persistence/examples/notes/application.rb#L114\nMyModel.search(\"original_id:#{uniq_original_id}\", sort: [{purchased_at: {order: 'desc'}}])\n\n# syntax used here:\n# https://github.com/elastic/elasticsearch-rails/blob/15761247f3e99654bda946a178e50b5365414b59/elasticsearch-rails/lib/rails/templates/searchable.rb#L132\nMyModel.search(\"original_id:#{uniq_original_id}\", sort: {purchased_at: 'desc'})\n</code></pre>\n\n<p>Needless to say, I'm confused. How can I sort the field in descending order?</p>\n"}, {"tags": ["arrays", "ruby", "string", "stringstream"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476281366, "post_id": 40000645, "comment_id": 67279343, "body": "<code>puts array</code> will do the right thing, it will print it with the new line see <a href=\"http://ruby-doc.org/core-2.2.2/IO.html#method-i-puts\" rel=\"nofollow noreferrer\">ruby-doc.org/core-2.2.2/IO.html#method-i-puts</a> <code>If called with an array argument, writes each element on a new line</code>"}], "answers": [{"comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476282169, "post_id": 40001008, "comment_id": 67279923, "body": "<code>The issue is when you split using \\n if there are two \\n characters then an empty &quot;&quot; gets added to the array</code>. Howcome? <code>a = &quot;1\\n2\\n3\\n4\\n&quot;; a.split(&quot;\\n&quot;) #=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;]</code>"}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "reply_to_user": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476282797, "post_id": 40001008, "comment_id": 67280392, "body": "@hack-is-art see the comments to your question"}, {"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476282898, "post_id": 40001008, "comment_id": 67280462, "body": "@AndreyDeineko can you provide me with code please?"}, {"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1476283227, "post_id": 40001008, "comment_id": 67280701, "body": "<code>a = &quot;1\\n\\n2\\n3\\n4\\n&quot;; a.split(&quot;\\n&quot;)</code>"}, {"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "reply_to_user": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476283310, "post_id": 40001008, "comment_id": 67280754, "body": "@hack-is-art, if you added my code, pls paste array and array2."}, {"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476283341, "post_id": 40001008, "comment_id": 67280774, "body": "@AndreyDeineko Thank you, the answer is slightly different that the one you gave, it is: array.each {|array|}"}, {"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476283545, "post_id": 40001008, "comment_id": 67280929, "body": "Yes, I posted the answer mentioning your name and your comment. Thank you so much mate!"}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "reply_to_user": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476283680, "post_id": 40001008, "comment_id": 67281032, "body": "@hack-is-art I think you should just do <code>puts aray</code>"}, {"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476283761, "post_id": 40001008, "comment_id": 67281090, "body": "@AndreyDeineko yes"}], "tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": false, "score": 0, "last_activity_date": 1476281853, "creation_date": 1476281853, "answer_id": 40001008, "question_id": 40000645, "link": "https://stackoverflow.com/questions/40000645/print-elements-of-ruby-array-line-by-line-after-splitting-a-single-string-with/40001008#40001008", "title": "Print elements of ruby array line by line after splitting a single string with &quot;\\n&quot; condition", "body": "<p>The issue is when you split using <code>\\n</code>, if there are two <code>\\n</code> characters then an empty <code>\"\"</code> gets added to the array.</p>\n\n<pre><code>eg: test = [\"this\",\"\",\"is\",\"test\"]\n</code></pre>\n\n<p>Now if you do,</p>\n\n<pre><code>test.each do |a|\n    puts a\nend\n\nThe o/p will be,\n\nthis\n// a new line will come here.\nis\ntest\n</code></pre>\n\n<p>so you should reject the empty values,</p>\n\n<pre><code>test2 = test.reject{ |value| value == \"\"}\n\n  test2.each do |a|\n        puts a\n    end\n</code></pre>\n\n<p>Result is,</p>\n\n<pre><code>  this\n  is\n  test\n</code></pre>\n\n<p>In same way,</p>\n\n<pre><code>output = `git log`\n\narray = output.split(\"\\n\")\n\narray2 = array.reject{ |value| value == \"\"}\n\narray2.each do |a|\n    puts a\nend\n</code></pre>\n\n<p>This will give you the correct result.</p>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "is_accepted": false, "score": 0, "last_activity_date": 1476284032, "last_edit_date": 1476284032, "creation_date": 1476283489, "answer_id": 40001608, "question_id": 40000645, "link": "https://stackoverflow.com/questions/40000645/print-elements-of-ruby-array-line-by-line-after-splitting-a-single-string-with/40001608#40001608", "title": "Print elements of ruby array line by line after splitting a single string with &quot;\\n&quot; condition", "body": "<p>Thanks to @AndreyDeineko, we have that: </p>\n\n<p>\"The issue is when you split using \\n if there are two \\n characters then an empty \"\" gets added to the array. Howcome? a = \"1\\n2\\n3\\n4\\n\"; a.split(\"\\n\") #=> [\"1\", \"2\", \"3\", \"4\"].</p>\n\n<p>Therefore, array.each <code>{ |a| a }</code> will work for you\"</p>\n\n<p>It did not work 100% for me, but using his answer, I manage to achieve the required result which is:</p>\n\n<pre><code>array.each { |a| a }\n    puts array\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3629, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476284032, "creation_date": 1476280887, "question_id": 40000645, "link": "https://stackoverflow.com/questions/40000645/print-elements-of-ruby-array-line-by-line-after-splitting-a-single-string-with", "title": "Print elements of ruby array line by line after splitting a single string with &quot;\\n&quot; condition", "body": "<p>I have a single string, achieved using backticks of the following form:</p>\n\n<pre><code>output = `git log`\n</code></pre>\n\n<p>then, I have splitted the result where there are \"\\n\" and the result went into an array of the form:</p>\n\n<pre><code>array = output.split(\"\\n\")\n</code></pre>\n\n<p>then, I am just trying to output the result in the screen, however, when I am using</p>\n\n<pre><code>array.each do |a|\n    puts a\nend\n</code></pre>\n\n<p>I am getting as a result a double line of the form:</p>\n\n<pre><code>result after puts\n(empty line)\nresult after puts etc\n</code></pre>\n\n<p>when my preferred result is a single line of the form:</p>\n\n<pre><code>result after puts\nresult afters puts etc\n</code></pre>\n\n<p>I tried to perform this with print, but I am getting:</p>\n\n<pre><code>result after puts result after puts etc\n</code></pre>\n\n<p>in a single line.</p>\n\n<p>Can you please help me?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 47, "user_id": 7007704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214c79258c549c37b83999749d00ce3b?s=128&d=identicon&r=PG&f=1", "display_name": "Ksoze", "link": "https://stackoverflow.com/users/7007704/ksoze"}, "edited": false, "score": 0, "creation_date": 1476285817, "post_id": 39999594, "comment_id": 67282542, "body": "Thank you  Martin Evans, that  checked my spelling!"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7007704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214c79258c549c37b83999749d00ce3b?s=128&d=identicon&r=PG&f=1", "display_name": "Ksoze", "link": "https://stackoverflow.com/users/7007704/ksoze"}, "edited": false, "score": 0, "creation_date": 1476285627, "post_id": 40000067, "comment_id": 67282393, "body": "Thank you!  it is works perfect.  solution looks easy ))"}], "tags": [], "owner": {"reputation": 121, "user_id": 6568169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209bb9e3607cb6dadea76fa24016f2b4?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav V.", "link": "https://stackoverflow.com/users/6568169/yaroslav-v"}, "is_accepted": true, "score": 1, "last_activity_date": 1476280171, "last_edit_date": 1476280171, "creation_date": 1476279314, "answer_id": 40000067, "question_id": 39999594, "link": "https://stackoverflow.com/questions/39999594/does-anybody-know-another-way-to-create-join-table-migration-and-specify-a-speci/40000067#40000067", "title": "Does anybody know another way to create join table migration and specify a specific name of references columns in join table?", "body": "<p>You can create relation table this way</p>\n\n<pre><code>def change\n  create_table :studying_instructors_students, id: false do |t|\n    t.integer :instructor_id, index: true\n    t.integer :student_id, index: true\n  end\nend\n</code></pre>\n\n<p>and then you can use  <code>foreign_key:  'instructor_id',</code>  and  <code>association_foreign_key: 'student_id'</code></p>\n\n<p>If I get this wrong way, please, feel free to address additional questions.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 7008093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D1HjaDMyDn4/AAAAAAAAAAI/AAAAAAAALzM/NQBCPvRp0n4/photo.jpg?sz=128", "display_name": "Ajit Singh", "link": "https://stackoverflow.com/users/7008093/ajit-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1476283489, "creation_date": 1476283489, "answer_id": 40001607, "question_id": 39999594, "link": "https://stackoverflow.com/questions/39999594/does-anybody-know-another-way-to-create-join-table-migration-and-specify-a-speci/40001607#40001607", "title": "Does anybody know another way to create join table migration and specify a specific name of references columns in join table?", "body": "<p>I would do something like this:</p>\n\n<pre><code>class Studying::Student &lt; ApplicationRecord\n  has_many :student_instructors, class_name: 'Studying::StudentInstructor'\n  has_many :instructors, through: :student_instructors, class_name: 'Studying::Instructor'\n\nend\n\nclass Studying::Instructor &lt; ApplicationRecord\n  has_many :student_instructors, class_name: 'Studying::StudentInstructor'\n  has_many :students, through: :student_instructors, class_name: 'Studying::Instructor'      \nend\n\nclass Studying::StudentInstructor &lt; ApplicationRecord\n  belongs_to :student, class_name: 'Studying::Student'\n  belongs_to :instructor, class_name: 'Studying::Instructor'      \nend\n</code></pre>\n\n<p>I have three tables here. One for students, second for instructors and third one is a junction table (student_instructors). </p>\n\n<p>Migration for studnt_instructor will look something like this</p>\n\n<pre><code>def change\n  create_table :student_instuctors, id: false do |t|\n    t.integer :instructor_id, index: true\n    t.integer :student_id, index: true\n  end\nend\n</code></pre>\n\n<p>I have not verified the syntax but this is more of logic explanation. </p>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 47, "user_id": 7007704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214c79258c549c37b83999749d00ce3b?s=128&d=identicon&r=PG&f=1", "display_name": "Ksoze", "link": "https://stackoverflow.com/users/7007704/ksoze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 40000067, "answer_count": 2, "score": 0, "last_activity_date": 1476283489, "creation_date": 1476278155, "last_edit_date": 1476279821, "question_id": 39999594, "link": "https://stackoverflow.com/questions/39999594/does-anybody-know-another-way-to-create-join-table-migration-and-specify-a-speci", "title": "Does anybody know another way to create join table migration and specify a specific name of references columns in join table?", "body": "<p>I have these two models: </p>\n\n<pre><code> module Studying\n  class Student &lt; ApplicationRecord\n   has_and_belongs_to_many :instructors,\n                        class_name: 'Studying::Instructor',\n                        foreign_key: 'studying_student_id',\n                        association_foreign_key: 'studying_instructor_id'\n  end\nend\n\n\n module Studying\n  class Instructor &lt; ApplicationRecord\n   has_and_belongs_to_many :students,\n                        class_name: 'Studying::Student',\n                        foreign_key: 'studying_instructor_id',\n                        association_foreign_key: 'studying_student_id'\n  end\nend\n</code></pre>\n\n<p>And for join_table I have generated migration:</p>\n\n<pre><code>def change\n  create_table :studying_instructors_students, id: false do |t|\n  t.belongs_to :studying_instructor, index: { name: 'index_instructors_students_on_studying_instructor_id' }\n  t.belongs_to :studying_student, index: { name: 'index_instructors_students_on_studying_student_id' }\n  end\nend\n</code></pre>\n\n<p>So all is working fine, but the point is, that my senior comrade tells me that I should not use in models things such as:</p>\n\n<pre><code>  foreign_key:  'studying_instructor_id',\n</code></pre>\n\n<p>and  </p>\n\n<pre><code>  association_foreign_key: 'studying_student_id'  \n</code></pre>\n\n<p>but instead of these I should use:</p>\n\n<pre><code>  foreign_key:  'instructor_id', \n</code></pre>\n\n<p>and </p>\n\n<pre><code>  association_foreign_key: 'student_id'\n</code></pre>\n\n<p>and in the same way in the first model because this is against the convention.\nI do not know how I can do this in this models and in tables (how you already understand tables names in db: studying_instructors and  studying_students).</p>\n\n<p>Any advice please ?  </p>\n"}, {"tags": ["ruby", "rubygems", "ruby-c-extension"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476281706, "post_id": 39999550, "comment_id": 67279563, "body": "While I don&#39;t consider this a good idea, <a href=\"https://stackoverflow.com/questions/6063725/how-to-use-hooks-in-ruby-gems\" title=\"how to use hooks in ruby gems\">stackoverflow.com/questions/6063725/&hellip;</a> should answer your question"}, {"owner": {"reputation": 377, "user_id": 5766630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c86c15e8200c850b0a809a8219ec1b?s=128&d=identicon&r=PG&f=1", "display_name": "fibonachoceres", "link": "https://stackoverflow.com/users/5766630/fibonachoceres"}, "reply_to_user": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476859240, "post_id": 39999550, "comment_id": 67517998, "body": "@bjhaid : Thank you for pointing me in the direction of gem install hooks but I believe it is not possible to use it for a specific gem, it has to be enabled for a system wide RubyGems installation from what I&#39;ve noticed."}], "owner": {"reputation": 377, "user_id": 5766630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c86c15e8200c850b0a809a8219ec1b?s=128&d=identicon&r=PG&f=1", "display_name": "fibonachoceres", "link": "https://stackoverflow.com/users/5766630/fibonachoceres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476278057, "creation_date": 1476278057, "question_id": 39999550, "link": "https://stackoverflow.com/questions/39999550/how-do-i-execute-a-ruby-script-when-gem-install-is-called", "title": "How do I execute a ruby script when gem install is called?", "body": "<p>I'm making a Ruby wrapper for a C Library that doesn't really have a system wide installation(the libxxx.a linkable library is distributed). During development, I was able to just keep this .a file in a local folder and refer to it using the C extension code. However this would be cumbersome for anyone who just wants to type gem install into their terminal. Since there is no system wide installation, I would need to execute an intermediate script that downloads the right distribution and then puts it in a generic folder within the gem directory itself.</p>\n\n<p>To be clear, when someone types gem install, a tarball would get downloaded from an ftp, unpacked into the gem folder, and then gem install would proceed normally. If it helps, the C library in question is <a href=\"https://naif.jpl.nasa.gov/naif/toolkit_C.html\" rel=\"nofollow\">CSPICE</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 48635, "user_id": 6742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xPawo.png?s=128&g=1", "display_name": "David Aldridge", "link": "https://stackoverflow.com/users/6742/david-aldridge"}, "edited": false, "score": 0, "creation_date": 1476278188, "post_id": 39999141, "comment_id": 67276879, "body": "I guess you could split it at every ampersand, then join the first and second, and third and fourth elements of the resulting array back together again with ampersands."}], "answers": [{"tags": [], "owner": {"reputation": 6165, "user_id": 2697183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65255fe741b95ba0c641d96ea6750ea9?s=128&d=identicon&r=PG&f=1", "display_name": "AbM", "link": "https://stackoverflow.com/users/2697183/abm"}, "is_accepted": false, "score": 0, "last_activity_date": 1476278583, "creation_date": 1476278583, "answer_id": 39999773, "question_id": 39999141, "link": "https://stackoverflow.com/questions/39999141/how-to-remove-a-second-ampersand-in-a-string/39999773#39999773", "title": "how to remove a second AMPERSAND in a string?", "body": "<p>You can use <a href=\"http://ruby-doc.org/core-2.3.1/String.html#method-i-gsub\" rel=\"nofollow\"><code>gsub</code></a> with a block:</p>\n\n<p>For your first case:</p>\n\n<pre><code> index_to_remove = 2 \n current_index = 0\n my_string = \"apple&amp;banana&amp;grape&amp;apple\"\n my_string.gsub('&amp;') { |x| current_index += 1; current_index == index_to_remove ? '' : x} \n#=&gt; \"apple&amp;bananagrape&amp;apple\"\n</code></pre>\n\n<p>For your second case, you can replace the second &amp; with a unique value and split on that:</p>\n\n<pre><code>index_to_split = 2 \ncurrent_index = 0\nmy_string = \"apple&amp;banana&amp;grape&amp;apple\"\nmy_string.gsub!('&amp;') { |x| current_index += 1; current_index == index_to_split ? '&amp;&amp;' : x}\nmy_string.split('&amp;&amp;')\n#=&gt; [\"apple&amp;banana\", \"grape&amp;apple\"]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8640, "user_id": 4055042, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cd04c63d95d27033b53d4d83fea40c02?s=128&d=identicon&r=PG&f=1", "display_name": "SRack", "link": "https://stackoverflow.com/users/4055042/srack"}, "edited": false, "score": 0, "creation_date": 1476280211, "post_id": 39999835, "comment_id": 67278478, "body": "Deleted my answer to try and optimise and I see you&#39;ve updated to the same as my code for the second query :) Actually thought you had it right first time using <code>rest</code>... do you not think your original better answers the second query @pramod? Perhaps @harsha can clarify?"}, {"owner": {"reputation": 1254, "user_id": 4576274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5Wnd.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4576274/pramod"}, "reply_to_user": {"reputation": 8640, "user_id": 4055042, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cd04c63d95d27033b53d4d83fea40c02?s=128&d=identicon&r=PG&f=1", "display_name": "SRack", "link": "https://stackoverflow.com/users/4055042/srack"}, "edited": false, "score": 0, "creation_date": 1476280311, "post_id": 39999835, "comment_id": 67278569, "body": "@srack I was about to modify to give more general answer. Suppose, if we want to split from third <code>&amp;</code>, then with my original answer we would have three variables.So, modified the solution to answer @harsha-vardhan-reddy second query."}, {"owner": {"reputation": 8640, "user_id": 4055042, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cd04c63d95d27033b53d4d83fea40c02?s=128&d=identicon&r=PG&f=1", "display_name": "SRack", "link": "https://stackoverflow.com/users/4055042/srack"}, "edited": false, "score": 1, "creation_date": 1476280806, "post_id": 39999835, "comment_id": 67278955, "body": "That&#39;s why I went back to the drawing board - got a feeling my current answer doesn&#39;t answer the second query correctly, and that yours (in its current state) does! Should find out soon :)"}], "tags": [], "owner": {"reputation": 1254, "user_id": 4576274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5Wnd.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4576274/pramod"}, "is_accepted": false, "score": 1, "last_activity_date": 1476335292, "last_edit_date": 1476335292, "creation_date": 1476278750, "answer_id": 39999835, "question_id": 39999141, "link": "https://stackoverflow.com/questions/39999141/how-to-remove-a-second-ampersand-in-a-string/39999835#39999835", "title": "how to remove a second AMPERSAND in a string?", "body": "<pre><code>arr = \"apple&amp;banana&amp;grape&amp;apple\".split('&amp;')\n#arr = [\"apple\", \"banana\", \"grape\", \"apple\"]\n</code></pre>\n\n<p>To solve first query,</p>\n\n<pre><code>arr[0..1].join('&amp;').concat(arr[2..-1].join('&amp;'))\n# \"apple&amp;bananagrape&amp;apple\" \n</code></pre>\n\n<p>For second query,</p>\n\n<pre><code>[words[0..1].join('&amp;'), words[2..-1]].flatten\n#[\"apple&amp;banana\", \"grape\", \"apple\"] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1254, "user_id": 4576274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5Wnd.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4576274/pramod"}, "edited": false, "score": 0, "creation_date": 1476280667, "post_id": 40000083, "comment_id": 67278835, "body": "read the second query carefully. I think he wants to ignore first <code>&amp;</code> and split from second onwards :)"}, {"owner": {"reputation": 8640, "user_id": 4055042, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cd04c63d95d27033b53d4d83fea40c02?s=128&d=identicon&r=PG&f=1", "display_name": "SRack", "link": "https://stackoverflow.com/users/4055042/srack"}, "reply_to_user": {"reputation": 1254, "user_id": 4576274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5Wnd.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4576274/pramod"}, "edited": false, "score": 1, "creation_date": 1476280899, "post_id": 40000083, "comment_id": 67279024, "body": "That was my thinking and why I cleared the answer! Noticed everyone else had gone with this solution so thought I&#39;d pop it back in, and that you&#39;d edited yours to do the same. Think now you&#39;ve turned it back you have the right solution. +1 to yours..."}], "tags": [], "owner": {"reputation": 8640, "user_id": 4055042, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cd04c63d95d27033b53d4d83fea40c02?s=128&d=identicon&r=PG&f=1", "display_name": "SRack", "link": "https://stackoverflow.com/users/4055042/srack"}, "is_accepted": false, "score": 0, "last_activity_date": 1476279968, "last_edit_date": 1476279968, "creation_date": 1476279352, "answer_id": 40000083, "question_id": 39999141, "link": "https://stackoverflow.com/questions/39999141/how-to-remove-a-second-ampersand-in-a-string/40000083#40000083", "title": "how to remove a second AMPERSAND in a string?", "body": "<p>If you split the string by the <code>&amp;</code>, it's quite simple to rejoin the first two / last two and convert back into a string or array:</p>\n\n<pre><code>words = \"apple&amp;banana&amp;grape&amp;apple\".split('&amp;')\n\n# First query\nwords[0..1].join('&amp;') + words[2..-1].join('&amp;')\n# Giving you: \"apple&amp;bananagrape&amp;apple\"\n\n# Second query\n[words[0..1].join('&amp;'), words[2..-1].join('&amp;')]\n# Giving you: [\"apple&amp;banana\", \"grape&amp;apple\"]\n</code></pre>\n\n<p>You could tweak this for different length strings and separators as needed.</p>\n\n<p>I imagine there's a good solution using regex matchers, but I'm not too hot on them, so hope this helps in some way!</p>\n"}], "owner": {"reputation": 159, "user_id": 6808888, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3f0a82e76ef385975db788e15b384b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Harsha", "link": "https://stackoverflow.com/users/6808888/harsha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1476335292, "creation_date": 1476276891, "question_id": 39999141, "link": "https://stackoverflow.com/questions/39999141/how-to-remove-a-second-ampersand-in-a-string", "title": "how to remove a second AMPERSAND in a string?", "body": "<p>1.how to remove second AMPERSAND from following string?\n\"apple&amp;banana&amp;grape&amp;apple\"</p>\n\n<p>2.how to split the string at second AMPERSAND for following string? I want to ignore the first AMPERSAND and split from second AMPERSAND onwards.\n\"apple&amp;banana&amp;grape&amp;apple\"</p>\n"}, {"tags": ["ruby", "xpath", "appium", "appium-ios"], "comments": [{"owner": {"reputation": 408, "user_id": 6829425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7px6.jpg?s=128&g=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/6829425/sid"}, "edited": false, "score": 0, "creation_date": 1476310386, "post_id": 39998434, "comment_id": 67296577, "body": "Needs more info.. What kind of slowness is it? Is finding element slow or even if element is found the action is slow (ex: each alphabet is typed slowly in a text field)? What are the explicit and implicit wait times? Type of app(web, native) and the html/ code for the elements to try css and other identifiers."}, {"owner": {"reputation": 31, "user_id": 6893038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/597e8d7313b867732bd387d4d11a49bf?s=128&d=identicon&r=PG&f=1", "display_name": "sohaib ", "link": "https://stackoverflow.com/users/6893038/sohaib"}, "reply_to_user": {"reputation": 408, "user_id": 6829425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7px6.jpg?s=128&g=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/6829425/sid"}, "edited": false, "score": 0, "creation_date": 1476369981, "post_id": 39998434, "comment_id": 67325576, "body": "I believe it is an issue of taking too long to find elements on the screen. I also experienced this with android on the same screens but was able to vastly speed that up by turning off animations. Is there any way I can do that for iOS? The app is native."}], "owner": {"reputation": 31, "user_id": 6893038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/597e8d7313b867732bd387d4d11a49bf?s=128&d=identicon&r=PG&f=1", "display_name": "sohaib ", "link": "https://stackoverflow.com/users/6893038/sohaib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476274709, "creation_date": 1476274709, "question_id": 39998434, "link": "https://stackoverflow.com/questions/39998434/appium-and-ruby-ios-tests-runs-v-slow-switch-xpath-search-strategy-to-someth", "title": "Appium and Ruby: iOS tests runs v. slow - switch xpath search strategy to something else", "body": "<p>For appium, my iOS tests are running pretty slow. I thought this was an issue with instruments-without-delay. I have followed guides online to get iwd to work(e.g. changing plist etc) but tests are still slow so I'm not sure if iwd is the issue. One suggestion I found was to not use xpath locator strategies but I'm not sure how I would change them to not use xpath. The locator code is:</p>\n\n<pre><code># Search by name or exact text.\nvalue = '//*[@name=\"' + element_name + '\"]'\nelements = $driver.find_elements(:xpath, value)\n\n# Search for element containing the text \"element_name\". Uses xpath.\n# iOS searches by name, Android by text.\nis_iphone ? (xpath = '//*[contains(@name, \"' + element_name + '\")]') : (xpath = '//*[contains(@text, \"' + element_name + '\")]')\n</code></pre>\n\n<p>Is there a way to search for the name/text/label of an element without using xpath? (Especially since appium doesn't support locator strategy by name).</p>\n\n<p>Similarly, is there anything else I can do to speed up the tests? </p>\n\n<p>I am running this on iOS 9.3 simulator and xcode 7.</p>\n"}, {"tags": ["arrays", "ruby", "permutation"], "comments": [{"owner": {"reputation": 12629, "user_id": 4739257, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MdhEs.jpg?s=128&g=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/4739257/ilya"}, "edited": false, "score": 0, "creation_date": 1476273357, "post_id": 39997969, "comment_id": 67273662, "body": "<code>[1, 2].permutation.to_a + [1, 2].zip</code>"}, {"owner": {"reputation": 34664, "user_id": 390819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee2ef44de10f7791cca06df317246935?s=128&d=identicon&r=PG", "display_name": "Cristian Lupascu", "link": "https://stackoverflow.com/users/390819/cristian-lupascu"}, "edited": false, "score": 1, "creation_date": 1476273364, "post_id": 39997969, "comment_id": 67273666, "body": "what would be the expected results for <code>[1, 2, 3]</code> or <code>[2, 1, 2]</code>?"}, {"owner": {"reputation": 79, "user_id": 6404915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a80ad4b4f73ebfac6c2699a8f5869e1?s=128&d=identicon&r=PG&f=1", "display_name": "t50", "link": "https://stackoverflow.com/users/6404915/t50"}, "reply_to_user": {"reputation": 34664, "user_id": 390819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee2ef44de10f7791cca06df317246935?s=128&d=identicon&r=PG", "display_name": "Cristian Lupascu", "link": "https://stackoverflow.com/users/390819/cristian-lupascu"}, "edited": false, "score": 0, "creation_date": 1476273639, "post_id": 39997969, "comment_id": 67273843, "body": "@w0lf the same as [1,2,3].permutation.to_a as well as [1,2][2,1][3,1][1,3][3,2][2,3][1][2][3], I believe."}, {"owner": {"reputation": 34664, "user_id": 390819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee2ef44de10f7791cca06df317246935?s=128&d=identicon&r=PG", "display_name": "Cristian Lupascu", "link": "https://stackoverflow.com/users/390819/cristian-lupascu"}, "edited": false, "score": 1, "creation_date": 1476273982, "post_id": 39997969, "comment_id": 67274037, "body": "don&#39;t know if this is a duplicate, but I find it related: <a href=\"http://stackoverflow.com/q/28296301/390819\">stackoverflow.com/q/28296301/390819</a>"}, {"owner": {"reputation": 8160, "user_id": 163640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d63f02794544d271573750a83842cf59?s=128&d=identicon&r=PG", "display_name": "eugen", "link": "https://stackoverflow.com/users/163640/eugen"}, "edited": false, "score": 0, "creation_date": 1476274506, "post_id": 39997969, "comment_id": 67274367, "body": "these are not permutations of an array, they look like union of subsets permutations. Please be more specific, and more clear about you mean by removing an item from the resulting collection."}, {"owner": {"reputation": 1254, "user_id": 4576274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5Wnd.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4576274/pramod"}, "edited": false, "score": 0, "creation_date": 1476279828, "post_id": 39997969, "comment_id": 67278151, "body": "Please mention what you have tried till now. Also, go through this document. <a href=\"https://ruby-doc.org/core-2.2.0/Array.html#method-i-permutation\" rel=\"nofollow noreferrer\">ruby-doc.org/core-2.2.0/Array.html#method-i-permutation</a>"}], "owner": {"reputation": 79, "user_id": 6404915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a80ad4b4f73ebfac6c2699a8f5869e1?s=128&d=identicon&r=PG&f=1", "display_name": "t50", "link": "https://stackoverflow.com/users/6404915/t50"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476273553, "creation_date": 1476273261, "last_edit_date": 1476273553, "question_id": 39997969, "link": "https://stackoverflow.com/questions/39997969/ruby-create-all-permutations-of-array-and-remove-items", "title": "Ruby Create all permutations of array and remove items", "body": "<p>I would like to have the following permutation array from the array <code>[1,2]</code>:</p>\n\n<pre><code>[1]\n[2]\n[1,2]\n[2,1]\n</code></pre>\n\n<p>I cannot think how to remove an item from the permutation like this.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "unit-testing", "rspec", "axlsx"], "comments": [{"owner": {"reputation": 4480, "user_id": 259889, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/aba1af6d6197093c880797a82e1bc2a2?s=128&d=identicon&r=PG", "display_name": "Sid", "link": "https://stackoverflow.com/users/259889/sid"}, "edited": false, "score": 0, "creation_date": 1476272812, "post_id": 39997752, "comment_id": 67273366, "body": "I am getting the same issue."}, {"owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "edited": false, "score": 0, "creation_date": 1476317126, "post_id": 39997752, "comment_id": 67298516, "body": "Is it the <code>view</code> test? Can you provide the full info for your test at least the things which it related to(before/let/describe blocks)?"}, {"owner": {"reputation": 162, "user_id": 4144635, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05022e6a87b7c87550207564c4deb80a?s=128&d=identicon&r=PG&f=1", "display_name": "kavita jadhav", "link": "https://stackoverflow.com/users/4144635/kavita-jadhav"}, "edited": false, "score": 0, "creation_date": 1476331641, "post_id": 39997752, "comment_id": 67301991, "body": "There are no before/after/let statements. describe block is as:                                         describe &#39;report.xlsx.axlsx&#39; do  end  actual file name is &#39;report.xlsx.axlsx&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "is_accepted": false, "score": 2, "last_activity_date": 1476347214, "last_edit_date": 1476347214, "creation_date": 1476346271, "answer_id": 40015605, "question_id": 39997752, "link": "https://stackoverflow.com/questions/39997752/ruby-rspec-axlsx-unit-testing-error/40015605#40015605", "title": "Ruby Rspec AXLSX unit testing error", "body": "<p>Here's how <code>xlsx_package</code> is assigned: </p>\n\n<pre><code>def self.call(template)\n  \"xlsx_author = defined?(xlsx_author).nil? ? nil : xlsx_author;\\n\" +\n  \"xlsx_created_at = defined?(xlsx_created_at).nil? ? nil : xlsx_created_at;\\n\" +\n  \"xlsx_use_shared_strings = defined?(xlsx_use_shared_strings).nil? ? nil : xlsx_use_shared_strings;\\n\" +\n  \"xlsx_package = Axlsx::Package.new(\\n\" +\n    \":author =&gt; xlsx_author,\\n\" +\n    \":created_at =&gt; xlsx_created_at,\\n\" +\n    \":use_shared_strings =&gt; xlsx_use_shared_strings\\n\" +\n    \");\\n\" +\n  template.source +\n  \";\\nxlsx_package.to_stream.string;\"\nend\n</code></pre>\n\n<p><a href=\"https://github.com/straydogstudio/axlsx_rails/blob/afdcf7266b91f3d70c640209702257a635afddc4/lib/axlsx_rails/template_handler.rb#L13\" rel=\"nofollow\">https://github.com/straydogstudio/axlsx_rails/blob/afdcf7266b91f3d70c640209702257a635afddc4/lib/axlsx_rails/template_handler.rb#L13</a></p>\n\n<p>As you can see you can't stub this, but you can change your test a bit:</p>\n\n<pre><code>it 'should write data in file' do\n  workbook = double('Workbook')\n  worksheet = double('Worksheet')\n  xlsx_package = double('Package', workbook: workbook)\n\n  expect(Axlsx::Package).to receive(:new).and_return(xlsx_package)\n\n  expect(xlsx_package).to receive(:workbook).and_return(workbook)\n  expect(workbook).to receive(:add_worksheet).with(name: 'my_work_sheet').and_return(worksheet)\n  expect(worksheet).to receive(:add_row).with(['first row'])\nend\n</code></pre>\n\n<p>I can't give you the full example because you haven't posted your view template. \nYou also need to understand how the rendering works with the view tests, because your test is still invalid.</p>\n"}], "owner": {"reputation": 162, "user_id": 4144635, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05022e6a87b7c87550207564c4deb80a?s=128&d=identicon&r=PG&f=1", "display_name": "kavita jadhav", "link": "https://stackoverflow.com/users/4144635/kavita-jadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476347214, "creation_date": 1476272580, "last_edit_date": 1476272908, "question_id": 39997752, "link": "https://stackoverflow.com/questions/39997752/ruby-rspec-axlsx-unit-testing-error", "title": "Ruby Rspec AXLSX unit testing error", "body": "<p>Here is my code.</p>\n\n<pre><code>wb = xlsx_package.workbook\nwb.add_worksheet(name: 'my_work_sheet') do |sheet|\n   sheet.add_row ['first row']\nend\n</code></pre>\n\n<p>I have written unit test for above code.\nHere is it:</p>\n\n<pre><code>it 'should write data in file' do\n    workbook = double('Workbook')\n    worksheet = double('Worksheet')\n\n    expect(xlsx_package).to receive(:workbook).and_return(workbook)\n    expect(workbook).to receive(:add_worksheet).with(name: 'my_work_sheet').and_return(worksheet)\n    expect(worksheet).to receive(:add_row).with(['first row'])\nend\n</code></pre>\n\n<p>I am getting error <strong>'xlsx_package'</strong> not found</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "hash"], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "edited": false, "score": 0, "creation_date": 1476271047, "post_id": 39997128, "comment_id": 67272211, "body": "and what about second condition that is for protein"}, {"owner": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "edited": false, "score": 0, "creation_date": 1476271106, "post_id": 39997128, "comment_id": 67272241, "body": "In same array I want to check it for &#39;carbohydrates&#39; &amp; &#39;protein&#39;. Is it possible?"}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "reply_to_user": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "edited": false, "score": 0, "creation_date": 1476271558, "post_id": 39997128, "comment_id": 67272519, "body": "@HemantPatil edited the answer, even though it is a solution for specific case, not generalized"}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 1, "creation_date": 1476271574, "post_id": 39997128, "comment_id": 67272524, "body": "I think it&#39;s supposed to be an <code>and</code> condtion, not <code>or</code>... but otherwise good answer."}, {"owner": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "edited": false, "score": 0, "creation_date": 1476271689, "post_id": 39997128, "comment_id": 67272597, "body": "I think  SteveTurczyn  is right. If I use &#39;or&#39; condition thme it will output true if either of the conditions is matched."}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 1, "creation_date": 1476271844, "post_id": 39997128, "comment_id": 67272705, "body": "I wonder who has downvoted it? With <code>&amp;&amp;</code> it will never match the condition, because it will search for 2 values at the same key."}, {"owner": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "edited": false, "score": 0, "creation_date": 1476271886, "post_id": 39997128, "comment_id": 67272728, "body": "Thank you for your answer Andrey :) You are genious :)"}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 0, "creation_date": 1476272056, "post_id": 39997128, "comment_id": 67272851, "body": "@AndreyDeineko made a good point... for any element to be true calories as to be both 268 and 48 at the same time, which is impossible, of course."}], "tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": false, "score": 1, "last_activity_date": 1476272274, "last_edit_date": 1476272274, "creation_date": 1476270663, "answer_id": 39997128, "question_id": 39997083, "link": "https://stackoverflow.com/questions/39997083/search-for-matching-key-value-pair-in-an-array-of-hashes-and-return-true-if-matc/39997128#39997128", "title": "search for matching key-value pair in an array of hashes and return true if match found", "body": "<pre><code>a.count do |hash|\n  (hash['nutrient'] == 'carbohydrates' &amp;&amp; hash['calories'] == 268) || (hash['nutrient'] == 'protein' &amp;&amp; hash['calories'] == 48)\nend == 2\n</code></pre>\n\n<p>What this does, is it counts any element in the collection, that passes <strong>EITHER</strong> this condition:</p>\n\n<pre><code>hash['nutrient'] == 'carbohydrates' &amp;&amp; hash['calories'] == 268\n</code></pre>\n\n<p>OR this one</p>\n\n<pre><code>hash['nutrient'] == 'protein' &amp;&amp; hash['calories'] == 48\n</code></pre>\n\n<p>And it returns <code>true</code> if there are exactly two matches.</p>\n"}, {"comments": [{"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 0, "creation_date": 1476271804, "post_id": 39997389, "comment_id": 67272672, "body": "Generally, <code>puts</code> isn&#39;t useful in these cases.  It produces output on the console, but the <code>puts</code> method itself always returns <code>nil</code>.  And as you want to return an array of answers (i.e. an answer for each element in the initial array) then <code>map</code> will be more useful than <code>each</code>"}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 0, "creation_date": 1476271898, "post_id": 39997389, "comment_id": 67272741, "body": "Also, you want to refactor this so that it returns <code>true</code> only if both comparisons are <code>true</code>."}, {"owner": {"reputation": 286, "user_id": 6349403, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ce09db1dc600f8c20326e791aa8e0e6c?s=128&d=identicon&r=PG&f=1", "display_name": "Gopal", "link": "https://stackoverflow.com/users/6349403/gopal"}, "reply_to_user": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 0, "creation_date": 1476272457, "post_id": 39997389, "comment_id": 67273130, "body": "@SteveTurczyn  Okay, Updated the answer, but OP hasn&#39;t asked that array must be the returned value."}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 0, "creation_date": 1476275567, "post_id": 39997389, "comment_id": 67275042, "body": "True, but in either case <code>each</code> isn&#39;t going to work... either <code>map</code> or <code>any?</code> ... and I would not use <code>map!</code> as that will destroy the original array."}], "tags": [], "owner": {"reputation": 286, "user_id": 6349403, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ce09db1dc600f8c20326e791aa8e0e6c?s=128&d=identicon&r=PG&f=1", "display_name": "Gopal", "link": "https://stackoverflow.com/users/6349403/gopal"}, "is_accepted": false, "score": -1, "last_activity_date": 1476272396, "last_edit_date": 1476272396, "creation_date": 1476271529, "answer_id": 39997389, "question_id": 39997083, "link": "https://stackoverflow.com/questions/39997083/search-for-matching-key-value-pair-in-an-array-of-hashes-and-return-true-if-matc/39997389#39997389", "title": "search for matching key-value pair in an array of hashes and return true if match found", "body": "<pre><code>a=[ {\"nutrient\"=&gt;\"protein\", \"value\"=&gt;12, \"calories\"=&gt;48, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"fat\", \"value\"=&gt;5, \"calories\"=&gt;45, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"fibre\", \"value\"=&gt;1, \"calories\"=&gt;nil, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"carbohydrates\", \"value\"=&gt;67, \"calories\"=&gt;268, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"calcium\", \"value\"=&gt;42, \"calories\"=&gt;nil, \"unit\"=&gt;\"mg\"}]\n\n    a.map! do |value|\n      if value[\"nutrient\"].eql?'protein' and value[\"calories\"].eql?268\n        true\n      elsif  value[\"nutrient\"].eql?'protein' and value[\"calories\"].eql?48\n        true\n      else\n        false\n      end\n    end\n\nputs a.inspect  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476273926, "post_id": 39997440, "comment_id": 67274014, "body": "I think you can use <code>finders.all? { |finder| array.any? { ... } }</code> to avoid the explicit returns."}, {"owner": {"reputation": 5449, "user_id": 681520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/701baebf68d1d7faa9f9def6a24fe356?s=128&d=identicon&r=PG", "display_name": "Kimmo Lehto", "link": "https://stackoverflow.com/users/681520/kimmo-lehto"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476274541, "post_id": 39997440, "comment_id": 67274389, "body": "@Stefan true that"}], "tags": [], "owner": {"reputation": 5449, "user_id": 681520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/701baebf68d1d7faa9f9def6a24fe356?s=128&d=identicon&r=PG", "display_name": "Kimmo Lehto", "link": "https://stackoverflow.com/users/681520/kimmo-lehto"}, "is_accepted": false, "score": 1, "last_activity_date": 1476275349, "last_edit_date": 1476275349, "creation_date": 1476271693, "answer_id": 39997440, "question_id": 39997083, "link": "https://stackoverflow.com/questions/39997083/search-for-matching-key-value-pair-in-an-array-of-hashes-and-return-true-if-matc/39997440#39997440", "title": "search for matching key-value pair in an array of hashes and return true if match found", "body": "<p>Perhaps this:</p>\n\n<pre><code>a.any? {|h| h['nutrient'] == 'carbohydrates' &amp;&amp; h['calories'] == 268} &amp;&amp; \na.any? {|h| h['nutrient'] == 'proteins'      &amp;&amp; h['calories'] == 48}\n# =&gt; true\n</code></pre>\n\n<p>Or as a nice finder method:</p>\n\n<pre><code>a = [ {\"nutrient\"=&gt;\"protein\", \"value\"=&gt;12, \"calories\"=&gt;48, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"fat\", \"value\"=&gt;5, \"calories\"=&gt;45, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"fibre\", \"value\"=&gt;1, \"calories\"=&gt;nil, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"carbohydrates\", \"value\"=&gt;67, \"calories\"=&gt;268, \"unit\"=&gt;\"g\"}, {\"nutrient\"=&gt;\"calcium\", \"value\"=&gt;42, \"calories\"=&gt;nil, \"unit\"=&gt;\"mg\"}]\n\ndef all?(array, *finders)\n  finders.all? do |finder|\n    array.any? { |hash| finder.all? { |k,v| hash[k] == v } }\n  end\nend\n\nputs all?(\n  a, \n  {'nutrient' =&gt; 'protein', 'value' =&gt; 12}, \n  {'nutrient' =&gt; 'fat', 'calories' =&gt; 45}\n).inspect\n\nputs all?(\n  a, \n  {'nutrient' =&gt; 'protein', 'value' =&gt; 12},\n  {'nutrient' =&gt; 'fat', 'calories' =&gt; 46}\n).inspect\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>true\nfalse\n</code></pre>\n\n<p>The method will return false if a matching hash is not found from any of the hashes inside the array.</p>\n"}, {"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1476272068, "creation_date": 1476272068, "answer_id": 39997585, "question_id": 39997083, "link": "https://stackoverflow.com/questions/39997083/search-for-matching-key-value-pair-in-an-array-of-hashes-and-return-true-if-matc/39997585#39997585", "title": "search for matching key-value pair in an array of hashes and return true if match found", "body": "<p>Assuming that the <code>nutrient</code> values are unique, you could build a <code>calories</code> hash via:</p>\n\n<pre><code>calories = a.each_with_object({}) { |e, h| h[e['nutrient']] = e['calories'] }\n#=&gt; {\"protein\"=&gt;48, \"fat\"=&gt;45, \"fibre\"=&gt;nil, \"carbohydrates\"=&gt;268, \"calcium\"=&gt;nil}\n</code></pre>\n\n<p>And check for the values via:</p>\n\n<pre><code>calories['carbohydrates'] == 268 &amp;&amp; calories['protein'] == 48\n#=&gt; true\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476356223, "post_id": 40013281, "comment_id": 67314898, "body": "Did not test it, but I think you can use <code>target.all? {...}</code> instead of <code>target.map { ... }.reduce(:&amp;)</code>."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476376902, "post_id": 40013281, "comment_id": 67330479, "body": "@Stefan, yes, of course. Not only is that more efficient (since <code>all?</code> bails as soon as it gets a <code>false</code>), but it reads much better. Thanks. (Readers: I formerly had <code>map</code> rather than <code>all?</code> and <code>.reduce(:&amp;)</code> at the end.)"}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1476375101, "last_edit_date": 1476375101, "creation_date": 1476338014, "answer_id": 40013281, "question_id": 39997083, "link": "https://stackoverflow.com/questions/39997083/search-for-matching-key-value-pair-in-an-array-of-hashes-and-return-true-if-matc/40013281#40013281", "title": "search for matching key-value pair in an array of hashes and return true if match found", "body": "<p>Below, <code>arr</code> is the given array of hashes (as in the example) and <code>target</code> is a second array of hashes such as the following.</p>\n\n<pre><code>target = [{ \"nutrient\"=&gt;\"carbohydrates\", \"calories\"=&gt;268 },\n          { \"nutrient\"=&gt;\"protein\", \"calories\"=&gt;48 }]\n</code></pre>\n\n<p>We wish to determine if, for all hashes <code>h</code> in <code>target</code>, there is a hash in <code>arr</code> having the same key-value pairs as those that comprise <code>h</code>. We can do that with the following method.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>def all_match?(arr, target)\n  target.all? { |h| arr.any? { |g| g.merge(h) == g } }\nend\n</code></pre>\n\n<p><strong>Examples</strong></p>\n\n<p>For the above value of <code>target</code>, we obtain</p>\n\n<pre><code>all_match?(arr, target)\n  #=&gt; true\n</code></pre>\n\n<p>Now let's modify <code>target</code> so there is no match in <code>arr</code>.</p>\n\n<pre><code>target[1][\"calories\"] = 50\n  #=&gt; 50\ntarget\n  #=&gt; [{\"nutrient\"=&gt;\"carbohydrates\", \"calories\"=&gt;268},\n  #    {\"nutrient\"=&gt;\"protein\", \"calories\"=&gt;50}]\nall_match?(arr, target)\n  #=&gt; false\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>In the second example the steps are as follows. The first element of target is passed to the block, resulting in</p>\n\n<pre><code>h = target[0]\n  #=&gt; {\"nutrient\"=&gt;\"carbohydrates\", \"calories\"=&gt;268}\n</code></pre>\n\n<p>and the block calculation is performed.</p>\n\n<pre><code>arr.any? { |g| g.merge(h) == g }\n  #=&gt; true\n</code></pre>\n\n<p>As it happens, the matching hash is</p>\n\n<pre><code>g = arr[3]\n  #=&gt;{\"nutrient\"=&gt;\"carbohydrates\", \"value\"=&gt;67, \"calories\"=&gt;268, \"unit\"=&gt;\"g\"},\ng.merge(h) == g\n  #=&gt; true\n</code></pre>\n\n<p>What I've done is merge <code>h</code> into each hash in <code>arr</code> until/if one is found, <code>g</code>, that returns <code>g</code> unchanged by the merge. For that to happen all key-value pairs in <code>h</code> must be present in <code>g</code>.</p>\n\n<p>Because <code>true</code> was returned, <code>all?</code> passes the second element of <code>target</code> to the block and the block calculation is performed.</p>\n\n<pre><code>h = target[1]\n  #=&gt; {\"nutrient\"=&gt;\"protein\", \"calories\"=&gt;50} \narr.any? { |g| g.merge(h) == g }\n  #=&gt; false  \n</code></pre>\n\n<p>Having found a <code>false</code>, <code>all?</code> returns <code>false</code>.</p>\n"}], "owner": {"reputation": 211, "user_id": 4287118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-lgSRWHI-t5o/AAAAAAAAAAI/AAAAAAAABT8/Q8JFtdEhp_g/photo.jpg?sz=128", "display_name": "Hemant Patil", "link": "https://stackoverflow.com/users/4287118/hemant-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 0, "accepted_answer_id": 39997585, "answer_count": 5, "score": 3, "last_activity_date": 1476445474, "creation_date": 1476270487, "last_edit_date": 1476445474, "question_id": 39997083, "link": "https://stackoverflow.com/questions/39997083/search-for-matching-key-value-pair-in-an-array-of-hashes-and-return-true-if-matc", "title": "search for matching key-value pair in an array of hashes and return true if match found", "body": "<p>Suppose I have this array of hashes:</p>\n\n<pre><code>[ {\"nutrient\"=&gt;\"protein\", \"value\"=&gt;12, \"calories\"=&gt;48, \"unit\"=&gt;\"g\"},\n  {\"nutrient\"=&gt;\"fat\", \"value\"=&gt;5, \"calories\"=&gt;45, \"unit\"=&gt;\"g\"},\n  {\"nutrient\"=&gt;\"fibre\", \"value\"=&gt;1, \"calories\"=&gt;nil, \"unit\"=&gt;\"g\"},\n  {\"nutrient\"=&gt;\"carbohydrates\", \"value\"=&gt;67, \"calories\"=&gt;268, \"unit\"=&gt;\"g\"},\n  {\"nutrient\"=&gt;\"calcium\", \"value\"=&gt;42, \"calories\"=&gt;nil, \"unit\"=&gt;\"mg\"}]\n</code></pre>\n\n<p>How can I return boolean true if (nutrient value is equal to 'carbohydrates' and it's calories are equal to 268 ) and (if nutrient value is equal to 'protein' and it's calories are equal to 48)</p>\n\n<p>That is, in short I want to return true for above array of hash.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 3164, "user_id": 193785, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b9110bc3c6f788945c789bf190932dc1?s=128&d=identicon&r=PG", "display_name": "BookOfGreg", "link": "https://stackoverflow.com/users/193785/bookofgreg"}, "edited": false, "score": 1, "creation_date": 1476269574, "post_id": 39996707, "comment_id": 67271274, "body": "If you are using Rails 3.2 or below according to your gemfile.lock then <code>Entry.find(:all, </code>... was deprecated and replaced with <code>Entry.where(...</code> <a href=\"http://stackoverflow.com/a/9650225/193785\">stackoverflow.com/a/9650225/193785</a>"}, {"owner": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "reply_to_user": {"reputation": 3164, "user_id": 193785, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b9110bc3c6f788945c789bf190932dc1?s=128&d=identicon&r=PG", "display_name": "BookOfGreg", "link": "https://stackoverflow.com/users/193785/bookofgreg"}, "edited": false, "score": 0, "creation_date": 1476269774, "post_id": 39996707, "comment_id": 67271383, "body": "@BookOfGreg i am using rails 4.0.0"}, {"owner": {"reputation": 3164, "user_id": 193785, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b9110bc3c6f788945c789bf190932dc1?s=128&d=identicon&r=PG", "display_name": "BookOfGreg", "link": "https://stackoverflow.com/users/193785/bookofgreg"}, "edited": false, "score": 0, "creation_date": 1476269899, "post_id": 39996707, "comment_id": 67271480, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/9650205/rails-find-all-with-conditions\">Rails: Find all with conditions</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3164, "user_id": 193785, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b9110bc3c6f788945c789bf190932dc1?s=128&d=identicon&r=PG", "display_name": "BookOfGreg", "link": "https://stackoverflow.com/users/193785/bookofgreg"}, "is_accepted": false, "score": 1, "last_activity_date": 1476269854, "creation_date": 1476269854, "answer_id": 39996877, "question_id": 39996707, "link": "https://stackoverflow.com/questions/39996707/raise-an-error-on-http-localhost3000-entries-view-all/39996877#39996877", "title": "Raise an error on http://localhost:3000/entries/view_all", "body": "<p>The find syntax was deprecated from Rails 4 onwards.\n<code>@entries = Entry.find(:all, :include =&gt; :Content, :order =&gt; \"created_at DESC\")</code>\nShould become.\n<code>@entries = Entry.where(:include =&gt; :Content, :order =&gt; \"created_at DESC\")</code></p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "edited": false, "score": 0, "creation_date": 1476270765, "post_id": 39996902, "comment_id": 67272022, "body": "When i issued the command that you have given. It&#39;s complaining Association named &#39;Content&#39; was not found on Entry; perhaps you misspelled it?. But i already defined  attribute Content with text  in my Entry table."}, {"owner": {"reputation": 2180, "user_id": 809904, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/aTkpH.png?s=128&g=1", "display_name": "nicohvi", "link": "https://stackoverflow.com/users/809904/nicohvi"}, "reply_to_user": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "edited": false, "score": 0, "creation_date": 1476274397, "post_id": 39996902, "comment_id": 67274307, "body": "Oh, I thought it was a relation. I&#39;ll fix it for you :)"}], "tags": [], "owner": {"reputation": 2180, "user_id": 809904, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/aTkpH.png?s=128&g=1", "display_name": "nicohvi", "link": "https://stackoverflow.com/users/809904/nicohvi"}, "is_accepted": false, "score": 1, "last_activity_date": 1476274535, "last_edit_date": 1476274535, "creation_date": 1476269958, "answer_id": 39996902, "question_id": 39996707, "link": "https://stackoverflow.com/questions/39996707/raise-an-error-on-http-localhost3000-entries-view-all/39996902#39996902", "title": "Raise an error on http://localhost:3000/entries/view_all", "body": "<p>You're getting this error because the <code>find</code> method tries to find all records <strong>based on an ID</strong> (explained <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/FinderMethods.html#method-i-find\" rel=\"nofollow\">here</a>). So the string <code>:all, :include =&gt; :Content, :order =&gt; \"created_at DESC\"</code>is being treated as an ID, which is why rails is complaining.</p>\n\n<p>Instead, to get <strong>all</strong> records (without a constraint) use the aptly named <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Scoping/Named/ClassMethods.html#method-i-all\" rel=\"nofollow\">all method</a>. This is what your code should look like:</p>\n\n<pre><code>@entries = Entry.includes(:content).order('created_at DESC').all\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Apparently, <code>Content</code> was the name of an attribute on the <code>Entry</code> model, so <strong>this</strong> is what it should actually look like:</p>\n\n<pre><code>@entries = Entry.order('created_at DESC').all\n</code></pre>\n\n<p>For future reference, you really should name your attributes by lowercase, as is customary for ruby code. I.e. </p>\n\n<pre><code>class Entry\n  attr_accessor :content, :title\nend\n</code></pre>\n\n<p>as opposed to</p>\n\n<pre><code>class Entry\n  attr_accessor :Content, :Title\nend\n</code></pre>\n\n<p>Good luck with your further studies :-)</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "edited": false, "score": 0, "creation_date": 1476271225, "post_id": 39996928, "comment_id": 67272313, "body": "When i issued the command that you have given. It&#39;s complaining Association named &#39;Content&#39; was not found on Entry; perhaps you misspelled it?. But i already defined attribute Content with text in my Entry table. \u2013"}, {"owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "reply_to_user": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "edited": false, "score": 0, "creation_date": 1476272082, "post_id": 39996928, "comment_id": 67272874, "body": "<code>Content</code> must be a Association here, that is a model <code>Content</code> which has a association with <code>Entry</code> . If this an <code>attribute</code> of <code>Entry</code> then you can remove the <code>includes</code> part like <code>@entries = Entry.all.order(created_at: :desc)</code>"}, {"owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "reply_to_user": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "edited": false, "score": 0, "creation_date": 1476273922, "post_id": 39996928, "comment_id": 67274011, "body": "you are welcome. If it solves your problem then please don&#39;t mind to accept as a answer"}, {"owner": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "edited": false, "score": 0, "creation_date": 1476274672, "post_id": 39996928, "comment_id": 67274483, "body": "Ok sure. I don&#39;t see it as an answer, but i try to learn from my mistake and learn something new."}], "tags": [], "owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "is_accepted": true, "score": 1, "last_activity_date": 1476270030, "creation_date": 1476270030, "answer_id": 39996928, "question_id": 39996707, "link": "https://stackoverflow.com/questions/39996707/raise-an-error-on-http-localhost3000-entries-view-all/39996928#39996928", "title": "Raise an error on http://localhost:3000/entries/view_all", "body": "<p>If you are using rails version greater than 4 then <code>find</code> method takes only <code>id</code> or multiple <code>ids</code> as argument so to get all rows, you can do:</p>\n\n<pre><code>def view_all\n @entries = Entry.all.includes(:Content).order(created_at: :desc)\nend\n</code></pre>\n\n<p>or for older versions you can do as suggested in the comment of your question</p>\n"}], "owner": {"reputation": 47, "user_id": 6665939, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a72c796c6bc28bd71eb452f53b41d35?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/6665939/suresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 39996928, "answer_count": 3, "score": 0, "last_activity_date": 1476274535, "creation_date": 1476269325, "last_edit_date": 1476271052, "question_id": 39996707, "link": "https://stackoverflow.com/questions/39996707/raise-an-error-on-http-localhost3000-entries-view-all", "title": "Raise an error on http://localhost:3000/entries/view_all", "body": "<p>Hi guys i am currently doing chapter 13 on beginning ruby. and i am stuck at this error when accessing <a href=\"http://localhost:3000/entries/view_all\" rel=\"nofollow\">http://localhost:3000/entries/view_all</a>. Even i tried to see my database entries with values, it still doesn't work at all.</p>\n\n<p>This is the expected result is </p>\n\n<p>This is the error i am facing now:</p>\n\n<pre><code>Couldn't find all Entries with 'id': (all, {:include=&gt;:Content, :order=&gt;\"created_at DESC\"}) (found 0 results, but was looking for 2)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code> def view_all\n     #@entries = Entry.all(:order =&gt; 'created_at DESC')\n     @entries = Entry.find(:all, :include =&gt; :Content, :order =&gt; \"created_at DESC\")\n end\n</code></pre>\n\n<p>This is my Entries Controller:</p>\n\n<pre><code>def view_all\n   @entries = Entry.find(:all, :include =&gt; :Content, :order =&gt; \"created_at DESC\")\nend\n</code></pre>\n\n<p>This is my routes.rb:</p>\n\n<pre><code>Rails.application.routes.draw do\n  resources :users\n  resources :entries do\n    get :view_all, on: :collection\n  end\nend\n</code></pre>\n\n<p>This is my view_all.html.erb:</p>\n\n<pre><code>&lt;% @entries.each do |entry| %&gt;\n  &lt;h1&gt;&lt;%= entry.Title %&gt;&lt;/h1&gt;\n  &lt;p&gt;&lt;%= entry.Content %&gt;&lt;/p&gt;\n  &lt;p&gt;&lt;em&gt;Posted at &lt;%= entry.created_at %&gt;&lt;/em&gt;&lt;/p&gt;\n\n&lt;% end %&gt;\n\n&lt;%= link_to 'Add New Entry', new_entry_path %&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 12629, "user_id": 4739257, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MdhEs.jpg?s=128&g=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/4739257/ilya"}, "edited": false, "score": 0, "creation_date": 1476268686, "post_id": 39996483, "comment_id": 67270737, "body": "I would prefer to use range in <code>where</code>."}], "tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": true, "score": 3, "last_activity_date": 1476268713, "last_edit_date": 1476268713, "creation_date": 1476268602, "answer_id": 39996483, "question_id": 39996424, "link": "https://stackoverflow.com/questions/39996424/get-records-created-within-a-certain-time-period/39996483#39996483", "title": "Get records created within a certain time period", "body": "<p>You can use <a href=\"http://guides.rubyonrails.org/active_record_querying.html#scopes\" rel=\"nofollow\"><code>scope</code></a> to make it flexible:</p>\n\n<pre><code>scope :by_dates, -&gt;(start_date, end_date) { Post.where(date: start_date..end_date) }\n\nPost.by_dates(Date.today - 6.days, Date.today) # returns AR collection\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4265, "user_id": 4601088, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bN143.jpg?s=128&g=1", "display_name": "Bart\u0142omiej G\u0142adys", "link": "https://stackoverflow.com/users/4601088/bart%c5%82omiej-g%c5%82adys"}, "is_accepted": false, "score": 2, "last_activity_date": 1476268721, "creation_date": 1476268721, "answer_id": 39996529, "question_id": 39996424, "link": "https://stackoverflow.com/questions/39996424/get-records-created-within-a-certain-time-period/39996529#39996529", "title": "Get records created within a certain time period", "body": "<p>Try something like this:</p>\n\n<pre><code>Post.where(date: 1.week.ago.beginning_of_day..Time.now)\n</code></pre>\n"}], "owner": {"reputation": 873, "user_id": 2320239, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/daef5b7116143c14162b242bf0b1a35a?s=128&d=identicon&r=PG", "display_name": "user2320239", "link": "https://stackoverflow.com/users/2320239/user2320239"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "accepted_answer_id": 39996483, "answer_count": 2, "score": 3, "last_activity_date": 1476286814, "creation_date": 1476268361, "last_edit_date": 1476286814, "question_id": 39996424, "link": "https://stackoverflow.com/questions/39996424/get-records-created-within-a-certain-time-period", "title": "Get records created within a certain time period", "body": "<p>Hi I'm working on a project, and as part of it I want to be able to get all posts created within the last 7 days. I've tried:</p>\n\n<pre><code>  @weeks_posts = Post.where(date: Date.today)\n    for i in 1..6\n      @weeks_posts = @weeks_posts + Post.where(date: (Date.today).to_time - i.days)\n    end\n</code></pre>\n\n<p>However this ends up returning an array which means I can't chain <code>.where</code> clauses to  it, which I need to do, it also seems quite inefficient.</p>\n\n<p>Any help would be greatly appreciated. </p>\n"}, {"tags": ["ruby", "data-structures", "hashmap"], "answers": [{"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 0, "last_activity_date": 1476268351, "last_edit_date": 1476268351, "creation_date": 1476267132, "answer_id": 39996024, "question_id": 39995519, "link": "https://stackoverflow.com/questions/39995519/tictactoe-score-check-through-a-hash/39996024#39996024", "title": "Tictactoe score check through a hash", "body": "<p>Given this hash:</p>\n\n<pre><code>board = {\n  :a1=&gt;\"X\", :a2=&gt;\"O\", :a3=&gt;\"X\",\n  :b1=&gt;\"O\", :b2=&gt;\"X\", :b3=&gt;\"X\",\n  :c1=&gt;\"X\", :c2=&gt;\"O\", :c3=&gt;\"X\"\n}\n</code></pre>\n\n<p>You could define the keys to be checked: (the possible winning positions)</p>\n\n<pre><code>KEYS = [\n  [:a1, :a2, :a3], [:b1, :b2, :b3], [:c1, :c2, :c3], # rows\n  [:a1, :b1, :c1], [:a2, :b2, :c2], [:a3, :b3, :c3], # columns\n  [:a1, :b2, :c3], [:c1, :b2, :a3]                   # diagonals\n]\n</code></pre>\n\n<p>Now you can fetch the values for each of these keys via <a href=\"http://ruby-doc.org/core-2.3.1/Hash.html#method-i-values_at\" rel=\"nofollow\"><code>values_at</code></a> and check if they are either <code>\"X\", \"X\", \"X\"</code> or <code>\"O\", \"O\", \"O\"</code>:</p>\n\n<pre><code>wins = {}\n\nKEYS.each do |k|\n  case board.values_at(*k)\n  when %w[X X X] then wins[k] = 'X'\n  when %w[O O O] then wins[k] = 'O'\n  end\nend\n\nwins #=&gt; {[:a3, :b3, :c3]=&gt;\"X\", [:a1, :b2, :c3]=&gt;\"X\", [:c1, :b2, :a3]=&gt;\"X\"}\n</code></pre>\n"}], "owner": {"reputation": 6936, "user_id": 445144, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d0b6279eb192f0e53affd0061011e47d?s=128&d=identicon&r=PG", "display_name": "scaryguy", "link": "https://stackoverflow.com/users/445144/scaryguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 39996024, "answer_count": 1, "score": 0, "last_activity_date": 1476268351, "creation_date": 1476265581, "last_edit_date": 1476266110, "question_id": 39995519, "link": "https://stackoverflow.com/questions/39995519/tictactoe-score-check-through-a-hash", "title": "Tictactoe score check through a hash", "body": "<p>I've been working on a command-line Tictactoe game written in Ruby. (For the ones who don't remember the rules, please <a href=\"https://en.wikipedia.org/wiki/Tic-tac-toe\" rel=\"nofollow\">see here</a>)</p>\n\n<p>Almost all of the example implementations that I've seen uses a multi-dimensional array to represent <code>Board</code> structure. It's like <code>[[1,2,3], [4,5,6], [7,8,9]]</code>. (<a href=\"https://codequizzes.wordpress.com/2013/10/25/creating-a-tic-tac-toe-game-with-ruby/\" rel=\"nofollow\">Here is an example</a>)</p>\n\n<p>However, before seeing any other solutions I started with a hash implementation. I represent columns with letters (A,B,C) and rows with numbers (1,2,3) and I set \"X\" or \"O\" as the value. Example implementation during a game:</p>\n\n<pre><code>{:a1=&gt;\"X\", :b2=&gt;\"X\", :c3=&gt;\"X\", :b1=&gt;\"O\", :c1=&gt;\"X\", :c2=&gt;\"O\", :b3=&gt;\"X\", :a2=&gt;\"O\", :a3=&gt;\"X\"}\n</code></pre>\n\n<p>(At every move, I add the new position to this hash. It's kind of a cell grid. Easy to visualize inside an ASCII table.)</p>\n\n<p>Everything felt great until I started to look for a way to determine the winning positions. But now I'm stucked at finding a good way to use my hash to determine if it's a winner position.</p>\n\n<p>Could you please show me how to solve the problem using hashes? And/or can you please explain why it's a bad idea to use a hash instead of a multi-dimensional array in this particular scenario?</p>\n\n<p>Here is a bad looking way of checking if it's a winner position or not (For a single scenario..):</p>\n\n<pre><code>  def check_status\n    if(@@cells[:a1] == \"X\" &amp;&amp; @@cells[:a2] == \"X\" &amp;&amp; @@cells[:a3] == \"X\")\n      false # game will end\n    else\n      true # game will continue\n    end\n  end\n</code></pre>\n"}, {"tags": ["ruby", "tensorflow"], "comments": [{"owner": {"reputation": 1362, "user_id": 1213651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca1ef57e07d289a4db8da3cf6c31f778?s=128&d=identicon&r=PG", "display_name": "ChrHansen", "link": "https://stackoverflow.com/users/1213651/chrhansen"}, "edited": false, "score": 0, "creation_date": 1476384254, "post_id": 39995058, "comment_id": 67334422, "body": "Hi Obromios, I&#39;m one of the contributors in this project \u2013 still very much in alpha-stage! Did you use the latest version, since <a href=\"https://github.com/somaticio/tensorflow.rb/blob/master/lib/tensorflow/session.rb#L168\" rel=\"nofollow noreferrer\"><code>lib&#47;tensorflow&#47;session.rb:168</code></a> is actually a blank line?  I just ran <code>ruby example.rb</code> (I put <code>example.rb</code> in the root of the project folder, same level as <code>Gemfile</code>) and it outputs <code>[[-4.0, 4.2, 9.5], [10.0, 6.3, 10.1]]</code> \u2013 the sum of the two tensors."}, {"owner": {"reputation": 10972, "user_id": 1299362, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f9ec564b963a34f47cc1719738d75b23?s=128&d=identicon&r=PG", "display_name": "Obromios", "link": "https://stackoverflow.com/users/1299362/obromios"}, "reply_to_user": {"reputation": 1362, "user_id": 1213651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca1ef57e07d289a4db8da3cf6c31f778?s=128&d=identicon&r=PG", "display_name": "ChrHansen", "link": "https://stackoverflow.com/users/1213651/chrhansen"}, "edited": false, "score": 0, "creation_date": 1476390655, "post_id": 39995058, "comment_id": 67337965, "body": "There is something strange with the version. I have used the command <code>docker run -it nethsix&#47;ruby-tensorflow-ubuntu:0.0.1.a &#47;bin&#47;bash</code> to start the process,  which I assume uses the 0.0.1.a version of the gem, but if you look at the above error message, it is citing the 0.0.1 version. Maybe there is something wrong with the docker package?"}], "answers": [{"tags": [], "owner": {"reputation": 10972, "user_id": 1299362, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f9ec564b963a34f47cc1719738d75b23?s=128&d=identicon&r=PG", "display_name": "Obromios", "link": "https://stackoverflow.com/users/1299362/obromios"}, "is_accepted": true, "score": 1, "last_activity_date": 1476566814, "creation_date": 1476566814, "answer_id": 40064391, "question_id": 39995058, "link": "https://stackoverflow.com/questions/39995058/ruby-gem-tensorflow-rb-example-not-working/40064391#40064391", "title": "Ruby gem tensorflow.rb example not working", "body": "<p>This was raised as <a href=\"https://github.com/somaticio/tensorflow.rb/issues/72\" rel=\"nofollow\">an issue</a>. It turned out that the docker image was out of date. It has been fixed, so if you follow the new Readme instructions, then it now all works.</p>\n"}], "owner": {"reputation": 10972, "user_id": 1299362, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f9ec564b963a34f47cc1719738d75b23?s=128&d=identicon&r=PG", "display_name": "Obromios", "link": "https://stackoverflow.com/users/1299362/obromios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 40064391, "answer_count": 1, "score": 0, "last_activity_date": 1476566814, "creation_date": 1476264304, "question_id": 39995058, "link": "https://stackoverflow.com/questions/39995058/ruby-gem-tensorflow-rb-example-not-working", "title": "Ruby gem tensorflow.rb example not working", "body": "<p>I am trying to run the ruby tensorflow example.rb file, as described <a href=\"https://medium.com/@Arafat./introducing-tensorflow-ruby-api-e77a477ff16e#.41r68bki7\" rel=\"nofollow\">here</a>. I have installed tensorflow.rb using docker, as described <a href=\"https://github.com/somaticio/tensorflow.rb\" rel=\"nofollow\">here</a>.  When I run <code>bundle exec rspec spec</code>, all examples pass. </p>\n\n<p>I have created a file <code>example.rb</code> as instructed. When I run the file using <code>ruby example.rb</code>, I get the following error</p>\n\n<pre><code>/usr/local/rvm/gems/ruby-2.2.4@ruby-tensorflow/gems/tensorflow-0.0.1/lib/tensorflow/session.rb:168:in `graph_def_to_c_array': undefined method `length' for nil:NilClass (NoMethodError)\n    from /usr/local/rvm/gems/ruby-2.2.4@ruby-tensorflow/gems/tensorflow-0.0.1/lib/tensorflow/session.rb:51:in `extend_graph'\n    from example.rb:9:in `&lt;main&gt;'\n</code></pre>\n\n<p>When I run each line of <code>example.rb</code> in an irb session, the error occurs at the command:</p>\n\n<pre><code>session.extend_graph(graph)\n</code></pre>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["ruby", "pass-by-reference"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1476265089, "post_id": 39994888, "comment_id": 67268418, "body": "Your understanding is wrong \u2013 Ruby is pass by value, although the concept does not really apply. See <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1476269357, "post_id": 39995808, "comment_id": 67271138, "body": "You are confusing <i>pass by reference</i> with <i>pass by value</i>. The former would allow the method to modify the passed variable, i.e. assign another value to it. But that is not possible in Ruby because you don&#39;t receive a reference to the variable. In that sense, Ruby is <i>pass by value</i> \u2013 by assigning to <code>str</code>, you are merely changing a local variable without affecting the variable in the caller&#39;s scope."}, {"owner": {"reputation": 532, "user_id": 1782675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a3118d95c70b93c1b38549078a1c11?s=128&d=identicon&r=PG", "display_name": "petrch", "link": "https://stackoverflow.com/users/1782675/petrch"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476271509, "post_id": 39995808, "comment_id": 67272490, "body": "@Stefan - not true. In Ruby, most parameters are passed by reference. In more detaile I described that in the latter part of the answer. Btw: It is also stated in the question itself - <code>test2</code> function does modify the string object, which is passed to the function, by its <i>reference</i>."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1476272718, "post_id": 39995808, "comment_id": 67273302, "body": "<code>test2</code> modifies the object the variable is referring to, but not the variable itself. <i>Pass by reference</i> means that the method can modify the variable, i.e. it can change the caller&#39;s variable by assigning another value to the passed argument."}, {"owner": {"reputation": 532, "user_id": 1782675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a3118d95c70b93c1b38549078a1c11?s=128&d=identicon&r=PG", "display_name": "petrch", "link": "https://stackoverflow.com/users/1782675/petrch"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476276339, "post_id": 39995808, "comment_id": 67275567, "body": "@Stefan - sorry, but you seem a little confused about the subject. <i>Pass by reference</i> means that the method can modify the <i>object</i> simply because it has the reference (pointer) to that object. It is exactly what <code>test2</code> function does. It modifies the string with initial value of &quot;Hello&quot;, which is <i>passed by reference</i> to that function."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 2, "creation_date": 1476276354, "post_id": 39995808, "comment_id": 67275575, "body": "@petrch: If Ruby were pass-by-reference, the OP&#39;s code would have worked, and this question wouldn&#39;t exist in the first place."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 2, "creation_date": 1476276432, "post_id": 39995808, "comment_id": 67275643, "body": "@petrch: No, pass-by-reference means that the method can modify the <i>reference</i>. Modifying the <i>object</i> is a question of mutability. Nobody here claimed that Ruby is a purely functional language that doesn&#39;t allow modifying objects. It clearly does."}, {"owner": {"reputation": 532, "user_id": 1782675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a3118d95c70b93c1b38549078a1c11?s=128&d=identicon&r=PG", "display_name": "petrch", "link": "https://stackoverflow.com/users/1782675/petrch"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1476276612, "post_id": 39995808, "comment_id": 67275774, "body": "@j&#246;rg-w-mittag - Huh? <i>Pass by reference</i> means &quot;passing the reference&quot;. <i>Pass by value means</i> &quot;make a copy&quot; of the object. Mutability of the object is another topic."}], "tags": [], "owner": {"reputation": 532, "user_id": 1782675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a3118d95c70b93c1b38549078a1c11?s=128&d=identicon&r=PG", "display_name": "petrch", "link": "https://stackoverflow.com/users/1782675/petrch"}, "is_accepted": false, "score": -2, "last_activity_date": 1476266467, "creation_date": 1476266467, "answer_id": 39995808, "question_id": 39994888, "link": "https://stackoverflow.com/questions/39994888/ruby-string-pass-by-reference-function-parameter/39995808#39995808", "title": "Ruby string pass by reference function parameter", "body": "<pre><code>def test1(str)\n    str += ' World!'\nend\n</code></pre>\n\n<p>operator <code>+=</code> is a syntactic sugar in ruby. Expression <code>a += b</code> translates to <code>a = a + b</code>. Operator <code>+</code> applied on <code>String</code> instance creates new String, which is a concatenation of the two arguments. That is why str is not modified in the first case.</p>\n\n<p>Also I'd like to correct your statement:</p>\n\n<p><em>I understand ruby does pass by reference for function parameters</em></p>\n\n<p>Actually ruby passes by reference every parameter except the \"value types\" - ie. values <code>nil</code>, <code>true</code>, <code>false</code> and instances of class <code>Fixnum</code></p>\n"}, {"tags": [], "owner": {"reputation": 40236, "user_id": 923315, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j6lLI.jpg?s=128&g=1", "display_name": "peter", "link": "https://stackoverflow.com/users/923315/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1476273155, "last_edit_date": 1476273155, "creation_date": 1476272845, "answer_id": 39997824, "question_id": 39994888, "link": "https://stackoverflow.com/questions/39994888/ruby-string-pass-by-reference-function-parameter/39997824#39997824", "title": "Ruby string pass by reference function parameter", "body": "<p>Look at the following adaption of your test, by showing the object_id of your object you can easily see if it is the same or not. Test1 returns another String object because of the += concatenation but it is not used afterward.\nThis looks like passed by reference but in reality it is the value of the pointer to the object that is passed. The best explenation I could find for this is <a href=\"http://robertheaton.com/2014/07/22/is-ruby-pass-by-reference-or-pass-by-value/\" rel=\"nofollow\">here</a> , the author calls it pass-reference-by-value</p>\n\n<pre><code>def test1(str)\n    p [\"in test1 before\", str.object_id]\n  str += ' World!'\n  p [\"in test1 after\", str.object_id]\n  str\nend\n\ndef test2(str)\n    p [\"in test2\", str.object_id]\n  str &lt;&lt; ' World!'\nend\n\nstr = 'Hello'\np [\"in main\", str.object_id]\n\ntest1(str)\np str # Hello\np [\"after test1\", str.object_id]\n\ntest2(str)\np str \np [\"after test2\", str.object_id]\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>[\"in main\", 12363600]\n[\"in test1 before\", 12363600] # the same object, so pointer to object passed by value    \n[\"in test1 after\", 12362976] # returns a new object, the old is unchanged\n\"Hello\"\n[\"after test1\", 12363600] # idem\n[\"in test2\", 12363600]\n\"Hello World!\"\n[\"after test2\", 12363600]\n# still the same object\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1476277719, "post_id": 39997862, "comment_id": 67276534, "body": "&quot;&quot;&lt;&lt;&quot; is a Binary Left Shift Operator&quot; No, not here. It&#39;s just a method of a string which modifies it(appends another string)."}], "tags": [], "owner": {"reputation": 1116, "user_id": 4122847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Bhoo3PIj7w/AAAAAAAAAAI/AAAAAAAAAF4/OEnQcnM3iI0/photo.jpg?sz=128", "display_name": "Abdoo Dev", "link": "https://stackoverflow.com/users/4122847/abdoo-dev"}, "is_accepted": false, "score": 1, "last_activity_date": 1476272945, "creation_date": 1476272945, "answer_id": 39997862, "question_id": 39994888, "link": "https://stackoverflow.com/questions/39994888/ruby-string-pass-by-reference-function-parameter/39997862#39997862", "title": "Ruby string pass by reference function parameter", "body": "<p>In the first case a new object was created when you did <code>str += ' World!'</code></p>\n\n<pre><code>str = \"Hello\"\n=&gt; \"Hello\"\nstr.object_id\n=&gt; 69867706917360\nstr += \" World\"\n=&gt; \"Hello World\"\nstr.object_id\n=&gt; 69867706885680\n\nstr = \"Hello\"\n=&gt; \"Hello\"\nstr.object_id\n=&gt; 69867706856200\nstr &lt;&lt; \" World\"\n=&gt; \"Hello World\"\nstr.object_id\n=&gt; 69867706856200\n\nstr = \"Hello\"\n=&gt; \"Hello\"\nstr.object_id\n=&gt; 69867706786780\nstr.freeze\n=&gt; \"Hello\"\nstr &lt;&lt; \" World\"\nRuntimeError: can't modify frozen String\nstr += \" World\"\n=&gt; \"Hello World\"\n</code></pre>\n\n<blockquote>\n  <p>\"&lt;&lt;\" is a Binary Left Shift Operator. The left operands value is moved left by the number of bits specified by the right operand.</p>\n</blockquote>\n\n<p>So \"&lt;&lt;\" doesn't create a new string, <code>str.contact(\"World\")</code> doesn't create a new string as well.\nThe method test1 doesn't have to do anything with the returned result , you can try this method :</p>\n\n<pre><code>def test1(str)\n    str.concat(' World!')\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 532, "user_id": 1782675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a3118d95c70b93c1b38549078a1c11?s=128&d=identicon&r=PG", "display_name": "petrch", "link": "https://stackoverflow.com/users/1782675/petrch"}, "edited": false, "score": 0, "creation_date": 1476343992, "post_id": 39998931, "comment_id": 67307046, "body": "This is the first time I see on SO highly upvoted answer, which does not answer the question at all and is not helpful. The question was: why <code>test2</code> bahaves differently to <code>test1</code>, And the correct answer really lies in the different behaviour of operators <code>+=</code> and <code>&lt;&lt;</code> as all other answers show. What is wrong here?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "reply_to_user": {"reputation": 532, "user_id": 1782675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a3118d95c70b93c1b38549078a1c11?s=128&d=identicon&r=PG", "display_name": "petrch", "link": "https://stackoverflow.com/users/1782675/petrch"}, "edited": false, "score": 3, "creation_date": 1476345943, "post_id": 39998931, "comment_id": 67308130, "body": "I interpret the question differently. The OP talks about pass-by-reference multiple times. He explicitly asks why <code>test1</code> fails to demonstrate pass-by-reference, even though he has been told that Ruby is pass-by-reference. And the correct answer to that is to trust the code, which clearly demonstrates that Ruby is <i>not</i> pass-by-reference (otherwise the OP&#39;s code would have worked as expected) instead of whoever told him that Ruby is pass-by-reference. <a href=\"http://ideone.com/yWbRGE\" rel=\"nofollow noreferrer\">Here&#39;s a small snippet that demonstrates Ruby is pass-by-value, not pass-by-reference.</a>"}, {"owner": {"reputation": 1062, "user_id": 6088739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e6c979a4098c70ff02ad55bbe43a5d4?s=128&d=identicon&r=PG&f=1", "display_name": "jrhee17", "link": "https://stackoverflow.com/users/6088739/jrhee17"}, "edited": false, "score": 1, "creation_date": 1476512238, "post_id": 39998931, "comment_id": 67386625, "body": "Just to make sure I am understanding this... So ruby (like java) is pass by value because the pointer to an object is being duplicated in the parameter. Hence the first example doesn&#39;t work because it assigns another value to the pointer. However, the second example works because it manipulates the object the pointer is pointing to. Is this understanding correct?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "reply_to_user": {"reputation": 1062, "user_id": 6088739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e6c979a4098c70ff02ad55bbe43a5d4?s=128&d=identicon&r=PG&f=1", "display_name": "jrhee17", "link": "https://stackoverflow.com/users/6088739/jrhee17"}, "edited": false, "score": 0, "creation_date": 1476516592, "post_id": 39998931, "comment_id": 67387599, "body": "@jrhee17: Exactly. It is pass-by-value, where the value being passed is a pointer to a potentially mutable object. In the second example, you dereference the pointer (since everything is a pointer in Ruby, there is no explicit syntax for referencing and dereferencing, it is all implicit) and mutate the object itself."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1597867510, "post_id": 39998931, "comment_id": 112276661, "body": "I believe, &quot;Ruby is pass-by-value&quot; is a... half-truth? Misleading? Incomplete? The correct statement is, &quot;Ruby is pass-by-value, but the values it passes are references.&quot; And that second part is hidden in the comment of your snippet."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "reply_to_user": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1597883565, "post_id": 39998931, "comment_id": 112280979, "body": "@x-yuri: I really, really, really, heavily dislike that statement, because it is terribly misleading, since the term &quot;reference&quot; in your statement means something significantly different than the term &quot;reference&quot; in &quot;pass-by-reference&quot;, which is exactly what leads to this confusion. C# supports both pass-by-reference and pass-by-value and Ruby behaves <i>exactly</i> like C# in pass-by-value mode. C++ supports both pass-by-reference and pass-by-value and Rub behaves <i>exactly</i> like C++ in pass-by-value mode. If Ruby behaves exactly like what we call &quot;pass-by-value&quot; in other languages, I don&#39;t see a \u2026"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1597883678, "post_id": 39998931, "comment_id": 112281004, "body": "\u2026 reason to call it anything else in Ruby. People have invented terms like &quot;call-by-object-sharing&quot;, &quot;call-by-object&quot;, &quot;call-by-sharing&quot;, etc. but all those are <i>still</i> special cases of pass-by-value. In this particular case, the OP had been taught that Ruby is pass-by-reference, had written code under the assumption that Ruby is pass-by-reference, and was confused why the code doesn&#39;t work when he had been taught that Ruby is pass-by-reference and the code thus should have worked."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1597961844, "post_id": 39998931, "comment_id": 112311409, "body": "Terribly misleading for a person coming from C*? Probably, but pass-by-value is misleading at least for me. Even though I think I know how it works in those languages. There if you pass by reference, you pass a reference to a variable (not the value that the variable holds which in its turn might be a reference), and as such the callee can change the value the variable holds (not just the value the variable refers to). &quot;Ruby is pass-by-value&quot; is misleading for me because the first thing that comes to mind when I hear &quot;pass-by-value&quot; is, &quot;Oh, the callee can&#39;t change what I pass.&quot;..."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1597961866, "post_id": 39998931, "comment_id": 112311413, "body": "...So let me try it this way, &quot;In Ruby every variable holds a reference to a value. And technically Ruby is pass-by-value. But the &#39;value&#39; in &#39;pass-by-value&#39; is always a reference. So the callee can change the value the argument referes to, but not the value the argument holds (which is always a reference)..."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1597961874, "post_id": 39998931, "comment_id": 112311417, "body": "...Javascript is pass-by-value as well, but in Javascript a variable might contain a primitive value (not a reference), and in Javascript primitive types are immutable. So a callee receives either a primitive value, or a reference. If it&#39;s a reference, see above, if a primitive value, there&#39;s no way for the callee to affect the argument.&quot;"}], "tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": true, "score": 5, "last_activity_date": 1476346195, "last_edit_date": 1476346195, "creation_date": 1476276248, "answer_id": 39998931, "question_id": 39994888, "link": "https://stackoverflow.com/questions/39994888/ruby-string-pass-by-reference-function-parameter/39998931#39998931", "title": "Ruby string pass by reference function parameter", "body": "<blockquote>\n  <p>I understand ruby does pass by reference for function parameters</p>\n</blockquote>\n\n<p>Ruby is strictly pass-by-value, always. There is no pass-by-reference in Ruby, ever.</p>\n\n<blockquote>\n  <p>This is simply out of curiosity -- any explanations would be appreciated</p>\n</blockquote>\n\n<p>The simple explanation for why your code snippet doesn't show the result you would expect for pass-by-reference is that Ruby isn't pass-by-reference. It is pass-by-value, and your code snippet proves that.</p>\n\n<p>Here is a small snippet that demonstrates that Ruby is, in fact, pass-by-value and not pass-by-reference:</p>\n\n<pre><code>#!/usr/bin/env ruby\n\ndef is_ruby_pass_by_value?(foo)\n  foo &lt;&lt; &lt;&lt;~HERE\n    More precisely, it is call-by-object-sharing!\n    Call-by-object-sharing is a special case of pass-by-value, \n    where the value is always an immutable pointer to a (potentially mutable) value.\n  HERE\n  foo = 'No, Ruby is pass-by-reference.'\n  return\nend\n\nbar = ['Yes, of course, Ruby *is* pass-by-value!']\n\nis_ruby_pass_by_value?(bar)\n\nputs bar\n# Yes, of course, Ruby *is* pass-by-value!,\n# More precisely, it is call-by-object-sharing!\n# Call-by-object-sharing is a special case of pass-by-value, \n# where the value is always an immutable pointer to a (potentially mutable) value.\n</code></pre>\n\n<p>Ruby <em>does</em> however allow mutation of objects, it is <em>not</em> a purely functional language like Haskell or Clean.</p>\n"}, {"tags": [], "owner": {"reputation": 1857, "user_id": 6329187, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WDkSs.jpg?s=128&g=1", "display_name": "sunfy", "link": "https://stackoverflow.com/users/6329187/sunfy"}, "is_accepted": false, "score": 0, "last_activity_date": 1607965193, "creation_date": 1607965193, "answer_id": 65293179, "question_id": 39994888, "link": "https://stackoverflow.com/questions/39994888/ruby-string-pass-by-reference-function-parameter/65293179#65293179", "title": "Ruby string pass by reference function parameter", "body": "<p>STRING IS REFERENCED, in ruby except value like numbers, <code>true</code>, <code>false</code>, <code>nil</code>, others are referenced.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>a = &quot;hello&quot;\nb = a\na.replace(&quot;Hola&quot;)\np a # Hola\np b # Hola\n</code></pre>\n<p>You would wanna add the magic comment at the beginning.:</p>\n<pre class=\"lang-rb prettyprint-override\"><code># frozen_string_literal: true\na = &quot;hello&quot;\nb = a\na.replace(&quot;Hola&quot;) #  can't modify frozen String: &quot;hello&quot; (FrozenError)\n\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 6088739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e6c979a4098c70ff02ad55bbe43a5d4?s=128&d=identicon&r=PG&f=1", "display_name": "jrhee17", "link": "https://stackoverflow.com/users/6088739/jrhee17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2836, "favorite_count": 0, "accepted_answer_id": 39998931, "answer_count": 5, "score": 5, "last_activity_date": 1607965193, "creation_date": 1476263762, "question_id": 39994888, "link": "https://stackoverflow.com/questions/39994888/ruby-string-pass-by-reference-function-parameter", "title": "Ruby string pass by reference function parameter", "body": "<p>Ruby noob here</p>\n\n<p>I understand ruby does pass by reference for function parameters</p>\n\n<p>However, I am getting the feeling this is slightly different from conventional c/c++ style pass by reference</p>\n\n<p>Sample code:</p>\n\n<pre><code>def test1(str)\n    str += ' World!'\nend\n\ndef test2(str)\n    str &lt;&lt; ' World!'\nend\n\nstr = 'Hello'\n\ntest1(str)\np str # Hello\n\ntest2(str)\np str # Hello World!\n</code></pre>\n\n<p>I would expect <code>test1</code> to also return <code>Hello World!</code> if I were using references in c/c++.</p>\n\n<p>This is simply out of curiosity -- any explanations would be appreciated</p>\n"}, {"tags": ["sql", "ruby-on-rails", "ruby", "ruby-on-rails-4", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476262405, "post_id": 39994373, "comment_id": 67266648, "body": "<code>User.pluck(:updated_at).map { |date| Date.parse(date) }.sort</code>"}, {"owner": {"reputation": 2043, "user_id": 157943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745c55f201b982c31c610cabab10a6be?s=128&d=identicon&r=PG", "display_name": "gmcnaughton", "link": "https://stackoverflow.com/users/157943/gmcnaughton"}, "edited": false, "score": 1, "creation_date": 1476263524, "post_id": 39994373, "comment_id": 67267334, "body": "Is <code>datepart</code> a valid value for <code>date_trunc</code>?  The <a href=\"https://www.postgresql.org/docs/9.1/static/functions-datetime.html\" rel=\"nofollow noreferrer\">Postgres Date/Time docs</a> mention &#39;day&#39;, not &#39;datepart&#39;."}, {"owner": {"reputation": 271, "user_id": 6929856, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b914dd226ff7b648e0820d82dcd6a02e?s=128&d=identicon&r=PG&f=1", "display_name": "ankur", "link": "https://stackoverflow.com/users/6929856/ankur"}, "edited": false, "score": 0, "creation_date": 1476263619, "post_id": 39994373, "comment_id": 67267403, "body": "yeah it is not valid that is why i  was getting an error"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476263870, "post_id": 39994373, "comment_id": 67267592, "body": "@prateek have you tried <code>date_trunc(&#39;day&#39;, updated_at)</code>?"}, {"owner": {"reputation": 271, "user_id": 6929856, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b914dd226ff7b648e0820d82dcd6a02e?s=128&d=identicon&r=PG&f=1", "display_name": "ankur", "link": "https://stackoverflow.com/users/6929856/ankur"}, "edited": false, "score": 0, "creation_date": 1476264154, "post_id": 39994373, "comment_id": 67267781, "body": "yes I have already tried that but it didn&#39;t gave me the right response"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476264231, "post_id": 39994373, "comment_id": 67267825, "body": "@prateek that is a bit vague, could you be more specific?"}], "answers": [{"tags": [], "owner": {"reputation": 1826, "user_id": 5150708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/252ff188dc7377773468944f8794dc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Sharma", "link": "https://stackoverflow.com/users/5150708/santosh-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1476265822, "last_edit_date": 1476265822, "creation_date": 1476265490, "answer_id": 39995488, "question_id": 39994373, "link": "https://stackoverflow.com/questions/39994373/retrieve-without-timestamp/39995488#39995488", "title": "Retrieve without timestamp", "body": "<p>Try following.</p>\n\n<pre><code>users = User.members(current_user,params).order(\"updated_at.to_date DESC, upvotes DESC\").paginate(:per_page =&gt; PER_PAGE,:page =&gt; (params[:page] || 1))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>users = User.members(current_user,params).order('updated_at.strftime(\"%Y-%m-%d\") DESC, upvotes DESC').paginate(:per_page =&gt; PER_PAGE,:page =&gt; (params[:page] || 1))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>users = User.members(current_user,params).order('updated_at.strftime(\"%F\") DESC, upvotes DESC').paginate(:per_page =&gt; PER_PAGE,:page =&gt; (params[:page] || 1))\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 6929856, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b914dd226ff7b648e0820d82dcd6a02e?s=128&d=identicon&r=PG&f=1", "display_name": "ankur", "link": "https://stackoverflow.com/users/6929856/ankur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 39995488, "answer_count": 1, "score": 2, "last_activity_date": 1476265822, "creation_date": 1476262318, "question_id": 39994373, "link": "https://stackoverflow.com/questions/39994373/retrieve-without-timestamp", "title": "Retrieve without timestamp", "body": "<p>I am trying to fetch updated_at without timestamp in order by but unable to do so. I am using date_trunc function but unable to get proper result.Apart from this is there any other function which can give me only date not timestamp</p>\n\n<pre><code>users = User.members(current_user,params).order(\"date_trunc('datepart', updated_at) DESC, upvotes DESC\").paginate(:per_page =&gt; PER_PAGE,:page =&gt; (params[:page] || 1))\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476255485, "post_id": 39992225, "comment_id": 67262590, "body": "Since <code>#2YL9GR9R</code> doesn&#39;t have quotes, I would guess that both values (<code>params[:config][config[&quot;name&quot;]]</code> and <code>config[&quot;validation&quot;]</code>) are in fact strings."}, {"owner": {"reputation": 2475, "user_id": 1298944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/717c09c121dd66d83aa8b729f4b92973?s=128&d=identicon&r=PG", "display_name": "Scott Bartell", "link": "https://stackoverflow.com/users/1298944/scott-bartell"}, "edited": false, "score": 0, "creation_date": 1476255634, "post_id": 39992225, "comment_id": 67262676, "body": "What exactly is the problem that you have?"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476256926, "post_id": 39992225, "comment_id": 67263428, "body": "How do you set <code>config[&quot;validation&quot;]</code>?"}, {"owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476258500, "post_id": 39992225, "comment_id": 67264275, "body": "In database it&#39;s a json form input."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476260824, "post_id": 39992225, "comment_id": 67265670, "body": "You are saving your config values in a database, right? But how / where do you set the <code>config</code> variable / hash? You have to somehow retrieve the values from the database and assign them to <code>config</code>."}], "answers": [{"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476256823, "post_id": 39992342, "comment_id": 67263364, "body": "Or you could use <code>params[:config][config[&quot;name&quot;]].match(config[&quot;validation&quot;]</code>) \u2013 <a href=\"http://ruby-doc.org/core-2.3.1/String.html#method-i-match\" rel=\"nofollow noreferrer\"><code>String#match</code></a> implicitly converts the argument to a <code>Regexp</code>. (the surrounding <code>&#47;...&#47;</code> must be removed in either case)"}, {"owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476261939, "post_id": 39992342, "comment_id": 67266366, "body": "Thank you for your answer, i&#39;ve tried your code but still not working."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 1, "creation_date": 1476262368, "post_id": 39992342, "comment_id": 67266628, "body": "@Shinix did you remove the leading and trailing <code>&#47;</code>? You have to store <code>&quot;^([#][A-Z0-9]{7})$&quot;</code> instead of <code>&quot;&#47;^([#][A-Z0-9]{7})$&#47;&quot;</code>"}, {"owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476262848, "post_id": 39992342, "comment_id": 67266920, "body": "Yes, i&#39;ve tried without <code>&#47;</code> (i&#39;ve update the code on my first post). If i use config data it&#39;s not working but if i use text like that it&#39;s work :/   <code>regexp = Regexp.new(&quot;&#47;^([#][A-Z0-9]{8})$&#47;&quot;)</code> <code>regexp.match(&quot;#2YL9GR9R&quot;)</code>"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476263477, "post_id": 39992342, "comment_id": 67267303, "body": "@Shinix double check (within your code) if <code>config[&quot;validation&quot;] == &quot;^([#][A-Z0-9]{8})$&quot;</code> and if <code>params[:config][config[&quot;name&quot;]] == &quot;#2YL9GR9R&quot;</code>. If they don&#39;t match, print both values via <code>p value</code> or <code>puts value.inspect</code>. Maybe there&#39;s a trailing newline or another minor difference."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476263583, "post_id": 39992342, "comment_id": 67267380, "body": "@Shinix BTW, your updated code does not include the <code>Regexp.new</code> part, not sure if this is intentional."}, {"owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476263718, "post_id": 39992342, "comment_id": 67267484, "body": "Yes, i think use <code>.match()</code> or <code>Regexp.new</code> is the same because i&#39;ve the  same result ^^. Now i&#39;ve updated my first post with <code>Regexp.new</code>"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476264433, "post_id": 39992342, "comment_id": 67267988, "body": "@Shinix it&#39;s not the same. Calling <code>match</code> on a string invokes <a href=\"http://ruby-doc.org/core-2.3.1/String.html#method-i-match\" rel=\"nofollow noreferrer\"><code>String#match</code></a>, whereas calling it on a regex invokes <a href=\"http://ruby-doc.org/core-2.3.1/Regexp.html#method-i-match\" rel=\"nofollow noreferrer\"><code>Regexp#match</code></a>. However, what about my <a href=\"http://stackoverflow.com/questions/39992225/ruby-dynamic-regex-condition/39992342#comment67267303_39992342\">previous comment</a> \u2013 have you checked your values?"}, {"owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476264781, "post_id": 39992342, "comment_id": 67268199, "body": "Uh, i&#39;m sorry i&#39;ve not see your previous comment. I&#39;ve checked now with <code>inspect</code> the two values and i&#39;ve that :"}, {"owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476264910, "post_id": 39992342, "comment_id": 67268291, "body": "<code>puts config[&quot;validation&quot;].inspect</code> show <code>&quot;^([#][A-Z0-9]{7})$&quot;</code> and <code>puts params[:config][config[&quot;name&quot;]].inspect</code> show <code>&quot;#2YL9GR9R&quot; </code>"}, {"owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476265033, "post_id": 39992342, "comment_id": 67268382, "body": "Oh ! no ! i&#39;v in the regex &quot;{7}&quot; but it&#39;s {8} for working fine... Thanks ! your regexp.match work fine now !"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "edited": false, "score": 0, "creation_date": 1476265554, "post_id": 39992342, "comment_id": 67268711, "body": "@Shinix <code>config[&quot;validation&quot;] == &quot;^([#][A-Z0-9]{8})$&quot;</code> would have revealed the typo. Don&#39;t trust your eyes when comparing strings ;-)"}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 3, "last_activity_date": 1476255552, "creation_date": 1476255552, "answer_id": 39992342, "question_id": 39992225, "link": "https://stackoverflow.com/questions/39992225/ruby-dynamic-regex-condition/39992342#39992342", "title": "Ruby dynamic Regex condition", "body": "<p>Your <code>config[\"validation\"]</code> contains a string that looks like a regexp, but it is not. But you can build a regexp out of a string:</p>\n\n<pre><code>regexp = Regexp.new(config[\"validation\"])\nregexp.match(params[:config][config[\"name\"]])\n</code></pre>\n\n<p>Since <code>Regexp.new</code> expects a string without the surrounding <code>/.../</code>, you just might want to omit them.</p>\n"}], "owner": {"reputation": 167, "user_id": 5542131, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-zPYEMCiULew/AAAAAAAAAAI/AAAAAAAAAIM/ifjuVZdyT5U/photo.jpg?sz=128", "display_name": "Shinix", "link": "https://stackoverflow.com/users/5542131/shinix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 39992342, "answer_count": 1, "score": 1, "last_activity_date": 1476263742, "creation_date": 1476255147, "last_edit_date": 1476263742, "question_id": 39992225, "link": "https://stackoverflow.com/questions/39992225/ruby-dynamic-regex-condition", "title": "Ruby dynamic Regex condition", "body": "<p>I would like make a regex on controller (RoR). i have tried this code :</p>\n\n<pre><code>  @widget_check = ClanTemplatesWidget.find(params[:id])\n  unless params[:config].blank?\n    #@widget_check.config in database value = [{\"input\":\"string\",\"name\":\"code\", \"label\":\"Code clan\",\"validation\":\"^([#][A-Z0-9]{7})$\"}]\n    JSON.parse(@widget_check.config).each do |config,i|\n     regexp = Regexp.new(config[\"validation\"])\n     if regexp.match(params[:config][config[\"name\"]])\n       @error = 0\n     else\n       @error = 1\n     end\n    end\n    @widget.config = params[:config].to_json\n  end\n</code></pre>\n\n<p>For information my data is on the database. If i inspect the two params i have that :</p>\n\n<p><strong>config[\"validation\"] =</strong> /^([#][A-Z0-9]{8})$/</p>\n\n<p><strong>params[:config][config[\"name\"]] =</strong> #2YL9GR9R</p>\n\n<p>If i rewrite my code with the data it's work fine (like that) :</p>\n\n<pre><code>if /^([#][A-Z0-9]{8})$/.match(\"#2YL9GR9R\")\n  @error = 0\nelse\n  @error = 1\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1476254486, "post_id": 39991962, "comment_id": 67262062, "body": "I don&#39;t understand your additional question. Why do you want to store the same value in two different variables (a local and an instance variable)? Are you looking for something like <code>if defined?(@journal)</code>?"}, {"owner": {"reputation": 537, "user_id": 6882419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rfC8g.jpg?s=128&g=1", "display_name": "M1nt_zwy", "link": "https://stackoverflow.com/users/6882419/m1nt-zwy"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1476255936, "post_id": 39991962, "comment_id": 67262866, "body": "Yes,thank you vary much."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476258655, "post_id": 39991962, "comment_id": 67264362, "body": "This is not a variable problem, your syntax is wrong (hence the syntax error)."}], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 1, "last_activity_date": 1476256656, "last_edit_date": 1476256656, "creation_date": 1476254269, "answer_id": 39991992, "question_id": 39991962, "link": "https://stackoverflow.com/questions/39991962/how-to-make-out-variable-and-variable-in-ruby/39991992#39991992", "title": "How to make out @variable and variable in Ruby?", "body": "<p>You are missing a comma and this leads to a <code>syntax error</code>. Change</p>\n\n<pre><code>&lt;%=render partial: 'show' locals: { journal: @journal }%&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;%= render partial: 'show', locals: { journal: @journal } %&gt;\n</code></pre>\n\n<p>I addition: You can use the <code>defined?</code> method to check if a variable is defined, for example:</p>\n\n<pre><code>if defined?(@journal)\n  # @journal is set\nelse\n  # @journal is not set \nend\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 6882419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rfC8g.jpg?s=128&g=1", "display_name": "M1nt_zwy", "link": "https://stackoverflow.com/users/6882419/m1nt-zwy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 39991992, "answer_count": 1, "score": -1, "last_activity_date": 1476256656, "creation_date": 1476254170, "question_id": 39991962, "link": "https://stackoverflow.com/questions/39991962/how-to-make-out-variable-and-variable-in-ruby", "title": "How to make out @variable and variable in Ruby?", "body": "<p>To be compatible with other actions.I use <code>variable</code>(not <code>@variable</code>) in <code>_show.html.erb</code>.</p>\n\n<pre><code>&lt;p&gt;&lt;%= journal.title %&gt;&lt;/p&gt;\n</code></pre>\n\n<p>But in <code>show.html.erb</code>, i can't turn <code>@variable</code> into <code>variable</code> and render to <code>_show.html.erb</code>.</p>\n\n<pre><code>&lt;%=render partial: 'show' locals: { journal: @journal }%&gt;\n\nsyntax error, unexpected tIDENTIFIER\n</code></pre>\n\n<p>In addition:\nHow can i make out @variable and variable,then do different things?</p>\n\n<pre><code> @journal = Journal.first\n journal = Journal.first\n\nif is @variable\n  do sth\nelse\n  do sth\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "binding", "server", "pry"], "answers": [{"tags": [], "owner": {"reputation": 554, "user_id": 658181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/807c4ac1ad1b45189ab02cb5b98d5084?s=128&d=identicon&r=PG", "display_name": "zires", "link": "https://stackoverflow.com/users/658181/zires"}, "is_accepted": false, "score": 2, "last_activity_date": 1476259297, "creation_date": 1476259297, "answer_id": 39993475, "question_id": 39991909, "link": "https://stackoverflow.com/questions/39991909/is-it-possible-to-exit-out-of-binding-pry-without-a-console/39993475#39993475", "title": "Is it possible to exit out of binding.pry without a console?", "body": "<p>I think it is impossible. When <code>binding.pry</code> entered, your runtime was invoked by Pry and into the Pry session. The thread of your runtime was blocked, nothing you can do except type <code>exit</code></p>\n"}], "owner": {"reputation": 955, "user_id": 3739453, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ad500b31d2ce042c4f2c5b6e361a129b?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Morano", "link": "https://stackoverflow.com/users/3739453/joe-morano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476259297, "creation_date": 1476253961, "question_id": 39991909, "link": "https://stackoverflow.com/questions/39991909/is-it-possible-to-exit-out-of-binding-pry-without-a-console", "title": "Is it possible to exit out of binding.pry without a console?", "body": "<p>Say I have the following code:</p>\n\n<pre><code>&lt;% #do something\nbinding.pry\n#do something else %&gt;\n</code></pre>\n\n<p>Ordinarily I'd have to type \"exit\" into my rails server and press enter in order to move past the line \"binding.pry\". Is it possible to move past it without using a terminal window? By pressing a button on the page or something?</p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476277329, "post_id": 39992300, "comment_id": 67276282, "body": "Thank you, one more question before ticking your answer as the ideal one.  How can I have output in the screen without getting a double line in between the contents?"}, {"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476282701, "post_id": 39992300, "comment_id": 67280323, "body": "I am getting double lines when I use puts!"}, {"owner": {"reputation": 18135, "user_id": 33245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317aad7f9f0b69a440faca74bbe22b20?s=128&d=identicon&r=PG", "display_name": "Jakob S", "link": "https://stackoverflow.com/users/33245/jakob-s"}, "reply_to_user": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476348204, "post_id": 39992300, "comment_id": 67309553, "body": "Feel free to open a new question if you have questions about how to output the contents of an <code>Array</code> using <code>puts</code>. Make sure to include the code you&#39;re using and preferably a sample array to reproduce the problem with."}], "tags": [], "owner": {"reputation": 18135, "user_id": 33245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317aad7f9f0b69a440faca74bbe22b20?s=128&d=identicon&r=PG", "display_name": "Jakob S", "link": "https://stackoverflow.com/users/33245/jakob-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1476255403, "creation_date": 1476255403, "answer_id": 39992300, "question_id": 39991763, "link": "https://stackoverflow.com/questions/39991763/how-to-make-system-return-a-stream-of-strings-as-output-after-running-rub/39992300#39992300", "title": "How to make system( ... ) return a stream of strings as output after running Ruby script?", "body": "<p><a href=\"http://ruby-doc.org/core/classes/Kernel.html#M005971\" rel=\"nofollow\"><code>Kernel#system</code></a> just returns <code>true</code> or <code>false</code> depending on the success of the call. STDOUT from the call is simply output, so you can't really do anything with it, as you've found out.</p>\n\n<p>If you switch to using <a href=\"http://ruby-doc.org/core/classes/Kernel.html#M005960\" rel=\"nofollow\">backticks</a> instead you should get a <code>String</code> returned with STDOUT from the command:</p>\n\n<pre><code>output = `git log`\n</code></pre>\n\n<p>To split that output string into an <code>Array</code> of lines, use <code>String#split</code>, so you get something like</p>\n\n<pre><code>output = `git log`\nlines = output.split(/\\n/)\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 39992300, "answer_count": 1, "score": 0, "last_activity_date": 1476258677, "creation_date": 1476253349, "last_edit_date": 1476258677, "question_id": 39991763, "link": "https://stackoverflow.com/questions/39991763/how-to-make-system-return-a-stream-of-strings-as-output-after-running-rub", "title": "How to make system( ... ) return a stream of strings as output after running Ruby script?", "body": "<p>I am writing a ruby script where I am making use of the command</p>\n\n<pre><code>system('git log')\n</code></pre>\n\n<p>along with some flags and formatting preferences to show me the time, revision id and file name of each file that was added in a repo.</p>\n\n<p>How can I make the result of this command (i.e which is the information stated above for each file) to be a single string, one for each file added in repo and then put all these strings inside an array?</p>\n\n<p>Example of current result:</p>\n\n<pre><code>2016-10-11T22:07:06+01:00 b3d0893: example.txt\n2016-10-11T22:06:06+01:00 b3d0893: example1.txt\n</code></pre>\n\n<p>I want the above to be two different strings and then put them in an array.</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476254626, "post_id": 39991443, "comment_id": 67262123, "body": "Another way to think of it is that <code>letters</code> and <code>letters_2</code> are different names for the same object."}], "answers": [{"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476253672, "post_id": 39991610, "comment_id": 67261729, "body": "This is what the OP described. The question is <i>why</i> does a change affect both?"}, {"owner": {"reputation": 1826, "user_id": 5150708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/252ff188dc7377773468944f8794dc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Sharma", "link": "https://stackoverflow.com/users/5150708/santosh-sharma"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476253995, "post_id": 39991610, "comment_id": 67261868, "body": "@Stefan both array refer same memory address."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476255191, "post_id": 39991610, "comment_id": 67262427, "body": "You mention <i>&quot;only one array&quot;</i> in your first sentence and later on <i>&quot;both array[s]&quot;</i>. That seems contradictory, it&#39;s not clear from your explanation if there is one array or two."}, {"owner": {"reputation": 1826, "user_id": 5150708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/252ff188dc7377773468944f8794dc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Sharma", "link": "https://stackoverflow.com/users/5150708/santosh-sharma"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476255757, "post_id": 39991610, "comment_id": 67262736, "body": "@Stefan i have edit my answer. Thanks for Suggestion."}], "tags": [], "owner": {"reputation": 1826, "user_id": 5150708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/252ff188dc7377773468944f8794dc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Sharma", "link": "https://stackoverflow.com/users/5150708/santosh-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1476255711, "last_edit_date": 1476255711, "creation_date": 1476252661, "answer_id": 39991610, "question_id": 39991443, "link": "https://stackoverflow.com/questions/39991443/in-ruby-when-i-set-array-x-equal-array-y-and-make-chages-to-array-x-why-is-it-al/39991610#39991610", "title": "In Ruby when I set array X equal array Y and make chages to array X why is it also made to array Y?", "body": "<p>you define only one array <code>letters</code></p>\n\n<p>than you have assign <code>letters</code> to <code>letters_2</code>.so you create create same array <code>letters_2</code> as <code>letters</code> .therefore any change made in <code>letters</code> will affect on <code>letters_2</code>.</p>\n\n<p>both array refereeing same <code>object_id</code> </p>\n\n<p>you can check that <code>letters.object_id</code> is same as <code>letters_2.object_id</code></p>\n\n<p>both array refer same memory address.</p>\n\n<pre><code>2.2.3 :038 &gt; letters = %w{a b c d e f g}\n =&gt; [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"] \n2.2.3 :039 &gt; letters_2 = letters\n =&gt; [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"] \n2.2.3 :040 &gt; letters_2\n =&gt; [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"] \n2.2.3 :041 &gt; letters\n =&gt; [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155397, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "reply_to_user": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1476253280, "post_id": 39991693, "comment_id": 67261565, "body": "@sagarpandya82: Indeed. I&#39;ll rephrase my answer to avoid implying that there&#39;s only one way to do it."}], "tags": [], "owner": {"reputation": 155397, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": true, "score": 3, "last_activity_date": 1476253399, "last_edit_date": 1476253399, "creation_date": 1476253078, "answer_id": 39991693, "question_id": 39991443, "link": "https://stackoverflow.com/questions/39991443/in-ruby-when-i-set-array-x-equal-array-y-and-make-chages-to-array-x-why-is-it-al/39991693#39991693", "title": "In Ruby when I set array X equal array Y and make chages to array X why is it also made to array Y?", "body": "<p>In your example, there is only one array, and <code>letters</code> and <code>letters_2</code> are both assigned to it.</p>\n\n<p>It sounds like what you want is for <code>letters_2</code> be a separate array, that's initialized from the <code>letters</code> array, but independent thereafter? If so, then one way to do that is to use <a href=\"https://ruby-doc.org/core-2.2.0/Array.html#method-c-new\" rel=\"nofollow\">the <code>Array.new</code> method</a>:</p>\n\n<pre><code>letters = %w{a b c d e f g}\nletters_2 = Array.new(letters)\n# letters and letters_2 are now separate arrays with the same elements\n\nletters[3] = \"X\" # this only affects letters, not letters_2\nletters_2[4] = \"Y\" # this only affects letters_2, not letters\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1476255754, "post_id": 39991777, "comment_id": 67262733, "body": "Since you&#39;ve shown that the initial arrays are the same using <code>object_ id</code>, perhaps you could include the <code>object _id</code>s of the latter arrays to show that they are indeed different."}, {"owner": {"reputation": 286, "user_id": 6349403, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ce09db1dc600f8c20326e791aa8e0e6c?s=128&d=identicon&r=PG&f=1", "display_name": "Gopal", "link": "https://stackoverflow.com/users/6349403/gopal"}, "reply_to_user": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 1, "creation_date": 1476256149, "post_id": 39991777, "comment_id": 67262985, "body": "@sagarpandya82  Okay, Updated."}], "tags": [], "owner": {"reputation": 286, "user_id": 6349403, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ce09db1dc600f8c20326e791aa8e0e6c?s=128&d=identicon&r=PG&f=1", "display_name": "Gopal", "link": "https://stackoverflow.com/users/6349403/gopal"}, "is_accepted": false, "score": 1, "last_activity_date": 1476256117, "last_edit_date": 1476256117, "creation_date": 1476253394, "answer_id": 39991777, "question_id": 39991443, "link": "https://stackoverflow.com/questions/39991443/in-ruby-when-i-set-array-x-equal-array-y-and-make-chages-to-array-x-why-is-it-al/39991777#39991777", "title": "In Ruby when I set array X equal array Y and make chages to array X why is it also made to array Y?", "body": "<p>you are assigning the same reference there. </p>\n\n<p>You can see here</p>\n\n<pre><code>letters = %w{a b c d e f g}\nletters_2 = letters\n\nputs letters.object_id    #4579428\nputs letters_2.object_id  #4579428\n</code></pre>\n\n<p>So If you want to make the second one as separate array, then call 'dup' function when you assign the first array to the second, </p>\n\n<pre><code>letters = %w{a b c d e f g}\nletters_2 = letters.dup\nputs letters.object_id      #18932832\nputs letters_2.object_id    #18932580\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6916855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f3ba06b1669bcd7c5f2d94ce7f1a24?s=128&d=identicon&r=PG&f=1", "display_name": "Otelo", "link": "https://stackoverflow.com/users/6916855/otelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39991693, "answer_count": 3, "score": 0, "last_activity_date": 1476256117, "creation_date": 1476251909, "question_id": 39991443, "link": "https://stackoverflow.com/questions/39991443/in-ruby-when-i-set-array-x-equal-array-y-and-make-chages-to-array-x-why-is-it-al", "title": "In Ruby when I set array X equal array Y and make chages to array X why is it also made to array Y?", "body": "<p>In this code:</p>\n\n<pre><code>letters = %w{a b c d e f g}\nletters_2 = letters\n\ni = 0\nwhile i &lt; letters.length\n    letters[i] = \"X\"\n    puts \"letters = \" + letters.join\n    puts \"letters_2 = \" + letters_2.join\n    puts \"======================\"\n\n    i+=1\nend\n</code></pre>\n\n<p>why does <strong>letters_2</strong> array get changed when the code is only explicitly modifying the <strong>letters</strong> array?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "macos-sierra"], "answers": [{"comments": [{"owner": {"reputation": 50195, "user_id": 155196, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ri3X9.jpg?s=128&g=1", "display_name": "Harsha M V", "link": "https://stackoverflow.com/users/155196/harsha-m-v"}, "edited": false, "score": 0, "creation_date": 1476532119, "post_id": 40048661, "comment_id": 67391714, "body": "Thanks you soo much :)"}, {"owner": {"reputation": 1397, "user_id": 121526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703cd7f77406a050cc791eefc1d70f4?s=128&d=identicon&r=PG", "display_name": "grettke", "link": "https://stackoverflow.com/users/121526/grettke"}, "edited": false, "score": 0, "creation_date": 1539733015, "post_id": 40048661, "comment_id": 92606699, "body": "Thank you: it is still true on Tuesday October 16, 2018."}], "tags": [], "owner": {"reputation": 489, "user_id": 571513, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7e2a65c4b7322be828451759d2f14167?s=128&d=identicon&r=PG", "display_name": "sethdeckard", "link": "https://stackoverflow.com/users/571513/sethdeckard"}, "is_accepted": true, "score": 15, "last_activity_date": 1476465385, "creation_date": 1476465385, "answer_id": 40048661, "question_id": 39991410, "link": "https://stackoverflow.com/questions/39991410/bundle-error-on-macos-10-12-sierra/40048661#40048661", "title": "Bundle Error on macOS 10.12 Sierra", "body": "<p>Reinstall the version of Ruby you're using (via rbenv, rvm, etc.) and then run <code>gem pristine --all</code> to rebuild any gems using native extensions.</p>\n"}], "owner": {"reputation": 50195, "user_id": 155196, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ri3X9.jpg?s=128&g=1", "display_name": "Harsha M V", "link": "https://stackoverflow.com/users/155196/harsha-m-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3595, "favorite_count": 0, "accepted_answer_id": 40048661, "answer_count": 1, "score": 6, "last_activity_date": 1476465385, "creation_date": 1476251763, "question_id": 39991410, "link": "https://stackoverflow.com/questions/39991410/bundle-error-on-macos-10-12-sierra", "title": "Bundle Error on macOS 10.12 Sierra", "body": "<pre><code>Ignoring binding_of_caller-0.7.2 because its extensions are not built.  Try: gem pristine binding_of_caller --version 0.7.2\nIgnoring byebug-9.0.6 because its extensions are not built.  Try: gem pristine byebug --version 9.0.6\nIgnoring capybara-webkit-1.11.1 because its extensions are not built.  Try: gem pristine capybara-webkit --version 1.11.1\nIgnoring debug_inspector-0.0.2 because its extensions are not built.  Try: gem pristine debug_inspector --version 0.0.2\nIgnoring binding_of_caller-0.7.2 because its extensions are not built.  Try: gem pristine binding_of_caller --version 0.7.2\nIgnoring byebug-9.0.6 because its extensions are not built.  Try: gem pristine byebug --version 9.0.6\nIgnoring capybara-webkit-1.11.1 because its extensions are not built.  Try: gem pristine capybara-webkit --version 1.11.1\nIgnoring debug_inspector-0.0.2 because its extensions are not built.  Try: gem pristine debug_inspector --version 0.0.2\nIgnoring eventmachine-1.2.0.1 because its extensions are not built.  Try: gem pristine eventmachine --version 1.2.0.1\nIgnoring eventmachine-1.0.9.1 because its extensions are not built.  Try: gem pristine eventmachine --version 1.0.9.1\nIgnoring ffi-1.9.14 because its extensions are not built.  Try: gem pristine ffi --version 1.9.14\nIgnoring http_parser.rb-0.6.0 because its extensions are not built.  Try: gem pristine http_parser.rb --version 0.6.0\nIgnoring io-console-0.4.6 because its extensions are not built.  Try: gem pristine io-console --version 0.4.6\nIgnoring json-2.0.2 because its extensions are not built.  Try: gem pristine json --version 2.0.2\nIgnoring kgio-2.10.0 because its extensions are not built.  Try: gem pristine kgio --version 2.10.0\nIgnoring mysql2-0.4.4 because its extensions are not built.  Try: gem pristine mysql2 --version 0.4.4\nIgnoring nio4r-1.2.1 because its extensions are not built.  Try: gem pristine nio4r --version 1.2.1\nIgnoring nokogiri-1.6.8.1 because its extensions are not built.  Try: gem pristine nokogiri --version 1.6.8.1\nIgnoring pg-0.19.0 because its extensions are not built.  Try: gem pristine pg --version 0.19.0\nIgnoring psych-2.1.1 because its extensions are not built.  Try: gem pristine psych --version 2.1.1\nIgnoring puma-3.6.0 because its extensions are not built.  Try: gem pristine puma --version 3.6.0\nIgnoring raindrops-0.17.0 because its extensions are not built.  Try: gem pristine raindrops --version 0.17.0\nIgnoring rgeo-0.5.3 because its extensions are not built.  Try: gem pristine rgeo --version 0.5.3\nIgnoring rmagick-2.16.0 because its extensions are not built.  Try: gem pristine rmagick --version 2.16.0\nIgnoring sqlite3-1.3.11 because its extensions are not built.  Try: gem pristine sqlite3 --version 1.3.11\nIgnoring therubyracer-0.12.2 because its extensions are not built.  Try: gem pristine therubyracer --version 0.12.2\nIgnoring thin-1.5.1 because its extensions are not built.  Try: gem pristine thin --version 1.5.1\nIgnoring unf_ext-0.0.7.2 because its extensions are not built.  Try: gem pristine unf_ext --version 0.0.7.2\nIgnoring unicorn-5.1.0 because its extensions are not built.  Try: gem pristine unicorn --version 5.1.0\nIgnoring websocket-driver-0.6.4 because its extensions are not built.  Try: gem pristine websocket-driver --version 0.6.4\nThe git source `git://github.com/plataformatec/devise.git` uses the `git` protocol, which transmits data without encryption. Disable this warning with `bundle config git.allow_insecure true`, or switch to the `https` protocol to keep your data secure.\nThe git source `git://github.com/jetthoughts/yaml_db.git` uses the `git` protocol, which transmits data without encryption. Disable this warning with `bundle config git.allow_insecure true`, or switch to the `https` protocol to keep your data secure.\n</code></pre>\n\n<p>Is there any way to solve this issue?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "routes", "crud"], "comments": [{"owner": {"reputation": 1213, "user_id": 5664033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/965444bb2b99f96cd3e3ace4181fa27c?s=128&d=identicon&r=PG", "display_name": "Bala Karthik", "link": "https://stackoverflow.com/users/5664033/bala-karthik"}, "edited": false, "score": 1, "creation_date": 1476251831, "post_id": 39991388, "comment_id": 67260999, "body": "Whats the error you are getting..!"}, {"owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "edited": false, "score": 1, "creation_date": 1476252261, "post_id": 39991388, "comment_id": 67261130, "body": "yes, what is the error message ? and you have mentioned that &quot;But when i submit the form, it redirects me to the projects index (which is what i want)&quot; . But according to your create action, It will redirect to <code>index</code> when there is a error, otherwise redirect to <code>show</code> page so if you want redirect to <code>index</code> then change that too"}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476252581, "post_id": 39991388, "comment_id": 67261270, "body": "The error inside the controller inside the create action. the <code>flash[:alert] = &#39;An error occurred adding your project. Please try again later</code> . Because when i click on add project to submit the form, it redirects me to the index. But instead of the project, the error message shows up."}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "reply_to_user": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "edited": false, "score": 0, "creation_date": 1476252670, "post_id": 39991388, "comment_id": 67261303, "body": "@sajan i&#39;ve tried that too... but it doesn&#39;t work either :/ that&#39;s why i don&#39;t understand"}, {"owner": {"reputation": 1213, "user_id": 5664033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/965444bb2b99f96cd3e3ace4181fa27c?s=128&d=identicon&r=PG", "display_name": "Bala Karthik", "link": "https://stackoverflow.com/users/5664033/bala-karthik"}, "edited": false, "score": 0, "creation_date": 1476252727, "post_id": 39991388, "comment_id": 67261333, "body": "@JustineDupuis we could able to debug if you provide the logs too."}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "reply_to_user": {"reputation": 1213, "user_id": 5664033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/965444bb2b99f96cd3e3ace4181fa27c?s=128&d=identicon&r=PG", "display_name": "Bala Karthik", "link": "https://stackoverflow.com/users/5664033/bala-karthik"}, "edited": false, "score": 0, "creation_date": 1476252903, "post_id": 39991388, "comment_id": 67261408, "body": "@BalaKarthik in <code>development.log</code>  ?"}, {"owner": {"reputation": 1213, "user_id": 5664033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/965444bb2b99f96cd3e3ace4181fa27c?s=128&d=identicon&r=PG", "display_name": "Bala Karthik", "link": "https://stackoverflow.com/users/5664033/bala-karthik"}, "edited": false, "score": 0, "creation_date": 1476252984, "post_id": 39991388, "comment_id": 67261448, "body": "@JustineDupuis the environment which you have faced the problem. If you are working in the development environment then <code>development.log</code>"}, {"owner": {"reputation": 1698, "user_id": 4587148, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjBAv.jpg?s=128&g=1", "display_name": "Sajan", "link": "https://stackoverflow.com/users/4587148/sajan"}, "reply_to_user": {"reputation": 1213, "user_id": 5664033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/965444bb2b99f96cd3e3ace4181fa27c?s=128&d=identicon&r=PG", "display_name": "Bala Karthik", "link": "https://stackoverflow.com/users/5664033/bala-karthik"}, "edited": false, "score": 0, "creation_date": 1476253107, "post_id": 39991388, "comment_id": 67261501, "body": "As asked by @Bala Karthik , post some development log or try to put actual error message to <code>flash</code>. like <code>flash[:alert] = @project.errors.full_messages</code>."}, {"owner": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1476253167, "post_id": 39991388, "comment_id": 67261526, "body": "@JustineDupuis You should check @project.errors just before the redirect to index path. Do <code>raise @project.errors.inspect</code>before redirect to index path you wil get the exact error."}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "reply_to_user": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1476253460, "post_id": 39991388, "comment_id": 67261627, "body": "@Dinesh thank you, where do I write this code exactly ?"}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "reply_to_user": {"reputation": 1213, "user_id": 5664033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/965444bb2b99f96cd3e3ace4181fa27c?s=128&d=identicon&r=PG", "display_name": "Bala Karthik", "link": "https://stackoverflow.com/users/5664033/bala-karthik"}, "edited": false, "score": 0, "creation_date": 1476253517, "post_id": 39991388, "comment_id": 67261659, "body": "@BalaKarthik I just updated the question :) I hope it will help"}, {"owner": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1476253550, "post_id": 39991388, "comment_id": 67261674, "body": "@JustineDupuis after <code>else</code> line in your create method"}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "reply_to_user": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1476253878, "post_id": 39991388, "comment_id": 67261821, "body": "@Dinesh the exact error is <code>[&quot;Deadline can&#39;t be blank&quot;, &quot;Description can&#39;t be blank&quot;]</code>"}, {"owner": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1476254274, "post_id": 39991388, "comment_id": 67261969, "body": "@JustineDupuis Make sure you are entering these fields in form also make sure that you are permitting these fields in controller project_params method. For better understanding I recomment <a href=\"http://guides.rubyonrails.org/active_record_validations.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/active_record_validations.html</a> and  <a href=\"http://guides.rubyonrails.org/action_controller_overview.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/action_controller_overview.html</a>"}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "reply_to_user": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1476254752, "post_id": 39991388, "comment_id": 67262199, "body": "@Dinesh Thanks i&#39;ll do that :)"}], "answers": [{"comments": [{"owner": {"reputation": 1269, "user_id": 5531936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zpdEy.jpg?s=128&g=1", "display_name": "Ren", "link": "https://stackoverflow.com/users/5531936/ren"}, "reply_to_user": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476252861, "post_id": 39991469, "comment_id": 67261391, "body": "also, your validations should be confined to your model...i see you have <code>validates :name</code>, etc... in your controller"}, {"owner": {"reputation": 1269, "user_id": 5531936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zpdEy.jpg?s=128&g=1", "display_name": "Ren", "link": "https://stackoverflow.com/users/5531936/ren"}, "reply_to_user": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476253188, "post_id": 39991469, "comment_id": 67261532, "body": "your create action is set up so that you can&#39;t see any validation errors...could be the issue and the reason for the redirect"}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476253351, "post_id": 39991469, "comment_id": 67261592, "body": "How do I change that ?"}, {"owner": {"reputation": 1269, "user_id": 5531936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zpdEy.jpg?s=128&g=1", "display_name": "Ren", "link": "https://stackoverflow.com/users/5531936/ren"}, "reply_to_user": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476253919, "post_id": 39991469, "comment_id": 67261837, "body": "see edited answer.  because you are requiring all your fields to be present, you have to make sure to fill out all the fields of your form"}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476254428, "post_id": 39991469, "comment_id": 67262035, "body": "thanks. It helps a little bit. But now the error message says that the deadline can&#39;t be blank :/"}, {"owner": {"reputation": 1269, "user_id": 5531936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zpdEy.jpg?s=128&g=1", "display_name": "Ren", "link": "https://stackoverflow.com/users/5531936/ren"}, "reply_to_user": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476254827, "post_id": 39991469, "comment_id": 67262233, "body": "Did you fill in the deadline field when you submitted your form?"}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476255044, "post_id": 39991469, "comment_id": 67262355, "body": "Yes, I did... That why I don&#39;t understand... :("}, {"owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476268469, "post_id": 39991469, "comment_id": 67270590, "body": "Problem solved ! I set up deadline as a boolean (why ???^^) instead of date in the migration !"}, {"owner": {"reputation": 1269, "user_id": 5531936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zpdEy.jpg?s=128&g=1", "display_name": "Ren", "link": "https://stackoverflow.com/users/5531936/ren"}, "reply_to_user": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "edited": false, "score": 0, "creation_date": 1476282708, "post_id": 39991469, "comment_id": 67280330, "body": "great! glad to hear"}], "tags": [], "owner": {"reputation": 1269, "user_id": 5531936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zpdEy.jpg?s=128&g=1", "display_name": "Ren", "link": "https://stackoverflow.com/users/5531936/ren"}, "is_accepted": true, "score": 0, "last_activity_date": 1476253546, "last_edit_date": 1476253546, "creation_date": 1476252072, "answer_id": 39991469, "question_id": 39991388, "link": "https://stackoverflow.com/questions/39991388/redirect-to-action-in-create-issue-ruby-on-rails/39991469#39991469", "title": "redirect_to action in Create issue Ruby on Rails", "body": "<p>If you are using Rails 4 and above, you shouldn't be using <code>attr_accessor</code> for attributes that are persisted in the database.  This could be causing those attributes to not be saved properly.</p>\n\n<p>Try removing your <code>attr_accessor</code> lines of code and rely instead on strong parameters:</p>\n\n<pre><code>def project_params\n  params.require(:project).permit(:name, :deadline, :description)\nend\n</code></pre>\n\n<p>In your code you forgot <code>:description</code></p>\n\n<p>Also the way your create action is setup prevents you from seeing any validation errors.  Instead have you create action look something like this, where the original form is re-rendered upon failure to save:</p>\n\n<pre><code>def create\n    @project = Project.new(project_params)\n    if @project.save\n      redirect_to projects_show_path, notice: 'Project successfully added'\n    else\n      flash[:alert] = 'An error ocurred adding your project. Please try again later'\n      render 'new'\n    end\nend\n</code></pre>\n\n<p>You would also have to make sure to display the error messages in the view with your form..Something like this:</p>\n\n<pre><code>&lt;% if @project.errors.any? %&gt;\n  &lt;ul&gt;\n    &lt;% @project.errors.full_messages.each do |msg| %&gt;\n      &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;\n    &lt;% end %&gt;\n  &lt;/ul&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 5914341, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10208640241620387/picture?type=large", "display_name": "justinedps26", "link": "https://stackoverflow.com/users/5914341/justinedps26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 39991469, "answer_count": 1, "score": -1, "last_activity_date": 1476253546, "creation_date": 1476251634, "last_edit_date": 1476253232, "question_id": 39991388, "link": "https://stackoverflow.com/questions/39991388/redirect-to-action-in-create-issue-ruby-on-rails", "title": "redirect_to action in Create issue Ruby on Rails", "body": "<p>I'm building a little Rails app with user authentication. It's an app where you can organize your projects, add tasks in it, add some comments.</p>\n\n<p>When I'm the current user, I can click on 'start a project' and see a form. But when i submit the form, it redirects me to the projects index (which is what i want) but it doesn't save the project; I have the error message instead. Anyway, you can see it with the code :</p>\n\n<p>Here is my <code>project.rb</code> :</p>\n\n<pre><code>class Project &lt; ActiveRecord::Base\n\nbelongs_to :user\n\nvalidates_presence_of :name, :deadline, :description\n\nattr_accessor :name, :deadline, :description\n\nend\n</code></pre>\n\n<p>Here is my <code>projects_controller.rb</code>:</p>\n\n<pre><code>class ProjectsController &lt; ApplicationController\n  include ActiveModel::Model\n  attr_accessor :name, :deadline, :description\n\n  validates :name, presence: true\n  validates :deadline, presence: true\n  validates :description, presence: true\n\n  def index\n    @projects = Project.all\n  end\n\n  def new\n    @project = Project.new\n  end\n\n  def create\n    @project = Project.new(project_params)\n    if @project.save\n      redirect_to projects_show_path, notice: 'Project successfully added'\n    else\n      flash[:alert] = 'An error ocurred adding your project. Please try again later'\n      redirect_to projects_index_path\n    end\n  end\n\n  def show\n    @current_user = User.find(params[:id])\n    @project = Project.find(params[:id])\n  end\n\n  def edit\n    @project = Project.find(params[:id])\n  end\n\n  def update\n    @project = Project.find(params[:id])\n    if @project.update_attributes(project_params)\n      redirect_to projects_index_path\n    else\n      flash[:alert] = \"An occurred editing your project. Please try again later\"\n      redirect_to projects_index_path\n    end\n  end\n\n  def destroy\n    @project = Project.find(params[:id])\n    if @project.destroy\n      redirect_to projects_index_path\n    else\n      flash[:alert] = \"An error occured deleting your project... Please try again later\"\n      redirect_to projects_index_path\n    end\n  end\n\n\n  private\n\n  def project_params\n    params.require(:project).permit(:name, :deadline)\n  end\n\n\n\nend\n</code></pre>\n\n<p>Here is my <code>projects/index.html.erb</code> :</p>\n\n<pre><code>&lt;body id=\"projects-index-body\"&gt;\n  &lt;div id=\"welcome-projects\"&gt;\n    &lt;h1&gt;Hi &lt;% @current_user %&gt; ! Start managing your projects !&lt;/h1&gt;\n  &lt;/div&gt;\n\n  &lt;div id=\"projects-index-container&gt;\"&gt;\n    &lt;% if @project.nil? %&gt;\n      &lt;div id=\"no-project\"&gt;\n        &lt;p&gt;You don't have any projects &lt;%= link_to 'yet', projects_new_path %&gt;.&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;% else %&gt;\n        &lt;%= render @projects %&gt;\n      &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Here is my <code>_form.html.erb</code> :</p>\n\n<pre><code>&lt;div id=\"form-new-project-container\"&gt;\n  &lt;%= form_for @project do |f| %&gt;\n    &lt;div id=\"form-input\"&gt;\n      &lt;%= f.text_field :name, placeholder: 'Project name', autofocus: true %&gt;\n    &lt;/div&gt;\n    &lt;div id=\"form-input\"&gt;\n      &lt;%= f.text_field :deadline, placeholder: 'What is your project deadline ?', autofocus: true %&gt;\n    &lt;/div&gt;\n    &lt;div id=\"form-input\"&gt;\n      &lt;%= f.text_area :description, placeholder: 'Add a description', autofocus: true, style: 'height:100px' %&gt;\n    &lt;/div&gt;\n    &lt;div id=\"form-submit\"&gt;\n      &lt;%= f.submit('Add project', class: 'submit-btn') %&gt;\n    &lt;/div&gt;\n\n  &lt;% end %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my <code>_projects.html.erb</code> :</p>\n\n<pre><code>&lt;div id=\"name-container\"&gt;\n  &lt;%= link_to \"#{@projects.name}\", project %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my <code>routes.rb</code> :</p>\n\n<pre><code>Rails.application.routes.draw do\n  get 'projects/index'\n\n  get 'projects/show'\n\n  get 'projects/edit'\n\n  get 'projects/new'\n\n  get 'welcome/index'\n\n  get 'welcome/about'\n\n  resources :projects\n\n  devise_for :users, :controllers =&gt; { :omniauth_callbacks =&gt; \"users/omniauth_callbacks\" }\n\n  resources :users do\n    delete 'users/sign_out' =&gt; \"devise/sessions#destroy\"\n  end\n\n  authenticated :users do\n    root to: 'projects#index', as: :authenticated_root\n  end\n\n  root 'welcome#index'\n\nend\n</code></pre>\n\n<p>The logs in <code>development.log</code> :</p>\n\n<pre><code>Started GET \"/projects/new\" for ::1 at 2016-10-12 16:40:01 +1100\nProcessing by ProjectsController#new as HTML\n  Rendered projects/_form.html.erb (17.2ms)\n  Rendered projects/new.html.erb within layouts/application (20.7ms)\n  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ?  ORDER BY \"users\".\"id\" ASC LIMIT 1[0m  [[\"id\", 3]]\nCompleted 200 OK in 74ms (Views: 72.7ms | ActiveRecord: 0.1ms)\n\n\nStarted GET \"/projects/new\" for ::1 at 2016-10-12 17:10:20 +1100\nProcessing by ProjectsController#new as HTML\n  Rendered projects/_form.html.erb (1.7ms)\n  Rendered projects/new.html.erb within layouts/application (2.7ms)\n  [1m[35mUser Load (0.2ms)[0m  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ?  ORDER BY \"users\".\"id\" ASC LIMIT 1  [[\"id\", 3]]\nCompleted 200 OK in 62ms (Views: 51.2ms | ActiveRecord: 1.0ms)\n\n\nStarted GET \"/assets/application.self-64b323fda93125b3149a63eb79976d7aca18fdd68d693ad1ef615b0ab4a62cd2.css?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/menu.self-5ad0c1c387d3f54736adf9854f4fd424128328e7958f16a7e3f9c96cd1a85c41.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/angular/angular.self-7f8df3e3ebe7623e233b951726e7da238883fa9e7a98b987ac7aecccf5f00510.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/projects.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/users.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/users/omniauth_callbacks.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/welcome.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted GET \"/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1\" for ::1 at 2016-10-12 17:10:20 +1100\n\n\nStarted POST \"/projects\" for ::1 at 2016-10-12 17:10:22 +1100\nProcessing by ProjectsController#create as HTML\n  Parameters: {\"utf8\"=&gt;\"\u2713\", \"authenticity_token\"=&gt;\"RVkKamdrg/DM2rmDxclNqt0hurD29Fvg1TECS46y/PCAXJ4mn2cyus16IvOikPLpO+cyto99X2jH6vX8JZO/pQ==\", \"project\"=&gt;{\"name\"=&gt;\"\", \"deadline\"=&gt;\"\", \"description\"=&gt;\"\"}, \"commit\"=&gt;\"Add project\"}\nUnpermitted parameter: description\n  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m\n  [1m[35m (0.0ms)[0m  rollback transaction\nRedirected to http://localhost:3000/projects/index\nCompleted 302 Found in 4ms (ActiveRecord: 0.1ms)\n\n\nStarted GET \"/projects/index\" for ::1 at 2016-10-12 17:10:22 +1100\nProcessing by ProjectsController#index as HTML\n  Rendered projects/index.html.erb within layouts/application (0.1ms)\n  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ?  ORDER BY \"users\".\"id\" ASC LIMIT 1[0m  [[\"id\", 3]]\nCompleted 200 OK in 23ms (Views: 22.8ms | ActiveRecord: 0.1ms)\n\n\nStarted GET \"/projects/index\" for ::1 at 2016-10-12 17:11:29 +1100\nProcessing by ProjectsController#index as HTML\n  Rendered projects/index.html.erb within layouts/application (0.2ms)\n  [1m[35mUser Load (0.1ms)[0m  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ?  ORDER BY \"users\".\"id\" ASC LIMIT 1  [[\"id\", 3]]\nCompleted 200 OK in 39ms (Views: 35.3ms | ActiveRecord: 0.6ms)\n\n\nStarted GET \"/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1\" for ::1 at 2016-10-12 17:11:29 +1100\n\n\nStarted GET \"/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1\" for ::1 at 2016-10-12 17:11:29 +1100\n\n\nStarted GET \"/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/angular/angular.self-7f8df3e3ebe7623e233b951726e7da238883fa9e7a98b987ac7aecccf5f00510.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/menu.self-5ad0c1c387d3f54736adf9854f4fd424128328e7958f16a7e3f9c96cd1a85c41.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/application.self-64b323fda93125b3149a63eb79976d7aca18fdd68d693ad1ef615b0ab4a62cd2.css?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/projects.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/users.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/users/omniauth_callbacks.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/welcome.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1\" for ::1 at 2016-10-12 17:11:30 +1100\n\n\nStarted GET \"/projects/new\" for ::1 at 2016-10-12 17:11:31 +1100\nProcessing by ProjectsController#new as HTML\n  Rendered projects/_form.html.erb (3.2ms)\n  Rendered projects/new.html.erb within layouts/application (14.4ms)\n  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ?  ORDER BY \"users\".\"id\" ASC LIMIT 1[0m  [[\"id\", 3]]\nCompleted 200 OK in 57ms (Views: 51.8ms | ActiveRecord: 0.3ms)\n\n\nStarted POST \"/projects\" for ::1 at 2016-10-12 17:11:33 +1100\nProcessing by ProjectsController#create as HTML\n  Parameters: {\"utf8\"=&gt;\"\u2713\", \"authenticity_token\"=&gt;\"s9h2ktiveACV3Mq4JJsz1/Z3eE5R+wlejmikisQI1BJ23eLeIKPJSpR8UchDwoyUELHwSChyDdacs1M9bymXRw==\", \"project\"=&gt;{\"name\"=&gt;\"\", \"deadline\"=&gt;\"\", \"description\"=&gt;\"\"}, \"commit\"=&gt;\"Add project\"}\nUnpermitted parameter: description\n  [1m[35m (0.1ms)[0m  begin transaction\n  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m\nRedirected to http://localhost:3000/projects/index\nCompleted 302 Found in 5ms (ActiveRecord: 0.2ms)\n\n\nStarted GET \"/projects/index\" for ::1 at 2016-10-12 17:11:33 +1100\nProcessing by ProjectsController#index as HTML\n  Rendered projects/index.html.erb within layouts/application (0.2ms)\n  [1m[35mUser Load (0.1ms)[0m  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ?  ORDER BY \"users\".\"id\" ASC LIMIT 1  [[\"id\", 3]]\nCompleted 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.1ms)\n</code></pre>\n\n<p>I've already done a project like this one before and this issue never occurred. That's why I don't understand. I certainly miss something.</p>\n\n<p>Hope you'll figure it out :) I'm still working on it...</p>\n"}, {"tags": ["ruby", "voltrb"], "answers": [{"comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1476326835, "post_id": 40011190, "comment_id": 67300850, "body": "thanks jesse. In your experience is volt a good choice at this time? or has it been growing more buggy as time goes on? I ended up trying to write my own client-side validation system but kept getting a mysterious error: <code>Undefined constant Volt::User</code> or something (i can&#39;t remember exactly what it is, would need to check). So I&#39;m trying to decide if it&#39;s worth trying to build this medium-size app with Volt or if I should choose a different realtime framework (would likely be meteor). i do really like Ruby, though. I looked at hyperloop but I want something a bit more out-the-box."}, {"owner": {"reputation": 754, "user_id": 1593469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/35806359347f2187a1db2cdd6976248c?s=128&d=identicon&r=PG", "display_name": "Jesse Whitham", "link": "https://stackoverflow.com/users/1593469/jesse-whitham"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1476828906, "post_id": 40011190, "comment_id": 67509369, "body": "In my experience Volt has only got better but the maintainer did most of the work which is probably why he didn&#39;t have time to work on it further so at the moment I would stay away from it. Honestly I really like writing code in Ruby I would suggest Rails as the framework and using the Opal gem for doing the Javascript (Volt was doing this under the hood)"}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1476829283, "post_id": 40011190, "comment_id": 67509502, "body": "I appreciate the suggestion; it&#39;d probably be sinatra for me."}], "tags": [], "owner": {"reputation": 754, "user_id": 1593469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/35806359347f2187a1db2cdd6976248c?s=128&d=identicon&r=PG", "display_name": "Jesse Whitham", "link": "https://stackoverflow.com/users/1593469/jesse-whitham"}, "is_accepted": true, "score": 1, "last_activity_date": 1476324743, "creation_date": 1476324743, "answer_id": 40011190, "question_id": 39991377, "link": "https://stackoverflow.com/questions/39991377/how-to-add-validation-messages-in-volt/40011190#40011190", "title": "how to add validation messages in volt?", "body": "<p>I asked about this and the feature is basically incomplete. Since the maintainer has no time to work on the project at this stage it will not be happening until someone else takes up maintaining the Volt framework.</p>\n"}], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 40011190, "answer_count": 1, "score": 0, "last_activity_date": 1476324743, "creation_date": 1476251577, "question_id": 39991377, "link": "https://stackoverflow.com/questions/39991377/how-to-add-validation-messages-in-volt", "title": "how to add validation messages in volt?", "body": "<p>The volt docs refer to \"client side validation\" but there is no example code for this.</p>\n\n<p>I have <code>volt-fields</code> set up with a validation like this:</p>\n\n<pre><code>validate :description, length: { minimum: 1, maximum: 1000 }\n</code></pre>\n\n<p>then in my controller:</p>\n\n<pre><code>buffer.save!.then do |record|\n  # javascript breakpoint here\nend.fail do |err|\n  # javascript breakpoint here\nend\n</code></pre>\n\n<p>When I submit an object with an empty <code>description</code>, the <code>then</code> block is called. I would have expected the <code>fail</code> block to be called. Furthermore, I can't get access to the errors, if any are being added at all.</p>\n\n<p>I've tried both <code>record.errors</code> and <code>record.server_errors</code> - both are empty as far as I can tell. </p>\n\n<p>Do I need to write a custom validator, or can I use this built-in approach?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 12694, "user_id": 1174001, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b27f05489e2cebe5948277c2ca561a93?s=128&d=identicon&r=PG", "display_name": "CDub", "link": "https://stackoverflow.com/users/1174001/cdub"}, "edited": false, "score": 0, "creation_date": 1476247688, "post_id": 39990624, "comment_id": 67259715, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1430247/passing-parameters-in-rails-redirect-to\">Passing parameters in rails redirect_to</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12694, "user_id": 1174001, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b27f05489e2cebe5948277c2ca561a93?s=128&d=identicon&r=PG", "display_name": "CDub", "link": "https://stackoverflow.com/users/1174001/cdub"}, "is_accepted": true, "score": 4, "last_activity_date": 1476247345, "creation_date": 1476247345, "answer_id": 39990656, "question_id": 39990624, "link": "https://stackoverflow.com/questions/39990624/redirect-to-with-additional-parameters/39990656#39990656", "title": "redirect_to with additional parameters", "body": "<p>You'll want to pass it in the <code>_url</code> or <code>_path</code> method:</p>\n\n<pre><code>redirect_to users_url(message: 'test'), notice: 'Succeed.'\n</code></pre>\n\n<p>This will redirect to the absolute path for <code>/users</code>, setting the flash notice to \"Succeed.\" with an additional parameter of <code>message</code> set to \"test\".</p>\n\n<p>To answer your second question, <code>_path</code> returns a relative path to the route whereas <code>_url</code> returns an absolute URL to the route:</p>\n\n<pre><code>users_url # =&gt; http://www.example.com/users\nusers_path # =&gt; /users\n</code></pre>\n\n<p><code>_url</code> is useful, for example, in emails or for links that will live outside your app.</p>\n"}], "owner": {"reputation": 537, "user_id": 6882419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rfC8g.jpg?s=128&g=1", "display_name": "M1nt_zwy", "link": "https://stackoverflow.com/users/6882419/m1nt-zwy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3965, "favorite_count": 0, "accepted_answer_id": 39990656, "answer_count": 1, "score": 1, "last_activity_date": 1476247441, "creation_date": 1476247140, "last_edit_date": 1476247441, "question_id": 39990624, "link": "https://stackoverflow.com/questions/39990624/redirect-to-with-additional-parameters", "title": "redirect_to with additional parameters", "body": "<p>I am a noob.</p>\n\n<pre><code>redirect_to users_url, notice: 'Succeed.'\n\n&lt;p id=\"notice\"&gt;&lt;%= notice %&gt;&lt;/p&gt;\n</code></pre>\n\n<p>Then I add a <code>message</code> and it failed:</p>\n\n<pre><code>redirect_to users_url, notice: 'Succeed.', message: 'test'\n\n&lt;p id=\"notice\"&gt;&lt;%= notice %&gt;&lt;/p&gt;\n&lt;h1&gt;&lt;%= params[:message] %&gt;&lt;/h1&gt; # no result\n&lt;h1&gt;&lt;%= message %&gt;&lt;/h1&gt; # name error\n</code></pre>\n\n<p>What's the differences between <code>users_url</code> and <code>users_path</code>?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1269, "user_id": 5531936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zpdEy.jpg?s=128&g=1", "display_name": "Ren", "link": "https://stackoverflow.com/users/5531936/ren"}, "edited": false, "score": 0, "creation_date": 1476245799, "post_id": 39990366, "comment_id": 67259252, "body": "could it be <code>EProfile.all</code>?  It&#39;s rails convention for models to be singular case, not plural"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7005348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9ebebfe298d5940751b7b9e003977a?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Swerve", "link": "https://stackoverflow.com/users/7005348/dr-swerve"}, "edited": false, "score": 1, "creation_date": 1476249588, "post_id": 39990677, "comment_id": 67260264, "body": "Hello! Thank you for your response, I will definitely check out those docs, I&#39;ve been learning from Code Academy. I have edited my code to match your suggestions but I am still getting the same error!"}, {"owner": {"reputation": 799, "user_id": 1679747, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/33774bfe0488310a8a471adc7ec4617b?s=128&d=identicon&r=PG", "display_name": "cpk", "link": "https://stackoverflow.com/users/1679747/cpk"}, "reply_to_user": {"reputation": 35, "user_id": 7005348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9ebebfe298d5940751b7b9e003977a?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Swerve", "link": "https://stackoverflow.com/users/7005348/dr-swerve"}, "edited": false, "score": 0, "creation_date": 1476287811, "post_id": 39990677, "comment_id": 67284038, "body": "The error is telling you exactly what this issue is.  You need the relevant template. Again, the guides outline this in great detail."}], "tags": [], "owner": {"reputation": 799, "user_id": 1679747, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/33774bfe0488310a8a471adc7ec4617b?s=128&d=identicon&r=PG", "display_name": "cpk", "link": "https://stackoverflow.com/users/1679747/cpk"}, "is_accepted": false, "score": 0, "last_activity_date": 1476247469, "creation_date": 1476247469, "answer_id": 39990677, "question_id": 39990366, "link": "https://stackoverflow.com/questions/39990366/error-with-simple-action-controller/39990677#39990677", "title": "Error with Simple Action Controller", "body": "<p>Look inside <code>app/models</code> then locate the file <code>eprofile.rb</code></p>\n\n<p>Inside that file, I would imagine the class name is <code>class Eprofile</code>. You want to use the singular name like /u/Ren pointed out.</p>\n\n<p>Also your in your routes, use the suggested format from the rails guides</p>\n\n<pre><code>get 'welcome', to: 'pages#home'\nget 'profiles', to: 'profiles#index'\n</code></pre>\n\n<p>Be sure to read <a href=\"http://guides.rubyonrails.org/routing.html\" rel=\"nofollow\">http://guides.rubyonrails.org/routing.html</a>. Some of the best docs around!</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 7005348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9ebebfe298d5940751b7b9e003977a?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Swerve", "link": "https://stackoverflow.com/users/7005348/dr-swerve"}, "edited": false, "score": 0, "creation_date": 1476287423, "post_id": 39993271, "comment_id": 67283775, "body": "Thank you! I had the file but not in the right path."}], "tags": [], "owner": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "is_accepted": true, "score": 7, "last_activity_date": 1476258618, "creation_date": 1476258618, "answer_id": 39993271, "question_id": 39990366, "link": "https://stackoverflow.com/questions/39990366/error-with-simple-action-controller/39993271#39993271", "title": "Error with Simple Action Controller", "body": "<p>The error is self explanatory</p>\n\n<pre><code>ProfilesController#index is missing a template for this request format and variant. request.formats: [\"text/html\"]\n</code></pre>\n\n<p>This means you don't have file <code>app/views/profiles/index.html.erb</code>. </p>\n"}], "owner": {"reputation": 35, "user_id": 7005348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9ebebfe298d5940751b7b9e003977a?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Swerve", "link": "https://stackoverflow.com/users/7005348/dr-swerve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17487, "favorite_count": 2, "accepted_answer_id": 39993271, "answer_count": 2, "score": 3, "last_activity_date": 1476258618, "creation_date": 1476245366, "last_edit_date": 1592644375, "question_id": 39990366, "link": "https://stackoverflow.com/questions/39990366/error-with-simple-action-controller", "title": "Error with Simple Action Controller", "body": "<p>I am new to Ruby on Rails and trying to set up a super simple database.</p>\n<p>I am getting a</p>\n<blockquote>\n<p>ActionController::UnknownFormat in ProfilesController#index</p>\n<p>ProfilesController#index is missing a template for this request format and variant. request.formats: [&quot;text/html&quot;] request.variant: [] NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not\u2026 nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.</p>\n</blockquote>\n<p>error and am unsure what is going on. I tried researching but I can not tell what I am doing wrong.</p>\n<pre><code>#profiles_controller.rb:\n\nclass ProfilesController &lt; ApplicationController\n  def index\n    @profiles = Eprofiles.all\n  end\nend\n\n\n#routes.rb:\n\nRails.application.routes.draw do\n  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html\n  get 'welcome', to: 'pages#home'\n  get 'profiles', to: 'profiles#index'\nend\n\n#eprofiles.rb\n\nclass Eprofiles &lt; ApplicationRecord\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "capistrano", "ruby-1.9.3"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476238461, "post_id": 39989272, "comment_id": 67257529, "body": "Ruby 1.9.3 has been EOL for a year and a half. I would make updating the ruby version your first priority."}], "answers": [{"comments": [{"owner": {"reputation": 4790, "user_id": 407615, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f59bbb5527258c3fb5d82a5cb22050f1?s=128&d=identicon&r=PG", "display_name": "Victor S", "link": "https://stackoverflow.com/users/407615/victor-s"}, "edited": false, "score": 0, "creation_date": 1476240924, "post_id": 39989557, "comment_id": 67258097, "body": "Thanks, plans are there to upgrade things as much as possible, including ruby, but there&#39;s no automated deployment and roll-back for the current application, and it&#39;s live in production, so I can&#39;t just take risks without first making sure I can get it deploying as is."}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": true, "score": 0, "last_activity_date": 1476239187, "creation_date": 1476239187, "answer_id": 39989557, "question_id": 39989272, "link": "https://stackoverflow.com/questions/39989272/can-i-use-latest-capistrano-which-requires-ruby-2-to-deploy-rails-application/39989557#39989557", "title": "Can I use latest Capistrano which requires ruby &gt;2, to deploy Rails application that requires ruby 1.9.3?", "body": "<p>You can use Capistrano to deploy any framework so the servers ruby version is irrelevant. Capistrano is just a rake DSL that does stuff remotely via FTP or SSH.</p>\n\n<p>If you install it via gem install and not via bundler you can get around any problems with the Gemfile. </p>\n\n<p>But switching back and forth between ruby versions in development or not using the same version as production seems like a disaster waiting to happen.</p>\n\n<p>I would upgrade ruby first. The worry about setting up capistrano.</p>\n"}], "owner": {"reputation": 4790, "user_id": 407615, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f59bbb5527258c3fb5d82a5cb22050f1?s=128&d=identicon&r=PG", "display_name": "Victor S", "link": "https://stackoverflow.com/users/407615/victor-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 39989557, "answer_count": 1, "score": 1, "last_activity_date": 1476239187, "creation_date": 1476236746, "question_id": 39989272, "link": "https://stackoverflow.com/questions/39989272/can-i-use-latest-capistrano-which-requires-ruby-2-to-deploy-rails-application", "title": "Can I use latest Capistrano which requires ruby &gt;2, to deploy Rails application that requires ruby 1.9.3?", "body": "<p>I want to automate a legacy application deployment with Capistrano, but the application requires ruby 1.9.3, and Capistrano, as of this writing, requires at least ruby 2. Would it still be possible to use ruby 2+ with latest capistrano on my local dev machine to deploy to remote server that only has ruby 1.9.3 installed?   </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1476244143, "post_id": 39989266, "comment_id": 67258839, "body": "I think you should find a better ruby tutorial now because, on SO, I&#39;ve seen many awful code snippets that come from <i>Learn Ruby the Hard Way</i>."}, {"owner": {"reputation": 669, "user_id": 5991761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/984565203d53cc51598def5bb244f159?s=128&d=identicon&r=PG&f=1", "display_name": "Mint.K", "link": "https://stackoverflow.com/users/5991761/mint-k"}, "reply_to_user": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1476254973, "post_id": 39989266, "comment_id": 67262314, "body": "Please  recommend me some if you know any."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1476259640, "post_id": 39989266, "comment_id": 67264977, "body": "@Aetherus I think this code snippet is the OP&#39;s attempt to solve the <a href=\"https://learnrubythehardway.org/book/ex17.html\" rel=\"nofollow noreferrer\">exercise</a>. I would be quite surprised if Zed A. Shaw would publish such code."}], "answers": [{"tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 5, "last_activity_date": 1476259982, "last_edit_date": 1476259982, "creation_date": 1476237955, "answer_id": 39989420, "question_id": 39989266, "link": "https://stackoverflow.com/questions/39989266/ruby-copying-file/39989420#39989420", "title": "Ruby copying file", "body": "<p>You need to keep straight the difference between your <em>file names</em> and <em>file handles</em>. Also, the code is non-idiomatic Ruby. To read a file, someone coming from say PHP might write:</p>\n\n<pre><code>first_file = open(from_file)\nfirst_file_contents = first_file.read\nfirst_file.close\n\nsecond_file = open(to_file, 'w')\nsecond_file.write(first_file_contents)\nsecond_file.close\n</code></pre>\n\n<p>This is valid Ruby, but not very Rubyish Ruby. Having learned about blocks, this is much better:</p>\n\n<pre><code>File.open(from_file) do |first_file|\n  File.open(to_file, 'w') do |second_file|\n    second_file.write(first_file.read)\n  end\nend\n</code></pre>\n\n<p>Getting to know the library a bit better, you might find this shortcut:</p>\n\n<pre><code>first_file_contents = File.read(from_file)\nFile.write(to_file, second_file_contents)\n</code></pre>\n\n<p>A bit more experience will give you this:</p>\n\n<pre><code>require 'fileutils'\nFileUtils.copy_file(from_file, to_file)\n</code></pre>\n\n<p>EDIT: Thanks to Stefan for spotting a missing argument.</p>\n"}], "owner": {"reputation": 669, "user_id": 5991761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/984565203d53cc51598def5bb244f159?s=128&d=identicon&r=PG&f=1", "display_name": "Mint.K", "link": "https://stackoverflow.com/users/5991761/mint-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476259982, "creation_date": 1476236655, "question_id": 39989266, "link": "https://stackoverflow.com/questions/39989266/ruby-copying-file", "title": "Ruby copying file", "body": "<p>I am learning Ruby from learn ruby the hard way website (exercise 17).\nI'm trying to copy a file into another file.\nInstead of copying, it writes #.\nPlease help</p>\n\n<pre><code>puts \"Hi, enter the file you'd like to copy\"\nfrom_file = $stdin.gets.chomp\n\nputs \"What's the name of the file you'd like to have it overwritten\"\nto_file = $stdin.gets.chomp\n\nputs \"You want to copy #{from_file} into #{to_file}, right?\"\n$stdin.gets.chomp\n\nputs \"Contents of #{from_file}:\"\nfirst_file = open(from_file)\nputs first_file.read\n\nputs \"Contents of #{to_file}:\"\nsecond_file = open(to_file)\nputs second_file.read\n\nputs \"now overwriting\"\nfirst_file = open(second_file, 'w')\nfirst_file.write(second_file)\n\nputs \"Contents of #{from_file}:\"\nfirst_file = open(from_file)\nputs first_file.read\n\nputs \"Contents of #{to_file}:\"\nsecond_file = open(to_file)\nputs second_file.read\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "rubygems"], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 2589413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/97e56604bc0218745036e52757479d48?s=128&d=identicon&r=PG&f=1", "display_name": "Rustam", "link": "https://stackoverflow.com/users/2589413/rustam"}, "is_accepted": false, "score": 0, "last_activity_date": 1476666511, "creation_date": 1476666511, "answer_id": 40077197, "question_id": 39988925, "link": "https://stackoverflow.com/questions/39988925/how-to-avoid-failed-to-allocate-memorynomemory-error-with-axlsx-gem/40077197#40077197", "title": "How to avoid &quot;failed to allocate memory(NoMemory Error) with Axlsx gem?", "body": "<p>I did divide those csv files into more than 2 .xlsx files and it solves the problem. but it is best if i can write those all csv files into one .xlsx file.</p>\n"}], "owner": {"reputation": 172, "user_id": 2589413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/97e56604bc0218745036e52757479d48?s=128&d=identicon&r=PG&f=1", "display_name": "Rustam", "link": "https://stackoverflow.com/users/2589413/rustam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476666511, "creation_date": 1476233757, "last_edit_date": 1476234526, "question_id": 39988925, "link": "https://stackoverflow.com/questions/39988925/how-to-avoid-failed-to-allocate-memorynomemory-error-with-axlsx-gem", "title": "How to avoid &quot;failed to allocate memory(NoMemory Error) with Axlsx gem?", "body": "<p>The purpose of this script convert csv files into one xlsx file. i have 33 csv files each csv file consists with 1229 columns,289 rows, while i am trying to read all those csv files into one xlsx file i got following error</p>\n\n<blockquote>\n  <p>cell_serializer.rb:138:in 'value_serialization':failed to allocate memory (NoMemoryError)</p>\n</blockquote>\n\n<p>i thoght one file is too big to involve all data, so i decided to divide into two .xlsx files, but i got the same error. following is the script i am using.</p>\n\n<pre><code>require 'axlsx'\n\ndef csv_to_xlsx(xlsx_file_name,file_names,p)\n file_names.each do | f |\n i = 0\n CSV.foreach(f) do |row|\n   if i == 0\n     p.workbook.add_worksheet(:name =&gt; File.basename(f)) do | sheet |\n       sheet.add_row row\n     end\n   elsif\n     p.workbook.sheet_by_name(File.basename(f)).add_row row\n   end\n   i = i+1\n end\n p.serialize(xlsx_file_name)\n end\nend\n\ncsv_files = Dir.glob(\"./csv_file/*\")\nfile_count = 0\nfile_names1 = Array.new\nfile_names2 = Array.new\ncsv_files.each do | f |\n  file_count = file_count+1\n  if file_count &lt; 16\n    file_names1 &lt;&lt; f\n  elsif\n    file_names2 &lt;&lt; f\n  end\nend\n\npackage1 = Axlsx::Package.new\npackage2 = Axlsx::Package.new\ncsv_to_xlsx('./xls_file/data01.xlsx',file_names1,package1)\ncsv_to_xlsx('./xls_file/data02.xlsx',file_names2,package2)\n</code></pre>\n\n<p>To achieve what i want , i tried spreadsheed it works great and simple to use, but it only creates .xls file which can`t contain more than 256 columns. </p>\n\n<p>any idea to avoid NoMemory error, appreciate you help in advance.</p>\n\n<p>my ruby version is 2.3.0p0 </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "edited": false, "score": 2, "creation_date": 1476233048, "post_id": 39988795, "comment_id": 67256378, "body": "What makes it &quot;clear that it cannot find the rails.bat file to run rails?&quot; Is there some error message that you didn&#39;t include? That 3.2.0 is the version of RailsInstaller, by the way, and not the version of Rails that it installs. The webpage makes it clear that it includes Rails 4.2 and Ruby 2.2.4."}, {"owner": {"reputation": 16229, "user_id": 525478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b6c0b47a0c430a0b141baee7ea845be?s=128&d=identicon&r=PG", "display_name": "Brad Werth", "link": "https://stackoverflow.com/users/525478/brad-werth"}, "edited": false, "score": 0, "creation_date": 1476234427, "post_id": 39988795, "comment_id": 67256636, "body": "Just for fun - <a href=\"http://stackoverflow.com/q/12220024/525478\">stackoverflow.com/q/12220024/525478</a> and <a href=\"http://stackoverflow.com/q/920201/525478\">stackoverflow.com/q/920201/525478</a>... You might consider <a href=\"https://www.virtualbox.org/wiki/Downloads\" rel=\"nofollow noreferrer\">virtualbox.org/wiki/Downloads</a>. I know that this does not directly answer your question..."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5079472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30516cd3687306bc5425d2ceacd9e215?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Koss", "link": "https://stackoverflow.com/users/5079472/neal-koss"}, "edited": false, "score": 0, "creation_date": 1476249769, "post_id": 39990018, "comment_id": 67260319, "body": "That helped. I will take your advice under &quot;advisement&quot;, but right now, I just need an environment for a class and this should fit the bill...thanks"}, {"owner": {"reputation": 33, "user_id": 5079472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30516cd3687306bc5425d2ceacd9e215?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Koss", "link": "https://stackoverflow.com/users/5079472/neal-koss"}, "edited": false, "score": 0, "creation_date": 1476252470, "post_id": 39990018, "comment_id": 67261215, "body": "Following the railsinstaller instructions, it advises &quot;gem install rails --no-document&quot; I get an error"}, {"owner": {"reputation": 33, "user_id": 5079472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30516cd3687306bc5425d2ceacd9e215?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Koss", "link": "https://stackoverflow.com/users/5079472/neal-koss"}, "edited": false, "score": 0, "creation_date": 1476252571, "post_id": 39990018, "comment_id": 67261265, "body": "continuing the above. Here is the error....ERROR:  Could not find a valid gem &#39;rails&#39; (&gt;= 0), here is why:           Unable to download data from <a href=\"https://rubygems.org/\" rel=\"nofollow noreferrer\">rubygems.org</a> - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (<a href=\"https://api.rubygems.org/specs.4.8.gz\" rel=\"nofollow noreferrer\">api.rubygems.org/specs.4.8.gz</a>) My rails version shows as 4.2.5.1 and the instructions say it should be able to upgrade using the gem to 5.0.x"}], "tags": [], "owner": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "is_accepted": true, "score": 0, "last_activity_date": 1476242695, "creation_date": 1476242695, "answer_id": 39990018, "question_id": 39988795, "link": "https://stackoverflow.com/questions/39988795/error-installing-rails-on-windows-10/39990018#39990018", "title": "Error installing Rails on Windows 10", "body": "<p>What you're seeing is a complaint about a different path (on some other developer's machine), not your System Path.</p>\n\n<p>RailsInstaller seems to include an unresolved (and continuing) <a href=\"https://github.com/railsinstaller/railsinstaller-windows/issues/70\" rel=\"nofollow\">problem</a> with their builds. If you look in your .bat files, you'll find the following lines, which indicate that RailsInstaller is using a hardcoded path that refers to the machine of a specific RailsInstaller developer:</p>\n\n<pre><code>@ECHO OFF\nIF NOT \"%~f0\" == \"~f0\" GOTO :WinNT\n@\"C:\\Users\\emachnic\\GitRepos\\railsinstaller-windows\\stage\\Ruby2.2.0\\bin\\ruby.exe\" \"C:/Users/emachnic/GitRepos/railsinstaller-windows/stage/Ruby2.2.0/bin/rails\" %1 %2 %3 %4 %5 %6 %7 %8 %9\nGOTO :EOF\n:WinNT\n@\"C:\\Users\\emachnic\\GitRepos\\railsinstaller-windows\\stage\\Ruby2.2.0\\bin\\ruby.exe\" \"%~dpn0\"\n</code></pre>\n\n<p>Any instance of the previous code should be replaced with the following:</p>\n\n<pre><code>@ECHO OFF\nIF NOT \"%~f0\" == \"~f0\" GOTO :WinNT\nECHO.This version of Ruby has not been built with support for Windows 95/98/Me.\nGOTO :EOF\n:WinNT\n@\"%~dp0ruby.exe\" \"%~dpn0\" %*\n</code></pre>\n\n<p>If all else fails and you just don't want to deal with it, the RailsInstaller web page includes multiple versions, so you can just go back and use an earlier version (e.g. use the version with Ruby 2.1.8 and Rails 4.2).</p>\n\n<p>All this having been said, you may find cause to revisit your stance against using virtualization at some point. Many Ruby/Rails libraries are compiled for *nix, and testing against Windows is limited or non-existent, which means you're likely to run into issues sooner or later. It might be wise to at least take a look at Vagrant, etc. now instead of having to change dev environments in the middle of a project.</p>\n"}], "owner": {"reputation": 33, "user_id": 5079472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30516cd3687306bc5425d2ceacd9e215?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Koss", "link": "https://stackoverflow.com/users/5079472/neal-koss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 39990018, "answer_count": 1, "score": 2, "last_activity_date": 1476242695, "creation_date": 1476232603, "question_id": 39988795, "link": "https://stackoverflow.com/questions/39988795/error-installing-rails-on-windows-10", "title": "Error installing Rails on Windows 10", "body": "<p>I am using the railsinstaller-3.2.0.exe that I got from the railsinstaller.org site. Although the site says \"Rails 4.2\", when you download, the filename is as noted above.</p>\n\n<p>The installation seems to proceed normally, but at the end, it shows the Environment Configuration and it is clear that it cannot find the rails.bat file to run rails. The directory is definitely in my path, so is there some other reason why Windows cannot find the file?</p>\n"}, {"tags": ["ruby", "selenium", "rspec", "capybara"], "comments": [{"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "edited": false, "score": 0, "creation_date": 1476236779, "post_id": 39988665, "comment_id": 67257130, "body": "Assuming you&#39;re using chrome with selenium it sounds like it&#39;s this bug - <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=532290\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromium/issues/detail?id=532290</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4888, "user_id": 1374563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/puhlO.gif?s=128&g=1", "display_name": "ole", "link": "https://stackoverflow.com/users/1374563/ole"}, "is_accepted": true, "score": 1, "last_activity_date": 1476318264, "creation_date": 1476318264, "answer_id": 40010397, "question_id": 39988665, "link": "https://stackoverflow.com/questions/39988665/suppressing-strange-output-with-capybara-selenium-rspec/40010397#40010397", "title": "Suppressing Strange output with Capybara/Selenium/RSpec", "body": "<p>I don't know exactly if it works for you, but here's how I suppress chrome warning messages in my specs:</p>\n\n<pre><code>Capybara.register_driver :chrome do |app|\n  Capybara::Selenium::Driver.new(app, browser: :chrome, switches: ['--test-type'])\nend\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7004591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33e2a8c0a8621ad65b851642b66208c2?s=128&d=identicon&r=PG&f=1", "display_name": "D.Rodriguez", "link": "https://stackoverflow.com/users/7004591/d-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 40010397, "answer_count": 1, "score": 3, "last_activity_date": 1476318264, "creation_date": 1476231406, "question_id": 39988665, "link": "https://stackoverflow.com/questions/39988665/suppressing-strange-output-with-capybara-selenium-rspec", "title": "Suppressing Strange output with Capybara/Selenium/RSpec", "body": "<p>I'm writing acceptance tests in Ruby using RSpec, Capybara, and Selenium. I have observed some messages in the output that I don't recognize, and that I haven't been able to find with Google searches.</p>\n\n<p>Here is the output of one of my tests:</p>\n\n<pre><code>Authentication\n  with an invalid email address\n    gives an error message\n  with an invalid password\n[9344:5812:1011/235445:ERROR:navigation_entry_screenshot_manager.cc(141)] Invalid entry with unique id: 22\n    gives an error message\n  with a valid email and password\n[9344:5812:1011/235450:ERROR:navigation_entry_screenshot_manager.cc(141)] Invalid entry with unique id: 33\n    takes us to the correct page\n\n3 examples, 0 failures\n</code></pre>\n\n<p>I have no idea what navigation_entry_screenshot_manager.cc is, and as long as it isn't causing a test to fail I don't really care. I just want to know if there is a way to stop it from showing up in the RSpec output.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1476243032, "post_id": 39988613, "comment_id": 67258580, "body": "You need to either state that you are only concerned about two-dot ranges or clarify whether you want <code>max</code> or <code>last</code>, which you seem to use interchangeability."}], "answers": [{"comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476232679, "post_id": 39988761, "comment_id": 67256300, "body": "<code>Range#min</code> and <code>max</code> are not the same as <code>end</code> and <code>begin</code>.  <code>max</code> actually converts the array to a range and gets the last element afaik."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476232846, "post_id": 39988761, "comment_id": 67256336, "body": "Its basically because <code>#max</code> can be called as <code>max(n) {| a,b | block } \u2192 obj</code>."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476232965, "post_id": 39988761, "comment_id": 67256360, "body": "<code>min</code> and <code>max</code> return the start and end of the range. There&#39;s nothing in the documentation saying it&#39;s converted to an array. If it was, converting <code>1..Float::INFINITY</code> when using <code>max</code> would never return. They&#39;re basically the same as <code>begin</code> and <code>end</code> except they allow the use of a block. <code>begin</code> and <code>end</code> should be faster though, from looking at the source."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476233318, "post_id": 39988761, "comment_id": 67256428, "body": "Try calling <code>(1..Float::INFINITY).max</code> with a block."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476233461, "post_id": 39988761, "comment_id": 67256454, "body": "Although calling it without a block does not cause your program to blow up anymore like in 1.9.3"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1476237108, "post_id": 39988761, "comment_id": 67257213, "body": "@theTinMan: Note that <code>#end</code> is not the same as <code>#max</code>: in <code>1...10</code>, <code>#end</code> is <code>10</code>, but <code>#max</code> is <code>9</code>. In <code>10..1</code>, <code>#end</code> is <code>1</code>, but <code>#max</code> is <code>nil</code>. You should pick according to your use case whether you want <code>#begin</code> and <code>#end</code> (and  <code>#exclude_end?</code>), or <code>#min</code> and <code>#max</code>."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1476252771, "post_id": 39988761, "comment_id": 67261348, "body": "Another special case: <code>(1...2.5).max</code> raises a <code>TypeError</code>."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476295597, "post_id": 39988761, "comment_id": 67288840, "body": "That sounds like a bug."}], "tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 4, "last_activity_date": 1476296046, "last_edit_date": 1476296046, "creation_date": 1476232280, "answer_id": 39988761, "question_id": 39988613, "link": "https://stackoverflow.com/questions/39988613/how-do-i-destructure-a-range-in-ruby/39988761#39988761", "title": "How do I destructure a range in Ruby?", "body": "<p>The beginning and end? I'd use:</p>\n\n<pre><code>foo = 1..2\nfoo.min # =&gt; 1\nfoo.max # =&gt; 2\n</code></pre>\n\n<p>Trying to use destructuring for a range is a bad idea. Imagine the sizes of the array that could be generated then thrown away, wasting CPU time and memory. It's actually a great way to DOS your own code if your range ends with <code>Float::INFINITY</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p><code>end</code> is not the same as <code>max</code>: in 1...10, <code>end</code> is 10, but <code>max</code> is 9</p>\n</blockquote>\n\n<p>That's because <code>start_val ... end_val</code> is equivalent to <code>start_val .. (end_val - 1)</code>:</p>\n\n<pre><code>start_value = 1\nend_value = 2\n\nfoo = start_value...end_value\nfoo.end # =&gt; 2\nfoo.max # =&gt; 1\n\nfoo = start_value..(end_value - 1)\nfoo.end # =&gt; 1\nfoo.max # =&gt; 1\n</code></pre>\n\n<p><code>max</code> reflects the reality of the values actually used by Ruby when iterating over the range or testing for inclusion in the range. </p>\n\n<p>In my opinion, <code>end</code> should reflect the actual maximum value that will be considered inside the range, not the value used at the end of the definition of the range, but I doubt that'll change otherwise it'd affect existing code.</p>\n\n<p><code>...</code> is more confusing and leads to increased maintenance problems so its use is not recommended.</p>\n"}, {"comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476236436, "post_id": 39989196, "comment_id": 67257073, "body": "Doesn&#39;t <code>*r</code>coerce the range into an array?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1476236661, "post_id": 39989196, "comment_id": 67257110, "body": "@max: No, <code>*r.bounds</code> is <code>*(r.bounds)</code>, not <code>(*r).bounds</code>. Remember that <code>*</code> is not an operator, but a syntactic construct in assignment lvalue, assignment rvalue, argument list (both definition and call) and array literal. It does not even have priority, because it can&#39;t be evaluated &quot;inside&quot; an expression."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476237878, "post_id": 39989196, "comment_id": 67257389, "body": "Thanks, I guess that makes more sense. I had never considered that you can&#39;t do <code>array.*</code> as you can with operators."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476238106, "post_id": 39989196, "comment_id": 67257448, "body": "I had not considered excluding ranges either which would have made <code>a, b = (1...10)</code> ambiguous."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1476239264, "post_id": 39989196, "comment_id": 67257700, "body": "You can replace <code>[self.begin, self.end]</code> with <code>[first, last]</code>, but not with <code>[begin, end]</code>, <code>[begin, last]</code> or <code>[first, end]</code>, as <code>begin</code> and <code>end</code> are reserved words. @max, perhaps you were thinking of <code>[*1..4]  #=&gt; [1, 2, 3, 4]</code>."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476239667, "post_id": 39989196, "comment_id": 67257777, "body": "@CarySwoveland - no - casting to an array is exactly what I was trying to avoid. I was just wondering if ruby had a syntax to get the bounds of a range - its more of a theoretical than practical question."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476239956, "post_id": 39989196, "comment_id": 67257848, "body": "@max, ah, I was addressing your first comment above, having missed the fact that it&#39;s your question."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476241162, "post_id": 39989196, "comment_id": 67258158, "body": "Amadan, you haven&#39;t shown evidence for &quot;No&quot; in your first sentence. That is the question, after all. Also, <code>bounds</code> returns an array. Isn&#39;t that a violation?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1476241761, "post_id": 39989196, "comment_id": 67258317, "body": "It is not a coercion of the Range object. It is a newly constructed array of two elements. You can&#39;t do multiple return in Ruby without an arrays. As for your first complaint... what kind of evidence do you expect for a negative existential? Positive claims are proven, negative claims are <i>dis</i>proven. If you want formal proof here, it&#39;s on you to prove me wrong."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476242623, "post_id": 39989196, "comment_id": 67258510, "body": "&quot;No&quot; constitutes an assertion. We should expect a proof or at least arguments to support assertions. If you cannot provide that, you should make it clear that you are giving an opinion or be mute on that point."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476243093, "post_id": 39989196, "comment_id": 67258590, "body": "@CarySwoveland: It is my opinion that no such syntax exists. It is also my opinion that leprechauns aren&#39;t real. I can&#39;t prove either. However, if you give me a counterexample, I will delete this answer as inaccurate, and start following rainbows."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476243665, "post_id": 39989196, "comment_id": 67258713, "body": "I don&#39;t dispute that (not even the reference to <a href=\"http://weeklyworldnews.com/headlines/28208/scientists-capture-leprechaun/\" rel=\"nofollow noreferrer\">leprechauns</a>). I just think you should say &quot;It is my opinion..&quot; rather than a barren &quot;No&quot;, as readers may take that as a fact."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476244433, "post_id": 39989196, "comment_id": 67258903, "body": "In my earlier comment &quot;You can replace...&quot; I overlooked the fact that <code>max</code> and <code>last</code> are not equivalent, as Amadan pointed out in a comment on @theTinMan&#39;s answer. My comment only applies to two-dot hashes."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 3, "last_activity_date": 1476243919, "last_edit_date": 1476243919, "creation_date": 1476235988, "answer_id": 39989196, "question_id": 39988613, "link": "https://stackoverflow.com/questions/39988613/how-do-i-destructure-a-range-in-ruby/39989196#39989196", "title": "How do I destructure a range in Ruby?", "body": "<p><strike>No,</strike> Until I am proven incorrect by Cary Swoveland, Weekly World News or another tabloid, I'll continue believing without any evidence that the answer is \"no\"; but it's easy enough to make.</p>\n\n<pre><code>module RangeWithBounds\n  refine Range do\n    def bounds\n      [self.begin, self.end]\n    end\n  end\nend\n\nmodule Test\n  using RangeWithBounds\n  r = (1..10)\n  b, e = *r.bounds\n  puts \"#{b}..#{e}\"\nend\n</code></pre>\n\n<p>Then again, I'd just write <code>\"#{r.begin.number_to_currency}..#{r.end.number_to_currency}\"</code> in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2680733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19fc348bae9562e272fbb4b1423ee6fe?s=128&d=identicon&r=PG&f=1", "display_name": "botp", "link": "https://stackoverflow.com/users/2680733/botp"}, "is_accepted": false, "score": 0, "last_activity_date": 1476253700, "creation_date": 1476253700, "answer_id": 39991840, "question_id": 39988613, "link": "https://stackoverflow.com/questions/39988613/how-do-i-destructure-a-range-in-ruby/39991840#39991840", "title": "How do I destructure a range in Ruby?", "body": "<p>Amadan's answer is fine. you just need to remove the splat (*) when using it since it is not needed</p>\n\n<p>eg,</p>\n\n<pre>\n> \"%s to %s\" % (1..3).bounds.map{|x| number_to_currency(x)}\n=> \"$1.00 to $3.00\"\n</pre>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1499091781, "post_id": 44887874, "comment_id": 76754066, "body": "Be aware that this returns the range&#39;s minimum and maximum value, not the begin and end of the range."}, {"owner": {"reputation": 1120, "user_id": 1054831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011ba32268683553b6da0ab7d990450a?s=128&d=identicon&r=PG", "display_name": "Jay Mitchell", "link": "https://stackoverflow.com/users/1054831/jay-mitchell"}, "edited": false, "score": 0, "creation_date": 1558544891, "post_id": 44887874, "comment_id": 99140168, "body": "Also be aware that this doesn&#39;t handle infinite ranges well. <code>(-Float::INFINITY..0).minmax</code> raises <code>TypeError</code> and <code>(0..Float::INFINITY).minmax</code> never returns a value."}, {"owner": {"reputation": 1120, "user_id": 1054831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011ba32268683553b6da0ab7d990450a?s=128&d=identicon&r=PG", "display_name": "Jay Mitchell", "link": "https://stackoverflow.com/users/1054831/jay-mitchell"}, "edited": false, "score": 1, "creation_date": 1558545502, "post_id": 44887874, "comment_id": 99140437, "body": "I.e., <code>minmax</code> iterates through the range, whereas <code>[range.min, range.max]</code> doesn&#39;t iterate the range and works fine with infinite ranges. So avoid <code>minmax</code> if your range has a huge (or infinite) number of items."}, {"owner": {"reputation": 5325, "user_id": 311657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea567d188480fc07a4604a6e5324f4e0?s=128&d=identicon&r=PG", "display_name": "Sunny", "link": "https://stackoverflow.com/users/311657/sunny"}, "edited": false, "score": 1, "creation_date": 1608278003, "post_id": 44887874, "comment_id": 115539228, "body": "In Ruby 2.7, minmax does not iterate through the Range anymore and works fine with infinite ranges \ud83c\udf89 <a href=\"https://rubyreferences.github.io/rubychanges//2.7.html#minmax-implementation-change\" rel=\"nofollow noreferrer\">rubyreferences.github.io/rubychanges//&hellip;</a>"}], "tags": [], "owner": {"reputation": 5325, "user_id": 311657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea567d188480fc07a4604a6e5324f4e0?s=128&d=identicon&r=PG", "display_name": "Sunny", "link": "https://stackoverflow.com/users/311657/sunny"}, "is_accepted": false, "score": 4, "last_activity_date": 1608278235, "last_edit_date": 1608278235, "creation_date": 1499091405, "answer_id": 44887874, "question_id": 39988613, "link": "https://stackoverflow.com/questions/39988613/how-do-i-destructure-a-range-in-ruby/44887874#44887874", "title": "How do I destructure a range in Ruby?", "body": "<p>You can use <code>minmax</code> to destructure ranges:</p>\n<pre><code>min, max = (1..10).minmax\nmin # =&gt; 1\nmax # =&gt; 10\n</code></pre>\n<p>If you are using Ruby before 2.7, avoid using this on large ranges.</p>\n"}], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 39989196, "answer_count": 4, "score": 6, "last_activity_date": 1608278235, "creation_date": 1476230951, "last_edit_date": 1476236931, "question_id": 39988613, "link": "https://stackoverflow.com/questions/39988613/how-do-i-destructure-a-range-in-ruby", "title": "How do I destructure a range in Ruby?", "body": "<p>Is it possible to use destructuring in ruby to extract the end and beginning from a range?</p>\n\n<pre><code>module PriceHelper\n  def price_range_human( range )\n    \"$%s to $%s\" % [range.begin, range.end].map(:number_to_currency)\n  end\nend\n</code></pre>\n\n<p>I know that I can use array coercion as a really bad hack:</p>\n\n<pre><code>first, *center, last = *rng\n\"$%s to $%s\" % [first, last].map(:number_to_currency)\n</code></pre>\n\n<p>But is there a syntactical way to get <code>begin</code> and <code>end</code> without actually manually creating an array? </p>\n\n<pre><code>min, max = (1..10)\n</code></pre>\n\n<p>Would have been awesome.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 2043, "user_id": 157943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745c55f201b982c31c610cabab10a6be?s=128&d=identicon&r=PG", "display_name": "gmcnaughton", "link": "https://stackoverflow.com/users/157943/gmcnaughton"}, "edited": false, "score": 1, "creation_date": 1476228267, "post_id": 39988190, "comment_id": 67255370, "body": "Is there also a stack trace associated with the error? That would help to narrow down where the failure is happening."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1476232078, "post_id": 39988190, "comment_id": 67256180, "body": "<code>social-share-button</code> seems like the most likely culprit.. However why do you have devise etc in the development group in your gemfile?"}, {"owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476312356, "post_id": 39988190, "comment_id": 67297248, "body": "@max, it was completely oversight to have mut all those gems in development group. Nevertheless, removing <code>devise</code> still does not make my application work offline."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476354855, "post_id": 39988190, "comment_id": 67314020, "body": "Take a look at <code>&#47;logs&#47;development.log</code> and post the contents."}], "owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476228033, "creation_date": 1476227645, "question_id": 39988190, "link": "https://stackoverflow.com/questions/39988190/why-my-ruby-on-rails-application-breaks-without-internet-connection-on-developme", "title": "Why my ruby on rails application breaks without internet connection on development environment", "body": "<p>I just figured out my local application only runs/starts when I have internet connect on my system. <strong>What could possibly cause this?</strong> </p>\n\n<p><strong>Error I get is when am not connected to internet and I start my server</strong>:</p>\n\n<blockquote>\n  <p>getaddrinfo: No such host is known.  (Faraday::ConnectionFailed)</p>\n</blockquote>\n\n<p><strong>Gemfile</strong></p>\n\n<pre><code>source 'https://rubygems.org'\nruby '2.2.4'\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '4.2.5.1'\n# Use sqlite3 as the database for Active Record\n#gem 'sqlite3', '1.3.11'\n# Use SCSS for stylesheets\ngem 'sass-rails', '5.0.6'\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '3.0.1'\n# Use CoffeeScript for .coffee assets and views\ngem 'coffee-rails', '4.1.1'\n# See https://github.com/rails/execjs#readme for more supported runtimes\n#gem 'therubyracer', platforms: :ruby\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails', '4.1.1'\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'turbolinks', '5.0.1'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '2.6.0'\n# bundle exec rake doc:rails generates the API under doc/api.\ngem 'sdoc', '0.4.1', group: :doc\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~&gt; 3.1.7'\n\n# Use Unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\ngroup :development, :test do\n  gem 'byebug', '9.0.5'\nend\n\ngroup :development do\n  # Access an IRB console on exception pages or by using &lt;%= console %&gt; in views\n  gem 'web-console', '2.3.0'\n  gem 'simple_form', '3.1.0.rc2'\n  gem 'redactor-rails', '0.5.0'\n  gem 'carrierwave', '0.11.2'\n  gem 'mini_magick', '4.5.1'\n  gem 'validates_formatting_of', '0.9.0'\n  gem 'paper_trail', '4.2.0'\n  gem 'delayed_job_active_record', '4.1.1'\n  gem 'activejob', '4.2.5.1'\n  gem 'i18n-tasks', '~&gt; 0.8.6'\n  gem 'social-share-button', '0.2.1'\n  gem 'devise', '4.2.0'\n  gem 'administrate', '0.2.2'\n  gem 'bootstrap-sass', '3.3.7'\n  gem 'sass', '3.4.22'\n  gem 'font-awesome-sass', '4.6.2'\n  gem 'bourbon', '4.2.7'\n  gem 'jquery-turbolinks', '2.1.0'\n  gem 'figaro', '1.1.1'\n  gem 'travis', '1.8.2'\n  gem 'nokogiri', '1.6.8.1'\n  gem 'ffi', '1.9.14'\n  gem 'sqlite3', '1.3.11'\nend\n\ngroup :production do\n  gem 'pg'\n  gem 'rails_12factor'\nend\n\n# Windows does not include zoneinfo files, so bundle the tzinfo-data gem\ngem 'tzinfo-data', '1.2016.6', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n</code></pre>\n\n<p><strong>Gemifile.lock--Dependencies</strong></p>\n\n<pre><code>DEPENDENCIES\n  activejob (= 4.2.5.1)\n  administrate (= 0.2.2)\n  bootstrap-sass (= 3.3.7)\n  bourbon (= 4.2.7)\n  byebug (= 9.0.5)\n  carrierwave (= 0.11.2)\n  coffee-rails (= 4.1.1)\n  delayed_job_active_record (= 4.1.1)\n  devise (= 4.2.0)\n  ffi (= 1.9.14)\n  figaro (= 1.1.1)\n  font-awesome-sass (= 4.6.2)\n  i18n-tasks (~&gt; 0.8.6)\n  jbuilder (= 2.6.0)\n  jquery-rails (= 4.1.1)\n  jquery-turbolinks (= 2.1.0)\n  mini_magick (= 4.5.1)\n  nokogiri (= 1.6.8.1)\n  paper_trail (= 4.2.0)\n  pg\n  rails (= 4.2.5.1)\n  rails_12factor\n  redactor-rails (= 0.5.0)\n  sass (= 3.4.22)\n  sass-rails (= 5.0.6)\n  sdoc (= 0.4.1)\n  simple_form (= 3.1.0.rc2)\n  social-share-button (= 0.2.1)\n  sqlite3 (= 1.3.11)\n  travis (= 1.8.2)\n  turbolinks (= 5.0.1)\n  tzinfo-data (= 1.2016.6)\n  uglifier (= 3.0.1)\n  validates_formatting_of (= 0.9.0)\n  web-console (= 2.3.0)\n\nBUNDLED WITH\n   1.11.2\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ruby", "git", "git-commit", "git-revision"], "comments": [{"owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "edited": false, "score": 0, "creation_date": 1476227586, "post_id": 39988118, "comment_id": 67255183, "body": "I am asked to do 5 chars instead of the fact that I do agree with you.  Can you explain how post-process works?"}], "answers": [{"tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 2, "last_activity_date": 1476227617, "creation_date": 1476227617, "answer_id": 39988183, "question_id": 39988118, "link": "https://stackoverflow.com/questions/39988118/git-commit-revision-id-to-be-five-chars-long-when-using-pretty-format-in-ruby-sc/39988183#39988183", "title": "Git commit revision id to be five chars long when using pretty format in Ruby script", "body": "<p>7 digits is the default and is the generally accepted minimum to ensure uniqueness on moderate sized projects. Anything less runs the risk of collisions. If you want to trim it you can ask:</p>\n\n<pre><code>--abbrev=5\n</code></pre>\n\n<p>This may be overruled by the <code>git</code> command if the 5 digit values are not unique. Consider this value a <em>minimum</em> and not a maximum.</p>\n\n<p>You can read more with <code>git log --help</code>.</p>\n\n<p>As a note, you generally want to break out arguments to <code>system</code> to avoid confusion between them:</p>\n\n<pre><code>system(\"git\", \"--log\", \"--pretty-format=...\")\n</code></pre>\n\n<p>That's especially necessary when passing in arbitrary filenames as those can be interpreted by the shell in ways that are hazardous.</p>\n"}, {"tags": [], "owner": {"reputation": 6460, "user_id": 6320039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/U4QjP.jpg?s=128&g=1", "display_name": "Ulysse BN", "link": "https://stackoverflow.com/users/6320039/ulysse-bn"}, "is_accepted": false, "score": 2, "last_activity_date": 1531907283, "last_edit_date": 1531907283, "creation_date": 1476249873, "answer_id": 39991046, "question_id": 39988118, "link": "https://stackoverflow.com/questions/39988118/git-commit-revision-id-to-be-five-chars-long-when-using-pretty-format-in-ruby-sc/39991046#39991046", "title": "Git commit revision id to be five chars long when using pretty format in Ruby script", "body": "<p>Tadman answer is almost complete. However I red the man page for git log and found something interesting in the format section (you can also have it <a href=\"https://git-scm.com/docs/pretty-formats\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>You can truncate any placeholder using a previous placeholder such as <code>%&lt;(5,trunc)</code>. Here the command will truncate right if length of the next placeholder is more than 5 or pad right otherwise.</p>\n\n<p>So in your case, this will truncate to 5:</p>\n\n<pre><code>system(\"git log --pretty=format:'[%&lt;(5,trunc)%h]: %an'\")\n</code></pre>\n\n<p>The only issue here is that you will only have 3 usefull digits, because when it truncate, format add <code>..</code> to show that your placeholder is not complete. So an example of result would be :</p>\n\n<pre><code>[8b9..]: Jack Johnson\n[5fe..]: Popeye\n[2cb..]: Jack Johnson\n[e5d..]: Jack Johnson\n[605..]: Plastic Bertrand\n[20c..]: Plastic Bertrand\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong></p>\n\n<p>You can easily remove those last dots using:</p>\n\n<pre><code>system(\"git log --pretty=format:'[%&lt;(7,trunc)%h]: %an' | tr -d .\")\n</code></pre>\n\n<p>Then you would have the clean result expected:</p>\n\n<pre><code>[8b972]: Jack Johnson\n[5fe3d]: Popeye\n[2cbe0]: Jack Johnson\n[e5d06]: Jack Johnson\n[605d7]: Plastic Bertrand\n[20cae]: Plastic Bertrand\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 4962956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/beHxe.jpg?s=128&g=1", "display_name": "hack-is-art", "link": "https://stackoverflow.com/users/4962956/hack-is-art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 39988183, "answer_count": 2, "score": 3, "last_activity_date": 1531907283, "creation_date": 1476227173, "last_edit_date": 1531860275, "question_id": 39988118, "link": "https://stackoverflow.com/questions/39988118/git-commit-revision-id-to-be-five-chars-long-when-using-pretty-format-in-ruby-sc", "title": "Git commit revision id to be five chars long when using pretty format in Ruby script", "body": "<p>My code is the following</p>\n\n<pre><code>system('git log --pretty=format:[%h]: %an')\n</code></pre>\n\n<p>where %h gives the revision id of the commit, and it is seven characters long and %an is the author name.</p>\n\n<p>My problem is that I want to have a five-digits revision id and not seven, but I can't find any flag of the form.</p>\n\n<pre><code>--date=iso-strict\n</code></pre>\n\n<p>or whatever to do so.</p>\n\n<p>How do I do it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "pry"], "comments": [{"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1476226478, "post_id": 39987998, "comment_id": 67254913, "body": "<code>frame</code> should automatically refer to a <code>frame</code> variable that&#39;s in scope. You shouldn&#39;t need to do anything special. <code>frame = 3; binding.pry</code> shows me <code>3</code> when I type <code>frame</code>."}], "answers": [{"tags": [], "owner": {"reputation": 336, "user_id": 2543937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uzQpz.jpg?s=128&g=1", "display_name": "Alien_AV", "link": "https://stackoverflow.com/users/2543937/alien-av"}, "is_accepted": true, "score": 4, "last_activity_date": 1476227160, "creation_date": 1476227160, "answer_id": 39988116, "question_id": 39987998, "link": "https://stackoverflow.com/questions/39987998/how-to-refer-to-a-variable-called-frame-while-in-pry/39988116#39988116", "title": "How to refer to a variable called frame while in pry", "body": "<p>According to pry documentation: <a href=\"https://github.com/pry/pry/wiki/Command-system#Invoking_commands\" rel=\"nofollow\">https://github.com/pry/pry/wiki/Command-system#Invoking_commands</a>, you need to prefix the ruby code with a semicolon, so pry wouldn't interpret it as a command, like <code>;frame</code></p>\n"}], "owner": {"reputation": 70080, "user_id": 38765, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01bbb59a1c3ef9960f25a97afe7e920f?s=128&d=identicon&r=PG", "display_name": "Andrew Grimm", "link": "https://stackoverflow.com/users/38765/andrew-grimm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 39988116, "answer_count": 1, "score": 1, "last_activity_date": 1476227160, "creation_date": 1476226384, "question_id": 39987998, "link": "https://stackoverflow.com/questions/39987998/how-to-refer-to-a-variable-called-frame-while-in-pry", "title": "How to refer to a variable called frame while in pry", "body": "<p>In Rails, when I'm using pry, how do I refer to a variable called <code>frame</code>, as opposed to calling the <code>frame</code> command?</p>\n\n<p>I'm using Rails 4.1.x, pry 0.10.3, pry-alias 0.0.1, pry-byebug 3.3.0, and pry-rails 0.3.4.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sqlite", "date"], "comments": [{"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1476226133, "post_id": 39987933, "comment_id": 67254802, "body": "Just select a computed property that is the substring you&#39;re interested in? <a href=\"https://www.sqlite.org/lang_corefunc.html#substr\" rel=\"nofollow noreferrer\"><code>substr</code></a> is what you&#39;re after."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 1020967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b409ebade82ee5f6ec7791b5be41282?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1020967/joe"}, "is_accepted": true, "score": 5, "last_activity_date": 1476226963, "creation_date": 1476226963, "answer_id": 39988082, "question_id": 39987933, "link": "https://stackoverflow.com/questions/39987933/how-can-i-select-distinct-dates-from-a-database-when-its-formatted-as-datetime/39988082#39988082", "title": "How can I select distinct dates from a database, when it&#39;s formatted as DateTime", "body": "<pre><code>MyTable.pluck(\"distinct date(updated_at)\") \n</code></pre>\n\n<p>That will give you back an array of distinct dates, then you can process them however you need to in the application.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 5210348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P7AG4.jpg?s=128&g=1", "display_name": "Sergey Burtsev", "link": "https://stackoverflow.com/users/5210348/sergey-burtsev"}, "is_accepted": false, "score": 1, "last_activity_date": 1476227092, "creation_date": 1476227092, "answer_id": 39988102, "question_id": 39987933, "link": "https://stackoverflow.com/questions/39987933/how-can-i-select-distinct-dates-from-a-database-when-its-formatted-as-datetime/39988102#39988102", "title": "How can I select distinct dates from a database, when it&#39;s formatted as DateTime", "body": "<p>I'd use sqlite's <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow\">date()</a> function to get only the date part of DateTime field.\nIn your example:</p>\n\n<pre><code>distinctDate = MyTable.select('date(mydatetime)').distinct.to_a\n</code></pre>\n\n<p>And if you need only array of column values instead of rows, you can use ActiveRecord's <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Calculations.html#method-i-pluck\" rel=\"nofollow\">pluck()</a> method:</p>\n\n<pre><code>distinctDate = MyTable.distinct.pluck('date(mydatetime)')\n</code></pre>\n"}], "owner": {"reputation": 1952, "user_id": 1567269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7e5ef5c449437de2befaf4851a80d2a4?s=128&d=identicon&r=PG", "display_name": "trueCamelType", "link": "https://stackoverflow.com/users/1567269/truecameltype"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1141, "favorite_count": 0, "accepted_answer_id": 39988082, "answer_count": 2, "score": 2, "last_activity_date": 1476227092, "creation_date": 1476226019, "question_id": 39987933, "link": "https://stackoverflow.com/questions/39987933/how-can-i-select-distinct-dates-from-a-database-when-its-formatted-as-datetime", "title": "How can I select distinct dates from a database, when it&#39;s formatted as DateTime", "body": "<p>I have a database setup similarly to this</p>\n\n<p>The output of</p>\n\n<pre><code>sqlite&gt; PRAGMA table_info(mytable);\n</code></pre>\n\n<p>is</p>\n\n<pre><code>0|id|INTEGER\n1|mydatetime|text\n</code></pre>\n\n<p>And it looks like this</p>\n\n<pre><code>|__id__|_____mydatetime_____|\n|   0  | 2016-10-11 12:10:22|\n|   1  | 2016-10-11 12:11:22|\n|   2  | 2016-10-12 10:45:45|\n|   3  | 2016-10-12 11:12:12|\n</code></pre>\n\n<p>In Ruby on Rails, I'd like to select all of the rows with the same date (ignoring time). And I'm looping through them, to do something for every date.  For example:</p>\n\n<p>If I had the same database, and instead of <code>DateTime</code> it was formatted as just the <code>Date</code> I would do something similar to below:</p>\n\n<pre><code>distinctDate = MyTable.select(:mydatetime).distinct.to_a\n\ndistinctDate.each do |x|\n    put x\nend\n</code></pre>\n\n<p>But how can I write the select with the distinct, and it also ignore the time?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "rspec", "routing"], "comments": [{"owner": {"reputation": 1050, "user_id": 260670, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b5fdc7d34f3ec9b11a13d10fc548fdd5?s=128&d=identicon&r=PG&f=1", "display_name": "Midwire", "link": "https://stackoverflow.com/users/260670/midwire"}, "edited": false, "score": 0, "creation_date": 1476285927, "post_id": 39987691, "comment_id": 67282636, "body": "Can you run <code>rake routes</code> and show the output here?"}], "answers": [{"tags": [], "owner": {"reputation": 25150, "user_id": 383888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kd57u.jpg?s=128&g=1", "display_name": "Mori", "link": "https://stackoverflow.com/users/383888/mori"}, "is_accepted": false, "score": 1, "last_activity_date": 1476224636, "creation_date": 1476224636, "answer_id": 39987711, "question_id": 39987691, "link": "https://stackoverflow.com/questions/39987691/rspec-not-finding-routes-that-exists/39987711#39987711", "title": "Rspec not finding routes that exists", "body": "<p>Try:</p>\n\n<pre><code> get '*unmatchedpath' =&gt; 'tools/generic#show'\n</code></pre>\n"}], "owner": {"reputation": 894, "user_id": 3638724, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/778a344a5b886e6897657b5ac1f48d1e?s=128&d=identicon&r=PG&f=1", "display_name": "xeroshogun", "link": "https://stackoverflow.com/users/3638724/xeroshogun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476224636, "creation_date": 1476224468, "question_id": 39987691, "link": "https://stackoverflow.com/questions/39987691/rspec-not-finding-routes-that-exists", "title": "Rspec not finding routes that exists", "body": "<p>I'm trying to write a controller test and Rspec isn't finding routes that I know exist and work fine on a development server.  </p>\n\n<p>In my routes I have a catch-all route that should redeirect to a generic controller if someone goes to a route that isn't predefined.</p>\n\n<p>routes.rb</p>\n\n<pre><code>namespace :tools do\n  match '*unmatchedpath' =&gt; \"generic#show\", :via =&gt; :get\nend\n</code></pre>\n\n<p>generic_controller.rb</p>\n\n<pre><code>def show\n  # do stuff\nend\n</code></pre>\n\n<p>generic_controller_spec.rb</p>\n\n<pre><code>require 'spec_helper'\n\ndescribe Tools::GenericController do\n\ndescribe 'GET show' do \n  it 'does stuff' do\n    get :show\n  end\nend\n</code></pre>\n\n<p>Here is the error I get from rspec when I run the test above</p>\n\n<pre><code> 1) Tools::GenericController GET show does stuff\n Failure/Error: get :show\n ActionController::RoutingError:\n   No route matches {:controller=&gt;\"tools/generic\", :action=&gt;\"show\"}\n</code></pre>\n\n<p>All routes work as expected on my development server so I'm not sure why Rspec isn't finding the route. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "edited": false, "score": 0, "creation_date": 1476226540, "post_id": 39987822, "comment_id": 67254929, "body": "@HunterTChapman but as much as I remove any of those required gems, the more my local application breaks."}, {"owner": {"reputation": 1, "user_id": 7004286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3f0w8.jpg?s=128&g=1", "display_name": "BootCoder", "link": "https://stackoverflow.com/users/7004286/bootcoder"}, "reply_to_user": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "edited": false, "score": 0, "creation_date": 1476262813, "post_id": 39987822, "comment_id": 67266899, "body": "Yeah, that&#39;s interesting. You could go the patchwork route. Try <i>one</i> of these: <code>require &#39;travis&#39; if ENV[&#39;RACK_ENV&#39;] == &#39;development&#39;</code> <code>require &#39;travis&#39; unless Rails.env.production?</code>"}], "tags": [], "owner": {"reputation": 1, "user_id": 7004286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3f0w8.jpg?s=128&g=1", "display_name": "BootCoder", "link": "https://stackoverflow.com/users/7004286/bootcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1476225279, "creation_date": 1476225279, "answer_id": 39987822, "question_id": 39987655, "link": "https://stackoverflow.com/questions/39987655/loaderror-cannot-load-such-file-travis-on-heroku-ruby-on-rails/39987822#39987822", "title": "LoadError: cannot load such file -- travis on Heroku Ruby on Rails", "body": "<p>Remove <code>require 'travis'</code> from application.rb </p>\n\n<p>Pretty sure travis just has a hook for post push to your project repo. The reason this did not error for you in development is because you (most likely) have the travis gem installed. Heroku however does not. Thus the failure in production. </p>\n\n<p>For a clearer picture see the <a href=\"https://docs.travis-ci.com/user/languages/ruby/\" rel=\"nofollow\">Travis Ruby Docs</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "is_accepted": false, "score": 1, "last_activity_date": 1476312815, "creation_date": 1476312815, "answer_id": 40009651, "question_id": 39987655, "link": "https://stackoverflow.com/questions/39987655/loaderror-cannot-load-such-file-travis-on-heroku-ruby-on-rails/40009651#40009651", "title": "LoadError: cannot load such file -- travis on Heroku Ruby on Rails", "body": "<p>What I figured out that caused the problem is because I was having my gems in development group which is wrong and in turns made Heroku having a load error. </p>\n\n<p>After removing the gems from development group and made it global, I removed also all the gems I required myself from my <code>config/application.rb</code>, such the my <code>application.rb</code> becomes:</p>\n\n<pre><code>require File.expand_path('../boot', __FILE__)\n\nrequire 'rails/all'\nrequire 'active_model/railtie'\nrequire 'active_job/railtie'\nrequire 'active_record/railtie'\nrequire 'action_controller/railtie'\nrequire 'action_mailer/railtie'\nrequire 'action_view/railtie'\nrequire 'sprockets/railtie'\n\n# Require the gems listed in Gemfile, including any gems\n# you've limited to :test, :development, or :production.\nBundler.require(*Rails.groups)\n\nmodule LawVille\n  class Application &lt; Rails::Application\n    # Settings in config/environments/* take precedence over those specified here.\n    # Application configuration should go into files in config/initializers\n    # -- all .rb files in that directory are automatically loaded.\n\n    # Set Time.zone default to the specified zone and make Active Record auto-convert to this zone.\n    # Run \"rake -D time\" for a list of tasks for finding time zone names. Default is UTC.\n    # config.time_zone = 'Central Time (US &amp; Canada)'\n\n    # The default locale is :en and all translations from config/locales/*.rb,yml are auto loaded.\n    # config.i18n.load_path += Dir[Rails.root.join('my', 'locales', '*.{rb,yml}').to_s]\n    # config.i18n.default_locale = :de\n\n    # Do not swallow errors in after_commit/after_rollback callbacks.\n    config.active_record.raise_in_transactional_callbacks = true\n  end\nend\n</code></pre>\n\n<p>Then it worked.</p>\n"}], "owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476312815, "creation_date": 1476224228, "last_edit_date": 1476245900, "question_id": 39987655, "link": "https://stackoverflow.com/questions/39987655/loaderror-cannot-load-such-file-travis-on-heroku-ruby-on-rails", "title": "LoadError: cannot load such file -- travis on Heroku Ruby on Rails", "body": "<p>I am using Travis CI for a Ruby on Rails application and my Build was successful and pushed to Heroku. When I try to check the endpoint on Heroku, I get Application Error.</p>\n\n<p>What I have done to investigate the problem is by running <code>heroku rake db:migrate --app AppNameHere</code> from the root of my application, and it populates the below error:</p>\n\n<pre><code>Running rake db:migrate on lawville... up, run.9338 (Free)\nrake aborted!\nLoadError: cannot load such file -- travis\n/app/config/application.rb:11:in `require'\n/app/config/application.rb:11:in `&lt;top (required)&gt;'\n/app/Rakefile:4:in `require'\n/app/Rakefile:4:in `&lt;top (required)&gt;'\n/app/vendor/bundle/ruby/2.2.0/gems/rake-11.3.0/exe/rake:27:in `&lt;top (required)&gt;'\n</code></pre>\n\n<p><strong>app/config/application.rb</strong> (Note line 11 from the error is `require 'travis')</p>\n\n<pre><code>require File.expand_path('../boot', __FILE__)\n\nrequire 'rails/all'\nrequire 'active_model/railtie'\nrequire 'active_job/railtie'\nrequire 'active_record/railtie'\nrequire 'action_controller/railtie'\nrequire 'action_mailer/railtie'\nrequire 'action_view/railtie'\nrequire 'sprockets/railtie'\nrequire 'travis'\nrequire 'nokogiri'\nrequire 'carrierwave'\nrequire 'simple_form'\nrequire 'social-share-button'\nrequire 'redactor-rails'\nrequire 'devise'\n\n# Require the gems listed in Gemfile, including any gems\n# you've limited to :test, :development, or :production.\nBundler.require(*Rails.groups)\n\nmodule LawVille\n  class Application &lt; Rails::Application\n    # Settings in config/environments/* take precedence over those specified here.\n    # Application configuration should go into files in config/initializers\n    # -- all .rb files in that directory are automatically loaded.\n\n    # Set Time.zone default to the specified zone and make Active Record auto-convert to this zone.\n    # Run \"rake -D time\" for a list of tasks for finding time zone names. Default is UTC.\n    # config.time_zone = 'Central Time (US &amp; Canada)'\n\n    # The default locale is :en and all translations from config/locales/*.rb,yml are auto loaded.\n    # config.i18n.load_path += Dir[Rails.root.join('my', 'locales', '*.{rb,yml}').to_s]\n    # config.i18n.default_locale = :de\n\n    # Do not swallow errors in after_commit/after_rollback callbacks.\n    config.active_record.raise_in_transactional_callbacks = true\n  end\nend\n</code></pre>\n\n<p><strong>Travis Build (In case anything can shed light to fix my problem)</strong></p>\n\n<blockquote>\n  <p><a href=\"https://travis-ci.org/AfolabiOlaoluwa/LawVille/builds/166891343\" rel=\"nofollow\">https://travis-ci.org/AfolabiOlaoluwa/LawVille/builds/166891343</a></p>\n</blockquote>\n\n<p>My application with what is in application.rb works on development.</p>\n\n<p>What can I do to solve this problem? Thanks in advance.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476223432, "post_id": 39987438, "comment_id": 67253895, "body": "It&#39;s a preset variable that represents the current process&#39; ID."}], "answers": [{"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 4, "last_activity_date": 1476223635, "creation_date": 1476223635, "answer_id": 39987549, "question_id": 39987438, "link": "https://stackoverflow.com/questions/39987438/ruby-global-variable-double-dollar-sign/39987549#39987549", "title": "Ruby global variable double dollar sign", "body": "<p>It's a preset variable that represents the current process' ID. It's documented in <a href=\"http://ruby-doc.org/stdlib-2.3.1/libdoc/English/rdoc/English.html\" rel=\"nofollow\">http://ruby-doc.org/stdlib-2.3.1/libdoc/English/rdoc/English.html</a>.</p>\n\n<p><code>Process.pid</code> is an alternate, or use:</p>\n\n<pre><code>require 'English'\nmy_pid = $PROCESS_ID\n</code></pre>\n\n<p>In general, the short-cut globals are discouraged from use because they're like magical incantations or visual noise unless you know what they are.</p>\n"}, {"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476223841, "post_id": 39987557, "comment_id": 67254062, "body": "Good ol&#39; Perl, the land of terse expressions and visual noise. :-)"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1476224065, "post_id": 39987557, "comment_id": 67254144, "body": "@theTinMan Back from the days where code looked like line noise and we liked it."}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1476224144, "post_id": 39987557, "comment_id": 67254171, "body": "<code>$$</code> is not a true variable though. At least you can&#39;t assign values to it."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 1, "creation_date": 1476227777, "post_id": 39987557, "comment_id": 67255226, "body": "@Aetherus It&#39;s considered a <i>read-only</i> variable. Just because you can&#39;t alter the value doesn&#39;t mean it&#39;s no longer a variable. A &quot;constant&quot; in Ruby is implemented differently."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 1, "last_activity_date": 1476223676, "creation_date": 1476223676, "answer_id": 39987557, "question_id": 39987438, "link": "https://stackoverflow.com/questions/39987438/ruby-global-variable-double-dollar-sign/39987557#39987557", "title": "Ruby global variable double dollar sign", "body": "<p>That's one of the <a href=\"http://ruby-doc.org/core-2.3.1/doc/globals_rdoc.html\" rel=\"nofollow\">pre-defined Ruby global variables</a>.</p>\n\n<p>All globals are prefixed with <code>$</code>, and in this case <code>$$</code> represents the current process ID. This was inherited from Perl.</p>\n\n<p>Some things aren't very easy to search for, and <code>$$</code> is one of them, so it's understandable why you couldn't find it easily.</p>\n"}], "owner": {"reputation": 167, "user_id": 6421446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9ddc6555e8a1e939d28cdc97919987ad?s=128&d=identicon&r=PG&f=1", "display_name": "Sessho", "link": "https://stackoverflow.com/users/6421446/sessho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1476223676, "creation_date": 1476223110, "question_id": 39987438, "link": "https://stackoverflow.com/questions/39987438/ruby-global-variable-double-dollar-sign", "title": "Ruby global variable double dollar sign", "body": "<p>I discovered a special global variable in Ruby. It's <code>$$</code> and it's always a number. But what does it mean? Even in the documentation I can't find anything.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 2, "creation_date": 1476220190, "post_id": 39986757, "comment_id": 67252374, "body": "Time is not a fixed value, you cannot get precise and perfect time, it takes time to calculate <code>Time.now</code> itself Note: I didn&#39;t downvote you and I don&#39;t think this deserves a downvote"}, {"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476220376, "post_id": 39986757, "comment_id": 67252464, "body": "if you want to test this kind of behavior you can look at <a href=\"https://github.com/travisjeffery/timecop\" rel=\"nofollow noreferrer\">timecop</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2460, "user_id": 3940126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0222b0a3b16a79649265eabba7e05add?s=128&d=identicon&r=PG&f=1", "display_name": "slowjack2k", "link": "https://stackoverflow.com/users/3940126/slowjack2k"}, "is_accepted": false, "score": 2, "last_activity_date": 1476222333, "creation_date": 1476222333, "answer_id": 39987279, "question_id": 39986757, "link": "https://stackoverflow.com/questions/39986757/time-now-1-hour-ago-3599-999604/39987279#39987279", "title": "Time.now - 1.hour.ago =&gt; 3599.999604?", "body": "<p>It's not only ruby. Your operating system can also interupt your programm and cause a huge gab between <code>1.hour.ago</code>  and  <code>Time.now</code> </p>\n\n<p>You can prevent it by freezing the reference time </p>\n\n<pre><code>t = Time.now\nt - 1.hour.ago(t)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25556, "user_id": 48062, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/DfKUw.jpg?s=128&g=1", "display_name": "Maxim Veksler", "link": "https://stackoverflow.com/users/48062/maxim-veksler"}, "edited": false, "score": 0, "creation_date": 1476306654, "post_id": 39987417, "comment_id": 67294936, "body": "OK.. that&#39;s super important. Any &quot;better&quot; way to do time calculations in ruby that is timezone / DST independent?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 25556, "user_id": 48062, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/DfKUw.jpg?s=128&g=1", "display_name": "Maxim Veksler", "link": "https://stackoverflow.com/users/48062/maxim-veksler"}, "edited": false, "score": 0, "creation_date": 1476309013, "post_id": 39987417, "comment_id": 67296023, "body": "It depends on what you want. If you want chronologically one hour earlier then you can do the math this way, just don&#39;t expect 1am to be one hour before 2am consistently, or even in the same time zone. If you want to adjust the time one hour earlier on the clock you might want to use ActiveSupport or some other library to help do those calculations, but be aware some times simply don&#39;t exist, like 1:30am might not be a valid time in some time zones on some days."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 25556, "user_id": 48062, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/DfKUw.jpg?s=128&g=1", "display_name": "Maxim Veksler", "link": "https://stackoverflow.com/users/48062/maxim-veksler"}, "edited": false, "score": 0, "creation_date": 1476309108, "post_id": 39987417, "comment_id": 67296059, "body": "I strongly recommend using UTC values internally and only rendering those out in local time as necessary. This is especially important in a database where you might move the server from one time zone to another where you might switch datacentres or local laws could arbitrarily change."}, {"owner": {"reputation": 25556, "user_id": 48062, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/DfKUw.jpg?s=128&g=1", "display_name": "Maxim Veksler", "link": "https://stackoverflow.com/users/48062/maxim-veksler"}, "edited": false, "score": 0, "creation_date": 1476309460, "post_id": 39987417, "comment_id": 67296221, "body": "which API&#39;s of ruby are correct to do time calculations in UTC fashion, given that ActiveSupport is available ?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 25556, "user_id": 48062, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/DfKUw.jpg?s=128&g=1", "display_name": "Maxim Veksler", "link": "https://stackoverflow.com/users/48062/maxim-veksler"}, "edited": false, "score": 0, "creation_date": 1476310170, "post_id": 39987417, "comment_id": 67296489, "body": "You get the entire <a href=\"http://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html\" rel=\"nofollow noreferrer\">ActiveSupport::TimeZone</a> handling library, plus a whole <a href=\"http://api.rubyonrails.org/classes/Time.html\" rel=\"nofollow noreferrer\">pile of extensions to the core Time class</a>, where <a href=\"http://api.rubyonrails.org/classes/Time.html#method-i-advance\" rel=\"nofollow noreferrer\"><code>advance</code></a> and <a href=\"http://api.rubyonrails.org/classes/Time.html#method-i-change\" rel=\"nofollow noreferrer\"><code>change</code></a> are particularly handy for tasks like this."}, {"owner": {"reputation": 25556, "user_id": 48062, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/DfKUw.jpg?s=128&g=1", "display_name": "Maxim Veksler", "link": "https://stackoverflow.com/users/48062/maxim-veksler"}, "edited": false, "score": 1, "creation_date": 1565238218, "post_id": 39987417, "comment_id": 101291447, "body": "in slight 3.years.ago delay :) thanks for all the help, marking the question as answered."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 4, "last_activity_date": 1476222994, "creation_date": 1476222994, "answer_id": 39987417, "question_id": 39986757, "link": "https://stackoverflow.com/questions/39986757/time-now-1-hour-ago-3599-999604/39987417#39987417", "title": "Time.now - 1.hour.ago =&gt; 3599.999604?", "body": "<p>It takes a tiny but non-zero amount of time to determine what the time right now is. In this case the difference is 395\u00b5s. A quick test with Ruby 2.3.1 on my machine shows a difference of 16\u00b5s which is more like what I'd expect. I'm not sure why it's taking so long to compute the local time on your machine, but it could be just a random thing.</p>\n\n<p>If you want an <em>exact</em> value, try this:</p>\n\n<pre><code>Time.now - 1.hour\n</code></pre>\n\n<p>Keep in mind that time is totally crazy and \"one hour ago\" might mean two hours ago, or zero hours ago, or maybe something else entirely depending on when you call this code. Daylight Saving confuses everything it touches.</p>\n"}], "owner": {"reputation": 25556, "user_id": 48062, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/DfKUw.jpg?s=128&g=1", "display_name": "Maxim Veksler", "link": "https://stackoverflow.com/users/48062/maxim-veksler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1465, "favorite_count": 0, "accepted_answer_id": 39987417, "answer_count": 2, "score": 2, "last_activity_date": 1476222994, "creation_date": 1476220108, "question_id": 39986757, "link": "https://stackoverflow.com/questions/39986757/time-now-1-hour-ago-3599-999604", "title": "Time.now - 1.hour.ago =&gt; 3599.999604?", "body": "<pre><code>irb(main):012:0&gt; Time.now - 1.hour.ago\n=&gt; 3599.999604\n</code></pre>\n\n<p>What's the code evaluation that causes this?</p>\n\n<p>I understand the 2 code paths are evaluated here, I assume that ruby at first calculated the expression, then evaluates the <code>1.hour.ago</code> expression and only then the <code>Time.now</code> expression. The time difference between the 2 is the time it takes for the ruby interpreter to run the evaluations.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1476219587, "post_id": 39986598, "comment_id": 67252072, "body": "Which specific spec fails? What happens when it fails? Please include enough information for the question to stand on its own."}, {"owner": {"reputation": 2460, "user_id": 3940126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0222b0a3b16a79649265eabba7e05add?s=128&d=identicon&r=PG&f=1", "display_name": "slowjack2k", "link": "https://stackoverflow.com/users/3940126/slowjack2k"}, "edited": false, "score": 1, "creation_date": 1476219812, "post_id": 39986598, "comment_id": 67252202, "body": "You&#39;r using a relational database too? I see nothing like databasecleaner for cleaning up after test."}, {"owner": {"reputation": 1, "user_id": 7003765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d335e3c5804b04b6730fdcce1c0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Fagundez", "link": "https://stackoverflow.com/users/7003765/leonardo-fagundez"}, "edited": false, "score": 0, "creation_date": 1476220164, "post_id": 39986598, "comment_id": 67252366, "body": "<b>fails in the line 25:</b> expect(page).to have_content(&#39;You need re-connect with LinkedIn from your Edit Profile page&#39;)"}, {"owner": {"reputation": 1, "user_id": 7003765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d335e3c5804b04b6730fdcce1c0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Fagundez", "link": "https://stackoverflow.com/users/7003765/leonardo-fagundez"}, "edited": false, "score": 0, "creation_date": 1476220197, "post_id": 39986598, "comment_id": 67252378, "body": "<b>says:</b> 1) Token expiration notifications After success login with expired authentication token at dashboard      Failure/Error: expect(page).to have_content(&#39;You need re-connect with LinkedIn from your Edit Profile page&#39;)        expected to find text &quot;You need re-connect with LinkedIn from your Edit Profile page&quot; in &quot;Put your network to work for you LOG IN CONTACT US &#215; &#215; LOG IN Remember me Forgot your password?&quot;"}, {"owner": {"reputation": 1, "user_id": 7003765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d335e3c5804b04b6730fdcce1c0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Fagundez", "link": "https://stackoverflow.com/users/7003765/leonardo-fagundez"}, "edited": false, "score": 0, "creation_date": 1476220217, "post_id": 39986598, "comment_id": 67252391, "body": "I&#39;m using relational database: postgres, yes :)"}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 157943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745c55f201b982c31c610cabab10a6be?s=128&d=identicon&r=PG", "display_name": "gmcnaughton", "link": "https://stackoverflow.com/users/157943/gmcnaughton"}, "is_accepted": false, "score": 0, "last_activity_date": 1476229658, "creation_date": 1476229658, "answer_id": 39988464, "question_id": 39986598, "link": "https://stackoverflow.com/questions/39986598/rspec-capybara-test-pass-isolated-fail-running-together/39988464#39988464", "title": "Rspec &amp; Capybara test pass isolated, fail running together", "body": "<p>When specs pass in isolation but fail when run together, there must be some interdependency or information that's leaking between them.</p>\n\n<p>As @slowjack2k said, your <code>spec_helper.rb</code> specifies:</p>\n\n<pre><code>config.use_transactional_fixtures = false\n</code></pre>\n\n<p>Per the <a href=\"https://www.relishapp.com/rspec/rspec-rails/docs/transactions\" rel=\"nofollow\">RSpec Transactions</a> doc, that means you've asked RSpec not to wrap each spec in a transaction. This means changes to the database made during one spec can impact others, including between standard unit tests and Capybara feature tests.</p>\n\n<p>If you really need transaction fixtures turned off, you'll need to use <a href=\"https://github.com/DatabaseCleaner/database_cleaner\" rel=\"nofollow\">database_cleaner</a> or some other mechanism to ensure that changes made in one spec don't interfere with other specs.</p>\n"}], "owner": {"reputation": 1, "user_id": 7003765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d335e3c5804b04b6730fdcce1c0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Fagundez", "link": "https://stackoverflow.com/users/7003765/leonardo-fagundez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476229658, "creation_date": 1476219461, "last_edit_date": 1476219548, "question_id": 39986598, "link": "https://stackoverflow.com/questions/39986598/rspec-capybara-test-pass-isolated-fail-running-together", "title": "Rspec &amp; Capybara test pass isolated, fail running together", "body": "<p>When I run the JS feature tests in isolation they work fine.</p>\n\n<p>When I run the test suite, then they fail.</p>\n\n<p>I execute '--bisect' with 'rspec spec' and return 1 test that produce the fail.</p>\n\n<p>spec:\n<a href=\"https://gist.github.com/lfgdz/c56481ce88cdb80750fa6d98f0ec1a4d\" rel=\"nofollow\">https://gist.github.com/lfgdz/c56481ce88cdb80750fa6d98f0ec1a4d</a></p>\n\n<p>spec_helper:\n<a href=\"https://gist.github.com/lfgdz/08b1b82d2a36aaf7929af79b04c652c1\" rel=\"nofollow\">https://gist.github.com/lfgdz/08b1b82d2a36aaf7929af79b04c652c1</a></p>\n"}, {"tags": ["ruby", "excel", "spreadsheet", "xls"], "comments": [{"owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "edited": false, "score": 0, "creation_date": 1476219362, "post_id": 39986323, "comment_id": 67251941, "body": "Which &quot;spreadsheet gem&quot; are you using?  There are a number of them."}, {"owner": {"reputation": 265, "user_id": 6897476, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7d1f4b7fe23115a3cf52a7cc6a792f94?s=128&d=identicon&r=PG&f=1", "display_name": "danynl", "link": "https://stackoverflow.com/users/6897476/danynl"}, "reply_to_user": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "edited": false, "score": 0, "creation_date": 1476219944, "post_id": 39986323, "comment_id": 67252270, "body": "there is only one gem with that name...<a href=\"https://github.com/zdavatz/spreadsheet\" rel=\"nofollow noreferrer\">github.com/zdavatz/spreadsheet</a>"}, {"owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "edited": false, "score": 0, "creation_date": 1476220896, "post_id": 39986323, "comment_id": 67252743, "body": "Just trying to be clear.  Although there is only 1 gem on rubygems w/ that specific name, there are a number of spreadsheet gems."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476222884, "post_id": 39986323, "comment_id": 67253660, "body": "Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; including the linked pages and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot; along with \u201c<a href=\"http://meta.stackoverflow.com/q/261592\">How much research effort is expected of Stack Overflow users?</a>\u201d. Your question is premature. We expect to see what you tried, along with an explanation of why it didn&#39;t work. You&#39;re asking for a tutorial but we don&#39;t know what you did toward solving the problem, which&#39;d result in a large answer."}], "answers": [{"tags": [], "owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "is_accepted": true, "score": 2, "last_activity_date": 1476220841, "creation_date": 1476220841, "answer_id": 39986936, "question_id": 39986323, "link": "https://stackoverflow.com/questions/39986323/ruby-spreadsheet-getting-column-count-in-xls-file/39986936#39986936", "title": "Ruby spreadsheet : getting column count in xls file", "body": "<p>It looks like there are a number of possible solutions based on your needs and situation:</p>\n\n<pre><code>book = Spreadsheet.open('/path/to/an/excel-file.xls')\nsheet1 = book.worksheet(0)\n\n# get the number of columns in the first row\nsheet1.row(0).size\n\n# get the maximum number of columns in all the rows\nsheet1.rows.max_by(&amp;:size)\n\n# use the dimension logic from the gem.  It looks like this ignores empty columns at the beginning of the sheet\nsheet1.column_count\n</code></pre>\n\n<p><code>column_count</code> source: \n<a href=\"https://github.com/zdavatz/spreadsheet/blob/master/lib/spreadsheet/worksheet.rb#L96-L99\" rel=\"nofollow\">https://github.com/zdavatz/spreadsheet/blob/master/lib/spreadsheet/worksheet.rb#L96-L99</a></p>\n\n<p>Let us know what works for you and what you find out by playing with it.</p>\n"}], "owner": {"reputation": 265, "user_id": 6897476, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7d1f4b7fe23115a3cf52a7cc6a792f94?s=128&d=identicon&r=PG&f=1", "display_name": "danynl", "link": "https://stackoverflow.com/users/6897476/danynl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 0, "accepted_answer_id": 39986936, "answer_count": 1, "score": 0, "last_activity_date": 1476220841, "creation_date": 1476218294, "question_id": 39986323, "link": "https://stackoverflow.com/questions/39986323/ruby-spreadsheet-getting-column-count-in-xls-file", "title": "Ruby spreadsheet : getting column count in xls file", "body": "<p>Is there any way to count the number of columns in a spreadsheet file using ruby? I am using the latest version of spreadsheet gem.</p>\n"}, {"tags": ["ruby", "oop", "inheritance"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476218070, "post_id": 39985925, "comment_id": 67251255, "body": "This could be fixed by having a <code>B2</code> class that branches from <code>B</code> without re-defining that method."}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "reply_to_user": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476218312, "post_id": 39985925, "comment_id": 67251388, "body": "So you&#39;re saying that sometimes <code>C</code>s are <code>B</code>s and sometimes they&#39;re not? I&#39;d tend to agree with @bjhaid here, <code>C &lt; B</code> doesn&#39;t sound like the right approach (but I could be wrong)."}, {"owner": {"reputation": 29, "user_id": 7003555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cda7eb1d3c4056b6c86f5b75d962e2c?s=128&d=identicon&r=PG&f=1", "display_name": "aladan", "link": "https://stackoverflow.com/users/7003555/aladan"}, "edited": false, "score": 0, "creation_date": 1476218805, "post_id": 39985925, "comment_id": 67251655, "body": "Well, <code>C</code>s are <code>B</code>s, but they&#39;re also <code>A</code>s. So composition sounds good here."}, {"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476222035, "post_id": 39985925, "comment_id": 67253300, "body": "where did my comment go? :o"}], "answers": [{"comments": [{"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1476222532, "post_id": 39987268, "comment_id": 67253516, "body": "You are 1 second faster than I :D"}], "tags": [], "owner": {"reputation": 953, "user_id": 1993536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17a3a074b629368c391549294af55654?s=128&d=identicon&r=PG", "display_name": "izaban", "link": "https://stackoverflow.com/users/1993536/izaban"}, "is_accepted": false, "score": 5, "last_activity_date": 1496085694, "last_edit_date": 1496085694, "creation_date": 1476222289, "answer_id": 39987268, "question_id": 39985925, "link": "https://stackoverflow.com/questions/39985925/how-to-call-a-method-from-a-specific-ancestor-class-in-ruby/39987268#39987268", "title": "How to call a method from a specific ancestor class in Ruby?", "body": "<p>You can use \"unbound methods\" for this:</p>\n\n<pre><code>class A\n  def some_method\n    'From A'\n  end\nend\n\nclass B &lt; A\n  def some_method\n    'From B'\n  end\nend\n\nclass C &lt; B\n  def some_method\n    A.instance_method(:some_method).bind(self).call\n  end\nend\n\nc = C.new\nc.some_method # get 'From A'\n</code></pre>\n\n<p>Ruby has the capability to unbind a method from an object and then bind it to another object. The <code>instance_method</code> is used to grab a method object from the class rather than from a specific instance of this class. Later, we can bind that method to the instance of <code>C</code> that is calling <code>some_method</code>, that's it <code>self</code>, to finally call that method immediately in the same line.</p>\n\n<p>As another user said, if your are doing this, you should probably review the desing of your program to use composition or another approach.</p>\n"}], "owner": {"reputation": 29, "user_id": 7003555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cda7eb1d3c4056b6c86f5b75d962e2c?s=128&d=identicon&r=PG&f=1", "display_name": "aladan", "link": "https://stackoverflow.com/users/7003555/aladan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1496085694, "creation_date": 1476216793, "question_id": 39985925, "link": "https://stackoverflow.com/questions/39985925/how-to-call-a-method-from-a-specific-ancestor-class-in-ruby", "title": "How to call a method from a specific ancestor class in Ruby?", "body": "<p>Say, I have such a hierarchy:</p>\n\n<pre><code>class A\n  def some_method\n    'From A'\n  end\nend\n\nclass B &lt; A\n  def some_method\n    'From B'\n  end\nend\n\nclass C &lt; B\n  def some_method\n    # what's here to receive 'From A' ?\n  end\nend\n\nc = C.new\nc.some_method # get 'From A'\n</code></pre>\n\n<p>If I call <code>super</code> in C#some_method I'll receive 'From B'.\nHow should I implement C#some_method to get <code>'From A'</code> in <code>c.some_method</code>. \nWhat is the best practice to do this?</p>\n"}, {"tags": ["ruby", "sinatra", "httpresponse", "net-http"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 1, "creation_date": 1476216104, "post_id": 39985611, "comment_id": 67250183, "body": "add <code>rescue SocketError =&gt; e; #do something with e.message</code> before <code>end</code> in your method and that should do, the <code>#do something with e.message</code> should be replaced with your logic to return something sensible to the user also read handling exceptions in ruby <a href=\"http://rubylearning.com/satishtalim/ruby_exceptions.html\" rel=\"nofollow noreferrer\">rubylearning.com/satishtalim/ruby_exceptions.html</a>"}, {"owner": {"reputation": 1187, "user_id": 4557537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/098c314fbc6fd463195db73b4da43b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Fadi", "link": "https://stackoverflow.com/users/4557537/fadi"}, "reply_to_user": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476216902, "post_id": 39985611, "comment_id": 67250615, "body": "Ah, didn&#39;t think about that.. Does SocketError return any kind of HTTP code? My idea was if my script can&#39;t reach the URL then it&#39;ll return the HTTP code in a JSON object, can this be done in this case?"}, {"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 1, "creation_date": 1476216944, "post_id": 39985611, "comment_id": 67250637, "body": "that error means it can&#39;t resolve the hostname, so it never left the client there&#39;s no HTTP code to return"}, {"owner": {"reputation": 1187, "user_id": 4557537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/098c314fbc6fd463195db73b4da43b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Fadi", "link": "https://stackoverflow.com/users/4557537/fadi"}, "reply_to_user": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 0, "creation_date": 1476217168, "post_id": 39985611, "comment_id": 67250775, "body": "Ah! That makes sense."}], "answers": [{"comments": [{"owner": {"reputation": 1187, "user_id": 4557537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/098c314fbc6fd463195db73b4da43b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Fadi", "link": "https://stackoverflow.com/users/4557537/fadi"}, "edited": false, "score": 0, "creation_date": 1476217902, "post_id": 39985863, "comment_id": 67251164, "body": "This results in <code>ArgumentError - wrong number of arguments (0 for 1..2)</code>"}, {"owner": {"reputation": 322, "user_id": 2067375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd805bbb6862aa2fc7166a3372119e0c?s=128&d=identicon&r=PG", "display_name": "Rada Bogdan", "link": "https://stackoverflow.com/users/2067375/rada-bogdan"}, "reply_to_user": {"reputation": 1187, "user_id": 4557537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/098c314fbc6fd463195db73b4da43b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Fadi", "link": "https://stackoverflow.com/users/4557537/fadi"}, "edited": false, "score": 0, "creation_date": 1476344388, "post_id": 39985863, "comment_id": 67307260, "body": "Edited answer. I was referring to the recommended way to add a rescue clause at the end of the method.  And possible rescuing other exceptions if needed, you can check the other exceptions in the link from the answer."}], "tags": [], "owner": {"reputation": 322, "user_id": 2067375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd805bbb6862aa2fc7166a3372119e0c?s=128&d=identicon&r=PG", "display_name": "Rada Bogdan", "link": "https://stackoverflow.com/users/2067375/rada-bogdan"}, "is_accepted": true, "score": 0, "last_activity_date": 1476344270, "last_edit_date": 1476344270, "creation_date": 1476216565, "answer_id": 39985863, "question_id": 39985611, "link": "https://stackoverflow.com/questions/39985611/how-to-handle-socketerror-getaddrinfo-nodename-nor-servname-provided-or-not/39985863#39985863", "title": "How to handle SocketError - getaddrinfo: nodename nor servname provided, or not known [ruby]", "body": "<p>Since you are using version 2 of RestClient, The recommended way is to add    <code>rescue RestClient::ExceptionWithResponse  =&gt; e</code>  #do something with e.response before <code>end</code> in your method.</p>\n\n<p>You can see the full list of all exceptions that RestClient can raise here: <a href=\"https://github.com/rest-client/rest-client#exceptions-see-httpwwww3orgprotocolsrfc2616rfc2616-sec10html\" rel=\"nofollow\">https://github.com/rest-client/rest-client#exceptions-see-httpwwww3orgprotocolsrfc2616rfc2616-sec10html</a> .</p>\n\n<p>I would suggest to try and catch them all :) </p>\n"}], "owner": {"reputation": 1187, "user_id": 4557537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/098c314fbc6fd463195db73b4da43b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Fadi", "link": "https://stackoverflow.com/users/4557537/fadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 0, "accepted_answer_id": 39985863, "answer_count": 1, "score": 1, "last_activity_date": 1476344270, "creation_date": 1476215614, "question_id": 39985611, "link": "https://stackoverflow.com/questions/39985611/how-to-handle-socketerror-getaddrinfo-nodename-nor-servname-provided-or-not", "title": "How to handle SocketError - getaddrinfo: nodename nor servname provided, or not known [ruby]", "body": "<p>So, I am creating a script that checks the health check of a tool, and the first thing the script does is check if it can actually reach the URL specified or not in the first place (by check the HTTP code). I'm having a problem where if the URL is invalid it causes <code>SocketError - getaddrinfo: nodename nor servname provided, or not known</code> which throws an <code>Internal Server error (500)</code> (which is understandable)..</p>\n\n<p>But instead of that, I would like to handle that error and instead return a custom \"error\" to the user.</p>\n\n<p>I've been googling a solution for this for quite some time before posting this and I cannot find anything useful to my problem. :/</p>\n\n<p>My script is using Sinatra and this is the main part that has to do with this issue:</p>\n\n<pre><code>def check_status(uri_str, is_verbose, limit = 10)\n    response = RestClient.get \"#{uri_str}\" # This is line 35\n\n    case response.code\n        when 200...300\n            @@services.each do |service|\n                if service.is_matched?(\"#{uri_str}\")\n        @@tool_name = service.class.name.split('::').last.downcase\n                    puts \"This is the URL inside the 'if \n                    @@result = service.check_tool_specific(\"#{uri_str}\", \"#{verbose(is_verbose)}\")\n      end\n            end\n\n            if @@result.nil?\n                return 'No results, something went wrong!'\n            end\n\n    return \"{\\\"#{@@tool_name}\\\":{\\\"timestamp\\\":\\\"#{Time.now.strftime('%Y-%m-%d %T')}\\\",\\\"results\\\":#{@@result.to_json}}}\"\n\n  when Net::HTTPRedirection then\n    puts \"Response code in Net::HTTPRedirection: #{response.code}\"\n            location = response['location']\n            check_status(location, limit - 1)\n        else\n            puts \"It doesn't work!\"\n            puts \"#{response.code}\"\n  end\nend\n</code></pre>\n\n<p>Currently this is the error that I receive in console if the URL is invalid:</p>\n\n<pre><code>2016-10-11 15:46:32 - SocketError - getaddrinfo: nodename nor servname provided, or not known:\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/http.rb:879:in `initialize'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/http.rb:879:in `open'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/http.rb:879:in `block in connect'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/timeout.rb:74:in `timeout'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/http.rb:878:in `connect'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/http.rb:863:in `do_start'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/http.rb:852:in `start'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rest-client-2.0.0/lib/restclient/request.rb:766:in `transmit'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rest-client-2.0.0/lib/restclient/request.rb:215:in `execute'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rest-client-2.0.0/lib/restclient/request.rb:52:in `execute'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rest-client-2.0.0/lib/restclient.rb:67:in `get'\n    /Users/farahfa/temp/ruby-devtools-hc/devtools-hc.rb:35:in `check_status'\n    /Users/farahfa/temp/ruby-devtools-hc/devtools-hc.rb:22:in `block in &lt;class:DevMonit&gt;'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `block in compile!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `[]'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (3 levels) in route!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:994:in `route_eval'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (2 levels) in route!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1015:in `block in process_route'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `catch'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `process_route'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:973:in `block in route!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `each'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `route!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1085:in `block in dispatch!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1082:in `dispatch!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `block in call!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `call!'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:895:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/nulllogger.rb:9:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/show_exceptions.rb:25:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:182:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:2013:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1487:in `block in call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1787:in `synchronize'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:1487:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/tempfile_reaper.rb:15:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/lint.rb:49:in `_call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/lint.rb:37:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/showexceptions.rb:24:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/commonlogger.rb:33:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/sinatra-1.4.7/lib/sinatra/base.rb:219:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/chunked.rb:54:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'\n    /Users/farahfa/.rvm/gems/ruby-2.2.2@global/gems/rack-1.6.4/lib/rack/handler/webrick.rb:88:in `service'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'\n    /Users/farahfa/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'\n</code></pre>\n\n<p><strong>NOTE</strong>: Line <code>22</code> is just: <code>check_status(url, is_verbose)</code> which calls the function.</p>\n\n<p>Any help and/or guidance is much appreciated!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "helpers"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1476213093, "post_id": 39984809, "comment_id": 67248519, "body": "Could you provide a little more context? What is <code>items</code> and how are you using that loop?"}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 0, "creation_date": 1476214428, "post_id": 39984809, "comment_id": 67249276, "body": "I only see one array, <code>items</code> ... is the loop usually for a single array?"}, {"owner": {"reputation": 5735, "user_id": 269404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jHC9T.jpg?s=128&g=1", "display_name": "MintDeparture", "link": "https://stackoverflow.com/users/269404/mintdeparture"}, "edited": false, "score": 0, "creation_date": 1476273552, "post_id": 39984809, "comment_id": 67273787, "body": "Items is just a any set of records, but they all have an id. Yes, sorry, it is compaing the same array to itself."}], "answers": [{"tags": [], "owner": {"reputation": 1548, "user_id": 1246279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2533d5a4299cad329268e552c47fa8d?s=128&d=identicon&r=PG", "display_name": "philomory", "link": "https://stackoverflow.com/users/1246279/philomory"}, "is_accepted": false, "score": 1, "last_activity_date": 1476215410, "last_edit_date": 1476215410, "creation_date": 1476215054, "answer_id": 39985468, "question_id": 39984809, "link": "https://stackoverflow.com/questions/39984809/in-ruby-rails-how-do-i-make-this-helper-for-a-common-loop/39985468#39985468", "title": "In ruby / rails how do I make this helper for a common loop?", "body": "<p>Assuming you're trying to compare each element in a single array with every other element in that array, as your example code shows (rather than comparing two arrays with each other, as your text states), you want <a href=\"https://docs.ruby-lang.org/en/2.3.0/Array.html#method-i-combination\" rel=\"nofollow\"><code>Array#combination</code></a>, possibly in conjunction with <a href=\"https://docs.ruby-lang.org/en/2.3.0/Enumerable.html#method-i-each_with_index\" rel=\"nofollow\"><code>Enumerable#each_with_index</code></a> if the indexing is important:</p>\n\n<pre><code>%i{a b c d e}.each_with_index.to_a.combination(2) {|(x,i),(y,j)| p [x,y,i,j] }\n[:a, :b, 0, 1]\n[:a, :c, 0, 2]\n[:a, :d, 0, 3]\n[:a, :e, 0, 4]\n[:b, :c, 1, 2]\n[:b, :d, 1, 3]\n[:b, :e, 1, 4]\n[:c, :d, 2, 3]\n[:c, :e, 2, 4]\n[:d, :e, 3, 4]\n=&gt; [[:a, 0], [:b, 1], [:c, 2], [:d, 3], [:e, 4]]\n</code></pre>\n\n<p>The above example also makes use of <a href=\"https://docs.ruby-lang.org/en/2.3.0/syntax/methods_rdoc.html#label-Array+Decomposition\" rel=\"nofollow\">argument destructuring</a>.</p>\n"}], "owner": {"reputation": 5735, "user_id": 269404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jHC9T.jpg?s=128&g=1", "display_name": "MintDeparture", "link": "https://stackoverflow.com/users/269404/mintdeparture"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476273497, "creation_date": 1476212633, "last_edit_date": 1476273497, "question_id": 39984809, "link": "https://stackoverflow.com/questions/39984809/in-ruby-rails-how-do-i-make-this-helper-for-a-common-loop", "title": "In ruby / rails how do I make this helper for a common loop?", "body": "<p>I write this bit of code all the time, it compaires two of the same array expect if they're the same item:</p>\n\n<pre><code>items.each_with_index do | x, i |\n    items.each do | y, j |\n        if x.id != y.id\n            #... do some things\n        end\n    end\nend\n</code></pre>\n\n<p>What I'd really like to write is:</p>\n\n<pre><code>items.compare_each do | x, y, i, j |\n    #... do some things\nend\n</code></pre>\n\n<p>How would you go about writing a helper that in ruby/rails? Or even does it already exist?</p>\n"}, {"tags": ["ruby", "jwt", "httparty", "getstream-io"], "comments": [{"owner": {"reputation": 1063, "user_id": 1930504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a4UQO.jpg?s=128&g=1", "display_name": "Jack Bracken", "link": "https://stackoverflow.com/users/1930504/jack-bracken"}, "edited": false, "score": 1, "creation_date": 1476211305, "post_id": 39984405, "comment_id": 67247444, "body": "Are you passing in an actual API key?"}, {"owner": {"reputation": 667, "user_id": 1781921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be29368f850659c1533bfec1dc14dc3?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1781921/stephen"}, "reply_to_user": {"reputation": 1063, "user_id": 1930504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a4UQO.jpg?s=128&g=1", "display_name": "Jack Bracken", "link": "https://stackoverflow.com/users/1930504/jack-bracken"}, "edited": false, "score": 0, "creation_date": 1476212568, "post_id": 39984405, "comment_id": 67248227, "body": "Yes, API_KEY is just for this example."}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1781921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be29368f850659c1533bfec1dc14dc3?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1781921/stephen"}, "edited": false, "score": 0, "creation_date": 1476236641, "post_id": 39986669, "comment_id": 67257107, "body": "Can&#39;t use the libraries unfortunately and the REST API docs are missing important information that differs from the standard."}, {"owner": {"reputation": 10841, "user_id": 460417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a381152cd980d15f58e0016c996ab254?s=128&d=identicon&r=PG", "display_name": "Tommaso Barbugli", "link": "https://stackoverflow.com/users/460417/tommaso-barbugli"}, "reply_to_user": {"reputation": 667, "user_id": 1781921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be29368f850659c1533bfec1dc14dc3?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1781921/stephen"}, "edited": false, "score": 0, "creation_date": 1476267476, "post_id": 39986669, "comment_id": 67269975, "body": "@Stephen what is the blocking issue that prevents you from using the API client? Perhaps this is something that can be fixed on the library."}], "tags": [], "owner": {"reputation": 3769, "user_id": 364024, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/97eb936641f63111d3a2a0a155386515?s=128&d=identicon&r=PG", "display_name": "iandouglas", "link": "https://stackoverflow.com/users/364024/iandouglas"}, "is_accepted": false, "score": 0, "last_activity_date": 1476224562, "last_edit_date": 1476224562, "creation_date": 1476219758, "answer_id": 39986669, "question_id": 39984405, "link": "https://stackoverflow.com/questions/39984405/action-permission-error-with-stream-api/39986669#39986669", "title": "Action permission error with Stream API", "body": "<p>Is there a requirement to use HTTParty? <a href=\"https://github.com/GetStream/stream-ruby\" rel=\"nofollow\">Stream has a Ruby library</a> that makes this much, much easier and does the JWT work behind the scenes for you.</p>\n\n<pre><code>client = Stream::Client.new('API_KEY', 'API_SECRET', :location =&gt; 'us-east')\nuser_feed = client.feed('user', 12353253.to_s)\nresults = user_feed.get(:limit =&gt; 10)\n</code></pre>\n\n<p>By default, this should do JWT for you.</p>\n\n<p>If you really want to do it yourself, you can trace what the client library is doing and reproduce that.</p>\n"}, {"comments": [{"owner": {"reputation": 667, "user_id": 1781921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be29368f850659c1533bfec1dc14dc3?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1781921/stephen"}, "edited": false, "score": 0, "creation_date": 1476289867, "post_id": 39996115, "comment_id": 67285375, "body": "That was it. I figured that out after digging through the ruby client. The naming standards in the docs need updated, just FYI. <a href=\"https://getstream.io/docs_rest/#naming\" rel=\"nofollow noreferrer\">getstream.io/docs_rest/#naming</a> Thanks for your help and very cool product."}], "tags": [], "owner": {"reputation": 10841, "user_id": 460417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a381152cd980d15f58e0016c996ab254?s=128&d=identicon&r=PG", "display_name": "Tommaso Barbugli", "link": "https://stackoverflow.com/users/460417/tommaso-barbugli"}, "is_accepted": true, "score": 3, "last_activity_date": 1476267409, "creation_date": 1476267409, "answer_id": 39996115, "question_id": 39984405, "link": "https://stackoverflow.com/questions/39984405/action-permission-error-with-stream-api/39996115#39996115", "title": "Action permission error with Stream API", "body": "<p>It looks like you got everything right except for the value for <code>feed_id</code> in the payload. It should be the \"user12353253\" instead of \"user:12353253\" (no semicolon).</p>\n\n<p>P.S.\nI am one of the founders of Stream, REST API does not explain this well. We will update them asap.</p>\n"}], "owner": {"reputation": 667, "user_id": 1781921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be29368f850659c1533bfec1dc14dc3?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1781921/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 39996115, "answer_count": 2, "score": 2, "last_activity_date": 1476267409, "creation_date": 1476211164, "question_id": 39984405, "link": "https://stackoverflow.com/questions/39984405/action-permission-error-with-stream-api", "title": "Action permission error with Stream API", "body": "<p>I keep getting \"You do not have permission to perform this action.\" when attempting to connect. What am I missing?</p>\n\n<pre><code>url = 'https://api.getstream.io/api/v1.0/feed/user/12353253/?api_key=API_KEY'\n\npayload = {\n  'resource' =&gt; 'feed',\n  'action' =&gt; 'read',\n  'feed_id' =&gt; 'user:12353253'\n}\n\ntoken = JWT.encode(payload, secret, 'HS256')\n\noptions[:headers] = {\n  'Authorization' =&gt; token,\n  'stream-auth-type' =&gt; 'jwt'\n}\n\nresponse = HTTParty.get(url, options)\n</code></pre>\n"}, {"tags": ["arrays", "ruby", "if-statement", "include"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 6732891, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/46f4d672742d5f9f179b9ca146beafb7?s=128&d=identicon&r=PG&f=1", "display_name": "and1ball0032", "link": "https://stackoverflow.com/users/6732891/and1ball0032"}, "edited": false, "score": 0, "creation_date": 1476212510, "post_id": 39984314, "comment_id": 67248184, "body": "Thanks so much @Ursus. This makes perfect sense. Knew I was close -- really appreciate the help!"}, {"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "reply_to_user": {"reputation": 39, "user_id": 6732891, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/46f4d672742d5f9f179b9ca146beafb7?s=128&d=identicon&r=PG&f=1", "display_name": "and1ball0032", "link": "https://stackoverflow.com/users/6732891/and1ball0032"}, "edited": false, "score": 0, "creation_date": 1476212539, "post_id": 39984314, "comment_id": 67248207, "body": "My pleasure Sir :)"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1476212576, "post_id": 39984314, "comment_id": 67248237, "body": "If <code>word_bank</code> is large, consider converting it to a set: <code>require &#39;set&#39;; </code>word_bank_set = <code>word_bank.to_set</code>. Then <code>if word_bank_set.include?(greeting)</code>, which is a very fast lookup, as sets are hashes under the covers."}, {"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "edited": false, "score": 0, "creation_date": 1476213179, "post_id": 39984314, "comment_id": 67248567, "body": "Cary I updated my answer even I think this is not the case. It looks like a school exercise."}, {"owner": {"reputation": 39, "user_id": 6732891, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/46f4d672742d5f9f179b9ca146beafb7?s=128&d=identicon&r=PG&f=1", "display_name": "and1ball0032", "link": "https://stackoverflow.com/users/6732891/and1ball0032"}, "edited": false, "score": 1, "creation_date": 1476220450, "post_id": 39984314, "comment_id": 67252517, "body": "Thanks Cary and Ursus. You could definitely call it a school exercise -- thought I&#39;m actually just trying to teach myself on off-hours from my day job :)"}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": false, "score": 3, "last_activity_date": 1476213146, "last_edit_date": 1476213146, "creation_date": 1476210886, "answer_id": 39984314, "question_id": 39984224, "link": "https://stackoverflow.com/questions/39984224/selecting-a-single-element-from-an-array-within-an-if-statement/39984314#39984314", "title": "Selecting a single element from an array, within an &quot;if&quot; statement", "body": "<p><code>include?</code> is an array's method.</p>\n\n<pre><code>word_bank = [\"hello\", \"hi\", \"howdy\"]\nprint \"Say a word: \"\ngreeting = gets.chomp\n\nif word_bank.include?(greeting)\n  puts \"success!\"\nelse\n  puts \"failure.\"\nend\n\nputs [1,2,3].include?(1) # true\nputs [1,2,3].include?(4) # false\n</code></pre>\n\n<p>If <code>word_bank</code> was big, for performance reason we should use a set instead of an array.</p>\n\n<pre><code>require 'set'\n\nword_bank = Set.new([\"hello\", \"hi\", \"howdy\"])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 6732891, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/46f4d672742d5f9f179b9ca146beafb7?s=128&d=identicon&r=PG&f=1", "display_name": "and1ball0032", "link": "https://stackoverflow.com/users/6732891/and1ball0032"}, "edited": false, "score": 0, "creation_date": 1476212534, "post_id": 39984587, "comment_id": 67248203, "body": "Thanks very much for the help @bork -- will try this out and let you know how it tests."}], "tags": [], "owner": {"reputation": 1176, "user_id": 2750877, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/65fe7528984db6c53fa2e13e9b574708?s=128&d=identicon&r=PG&f=1", "display_name": "bork", "link": "https://stackoverflow.com/users/2750877/bork"}, "is_accepted": false, "score": 0, "last_activity_date": 1476211820, "creation_date": 1476211820, "answer_id": 39984587, "question_id": 39984224, "link": "https://stackoverflow.com/questions/39984224/selecting-a-single-element-from-an-array-within-an-if-statement/39984587#39984587", "title": "Selecting a single element from an array, within an &quot;if&quot; statement", "body": "<p>This is how I'd solve the issue, I haven't tested it though but it should work.</p>\n\n<pre><code>def hello\n  word_bank = ['hello', 'hi', 'howdy']\n  print 'Say a word: '\n  greeting = $stdin.gets.chomp.to_s\n\n    word_bank.each do |w|\n\n    w == greeting ? (puts 'success') : (puts 'failure')\n\n  end   \nend\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6732891, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/46f4d672742d5f9f179b9ca146beafb7?s=128&d=identicon&r=PG&f=1", "display_name": "and1ball0032", "link": "https://stackoverflow.com/users/6732891/and1ball0032"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476213146, "creation_date": 1476210591, "question_id": 39984224, "link": "https://stackoverflow.com/questions/39984224/selecting-a-single-element-from-an-array-within-an-if-statement", "title": "Selecting a single element from an array, within an &quot;if&quot; statement", "body": "<p>Creating a method that receives input from a user -- and if said input includes any word from a predetermined array, it prints the word \"success!\" Otherwise, if the input doesn't include a word from that array, it prints the word \"failure.\"</p>\n\n<p>My ideal would be to create a scenario where I can populate the array with as many elements as I want, and the method will always reference that array when deciding how to react to the user's input.</p>\n\n<p>When I run it, however, I get an error message saying \"no implicit conversion of Array into String.\"</p>\n\n<p>My code is below. Appreciate any and all help! Thanks.</p>\n\n<pre><code>            def hello\n            word_bank = [\"hello\", \"hi\", \"howdy\"]\n            print \"Say a word: \"\n            greeting = $stdin.gets.chomp.to_s\n\n            if greeting.include?(word_bank[0..2])\n               puts \"success!\"\n              else\n                puts \"failure.\"\n              end\n\n            end\n\n            hello\n</code></pre>\n"}, {"tags": ["ruby", "linux", "api", "io"], "comments": [{"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1476212034, "post_id": 39983890, "comment_id": 67247889, "body": "Either your time keeping is way too inaccurate or you are using a blocking writer which can&#39;t keep up with your reading. Remember: both writing to and reading from a file can be blocking."}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "reply_to_user": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1476212673, "post_id": 39983890, "comment_id": 67248302, "body": "Oh thank you. I didn&#39;t know that."}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "reply_to_user": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1476212766, "post_id": 39983890, "comment_id": 67248345, "body": "So is it possible that sysread can&#39;t read because the terminal blocks it because of writing its mouse tracking data to the standard output?"}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "reply_to_user": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1476213030, "post_id": 39983890, "comment_id": 67248493, "body": "Or the terminal simply blocks my software from execution because of a lack of resources when transferring its mouse tracking data to standard input?"}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1476220545, "post_id": 39983890, "comment_id": 67252575, "body": "It can be a number of root-causes. You could be resource0starved (i.e. your computer is doing too many things in parallel, resulting in your ruby process not getting enough CPU time), it could be that your clock is unstable (which is very common in virtualized environments) resulting in inaccurate time keeping, it could be your writer is too slow as said earlier, or it could be any number of additional issues. One thing is for sure however: it&#39;s not a general problem in Ruby that reads are slow."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476222965, "post_id": 39983890, "comment_id": 67253696, "body": "Please don&#39;t use &quot;Edit&quot; or &quot;Update&quot; tags in your text. Instead, incorporate the changes into it as if you&#39;d written them initially. We can easily find what changed if we need to since SO provides change control."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "edited": false, "score": 0, "creation_date": 1476211026, "post_id": 39984197, "comment_id": 67247270, "body": "Are there input strings with more than 100 characters in your answer code?"}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "edited": false, "score": 0, "creation_date": 1476211490, "post_id": 39984197, "comment_id": 67247547, "body": "Thank you for code and explanation. What about reading mouse tracking data from terminal? Why is it slower in that case?"}, {"owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "edited": false, "score": 0, "creation_date": 1476211950, "post_id": 39984197, "comment_id": 67247831, "body": "Sorry, the problem seems to be elsewhere, as you said. Thank you again."}], "tags": [], "owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "is_accepted": true, "score": 1, "last_activity_date": 1476211961, "last_edit_date": 1476211961, "creation_date": 1476210519, "answer_id": 39984197, "question_id": 39983890, "link": "https://stackoverflow.com/questions/39983890/ruby-sysread-io-much-too-slow/39984197#39984197", "title": "Ruby sysread IO much too slow", "body": "<p>There is probably something odd in your benchmarking setup. What comes to mind first is that your sender might not write fast enough.</p>\n\n<p>The following benchmark (using <a href=\"https://github.com/evanphx/benchmark-ips\" rel=\"nofollow\">benchmark-ips</a>) resulted in approximately one read every 1.3 micro-seconds on my 4-years-old Macbook on Ruby 2.2.5.</p>\n\n<p>This benchmark contains additional code to verify that we are reading exactly 1000-character strings. This makes the benchmark almost 50% slower, but still <em>much</em> faster than you claim.</p>\n\n<pre><code>require 'benchmark/ips'\n\nsysread_1k_strings = 0\nread_1k_strings = 0\n\nBenchmark.ips do |x|\n  input = ''\n\n  x.warmup = 0\n\n  x.report('sysread') {\n    STDIN.sysread(1000, input)\n    sysread_1k_strings += 1 if input.length == 1000\n  }\n\n  x.report('read') {\n    STDIN.read(1000, input)\n    read_1k_strings += 1 if input.length == 1000\n  }\n\nend\n\nputs \"Comparison --------------------------------------\"\nputs \"sysread\".rjust(20) + \"#{sysread_1k_strings.to_s.rjust(11)} 1000 byte strings read\"\nputs \"read\".rjust(20) + \"#{read_1k_strings.to_s.rjust(11)} 1000 byte strings read\"\n</code></pre>\n\n<p>When reading from <code>/dev/zero</code> this resulted in the following benchmark result:</p>\n\n<pre><code>$ ruby benchmark.rb &lt; /dev/zero\nWarming up --------------------------------------\n             sysread     1.000  i/100ms\n                read     1.000  i/100ms\nCalculating -------------------------------------\n             sysread    210.517k (\u00b113.5%) i/s -    915.780k in   4.529414s\n                read    475.210k (\u00b110.4%) i/s -      1.956M in   4.209967s\nComparison --------------------------------------\n             sysread     915780 1000 byte strings read\n                read    1955737 1000 byte strings read\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3756502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b100c4d35eb9179e9339a0bd1a6c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3756502", "link": "https://stackoverflow.com/users/3756502/user3756502"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 39984197, "answer_count": 1, "score": 1, "last_activity_date": 1476223102, "creation_date": 1476209523, "last_edit_date": 1476223102, "question_id": 39983890, "link": "https://stackoverflow.com/questions/39983890/ruby-sysread-io-much-too-slow", "title": "Ruby sysread IO much too slow", "body": "<p>I have a command like this where <code>input</code> is a string that receives the input:</p>\n\n<pre><code>STDIN.sysread(1000,input)\n</code></pre>\n\n<p>If it reads more than 100 characters it takes more than 0.1 seconds.</p>\n\n<p>I tried it with alternatives such as <code>partialread</code> and nonblocking reading and <code>read</code>, but I didn't find a faster alternative so far.</p>\n\n<p>Do you know any faster possibility to simply read this?</p>\n\n<hr>\n\n<pre><code>t=Time.now\nSTDIN.sysread(1000,input)\nstdin_time=Time.now-t\n</code></pre>\n\n<p><code>stdin_time</code> is bigger than 0.1 <code>if input.length &gt; 100</code></p>\n\n<p>I read mouse movements from terminal within X-Window.</p>\n\n<p>Does <code>sysread</code> wait for more input than available before it finishes execution?</p>\n\n<hr>\n\n<p>Even that doesn't work:</p>\n\n<pre><code>t=Time.now\nThread.new{\n    input=STDIN.sysread(1000)\n}.join(0.001)\nstdin_time=Time.now-t\n</code></pre>\n\n<p><code>stdin_time</code> is still >0.01, just as before.</p>\n\n<hr>\n\n<p>The 0.01 seconds are visible on the screen when moving the mouse. It's not only a theoretical number problem, but it's visible. The problem is definitely there.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "disqus"], "comments": [{"owner": {"reputation": 1847, "user_id": 2611078, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a4d6410b45d0deeeee4a144e75067afc?s=128&d=identicon&r=PG", "display_name": "Julie", "link": "https://stackoverflow.com/users/2611078/julie"}, "edited": false, "score": 0, "creation_date": 1476208875, "post_id": 39983540, "comment_id": 67246033, "body": "does it work when you do <code>gem &#39;refinerycms-disqus&#39;</code> without the version number?"}, {"owner": {"reputation": 25, "user_id": 6722882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-r62G1PEZLq0/AAAAAAAAAAI/AAAAAAAAAds/l8zbkiHXQ7g/photo.jpg?sz=128", "display_name": "iFurniture", "link": "https://stackoverflow.com/users/6722882/ifurniture"}, "reply_to_user": {"reputation": 1847, "user_id": 2611078, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a4d6410b45d0deeeee4a144e75067afc?s=128&d=identicon&r=PG", "display_name": "Julie", "link": "https://stackoverflow.com/users/2611078/julie"}, "edited": false, "score": 0, "creation_date": 1476209054, "post_id": 39983540, "comment_id": 67246149, "body": "It does not work, I tried."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6722882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-r62G1PEZLq0/AAAAAAAAAAI/AAAAAAAAAds/l8zbkiHXQ7g/photo.jpg?sz=128", "display_name": "iFurniture", "link": "https://stackoverflow.com/users/6722882/ifurniture"}, "edited": false, "score": 0, "creation_date": 1476214999, "post_id": 39983842, "comment_id": 67249550, "body": "The error changes for this <code>Could not find gem &#39;refinerycms-core (~&gt; 2.718.0.dev)&#39;, which is required by gem  &#39;refinerycms&#39;, in any of the sources.</code>"}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "reply_to_user": {"reputation": 25, "user_id": 6722882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-r62G1PEZLq0/AAAAAAAAAAI/AAAAAAAAAds/l8zbkiHXQ7g/photo.jpg?sz=128", "display_name": "iFurniture", "link": "https://stackoverflow.com/users/6722882/ifurniture"}, "edited": false, "score": 1, "creation_date": 1476220261, "post_id": 39983842, "comment_id": 67252409, "body": "@iFurniture When using gem sources from git, you often need to manually track down the correct dependency versions from git too. Your life will be much easier if you try to stick to published gems from <a href=\"https://rubygems.org\" rel=\"nofollow noreferrer\">rubygems.org</a>."}, {"owner": {"reputation": 25, "user_id": 6722882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-r62G1PEZLq0/AAAAAAAAAAI/AAAAAAAAAds/l8zbkiHXQ7g/photo.jpg?sz=128", "display_name": "iFurniture", "link": "https://stackoverflow.com/users/6722882/ifurniture"}, "edited": false, "score": 0, "creation_date": 1476222213, "post_id": 39983842, "comment_id": 67253374, "body": "Yeah, you&#39;re right, but the gem &#39;refinerycms-disqus&#39; no appears in rubygems.org."}, {"owner": {"reputation": 1847, "user_id": 2611078, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a4d6410b45d0deeeee4a144e75067afc?s=128&d=identicon&r=PG", "display_name": "Julie", "link": "https://stackoverflow.com/users/2611078/julie"}, "reply_to_user": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1476294724, "post_id": 39983842, "comment_id": 67288301, "body": "agreed with @HolgerJust.  That said, you could try <code>gem &#39;refinerycms-core&#39;, github: &#39;refinery&#47;refinerycms&#39;</code>.  You may need to comment out your &#39;refinerycms-discus&#39; line, run bundle, then add back in &#39;refinerycms-discus&#39;"}], "tags": [], "owner": {"reputation": 1847, "user_id": 2611078, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a4d6410b45d0deeeee4a144e75067afc?s=128&d=identicon&r=PG", "display_name": "Julie", "link": "https://stackoverflow.com/users/2611078/julie"}, "is_accepted": true, "score": 1, "last_activity_date": 1476209387, "creation_date": 1476209387, "answer_id": 39983842, "question_id": 39983540, "link": "https://stackoverflow.com/questions/39983540/could-not-find-gem-refinerycms-disqus-0-0-1-ruby/39983842#39983842", "title": "Could not find gem &#39;refinerycms-disqus (~&gt; 0.0.1) - Ruby", "body": "<p><code>gem 'refinerycms-disqus', github: 'keram/refinerycms-disqus'</code> should do the trick.</p>\n"}], "owner": {"reputation": 25, "user_id": 6722882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-r62G1PEZLq0/AAAAAAAAAAI/AAAAAAAAAds/l8zbkiHXQ7g/photo.jpg?sz=128", "display_name": "iFurniture", "link": "https://stackoverflow.com/users/6722882/ifurniture"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 39983842, "answer_count": 1, "score": 1, "last_activity_date": 1476209387, "creation_date": 1476208329, "question_id": 39983540, "link": "https://stackoverflow.com/questions/39983540/could-not-find-gem-refinerycms-disqus-0-0-1-ruby", "title": "Could not find gem &#39;refinerycms-disqus (~&gt; 0.0.1) - Ruby", "body": "<p>I'm Trying to install disqus comments for RefineryCMS-products, first i'm following the steps of <a href=\"https://github.com/keram/refinerycms-disqus\" rel=\"nofollow\">Github</a> , but to add the line gem <code>'refinerycms-disqus', '~&gt; 0.0.1'</code> to the gemfile and run <code>bundle install</code> I get this error <code>Could not find gem 'refinerycms-disqus (~&gt; 0.0.1) x86-mingw32' in any of the gem</code></p>\n\n<p>The version of my RefineryCMS is 3-0-stable and the version of my rails is 4.2.7.1</p>\n\n<p>This is my gemfile:</p>\n\n<pre><code>source 'https://rubygems.org'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'tzinfo-data', platforms: [:mingw, :mswin, :jruby]\n# Use sqlite3 as the database for Active Record\ngroup :development, :test do\n  gem 'sqlite3'\nend\n# Use SCSS for stylesheets\ngem 'sass-rails', '~&gt; 5.0'\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '&gt;= 1.3.0'\n# Use CoffeeScript for .coffee assets and views\ngem 'coffee-rails', '~&gt; 4.1.0'\n\n# See https://github.com/rails/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails'\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'turbolinks'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~&gt; 2.0'\n# bundle exec rake doc:rails generates the API under doc/api.\ngem 'sdoc', '~&gt; 0.4.0', group: :doc\ngem 'bourbon'\ngem 'neat'\ngem 'meta-tags', '~&gt; 2.0.0'\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~&gt; 3.1.7'\n\n# Use Unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug'\nend\n\ngroup :development do\n  # Access an IRB console on exception pages or by using &lt;%= console %&gt; in views\n  gem 'web-console', '~&gt; 2.0'\n\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\nend\n\ngroup :production do\n  gem 'pg'\n  gem 'rails_12factor'\n  gem 'dragonfly-s3_data_store'\nend\n\ngroup :staging do\n  gem 'rails_12factor'\nend\n\ngem 'refinerycms', git: 'https://github.com/refinery/refinerycms', branch: '3-0-stable'\ngem 'quiet_assets', group: :development\n\n# Add support for searching inside Refinery's admin interface.\ngem 'refinerycms-acts-as-indexed', ['~&gt; 2.0', '&gt;= 2.0.0']\n\n# Add support for Refinery's custom fork of the visual editor WYMeditor.\ngem 'refinerycms-wymeditor', ['~&gt; 1.0', '&gt;= 1.0.6']\n\n# The default authentication adapter\ngem 'refinerycms-authentication-devise', '~&gt; 1.0'\n\ngem 'mailchimp-api', require: 'mailchimp'\ngem 'disqus_rails'\ngem 'figaro'\ngem 'refinerycms-blog', git: 'https://github.com/refinery/refinerycms-blog', branch: 'master'\ngem 'puma'\ngem 'refinerycms-disqus', '~&gt; 0.0.1'\n\ngem 'refinerycms-productos', path: 'vendor/extensions'\n</code></pre>\n\n<p>this is the complete log after run bundle install</p>\n\n<pre><code>C:\\Sites\\ifurniture&gt;bundle install\nYour Gemfile lists the gem rails_12factor (&gt;= 0) more than once.\nYou should probably keep only one of them.\nWhile it's not a problem now, it could cause errors if you change the version of\n just one of them later.\nFetching gem metadata from https://rubygems.org/\nFetching version metadata from https://rubygems.org/\nFetching dependency metadata from https://rubygems.org/\nCould not find gem 'refinerycms-disqus (~&gt; 0.0.1)' in any of the gem sources\nlisted in your Gemfile or available on this machine.\n</code></pre>\n"}, {"tags": ["html", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 53, "user_id": 5651198, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae29d521ffcc15777a13bb50fbca9b22?s=128&d=identicon&r=PG&f=1", "display_name": "Cummings.P", "link": "https://stackoverflow.com/users/5651198/cummings-p"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476209228, "post_id": 39983483, "comment_id": 67246243, "body": "yes, of type post under collections but it still cannot find the action"}, {"owner": {"reputation": 963, "user_id": 790141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/hDQ1m.png?s=128&g=1", "display_name": "Bob Roberts", "link": "https://stackoverflow.com/users/790141/bob-roberts"}, "edited": false, "score": 2, "creation_date": 1476209593, "post_id": 39983483, "comment_id": 67246445, "body": "Did you add that method to your routes file?"}, {"owner": {"reputation": 53, "user_id": 5651198, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae29d521ffcc15777a13bb50fbca9b22?s=128&d=identicon&r=PG&f=1", "display_name": "Cummings.P", "link": "https://stackoverflow.com/users/5651198/cummings-p"}, "reply_to_user": {"reputation": 963, "user_id": 790141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/hDQ1m.png?s=128&g=1", "display_name": "Bob Roberts", "link": "https://stackoverflow.com/users/790141/bob-roberts"}, "edited": false, "score": 0, "creation_date": 1476211144, "post_id": 39983483, "comment_id": 67247350, "body": "meaning in the following way:"}, {"owner": {"reputation": 53, "user_id": 5651198, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae29d521ffcc15777a13bb50fbca9b22?s=128&d=identicon&r=PG&f=1", "display_name": "Cummings.P", "link": "https://stackoverflow.com/users/5651198/cummings-p"}, "reply_to_user": {"reputation": 963, "user_id": 790141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/hDQ1m.png?s=128&g=1", "display_name": "Bob Roberts", "link": "https://stackoverflow.com/users/790141/bob-roberts"}, "edited": false, "score": 0, "creation_date": 1476211154, "post_id": 39983483, "comment_id": 67247360, "body": "collection do  \t\t\tpost &#39;bulk_edit&#39; \t\tend"}, {"owner": {"reputation": 1568, "user_id": 966100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xN0ul.jpg?s=128&g=1", "display_name": "eeeeeean", "link": "https://stackoverflow.com/users/966100/eeeeeean"}, "edited": false, "score": 2, "creation_date": 1476212083, "post_id": 39983483, "comment_id": 67247917, "body": "Check to see if the route looks right: &#39;rake routes | grep bulk_edit&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 5210348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P7AG4.jpg?s=128&g=1", "display_name": "Sergey Burtsev", "link": "https://stackoverflow.com/users/5210348/sergey-burtsev"}, "is_accepted": false, "score": 0, "last_activity_date": 1476228367, "creation_date": 1476228367, "answer_id": 39988278, "question_id": 39983483, "link": "https://stackoverflow.com/questions/39983483/routing-a-button-to-a-customized-controller-method/39988278#39988278", "title": "Routing a button to a customized controller method", "body": "<p>If you define \"post\" method in your routes, you have to use \"post\" method in your <a href=\"http://apidock.com/rails/ActionView/Helpers/UrlHelper/button_to\" rel=\"nofollow\">button_to</a> method as well:</p>\n\n<pre><code>button_to \"Delete\", action: \"bulk_edit\", method: :post\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5651198, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae29d521ffcc15777a13bb50fbca9b22?s=128&d=identicon&r=PG&f=1", "display_name": "Cummings.P", "link": "https://stackoverflow.com/users/5651198/cummings-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476228367, "creation_date": 1476208115, "question_id": 39983483, "link": "https://stackoverflow.com/questions/39983483/routing-a-button-to-a-customized-controller-method", "title": "Routing a button to a customized controller method", "body": "<p>I have the following code that creates a button and routes it to a customized controller method:</p>\n\n<pre><code>button_to \"Delete\", action: \"bulk_edit\"\n</code></pre>\n\n<p>and the params for action and controller are on par with what I want. However, I keep receiving a UrlGenerationError as it says no route matches. This is my controller method: </p>\n\n<pre><code>    def bulk_edit\n    @lead = Lead.new \n\n    print \"+++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\n    +++++++++++++++++++++++++++++++++\"\nend\n</code></pre>\n\n<p>How am I receiving this error when the method exsists? Cheers~</p>\n"}, {"tags": ["json", "ruby", "rubygems", "installation", "uninstallation"], "answers": [{"comments": [{"owner": {"reputation": 2500, "user_id": 1431800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef52069ce1a561e10feef902e0346ae2?s=128&d=identicon&r=PG&f=1", "display_name": "newdark-it", "link": "https://stackoverflow.com/users/1431800/newdark-it"}, "edited": false, "score": 0, "creation_date": 1507731320, "post_id": 39983334, "comment_id": 80328798, "body": "Yeah same thing for me"}], "tags": [], "owner": {"reputation": 879, "user_id": 406470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/07ac9d851e863e74ee0b8cee1af4ae2a?s=128&d=identicon&r=PG", "display_name": "redcodefinal", "link": "https://stackoverflow.com/users/406470/redcodefinal"}, "is_accepted": true, "score": 0, "last_activity_date": 1476207619, "creation_date": 1476207619, "answer_id": 39983334, "question_id": 39983188, "link": "https://stackoverflow.com/questions/39983188/ruby-set-default-package-version/39983334#39983334", "title": "Ruby set default package version", "body": "<p><code>sudo gem uninstall json -v 1.8.1 --force</code></p>\n"}], "owner": {"reputation": 13, "user_id": 6881535, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WAQIbkJwaaQ/AAAAAAAAAAI/AAAAAAAAANc/lHp2sdGclnU/photo.jpg?sz=128", "display_name": "ncvescera", "link": "https://stackoverflow.com/users/6881535/ncvescera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1004, "favorite_count": 0, "accepted_answer_id": 39983334, "answer_count": 1, "score": 0, "last_activity_date": 1476207619, "creation_date": 1476207108, "question_id": 39983188, "link": "https://stackoverflow.com/questions/39983188/ruby-set-default-package-version", "title": "Ruby set default package version", "body": "<p>I have 2 json gem version: 1.8.1 and 1.8.0.<br>\nThe 1.8.1 is the default version and i need to <strong>remove it</strong> and <strong>set</strong> the <strong>1.8.0</strong> as <strong>default version</strong>.</p>\n\n<p>This is the <code>gem list</code> output:</p>\n\n<pre><code>...\njson (default: 1.8.1, 1.8.0)\n...\n</code></pre>\n\n<p>I tryed to execute <code>sudo gem uninstall json -v 1.8.1</code> and the output was:</p>\n\n<pre><code>gem \"json\" cannot be uninstalled because it is a default gem\n</code></pre>\n"}, {"tags": ["json", "ruby", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 14709, "user_id": 372654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a811b1b2ef0e9ff66768a8ccc52a18aa?s=128&d=identicon&r=PG", "display_name": "Halil &#214;zg&#252;r", "link": "https://stackoverflow.com/users/372654/halil-%c3%96zg%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1476207534, "post_id": 39983149, "comment_id": 67245230, "body": "First of all, don&#39;t use GET requests for anything that modifies state, saves something new etc. It&#39;s not semantic and it&#39;s problematic in terms of security regarding CSRF, logs etc. Use POST/PUT/PATCH instead. After that, just try to do it e.g. with a regular <code>create</code> controller action and see what happens. You can come back anytime if you experience a specific problem."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 14709, "user_id": 372654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a811b1b2ef0e9ff66768a8ccc52a18aa?s=128&d=identicon&r=PG", "display_name": "Halil &#214;zg&#252;r", "link": "https://stackoverflow.com/users/372654/halil-%c3%96zg%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476207592, "post_id": 39983149, "comment_id": 67245254, "body": "I&#39;m with @Halil&#214;zg&#252;r here. Do try and use standard REST endpoints unless you have a truly exceptional case. This could be better routed through something like <code>bitcoin_addresses#create</code> via POST."}, {"owner": {"reputation": 87, "user_id": 6822555, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/802243dada912aa76272576de57e9e51?s=128&d=identicon&r=PG&f=1", "display_name": "Morez SA", "link": "https://stackoverflow.com/users/6822555/morez-sa"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476213148, "post_id": 39983149, "comment_id": 67248554, "body": "@tadman I have updated the controller and routing, but I am unfamiliar with saving data from a 3rd party API, can you offer some guidance on the proper syntax to call the API BlockIo.get_new_address and also save it. As I am accustomed to using the model/controller as payment = Payment.new etc... How or were is the API &quot;plugged in&quot; on this method?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476213807, "post_id": 39983149, "comment_id": 67248931, "body": "Normally you create a method that does something like <code>BitcoinAddress.create(address: BlockIo.get_new_addres[&#39;data&#39;][&#39;address&#39;])</code>."}], "answers": [{"tags": [], "owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "is_accepted": true, "score": 1, "last_activity_date": 1476219228, "creation_date": 1476219228, "answer_id": 39986546, "question_id": 39983149, "link": "https://stackoverflow.com/questions/39983149/how-to-automatically-save-data-from-api-ruby-on-rails/39986546#39986546", "title": "How to automatically save data from API - Ruby on Rails", "body": "<p>It looks like <code>BlockIo</code> is already parsing the JSON string for you and returning a regular Ruby hash.</p>\n\n<p>I would try something like this:</p>\n\n<pre><code>new_address = BlockIo.get_new_address\nPayment.create( bitcoin: new_address['data']['address'] )\n</code></pre>\n\n<p>You'll probably want to check the status of the response <code>new_address['status']</code> and make sure that the address is present before saving.  But the code above should get you started.</p>\n\n<p>You'll probably want to do a redirect or something like <code>head :ok</code> after the payment is created.</p>\n\n<p>Note: you do not need to use the <code>@</code> for the variable name.  That is usually only used when you're passing that info to a view.</p>\n"}], "owner": {"reputation": 87, "user_id": 6822555, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/802243dada912aa76272576de57e9e51?s=128&d=identicon&r=PG&f=1", "display_name": "Morez SA", "link": "https://stackoverflow.com/users/6822555/morez-sa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 0, "accepted_answer_id": 39986546, "answer_count": 1, "score": 0, "last_activity_date": 1476219228, "creation_date": 1476206961, "last_edit_date": 1476212769, "question_id": 39983149, "link": "https://stackoverflow.com/questions/39983149/how-to-automatically-save-data-from-api-ruby-on-rails", "title": "How to automatically save data from API - Ruby on Rails", "body": "<p>I have searched all over the internet, however, I cannot seem to get a clear answer on this issue. I am using Block.io API to add Bitcoin payments to my app. I receive a JSON hash which includes a new Bitcoin address for each payment, I can extract the bitcoin address, but I need it to save to my database automatically, when a user accesses a specific page the address will also be generated on that page. I am using Postgresql</p>\n\n<p>The JSON looks like this:</p>\n\n<pre><code>{\"status\"=&gt;\"success\", \"data\"=&gt;{\"network\"=&gt;\"BTCTEST\", \"address\"=&gt;\"2MstFNxtnp3pLLuXUK4Gra5dMcaz132d4dt\", \"available_balance\"=&gt;\"0.01000000\", \"pending_received_balance\"=&gt;\"0.00000000\"}}\n</code></pre>\n\n<p>I have a controller which calls the API to generate the address:</p>\n\n<pre><code>class PaymentsController &lt; ApplicationController\n  def index\n   @new_address = BlockIo.get_new_address\n  end\nend\n</code></pre>\n\n<p>And the bitcoin address is displayed using:</p>\n\n<pre><code>&lt;%= @new_address[\"data\"][\"address\"] %&gt;\n</code></pre>\n\n<p>I am thinking of creating a new function that will save the bitcoin address to the database and map the route to execute this function upon accessing the specific page, something like:</p>\n\n<p>Controller:</p>\n\n<pre><code>class PaymentsController &lt; ApplicationController\n  def create\n   @new_address = BlockIo.get_new_address\n\n ## I need assistance with the rest to auto save\n\n  end\nend\n</code></pre>\n\n<p>routes:</p>\n\n<pre><code>match '/save_btc' =&gt; 'payments#create', via: [:get, :post]\n</code></pre>\n\n<p>when someone opens domain.com/save_btc the bitcoin address needs to be automatically saved to the database.</p>\n\n<p>I have already generated the following migration</p>\n\n<pre><code>rails g model Payment bitcoin:string\n</code></pre>\n\n<p>Any comments or assistance will be greatly appreciated.</p>\n"}, {"tags": ["ruby", "ssl", "rubygems", "ssl-certificate"], "comments": [{"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 1, "creation_date": 1476206215, "post_id": 39982694, "comment_id": 67244454, "body": "Don&#39;t turn it off, just fix the problem <a href=\"http://stackoverflow.com/questions/19150017/ssl-error-when-installing-rubygems-unable-to-pull-data-from-https-rubygems-o\" title=\"ssl error when installing rubygems unable to pull data from https rubygems o\">stackoverflow.com/questions/19150017/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6916855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f3ba06b1669bcd7c5f2d94ce7f1a24?s=128&d=identicon&r=PG&f=1", "display_name": "Otelo", "link": "https://stackoverflow.com/users/6916855/otelo"}, "edited": false, "score": 0, "creation_date": 1476207254, "post_id": 39982930, "comment_id": 67245067, "body": "Thanks for the quick response. I have tried the 2nd link you sent and followed those steps but the link on that page to the new ssl certificate is broken. I tried looking elsewhere for the new certificate but the ones I found seemed to be the same ones I already had in my ssl_certs file."}, {"owner": {"reputation": 3, "user_id": 6916855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f3ba06b1669bcd7c5f2d94ce7f1a24?s=128&d=identicon&r=PG&f=1", "display_name": "Otelo", "link": "https://stackoverflow.com/users/6916855/otelo"}, "edited": false, "score": 0, "creation_date": 1476208675, "post_id": 39982930, "comment_id": 67245908, "body": "your first link led me to to look up windows certificate updates and I found a solution. Thank you!"}, {"owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "reply_to_user": {"reputation": 3, "user_id": 6916855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f3ba06b1669bcd7c5f2d94ce7f1a24?s=128&d=identicon&r=PG&f=1", "display_name": "Otelo", "link": "https://stackoverflow.com/users/6916855/otelo"}, "edited": false, "score": 0, "creation_date": 1476208904, "post_id": 39982930, "comment_id": 67246059, "body": "Glad you got it fixed!  @Otelo can you post the steps you used to fix your problem.  It might help other people in the future.  Make sure to include your operating system."}], "tags": [], "owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "is_accepted": false, "score": 1, "last_activity_date": 1476206102, "creation_date": 1476206102, "answer_id": 39982930, "question_id": 39982694, "link": "https://stackoverflow.com/questions/39982694/how-do-i-turn-on-ssl-certificate-verifiaction-in-ruby-after-turning-it-off-what/39982930#39982930", "title": "How do I turn on SSL certificate verifiaction in Ruby after turning it off? What will happen if I leave it off?", "body": "<p>The point of using SSL is that you know the code is coming from a trusted source and there isn't someone trying to hack your connection and send you malicious code.  While it is probably unlikely that someone is trying to do that to you, why risk it?</p>\n\n<p>There are a number of ways to update your certificates to get rubygems working.  A quick google search gives me these 2 links:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/19150017/ssl-error-when-installing-rubygems-unable-to-pull-data-from-https-rubygems-o\">SSL Error When installing rubygems, Unable to pull data from &#39;https://rubygems.org/</a></li>\n<li><a href=\"https://gist.github.com/luislavena/f064211759ee0f806c88\" rel=\"nofollow\">https://gist.github.com/luislavena/f064211759ee0f806c88</a></li>\n</ul>\n\n<p>For some things in development I would say it's fine to turn off SSL for testing, but for rubygems, you're actually downloading code that you're going to be running on your computer so it would make me uncomfortable to do it, especially when it shouldn't be too hard to fix.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 6916855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f3ba06b1669bcd7c5f2d94ce7f1a24?s=128&d=identicon&r=PG&f=1", "display_name": "Otelo", "link": "https://stackoverflow.com/users/6916855/otelo"}, "is_accepted": true, "score": 0, "last_activity_date": 1476209224, "last_edit_date": 1495540101, "creation_date": 1476208858, "answer_id": 39983696, "question_id": 39982694, "link": "https://stackoverflow.com/questions/39982694/how-do-i-turn-on-ssl-certificate-verifiaction-in-ruby-after-turning-it-off-what/39983696#39983696", "title": "How do I turn on SSL certificate verifiaction in Ruby after turning it off? What will happen if I leave it off?", "body": "<p>From Josh's answer I had already tried using the instructions from:\n<a href=\"https://gist.github.com/luislavena/f064211759ee0f806c88\" rel=\"nofollow noreferrer\">https://gist.github.com/luislavena/f064211759ee0f806c88</a> </p>\n\n<p>but the link to the new trust certificate they provide there is broken. However Josh's first link led me to look up certificate updates for Ruby on Windows and eventually I found this link</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5720484/how-to-solve-certificate-verify-failed-on-windows\">How to solve &quot;certificate verify failed&quot; on Windows?</a></p>\n\n<p>this one fixed my problem. Thanks guys</p>\n\n<p>edit: the only difference is since I have not installed ruby on rails I saved the new certificate under c:\\ruby22\\cacert.pem</p>\n\n<p>Also, I was previously running rubygems 2.4.something but downgraded to 2.2.3 as per the instructions on <a href=\"https://gist.github.com/luislavena/f064211759ee0f806c88\" rel=\"nofollow noreferrer\">https://gist.github.com/luislavena/f064211759ee0f806c88</a> </p>\n\n<p>I wonder if the new certificate would have worked with the 2.4 version of rubygems.</p>\n"}], "owner": {"reputation": 3, "user_id": 6916855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f3ba06b1669bcd7c5f2d94ce7f1a24?s=128&d=identicon&r=PG&f=1", "display_name": "Otelo", "link": "https://stackoverflow.com/users/6916855/otelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 39983696, "answer_count": 2, "score": 0, "last_activity_date": 1476209224, "creation_date": 1476205177, "question_id": 39982694, "link": "https://stackoverflow.com/questions/39982694/how-do-i-turn-on-ssl-certificate-verifiaction-in-ruby-after-turning-it-off-what", "title": "How do I turn on SSL certificate verifiaction in Ruby after turning it off? What will happen if I leave it off?", "body": "<p>I am running Ruby 2.2.5 and RubyGems 2.2.3</p>\n\n<p>I am new to programming and have been learning RubyGems and how to update them. Whenever I try to do anything from the Rubygems servers I get this error :</p>\n\n<pre><code>    ERROR:  Could not find a valid gem 'rspec' (&gt;= 0), here is why:\n          Unable to download data from https://rubygems.org/ - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (https://api.rubygems.org/latest_specs.4.8.gz)\n</code></pre>\n\n<p>I have noticed that alot of people have had this problem and used the a workaround by turning of the SSL verification.</p>\n\n<pre><code>    require 'openssl'\n    OpenSSL::SSL::VERIFY_PEER = OpenSSL::SSL::VERIFY_NONE\n</code></pre>\n\n<p>How dangerous is this workaround and how can I turn it back on?</p>\n"}, {"tags": ["arrays", "ruby", "hash"], "comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 1, "creation_date": 1476202628, "post_id": 39981902, "comment_id": 67242375, "body": "<code>voter_demographics.first[:age].instance_eval { inject(:+) &#47; size }</code>"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476224127, "post_id": 39981902, "comment_id": 67254167, "body": "Welcome to Stack Overflow. While we can emphasize with the task of learning, it&#39;s <i>REALLY</i> important that you try, then try again, and continue until you can&#39;t try any longer when dealing with homework or self-assigned learning. &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;, &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;, \u201c<a href=\"http://meta.stackoverflow.com/q/261592\">How much research effort is expected of Stack Overflow users?</a>\u201d. &quot;Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it.&quot; and <a href=\"http://meta.stackoverflow.com/questions/334822\">meta.stackoverflow.com/questions/334822</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10255, "user_id": 1155142, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c680db41999d478ca34d1a77a470e30d?s=128&d=identicon&r=PG", "display_name": "gabrielhilal", "link": "https://stackoverflow.com/users/1155142/gabrielhilal"}, "is_accepted": false, "score": 0, "last_activity_date": 1476205104, "last_edit_date": 1476205104, "creation_date": 1476204085, "answer_id": 39982370, "question_id": 39981902, "link": "https://stackoverflow.com/questions/39981902/array-of-hashes-problems/39982370#39982370", "title": "Array of hashes problems", "body": "<p>your <code>voter_demographics</code> is an array with only one element</p>\n\n<pre><code>voter_demographics[0]\n=&gt; {:firstname=&gt;[\"Jon\", \"Jane\", \"Sam\", \"Joan\", \"Sam\", \"Mark\", \"Susan\", \"Bill\", \"Doug\", \"Francis\"], :lastname=&gt;[\"Smith\", \"Davies\", \"Farelly\", \"Favreau\", \"McNulty\", \"Minahan\", \"Umani\", \"Perault\", \"Stamper\", \"Underwood\"], :age=&gt;[25, 30, 32, 35, 38, 48, 45, 24, 45, 52], :income=&gt;[50000, 60000, 80000, 65000, 63000, 78000, 75000, 45000, 75000, 100000], :household_size=&gt;[1, 3, 2, 4, 3, 5, 2, 1, 1, 2], :gender=&gt;[\"male\", \"female\", \"unspecified\", \"female\", \"male\", \"male\", \"female\", \"male\", \"male\", \"male\"], :education=&gt;[\"college\", \"high school\", \"college\", \"college\", \"college\", \"high school\", \"college\", \"did not complete high school\", \"college\", \"college\"]}\nvoter_demographics[1]\n=&gt; nil\n</code></pre>\n\n<p>So, let's take the first element and get the age data:</p>\n\n<pre><code>age_data = voter_demographics[0][:age]\n=&gt; [25, 30, 32, 35, 38, 48, 45, 24, 45, 52]\n</code></pre>\n\n<p>Now, we can sum the data</p>\n\n<pre><code>sum = 0\nage_data.each { |e| sum = sum + e }\nsum\n=&gt; 374\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>age_data.inject(:+)\n=&gt; 374\n</code></pre>\n\n<p>You can also get the number of elements</p>\n\n<pre><code>age_data.size\n=&gt; 10\n</code></pre>\n\n<p>Finally</p>\n\n<pre><code>age_data.inject(:+)/age_data.size\n=&gt; 37\n</code></pre>\n\n<p>I hope it helps you understanding it ;)</p>\n"}, {"tags": [], "owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "is_accepted": true, "score": 0, "last_activity_date": 1476207604, "creation_date": 1476207604, "answer_id": 39983326, "question_id": 39981902, "link": "https://stackoverflow.com/questions/39981902/array-of-hashes-problems/39983326#39983326", "title": "Array of hashes problems", "body": "<p>I'm wondering why you have <code>voter_demographics</code> as an array.  If you remove the square brackets then it would just be a hash, like this:</p>\n\n<pre><code>voter_demographics = {\n  :firstname =&gt; [\"Jon\", \"Jane\", \"Sam\", \"Joan\", \"Sam\", \"Mark\", \"Susan\", \"Bill\", \"Doug\", \"Francis\"],\n  :lastname =&gt; [\"Smith\", \"Davies\", \"Farelly\", \"Favreau\", \"McNulty\", \"Minahan\", \"Umani\", \"Perault\", \"Stamper\", \"Underwood\"],\n  :age =&gt; [25, 30, 32, 35, 38, 48, 45, 24, 45, 52],\n  :income =&gt; [50000, 60000, 80000, 65000, 63000, 78000, 75000, 45000, 75000, 100000],\n  :household_size =&gt; [1, 3, 2, 4, 3, 5, 2, 1, 1, 2],\n  :gender =&gt; [\"male\", \"female\", \"unspecified\", \"female\", \"male\", \"male\", \"female\", \"male\", \"male\", \"male\"],\n  :education =&gt; [\"college\", \"high school\", \"college\", \"college\", \"college\", \"high school\", \"college\", \"did not complete high school\", \"college\", \"college\"]\n}\n</code></pre>\n\n<p>Then you can access values in the hash like this:</p>\n\n<pre><code>voter_demographics[:age]\n</code></pre>\n\n<p>And finding your average would work like this:</p>\n\n<pre><code>voter_demographics[:age].inject(:+).to_f / voter_demographics[:age].size\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ages = voter_demographics[:age]\nages.inject(:+).to_f / ages.size\n</code></pre>\n\n<p>The <code>.to_f</code> assumes you want a float number back, so my solutions would give you <strong>37.4</strong> instead of <strong>37</strong></p>\n\n<p>Another solution would be to just use regular variables instead of a hash:</p>\n\n<pre><code>firstnames = [\"Jon\", \"Jane\", \"Sam\", \"Joan\", \"Sam\", \"Mark\", \"Susan\", \"Bill\", \"Doug\", \"Francis\"],\nlastnames = [\"Smith\", \"Davies\", \"Farelly\", \"Favreau\", \"McNulty\", \"Minahan\", \"Umani\", \"Perault\", \"Stamper\", \"Underwood\"],\nages = [25, 30, 32, 35, 38, 48, 45, 24, 45, 52],\nincomes = [50000, 60000, 80000, 65000, 63000, 78000, 75000, 45000, 75000, 100000],\nhousehold_sizes = [1, 3, 2, 4, 3, 5, 2, 1, 1, 2],\ngenders = [\"male\", \"female\", \"unspecified\", \"female\", \"male\", \"male\", \"female\", \"male\", \"male\", \"male\"],\neducations = [\"college\", \"high school\", \"college\", \"college\", \"college\", \"high school\", \"college\", \"did not complete high school\", \"college\", \"college\"]\n</code></pre>\n\n<p>Then this would work:</p>\n\n<pre><code>ages.inject(:+).to_f / ages.size\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1476212350, "last_edit_date": 1476212350, "creation_date": 1476208282, "answer_id": 39983525, "question_id": 39981902, "link": "https://stackoverflow.com/questions/39981902/array-of-hashes-problems/39983525#39983525", "title": "Array of hashes problems", "body": "<pre><code>keys, *data =&lt;&lt;_.split(/\\n/).map { |line| line.split /,\\s+/ }\nFirst Name, Last Name, Age, Income, Household Size, Gender, Education\nJon, Smith, 25, 50000, 1, Male, College\nJane, Davies, 30, 60000, 3, Female, High School\nSam, Farelly, 32, 80000, 2, Unspecified, College\nJoan, Favreau, 35, 65000, 4, Female, College\nSam, McNulty, 38, 63000, 3, Male, College\nMark, Minahan, 48, 78000, 5, Male, High School\nSusan, Umani, 45, 75000, 2, Female, College\nBill, Perault, 24, 45000, 1, Male, Did Not Complete High School\nDoug, Stamper, 45, 75000, 1, Male, College\nFrancis, Underwood, 52, 100000, 2, Male, College\n_\n</code></pre>\n\n<p>We now have the following values for <code>keys</code> and <code>data</code>.</p>\n\n<pre><code>keys\n  #=&gt; [\"First Name\", \"Last Name\", \"Age\", \"Income\", \"Household Size\",\n  #    \"Gender\", \"Education\"] \ndata\n  #=&gt; [[\"Jon\", \"Smith\", \"25\", \"50000\", \"1\", \"Male\", \"College\"],\n  #    [\"Jane\", \"Davies\", \"30\", \"60000\", \"3\", \"Female\", \"High School\"],\n  #    [\"Sam\", \"Farelly\", \"32\", \"80000\", \"2\", \"Unspecified\", \"College\"],\n  #    [\"Joan\", \"Favreau\", \"35\", \"65000\", \"4\", \"Female\", \"College\"],\n  #    [\"Sam\", \"McNulty\", \"38\", \"63000\", \"3\", \"Male\", \"College\"],\n  #    [\"Mark\", \"Minahan\", \"48\", \"78000\", \"5\", \"Male\", \"High School\"],\n  #    [\"Susan\", \"Umani\", \"45\", \"75000\", \"2\", \"Female\", \"College\"],\n  #    [\"Bill\", \"Perault\", \"24\", \"45000\", \"1\", \"Male\", \"Did Not Complete High School\"],\n  #    [\"Doug\", \"Stamper\", \"45\", \"75000\", \"1\", \"Male\", \"College\"],\n  #    [\"Francis\", \"Underwood\", \"52\", \"100000\", \"2\", \"Male\", \"College\"]] \n</code></pre>\n\n<p>Next create the following hash.</p>\n\n<pre><code>h = keys.zip(data.transpose).to_h\n  #=&gt; {\"First Name\"    =&gt;[\"Jon\", \"Jane\", \"Sam\", \"Joan\", \"Sam\", \"Mark\", \"Susan\",\n  #                       \"Bill\", \"Doug\", \"Francis\"],\n  #    \"Last Name\"     =&gt;[\"Smith\", \"Davies\", \"Farelly\", \"Favreau\", \"McNulty\", \"Minahan\",\n  #                       \"Umani\", \"Perault\", \"Stamper\", \"Underwood\"],\n  #    \"Age\"           =&gt;[\"25\", \"30\", \"32\", \"35\", \"38\", \"48\", \"45\", \"24\", \"45\", \"52\"],\n  #    \"Income\"        =&gt;[\"50000\", \"60000\", \"80000\", \"65000\", \"63000\", \"78000\",\n  #                      \"75000\", \"45000\", \"75000\", \"100000\"],\n  #    \"Household Size\"=&gt;[\"1\", \"3\", \"2\", \"4\", \"3\", \"5\", \"2\", \"1\", \"1\", \"2\"],\n  #    \"Gender\"        =&gt;[\"Male\", \"Female\", \"Unspecified\", \"Female\", \"Male\", \"Male\",\n  #                       \"Female\", \"Male\", \"Male\", \"Male\"],\n  #    \"Education\"     =&gt;[\"College\", \"High School\", \"College\", \"College\", \"College\",\n  #                       \"High School\", \"College\", \"Did Not Complete High School\",\n  #                       \"College\", \"College\"]}\n</code></pre>\n\n<p>It is now simple to compute the various statistics.</p>\n\n<pre><code>n = arr.size.to_f\n  #=&gt; 10.0\n\navg_age = h[\"Age\"].map(&amp;:to_i).reduce(:+)/n.to_f\n  #=&gt; 37.4 \navg_income = h[\"Income\"].map(&amp;:to_i).reduce(:+)/n.to_f\n  #=&gt; 69100.0 \navg_hsize = h[\"Household Size\"].map(&amp;:to_i).reduce(:+)/n.to_f\n  #=&gt; 2.4 \npct_female= 100*h[\"Gender\"].count(\"Female\")/n.to_f\n  #=&gt; 30.0\n</code></pre>\n\n<p>and so on.</p>\n\n<p><em>Computing other statistics</em></p>\n\n<p>Now suppose you wished to compute statistics that involved multiple keys, such as the average age of females. The easiest way to do that (as well as computing the simple averages and percentages) is to put the data in a database and use SQL queries. However, we can also to that by first creating an array of hashes.</p>\n\n<pre><code>arr = data.map { |row| keys.zip(row).to_h }\n  #=&gt; [{\"First Name\"=&gt;\"Jon\", \"Last Name\"=&gt;\"Smith\", \"Age\"=&gt;\"25\", \"Income\"=&gt;\"50000\",\n  #     \"Household Size\"=&gt;\"1\", \"Gender\"=&gt;\"Male\", \"Education\"=&gt;\"College\"},\n  #    {\"First Name\"=&gt;\"Jane\", \"Last Name\"=&gt;\"Davies\", \"Age\"=&gt;\"30\", \"Income\"=&gt;\"60000\",\n  #     \"Household Size\"=&gt;\"3\", \"Gender\"=&gt;\"Female\", \"Education\"=&gt;\"High School\"},\n  #    {\"First Name\"=&gt;\"Sam\", \"Last Name\"=&gt;\"Farelly\", \"Age\"=&gt;\"32\", \"Income\"=&gt;\"80000\",\n  #     \"Household Size\"=&gt;\"2\", \"Gender\"=&gt;\"Unspecified\", \"Education\"=&gt;\"College\"},\n  #    {\"First Name\"=&gt;\"Joan\", \"Last Name\"=&gt;\"Favreau\", \"Age\"=&gt;\"35\", \"Income\"=&gt;\"65000\",\n  #     \"Household Size\"=&gt;\"4\", \"Gender\"=&gt;\"Female\", \"Education\"=&gt;\"College\"},\n  #    {\"First Name\"=&gt;\"Sam\", \"Last Name\"=&gt;\"McNulty\", \"Age\"=&gt;\"38\", \"Income\"=&gt;\"63000\",\n  #     \"Household Size\"=&gt;\"3\", \"Gender\"=&gt;\"Male\", \"Education\"=&gt;\"College\"},\n  #    {\"First Name\"=&gt;\"Mark\", \"Last Name\"=&gt;\"Minahan\", \"Age\"=&gt;\"48\", \"Income\"=&gt;\"78000\",\n  #     \"Household Size\"=&gt;\"5\", \"Gender\"=&gt;\"Male\", \"Education\"=&gt;\"High School\"},\n  #    {\"First Name\"=&gt;\"Susan\", \"Last Name\"=&gt;\"Umani\", \"Age\"=&gt;\"45\", \"Income\"=&gt;\"75000\",\n  #     \"Household Size\"=&gt;\"2\", \"Gender\"=&gt;\"Female\", \"Education\"=&gt;\"College\"},\n  #    {\"First Name\"=&gt;\"Bill\", \"Last Name\"=&gt;\"Perault\", \"Age\"=&gt;\"24\", \"Income\"=&gt;\"45000\",\n  #     \"Household Size\"=&gt;\"1\", \"Gender\"=&gt;\"Male\",\n  #     \"Education\"=&gt;\"Did Not Complete High School\"},\n  #    {\"First Name\"=&gt;\"Doug\", \"Last Name\"=&gt;\"Stamper\", \"Age\"=&gt;\"45\", \"Income\"=&gt;\"75000\",\n  #     \"Household Size\"=&gt;\"1\", \"Gender\"=&gt;\"Male\", \"Education\"=&gt;\"College\"},\n  #    {\"First Name\"=&gt;\"Francis\", \"Last Name\"=&gt;\"Underwood\", \"Age\"=&gt;\"52\",\n  #     \"Income\"=&gt;\"100000\", \"Household Size\"=&gt;\"2\", \"Gender\"=&gt;\"Male\",\n  #     \"Education\"=&gt;\"College\"}]\n</code></pre>\n\n<p>Then to compute the average age of females, create an array of ages for females, then sum its elements and divide that sum by the size of the array.</p>\n\n<pre><code>a = arr.each_with_object([]) { |h,a| a &lt;&lt; h[\"Age\"].to_i if h[\"Gender\"]==\"Female\" }\n  #=&gt; [30, 35, 45]\na.empty? ? 0.0 : a.reduce(:+)/a.size.to_f\n  #=&gt; 36.666666666666664\n</code></pre>\n\n<p>Other calculations are similar.</p>\n"}, {"tags": [], "owner": {"reputation": 6687, "user_id": 6496010, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4d564ef7fd53e4e76e5e520945dcc4c1?s=128&d=identicon&r=PG", "display_name": "davidhu", "link": "https://stackoverflow.com/users/6496010/davidhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1476208339, "creation_date": 1476208339, "answer_id": 39983543, "question_id": 39981902, "link": "https://stackoverflow.com/questions/39981902/array-of-hashes-problems/39983543#39983543", "title": "Array of hashes problems", "body": "<p>To answer the first part of your question, how to organize your data into <code>voter_demographics</code>, you can use a csv parser in ruby. So, save the data in a <code>file.csv</code> format, and parse it. </p>\n\n<pre><code>require 'csv'\n\ncsv_data = CSV.parse(File.read('file1.csv'), headers: true, header_converters: :symbol)\n\ndata_array = csv_data.map {|arr| arr.to_h}\n</code></pre>\n\n<p>Now, we have an array of hashes like </p>\n\n<pre><code>[{:first_name=&gt;\"Jon\", :last_name=&gt;\" Smith\", :age=&gt;\" 25\", :income=&gt;\" 50000\", :household_size=&gt;\" 1\", :gender=&gt;\" Male\", :education=&gt;\" College\"},\n{:first_name=&gt;\"Jane\", :last_name=&gt;\" Davies\", :age=&gt;\" 30\", :income=&gt;\" 60000\", :household_size=&gt;\" 3\", :gender=&gt;\" Female\", :education=&gt;\" High School\"},\n...]\n</code></pre>\n\n<p>Now, we can write something to format this data into your desired format. </p>\n\n<pre><code>result = {}\n\ndata_array[0].each do |k, v|\n    result[k] = data_array.map {|hash| hash[k].strip }   \nend\n</code></pre>\n\n<p>The other answers already answered the second part of your question, so I won't do it again here. </p>\n"}], "owner": {"reputation": 17, "user_id": 6951619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a535e7f4917f9f230507b49da7dbbb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam. G ", "link": "https://stackoverflow.com/users/6951619/sam-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 39983326, "answer_count": 4, "score": -1, "last_activity_date": 1476212350, "creation_date": 1476202440, "last_edit_date": 1476202744, "question_id": 39981902, "link": "https://stackoverflow.com/questions/39981902/array-of-hashes-problems", "title": "Array of hashes problems", "body": "<p>If I have the following data</p>\n\n<pre><code>First Name =&gt;, Last Name, Age, Income, Household Size, Gender, Education\nJon, Smith, 25, 50000, 1, Male, College\nJane, Davies, 30, 60000, 3, Female, High School\nSam, Farelly, 32, 80000, 2, Unspecified, College\nJoan, Favreau, 35, 65000, 4, Female, College\nSam, McNulty, 38, 63000, 3, Male, College\nMark, Minahan, 48, 78000, 5, Male, High School\nSusan, Umani, 45, 75000, 2, Female, College\nBill, Perault, 24, 45000, 1, Male, Did Not Complete High School\nDoug, Stamper, 45, 75000, 1, Male, College\nFrancis, Underwood, 52, 100000, 2, Male, College\n</code></pre>\n\n<p>and I want to create an array of hashes to answer the following questions\n Average age\n Average income \nAverage household size\n Female Percentage\n Male Percentage\n Unspecified Gender Percentage\n Percent of those who obtained a college education level Percent of those who obtained a high school education level\nPercent of those that did not finish high school</p>\n\n<p>Would I be able to organize  the data in this way </p>\n\n<pre><code>voter_demographics = [\n  {\n    :firstname =&gt; [\"Jon\", \"Jane\", \"Sam\", \"Joan\", \"Sam\", \"Mark\", \"Susan\", \"Bill\", \"Doug\", \"Francis\"],\n    :lastname =&gt; [\"Smith\", \"Davies\", \"Farelly\", \"Favreau\", \"McNulty\", \"Minahan\", \"Umani\", \"Perault\", \"Stamper\", \"Underwood\"],\n    :age =&gt; [25, 30, 32, 35, 38, 48, 45, 24, 45, 52],\n    :income =&gt; [50000, 60000, 80000, 65000, 63000, 78000, 75000, 45000, 75000, 100000],\n    :household_size =&gt; [1, 3, 2, 4, 3, 5, 2, 1, 1, 2],\n    :gender =&gt; [\"male\", \"female\", \"unspecified\", \"female\", \"male\", \"male\", \"female\", \"male\", \"male\", \"male\"],\n    :education =&gt; [\"college\", \"high school\", \"college\", \"college\", \"college\", \"high school\", \"college\", \"did not complete high school\", \"college\", \"college\"]\n  }\n]\n</code></pre>\n\n<p>If someone could just help me get started on question one(Average age ). Im still struggling on hashes and how to call out each data.</p>\n\n<pre><code>For the first question ; Find Average age. Would the following work.\nsum = 0\nvoter_demographics.each do |:age|\nsum = sum + :age \naverage = sum / :age.length\nputs \"The average is #{average}\". \n</code></pre>\n\n<p>Im stuck on this. \nAnd if there are any resources for beginners you could recommend on hashes and array of hashes that would be great!</p>\n"}, {"tags": ["ruby", "date", "comparison", "monthcalendar"], "comments": [{"owner": {"reputation": 9084, "user_id": 1020958, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3449339f1e3c04da6e4d08ad13a3d593?s=128&d=identicon&r=PG", "display_name": "bjhaid", "link": "https://stackoverflow.com/users/1020958/bjhaid"}, "edited": false, "score": 1, "creation_date": 1476200608, "post_id": 39981279, "comment_id": 67241058, "body": "Read this <a href=\"https://ruby-doc.org/core-2.2.0/Time.html\" rel=\"nofollow noreferrer\">ruby-doc.org/core-2.2.0/Time.html</a> and come back if you still have questions"}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1476201926, "post_id": 39981279, "comment_id": 67241907, "body": "Are you storing your month-year pairs in a string, array or something else??"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1476203863, "post_id": 39981279, "comment_id": 67243137, "body": "Welcome to Stack Overflow. What did you try? Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; including the linked pages, and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot; along with \u201c<a href=\"http://meta.stackoverflow.com/q/261592\">How much research effort is expected of Stack Overflow users?</a>\u201d. Without evidence of your effort toward solving this it looks like you want us to do it for you."}], "answers": [{"comments": [{"owner": {"reputation": 7433, "user_id": 423384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00ee8458992eaf37c0562b306ff8ed7?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/423384/josh"}, "edited": false, "score": 1, "creation_date": 1476207737, "post_id": 39981664, "comment_id": 67245343, "body": "You can also use <code>Date.new</code> but the idea is the same"}], "tags": [], "owner": {"reputation": 10255, "user_id": 1155142, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c680db41999d478ca34d1a77a470e30d?s=128&d=identicon&r=PG", "display_name": "gabrielhilal", "link": "https://stackoverflow.com/users/1155142/gabrielhilal"}, "is_accepted": true, "score": 2, "last_activity_date": 1476201646, "creation_date": 1476201646, "answer_id": 39981664, "question_id": 39981279, "link": "https://stackoverflow.com/questions/39981279/how-do-i-compare-month-year-combinations-in-ruby/39981664#39981664", "title": "How do I compare month-year combinations in Ruby?", "body": "<pre><code>month1, month2, year1, year2 = 12, 1, 2016, 2017\n=&gt; [12, 1, 2016, 2017]\nTime.new(year1, month1) &gt;= Time.new(year2, month2)\n=&gt; false\nTime.new(year2, month2) &gt;= Time.new(year1, month1)\n=&gt; true\n</code></pre>\n\n<p>reference: <a href=\"https://ruby-doc.org/core-2.2.0/Time.html#class-Time-label-Creating+a+new+Time+instance\" rel=\"nofollow\">https://ruby-doc.org/core-2.2.0/Time.html#class-Time-label-Creating+a+new+Time+instance</a></p>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1476211706, "last_edit_date": 1476211706, "creation_date": 1476211306, "answer_id": 39984434, "question_id": 39981279, "link": "https://stackoverflow.com/questions/39981279/how-do-i-compare-month-year-combinations-in-ruby/39984434#39984434", "title": "How do I compare month-year combinations in Ruby?", "body": "<p>It's pretty easy and there's no need to create date or time objects.</p>\n\n<pre><code>def first_smaller?(ym1, ym2)\n  (ym1 &lt;=&gt; ym2) == -1\nend\n\nfirst_smaller? [2016,12], [2017,1]\n  #=&gt; true\nfirst_smaller? [2017,1], [2016,12]\n  #=&gt; false\nfirst_smaller? [2017,1], [2017,1]\n  #=&gt; false\n</code></pre>\n\n<p>See the third paragraph of the doc for <a href=\"http://ruby-doc.org/core-2.3.0/Array.html#method-i-3C-3D-3E\" rel=\"nofollow\">Array#&lt;=></a> to see how Ruby orders arrays.</p>\n\n<p>If you also wish to know if the two arrays are equal, you could write something like the following:</p>\n\n<pre><code>def ordering(ym1, ym2)\n  case ym1 &lt;=&gt; ym2\nend\n</code></pre>\n\n<p>which returns <code>-1</code> if <code>ym1</code> is smaller, <code>+1</code> if <code>ym2</code> is smaller or <code>0</code> if the arrays are equal.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6447029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "accepted_answer_id": 39981664, "answer_count": 2, "score": 0, "last_activity_date": 1476211706, "creation_date": 1476200539, "last_edit_date": 1476201263, "question_id": 39981279, "link": "https://stackoverflow.com/questions/39981279/how-do-i-compare-month-year-combinations-in-ruby", "title": "How do I compare month-year combinations in Ruby?", "body": "<p>I\u2019m using Rails 4.2.7.  I have two pairs of numbers \u2026</p>\n\n<pre><code>month1   # A number between 1 and 12\nyear1    # a four digit year\nmonth2   # A number between 1 and 12\nyear2    # A four digit year\n</code></pre>\n\n<p>How do I write a comparison expression to determine if the \u201cmonth2-year2\u201d combination is greater than or equal to the \u201cmonth1-year1\u201d combination?  For instance if month2 = 1 and year2 = 2017 and month1 = 12 and year1 = 2016, the month2-year2 combination is greater than the month1-year1 combination.</p>\n"}, {"tags": ["javascript", "jquery", "ruby-on-rails", "ruby", "frontend"], "comments": [{"owner": {"reputation": 649, "user_id": 4982550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKiTL.jpg?s=128&g=1", "display_name": "Sam5487", "link": "https://stackoverflow.com/users/4982550/sam5487"}, "edited": false, "score": 1, "creation_date": 1476201142, "post_id": 39981197, "comment_id": 67241432, "body": "This would be a great question for the Code Review community :)"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1476203960, "post_id": 39981197, "comment_id": 67243206, "body": "Read the FAQ on <a href=\"https://codereview.stackexchange.com\">Code Review</a> and see if your question fits there. Asking for &quot;good practice&quot; on Stack Overflow is not exactly on topic."}, {"owner": {"reputation": 3832, "user_id": 136508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391f9b787cdc12aa2c179713f5103e3a?s=128&d=identicon&r=PG", "display_name": "ilan berci", "link": "https://stackoverflow.com/users/136508/ilan-berci"}, "edited": false, "score": 1, "creation_date": 1476204084, "post_id": 39981197, "comment_id": 67243263, "body": "Your solution is totally fine in my book.."}, {"owner": {"reputation": 483, "user_id": 1301037, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2eb1b2da59467d61d074f16e20a93af7?s=128&d=identicon&r=PG", "display_name": "user1301037", "link": "https://stackoverflow.com/users/1301037/user1301037"}, "edited": false, "score": 0, "creation_date": 1476208612, "post_id": 39981197, "comment_id": 67245858, "body": "Thank You guys !!  Sorry for the question at the wrong place. I didn&#39;t know the Code Review.  I posted there. Please, anyone can close the question?"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1476226477, "post_id": 39981197, "comment_id": 67254911, "body": "You can delete the question yourself. I would use two columns or the Range datatype in Postgresql for this as it will be very difficult to query this column."}], "owner": {"reputation": 483, "user_id": 1301037, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2eb1b2da59467d61d074f16e20a93af7?s=128&d=identicon&r=PG", "display_name": "user1301037", "link": "https://stackoverflow.com/users/1301037/user1301037"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476222039, "creation_date": 1476200311, "last_edit_date": 1476222039, "question_id": 39981197, "link": "https://stackoverflow.com/questions/39981197/alternative-price-rating-approach", "title": "Alternative price rating approach", "body": "<p>I'm pretty new to web development and I don't know if my solution it is O.K according to the best practices, considering performance and clean code.</p>\n\n<p>I have a Merchant model that belongs to a Price model.</p>\n\n<p>Price table:</p>\n\n<pre><code>create_table \"prices\", force: :cascade do |t|\n  t.string   \"price_range\"\n  t.integer  \"percentile\"\n  t.datetime \"created_at\",  null: false\n  t.datetime \"updated_at\",  null: false\nend\n</code></pre>\n\n<p>The current values inside the table:</p>\n\n\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>**price_range**    **percentile **\nUp to $20.00            20\n$20.01 to $40.00        40\n$40.01 to $60.00        60\n$60.01 to $80.00        80\nMore than $80.00       100\n</code></pre>\n</blockquote>\n\n<p>To show this at my view I'm using:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"price-ratings\"&gt;\n  &lt;div class=\"empty-prices\"&gt;&lt;/div&gt;\n  &lt;div class=\"full-prices\" style= width:\"&lt;%= \"#{@merchant.price.percentile}%\" %&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>According to the width value the dollar signals will be colored.</p>\n\n<p><a href=\"https://jsfiddle.net/pknoll/dxdf8whv/\" rel=\"nofollow\">jsFiddle</a></p>\n\n<p>I'm not sure about that approach. Anyone recommends a finest solution to achieve the same or that is OK?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "argument-error"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1476204542, "post_id": 39980683, "comment_id": 67243503, "body": "I&#39;d recommend setting your editor to use spaces for indentation, rather than tabs. It&#39;s idiomatic in the Ruby community and will make your life easier in the long run."}], "answers": [{"comments": [{"owner": {"reputation": 767, "user_id": 6893534, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/udUvu.jpg?s=128&g=1", "display_name": "Slowboy", "link": "https://stackoverflow.com/users/6893534/slowboy"}, "edited": false, "score": 0, "creation_date": 1476199126, "post_id": 39980739, "comment_id": 67240087, "body": "Of course, that is probably it, I&#180;ll check it out, thanks"}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": true, "score": 5, "last_activity_date": 1476199064, "creation_date": 1476199064, "answer_id": 39980739, "question_id": 39980683, "link": "https://stackoverflow.com/questions/39980683/how-to-fix-wrong-number-of-arguments-1-for-0-in-order-form/39980739#39980739", "title": "How to fix &#39;wrong number of arguments (1 for 0)&#39; in order_form", "body": "<p>I fear <code>send</code> is not a lucky name for an identifier because the <code>send</code> method.</p>\n\n<p><a href=\"http://ruby-doc.org/core-2.3.1/Object.html#method-i-send\">http://ruby-doc.org/core-2.3.1/Object.html#method-i-send</a></p>\n"}], "owner": {"reputation": 767, "user_id": 6893534, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/udUvu.jpg?s=128&g=1", "display_name": "Slowboy", "link": "https://stackoverflow.com/users/6893534/slowboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 39980739, "answer_count": 1, "score": 0, "last_activity_date": 1476204472, "creation_date": 1476198917, "last_edit_date": 1476204472, "question_id": 39980683, "link": "https://stackoverflow.com/questions/39980683/how-to-fix-wrong-number-of-arguments-1-for-0-in-order-form", "title": "How to fix &#39;wrong number of arguments (1 for 0)&#39; in order_form", "body": "<p>My app was working perfectly an hour ago, then I added two columns, <code>:pick_up</code> and <code>:send</code> to the 'orders' table, and after that I got this error </p>\n\n<pre><code>wrong number of arguments (1 for 0)\n</code></pre>\n\n<p>I don't see why that should be causing this error though.</p>\n\n<p>Here is orders_controller.rb:</p>\n\n<pre><code>class OrdersController &lt; ApplicationController\n\n  include CurrentCart\n  before_action :set_cart, only: [:new, :create]\n  before_action :set_order, only: [:show, :edit, :destroy]\n\n  def index\n    @orders = Order.all? \n  end\n\n  def new\n    @images  = [\"1.jpg\", \"2.jpg\", \"3.jpg\", \"4.jpg\", \"5.jpg\"]\n    @random_no = rand(5)\n    @random_image = @images[@random_no]\n\n    if @cart.product_items.empty?\n      redirect_to root_url, notice: 'Your Cart is Empty'\n      return\n\n    end\n    @order = Order.new\n    @client_token = Braintree::ClientToken.generate\n  end\n\n  def create\n    @order = Order.new(order_params)\n    if @order.save\n      charge\n      if @result.success?\n        @order.add_product_items_from_cart(@cart)\n      Cart.destroy(session[:cart_id])\n      session[:cart_id] = nil\n      OrderNotifier.received(@order).deliver \n      redirect_to root_url, notice: 'Thank You for Your Order'\n      else\n        flash[:error] = 'Please Check Your Cart'\n        redirect_to root_url, alert: @result.message\n        @order.destroy\n      end\n    else\n      @client_token = Braintree::ClientToken.generate\n      render :new\n    end\n  end\n\n\n  def show\n\n  end\n\n\n  def destroy\n    @order.destroy\n    redirect_to root_url, notice: 'Order deleted'\n  end\n\n  private\n\n  def set_order\n    @order = Order.find(params[:id])\n  end\n\n  def order_params\n    params.require(:order).permit(:name, :email, :address, :city, :country, :pick_up, :send)\n  end\n\n  def charge\n    @result = Braintree::Transaction.sale(\n        amount: @cart.total_price_usd,\n        payment_method_nonce: params[:payment_method_nonce] )\n  end\n\nend\n</code></pre>\n\n<p>This is _form.html.erb for the orders:</p>\n\n<pre><code>&lt;%= form_for @order do |f| %&gt;\n  &lt;%= render 'msg' %&gt;\n\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"col-md-10\"&gt;\n      &lt;h3&gt;Please Enter Your Details&lt;/h3&gt;\n    &lt;/div&gt;\n\n\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-10\"&gt;\n      &lt;%= f.label :name %&gt;\n      &lt;%= f.text_field :name, size: 40, class: 'form-control' %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;  \n\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-10\"&gt;\n      &lt;%= f.label :email%&gt;\n      &lt;%= f.email_field :email, size: 40, class: 'form-control' %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;  \n\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-10\"&gt;\n      &lt;%= f.label :address %&gt;\n      &lt;%= f.text_area :address, cols: 40, class: 'form-control' %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;  \n\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-10\"&gt;\n      &lt;%= f.label :city %&gt;\n      &lt;%= f.text_field :city, size: 40, class: 'form-control' %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;  \n\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-5\"&gt;\n      &lt;%= f.label :country %&gt;\n      &lt;%= f.country_select :country, { priority_countries: [ \"IS\", \"US\", \"DE\", \"ES\", \"PT\" ]}, { class: \"form-control\" }%&gt;\n    &lt;/div&gt;\n\n\n  &lt;/div&gt;  \n\n\n  &lt;div class=\"form-group\"&gt;\n\n    &lt;div id=\"payment-form\"&gt;&lt;/div&gt;\n\n    &lt;div class=\"col-md-10\"&gt;\n      &lt;br&gt;\n      &lt;%= f.submit 'Place Order', class: 'buttons' %&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;  \n\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Here is the order part of schema.rb:</p>\n\n<pre><code>create_table \"orders\", force: :cascade do |t|\n  t.string   \"name\"\n  t.string   \"email\"\n  t.text     \"address\"\n  t.string   \"city\"\n  t.string   \"country\"\n  t.datetime \"created_at\",                 null: false\n  t.datetime \"updated_at\",                 null: false\n  t.boolean  \"shipped\",    default: false\n  t.string   \"pick_up\"\n  t.string   \"send\"\nend\n</code></pre>\n"}, {"tags": ["ruby", "pg"], "comments": [{"owner": {"reputation": 500, "user_id": 3126291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8f4e5aa2787c65782cf359db90a24a9c?s=128&d=identicon&r=PG", "display_name": "suyesh", "link": "https://stackoverflow.com/users/3126291/suyesh"}, "edited": false, "score": 0, "creation_date": 1476198546, "post_id": 39980397, "comment_id": 67239694, "body": "Also got it working by removing port. weird. but now i am getting output like such &quot;#&lt;PG::Result:0x007f9e8daa2598&gt;&quot; i need counts when i send count method on the object it give me one, thats not correct."}, {"owner": {"reputation": 1116, "user_id": 4122847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Bhoo3PIj7w/AAAAAAAAAAI/AAAAAAAAAF4/OEnQcnM3iI0/photo.jpg?sz=128", "display_name": "Abdoo Dev", "link": "https://stackoverflow.com/users/4122847/abdoo-dev"}, "edited": false, "score": 0, "creation_date": 1476198806, "post_id": 39980397, "comment_id": 67239895, "body": "try <code>orders.values</code>"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1476204698, "post_id": 39980397, "comment_id": 67243600, "body": "Rather than talk directly to a DBM, it&#39;s highly recommended to take advantage of an ORM. I like Sequel, which is developed first for PostgreSQL, but Active Record is very capable. The advantage to an ORM is it makes it very easy to move between DBMs without having to rewrite your code or queries. Modern ORMs generate excellent queries."}], "owner": {"reputation": 500, "user_id": 3126291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8f4e5aa2787c65782cf359db90a24a9c?s=128&d=identicon&r=PG", "display_name": "suyesh", "link": "https://stackoverflow.com/users/3126291/suyesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1477327820, "answer_count": 0, "score": 1, "last_activity_date": 1476200141, "creation_date": 1476198181, "question_id": 39980397, "link": "https://stackoverflow.com/questions/39980397/not-connecting-to-pg-while-running-from-ruby-script", "closed_reason": "Duplicate", "title": "not connecting to pg while running from ruby script", "body": "<p>I am trying to connect to pg like such </p>\n\n<pre><code>require 'pg'\n\ndb1_params = {\n  host: 'DBHOST',\n  dbname: 'DBNAME',\n  user: 'DBUSER',\n  password: 'DBPASSWORD',\n  port: 5432\n}\n\ndb1 = PG::Connection.new(db1_params)\n\norders = db1.exec_params('SELECT count(*) from orders')\n\nputs orders\n</code></pre>\n\n<p>But i am getting `initialize': could not connect to server: Operation timed out (PG::ConnectionBad) error. My main goal is to initialize db1 and db2 and count orders rows on both and match the total. Is there any better way of achieving this? Its not just one table, there are 150 tables and i need to count rows on all tables on both db and match the results. </p>\n"}, {"tags": ["ruby", "twitter", "rubygems"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2487532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402cbc888dfefe44cb7d36e72a604788?s=128&d=identicon&r=PG", "display_name": "Manateeforme", "link": "https://stackoverflow.com/users/2487532/manateeforme"}, "edited": false, "score": 0, "creation_date": 1476328163, "post_id": 39981737, "comment_id": 67301166, "body": "Didn&#39;t help I think I might have some mismatched Deps."}, {"owner": {"reputation": 33, "user_id": 2487532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402cbc888dfefe44cb7d36e72a604788?s=128&d=identicon&r=PG", "display_name": "Manateeforme", "link": "https://stackoverflow.com/users/2487532/manateeforme"}, "edited": false, "score": 0, "creation_date": 1476328206, "post_id": 39981737, "comment_id": 67301180, "body": "Didn&#39;t mean to submit that last comment. Checking out the logs on my console I&#39;ve got this.  /Users/elizabethbartscherer/.rvm/gems/ruby-2.2.1/gems/twitte&zwnj;&#8203;r-4.8.1/lib/twitter/&zwnj;&#8203;cursor.rb:51: warning: circular argument reference - collection Faraday::Builder is now Faraday::RackBuilder."}], "tags": [], "owner": {"reputation": 1050, "user_id": 260670, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b5fdc7d34f3ec9b11a13d10fc548fdd5?s=128&d=identicon&r=PG&f=1", "display_name": "Midwire", "link": "https://stackoverflow.com/users/260670/midwire"}, "is_accepted": false, "score": 0, "last_activity_date": 1476202180, "last_edit_date": 1476202180, "creation_date": 1476201873, "answer_id": 39981737, "question_id": 39980317, "link": "https://stackoverflow.com/questions/39980317/uninitialized-constant-twitterrest-nameerror/39981737#39981737", "title": "uninitialized constant Twitter::REST (NameError)", "body": "<p>Recommended way is to use <a href=\"https://bundler.io/\" rel=\"nofollow\">Bundler</a> by setting up a <code>Gemfile</code>, in the project directory, as follows:</p>\n\n<pre><code>source 'https://rubygems.org'\n\ngem 'twitter'\ngem 'json'\n</code></pre>\n\n<p>Then run <code>bundle install</code>.</p>\n\n<p>In your <code>twitterFeed.rb</code> file add this to the top of the file, to look like this:</p>\n\n<pre><code>require 'rubygems'\nrequire 'bundler/setup'\n\nrequire 'twitter'\nrequire 'json'\n\nclient = Twitter::REST::Client.new do |config|\n config.consumer_key = ENV['TWITTER_CONSUMER_KEY']\n config.consumer_secret = ENV['TWITTER_CONSUMER_SECRET']\n config.access_token = ENV['TWITTER_ACCESS_TOKEN']\n config.access_token_secret = ENV['TWITTER_ACCESS_TOKEN_SECRET']\nend\n</code></pre>\n\n<p>Then try running your script again: <code>ruby twitterFeed.rb</code></p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 2487532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402cbc888dfefe44cb7d36e72a604788?s=128&d=identicon&r=PG", "display_name": "Manateeforme", "link": "https://stackoverflow.com/users/2487532/manateeforme"}, "is_accepted": false, "score": 0, "last_activity_date": 1476396175, "creation_date": 1476396175, "answer_id": 40031768, "question_id": 39980317, "link": "https://stackoverflow.com/questions/39980317/uninitialized-constant-twitterrest-nameerror/40031768#40031768", "title": "uninitialized constant Twitter::REST (NameError)", "body": "<p>I resolved the issue. I didn't realize that when using bundler it creates that gem.lock file and I managed messed up my dependencies. remove the file and reinstalling fixed the issue.</p>\n"}], "owner": {"reputation": 33, "user_id": 2487532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402cbc888dfefe44cb7d36e72a604788?s=128&d=identicon&r=PG", "display_name": "Manateeforme", "link": "https://stackoverflow.com/users/2487532/manateeforme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1018, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476396175, "creation_date": 1476197948, "last_edit_date": 1495541791, "question_id": 39980317, "link": "https://stackoverflow.com/questions/39980317/uninitialized-constant-twitterrest-nameerror", "title": "uninitialized constant Twitter::REST (NameError)", "body": "<p>So I'm getting an uninitialized constant error when trying to run this code:</p>\n\n<pre><code>require 'twitter'\nrequire 'json'\n\nclient = Twitter::REST::Client.new do |config|\n config.consumer_key = ENV['TWITTER_CONSUMER_KEY']\n config.consumer_secret = ENV['TWITTER_CONSUMER_SECRET']\n config.access_token = ENV['TWITTER_ACCESS_TOKEN']\n config.access_token_secret = ENV['TWITTER_ACCESS_TOKEN_SECRET']\nend\n</code></pre>\n\n<p>I took a look around and found <a href=\"https://stackoverflow.com/questions/13285495/uninitialized-constant-twitter-nameerror\">this issue</a>, but it doesn't seem to apply as my file name is twitterFeed.rb. Then I thought it was maybe some mismatched versioning with the gem. So I ran cleanup, but then it told me I had missing gems and it reinstalled an older version of the twitter gem.\nso I've got twitter (5.16.0, 4.8.1) running. Not sure exactly where to go from here to figure out why Twitter::REST is uninitialized.</p>\n\n<p>Any insight would be greatly appreciated. </p>\n\n<p>EDIT:\nAfter some reassessment I might have mismatch dependancies.</p>\n\n<p>I get this on my console: \n/Users/elizabethbartscherer/.rvm/gems/ruby-2.2.1/gems/twitter-4.8.1/lib/twitter/cursor.rb:51: warning: circular argument reference - collection\nFaraday::Builder is now Faraday::RackBuilder. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "configuration"], "comments": [{"owner": {"reputation": 14709, "user_id": 372654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a811b1b2ef0e9ff66768a8ccc52a18aa?s=128&d=identicon&r=PG", "display_name": "Halil &#214;zg&#252;r", "link": "https://stackoverflow.com/users/372654/halil-%c3%96zg%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476207094, "post_id": 39980224, "comment_id": 67244979, "body": "How do you run this code (e.g. through a request, or from a task, or standalone)? Another hacky method would be <code>&#39;..&#39;, &#39;config&#39;, ...</code>"}, {"owner": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1476249130, "post_id": 39980224, "comment_id": 67260122, "body": "can you post your application.rb"}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476388426, "post_id": 39980224, "comment_id": 67336758, "body": "do you have it sorted out? :)"}, {"owner": {"reputation": 525, "user_id": 3987123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8250ade11ee70854d19f513f76ac32dd?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/3987123/srm"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1476570558, "post_id": 39980224, "comment_id": 67403767, "body": "@AndreyDeineko I guess, I added require rails to the top of the file and that works. Feels like a code smell but it works."}], "owner": {"reputation": 525, "user_id": 3987123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8250ade11ee70854d19f513f76ac32dd?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/3987123/srm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476199023, "creation_date": 1476197720, "last_edit_date": 1476199023, "question_id": 39980224, "link": "https://stackoverflow.com/questions/39980224/nameerror-uninitialized-constant-foobarrails", "title": "NameError: uninitialized constant Foo::Bar::Rails", "body": "<p>I have a class that I made in the <strong>lib</strong> directory of a rails project</p>\n\n<pre><code>module Foo\n  class Bar\n\n    def initialize(partner)\n      dir = File.join(Rails.root, 'config', 'partner', \"#{partner}.yml\")\n    end\n  end\nend\n</code></pre>\n\n<p>When I initialize this class <strong>dir</strong>  throws an error; I get <code>NameError: uninitialized constant Foo::Bar::Rails</code></p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 1050, "user_id": 260670, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b5fdc7d34f3ec9b11a13d10fc548fdd5?s=128&d=identicon&r=PG&f=1", "display_name": "Midwire", "link": "https://stackoverflow.com/users/260670/midwire"}, "edited": false, "score": 0, "creation_date": 1476202388, "post_id": 39980062, "comment_id": 67242202, "body": "Can you show the code for your current failing attempt? It helps to provide context."}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "reply_to_user": {"reputation": 1050, "user_id": 260670, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b5fdc7d34f3ec9b11a13d10fc548fdd5?s=128&d=identicon&r=PG&f=1", "display_name": "Midwire", "link": "https://stackoverflow.com/users/260670/midwire"}, "edited": false, "score": 0, "creation_date": 1476203086, "post_id": 39980062, "comment_id": 67242672, "body": "Sorry, but I have already scrapped that code and moved on to trying to find another way."}, {"owner": {"reputation": 14709, "user_id": 372654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a811b1b2ef0e9ff66768a8ccc52a18aa?s=128&d=identicon&r=PG", "display_name": "Halil &#214;zg&#252;r", "link": "https://stackoverflow.com/users/372654/halil-%c3%96zg%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476206741, "post_id": 39980062, "comment_id": 67244773, "body": "The API you&#39;ve mentioned seems to provide a count method. What about sending page = count / 100 ?"}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "reply_to_user": {"reputation": 14709, "user_id": 372654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a811b1b2ef0e9ff66768a8ccc52a18aa?s=128&d=identicon&r=PG", "display_name": "Halil &#214;zg&#252;r", "link": "https://stackoverflow.com/users/372654/halil-%c3%96zg%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476207027, "post_id": 39980062, "comment_id": 67244937, "body": "@Halil&#214;zg&#252;r I thought of that too, and it <i>should</i> work, but if I get the count first, I then get a 401 unauthorized on subsequent requests, so it doesn&#39;t work. In other words it&#39;s either get the count or get the results, but not both."}, {"owner": {"reputation": 14709, "user_id": 372654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a811b1b2ef0e9ff66768a8ccc52a18aa?s=128&d=identicon&r=PG", "display_name": "Halil &#214;zg&#252;r", "link": "https://stackoverflow.com/users/372654/halil-%c3%96zg%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476207262, "post_id": 39980062, "comment_id": 67245069, "body": "This doesn&#39;t look normal. But if the API only allows a single request, how would you call the last page even if it was returned among the results?"}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "edited": false, "score": 0, "creation_date": 1476207549, "post_id": 39980062, "comment_id": 67245236, "body": "See that&#39;s the thing I can get the results page by page no problem. But if I get a count first, then I can&#39;t get any results after that."}, {"owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "edited": false, "score": 0, "creation_date": 1476207593, "post_id": 39980062, "comment_id": 67245255, "body": "It&#39;s not normal I agree."}], "answers": [{"tags": [], "owner": {"reputation": 1116, "user_id": 4122847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Bhoo3PIj7w/AAAAAAAAAAI/AAAAAAAAAF4/OEnQcnM3iI0/photo.jpg?sz=128", "display_name": "Abdoo Dev", "link": "https://stackoverflow.com/users/4122847/abdoo-dev"}, "is_accepted": false, "score": 1, "last_activity_date": 1476198367, "creation_date": 1476198367, "answer_id": 39980484, "question_id": 39980062, "link": "https://stackoverflow.com/questions/39980062/how-can-i-get-the-last-page-of-results-from-api-with-no-link-headers/39980484#39980484", "title": "How can I get the last page of results from API with no link headers?", "body": "<p>According to the documentation you provided, there is no way to know the number of pages. Perhaps, you can keep looping until you find an empty page, or a page with less than 100 results.</p>\n"}], "owner": {"reputation": 426, "user_id": 6075414, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/88da80c1fa9924757e7c07475d56e6de?s=128&d=identicon&r=PG", "display_name": "NeyLive", "link": "https://stackoverflow.com/users/6075414/neylive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476198367, "creation_date": 1476197280, "question_id": 39980062, "link": "https://stackoverflow.com/questions/39980062/how-can-i-get-the-last-page-of-results-from-api-with-no-link-headers", "title": "How can I get the last page of results from API with no link headers?", "body": "<p>I am trying to get the last page of results from an API, but the API does not seem to have any link headers.</p>\n\n<p>Each page returns 100 results, so I need to loop through each page to get all the results, but without a rel\"next\" or rel\"last\" I don't know how to tell my script when to stop looping.</p>\n\n<p>Is there another way to find out what the last page of results is from an API?</p>\n\n<p>The API in question is <a href=\"http://developer.leaddyno.com/rest-api.html\" rel=\"nofollow\">here</a>.</p>\n"}]