[{"tags": ["css", "ruby-on-rails", "ruby", "twitter-bootstrap", "sass"], "comments": [{"owner": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524090599, "post_id": 49909860, "comment_id": 86835845, "body": "Maybe related to Autoprefixer gem, <a href=\"https://github.com/ai/autoprefixer-rails/issues/130\" rel=\"nofollow noreferrer\">github.com/ai/autoprefixer-rails/issues/130</a>"}, {"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 1, "creation_date": 1524090899, "post_id": 49909860, "comment_id": 86835946, "body": "Is <code>@import</code> a <code>sass</code> directive (and not an <code>scss</code> directive)? Perhaps the problem is that you have <code>application.scss</code> and not <code>application.sass</code>? <code>some_css.sass</code> should probably go in <code>app&#47;assets&#47;stylesheets</code>, no?"}, {"owner": {"reputation": 1356, "user_id": 1175943, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a3218043040195cb524c5988d8c06d5?s=128&d=identicon&r=PG", "display_name": "sebkkom", "link": "https://stackoverflow.com/users/1175943/sebkkom"}, "reply_to_user": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524091768, "post_id": 49909860, "comment_id": 86836159, "body": "@vzamanillo I tried following the suggestion from the last comment there but nothing changed. Should I downgrade below the &quot;problematic&quot; 7.2.4 version?"}, {"owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "edited": false, "score": 0, "creation_date": 1524107345, "post_id": 49909860, "comment_id": 86839866, "body": "can you paste the contents of your <code>application.scss</code> ?  It could have to do with load order. Also the contents of your <code>some_css.scss</code> would be helpful to see."}], "answers": [{"tags": [], "owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1524107711, "creation_date": 1524107711, "answer_id": 49912141, "question_id": 49909860, "link": "https://stackoverflow.com/questions/49909860/modified-application-scss-results-in-syntaxerror-unexpected-token-in-rails/49912141#49912141", "title": "Modified application.scss results in &quot;SyntaxError: Unexpected token ,&quot; in Rails", "body": "<p>You might wanna use the <a href=\"https://github.com/twbs/bootstrap-sass\" rel=\"nofollow noreferrer\">bootstrap sass gem</a> instead:</p>\n\n<p>In your gemfile:</p>\n\n<pre><code>gem 'bootstrap-sass', '~&gt; 3.3.7'\n</code></pre>\n\n<p>Then in your <code>application.scss</code></p>\n\n<pre><code>@import 'bootstrap-sprockets';\n@import 'bootstrap';\n@import 'some_css';\n</code></pre>\n\n<p>Also see this if you need Bootstrap4  <a href=\"https://github.com/twbs/bootstrap-rubygem#a-ruby-on-rails\" rel=\"nofollow noreferrer\">https://github.com/twbs/bootstrap-rubygem#a-ruby-on-rails</a></p>\n"}, {"tags": [], "owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1524114395, "last_edit_date": 1524114395, "creation_date": 1524109117, "answer_id": 49912318, "question_id": 49909860, "link": "https://stackoverflow.com/questions/49909860/modified-application-scss-results-in-syntaxerror-unexpected-token-in-rails/49912318#49912318", "title": "Modified application.scss results in &quot;SyntaxError: Unexpected token ,&quot; in Rails", "body": "<p>Look, I have worked with <code>scss</code> like this which taught me some remote instructor like at first on the <code>Gemfile</code></p>\n\n<pre><code># Use SCSS for stylesheets\ngem 'bootstrap-sass', '~&gt; 3.3.6'\n</code></pre>\n\n<p>then <code>bundle install</code> then renaming the <code>application.css</code> to <code>application.css.scss</code> or leave this as usual and create new custom <code>scss</code> file like <code>custom.css.scss</code> and on this</p>\n\n<pre><code>@import \"bootstrap-sprockets\";\n@import \"bootstrap\";\n@import \"some_css\";\n</code></pre>\n\n<p>and the <code>some_css</code> naming like this <code>_some_css.css</code> to start the file name with an underscore which is inside <code>stylesheets</code> folder or if you use another folder inside <code>stylesheets</code> folder like <code>stylesheets/modules</code> then while calling like this</p>\n\n<pre><code>@import \"modules/some_css\";\n</code></pre>\n\n<p>and attention to the files if unnecessary any symbols</p>\n"}], "owner": {"reputation": 1356, "user_id": 1175943, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a3218043040195cb524c5988d8c06d5?s=128&d=identicon&r=PG", "display_name": "sebkkom", "link": "https://stackoverflow.com/users/1175943/sebkkom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524114395, "creation_date": 1524090031, "question_id": 49909860, "link": "https://stackoverflow.com/questions/49909860/modified-application-scss-results-in-syntaxerror-unexpected-token-in-rails", "title": "Modified application.scss results in &quot;SyntaxError: Unexpected token ,&quot; in Rails", "body": "<p>The situation is like this:</p>\n\n<ul>\n<li><p>I create a new Rails application (Rails 4.2.10 - Ruby 2.4.1)</p></li>\n<li><p>I generate a very simple scaffold with a couple of attributes</p></li>\n<li><p>I install the bootstrap gem following all the instructions <a href=\"https://github.com/twbs/bootstrap-rubygem#a-ruby-on-rails\" rel=\"nofollow noreferrer\">here</a>.</p></li>\n</ul>\n\n<p>Everything works until then, but when I try to use some extra css with <code>@import \"some_css\"</code> in <code>application.scss</code> I get the <code>\"SyntaxError: Unexpected token ,\"</code> error message in the view.</p>\n\n<p>I have tried to put the <code>some_css</code> file both in the <code>app/assets</code> and <code>vendor</code> folders as well as include them in my html with both <code>stylesheet_link_tag</code> and pure html but the error persists.</p>\n\n<p>This is the first time I get this error and it might be something very obvious in front of my eyes; in which case I apologise for my melted brains - I am in this dark place where there is no hope left.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524089402, "post_id": 49909724, "comment_id": 86835427, "body": "Paste your Message model please."}, {"owner": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524089961, "post_id": 49909724, "comment_id": 86835627, "body": "Ok, your message is not an AR model, is a mailer, new for ActionMailer is private, take a look at <a href=\"http://guides.rubyonrails.org/action_mailer_basics.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/action_mailer_basics.html</a> for correct ActionMailer usage."}, {"owner": {"reputation": 9971, "user_id": 8255744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de22299534b5a8ed244ee8ff4aa6c481?s=128&d=identicon&r=PG&f=1", "display_name": "Simple Lime", "link": "https://stackoverflow.com/users/8255744/simple-lime"}, "edited": false, "score": 0, "creation_date": 1524098647, "post_id": 49909724, "comment_id": 86837883, "body": "You named your mailer <code>Message &lt; ApplicationMailer</code> and then try to use it as <code>MessageMailer.contact_me</code> in your controller. You now have the class <code>Message</code> opened in 2 places (as a model and a mailer) with different parent classes and are having weirdness. Fixing the typo in the class declaration (change <code>Message &lt; ApplicationMailer</code> to <code>MessageMailer &lt; ApplicationMailer</code> as you apparently intended to name it should fix it)"}, {"owner": {"reputation": 11, "user_id": 9476744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3a968736ee3a545bd6b3288c3fac37?s=128&d=identicon&r=PG&f=1", "display_name": "rdicrist", "link": "https://stackoverflow.com/users/9476744/rdicrist"}, "reply_to_user": {"reputation": 9971, "user_id": 8255744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de22299534b5a8ed244ee8ff4aa6c481?s=128&d=identicon&r=PG&f=1", "display_name": "Simple Lime", "link": "https://stackoverflow.com/users/8255744/simple-lime"}, "edited": false, "score": 0, "creation_date": 1524157388, "post_id": 49909724, "comment_id": 86868949, "body": "@SimpleLime thank you so much, that solved it!!!"}], "owner": {"reputation": 11, "user_id": 9476744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3a968736ee3a545bd6b3288c3fac37?s=128&d=identicon&r=PG&f=1", "display_name": "rdicrist", "link": "https://stackoverflow.com/users/9476744/rdicrist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524091904, "creation_date": 1524089226, "last_edit_date": 1524091904, "question_id": 49909724, "link": "https://stackoverflow.com/questions/49909724/private-method-new-called-for-messageclass", "title": "&quot;private method `new&#39; called for Message:Class&quot;", "body": "<p>I have the following code in my messages_controller:</p>\n\n<pre><code>class MessagesController &lt; ApplicationController\n    def new\n        @message = Message.new\n    end\n\n  def create\n    @message = Message.new message_params\n\n    if @message.valid?\n      MessageMailer.contact_me(@message).deliver_now\n      redirect_to new_message_url, notice: \"Message received, thanks!\"\n    else\n      render :new\n    end\n  end\n\n private\n\n def message_params\n    params.require(:message).permit(:name, :email, :body)\n  end  \nend\n</code></pre>\n\n<p>But I keep getting the error \"private method 'new' called for Message:Class.\" whenever I attempt to load the page that displays the message form (route: /messages/new). New is not a private method as far as I can tell? Any help would be appreciated in this error!</p>\n\n<p>My mailer class looks like this: </p>\n\n<pre><code>class Message &lt; ApplicationMailer\n\n  def contact_me(message)\n    @body = message.body\n\n    mail to: \"EMAIL@gmail.com\", from: message.email\n  end\nend\n</code></pre>\n\n<p>EDIT:\nI have included my message model</p>\n\n<pre><code>class Message\n    include ActiveModel::Model\n    attr_accessor :name, :email, :body\n    validates :name, :email, :body, presence: true\nend\n</code></pre>\n"}, {"tags": ["ruby", "linux", "bash", "rvm"], "comments": [{"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 3, "creation_date": 1524095480, "post_id": 49909639, "comment_id": 86837129, "body": "Are you using <code>bash</code> as your shell?  Those complaints look like shell errors, and RVM explicitly states bash as a requirement: &quot;Please note that RVM requires Bash, not SH, as it makes use of multiple Bash-isms that the SH shell does not support.&quot; <a href=\"https://rvm.io/rvm/prerequisites\" rel=\"nofollow noreferrer\">rvm.io/rvm/prerequisites</a>"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1524101402, "post_id": 49909639, "comment_id": 86838580, "body": "Since Stack Overflow hides the Close reason from you: <i>Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>.</i>"}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "reply_to_user": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1524118715, "post_id": 49909639, "comment_id": 86843387, "body": "@Joe : If he has Linux, he should have bash too. Note also that this error message does <b>not</b> come from <i>sh</i>, but from <i>sudo</i>. @MarkCoates: I don&#39;t use rvm for my own work, but I guess the executable rvm is implemented as a shell script. Maybe running it with <code>-x</code> could provide some insight, i.e. <code>bash -x rvm list</code>."}, {"owner": {"reputation": 33, "user_id": 2917436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b477babca005431c52ea67027a0cca2?s=128&d=identicon&r=PG", "display_name": "oddlyzen", "link": "https://stackoverflow.com/users/2917436/oddlyzen"}, "reply_to_user": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1524215328, "post_id": 49909639, "comment_id": 86891626, "body": "@Joe, yes, I am using <code>bash</code>. I changed the tag to reflect that. I tried to provide as little as possible to make it useful to others. As it is, running the command with the trace was helpful, thanks! I piped the output to grep and realized the <code>[[</code> lines represent execution (I&#39;m assuming) at the command line from the script and the <code>__function_on_stack</code> line is coming from a function inside the script. Regardless of what <code>command</code> was <code>not found</code>, the script is running correctly in all instances. In my normal MacBook, I never get warnings or errors."}], "owner": {"reputation": 33, "user_id": 2917436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b477babca005431c52ea67027a0cca2?s=128&d=identicon&r=PG", "display_name": "oddlyzen", "link": "https://stackoverflow.com/users/2917436/oddlyzen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524213602, "creation_date": 1524088740, "last_edit_date": 1524213602, "question_id": 49909639, "link": "https://stackoverflow.com/questions/49909639/command-not-found-on-elementaryos", "title": "Command not found [[ on elementaryOS", "body": "<pre><code>$ rvm list\nsudo: [[: command not found\nsudo: [[: command not found\nsudo: [[: command not found\nsudo: [[: command not found\nsudo: __function_on_stack: command not found\n\nrvm rubies\n\n   ruby-2.3.3 [ x86_64 ]\n=* ruby-2.4.1 [ x86_64 ]\n\n# =&gt; - current\n# =* - current &amp;&amp; default\n#  * - default\n</code></pre>\n\n<p>I am getting this message when running <code>rvm list</code>. I am running the newest version of the Linux distro <strong>elementary OS</strong>. Any ideas why I am getting the error messages? The command, as you can see, is running correctly, but the warnings are annoying and I'd like to know why I am getting them.</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524088862, "post_id": 49909613, "comment_id": 86835255, "body": "Missing or not Turbolinks compatible dep..."}, {"owner": {"reputation": 11, "user_id": 9625912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uChMycNqow0/AAAAAAAAAAI/AAAAAAAAADA/1qLLUf7Erxs/photo.jpg?sz=128", "display_name": "Andrey Anischik", "link": "https://stackoverflow.com/users/9625912/andrey-anischik"}, "reply_to_user": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524089001, "post_id": 49909613, "comment_id": 86835298, "body": "gem &#39;turbolinks&#39;, &#39;~&gt; 5&#39; in my Gemfile"}, {"owner": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524089475, "post_id": 49909613, "comment_id": 86835448, "body": "and turbolinks-source?"}, {"owner": {"reputation": 11, "user_id": 9625912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uChMycNqow0/AAAAAAAAAAI/AAAAAAAAADA/1qLLUf7Erxs/photo.jpg?sz=128", "display_name": "Andrey Anischik", "link": "https://stackoverflow.com/users/9625912/andrey-anischik"}, "reply_to_user": {"reputation": 9425, "user_id": 3057934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxSWD.jpg?s=128&g=1", "display_name": "vzamanillo", "link": "https://stackoverflow.com/users/3057934/vzamanillo"}, "edited": false, "score": 0, "creation_date": 1524090141, "post_id": 49909613, "comment_id": 86835674, "body": "I don&#39;t clearly understand what you mean under turbolinks-source"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9625912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uChMycNqow0/AAAAAAAAAAI/AAAAAAAAADA/1qLLUf7Erxs/photo.jpg?sz=128", "display_name": "Andrey Anischik", "link": "https://stackoverflow.com/users/9625912/andrey-anischik"}, "edited": false, "score": 0, "creation_date": 1524146354, "post_id": 49912409, "comment_id": 86861609, "body": "Thanks for help. There were different versions of turbolinks in Gemfile and Gemfile.lock."}], "tags": [], "owner": {"reputation": 1166, "user_id": 2217750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cKXxI.jpg?s=128&g=1", "display_name": "Darkisa", "link": "https://stackoverflow.com/users/2217750/darkisa"}, "is_accepted": true, "score": 0, "last_activity_date": 1524109761, "creation_date": 1524109761, "answer_id": 49912409, "question_id": 49909613, "link": "https://stackoverflow.com/questions/49909613/problems-with-mysql-rails/49912409#49912409", "title": "Problems with mysql Rails", "body": "<p>Your error is coming from the bundler trying to bundle your gems:</p>\n\n<pre><code> in require': There was an error while trying to load the gem 'turbolinks'. (Bundler::GemRequireError)\n</code></pre>\n\n<p>This error is thrown because somewhere in either your code or code in a library there is a constant called <code>Turbolinks::Source</code> that was never set to anything, so somewhere the code is calling <code>Turbolinks::Source</code>, but because its not referencing anything, it throws an error. Without sharing your code it will be difficult to give you a better answer. </p>\n"}], "owner": {"reputation": 11, "user_id": 9625912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uChMycNqow0/AAAAAAAAAAI/AAAAAAAAADA/1qLLUf7Erxs/photo.jpg?sz=128", "display_name": "Andrey Anischik", "link": "https://stackoverflow.com/users/9625912/andrey-anischik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 49912409, "answer_count": 1, "score": -1, "last_activity_date": 1524109761, "creation_date": 1524088601, "last_edit_date": 1524089071, "question_id": 49909613, "link": "https://stackoverflow.com/questions/49909613/problems-with-mysql-rails", "title": "Problems with mysql Rails", "body": "<p>While starting the server or create a new scaffold this problem appears.</p>\n\n<pre><code>    Traceback (most recent call last):\n    18: from bin/rails:4:in `&lt;main&gt;'\n    17: from bin/rails:4:in `require'\n    16: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/commands.rb:16:in `&lt;top (required)&gt;'\n    15: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command.rb:44:in `invoke'\n    14: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command/base.rb:63:in `perform'\n    13: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/thor-0.20.0/lib/thor.rb:387:in `dispatch'\n    12: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/thor-0.20.0/lib/thor/invocation.rb:126:in `invoke_command'\n    11: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/thor-0.20.0/lib/thor/command.rb:27:in `run'\n    10: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/commands/generate/generate_command.rb:19:in `perform'\n     9: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command/actions.rb:15:in `require_application_and_environment!'\n     8: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command/actions.rb:15:in `require'\n     7: from /home/jeyjeyanischixx/ruby/auto/config/application.rb:17:in `&lt;top (required)&gt;'\n     6: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler.rb:114:in `require'\n     5: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:65:in `require'\n     4: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:65:in `each'\n     3: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:76:in `block in require'\n     2: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:76:in `each'\n     1: from /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:80:in `block (2 levels) in require'\n  /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:84:in `rescue in block (2 levels) in require': There was an error while trying to load the gem 'turbolinks'. (Bundler::GemRequireError)\n   Gem Load Error is: uninitialized constant Turbolinks::Source\n   Backtrace for gem load error is: /home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/turb olinks-5.1.1/lib/turbolinks.rb:18:in `&lt;class:Engine&gt;'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/turbolinks-5.1.1/lib/turbolinks.rb:15:in `&lt;module:Turbolinks&gt;'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/turbolinks-5.1.1/lib/turbolinks.rb:6:in `&lt;top (required)&gt;'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:81:in `require'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:81:in `block (2 levels) in require'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:76:in `each'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:76:in `block in require'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:65:in `each'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler/runtime.rb:65:in `require'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/bundler-1.16.1/lib/bundler.rb:114:in `require'\n/home/jeyjeyanischixx/ruby/auto/config/application.rb:17:in `&lt;top (required)&gt;'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command/actions.rb:15:in `require'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command/actions.rb:15:in `require_application_and_environment!'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/commands/generate/generate_command.rb:19:in `perform'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/thor-0.20.0/lib/thor/command.rb:27:in `run'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/thor-0.20.0/lib/thor/invocation.rb:126:in `invoke_command'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/thor-0.20.0/lib/thor.rb:387:in `dispatch'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command/base.rb:63:in `perform'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/command.rb:44:in `invoke'\n/home/jeyjeyanischixx/.rbenv/versions/2.5.0/lib/ruby/gems/2.5.0/gems/railties-5.1.6/lib/rails/commands.rb:16:in `&lt;top (required)&gt;'\nbin/rails:4:in `require'\nbin/rails:4:in `&lt;main&gt;'\nBundler Error Backtrace:\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "edited": false, "score": 0, "creation_date": 1524087737, "post_id": 49909420, "comment_id": 86834814, "body": "<a href=\"http://www.rubyinside.com/how-to/ruby-sort-hash\" rel=\"nofollow noreferrer\">rubyinside.com/how-to/ruby-sort-hash</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9666612"}, "reply_to_user": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "edited": false, "score": 0, "creation_date": 1524089604, "post_id": 49909420, "comment_id": 86835499, "body": "I&#39;ve found that link fairly useful, let alone from the fact that it doesn&#39;t really explain how to have it sort by a second key if there is a tie.Check out my edit."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1524089734, "post_id": 49909420, "comment_id": 86835544, "body": "There isn&#39;t a tie in your example data."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9666612"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1524089849, "post_id": 49909420, "comment_id": 86835583, "body": "I edited my question to show an example of a tie @Stefan"}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 5893468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcb7551f9c6af39046f24142ae1c42e1?s=128&d=identicon&r=PG&f=1", "display_name": "pamcevoy", "link": "https://stackoverflow.com/users/5893468/pamcevoy"}, "reply_to_user": {"reputation": 126343, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1524094445, "post_id": 49910289, "comment_id": 86836872, "body": "Good catch - I was thinking in JavaScript.  I changed it to <code>==</code>"}], "tags": [], "owner": {"reputation": 825, "user_id": 5893468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcb7551f9c6af39046f24142ae1c42e1?s=128&d=identicon&r=PG&f=1", "display_name": "pamcevoy", "link": "https://stackoverflow.com/users/5893468/pamcevoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1524139463, "last_edit_date": 1524139463, "creation_date": 1524092648, "answer_id": 49910289, "question_id": 49909420, "link": "https://stackoverflow.com/questions/49909420/how-to-sort-hash-in-ruby/49910289#49910289", "title": "How to sort hash in Ruby", "body": "<p>You can use &lt;=> to compare and do it in a block where you first compare by value (score) and if those match, then compare by key (name).</p>\n\n<pre><code>scores = {\n  \"Alpha\" =&gt; 0,\n  \"Beta\" =&gt; 2,\n  \"Charlie\" =&gt; 0,\n  \"Delta\" =&gt; 5,\n}\n\n# convert to an array of arrays\n# =&gt; [[Alpha, 0], [Beta, 2], [Charlie, 0], [Delta, 5]]\n# then sort by value and, if needed, by key\nscores = scores.to_a.sort! { |a,b|\n  cmp = a[1] &lt;=&gt; b[1]             # sort by value (index = 1)\n  cmp = a[0] &lt;=&gt; b[0] if cmp == 0 # sort by key (index = 0) if values matched\n  cmp\n}.to_h # convert back to a hash\n\nputs scores\n</code></pre>\n\n<p>Or if you want to extract the comparison code into a method for reuse/clarity, you can have it call the method.</p>\n\n<pre><code># Compare entries from the scores hash.\n# Each entry has a name (key) and score (value) (e.g. [\"Alpha\", 0].\n# First compare by scores, then by names (if scores match).\ndef compare_score_entries(a, b)\n  cmp = a[1] &lt;=&gt; b[1]\n  cmp = a[0] &lt;=&gt; b[0] if cmp == 0\n  return cmp\nend\n\nscores = scores.sort(&amp;method(:compare_score_entries)).to_h\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126343, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1524094712, "last_edit_date": 1524094712, "creation_date": 1524093347, "answer_id": 49910375, "question_id": 49909420, "link": "https://stackoverflow.com/questions/49909420/how-to-sort-hash-in-ruby/49910375#49910375", "title": "How to sort hash in Ruby", "body": "<p>The general pattern for sorting a Hash into a sorted Array of key/value pairs looks like this.</p>\n\n<pre><code>sorted_array_of_tuples = hash.sort { |a,b| ... }\n</code></pre>\n\n<p>A <code>Hash</code> has the <a href=\"https://ruby-doc.org/core/Enumerable.html\" rel=\"nofollow noreferrer\">Enumerable mixin</a> which means it can use <a href=\"https://ruby-doc.org/core/Enumerable.html#method-i-sort\" rel=\"nofollow noreferrer\"><code>sort</code></a>. Used on a Hash <code>sort</code> compares tuples (two element Arrays) of the key and value, so we can craft block that compares both the key and value easily.</p>\n\n<p>Usually you then use the sorted Array.</p>\n\n<pre><code>sorted = hash.sort { ... }\nsorted.each { |t|\n    puts \"#{t[0]}: #{t[1]}\"\n}\n</code></pre>\n\n<p>But you can turn it back into a Hash with <a href=\"https://ruby-doc.org/core-2.5.0/Array.html#method-i-to_h\" rel=\"nofollow noreferrer\"><code>to_h</code></a>. Since Hashes in Ruby remember the order their keys were inserted, the newly minted Hash created from the sorted Array will retain its sorting.</p>\n\n<pre><code>sorted_hash = hash.sort { |a,b| ... }.to_h\n</code></pre>\n\n<p>...but if more keys are added to <code>sorted_hash</code> they will not be sorted, they'll just go at the end. So you'll probably want to freeze the sorted hash to prevent modifications ruining the sorting.</p>\n\n<pre><code>sorted_hash.freeze\n</code></pre>\n\n<hr>\n\n<p>As for the sort block, in other languages an idiom of \"compare by this, and if they're equal, compare by that\" would look like this:</p>\n\n<pre><code>sorted_scores = scores.sort { |a,b|\n    # Compare values or compare keys\n    a[1] &lt;=&gt; b[1]    || a[0] &lt;=&gt; b[0]\n}\n</code></pre>\n\n<p>This takes advantage that <a href=\"https://ruby-doc.org/core/Integer.html#method-i-3C-3D-3E\" rel=\"nofollow noreferrer\"><code>&lt;=&gt;</code></a> returns <code>0</code> when they're equal. In other languages <code>0</code> is <code>false</code> so you can use logical operators to create a whole chain of primary, secondary, and tertiary comparisons.</p>\n\n<p>But in Ruby <code>0</code> isn't <code>false</code>. Only <code>false</code> is <code>false</code>. Usually this is a good thing, but here it means we need to be more specific.</p>\n\n<pre><code>sorted_scores = scores.sort { |a,b|\n  # Compare values\n  cmp = a[1] &lt;=&gt; b[1]\n  # Compare keys if the values were equal\n  cmp = a[0] &lt;=&gt; b[0] if cmp == 0\n  # Return the comparison\n  cmp\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1524120374, "post_id": 49911716, "comment_id": 86844245, "body": "<i>&quot;Arrays are lexicographically ordered&quot;</i> \u2013 do you mean <code>String</code>s?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1524137529, "post_id": 49911716, "comment_id": 86855458, "body": "No, I mean <code>Array</code>s, otherwise my solution wouldn&#39;t work. This is actually documented in <a href=\"http://ruby-doc.org/core/Array.html#method-i-3C-3D-3E\" rel=\"nofollow noreferrer\"><code>Array#&lt;=&gt;</code>&#39;s RDocs</a> as well as <a href=\"https://github.com/ruby/spec/blob/master/core/array/comparison_spec.rb#L5-L16\" rel=\"nofollow noreferrer\">the RubySpec</a>. This is also true of <code>String</code>s, although <a href=\"http://ruby-doc.org/core/String.html#method-i-3C-3D-3E\" rel=\"nofollow noreferrer\">badly documented</a> and <a href=\"https://github.com/ruby/spec/blob/master/core/string/comparison_spec.rb\" rel=\"nofollow noreferrer\">specified</a>."}, {"owner": {"reputation": 126343, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1524186432, "post_id": 49911716, "comment_id": 86880437, "body": "This is very clever!"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "reply_to_user": {"reputation": 126343, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1524208463, "post_id": 49911716, "comment_id": 86887588, "body": "@Schwern: It&#39;s actually a standard Ruby idiom, I was very surprised that it hadn&#39;t been mentioned before."}], "tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 4, "last_activity_date": 1524104376, "creation_date": 1524104376, "answer_id": 49911716, "question_id": 49909420, "link": "https://stackoverflow.com/questions/49909420/how-to-sort-hash-in-ruby/49911716#49911716", "title": "How to sort hash in Ruby", "body": "<p>In Ruby, <a href=\"http://ruby-doc.org/core/Array.html#method-i-3C-3D-3E\" rel=\"nofollow noreferrer\"><code>Array</code>s are lexicographically ordered</a>. You can make use of that fact for sorting by multiple keys: just create an array of the keys you want to sort by:</p>\n\n<pre><code>scores.sort_by {|team, score| [-score, team] }.to_h\n#=&gt; {'Delta' =&gt; 5, 'Beta' =&gt; 2, 'Alpha' =&gt; 0, 'Charlie' =&gt; 0}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 5720368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pxFN.jpg?s=128&g=1", "display_name": "ku&#39;", "link": "https://stackoverflow.com/users/5720368/ku"}, "is_accepted": false, "score": 0, "last_activity_date": 1524143626, "creation_date": 1524143626, "answer_id": 49922063, "question_id": 49909420, "link": "https://stackoverflow.com/questions/49909420/how-to-sort-hash-in-ruby/49922063#49922063", "title": "How to sort hash in Ruby", "body": "<p>You can sort it like this</p>\n\n<pre><code>scores = {\n  \"Charlie\" =&gt; 0,\n  \"Delta\" =&gt; 5,\n  \"Beta\" =&gt; 2,\n  \"Alpha\" =&gt; 0\n}\nputs scores\n  .map{|name, score| [-score, name]}\n  .sort\n  .zip((0...scores.size).to_a)\n  .map{|(score, name), i| \"#{i + 1}. #{name}, #{-score} pts\"}\n</code></pre>\n\n<p>notice the minus score. It a trick to sort integer reversely.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3810304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dcea5c1fbc83d45639637e7fc4e7145?s=128&d=identicon&r=PG&f=1", "display_name": "Melechesh", "link": "https://stackoverflow.com/users/3810304/melechesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1524148348, "creation_date": 1524148348, "answer_id": 49923693, "question_id": 49909420, "link": "https://stackoverflow.com/questions/49909420/how-to-sort-hash-in-ruby/49923693#49923693", "title": "How to sort hash in Ruby", "body": "<p>You can try this</p>\n\n<pre><code>scores = {\n  'Charlie' =&gt; 0,\n  'Delta' =&gt; 5,\n  'Beta' =&gt; 2,\n  'Alpha' =&gt; 0\n}\n\nscores_sorted = scores.sort_by { |_key, value| -value }\n\nscores_sorted.each.with_index(1) do |value, index|\n puts \"#{index}. #{value[0]}, #{value[1]} pts\"\nend\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9666612"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1524148348, "creation_date": 1524087530, "last_edit_date": 1524105706, "question_id": 49909420, "link": "https://stackoverflow.com/questions/49909420/how-to-sort-hash-in-ruby", "title": "How to sort hash in Ruby", "body": "<p>I have the following hash:</p>\n\n<pre><code>scores = {\n  \"Charlie\" =&gt; 0\n  \"Delta\" =&gt; 5 \n  \"Beta\" =&gt; 2\n  \"Alpha\" =&gt; 0\n}\n</code></pre>\n\n<p>The numbers listed are integers, and the teams are represented as strings.</p>\n\n<p>How can I sort the list by score, and if there is a tie, list it alphabetically, and then output it?</p>\n\n<p>I imagine the intended output to look like:</p>\n\n<pre><code>1. Delta, 5 pts\n2. Beta, 2 pts\n3. Alpha, 0 pts\n4. Charlie, 0 pts\n</code></pre>\n\n<p>I sorted the hash, but am not sure how to sort by alphabetical order if there is a tie. The code I used is below:</p>\n\n<pre><code>scores = Hash[ scores.sort_by { |team_name, scores_array| scores_array.sum.to_s } ]\n</code></pre>\n"}, {"tags": ["ruby", "selenium-webdriver", "cucumber"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524113409, "post_id": 49908844, "comment_id": 86841457, "body": "What is your question?"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524146068, "post_id": 49908844, "comment_id": 86861367, "body": "HI, Made a small mistake, I have updated my code once again, Can you check and let me know whether it works."}], "answers": [{"comments": [{"owner": {"reputation": 136, "user_id": 4204114, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0t36D.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/4204114/hugo"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524108461, "post_id": 49909024, "comment_id": 86840131, "body": "&quot;For example&quot;. With the &quot;x&quot; element you can do what you need. Ruby code: &#39;&lt;% link_to &quot;title&quot;, x %&gt;"}], "tags": [], "owner": {"reputation": 136, "user_id": 4204114, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0t36D.jpg?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/4204114/hugo"}, "is_accepted": false, "score": 0, "last_activity_date": 1524086617, "last_edit_date": 1524086617, "creation_date": 1524085630, "answer_id": 49909024, "question_id": 49908844, "link": "https://stackoverflow.com/questions/49908844/ruby-selenium-how-to-click-hrefs-in-an-array/49909024#49909024", "title": "ruby, selenium, how to click hrefs in an array", "body": "<p>Beacause the array element (string) doesn't have click method.</p>\n\n<p>For example, you must create the <code>&lt;a&gt;</code> and set the <code>href</code> attribute with element array (\"href\")</p>\n\n<pre><code>&lt;% names_href.each do |x| %&gt;\n  &lt;a href=\"#{x}\"&gt; your_text &lt;/a&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524145452, "post_id": 49913566, "comment_id": 86860939, "body": "thank you, but I got this : Given xpath expression &quot;//*[@href=<a href=\"https://prgdemo.massbrc.com/applicants/57/applicant_identity_documents/new]\" rel=\"nofollow noreferrer\">prgdemo.massbrc.com/applicants/57/applicant_ident&zwnj;&#8203;ity_documents/&hellip;</a>&quot; is invalid: SyntaxError: The expression is not a legal expression. (Selenium::WebDriver::Error::InvalidSelectorError)"}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524147014, "post_id": 49913566, "comment_id": 86862123, "body": "Unable to locate element: //*[@href=&#39;<a href=\"https://prgdemo.massbrc.com/applicants/57/applicant_identity_documents/new&#39;]\" rel=\"nofollow noreferrer\">prgdemo.massbrc.com/applicants/57/applicant_ident&zwnj;&#8203;ity_documents/&hellip;</a>"}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524147441, "post_id": 49913566, "comment_id": 86862454, "body": "sorry, I can&#39;t we are using vpn to connect, it&#39;s a sensitive data."}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524147516, "post_id": 49913566, "comment_id": 86862511, "body": "I created a small ruby example, it&#39;s not working too :    driver = Selenium::WebDriver.for:chrome driver.get &quot;<a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">google.com</a>&quot; arr=[&quot;<a href=\"http://www.yahoo.com\" rel=\"nofollow noreferrer\">yahoo.com</a>&quot;, &quot;<a href=\"http://www.rcn.com&quot;]\" rel=\"nofollow noreferrer\">rcn.com&quot;]</a>   arr.each do |link|   driver.find_element(:xpath,&quot;//*[@href=&#39;#{link}&#39;]&quot;).click   driver.navigate.back end"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524147659, "post_id": 49913566, "comment_id": 86862633, "body": "@Fatna Hey wait, You are going to the google.com and then you are clicking the yahoo.com? what?  Yahoo.com link is appearing in Google.com page?"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524148075, "post_id": 49913566, "comment_id": 86862961, "body": "@Fatna I think you are missing the very basics of automation inthisplace, I thought links are present in the site you have given, but your recently given examples tells me that&#39;s not the case, the above code of mine would click the element which has the attribute href with the given value."}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524148338, "post_id": 49913566, "comment_id": 86863156, "body": "I was just trying ti simulate the process, in our case, the user login, click a link, the filter slide from right of screen, enter from and to birth date, click ok, some rows show, but in all the columns that show we can&#39;t see the birth date, to see the birth date you have to click on the name , it will take you to another page, what I did I collected all the Name column get the link of each name, and tried to do click one by one."}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524148492, "post_id": 49913566, "comment_id": 86863266, "body": "@Fatna The above example of yours says to me that you are lacking the very basics of automation, you are opening the google page and then you are trying to click yahoo.com and rcn.com link, this says to me that you haven&#39;t understood the way automation works, when you call driver.find_element it would find that element for you! By the way I am leaving you here because I can&#39;t help you without the webpage."}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524148995, "post_id": 49913566, "comment_id": 86863619, "body": "please forget about the google example, perhaps I does not reflect what we have, thank you anyway, you helped me lot,"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524149574, "post_id": 49913566, "comment_id": 86864036, "body": "@Fatna When you try to click something, webpage has to consist of that element, otherwise it wouldn&#39;t find that element, that&#39;s why <code>unable to locate element </code> was thrown."}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "reply_to_user": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524150171, "post_id": 49913566, "comment_id": 86864479, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169353/discussion-between-fatna-and-rajagopalan\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "is_accepted": false, "score": 0, "last_activity_date": 1524145534, "last_edit_date": 1524145534, "creation_date": 1524116819, "answer_id": 49913566, "question_id": 49908844, "link": "https://stackoverflow.com/questions/49908844/ruby-selenium-how-to-click-hrefs-in-an-array/49913566#49913566", "title": "ruby, selenium, how to click hrefs in an array", "body": "<p>I assume all the links are on the same page, so once after clicking on the link, it would navigate to another page, so to click the subsequent links, I am bringing the back the page by clicking the back button</p>\n\n<pre><code>arr=[\"https://demo.massbrc.com/applicants/57/applicant_identity_documents/new\", \"https://demo.massbrc.com/applicants/47/applicant_identity_documents/new\"]\n\n\narr.each do |link|\n  driver.find_element(xpath: \"//*[@href='#{link}']\").click\n  driver.navigate.back\nend\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1524145534, "creation_date": 1524084783, "question_id": 49908844, "link": "https://stackoverflow.com/questions/49908844/ruby-selenium-how-to-click-hrefs-in-an-array", "title": "ruby, selenium, how to click hrefs in an array", "body": "<p>I have constructed an array of hrefs, when I do puts names_href I got</p>\n\n<pre><code>[\"https://demo.massbrc.com/applicants/57/applicant_identity_documents/new\", \"https://demo.massbrc.com/applicants/47/applicant_identity_documents/new\"]\n</code></pre>\n\n<p>I want to iterarte this array and click it's elements :</p>\n\n<pre><code>names_href.each { |x| x.click }\n</code></pre>\n\n<p>I got this error :</p>\n\n<p>private method <code>click' called for #&lt;String:0x000000000543f800&gt; (NoMethodError)\n./features/step_definitions/custom_steps.rb:131:in</code>block (2 levels) in '</p>\n\n<p>Thanks, </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "edited": false, "score": 1, "creation_date": 1524128197, "post_id": 49911376, "comment_id": 86848917, "body": "Thanks for your answer @lacostenycoder, it&#39;s really helpful!"}, {"owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "reply_to_user": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "edited": false, "score": 0, "creation_date": 1524180039, "post_id": 49911376, "comment_id": 86879006, "body": "@Rapha&#235;lFOSSE glad this helped.  I also updated my answer to use ActiveRecord query instead of select inside the controller method, which was what I had used in the model method anyway. It&#39;s more efficient then <code>.select</code>"}], "tags": [], "owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1524179929, "last_edit_date": 1524179929, "creation_date": 1524101709, "answer_id": 49911376, "question_id": 49908839, "link": "https://stackoverflow.com/questions/49908839/how-can-i-get-less-sql-request-in-my-railsapp/49911376#49911376", "title": "How can I get less SQL request in my railsApp", "body": "<p>In general you should create instance variables inside the controller action which can be accessed in your view.  You have a method <code>def stats</code> which should be a private method unless it is a custom route.  If it is a method which would be used in multiple end points in your controller you might do add it as a before action:</p>\n\n<pre><code>before_action :stats, only: [:index]\n\ndef index\n @user = User.all\nend\n\nprivate\n\n  def stats\n    #create a hash and use symbolized keys (rails standard)\n    @user_data = {\n      user_sum: User.count,\n      user_facebook_token_count: User.where.not(facebook_token: ['', nil]).count\n    }\n  end\n</code></pre>\n\n<p>You now have access to <code>@user_data</code> hash in your view so you could do:</p>\n\n<pre><code>.content\n  = @user_data[:user_sum]\n</code></pre>\n\n<p>And you would also have access to <code>@users</code> in your view of course.</p>\n\n<p>It also looks like you have a lot of methods which should probably be model methods and/or model scopes.  It's also bad practice to use cryptic variable names in your methods, but better to pass something which would indicate the data type the method is operating on.  For example:</p>\n\n<pre><code># This looks like a User model method, and if so, you shouldn't need to pass anything\ndef fb_connection\n  #This is much more efficient. In ruby you don't need explicit return\n  #the value of the last method called gets returned.\n  User.where.not(facebook_token: [nil, '']).count\nend\n</code></pre>\n\n<p>But this again belongs in the model, and could be simply a class method</p>\n\n<pre><code>#user.rb\nclass User\n  def self.fb_connection_count\n    where.not(facebook_token: [nil, '']).count\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 49911376, "answer_count": 1, "score": 1, "last_activity_date": 1524179929, "creation_date": 1524084772, "question_id": 49908839, "link": "https://stackoverflow.com/questions/49908839/how-can-i-get-less-sql-request-in-my-railsapp", "title": "How can I get less SQL request in my railsApp", "body": "<p>I'm working on a RailsApp, especially on reduce the SQL request from my controller. A friend of mine told me about storing those data into a hash or array to reduce it. But I have some troubles to do it. </p>\n\n<p>Here's what my controller looks like : </p>\n\n<pre><code>def count(var)\n  var.count\nend\n\ndef fb_connection(x)\n  count_fb_sign_in = 0\n  x.each do |user|\n    count_fb_sign_in += 1 if user.facebook_token.present?\n  end\n  return count_fb_sign_in\nend\n\ndef email_connection(x)\n  count_sign_in = 0\n  x.each do |user|\n    count_sign_in += 1 unless user.facebook_token.present?\n  end\n  return count_sign_in\nend\n\ndef sum_sign_in(x)\n  x.sum(:sign_in_count)\nend\n\ndef datetime_sign_in(x, y)\n  x.where('last_sign_in_at &gt;= ?', y).sum(:sign_in_count)\nend\n\ndef bars_per_city(x)\n  @places.where(region_id:x).count\nend\n</code></pre>\n\n<p>Here's what I've tried so far but I don't know if it's the right/best way to do it : </p>\n\n<pre><code>def stats\n  @user = User.all\n  user_data = Hash.new\n  user_data[\"User_sum] = @user.count\n  user_data[\"user_email\"] = @user.select(:facebook_token).count\n  return user_data\nend\n</code></pre>\n\n<p>When I tried this, I have some troubles to put in into my index.html.haml. </p>\n\n<p>Does some of you have some leads ?</p>\n\n<p>Many thanks. </p>\n"}, {"tags": ["ruby", "rspec"], "comments": [{"owner": {"reputation": 11366, "user_id": 3922954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76ba47d2fdd24ab56b0b273cce2075e5?s=128&d=identicon&r=PG&f=1", "display_name": "AJF", "link": "https://stackoverflow.com/users/3922954/ajf"}, "edited": false, "score": 0, "creation_date": 1524081696, "post_id": 49908080, "comment_id": 86832051, "body": "Please post the full error. I expect that the error refers to the specific function that you&#39;re not giving sufficient arguments to."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1524081788, "post_id": 49908080, "comment_id": 86832092, "body": "Did you update your spec_helper? Are you requiring it?"}, {"owner": {"reputation": 39, "user_id": 6568849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9700ef530a70a7073c3b4ecc04651b75?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Sotnikov", "link": "https://stackoverflow.com/users/6568849/dmytro-sotnikov"}, "edited": false, "score": 0, "creation_date": 1524082120, "post_id": 49908080, "comment_id": 86832272, "body": "I have --require spec_helper in .rspec file"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1524082746, "post_id": 49908080, "comment_id": 86832609, "body": "@DmytroSotnikov Do you have the required stuff in the spec_helper?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1524083443, "post_id": 49908080, "comment_id": 86832969, "body": "Please edit the question with additional information; it&#39;s very difficult to read in comments."}, {"owner": {"reputation": 39, "user_id": 6568849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9700ef530a70a7073c3b4ecc04651b75?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Sotnikov", "link": "https://stackoverflow.com/users/6568849/dmytro-sotnikov"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1524083775, "post_id": 49908080, "comment_id": 86833134, "body": "@DaveNewton done"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524105872, "post_id": 49908080, "comment_id": 86839550, "body": "What is your question?"}, {"owner": {"reputation": 39, "user_id": 6568849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9700ef530a70a7073c3b4ecc04651b75?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Sotnikov", "link": "https://stackoverflow.com/users/6568849/dmytro-sotnikov"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524115650, "post_id": 49908080, "comment_id": 86842150, "body": "@sawa why I\u2019m getting error on test execution?"}], "owner": {"reputation": 39, "user_id": 6568849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9700ef530a70a7073c3b4ecc04651b75?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Sotnikov", "link": "https://stackoverflow.com/users/6568849/dmytro-sotnikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 556, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1543496817, "creation_date": 1524081587, "last_edit_date": 1543496817, "question_id": 49908080, "link": "https://stackoverflow.com/questions/49908080/wrong-number-of-arguments-given-1-expected-0-when-use-expect-method", "title": "wrong number of arguments (given 1, expected 0) when use expect method", "body": "<p>here is my code</p>\n\n<pre><code>describe \"my page\", :type =&gt; :feature, :js =&gt; true do\n\n  before(:each) do\n    visit EnvConfig.get :app_url\n  end\n\n  it { expect(page).to match_expectation }\n\nend\n</code></pre>\n\n<p>Trying to add gem and use it <a href=\"https://github.com/rprt/rspec-page-regression\" rel=\"nofollow noreferrer\">https://github.com/rprt/rspec-page-regression</a></p>\n\n<p>Error</p>\n\n<pre><code>Failures:\n\n1) my page should match expectation\n  Failure/Error: it { expect(page).to match_expectation }\n\nArgumentError:\n  wrong number of arguments (given 1, expected 0)\n  # ./spec/features/login_spec.rb:7:in `block (2 levels) in &lt;top (required)&gt;'\n\nFinished in 3.24 seconds (files took 0.90062 seconds to load)\n1 example, 1 failure\n\nFailed examples:\nrspec ./spec/features/login_spec.rb:7 # my page should match expectation\n</code></pre>\n\n<p>spec_helper.rb file has next requires</p>\n\n<pre><code>require 'capybara' \nrequire 'capybara/dsl' \nrequire 'capybara/rspec' \nrequire 'rspec' \nrequire 'rspec/page-regression'\nrequire 'selenium-webdriver' \nrequire 'site_prism' \nrequire 'env_config' \nrequire 'active_support/all'\n</code></pre>\n\n<p>and also config.javascript_driver = :selenium</p>\n"}, {"tags": ["ruby", "macos", "homebrew", "symlink"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 4838963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67bc93d14f2835757095a7044d9c7f50?s=128&d=identicon&r=PG", "display_name": "FrenchOwl", "link": "https://stackoverflow.com/users/4838963/frenchowl"}, "is_accepted": false, "score": 0, "last_activity_date": 1524083586, "creation_date": 1524083586, "answer_id": 49908568, "question_id": 49907217, "link": "https://stackoverflow.com/questions/49907217/create-symlink-to-usr-local-lib-cmake-from-homebrew-formula/49908568#49908568", "title": "Create symlink to /usr/local/lib/cmake from Homebrew Formula", "body": "<p>I ended up modifying both the formula and the CMakeLists.txt file so as to install a symlink to the configuration file in /usr/local/share. The configuration file pointed at by the symlink resides in the Cellar.</p>\n"}], "owner": {"reputation": 63, "user_id": 4838963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67bc93d14f2835757095a7044d9c7f50?s=128&d=identicon&r=PG", "display_name": "FrenchOwl", "link": "https://stackoverflow.com/users/4838963/frenchowl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524083586, "creation_date": 1524078214, "question_id": 49907217, "link": "https://stackoverflow.com/questions/49907217/create-symlink-to-usr-local-lib-cmake-from-homebrew-formula", "title": "Create symlink to /usr/local/lib/cmake from Homebrew Formula", "body": "<p>I wrote a custom Homebrew Formula to distribute some library. I'm happy with the result, but there's an outstanding problem. I would like to install the cmake config file (<code>YORPLibConfig.cmake</code>) in <code>/use/local/lib/cmake</code>.</p>\n\n<p>Unfortunately, this location appears to be out of reach from within the Formula. I had no problems to install the library and its headers thanks to the nifty <code>lib.install</code> and <code>include.install</code> functions, but I'm out of luck since there's no <code>lib/cmake.install</code> equivalent.</p>\n\n<p>I also tried to manually create the symlink by doing </p>\n\n<pre><code>ln_sf \"YORPLibConfig.cmake\", \"/usr/local/lib/cmake/\"\n</code></pre>\n\n<p>but the install fails upon throwing</p>\n\n<pre><code>Error: Operation not permitted @ rb_file_s_symlink - (YORPLibConfig.cmake, /usr/local/lib/cmake/YORPLibConfig.cmake)\n</code></pre>\n\n<p>How can I install this cmake file in <code>/usr/local/lib/cmake</code> from within the Formula?</p>\n\n<p>The formula itself:</p>\n\n<pre><code>class Yorplib &lt; Formula\n  desc \"A library for the computation of the Fourier decomposition of YORP forces and moments\"\n  homepage \"https://github.com/bbercovici/YORPLib\"\n  url \"https://github.com/bbercovici/YORPLib/archive/1.0.0.tar.gz\"\n  sha256 \"45fb9a2969368e76e472a39afa8feb32c27cbe17032371e06fd283f3d70bb7c7\"\n\n  depends_on \"cmake\" =&gt; :build\n\n  def install\n\n    # Compile\n    system \"cmake . -DBREW:BOOL=TRUE &amp;&amp; make\"\n\n    prefix.install \"YORPLibConfig.cmake\"\n\n    # Create symlink to library\n    ln_sf \"YORPLibConfig.cmake\", \"/usr/local/lib/cmake/\"\n\n    lib.install \"libYORPLib.dylib\"\n    include.install \"include/\"\n\n\n  end\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "json", "ruby", "postgresql"], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 1634444, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a848bd2162b85adca176eb3a21a527ef?s=128&d=identicon&r=PG&f=1", "display_name": "Pieterjan", "link": "https://stackoverflow.com/users/1634444/pieterjan"}, "edited": false, "score": 0, "creation_date": 1524070487, "post_id": 49905016, "comment_id": 86826040, "body": "Okay, thanks for setting that straight. Is there an easy way to define an accessor for the data that lives inside of the JSON? So I do not have to call <code>meta[&quot;title&quot;]</code> everytime I want to access the title?"}, {"owner": {"reputation": 375, "user_id": 1634444, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a848bd2162b85adca176eb3a21a527ef?s=128&d=identicon&r=PG&f=1", "display_name": "Pieterjan", "link": "https://stackoverflow.com/users/1634444/pieterjan"}, "edited": false, "score": 1, "creation_date": 1524071034, "post_id": 49905016, "comment_id": 86826336, "body": "Answering my own question here; <code>store_accessor</code> does this."}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": true, "score": 3, "last_activity_date": 1524070162, "creation_date": 1524070162, "answer_id": 49905016, "question_id": 49904861, "link": "https://stackoverflow.com/questions/49904861/rails-json-store-value-gets-quoted-upon-saving/49905016#49905016", "title": "Rails JSON store value gets quoted upon saving", "body": "<p><a href=\"http://api.rubyonrails.org/classes/ActiveRecord/AttributeMethods/Serialization/ClassMethods.html#method-i-serialize\" rel=\"nofollow noreferrer\">serialize</a> and <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Store.html\" rel=\"nofollow noreferrer\">store</a> are not intended to be used for native JSON columns. Their purpose is to marshal and un-marshal data into string columns. </p>\n\n<p>This was a \"poor mans\" JSON storage before native JSON support existed (and was supported by ActiceRecord). Using it on a JSON column will result in a double encoded string as you have noticed.</p>\n\n<p>You don't actually have to do anything to use a JSON column. Its handled by the adapter.</p>\n\n<p>See:</p>\n\n<ul>\n<li><p><a href=\"http://api.rubyonrails.org/classes/ActiveRecord/AttributeMethods/Serialization/ClassMethods.html#method-i-serialize\" rel=\"nofollow noreferrer\">http://api.rubyonrails.org/classes/ActiveRecord/AttributeMethods/Serialization/ClassMethods.html#method-i-serialize</a></p></li>\n<li><p><a href=\"http://guides.rubyonrails.org/active_record_postgresql.html#json-and-jsonb\" rel=\"nofollow noreferrer\">http://guides.rubyonrails.org/active_record_postgresql.html#json-and-jsonb</a></p></li>\n</ul>\n"}], "owner": {"reputation": 375, "user_id": 1634444, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a848bd2162b85adca176eb3a21a527ef?s=128&d=identicon&r=PG&f=1", "display_name": "Pieterjan", "link": "https://stackoverflow.com/users/1634444/pieterjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 49905016, "answer_count": 1, "score": 0, "last_activity_date": 1524070162, "creation_date": 1524069522, "question_id": 49904861, "link": "https://stackoverflow.com/questions/49904861/rails-json-store-value-gets-quoted-upon-saving", "title": "Rails JSON store value gets quoted upon saving", "body": "<p>I have this problem with my Rails (5.1.6) application that is running on a PostgreSQL instance.</p>\n\n<p>I have a model with a JSON type column (<code>t.json :meta</code>). The model has a store accessor like</p>\n\n<p><code>store :meta, accessors: [:title], coder: JSON</code></p>\n\n<p>The problem is now when I set this value that it shows up in the database as</p>\n\n<p><code>\"{\\\"title\\\":\\\"I am a title\\\"}\"</code></p>\n\n<p>making it text rather than a JSON value, which in turn makes that I cannot use the JSON query operator (<code>-&gt;&gt;</code>) to query my JSON fields. I already tried without the coder option, but this results in it being saved as YAML.\nThe serialize function also did not change anything for me (adding <code>serialize :meta, JSON</code>)</p>\n\n<p>Any and all help is appreciated!</p>\n"}, {"tags": ["javascript", "ruby", "ajax"], "answers": [{"comments": [{"owner": {"reputation": 1072, "user_id": 1566489, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6584d3f0db98cba147f20ec853c48a3a?s=128&d=identicon&r=PG", "display_name": "Gregoire Mulliez", "link": "https://stackoverflow.com/users/1566489/gregoire-mulliez"}, "edited": false, "score": 1, "creation_date": 1524070012, "post_id": 49903760, "comment_id": 86825783, "body": "I made the corrections but I still can&#39;t get result in  $(document).ready(function(){       $(&quot;form#ttform&quot;).on(&#39;ajax:success&#39;, function(event, data, status, xhr) {         ..."}], "tags": [], "owner": {"reputation": 405, "user_id": 4543085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fL4LJ.jpg?s=128&g=1", "display_name": "Shira Elitzur", "link": "https://stackoverflow.com/users/4543085/shira-elitzur"}, "is_accepted": true, "score": 4, "last_activity_date": 1524071115, "last_edit_date": 1524071115, "creation_date": 1524065896, "answer_id": 49903760, "question_id": 49902576, "link": "https://stackoverflow.com/questions/49902576/form-submit-and-return-value-remote-true-rails-way/49903760#49903760", "title": "form submit and return value (remote: true) - rails way?", "body": "<p>You should change method from <code>:get</code> to <code>:post</code>.\nAlso pay attention that currently you are not responding with <code>format.json</code> but with <code>format.js</code></p>\n\n<p>in the action you can use: <code>render json: {error: true}</code> (or any other json), </p>\n\n<p>and the javascript should look something like this:</p>\n\n<pre><code>$(document).on(\"ajax:complete\", \"#ttform\", function(status, response){\n    response = JSON.parse(response.responseText); \n    if (response.error) \n        // error behavior \n    else \n        // success behavior \n})\n</code></pre>\n"}], "owner": {"reputation": 1072, "user_id": 1566489, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6584d3f0db98cba147f20ec853c48a3a?s=128&d=identicon&r=PG", "display_name": "Gregoire Mulliez", "link": "https://stackoverflow.com/users/1566489/gregoire-mulliez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 49903760, "answer_count": 1, "score": 0, "last_activity_date": 1524071115, "creation_date": 1524062377, "question_id": 49902576, "link": "https://stackoverflow.com/questions/49902576/form-submit-and-return-value-remote-true-rails-way", "title": "form submit and return value (remote: true) - rails way?", "body": "<p>I am trying to make a form using remote: true\nSo fas it's working well, but I can't get the result back\nIs their a rails's way to do it easily ?\nwhere can I get my return value ?\nI am low at javascript and I just have jquery :-( </p>\n\n<p>My form : </p>\n\n<pre><code>&lt;%= form_tag(test_step2_path, method: :get, remote: true, id: 'ttform', 'data-type' =&gt; :json) do %&gt;\n</code></pre>\n\n<p>in my javascript :</p>\n\n<pre><code>ret = document.getElementById('ttform').submit();\n</code></pre>\n\n<p>and my controller :</p>\n\n<pre><code>def step2\nrespond_to do |format|\n  format.html {\n    puts ('*************** result1 *************** ')\n    return  1\n  }\n  format.js {\n    puts ('*************** result2 *************** ')\n    return  1\n  }\nend\n</code></pre>\n\n<p>end</p>\n\n<p>Ps : also I don't know why, it's the html part in my controller which is called, not the json </p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "forms", "erb"], "answers": [{"tags": [], "owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "is_accepted": true, "score": 3, "last_activity_date": 1524062304, "last_edit_date": 1524062304, "creation_date": 1524061419, "answer_id": 49902226, "question_id": 49902052, "link": "https://stackoverflow.com/questions/49902052/how-do-you-store-an-erb-value-inside-input-tags-in-rails/49902226#49902226", "title": "How do you store an erb value inside input tags in Rails?", "body": "<p>This is because the value for the <code>value</code> tag has not been put in quotes.\nYou should change it to </p>\n\n<pre><code>&lt;input class=\"adjustorInfo\" value=\"&lt;%= @adjuster.adjuster_name %&gt;\"/&gt;\n</code></pre>\n\n<hr>\n\n<p>When you pass it without quotes, the corresponding HTML looks like this</p>\n\n<pre><code>&lt;input class=\"adjustorInfo\" value=John Doe/&gt;\n</code></pre>\n\n<p>which is then converted to what you are seeing</p>\n\n<pre><code>&lt;input class=\"adjustorInfo\" value=\"John\"/&gt;\n</code></pre>\n\n<p>Passing it inside quotes forms this which is the expected value</p>\n\n<pre><code>&lt;input class=\"adjustorInfo\" value=\"John Doe\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 8567086, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--tz6W7bCZ4k/AAAAAAAAAAI/AAAAAAAAAmM/LoZMeMzLmQE/photo.jpg?sz=128", "display_name": "chase dougherty", "link": "https://stackoverflow.com/users/8567086/chase-dougherty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 49902226, "answer_count": 1, "score": 1, "last_activity_date": 1524062347, "creation_date": 1524060964, "last_edit_date": 1524062347, "question_id": 49902052, "link": "https://stackoverflow.com/questions/49902052/how-do-you-store-an-erb-value-inside-input-tags-in-rails", "title": "How do you store an erb value inside input tags in Rails?", "body": "<p>When I try to show the name of a person inside my input tag using value, the name gets cut off as soon as there is a space. So when it should say John Doe, the input is only showing John. Does anyone know why it would do this in my rails app? The database is correct, and everything shows properly if I use  tags.     </p>\n\n<pre><code>form class=\"panel data-abide\" action=\"\" id=\"form1\"&gt;\n  &lt;fieldset &gt;\n    &lt;legend&gt;Please Enter the Information Below&lt;/legend&gt;\n\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"large-4 columns\"&gt;\n      &lt;label&gt;Adjuster's Name\n        &lt;input class=\"adjustorInfo\" value=&lt;%= @adjuster.adjuster_name %&gt;/&gt;\n     &lt;/label&gt;\n    &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "activerecord"], "comments": [{"owner": {"reputation": 2487, "user_id": 8098012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cbdb5ca9b079de1c9700271166feead?s=128&d=identicon&r=PG", "display_name": "Pavel Mikhailyuk", "link": "https://stackoverflow.com/users/8098012/pavel-mikhailyuk"}, "edited": false, "score": 0, "creation_date": 1524063080, "post_id": 49901144, "comment_id": 86821083, "body": "<code>pluck(&#39;table1.column1, table1.column2, table2.column1, table2.column2&#39;)</code>"}, {"owner": {"reputation": 2487, "user_id": 8098012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cbdb5ca9b079de1c9700271166feead?s=128&d=identicon&r=PG", "display_name": "Pavel Mikhailyuk", "link": "https://stackoverflow.com/users/8098012/pavel-mikhailyuk"}, "edited": false, "score": 0, "creation_date": 1524063207, "post_id": 49901144, "comment_id": 86821175, "body": "Table name can be hardcoded OR from <code>Model.table_name</code> OR from Arel"}], "answers": [{"tags": [], "owner": {"reputation": 2009, "user_id": 20769, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/922e7e3c612566756735b2def78827d8?s=128&d=identicon&r=PG", "display_name": "Joshua", "link": "https://stackoverflow.com/users/20769/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1524064997, "creation_date": 1524064997, "answer_id": 49903483, "question_id": 49901144, "link": "https://stackoverflow.com/questions/49901144/pluck-on-multiple-joined-tables/49903483#49903483", "title": "pluck on multiple joined tables", "body": "<p>As you said you can get the results you want as an array with pluck</p>\n\n<pre><code>arrays = House.where(city: 'Paris').joins(floors: {rooms: :furnitures}).pluck('name', 'floors.id', 'floors.name', 'rooms.name', 'furnitures.name')\n</code></pre>\n\n<p>To get them an a hash I think you'll need to do the grouping manually. Something like the following.</p>\n\n<pre><code>arrays = [\n  ['toto', 123, 'tata', 'titi', 'table'], \n  ['toto', 123, 'tata', 'titi', 'chair'],\n  ['bob', 124, 'sue', 'hall', 'table'],\n  ['bob', 124, 'sue', 'foyer', 'table']\n]\n\narrays.inject([]) do |results, row|\n  name, floor_id, floor_name, room_name, furniture_name = row\n\n  house = results.detect{|o| o[:name] == name} || {name: name, floors: []}\n  results |= [house]\n\n  floor = house[:floors].detect{|o| o[:id] == floor_id} || {id: floor_id, name: floor_name, rooms: []}\n  house[:floors] |= [floor]\n\n  room = floor[:rooms].detect{|o| o[:name] == room_name} || {name: room_name, furnitures: []}\n  floor[:rooms] |= [room]\n\n  furniture = room[:furnitures].detect{|o| o[:name] == furniture_name} || {name: furniture_name}\n  room[:furnitures] |= [furniture]\n\n  results\nend\n</code></pre>\n\n<p>Would get you something like</p>\n\n<pre><code>---\n- :name: toto   \n  :floors:\n  - :id: 123\n    :name: tata\n    :rooms:\n    - :name: titi\n      :furnitures:\n      - :name: table\n      - :name: chair\n- :name: bob   \n  :floors:\n  - :id: 124\n    :name: sue\n    :rooms:\n    - :name: hall\n      :furnitures:\n      - :name: table\n    - :name: foyer\n      :furnitures:\n      - :name: table\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 856, "user_id": 2131983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3sKfa.jpg?s=128&g=1", "display_name": "khiav reoy", "link": "https://stackoverflow.com/users/2131983/khiav-reoy"}, "is_accepted": true, "score": 1, "last_activity_date": 1525168428, "creation_date": 1525168428, "answer_id": 50114507, "question_id": 49901144, "link": "https://stackoverflow.com/questions/49901144/pluck-on-multiple-joined-tables/50114507#50114507", "title": "pluck on multiple joined tables", "body": "<p>Why not use <a href=\"https://github.com/khiav223577/deep_pluck\" rel=\"nofollow noreferrer\">deep_pluck</a> to pluck nested associations.</p>\n\n<pre><code>House.where(city: 'Paris').deep_pluck(\n  :name, \n  floors: [\n    :id, \n    :name, \n    rooms: [\n      :name,\n      furnitures: :name,\n    ]\n  ]\n)\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 3177310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0e457fb3ebf0ea43ed2bb443fc28b2?s=128&d=identicon&r=PG&f=1", "display_name": "Poilon", "link": "https://stackoverflow.com/users/3177310/poilon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1506, "favorite_count": 0, "accepted_answer_id": 50114507, "answer_count": 2, "score": 4, "last_activity_date": 1525168428, "creation_date": 1524058502, "last_edit_date": 1524060265, "question_id": 49901144, "link": "https://stackoverflow.com/questions/49901144/pluck-on-multiple-joined-tables", "title": "pluck on multiple joined tables", "body": "<p>I have this data model</p>\n\n<p>House <code>has_many :floors</code> (attributes => name, size, city)<br>\nFloor <code>has_many :rooms, belongs_to :house</code> (attributes => name, rooms_count)<br>\nRoom <code>has_many :furnitures, belongs_to :floor</code> (attributes => name, size)<br>\nFurniture <code>belongs_to :room</code> (attributes => name, size, color)  </p>\n\n<p>and I want to query that way</p>\n\n<p><code>House.where(city: 'Paris').joins(floors: {rooms: :furnitures}).pluck(name, floors.id, floors.name, rooms.name, furnitures.name)</code></p>\n\n<p>This is the SQL request I want to have :</p>\n\n<p><code>=&gt; SELECT houses.name, floors.id, floors.name, rooms.id, rooms.name, furnitures.id, furnitures.name FROM \"houses\" INNER JOIN \"floors\" ON \"floors\".\"company_id\" = \"houses\".\"id\" INNER JOIN \"rooms\" ON \"rooms\".\"building_id\" = \"floors\".\"id\" INNER JOIN \"furnitures\" ON \"furnitures\".\"floor_id\" = \"rooms\".\"id\" WHERE \"houses\".\"name\" = $1 [[\"city\", \"Paris\"]]</code></p>\n\n<p>Now I get the results raw in a big array of arrays, and I want to sort it like this, but I'm quite stuck :</p>\n\n<p><code>\n[\n  {\n    name: 'toto',\n    floors: [\n      {\n        id: '123',\n        name: 'tata'\n        rooms: [\n          {\n            name: 'titi',\n            furnitures: [\n              {\n                name: 'table'\n              },\n              {\n                name: 'chair'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n]\n</code>\nI need to avoid N+1 request and only refuse to have a select *.\nThe <code>pluck_to_hash</code> gem could be helpful but does not work very well with multi tables queries.\nThanks for you help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "database"], "comments": [{"owner": {"reputation": 4602, "user_id": 1141264, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4af75d466ec6c84e3a0a9f1de61233ae?s=128&d=identicon&r=PG", "display_name": "DickieBoy", "link": "https://stackoverflow.com/users/1141264/dickieboy"}, "edited": false, "score": 0, "creation_date": 1524058753, "post_id": 49901077, "comment_id": 86817792, "body": "Its extremely unclear what you are asking. Could you elaborate a little more."}, {"owner": {"reputation": 75, "user_id": 7294640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a391de80da94a6f8d4f5552d271d5084?s=128&d=identicon&r=PG&f=1", "display_name": "Ryu Nishida", "link": "https://stackoverflow.com/users/7294640/ryu-nishida"}, "reply_to_user": {"reputation": 4602, "user_id": 1141264, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4af75d466ec6c84e3a0a9f1de61233ae?s=128&d=identicon&r=PG", "display_name": "DickieBoy", "link": "https://stackoverflow.com/users/1141264/dickieboy"}, "edited": false, "score": 0, "creation_date": 1524064223, "post_id": 49901077, "comment_id": 86821971, "body": "I updated my question thanks"}, {"owner": {"reputation": 4602, "user_id": 1141264, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4af75d466ec6c84e3a0a9f1de61233ae?s=128&d=identicon&r=PG", "display_name": "DickieBoy", "link": "https://stackoverflow.com/users/1141264/dickieboy"}, "edited": false, "score": 0, "creation_date": 1524064767, "post_id": 49901077, "comment_id": 86822382, "body": "Why do you need to delete a model?"}, {"owner": {"reputation": 75, "user_id": 7294640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a391de80da94a6f8d4f5552d271d5084?s=128&d=identicon&r=PG&f=1", "display_name": "Ryu Nishida", "link": "https://stackoverflow.com/users/7294640/ryu-nishida"}, "reply_to_user": {"reputation": 4602, "user_id": 1141264, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4af75d466ec6c84e3a0a9f1de61233ae?s=128&d=identicon&r=PG", "display_name": "DickieBoy", "link": "https://stackoverflow.com/users/1141264/dickieboy"}, "edited": false, "score": 0, "creation_date": 1524065665, "post_id": 49901077, "comment_id": 86823080, "body": "Because once I thought that one model was necessary but after that I found that it was necessary"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 7294640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a391de80da94a6f8d4f5552d271d5084?s=128&d=identicon&r=PG&f=1", "display_name": "Ryu Nishida", "link": "https://stackoverflow.com/users/7294640/ryu-nishida"}, "edited": false, "score": 0, "creation_date": 1524091774, "post_id": 49904229, "comment_id": 86836162, "body": "I actually once tried the <code>rake db:migrate</code> but it didn&#39;t work by saying there&#39;s already a relation....  that&#39;s why I rebuild the databases, so I wonder if there&#39;s another way except re-making the databases."}], "tags": [], "owner": {"reputation": 291, "user_id": 6058571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNvH1.jpg?s=128&g=1", "display_name": "stefan0xC", "link": "https://stackoverflow.com/users/6058571/stefan0xc"}, "is_accepted": false, "score": 0, "last_activity_date": 1524067426, "creation_date": 1524067426, "answer_id": 49904229, "question_id": 49901077, "link": "https://stackoverflow.com/questions/49901077/how-can-i-remake-databases-without-losing-data-on-ruby-on-rails/49904229#49904229", "title": "How can I remake databases without losing data on Ruby on Rails?", "body": "<p>Normally, this should not affect your production database, since Ruby on Rails knows what migrations have run already and that's why you should use <code>rails db:migrate</code> to update your database.</p>\n\n<p>If your production database has old entries that you want to reuse, you can also change the <a href=\"http://guides.rubyonrails.org/active_record_migrations.html\" rel=\"nofollow noreferrer\">Active Record Migrations</a> so that the affected table does not get dropped and recreated but altered instead.</p>\n"}], "owner": {"reputation": 75, "user_id": 7294640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a391de80da94a6f8d4f5552d271d5084?s=128&d=identicon&r=PG&f=1", "display_name": "Ryu Nishida", "link": "https://stackoverflow.com/users/7294640/ryu-nishida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1524067426, "creation_date": 1524058303, "last_edit_date": 1524064139, "question_id": 49901077, "link": "https://stackoverflow.com/questions/49901077/how-can-i-remake-databases-without-losing-data-on-ruby-on-rails", "title": "How can I remake databases without losing data on Ruby on Rails?", "body": "<p>Sorry that this question is not a proper one on this site, but I really thought that I needed to know how to do that, because in production environment, if I delete all data all the time when I delete a model, this should be a serious problem.</p>\n\n<h2>In detail</h2>\n\n<p>In case re-making the same named model,I mean after delete a model, then make the same named model.\nIt should be like \n<code>rails destroy model Name</code>\nand after that \n<code>rails g model Name</code>\nAnd usually errors occur in this case, we can basically fix the errors by using the command <code>rails db:schema:load</code>, but this command destroys whole data of an existing database, but I don't want to lose the data so I wonder if there are any other good ways for this.\nThanks </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524048516, "post_id": 49897647, "comment_id": 86810832, "body": "Where do you expect the relation between <code>Child</code> and <code>Base</code> to come from?"}, {"owner": {"reputation": 646, "user_id": 6695861, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/845e32a9576a6670db748fb456c089e8?s=128&d=identicon&r=PG&f=1", "display_name": "P. Boro", "link": "https://stackoverflow.com/users/6695861/p-boro"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524048624, "post_id": 49897647, "comment_id": 86810911, "body": "@sawa sorry, it inherits from base, updated"}], "answers": [{"comments": [{"owner": {"reputation": 646, "user_id": 6695861, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/845e32a9576a6670db748fb456c089e8?s=128&d=identicon&r=PG&f=1", "display_name": "P. Boro", "link": "https://stackoverflow.com/users/6695861/p-boro"}, "edited": false, "score": 0, "creation_date": 1524050208, "post_id": 49898162, "comment_id": 86811981, "body": "Thank you! This is great solution."}, {"owner": {"reputation": 6018, "user_id": 3073313, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d9a53be16eb996b521f1637d19005511?s=128&d=identicon&r=PG", "display_name": "Jay-Ar Polidario", "link": "https://stackoverflow.com/users/3073313/jay-ar-polidario"}, "reply_to_user": {"reputation": 646, "user_id": 6695861, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/845e32a9576a6670db748fb456c089e8?s=128&d=identicon&r=PG&f=1", "display_name": "P. Boro", "link": "https://stackoverflow.com/users/6695861/p-boro"}, "edited": false, "score": 0, "creation_date": 1524050273, "post_id": 49898162, "comment_id": 86812033, "body": "Great! No problem! :)"}, {"owner": {"reputation": 646, "user_id": 6695861, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/845e32a9576a6670db748fb456c089e8?s=128&d=identicon&r=PG&f=1", "display_name": "P. Boro", "link": "https://stackoverflow.com/users/6695861/p-boro"}, "edited": false, "score": 0, "creation_date": 1524050393, "post_id": 49898162, "comment_id": 86812110, "body": "I found one side effect. If I have some other class that inherits from <code>Child</code> the ancestors list looks like: <code>[ModuleToPrepend, ChildOfChild, ModuleToPrepend, Child, Base, Object, Kernel, BasicObject]</code> so this puts is evaluated two times."}, {"owner": {"reputation": 6018, "user_id": 3073313, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d9a53be16eb996b521f1637d19005511?s=128&d=identicon&r=PG", "display_name": "Jay-Ar Polidario", "link": "https://stackoverflow.com/users/3073313/jay-ar-polidario"}, "reply_to_user": {"reputation": 646, "user_id": 6695861, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/845e32a9576a6670db748fb456c089e8?s=128&d=identicon&r=PG&f=1", "display_name": "P. Boro", "link": "https://stackoverflow.com/users/6695861/p-boro"}, "edited": false, "score": 0, "creation_date": 1524051008, "post_id": 49898162, "comment_id": 86812564, "body": "Hmm. I see. Okay, let&#39;s enforce a condition to only prepend to &quot;immediate subclass&quot; of <code>Base</code>. See my updated answer."}], "tags": [], "owner": {"reputation": 6018, "user_id": 3073313, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d9a53be16eb996b521f1637d19005511?s=128&d=identicon&r=PG", "display_name": "Jay-Ar Polidario", "link": "https://stackoverflow.com/users/3073313/jay-ar-polidario"}, "is_accepted": true, "score": 5, "last_activity_date": 1524051781, "last_edit_date": 1524051781, "creation_date": 1524049622, "answer_id": 49898162, "question_id": 49897647, "link": "https://stackoverflow.com/questions/49897647/ruby-prepend-module-how-to-prepend-module-to-the-beginning-of-ancestors-array/49898162#49898162", "title": "Ruby Prepend Module - how to prepend module to the beginning of ancestors array from Parent class", "body": "<p>Not sure if there are any side-effects of this (if anyone, please enlighten me) but the following should work:</p>\n\n<pre><code>module ModuleToPrepend\n  def perform(*args)\n    puts 'ModuleToPrepend#perform'\n    puts args\n    super\n  end\nend\n\nclass Base\n  def self.inherited(subclass)\n    puts 'Base.inherited'\n    subclass.prepend(ModuleToPrepend) if subclass.superclass == Base\n    super\n  end\nend\n\nclass Child &lt; Base\n  def perform(*args)\n    puts 'Child#perform'\n  end\nend\n# =&gt; Base.inherited\n\nclass Subchild &lt; Child\n  def perform(*args)\n    puts 'Subchild#perform'\n    super\n  end\nend\n# =&gt; Base.inherited\n\nputs Child.ancestors\n# =&gt; [ModuleToPrepend, Child, Base, Object, Kernel, BasicObject]\n\nchild = Child.new\nchild.perform('arg1', 'arg2')\n# =&gt; ModuleToPrepend#perform\n# =&gt; [arg1, arg2]\n# =&gt; Child#perform\n\nputs Subchild.ancestors\n# =&gt; [Subchild, ModuleToPrepend, Child, Base, Object, Kernel, BasicObject]\n\nsubchild = Subchild.new\nsubchild.perform('arg1', 'arg2')\n# =&gt; Subchild#perform\n# =&gt; ModuleToPrepend#perform\n# =&gt; [arg1, arg2]\n# =&gt; Child#perform\n</code></pre>\n"}], "owner": {"reputation": 646, "user_id": 6695861, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/845e32a9576a6670db748fb456c089e8?s=128&d=identicon&r=PG&f=1", "display_name": "P. Boro", "link": "https://stackoverflow.com/users/6695861/p-boro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 1, "accepted_answer_id": 49898162, "answer_count": 1, "score": 2, "last_activity_date": 1524051781, "creation_date": 1524048035, "last_edit_date": 1524048573, "question_id": 49897647, "link": "https://stackoverflow.com/questions/49897647/ruby-prepend-module-how-to-prepend-module-to-the-beginning-of-ancestors-array", "title": "Ruby Prepend Module - how to prepend module to the beginning of ancestors array from Parent class", "body": "<p>I have code like this:</p>\n\n<pre><code>module ModuleToPrepend\n  def perform(*args)\n    puts args\n    super\n  end\nend\n\nclass Base\n  prepend ModuleToPrepend\nend\n\nclass Child &lt; Base\n  def perform(*args)\n    do_something(args)\n  end\nend\n</code></pre>\n\n<p>I'm looking for a solution to print method arguments before every <code>Child.new.perform</code> call. I want to prepend a module <code>ModuleToPrepend</code> to the beginning of the ancestors list inside a class <code>Base</code>. I don't want to prepend it in a class <code>Child</code> because there are hundreds of them.</p>\n\n<p>My code returns this: <code>Child.ancestrors #=&gt; [Child, ModuleToPrepend, Base]</code>\nI want this: <code>Child.ancestrors #=&gt; [ModuleToPrepend, Child, Base]</code></p>\n\n<p>Can it be done in ruby?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "edited": false, "score": 2, "creation_date": 1524047316, "post_id": 49897371, "comment_id": 86809989, "body": "Try adding date inside quotes: <code>&#39;2017-05-01&#39;</code>"}, {"owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "edited": false, "score": 0, "creation_date": 1524048364, "post_id": 49897371, "comment_id": 86810742, "body": "Just as a minor suggestion, since you have ruby code there, consider adding comments like <code>As example</code> as an actual ruby comment with <code>#</code> instead of <code>&#47;</code>; that will make it much easier to identify as a comment for people who are used to ruby <i>and</i> stack overflow will know to format it as a comment."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "edited": false, "score": 0, "creation_date": 1524048712, "post_id": 49897733, "comment_id": 86810978, "body": "Thanks for your answer, you made it pretty clear and you helped me for a other issue I&#39;m currently facing ! However, when I&#39;m typing the `Date.now-360&#39; I have an undefined method, any thoughts ?"}, {"owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "reply_to_user": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "edited": false, "score": 0, "creation_date": 1524049461, "post_id": 49897733, "comment_id": 86811490, "body": "Oh, it&#39;s <code>Date.today</code>, actually. My mistake :P (got confused with <code>Time.now</code>)"}, {"owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "reply_to_user": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "edited": false, "score": 0, "creation_date": 1524049717, "post_id": 49897733, "comment_id": 86811662, "body": "Yeah, that works as well. There&#39;s a tiny difference though: <code>DateTime.now</code> returns the current time (as a <code>DateTime</code> object), while <code>Date.today</code> returns the current <code>Date</code>, with no time information. When formatting as a string, <code>Date</code> inserts <code>0</code> for <code>%h</code> (hour), <code>%m</code> (minute), etc. while <code>DateTime</code> inserts the actual values."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1524059600, "post_id": 49897733, "comment_id": 86818397, "body": "<i>&quot;If you have a date object ...&quot;</i> \u2013 ... you can pass it as-is. Rails takes care of converting it accordingly. Even if you have a string, you should probably convert it to a <code>Date</code> instance rather than passing the raw value."}], "tags": [], "owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "is_accepted": true, "score": 0, "last_activity_date": 1524049484, "last_edit_date": 1524049484, "creation_date": 1524048243, "answer_id": 49897733, "question_id": 49897371, "link": "https://stackoverflow.com/questions/49897371/time-format-in-ruby/49897733#49897733", "title": "Time format in ruby", "body": "<p>You can just pass a string representing a date in sql like so:</p>\n\n<pre><code>...where(\"last_sign_in_at &gt;= '2017-05-01'\")...\n</code></pre>\n\n<p>Note the <code>'</code> around the date; they are there for SQL, not for Ruby, so the ruby string is between <code>\"</code> to avoid escaping them as <code>\\'</code></p>\n\n<p>If you have a date object, you can convert it to a string like this:</p>\n\n<pre><code>some_date = Date.today-360 # You can subtract days from Date objects in Ruby\n...where('last_sign_in_at &gt;= ?', some_date.strftime('%Y-%m-%d'))\n# strftime = string-format-time (or something like that)\n</code></pre>\n\n<p>Otherwise, if you already have a string representing the date, you can just use that directly and most likely your database will know how to interpret the string as a date. Remember to add the <code>'</code> though.</p>\n\n<p>Note: It might be possible to do \"last_sign_in_at >= '>'\" and then pass the string without <code>'</code>, but you'll have to try for yourself if that works or not.</p>\n"}], "owner": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 49897733, "answer_count": 1, "score": 1, "last_activity_date": 1524051950, "creation_date": 1524047237, "last_edit_date": 1524051950, "question_id": 49897371, "link": "https://stackoverflow.com/questions/49897371/time-format-in-ruby", "title": "Time format in ruby", "body": "<p>I have a quick question about time format in Rails / ActiveRecord.</p>\n\n<p>I want to have all the data since a specific date. I've done it for the 7 last days or for the last month but I want to have it since May 2017.</p>\n\n<p>Here's what I came up with:</p>\n\n<pre><code> %td= User.where('last_sign_in_at &gt;= ?', 1.month.ago).sum(:sign_in_count) # As exemple\n %td= User.where('last_sign_in_at &gt;= ?', 2017-05-01).sum(:sign_in_count) # Here's what I'm looking for.\n</code></pre>\n\n<p>But here's the error I get <code>No operator matches the given name and argument type(s). You might need to add explicit type casts.</code></p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["ruby", "encryption", "openssl", "base64"], "comments": [{"owner": {"reputation": 449, "user_id": 6324558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/695946b2499d7dcb2759724e66cfad38?s=128&d=identicon&r=PG&f=1", "display_name": "Alexis Delahaye", "link": "https://stackoverflow.com/users/6324558/alexis-delahaye"}, "edited": false, "score": 0, "creation_date": 1524047557, "post_id": 49897251, "comment_id": 86810163, "body": "your code doesn&#39;t raise any errors when i run it ,  you just need to specify one argument. <code>ruby yourcode.rb test</code> =&gt; <code>&quot;8NuL1fbm5W6s4b4Sk4UJTA==&quot;  &quot;T_h31m0QwG53XT7cqF-62w==&quot;</code> What is your problem exactly ?"}, {"owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "edited": false, "score": 0, "creation_date": 1524048865, "post_id": 49897251, "comment_id": 86811064, "body": "Please be a bit more specific; tell us how exactly the program behaves differently from what you expect, and include any error messages you may be getting as well. Knowing what command line you run the program with (specially what arguments) may also be useful for reproducing the problem."}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1524055047, "post_id": 49897251, "comment_id": 86815209, "body": "when I encode it works fine but when I decode I get error message about the size of the key. I tried now to find some way to decode base 64 the key and text before I decipher them but I still got error message after that on line 44 (&quot;update key not set &lt;OpenSSL:Cipher:CipherError&gt; from encode_decode.rb:44in &lt;main&gt;)  and I don&#39;t know how to raise errors, I&#39;m still new to ruby but because it&#39;s similar to Python I understand the basic."}], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1524054494, "post_id": 49898044, "comment_id": 86814790, "body": "I&#39;m new to this and I can&#39;t find in stackoverflow solution to how to decrypt. do you have any websites with information on how to do it? I found only encrypting with base64  and thank you so much for your help!"}, {"owner": {"reputation": 449, "user_id": 6324558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/695946b2499d7dcb2759724e66cfad38?s=128&d=identicon&r=PG&f=1", "display_name": "Alexis Delahaye", "link": "https://stackoverflow.com/users/6324558/alexis-delahaye"}, "edited": false, "score": 0, "creation_date": 1524055054, "post_id": 49898044, "comment_id": 86815211, "body": "base64 is used for encoding, you can&#39;t hide data with it, it&#39;s no encryption. encrypting in your program is done with AES"}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1524055233, "post_id": 49898044, "comment_id": 86815316, "body": "I did what you said about -wc and in both cases (encode and decode) it wrote &quot;Syntax OK&quot;  I tried to decode the base64 code and still get error but different. I&#39;ll edit the post so you can see the update"}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1524055382, "post_id": 49898044, "comment_id": 86815421, "body": "what method do I use to decode the base64 I used on the key?"}], "tags": [], "owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "is_accepted": false, "score": 0, "last_activity_date": 1524049227, "creation_date": 1524049227, "answer_id": 49898044, "question_id": 49897251, "link": "https://stackoverflow.com/questions/49897251/ruby-encrypt-decrypt-exercise-using-argv/49898044#49898044", "title": "Ruby Encrypt-Decrypt exercise using ARGV", "body": "<p>The most obvious problem I notice is that when encrypting, you encode the ciphertext and key in base64, but then in the decryption step you don't decode them back into text/binary data.</p>\n\n<p>Try fixing that and see if it works after that :)</p>\n\n<p>Another weird thing I noticed is the line <code>iv = cipher.random_iv</code>. I suppose you meant something similar to <code>decipher.iv = decipher.random_iv</code> a few lines below.</p>\n\n<p>To help avoid simple mistakes like this, always run <code>ruby -wc &lt;your_program.rb&gt;</code> to have ruby check the syntax of the file. In the case above, it would have told you that the variable <code>iv</code> is declared but never used. (<code>-c</code> = check syntax only; <code>-w</code> = show warnings as well as errors)</p>\n"}], "owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524162442, "creation_date": 1524046898, "last_edit_date": 1524162442, "question_id": 49897251, "link": "https://stackoverflow.com/questions/49897251/ruby-encrypt-decrypt-exercise-using-argv", "title": "Ruby Encrypt-Decrypt exercise using ARGV", "body": "<p>I started recently learning Ruby and I got an assignment as described here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RPQUE.png\" rel=\"nofollow noreferrer\">Assignment</a></p>\n\n<p>So far this is my code, and the encode is working but the decode doesn't.\nI tried search on google for answer and didn't find one, most likely I don't have enough experience to understand some of the things I found.\nThe only thing I know is that the key, after I enter the output of the encode is too big as an error message said.</p>\n\n<p>I hope someone can help me understand what's wrong. </p>\n\n<pre><code> #!/usr/bin/ruby\n\nrequire \"openssl\"\nrequire \"base64\"\ninclude Base64\n\n# check if argv is empty or if argv contains more than two values. if so, print error message and exit program\nif ARGV.empty? || ARGV.length &gt; 2\n  puts \"Error: invalid input, please try again.\"\n  exit(2)\nend\n\n# check which method need - encrypt (ARGV contains only one value) of decrypt (ARGV contains two values)\nif ARGV.length == 1\n\n   # create the cipher for encrypting\n  cipher = OpenSSL::Cipher::AES128.new(:CBC)\n  cipher.encrypt\n\n  text = ARGV[0].to_s\n  key = cipher.random_key\n  iv = cipher.random_iv\n\n  # Encrypt the data, print it and exit program\n  cipher_text = cipher.update(text) + cipher.final\n  puts \"\\\"\" + urlsafe_encode64(cipher_text) + \"\\\"  \\\"\" + urlsafe_encode64(key) + \"\\\"\"\n  exit(2)\nend\n\n# check which method need - encrypt (ARGV contains only one value) of decrypt (ARGV contains two values)\nif ARGV.length == 2                                                   \n\n  # create the cipher decrypt\n  decipher = OpenSSL::Cipher::AES128.new(:CBC)\n  decipher.decrypt\n\n  decrypt_text = ARGV[0].to_s\n  decipher.key = ARGV[1].to_s\n  decipher.iv = decipher.random_iv\n\n  # Decrypt the data, print it and exit program\n  decrypted_text = decipher.update(decrypt_text) + decipher.final\n  puts \"\\\"\" + decrypted_text + \"\\\"\"\n  exit(2)\nend \n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 1, "creation_date": 1524045994, "post_id": 49896866, "comment_id": 86809106, "body": "Search SO for <i>is floating-point maths broken</i> and similar phrases.  In a nutshell -- you need to learn a little more about how computers do arithmetic with fractions, the Wikipedia article on <i>floating-point arithmetic</i> is a good place to start."}, {"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 1, "creation_date": 1524046031, "post_id": 49896866, "comment_id": 86809126, "body": "This is about python, but it applies to Ruby floating point as well: <a href=\"https://docs.python.org/2/tutorial/floatingpoint.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/floatingpoint.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "reply_to_user": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 0, "creation_date": 1524047991, "post_id": 49897226, "comment_id": 86810476, "body": "ok, edited the answer to reflect that :)"}, {"owner": {"reputation": 5, "user_id": 6486270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToR0C.jpg?s=128&g=1", "display_name": "Fleep", "link": "https://stackoverflow.com/users/6486270/fleep"}, "edited": false, "score": 0, "creation_date": 1524048705, "post_id": 49897226, "comment_id": 86810971, "body": "So short and painful, if i become the numbers from other source (which i get a string from), my only/best way to deal with this is transforming this number to cents, do the math, then convert again from cents to decimal, right?"}, {"owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "edited": false, "score": 0, "creation_date": 1524048904, "post_id": 49897226, "comment_id": 86811086, "body": "yes :)  But if you get a string anyway, you can also use <code>BigDecimal.new(&quot;1.234&quot;)</code>. Calculations with this class will be correct. Read more here: <a href=\"https://ruby-doc.org/stdlib-2.1.1/libdoc/bigdecimal/rdoc/BigDecimal.html\" rel=\"nofollow noreferrer\">ruby-doc.org/stdlib-2.1.1/libdoc/bigdecimal/rdoc/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "is_accepted": true, "score": 0, "last_activity_date": 1524047953, "last_edit_date": 1524047953, "creation_date": 1524046823, "answer_id": 49897226, "question_id": 49896866, "link": "https://stackoverflow.com/questions/49896866/ruby-and-mathematical-problems/49897226#49897226", "title": "Ruby and mathematical problems", "body": "<p>In a nutshell, computers have a problem working with real numbers and use \n floating point representation to deal with them. Much in the same way you can only represent 256 numbers with 8 bits for natural numbers, you can only represent a fixed amount of numbers with 64 bits for real numbers. For more details on this, read this <a href=\"http://floating-point-gui.de/\" rel=\"nofollow noreferrer\">http://floating-point-gui.de/</a> or google for \"floating point arithmetic\".</p>\n\n<p><strong>How should i deal with that?</strong></p>\n\n<ul>\n<li>Never store currency values in floating point variables. Use <code>BigDecimal</code> or do your calculations in cents using only integer numbers.</li>\n<li>use <code>round</code> to round your floats to a user friendly length. Rounding errors <em>will</em> occur, especially when adding up a lot of floats.</li>\n<li>In SQL systems use <code>decimal</code> data type, or use integers and divide them by a constant factor in the UI (say you need 3 decimal digits, you could store <code>1234</code> as integer and display <code>1.234</code>. </li>\n</ul>\n"}], "owner": {"reputation": 5, "user_id": 6486270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToR0C.jpg?s=128&g=1", "display_name": "Fleep", "link": "https://stackoverflow.com/users/6486270/fleep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1524053942, "accepted_answer_id": 49897226, "answer_count": 1, "score": -1, "last_activity_date": 1524048686, "creation_date": 1524045845, "last_edit_date": 1524048686, "question_id": 49896866, "link": "https://stackoverflow.com/questions/49896866/ruby-and-mathematical-problems", "closed_reason": "Duplicate", "title": "Ruby and mathematical problems", "body": "<p>I was trying to solve a mathematical problem:</p>\n\n<pre><code>37.9 - 6.05\n</code></pre>\n\n<p>Ruby gives me:</p>\n\n<pre><code>37.9 - 6.05\n#=&gt; 31.849999999999998\n37.90 - 6.05\n#=&gt; 31.849999999999998\n37.90 + 6.05\n#=&gt; 43.949999999999996\n</code></pre>\n\n<p>Why am I getting this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "erd"], "comments": [{"owner": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 1, "creation_date": 1524045374, "post_id": 49896598, "comment_id": 86808670, "body": "The <code>rails-erd</code> still works as expected on my Rails 5.1 application. Maybe you misconfigured it?"}, {"owner": {"reputation": 87, "user_id": 9019159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080da344ace01293e4dc944184112f34?s=128&d=identicon&r=PG&f=1", "display_name": "Dr.Gonzo", "link": "https://stackoverflow.com/users/9019159/dr-gonzo"}, "reply_to_user": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 0, "creation_date": 1524045684, "post_id": 49896598, "comment_id": 86808896, "body": "hmm interesting"}, {"owner": {"reputation": 87, "user_id": 9019159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080da344ace01293e4dc944184112f34?s=128&d=identicon&r=PG&f=1", "display_name": "Dr.Gonzo", "link": "https://stackoverflow.com/users/9019159/dr-gonzo"}, "reply_to_user": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 0, "creation_date": 1524049717, "post_id": 49896598, "comment_id": 86811664, "body": "@yeuem1vannam what version of Ruby are you using?"}, {"owner": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 1, "creation_date": 1524218098, "post_id": 49896598, "comment_id": 86893471, "body": "From <code>2.1</code> ~ <code>2.5.1</code> still work for me. Note that the <code>rails-erd</code> requires Graphviz, so please make sure that you install it correctly."}, {"owner": {"reputation": 87, "user_id": 9019159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080da344ace01293e4dc944184112f34?s=128&d=identicon&r=PG&f=1", "display_name": "Dr.Gonzo", "link": "https://stackoverflow.com/users/9019159/dr-gonzo"}, "reply_to_user": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 0, "creation_date": 1524218628, "post_id": 49896598, "comment_id": 86893787, "body": "Cheers dude thanks for that"}], "owner": {"reputation": 87, "user_id": 9019159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080da344ace01293e4dc944184112f34?s=128&d=identicon&r=PG&f=1", "display_name": "Dr.Gonzo", "link": "https://stackoverflow.com/users/9019159/dr-gonzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1524045164, "creation_date": 1524045164, "question_id": 49896598, "link": "https://stackoverflow.com/questions/49896598/visualise-a-rails-active-record-with-something-other-than-rails-erd", "title": "Visualise a rails active record with something other than rails-erd", "body": "<p>Hi I have to quickly learn the structure of a rails project that has been put in my hands. I am using Ruby 2+ I understand that there is a gem called rails-erd for back versions of Ruby and this generates a erd of your projects active records. </p>\n\n<p>I have tried railroady and it doesn't seem to output what I want. Is there another gem that will do this while using Ruby 2 and up ? </p>\n\n<p>Thanks </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3.2"], "comments": [{"owner": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 0, "creation_date": 1524045199, "post_id": 49896364, "comment_id": 86808505, "body": "Your JS string has incorrect syntax, doesn&#39;t it? The string <code>var u = http:&#47;&#47;track.fk;</code> simply just plain text, not Javascript. Perhaps, copy &amp; paste losing some quotes?"}, {"owner": {"reputation": 141, "user_id": 7118849, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/1a91c21f4487f8bd3fa3ea0daeb04468?s=128&d=identicon&r=PG&f=1", "display_name": "petspanda D", "link": "https://stackoverflow.com/users/7118849/petspanda-d"}, "reply_to_user": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 0, "creation_date": 1524045596, "post_id": 49896364, "comment_id": 86808825, "body": "but even after adding single quotes, it says error as  V8::Error: document is not defined"}, {"owner": {"reputation": 947, "user_id": 1730761, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WlcFp.jpg?s=128&g=1", "display_name": "yeuem1vannam", "link": "https://stackoverflow.com/users/1730761/yeuem1vannam"}, "edited": false, "score": 0, "creation_date": 1524045862, "post_id": 49896364, "comment_id": 86809012, "body": "I see, so it doesn&#39;t about running javascript inside Ruby. You need a scraper that can run a browser inside"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1524048367, "post_id": 49896364, "comment_id": 86810746, "body": "That javascript in intended to run in a browser with the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\" rel=\"nofollow noreferrer\">DOM</a> present. You can do this by running a &quot;virtual&quot; browser like phantomjs but I would try looking for a better simpler way to solve the original issue."}, {"owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "edited": false, "score": 0, "creation_date": 1524050260, "post_id": 49896364, "comment_id": 86812015, "body": "Have a look at the ruby <a href=\"https://duckduckgo.com/?q=ruby+heredoc\" rel=\"nofollow noreferrer\">heredoc</a> syntax. It improves readability a lot when dealing with longer strings, specially if they represent code."}], "owner": {"reputation": 141, "user_id": 7118849, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/1a91c21f4487f8bd3fa3ea0daeb04468?s=128&d=identicon&r=PG&f=1", "display_name": "petspanda D", "link": "https://stackoverflow.com/users/7118849/petspanda-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 684, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524052719, "creation_date": 1524044541, "last_edit_date": 1524052719, "question_id": 49896364, "link": "https://stackoverflow.com/questions/49896364/execute-javascript-code-in-ruby", "title": "Execute javascript code in Ruby", "body": "<p>Just need to execute the below javascript and get the variable values.</p>\n\n<pre><code>var u = http://track.fk;\nvar u2 = g.tv/2grc4?track=pub3878f5a9bae34c50a9f3ab0b59e1022e&amp;pubid=8afa71db&amp;aff_sub=pub3878f5a9bae34c50a9f3ab0b59e1022e;\nvar link = document.getElementById(click);\nsetTimeout(function() { link.href = u+u2; }, 333);\nsetTimeout(function() {\n    var meta = document.createElement('meta');\n    meta.httpEquiv = 'refresh';\n    meta.content = '1;'+u+u2;\n    document.getElementsByTagName('head')[0].appendChild(meta);\n    window.location.href = u+u2;\n    window.location.replace(u+u2);\n}, 333);\n</code></pre>\n\n<p>I have tried using gem</p>\n\n<pre><code>gem \"therubyracer\"\n</code></pre>\n\n<p>but i am receiving error as </p>\n\n<pre><code>V8::Error: Unexpected token : at &lt;eval&gt;:1:14\n</code></pre>\n\n<p>expected output, </p>\n\n<pre><code>u = http://track.fk, u2 = g.tv/2grc4... and other values in ruby\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524041545, "post_id": 49895206, "comment_id": 86805809, "body": "So you basically need to use <code>@@local</code> value in your controller, right?"}, {"owner": {"reputation": 67, "user_id": 9663060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/522d34af932b3761f4e5502780e5c92b?s=128&d=identicon&r=PG&f=1", "display_name": "iesiyok", "link": "https://stackoverflow.com/users/9663060/iesiyok"}, "reply_to_user": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524041585, "post_id": 49895206, "comment_id": 86805832, "body": "yes, basically I do use @@local in controller"}, {"owner": {"reputation": 523, "user_id": 2817111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99961f704b8fb737c723a0b403887949?s=128&d=identicon&r=PG", "display_name": "mikwat", "link": "https://stackoverflow.com/users/2817111/mikwat"}, "edited": false, "score": 0, "creation_date": 1524076283, "post_id": 49895206, "comment_id": 86829152, "body": "It would help to understand the bigger picture, because depending on what you&#39;re trying to accomplish, this approach might not work in an environment with multiple Rails processes or in a multi-threaded environment."}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 9663060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/522d34af932b3761f4e5502780e5c92b?s=128&d=identicon&r=PG&f=1", "display_name": "iesiyok", "link": "https://stackoverflow.com/users/9663060/iesiyok"}, "is_accepted": true, "score": 0, "last_activity_date": 1524147371, "creation_date": 1524147371, "answer_id": 49923360, "question_id": 49895206, "link": "https://stackoverflow.com/questions/49895206/rails-5-requires-initializer-in-application-controller/49923360#49923360", "title": "Rails 5 requires initializer in application controller", "body": "<p>I was using .pow server to give local domain name to my apps and the problem was to let .pow server to reload for every requests, after deleting tmp/restart.txt from my app, the problem solved! Thanks for the helps.</p>\n"}], "owner": {"reputation": 67, "user_id": 9663060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/522d34af932b3761f4e5502780e5c92b?s=128&d=identicon&r=PG&f=1", "display_name": "iesiyok", "link": "https://stackoverflow.com/users/9663060/iesiyok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 49923360, "answer_count": 1, "score": 0, "last_activity_date": 1524147371, "creation_date": 1524041381, "last_edit_date": 1524041707, "question_id": 49895206, "link": "https://stackoverflow.com/questions/49895206/rails-5-requires-initializer-in-application-controller", "title": "Rails 5 requires initializer in application controller", "body": "<p>My app requires some pre-computation on initialize. I have a Ruby file <code>config/initializers/start_1.rb</code>, and in this file, I <code>require</code> a generic module in <code>/config/lib/init_module.rb</code> as below:</p>\n\n<pre><code>require './lib/init_module.rb'\nInit::Class1.new\nInit::Class1.new\n</code></pre>\n\n<p>In <code>/config/lib/init_module.rb</code> file, I increment a value for every new object as below:</p>\n\n<pre><code>module Init\n  class Class1\n    @@local = 0\n\n    def initialize\n      @@local += 1\n    end\n\n    def self.local\n      @@local\n    end\n  end\nend\n</code></pre>\n\n<p>In my application controller, for each request from the client, I want to use this pre-computed value.</p>\n\n<ol>\n<li>If I <code>require /config/lib/init_module.rb</code> in my application controller, it will give me nothing (= <code>0</code>) about the local value as every request will create a new instance. (Actually, I don't understand why <code>@@local</code> is a class variable.)</li>\n<li>If I <code>require /config/initializers/start_1.rb</code> in my application controller, it will run the initializer for every request, which will result in a huge overhead.</li>\n</ol>\n\n<p>I would appreciate your suggestions for my problem.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "geokit"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6780066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c6ef08006356661fc28205728fe372?s=128&d=identicon&r=PG&f=1", "display_name": "Georgeheap", "link": "https://stackoverflow.com/users/6780066/georgeheap"}, "edited": false, "score": 0, "creation_date": 1524040937, "post_id": 49894842, "comment_id": 86805417, "body": "We we using the distance_from that is in gem &#39;geokit&#39; so this doesn&#39;t seem to work."}], "tags": [], "owner": {"reputation": 124, "user_id": 6557119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e60b1380300235209c22a0c1b9f36fc?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik P R", "link": "https://stackoverflow.com/users/6557119/karthik-p-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1524040589, "last_edit_date": 1524040589, "creation_date": 1524040246, "answer_id": 49894842, "question_id": 49894597, "link": "https://stackoverflow.com/questions/49894597/format-distance-from-returned-by-geokit/49894842#49894842", "title": "Format distance_from returned by Geokit", "body": "<p>In Geocoder::Calculations module, you can calculate distance using,  </p>\n\n<pre><code>distance_between(lat1, lon1, lat2, lon2, options = {}) =  \u21d2 Object\n</code></pre>\n\n<p>Pass latitude and longitude as params,</p>\n\n<pre><code>Geocoder::Calculations.distance_between([47.858205,2.294359],\n[40.748433,-73.985655]) =&gt; 3619.77359999382 # in configured units (default miles)\n</code></pre>\n\n<p>To get the latitude and longitude use,</p>\n\n<pre><code>Geocoder.coordinates(\"25 Main St, Cooperstown, NY\") =&gt; [42.700149, -74.922767]\n</code></pre>\n\n<p>To get in result in km format, pass km as units</p>\n\n<pre><code>Geocoder::Calculations.distance_between([47.858205,2.294359],\n[40.748433,-73.985655], :units =&gt; :km) =&gt; 5825.4609245084539\n</code></pre>\n\n<p>Ref: <a href=\"http://www.rubydoc.info/gems/rails-geocoder/0.9.11/Geocoder/Calculations#distance_between-instance_method\" rel=\"nofollow noreferrer\">http://www.rubydoc.info/gems/rails-geocoder/0.9.11/Geocoder/Calculations#distance_between-instance_method</a></p>\n"}], "owner": {"reputation": 85, "user_id": 6780066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c6ef08006356661fc28205728fe372?s=128&d=identicon&r=PG&f=1", "display_name": "Georgeheap", "link": "https://stackoverflow.com/users/6780066/georgeheap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524139663, "creation_date": 1524039449, "last_edit_date": 1524139663, "question_id": 49894597, "link": "https://stackoverflow.com/questions/49894597/format-distance-from-returned-by-geokit", "title": "Format distance_from returned by Geokit", "body": "<p>I am struggling to format the way that geocoder is returning the distance from one location to another.</p>\n\n<p>Here is the code:</p>\n\n<p>Jbuilder file:</p>\n\n<pre><code>json.array! results do |result|\n  json.distance result.distance_from(@geocoded_location, units: :miles)\nend\n</code></pre>\n\n<p>Methods:</p>\n\n<pre><code>def geocoded_location\n  return unless postcode\n  @geocoded_location ||= geocoder.geocode(postcode, bias: 'uk')\nend\n\ndef geocoder\n  Geokit::Geocoders::GoogleGeocoder\nend\n\ndef postcode\n  @postcode ||= params[:searchterm]\nend\n</code></pre>\n\n<p>Now I think this all works but the result I get back is 3562.6325498137753 for the first location in the results array. </p>\n\n<p>Is there a way to format the response as that is definitely not returning in miles as the two locations are less than 2 miles apart.\nThought it might have been feet or meters but they are all roughly the same distance wherever you put the search from. So I think it is an issue with the geocoded location.</p>\n\n<p>We are using gem 'geokit'</p>\n\n<p>Any ideas or help would be greatly appreciated. If you need any further code let me know.</p>\n"}, {"tags": ["ruby", "docker", "proxy", "net-http"], "owner": {"reputation": 186, "user_id": 7701853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eWvDA.png?s=128&g=1", "display_name": "xFuture", "link": "https://stackoverflow.com/users/7701853/xfuture"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524054197, "creation_date": 1524037428, "last_edit_date": 1524054197, "question_id": 49893948, "link": "https://stackoverflow.com/questions/49893948/send-requests-behind-a-company-proxy-using-net-http-in-ruby", "title": "Send requests behind a company proxy using net/http in Ruby", "body": "<p>I am working behind a company proxy and I set up a Dashboard using some frameworks. The Dashboard is running in a Docker container. The backend for requests against 3rd party components is handled by Ruby jobs.</p>\n\n<p>With one job I try to connect from my Dashboard (which stands behind the proxy) to a Jenkins component (which is outside of the company). And I want to pass the proxy with <code>nil</code>, so that the Dashboard can grab some information from Jenkins. </p>\n\n<p>Here is the code for the connection: </p>\n\n<pre><code>require 'net/http'\nrequire 'json'           \n\nJENKINS_URI = \"XXX.XXX.XXX.XX:8080\"\nJENKINS_AUTH = {\n}\n\ndef getFromJenkins(path)\n  req_options = {\n    proxy_address = nil,\n    proxy_port = nil,\n  }\n\n  uri = URI.parse(path)\n  http = Net::HTTP.new(uri.host, uri.port, req_options, proxy_address, \n  proxy_port)\n  request = Net::HTTP::Get.new(uri.request_uri)\n  if JENKINS_AUTH['name']\n    request.basic_auth(JENKINS_AUTH['name'], JENKINS_AUTH['password'])\n  end\n  response = http.request(request)\n\n  json = JSON.parse(response.body)\n  return json\nend\n</code></pre>\n\n<p>I already tried to filter some packets from the Jenkins server with <code>tcpdump</code> listening on port <code>8080</code> but no results there.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 5141, "user_id": 193980, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/aafa8848c4b764f080b1b31a51eab73d?s=128&d=identicon&r=PG", "display_name": "Phlip", "link": "https://stackoverflow.com/users/193980/phlip"}, "edited": false, "score": 2, "creation_date": 1524031782, "post_id": 49892043, "comment_id": 86800129, "body": "It sounds like you need to add a <code>gets</code> and a <code>Time.parse</code>, from here..."}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 0, "creation_date": 1524032381, "post_id": 49892043, "comment_id": 86800443, "body": "There are many ways, depending in what form you have the current time (data type, timezone, ....). Have a look at the <a href=\"http://ruby-doc.org/core-1.9.3/Time.html\" rel=\"nofollow noreferrer\">definition of the Time class</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9490251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harsha Gopal", "link": "https://stackoverflow.com/users/9490251/harsha-gopal"}, "is_accepted": false, "score": 1, "last_activity_date": 1524037773, "last_edit_date": 1524037773, "creation_date": 1524037670, "answer_id": 49894033, "question_id": 49892043, "link": "https://stackoverflow.com/questions/49892043/how-to-pass-dynamic-values-for-time-in-the-cmd/49894033#49894033", "title": "how to pass dynamic values for time in the cmd", "body": "<p>I think i got the answer for that question</p>\n\n<pre><code>require 'time'\nputs \"Enter the time\"\na = gets.chomp\np Time.parse(\":#{a}\").strftime(\"%H:%M:%S\")\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9490251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harsha Gopal", "link": "https://stackoverflow.com/users/9490251/harsha-gopal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1524037773, "creation_date": 1524030309, "last_edit_date": 1524036335, "question_id": 49892043, "link": "https://stackoverflow.com/questions/49892043/how-to-pass-dynamic-values-for-time-in-the-cmd", "title": "how to pass dynamic values for time in the cmd", "body": "<p>I have already tried this, and it returns the present time, </p>\n\n<pre><code>puts \"Enter the time\"\na = Time.now\np a.strftime('%I:%M %P')\n</code></pre>\n\n<p>but it has to return the time dynamically i.e., if I pass some random time in the terminal it has to print the time in 24hr format</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1524028855, "post_id": 49891510, "comment_id": 86798967, "body": "You still need to define the <code>year</code> parameter in <code>Car</code>&#39;s initialize method. Then use  the <code>super</code> keyword to forward <i>all</i> passed arguments to the template method in <code>Vehicle</code>. The <code>get_model_year</code> will now work using normal inheritance rules."}], "answers": [{"comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 3, "creation_date": 1524029616, "post_id": 49891700, "comment_id": 86799257, "body": "BTW you don&#39;t need to pass args to <code>super</code> explicitly in this case, just typing <code>super</code> would be enough."}], "tags": [], "owner": {"reputation": 722, "user_id": 3643211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kEAbU.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3643211/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1524033968, "last_edit_date": 1524033968, "creation_date": 1524028730, "answer_id": 49891700, "question_id": 49891510, "link": "https://stackoverflow.com/questions/49891510/passing-in-arguments-to-a-ruby-class-upon-initializing-in-ruby/49891700#49891700", "title": "Passing in arguments to a ruby class upon initializing in Ruby", "body": "<p>Use <code>super</code> keyword to invoke super class in the <code>initialize</code> method.</p>\n\n<pre><code>class Vehicle\n  def initialize(year)\n    @model_year = year\n  end\n\n  def get_model_year()\n    @model_year\n  end\nend\n\nclass Car &lt; Vehicle\n  def initialize year\n    super\n    @wheels = 4\n  end\n\n  def wheels\n    @wheels\n  end\nend\n\nmy_car = Car.new(2000)\nmy_car.get_model_year =&gt; 2000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524029660, "post_id": 49891705, "comment_id": 86799275, "body": "I don&#39;t see the point of giving the programmer possibility to pass multiple arguments to <code>Car#initialize</code>."}, {"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "reply_to_user": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524029908, "post_id": 49891705, "comment_id": 86799366, "body": "apart from model_year if he needs to he can pass other details like brand_name, cost, type etc..."}, {"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524030032, "post_id": 49891705, "comment_id": 86799413, "body": "Yeah, if he does, he will add more parameters, I guess. It&#39;s unnecessary by now."}, {"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "reply_to_user": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524030376, "post_id": 49891705, "comment_id": 86799531, "body": "I don&#39;t see how its unnecessary, OP seems to be new to ruby so I was just trying to help and he might need to use that, I don&#39;t see why you need to point out that its unnecessary for me to give some more info"}, {"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "reply_to_user": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524030421, "post_id": 49891705, "comment_id": 86799552, "body": "Thanks for the downvote, it is really a bad answer that deserves some more downvote, doesn&#39;t answer the question :D :D"}, {"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1524030529, "post_id": 49891705, "comment_id": 86799593, "body": "It&#39;s not mine, calm down. :)"}, {"owner": {"reputation": 3, "user_id": 9580738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iB6fz.jpg?s=128&g=1", "display_name": "Armando N.", "link": "https://stackoverflow.com/users/9580738/armando-n"}, "edited": false, "score": 0, "creation_date": 1524030632, "post_id": 49891705, "comment_id": 86799664, "body": "While it may seem unnecessary to some, I do appreciate the foresight and thank you for your help."}], "tags": [], "owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "is_accepted": false, "score": -1, "last_activity_date": 1524028770, "creation_date": 1524028770, "answer_id": 49891705, "question_id": 49891510, "link": "https://stackoverflow.com/questions/49891510/passing-in-arguments-to-a-ruby-class-upon-initializing-in-ruby/49891705#49891705", "title": "Passing in arguments to a ruby class upon initializing in Ruby", "body": "<p>try this</p>\n\n<pre><code>class Vehicle\n  def initialize(year)\n    @model_year = year\n  end\n\n  def get_model_year\n    @model_year\n  end\nend\n\n\nclass Car &lt; Vehicle\n  def initialize *args\n    super(args[0])\n    @wheels = 4\n  end\n\ndef wheels\n    @wheels\n  end\nend\n\nmy_car = Car.new(2000)\nputs my_car.get_model_year\n</code></pre>\n\n<p>you need to read up on ruby basics, </p>\n\n<p>call the <code>super</code> method in your child initializer, it just calls the same method in your parent class, so if you call super from method A in child class, it calls A method in parent class</p>\n\n<p>* is just a splat operator to accept multiple numbers of arguments</p>\n"}], "owner": {"reputation": 3, "user_id": 9580738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iB6fz.jpg?s=128&g=1", "display_name": "Armando N.", "link": "https://stackoverflow.com/users/9580738/armando-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 49891700, "answer_count": 2, "score": 0, "last_activity_date": 1524033968, "creation_date": 1524027651, "question_id": 49891510, "link": "https://stackoverflow.com/questions/49891510/passing-in-arguments-to-a-ruby-class-upon-initializing-in-ruby", "title": "Passing in arguments to a ruby class upon initializing in Ruby", "body": "<p>So I've created this Vehicle class and a car Subclass</p>\n\n<pre><code>class Vehicle\n  def initialize(year)\n    @model_year = year\n  end\n  def get_model_year()\n    @model_year\n  end\nend\n\nclass Car &lt; Vehicle\n  def initialize\n    @wheels = 4\n  end\n  def wheels\n    @wheels\n  end\nend\n</code></pre>\n\n<p>Now Im trying to figure out how to create a new car variable with .new while passing in the model year in as an argument</p>\n\n<pre><code>my_car = Car.new(2000)\nmy_car.get_model_year =&gt; Expecting 2000\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "migration"], "comments": [{"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1524028278, "post_id": 49891381, "comment_id": 86798750, "body": "Try running <code>heroku run rake db:migrate:status</code>. This will tell you which migration is causing the problem."}, {"owner": {"reputation": 16143, "user_id": 171183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13381166d87f50a05d5f9ee1077adbb2?s=128&d=identicon&r=PG", "display_name": "pdobb", "link": "https://stackoverflow.com/users/171183/pdobb"}, "edited": false, "score": 1, "creation_date": 1524028455, "post_id": 49891381, "comment_id": 86798816, "body": "Would help if you posted the migration itself. As well as the names of the associations you&#39;re connecting in your models. Looks like it may be an inflection issue, though. <code>bies</code> vs <code>byes</code> (or <code>bys</code>)."}, {"owner": {"reputation": 19261, "user_id": 4758119, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/F4dJY.jpg?s=128&g=1", "display_name": "Deepak Mahakale", "link": "https://stackoverflow.com/users/4758119/deepak-mahakale"}, "edited": false, "score": 0, "creation_date": 1524033225, "post_id": 49891381, "comment_id": 86800858, "body": "can you please post the content of <code>20180416212245_create_notifications.rb</code>"}, {"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "reply_to_user": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1524183968, "post_id": 49891381, "comment_id": 86879929, "body": "@moveson I did and the last two rb files are &quot;down&quot; status whereas the rest of migration&#39;s status is &quot;up&quot;."}, {"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "reply_to_user": {"reputation": 16143, "user_id": 171183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13381166d87f50a05d5f9ee1077adbb2?s=128&d=identicon&r=PG", "display_name": "pdobb", "link": "https://stackoverflow.com/users/171183/pdobb"}, "edited": false, "score": 0, "creation_date": 1524184682, "post_id": 49891381, "comment_id": 86880093, "body": "@pdobb class CreateNotifications &lt; ActiveRecord::Migration[5.1]   def change     create_table :notifications do |t|       t.references :user, foreign_key: true       t.references :notified_by, foreign_key: true       t.references :post, foreign_key: true       t.integer :identifier       t.string :notice_type       t.boolean :read        t.timestamps     end   end end"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "edited": false, "score": 0, "creation_date": 1524186236, "post_id": 49892148, "comment_id": 86880391, "body": "There is no notified related value in the users table."}, {"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "edited": false, "score": 0, "creation_date": 1524186367, "post_id": 49892148, "comment_id": 86880421, "body": "CREATE TABLE <code>notifications</code> ( \t<code>id</code>\tINTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \t<code>user_id</code>\tinteger, \t<code>notified_by_id</code>\tinteger, \t<code>post_id</code>\tinteger, \t<code>identifier</code>\tinteger, \t<code>notice_type</code>\tvarchar, \t<code>read</code>\tboolean, \t<code>created_at</code>\tdatetime NOT NULL, \t<code>updated_at</code>\tdatetime NOT NULL, \tFOREIGN KEY(<code>user_id</code>) REFERENCES &quot;users&quot; ( &quot;id&quot; ), \tFOREIGN KEY(<code>notified_by_id</code>) REFERENCES &quot;notified_bies&quot; ( &quot;id&quot; ), \tFOREIGN KEY(<code>post_id</code>) REFERENCES &quot;posts&quot; ( &quot;id&quot; ) );"}, {"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "edited": false, "score": 0, "creation_date": 1524186387, "post_id": 49892148, "comment_id": 86880427, "body": "CREATE TABLE <code>users</code> ( \t<code>id</code>\tINTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \t<code>email</code>\tvarchar NOT NULL DEFAULT &#39;&#39;, \t<code>encrypted_password</code>\tvarchar NOT NULL DEFAULT &#39;&#39;, \t<code>reset_password_token</code>\tvarchar, \t<code>reset_password_sent_at</code>\tdatetime, \t<code>remember_created_at</code>\tdatetime, \t<code>sign_in_count</code>\tinteger NOT NULL DEFAULT 0, \t<code>current_sign_in_at</code>\tdatetime, \t<code>last_sign_in_at</code>\tdatetime, \t<code>current_sign_in_ip</code>\tvarchar, \t<code>last_sign_in_ip</code>\tvarchar, \t<code>created_at</code>\tdatetime NOT NULL,"}, {"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "edited": false, "score": 0, "creation_date": 1524186391, "post_id": 49892148, "comment_id": 86880428, "body": "<code>updated_at</code>\tdatetime NOT NULL, \t<code>user_name</code>\tvarchar, \t<code>avatar_file_name</code>\tvarchar, \t<code>avatar_content_type</code>\tvarchar, \t<code>avatar_file_size</code>\tinteger, \t<code>avatar_updated_at</code>\tdatetime, \t<code>bio</code>\ttext );"}], "tags": [], "owner": {"reputation": 693, "user_id": 1621998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d0641164c77ee079d25c110d4a7e6a?s=128&d=identicon&r=PG", "display_name": "Pragash", "link": "https://stackoverflow.com/users/1621998/pragash"}, "is_accepted": false, "score": 0, "last_activity_date": 1524030828, "creation_date": 1524030828, "answer_id": 49892148, "question_id": 49891381, "link": "https://stackoverflow.com/questions/49891381/pgundefinedtable-error-when-deploying-heroku/49892148#49892148", "title": "PG::UndefinedTable: ERROR when deploying Heroku", "body": "<p>It looks like you are not pointing the reference to the correct table. For an example the notified_by_id should be using the foreign key reference. In that sense the \"notified_bies\" doesn't exist. If \"notified_by_id\" is the value from the users table then add it as follows,</p>\n\n<pre><code>t.references :user\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "edited": false, "score": 0, "creation_date": 1524184545, "post_id": 49892712, "comment_id": 86880059, "body": "The below is my CreateNotification rb file. Can you explain more about? CreateNotifications &lt; ActiveRecord::Migration[5.1]       def change         create_table :notifications do |t|           t.references :user, foreign_key: true           t.references :notified_by, foreign_key: true           t.references :post, foreign_key: true           t.integer :identifier           t.string :notice_type           t.boolean :read            t.timestamps         end       end     end"}, {"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "edited": false, "score": 0, "creation_date": 1524186150, "post_id": 49892712, "comment_id": 86880375, "body": "It seems CreateNotification already has both references and foreign key. no?"}, {"owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "edited": false, "score": 0, "creation_date": 1524187412, "post_id": 49892712, "comment_id": 86880686, "body": "and I got an error when generating migration like &quot;rails g migration AddNotifiedByToNotifications notified_by:references&quot;. SQLite3::SQLException: duplicate column name: notified_by_id: ALTER TABLE &quot;notifications&quot; ADD &quot;notified_by_id&quot; integer/mnt/studata05/AC/Aca15js/.gem/gems/sqlite3-1.3.13/li&zwnj;&#8203;b/sqlite3/database.r&zwnj;&#8203;b:91:in `initialize&#39;"}], "tags": [], "owner": {"reputation": 19261, "user_id": 4758119, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/F4dJY.jpg?s=128&g=1", "display_name": "Deepak Mahakale", "link": "https://stackoverflow.com/users/4758119/deepak-mahakale"}, "is_accepted": false, "score": 0, "last_activity_date": 1524205912, "last_edit_date": 1524205912, "creation_date": 1524033195, "answer_id": 49892712, "question_id": 49891381, "link": "https://stackoverflow.com/questions/49891381/pgundefinedtable-error-when-deploying-heroku/49892712#49892712", "title": "PG::UndefinedTable: ERROR when deploying Heroku", "body": "<p>The error you are getting occured while creating the foreign key</p>\n\n<p><strong>Updated Answer</strong></p>\n\n<p>This is the reason for the error</p>\n\n<pre><code>t.references :notified_by, foreign_key: true \n</code></pre>\n\n<p>Now, I don't believe that you have a model named <code>NotifiedBy</code> which you are trying to reference here. </p>\n\n<p>Maybe you just need an index here on the field. So, you might need to change this to </p>\n\n<pre><code>t.integer :notified_by, index: true \n</code></pre>\n\n<p><strong>Old Answer</strong></p>\n\n<pre><code>FOREIGN KEY (\"notified_by_id\")\n  REFERENCES \"notified_bies\" (\"id\")\n, CONSTRAINT \"fk_rails_ff8a02c41d\"\n</code></pre>\n\n<p>You must be creating a reference or a foreign key in <code>20180416212245_create_notifications.rb</code>.</p>\n\n<p>Removing the entry should fix the issue</p>\n"}], "owner": {"reputation": 11, "user_id": 9662167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165729f2e5ea3a715079879a4e05b81f?s=128&d=identicon&r=PG&f=1", "display_name": "Jongmin", "link": "https://stackoverflow.com/users/9662167/jongmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1524205912, "creation_date": 1524026950, "last_edit_date": 1524205516, "question_id": 49891381, "link": "https://stackoverflow.com/questions/49891381/pgundefinedtable-error-when-deploying-heroku", "title": "PG::UndefinedTable: ERROR when deploying Heroku", "body": "<p>After typing <code>heroku run rake db:migrate</code>, I got an error looking like,</p>\n\n<pre><code>rake aborted!\nStandardError: An error has occurred, this and all later migrations canceled:\n\nPG::UndefinedTable: ERROR:  relation \"notified_bies\" does not exist\n: CREATE TABLE \"notifications\" (\"id\" bigserial primary key, \"user_id\"     bigint, \"notified_by_id\" bigint, \"post_id\" bigint, \"identifier\" integer,     \"notice_type\" character varying, \"read\" boolean, \"created_at\" timestamp NOT     NULL, \"updated_at\" timestamp NOT NULL, CONSTRAINT \"fk_rails_b080fb4855\"\nFOREIGN KEY (\"user_id\")\n  REFERENCES \"users\" (\"id\")\n, CONSTRAINT \"fk_rails_ff009aac1a\"\nFOREIGN KEY (\"notified_by_id\")\n  REFERENCES \"notified_bies\" (\"id\")\n, CONSTRAINT \"fk_rails_ff8a02c41d\"\nFOREIGN KEY (\"post_id\")\n  REFERENCES \"posts\" (\"id\")\n)\n</code></pre>\n\n<p>and, here this is the list of migrate files in db folder.</p>\n\n<pre><code>20180411215502_create_posts.rb\n20180411215935_add_attachment_image_to_posts.rb\n20180411225346_devise_create_users.rb\n20180411230346_add_user_name_to_users.rb\n20180411232041_add_user_id_to_posts.rb\n20180412001819_create_comments.rb\n20180412164718_add_attachment_avatar_to_users.rb\n20180412164800_add_bio_to_users.rb\n20180412193721_acts_as_votable_migration.rb\n20180416212245_create_notifications.rb\n20180416235802_create_follow_join_table.rb\n</code></pre>\n\n<p><strong>20180416212245_create_notifications.rb</strong></p>\n\n<pre><code>CreateNotifications &lt; ActiveRecord::Migration[5.1] \n  def change \n    create_table :notifications do |t| \n      t.references :user, foreign_key: true \n      t.references :notified_by, foreign_key: true \n      t.references :post, foreign_key: true \n      t.integer :identifier \n      t.string :notice_type \n      t.boolean :read \n\n      t.timestamps \n    end \n  end\nend \n</code></pre>\n\n<p>I will wait for your suggestions Thank you.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524028910, "post_id": 49891355, "comment_id": 86798988, "body": "What is your question?"}], "answers": [{"comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1524029419, "post_id": 49891446, "comment_id": 86799189, "body": "Why have you converted the keys to symbols?"}, {"owner": {"reputation": 1308, "user_id": 3759158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/70BLw.jpg?s=128&g=1", "display_name": "Manishh", "link": "https://stackoverflow.com/users/3759158/manishh"}, "reply_to_user": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1524030127, "post_id": 49891446, "comment_id": 86799452, "body": "Using symbols not only saves time when doing comparisons, but also saves memory, because they are only stored once."}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1524054977, "post_id": 49891446, "comment_id": 86815152, "body": "The OP hasn&#39;t asked for this in their question. If you&#39;ve made an improvement then give details in your answer. Despite being marked as accepted, currently this answer does not meet the OP&#39;s specifications."}], "tags": [], "owner": {"reputation": 1308, "user_id": 3759158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/70BLw.jpg?s=128&g=1", "display_name": "Manishh", "link": "https://stackoverflow.com/users/3759158/manishh"}, "is_accepted": false, "score": 3, "last_activity_date": 1524055245, "last_edit_date": 1524055245, "creation_date": 1524027300, "answer_id": 49891446, "question_id": 49891355, "link": "https://stackoverflow.com/questions/49891355/ruby-create-hash-with-keys-and-values-as-arrays/49891446#49891446", "title": "Ruby - Create hash with keys and values as arrays", "body": "<p>If you want to make a new hash from two hashes (one contains keys for new hash and other contains values with respect to keys in first hash then only)\nyou can use something like below :</p>\n\n<pre><code>keys = ['k1', 'k2', 'k3']\nvalues = ['b1', 'b2']\nh = {}\n\nkeys.zip(values) { |a,b| h[a.to_sym] = b } \n# =&gt; nil\n\np h \n# =&gt; {:k1=&gt;\"b1\", :k2=&gt;\"b2\", :k3=&gt;nil}\n</code></pre>\n\n<p>Keep in mind that if the keys are more and values are less in number then key will have nil value as mentioned in the e.g. but if the keys are less as compare to values then it will now consider the remaining values for e.g. </p>\n\n<pre><code>keys =['b1', 'b2']\n=&gt; [\"b1\", \"b2\"]\nvalues = ['k1', 'k2', 'k3']\n=&gt; [\"k1\", \"k2\", \"k3\"]\nh = {}\n=&gt; {}\nkeys.zip(values) { |a,b| h[a.to_sym] = b } \n=&gt; nil\np h \n{:b1=&gt;\"k1\", :b2=&gt;\"k2\"}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4571, "user_id": 343759, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/N9IKE.jpg?s=128&g=1", "display_name": "rewolf", "link": "https://stackoverflow.com/users/343759/rewolf"}, "is_accepted": true, "score": 3, "last_activity_date": 1538638882, "creation_date": 1538638882, "answer_id": 52641484, "question_id": 49891355, "link": "https://stackoverflow.com/questions/49891355/ruby-create-hash-with-keys-and-values-as-arrays/52641484#52641484", "title": "Ruby - Create hash with keys and values as arrays", "body": "<p>If you're trying to create a hash from two corresponding arrays for keys and values, this is quick way:</p>\n\n<pre><code>keys = [\"a\", \"b\", \"c\"]\nvalues = [1, 2, 3]\nhash = Hash[keys.zip(values)] \n# =&gt; {\"a\"=&gt;1, \"b\"=&gt;2, \"c\"=&gt;3}\n\n# for symbols\nhash = Hash[keys.map(&amp;:to_sym).zip(values)] \n# =&gt; {:a=&gt;1, :b=&gt;2, :c=&gt;3}\n</code></pre>\n"}], "owner": {"reputation": 1621, "user_id": 573344, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fad8ba7d61a8c25a70691c14bb383ff7?s=128&d=identicon&r=PG", "display_name": "lifemoveson", "link": "https://stackoverflow.com/users/573344/lifemoveson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1808, "favorite_count": 0, "accepted_answer_id": 52641484, "answer_count": 2, "score": 0, "last_activity_date": 1538638882, "creation_date": 1524026797, "question_id": 49891355, "link": "https://stackoverflow.com/questions/49891355/ruby-create-hash-with-keys-and-values-as-arrays", "title": "Ruby - Create hash with keys and values as arrays", "body": "<p>I am new to Ruby and trying to find if I can create a hash which has keys as keys_Array and values as val_array.\nCurrently I have the following but it gives empty array.</p>\n\n<pre><code>key_hash = Hash.new { |hash, key| \n     hash.key = [\"#{csv['values']} #{csv['keys']}\"]\n}\np key_hash.keys #empty array here\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "rails-activerecord"], "comments": [{"owner": {"reputation": 4690, "user_id": 1937435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YyN37.jpg?s=128&g=1", "display_name": "Josh Brody", "link": "https://stackoverflow.com/users/1937435/josh-brody"}, "edited": false, "score": 0, "creation_date": 1524022690, "post_id": 49890559, "comment_id": 86797196, "body": "Take a look at how <a href=\"https://github.com/ankane/ahoy\" rel=\"nofollow noreferrer\">Ahoy</a> does it <a href=\"https://github.com/ankane/ahoy/blob/master/vendor/assets/javascripts/ahoy.js#L485\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 944, "user_id": 1615721, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9c46be4c9aefa5304617a40ace4af86?s=128&d=identicon&r=PG&f=1", "display_name": "cnvzmxcvmcx", "link": "https://stackoverflow.com/users/1615721/cnvzmxcvmcx"}, "edited": false, "score": 0, "creation_date": 1524025329, "post_id": 49890559, "comment_id": 86797862, "body": "This has to be done on the client-side. You can create a virtual &quot;page&quot; (an API end-point) on your rails application which records info from request.query or body. Add an event listener for click event to <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX\" rel=\"nofollow noreferrer\">ajax</a> POST information about click to this API end-point. The controller will read the body and create the record."}], "answers": [{"comments": [{"owner": {"reputation": 415, "user_id": 5641767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4c05ce9cbf6b06b52baf435908e98d37?s=128&d=identicon&r=PG&f=1", "display_name": "smkarber", "link": "https://stackoverflow.com/users/5641767/smkarber"}, "edited": false, "score": 0, "creation_date": 1524086908, "post_id": 49891550, "comment_id": 86834455, "body": "This was exactly what I needed. Thanks."}], "tags": [], "owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1524027872, "creation_date": 1524027872, "answer_id": 49891550, "question_id": 49890559, "link": "https://stackoverflow.com/questions/49890559/rails-track-click-on-every-link-in-ruby-on-rails-application/49891550#49891550", "title": "Rails: Track click on every link in Ruby on Rails application", "body": "<p>Look, you can use <a href=\"https://github.com/ankane/ahoy\" rel=\"nofollow noreferrer\"><code>Ahoy</code></a> analytics for Rails if you don't want to use this gem then you create this simply defining a method, at first I think your tracking table is <code>app_events</code> then your model is <code>AppEvent</code> then your models look like this relation</p>\n\n<pre><code>#=&gt; user.rb\nclass User &lt; ApplicationRecord\n\n  .....\n  has_many :app_events\n  ....\nend\n\n#=&gt; app_event.rb\nclass AppEvent &lt; ApplicationRecord\n\n  .....\n  belongs_to :users\n  ....\nend\n</code></pre>\n\n<p>your <code>application_controller.rb</code></p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n    protect_from_forgery with: :exception\n    before_action :track_event, if: proc { user_signed_in? }\n\n\n    def track_event\n      current_user.app_events.create(event_type: params[:event_type], url: params[:url]) if  params[:event_type].present?\n    end\nend\n</code></pre>\n\n<p>and your links look like this</p>\n\n<pre><code>root_path(event_type: 'home', url: request.fullpath)\nabout_path(event_type: 'about', url: request.fullpath)\nnews_path(event_type: 'news', url: request.fullpath)\n...\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 5641767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4c05ce9cbf6b06b52baf435908e98d37?s=128&d=identicon&r=PG&f=1", "display_name": "smkarber", "link": "https://stackoverflow.com/users/5641767/smkarber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "accepted_answer_id": 49891550, "answer_count": 1, "score": 1, "last_activity_date": 1524117590, "creation_date": 1524021154, "last_edit_date": 1524117590, "question_id": 49890559, "link": "https://stackoverflow.com/questions/49890559/rails-track-click-on-every-link-in-ruby-on-rails-application", "title": "Rails: Track click on every link in Ruby on Rails application", "body": "<p>The current requirement I have is to create a record in a Postgres DB whenever any object in the app is clicked. It is a large project with hundreds of links and pages. If a user clicks on an anchor, or a clickable div, or a button, I want to create a record in the DB. </p>\n\n<p>The code for the call is as follows:</p>\n\n<pre><code>AppEvent.record_event(event_type: 'example', url: request.fullpath, user: current_user.name)\n</code></pre>\n\n<p>I am using it to track page transitions now, but how do I track clicking on a div or anchor with that function? Is it possible to do with JS in some capacity?</p>\n"}, {"tags": ["javascript", "ruby", "opal"], "comments": [{"owner": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 0, "creation_date": 1524011444, "post_id": 49888107, "comment_id": 86794763, "body": "You say &quot;There are two Ruby snippets I am using&quot; but can you please pick one of the two? It&#39;s a little awkward to try to solve two potentially different problems. Otherwise a well-written question."}, {"owner": {"reputation": 29, "user_id": 3385488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfa8b90da1e5d01dc50b6013b9316532?s=128&d=identicon&r=PG&f=1", "display_name": "user3385488", "link": "https://stackoverflow.com/users/3385488/user3385488"}, "reply_to_user": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 0, "creation_date": 1524163812, "post_id": 49888107, "comment_id": 86872346, "body": "Thanks for the hint, I removed the second issue from the question.My &quot;hope&quot; actually was that there is a common underlying issue like a missing library or the like that I just did not find."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1524164313, "post_id": 49888107, "comment_id": 86872633, "body": "What do you expect <code>puts 2.to_a</code> to print?"}], "owner": {"reputation": 29, "user_id": 3385488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfa8b90da1e5d01dc50b6013b9316532?s=128&d=identicon&r=PG&f=1", "display_name": "user3385488", "link": "https://stackoverflow.com/users/3385488/user3385488"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1524163761, "creation_date": 1524002267, "last_edit_date": 1524163761, "question_id": 49888107, "link": "https://stackoverflow.com/questions/49888107/opal-builder-ruby-to-javascript-yields-undefined-method-to-a-and-missing", "title": "opal builder, ruby to javascript yields undefined method &quot;to_a&quot; and missing &quot;;&quot;", "body": "<p>I recently tried Opal builder for the first time to compile Ruby code to javascript, following this tutorial:\n<a href=\"https://github.com/opal/opal\" rel=\"nofollow noreferrer\">https://github.com/opal/opal</a></p>\n\n<p>However, even basic things like converting a number to an array or checking inequality with nil produce errors.</p>\n\n<p>I hope this is just a newbie problem and there is a very simple answer. However, I cannot seem to find these particular problems or more comprehensive tutorial examples for the current Opal version (some details of the Builder e.g. seem to have changed over time).</p>\n\n<p>I am using Ruby 2.4.0 and Opal 0.10.5. I use Firefox 52 to run the html file which embeds the generated js code.</p>\n\n<p>The following snippet ...</p>\n\n<pre><code># encoding: UTF-8\nrequire \"opal\"\nputs 2.to_a\n</code></pre>\n\n<p>... yields the following error in the Firefox console</p>\n\n<pre><code>to_a: undefined method 'to_a' for 2 (unknown)\n</code></pre>\n\n<p>The rakefile is</p>\n\n<pre><code>require 'opal'\nrequire 'opal-jquery'\n\ntask :testing do\n    builder = Opal::Builder.new\n    builder.use_gem('opal-jquery')\n\n    File.open(\"testing.js\", \"w+\") do |out|\n        out &lt;&lt; builder.build(\"Testing.rb\").to_s\n    end\nend\n</code></pre>\n\n<p>And finally, the html file to wrap the js code</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.11.0.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-migrate-1.2.1.min.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" href=\"styles.css\"/&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;script src=\"testing.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Any help is of course greatly appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-5.2"], "comments": [{"owner": {"reputation": 21613, "user_id": 580346, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ba17945a06aac247b06548d5afe341e8?s=128&d=identicon&r=PG", "display_name": "mrzasa", "link": "https://stackoverflow.com/users/580346/mrzasa"}, "edited": false, "score": 0, "creation_date": 1523999741, "post_id": 49887593, "comment_id": 86791190, "body": "what does <code>subtree_ids</code>?"}, {"owner": {"reputation": 5714, "user_id": 2389501, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/23f6a708c04c660111117c4613592689?s=128&d=identicon&r=PG", "display_name": "Mateusz Urba\u0144ski", "link": "https://stackoverflow.com/users/2389501/mateusz-urba%c5%84ski"}, "reply_to_user": {"reputation": 21613, "user_id": 580346, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ba17945a06aac247b06548d5afe341e8?s=128&d=identicon&r=PG", "display_name": "mrzasa", "link": "https://stackoverflow.com/users/580346/mrzasa"}, "edited": false, "score": 0, "creation_date": 1523999861, "post_id": 49887593, "comment_id": 86791230, "body": "This is method from ancestry gem: <a href=\"https://github.com/stefankroes/ancestry\" rel=\"nofollow noreferrer\">github.com/stefankroes/ancestry</a>"}], "answers": [{"tags": [], "owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "is_accepted": true, "score": 16, "last_activity_date": 1524013446, "last_edit_date": 1524013446, "creation_date": 1524002199, "answer_id": 49888094, "question_id": 49887593, "link": "https://stackoverflow.com/questions/49887593/deprecation-warning-dangerous-query-method-method-whose-arguments-are-used-as/49888094#49888094", "title": "DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s)", "body": "<p>The problem is that the <a href=\"https://github.com/stefankroes/ancestry/blob/master/lib/ancestry/has_ancestry.rb#L47\" rel=\"noreferrer\"><code>ordered_by_ancestry</code> scope</a>:</p>\n\n<pre><code>scope :ordered_by_ancestry, Proc.new { |order|\n  if %w(mysql mysql2 sqlite sqlite3 postgresql).include?(connection.adapter_name.downcase) &amp;&amp; ActiveRecord::VERSION::MAJOR &gt;= 5\n    reorder(\"coalesce(#{connection.quote_table_name(table_name)}.#{connection.quote_column_name(ancestry_column)}, '')\", order)\n  else\n    reorder(\"(CASE WHEN #{connection.quote_table_name(table_name)}.#{connection.quote_column_name(ancestry_column)} IS NULL THEN 0 ELSE 1 END), #{connection.quote_table_name(table_name)}.#{connection.quote_column_name(ancestry_column)}\", order)\n  end\n}\n</code></pre>\n\n<p>is passing a raw string of SQL to <code>#reorder</code> and, as the warning states, this is deprecated in Rails 5.2 (and will be removed altogether in Rails 6).</p>\n\n<p>A <a href=\"https://github.com/stefankroes/ancestry/pull/384\" rel=\"noreferrer\">pull request</a> was just submitted which fixes this by wrapping those strings in <code>Arel.sql</code> calls. I'd expect this to merged quickly (despite the pull request missing an <code>Arel.sql</code> call in the second branch) but in the mean time, you have some options:</p>\n\n<ol>\n<li><p>Ignore the warning and wait for the gem to be patched.</p></li>\n<li><p>Fork the gem, merge the pull request, and use your forked version until the gem merges the pull request in question.</p></li>\n<li><p>Manually replace the <code>ordered_by_ancestry</code> scope:</p>\n\n<pre><code>def self.ordered_by_ancestry(order)\n  reorder(Arel.sql(\"coalesce(#{connection.quote_table_name(table_name)}.#{connection.quote_column_name(ancestry_column)}, '')\"), order)\nend\n</code></pre>\n\n<p>and wait for the pull request to get merged.</p></li>\n</ol>\n\n<hr>\n\n<p><strong>UPDATE</strong>: The pull request which fixes this warning was <a href=\"https://github.com/stefankroes/ancestry/pull/384#event-1580305654\" rel=\"noreferrer\">just merged</a> so there's no need to wait anymore, you should be able to grab the latest from GitHub and get on with more interesting things. Thanks to <a href=\"https://github.com/kbrock\" rel=\"noreferrer\">kbrock</a> for sorting this out.</p>\n"}], "owner": {"reputation": 5714, "user_id": 2389501, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/23f6a708c04c660111117c4613592689?s=128&d=identicon&r=PG", "display_name": "Mateusz Urba\u0144ski", "link": "https://stackoverflow.com/users/2389501/mateusz-urba%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4964, "favorite_count": 0, "accepted_answer_id": 49888094, "answer_count": 1, "score": 10, "last_activity_date": 1524013446, "creation_date": 1523999676, "question_id": 49887593, "link": "https://stackoverflow.com/questions/49887593/deprecation-warning-dangerous-query-method-method-whose-arguments-are-used-as", "title": "DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s)", "body": "<p>I updated my rails 5.1.4 app to 5.2.0. I have the following scope in one of my models:</p>\n\n<pre><code>  scope :by_category, lambda { |category_slug|\n    category_ids = Category.find_by(slug: category_slug)&amp;.subtree_ids\n    where(category_id: category_ids)\n  }\n</code></pre>\n\n<p>Rails returns me following error because of that scope:</p>\n\n<pre><code>DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): \"coalesce(\\\"categories\\\".\\\"ancestry\\\", '')\". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql()\n</code></pre>\n\n<p>How can I fix that?</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver", "xpath", "webdriver"], "comments": [{"owner": {"reputation": 46893, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1523996672, "post_id": 49886832, "comment_id": 86789824, "body": "Just use <code>&#47;&#47;i[contains(@class, &quot;fa-check-circle&quot;)]</code> and <code>&#47;&#47;i[contains(@class, &quot;fa-circle-thin&quot;)]</code> to collect elements of each type"}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "reply_to_user": {"reputation": 46893, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1524014647, "post_id": 49886832, "comment_id": 86795468, "body": "Thanks Anderson, I will try it tomorrow, is there any way to collect both of them in the same time in one array ?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524058816, "post_id": 49893486, "comment_id": 86817843, "body": "Anderson, Rajagopalan, thanks lot, this what I was looking for. is there any way to test if array has only the same elements &#39;fa-check-circle&#39; ? thanks lot"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524059123, "post_id": 49893486, "comment_id": 86818055, "body": "@Fatna I have answered your other question as well, Did that answer your question? <code>RUBY : selenium webdriver alert is not working</code>"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524059220, "post_id": 49893486, "comment_id": 86818112, "body": "@Fatna You wanted to check whether array only has <code>fa-check-circle</code> not <code>fa-circle-thin</code> ?"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524060096, "post_id": 49893486, "comment_id": 86818775, "body": "@Fatna Updated the answer, just have a look at it."}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524060375, "post_id": 49893486, "comment_id": 86818993, "body": "Rajagopalan, you code is good, clean and rubist, I did this array.each do |r|       puts r       expect(r).to eq(&#39;fa-check-circle&#39;)  \tend   BUT I prefer yours in an expect test to true"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524060674, "post_id": 49893486, "comment_id": 86819205, "body": "@Fatna Okay thank you, did you check my other answer to your question? Regarding to alert?"}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524061345, "post_id": 49893486, "comment_id": 86819706, "body": "thanks lot, am going to check it after I finish this, still have a small question, if I am using expect(array.map{|x|x.eql?&#39;fa-check-circle&#39;}.all?).to eq(true)  , how to have this solution working even if the array has nothing (empty array) after the search (filter)"}, {"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "reply_to_user": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524062877, "post_id": 49893486, "comment_id": 86820924, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169255/discussion-between-fatna-and-rajagopalan\">continue this discussion in chat</a>."}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524063210, "post_id": 49893486, "comment_id": 86821177, "body": "@Fatna you want to check whether array is empty. ? If so, there is a method called <code>empty?</code>"}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524063451, "post_id": 49893486, "comment_id": 86821382, "body": "@Fatna we will do it tomorrow, my office hours are over now, I don&#39;t have laptop in my hand."}], "tags": [], "owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "is_accepted": true, "score": 1, "last_activity_date": 1524063980, "last_edit_date": 1524063980, "creation_date": 1524035907, "answer_id": 49893486, "question_id": 49886832, "link": "https://stackoverflow.com/questions/49886832/ruby-selenium-how-to-identify-elements-based-on-attributes-at-runtime/49893486#49893486", "title": "Ruby Selenium - How to identify elements based on attributes at runtime", "body": "<p>This code would give your expected result</p>\n\n<pre><code>array=[driver.find_elements(xpath: \"//i[@class='fa fa-check-circle']\"), driver.find_elements(xpath: \"//i[@class='fa fa-circle-thin']\")]\n    .flatten\n    .map{|element|element.attribute('class').split.last}\n\np array\n</code></pre>\n\n<p>Update:</p>\n\n<p>As you asked,  Below code prints <code>true</code> If all elements are same</p>\n\n<pre><code>result=(array.uniq.count.eql? (1)) ? true : false\n\np result\n</code></pre>\n\n<p>If you want to check specifically check for <code>fa-check-circle</code> then write the below code</p>\n\n<pre><code>p array.map{|x|x.eql?'fa-check-circle'}.all?\n\n#=&gt; true if all elements are 'fa-check-circle' otherwise false\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524042393, "post_id": 49895289, "comment_id": 86806371, "body": "OP doesn&#39;t want elements, OP wants string either <code>fa-check-circle</code> or <code>fa-circle-thin</code> from the selected elements(In your case it&#39;s <code>req_submitted </code>), Please see my answer."}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524042560, "post_id": 49895289, "comment_id": 86806480, "body": "@Rajagopalan I think some where in the question I saw <b>I want to collect &quot;fa-check-circle&quot; and &quot;fa-circle-thin&quot; in an array</b> and of-coarse <i>fa-check-circle</i> and <i>fa-circle-thin</i> both won&#39;t be present together."}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524042664, "post_id": 49895289, "comment_id": 86806560, "body": "No no, you misunderstood the question, S/he meant to say element which has <code>fa-check-circle</code> and also element which has <code>fa-circle-thin</code>."}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524042872, "post_id": 49895289, "comment_id": 86806711, "body": "Ummm, interesting !!! See OP mantioned <i>I want to collect the classes responsible of checked or not checked to do some testing</i>, so we are just identifying the element based on the presence of a certain class. Of-coarse you can retrieve any of the attributes e.g. <code>class</code>, <code>aria-label</code>, etc anytime."}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1524043479, "post_id": 49895289, "comment_id": 86807163, "body": "Yes, that&#39;s correct, but out of that element she needs the attribute values in an array except(fa ), look at that code, that&#39;s what she is trying to do."}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1524042696, "last_edit_date": 1524042696, "creation_date": 1524041613, "answer_id": 49895289, "question_id": 49886832, "link": "https://stackoverflow.com/questions/49886832/ruby-selenium-how-to-identify-elements-based-on-attributes-at-runtime/49895289#49895289", "title": "Ruby Selenium - How to identify elements based on attributes at runtime", "body": "<p>As per your question it seems you want to collect the elements either with <em>class</em> attribute as <strong>fa fa-check-circle</strong> or <em>class</em> attribute as <strong>fa fa-circle-thin</strong>. So you can optimize your <em>Locator Strategy</em> as follows :</p>\n\n<pre><code>req_submitted = $driver.find_elements(:xpath,\"//i[contains(@class,'fa')][contains(@class,'fa-check-circle') or contains(@class,'fa-circle-thin')]\")\n</code></pre>\n\n<p><strong>Note</strong> : As you mentioned that you want to collect \"fa-check-circle\" and \"fa-circle-thin\" in an array, of-coarse <em>fa-check-circle</em> and <em>fa-circle-thin</em> both won't be present together in any case and you can use <code>find_element()</code> instead.</p>\n"}], "owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 49893486, "answer_count": 2, "score": -1, "last_activity_date": 1524063980, "creation_date": 1523996477, "last_edit_date": 1524041541, "question_id": 49886832, "link": "https://stackoverflow.com/questions/49886832/ruby-selenium-how-to-identify-elements-based-on-attributes-at-runtime", "title": "Ruby Selenium - How to identify elements based on attributes at runtime", "body": "<p>I have a table that has a column called \"request submitted\" , if submitted it's checked else it's not, I want to collect the classes responsible of checked or not checked to do some testing, here are the two options when expecting the html code :</p>\n\n<pre><code>//*[@id=\"main-display\"]/div[2]/div[2]/div/table/tbody/tr[3]/td[5]/button/i\n\n&lt;i aria-label=\"consent received\" class=\"fa fa-check-circle\"&gt;&lt;/i&gt;\n</code></pre>\n\n<p>AND </p>\n\n<pre><code>//*[@id=\"main-display\"]/div[2]/div[2]/div/table/tbody/tr[4]/td[5]/i\n\n\n&lt;i aria-label=\"&lt;span class=&amp;quot;translation_missing&amp;quot; title=&amp;quot;translation missing: en.aria.consent.'not_'received&amp;quot;&gt;'Not 'Received&lt;/span&gt;\" class=\"fa fa-circle-thin\"&gt;&lt;/i&gt;\n</code></pre>\n\n<p>I want to collect <code>\"fa-check-circle\"</code> and <code>\"fa-circle-thin\"</code> in an array , here is what I did :</p>\n\n<pre><code>Then /^I select request submitted$/ do\n\nreq_submitted = $driver.find_elements(:xpath,\"//*[@id='main- display']/div[2]/div[2]/div/table/tbody//i\")\n# consent_values = consents.map { |consent| consent.attribute('class')[3..-1]}\nputs req_submitted\nar = []\nreq_s = req_submitted.map do |r|\ncase r.attribute('class')\nwhen \"fa fa-check-circle\" then ar.push('fa-check-circle')\nwhen \"fa fa-circle-thin\" then ar.push('fa-circle-thin')\nelse nil\n  end   \n end\nend\n</code></pre>\n\n<p>Thanks,</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1523994221, "post_id": 49886185, "comment_id": 86788624, "body": "Don&#39;t do things like <code>puts `clear`</code>, instead call <code>system(&#39;clear&#39;)</code> if you <i>must</i>. If you want to make an interactive interface use the <a href=\"https://github.com/ruby/curses\" rel=\"nofollow noreferrer\">curses library</a>."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 1, "creation_date": 1523995193, "post_id": 49886185, "comment_id": 86789079, "body": "<code>join</code> takes an array and turns it into a string. Here you already have a string. You need to re-evaluate your strategy"}, {"owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 1, "creation_date": 1523995569, "post_id": 49886185, "comment_id": 86789276, "body": "<code>.join().split()</code> is not the same thing as <code>.split().join()</code>..."}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1524031931, "post_id": 49886185, "comment_id": 86800212, "body": "<i>ruby code is not working</i> is not clear. What do you expect your code to do? What happens instead? Is there an error message? What does it say?"}], "answers": [{"tags": [], "owner": {"reputation": 14757, "user_id": 461347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba0965512a62083413b8056d674f83a0?s=128&d=identicon&r=PG", "display_name": "Rob Davis", "link": "https://stackoverflow.com/users/461347/rob-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1523998964, "last_edit_date": 1523998964, "creation_date": 1523995381, "answer_id": 49886562, "question_id": 49886185, "link": "https://stackoverflow.com/questions/49886185/ruby-inbuilt-function-not-working-in-a-rb-file/49886562#49886562", "title": "ruby inbuilt function not working in a .rb file", "body": "<p>Your <code>fetch_value</code> method returns a string, not an array. And as the error says, the String class doesn't have a <code>join</code> method.</p>\n\n<p>If you'd like to treat the string as an array -- essentially evaluating it as ruby code -- you could always use <code>eval</code>. Be aware that in any real code it's rather dangerous to use eval on a user-entered string, since your code will happily run whatever the user gives it.</p>\n\n<p>With that caveat, you could do this:</p>\n\n<pre><code>def fetch_value\n  puts \"Please enter an array: \"\n  eval(gets.chomp)\nend\n</code></pre>\n\n<p>You'll probably also need to consider what to do with the array. Currently, you're combining its elements into a string and then splitting that string back into an array, which doesn't make a lot of sense. And since your example also uses nested arrays, that join-and-split tango probably isn't doing what you think it is.</p>\n"}], "owner": {"reputation": 1377, "user_id": 3734125, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4c82fc440ab08376bc41a5e229c86e26?s=128&d=identicon&r=PG", "display_name": "ARTLoe", "link": "https://stackoverflow.com/users/3734125/artloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 49886562, "answer_count": 1, "score": 0, "last_activity_date": 1523998964, "creation_date": 1523993769, "last_edit_date": 1523998807, "question_id": 49886185, "link": "https://stackoverflow.com/questions/49886185/ruby-inbuilt-function-not-working-in-a-rb-file", "title": "ruby inbuilt function not working in a .rb file", "body": "<p>I am unsure why my ruby code is not working, and any advice or help would be appreciated.</p>\n\n<p>Could someone kindly advise me on how I can make this code work:</p>\n\n<pre><code>result = fetch_value.join(',').split(',').map(&amp;:to_i)\n</code></pre>\n\n<p>I have the file below, named codeit.rb</p>\n\n<pre><code># Function definitions first\ndef menu\n  # Clear the screen, and present the user with a menu\n  puts `clear`\n  puts \"***Flatten an Array***\"\n  puts \"would you like to flatten an array?\"\n  print \"(y)yes, (n)no, (q)quit: \"\n  gets.chomp.downcase\nend\n\ndef flatten_array\n  print \"great! lets do this! \"\n\n  result = fetch_value.join(',').split(',').map(&amp;:to_i)\n\n  puts \"the answer is #{result}\"\n  puts \"press return to return to menu\"\n  gets\nend #end of flatten_array method\n\ndef fetch_value\n    puts \"Please enter an array: \"\n    gets.chomp\nend\n\n\n\n# run the app...\nresponse = menu \nwhile response != 'q'\n  case response\n  when 'y'\n    flatten_array\n  when 'n'\n    advanced_calc\n  end\n  response = menu\nend\n</code></pre>\n\n<p>Running this code in the terminal, I get the following:</p>\n\n<pre><code>***Flatten an Array***\nwould you like to flatten an array?\n(y)yes, (n)no, (q)quit: y\ngreat! lets do this! Please enter an array: \n[[1, 2, [3]], 4]\ncodeit.rb:14:in `flatten_array': undefined method `join' for \"[[1, 2, [3]], 4]\":String (NoMethodError)\n    from codeit.rb:35:in `&lt;main&gt;'\n</code></pre>\n\n<p>But when run similar commands in irb, the code seems to work:</p>\n\n<pre><code>2.3.0 :082 &gt; array\n =&gt; [[1, 2, [3]], 4] \n2.3.0 :083 &gt; \n2.3.0 :084 &gt;   \n2.3.0 :085 &gt;   \n2.3.0 :086 &gt;   array.join(',').split(',').map(&amp;:to_i)\n =&gt; [1, 2, 3, 4] \n2.3.0 :087 &gt; \n</code></pre>\n"}, {"tags": ["ruby", "sorting", "hash"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 1, "creation_date": 1523995324, "post_id": 49885929, "comment_id": 86789151, "body": "please include your code in the question and not through a link."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524024191, "post_id": 49885929, "comment_id": 86797572, "body": "How is <code>letter_counts</code> used? How is that related to your &quot;hash&quot;?"}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 0, "creation_date": 1524032655, "post_id": 49885929, "comment_id": 86800577, "body": "@BriExpost: Your code doesn&#39;t show a Hash. It shows an Array."}], "answers": [{"tags": [], "owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "is_accepted": false, "score": 4, "last_activity_date": 1524009434, "last_edit_date": 1524009434, "creation_date": 1523993286, "answer_id": 49886061, "question_id": 49885929, "link": "https://stackoverflow.com/questions/49885929/sorting-a-hash-first-by-value-then-by-key/49886061#49886061", "title": "Sorting a hash first by value then by key", "body": "<p>Group the elements in the array by each last element (the integer ones), map them by sorting each group by its first element, and then reverse:</p>\n\n<pre><code>def hsort(array)\n  array.group_by(&amp;:last).flat_map { |_, v| v.sort_by(&amp;:first).reverse }\nend\n\np hsort([[\"a\", 1], [\"b\", 1], [\"d\", 1], [\"k\", 1], [\"r\", 1], [\"f\", 2], [\"j\", 2], [\"o\", 2], [\"i\", 3], [\"s\", 3]])\n#\u00a0[[\"r\", 1], [\"k\", 1], [\"d\", 1], [\"b\", 1], [\"a\", 1], [\"o\", 2], [\"j\", 2], [\"f\", 2], [\"s\", 3], [\"i\", 3]]\np hsort([[\"e\", 1], [\"b\", 1], [\"d\", 1], [\"k\", 1], [\"r\", 1], [\"f\", 2], [\"j\", 2], [\"o\", 2], [\"i\", 3], [\"s\", 3]])\n#\u00a0[[\"r\", 1], [\"k\", 1], [\"e\", 1], [\"d\", 1], [\"b\", 1], [\"o\", 2], [\"j\", 2], [\"f\", 2], [\"s\", 3], [\"i\", 3]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 4, "last_activity_date": 1524010099, "last_edit_date": 1524010099, "creation_date": 1524009755, "answer_id": 49889165, "question_id": 49885929, "link": "https://stackoverflow.com/questions/49885929/sorting-a-hash-first-by-value-then-by-key/49889165#49889165", "title": "Sorting a hash first by value then by key", "body": "<pre><code>h = {\"b\"=&gt;1, \"j\"=&gt;2, \"r\"=&gt;1, \"o\"=&gt;2, \"k\"=&gt;1, \"a\"=&gt;1, \"s\"=&gt;3, \"i\"=&gt;3, \"f\"=&gt;2, \"d\"=&gt;1}\n\nh.max_by(h.size) { |k,v| [-v,k] }\n  #=&gt; [[\"r\", 1], [\"k\", 1], [\"d\", 1], [\"b\", 1], [\"a\", 1],\n  #    [\"o\", 2], [\"j\", 2], [\"f\", 2],\n  #    [\"s\", 3], [\"i\", 3]]\n</code></pre>\n\n<p>This uses the form of <a href=\"http://ruby-doc.org/core-2.4.0/Enumerable.html#method-i-max_by\" rel=\"nofollow noreferrer\">Enumerable#max_by</a> that takes an argument, which here is the number of key-value pairs in the hash. Note that <code>max_by</code> (and <code>min_by</code>, <code>max</code> and <code>min</code>) were first permitted to have an argument in Ruby v2.2.</p>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1524027861, "post_id": 49890976, "comment_id": 86798615, "body": "Clever! Must remember that. (It requires &quot;keys&quot; to be strings of size 1, but that seems to be what the OP has.)"}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1524024088, "creation_date": 1524024088, "answer_id": 49890976, "question_id": 49885929, "link": "https://stackoverflow.com/questions/49885929/sorting-a-hash-first-by-value-then-by-key/49890976#49890976", "title": "Sorting a hash first by value then by key", "body": "<pre><code>[\n  [\"a\", 1], \n  [\"b\", 1], \n  [\"d\", 1], \n  [\"k\", 1], \n  [\"r\", 1], \n  [\"f\", 2], \n  [\"j\", 2], \n  [\"o\", 2], \n  [\"i\", 3], \n  [\"s\", 3]\n]\n.sort_by{|k, v| [v, -k.ord]}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\n  [\"r\", 1],\n  [\"k\", 1],\n  [\"d\", 1],\n  [\"b\", 1],\n  [\"a\", 1],\n  [\"o\", 2],\n  [\"j\", 2],\n  [\"f\", 2],\n  [\"s\", 3],\n  [\"i\", 3]\n]\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9226882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee8ddf3acfc2dd7ff02846885c2126a?s=128&d=identicon&r=PG&f=1", "display_name": "Bri Expost", "link": "https://stackoverflow.com/users/9226882/bri-expost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1524024088, "creation_date": 1523992783, "last_edit_date": 1524023827, "question_id": 49885929, "link": "https://stackoverflow.com/questions/49885929/sorting-a-hash-first-by-value-then-by-key", "title": "Sorting a hash first by value then by key", "body": "<p>I have a hash [sic]:</p>\n\n<pre><code>[\n  [\"a\", 1], \n  [\"b\", 1], \n  [\"d\", 1], \n  [\"k\", 1], \n  [\"r\", 1], \n  [\"f\", 2], \n  [\"j\", 2], \n  [\"o\", 2], \n  [\"i\", 3], \n  [\"s\", 3]\n]\n</code></pre>\n\n<p>I want the output to be sorted by the numbers from smallest to largest, and then by the alphabet in reverse order:</p>\n\n<pre><code>[\n  [\"r\", 1], \n  [\"k\", 1], \n  [\"d\", 1], \n  [\"b\", 1], \n  [\"a\", 1], \n  [\"o\", 2], \n  [\"j\", 2], \n  [\"f\", 2], \n  [\"s\", 3], \n  [\"i\", 3]\n]\n</code></pre>\n\n<p>Is there a way to do this?</p>\n\n<p>This is my code:</p>\n\n<pre><code>def letter_counts(word)\n  my_hash = Hash.new(0)\n  word.split(\"\").each{|word| my_hash[word] += 1}\n  my_hash.sort_by{|key,value| [value, key]}\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "multipartform-data", "multipart"], "comments": [{"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "edited": false, "score": 0, "creation_date": 1524011197, "post_id": 49885834, "comment_id": 86794713, "body": "And you didn&#39;t consider using <code>JSON.parse</code> because...?"}, {"owner": {"reputation": 671, "user_id": 3445936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cd8z6.jpg?s=128&g=1", "display_name": "Rohit Lingayat", "link": "https://stackoverflow.com/users/3445936/rohit-lingayat"}, "edited": false, "score": 0, "creation_date": 1524025957, "post_id": 49885834, "comment_id": 86798033, "body": "first, you missed closing <code>}</code> bracket on end. And to parse the response you can use JSON.parse"}, {"owner": {"reputation": 13, "user_id": 6162574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmbhy.jpg?s=128&g=1", "display_name": "Raza Aslam", "link": "https://stackoverflow.com/users/6162574/raza-aslam"}, "edited": false, "score": 0, "creation_date": 1524167650, "post_id": 49885834, "comment_id": 86874334, "body": "<code>{   &quot;image&quot;: #&lt;ActionDispatch::Http::UploadedFile:0x007ff480760350 @tempfile=#&lt;Tempfile:&#47;tmp&#47;RackMultipart20180414-5482-q352rm.&zwnj;&#8203;pdf&gt;, @original_filename=&quot;Bill.pdf&quot;, @content_type=&quot;application&#47;pdf&quot;, @headers=&quot;Content-Disposition: form-data; name=\\&quot;product[product_images_attributes][0][image]\\&quot;; filename=\\&quot;Bill.pdf\\&quot;\\r\\nContent-Type: application&#47;pdf\\r\\n&quot;&gt; }</code>"}, {"owner": {"reputation": 13, "user_id": 6162574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmbhy.jpg?s=128&g=1", "display_name": "Raza Aslam", "link": "https://stackoverflow.com/users/6162574/raza-aslam"}, "edited": false, "score": 0, "creation_date": 1524167814, "post_id": 49885834, "comment_id": 86874415, "body": "I tried this and received <code>&lt;ActionController::Parameters {&quot;{\\n  \\&quot;image\\&quot;: #&lt;ActionDispatch::Http::UploadedFile:0x007ff480760350 @tempfile&quot;=&gt;&quot;#&lt;Tempfile:&#47;tmp&#47;RackMultipart20180414-5482-q352&zwnj;&#8203;rm.pdf&gt;, @original_filename=\\&quot;Bill.pdf\\&quot;, @content_type=\\&quot;application&#47;pdf\\&quot;, @headers=\\&quot;Content-Disposition: form-data; name=\\\\\\&quot;product[product_images_attributes][0][image]\\\\\\&quot;; filename=\\\\\\&quot;Bill.pdf\\\\\\&quot;\\\\r\\\\nContent-Type: application&#47;pdf\\\\r\\\\n\\&quot;&gt;\\n}&quot;, &quot;auth_token&quot;=&gt;&quot;b864eb626eb05da3d688&quot;, &quot;format&quot;=&gt;:json, &quot;controller&quot;=&gt;&quot;api&#47;v1&#47;products&quot;, &quot;action&quot;=&gt;&quot;create&quot;} permitted: false&gt;</code>"}, {"owner": {"reputation": 13, "user_id": 6162574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmbhy.jpg?s=128&g=1", "display_name": "Raza Aslam", "link": "https://stackoverflow.com/users/6162574/raza-aslam"}, "reply_to_user": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "edited": false, "score": 0, "creation_date": 1524167821, "post_id": 49885834, "comment_id": 86874416, "body": "when i try parse JSON.parse(params) then it will get this error. <code>*** TypeError Exception: no implicit conversion of ActionController::Parameters into String </code>@rohit @Myst"}, {"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "edited": false, "score": 0, "creation_date": 1524172014, "post_id": 49885834, "comment_id": 86876466, "body": "I take it all back... it seems your data might be parsed by the framework and can be accessed as is (i.e. <code>params[&quot;image&quot;].data</code>)..."}, {"owner": {"reputation": 13, "user_id": 6162574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmbhy.jpg?s=128&g=1", "display_name": "Raza Aslam", "link": "https://stackoverflow.com/users/6162574/raza-aslam"}, "edited": false, "score": 0, "creation_date": 1524934712, "post_id": 49885834, "comment_id": 87173905, "body": "it is returning nil."}], "owner": {"reputation": 13, "user_id": 6162574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmbhy.jpg?s=128&g=1", "display_name": "Raza Aslam", "link": "https://stackoverflow.com/users/6162574/raza-aslam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524026885, "creation_date": 1523992396, "last_edit_date": 1524026885, "question_id": 49885834, "link": "https://stackoverflow.com/questions/49885834/multipart-form-issue", "title": "Multipart/form Issue", "body": "<p>This is my api request body.</p>\n\n<pre><code>{\n  \"product\": {\n    \"name\": \"LG TV\",\n    \"subcategory_id\": 1,\n    \"price\": 15.40,\n    \"quantity\": 50,\n    \"company_name\": \"LG\",\n    \"product_images_attributes\": {\n      \"0\": {\n             \"image\": #&lt;ActionDispatch::Http::UploadedFile:0x007ff480760350 @tempfile=#&lt;Tempfile:/tmp/RackMultipart20180414-5482-q352rm.pdf&gt;, @original_filename=\"Bill.pdf\", @content_type=\"application/pdf\", @headers=\"Content-Disposition: form-data; name=\\\"product[product_images_attributes][0][image]\\\"; filename=\\\"Bill.pdf\\\"\\r\\nContent-Type: application/pdf\\r\\n\"&gt;\n           }\n    }\n}\n</code></pre>\n\n<p>I am setting content-type: 'multipart/form-data' when i try to send form then i am receiving json params.Here the params which i am receiving.</p>\n\n<pre><code>&lt;ActionController::Parameters {\"{\\\"product\\\": {\\\"name\\\": \\\"LG TV\\\",\\\"subcategory_id\\\": 1,\\\"price\\\": 15.40,\\\"quantity\\\": 50,\\\"company_name\\\": \\\"LG\\\",\\\"product_images_attributes\\\": {\\\"0\\\": {\\\"image\\\": #&lt;ActionDispatch::Http::UploadedFile:0x007ff480760350 @tempfile\"=&gt;\"#&lt;Tempfile:/tmp/RackMultipart20180414-5482-q352rm.pdf&gt;, @original_filename=\\\"Bill.pdf\\\", @content_type=\\\"application/pdf\\\", @headers=\\\"Content-Disposition: form-data; name=\\\\\\\"product[product_images_attributes][0][image]\\\\\\\"; filename=\\\\\\\"Bill.pdf\\\\\\\"\\\\r\\\\nContent-Type: application/pdf\\\\r\\\\n\\\"&gt;}}}}\", \"auth_token\"=&gt;\"b864eb626eb05da3d688\", \"format\"=&gt;:json, \"controller\"=&gt;\"api/v1/products\", \"action\"=&gt;\"create\"} permitted: false&gt;\n</code></pre>\n\n<p>How can I parse params and get product json?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 42135, "user_id": 103739, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/2dUhl.jpg?s=128&g=1", "display_name": "JP Silvashy", "link": "https://stackoverflow.com/users/103739/jp-silvashy"}, "is_accepted": true, "score": 4, "last_activity_date": 1523988728, "creation_date": 1523988728, "answer_id": 49884833, "question_id": 49884793, "link": "https://stackoverflow.com/questions/49884793/ruby-rails-nomethoderror-in-moviescontrollerindex-for-sort-using-sql/49884833#49884833", "title": "Ruby Rails NoMethodError in MoviesController#index for sort using SQL", "body": "<p>I think the bug is the <code>.(\"created_at DESC\")</code>, I think you want: <code>order(created_at: :desc)</code></p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "edited": false, "score": 0, "creation_date": 1523989551, "post_id": 49884917, "comment_id": 86786130, "body": "Oh boy thank you it works now but for some reason nothing is displayed anymore, do you think you might know why?"}, {"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "reply_to_user": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "edited": false, "score": 0, "creation_date": 1523989637, "post_id": 49884917, "comment_id": 86786179, "body": "You said you cleared your database? Perhaps there are no movies anymore?"}, {"owner": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "edited": false, "score": 0, "creation_date": 1523990011, "post_id": 49884917, "comment_id": 86786345, "body": "There are two I added back in so I expected them to show up."}, {"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "reply_to_user": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "edited": false, "score": 0, "creation_date": 1523990639, "post_id": 49884917, "comment_id": 86786700, "body": "Do they have the <code>category</code> in your <code>where</code> clause?"}], "tags": [], "owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "is_accepted": false, "score": 1, "last_activity_date": 1523989046, "creation_date": 1523989046, "answer_id": 49884917, "question_id": 49884793, "link": "https://stackoverflow.com/questions/49884793/ruby-rails-nomethoderror-in-moviescontrollerindex-for-sort-using-sql/49884917#49884917", "title": "Ruby Rails NoMethodError in MoviesController#index for sort using SQL", "body": "<p>What JP Silvashy said.</p>\n\n<p>Also, you can do:</p>\n\n<pre><code>@category = Category.find_by(name: params[:category])\n@movies = Movie.where(category: @category).order(created_at: :desc)\n</code></pre>\n\n<p>This assumes <code>Movie belongs_to :category</code>.</p>\n\n<p>Or you could just do (unless you're going to use <code>@category</code> somewhere else):</p>\n\n<pre><code>@movies = Movie.where(category: Category.find_by(name: params[:category])).order(created_at: :desc)    \n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 49884833, "answer_count": 2, "score": 0, "last_activity_date": 1524082678, "creation_date": 1523988577, "last_edit_date": 1524082678, "question_id": 49884793, "link": "https://stackoverflow.com/questions/49884793/ruby-rails-nomethoderror-in-moviescontrollerindex-for-sort-using-sql", "title": "Ruby Rails NoMethodError in MoviesController#index for sort using SQL", "body": "<p>I'm making a Ruby App for reviewing movies. In my movie index view I have a drop down menu which will select the name of the category to sort by and the movie controller contains the following code to display only movies of that genre:</p>\n\n<pre><code>@category_id = Category.find_by(name: params[:category]).id\n@movies = Movie.where(:category_id =&gt; @category_id).(\"created_at DESC\")\n</code></pre>\n\n<p>Movies belong to a category in the database. </p>\n\n<p>Now for some reason I get the following error:</p>\n\n<blockquote>\n  <p>NoMethodError in MoviesController#index</p>\n  \n  <p>undefined method `call' for # Did you mean? caller</p>\n</blockquote>\n\n<p>Whenever I try to sort the movies. This is thrown on the second line of the code above. This worked before I cleared my database, (the categories are still intact) so it might have something to do with it. </p>\n"}, {"tags": ["arrays", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 5141, "user_id": 193980, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/aafa8848c4b764f080b1b31a51eab73d?s=128&d=identicon&r=PG", "display_name": "Phlip", "link": "https://stackoverflow.com/users/193980/phlip"}, "edited": false, "score": 3, "creation_date": 1523988674, "post_id": 49884799, "comment_id": 86785671, "body": "Or <code>[...].sort.last &gt;= 100</code>. C-;"}, {"owner": {"reputation": 2611, "user_id": 2319299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad0ca993033b3191db773253a5a7cd6?s=128&d=identicon&r=PG", "display_name": "Matteo Ragni", "link": "https://stackoverflow.com/users/2319299/matteo-ragni"}, "edited": false, "score": 3, "creation_date": 1523988783, "post_id": 49884799, "comment_id": 86785727, "body": "Great answer, but IMHO bad comment. Why sorting when you have only to transverse the array once? BTW upvoting for being faster than me :)"}, {"owner": {"reputation": 5141, "user_id": 193980, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/aafa8848c4b764f080b1b31a51eab73d?s=128&d=identicon&r=PG", "display_name": "Phlip", "link": "https://stackoverflow.com/users/193980/phlip"}, "reply_to_user": {"reputation": 2611, "user_id": 2319299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad0ca993033b3191db773253a5a7cd6?s=128&d=identicon&r=PG", "display_name": "Matteo Ragni", "link": "https://stackoverflow.com/users/2319299/matteo-ragni"}, "edited": false, "score": 1, "creation_date": 1523988903, "post_id": 49884799, "comment_id": 86785783, "body": "Because Ruby is like Perl (and unlike Python) - there&#39;s always more ways to do it."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 4, "creation_date": 1523989882, "post_id": 49884799, "comment_id": 86786284, "body": "<code>arr.find { |x| x &gt;= 100 }</code> and <code>arr.index { |x| x &gt;= 100 }</code> are alternatives to <code>any?</code> in that they too quit when a value or index is found and return a truthy or <code>nil</code> value, but <code>any?</code> reads best. Aside: <code>sort</code> makes no sense, so why bring it up?"}, {"owner": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "edited": false, "score": 0, "creation_date": 1523991590, "post_id": 49884799, "comment_id": 86787232, "body": "And since this is Ruby: <code>class Array \tdef does_contain_any_value_greater_than(n) \t\t!self.delete_if{|a| a&lt;n}.empty? \tend end p [5, 20, 13, 100].does_contain_any_value_greater_than 100</code>"}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 3, "creation_date": 1524010758, "post_id": 49884799, "comment_id": 86794630, "body": "<code>[...].max &gt;= 100</code>"}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 1, "creation_date": 1524011322, "post_id": 49884799, "comment_id": 86794737, "body": "Or <code>arr.any?(100..Float::INFINITY)</code>"}, {"owner": {"reputation": 5141, "user_id": 193980, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/aafa8848c4b764f080b1b31a51eab73d?s=128&d=identicon&r=PG", "display_name": "Phlip", "link": "https://stackoverflow.com/users/193980/phlip"}, "edited": false, "score": 0, "creation_date": 1524012346, "post_id": 49884799, "comment_id": 86794961, "body": "Yup. I forgot about the <code>.max</code> - that might be the cleanest solution. But remember only the latest Rubies support <code>.any?(PATTERN)</code>."}], "tags": [], "owner": {"reputation": 5141, "user_id": 193980, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/aafa8848c4b764f080b1b31a51eab73d?s=128&d=identicon&r=PG", "display_name": "Phlip", "link": "https://stackoverflow.com/users/193980/phlip"}, "is_accepted": true, "score": 7, "last_activity_date": 1523988591, "creation_date": 1523988591, "answer_id": 49884799, "question_id": 49884783, "link": "https://stackoverflow.com/questions/49884783/check-if-any-number-in-a-ruby-array-is-greater-than-or-equal-to-100/49884799#49884799", "title": "Check if any number in a Ruby array is greater than or equal to 100", "body": "<p>Try <code>[5, 20, 13, 100].any?{|x| x &gt;= 100 }</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1523989565, "post_id": 49885008, "comment_id": 86786143, "body": "I don&#39;t see any value in presenting inferior (boolean) methods. It only weakens your answer."}, {"owner": {"reputation": 2611, "user_id": 2319299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad0ca993033b3191db773253a5a7cd6?s=128&d=identicon&r=PG", "display_name": "Matteo Ragni", "link": "https://stackoverflow.com/users/2319299/matteo-ragni"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1523990051, "post_id": 49885008, "comment_id": 86786368, "body": "Sorry, I do not understand your comment, can you please elaborate a little more?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1523990359, "post_id": 49885008, "comment_id": 86786553, "body": "Sometimes there is one approach to a problem that is clearly best. In such cases there is no point in mentioning inferior methods as well as the preferred one. Other times (as here) there are two or more approaches that could be used that are similar in efficiency and readability. They might all be presented, but again, it makes no sense to present clearly inferior approaches as well. As I say, answers are weakened (imo) by including inferior approaches, which often (as here) are too numerous to count."}, {"owner": {"reputation": 2611, "user_id": 2319299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad0ca993033b3191db773253a5a7cd6?s=128&d=identicon&r=PG", "display_name": "Matteo Ragni", "link": "https://stackoverflow.com/users/2319299/matteo-ragni"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1523990549, "post_id": 49885008, "comment_id": 86786654, "body": "Uh ok, now I understand. Actually the <code>map + inject</code> is there for a didactic only purpose and to introduce the last <code>inject</code>, that I consider a little to much to show directly. Or at least, this is what I have to do with students in order to make them understand <code>inject</code>..."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1523991207, "post_id": 49885008, "comment_id": 86787018, "body": "Ah, you teach Ruby! I can see the value of stepping through different ways of attacking the problem in a classroom setting, starting with the easiest to understand then working towards the Ruby-like ones, but I don&#39;t think most SO members are looking for that in answers. They prefer answers that merely suggest how the problem should be solved."}, {"owner": {"reputation": 2611, "user_id": 2319299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad0ca993033b3191db773253a5a7cd6?s=128&d=identicon&r=PG", "display_name": "Matteo Ragni", "link": "https://stackoverflow.com/users/2319299/matteo-ragni"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1523991823, "post_id": 49885008, "comment_id": 86787358, "body": "I teached Ruby during my Phd, and it also happened that I answered on SO to one of my students question... and I never lost the attitude... But you are completely right :)"}], "tags": [], "owner": {"reputation": 2611, "user_id": 2319299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad0ca993033b3191db773253a5a7cd6?s=128&d=identicon&r=PG", "display_name": "Matteo Ragni", "link": "https://stackoverflow.com/users/2319299/matteo-ragni"}, "is_accepted": false, "score": 0, "last_activity_date": 1524032939, "last_edit_date": 1524032939, "creation_date": 1523989426, "answer_id": 49885008, "question_id": 49884783, "link": "https://stackoverflow.com/questions/49884783/check-if-any-number-in-a-ruby-array-is-greater-than-or-equal-to-100/49885008#49885008", "title": "Check if any number in a Ruby array is greater than or equal to 100", "body": "<p>From a basic point of view you can do with your Array <code>ary</code>:</p>\n\n<p>a nice old plain <code>for</code>:</p>\n\n<pre><code>ret = false\nfor i in 0...(ary.size)\n  if ary[i] &gt;= 100\n    ret = true\n    break\n  end\nend\n</code></pre>\n\n<p>or you can use a <code>while</code></p>\n\n<pre><code>ret = false\ni = 0\nwhile not ret or i &lt; ary.size\n  ret = ary[i] &gt;= 100\n  i += 1\nend\n</code></pre>\n\n<p>or you can use an <code>each</code> method on the array:</p>\n\n<pre><code>ret = false\nary.each do |el|\n  ret = true if el &gt;= 100\nend\n</code></pre>\n\n<p>or you can use <code>any?</code> like in @Philip answer</p>\n\n<p>or you can use the <code>max</code> method, as cleverly suggested by @sagar-pandya (this solution is extremely nice, but requires to traverse the whole array):</p>\n\n<pre><code>ary.max &gt;= 100\n</code></pre>\n\n<p>or you can <code>map</code> your array on a newer array of boolean (but this requires two loops over two arrays, thus it is not as efficient as other solutions), and then <code>inject</code> the result in a new variable with the result:</p>\n\n<pre><code>bol = ary.map { |el| el &gt;= 100 }\nret = bol.inject { |s, el| s or el }\n</code></pre>\n\n<p>or you can use directly <code>inject</code> (but this time you have to set initial conditions):</p>\n\n<pre><code>ret = ary.inject(false) { |s, el| s or (el &gt;= 100) }\n</code></pre>\n\n<p>Chose your weapon :). But if you want to do it right think about (given your specific task):</p>\n\n<ul>\n<li>using a method that traverse the array only once;</li>\n<li>using a method that stops when it has found a <code>true</code> condition.</li>\n</ul>\n"}], "owner": {"reputation": 22592, "user_id": 147586, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e4f5d494ebdc9e7cce1aecf3ce3e8bc1?s=128&d=identicon&r=PG", "display_name": "Shpigford", "link": "https://stackoverflow.com/users/147586/shpigford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1280, "favorite_count": 0, "accepted_answer_id": 49884799, "answer_count": 2, "score": 1, "last_activity_date": 1524032939, "creation_date": 1523988528, "last_edit_date": 1523988745, "question_id": 49884783, "link": "https://stackoverflow.com/questions/49884783/check-if-any-number-in-a-ruby-array-is-greater-than-or-equal-to-100", "title": "Check if any number in a Ruby array is greater than or equal to 100", "body": "<p>Given a Ruby array of <code>[5, 20, 13, 100]</code>, how can check if any single one of those items is <code>&gt;= 100</code>?</p>\n\n<p>Ultimately wanting it to return <code>true</code> or <code>false</code>.</p>\n\n<p>Seems I could do something like <code>arr.select { |num| num &gt;= 100 }</code> and count them, but seems there'd be a more succinct method or it.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "date", "rubygems"], "comments": [{"owner": {"reputation": 2367, "user_id": 85076, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/6slRi.jpg?s=128&g=1", "display_name": "Pierre-Adrien", "link": "https://stackoverflow.com/users/85076/pierre-adrien"}, "edited": false, "score": 0, "creation_date": 1523991623, "post_id": 49884713, "comment_id": 86787251, "body": "Problem must be coming from somewhere else, the error message explicitly talks about you calling a div something, which does not appear anywhere else in this code. We need more details about the error stack and more context to help. What you&#39;re saying about the date displayed in the terminal might only be because it uses the inspect implementation of the Date class. Calling <code>end_date.to_s</code> explicitly should display the date in ISO format yyyy-mm-dd. See <a href=\"https://ruby-doc.org/stdlib-2.3.1/libdoc/date/rdoc/Date.html\" rel=\"nofollow noreferrer\">ruby-doc.org/stdlib-2.3.1/libdoc/date/rdoc/Date.html</a> about this"}, {"owner": {"reputation": 7, "user_id": 8502602, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wk__T8zontw/AAAAAAAAAAI/AAAAAAAAANw/79eaQxtWWA0/photo.jpg?sz=128", "display_name": "Belal Kamara", "link": "https://stackoverflow.com/users/8502602/belal-kamara"}, "reply_to_user": {"reputation": 2367, "user_id": 85076, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/6slRi.jpg?s=128&g=1", "display_name": "Pierre-Adrien", "link": "https://stackoverflow.com/users/85076/pierre-adrien"}, "edited": false, "score": 0, "creation_date": 1523993957, "post_id": 49884713, "comment_id": 86788493, "body": "Yes if I use <code>end_date.to_s</code> it will use the format yyyy-mm-dd. But I cant use my method by using a string since its  subtracting. The end_date and start_date are date classes in the schema file."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 8502602, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wk__T8zontw/AAAAAAAAAAI/AAAAAAAAANw/79eaQxtWWA0/photo.jpg?sz=128", "display_name": "Belal Kamara", "link": "https://stackoverflow.com/users/8502602/belal-kamara"}, "edited": false, "score": 0, "creation_date": 1523988899, "post_id": 49884774, "comment_id": 86785777, "body": "I tried the strftime, but still giving me an error message."}, {"owner": {"reputation": 42135, "user_id": 103739, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/2dUhl.jpg?s=128&g=1", "display_name": "JP Silvashy", "link": "https://stackoverflow.com/users/103739/jp-silvashy"}, "reply_to_user": {"reputation": 7, "user_id": 8502602, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wk__T8zontw/AAAAAAAAAAI/AAAAAAAAANw/79eaQxtWWA0/photo.jpg?sz=128", "display_name": "Belal Kamara", "link": "https://stackoverflow.com/users/8502602/belal-kamara"}, "edited": false, "score": 1, "creation_date": 1523988958, "post_id": 49884774, "comment_id": 86785804, "body": "You should post your full example so we can run it and see what you want to do more clearly. How are you invoking your methods?"}, {"owner": {"reputation": 7, "user_id": 8502602, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wk__T8zontw/AAAAAAAAAAI/AAAAAAAAANw/79eaQxtWWA0/photo.jpg?sz=128", "display_name": "Belal Kamara", "link": "https://stackoverflow.com/users/8502602/belal-kamara"}, "edited": false, "score": 0, "creation_date": 1523994019, "post_id": 49884774, "comment_id": 86788520, "body": "I will add where im calling the method in the above edit"}], "tags": [], "owner": {"reputation": 42135, "user_id": 103739, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/2dUhl.jpg?s=128&g=1", "display_name": "JP Silvashy", "link": "https://stackoverflow.com/users/103739/jp-silvashy"}, "is_accepted": false, "score": 1, "last_activity_date": 1523988494, "creation_date": 1523988494, "answer_id": 49884774, "question_id": 49884713, "link": "https://stackoverflow.com/questions/49884713/how-to-convert-date-that-displays-wed-25-apr-2018-to-2018-04-25-in-ruby/49884774#49884774", "title": "How to convert date that displays (Wed, 25 Apr 2018) to (2018-04-25) in RUBY", "body": "<p>You can use:</p>\n\n<pre><code>date.strftime(\"%F\")\n</code></pre>\n\n<p>A good resource to check out is the docs for <code>strftime</code>: <a href=\"https://apidock.com/ruby/Date/strftime\" rel=\"nofollow noreferrer\">https://apidock.com/ruby/Date/strftime</a></p>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 8502602, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wk__T8zontw/AAAAAAAAAAI/AAAAAAAAANw/79eaQxtWWA0/photo.jpg?sz=128", "display_name": "Belal Kamara", "link": "https://stackoverflow.com/users/8502602/belal-kamara"}, "is_accepted": false, "score": 0, "last_activity_date": 1524012846, "creation_date": 1524012846, "answer_id": 49889514, "question_id": 49884713, "link": "https://stackoverflow.com/questions/49884713/how-to-convert-date-that-displays-wed-25-apr-2018-to-2018-04-25-in-ruby/49889514#49889514", "title": "How to convert date that displays (Wed, 25 Apr 2018) to (2018-04-25) in RUBY", "body": "<p>I figured out what it was...I removed the Date.new() calls and it worked! Thanks JP Silvashy &amp;  Pierre-Adrien Buisson for your help.\nSO it looks like this now:</p>\n\n<pre><code>  def event_days\n    Integer(self.end_date - closer_to_end_date)\n  end\n\n  def closer_to_end_date\n    if Date.today &gt;= self.start_date\n      Date.today\n    elsif self.start_date &gt;= Date.today\n      self.start_date\n    end\n  end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 6670519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7r9T.jpg?s=128&g=1", "display_name": "Dapeng114", "link": "https://stackoverflow.com/users/6670519/dapeng114"}, "is_accepted": false, "score": 0, "last_activity_date": 1524022606, "creation_date": 1524022606, "answer_id": 49890762, "question_id": 49884713, "link": "https://stackoverflow.com/questions/49884713/how-to-convert-date-that-displays-wed-25-apr-2018-to-2018-04-25-in-ruby/49890762#49890762", "title": "How to convert date that displays (Wed, 25 Apr 2018) to (2018-04-25) in RUBY", "body": "<p>In Rails you can</p>\n\n<pre><code>string = \"Wed, 25 Apr 2018\"\ndate = string.to_date.strftime(\"%F\")\n=&gt; \"2018-04-25\"\n</code></pre>\n\n<p>In Ruby</p>\n\n<pre><code>require 'date'\nstring = \"Wed, 25 Apr 2018\"\nDateTime.parse(string).strftime(\"%F\")\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8502602, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wk__T8zontw/AAAAAAAAAAI/AAAAAAAAANw/79eaQxtWWA0/photo.jpg?sz=128", "display_name": "Belal Kamara", "link": "https://stackoverflow.com/users/8502602/belal-kamara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1524022606, "creation_date": 1523988280, "last_edit_date": 1524011840, "question_id": 49884713, "link": "https://stackoverflow.com/questions/49884713/how-to-convert-date-that-displays-wed-25-apr-2018-to-2018-04-25-in-ruby", "title": "How to convert date that displays (Wed, 25 Apr 2018) to (2018-04-25) in RUBY", "body": "<p>I am trying to countdown the days from start date to end date and I built a method in Ruby that will do it but I am getting a \"undefined method `div'\" error in the terminal. \nAfter playing around I found out that when I call back the start/end date in the terminal it returns the date in this format: Wed, 25 Apr 2018.\nI believe thats the reason why im getting the undefined method error.\nDoes anyone know how to convert the date?</p>\n\n<p>The code that I have is below:</p>\n\n<pre><code>  def event_days\n    Integer(Date.new(self.end_date.to_time) - (closer_to_end_date))\n  end\n\n  def closer_to_end_date\n    if Date.today &gt;= Date.new(self.start_date)\n      Date.today\n    elsif Date.new(self.start_date) &gt;= Date.today\n      Date.new(self.start_date)\n    end\n  end\n</code></pre>\n\n<p>FYI: When I hard code the end_date/start_date as (2018-04-25) the method works perfectly. </p>\n\n<p>GitHub Repo of call: <a href=\"https://github.com/belalkamara/CapStone/blob/phase1/app/models/activity.rb\" rel=\"nofollow noreferrer\">https://github.com/belalkamara/CapStone/blob/phase1/app/models/activity.rb</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "chartkick"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "edited": false, "score": 0, "creation_date": 1523989409, "post_id": 49884624, "comment_id": 86786054, "body": "Anyone! I&#39;m desperate"}, {"owner": {"reputation": 3997, "user_id": 3998420, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55ea542584d3fd2a430c3d409bdafc95?s=128&d=identicon&r=PG&f=1", "display_name": "bkunzi01", "link": "https://stackoverflow.com/users/3998420/bkunzi01"}, "edited": false, "score": 0, "creation_date": 1523989483, "post_id": 49884624, "comment_id": 86786092, "body": "Did you precompile your assets before deploying to heroku?  Run: bundle exec rake assets:precompile RAILS_ENV=production          Then run: git commit -m &quot;Precomped assets for production&quot;  then push to heroku."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "reply_to_user": {"reputation": 3997, "user_id": 3998420, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55ea542584d3fd2a430c3d409bdafc95?s=128&d=identicon&r=PG&f=1", "display_name": "bkunzi01", "link": "https://stackoverflow.com/users/3998420/bkunzi01"}, "edited": false, "score": 0, "creation_date": 1523989640, "post_id": 49884624, "comment_id": 86786181, "body": "I&#39;ll try that now. I didn&#39;t precompile my assets"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "reply_to_user": {"reputation": 3997, "user_id": 3998420, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55ea542584d3fd2a430c3d409bdafc95?s=128&d=identicon&r=PG&f=1", "display_name": "bkunzi01", "link": "https://stackoverflow.com/users/3998420/bkunzi01"}, "edited": false, "score": 0, "creation_date": 1523990007, "post_id": 49884624, "comment_id": 86786340, "body": "That didn&#39;t work, unfortunately. This is weird, it&#39;s working locally with no issue"}], "owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1593771800, "creation_date": 1523987937, "last_edit_date": 1524124431, "question_id": 49884624, "link": "https://stackoverflow.com/questions/49884624/rails-deployed-on-heroku-chart-kick-is-not-defined", "title": "Rails deployed on heroku: Chart Kick is not defined", "body": "<p>I'm trying to get chartkick to work on heroku. It works locally but not when deployed. This is the error i'm getting.</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: Chartkick is not defined\n      at :2:3\n      at r.assignNewBody (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)\n      at r.replaceBody (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)\n      at application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570\n      at r.e.renderView (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)\n      at r.render (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)\n      at Function.e.render (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)\n      at t.renderSnapshot (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)\n      at t.render (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)\n      at e.render (application-bb9e8f7bfe204d5bf8881251f3d2f2ccdd2040ddb8742362c0b73c5f15b29418.js:11570)</p>\n</blockquote>\n\n<p>This is my application.js</p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require turbolinks\n//= require bootstrap-sprockets\n//= require Chart.bundle\n//= require chartkick\n//= require_tree\n</code></pre>\n\n<p>This is the gem</p>\n\n<pre><code>gem \"chartkick\"\n</code></pre>\n\n<p>This is the page when the charts should display</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"text-lead h3 text-center report-title\"&gt;Overview of aggreagted patient data&lt;/div&gt;\n    &lt;div class=\"row chart-labels text-muted\"&gt;\n        &lt;div class=\"col-md-6 text-center\"&gt;\n            &lt;label class=\"ml-1\" for=\"patients-illness\"&gt;A summary of your patients illness's&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-md-6 text-center\"&gt;\n            &lt;label for=\"patients-hospital\"&gt;Patients Location&lt;/label&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row charts\"&gt;\n        &lt;div class=\"col-md-6\" id=\"patients-illness\"&gt;\n            &lt;%= pie_chart  current_user.patients.group(:ailment).count %&gt;\n        &lt;/div&gt;\n         &lt;div class=\"col-md-6\" id=\"patients-hospital\"&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row chart-labels text-muted\"&gt;\n        &lt;div class=\"col-md-12 text-center\"&gt;\n            &lt;label for=\"patients-status\"&gt;Patients current status&lt;/label&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-12\" id=\"patients-status\"&gt;\n            &lt;%= bar_chart current_user.patients.group(:status).count, colors: [\"#8506A9\"] %&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>This is what I get on screen </p>\n\n<p><a href=\"https://i.stack.imgur.com/fBPVC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fBPVC.png\" alt=\"enter image description here\"></a></p>\n\n<p>The charts should appear where 'loading' is.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "chef-infra"], "comments": [{"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1523993698, "post_id": 49884547, "comment_id": 86788361, "body": "Ridley is deprecated and no longer being maintained, don\u2019t use it."}, {"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 1, "creation_date": 1523993725, "post_id": 49884547, "comment_id": 86788379, "body": "Use the chef-api gem instead, though that\u2019s only marginally maintained."}, {"owner": {"reputation": 45, "user_id": 9609720, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "newdevopsguy", "link": "https://stackoverflow.com/users/9609720/newdevopsguy"}, "reply_to_user": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1524170284, "post_id": 49884547, "comment_id": 86875644, "body": "Thanks @coderanger. I will check with chef-api gem"}], "owner": {"reputation": 45, "user_id": 9609720, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "newdevopsguy", "link": "https://stackoverflow.com/users/9609720/newdevopsguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523987887, "creation_date": 1523987614, "last_edit_date": 1523987887, "question_id": 49884547, "link": "https://stackoverflow.com/questions/49884547/riddley-search-in-ruby", "title": "Riddley Search in Ruby", "body": "<p>I am working on a ruby script to get a list of servers in a node group. When I use the following query, I can get the results</p>\n\n<pre><code>ridley.search(:node, \"role:#{chef_role} AND chef_environment:#{env}\").each { |n|\n</code></pre>\n\n<p>But, when I search with the following,</p>\n\n<pre><code>ridley.search(:node, \"role:#{chef_role} AND chef_environment:#{env} AND service_type:#{service_type}\").each { |n| \n</code></pre>\n\n<p>I get the following error</p>\n\n<blockquote>\n  <p>[2018-04-17T10:37:58.763287 #17333] ERROR -- : Actor crashed!\n  Ridley::Errors::HTTPBadRequest: {\"error\":[\"invalid search query:</p>\n</blockquote>\n\n<p>How can I add the extra \"service_type\" and get a successful search?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "inheritance", "constants"], "comments": [{"owner": {"reputation": 1089, "user_id": 3512592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/189408ac24ce8bae9dc749c842c15037?s=128&d=identicon&r=PG&f=1", "display_name": "Devon Parsons", "link": "https://stackoverflow.com/users/3512592/devon-parsons"}, "edited": false, "score": 0, "creation_date": 1523987184, "post_id": 49884311, "comment_id": 86784876, "body": "Or alternatively I suppose, how can I fire code AFTER <code>inherited</code> is called?"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1523988017, "post_id": 49884311, "comment_id": 86785345, "body": "Why a constant why not make a method to handle this? e.g. <code>def self.aliases(**args); args.each { |k,v| alias_attribute k, v }; end</code> and then in your models just add <code>aliases  places: :geographic_places, prices: :product_prices,#...</code>"}, {"owner": {"reputation": 1089, "user_id": 3512592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/189408ac24ce8bae9dc749c842c15037?s=128&d=identicon&r=PG&f=1", "display_name": "Devon Parsons", "link": "https://stackoverflow.com/users/3512592/devon-parsons"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1523988455, "post_id": 49884311, "comment_id": 86785572, "body": "@engineersmnky I still need to be able to lookup the callee when given an alias. What&#39;s the proper way to save that information? Something like <code>@aliases[k] = v</code> in ApplicationRecord?"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1523989114, "post_id": 49884311, "comment_id": 86785877, "body": "What do you mean &quot;lookup the callee&quot; this is an inheritance pattern. I guess if you need to store the alias names for a given method you could store them at a class level. Here is a <a href=\"https://repl.it/@engineersmnky/OurFelineComputationalscience\" rel=\"nofollow noreferrer\">Example</a> of my suggestion."}, {"owner": {"reputation": 1089, "user_id": 3512592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/189408ac24ce8bae9dc749c842c15037?s=128&d=identicon&r=PG&f=1", "display_name": "Devon Parsons", "link": "https://stackoverflow.com/users/3512592/devon-parsons"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1524154185, "post_id": 49884311, "comment_id": 86867128, "body": "Thanks for the help. I found a solution that uses aspects of both our approaches and it works very well. I&#39;ll write up a full answer soon."}], "owner": {"reputation": 1089, "user_id": 3512592, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/189408ac24ce8bae9dc749c842c15037?s=128&d=identicon&r=PG&f=1", "display_name": "Devon Parsons", "link": "https://stackoverflow.com/users/3512592/devon-parsons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523987434, "creation_date": 1523986743, "last_edit_date": 1523987434, "question_id": 49884311, "link": "https://stackoverflow.com/questions/49884311/access-subclass-constants-after-inheritance", "title": "Access subclass constants after inheritance", "body": "<p>I have a model in my Rails application with a number of constants defined on it:</p>\n\n<pre><code>class Product &lt; ApplicationRecord\n  ALIASES = {\n    places: :geographic_places,\n    prices: :product_prices,\n    productPrices: :product_prices,\n    productSpecification: :product_spec\n  }\n\n  ALIASES.each do |k, v|\n    alias_attribute k, v\n  end\n\n  ATTRIBUTES = [:name, :description, :isBundle, :lastUpdate, :validFor]\n  ASSOCIATIONS = [:productPrice, :productSpecification, :place]\n\n  # The rest of the class has been omitted for brevity\nend\n</code></pre>\n\n<p>My ALIASES are in a hash so I can later lookup which association I am following given an alias. You can see that I set each alias up as an <code>alias_attribute</code>.</p>\n\n<p>However this snippet will be repeated in all of my models:</p>\n\n<pre><code>ALIASES.each do |k, v|\n  alias_attribute k, v\nend\n</code></pre>\n\n<p>I would like the base class, ApplicationRecord, to be able to handle that for me. I have a similar requirement for some methods in the ApplicationRecord to be aware of ATTRIBUTES and ASSOCIATIONS. However I can't find a way to access inheriting-class's constants. </p>\n\n<pre><code>class ApplicationRecord &lt; ActiveRecord::Base\n  self.abstract_class = true\n\n  # 1\n  base_class::ALIASES.each { |k, v| alias_attribute k, v } # =&gt; NameError: Uninitialized constant ApplicationRecord::ALIASES\n\n\n  def class &lt;&lt; self\n    # 2\n    base_class::ALIASES.each { |k, v| alias_attribute k, v } # =&gt; NameError: Uninitialized constant ApplicationRecord::ALIASES\n\n    # 3 - inherited fires BEFORE the subclass code is run\n    def inherited(subclass)\n      puts subclass.name # =&gt; Product\n      subclass.const_get(:ALIASES) # =&gt; NameError: uninitialized constant Product::ALIASES\n    end\n\n    # By the way, this works\n    def table_name\n      self.base_class.name.underscore + '_records'\n    end\n    # Elsewhere: Product.table_name # =&gt; 'product_records'\n  end\nend\n</code></pre>\n\n<p>How can I access the inheriting class's constants after they are initialized?</p>\n\n<p>(Ruby 2.4.1, Rails 5.1.5)</p>\n"}, {"tags": ["ruby", "while-loop"], "answers": [{"tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": false, "score": 0, "last_activity_date": 1523987357, "creation_date": 1523987357, "answer_id": 49884478, "question_id": 49884281, "link": "https://stackoverflow.com/questions/49884281/ruby-the-while-loop-does-not-work/49884478#49884478", "title": "Ruby : the while loop does not work", "body": "<p>Your while block is executed while the condition is true but your condition is never true (4 != 4 is false)</p>\n"}, {"comments": [{"owner": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "edited": false, "score": 0, "creation_date": 1523990719, "post_id": 49884749, "comment_id": 86786754, "body": "And maybe this is could have been the condition <code>while a != adeviner</code>"}, {"owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "reply_to_user": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "edited": false, "score": 0, "creation_date": 1523990767, "post_id": 49884749, "comment_id": 86786786, "body": "I just noticed it and edited. Makes no sense to hardcode a value when it seems adeviner is used for the value the user is supposed to guess."}, {"owner": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "edited": false, "score": 0, "creation_date": 1523991281, "post_id": 49884749, "comment_id": 86787060, "body": "I agree. We have been simultaneous."}], "tags": [], "owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "is_accepted": true, "score": 1, "last_activity_date": 1523990690, "last_edit_date": 1523990690, "creation_date": 1523988408, "answer_id": 49884749, "question_id": 49884281, "link": "https://stackoverflow.com/questions/49884281/ruby-the-while-loop-does-not-work/49884749#49884749", "title": "Ruby : the while loop does not work", "body": "<p>I think you are accidentally using the wrong variable in your loop </p>\n\n<pre><code>adeviner = 4\na = 0\n\nwhile a!= adeviner\n    puts \"Entrez votre chiffre\"\n    a = gets.chomp.to_i\nend\n\nputs \"vous avez devine le chiffre\"\n</code></pre>\n\n<p>The code above uses the a variable in the loop. a is initally set to a default of 0 (which is not the number we are trying to guess) and the loop continues until the user correctly inputs \"adeviner\" value. </p>\n"}], "owner": {"reputation": 144, "user_id": 9399016, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ODXq649FUVg/AAAAAAAAAAI/AAAAAAAAADA/3GEzmBAn3V4/photo.jpg?sz=128", "display_name": "Adri", "link": "https://stackoverflow.com/users/9399016/adri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 49884749, "answer_count": 2, "score": 2, "last_activity_date": 1523990690, "creation_date": 1523986646, "last_edit_date": 1523988530, "question_id": 49884281, "link": "https://stackoverflow.com/questions/49884281/ruby-the-while-loop-does-not-work", "title": "Ruby : the while loop does not work", "body": "<p>I have a problem with my <code>while</code> loop. The loop displays directly from last <code>puts</code> without asking for the number that is to guess (adeviner).</p>\n\n<pre><code>adeviner = 4\na = 0\n\nwhile adeviner != 4\n  puts \"Entrez votre chiffre\"\n  a = gets.chomp.to_i\nend\n\nputs \"vous avez devine le chiffre\"\n</code></pre>\n\n<p>Here is what the console returns:</p>\n\n<pre><code>ruby test.rb\nvous avez devine le chiffre\n</code></pre>\n\n<p>I would like the console to ask me to type a number and tell me if that number is good or not.</p>\n"}, {"tags": ["ruby", "encoding", "utf-8", "utf-16", "incompatibility"], "comments": [{"owner": {"reputation": 733, "user_id": 5354727, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ufo0p.png?s=128&g=1", "display_name": "TiredOfProgramming", "link": "https://stackoverflow.com/users/5354727/tiredofprogramming"}, "edited": false, "score": 0, "creation_date": 1523992100, "post_id": 49883133, "comment_id": 86787500, "body": "Anyone? Any suggestions?"}, {"owner": {"reputation": 5450, "user_id": 2758823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Nxaq.jpg?s=128&g=1", "display_name": "Giacomo Catenazzi", "link": "https://stackoverflow.com/users/2758823/giacomo-catenazzi"}, "edited": false, "score": 0, "creation_date": 1523995454, "post_id": 49883133, "comment_id": 86789218, "body": "UTF-8 and UTF-16 are encoding of Unicode. Both similar powerful. Windows uses internally UTF-16. For rest: I have no idea: check the settings, try to force UTF-8"}], "owner": {"reputation": 733, "user_id": 5354727, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ufo0p.png?s=128&g=1", "display_name": "TiredOfProgramming", "link": "https://stackoverflow.com/users/5354727/tiredofprogramming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523982369, "creation_date": 1523982369, "question_id": 49883133, "link": "https://stackoverflow.com/questions/49883133/encodingcompatibilityerror-incompatible-encoding-with-this-operation-utf-16", "title": "Encoding::CompatibilityError incompatible encoding with this operation: UTF-16", "body": "<p>I've been fighting with this for a second day now. Don't really have a code snippet to provide, as I have no idea where this exception occurs. I have this <strong>Arachni</strong> security scanning tool (written in ruby; can be found <a href=\"https://github.com/Arachni/arachni\" rel=\"nofollow noreferrer\">here</a>), and when I try to launch it against the web site, it throws an error with the message <code>[utilities#exception_jail:428] [Encoding::CompatibilityError] incompatible encoding with this operation: UTF-16</code></p>\n\n<p>and then there is a huge stack trace that doesn't tell me anything useful:</p>\n\n<pre><code>    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser/nodes/with_value.rb:22:in `strip'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser/nodes/with_value.rb:22:in `value='\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser/nodes/with_value.rb:18:in `initialize'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser/sax.rb:58:in `new'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser/sax.rb:58:in `text'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser.rb:70:in `sax_html'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser.rb:70:in `block in parse'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/support/cache/base.rb:108:in `call'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/support/cache/base.rb:108:in `fetch'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser.rb:66:in `parse'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser.rb:243:in `document'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/parser.rb:423:in `paths'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/page.rb:309:in `paths'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework/parts/data.rb:207:in `push_paths_from_page'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework/parts/audit.rb:98:in `audit_page'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework/parts/audit.rb:228:in `audit_queues'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework/parts/audit.rb:202:in `block in audit'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework/parts/audit.rb:177:in `loop'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework/parts/audit.rb:177:in `audit'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework.rb:117:in `block in run'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/utilities.rb:425:in `call'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/utilities.rb:425:in `exception_jail'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/lib/arachni/framework.rb:117:in `run'\n    [-] [utilities#exception_jail:428] D:/arachni-1.5.1-0.5.12-windows-x86_64/system/ruby/lib/ruby/gems/2.2.0/gems/arachni-1.5.1/ui/cli/framework.rb:80:in `block in run'\n</code></pre>\n\n<p>Just to add another +2 cents - I'm completely new to Ruby and don't know much about their error handling system. I've tried to research online and got an idea that this particular error is thrown once 2 different encoded English-language-alien strings (for instance <code>\u0451</code> that gone through <strong>UTF-8</strong> and <strong>UTF-16</strong> encoding systems) are being compared to each other. I tried to come up with the guesses what might cause this:</p>\n\n<ol>\n<li>Ruby (installed on my machine) encoding system is different from what Arachni uses. My ruby version is <code>2.5.1p57 (2018-03-29 revision 63029) [x64-mingw32]</code> which is the latest stable version according to <a href=\"https://www.ruby-lang.org/en/downloads/\" rel=\"nofollow noreferrer\">this</a>. Arachni uses <strong>UTF-8</strong> encoding system, which doesn't differ from Ruby's one</li>\n<li>Arachni encounters some string while scanning, that it can't encode using regular <strong>UTF-8</strong> system and requires something more powerful and complex to deal with (<strong>UTF-16</strong>)</li>\n<li>Kind of crazy...but may be UTF-16 is not supported on my machine (using Windows 10)..</li>\n</ol>\n\n<p>If anyone encountered something similar (not necessary with Arachni tool, but may be in general) and can navigate to the right direction, that will save half of my life.  </p>\n"}, {"tags": ["ruby", "selenium-webdriver", "cucumber"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524062647, "post_id": 49895481, "comment_id": 86820751, "body": "the popup dialog box doea not exist in the web site, that I was using to test and learn alert, I just updated my question. Thanks."}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "reply_to_user": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "edited": false, "score": 0, "creation_date": 1524063288, "post_id": 49895481, "comment_id": 86821244, "body": "Okay my day ia over , i will check tomorrow morning."}], "tags": [], "owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "is_accepted": false, "score": 0, "last_activity_date": 1524042134, "creation_date": 1524042134, "answer_id": 49895481, "question_id": 49882934, "link": "https://stackoverflow.com/questions/49882934/ruby-selenium-webdriver-alert-is-not-working/49895481#49895481", "title": "RUBY : selenium webdriver alert is not working", "body": "<p>The problem here is, the pop up is not Java Script alert so you can't use</p>\n\n<pre><code>driver.switch_to.alert.accept\n</code></pre>\n\n<p>pop up is normal webpage, so to click the close button use the following code, that pop up remain inside the iframe, so first we need to switch to that iframe and then you can click that close button</p>\n\n<pre><code>driver.manage.timeouts.implicit_wait =10\n\ndriver.switch_to.frame(driver.find_element(id: '_bftn_iframe'))\n\ndriver.find_element(id: 'close').click\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 9419102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0a94b437e39bbb234559d4300691ef?s=128&d=identicon&r=PG&f=1", "display_name": "Fatna", "link": "https://stackoverflow.com/users/9419102/fatna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524062543, "creation_date": 1523981687, "last_edit_date": 1524062543, "question_id": 49882934, "link": "https://stackoverflow.com/questions/49882934/ruby-selenium-webdriver-alert-is-not-working", "title": "RUBY : selenium webdriver alert is not working", "body": "<p>Ho to detect an alert and accept it, let say we open this site  <a href=\"http://www.boloco.com/\" rel=\"nofollow noreferrer\">http://www.boloco.com/</a>\" and we want to detect the alert popup and click on the button , I used </p>\n\n<pre><code>driver.switch_to.alert.accept\n</code></pre>\n\n<p>But it said no dialog box.</p>\n\n<p>UPDATE :</p>\n\n<p>Since I popup in this web site does not exist anymore, in our production code we have a dialog that pop up, I search in the source code , I found the dialog box code like this :</p>\n\n<pre><code>    &lt;div class=\"roster-alert modal fade\" id=\"roster-alert\" tabindex=\"-1\" role=\"dialog\"&gt;\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"OKAY, GOT IT\"&gt;&lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n        &lt;h2&gt;Any recent employee changes?&lt;/h2&gt;\n        &lt;p class=\"content\"&gt;Looks like it&amp;#39;s been awhile since you last visited. Please take a quick moment to review your staff roster and update any changes.&lt;/p&gt;\n        &lt;button type=\"button\" class=\"btn btn-primary roster-alert-cta\" data-dismiss=\"modal\"&gt;OKAY, GOT IT&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Thanks, your help is appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sidekiq"], "comments": [{"owner": {"reputation": 4667, "user_id": 268673, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/33abb5182937ebcc3765f224aa74c16d?s=128&d=identicon&r=PG", "display_name": "AndreDurao", "link": "https://stackoverflow.com/users/268673/andredurao"}, "edited": false, "score": 0, "creation_date": 1523980773, "post_id": 49882362, "comment_id": 86781197, "body": "About &quot;Is it possible to have Sidekiq force run the jobs?&quot;, yes are able to check the queues and what&#39;s being processed on Sidekiq monitor: <a href=\"https://github.com/mperham/sidekiq/wiki/Monitoring\" rel=\"nofollow noreferrer\">github.com/mperham/sidekiq/wiki/Monitoring</a>"}, {"owner": {"reputation": 23, "user_id": 9164911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12866c6b5e51abd5400474332f776b0?s=128&d=identicon&r=PG&f=1", "display_name": "jcxswc", "link": "https://stackoverflow.com/users/9164911/jcxswc"}, "reply_to_user": {"reputation": 4667, "user_id": 268673, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/33abb5182937ebcc3765f224aa74c16d?s=128&d=identicon&r=PG", "display_name": "AndreDurao", "link": "https://stackoverflow.com/users/268673/andredurao"}, "edited": false, "score": 0, "creation_date": 1523982826, "post_id": 49882362, "comment_id": 86782436, "body": "@AndreDurao monitoring only gives the option to delete a queued job. For example, in the mailers, I would like to force-run the job."}, {"owner": {"reputation": 4667, "user_id": 268673, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/33abb5182937ebcc3765f224aa74c16d?s=128&d=identicon&r=PG", "display_name": "AndreDurao", "link": "https://stackoverflow.com/users/268673/andredurao"}, "edited": false, "score": 0, "creation_date": 1523983564, "post_id": 49882362, "comment_id": 86782859, "body": "Did you tried to restart the worker? <a href=\"https://devcenter.heroku.com/articles/dynos#cli-commands-for-dyno-management\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 9164911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12866c6b5e51abd5400474332f776b0?s=128&d=identicon&r=PG&f=1", "display_name": "jcxswc", "link": "https://stackoverflow.com/users/9164911/jcxswc"}, "reply_to_user": {"reputation": 4667, "user_id": 268673, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/33abb5182937ebcc3765f224aa74c16d?s=128&d=identicon&r=PG", "display_name": "AndreDurao", "link": "https://stackoverflow.com/users/268673/andredurao"}, "edited": false, "score": 0, "creation_date": 1523988677, "post_id": 49882362, "comment_id": 86785673, "body": "@AndreDurao Yep. The jobs are still sitting in the queue."}, {"owner": {"reputation": 23, "user_id": 9164911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12866c6b5e51abd5400474332f776b0?s=128&d=identicon&r=PG&f=1", "display_name": "jcxswc", "link": "https://stackoverflow.com/users/9164911/jcxswc"}, "reply_to_user": {"reputation": 4667, "user_id": 268673, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/33abb5182937ebcc3765f224aa74c16d?s=128&d=identicon&r=PG", "display_name": "AndreDurao", "link": "https://stackoverflow.com/users/268673/andredurao"}, "edited": false, "score": 0, "creation_date": 1524068719, "post_id": 49882362, "comment_id": 86825047, "body": "@AndreDurao see the above update. Turns out the worker has been crashing frequently."}], "answers": [{"comments": [{"owner": {"reputation": 17782, "user_id": 1494519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af54a0871600db7fbdbb5c558a6e29a3?s=128&d=identicon&r=PG", "display_name": "Mike Perham", "link": "https://stackoverflow.com/users/1494519/mike-perham"}, "edited": false, "score": 0, "creation_date": 1524501965, "post_id": 49924310, "comment_id": 86988516, "body": "You can also add <code>pool: 30</code> to database.yml and remove that bit of hacky config."}, {"owner": {"reputation": 23, "user_id": 9164911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12866c6b5e51abd5400474332f776b0?s=128&d=identicon&r=PG&f=1", "display_name": "jcxswc", "link": "https://stackoverflow.com/users/9164911/jcxswc"}, "reply_to_user": {"reputation": 17782, "user_id": 1494519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af54a0871600db7fbdbb5c558a6e29a3?s=128&d=identicon&r=PG", "display_name": "Mike Perham", "link": "https://stackoverflow.com/users/1494519/mike-perham"}, "edited": false, "score": 0, "creation_date": 1524591103, "post_id": 49924310, "comment_id": 87031788, "body": "That&#39;s beautiful! Thank you @MikePerham"}], "tags": [], "owner": {"reputation": 23, "user_id": 9164911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12866c6b5e51abd5400474332f776b0?s=128&d=identicon&r=PG&f=1", "display_name": "jcxswc", "link": "https://stackoverflow.com/users/9164911/jcxswc"}, "is_accepted": true, "score": 0, "last_activity_date": 1524150137, "creation_date": 1524150137, "answer_id": 49924310, "question_id": 49882362, "link": "https://stackoverflow.com/questions/49882362/sidekiq-stopped-processing-jobs-in-queue/49924310#49924310", "title": "Sidekiq stopped processing jobs in queue", "body": "<p>After 2 days on this venture, answer discovered thanks to <a href=\"https://stackoverflow.com/questions/22813929/redistogo-and-sidekiq-on-heroku-cant-connect\">this SO question</a>. Hopefully, this helps the SEO for future onlookers.</p>\n\n<p>I changed my sidekiq.rb file to</p>\n\n<pre><code>sidekiq.rb\n\nrequire 'sidekiq/web'\n\nSidekiq.configure_server do |config|\n  ActiveRecord::Base.configurations[Rails.env.to_s]['pool'] = 30\nend\n\nif Rails.env.production?\n  Sidekiq.configure_server do |config|\n    config.redis = { url: ENV[\"REDISTOGO_URL\"]}\n  end\n  Sidekiq.configure_client do |config|\n   config.redis = { url: ENV[\"REDISTOGO_URL\"]}\n  end\nend\n</code></pre>\n\n<p>Then, I updated my sidekiq.yml to</p>\n\n<pre><code>sidekiq.yml\n\nqueues:\n- default\n- mailers\n\n:verbose: false\n:concurrency: 5 # Important to set depending on your Redis provider\n:timeout: 8 # Set timeout to 8 on Heroku, longer if you manage your own systems.\n</code></pre>\n\n<p><strong>Note:</strong> There is also the option to leave out everything in the if statement in the initializer file. As stated by the creator of Sidekiq, you can set your heroku config to:</p>\n\n<p><code>heroku config:set REDIS_PROVIDER=REDISTOGO_URL</code></p>\n\n<p>and Sidekiq will figure out the rest.</p>\n"}], "owner": {"reputation": 23, "user_id": 9164911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12866c6b5e51abd5400474332f776b0?s=128&d=identicon&r=PG&f=1", "display_name": "jcxswc", "link": "https://stackoverflow.com/users/9164911/jcxswc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1960, "favorite_count": 1, "accepted_answer_id": 49924310, "answer_count": 1, "score": 1, "last_activity_date": 1524150137, "creation_date": 1523979859, "last_edit_date": 1524067989, "question_id": 49882362, "link": "https://stackoverflow.com/questions/49882362/sidekiq-stopped-processing-jobs-in-queue", "title": "Sidekiq stopped processing jobs in queue", "body": "<p>Sidekiq had been processing jobs just fine (finished 30 jobs overnight). This morning, it completely shut off processing the queue (now up to 28 jobs).</p>\n\n<p>Running on Heroku (1 Standard-2x Web Dyno, 1 Standard-1x Worker Dyno).</p>\n\n<p><strong>Procfile (where I have had the most trouble finding documentation to configure)</strong></p>\n\n<pre><code>web: bundle exec puma -C config/puma.rb\nworker: bundle exec sidekiq -e production -C config/sidekiq.yml\n</code></pre>\n\n<p><strong>sidekiq.yml</strong></p>\n\n<pre><code>development:\n :concurrency: 5\nproduction:\n :concurrency: 20\n:queues:\n - [\"default\", 1]\n - [\"mailers\", 2]\n</code></pre>\n\n<p><strong>sidekiq.rb</strong></p>\n\n<pre><code>if Rails.env.production?\n\n  Sidekiq.configure_client do |config|\n    config.redis = { url: ENV['REDIS_URL'], size: 2 }\n  end\n\n  Sidekiq.configure_server do |config|\n    config.redis = { url: ENV['REDIS_URL'], size: 20 }\n\n    Rails.application.config.after_initialize do\n      Rails.logger.info(\"DB Connection Pool size for Sidekiq Server before disconnect is: #{ActiveRecord::Base.connection.pool.instance_variable_get('@size')}\")\n      ActiveRecord::Base.connection_pool.disconnect!\n\n      ActiveSupport.on_load(:active_record) do\n        config = Rails.application.config.database_configuration[Rails.env]\n        config['reaping_frequency'] = ENV['DATABASE_REAP_FREQ'] || 10 # seconds\n        # config['pool'] = ENV['WORKER_DB_POOL_SIZE'] || Sidekiq.options[:concurrency]\n        config['pool'] = 16\n        ActiveRecord::Base.establish_connection(config)\n\n        Rails.logger.info(\"DB Connection Pool size for Sidekiq Server is now: #{ActiveRecord::Base.connection.pool.instance_variable_get('@size')}\")\n      end\n    end\n  end\n\nend\n</code></pre>\n\n<p>Also, with all the jobs in the queue (default, mailers) is it possible to have Sidekiq force run the jobs?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I have narrowed the error to the Heroku worker. Upon restart, the worker quickly crashes.</p>\n\n<p>The first error had to do with Sidekiq not spawning enough connections (Redis required 22, I had set the limit to 20).</p>\n\n<p>Now, I am getting the following error:</p>\n\n<pre><code>Is the server running locally and accepting connections on Unix domain socket \"/var/run/postgresql/.s.PGSQL.5432\"?\n</code></pre>\n\n<p>I am running PG Hobby via Heroku. Its connection limit is 20. Is this the source of the issue?</p>\n"}, {"tags": ["ruby", "shopify"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 4921398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-clACmQU8j4c/AAAAAAAAAAI/AAAAAAAAP8w/2br9qrnzO_M/photo.jpg?sz=128", "display_name": "Eugene Yak", "link": "https://stackoverflow.com/users/4921398/eugene-yak"}, "is_accepted": false, "score": 0, "last_activity_date": 1523980168, "creation_date": 1523980168, "answer_id": 49882464, "question_id": 49882008, "link": "https://stackoverflow.com/questions/49882008/accessing-specific-attribute-of-an-object/49882464#49882464", "title": "Accessing specific attribute of an object", "body": "<p>First, object is array:</p>\n\n<pre><code>obj0 = object[0]\n</code></pre>\n\n<p>Second, this is instance variable:</p>\n\n<pre><code>attributes = obj0.instance_variable_get(:@attributes)\n</code></pre>\n\n<p>Last, gets values by keys:</p>\n\n<pre><code>attributes['code']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 1, "creation_date": 1523992232, "post_id": 49883312, "comment_id": 86787573, "body": "Why mapping two times? can the fancy <code>map(&amp;:attributes)</code> do both things?"}, {"owner": {"reputation": 136, "user_id": 3540495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ON2ijeeDNqw/AAAAAAAAAAI/AAAAAAAAAR8/9HRK2QEV9o4/photo.jpg?sz=128", "display_name": "ArMD", "link": "https://stackoverflow.com/users/3540495/armd"}, "reply_to_user": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1524001992, "post_id": 49883312, "comment_id": 86792141, "body": "@SebastianPalma Yes, you are right. I will update the answer."}], "tags": [], "owner": {"reputation": 136, "user_id": 3540495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ON2ijeeDNqw/AAAAAAAAAAI/AAAAAAAAAR8/9HRK2QEV9o4/photo.jpg?sz=128", "display_name": "ArMD", "link": "https://stackoverflow.com/users/3540495/armd"}, "is_accepted": true, "score": 1, "last_activity_date": 1524001861, "last_edit_date": 1524001861, "creation_date": 1523983016, "answer_id": 49883312, "question_id": 49882008, "link": "https://stackoverflow.com/questions/49882008/accessing-specific-attribute-of-an-object/49883312#49883312", "title": "Accessing specific attribute of an object", "body": "<p>object is an array of ShopifyAPI::DiscountCode. \nThe best way to access it is</p>\n\n<pre><code>object[0].attributes['code']\n</code></pre>\n\n<p>If u want code of all the objects available in the array, you could get the array of values by</p>\n\n<pre><code>object.map { |obj| obj.attributes['code'] }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 136, "user_id": 3540495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ON2ijeeDNqw/AAAAAAAAAAI/AAAAAAAAAR8/9HRK2QEV9o4/photo.jpg?sz=128", "display_name": "ArMD", "link": "https://stackoverflow.com/users/3540495/armd"}, "edited": false, "score": 0, "creation_date": 1523985688, "post_id": 49883529, "comment_id": 86784002, "body": "I think my answer already covered this. Moreover why to use map?"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 136, "user_id": 3540495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ON2ijeeDNqw/AAAAAAAAAAI/AAAAAAAAAR8/9HRK2QEV9o4/photo.jpg?sz=128", "display_name": "ArMD", "link": "https://stackoverflow.com/users/3540495/armd"}, "edited": false, "score": 0, "creation_date": 1523985758, "post_id": 49883529, "comment_id": 86784045, "body": "@ArMD no <code>code</code> is a method. I am not accessing it directly though the attributes <code>Hash</code>"}], "tags": [], "owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "is_accepted": false, "score": 1, "last_activity_date": 1523983856, "creation_date": 1523983856, "answer_id": 49883529, "question_id": 49882008, "link": "https://stackoverflow.com/questions/49882008/accessing-specific-attribute-of-an-object/49883529#49883529", "title": "Accessing specific attribute of an object", "body": "<p>Given that this is an <code>Array</code> of <code>ShopifyAPI::DiscountCode</code>s (which inherit from <code>ActiveResource::Base</code>) </p>\n\n<p>You can call the <code>code</code> method on them. eg: </p>\n\n<pre><code>object[0].code \n#=&gt; \"Disc2\"\nobject.map(&amp;:code) \n#=&gt; [\"Disc2\"]\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 49883312, "answer_count": 3, "score": 0, "last_activity_date": 1524001861, "creation_date": 1523978657, "question_id": 49882008, "link": "https://stackoverflow.com/questions/49882008/accessing-specific-attribute-of-an-object", "title": "Accessing specific attribute of an object", "body": "<p>Hello I have the following object </p>\n\n<pre><code>object =  [#&lt;ShopifyAPI::DiscountCode:0x000000000e1c78a8 @attributes={\"code\"=&gt;\"Disc2\", \"amount\"=&gt;\"1.00\", \"type\"=&gt;\"percentage\"}, @prefix_options={}, @persisted=true&gt;]\n</code></pre>\n\n<p>How can I properly access the \"code\" name of that object?</p>\n\n<p>I have tried object[:code] and object.code but it appears I am overlooking something.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "http-headers", "amp-html"], "comments": [{"owner": {"reputation": 297, "user_id": 3516897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/auXj8.jpg?s=128&g=1", "display_name": "Joe D", "link": "https://stackoverflow.com/users/3516897/joe-d"}, "edited": false, "score": 0, "creation_date": 1529968895, "post_id": 49881284, "comment_id": 89058158, "body": "Did you ever solve this? I am having the same problem."}], "owner": {"reputation": 311, "user_id": 7431223, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px09O2Ggk3Y/AAAAAAAAAAI/AAAAAAAACq4/jw6hJwFSvLg/photo.jpg?sz=128", "display_name": "Jesus Guevara", "link": "https://stackoverflow.com/users/7431223/jesus-guevara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1523979588, "creation_date": 1523976669, "last_edit_date": 1523979588, "question_id": 49881284, "link": "https://stackoverflow.com/questions/49881284/rails-4-2-sending-records-using-amp-form", "title": "Rails 4.2 sending records using AMP form", "body": "<p>I have an amp form in Rails 4.2. According to the AMP validation, everything is in order, but when making the submission of records through the form, the following errors occur:</p>\n\n<pre><code>Started POST \"/welcome/test?__amp_source_origin=http%3A%2F%2Flocalhost%3A3000\" for 127.0.0.1 at 2018-04-17 09:25:31 -0500\nProcessing by WelcomeController#test as JSON\n  Parameters: {\"authenticity_token\"=&gt;\"jQLaggeKmJcAlUnoq1dPqaQ6ALiedxaSaEO7VDCIei/FSEtW3F15TMkhI3cxEqBSggRbWLmZTQUkNXoYUy+5qw==\", \"name\"=&gt;\"registerthree\", \"__amp_source_origin\"=&gt;\"http://localhost:3000\"}\n\"Los registros han sido enviados correctamente!\"\nCompleted 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)\nActionView::MissingTemplate (Missing template welcome/test, application/test with {:locale=&gt;[:en], :formats=&gt;[:json], :variants=&gt;[], :handlers=&gt;[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:\n  * \"/home/dd/carpeta_usuario/codigo_de_usuario/AMP/rails-form/app/views\"\n):\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rG90w.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/YS0XX.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>The code of the Controller is:</p>\n\n<pre><code>class WelcomeController &lt; ApplicationController\n      def index\n      end\n\n      def test\n              domain_url = \"http://localhost:3000/\"\n              redirect_url = thankyou_url\n\n              response.headers['Content-type'] =  'application/json'\n              response.headers['Access-Control-Allow-Credentials'] = 'true'\n              response.headers['Access-Control-Allow-Origin'] = '*.ampproject.org'\n              response.headers['AMP-Access-Control-Allow-Source-Origin'] = domain_url\n\n              if( redirect_url )\n                  response.headers['Access-Control-Expose-Headers'] = 'AMP-Access-Control-Allow-Source-Origin'\n              else\n                  response.headers['AMP-Redirect-To'] = redirect_url\n                  response.headers['Access-Control-Expose-Headers'] = 'AMP-Redirect-To, AMP-Access-Control-Allow-Source-Origin'\n              end\n              puts 'Los registros han sido enviados correctamente!'.to_json\n      end\n\n      def thankyou\n      end\n    end\n</code></pre>\n\n<p>and the view is:</p>\n\n<pre><code>    &lt;h1&gt;Formulario AMP&lt;/h1&gt;\n&lt;p&gt;Ingresa registros&lt;/p&gt;\n&lt;form target=\"_top\" action-xhr=\"test\" method=\"post\" name=\"test\"&gt;\n  &lt;input type=\"hidden\" name=\"authenticity_token\" value=\"&lt;%= form_authenticity_token %&gt;\" /&gt;\n  &lt;input type=\"text\" name=\"name\" value=\"Ingresa un registro!\"&gt;\n  &lt;input type=\"submit\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>please help me with that. Thank you very much in advance</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523976217, "post_id": 49881022, "comment_id": 86777971, "body": "The manual probably helps: <a href=\"http://ruby-doc.org/core-2.5.0/Array.html#class-Array-label-Adding+Items+to+Arrays\" rel=\"nofollow noreferrer\">Adding Items to Arrays</a>"}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "edited": false, "score": 1, "creation_date": 1523976356, "post_id": 49881131, "comment_id": 86778080, "body": "anddddddddddddddddddddd now i feel dumb for asking, thank you my friend.  I will accept when the time lets me."}, {"owner": {"reputation": 446, "user_id": 6298150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac2b85cf603248a2fd6fd7ac4c6fdd9?s=128&d=identicon&r=PG&f=1", "display_name": "Yechiel K", "link": "https://stackoverflow.com/users/6298150/yechiel-k"}, "edited": false, "score": 0, "creation_date": 1523976603, "post_id": 49881131, "comment_id": 86778299, "body": "The <code>any?</code> method seems like it would be the best for this case. <code>costomers.any? {|customer| customer[&#39;name&#39;] == &quot;Jane&quot;}</code>"}], "tags": [], "owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "is_accepted": true, "score": 3, "last_activity_date": 1523976953, "last_edit_date": 1523976953, "creation_date": 1523976241, "answer_id": 49881131, "question_id": 49881022, "link": "https://stackoverflow.com/questions/49881022/array-of-hashes-how-to-add-new-element/49881131#49881131", "title": "Array of Hashes, how to add new element?", "body": "<p>Use the <code>shovel</code> method:</p>\n\n<pre><code>customers =  [{ name: 'John Doe', age: 30, height: 175 }, { name: 'John Doe', age: 30, height: 175 }]\nnew_customer = {name: 'Jane' , age: 25, height: 150 } \ncustomers &lt;&lt; new_customer\n =&gt; [{:name=&gt;\"John Doe\", :age=&gt;30, :height=&gt;175}, {:name=&gt;\"John Doe\", :age=&gt;30, :height=&gt;175}, {:name=&gt;\"Jane\", :age=&gt;25, :height=&gt;150}]\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 49881131, "answer_count": 1, "score": 0, "last_activity_date": 1523976953, "creation_date": 1523975960, "question_id": 49881022, "link": "https://stackoverflow.com/questions/49881022/array-of-hashes-how-to-add-new-element", "title": "Array of Hashes, how to add new element?", "body": "<p>I have an element like this </p>\n\n<pre><code>customers =  [{ name: 'John Doe', age: 30, height: 175 }, { name: 'John Doe', age: 30, height: 175 } ... etc]\n</code></pre>\n\n<p>I know that this is a simple question, but how can I add another customer to this element. ie. </p>\n\n<pre><code>{name: 'Jane' , age: 25, height 150 } \n</code></pre>\n\n<p>Thanks in advance! </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1523978680, "post_id": 49880495, "comment_id": 86779802, "body": "Can you show the full stack trace of the error? Or, even better, are you able to re-create the problem on a brand new rails app in order to show a minimal reproduction example?"}, {"owner": {"reputation": 309, "user_id": 8188610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6398f649c94694d32d16939e500bcb1?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Shaw", "link": "https://stackoverflow.com/users/8188610/riley-shaw"}, "reply_to_user": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1523980848, "post_id": 49880495, "comment_id": 86781236, "body": "I edited to include the error message and trace"}, {"owner": {"reputation": 667, "user_id": 6141597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d52107448cce3dc1010f66ceb534270?s=128&d=identicon&r=PG&f=1", "display_name": "abax", "link": "https://stackoverflow.com/users/6141597/abax"}, "edited": false, "score": 0, "creation_date": 1523984209, "post_id": 49880495, "comment_id": 86783215, "body": "Can you show the link to sign out as well as the params from the server logs? I&#39;m guessing it does not include &#39;/devise/sign_out&#39; in the the way your routes are set up. <code>users&#47;sign_out</code> is pattern-matching to <code>users&#47;:id</code>. Also, what is the output of <code>rake routes</code>?"}, {"owner": {"reputation": 309, "user_id": 8188610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6398f649c94694d32d16939e500bcb1?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Shaw", "link": "https://stackoverflow.com/users/8188610/riley-shaw"}, "edited": false, "score": 0, "creation_date": 1523990493, "post_id": 49880495, "comment_id": 86786625, "body": "&lt;%= link_to &quot;Log Out&quot;, destroy_user_session_path, :class =&gt; &quot;nav&quot; %&gt; but the thing is i&#39;m logged in when this errors out"}, {"owner": {"reputation": 667, "user_id": 6141597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d52107448cce3dc1010f66ceb534270?s=128&d=identicon&r=PG&f=1", "display_name": "abax", "link": "https://stackoverflow.com/users/6141597/abax"}, "edited": false, "score": 0, "creation_date": 1523995838, "post_id": 49880495, "comment_id": 86789392, "body": "what is the output of <code>bundle exec rake routes | grep sign_out</code>?"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "reply_to_user": {"reputation": 667, "user_id": 6141597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d52107448cce3dc1010f66ceb534270?s=128&d=identicon&r=PG&f=1", "display_name": "abax", "link": "https://stackoverflow.com/users/6141597/abax"}, "edited": false, "score": 0, "creation_date": 1524000796, "post_id": 49880495, "comment_id": 86791646, "body": "@abax If your devise&#39;s sign out route has the default <code>method: :delete</code>, then your link also needs to specify <code>method: :delete</code>. By performing a <code>GET</code> action, rather than the necessary <code>DELETE</code> action, you&#39;re hitting the wrong controller."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1524000924, "post_id": 49880495, "comment_id": 86791709, "body": "...And the error isn&#39;t &quot;when you&#39;re signed in&quot;, it&#39;s <b>when you click the Log Out button</b>. That information is immensely crucial to your problem."}, {"owner": {"reputation": 309, "user_id": 8188610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6398f649c94694d32d16939e500bcb1?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Shaw", "link": "https://stackoverflow.com/users/8188610/riley-shaw"}, "edited": false, "score": 0, "creation_date": 1524003147, "post_id": 49880495, "comment_id": 86792570, "body": "No, the error isn&#39;t when I click <code>log out</code>. Regardless of if I&#39;m signed in or not, the user page always thinks id = &quot;sign_out&quot; and it&#39;s only the show for users. Not for any of my other controllers"}, {"owner": {"reputation": 309, "user_id": 8188610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6398f649c94694d32d16939e500bcb1?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Shaw", "link": "https://stackoverflow.com/users/8188610/riley-shaw"}, "reply_to_user": {"reputation": 667, "user_id": 6141597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d52107448cce3dc1010f66ceb534270?s=128&d=identicon&r=PG&f=1", "display_name": "abax", "link": "https://stackoverflow.com/users/6141597/abax"}, "edited": false, "score": 0, "creation_date": 1524004253, "post_id": 49880495, "comment_id": 86792937, "body": "@abax logout GET    /devise/sign_out(.:format)      devise/sessions#destroy     destroy_user_session DELETE /devise/sign_out(.:format)      devise/sessions#destroy"}, {"owner": {"reputation": 667, "user_id": 6141597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d52107448cce3dc1010f66ceb534270?s=128&d=identicon&r=PG&f=1", "display_name": "abax", "link": "https://stackoverflow.com/users/6141597/abax"}, "edited": false, "score": 0, "creation_date": 1524024823, "post_id": 49880495, "comment_id": 86797734, "body": "I agree with both of Tom&#39;s points. Searching for &#39;devise logout&#39; yields <code>&lt;%= link_to(&#39;Logout&#39;, destroy_user_session_path, method: :delete) %&gt;</code>."}, {"owner": {"reputation": 309, "user_id": 8188610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6398f649c94694d32d16939e500bcb1?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Shaw", "link": "https://stackoverflow.com/users/8188610/riley-shaw"}, "edited": false, "score": 0, "creation_date": 1524064702, "post_id": 49880495, "comment_id": 86822333, "body": "The thing is, I&#39;ve not pressed log out. I&#39;m currently logged in and it is still saying this."}], "owner": {"reputation": 309, "user_id": 8188610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6398f649c94694d32d16939e500bcb1?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Shaw", "link": "https://stackoverflow.com/users/8188610/riley-shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523980825, "creation_date": 1523974524, "last_edit_date": 1523980825, "question_id": 49880495, "link": "https://stackoverflow.com/questions/49880495/ruby-on-rails-devise-id-sign-up", "title": "Ruby on Rails Devise id=&#39;sign up&#39;", "body": "<p>So a few people have had this problem, but none of their code actually matches mine so their solutions aren't working.</p>\n\n<p>Basically, whenever I try to access /users/:id it passes in the params correctly {'id' => '1'}, but then the page errors out on 'no user with id='sign_out'</p>\n\n<p>My routes:</p>\n\n<pre><code>Rails.application.routes.draw do\n\n\n\n  devise_for :users, path: 'devise'\n\n\n\n  get 'sessions/new'\n\n\n\n  get 'intro', to: 'index#intro'\n\n  root 'index#intro'\n\n  authenticated :user do\n\n    root 'index#homepage', as: :authenticated_root\n\n  end\n\n  devise_scope :user do\n\n    get '/start', to: 'devise/sessions#new', as: \"login\"\n\n    get '/devise/sign_out', to: 'devise/sessions#destroy', as: \"logout\"\n\n    get '/signup', to: 'users#new', as: \"signup\"\n\n  end\n\n\n\n  get '/forgotPassword', to: 'index#forgotPassword'\n\n\n\n  get '/homepage', to: 'index#homepage'\n\n  get '/meetUs', to: 'index#meetUs'\n\n  get '/makeSuggestion', to: 'index#makeSuggestion'\n\n  get 'profile', to: 'index#profile'\n\n\n\n  resources :suggestions\n\n  resources :rewards\n\n  resources :users\n\n  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html\n\nend\n</code></pre>\n\n<p>Code in controller erroring out:</p>\n\n<pre><code>  # GET /users/1\n\n  # GET /users/1.json\n\n  def show\n\n      @users = User.find(params[:id])\n\n  end\n</code></pre>\n\n<p>I'm pretty sure the issue has something to do with the routes thinking /users is both a resource of mine and of devise. But I don't know how to tell it to use the default route rails made as opposed to the one devise made.</p>\n\n<p>If anyone could help, and try and explain why it's happening, that'd be great. Thanks in advance!</p>\n\n<p>edit: Picks of the error and trace\n<img src=\"https://i.stack.imgur.com/ZGyTr.png\" alt=\"error\">\n<img src=\"https://i.stack.imgur.com/RMnEV.png\" alt=\"stack1\">\n<img src=\"https://i.stack.imgur.com/Zd6sm.png\" alt=\"stack2\"></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "paas"], "comments": [{"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523976377, "post_id": 49879796, "comment_id": 86778103, "body": "Where is your gem hosted? It seems <code>bundler</code> can&#39;t find it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "reply_to_user": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523976418, "post_id": 49879796, "comment_id": 86778141, "body": "I just create that and the gem spec locally on cloud 9 ide. I didn&#39;t actually host it anywhere?"}, {"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523976829, "post_id": 49879796, "comment_id": 86778470, "body": "The <code>Gemfile</code> in your main app needs to point to some place (a <code>source</code>) where the gem can be found."}], "owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523972613, "creation_date": 1523972613, "question_id": 49879796, "link": "https://stackoverflow.com/questions/49879796/deploying-rails-app-to-heroku-failure-bundle-is-locked-to", "title": "Deploying rails app to heroku failure -&gt; Bundle is locked to", "body": "<p>I'm trying to deploy my rails app to heroku. I'm having an issue with a gem called feeSuggest (I created this myself). It's a simple gem, that takes in a number, and print out a statement based on that.</p>\n\n<p>This is my build log</p>\n\n<pre><code>-----&gt; Ruby app detected\n-----&gt; Compiling Ruby/Rails\n-----&gt; Using Ruby version: ruby-2.3.4\n-----&gt; Installing dependencies using bundler 1.15.2\n       Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin -j4 --deployment\n       The git source `git://github.com/activerecord-hackery/ransack.git` uses the `git` protocol, which transmits data without encryption. Disable this warning with `bundle config git.allow_insecure true`, or switch to the `https` protocol to keep your data secure.\n       Warning: the running version of Bundler (1.15.2) is older than the version that created the lockfile (1.16.1). We suggest you upgrade to the latest version of Bundler by running `gem install bundler`.\n       Fetching gem metadata from https://rubygems.org/..........\n       Fetching version metadata from https://rubygems.org/..\n       Fetching dependency metadata from https://rubygems.org/.\n       Your bundle is locked to feeSuggest (0.0.0), but that version could not be found\n       in any of the sources listed in your Gemfile. If you haven't changed sources,\n       that means the author of feeSuggest (0.0.0) has removed it. You'll need to\n       update your bundle to a different version of feeSuggest (0.0.0) that hasn't been\n       removed in order to install.\n       Bundler Output: The git source `git://github.com/activerecord-hackery/ransack.git` uses the `git` protocol, which transmits data without encryption. Disable this warning with `bundle config git.allow_insecure true`, or switch to the `https` protocol to keep your data secure.\n       Warning: the running version of Bundler (1.15.2) is older than the version that created the lockfile (1.16.1). We suggest you upgrade to the latest version of Bundler by running `gem install bundler`.\n       Fetching gem metadata from https://rubygems.org/..........\n       Fetching version metadata from https://rubygems.org/..\n       Fetching dependency metadata from https://rubygems.org/.\n       Your bundle is locked to feeSuggest (0.0.0), but that version could not be found\n       in any of the sources listed in your Gemfile. If you haven't changed sources,\n       that means the author of feeSuggest (0.0.0) has removed it. You'll need to\n       update your bundle to a different version of feeSuggest (0.0.0) that hasn't been\n       removed in order to install.\n !\n !     Failed to install gems via Bundler.\n !\n !     Push rejected, failed to compile Ruby app.\n !     Push failed\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1523972508, "post_id": 49879608, "comment_id": 86775120, "body": "<code>#&lt;WackyInt @number=6&gt;</code>, not <code>#&lt;WackyInt @number=-4&gt;</code>"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523972566, "post_id": 49879608, "comment_id": 86775157, "body": "I guess the operators are recognized by Ruby&#39;s parser which turns them into method calls (according to their precedence). Whether the receiver is a literal, a variable, a method call or a constant doesn&#39;t really matter."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 1, "creation_date": 1523972834, "post_id": 49879608, "comment_id": 86775342, "body": "I&#39;m not sure what you&#39;re asking, exactly -- <i>&quot;How is Ruby able to parse this?&quot;</i> Are you asking how does a parser work? Are you asking where <i>exactly</i> in the parser is responsible for interpreting <code>+</code> operations? Are you surprised by ruby&#39;s behaviour here; is there something about it you don&#39;t understand?"}, {"owner": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "edited": false, "score": 0, "creation_date": 1523973157, "post_id": 49879608, "comment_id": 86775580, "body": "I feel brackets are influencing the behaviour. Try define also * as method in WacyInt class. Then: <code># As operators p FIVE + TWO * FIVE # =&gt; @value=15 p 5 + 2 * 5 # =&gt; 15 # As methods p FIVE.+(TWO).*(FIVE) # =&gt; @value=35 p 5.+(2).*(5) # =&gt; 35 # As methods no brackets p FIVE.+TWO.*FIVE # =&gt; # @value=15 p 5.+2.*5 # =&gt; 15</code> Something <a href=\"https://stackoverflow.com/a/48159938/5239030\">like this</a>"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1523973338, "post_id": 49879608, "comment_id": 86775721, "body": "The MRI parser is over 11,000 lines of code... <a href=\"https://github.com/ruby/ruby/blob/8cd5ccdc7fc38d271ebe33c63d64f2950a97aea0/parse.y#L7937-L7945\" rel=\"nofollow noreferrer\">here</a> is a relevant section in relation to handling the <code>+</code> character. Does that answer your question?!"}, {"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1523974882, "post_id": 49879608, "comment_id": 86776936, "body": "<i>&#39;So, I know that Ruby&#39;s operators \u2013 like almost all other programming languages \u2013 follow the order of operations&#39;</i>. I know what you mean, but I don&#39;t think it&#39;s clear what you&#39;re talking about here. Needs clarification."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1524028848, "post_id": 49879608, "comment_id": 86798963, "body": "You need to also define <code>*</code> and show order or precedence in complex cases in order to show your point with overwritten methods."}], "answers": [{"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 0, "last_activity_date": 1524028072, "creation_date": 1524028072, "answer_id": 49891585, "question_id": 49879608, "link": "https://stackoverflow.com/questions/49879608/how-do-ruby-operators-have-normal-precedence-if-theyre-also-methods/49891585#49891585", "title": "How do Ruby operators have normal precedence if they&#39;re also methods?", "body": "<p>Tokenizing, parsing, and assigning computational precedence is separated from calling and executing the methods. What you can overwrite is what is done when a method is called. That does not change how a Ruby code is tokeninzed or parsed, and hence computational precedence is not affected by that.</p>\n"}], "owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524028654, "creation_date": 1523972158, "last_edit_date": 1524028654, "question_id": 49879608, "link": "https://stackoverflow.com/questions/49879608/how-do-ruby-operators-have-normal-precedence-if-theyre-also-methods", "title": "How do Ruby operators have normal precedence if they&#39;re also methods?", "body": "<p>Ruby's operators, like <code>+</code> or <code>*</code>, follow the order of precedence as in mathematics when used in the syntax-sugar form. In the following, <code>*</code> is called before <code>+</code>:</p>\n\n<pre><code># Syntax-sugar form\n5 + 5 * 2 # =&gt; 15\n</code></pre>\n\n<p>In the non-syntax-sugar form, the methods follow the linear order in which they are written. In the following, <code>+</code> is called before <code>*</code>:</p>\n\n<pre><code># Non-syntax-sugar form\n5.+(5).*(2) # =&gt; 20\n</code></pre>\n\n<p>Methods that I define, like the <code>+</code> method as follows, work both with and without the syntax-sugar form:</p>\n\n<pre><code>class WackyInt\n  attr_reader :value     \n\n  def initialize(value)\n    @value = value\n  end\n\n  def +(other)\n    WackyInt.new(value + other.value)\n  end\nend\n\nONE = WackyInt.new 1\nFIVE = WackyInt.new 5\n\n# As operators\nONE + FIVE # =&gt; #&lt;WackyInt @number=-4&gt;\n# As methods\nONE.+(FIVE) # =&gt; #&lt;WackyInt @number=-4&gt;\n</code></pre>\n\n<p>The defined operators follow the respective order of precedence both in the syntax-sugar form and the non-syntax-sugar form.</p>\n\n<p>How can Ruby parse this?</p>\n"}, {"tags": ["python", "ruby"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523972952, "post_id": 49879442, "comment_id": 86775436, "body": "It has to be <code>Q&gt;</code> in Ruby"}, {"owner": {"reputation": 693, "user_id": 8445072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5083e0607cd0c6b985684257507ac10?s=128&d=identicon&r=PG", "display_name": "OmG3r", "link": "https://stackoverflow.com/users/8445072/omg3r"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523973464, "post_id": 49879442, "comment_id": 86775822, "body": "@Stefan fixed that the output got reversed, however still not equal, I&#39;ll edit this in the code"}], "answers": [{"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1523973497, "creation_date": 1523973497, "answer_id": 49880131, "question_id": 49879442, "link": "https://stackoverflow.com/questions/49879442/struck-pack-equivalent-in-ruby/49880131#49880131", "title": "struck.pack equivalent in ruby?", "body": "<p>In Ruby, the flags are specified <em>after</em> the type:</p>\n\n<pre><code>timestamp =  1523966261\nmath = timestamp / 30\ntime_buffer = [math].pack('Q&gt;')\n#=&gt; \"\\x00\\x00\\x00\\x00\\x03\\a!\\e\"\n</code></pre>\n\n<p>Note that:</p>\n\n<pre><code>\"\\a\" == \"\\x07\" #=&gt; true\n\"\\e\" == \"\\x1b\" #=&gt; true\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 8445072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5083e0607cd0c6b985684257507ac10?s=128&d=identicon&r=PG", "display_name": "OmG3r", "link": "https://stackoverflow.com/users/8445072/omg3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 49880131, "answer_count": 1, "score": 1, "last_activity_date": 1523973537, "creation_date": 1523971709, "last_edit_date": 1523973537, "question_id": 49879442, "link": "https://stackoverflow.com/questions/49879442/struck-pack-equivalent-in-ruby", "title": "struck.pack equivalent in ruby?", "body": "<p>i'm trying to translate a python code to ruby, however I do not get the same value</p>\n\n<p>python: </p>\n\n<pre><code>timestamp = 1523966261 #int(time.time())\nmath = timestamp // 30\ntime_buffer = struct.pack('&gt;Q',math)\n</code></pre>\n\n<blockquote>\n  <p>output : b'\\x00\\x00\\x00\\x00\\x03\\x07!\\x1b'</p>\n</blockquote>\n\n<p>ruby:</p>\n\n<pre><code>timestamp =  1523966261 # Time.new.to_i\nmath = timestamp / 30\ntime_buffer =[math].pack('Q&gt;')\n</code></pre>\n\n<blockquote>\n  <p>output : \\x00\\x00\\x00\\x00\\x03\\a!\\e</p>\n</blockquote>\n\n<p>where did I go wrong ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "routes"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523971556, "post_id": 49879258, "comment_id": 86774396, "body": "How does your routes file look like?"}, {"owner": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523971810, "post_id": 49879258, "comment_id": 86774620, "body": "updated with examples"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 3, "creation_date": 1523971850, "post_id": 49879258, "comment_id": 86774652, "body": "Well, you just have to define <code>get &#39;&#47;feedbacks&#47;count&#39;</code> <i>before</i> <code>get   &#39;&#47;feedbacks&#47;:id&#39;</code>."}, {"owner": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523972099, "post_id": 49879258, "comment_id": 86774838, "body": "Opss, not sure how I missed that, thanks."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1523972220, "post_id": 49879258, "comment_id": 86774933, "body": "See <a href=\"http://guides.rubyonrails.org/routing.html#crud-verbs-and-actions\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/routing.html#crud-verbs-and-actions</a> (the 2nd yellow box)"}, {"owner": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523972334, "post_id": 49879258, "comment_id": 86775005, "body": "Thank you, Stefan. It helped. I know it, but forget it completely. :)"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523972665, "post_id": 49879258, "comment_id": 86775219, "body": "No worries, the documentation is long and Rails is full of magic ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 1, "creation_date": 1523972861, "post_id": 49879463, "comment_id": 86775361, "body": "You can include quote about routes matching from <a href=\"http://guides.rubyonrails.org/routing.html#crud-verbs-and-actions\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/routing.html#crud-verbs-and-actions</a> in your  answer :)"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1523975803, "post_id": 49879463, "comment_id": 86777670, "body": "The wording here is really off. Routes don&#39;t have anything to do with records - rather routes have priority in the order they are defined."}], "tags": [], "owner": {"reputation": 196, "user_id": 4921398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-clACmQU8j4c/AAAAAAAAAAI/AAAAAAAAP8w/2br9qrnzO_M/photo.jpg?sz=128", "display_name": "Eugene Yak", "link": "https://stackoverflow.com/users/4921398/eugene-yak"}, "is_accepted": true, "score": 6, "last_activity_date": 1523973392, "last_edit_date": 1523973392, "creation_date": 1523971754, "answer_id": 49879463, "question_id": 49879258, "link": "https://stackoverflow.com/questions/49879258/how-does-rails-differentiate-between-users-id-and-users-new-routes/49879463#49879463", "title": "How does rails differentiate between users/:id and users/new routes?", "body": "<p>Rails does not differentiate, it's just searches for the first record, which is suitable for the conditions</p>\n\n<p>That's why new is generated earlier than id</p>\n\n<p>Example 1:</p>\n\n<pre><code>get '/feedbacks/count' =&gt; 'feedbacks#count'\nget '/feedbacks/:id'   =&gt; 'feedbacks#show'\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>resources :feedbacks do\n  member do\n    get '/feedbacks/count' =&gt; 'feedbacks#count'\n  end\nend\n</code></pre>\n\n<p><a href=\"http://guides.rubyonrails.org/routing.html#crud-verbs-and-actions\" rel=\"nofollow noreferrer\">You can read about it here</a></p>\n"}, {"comments": [{"owner": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "edited": false, "score": 0, "creation_date": 1523983388, "post_id": 49881163, "comment_id": 86782760, "body": "Very helpful, Thank you. Another question, does the collection option defines what&#39;s using it before the show action as it&#39;s done with the new action? Also does the new action is also written with collection option implicitly?"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "edited": false, "score": 0, "creation_date": 1523988283, "post_id": 49881163, "comment_id": 86785493, "body": "I&#39;m not quite sure how the source code for resources works but <code>new do; get :new ... end</code> is a block that declares a collecton route. I don&#39;t know why its seperate from the other collection block. Understanding the meta-programming heavy rails code can be pretty tricky at times and its better to just look at the guides and API docs and try to understand how its supposed to work."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "edited": false, "score": 0, "creation_date": 1523988372, "post_id": 49881163, "comment_id": 86785536, "body": "Another good way to figure out how it works is to try different combinations and run <code>rake routes</code> and check the output."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "edited": false, "score": 0, "creation_date": 1523988899, "post_id": 49881163, "comment_id": 86785779, "body": "&quot;does the collection option defines what&#39;s using it before the show action as it&#39;s done with the new action?&quot; - since the <code>resources</code> method yields at the top of the method it is run before any member routes are added. So yes,  they are declared before the show route."}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1523977245, "last_edit_date": 1523977245, "creation_date": 1523976338, "answer_id": 49881163, "question_id": 49879258, "link": "https://stackoverflow.com/questions/49879258/how-does-rails-differentiate-between-users-id-and-users-new-routes/49881163#49881163", "title": "How does rails differentiate between users/:id and users/new routes?", "body": "<p>Rails routes are just basically regular expressions on steriods. They match a path expression, a HTTP method and any additional constraints.</p>\n\n<p>Routes have priority in the order they are defined. When the router matches a request in the routes collection it stops searching farther which is why the routes at the top always win.</p>\n\n<p>If you look at the output from the <code>resources</code> macro your can see that the routes are ordered to take this into consideration:</p>\n\n<pre><code>     Prefix Verb   URI Pattern                Controller#Action\n    things GET    /things(.:format)          things#index\n           POST   /things(.:format)          things#create\n new_thing GET    /things/new(.:format)      things#new\nedit_thing GET    /things/:id/edit(.:format) things#edit\n     thing GET    /things/:id(.:format)      things#show\n           PATCH  /things/:id(.:format)      things#update\n           PUT    /things/:id(.:format)      things#update\n           DELETE /things/:id(.:format)      things#destroy\n</code></pre>\n\n<p>The <code>GET /things/new</code> route must be declared before <code>GET /things/:id</code>. Otherwise it would be matched by the <code>things#show</code> route and give an <code>ActiveRecord:: RecordNotFound</code> error as the controller would attempt to find <code>Thing id = \"new\"</code>. </p>\n\n<blockquote>\n  <p>users/:id, so how can I write another route like GET users/whatever\n  without considering whatever as the :id?</p>\n</blockquote>\n\n<p>Use the collection option:</p>\n\n<pre><code>resources :things do\n  get :foo, on: :collection\nend\n\n# same but with block syntax\nresources :things do\n  collection do\n    get :foo\n    get :bar\n  end    \nend\n</code></pre>\n\n<p>You can also add additional member routes (prefixed with an id):</p>\n\n<pre><code>resources :trips do\n  patch :cancel\nend\n</code></pre>\n\n<p>Note that Rails defaults to <code>on: :member</code> so you don't need to explicitly set it.</p>\n\n<p>Since <code>resources</code> yields at the top (<code>yield if block_given?</code>) these routes will have the correct priority.</p>\n\n<p>See:</p>\n\n<ul>\n<li><a href=\"http://guides.rubyonrails.org/routing.html#adding-more-restful-actions\" rel=\"nofollow noreferrer\">http://guides.rubyonrails.org/routing.html#adding-more-restful-actions</a></li>\n</ul>\n"}], "owner": {"reputation": 628, "user_id": 4643970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwK4h.jpg?s=128&g=1", "display_name": "Mahmoud Sayed", "link": "https://stackoverflow.com/users/4643970/mahmoud-sayed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 49879463, "answer_count": 2, "score": 0, "last_activity_date": 1523977245, "creation_date": 1523971221, "last_edit_date": 1523971795, "question_id": 49879258, "link": "https://stackoverflow.com/questions/49879258/how-does-rails-differentiate-between-users-id-and-users-new-routes", "title": "How does rails differentiate between users/:id and users/new routes?", "body": "<p>I am trying to understand how does rails know the difference between the two routes </p>\n\n<p><code>GET /users/:id</code></p>\n\n<p>and </p>\n\n<p><code>GET /users/new</code></p>\n\n<p>when we type</p>\n\n<p><code>resources :users</code></p>\n\n<p>I tried to trace and understand the resources method in rails source code but I didn't understand it completely.</p>\n\n<pre><code>    def resources(*resources, &amp;block)\n      options = resources.extract_options!.dup\n\n      if apply_common_behavior_for(:resources, resources, options, &amp;block)\n        return self\n      end\n\n      with_scope_level(:resources) do\n        options = apply_action_options options\n        resource_scope(Resource.new(resources.pop, api_only?, @scope[:shallow], options)) do\n          yield if block_given?\n\n          concerns(options[:concerns]) if options[:concerns]\n\n          collection do\n            get  :index if parent_resource.actions.include?(:index)\n            post :create if parent_resource.actions.include?(:create)\n          end\n\n          new do\n            get :new\n          end if parent_resource.actions.include?(:new)\n\n          set_member_mappings_for_resource\n        end\n      end\n\n      self\n    end\n</code></pre>\n\n<p>Is the below piece of code does that?</p>\n\n<pre><code>     new do\n       get :new\n     end if parent_resource.actions.include?(:new)\n</code></pre>\n\n<p>if yes, can you explain? </p>\n\n<p>Also if I tried to write another route with the same <code>GET users/new</code> format it redirects to <code>GET users/:id</code>, so how can I write another route like <code>GET users/whatever</code> without considering <em>whatever</em> as the <em>:id</em>? </p>\n\n<p>Below is example of routes.rb</p>\n\n<p>Example 1:</p>\n\n<pre><code>get   '/feedbacks/:id'  =&gt; 'feedbacks#show'\nget   '/feedbacks/count'     =&gt; 'feedbacks#count'\n</code></pre>\n\n<p><code>feedbacks/count</code> redirects to <code>/feedbacks/:id</code></p>\n\n<p>Example 2:</p>\n\n<pre><code>resources :feedbacks\nget   '/feedbacks/count'     =&gt; 'feedbacks#count'\n</code></pre>\n\n<p><code>feedbacks/count</code> redirects to <code>/feedbacks/:id</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activeadmin", "rails-i18n"], "comments": [{"owner": {"reputation": 671, "user_id": 3445936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cd8z6.jpg?s=128&g=1", "display_name": "Rohit Lingayat", "link": "https://stackoverflow.com/users/3445936/rohit-lingayat"}, "edited": false, "score": 0, "creation_date": 1523986469, "post_id": 49879136, "comment_id": 86784456, "body": "can you check the hierarchy of the message which you want to display."}, {"owner": {"reputation": 2560, "user_id": 153279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783f796db3d628f7c268326fb3323de8?s=128&d=identicon&r=PG", "display_name": "Piers C", "link": "https://stackoverflow.com/users/153279/piers-c"}, "edited": false, "score": 1, "creation_date": 1524152201, "post_id": 49879136, "comment_id": 86865861, "body": "You meant work <i>with</i> i18n-active_record, right?"}, {"owner": {"reputation": 2560, "user_id": 153279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783f796db3d628f7c268326fb3323de8?s=128&d=identicon&r=PG", "display_name": "Piers C", "link": "https://stackoverflow.com/users/153279/piers-c"}, "edited": false, "score": 0, "creation_date": 1524152218, "post_id": 49879136, "comment_id": 86865872, "body": "See also <a href=\"https://stackoverflow.com/questions/48368778/i18n-active-record-backend-using-railsadmin\" title=\"i18n active record backend using railsadmin\">stackoverflow.com/questions/48368778/&hellip;</a>"}, {"owner": {"reputation": 5144, "user_id": 5411461, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RyJfN.jpg?s=128&g=1", "display_name": "Haseeb Ahmad", "link": "https://stackoverflow.com/users/5411461/haseeb-ahmad"}, "reply_to_user": {"reputation": 2560, "user_id": 153279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783f796db3d628f7c268326fb3323de8?s=128&d=identicon&r=PG", "display_name": "Piers C", "link": "https://stackoverflow.com/users/153279/piers-c"}, "edited": false, "score": 0, "creation_date": 1524172482, "post_id": 49879136, "comment_id": 86876676, "body": "@PiersC yes ..."}], "answers": [{"tags": [], "owner": {"reputation": 2560, "user_id": 153279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783f796db3d628f7c268326fb3323de8?s=128&d=identicon&r=PG", "display_name": "Piers C", "link": "https://stackoverflow.com/users/153279/piers-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1524152170, "creation_date": 1524152170, "answer_id": 49925002, "question_id": 49879136, "link": "https://stackoverflow.com/questions/49879136/activeadmin-conflict-with-i18n-active-record/49925002#49925002", "title": "activeadmin conflict with i18n-active_record", "body": "<p>I don't know who might have tested this. If you submit a GitHub issue with a <em>simple working example</em> someone may look at it.</p>\n"}], "owner": {"reputation": 5144, "user_id": 5411461, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RyJfN.jpg?s=128&g=1", "display_name": "Haseeb Ahmad", "link": "https://stackoverflow.com/users/5411461/haseeb-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524152170, "creation_date": 1523970862, "question_id": 49879136, "link": "https://stackoverflow.com/questions/49879136/activeadmin-conflict-with-i18n-active-record", "title": "activeadmin conflict with i18n-active_record", "body": "<p>Using <code>i18n-active_record</code> for translations, it works fine. But it giving issues on activeadmin. Activeadmin not displaying any text and showing keys with translation missing text.</p>\n\n<p>I want <code>activeadmin</code> to work without <code>i18n-active_record</code>\n<a href=\"https://i.stack.imgur.com/ATb5w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ATb5w.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "constraints", "basic-authentication"], "comments": [{"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523973702, "post_id": 49879025, "comment_id": 86776020, "body": "Also here is what I found <a href=\"https://anadea.info/blog/rails-authentication-routing-constraints-considered-harmful\" rel=\"nofollow noreferrer\">rails-authentication-routing-constraints-considered-harmful</a>"}, {"owner": {"reputation": 196, "user_id": 4921398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-clACmQU8j4c/AAAAAAAAAAI/AAAAAAAAP8w/2br9qrnzO_M/photo.jpg?sz=128", "display_name": "Eugene Yak", "link": "https://stackoverflow.com/users/4921398/eugene-yak"}, "reply_to_user": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523974172, "post_id": 49879025, "comment_id": 86776380, "body": "good explanation, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "is_accepted": true, "score": 3, "last_activity_date": 1542667760, "last_edit_date": 1542667760, "creation_date": 1523973360, "answer_id": 49880075, "question_id": 49879025, "link": "https://stackoverflow.com/questions/49879025/ruby-on-rails-can-i-use-http-basic-auth-in-constraints/49880075#49880075", "title": "Ruby on Rails: can I use http basic auth in constraints?", "body": "<p>I dont think you can use <a href=\"https://apidock.com/rails/ActionController/HttpAuthentication/Basic/ControllerMethods/authenticate_or_request_with_http_basic\" rel=\"nofollow noreferrer\"><code>authenticate_or_request_with_http_basic</code></a> method out of controllers scope. You can set up <code>before_filter</code> with auth check in general controller. Here is an example taken from <a href=\"https://apidock.com/rails/ActionController/HttpAuthentication/Basic/ControllerMethods/authenticate_or_request_with_http_basic#62-Easy-and-effective-admin-authentication\" rel=\"nofollow noreferrer\">docs comments</a>:</p>\n\n<pre><code>class AdminController &lt; ApplicationController\n  before_filter :authenticate\n\n  def authenticate\n    authenticate_or_request_with_http_basic('Administration') do |email, password|\n      email == 'foo' &amp;&amp; password == 'bar'\n    end\n  end\nend\n</code></pre>\n\n<hr>\n\n<p>Also here is what I found <a href=\"https://anadea.info/blog/rails-authentication-routing-constraints-considered-harmful\" rel=\"nofollow noreferrer\">Rails Authentication Routing Constraints Considered Harmful</a>. </p>\n\n<hr>\n\n<p>That being said I think there is a way:</p>\n\n<pre><code>class Basic\n  def self.matches?(request)\n    if ActionController::HttpAuthentication::Basic.has_basic_credentials?(request)\n      credentials = ActionController::HttpAuthentication::Basic.decode_credentials(request)\n      email, password = credentials.split(':')\n\n      email == 'foo' &amp;&amp; password == 'bar'\n    end\n  end\nend\n</code></pre>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Basic.html\" rel=\"nofollow noreferrer\">Here is docs on HTTP Basic authentication</a> with examples</p>\n"}], "owner": {"reputation": 196, "user_id": 4921398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-clACmQU8j4c/AAAAAAAAAAI/AAAAAAAAP8w/2br9qrnzO_M/photo.jpg?sz=128", "display_name": "Eugene Yak", "link": "https://stackoverflow.com/users/4921398/eugene-yak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2118, "favorite_count": 0, "accepted_answer_id": 49880075, "answer_count": 1, "score": 5, "last_activity_date": 1562042863, "creation_date": 1523970554, "last_edit_date": 1562042863, "question_id": 49879025, "link": "https://stackoverflow.com/questions/49879025/ruby-on-rails-can-i-use-http-basic-auth-in-constraints", "title": "Ruby on Rails: can I use http basic auth in constraints?", "body": "<p>I use Rails 5 API mode</p>\n\n<p>routes.rb:</p>\n\n<pre><code>Rails.application.routes.draw do      \n  constraints Basic do\n    mount Rswag::Ui::Engine  =&gt; '/api-docs'\n    mount Rswag::Api::Engine =&gt; '/api-docs'\n    mount Sidekiq::Web       =&gt; '/sidekiq'\n    # etc\n  end\nend\n</code></pre>\n\n<p>constraints/basic.rb: </p>\n\n<pre><code>class Basic\n  def self.matches?(request)\n    authenticate_or_request_with_http_basic do |email, password|\n      email == 'foo' &amp;&amp; password = 'bar'\n    end\n  end\nend\n</code></pre>\n\n<p>But I'm getting an error:</p>\n\n<blockquote>\n  <p>NoMethodError (undefined method `authenticate_or_request_with_http_basic' for Basic:Class)</p>\n</blockquote>\n\n<p>Can I use http basic auth in constraints?</p>\n"}, {"tags": ["ruby", "daemon", "standard-library", "daemons", "ruby-daemons"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523968049, "post_id": 49877288, "comment_id": 86771756, "body": "<code>present?</code>, <code>blank?</code>, <code>empty?</code>, and <code>nil?</code> are quite different. What do you really need / want? What&#39;s the actual problem you&#39;re trying to solve?"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1523968273, "post_id": 49877288, "comment_id": 86771937, "body": "Do ruby&#39;s built-in methods like <code>.empty?</code>, <code>.nil?</code>, <code>.zero?</code>, etc really not solve your problem? Do you really need to pull <code>ActiveSupport</code> into your project as a dependency? What are you trying to achieve?"}], "answers": [{"tags": [], "owner": {"reputation": 11736, "user_id": 610351, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f4ee98206d84b25a83228e285c678f0?s=128&d=identicon&r=PG", "display_name": "Geoffroy", "link": "https://stackoverflow.com/users/610351/geoffroy"}, "is_accepted": false, "score": 0, "last_activity_date": 1523966816, "last_edit_date": 1523966816, "creation_date": 1523966428, "answer_id": 49877531, "question_id": 49877288, "link": "https://stackoverflow.com/questions/49877288/rubys-present-without-rails/49877531#49877531", "title": "Ruby&#39;s `.present?` without Rails?", "body": "<p>You can use ActiveSupport without including all rails in your app, that's actually quite common.</p>\n\n<p><code>nil?</code> and <code>empty?</code> are defined in the standard library.</p>\n\n<p>E.g., <a href=\"https://ruby-doc.org/core-2.2.0/String.html#method-i-empty-3F\" rel=\"nofollow noreferrer\"><code>String#empty?</code></a> is simply testing if the length is 0.</p>\n\n<p>To use active support, just install the gem or add it to your gemfile then:</p>\n\n<pre><code>require 'active_support'\n</code></pre>\n\n<p>The <a href=\"http://guides.rubyonrails.org/active_support_core_extensions.html\" rel=\"nofollow noreferrer\">documentation</a> also states you can cherry pick the core extensions you want:</p>\n\n<pre><code>require 'active_support/core_ext/object/blank'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "is_accepted": true, "score": 6, "last_activity_date": 1523967672, "last_edit_date": 1523967672, "creation_date": 1523966510, "answer_id": 49877566, "question_id": 49877288, "link": "https://stackoverflow.com/questions/49877288/rubys-present-without-rails/49877566#49877566", "title": "Ruby&#39;s `.present?` without Rails?", "body": "<p><code>Active Support</code> is broken in small pieces so that you can load just what you need. For <code>.blank?</code> and <code>.present?</code> methods it would be enough to require:</p>\n\n<pre><code>require 'active_support/core_ext/object/blank.rb'\n</code></pre>\n\n<p><a href=\"http://edgeguides.rubyonrails.org/active_support_core_extensions.html#stand-alone-active-support\" rel=\"noreferrer\">As docs say</a>. </p>\n\n<p><a href=\"https://ruby-doc.org/core-2.3.1/Object.html#method-i-nil-3F\" rel=\"noreferrer\">Object#nil?</a> , <a href=\"http://edgeguides.rubyonrails.org/active_support_core_extensions.html#stand-alone-active-support\" rel=\"noreferrer\">Array#empty?</a> and <a href=\"https://ruby-doc.org/core-2.5.0/Hash.html#method-i-empty-3F\" rel=\"noreferrer\">Hash#empty?</a> already defined so you dont need anything to <code>require</code> to use those.</p>\n\n<p>Make sure <code>active_support</code> gem installed in your system</p>\n"}], "owner": {"reputation": 788, "user_id": 900961, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/52cdef2c784d63e9d7084aa53127fce4?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/900961/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 961, "favorite_count": 1, "accepted_answer_id": 49877566, "answer_count": 2, "score": 3, "last_activity_date": 1523967672, "creation_date": 1523965720, "question_id": 49877288, "link": "https://stackoverflow.com/questions/49877288/rubys-present-without-rails", "title": "Ruby&#39;s `.present?` without Rails?", "body": "<p>I'm developing a \"Rails-less\" Ruby daemon for automation (although in theory it runs within a Rails directory). For general purposes and the principle of the matter, I would like to find the (most) \"native\"/common way to utilize a Ruby version of <code>.present?</code>/<code>.blank?</code>/<code>.empty?</code>/<code>.nil?</code> to identify if an array or a (hash) value exists and is not empty (i.e., <code>[]</code> or <code>{}</code>).</p>\n\n<p>From what I've <a href=\"https://stackoverflow.com/questions/17397316/ruby-blank-without-rails?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">read</a> (e.g., Stack Overflow) and tested, all of these functions appear to be Rails-specific methods, part of ActiveSupport(?).</p>\n\n<p>Coming from other web/interpreter languages (PHP, Python, JS, etc.), this is a general logic function most languages (with arrays, which are most) have this functionality built in one way or another (e.g., PHP's <code>isset( ... )</code> or JavaScript's <code>.length</code>).</p>\n\n<p>I understand there are RegEx workarounds for <code>.blank?</code>, but <code>.present?</code> seems it would require exception handling to identify if it's \"present\"). I'm having a hard time believing it doesn't exist, but there's little talk about Ruby without Rails' involvement.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523963423, "post_id": 49876371, "comment_id": 86768470, "body": "Isnt it clear from routes and namespaces? You can guess it by url or track it down in webserver logs"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523963552, "post_id": 49876371, "comment_id": 86768565, "body": "What do you mean by <i>&quot;the route and the action&quot;</i> \u2013 its path and HTTP verb? Could you give an example?"}, {"owner": {"reputation": 1187, "user_id": 5445754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1041005372600255/picture?type=large", "display_name": "Aakash Uniyal", "link": "https://stackoverflow.com/users/5445754/aakash-uniyal"}, "edited": false, "score": 0, "creation_date": 1523964571, "post_id": 49876371, "comment_id": 86769249, "body": "We know routes which are defines in the config maps to controllers and its functions , right ? I want to determine in the controller itself which route invoked the function(action) and its verb too if its possible."}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 0, "creation_date": 1523968445, "post_id": 49876371, "comment_id": 86772100, "body": "colud you please describe exact problem? it sounds like you&#39;ve lost control over your application and now desperately trying regain it by identifying which controller does what job. i guess you&#39;ve screwed up whole application logic -)) have a look up to <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#routing-parameters\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/&hellip;</a>  it might help you"}, {"owner": {"reputation": 1187, "user_id": 5445754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1041005372600255/picture?type=large", "display_name": "Aakash Uniyal", "link": "https://stackoverflow.com/users/5445754/aakash-uniyal"}, "edited": false, "score": 0, "creation_date": 1523968755, "post_id": 49876371, "comment_id": 86772313, "body": "Its just a poc that i am trying to do here . No matter good or bad practices here , i was just trying to figure out whether the object of the application controller has present route information or not ? What will i achieve with this ? Custom Service level authorization which run only via metadata but thats a whole different story. Step by Step. Thanks for your concern though"}], "answers": [{"comments": [{"owner": {"reputation": 1187, "user_id": 5445754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1041005372600255/picture?type=large", "display_name": "Aakash Uniyal", "link": "https://stackoverflow.com/users/5445754/aakash-uniyal"}, "edited": false, "score": 0, "creation_date": 1523967673, "post_id": 49876575, "comment_id": 86771475, "body": "I want to determine it programatically inside the controller itself and not from outside the application."}], "tags": [], "owner": {"reputation": 990, "user_id": 7240463, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/RQUCc.jpg?s=128&g=1", "display_name": "current_user", "link": "https://stackoverflow.com/users/7240463/current-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1523964294, "last_edit_date": 1523964294, "creation_date": 1523963540, "answer_id": 49876575, "question_id": 49876371, "link": "https://stackoverflow.com/questions/49876371/rails-api-how-to-determine-which-action-and-route-was-fired-which-lead-to-invo/49876575#49876575", "title": "Rails API : How to determine which action and route was fired which lead to invoking a particular Controller?", "body": "<p>Inside your project directory do</p>\n\n<pre><code> rake routes \n</code></pre>\n\n<p>This will fetch all the routes in the application.</p>\n\n<pre><code>   Prefix      Verb    URI Pattern                  Controller#Action  Named Helper\n\n   articles     GET    /articles(.:format)           articles#index   articles_path or articles_url\n</code></pre>\n\n<p><strong>example:</strong> The URI '/articles' will look for index action of ArticlesController. </p>\n"}, {"comments": [{"owner": {"reputation": 1187, "user_id": 5445754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1041005372600255/picture?type=large", "display_name": "Aakash Uniyal", "link": "https://stackoverflow.com/users/5445754/aakash-uniyal"}, "edited": false, "score": 0, "creation_date": 1523967678, "post_id": 49876599, "comment_id": 86771479, "body": "I want to determine it programatically inside the controller itself and not from outside the application."}, {"owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "reply_to_user": {"reputation": 1187, "user_id": 5445754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1041005372600255/picture?type=large", "display_name": "Aakash Uniyal", "link": "https://stackoverflow.com/users/5445754/aakash-uniyal"}, "edited": false, "score": 0, "creation_date": 1524045965, "post_id": 49876599, "comment_id": 86809092, "body": "What do you expect as a result, or what do you mean by &quot;which route&quot;. Do you want the line number in <code>routes.rb</code> for example?"}], "tags": [], "owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "is_accepted": false, "score": 0, "last_activity_date": 1523963614, "creation_date": 1523963614, "answer_id": 49876599, "question_id": 49876371, "link": "https://stackoverflow.com/questions/49876371/rails-api-how-to-determine-which-action-and-route-was-fired-which-lead-to-invo/49876599#49876599", "title": "Rails API : How to determine which action and route was fired which lead to invoking a particular Controller?", "body": "<p>Use <code>rake routes</code> to display all routes your app recognizes. Use <code>grep</code> to filter by controller or action name.</p>\n\n<pre><code>rake routes | grep users\n</code></pre>\n\n<p>Where <code>users</code> is just an example controller name.</p>\n"}], "owner": {"reputation": 1187, "user_id": 5445754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1041005372600255/picture?type=large", "display_name": "Aakash Uniyal", "link": "https://stackoverflow.com/users/5445754/aakash-uniyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523964466, "creation_date": 1523962866, "last_edit_date": 1523964466, "question_id": 49876371, "link": "https://stackoverflow.com/questions/49876371/rails-api-how-to-determine-which-action-and-route-was-fired-which-lead-to-invo", "title": "Rails API : How to determine which action and route was fired which lead to invoking a particular Controller?", "body": "<p>I have multiple engines in my <code>Rails API</code> only application. Each having its own routes and set of controllers. </p>\n\n<p>How can i determine what was the route and the action responsible for triggering the method/action in a controller ?</p>\n\n<p>For more details regarding the question let me know.</p>\n\n<p>NOTE : I want to determine it programatically inside the controller itself and not from outside the application.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "email", "sendgrid", "sendgrid-rails"], "comments": [{"owner": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "edited": false, "score": 1, "creation_date": 1523963029, "post_id": 49876315, "comment_id": 86768211, "body": "The value of this: <code>ENV[&#39;xxxxxxx&#39;]</code> is nil probably"}], "answers": [{"comments": [{"owner": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "edited": false, "score": 0, "creation_date": 1524043810, "post_id": 49876657, "comment_id": 86807396, "body": "I still have a strange issue. The code above was put in helpers/mail.rb and when executed from the commandline it works. However when I put it in a controller and try to execute I still get the <code>no implicit conversion of nil into String</code> error. Do you perhaps know what could cause this?"}, {"owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "reply_to_user": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "edited": false, "score": 1, "creation_date": 1524045797, "post_id": 49876657, "comment_id": 86808968, "body": "you probably didn&#39;t source your env-file before starting the rails server (in the same shell)."}, {"owner": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "edited": false, "score": 0, "creation_date": 1524046100, "post_id": 49876657, "comment_id": 86809173, "body": "After fully restarting the server, restarting sublime (.env file still there with correct info) and after sourcing the env-file again just to be sure I still get the error. I really strange that the mail.rb in app/helper works but it breaks in another controller?"}, {"owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "reply_to_user": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "edited": false, "score": 1, "creation_date": 1524046180, "post_id": 49876657, "comment_id": 86809244, "body": "you dont need to restart your editor. how are you starting your server? try this: <code>SENDGRID_API_KEY=xxxxxxxx rails s</code>"}, {"owner": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "edited": false, "score": 0, "creation_date": 1524047057, "post_id": 49876657, "comment_id": 86809810, "body": "Thanks that seems to work! But how can I set that API key so I can use it on production as well? Should it be set in application.yml?"}, {"owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "reply_to_user": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "edited": false, "score": 1, "creation_date": 1524047733, "post_id": 49876657, "comment_id": 86810287, "body": "Basically you&#39;ll have to make sure that the prod-server provides the env-variables as well. But thats a different question. Read about Rails secrets here <a href=\"https://www.engineyard.com/blog/encrypted-rails-secrets-on-rails-5.1\" rel=\"nofollow noreferrer\">engineyard.com/blog/encrypted-rails-secrets-on-rails-5.1</a> and about environment variables here <a href=\"https://www.digitalocean.com/community/tutorials/how-to-read-and-set-environmental-and-shell-variables-on-a-linux-vps\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "is_accepted": true, "score": 2, "last_activity_date": 1523963808, "creation_date": 1523963808, "answer_id": 49876657, "question_id": 49876315, "link": "https://stackoverflow.com/questions/49876315/sendgrid-implementation-no-implicit-conversion-of-nil-into-string/49876657#49876657", "title": "Sendgrid implementation - no implicit conversion of nil into String", "body": "<p>You are confusing the value of the env variable (<code>xxxxxxxxx</code>) with it's name (<code>SENDGRID_API_KEY</code>).</p>\n\n<p>When setting the API key in your code, use</p>\n\n<pre><code>  sg = SendGrid::API.new(api_key: ENV['SENDGRID_API_KEY'])\n</code></pre>\n\n<p>instead.</p>\n"}, {"comments": [{"owner": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "edited": false, "score": 0, "creation_date": 1524043818, "post_id": 49876665, "comment_id": 86807402, "body": "I still have a strange issue. The code above was put in helpers/mail.rb and when executed from the commandline it works. However when I put it in a controller and try to execute I still get the <code>no implicit conversion of nil into String</code> error. Do you perhaps know what could cause this?"}], "tags": [], "owner": {"reputation": 103, "user_id": 8937642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677745c2ebda486da271d4d33ed6fce2?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Marti", "link": "https://stackoverflow.com/users/8937642/alejandro-marti"}, "is_accepted": false, "score": 0, "last_activity_date": 1523963821, "creation_date": 1523963821, "answer_id": 49876665, "question_id": 49876315, "link": "https://stackoverflow.com/questions/49876315/sendgrid-implementation-no-implicit-conversion-of-nil-into-string/49876665#49876665", "title": "Sendgrid implementation - no implicit conversion of nil into String", "body": "<p>Deep is right.\n/ruby/gems/2.4.0/gems/sendgrid-ruby-5.2.0/lib/sendgrid/client.rb:24:in\nrefers to</p>\n\n<pre><code>\"Authorization\": \"Bearer ' + @api_key + '\",\n</code></pre>\n\n<p>so the no implicit conversion of nil into String makes perfect sense.</p>\n\n<p>You should change</p>\n\n<pre><code>sg = SendGrid::API.new(api_key: ENV['xxxxxxx'])\n</code></pre>\n\n<p>for:</p>\n\n<pre><code>sg = SendGrid::API.new(api_key: ENV['SENDGRID_API_KEY'])\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 7205085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-dAFbAJyqYnc/AAAAAAAAAAI/AAAAAAAAMcI/BS-I8hHmGAc/photo.jpg?sz=128", "display_name": "Pimmesz", "link": "https://stackoverflow.com/users/7205085/pimmesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 0, "accepted_answer_id": 49876657, "answer_count": 2, "score": 0, "last_activity_date": 1524029575, "creation_date": 1523962722, "last_edit_date": 1524029575, "question_id": 49876315, "link": "https://stackoverflow.com/questions/49876315/sendgrid-implementation-no-implicit-conversion-of-nil-into-string", "title": "Sendgrid implementation - no implicit conversion of nil into String", "body": "<p>I've set my environment like so:</p>\n\n<pre><code>echo \"export SENDGRID_API_KEY='xxxxxxxxx'\" &gt; sendgrid.env\necho \"sendgrid.env\" &gt;&gt; .gitignore\nsource ./sendgrid.env\n</code></pre>\n\n<p>Sendgrid gem is installed.</p>\n\n<p>Code I try to run:</p>\n\n<pre><code>require 'sendgrid-ruby'\ninclude SendGrid\nrequire 'json'\n\ndef hello_world\n  from = Email.new(email: 'test@example.com')\n  to = Email.new(email: 'test@example.com')\n  subject = 'Sending with SendGrid is Fun'\n  content = Content.new(type: 'text/plain', value: 'and easy to do anywhere, even with Ruby')\n  mail = Mail.new(from, subject, to, content)\n\n  #previous version\n  #sg = SendGrid::API.new(api_key: ENV['xxxxxxx'])\n\n  #current version\n  sg = SendGrid::API.new(api_key: ENV['SENDGRID_API_KEY'])\n  response = sg.client.mail._('send').post(request_body: mail.to_json)\n  puts response.status_code\n  puts response.body\n  puts response.headers\nend\n\nhello_world\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre><code>no implicit conversion of nil into String\n</code></pre>\n\n<p>Inside this file:</p>\n\n<pre><code>/ruby/gems/2.4.0/gems/sendgrid-ruby-5.2.0/lib/sendgrid/client.rb:24:in\n</code></pre>\n\n<p>I cant figure out what goes wrong here....</p>\n\n<p>Full error:</p>\n\n<pre><code>/Users/pimzonneveld/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/sendgrid-ruby-5.2.0/lib/sendgrid/client.rb:24:in `+': no implicit conversion of nil into String (TypeError)\n    from /Users/pimzonneveld/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/sendgrid-ruby-5.2.0/lib/sendgrid/client.rb:24:in `initialize'\n    from app/helpers/mail.rb:12:in `new'\n    from app/helpers/mail.rb:12:in `hello_world'\n    from app/helpers/mail.rb:19:in `&lt;main&gt;'\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "vue.js", "rspec"], "comments": [{"owner": {"reputation": 2260, "user_id": 5687152, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/J754G.jpg?s=128&g=1", "display_name": "mabe02", "link": "https://stackoverflow.com/users/5687152/mabe02"}, "edited": false, "score": 0, "creation_date": 1523964563, "post_id": 49876096, "comment_id": 86769243, "body": "did you set the option <code>js: true</code> to your test?"}, {"owner": {"reputation": 1, "user_id": 8432095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/653b6506b0187db2a1c7015bf0da77e8?s=128&d=identicon&r=PG&f=1", "display_name": "panuza parajuli", "link": "https://stackoverflow.com/users/8432095/panuza-parajuli"}, "reply_to_user": {"reputation": 2260, "user_id": 5687152, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/J754G.jpg?s=128&g=1", "display_name": "mabe02", "link": "https://stackoverflow.com/users/5687152/mabe02"}, "edited": false, "score": 0, "creation_date": 1524047446, "post_id": 49876096, "comment_id": 86810090, "body": "Yes. I have added that but still it is not working."}], "owner": {"reputation": 1, "user_id": 8432095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/653b6506b0187db2a1c7015bf0da77e8?s=128&d=identicon&r=PG&f=1", "display_name": "panuza parajuli", "link": "https://stackoverflow.com/users/8432095/panuza-parajuli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523962044, "creation_date": 1523962044, "question_id": 49876096, "link": "https://stackoverflow.com/questions/49876096/how-to-configure-rspec-to-load-vue-component-for-feature-testing-along-with-rail", "title": "How to configure rspec to load vue component for feature testing along with rails view?", "body": "<p>I have used vue component along with rails view for particular feature. While writing test using rspec, the normal view is loading but the vue component is not loaded. Is there a way to load vue component along with rails view on spec? So that I could use rspec syntax for it, like:</p>\n\n<pre><code>expect(page).to have_xpath(\"//p\", text: \"This is loaded from vue component\")\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "comments": [{"owner": {"reputation": 412, "user_id": 4779465, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/rxj3q.png?s=128&g=1", "display_name": "Prasanth_Rubyist", "link": "https://stackoverflow.com/users/4779465/prasanth-rubyist"}, "edited": false, "score": 0, "creation_date": 1523962004, "post_id": 49876016, "comment_id": 86767454, "body": "you should use count_sign_in = [] array"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1523963275, "post_id": 49876016, "comment_id": 86768367, "body": "<i>&quot;I&#39;m kinda newbie in this language&quot;</i> \u2013 it might come as a surprise, but in Ruby we use <code>+</code> to add integers ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "edited": false, "score": 0, "creation_date": 1523962404, "post_id": 49876095, "comment_id": 86767744, "body": "Indeed, pretty efficient. Thanks a lot."}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": false, "score": 3, "last_activity_date": 1523962041, "creation_date": 1523962041, "answer_id": 49876095, "question_id": 49876016, "link": "https://stackoverflow.com/questions/49876016/calculate-the-sum-in-an-loop/49876095#49876095", "title": "Calculate the sum in an loop", "body": "<p>I'd use a single SQL query</p>\n\n<pre><code>User.sum(:sign_in_count)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "is_accepted": false, "score": 0, "last_activity_date": 1523963873, "creation_date": 1523963873, "answer_id": 49876690, "question_id": 49876016, "link": "https://stackoverflow.com/questions/49876016/calculate-the-sum-in-an-loop/49876690#49876690", "title": "Calculate the sum in an loop", "body": "<p>correct your code:</p>\n\n<pre><code>count_sign_in = 0\n\n@users.each do |user|\n  count_sign_in += user.sign_in_count # similar to count_sign_in = count_sign_in + user.sign_in_count\nend\n</code></pre>\n\n<p><strong>Note:</strong> <code>count_sign_in</code> is not an array, to push element in array we use <code>&lt;&lt;</code> in ruby</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2291468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8fb4ff7f54659a8f4434f3a438b3318?s=128&d=identicon&r=PG", "display_name": "mourad.hammiche", "link": "https://stackoverflow.com/users/2291468/mourad-hammiche"}, "is_accepted": false, "score": 0, "last_activity_date": 1523965860, "creation_date": 1523965860, "answer_id": 49877342, "question_id": 49876016, "link": "https://stackoverflow.com/questions/49876016/calculate-the-sum-in-an-loop/49877342#49877342", "title": "Calculate the sum in an loop", "body": "<p>As already answered above, the easiest way to do this is to use an sql aggregation.</p>\n\n<pre><code>User.sum(:sign_in_count)\n</code></pre>\n\n<p>You also perform a sum on a collection of object. In this case an #each iteration  is not the optimale as it require an extra locale variable. The Enumerable module provides a bunch of useful methods like <code>sum</code></p>\n\n<pre><code>@users.sum { |user| user.sign_in_count }\n</code></pre>\n\n<p>It can also be written shorten using a symbol to proc</p>\n\n<pre><code>@users.sum(&amp;:sign_in_count)  \n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 8718742, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XBXjN.jpg?s=128&g=1", "display_name": "Enner31", "link": "https://stackoverflow.com/users/8718742/enner31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1523965860, "creation_date": 1523961827, "last_edit_date": 1523963313, "question_id": 49876016, "link": "https://stackoverflow.com/questions/49876016/calculate-the-sum-in-an-loop", "title": "Calculate the sum in an loop", "body": "<p>I'm currently working on a rails project, I'm kinda newbie in this language. \nUsing Devise, I want to have the sum of the sign_in_count and display it. </p>\n\n<p>My sign_in_count is an integer and have a default value at 0, incrementing every time the user sign in. </p>\n\n<p>here's what I've tried so far : </p>\n\n<pre><code>count_sign_in = 0\n\n@users.each do |user|\n  count_sign_in &lt;&lt; user.sign_in_count \nend \n</code></pre>\n\n<p>But as you can imagine, it doesn't work ... \nAnd I want to have the sum per week and per month if that's possible.</p>\n\n<p>Any help ? \nMany thanks. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "google-cloud-storage", "pre-signed-url"], "comments": [{"owner": {"reputation": 3543, "user_id": 2231236, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ZyG2H.jpg?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/2231236/nithin"}, "edited": false, "score": 0, "creation_date": 1523961459, "post_id": 49875363, "comment_id": 86767109, "body": "I had followed this recently <a href=\"http://andrewvos.com/uploading-files-directly-to-google-cloud-storage-from-client-side-javascript\" rel=\"nofollow noreferrer\">andrewvos.com/&hellip;</a> it worked."}, {"owner": {"reputation": 3543, "user_id": 2231236, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ZyG2H.jpg?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/2231236/nithin"}, "edited": false, "score": 0, "creation_date": 1523961486, "post_id": 49875363, "comment_id": 86767131, "body": "<a href=\"https://github.com/imnithin/direct_upload-gcs\" rel=\"nofollow noreferrer\">github.com/imnithin/direct_upload-gcs</a> I created a gem, not tested."}, {"owner": {"reputation": 33, "user_id": 4525849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MnaedyRr1ok/AAAAAAAAAAI/AAAAAAAAAF4/YWwc2AwCQLs/photo.jpg?sz=128", "display_name": "Claudiu Laz\u0103r", "link": "https://stackoverflow.com/users/4525849/claudiu-laz%c4%83r"}, "reply_to_user": {"reputation": 3543, "user_id": 2231236, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ZyG2H.jpg?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/2231236/nithin"}, "edited": false, "score": 0, "creation_date": 1523962385, "post_id": 49875363, "comment_id": 86767726, "body": "@Nithin I saw and I tried that example, but It didn&#39;t worked for me because I didn&#39;t knew exactly what RSA Pkey to give. Also That&#39;s not the best practice in my opinion. Google already provides everything for you."}, {"owner": {"reputation": 33, "user_id": 4525849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MnaedyRr1ok/AAAAAAAAAAI/AAAAAAAAAF4/YWwc2AwCQLs/photo.jpg?sz=128", "display_name": "Claudiu Laz\u0103r", "link": "https://stackoverflow.com/users/4525849/claudiu-laz%c4%83r"}, "reply_to_user": {"reputation": 3543, "user_id": 2231236, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ZyG2H.jpg?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/2231236/nithin"}, "edited": false, "score": 0, "creation_date": 1523962648, "post_id": 49875363, "comment_id": 86767932, "body": "Thanks for the gem, but I do not want to use a gem that is not tested or it is not proven to be stable. I want to go in production with this project."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 4525849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MnaedyRr1ok/AAAAAAAAAAI/AAAAAAAAAF4/YWwc2AwCQLs/photo.jpg?sz=128", "display_name": "Claudiu Laz\u0103r", "link": "https://stackoverflow.com/users/4525849/claudiu-laz%c4%83r"}, "is_accepted": true, "score": 1, "last_activity_date": 1524158441, "creation_date": 1524158441, "answer_id": 49926784, "question_id": 49875363, "link": "https://stackoverflow.com/questions/49875363/signaturedoesnotmatch-ruby-on-rails-google-storage-signed-url/49926784#49926784", "title": "SignatureDoesNotMatch Ruby on Rails Google Storage Signed URL", "body": "<p>Everything was good. I forgot to add Content-Type in the request's header.\nI thought it is implied in the signed url, but no.</p>\n"}], "owner": {"reputation": 33, "user_id": 4525849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MnaedyRr1ok/AAAAAAAAAAI/AAAAAAAAAF4/YWwc2AwCQLs/photo.jpg?sz=128", "display_name": "Claudiu Laz\u0103r", "link": "https://stackoverflow.com/users/4525849/claudiu-laz%c4%83r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 1, "accepted_answer_id": 49926784, "answer_count": 1, "score": 0, "last_activity_date": 1524158441, "creation_date": 1523959852, "last_edit_date": 1523960041, "question_id": 49875363, "link": "https://stackoverflow.com/questions/49875363/signaturedoesnotmatch-ruby-on-rails-google-storage-signed-url", "title": "SignatureDoesNotMatch Ruby on Rails Google Storage Signed URL", "body": "<p>I have made a connection with Google Storage using gem 'google-cloud-storage'. Repo for that is <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-ruby/tree/master/google-cloud-storage\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-ruby/tree/master/google-cloud-storage</a>.</p>\n\n<p>The example of the signed_url method I couldn't manage to find it only in one example in the repo, here, line 916:\n<a href=\"https://github.com/GoogleCloudPlatform/google-cloud-ruby/blob/master/google-cloud-storage/lib/google/cloud/storage/bucket.rb\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-ruby/blob/master/google-cloud-storage/lib/google/cloud/storage/bucket.rb</a></p>\n\n<p>I managed to get a signed URL for method GET for a specific file, but when I try to do a PUT on the signed_url for a file it gives me a response body like so:</p>\n\n<pre><code>&lt;Error&gt;\n    &lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\n    &lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your Google secret key and signing method.&lt;/Message&gt;\n    &lt;StringToSign&gt;PUT\n\napplication/x-www-form-urlencoded\n1523909074\n/bucket_name/logo1&lt;/StringToSign&gt;\n&lt;/Error&gt;\n</code></pre>\n\n<p>Sample code of PUT (NOT WORKING):</p>\n\n<pre><code>require 'google/cloud/storage'\nstorage = Google::Cloud::Storage.new(\n    project_id: 'projectId',\n    credentials: './config/keyfile.json'\n)\n\nbucket = storage.bucket 'bucket_name'\nsigned_url = bucket.signed_url 'logo1.png',\n                   method: 'PUT',\n                   content_type: 'image/png',\n                   expires: 300 # 5 minutes from now\n</code></pre>\n\n<p>I tried doing with and without content_type. Also I tried content_type: '*' or '**' or 'image/*' or ''.\nI tried the PUT request in Postman and in an Angular app using a primeng upload component.\nNeed a little help. Thanks.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sass"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1523956864, "post_id": 49873750, "comment_id": 86763843, "body": "What is your question?"}, {"owner": {"reputation": 133, "user_id": 5641555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TZq9w.png?s=128&g=1", "display_name": "Capitan Duke", "link": "https://stackoverflow.com/users/5641555/capitan-duke"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1523957819, "post_id": 49873750, "comment_id": 86764594, "body": "@sawa I don&#39;t know what to do! what can I do to make this work? I read bunch of posts I can&#39;t find any solution."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1523959412, "post_id": 49873750, "comment_id": 86765841, "body": "Use the <code>.scss</code> extension. The <code>.css.scss</code> extension was depreachiated quite a while back. <a href=\"https://github.com/sstephenson/sprockets/issues/643\" rel=\"nofollow noreferrer\">github.com/sstephenson/sprockets/issues/643</a>"}, {"owner": {"reputation": 133, "user_id": 5641555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TZq9w.png?s=128&g=1", "display_name": "Capitan Duke", "link": "https://stackoverflow.com/users/5641555/capitan-duke"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1523961812, "post_id": 49873750, "comment_id": 86767337, "body": "@max but is ruby on rails 2.0, should I changed to .scss anyway?"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1523969400, "post_id": 49873750, "comment_id": 86772772, "body": "Does Rails 2.0 even have an assets pipeline? I thought it was introduced in 3.1."}, {"owner": {"reputation": 1538, "user_id": 264694, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/91f445313d631e0f89b671e16c6557f8?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/264694/brad"}, "edited": false, "score": 0, "creation_date": 1523987258, "post_id": 49873750, "comment_id": 86784917, "body": "Always put your Vars file first in the import list. Or make sure &quot;$screen-sm-max&quot; is ina  file imported before its use"}, {"owner": {"reputation": 11638, "user_id": 461294, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EQqHn.jpg?s=128&g=1", "display_name": "vich", "link": "https://stackoverflow.com/users/461294/vich"}, "edited": false, "score": 0, "creation_date": 1523998270, "post_id": 49873750, "comment_id": 86790575, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34504913/rake-aborted-sasssyntaxerror-undefined-variable-alert-padding\">rake aborted! Sass::SyntaxError: Undefined variable: &quot;$alert-padding&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 438, "user_id": 716185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29912acf4124f78d29de7a0f5adf89d0?s=128&d=identicon&r=PG", "display_name": "amalrik maia", "link": "https://stackoverflow.com/users/716185/amalrik-maia"}, "is_accepted": true, "score": 0, "last_activity_date": 1523965451, "creation_date": 1523965451, "answer_id": 49877193, "question_id": 49873750, "link": "https://stackoverflow.com/questions/49873750/compiling-with-the-variables-in-vars-scss-ruby-on-rails-2-0/49877193#49877193", "title": "compiling with the variables in _vars.scss ruby on rails 2.0", "body": "<p>The error message is pretty clear.\nSass tried to find variable <code>$screen-sm-max</code> on file _styles.scss but failed.</p>\n\n<p>Try to add</p>\n\n<p><code>$screen-sm-max: 42;</code></p>\n\n<p>on file _styles.scss.</p>\n\n<p>And see if that solves the problem.</p>\n"}], "owner": {"reputation": 133, "user_id": 5641555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TZq9w.png?s=128&g=1", "display_name": "Capitan Duke", "link": "https://stackoverflow.com/users/5641555/capitan-duke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 49877193, "answer_count": 1, "score": -1, "last_activity_date": 1523965451, "creation_date": 1523955224, "last_edit_date": 1523956620, "question_id": 49873750, "link": "https://stackoverflow.com/questions/49873750/compiling-with-the-variables-in-vars-scss-ruby-on-rails-2-0", "title": "compiling with the variables in _vars.scss ruby on rails 2.0", "body": "<p>it's my first time to compiling a ruby on rails 2.0, and I have a problem with the variables in <code>_vars.scss</code>. The scss files are located in <code>vendor/assets/stylesheets/scss</code> (I located them here because was the only way they worked!) and they are calling them up in <code>app/assets/stylesheets/application.css.scss</code>:</p>\n\n<pre><code>@import \"scss/bootstrap.scss\";\n@import \"scss/vars.scss\";\n@import \"scss/styles.scss\";\n@import \"scss/fonts.scss\";\n@import \"scss/icons.scss\";\n@import \"scss/helpers.scss\";\n</code></pre>\n\n<p>The problem that showed up is:</p>\n\n<pre><code>rake aborted!\nSass::SyntaxError: Undefined variable: \"$screen-sm-max\".\n\n\n(in /var/rails/DeterminaRASIntegracio/releases/20180414113247/vendor/assets/stylesheets/scss/_styles.scss)\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1523955549, "post_id": 49873328, "comment_id": 86762899, "body": "In order to find <b>&quot;with 1 or more&quot;</b> review, <b>all</b> you need to do is <code>Doctor.joins(:reviews)</code>. In order to find <b>&quot;with more than 1&quot;</b> (which is what you wrote), you&#39;d actually need to do <code>Doctor.joins(:reviews).group(&#39;doctors.id&#39;).having(&#39;count(doc&zwnj;&#8203;tors.id) &gt; 1&#39;)</code>."}, {"owner": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "edited": false, "score": 0, "creation_date": 1523956274, "post_id": 49873328, "comment_id": 86763396, "body": "<code>But how can I find doctors with an average rating &gt;= 4 and order them by the highest rating if the &quot;average rating&quot; is an instance method?</code>                                                                                            you can simply try <code>Doctor.includes(:reviews).where(&quot;reviews.avarage(:rating).ro&zwnj;&#8203;und(2) &gt;= ?&quot;, 4).group(&#39;doctors.id&#39;).having(&#39;count(doctors.id) &gt; 0&#39;)</code> or create a scope on all above  and use the scope"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7156835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d4985f9228f7293a1295357df03c6b?s=128&d=identicon&r=PG&f=1", "display_name": "clifredd", "link": "https://stackoverflow.com/users/7156835/clifredd"}, "is_accepted": true, "score": 0, "last_activity_date": 1523960320, "creation_date": 1523960320, "answer_id": 49875526, "question_id": 49873328, "link": "https://stackoverflow.com/questions/49873328/active-record-find-records-by-ceratin-condition/49875526#49875526", "title": "Active Record: find records by ceratin condition", "body": "<p>Thanks to this answer <a href=\"https://stackoverflow.com/questions/6641631/highest-rated-scope-to-order-by-average-rating?rq=1&amp;utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">:highest_rated scope to order by average rating</a></p>\n\n<p>My final solution is</p>\n\n<pre><code>Doctor.joins(:reviews).group('doctors.id').order('AVG(reviews.rating) DESC').limit(3)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7156835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d4985f9228f7293a1295357df03c6b?s=128&d=identicon&r=PG&f=1", "display_name": "clifredd", "link": "https://stackoverflow.com/users/7156835/clifredd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 49875526, "answer_count": 1, "score": 0, "last_activity_date": 1523960320, "creation_date": 1523953873, "last_edit_date": 1523954884, "question_id": 49873328, "link": "https://stackoverflow.com/questions/49873328/active-record-find-records-by-ceratin-condition", "title": "Active Record: find records by ceratin condition", "body": "<p>My goal is to find three doctors with more than 1 review and with average rating >= 4</p>\n\n<p>At the moment I'm using this service</p>\n\n<pre><code>class RatingCounterService\n  def get_three_best_doctors\n    doctors = find_doctors_with_reviews\n    sorted_doctors = sort_doctors(doctors)\n    reversed_hash = reverse_hash_with_sorted_doctors(sorted_doctors)\n    three_doctors = get_first_three_doctors(reversed_hash)\n  end\n\n  private\n\n  def find_doctors_with_reviews\n    doctors_with_reviews = {}\n\n    Doctor.all.each do |doctor|\n      if doctor.reviews.count &gt; 0 &amp;&amp; doctor.average_rating &gt;= 4\n        doctors_with_reviews[doctor] = doctor.average_rating\n      end\n    end\n\n    doctors_with_reviews\n  end\n\n  def sort_doctors(doctors)\n    doctors.sort_by { |doctor, rating| rating }\n  end\n\n  def reverse_hash_with_sorted_doctors(sorted_doctors)\n    reversed = sorted_doctors.reverse_each.to_h\n  end\n\n  def get_first_three_doctors(reversed_hash)\n    reversed_hash.first(3).to_h.keys\n  end\nend\n</code></pre>\n\n<p>Which is very slow.</p>\n\n<p>My Doctor model:</p>\n\n<pre><code>class Doctor &lt; ApplicationRecord\n  has_many :reviews, dependent: :destroy\n\n  def average_rating\n    reviews.count == 0 ? 0 : reviews.average(:rating).round(2)\n  end\nend\n</code></pre>\n\n<p>Review model:</p>\n\n<pre><code>class Review &lt; ApplicationRecord\n  belongs_to :doctor\n\n  validates :rating, presence: true\nend\n</code></pre>\n\n<p>I can find all doctors with more than 1 review with this request</p>\n\n<pre><code>doctors_with_reviews = Doctor.joins(:reviews).group('doctors.id').having('count(doctors.id) &gt; 0')\n</code></pre>\n\n<p>But how can I find doctors with an average rating >= 4 and order them by the highest rating if the \"average rating\" is an instance method?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "jsonb"], "comments": [{"owner": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "edited": false, "score": 0, "creation_date": 1523953060, "post_id": 49872588, "comment_id": 86761344, "body": "<a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Store.html\" rel=\"nofollow noreferrer\">api.rubyonrails.org/classes/ActiveRecord/Store.html</a> This link mentions: <b>The default validations with the exception of uniqueness will work. For example, if you want to check for uniqueness with hstore you will need to use a custom validation to handle it.</b>"}, {"owner": {"reputation": 890, "user_id": 1942262, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/SFmTN.png?s=128&g=1", "display_name": "Kanna", "link": "https://stackoverflow.com/users/1942262/kanna"}, "reply_to_user": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "edited": false, "score": 0, "creation_date": 1523960131, "post_id": 49872588, "comment_id": 86766294, "body": "Thanks deep, how we could do store accessor validation."}, {"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523961613, "post_id": 49872588, "comment_id": 86767197, "body": "@VtrKanna you can <a href=\"https://stackoverflow.com/questions/12515021/validation-in-postgresql\">set up validations on db side</a> or check manually via <a href=\"https://apidock.com/rails/ActiveRecord/Base/exists%3f/class\" rel=\"nofollow noreferrer\">exists?</a> and <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Locking/Pessimistic.html\" rel=\"nofollow noreferrer\">SELECT ... FOR UPDATE</a>. Also if you want to validate hash you can use <a href=\"http://dry-rb.org/gems/dry-validation/\" rel=\"nofollow noreferrer\">dry-validation</a>"}], "owner": {"reputation": 890, "user_id": 1942262, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/SFmTN.png?s=128&g=1", "display_name": "Kanna", "link": "https://stackoverflow.com/users/1942262/kanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1183, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1589366724, "creation_date": 1523951414, "last_edit_date": 1523960063, "question_id": 49872588, "link": "https://stackoverflow.com/questions/49872588/how-to-validate-store-accessor-columns-in-rails", "title": "How to validate store accessor columns in rails?", "body": "<p>We are using store_accessor, we could not validate store_accessor fields</p>\n\n<pre><code>class Account &lt; ApplicationRecord\n  store_accessor :data, :title, :user_id\n  validates :title, uniqueness: true\nend\n</code></pre>\n\n<p>We could not validate store_accessor column/field, we are facing pg error</p>\n\n<p>Error: </p>\n\n<pre><code>ActiveRecord::StatementInvalid: PG::UndefinedColumn: ERROR:  column accounts.title does not exist\nLINE 1: SELECT  1 AS one FROM \"accounts\" WHERE \"accounts\".\"title\" = ...\n</code></pre>\n\n<p>Environment:\n <strong>ruby 2.4.1, Rails 5.1.4, Postgresql, Jsonb.</strong></p>\n\n<p>How to use validation for store_accessor fields/ columns?</p>\n\n<p>If we could not use default validate, How we could do custom validation for store_accessor fields?</p>\n\n<p>Please update with some example.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "edited": false, "score": 0, "creation_date": 1523953284, "post_id": 49872394, "comment_id": 86761470, "body": "I am not sure about your issue but something is trying to use documents table before/while the application initialization. It may be in initializers or in your exception it is saying routes line number 1, can you please paste the routes file and document model."}, {"owner": {"reputation": 661, "user_id": 9623727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R9FUMCsLfUs/AAAAAAAAAAI/AAAAAAAAADI/5iENM99eo_M/photo.jpg?sz=128", "display_name": "Alexander Sysuiev", "link": "https://stackoverflow.com/users/9623727/alexander-sysuiev"}, "edited": false, "score": 0, "creation_date": 1523958470, "post_id": 49872394, "comment_id": 86765109, "body": "I assume you are using class Document somewhere in the <code>environment.rb</code>, <code>routes.rb</code> or migrations. So when you run migrations rails tries to initialize the class and ActiveRecord tries to connect to the proper table. Please add <code>routes.rb</code>, <code>environment.rb</code> and migrations code"}, {"owner": {"reputation": 2303, "user_id": 109274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59b0daee5e5570e07a9f976721017e7?s=128&d=identicon&r=PG", "display_name": "mikezter", "link": "https://stackoverflow.com/users/109274/mikezter"}, "edited": false, "score": 2, "creation_date": 1523964440, "post_id": 49872394, "comment_id": 86769158, "body": "you don&#39;t have any tables in your db. How did you generate the <code>Document</code> model? You need <code>rake db:migrate</code>, probably."}], "owner": {"reputation": 439, "user_id": 2946606, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/asPZv.jpg?s=128&g=1", "display_name": "Grady", "link": "https://stackoverflow.com/users/2946606/grady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 733, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523950710, "creation_date": 1523950710, "question_id": 49872394, "link": "https://stackoverflow.com/questions/49872394/activerecordstatementinvalid-mysql2error-table-exchange-development-docum", "title": "ActiveRecord::StatementInvalid: Mysql2::Error: Table &#39;exchange_development.documents&#39; doesn&#39;t exist: SHOW FULL FIELDS FROM `documents`", "body": "<p>I'm getting the following error: <a href=\"https://gist.github.com/glaksmono/859e495d61bfb4c66e1bdb24dbdf5719\" rel=\"nofollow noreferrer\">https://gist.github.com/glaksmono/859e495d61bfb4c66e1bdb24dbdf5719</a></p>\n\n<p>And here's what I have in my databases:</p>\n\n<pre><code>mysql&gt; mysql&gt; SHOW DATABASES;\n+----------------------+\n| Database             |\n+----------------------+\n| information_schema   |\n| exchange_development |\n| exchange_production  |\n| exchange_test        |\n| mysql                |\n| performance_schema   |\n| sys                  |\n+----------------------+\n7 rows in set (0.00 sec)\n\nmysql&gt; USE exchange_development;\nDatabase changed\nmysql&gt; SHOW TABLES;\nEmpty set (0.00 sec)\n\nmysql&gt;\n</code></pre>\n\n<p>I've tried executing <code>bundle exec rake db:schema:load</code> prior, and been searching over the web on this but none has worked so far. Thoughts?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "edited": false, "score": 0, "creation_date": 1523948948, "post_id": 49871865, "comment_id": 86758984, "body": "Is seems that your <code>ENV[&#39;root_url&#39;]</code> is not set which is causing this."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523953118, "post_id": 49872016, "comment_id": 86761381, "body": "is there any specific area in the environment.rb file I need to add that line or will anywhere do?"}, {"owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "reply_to_user": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523953167, "post_id": 49872016, "comment_id": 86761407, "body": "After this <code>Rails.application.initialize!</code> line"}, {"owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "reply_to_user": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523953264, "post_id": 49872016, "comment_id": 86761462, "body": "OK, then check your <code>production.rb</code>  and set <code>config.action_mailer.default_url_options</code>"}, {"owner": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523953808, "post_id": 49872016, "comment_id": 86761791, "body": "Unfortunately, I&#39;m still getting the same exact error.  I made sure to restart the server.  I appreciate your help!"}, {"owner": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523953969, "post_id": 49872016, "comment_id": 86761885, "body": "does it matter where to place that line in production.rb?"}, {"owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "reply_to_user": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523954271, "post_id": 49872016, "comment_id": 86762082, "body": "No, that&#39;s does not matter, now I think the issue raised on <code>ENV[&#39;root_url&#39;]</code>, can you change this with <code>&lt;%= lead_url(@lead, host: &#39;https:&#47;&#47;your-domain.com&#39; ) %&gt;</code> for test purpose and see what&#39;s happening"}, {"owner": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523954942, "post_id": 49872016, "comment_id": 86762487, "body": "that solved that issue, but now we have a new error related to the postmark API.  What we are noticing is that anything that has ENV[&#39;various_values_here&#39;] we are needing to hardcode fixes in."}, {"owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "reply_to_user": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523955420, "post_id": 49872016, "comment_id": 86762807, "body": "OK, see the updated answer <b>For environment variable</b>"}, {"owner": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523955946, "post_id": 49872016, "comment_id": 86763148, "body": "Thank you so much!  That took care of it and points me in the right direction for the other errors!  I gave it a +1 but it says it was recored but not publicly shown."}, {"owner": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523956544, "post_id": 49872016, "comment_id": 86763599, "body": "One more question... is there anything I have to do after updating the application.yml file?"}, {"owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "reply_to_user": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "edited": false, "score": 0, "creation_date": 1523956802, "post_id": 49872016, "comment_id": 86763787, "body": "If you push to your private repository then you can update your <code>.gitignore</code> file for pushing this <code>application.yml</code> it depends on you what do you want if you want to push this <code>application.yml</code> file  then comment <code>&#47;config&#47;application.yml</code> this line to your <code>.gitignore</code> otherwise, leave this"}], "tags": [], "owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "is_accepted": true, "score": 0, "last_activity_date": 1523955382, "last_edit_date": 1523955382, "creation_date": 1523949342, "answer_id": 49872016, "question_id": 49871865, "link": "https://stackoverflow.com/questions/49871865/fatal-error-in-ruby-on-rails-app/49872016#49872016", "title": "Fatal Error in Ruby on Rails App", "body": "<p>Try to the <code>config/environment.rb</code> file adding below line</p>\n\n<pre><code>Rails.application.routes.default_url_options = { :host =&gt; \"https://example.herokuapp.com\" } \n#=&gt; host you can change your domain\n</code></pre>\n\n<p>you can use this separately in <code>development.rb</code>, <code>production.rb</code> and <code>test.rb</code></p>\n\n<p><strong>production.rb</strong></p>\n\n<pre><code>config.action_mailer.default_url_options = { :host =&gt; \"https://example.herokuapp.com\" }\n</code></pre>\n\n<p>make sure restart the server after making changes</p>\n\n<p><strong>Update</strong></p>\n\n<p>Now I think the issue raising for <code>ENV['root_url']</code>, can you change this like below</p>\n\n<pre><code>&lt;%= lead_url(@lead, host: 'https://your-domain.com' ) %&gt; \n</code></pre>\n\n<p>for test purpose and see what's happening, if it's working then you can set up the environment variable in the right way</p>\n\n<p><strong>For environment variable</strong> you can use <a href=\"https://github.com/laserlemon/figaro\" rel=\"nofollow noreferrer\"><code>Figaro</code></a> gem, add Figaro to your <code>Gemfile</code> and bundle install:</p>\n\n<pre><code>gem \"figaro\"\n</code></pre>\n\n<p>Figaro installation is easy:</p>\n\n<pre><code>bundle exec figaro install\n#=&gt; create  config/application.yml\n</code></pre>\n\n<p>after installing this go to <code>config/application.yml</code> and add URL like this</p>\n\n<pre><code>root_url: \"https://you-domain.com\"\n</code></pre>\n\n<p>then now</p>\n\n<pre><code>&lt;%= ENV['root_url'] %&gt;\n#=&gt; https://you-domain.com\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3706739, "user_type": "registered", "profile_image": "https://graph.facebook.com/10004357/picture?type=large", "display_name": "mrpresto", "link": "https://stackoverflow.com/users/3706739/mrpresto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 49872016, "answer_count": 1, "score": 2, "last_activity_date": 1523955382, "creation_date": 1523948774, "last_edit_date": 1523948887, "question_id": 49871865, "link": "https://stackoverflow.com/questions/49871865/fatal-error-in-ruby-on-rails-app", "title": "Fatal Error in Ruby on Rails App", "body": "<p>Hi we had an app copied over to a new domain and are getting the following errors in the log.  Can anyone point us in the right direction since we are no experts in Ruby on Rails?</p>\n\n<pre><code>F, [2018-04-17T07:01:04.366958 #32309] FATAL -- : [e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]   \nF, [2018-04-17T07:01:04.367095 #32309] FATAL -- : [e1fdedc8-ccf2-4537-a2ca-2760fd71eb68] ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):\nF, [2018-04-17T07:01:04.367316 #32309] FATAL -- : [e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]     87:                 &lt;/tr&gt;\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]     88:                 &lt;tr style=\"font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; margin: 0;\"&gt;  &lt;td class=\"content-block\" style=\"font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; vertical-align: top; margin: 0; padding: 0 0 20px;\" valign=\"top\"&gt;\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]     89:                     &lt;p&gt;\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]     90:                       &lt;a href=\"&lt;%= lead_url(@lead, host: ENV['root_url'] ) %&gt;\"&gt; &lt;%= @lead.address %&gt;&lt;/p&gt;\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]     91:                   &lt;/td&gt;\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]     92:                 &lt;/tr&gt;\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]     93:                 &lt;tr style=\"font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; margin: 0;\"&gt;&lt;td class=\"content-block\" style=\"font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; vertical-align: top; margin: 0; padding: 0 0 20px;\" valign=\"top\"&gt;\nF, [2018-04-17T07:01:04.367370 #32309] FATAL -- : [e1fdedc8-ccf2-4537-a2ca-2760fd71eb68]   \nF, [2018-04-17T07:01:04.367412 #32309] FATAL -- : [e1fdedc8-ccf2-4537-a2ca-2760fd71eb68] app/views/offer_mailer/lead_received_email.html.erb:90:in `_app_views_offer_mailer_lead_received_email_html_erb__2123924889929648841_69874930248760'\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68] app/mailers/offer_mailer.rb:6:in `lead_received_email'\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68] app/controllers/wizards_controller.rb:79:in `email_notify_agent'\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68] app/controllers/wizards_controller.rb:54:in `notify_agent'\n[e1fdedc8-ccf2-4537-a2ca-2760fd71eb68] app/controllers/wizards_controller.rb:31:in `validate_step'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1523942745, "post_id": 49870407, "comment_id": 86756167, "body": "can you restart the server ?"}, {"owner": {"reputation": 6942, "user_id": 4172515, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BYWxd.jpg?s=128&g=1", "display_name": "fool-dev", "link": "https://stackoverflow.com/users/4172515/fool-dev"}, "edited": false, "score": 0, "creation_date": 1523942867, "post_id": 49870407, "comment_id": 86756207, "body": "Your code seems ok, I don&#39;t see any problem"}, {"owner": {"reputation": 716, "user_id": 3250825, "user_type": "registered", "profile_image": "https://graph.facebook.com/1468110470/picture?type=large", "display_name": "mccalljt", "link": "https://stackoverflow.com/users/3250825/mccalljt"}, "edited": false, "score": 3, "creation_date": 1523943286, "post_id": 49870407, "comment_id": 86756336, "body": "Can you post the entire error message and the first few lines of the stack trace?"}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1523948112, "post_id": 49870407, "comment_id": 86758505, "body": "do you already use git? If so and if you are committing regularly you can use <code>git diff</code> to see your changes. Otherwise, this is a good time to start using git."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601213"}, "edited": false, "score": 0, "creation_date": 1523950812, "post_id": 49870407, "comment_id": 86760008, "body": "public_send(&quot;#{k}=&quot;, v)         else           raise UnknownAttributeError.new(self, k)         end       end   end"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601213"}, "edited": false, "score": 0, "creation_date": 1523950829, "post_id": 49870407, "comment_id": 86760015, "body": "and i do use git, there was also no difference either..."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9601213"}, "edited": false, "score": 0, "creation_date": 1523951321, "post_id": 49872461, "comment_id": 86760313, "body": "I tried running the command and I&#39;m still getting the same error. Also I do not have the same attributes in the post table when I check my schema"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601213"}, "edited": false, "score": 0, "creation_date": 1523951430, "post_id": 49872461, "comment_id": 86760376, "body": "Alright I&#39;ve checked the migration status it says &quot;up&quot; which I&#39;m assuming is correct because it says the for all my migrations"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601213"}, "edited": false, "score": 0, "creation_date": 1523956047, "post_id": 49872461, "comment_id": 86763236, "body": "thank you but I fixed the problem, however I do appreciate your help :)"}], "tags": [], "owner": {"reputation": 19261, "user_id": 4758119, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/F4dJY.jpg?s=128&g=1", "display_name": "Deepak Mahakale", "link": "https://stackoverflow.com/users/4758119/deepak-mahakale"}, "is_accepted": false, "score": 0, "last_activity_date": 1523951315, "last_edit_date": 1523951315, "creation_date": 1523950963, "answer_id": 49872461, "question_id": 49870407, "link": "https://stackoverflow.com/questions/49870407/activemodelunknownattributeerror-in-postscontrollercreate/49872461#49872461", "title": "ActiveModel::UnknownAttributeError in PostsController#create", "body": "<p>The possible reason for <code>ActiveModel::UnknownAttributeError</code> is when you try to assign an attribute which is not present in the table.</p>\n\n<p>You must have added some attributes to <code>Post</code> model but must have forgotten to run the migration</p>\n\n<pre><code>bundle exec rake db:migrate\n</code></pre>\n\n<p>Running this command should solve the problem</p>\n\n<p><strong>NOTE</strong>: I can see there is a new migration <code>AddLatitudeAndLongitudeToPost</code> which is adding some columns to <code>posts</code> table. Check the migration status with:</p>\n\n<pre><code>bundle exec rake db:migrate:status\n</code></pre>\n\n<p>Check if you can see same attributes in <code>schema.rb</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9601213"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1523951315, "creation_date": 1523942354, "question_id": 49870407, "link": "https://stackoverflow.com/questions/49870407/activemodelunknownattributeerror-in-postscontrollercreate", "title": "ActiveModel::UnknownAttributeError in PostsController#create", "body": "<p>It was working perfectly fine but now I'm getting this error for some reason?</p>\n\n<pre><code>class Post &lt; ApplicationRecord\nbelongs_to :user\n geocoded_by :address\n after_validation :geocode, if: :address_changed?\n\n  has_many :rsvps\n  has_many :users, through: :rsvps\n\nend\n</code></pre>\n\n<p>form.html.erb</p>\n\n<pre><code>&lt;%= form_with(model: post, local: true) do |form| %&gt;\n  &lt;% if post.errors.any? %&gt;\n    &lt;div id=\"error_explanation\"&gt;\n      &lt;h2&gt;&lt;%= pluralize(post.errors.count, \"error\") %&gt; prohibited this post from being saved:&lt;/h2&gt;\n\n      &lt;ul&gt;\n      &lt;% post.errors.full_messages.each do |message| %&gt;\n        &lt;li&gt;&lt;%= message %&gt;&lt;/li&gt;\n      &lt;% end %&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;% end %&gt;\n\n  &lt;div class=\"field\"&gt;\n    &lt;%= form.label :date %&gt;\n    &lt;%= form.datetime_select :date, id: :post_date %&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"field\"&gt;\n    &lt;%= form.label :name %&gt;\n    &lt;%= form.text_area :name, id: :post_name %&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"action\"&gt;\n    &lt;%= form.label :address %&gt;\n    &lt;%= form.text_area :address, id: :post_address %&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"field\"&gt;\n    &lt;%= form.label :user_id %&gt;\n    &lt;%= form.number_field :user_id, id: :post_user_id, value: current_user.id %&gt;\n\n  &lt;/div&gt;\n\n  &lt;div class=\"field\"&gt;\n    &lt;%= form.label :description %&gt;\n    &lt;%= form.text_area :description, id: :post_description %&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"actions\"&gt;\n    &lt;%= form.submit %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>post controller</p>\n\n<pre><code>class PostsController &lt; ApplicationController\n  before_action :set_post, only: [:show, :edit, :update, :destroy]\n\n  # GET /posts\n  # GET /posts.json\n  def index\n    @posts = Post.all\n  end\n\n  # GET /posts/1\n  # GET /posts/1.json\n  def show\n     @post = Post.find(params[:id])\n\n  end\n\n  # GET /posts/new\n  def new\n    @post = Post.new\n  end\n\n  # GET /posts/1/edit\n  def edit\n   unless current_user == @post.user\n    redirect_back fallback_location: root_path, notice: 'User is not owner'\n   end\n  end\n\n  # POST /posts\n  # POST /posts.json\n  def create\n    @post = Post.new(post_params)\n\n    respond_to do |format|\n      if @post.save\n        format.html { redirect_to @post, notice: 'Post was successfully created.' }\n        format.json { render :show, status: :created, location: @post }\n      else\n        format.html { render :new }\n        format.json { render json: @post.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PATCH/PUT /posts/1\n  # PATCH/PUT /posts/1.json\n  def update\n    respond_to do |format|\n      if @post.update(post_params)\n        format.html { redirect_to @post, notice: 'Post was successfully updated.' }\n        format.json { render :show, status: :ok, location: @post }\n      else\n        format.html { render :edit }\n        format.json { render json: @post.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /posts/1\n  # DELETE /posts/1.json\n  def destroy\n    @post.destroy\n    respond_to do |format|\n      format.html { redirect_to posts_url, notice: 'Post was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n\n\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_post\n      @post = Post.find(params[:id])\n    end\n\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def post_params\n      params.require(:post).permit(:date, :user_id, :description, :name, :address)\n    end\n    load_and_authorize_resource\n\n\nend\n</code></pre>\n\n<p>migrations</p>\n\n<pre><code>class AddLatitudeAndLongitudeToPost &lt; ActiveRecord::Migration[5.1]\n      def change\n        add_column :posts, :latitude, :float\n        add_column :posts, :longitude, :float\n        add_column :posts, :address, :string\n      end\n    end\n</code></pre>\n\n<p>posts migration</p>\n\n<pre><code>class CreatePosts &lt; ActiveRecord::Migration[5.1]\n  def change\n    create_table :posts do |t|\n      t.datetime :date\n      t.string   :name\n      t.integer :user_id\n      t.text :description\n\n\n      t.timestamps\n    end\n  end\nend\n</code></pre>\n\n<p>I'm not sure how it would stop working automatically as there was literally no changes. I was just figuring out why my google static map was getting an error. However I didn't implement any changes so I don't know what could have possibly caused this error? I would appreciate some advice, thank you.</p>\n"}, {"tags": ["ruby", "algorithm", "recursion", "terminology"], "comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 1, "creation_date": 1523940421, "post_id": 49870068, "comment_id": 86755398, "body": "Yes, it is a recursive function."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1523940983, "post_id": 49870068, "comment_id": 86755587, "body": "Why do you think you might not be allowed to use <code>shift</code>?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1523941125, "post_id": 49870068, "comment_id": 86755623, "body": "Yes, it&#39;s recursive, but consider <code>def recursive_sum(list); first, *rest = list; rest.empty? ? first : first + recursive_sum(rest); end</code>. Note if <code>first, *rest = [1,2,3]</code>, then <code>first #=&gt; 1</code> and <code>rest #=&gt; [2,3]</code>."}, {"owner": {"reputation": 363, "user_id": 7534274, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9TCm.jpg?s=128&g=1", "display_name": "Xullnn", "link": "https://stackoverflow.com/users/7534274/xullnn"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523942103, "post_id": 49870068, "comment_id": 86755949, "body": "@Stefan. I considered I should use more basic operation(such as index) to achieve this. It turns out that thought was wrong."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1523949858, "post_id": 49870068, "comment_id": 86759475, "body": "You could consider using methods that don&#39;t modify their receiver (as suggested by Cary Swoveland above). But that doesn&#39;t affect the &quot;recursiveness&quot; of your method."}], "answers": [{"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1523941009, "post_id": 49870161, "comment_id": 86755595, "body": "Nitpicking, but <code>if</code> is not a method."}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 3, "last_activity_date": 1523941073, "last_edit_date": 1523941073, "creation_date": 1523940621, "answer_id": 49870161, "question_id": 49870068, "link": "https://stackoverflow.com/questions/49870068/does-this-ruby-code-count-as-a-recursive-function/49870161#49870161", "title": "Does this ruby code count as a recursive function?", "body": "<p>Yes, I would call this a recursive function  for exactly the reason you already mentioned: <em>\"A recursive function/method calls itself.\"</em></p>\n\n<p>That the method calls <code>shift</code> doesn't harm. In fact, it calls other methods too - like <code>if</code>, <code>==</code>, <code>+</code></p>\n\n<p>You were not allowed to call any other method but only to call the method itself than the method would not be able to do anything useful.</p>\n\n<pre><code>def foo\n  foo\nend\n</code></pre>\n\n<p>Calling that recursive method would raise a <code>SystemStackError (stack level too deep)</code>.</p>\n"}], "owner": {"reputation": 363, "user_id": 7534274, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9TCm.jpg?s=128&g=1", "display_name": "Xullnn", "link": "https://stackoverflow.com/users/7534274/xullnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 1, "accepted_answer_id": 49870161, "answer_count": 1, "score": 0, "last_activity_date": 1523952367, "creation_date": 1523940009, "last_edit_date": 1523952367, "question_id": 49870068, "link": "https://stackoverflow.com/questions/49870068/does-this-ruby-code-count-as-a-recursive-function", "title": "Does this ruby code count as a recursive function?", "body": "<p>I am reading about recursion. One of the exercises is to write a recursive function to sum the numbers in an array. I should not use <code>Array#sum</code> to do this. I wrote this to imitate recursion:</p>\n\n<pre><code>def recursive_sum(list)\n  if list == []\n    return 0\n  else\n    return list.shift + recursive_sum(list)\n  end\nend\n\nrecursive_sum [1,2,3,4]\n# =&gt; 10\n</code></pre>\n\n<p>\"A recursive function/method calls itself.\" This is clear, and it seems this function does call itself. But I am not sure whether this counts as a recursive function because I used <code>shift</code> method in it.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku"], "answers": [{"tags": [], "owner": {"reputation": 10972, "user_id": 1299362, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f9ec564b963a34f47cc1719738d75b23?s=128&d=identicon&r=PG", "display_name": "Obromios", "link": "https://stackoverflow.com/users/1299362/obromios"}, "is_accepted": true, "score": 1, "last_activity_date": 1523940450, "creation_date": 1523940450, "answer_id": 49870128, "question_id": 49870028, "link": "https://stackoverflow.com/questions/49870028/how-to-check-the-heroku-database-version-from-ruby/49870128#49870128", "title": "How to check the heroku database version from ruby", "body": "<p>It turns out this is related to this github <code>https://github.com/bundler/bundler/issues/2489</code>. It looks like bundler is confused by a shebang in the heroku cli file.  The solution is to use a clean environment for bundler</p>\n\n<pre><code>Bundler.with_clean_env {`heroku run rake db:version --remote production`}\n</code></pre>\n"}], "owner": {"reputation": 10972, "user_id": 1299362, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f9ec564b963a34f47cc1719738d75b23?s=128&d=identicon&r=PG", "display_name": "Obromios", "link": "https://stackoverflow.com/users/1299362/obromios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 49870128, "answer_count": 1, "score": 0, "last_activity_date": 1523940475, "creation_date": 1523939789, "question_id": 49870028, "link": "https://stackoverflow.com/questions/49870028/how-to-check-the-heroku-database-version-from-ruby", "title": "How to check the heroku database version from ruby", "body": "<p>I want to check the version of my production database from a shell method running on my local MacOS development machine.  From the command line, I can successfully run</p>\n\n<pre><code>heroku run rake db:version --remote production\n</code></pre>\n\n<p>but if I open a <code>rails console</code> session and type in</p>\n\n<pre><code>hv = `heroku run rake db:version --remote production`\n</code></pre>\n\n<p>I see the following error message:</p>\n\n<pre><code>/Users/Chris/.rvm/gems/ruby-2.5.1@golf_mentor_5.0.7/gems/bundler-1.16.1/lib/bundler/definition.rb:489:in `validate_ruby!': Your Ruby version is 1.9.3, but your Gemfile specified 2.5.1 (Bundler::RubyVersionMismatch)\n    from /Users/Chris/.rvm/gems/ruby-2.5.1@golf_mentor_5.0.7/gems/bundler-1.16.1/lib/bundler/definition.rb:464:in `validate_runtime!'\n    from /Users/Chris/.rvm/gems/ruby-2.5.1@golf_mentor_5.0.7/gems/bundler-1.16.1/lib/bundler.rb:101:in `setup'\n    from /Users/Chris/.rvm/gems/ruby-2.5.1@golf_mentor_5.0.7/gems/bundler-1.16.1/lib/bundler/setup.rb:20:in `&lt;top (required)&gt;'\n    from /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require\n</code></pre>\n\n<p>I am using ruby 2.5.1.  The <code>heroku --version</code> command yields <code>heroku-cli/6.16.13-dbb9c23 (darwin-x64) node-v9.11.1</code>. How do I fix this?</p>\n"}, {"tags": ["ruby", "ubuntu"], "answers": [{"tags": [], "owner": {"reputation": 6462, "user_id": 3784008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55ou4.jpg?s=128&g=1", "display_name": "anothermh", "link": "https://stackoverflow.com/users/3784008/anothermh"}, "is_accepted": true, "score": 1, "last_activity_date": 1523939797, "creation_date": 1523939797, "answer_id": 49870032, "question_id": 49869884, "link": "https://stackoverflow.com/questions/49869884/getting-an-error-when-installing-sudo-gem-install-mechanize/49870032#49870032", "title": "Getting an error when installing &#39;sudo gem install mechanize&#39;", "body": "<p>You don't have the source code for Ruby so when it attempts to compile the gem it fails. It's looking for <code>/usr/lib/ruby/include/ruby.h</code> but that file isn't present on your system.</p>\n\n<p>Generally, it's not a good idea to use the system version of Ruby. (for this reason, and others) You should use a Ruby manager to install Ruby into your user profile, as this will make compiling gems a lot easier.</p>\n\n<p>For example, you can use <a href=\"https://rvm.io\" rel=\"nofollow noreferrer\">RVM</a> to install Ruby:</p>\n\n<pre><code>\\curl -sSL https://get.rvm.io | bash -s stable\n</code></pre>\n\n<p>This will install the latest version of <code>rvm</code>, which you can then use to install Ruby 2.4:</p>\n\n<pre><code>rvm install 2.4\n</code></pre>\n\n<p>You can install nearly any version of Ruby by specifying its version, for example Ruby 2.5:</p>\n\n<pre><code>rvm install 2.5\n</code></pre>\n\n<p>Afterwards, running <code>ruby</code> will automatically run the version installed by RVM. And since it's installed in your profile, you don't need to use <code>sudo</code> for any operations. (and you should never use <code>sudo</code> when using <code>rvm</code> or Rubies installed by <code>rvm</code>)</p>\n\n<p>In your case, you would then be able to run <code>gem install mechanize</code> successfully because it would be using the Ruby installation in your home directory that includes a copy of the source code and header files.</p>\n\n<p>If for some reason you can't use RVM or don't want to use RVM, then you need to have the Ruby header files installed. The way to install these headers varies by operating system so there's no one answer I can give you. If your OS is a Debian-based version of Linux, for example, you can install the headers with:</p>\n\n<pre><code>sudo apt-get install ruby2.4-dev\n</code></pre>\n\n<p>More information is available <a href=\"https://stackoverflow.com/questions/20559255/error-while-installing-json-gem-mkmf-rb-cant-find-header-files-for-ruby\">in another answer on stackoverflow</a>.</p>\n"}], "owner": {"reputation": 77, "user_id": 8601345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bd84fe684c2556cdfec496eb75f3d86?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8601345/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 49870032, "answer_count": 1, "score": 0, "last_activity_date": 1523939797, "creation_date": 1523938896, "question_id": 49869884, "link": "https://stackoverflow.com/questions/49869884/getting-an-error-when-installing-sudo-gem-install-mechanize", "title": "Getting an error when installing &#39;sudo gem install mechanize&#39;", "body": "<p>Even I have installed ruby-dev and ruby-make but still giving same error ? how to fix the error ?</p>\n\n<pre><code>sudo gem install mechanize\n    Building native extensions.  This could take a while...\n    ERROR:  Error installing mechanize:\n        ERROR: Failed to build gem native extension.\n\n        current directory: /var/lib/gems/2.4.0/gems/unf_ext-0.0.7.5/ext/unf_ext\n    /usr/bin/ruby2.4 -r ./siteconf20180417-8728-15wdd1s.rb extconf.rb\n    mkmf.rb can't find header files for ruby at /usr/lib/ruby/include/ruby.h\n\n    extconf failed, exit code 1\n\n    Gem files will remain installed in /var/lib/gems/2.4.0/gems/unf_ext-0.0.7.5 for inspection.\n    Results logged to /var/lib/gems/2.4.0/extensions/x86_64-linux/2.4.0/unf_ext-0.0.7.5/gem_make.out\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ember.js", "import"], "comments": [{"owner": {"reputation": 16053, "user_id": 1458413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc610c6d3b002273accb42820b3be34d?s=128&d=identicon&r=PG", "display_name": "Lux", "link": "https://stackoverflow.com/users/1458413/lux"}, "edited": false, "score": 0, "creation_date": 1523974006, "post_id": 49869823, "comment_id": 86776251, "body": "well, what is <code>mapbox</code>, how have you installed it?"}, {"owner": {"reputation": 1039, "user_id": 901308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec87cf930a11a4f30dfccb8e9a9dee3?s=128&d=identicon&r=PG", "display_name": "heat", "link": "https://stackoverflow.com/users/901308/heat"}, "edited": false, "score": 0, "creation_date": 1524055428, "post_id": 49869823, "comment_id": 86815443, "body": "If you use mapbox out of the box then you should use it as a shin <a href=\"https://ember-cli.com/user-guide/#standard-non-amd-asset\" rel=\"nofollow noreferrer\">ember-cli.com/user-guide/#standard-non-amd-asset</a> or try <a href=\"https://github.com/binhums/ember-cli-mapbox\" rel=\"nofollow noreferrer\">github.com/binhums/ember-cli-mapbox</a>"}, {"owner": {"reputation": 1008, "user_id": 273406, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9d7d7b8b81580faa6b506ee3a31f271c?s=128&d=identicon&r=PG", "display_name": "0skar", "link": "https://stackoverflow.com/users/273406/0skar"}, "edited": false, "score": 0, "creation_date": 1524296231, "post_id": 49869823, "comment_id": 86923445, "body": "an alternative is to use <a href=\"https://github.com/ef4/ember-browserify\" rel=\"nofollow noreferrer\">github.com/ef4/ember-browserify</a>, which will let you import from node_modules without shimming."}], "owner": {"reputation": 31, "user_id": 5718854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee48fc7088be86535774281122542092?s=128&d=identicon&r=PG", "display_name": "Rodrigo Martins", "link": "https://stackoverflow.com/users/5718854/rodrigo-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523973981, "creation_date": 1523938500, "last_edit_date": 1523973981, "question_id": 49869823, "link": "https://stackoverflow.com/questions/49869823/error-mapbox-emberjs-module", "title": "error mapbox emberjs module", "body": "<p>I there is a problem in Emberjs with 'mapbox', this error: <code>Could not find module mapbox imported from grao-online-front/instance-initializers/mapbox</code></p>\n\n<pre><code>import ENV from '../config/environment';\nimport L from 'mapbox';\n\nexport function initialize() {\n  L.mapbox.accessToken = ENV.mapbox.accessToken;\n}\n\nexport default {\n  name: 'mapbox',\n  initialize\n};\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "drivers", "tournament"], "comments": [{"owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523945603, "post_id": 49869460, "comment_id": 86757288, "body": "Could you share the complete stack trace of the error?"}, {"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "reply_to_user": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523946538, "post_id": 49869460, "comment_id": 86757680, "body": "I am sorry for the dumb question but how do I do that?"}, {"owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523948698, "post_id": 49869460, "comment_id": 86758846, "body": "When you receive the error, there will be more lines with details about the error and where the error is occurring. It will mostly follow the error message. Sharing that will help pin point the error."}, {"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "reply_to_user": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523949653, "post_id": 49869460, "comment_id": 86759366, "body": "I edited my post to show the errors. I am hoping this what you are refering to. Thanks for the help."}, {"owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523950052, "post_id": 49869460, "comment_id": 86759572, "body": "From what I understand the gem <code>tournament-system</code> has been installed but not explicitly required in your <code>driver.rb</code>. Try adding <code>require &#39;tournament-system&#39;</code> before <code>class Driver</code> and see if that helps."}, {"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "reply_to_user": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523950211, "post_id": 49869460, "comment_id": 86759660, "body": "ok I did that but now I am getting the error: cannot load such file -- tournament-system"}, {"owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523950353, "post_id": 49869460, "comment_id": 86759740, "body": "Look at this sample test driver - <a href=\"https://github.com/ozfortress/tournament-system/blob/master/spec/support/test_driver.rb\" rel=\"nofollow noreferrer\">github.com/ozfortress/tournament-system/blob/master/spec/&hellip;</a>  Change the require to <code>require &#39;tournament_system&#39;</code>. That should do it"}, {"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "reply_to_user": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523950511, "post_id": 49869460, "comment_id": 86759831, "body": "Perfect!! However, there is a new error: Not Implemented      <code>def tourn     driver = Driver.new    # Generate a round of a single elimination tournament     TournamentSystem::SingleElimination.generate driver     #Challonge::Tournament.find(:all)     #@teamArray2 = render html: &quot;&lt;div&gt;#{Challonge::Tournament.find(:all)}&lt;&#47;div&gt;&quot;.html_safe   end</code>"}, {"owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523950914, "post_id": 49869460, "comment_id": 86760068, "body": "I think your <code>def tournament</code> has an extra <code>end</code>"}, {"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "reply_to_user": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523951144, "post_id": 49869460, "comment_id": 86760202, "body": "I dont think so I just took another look. I believe all the ends are in the right spot and without any extra ones."}, {"owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523951564, "post_id": 49869460, "comment_id": 86760457, "body": "You have used <code>Tourney.all</code>. Is there a model named <code>Tourney</code>? Can you update the question with the new findings and stacktrace?"}, {"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "reply_to_user": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "edited": false, "score": 0, "creation_date": 1523952053, "post_id": 49869460, "comment_id": 86760764, "body": "I have updated my question. Also yes I do have a model named Tourney but it was created with the scaffold and theres nothing in it. Also the Tourney.All has nothing to really do with the tournament_system part. That was something else I was working on which I got working."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "edited": false, "score": 0, "creation_date": 1523953278, "post_id": 49873098, "comment_id": 86761467, "body": "Oh damn I see. So it looks like this gem wont work for my needs since it is not completed. Can you recommend a tutorial or gem that can do single elimination tournaments or any other tournaments besides round robin. As I already got that working with the round-robin gem as you can see in the def tournament section."}, {"owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "reply_to_user": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "edited": false, "score": 0, "creation_date": 1523953472, "post_id": 49873098, "comment_id": 86761574, "body": "Unfortunately I cannot help you there as I have never worked with tournament systems before. You could get in touch with the developer of the project to check if they are going to finish implementing this soon."}, {"owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "edited": false, "score": 0, "creation_date": 1523953516, "post_id": 49873098, "comment_id": 86761602, "body": "Yea very true. Well thank you for your help. I really appriciate it as I&#39;ve spent a couple of weeks trying to figure this out."}], "tags": [], "owner": {"reputation": 807, "user_id": 2651076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3274dc805ba25f33023bee2a4d32d6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sinstein", "link": "https://stackoverflow.com/users/2651076/sinstein"}, "is_accepted": true, "score": 0, "last_activity_date": 1523953334, "last_edit_date": 1523953334, "creation_date": 1523953105, "answer_id": 49873098, "question_id": 49869460, "link": "https://stackoverflow.com/questions/49869460/tournament-systems-creating-driver/49873098#49873098", "title": "Tournament-Systems creating driver", "body": "<p>Your <code>Class Driver</code> was inhereting from <code>TournamentSystem::Driver</code> but that module was not available as it was not explicitly required. </p>\n\n<p>Adding <code>require 'tournament_system'</code> should take care of that.</p>\n\n<hr>\n\n<p>Regarding the <code>NotImplemented</code> error, this is not related to your code. If you follow the source code of <code>def generate</code> in <code>module SingleElimination</code> (<a href=\"https://github.com/ozfortress/tournament-system/blob/aeb4a3fba5d2e98b13916564ff4c122036c1ae1a/lib/tournament_system/single_elimination.rb#L13\" rel=\"nofollow noreferrer\">source code</a>) and traverse:</p>\n\n<p><a href=\"https://github.com/ozfortress/tournament-system/blob/aeb4a3fba5d2e98b13916564ff4c122036c1ae1a/lib/tournament_system/single_elimination.rb#L24\" rel=\"nofollow noreferrer\">def generate</a> calls <a href=\"https://github.com/ozfortress/tournament-system/blob/master/lib/tournament_system/driver.rb#L204\" rel=\"nofollow noreferrer\">create_matches</a> which calls <a href=\"https://github.com/ozfortress/tournament-system/blob/master/lib/tournament_system/driver.rb#L192\" rel=\"nofollow noreferrer\">create_match</a> which finally calls <a href=\"https://github.com/ozfortress/tournament-system/blob/master/lib/tournament_system/driver.rb#L144\" rel=\"nofollow noreferrer\">build_match</a> and that has a <code>raise 'Not Implemented'</code>.</p>\n\n<p>The Developer of the project has not completed implementing all the required functions.</p>\n"}], "owner": {"reputation": 15, "user_id": 8849943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b2caa1ccaa573da9d58be6b5f708fd?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Morales", "link": "https://stackoverflow.com/users/8849943/brandon-morales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 49873098, "answer_count": 1, "score": 0, "last_activity_date": 1523953334, "creation_date": 1523936035, "last_edit_date": 1523951994, "question_id": 49869460, "link": "https://stackoverflow.com/questions/49869460/tournament-systems-creating-driver", "title": "Tournament-Systems creating driver", "body": "<p>Now that the error has been fixed by adding <code>require 'tournament_system'</code> here is my new error:</p>\n\n<p>This is the terminal:</p>\n\n<pre><code>  Rendering html template\n  Rendered html template (0.0ms)\n  Rendered tourneys/index.html.erb within layouts/application (10.8ms)\nCompleted 401 Unauthorized in 16ms (Views: 0.3ms | ActiveRecord: 1.1ms)\n\n\n\nRuntimeError - Not Implemented:\n  app/controllers/tourneys_controller.rb:77:in `tourn'\n  app/views/tourneys/index.html.erb:37:in `_app_views_tourneys_index_html_erb__1482772099755741577_70314301318160'\n\nStarted POST \"/__better_errors/deabb75178ea93ac/variables\" for ::1 at 2018-04-17 00:55:03 -0700\n</code></pre>\n\n<p>This is on the webpage</p>\n\n<pre><code>Not Implemented\n\ntournapp/controllers/tourneys_controller.rb\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n  def tourn\n    driver = Driver.new\n   # Generate a round of a single elimination tournament\n    TournamentSystem::SingleElimination.generate driver\n    #Challonge::Tournament.find(:all)\n    #@teamArray2 = render html: \"&lt;div&gt;#{Challonge::Tournament.find(:all)}&lt;/div&gt;\".html_safe\n  end\n&gt;&gt;\n This is a live shell. Type in here.\nRequest info\nRequest parameters  \n{\"controller\"=&gt;\"tourneys\", \"action\"=&gt;\"index\"}\nRack session    \n(object too large. Modify ActionDispatch::Request::Session#inspect or increase BetterErrors.maximum_variable_inspect_size)\nLocal Variables\ndriver  \n#&lt;Driver:0x00007fe6a4eba5e0&gt;\n</code></pre>\n\n<p>I believe the error has to do with not calling the driver correctly. Also I created the controller Tourney using a scaffold.</p>\n"}, {"tags": ["arrays", "ruby", "hash"], "comments": [{"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523924634, "post_id": 49867941, "comment_id": 86751595, "body": "give <code>customers[:first][1]</code> a try (assumes age is always the second element)."}, {"owner": {"reputation": 16564, "user_id": 1261399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/679444399bbf92e3a5d3f16347809f3f?s=128&d=identicon&r=PG", "display_name": "Leo Correa", "link": "https://stackoverflow.com/users/1261399/leo-correa"}, "edited": false, "score": 0, "creation_date": 1523925721, "post_id": 49867941, "comment_id": 86751842, "body": "Is there a reason why you&#39;re using an array as the value to the hash? Also why use a hash to store the customers? A better way would be to use an array to store the customers and a ruby object as the elements in the array. That depends on your use case though."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1523926307, "post_id": 49867941, "comment_id": 86751954, "body": "Are the elements of your arrays (<code>name</code>, <code>age</code>, etc.) intended to be variables or methods? If they are meant to be literals you need to make them strings (<code>&quot;name&quot;</code>) or symbols (<code>:name</code>)."}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 0, "creation_date": 1523938257, "post_id": 49867941, "comment_id": 86754764, "body": "If you want to have both, field access by name and being an array, you could have a look at the gem <a href=\"https://rubygems.org/gems/arrayclass/versions/0.1.1\" rel=\"nofollow noreferrer\">arrayclass</a>."}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "edited": false, "score": 0, "creation_date": 1523974636, "post_id": 49868115, "comment_id": 86776755, "body": "thank you for this, how could i think check the entire hash to see if a customers name is already present? i.e. how to loop through only the names in each hash."}, {"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "reply_to_user": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "edited": false, "score": 0, "creation_date": 1524007374, "post_id": 49868115, "comment_id": 86793815, "body": "how is your customers hash structured now, is it like <code>customers = {first: [name, age, height, etc]}</code> or <code>customers = [{ name: &#39;John Doe&#39;, age: 30, height: 175 }]</code> ?"}], "tags": [], "owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "is_accepted": true, "score": 2, "last_activity_date": 1523925344, "creation_date": 1523925344, "answer_id": 49868115, "question_id": 49867941, "link": "https://stackoverflow.com/questions/49867941/setting-up-a-hash-with-an-array-value/49868115#49868115", "title": "Setting up a hash with an array value", "body": "<p>If your individual customers data is an Array like you showed then you need it to have fixed indexes for those attributes, like name always at index 0, age at index 1 and you can access the data by doing</p>\n\n<pre><code>customers[:first][0] # name\ncustomers[:first][1] # age\ncustomers[:first][2] # height\n</code></pre>\n\n<p>but if you control how the data is being generated then you should use <a href=\"https://ruby-doc.org/core-2.3.0/Hash.html\" rel=\"nofollow noreferrer\">Ruby Hash</a> for this purpose so the generated data should be in this format, an array of hashes</p>\n\n<pre><code>customers =  [{ name: 'John Doe', age: 30, height: 175 }, { name: 'John Doe', age: 30, height: 175 }]\n</code></pre>\n\n<p>and you can now do</p>\n\n<pre><code>customers.first[:name] # for first customer\ncustomers[0][:age] # for first customer\n\ncustomers[1][:name] # for second customer\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16564, "user_id": 1261399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/679444399bbf92e3a5d3f16347809f3f?s=128&d=identicon&r=PG", "display_name": "Leo Correa", "link": "https://stackoverflow.com/users/1261399/leo-correa"}, "is_accepted": false, "score": 2, "last_activity_date": 1523926236, "creation_date": 1523926236, "answer_id": 49868200, "question_id": 49867941, "link": "https://stackoverflow.com/questions/49867941/setting-up-a-hash-with-an-array-value/49868200#49868200", "title": "Setting up a hash with an array value", "body": "<p>Since you asked for a different way to set up this data structure, here's another option:</p>\n\n<p>Set up a class <code>Customer</code></p>\n\n<pre><code>class Customer\n   attr_accessor :name, :age, :height\n   def initialize(name:, age:, height:)\n     @name = name\n     @age = age\n     @height = height\n   end\nend\n</code></pre>\n\n<p>Then however you set up your collection, either an array or a hash, you can access the elements attributes by calling a method on the object.</p>\n\n<p>Here's an array example:</p>\n\n<pre><code>customers = [\n  Customer.new(name: \"John\", age: 30, height: 175),\n  Customer.new(name: \"Sam\", age: 25, height: 160)\n]\n</code></pre>\n\n<p>Then you could access the elements as</p>\n\n<pre><code>customer[0].name\n# =&gt; \"John\"\ncustomer[0].name = \"Tom\"\n# =&gt; \"Tom\"\ncustomer[1].age\n# =&gt; 25\n# etc...\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 49868115, "answer_count": 2, "score": 0, "last_activity_date": 1523933949, "creation_date": 1523923782, "last_edit_date": 1523933949, "question_id": 49867941, "link": "https://stackoverflow.com/questions/49867941/setting-up-a-hash-with-an-array-value", "title": "Setting up a hash with an array value", "body": "<p>I am looking to set up a hash with an array as the value i.e.,</p>\n\n<pre><code>customers = {first: [name, age, height, etc], second: [name, age, height, etc], ...}\n</code></pre>\n\n<p>How can I access and edit the customers specific attributes such as <code>customers[first[age]]</code>?</p>\n"}, {"tags": ["ruby", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 7690524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6120005787b1c35c8b86ec9e0874f45?s=128&d=identicon&r=PG&f=1", "display_name": "Makoto Taguchi", "link": "https://stackoverflow.com/users/7690524/makoto-taguchi"}, "edited": false, "score": 0, "creation_date": 1523954776, "post_id": 49868912, "comment_id": 86762382, "body": "Thank you for the answer! Didn&#39;t know <code>pg</code> 1.0 gem wasn&#39;t compatible with <code>activerecord4-redshift-adapter</code>"}, {"owner": {"reputation": 6462, "user_id": 3784008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55ou4.jpg?s=128&g=1", "display_name": "anothermh", "link": "https://stackoverflow.com/users/3784008/anothermh"}, "reply_to_user": {"reputation": 89, "user_id": 7690524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6120005787b1c35c8b86ec9e0874f45?s=128&d=identicon&r=PG&f=1", "display_name": "Makoto Taguchi", "link": "https://stackoverflow.com/users/7690524/makoto-taguchi"}, "edited": false, "score": 0, "creation_date": 1523994545, "post_id": 49868912, "comment_id": 86788772, "body": "@MakotoTaguchi Please make sure you mark the answer as accepted if this has resolved the issue for you."}], "tags": [], "owner": {"reputation": 6462, "user_id": 3784008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55ou4.jpg?s=128&g=1", "display_name": "anothermh", "link": "https://stackoverflow.com/users/3784008/anothermh"}, "is_accepted": false, "score": 0, "last_activity_date": 1523931916, "creation_date": 1523931916, "answer_id": 49868912, "question_id": 49867783, "link": "https://stackoverflow.com/questions/49867783/could-not-load-active-record-connection-adapters-redshift-adapter/49868912#49868912", "title": "Could not load &#39;active_record/connection_adapters/redshift_adapter&#39;", "body": "<p>You're using the <code>pg</code> gem version <code>1.0.0</code> and it is not compatible with the version of <code>active_record</code> and <code>activerecord4-redshift-adapter</code> that you're using:</p>\n\n<blockquote>\n  <p>The PGconn, PGresult, and PGError constants are deprecated, and will be removed as of version 1.0.</p>\n</blockquote>\n\n<p>This can be seen in the <a href=\"https://github.com/ged/ruby-pg/blob/b9fc5da3bf0de327a56b152fc2ebfd7f249688b2/History.rdoc#L10\" rel=\"nofollow noreferrer\">history</a> of the <code>pg</code> gem.</p>\n\n<p>The <code>activerecord4-redshift-adapter</code> <a href=\"https://github.com/aamine/activerecord4-redshift-adapter/blob/master/lib/active_record/connection_adapters/redshift_adapter.rb#L187-L191\" rel=\"nofollow noreferrer\">uses both</a> the <code>PGconn</code> and <code>PGError</code> constants:</p>\n\n<pre><code>def connection_active?\n  @connection.status == PGconn::CONNECTION_OK\nrescue PGError\n  false\nend\n</code></pre>\n\n<p>Although I was unable to exactly duplicate the error message that you saw, by modifying the <code>Gemfile</code> to use an older version of the <code>pg</code> gem I was able to get farther along:</p>\n\n<pre><code>gem 'pg', '~&gt; 0.21'\n</code></pre>\n\n<p>My exact steps were:</p>\n\n<ul>\n<li>create the <code>Gemfile</code></li>\n<li>create a file <code>test.rb</code> containing your Ruby code</li>\n<li>run <code>bundle install</code></li>\n<li>run <code>bundle exec ruby test.rb</code></li>\n</ul>\n\n<p>This produces the following error:</p>\n\n<pre><code>/Users/test/.rvm/gems/ruby-2.4.3/gems/activerecord4-redshift-adapter-0.2.1/lib/active_record/connection_adapters/redshift_adapter.rb:568:in `initialize': could not translate host name \"@host\" to address: nodename nor servname provided, or not known (PG::ConnectionBad)\n</code></pre>\n\n<p>This is almost certainly in the right direction for the problem you're having, and should put you on the path to accomplishing your goal.</p>\n"}], "owner": {"reputation": 89, "user_id": 7690524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6120005787b1c35c8b86ec9e0874f45?s=128&d=identicon&r=PG&f=1", "display_name": "Makoto Taguchi", "link": "https://stackoverflow.com/users/7690524/makoto-taguchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1523931916, "creation_date": 1523922447, "question_id": 49867783, "link": "https://stackoverflow.com/questions/49867783/could-not-load-active-record-connection-adapters-redshift-adapter", "title": "Could not load &#39;active_record/connection_adapters/redshift_adapter&#39;", "body": "<p>I ran into the error when I tried to run SQL through ruby script. Can someone help me figure out what could be the cause? I already looked for some similar posts but couldn't find the right solution yet.</p>\n\n<pre><code>    /Users/User/.rbenv/versions/2.4.3/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:68:in `require': Could not load 'active_record/connection_adapters/redshift_adapter'. Make sure that the adapter in config/database.yml is valid. If you use an adapter other than 'mysql', 'mysql2', 'postgresql' or 'sqlite3' add the necessary adapter gem to the Gemfile. (LoadError)\n  from /Users/User/.rbenv/versions/2.4.3/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:274:in `block in require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:240:in `load_dependency'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:274:in `require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/pg-0.17.1/lib/pg.rb:4:in `&lt;top (required)&gt;'\n  from /Users/User/.rbenv/versions/2.4.3/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n  from /Users/User/.rbenv/versions/2.4.3/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:68:in `require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:274:in `block in require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:240:in `load_dependency'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:274:in `require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activerecord4-redshift-adapter-0.2.1/lib/active_record/connection_adapters/redshift_adapter.rb:17:in `&lt;top (required)&gt;'\n  from /Users/User/.rbenv/versions/2.4.3/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:133:in `require'\n  from /Users/User/.rbenv/versions/2.4.3/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:133:in `rescue in require'\n  from /Users/User/.rbenv/versions/2.4.3/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:39:in `require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:274:in `block in require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:240:in `load_dependency'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activesupport-4.2.10/lib/active_support/dependencies.rb:274:in `require'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activerecord-4.2.10/lib/active_record/connection_adapters/connection_specification.rb:175:in `spec'\n  from /Users/User/.rvm/gems/ruby-2.4.3/gems/activerecord-4.2.10/lib/active_record/connection_handling.rb:50:in `establish_connection'\n  from /Users/User/Desktop/github/tracker/app/workers/appsflyer_importer_worker_aggregate.rb:100:in `fetch_data'\n  from /Users/User/Desktop/github/tracker/app/workers/appsflyer_importer_worker_aggregate.rb:120:in `perform'\n  from -:30:in `&lt;main&gt;'\n</code></pre>\n\n<p>Here is my settings:</p>\n\n<p>Gemfile</p>\n\n<pre><code>ruby '2.4.3'\ngem 'activerecord4-redshift-adapter', '~&gt; 0.2'\ngem 'pg'\n</code></pre>\n\n<p>Ruby version</p>\n\n<pre><code>ruby 2.4.3p205 (2017-12-14 revision 61247) [x86_64-darwin17]\n</code></pre>\n\n<p>Gem list</p>\n\n<pre><code>activerecord (4.2.10, 4.2.8)\nactiverecord4-redshift-adapter (0.2.1)\npg (1.0.0, 0.17.1)\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>require 'active_record'\n\nconn = {\n    adapter: 'redshift',\n    database: '@database',\n    host: '@host',\n    port: 5439,\n    username: '@username',\n    password: '@password'\n}\n\nActiveRecord::Base.establish_connection(conn)\nsql = 'select count(*) from table'\nActiveRecord::Base.connection.execute(sql)\n</code></pre>\n"}, {"tags": ["ruby", "unit-testing", "instance-variables", "minitest", "class-instance-variables"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523921358, "post_id": 49867625, "comment_id": 86750835, "body": "It seems like a bad design to depend on class instance variables like that, but even so, if that code runs it should assign. The question is, did it run at the right time?"}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523921666, "post_id": 49867625, "comment_id": 86750902, "body": "I&#39;ve ran a debugger in the <code>RateLimit</code> class to use <code>instance_variable_get</code> on <code>@timestamp</code>, and the results of the debugger in the test file vs the <code>RateLimit</code> class returns different results. The test file returns <code>[]</code> for <code>@timestamp</code> for any time I stop the debugger, while if I call the debugger in <code>RateLimit</code>, it would return the correct <code>@timestamp</code> object with timestamps inside. This is what leads me to think I&#39;m not getting the right instance"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523925497, "post_id": 49867625, "comment_id": 86751794, "body": "Is <code>RateLimit</code> a model? Does it get reloaded between tests?"}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523926926, "post_id": 49867625, "comment_id": 86752085, "body": "It&#39;s not a model"}, {"owner": {"reputation": 476, "user_id": 2645167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEnRe.jpg?s=128&g=1", "display_name": "andriy-baran", "link": "https://stackoverflow.com/users/2645167/andriy-baran"}, "edited": false, "score": 0, "creation_date": 1523952845, "post_id": 49867625, "comment_id": 86761211, "body": "RateLimit.new.instance_variable_set(:@timestamp, []) should work as expected"}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 476, "user_id": 2645167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEnRe.jpg?s=128&g=1", "display_name": "andriy-baran", "link": "https://stackoverflow.com/users/2645167/andriy-baran"}, "edited": false, "score": 0, "creation_date": 1524085586, "post_id": 49867625, "comment_id": 86833940, "body": "@andriy-baran <code>RateLimit.new.instance_variable_set(:@timestamp, [])</code> does not work, it tells me I need to set the 2 inputs <code>RateLimit.new(..,..,..)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1524084615, "post_id": 49872830, "comment_id": 86833521, "body": "Sorry but this does not answer my question at all."}], "tags": [], "owner": {"reputation": 476, "user_id": 2645167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEnRe.jpg?s=128&g=1", "display_name": "andriy-baran", "link": "https://stackoverflow.com/users/2645167/andriy-baran"}, "is_accepted": false, "score": -1, "last_activity_date": 1523952302, "creation_date": 1523952302, "answer_id": 49872830, "question_id": 49867625, "link": "https://stackoverflow.com/questions/49867625/instance-variable-set-is-not-setting-the-right-variable-in-an-instance/49872830#49872830", "title": "instance_variable_set is not setting the right variable in an instance", "body": "<p>You should stub another method:</p>\n\n<pre><code>before do\n  allow_any_instance_of(RateLimit).to receive(validate_rate?).and_return(true)\nend\n</code></pre>\n\n<p>Then test <code>RateLimit.new</code> in separate test examples </p>\n"}], "owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523952302, "creation_date": 1523921182, "question_id": 49867625, "link": "https://stackoverflow.com/questions/49867625/instance-variable-set-is-not-setting-the-right-variable-in-an-instance", "title": "instance_variable_set is not setting the right variable in an instance", "body": "<p>I have an API endpoint I'm testing using Ruby. I have 8 tests that look like the following:</p>\n\n<pre><code>it \"must rate limit on this api\" do\n\n  body = {\n    ..\n  }\n\n  # Current limits assigned to this api endpoint are 5 requests every 5 minutes.\n  # So this test will make 5 calls in short succession to trigger the rate limiter\n  with_logging_suppressed do\n    5.times do\n      post '/api/endpoint/', body.to_json\n      last_response.status.must_equal 200\n    end\n\n    post '/api/endpoint/', body.to_json\n    last_response.status.must_equal 429\n    last_response.body.include? \"You are doing this too often\"\n  end\nend\n</code></pre>\n\n<p>When you POST to <code>/api/endpoint/</code>, it spawns a <code>RateLimit</code> class which contains a <code>validate_rate?</code> method and it uses an instance variable of <code>@timestamp</code> which is an array of timestamps of when the API has been called. </p>\n\n<pre><code>RATE_LIMIT = RateLimit.new(5, 5.minutes)\npost '/api/endpoint/' do\n  if RATE_LIMIT.validate_rate?\n    ...\n  else\n    throw Error\n  end\nend\n</code></pre>\n\n<p><code>RateLimit</code> would contain the following <code>@timestamp</code> instance variable with the following sample of timestamps which <code>validate_rate?</code> would compare against. </p>\n\n<pre><code>@timestamp = [2018-04-16 19:17:48 -0400, 2018-04-16 19:17:49: -0400, 2018-04-16 19:17:58 -0400]\n</code></pre>\n\n<p>However, prior to each test run, I MUST clear out the <code>@timestamp</code> array or the array will contain timestamps from previous tests, which of course ruins the test results</p>\n\n<p>So I attempted to try to set the <code>@timestamp</code> array to a new array prior to each test run in the form of a <code>before</code> block.</p>\n\n<pre><code>before do\n  RateLimit.instance_variable_set(:@timestamp, [])\nend\n</code></pre>\n\n<p>The issue I am currently running into right now is that because the <code>RateLimit</code> instance isn't specifically created in this test, when I call <code>post /api/endpoint/</code>, I cannot seem to set the <code>@timestamp</code> variable if this makes sense. It does set a <code>@timestamp</code> to <code>[]</code>, but it's not setting the specific instance that was created when I am running the actual test</p>\n\n<p>I want to keep <code>@timestamp</code> private, so I do not want to create a method that lets me get or set this private variable, so my only choice seems to be <code>instance_variable_set</code>.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "datetime"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 4, "creation_date": 1523918866, "post_id": 49867303, "comment_id": 86750153, "body": "<b>WARNING</b>: It&#39;s extremely important to <b>NEVER</b> store plain-text passwords. Rails comes with Bcrypt support out of the box. If you need an authentication system that does it properly by default consider using something like <a href=\"https://github.com/plataformatec/devise/\" rel=\"nofollow noreferrer\">Devise</a>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1523918942, "post_id": 49867303, "comment_id": 86750174, "body": "<code>09-09-1996</code> is in the wrong format. It should be <code>YYYY-MM-DD</code> to validate properly."}, {"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 2, "creation_date": 1523919097, "post_id": 49867303, "comment_id": 86750217, "body": "Why would you call save after you called create? <a href=\"https://apidock.com/rails/ActiveRecord/Base/create/class\" rel=\"nofollow noreferrer\">create</a> creates an object (or multiple objects) and saves it to the database, if validations pass"}, {"owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523919361, "post_id": 49867303, "comment_id": 86750284, "body": "@tadman Thanks for the advise. I am working on the problem however, I am stuck at an error where it says bcrypt file not found. I would have to go back and start from scratch I guess.  Also, I tried YYYY-MM-DD format and it didn&#39;t go thorugh."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523919398, "post_id": 49867303, "comment_id": 86750300, "body": "You just need to include <code>require &#39;bcrypt&#39;</code> in the model code that uses Bcrypt. If that&#39;s not found then you also need <code>gem &#39;bcrypt&#39;</code> in your <code>Gemfile</code>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523919479, "post_id": 49867303, "comment_id": 86750326, "body": "Are you sure <code>dob</code> is the column name? The schema isn&#39;t shown here and might not match. Is that a <code>DATE</code> type column?"}, {"owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "reply_to_user": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523919662, "post_id": 49867303, "comment_id": 86750384, "body": "@MartinZinovsky Thanks You. I looked at the tutorial I am following and it does not uses create method and instead of &#39;create&#39; I put &#39;new&#39;.However, I am not able to store date yet."}, {"owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523919930, "post_id": 49867303, "comment_id": 86750459, "body": "@tadman Thanks for pointing out.! The datatype is set to time instead of datetime or date. . I really appreciate it."}, {"owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1523920035, "post_id": 49867303, "comment_id": 86750490, "body": "@tadman Sure. I will try that. I really appreciate both of you"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523920501, "post_id": 49867303, "comment_id": 86750625, "body": "That&#39;ll have to be <code>DATE</code> type to accept dates. Did switching the column type help?"}, {"owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523922786, "post_id": 49867303, "comment_id": 86751172, "body": "@tadman No success. I performed following steps. I generated a migration to update my column datatype. Restart the server. Tried using text_field and date_field inside my view. Still the same error. When I try to see what is inside the user object , it shows nil against the dob."}, {"owner": {"reputation": 2060, "user_id": 3944700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4df64cd1de5941fb49263a19d80f1482?s=128&d=identicon&r=PG&f=1", "display_name": "hashrocket", "link": "https://stackoverflow.com/users/3944700/hashrocket"}, "edited": false, "score": 0, "creation_date": 1523922919, "post_id": 49867303, "comment_id": 86751194, "body": "Can you show us your schema file?"}, {"owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "reply_to_user": {"reputation": 2060, "user_id": 3944700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4df64cd1de5941fb49263a19d80f1482?s=128&d=identicon&r=PG&f=1", "display_name": "hashrocket", "link": "https://stackoverflow.com/users/3944700/hashrocket"}, "edited": false, "score": 0, "creation_date": 1523923099, "post_id": 49867303, "comment_id": 86751236, "body": "@hashrocket   create_table &quot;users&quot;, id: :bigint, default: -&gt; { &quot;nextval(&#39;tbl_user_informations_id_seq&#39;::regclass)&quot; }, force: :cascade do |t|     t.string &quot;first_name&quot;, limit: 50     t.string &quot;last_name&quot;, limit: 50     t.string &quot;email&quot;, limit: 50, null: false     t.string &quot;password&quot;, limit: 50     t.boolean &quot;active&quot;     t.bigint &quot;contactno&quot;     t.datetime &quot;created_at&quot;, null: false     t.datetime &quot;updated_at&quot;, null: false     <b>t.date &quot;dob&quot;</b>"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523925519, "post_id": 49867303, "comment_id": 86751801, "body": "It&#39;s usually best to include that in an edit to the question so proper code formatting can be applied."}, {"owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1523925993, "post_id": 49867303, "comment_id": 86751891, "body": "@tadman I finally managed to figure out the issue. In my model I was converting dob into string so that I could apply model validation on it."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1523977830, "post_id": 49867303, "comment_id": 86779197, "body": "If you&#39;ve got code that fixes this, it&#39;s worth adding a self-answer."}], "owner": {"reputation": 15, "user_id": 9529406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nisarg Desai", "link": "https://stackoverflow.com/users/9529406/nisarg-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523918549, "creation_date": 1523918549, "question_id": 49867303, "link": "https://stackoverflow.com/questions/49867303/save-method-does-not-store-date-of-birth-in-the-database-in-rails", "title": "Save method does not store date of birth in the database in Rails", "body": "<p>I am trying to make a user registration page where I have different field types including date of birth. When I try to save the form data into the postgres database. Everything works except date of birth column saves null. </p>\n\n<p>new.html</p>\n\n<pre><code>&lt;%= form_for @user, :url =&gt; users_path, method: :post do |f| %&gt;\n        &lt;input type=\"hidden\" name=\"page\" value=\"register\"&gt;\n          &lt;label&gt;First Name&lt;/label&gt;&lt;%= f.text_field :first_name ,:class =&gt; 'textbox' %&gt;&lt;br/&gt;&lt;br/&gt;\n          &lt;label&gt;Last Name&lt;/label&gt;&lt;%= f.text_field :last_name ,:class =&gt; 'textbox' %&gt;&lt;br/&gt;&lt;br/&gt;\n          &lt;label&gt;Email&lt;/label&gt;&lt;%= f.text_field :email, :class =&gt; 'textbox' %&gt;&lt;br/&gt;&lt;br/&gt;\n          &lt;label&gt;Password&lt;/label&gt;&lt;%= f.password_field(:password, :class =&gt; 'textbox') %&gt;&lt;br/&gt;&lt;br/&gt;\n          &lt;label&gt;Confirm Password&lt;/label&gt;&lt;input type=\"password\" name = \"confirm_password\" class=\"textbox\" type=\"password\" /&gt;&lt;br/&gt;&lt;br/&gt;\n          &lt;label&gt;Date of Birth&lt;/label&gt;&lt;%= f.text_field :dob, :class =&gt; 'textbox' %&gt;&lt;br/&gt;&lt;br/&gt;\n          &lt;label&gt;Contact No.&lt;/label&gt;&lt;%= f.text_field :contactno, :class =&gt; 'textbox' %&gt;&lt;br/&gt;&lt;br/&gt;\n        &lt;%= f.submit('Register User') %&gt;\n      &lt;% end %&gt;\n</code></pre>\n\n<p>user controller</p>\n\n<pre><code>@user = User.create(params.require(:user).permit(:first_name, :last_name, :email, :password, :dob, :contactno))\n        binding.pry\n        if @user.save\n          session[:user_name] = @user[:email]\n          redirect_to :controller =&gt; 'dashboards', :action =&gt; 'index'\n        end\n</code></pre>\n\n<p>Also, I've noticed that while looking at the console, the insert statement does not include date of birth parameter. Below is the result I see in console. </p>\n\n<pre><code>Parameters: {\"utf8\"=&gt;\"\u2713\", \"authenticity_token\"=&gt;\"Sm6UjUXSVSlg6KUs+UUdSXRRfd8y7f65mhyHbR9NwRnp9OJlifUgqk13yqvk4R4vq2+yIZYr2Br+a9uKTenZvg==\", \"page\"=&gt;\"register\", \"user\"=&gt;{\"first_name\"=&gt;\"Sam\", \"last_name\"=&gt;\"Brat\", \"email\"=&gt;\"sm@gmail.com\", \"password\"=&gt;\"[FILTERED]\", \"dob\"=&gt;\"09-09-1996\", \"contactno\"=&gt;\"1234567890\"}, \"confirm_password\"=&gt;\"[FILTERED]\", \"commit\"=&gt;\"Register User\"}\n   (0.0ms)  BEGIN\n  SQL (4.0ms)  INSERT INTO \"users\" (\"first_name\", \"last_name\", \"email\", \"password\", \"contactno\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"  [[\"first_name\", \"Sam\"], [\"last_name\", \"Brat\"], [\"email\", \"sm@gmail.com\"], [\"password\", \"sm12345@\"], [\"contactno\", 1234567890], [\"created_at\", \"2018-04-16 22:37:39.473682\"], [\"updated_at\", \"2018-04-16 22:37:39.473682\"]]\n   (0.0ms)  COMMIT\n</code></pre>\n\n<p>Thanks a lot in advance.</p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 6391, "user_id": 2909897, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LMSiW.jpg?s=128&g=1", "display_name": "mbigras", "link": "https://stackoverflow.com/users/2909897/mbigras"}, "edited": false, "score": 0, "creation_date": 1523923773, "post_id": 49867606, "comment_id": 86751391, "body": "Ah! I think I was looking at the wrong ancestor chain! Looking at the ancestor chain for <code>Object</code> mislead me because <code>Object</code> is a class, so the ancestor chain will show which methods are available to instances of that class right? But <code>Object</code> also has a singleton class (like all objects), and checking that ancestor chain will show which methods are available to the actual object <code>Object</code>."}, {"owner": {"reputation": 6391, "user_id": 2909897, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LMSiW.jpg?s=128&g=1", "display_name": "mbigras", "link": "https://stackoverflow.com/users/2909897/mbigras"}, "edited": false, "score": 1, "creation_date": 1523924021, "post_id": 49867606, "comment_id": 86751451, "body": "I like how you used <code>Object#singleton_class</code> that&#39;s what helped it click for me! Are you able to add a mention that about the two different ancestor chains, one for <code>Object</code> and one for <code>Object.new</code>? Checking <code>Object.singleton_class.ancestors</code> and <code>Object.new.singleton_class.ancestors</code> answers the question about <code>is_a?</code>"}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 6, "last_activity_date": 1523951703, "last_edit_date": 1523951703, "creation_date": 1523921007, "answer_id": 49867606, "question_id": 49867219, "link": "https://stackoverflow.com/questions/49867219/how-does-object-know-about-the-const-get-method/49867606#49867606", "title": "How does Object know about the const_get method?", "body": "<p>This is an artifact of the ill-understood separation between an object's class and an object's <em>singleton class</em>, a sort of shadow class that each class uses for things like this.</p>\n\n<p>You can access this easily in Ruby 2.5+ with the <code>singleton_class</code> method:</p>\n\n<pre><code>Object.singleton_class.ancestors\n# =&gt; [#&lt;Class:Object&gt;, #&lt;Class:BasicObject&gt;, Class, Module, Object, Kernel, BasicObject]\n</code></pre>\n\n<p>Where <code>Module</code> makes an appearance here, so that's how those methods get mixed in and are callable via <code>Object</code>.</p>\n\n<p>Object itself has a comparatively dull inheritance chain:</p>\n\n<pre><code>Object.ancestors\n#=&gt; [Object, Kernel, BasicObject]\n</code></pre>\n\n<p>Every object in Ruby has a class, even <code>Class</code> is an <code>Object</code>, which also has an associated <code>Class</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "is_accepted": false, "score": 1, "last_activity_date": 1523921044, "last_edit_date": 1592644375, "creation_date": 1523921044, "answer_id": 49867609, "question_id": 49867219, "link": "https://stackoverflow.com/questions/49867219/how-does-object-know-about-the-const-get-method/49867609#49867609", "title": "How does Object know about the const_get method?", "body": "<p>I think your confusion stems from looking at <code>Object</code> from two directions at once:</p>\n<ol>\n<li><code>Object</code> is a class so <code>Object.ancestors</code> can be used to look at the inheritance hierarchy. This tells you that <code>Object &lt; Kernel</code> is true and <code>Object &lt; Module</code> is false.</li>\n<li>Classes in Ruby are also objects, specifically they're instances of the <code>Class</code> class. This tells you that <code>Object.is_a? Class</code> and <code>Object.is_a? Module</code> in the same way that <code>'pancakes'.is_a? String</code>. And that <code>Object.const_get</code> is a method call in the same way that <code>'pancakes'.upcase</code> is a method call.</li>\n</ol>\n<p>You can think of <code>some_obj.is_a? SomeClass</code> as a shorter way of saying <code>some_obj.class.ancestors.include? SomeClass</code>.</p>\n<p>Answering your specific questions:</p>\n<ol>\n<li>\n<blockquote>\n<p>Why does <code>Object.is_a? Module #=&gt; true</code> if <code>Module</code> is not in <code>Object</code>'s ancestor chain?</p>\n</blockquote>\n<p>Because <code>is_a?</code> and <code>ancestors</code> are looking at different things.</p>\n</li>\n<li>\n<blockquote>\n<p>How does <code>Object</code> know about the <code>const_get</code> method?</p>\n</blockquote>\n<p>Because <code>Object</code> is an instance of the <code>Class</code> class and <code>Class</code> includes <code>Module</code> in its ancestors. Similarly to how <code>'pancakes'</code> is an instance of the <code>String</code> class which has <code>Kernel</code> in its ancestors so <code>'pancakes'</code> has an <code>object_id</code> method.</p>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "is_accepted": false, "score": 0, "last_activity_date": 1523938521, "last_edit_date": 1592644375, "creation_date": 1523921693, "answer_id": 49867685, "question_id": 49867219, "link": "https://stackoverflow.com/questions/49867219/how-does-object-know-about-the-const-get-method/49867685#49867685", "title": "How does Object know about the const_get method?", "body": "<h3><code>Object.is_a? Module #=&gt; true</code></h3>\n<p><code>is_a?</code> is asking whether <code>Object</code> is an instance (or specialised instance) of <code>Module</code>. <code>Class</code> is a subclass of <code>Module</code> so all instances of <code>Class</code> are really just specialised instances of <code>Module</code>. Since <code>Object</code> is an instance of <code>Class</code>, it follows that <code>Object</code> is also an instance of <code>Module</code>.</p>\n<h3><code>Module#const_get</code></h3>\n<p><code>const_get</code> is an instance method defined within the <code>Module</code> class. Since <code>Object</code> is an instance of <code>Module</code> (for reasons discussed above), it has access to <code>Module#const_get</code>.</p>\n"}], "owner": {"reputation": 6391, "user_id": 2909897, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LMSiW.jpg?s=128&g=1", "display_name": "mbigras", "link": "https://stackoverflow.com/users/2909897/mbigras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 3, "accepted_answer_id": 49867606, "answer_count": 3, "score": 4, "last_activity_date": 1523951703, "creation_date": 1523918108, "question_id": 49867219, "link": "https://stackoverflow.com/questions/49867219/how-does-object-know-about-the-const-get-method", "title": "How does Object know about the const_get method?", "body": "<p>I was reading <a href=\"https://stackoverflow.com/questions/833125/find-classes-available-in-a-module\">another question</a> with an <a href=\"https://stackoverflow.com/a/833179/2909897\">answer</a> that mentions using the <code>Module#const_get</code> instance method to find a class in a module. For example:</p>\n\n<pre><code>module M\n  class C\n  end\nend\n\np M.const_get 'C'\n#=&gt; M::C\n</code></pre>\n\n<p>I was curious about the <code>const_get</code> method so I used <code>ri</code> and found:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ri Module#const_get\n...\nThis method will recursively look up constant names if a namespaced\nclass name is provided.  For example:\n\n  module Foo; class Bar; end end\n  Object.const_get 'Foo::Bar'\n...\n</code></pre>\n\n<p>It seems like <code>Object::const_get</code> is a singleton method. Using it in our context works:</p>\n\n<pre><code>module M\n  class C\n  end\nend\n\np Object.const_get 'M::C'\n#=&gt; M::C\n</code></pre>\n\n<p>But there's nothing documented about that singleton method:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ri Object::const_get\nNothing known about Object::const_get\nri Object.const_get\nNothing known about Object.const_get\n</code></pre>\n\n<p>This confused me because I know a <code>Module</code> is an <code>Object</code> but an <code>Object</code> is not a <code>Module</code>:</p>\n\n<pre><code>Module.ancestors\n#=&gt; [Module, Object, Kernel, BasicObject]\nObject.ancestors\n#=&gt; [Object, Kernel, BasicObject]\n</code></pre>\n\n<p>Except then I used the <code>Object#is_a?</code> instance method to check and saw that I was wrong about that:</p>\n\n<pre><code>Module.is_a? Object\n#=&gt; true\nObject.is_a? Module\n#=&gt; true\n</code></pre>\n\n<p>What started as an innocent <code>ri</code> query has led me to be confused about the entire Ruby object model.</p>\n\n<ul>\n<li>Why does <code>Object.is_a? Module #=&gt; true</code> if <code>Module</code> is not in <code>Object</code>s ancestor chain?</li>\n<li>How does <code>Object</code> know about the <code>const_get</code> method?</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby", "haml"], "comments": [{"owner": {"reputation": 3538, "user_id": 693491, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f30193798802607aa97082c4529fcc28?s=128&d=identicon&r=PG", "display_name": "Tyler Ferraro", "link": "https://stackoverflow.com/users/693491/tyler-ferraro"}, "edited": false, "score": 0, "creation_date": 1523918578, "post_id": 49867130, "comment_id": 86750074, "body": "The api documentation has examples below it showing different ways to use the method call and what url is generated from each. <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to\" rel=\"nofollow noreferrer\">api.rubyonrails.org/classes/ActionView/Helpers/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 457, "user_id": 676310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1081f9aedd37f4d09f7ae5ac270acc7?s=128&d=identicon&r=PG", "display_name": "brookz", "link": "https://stackoverflow.com/users/676310/brookz"}, "is_accepted": false, "score": 0, "last_activity_date": 1524114627, "creation_date": 1524114627, "answer_id": 49913130, "question_id": 49867130, "link": "https://stackoverflow.com/questions/49867130/my-params-is-coming-up-as-nil-how-do-you-create-a-new-params-for-a-model/49913130#49913130", "title": "My params is coming up as nil. How do you create a new params for a model?", "body": "<pre><code># link_to movies_path(@dates), date: 'add' do\n</code></pre>\n\n<p>changes to </p>\n\n<pre><code>link_to movies_path(@dates,date: 'add') do\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9470812, "user_type": "registered", "profile_image": "https://graph.facebook.com/1678856338848091/picture?type=large", "display_name": "Matthew Bins", "link": "https://stackoverflow.com/users/9470812/matthew-bins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524114627, "creation_date": 1523917497, "last_edit_date": 1523918324, "question_id": 49867130, "link": "https://stackoverflow.com/questions/49867130/my-params-is-coming-up-as-nil-how-do-you-create-a-new-params-for-a-model", "title": "My params is coming up as nil. How do you create a new params for a model?", "body": "<pre><code>#today_free_time.row\n.col-md-2.col-sm-12.arrow_container{:style =&gt; \"text-align:right;\"}\n  - if @dates &gt;= 1\n    = link_to movies_path(@dates), date: 'sub' do\n      /date = date - 1\n      %i.fa.fa-caret-left\n  - else\n    %i.fa.fa-caret-left\n\n\n.col-md-3.col-sm-12.today_container\n  .date_font\n    %p \n    %p\n      =get_month\n    %p \n      =get_day\n    %p \n      =get_year\n\n.col-md-5.col-sm-12.free_time_list_container\n  %text_backgroud\n    .agenda_date Free Time:\n    %p \n      =free_time\n      =@dates\n\n.col-md-2.col-sm-12.arrow_container{:style =&gt; \"text=align:left;\"}\n  = link_to movies_path(@dates), date: 'add' do\n    %i.fa.fa-caret-right\n</code></pre>\n\n<p>there's the code in my index file</p>\n\n<pre><code>if params[:add] == \"add\"\n  @dates += 1\n  logger.debug \"*************Dates1 #{@dates}\"\nend\n\nlogger.debug \"*************params #{params[:date].inspect}\"\nlogger.debug \"*************Dates2 #{@dates}\"\n</code></pre>\n\n<p>there's the code in my controller</p>\n\n<p>I am a little confused on <code>params</code>. Right now the <code>params :date</code> is coming up <code>nil</code> when I click on the <code>link_to</code>. I want to be able to click the <code>link_to</code> and my index file will be able to increment dates. So I will be able to go up a date or down depending on which <code>link_to</code> is clicked.  Do I need to create a new <code>params</code> somewhere are what?</p>\n"}, {"tags": ["arrays", "ruby", "notifications", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523918133, "post_id": 49867006, "comment_id": 86749955, "body": "You mean <a href=\"https://apidock.com/ruby/Enumerable/each_with_index\" rel=\"nofollow noreferrer\">Enumerable#each_with_index</a> or <a href=\"https://ruby-doc.org/core-2.2.0/Array.html#method-i-each_index\" rel=\"nofollow noreferrer\">Array#each_index</a>?"}, {"owner": {"reputation": 99, "user_id": 9435011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-surR8ciCRkU/AAAAAAAAAAI/AAAAAAAAB9E/5G43kwUd2Io/photo.jpg?sz=128", "display_name": "Mohammed Sayer", "link": "https://stackoverflow.com/users/9435011/mohammed-sayer"}, "reply_to_user": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523919097, "post_id": 49867006, "comment_id": 86750218, "body": "yeah like i have created this employee array and under notification.create user i want to add the employee array index using a loop"}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 9435011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-surR8ciCRkU/AAAAAAAAAAI/AAAAAAAAB9E/5G43kwUd2Io/photo.jpg?sz=128", "display_name": "Mohammed Sayer", "link": "https://stackoverflow.com/users/9435011/mohammed-sayer"}, "is_accepted": true, "score": 0, "last_activity_date": 1523980889, "creation_date": 1523980889, "answer_id": 49882691, "question_id": 49867006, "link": "https://stackoverflow.com/questions/49867006/create-multiple-notification-from-an-array-using-notification-gem/49882691#49882691", "title": "create multiple notification from an array using notification gem", "body": "<p>i figured out the answer, i just had to call that user from user table using the employee array index before i could assign it to notification user attribute</p>\n\n<pre><code>employees.each do |emp|\n    user = User.where('id = ?', emp)[0]\n    note = Notification.create(notify_type: 'create_ticket', actor: \n    ticket.assignee, user: user, target: ticket, acceptance:true, \n    message: \"#{ticket.title} for Room #{ticket.room.location} has been \n    created. Do you accept?\" )\n    accept_event = AcceptanceEvent.create(business_id: \n    business.id,notification_id: note.id,accepted:false,timer_hours: \n    business.wait_hours,timer_minutes: business.wait_minutes)\nend\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 9435011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-surR8ciCRkU/AAAAAAAAAAI/AAAAAAAAB9E/5G43kwUd2Io/photo.jpg?sz=128", "display_name": "Mohammed Sayer", "link": "https://stackoverflow.com/users/9435011/mohammed-sayer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49882691, "answer_count": 1, "score": 0, "last_activity_date": 1523980889, "creation_date": 1523916739, "last_edit_date": 1523917270, "question_id": 49867006, "link": "https://stackoverflow.com/questions/49867006/create-multiple-notification-from-an-array-using-notification-gem", "title": "create multiple notification from an array using notification gem", "body": "<p>I have an employee array.</p>\n\n<pre><code>employees = TeamEmployee.where(:team_id =&gt; business.team_id).pluck(:employee_id)\n</code></pre>\n\n<p>I want to create notification for each employee using the notification gem which I have already installed in my app</p>\n\n<p>My loop is as follows.</p>\n\n<pre><code>nex = business.next_member\nemployees.each do |emp|\n  note = Notification.create(notify_type: 'create_ticket', actor: \n  ticket.assignee, user: emp.id, target: ticket, acceptance:true, \n  message: \"#{ticket.title} for Room #{ticket.room.location} has been \n  created. Do you accept?\" ) if nex.blank?\n  accept_event = AcceptanceEvent.create(business_id: \n  business.id,notification_id: note.id,accepted:false,timer_hours: \n  business.wait_hours,timer_minutes: business.wait_minutes)\nend\n</code></pre>\n\n<p>It works fine when I create single notification of the array index.</p>\n\n<p>Can anyone suggest how I can build the array loop to send notification to each index of an array?</p>\n"}, {"tags": ["ruby", "ldap"], "comments": [{"owner": {"reputation": 1230, "user_id": 511203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec96aadd672b8056173e4e8a5225d8b?s=128&d=identicon&r=PG", "display_name": "Mike Gorski", "link": "https://stackoverflow.com/users/511203/mike-gorski"}, "edited": false, "score": 0, "creation_date": 1523931469, "post_id": 49866798, "comment_id": 86753185, "body": "Is <code>group-name</code> the correct DN for the group?"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 9564560, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ift5f-PZz54/AAAAAAAAAAI/AAAAAAAAA3g/tEs_Rnla2js/photo.jpg?sz=128", "display_name": "Daniel PC", "link": "https://stackoverflow.com/users/9564560/daniel-pc"}, "is_accepted": false, "score": 1, "last_activity_date": 1523972527, "creation_date": 1523972527, "answer_id": 49879756, "question_id": 49866798, "link": "https://stackoverflow.com/questions/49866798/ldap-find-if-user-is-member-of-group/49879756#49879756", "title": "LDAP : Find if user is member of group", "body": "<p>Your query is correct, my suggestion is use the count() method to return the information you want.</p>\n\n<pre><code>If count() &gt; 0 then\n#is part of group\nelse\n#is not part of group\nEnd if\n</code></pre>\n\n<p>regards</p>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "is_accepted": true, "score": 0, "last_activity_date": 1524008524, "creation_date": 1524008524, "answer_id": 49889036, "question_id": 49866798, "link": "https://stackoverflow.com/questions/49866798/ldap-find-if-user-is-member-of-group/49889036#49889036", "title": "LDAP : Find if user is member of group", "body": "<p>This is what I ended up doing:</p>\n\n<pre><code>def query(username)\n    result  = nil\n    ldap    = Net::LDAP.new(@ldap_settings)   #ldap_settings has the authentication stuff\n    filter = \"(&amp;(objectClass=user)(sAMAccountName=#{username}))\"\n    if ldap.bind\n      ldap.search(:base =&gt; @base, :filter =&gt; filter) do |object|\n        puts object.memberof.include?(\"CN=group-im-looking-for,OU=myou,OU=ou,DC=dc,DC=dc,DC=dc\")\n        end\n    else\n      raise 'Authentication Error!'\n    end\n    result\n  end\n</code></pre>\n\n<p>This returns <code>True</code> if user is part of the group else <code>False</code>.</p>\n"}], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1788, "favorite_count": 0, "accepted_answer_id": 49889036, "answer_count": 2, "score": 1, "last_activity_date": 1524008524, "creation_date": 1523915527, "question_id": 49866798, "link": "https://stackoverflow.com/questions/49866798/ldap-find-if-user-is-member-of-group", "title": "LDAP : Find if user is member of group", "body": "<p>Im using the ruby <code>net/ldap</code> gem to query against my AD server to get if a user is the member of a group or not and for the life of me cannot figure out where I am going wrong. This is my code (I referenced this answer to come up with the filter - <a href=\"https://stackoverflow.com/a/9890107/1664675\">https://stackoverflow.com/a/9890107/1664675</a>):</p>\n\n<pre><code>  def query(username)\n    result  = nil\n    ldap    = Net::LDAP.new(@ldap_settings)   #ldap_settings has the authentication stuff\n    filter = \"(&amp;(objectClass=user)(sAMAccountName=#{username})(memberof=CN=group-name,OU=Linux Groups,OU=Linux))\"\n    if ldap.bind\n      ldap.search(:base =&gt; @base, :filter =&gt; filter) do |object|\n        puts object.memberof\n        end\n    else\n      raise 'Authentication Error!'\n    end\n    result\n  end\n</code></pre>\n\n<p>When I call this function as <code>puts Classname.new.query(username)</code> it returns nothing. </p>\n\n<p>When I user the filter <code>filter  = \"(&amp;(objectClass=user)(sAMAccountName=#{username}))\"</code> , I can list all the groups the user is part of. Is there any way to just check if the user is part of a group ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523913349, "post_id": 49866198, "comment_id": 86748134, "body": "Include error backtrace in your question please"}, {"owner": {"reputation": 61438, "user_id": 63034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZXKMO.jpg?s=128&g=1", "display_name": "mikej", "link": "https://stackoverflow.com/users/63034/mikej"}, "edited": false, "score": 4, "creation_date": 1523913470, "post_id": 49866198, "comment_id": 86748186, "body": "The issue will be that your movie is failing validation so <code>create</code> is entering the <code>render &#39;new&#39;</code> branch of the <code>if</code> condition. However in <code>create</code> you&#39;re not setting <code>@categories</code>. You can fix by adding the <code>@categories = Category.all.map{ |c| [c.name, c.id] }</code> line, the same as in <code>new</code>, or by introducing a method that sets <code>@categories</code> which is then shared by <code>new</code> and <code>create</code>."}, {"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1523914147, "post_id": 49866198, "comment_id": 86748497, "body": "@sapphirejones, nothing to do with the issue, but have a look at the <i>#pluck</i> method. This makes your code a lot cleaner: <code>Category.pluck(:name, :id)</code>. See: <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Calculations.html#method-i-pluck\" rel=\"nofollow noreferrer\">api.rubyonrails.org/classes/ActiveRecord/&hellip;</a>"}, {"owner": {"reputation": 9344, "user_id": 5781745, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/lStUs.jpg?s=128&g=1", "display_name": "K.D\u1d00\u1d20\u026as", "link": "https://stackoverflow.com/users/5781745/k-d%e1%b4%80%e1%b4%a0%c9%aas"}, "edited": false, "score": 0, "creation_date": 1527800575, "post_id": 49866198, "comment_id": 88275723, "body": "Please don&#39;t make more work for people by vandalizing your posts. By posting on the Stack Exchange (SE) network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/3.0\" rel=\"nofollow noreferrer\">CC BY-SA 3.0 license</a>, for SE to distribute that content (i.e. regardless of your future choices). By SE policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted."}], "answers": [{"comments": [{"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1523914426, "post_id": 49866542, "comment_id": 86748597, "body": "Or if you don&#39;t like callbacks, just make sure you set the variable <code>@categories</code> in both <i>#new</i> and <i>#create</i>."}, {"owner": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "edited": false, "score": 0, "creation_date": 1523914895, "post_id": 49866542, "comment_id": 86748785, "body": "I&#39;ve tried this but also added a before_action at the top of the controller. The error isn&#39;t thrown anymore but the movie still isn&#39;t created, instead new is just rendered. Any idea why this might be?"}, {"owner": {"reputation": 43225, "user_id": 297087, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/17b3a5816f0647e9b0f7c49d60f93e7b?s=128&d=identicon&r=PG", "display_name": "Salil", "link": "https://stackoverflow.com/users/297087/salil"}, "edited": false, "score": 0, "creation_date": 1523915027, "post_id": 49866542, "comment_id": 86748841, "body": "You must have validation in your <code>models&#47;movie.rb</code> that <code>category_id </code> should be present. &amp; if you try to create a movie with out any category_id it is showing an error."}, {"owner": {"reputation": 43225, "user_id": 297087, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/17b3a5816f0647e9b0f7c49d60f93e7b?s=128&d=identicon&r=PG", "display_name": "Salil", "link": "https://stackoverflow.com/users/297087/salil"}, "edited": false, "score": 0, "creation_date": 1523915341, "post_id": 49866542, "comment_id": 86748980, "body": "Just add <code>&lt;%= f.error_notification %&gt;</code> under form <code>&lt;%= simple_form_for(@post) do |f| %&gt;</code> or similar in app/views/movies/_form.html.erb &amp; check again"}, {"owner": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "edited": false, "score": 0, "creation_date": 1523916724, "post_id": 49866542, "comment_id": 86749506, "body": "The error notification doesn&#39;t show any specific errors, and I have a migration so that each movie has a category id. I have a seperate private method called movie_params in the movies controller which states that category id must be present before creating the movie."}, {"owner": {"reputation": 61438, "user_id": 63034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZXKMO.jpg?s=128&g=1", "display_name": "mikej", "link": "https://stackoverflow.com/users/63034/mikej"}, "edited": false, "score": 1, "creation_date": 1523949592, "post_id": 49866542, "comment_id": 86759334, "body": "Another way to debug this is to temporarily replace <code>@movie.save</code> with <code>@movie.save!</code> (with an <code>!</code> at the end). This will cause an exception to be raised if the movie can&#39;t be saved. The error message from the exception should offer some clues."}], "tags": [], "owner": {"reputation": 43225, "user_id": 297087, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/17b3a5816f0647e9b0f7c49d60f93e7b?s=128&d=identicon&r=PG", "display_name": "Salil", "link": "https://stackoverflow.com/users/297087/salil"}, "is_accepted": false, "score": 1, "last_activity_date": 1523914217, "creation_date": 1523914217, "answer_id": 49866542, "question_id": 49866198, "link": "https://stackoverflow.com/questions/49866198/ruby-rails-undefined-method-empty-for-nilnilclass-when-making-a-dropdown-men/49866542#49866542", "title": "Ruby rails undefined method `empty?&#39; for nil:NilClass when making a dropdown menu for objects in a class", "body": "<p>When you write <code>render 'new'</code> in your <code>create</code> method it just call the new.html.erb (or new.* depending on template engine you are using) &amp; not you <code>new action</code>.\nSo, <code>@categories</code> is getting <code>nil</code> on <code>new.html.erb</code> &amp; hence throwing the error.</p>\n\n<p>In order to get rid of the error create a private method to set categories &amp; call it for the new &amp; create.</p>\n\n<pre><code>before_action :set_categories, only: [:new, :create]\n\ndef new\n  @movie = Movie.new\nend\n\ndef create\n  @movie = Movie.new(movie_params)\n  @movie.category_id = params[:category_id]\n\n  if @movie.save \n    redirect_to movie_path(@movie)\n  else \n    render 'new'\n  end\nend\n\nprivate\ndef set_categories\n  @categories = Category.all.map{ |c| [c.name, c.id] }\nend\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9366388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a978d7c3d583f7e90885fcd6ea335bb?s=128&d=identicon&r=PG&f=1", "display_name": "SapphireJones", "link": "https://stackoverflow.com/users/9366388/sapphirejones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527800545, "creation_date": 1523912663, "last_edit_date": 1527800545, "question_id": 49866198, "link": "https://stackoverflow.com/questions/49866198/ruby-rails-undefined-method-empty-for-nilnilclass-when-making-a-dropdown-men", "title": "Ruby rails undefined method `empty?&#39; for nil:NilClass when making a dropdown menu for objects in a class", "body": "<p>I'm making a ruby on rails app which has form partial which is rendered on the new.html.erb view. It allows users to select a category (to which a movie belongs) from a drop down menu and it looks like this:</p>\n\n<pre><code>&lt;%= simple_form_for @movie do |f| %&gt;\n&lt;%= f.select :category_id, @categories %&gt;\n&lt;%= f.input :title, label: \"Movie Title\" %&gt;\n&lt;%= f.input :description %&gt;\n&lt;%= f.input :director %&gt;\n</code></pre>\n\n<p>And here is part of the controller for movies:</p>\n\n<pre><code>def new\n    @movie = Movie.new\n    @categories = Category.all.map{ |c| [c.name, c.id] }\nend\n\ndef create\n    @movie = Movie.new(movie_params)\n    @movie.category_id = params[:category_id]\n\n    if @movie.save \n        redirect_to movie_path(@movie)\n    else \n        render 'new'\n    end\nend\n</code></pre>\n\n<p>Now whenever a movie is created I get the following error:</p>\n\n<pre><code>NoMethodError in Movies#create undefined method `empty?' for nil:NilClass`\n</code></pre>\n\n<p>Apparently the error is raised on the line:\n    <code>&lt;%= f.select :category_id, @categories %&gt;</code></p>\n\n<p>Now this worked before I deleted all the records in my entire database (the categories are all still there, however) so that might have something to do with it.\nThanks. </p>\n"}, {"tags": ["javascript", "ruby-on-rails", "arrays", "ruby"], "comments": [{"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523913197, "post_id": 49866002, "comment_id": 86748079, "body": "Did you tried to parse it? <code>data.addRows(JSON.parse(dataGoogle));</code> What is an output of <code>console.log(dataGoogle)</code> after you get it from data attribute?"}, {"owner": {"reputation": 711, "user_id": 9607391, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gje7h6HlhXo/AAAAAAAAAAI/AAAAAAAAAaM/WKvRP-PEe9g/photo.jpg?sz=128", "display_name": "Johan Faerch", "link": "https://stackoverflow.com/users/9607391/johan-faerch"}, "reply_to_user": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523913707, "post_id": 49866002, "comment_id": 86748299, "body": "If you put this as an answer I can approve it - It works beautifully :)"}], "answers": [{"tags": [], "owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1523913854, "last_edit_date": 1523913854, "creation_date": 1523913134, "answer_id": 49866313, "question_id": 49866002, "link": "https://stackoverflow.com/questions/49866002/ruby-pass-an-array-to-google-javascript/49866313#49866313", "title": "ruby pass an array to google javascript", "body": "<p>I guess you should parse it:</p>\n\n<pre><code>data.addRows(JSON.parse(dataGoogle));\n</code></pre>\n"}], "owner": {"reputation": 711, "user_id": 9607391, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gje7h6HlhXo/AAAAAAAAAAI/AAAAAAAAAaM/WKvRP-PEe9g/photo.jpg?sz=128", "display_name": "Johan Faerch", "link": "https://stackoverflow.com/users/9607391/johan-faerch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 49866313, "answer_count": 1, "score": 0, "last_activity_date": 1523913854, "creation_date": 1523911768, "question_id": 49866002, "link": "https://stackoverflow.com/questions/49866002/ruby-pass-an-array-to-google-javascript", "title": "ruby pass an array to google javascript", "body": "<p>In my view I have</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\n&lt;div id=\"chart_time\" data-google=\"&lt;%= @google_array %&gt;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><code>@google_array</code> correctly gives an array of arrays (checked in browser console)</p>\n\n<p>I am trying to pass the array to a Google chart js file</p>\n\n<pre><code>// var dataView = document.getElementById('chart_time');\nlet dataView = document.querySelector('#chart_time');\nlet dataGoogle = dataView.getAttribute('data-google')\ndata.addRows(dataGoogle);\n</code></pre>\n\n<p>But in the browser I get <code>Error: Argument given to addRows must be either a number or an array</code></p>\n"}, {"tags": ["ruby", "proc"], "answers": [{"comments": [{"owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 0, "creation_date": 1523923842, "post_id": 49866690, "comment_id": 86751400, "body": "This step through makes sense, the part thats difficult for me is how the (5) is making it&#39;s way to &quot;proc3&quot; in the original code. I know we &quot;call&quot; <code>doubleThenSquare</code> but <code>doubleThenSquare</code> itself isn&#39;t a proc function, it calls a method with a proc function in it (lets call that proc3). So thats where my confusion lies. Since we are actually calling something that is storing the return value of a method WITH a proc function in it...but not an actual proc function itself."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 1, "creation_date": 1523924590, "post_id": 49866690, "comment_id": 86751583, "body": "<code>doubleThenSquare</code> is a variable that is assigned the proc returned by <code>compose(doubleIt, squareIt)</code>. That proc has a variable, but that variable is not assigned a value (e.g. <code>5</code>) until <code>doubleThenSquare</code> is called."}, {"owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 0, "creation_date": 1523924792, "post_id": 49866690, "comment_id": 86751625, "body": "Ah so it&#39;s able to pass it because a proc is being returned by <code>compose</code>...man that&#39;s confusing, since I assumed calling a proc it would need a variable directly (whatever you are calling)"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 0, "creation_date": 1523925816, "post_id": 49866690, "comment_id": 86751857, "body": "Yes, you&#39;ve got it. There&#39;s an analogous situation with methods. Suppose <code>def m(x) 2*x end</code>. We could then write <code>method(:m).call(3) #=&gt; 6</code> or <code>public_send(:m, 3) #=&gt; 6</code>. <code>method(:m)</code> converts a method name (<code>:m</code>) to a method object. Being an object, it can be passed around like a proc, and like a proc, is invoked with <code>call</code> (but with <a href=\"http://ruby-doc.org/core-2.4.0/Method.html#method-i-call\" rel=\"nofollow noreferrer\">Method#call</a>, not <a href=\"http://ruby-doc.org/core-2.4.0/Proc.html#method-i-call\" rel=\"nofollow noreferrer\">Proc#call</a>)."}, {"owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 0, "creation_date": 1523975236, "post_id": 49866690, "comment_id": 86777210, "body": "I guess it&#39;s not too crazy hopefully for that to be slighty confusing to me I hope haha (I just started learning ruby)"}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 3, "last_activity_date": 1523914962, "creation_date": 1523914962, "answer_id": 49866690, "question_id": 49865653, "link": "https://stackoverflow.com/questions/49865653/passing-procs-and-methods/49866690#49866690", "title": "Passing procs and methods", "body": "<p>Let's step through it.</p>\n\n<pre><code>doubleIt = Proc.new do |x|\n  x + x\nend\n  #=&gt; #&lt;Proc:0x00000002326e08@(irb):1429&gt;\n\nsquareIt = Proc.new do |x|\n  x * x\nend\n  #=&gt; #&lt;Proc:0x00000002928bf8@(irb):1433&gt;\n\nproc1 = doubleIt\nproc2 = squareIt\n</code></pre>\n\n<p><code>compose</code> returns the proc <code>proc3</code>.</p>\n\n<pre><code>proc3 = Proc.new do |x|\n    proc2.call(proc1.call(x))\nend\n  #=&gt; #&lt;Proc:0x000000028e7608@(irb):1445&gt;\n</code></pre>\n\n<p><code>proc3.call(x)</code> is executed in the same way as</p>\n\n<pre><code>proc3_method(x)\n</code></pre>\n\n<p>where</p>\n\n<pre><code>def proc3_method(x)\n  y = proc1.call(x)\n  proc2.call(y)\nend\n</code></pre>\n\n<p>When <code>x = 5</code>,</p>\n\n<pre><code>y = proc1.call(5)\n  #=&gt; 10\nproc2.call(10)\n  #=&gt; 100\n</code></pre>\n\n<p><code>proc3_method(5)</code> therefore returns <code>100</code>, as does <code>proc3.call(5)</code>.</p>\n"}], "owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 49866690, "answer_count": 1, "score": 2, "last_activity_date": 1523934645, "creation_date": 1523910242, "last_edit_date": 1523934645, "question_id": 49865653, "link": "https://stackoverflow.com/questions/49865653/passing-procs-and-methods", "title": "Passing procs and methods", "body": "<p>I came across this code:</p>\n\n<pre><code>squareIt = Proc.new do |x|\n  x * x\nend\n\ndoubleIt = Proc.new do |x|\n  x + x\nend\n\ndef compose proc1, proc2\n  Proc.new do |x|\n    proc2.call(proc1.call(x))\n  end\nend\n\ndoubleThenSquare = compose(doubleIt, squareIt)\nsquareThenDouble = compose(squareIt, doubleIt)\n\ndoubleThenSquare.call(5)\nsquareThenDouble.call(5)\n</code></pre>\n\n<p><code>doubleThenSquare</code> is called with <code>5</code>. <code>doubleThenSquare</code> is equal to the return value of <code>compose</code>, which has its two parameters <code>doubleIt</code> and <code>squareIt</code> passed.</p>\n\n<p>I don't see how <code>5</code> is passed all its way into the different procs <code>Proc.new do |x|</code>. How does it know what <code>x</code> is in each case?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "edited": false, "score": 0, "creation_date": 1523913084, "post_id": 49864733, "comment_id": 86748021, "body": "@Ursus has given a good answer but in future consider waiting longer before awarding the greenie. Quick selections can discourage other answers and imo are discourteous to those (if any) still working on their answers. There&#39;s no rush. Many members wait at least a couple of hours, sometimes much longer, before selecting an answer."}], "answers": [{"comments": [{"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523907093, "post_id": 49864785, "comment_id": 86745138, "body": "How about also adding the <code>each_with_object</code> option?"}, {"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "reply_to_user": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 1, "creation_date": 1523907264, "post_id": 49864785, "comment_id": 86745214, "body": "Yes, you&#39;re right. Just before the last one maybe. Next time :D"}, {"owner": {"reputation": 711, "user_id": 9607391, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gje7h6HlhXo/AAAAAAAAAAI/AAAAAAAAAaM/WKvRP-PEe9g/photo.jpg?sz=128", "display_name": "Johan Faerch", "link": "https://stackoverflow.com/users/9607391/johan-faerch"}, "edited": false, "score": 1, "creation_date": 1523907583, "post_id": 49864785, "comment_id": 86745375, "body": "With or without <code>each_with_object</code> it saved my day :)"}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": true, "score": 3, "last_activity_date": 1523906511, "creation_date": 1523906511, "answer_id": 49864785, "question_id": 49864733, "link": "https://stackoverflow.com/questions/49864733/ruby-how-to-iterate-over-an-array-of-instances/49864785#49864785", "title": "Ruby How to iterate over an array of instances", "body": "<p>You don't need that. Try this one</p>\n\n<pre><code>Order.all.pluck(:time, :amount)\n</code></pre>\n\n<p>A more verbose and expensive way to do it</p>\n\n<pre><code>Order.all.map { |order| [order.time, order.amount] }\n</code></pre>\n\n<p>Even more verbose, probably what you're trying to do</p>\n\n<pre><code>result = []\nOrder.all.each do |order|\n  result &lt;&lt; [order.time, order.amount]\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2291468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8fb4ff7f54659a8f4434f3a438b3318?s=128&d=identicon&r=PG", "display_name": "mourad.hammiche", "link": "https://stackoverflow.com/users/2291468/mourad-hammiche"}, "is_accepted": false, "score": 0, "last_activity_date": 1523967046, "creation_date": 1523967046, "answer_id": 49877779, "question_id": 49864733, "link": "https://stackoverflow.com/questions/49864733/ruby-how-to-iterate-over-an-array-of-instances/49877779#49877779", "title": "Ruby How to iterate over an array of instances", "body": "<p>Your solution may be correct. You should keep in mind that <code>#each</code> return the enumerated collection. The collection of orders in your case.</p>\n\n<p>The result you are expecting is the variable <code>a</code></p>\n"}], "owner": {"reputation": 711, "user_id": 9607391, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gje7h6HlhXo/AAAAAAAAAAI/AAAAAAAAAaM/WKvRP-PEe9g/photo.jpg?sz=128", "display_name": "Johan Faerch", "link": "https://stackoverflow.com/users/9607391/johan-faerch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 49864785, "answer_count": 2, "score": 0, "last_activity_date": 1523967046, "creation_date": 1523906318, "last_edit_date": 1523906631, "question_id": 49864733, "link": "https://stackoverflow.com/questions/49864733/ruby-how-to-iterate-over-an-array-of-instances", "title": "Ruby How to iterate over an array of instances", "body": "<p>I have this array from <code>Order.all</code></p>\n\n<pre><code>    [#&lt;Order:0x00007f1d219f7028 id: 1, time: \"01.00\", amount: 21, created_at: Mon, 16 Apr 2018 17:44:41 UTC +00:00, updated_at: Mon, 16 Apr 2018 17:44:41 UTC +00:00&gt;,\n #&lt;Order:0x00007f1d219f6ee8 id: 2, time: \"02.00\", amount: 23, created_at: Mon, 16 Apr 2018 17:44:41 UTC +00:00, updated_at: Mon, 16 Apr 2018 17:44:41 UTC +00:00&gt;]\n</code></pre>\n\n<p>When I do <code>Order.all.first[:time]</code> I get <code>\"01.00\"</code> so that 'works'.</p>\n\n<p>But when I do</p>\n\n<pre><code>a = []\nOrder.all.each do |e|\n  b = Array(e[:time])\n  b &lt;&lt; e[:amount]\n  a &lt;&lt; b\nend\n</code></pre>\n\n<p>I just get the above array again???</p>\n\n<p>How do I iterate over the array to get\n<code>[['01.00', 21],  ['02.00', 23]]</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "actionmailer"], "owner": {"reputation": 53, "user_id": 9627984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377af01825509f7eaeaeaa99310ad81c?s=128&d=identicon&r=PG&f=1", "display_name": "R. Byer", "link": "https://stackoverflow.com/users/9627984/r-byer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1523903062, "creation_date": 1523903062, "question_id": 49863927, "link": "https://stackoverflow.com/questions/49863927/when-passing-a-string-without-a-space-to-from-parameter-in-actionmailer-from", "title": "When passing a string without a space to &quot;from&quot; parameter in ActionMailer, from name just shows email and not string", "body": "<p>I am running Action_Mailer on Rails and passing a string to the from parameter in ActionMailer. When I do it with a space</p>\n\n<p>such as: </p>\n\n<pre><code>sender = 'Site user' #will show this label next to email\nmail(from: sender , to: sender_email , subject: sender_subject)\n</code></pre>\n\n<p>It will show up as 'Site user ' in the email header</p>\n\n<p>However, when I use a word without spaces for the variable sender:</p>\n\n<pre><code>sender = 'SiteUser' #will not show this, only email\nmail(from: sender , to: sender_email , subject: sender_subject)\n</code></pre>\n\n<p>It will only show 'email@site.com' in the email header</p>\n\n<p>Does anyone know what's wrong with single word strings in the from parameter?</p>\n\n<p>It works fine if the single string is in the default</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "string"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1523906486, "post_id": 49862962, "comment_id": 86744874, "body": "I don&#39;t why you&#39;ve received so many downvotes but you clearly need to improve the statement of the question."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1523930349, "post_id": 49862962, "comment_id": 86752921, "body": "I&#39;m guessing, but the downvotes are probably because it&#39;s accepted practice here to try doing it first and to come here with at least one attempt, rather than asking for help writing the first implementation."}], "answers": [{"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1523904738, "last_edit_date": 1523904738, "creation_date": 1523904184, "answer_id": 49864213, "question_id": 49862962, "link": "https://stackoverflow.com/questions/49862962/how-to-find-two-lines-of-a-string-based-on-a-word-from-strings/49864213#49864213", "title": "How to find two lines of a string based on a word from strings", "body": "<p>If <code>str</code> is your string, you could use a regular expression to extract the two consecutive lines.</p>\n\n<pre><code>target = \"6152\"\n\nr = /\n    \\n         # match end of line\n    [^\\n]*     # match zero or more chars other than \\n\n    \\n         # match end of line\n    [^\\n]*     # match zero or more chars other than \\n\n    (?&lt;!\\d)    # do not match a digit (negative lookbehind)\n    #{target}  # match the target string\n    (?!\\d)     # do not match a digit (negative lookahead)\n    [^\\n]*     # match zero or more chars other than \\n\n    /x         # free-spacing regex definition mode\n  # =&gt; /\n    \\n         # match end of line\n    [^\\n]*     # match zero or more chars other than \\n\n    \\n         # match end of line\n    [^\\n]*     # match zero or more chars other than \\n\n    (?&lt;!\\d)    # do not match a digit (negative lookbehind)\n    6152       # match the target string\n    (?!\\d)     # do not match a digit (negative lookahead)\n    [^\\n]*     # match zero or more chars other than \\n\n    /x\n\nstr[r]\n  #=&gt; \"\\nCnr Manning g Kent St \\nKarawara WA 6152 \"\n</code></pre>\n\n<p>The negative lookbehind (<code>(?&lt;!\\d)</code>) and negative lookahead (<code>(?!\\d)</code>) prevent a match if <code>target</code> contains <code>\"6152\"</code> but that is preceded or followed by one or more digits.</p>\n"}], "owner": {"reputation": 515, "user_id": 8811309, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4476b7cc4e5b6bce944fc80edc861729?s=128&d=identicon&r=PG&f=1", "display_name": "awsm sid", "link": "https://stackoverflow.com/users/8811309/awsm-sid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1523904738, "creation_date": 1523899239, "question_id": 49862962, "link": "https://stackoverflow.com/questions/49862962/how-to-find-two-lines-of-a-string-based-on-a-word-from-strings", "title": "How to find two lines of a string based on a word from strings", "body": "<p>Hi i am working on a RoR project. i have a string in my params. Based on a predefined word i have to find two lines of a string.</p>\n\n<p>String:-</p>\n\n<pre><code> \"\\\"FileParseExitCode\\\":1,\\n\\\"ParsedText\\\":SUPA IGA WATERFORD \\nCnr Manning g Kent St \\nKarawara WA 6152 \\nPin: 08 9200 4211 Fax: oe 9200 4212 \\nlax Invoice \\n138 932 466 \\n12/04/2018 PM \\nScot User 12 \\nAUSSIE NAT SPROG WATER 1.5L $0.99 \\nTOTAL \\nMaster \\nYou saved: $0.08 \"\n</code></pre>\n\n<p>Here i have a word \"6152\" based on this word i need to find the paragraph of this line which is:</p>\n\n<pre><code>\\nKarawara WA 6152 \n</code></pre>\n\n<p>And the paragragh before \"\\nKarawara WA 6152\":-</p>\n\n<pre><code>\\nCnr Manning g Kent St\n</code></pre>\n\n<p>So basically i want the two lines with a predefined word. My word is \"6152\" i want to get the paragraph:-</p>\n\n<pre><code>\\nCnr Manning g Kent St \\nKarawara WA 6152\n</code></pre>\n\n<p>Please help me to achieve this. Thanks in advance.</p>\n"}, {"tags": ["ruby", "iframe", "watir"], "answers": [{"comments": [{"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1523968678, "post_id": 49878290, "comment_id": 86772265, "body": "All right, I deleted my answer! This is the new information for me,thanks."}, {"owner": {"reputation": 3480, "user_id": 4072371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112e615d8c60908294e30848d9556186?s=128&d=identicon&r=PG", "display_name": "titusfortner", "link": "https://stackoverflow.com/users/4072371/titusfortner"}, "reply_to_user": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1523981761, "post_id": 49878290, "comment_id": 86781787, "body": "Yeah, you can have the same id in multiple iframes, so each element needs the full frame path to be correctly unique."}, {"owner": {"reputation": 3523, "user_id": 9043475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FNxvn.jpg?s=128&g=1", "display_name": "Rajagopalan", "link": "https://stackoverflow.com/users/9043475/rajagopalan"}, "edited": false, "score": 0, "creation_date": 1523987933, "post_id": 49878290, "comment_id": 86785301, "body": "I think you are talking to me. Yes, thanks, i was not aware that info so far. Thanks."}], "tags": [], "owner": {"reputation": 3480, "user_id": 4072371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112e615d8c60908294e30848d9556186?s=128&d=identicon&r=PG", "display_name": "titusfortner", "link": "https://stackoverflow.com/users/4072371/titusfortner"}, "is_accepted": true, "score": 3, "last_activity_date": 1523968494, "creation_date": 1523968494, "answer_id": 49878290, "question_id": 49862555, "link": "https://stackoverflow.com/questions/49862555/how-can-i-change-the-focus-from-an-iframe-back-to-main-page-using-watir/49878290#49878290", "title": "How can I change the focus from an iframe back to main page using watir?", "body": "<p>Watir handles browser context switching for you. You only need to include the full iframe path in the definition of the element.</p>\n\n<p>Watir lazy loads so this doesn't actually locate them, just stores their location information</p>\n\n<pre><code>b1 = browser.iframe(class: 'first').button\nb2 = browser.iframe(class: 'first').iframe(class: 'second').button\n</code></pre>\n\n<p>To click the second button, Watir will automatically switch into first frame context, then the second frame context, then click that button</p>\n\n<pre><code>b2.click\n</code></pre>\n\n<p>Watir will automatically switch between any browsing contexts without needing to be explicitly specified:</p>\n\n<pre><code>b1.click\nb2.click\nb1.click\n</code></pre>\n\n<p>You shouldn't need to explicitly change contexts, just interact with the next element you need to use, but either of these will get you back to the top level browsing context:</p>\n\n<pre><code>browser.exist?\nbrowser.iframe.exist?\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8787914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da1e90d9f7bd52b8e493166463109d6d?s=128&d=identicon&r=PG&f=1", "display_name": "dramadwarfie", "link": "https://stackoverflow.com/users/8787914/dramadwarfie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 49878290, "answer_count": 1, "score": 0, "last_activity_date": 1523968494, "creation_date": 1523897728, "question_id": 49862555, "link": "https://stackoverflow.com/questions/49862555/how-can-i-change-the-focus-from-an-iframe-back-to-main-page-using-watir", "title": "How can I change the focus from an iframe back to main page using watir?", "body": "<p>I have a nested iframe that looks something like this </p>\n\n<pre><code>&lt;iframe class=\"first\"&gt;\n   &lt;button&gt;&lt;/button&gt;\n   &lt;iframe class=\"second\"&gt;\n      &lt;button&gt;&lt;/button&gt;\n   &lt;/iframe&gt;\n&lt;/iframe&gt;\n</code></pre>\n\n<p>I switched into the second iframe to work with elements within that iframe, and now I want to go back and work with elements in the first iframe. But I can't get out of the iframe using watir for some reason...</p>\n\n<p>I've tried using <code>$b.frame(index: 0).locate</code> - I get an \"unable to locate frame\" error</p>\n\n<p>I've also tried doing <code>$b.iframe(class: \"first\").locate</code>, but that didn't work either</p>\n\n<p>Please help!</p>\n"}, {"tags": ["ruby", "hash", "parameters"], "answers": [{"tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": false, "score": 2, "last_activity_date": 1523900465, "last_edit_date": 1523900465, "creation_date": 1523898244, "answer_id": 49862709, "question_id": 49862513, "link": "https://stackoverflow.com/questions/49862513/how-to-argue-in-ruby-with-a-hash-as-parameter/49862709#49862709", "title": "How to argue in ruby with a hash as parameter", "body": "<p>The argument-passing of the initiailization you show works fine:</p>\n\n<pre><code>def foo(hsh={'title'=&gt;\"teste\",'price'=&gt;10,'manufacture_code'=&gt;0,'barcode'=&gt;\"aaa111\",'product_code'=&gt;1})\nend\n\nfoo({'title'=&gt;\"teste\",'price'=&gt;10,'manufacture_code'=&gt;0,'barcode'=&gt;\"aaa111\",'product_code'=&gt;1})\n# =&gt; nil\n</code></pre>\n\n<p>I think the error is coming from this:</p>\n\n<pre><code>PRODUCT_TYPES.index[product_code]\n</code></pre>\n\n<p>Notice earlier you call the <code>index</code> method like this:</p>\n\n<pre><code>AUTHORIZED_MANUFACTURERS.index(manufacturer_code)\n</code></pre>\n\n<p>In one case you are using parenthesis (the correct way). In the other, you use <code>[]</code> (not correct). </p>\n\n<p>This is a good example of why it's important to read the error messages closely, and look at the line num it gives you for the origin of the error. </p>\n"}], "owner": {"reputation": 15, "user_id": 9654463, "user_type": "registered", "profile_image": "https://graph.facebook.com/1871354482917161/picture?type=large", "display_name": "Leonardo Eiki Abe", "link": "https://stackoverflow.com/users/9654463/leonardo-eiki-abe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1523998974, "creation_date": 1523897580, "last_edit_date": 1523998974, "question_id": 49862513, "link": "https://stackoverflow.com/questions/49862513/how-to-argue-in-ruby-with-a-hash-as-parameter", "title": "How to argue in ruby with a hash as parameter", "body": "<pre><code>class Product &lt; SimpleStore\n\n@@Product = []\n@@uniqueid = []\n\nattr_reader :title \nattr_reader :price\nattr_reader :manufacturer\nattr_reader :manufacturer_code\nattr_reader :barcode\nattr_reader :hash\nattr_reader :code \nattr_writer :price\nattr_writer :manufacturer_code\nattr_writer :code\n\n\ndef initialize (hsh = {'title' =&gt;nil, 'price' =&gt;0, 'manufacturer_code' =&gt;0, 'barcode' =&gt;nil, 'product_code' =&gt;0})\n    @@Product &lt;&lt; self\n    @title = hsh['title']\n    @price = hsh['price']\n    @manufacturer_code = hsh['manufacturer_code'].to_i\n    @manufacturer = AUTHORIZED_MANUFACTURERS.index(manufacturer_code)\n    @barcode = hsh['barcode']\n    @code = \"#{PRODUCT_TYPES.index[product_code]}--#{@manufacturer_code}--#{@barcode}\"\n    @@uniqueid &lt;&lt; @code\n</code></pre>\n\n<p>When I try to initialize a new product</p>\n\n<pre><code>product1 = Product.new({'title'=&gt;\"teste\",'price'=&gt;10,'manufacture_code'=&gt;0,'barcode'=&gt;\"aaa111\",'product_code'=&gt;1})\n</code></pre>\n\n<p>I get <code>ArgumentError: wrong number of arguments (given 0, expected 1)</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "testing"], "comments": [{"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523897994, "post_id": 49862493, "comment_id": 86740277, "body": "Does <code>Checklist</code> have validations? (Including those that might result from association declarations, say, as in rails 5.)"}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "reply_to_user": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523900380, "post_id": 49862493, "comment_id": 86741598, "body": "@jvillian There is no validation. Updated the question above."}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "reply_to_user": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523901205, "post_id": 49862493, "comment_id": 86742053, "body": "@max Yeah. You are right. After entering <code>optional:true</code> there is no error."}, {"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523901385, "post_id": 49862493, "comment_id": 86742155, "body": "Just so you&#39;re clear, your <code>Checklist</code> <i>does</i> have a validation. It is, as indicated below, a built-in validation from your <code>belongs_to</code> declaration which is why I included the parenthetical in my original comment."}], "answers": [{"comments": [{"owner": {"reputation": 5141, "user_id": 193980, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/aafa8848c4b764f080b1b31a51eab73d?s=128&d=identicon&r=PG", "display_name": "Phlip", "link": "https://stackoverflow.com/users/193980/phlip"}, "edited": false, "score": 1, "creation_date": 1523899053, "post_id": 49862738, "comment_id": 86740875, "body": "Always test with <code>record.save!</code>, with the exclamation point <code>!</code>, if you want the record to be saved, so if it fails it raises an exception that stops the test, and explains exactly what went wrong."}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523899571, "post_id": 49862738, "comment_id": 86741146, "body": "@tom Lord My model checklist.rb doesn&#39;t have any validations set."}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523899601, "post_id": 49862738, "comment_id": 86741168, "body": "<code>class Checklist &lt; ApplicationRecord   belongs_to :product end</code>"}, {"owner": {"reputation": 1812, "user_id": 9104680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e2d06cc56c31f995950c00602a0e7d?s=128&d=identicon&r=PG", "display_name": "Derek Hopper", "link": "https://stackoverflow.com/users/9104680/derek-hopper"}, "reply_to_user": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 3, "creation_date": 1523900463, "post_id": 49862738, "comment_id": 86741640, "body": "@PraveenKJ In Rails 5, <code>belongs_to</code> adds a validation for presence of the product. If you want to turn this off and make it optional, you can specify <code>optional: true</code> as an option. Read more here: <a href=\"http://guides.rubyonrails.org/association_basics.html#optional\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/association_basics.html#optional</a>"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "reply_to_user": {"reputation": 5141, "user_id": 193980, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/aafa8848c4b764f080b1b31a51eab73d?s=128&d=identicon&r=PG", "display_name": "Phlip", "link": "https://stackoverflow.com/users/193980/phlip"}, "edited": false, "score": 0, "creation_date": 1523900912, "post_id": 49862738, "comment_id": 86741890, "body": "@Phlip Whilst I agree with you in general, I think it&#39;s perfectly valid to test for <b>a specific validation error message</b> in a test like this, rather than simply &quot;the record failed to save&quot;. That way, if you have an error in your factory (or whatever) then only a minimal number of tests fail."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "reply_to_user": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523900993, "post_id": 49862738, "comment_id": 86741939, "body": "@PraveenKJ As I explained above, you could have seen the error message for yourself by inspecting: <code>checklist.errors.messages</code>."}], "tags": [], "owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "is_accepted": false, "score": 5, "last_activity_date": 1523898782, "last_edit_date": 1523898782, "creation_date": 1523898339, "answer_id": 49862738, "question_id": 49862493, "link": "https://stackoverflow.com/questions/49862493/rails-testing-a-model-says-expected-false-to-be-truthy/49862738#49862738", "title": "Rails testing a model says &#39;Expected false to be truthy&#39;", "body": "<p><code>checklist.save</code> will return <code>false</code> if the <code>checklist</code> failed to save for some reason; presumably because a <strong>validation failed</strong>.</p>\n\n<p>For example, perhaps your <code>app/models/checklists.rb</code> contains something like:</p>\n\n<pre><code>validates :product_id, presence: true\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>validates :content, length: { minimum: 10 }\n</code></pre>\n\n<p>Etc. In this simple scenario, you can probably easily determine the error by just looking at the model definition; but for a more complex application you could view: <code>checklist.errors.messages</code> to see a list of reasons why the record failed to save.</p>\n\n<p>Judging by the test name (<strong>\"should have content\"</strong>), my guess is that it's failing because <code>content</code> cannot be blank!</p>\n\n<p>To make this test pass, for example, perhaps you need to write:</p>\n\n<pre><code>test 'should have content' do\n  checklist = Checklist.new(content: 'hello world')\n  assert checklist.save\nend\n</code></pre>\n\n<hr>\n\n<p>One common approach that people use when testing this sort of thing is to define a \"valid record\" in <a href=\"https://github.com/thoughtbot/factory_bot_rails\" rel=\"nofollow noreferrer\">factories</a>; this lets you explicitly test for <em>invalid</em> records, rather than having to explicitly re-define valid records in lots of place. For example, here you could do:</p>\n\n<pre><code># test/factories/checklists.rb\nFactoryBot.define do\n  factory :checklist do\n    content 'test content'\n  end\nend\n\n# test/models/checklist_test.rb\ntest 'should have content' do\n  checklist = build(:checklist, content: nil)\n  refute checklist.save # Expecting this to FAIL!\n  assert_includes \"Content cannot be nil\", checklist.errors\nend\n</code></pre>\n\n<p>(Code may not be 100% complete/accurate; but you get the idea)</p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "is_accepted": false, "score": 0, "last_activity_date": 1523989339, "creation_date": 1523989339, "answer_id": 49884982, "question_id": 49862493, "link": "https://stackoverflow.com/questions/49862493/rails-testing-a-model-says-expected-false-to-be-truthy/49884982#49884982", "title": "Rails testing a model says &#39;Expected false to be truthy&#39;", "body": "<p>I have learned Fixtures to solve this problem. </p>\n\n<p>Fixtures are designed in a way that even associated data(association in model) can be done. For example in my test i have written</p>\n\n<pre><code>checklist = checklists(:one)\n</code></pre>\n\n<p>to get a test data for checklist. In checklists fixtures(checklists.yml)</p>\n\n<pre><code>  one:\n    product: one\n    content: Entry\n    hashtag: '#markets'\n    archived: false\n    done: false\n</code></pre>\n\n<p>where</p>\n\n<pre><code>product: one\n</code></pre>\n\n<p>refers to <strong>:one</strong> data in <strong>products.yml</strong> which is</p>\n\n<pre><code>  one:\n   user: one\n   name: Test\n   role: Will decide\n</code></pre>\n\n<p>and thus association in fixtures is done.</p>\n"}], "owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4340, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1523989339, "creation_date": 1523897514, "last_edit_date": 1523901557, "question_id": 49862493, "link": "https://stackoverflow.com/questions/49862493/rails-testing-a-model-says-expected-false-to-be-truthy", "title": "Rails testing a model says &#39;Expected false to be truthy&#39;", "body": "<p>I am having site where users can create products upon signup and products can have checklists.</p>\n\n<p>I am having a checklist table with following columns:-</p>\n\n<pre><code>id  |  product_id  | content  |  archived \n</code></pre>\n\n<p>I am new to rails testing. I wrote the test below</p>\n\n<pre><code>  test 'should have content' do\n    checklist = Checklist.new\n    assert checklist.save\n  end\n</code></pre>\n\n<p>and run the test with following command</p>\n\n<pre><code>ruby -I test test/models/checklist_test.rb\n</code></pre>\n\n<p>and test is failed with <strong>Expected false to be truthy</strong>  error.</p>\n\n<p>Is it because of the problem a checklist can be accessed using user.product.checklists i have to populate the data in fixtures first and call those in testing?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>I don't have any validations in checklist model.</p>\n\n<p><code>class Checklist &lt; ApplicationRecord\n  belongs_to :product\nend</code></p>\n\n<p>I added <strong>!</strong> in test <strong>save</strong> like below</p>\n\n<pre><code>  test 'should have content' do\n    checklist = Checklist.new\n    assert checklist.save!\n  end\n</code></pre>\n\n<p>and got this error</p>\n\n<blockquote>\n  <p>ActiveRecord::RecordInvalid: Validation failed: Product must exist</p>\n</blockquote>\n\n<p>cause the table has product_id in it. I don't know how to supply data to rails test. Any help?</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>The error is eliminated after editing like below.</p>\n\n<p><code>class Checklist &lt; ApplicationRecord\n  belongs_to :product, optional: true\nend</code></p>\n\n<p>However i want to test the model with <code>product</code> present. I don't know how to supply data to the test with fixtures as if there is no foreign key i can use <code>Checklist.new</code> in test.</p>\n\n<p>Since it has foreign key how can i supply data to <code>Checklist</code> as it belongs to <code>Product</code> which itself belongs to <code>User</code>?</p>\n"}, {"tags": ["ruby", "rubygems"], "comments": [{"owner": {"reputation": 383, "user_id": 3985721, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/9bee4235ea6f190c87d8162dfcc75009?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Hadik", "link": "https://stackoverflow.com/users/3985721/josh-hadik"}, "reply_to_user": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523896375, "post_id": 49862042, "comment_id": 86739418, "body": "@jvillian yeah I&#39;ve looked in to that but from what I understand engines are only for rails, and I want my gem to work on both rails and plain ruby projects"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 1, "creation_date": 1523902031, "post_id": 49862042, "comment_id": 86742492, "body": "I don&#39;t think that&#39;s possible. You need to write e.g. <code>module MainGemFile; class ClassOne</code>, or <code>class MainGemFile::ClassOne</code> in each file. Explicitly writing the <code>module</code> is generally the preferred approach."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 1, "creation_date": 1523902124, "post_id": 49862042, "comment_id": 86742534, "body": "When you <code>require</code> a file, I don&#39;t think there&#39;s any way to &quot;require it within a context&quot; (i.e. within a module). If that were possible, it would lead to all sorts of weird behaviour... For example, even in your simple example, the definition of <code>ClassOne</code> would change depending on which file gets loaded!!"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1523902164, "post_id": 49862042, "comment_id": 86742554, "body": "Can you find any example of another gem that loads its classes in the way you describe?"}], "owner": {"reputation": 383, "user_id": 3985721, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/9bee4235ea6f190c87d8162dfcc75009?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Hadik", "link": "https://stackoverflow.com/users/3985721/josh-hadik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523896242, "creation_date": 1523895945, "last_edit_date": 1523896242, "question_id": 49862042, "link": "https://stackoverflow.com/questions/49862042/namespacing-all-classes-within-a-ruby-gem", "title": "Namespacing all classes within a Ruby Gem?", "body": "<p>Ok so I'm assuming this is either super trivial or not possible, but either way I'm struggling to find an answer on the issue. </p>\n\n<p>I'm making a gem in ruby right now that has many classes in many different files, all imported in the main gem file like so:</p>\n\n<pre><code># lib/main_gem_file.rb\n\nmodule MainGemFile \n  Dir[File.join(__dir__, 'main_gem_file', '*.rb')].each do |file|\n    require file \n  end\nend\n</code></pre>\n\n<p>This works fine and all of my files are loaded. The problem is, none of them are loaded under the MainGemFile namespace. Currently, none of the class files in the main_gem_file use the namespace in their definition, so they look like the following:</p>\n\n<pre><code># lib/main_gem_file/class_one.rb\n\nclass ClassOne\nend\n</code></pre>\n\n<p>Ideally I would find a way to do the following:</p>\n\n<ol>\n<li>Load all classes from lib files into the specific module (MainGemFile) without needing to namespace each individual class (obviously I could do MainGemFile::ClassA at the top of each class, but this feels like a lot of grunt work since I have a lot of classes, and I'm assuming their should be some easy way to do this automatically in the main_gem_file.rb file.</li>\n</ol>\n\n<p>Additionally, I would love to structure everything in a way that any ruby project that requires this gem must use MainGemFile::ClassA syntax to access a Class, while allowing the actually internal classes of the the gem to access their sibling classes with just the ClassA call since they are defined in the same module. Again, feels like grunt work to have to go through and manually add MainGemFile:: before every class call, but will do it if their is no other solution.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ransack"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "edited": false, "score": 0, "creation_date": 1523891869, "post_id": 49860783, "comment_id": 86736658, "body": "I&#39;m still getting the same error =&gt; No Ransack::Search object was provided to search_form_for!"}], "tags": [], "owner": {"reputation": 990, "user_id": 7240463, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/RQUCc.jpg?s=128&g=1", "display_name": "current_user", "link": "https://stackoverflow.com/users/7240463/current-user"}, "is_accepted": false, "score": 1, "last_activity_date": 1523891873, "last_edit_date": 1523891873, "creation_date": 1523891741, "answer_id": 49860783, "question_id": 49860437, "link": "https://stackoverflow.com/questions/49860437/no-ransack-search-object-was-provided-to-search-form-for/49860783#49860783", "title": "No Ransack Search object was provided to search_form_for", "body": "<p>replace</p>\n\n<pre><code>   &lt;%= search_form_for @search do |f| %&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>   &lt;%= search_form_for @search, url: url_for(controller: 'users', action: 'index') do |f| %&gt;\n</code></pre>\n\n<p>Replace the controller name with your own controller</p>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 3169550, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000370892968/picture?type=large", "display_name": "aaron.v", "link": "https://stackoverflow.com/users/3169550/aaron-v"}, "is_accepted": true, "score": 0, "last_activity_date": 1523893348, "creation_date": 1523893348, "answer_id": 49861270, "question_id": 49860437, "link": "https://stackoverflow.com/questions/49860437/no-ransack-search-object-was-provided-to-search-form-for/49861270#49861270", "title": "No Ransack Search object was provided to search_form_for", "body": "<p>You are conditionally setting search based on <code>params[:q]</code> which will never get generated because it relies on the form in your view.</p>\n\n<p>I would revise your code in your controller like this</p>\n\n<pre><code>def index \n  @search = Patient.search(params[:q])\n  @patients = @search.result\n  if params[:q].blank?\n    @patients = Patient.where(:user_id =&gt; params[:user_id])\n  end\nend\n</code></pre>\n\n<p>This way, you get your search prioritized if it's available, otherwise you scope it down to how you want it.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11929442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r9SxPNpK45M/AAAAAAAAAAI/AAAAAAAAAAw/lTaqHSv6K7w/photo.jpg?sz=128", "display_name": "martom", "link": "https://stackoverflow.com/users/11929442/martom"}, "is_accepted": false, "score": -1, "last_activity_date": 1565820940, "creation_date": 1565820940, "answer_id": 57502733, "question_id": 49860437, "link": "https://stackoverflow.com/questions/49860437/no-ransack-search-object-was-provided-to-search-form-for/57502733#57502733", "title": "No Ransack Search object was provided to search_form_for", "body": "<p>Not a very clean solution but you could basically precheck if !@search.blank? in your view.</p>\n\n<pre><code>&lt;% if (!@search.blank?) %&gt;\n&lt;%= search_form_for @search do |f| %&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= f.label :name_cont, \"Name\" %&gt;\n    &lt;%= f.text_field :name_cont %&gt;\n  &lt;/div&gt;\n  &lt;div&gt;&lt;%= f.submit %&gt;&lt;/div&gt;`enter code here`\n&lt;% end %&gt;\n</code></pre>\n\n\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9409047"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 49861270, "answer_count": 3, "score": 1, "last_activity_date": 1565820940, "creation_date": 1523890675, "question_id": 49860437, "link": "https://stackoverflow.com/questions/49860437/no-ransack-search-object-was-provided-to-search-form-for", "title": "No Ransack Search object was provided to search_form_for", "body": "<p>I'm using the ransack gem, and it can't seem to find the search object, even though it's in my controller.</p>\n\n<p>This is the index method</p>\n\n<pre><code>  def index\n      if params[:q].present?\n       @search = Patient.search(params[:q])\n       @patients = @search.result\n      else\n       @patients = Patient.where(:user_id =&gt; params[:user_id])\n      end\n  end\n</code></pre>\n\n<p>This is the view form</p>\n\n<pre><code>&lt;%= search_form_for @search do |f| %&gt;\n                &lt;div class=\"field\"&gt;\n                    &lt;%= f.label :name_cont, \"Name\" %&gt;\n                    &lt;%= f.text_field :name_cont %&gt;\n                &lt;/div&gt;\n                  &lt;div&gt;&lt;%= f.submit %&gt;&lt;/div&gt;\n            &lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["ruby", "refactoring", "minitest", "reusability", "code-reuse"], "comments": [{"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1585057886, "post_id": 49859991, "comment_id": 107628093, "body": "I&#39;ve rolled your edit back, Kieth was wrong to ask you to edit your solution into your question. That&#39;s not a thing we do on Stack Overflow."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7482316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7j6w.jpg?s=128&g=1", "display_name": "Jeromearsene", "link": "https://stackoverflow.com/users/7482316/jeromearsene"}, "edited": false, "score": 0, "creation_date": 1523957827, "post_id": 49861550, "comment_id": 86764600, "body": "Good idea ! I have completed with my response."}], "tags": [], "owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "is_accepted": false, "score": 0, "last_activity_date": 1523894262, "creation_date": 1523894262, "answer_id": 49861550, "question_id": 49859991, "link": "https://stackoverflow.com/questions/49859991/how-can-i-split-test-methods-for-reuse-in-multiple-case-with-minitest/49861550#49861550", "title": "How can I split test methods for reuse in multiple case with Minitest?", "body": "<p>As far as I can tell, it is not possible to do what you are trying to do. The problem here is that the <code>it</code> can only be called from within a <code>describe</code> block. <code>it</code> will not be available in methods <em>called</em> by that block.</p>\n\n<p>I did some experimenting. The best I could come up with was that a lambda can be defined within a <code>describe</code> block, and used by all <code>it</code> blocks in that <code>describe</code>. (It is not possible to use a conventional method in this way.)</p>\n\n<p>Here is an example:</p>\n\n<pre><code>require \"minitest/autorun\"\n\nclass MyTest &lt; Minitest::Test\n\n  describe 'number test' do\n\n    # It is not legal to define a method here,\n    # you'll get this error when trying to call it:\n    # \"undefined method `is_odd'\"\n\n    # def is_odd(number)\n    #   it 'is odd' do\n    #     assert_equal (number / 2), 1\n    #   end\n    # end\n\n    is_odd_lambda = -&gt;(number) do\n      it 'is odd' do\n        assert_equal (number / 2), 1\n      end\n    end\n\n\n    # is_odd(3)\n    is_odd_lambda.(3)\n  end\nend\n</code></pre>\n\n<p>Calling the <code>is_odd</code> method results in an error, but calling the <code>is_odd_lambda</code> does not.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7482316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7j6w.jpg?s=128&g=1", "display_name": "Jeromearsene", "link": "https://stackoverflow.com/users/7482316/jeromearsene"}, "is_accepted": true, "score": 0, "last_activity_date": 1523957719, "creation_date": 1523957719, "answer_id": 49874641, "question_id": 49859991, "link": "https://stackoverflow.com/questions/49859991/how-can-i-split-test-methods-for-reuse-in-multiple-case-with-minitest/49874641#49874641", "title": "How can I split test methods for reuse in multiple case with Minitest?", "body": "<p>Great idea Keith Bennett ! Lambda is a good approach. </p>\n\n<p>I have my solution now:</p>\n\n<p>My module with lambda who run default tests:\n<strong>default_tests.rb</strong></p>\n\n<pre><code>module DefaultTest\n\n Run = -&gt;(*variables_to_test) do\n  describe \"Default test\" do\n   variables_to_test.each do |variable|\n\n    it \"is Hash\" do\n      self.class.send(variable).must_be_instance_of Hash\n    end\n\n    it \"no error return\" do\n      self.class.send(variable)['error'].must_be_nil\n    end\n\n   end\n  end\n end\n\nend\n</code></pre>\n\n<p><strong>test_contacts.rb</strong></p>\n\n<pre><code>module TestAircall\n describe Aircall::Contacts do\n\n  def self.contact_by_id\n   @contact_by_id ||= DefaultAircall::AIRCALL.contacts.get_by_id(ENV['TEST_DEFAULT_CONTACT_ID'])\n  end\n\n  def self.contact_by_phone_number\n   @contact_by_phone_number ||= DefaultAircall::AIRCALL.contacts.get_by_phone_number(ENV['TEST_DEFAULT_PHONE_NUMBER'])\n  end\n\n  def self.contact_by_email\n   @contact_by_email ||= DefaultAircall::AIRCALL.contacts.get_by_email(ENV['TEST_DEFAULT_EMAIL'])\n  end\n\n  DefaultTest::Run.('contact_by_id', 'contact_by_phone_number', 'contact_by_email')\n end\nend\n</code></pre>\n\n<p><strong>test_users.rb</strong></p>\n\n<pre><code>module TestAircall\n describe Aircall::Users do\n  def self.user_by_id\n   @user_by_id ||= DefaultAircall::AIRCALL.users.get_by_id(ENV['TEST_DEFAULT_USER_ID'])\n  end\n\n  DefaultTest::Run.('user_by_id')\n end\nend\n</code></pre>\n\n<p>I can call and run my default tests in every file test for any variable. </p>\n"}], "owner": {"reputation": 31, "user_id": 7482316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7j6w.jpg?s=128&g=1", "display_name": "Jeromearsene", "link": "https://stackoverflow.com/users/7482316/jeromearsene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 49874641, "answer_count": 2, "score": 0, "last_activity_date": 1585057782, "creation_date": 1523889529, "last_edit_date": 1585057782, "question_id": 49859991, "link": "https://stackoverflow.com/questions/49859991/how-can-i-split-test-methods-for-reuse-in-multiple-case-with-minitest", "title": "How can I split test methods for reuse in multiple case with Minitest?", "body": "<p>I blocked for refactor my code in my <strong>Minitest</strong> files.</p>\n\n<p>I have this example:</p>\n\n<p><strong>test_calls.rb</strong></p>\n\n<pre><code>describe Aircall::Calls do\n before do\n  @call_by_id = DefaultAircall::AIRCALL.calls.get_by_id(34043501)\n  @call_by_user_id = DefaultAircall::AIRCALL.calls.get_by_user_id(80603)\n end\n\n describe \"By id\" do\n  it \"is Hash\" do\n    @call_by_id.must_be_instance_of Hash\n  end\n\n  it \"no error return\" do\n    @call_by_id['error'].must_be_nil\n  end\n end\n\n describe \"by user id\" do\n  it \"is Hash\" do\n    @call_by_user_id.must_be_instance_of Hash\n  end\n\n  it \"no error return\" do\n    @call_by_user_id['error'].must_be_nil\n  end\n end\nend\n</code></pre>\n\n<p><strong>test_users.rb</strong></p>\n\n<pre><code>describe Aircall::Users do\ndescribe \"By id\" do\n\n  before do\n    @user_by_id = DefaultAircall::AIRCALL.users.get_by_id(80603)\n  end\n\n  it \"is Hash\" do\n    @user_by_id.must_be_instance_of Hash\n  end\n\n  it \"no error return\" do\n    @user_by_id['error'].must_be_nil\n  end\n\n end\nend\n</code></pre>\n\n<p>Ideally, I want split my code in another file, like this:</p>\n\n<pre><code>class DefaultTest\n def initialize(element_to_test)\n  @element_to_test = element_to_test\n end\n\n def defaults_tests\n  describe \"default\" do\n   it \"is Hash\" do\n    @element_to_test.must_be_instance_of Hash\n   end\n\n   it \"no error return\" do\n    @element_to_test['error'].must_be_nil\n   end\n  end\n end\nend\n</code></pre>\n\n<p>So, I could be import my <strong>default tests</strong> in my different tests files.</p>\n\n<p>I don't know if it's possible and how. I have succeeded one time I think, but the test don't appear in console. If I call a class method who run some Minitest tests, my task (who run the test) not accounting my default tests.</p>\n"}, {"tags": ["ruby", "mongodb", "mongodb-query"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 6374824, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207372264078048/picture?type=large", "display_name": "Adriaan Marain", "link": "https://stackoverflow.com/users/6374824/adriaan-marain"}, "is_accepted": true, "score": 1, "last_activity_date": 1523890551, "creation_date": 1523890551, "answer_id": 49860383, "question_id": 49859942, "link": "https://stackoverflow.com/questions/49859942/mongodb-query-check-existing-documents/49860383#49860383", "title": "Mongodb query - check existing documents", "body": "<p>Use the <code>upsert: true</code> option in your update query.</p>\n\n<p>From the mongodb manual:</p>\n\n<blockquote>\n  <p>Upsert: If set to true, creates a new document when no document matches the query criteria. The default value is false, which does not insert a new document when no match is found.</p>\n</blockquote>\n\n<p>Your query could look something like this:</p>\n\n<pre><code>db.coll.update({\"title\" : \"Document\"}, {$push: {\n    \"comments\":{\n        \"user\":'user2',\n        \"message\": 'My second comment',\n        \"dateCreated\": new Date(2013,11,10,2,35),\n        \"like\": 0\n        }\n    },\n    {upsert: true}\n})\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 7389030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0kWrTF5o-mU/AAAAAAAAAAI/AAAAAAAAH4c/T3X98BGhIZU/photo.jpg?sz=128", "display_name": "Siya", "link": "https://stackoverflow.com/users/7389030/siya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 49860383, "answer_count": 1, "score": 0, "last_activity_date": 1523890551, "creation_date": 1523889402, "question_id": 49859942, "link": "https://stackoverflow.com/questions/49859942/mongodb-query-check-existing-documents", "title": "Mongodb query - check existing documents", "body": "<p>Is it possible to write a code in Ruby such that if a document already exists in my database to do an aggregation of the new document and the one that already exists, and if it does not exist add the new document to the database ?</p>\n\n<p>I know how to do an aggregation, but I don't know how to use $exists in this case.</p>\n\n<p>To update existing documents, i've founded, but I think that I can't use it if I want to push a whole hash:</p>\n\n<pre><code>db.coll.update({\"title\" : \"Document\"},\n {$push:{\"comments\":{\n     \"user\":'user2',\n     \"message\": 'My second comment',\n     \"dateCreated\": new Date(2013,11,10,2,35),\n     \"like\": 0\n}}})\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1523887696, "post_id": 49859266, "comment_id": 86733508, "body": "Why do you think it does not work? Any errors or?"}, {"owner": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1523887844, "post_id": 49859266, "comment_id": 86733645, "body": "Try to debug it first, for example:  <code>1: article_data = articlesArray.first   2: article = Article.new(title: article_data.title, link: article_data.link, paragraphs: article_data.paragraphs.text[176...article.paragraphs.text.l&zwnj;&#8203;ength-283])   3: article.save   4: puts article.errors</code>"}, {"owner": {"reputation": 14111, "user_id": 5783745, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z5VSF.jpg?s=128&g=1", "display_name": "stevec", "link": "https://stackoverflow.com/users/5783745/stevec"}, "reply_to_user": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1523887999, "post_id": 49859266, "comment_id": 86733763, "body": "@AlexGolubenko running what you suggest gives: SyntaxError ((irb):142: syntax error, unexpected tIDENTIFIER, expecting end-of-input ...raphs.text.length-283]) article.save puts article.errors"}, {"owner": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1523888088, "post_id": 49859266, "comment_id": 86733825, "body": "I updated my comment, do it by steps."}, {"owner": {"reputation": 14111, "user_id": 5783745, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z5VSF.jpg?s=128&g=1", "display_name": "stevec", "link": "https://stackoverflow.com/users/5783745/stevec"}, "reply_to_user": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1523888201, "post_id": 49859266, "comment_id": 86733921, "body": "The first step works. The second step says: NoMethodError (undefined method `paragraphs&#39; for nil:NilClass)"}, {"owner": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1523888280, "post_id": 49859266, "comment_id": 86733971, "body": "ok, after 1 step, do <code>puts article_data</code>"}, {"owner": {"reputation": 14111, "user_id": 5783745, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z5VSF.jpg?s=128&g=1", "display_name": "stevec", "link": "https://stackoverflow.com/users/5783745/stevec"}, "reply_to_user": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1523888403, "post_id": 49859266, "comment_id": 86734053, "body": "If I type the word article_data it returns all the data for the first article. But when I try puts article_data it gives: #&lt;Article:0x00007f950f9f7170&gt; =&gt; nil"}, {"owner": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "reply_to_user": {"reputation": 14111, "user_id": 5783745, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z5VSF.jpg?s=128&g=1", "display_name": "stevec", "link": "https://stackoverflow.com/users/5783745/stevec"}, "edited": false, "score": 0, "creation_date": 1523888437, "post_id": 49859266, "comment_id": 86734079, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169090/discussion-between-alex-golubenko-and-user5783745\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 14111, "user_id": 5783745, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z5VSF.jpg?s=128&g=1", "display_name": "stevec", "link": "https://stackoverflow.com/users/5783745/stevec"}, "is_accepted": false, "score": 0, "last_activity_date": 1524642737, "creation_date": 1524642737, "answer_id": 50016816, "question_id": 49859266, "link": "https://stackoverflow.com/questions/49859266/iterate-through-an-array-of-hashes-and-save-each-hash-as-a-record-in-a-ruby-on-r/50016816#50016816", "title": "Iterate through an array of hashes and save each hash as a record in a ruby on rails (postgresql) table", "body": "<p>This works: </p>\n\n<pre><code>articlesArray.each do |article|\n    Article.create(\n        title: article.title,\n        link: article.link,\n        paragraphs: article.paragraphs\n        )\nend\n</code></pre>\n"}], "owner": {"reputation": 14111, "user_id": 5783745, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z5VSF.jpg?s=128&g=1", "display_name": "stevec", "link": "https://stackoverflow.com/users/5783745/stevec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1532318001, "creation_date": 1523887511, "last_edit_date": 1532318001, "question_id": 49859266, "link": "https://stackoverflow.com/questions/49859266/iterate-through-an-array-of-hashes-and-save-each-hash-as-a-record-in-a-ruby-on-r", "title": "Iterate through an array of hashes and save each hash as a record in a ruby on rails (postgresql) table", "body": "<p>I have successfully extracted 90 articles (their titles, links and text), now want to put this data into a table </p>\n\n<p>I created the table:</p>\n\n<pre><code>rails g model Article title:string link:string paragraphs:text\n</code></pre>\n\n<p>In the irb, I can run my extraction (using Nokogiri) to get the data and set it equal to articlesArray</p>\n\n<p>But I cannot figure out what to do next. I cannot work out the correct syntax to get the data successfully into the table</p>\n\n<p>I am still in the irb (not in rails c) - if that makes any difference</p>\n\n<p>I am really struggling</p>\n\n<p><strong>Here are a few things I've tried so far</strong></p>\n\n<pre><code>for i in 0...articlesArray.length\n    Article.create(\n        title: articlesArray[i].title,\n        link: articlesArray[i].link,\n        paragraphs: articlesArray[i].paragraphs.text[176...articlesArray[i].paragraphs.text.length-283]      \n        )\nend\n</code></pre>\n\n<p>Trying another approach</p>\n\n<pre><code>for i in 0...articlesArray.length-1\n\n@article = Article.new\n\n@article.title = articlesArray[i].title\n@article.link = articlesArray[i].link\n@article.paragraphs = articlesArray[i].paragraphs.text[176...articlesArray[i].paragraphs.text.length-283] \n\n@article.save\nend\n</code></pre>\n\n<p>And again</p>\n\n<pre><code>articlesArray.each do |article|\n\n    @article = Article.new\n\n    @article.title = article.title\n    @article.link = article.link\n    @article.paragraphs = article.paragraphs.text[176...article.paragraphs.text.length-283] \n\n    @article.save\nend\n</code></pre>\n\n<p>None of these seem to work</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 9125, "user_id": 671422, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/85da2a1fa3e4017815ff5d3a3d70fabe?s=128&d=identicon&r=PG", "display_name": "Yule", "link": "https://stackoverflow.com/users/671422/yule"}, "edited": false, "score": 2, "creation_date": 1523887146, "post_id": 49858892, "comment_id": 86733087, "body": "<code>render :actions</code> needs to be <code>render :action</code> (singular)"}, {"owner": {"reputation": 1308, "user_id": 3759158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/70BLw.jpg?s=128&g=1", "display_name": "Manishh", "link": "https://stackoverflow.com/users/3759158/manishh"}, "edited": false, "score": 0, "creation_date": 1523887148, "post_id": 49858892, "comment_id": 86733091, "body": "I think it will be render action: :index"}, {"owner": {"reputation": 19, "user_id": 7692795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f998bbfcacc2e0d26bb1045d19e45ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Razz", "link": "https://stackoverflow.com/users/7692795/razz"}, "edited": false, "score": 0, "creation_date": 1523890021, "post_id": 49858892, "comment_id": 86735255, "body": "Cheers guys! That seems to have done the job :D"}], "answers": [{"tags": [], "owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1523918740, "creation_date": 1523918740, "answer_id": 49867333, "question_id": 49858892, "link": "https://stackoverflow.com/questions/49858892/template-is-missing-ruby-on-rails/49867333#49867333", "title": "Template is missing Ruby on Rails", "body": "<p>As <a href=\"https://stackoverflow.com/questions/49858892/template-is-missing-ruby-on-rails#comment86733087_49858892\">Yule</a> suggested <code>render :actions</code> should be singular like:</p>\n\n<pre><code>render :action =&gt; \"index\"\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7692795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f998bbfcacc2e0d26bb1045d19e45ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Razz", "link": "https://stackoverflow.com/users/7692795/razz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523918740, "creation_date": 1523886447, "question_id": 49858892, "link": "https://stackoverflow.com/questions/49858892/template-is-missing-ruby-on-rails", "title": "Template is missing Ruby on Rails", "body": "<p>I am getting the following error:</p>\n\n<pre><code>Template is missing\n\nMissing template clients/search, application/search with {:locale=&gt;[:en], :formats=&gt;[:html], :variants=&gt;[], :handlers=&gt;[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}.\n</code></pre>\n\n<p>I've got a _search.html.erb file in my views folder but I'm not sure why its not working when I press the search button on my clients page.</p>\n\n<p><strong>index.html.erb</strong></p>\n\n<pre><code>&lt;div id=\"client-search\"&gt;\n    &lt;%= render(:partial=&gt;'/search',:locals=&gt;\n               { :my_path =&gt; \"/clients/search\" })%&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>_search.html.erb</strong> (file placed in views folder)</p>\n\n<pre><code>&lt;%= form_tag my_path do %&gt;\n    &lt;h6&gt;Search Customer&lt;/h6&gt;\n    &lt;%= text_field_tag :search_string %&gt;\n    &lt;%= submit_tag 'Search' %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>clients_controller.rb</strong></p>\n\n<pre><code>  def search\n    @clients = Client.simple_search(params[:search_string])\n    render :actions =&gt; \"index\"\n  end\n</code></pre>\n\n<p>Any chance someone could help me as to why I can't search for any clients?</p>\n"}, {"tags": ["ruby", "selenium", "integration", "alm", "hp-quality-center"], "answers": [{"tags": [], "owner": {"reputation": 144, "user_id": 2144303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vfg50.jpg?s=128&g=1", "display_name": "kirkytullins", "link": "https://stackoverflow.com/users/2144303/kirkytullins"}, "is_accepted": false, "score": 0, "last_activity_date": 1524236739, "creation_date": 1524236739, "answer_id": 49944657, "question_id": 49858371, "link": "https://stackoverflow.com/questions/49858371/selenium-ruby-script-and-hp-alm-integration/49944657#49944657", "title": "Selenium Ruby script and HP ALM integration", "body": "<p>I think your best option would be to </p>\n\n<ul>\n<li>create a test of type VAPI-XP-TEST (you need to mention this at test creation as it cannot be changed later)</li>\n<li>Then, you need to provide the script language (VBScript is as good option)</li>\n<li>Then, you need to provide the test type which is your case is\nprobably console application test, other options being : COM/DCOM\nserver test, Java Class Test, Web Service (Soap), Test.</li>\n<li>Then, leave the 'Application Executable File' empty </li>\n</ul>\n\n<p>The above sequence will create the initial script </p>\n\n<p>Below an example of a test script (ALM side) created with the above method in which I added the code to launch (see CODE ADDED below) an external program (ruby.exe)</p>\n\n<pre><code>' vbscript [VBScript]\n' Created by Application Lifecycle Management\n' 4/20/2018 16:34:54\n' ====================================================\n\n\n' ----------------------------------------------------\n' Main Test Function\n' Debug - Boolean. Equals to false if running in [Test Mode] : reporting to Application Lifecycle Management\n' CurrentTestSet - [OTA COM Library].TestSet.\n' CurrentTSTest - [OTA COM Library].TSTest.\n' CurrentRun - [OTA COM Library].Run.\n' ----------------------------------------------------\nSub Test_Main(Debug, CurrentTestSet, CurrentTSTest, CurrentRun)\n  ' *** VBScript Limitation ! ***\n  ' \"On Error Resume Next\" statement suppresses run-time script errors.\n  ' To handle run-time error in a right way, you need to put \"If Err.Number &lt;&gt; 0 Then\"\n  ' after each line of code that can cause such a run-time error.\n  On Error Resume Next\n\n  ' clear output window\n  TDOutput.Clear\n\n  ' TODO: put your code here\n  ' === CODE ADDED START === \n  strCommandLine = \"C:\\\\&lt;pathtoyour ruby interpreter&gt;\\\\bin\\\\ruby.exe c:\\\\test.rb\" &amp;  CurrentTSTest.name\n  Set wshShell = CreateObject(\"WScript.Shell\")\n  iReturn = wshShell.Run(strCommandLine, 1, True)\n  if iReturn = -1 then\n    CurrentRun.Status = \"Failed\"\n    CurrentTSTest.Status = \"Failed\"\n  else\n    CurrentRun.Status = \"Passed\"\n    CurrentTSTest.Status = \"Passed\"\n  end if\n  ' === CODE ADDED END ===     \n\n  If Not Debug Then\n  End If\n  ' handle run-time errors\n  If Err.Number &lt;&gt; 0 Then\n    TDOutput.Print \"Run-time error [\" &amp; Err.Number &amp; \"] : \" &amp; Err.Description\n    ' update execution status in \"Test\" mode\n    If Not Debug Then\n      CurrentRun.Status = \"Failed\"\n      CurrentTSTest.Status = \"Failed\"\n    End If\n  End If\nEnd Sub\n</code></pre>\n\n<p>The above is an example for VBScript where your actual selenium script is c:\\test.rb (see in code above)</p>\n\n<p>Then, you need to create a test instance in the test lab and select this test for running</p>\n\n<p>example of test.rb </p>\n\n<pre><code>puts \"running the script #{ARGV[0]}\"\n# put your test code here \n# in the end exit -1 =&gt; failure or 0 success\nexit -1\n#exit 0\n</code></pre>\n\n<p>You can use the same test.rb or different ones according to your needs.\nI've tested the above setup and it works for me (ALM 12.53) </p>\n\n<p>Good Luck :)</p>\n"}], "owner": {"reputation": 7, "user_id": 9098061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2832890ed7a35ab740b665f5be210249?s=128&d=identicon&r=PG&f=1", "display_name": "Brenda", "link": "https://stackoverflow.com/users/9098061/brenda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524236739, "creation_date": 1523884890, "question_id": 49858371, "link": "https://stackoverflow.com/questions/49858371/selenium-ruby-script-and-hp-alm-integration", "title": "Selenium Ruby script and HP ALM integration", "body": "<p>I am working on Selenium ALM integration.\nI have scripts which are developed in ruby and I want to trigger the test execution selenium scripts from HP ALM and write test execution result back to HP ALM.\nPlease help me on this.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "rubygems"], "comments": [{"owner": {"reputation": 18856, "user_id": 1359650, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dffc4318ac93e728a26c8e8b51b4eb37?s=128&d=identicon&r=PG", "display_name": "jvillian", "link": "https://stackoverflow.com/users/1359650/jvillian"}, "edited": false, "score": 0, "creation_date": 1523890326, "post_id": 49857155, "comment_id": 86735457, "body": "Did you read Heroku&#39;s <a href=\"https://devcenter.heroku.com/articles/bundler-version\" rel=\"nofollow noreferrer\">Bundler Version</a> article?"}], "answers": [{"comments": [{"owner": {"reputation": 1349, "user_id": 6163262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f3655350c57cb94195d64808b7ba61?s=128&d=identicon&r=PG&f=1", "display_name": "whodini9", "link": "https://stackoverflow.com/users/6163262/whodini9"}, "edited": false, "score": 1, "creation_date": 1523886660, "post_id": 49858166, "comment_id": 86732738, "body": "You can only change the heroku bundler via custom buildpack <a href=\"https://stackoverflow.com/questions/27115171/upgrading-bundler-version-on-heroku?rq=1\" title=\"upgrading bundler version on heroku\">stackoverflow.com/questions/27115171/&hellip;</a>"}, {"owner": {"reputation": 16900, "user_id": 597992, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d265520bc3ae286b9b3e05e35812cc97?s=128&d=identicon&r=PG", "display_name": "jpw", "link": "https://stackoverflow.com/users/597992/jpw"}, "edited": false, "score": 0, "creation_date": 1585694636, "post_id": 49858166, "comment_id": 107852060, "body": "fyi Heroku now uses  bundler 1.17.3, at least they do on the Heroku-18 stack, it might be stack-dependent"}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 6, "last_activity_date": 1523884536, "last_edit_date": 1523884536, "creation_date": 1523884174, "answer_id": 49858166, "question_id": 49857155, "link": "https://stackoverflow.com/questions/49857155/heroku-and-bundler-version/49858166#49858166", "title": "Heroku and bundler version", "body": "<p>Bundler <code>1.15.2</code> is the version that is pre-installed on Heroku dynos. Changing Bundler to <code>1.16.1</code> on your machine doesn't change the version installed on Heroku. </p>\n\n<p>Furthermore, you cannot update Bundler on Heroku by running <code>bundle install</code>. And even if that was possible it would take effect on the next run of Bundler - and usually, you only bundle once on a Heroku dyno.</p>\n\n<p>My advice is: It is just a warning, just ignore it and let's hope that Heroku updates Bundler more ofter in the future.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 1604138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2dbee8af46ad50428dc106b9a10096?s=128&d=identicon&r=PG", "display_name": "Patrick Crowley", "link": "https://stackoverflow.com/users/1604138/patrick-crowley"}, "is_accepted": false, "score": 0, "last_activity_date": 1603908568, "creation_date": 1603908568, "answer_id": 64578869, "question_id": 49857155, "link": "https://stackoverflow.com/questions/49857155/heroku-and-bundler-version/64578869#64578869", "title": "Heroku and bundler version", "body": "<p>You also want to make sure you're using a standard Heroku buildpack for this.</p>\n<p>When I attempted to upgrade my app from Cedar to Heroku-20, it kept failing with this same bundler error. But, eventually, I remembered that I had install a custom buildback and that turned out to be the source of the incorrect bundler version.</p>\n<p>Once I switched back to the default Heroku Ruby buildpack, I was finally able to deploy without any issues.</p>\n"}], "owner": {"reputation": 320, "user_id": 5335319, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U9fp3QBq450/AAAAAAAAAAI/AAAAAAAAB30/LF1pqAG9JpI/photo.jpg?sz=128", "display_name": "Denis Bolomier", "link": "https://stackoverflow.com/users/5335319/denis-bolomier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1623, "favorite_count": 0, "accepted_answer_id": 49858166, "answer_count": 2, "score": 3, "last_activity_date": 1603908568, "creation_date": 1523881027, "last_edit_date": 1523884762, "question_id": 49857155, "link": "https://stackoverflow.com/questions/49857155/heroku-and-bundler-version", "title": "Heroku and bundler version", "body": "<p>I'm pushing code on Heroku as usual.</p>\n\n<p>But this message appear : </p>\n\n<blockquote>\n  <p>Warning: the running version of Bundler (1.15.2) is older than the\n  version that created the lockfile (1.16.1). We suggest you upgrade to\n  the latest version of Bundler by running <code>gem install bundler</code>.</p>\n</blockquote>\n\n<p>So I run:</p>\n\n<pre><code>heroku run gem install bundler\n</code></pre>\n\n<blockquote>\n  <p>Running gem install bundler on \u2b22 myapp... up, run.3401\n  (Standard-1X)</p>\n  \n  <p>Fetching: bundler-1.16.1.gem (100%)</p>\n  \n  <p>Successfully installed bundler-1.16.1</p>\n  \n  <p>Parsing documentation for bundler-1.16.1</p>\n  \n  <p>Installing ri documentation for bundler-1.16.1</p>\n  \n  <p>Done installing documentation for bundler after 11 seconds</p>\n  \n  <p>1 gem installed</p>\n</blockquote>\n\n<p>But when I retry to push code:</p>\n\n<blockquote>\n  <p><code>heroku run bundle install</code></p>\n  \n  <p>Running bundle install on \u2b22 myapp... up, run.9532 (Standard-1X)</p>\n  \n  <p>Warning: the running version of Bundler (1.15.2) is older than the\n  version that created the lockfile (1.16.1). We suggest you upgrade to\n  the latest version of Bundler by running <code>gem install bundler</code>.</p>\n</blockquote>\n\n<p>In the gem Gemfile.lock I got:</p>\n\n<blockquote>\n  <p>BUNDLED WITH\n     1.16.1</p>\n</blockquote>\n\n<p>I don't understand why this bundler release doesn't want to be install on Heroku.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-5", "update-all"], "comments": [{"owner": {"reputation": 2285, "user_id": 2039726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fc7ff9bf8f9489ab7715282a9b7e9c?s=128&d=identicon&r=PG", "display_name": "MrShemek", "link": "https://stackoverflow.com/users/2039726/mrshemek"}, "edited": false, "score": 3, "creation_date": 1523881203, "post_id": 49857098, "comment_id": 86728739, "body": "Is this code even valid? I mean - you are setting <code>task_id</code> for all users to <code>12213</code>, then <code>12323</code>, etc. to finally set it to <code>34563</code>. Is there any reason for that?"}, {"owner": {"reputation": 1508, "user_id": 1468122, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/QKC1Z.jpg?s=128&g=1", "display_name": "Ahmad hamza", "link": "https://stackoverflow.com/users/1468122/ahmad-hamza"}, "reply_to_user": {"reputation": 2285, "user_id": 2039726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fc7ff9bf8f9489ab7715282a9b7e9c?s=128&d=identicon&r=PG", "display_name": "MrShemek", "link": "https://stackoverflow.com/users/2039726/mrshemek"}, "edited": false, "score": 0, "creation_date": 1523882270, "post_id": 49857098, "comment_id": 86729488, "body": "Yes you are right. I was trying to write in a simpler way but here is the original code,"}, {"owner": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523882683, "post_id": 49857098, "comment_id": 86729833, "body": "Why would here be <code>n + 1</code>? I dont see it"}, {"owner": {"reputation": 2285, "user_id": 2039726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fc7ff9bf8f9489ab7715282a9b7e9c?s=128&d=identicon&r=PG", "display_name": "MrShemek", "link": "https://stackoverflow.com/users/2039726/mrshemek"}, "edited": false, "score": 0, "creation_date": 1523882715, "post_id": 49857098, "comment_id": 86729847, "body": "Calling: <code>project.update_all(user_attributes: VALUE)</code> should execute only one query: <code>UPDATE &#39;projects&#39; SET &#39;projects.user_attributes&#39; = VALUE</code> (there might be additional <code>where</code> clause)"}, {"owner": {"reputation": 1508, "user_id": 1468122, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/QKC1Z.jpg?s=128&g=1", "display_name": "Ahmad hamza", "link": "https://stackoverflow.com/users/1468122/ahmad-hamza"}, "edited": false, "score": 0, "creation_date": 1523883190, "post_id": 49857098, "comment_id": 86730190, "body": "Here <code>VALUE</code> is dynamic."}, {"owner": {"reputation": 2285, "user_id": 2039726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fc7ff9bf8f9489ab7715282a9b7e9c?s=128&d=identicon&r=PG", "display_name": "MrShemek", "link": "https://stackoverflow.com/users/2039726/mrshemek"}, "edited": false, "score": 0, "creation_date": 1523883802, "post_id": 49857098, "comment_id": 86730625, "body": "Okay, so the problem is that you are trying to set different values for different projects, right? Not the same value (for instance, array of IDs) for all of the projects?"}, {"owner": {"reputation": 1508, "user_id": 1468122, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/QKC1Z.jpg?s=128&g=1", "display_name": "Ahmad hamza", "link": "https://stackoverflow.com/users/1468122/ahmad-hamza"}, "edited": false, "score": 0, "creation_date": 1523884314, "post_id": 49857098, "comment_id": 86731002, "body": "its like updating all users of that project with the task ids and if any user dont exist then it should create the user."}, {"owner": {"reputation": 1508, "user_id": 1468122, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/QKC1Z.jpg?s=128&g=1", "display_name": "Ahmad hamza", "link": "https://stackoverflow.com/users/1468122/ahmad-hamza"}, "reply_to_user": {"reputation": 3320, "user_id": 4950680, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/C8cEh.jpg?s=128&g=1", "display_name": "Martin Zinovsky", "link": "https://stackoverflow.com/users/4950680/martin-zinovsky"}, "edited": false, "score": 0, "creation_date": 1523884740, "post_id": 49857098, "comment_id": 86731304, "body": "@MartinZinovsky because if there are any users which are not present in the db then it will try to create those users."}, {"owner": {"reputation": 1875, "user_id": 4991626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GZ6rj.jpg?s=128&g=1", "display_name": "ashwintastic", "link": "https://stackoverflow.com/users/4991626/ashwintastic"}, "edited": false, "score": 0, "creation_date": 1523957931, "post_id": 49857098, "comment_id": 86764680, "body": "@Ahmadhamza can you share the relation between <code>Project --&gt; User --&gt; Task</code> if I&#39;m not mistaken its many to many between <code>Project and User</code> <code>one to many between Project and Task</code> and <code>many to many between User and Task</code>"}, {"owner": {"reputation": 375, "user_id": 261801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjD4B.jpg?s=128&g=1", "display_name": "Darkfish", "link": "https://stackoverflow.com/users/261801/darkfish"}, "edited": false, "score": 0, "creation_date": 1571637004, "post_id": 49857098, "comment_id": 103292774, "body": "@Ahmadhamza Did you find a solution to your n+1 problem?"}, {"owner": {"reputation": 1508, "user_id": 1468122, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/QKC1Z.jpg?s=128&g=1", "display_name": "Ahmad hamza", "link": "https://stackoverflow.com/users/1468122/ahmad-hamza"}, "reply_to_user": {"reputation": 375, "user_id": 261801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjD4B.jpg?s=128&g=1", "display_name": "Darkfish", "link": "https://stackoverflow.com/users/261801/darkfish"}, "edited": false, "score": 0, "creation_date": 1571643941, "post_id": 49857098, "comment_id": 103295332, "body": "@Darkfish No i dint find any."}], "owner": {"reputation": 1508, "user_id": 1468122, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/QKC1Z.jpg?s=128&g=1", "display_name": "Ahmad hamza", "link": "https://stackoverflow.com/users/1468122/ahmad-hamza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1523882208, "creation_date": 1523880868, "last_edit_date": 1523882208, "question_id": 49857098, "link": "https://stackoverflow.com/questions/49857098/use-update-all-to-update-multiple-objects-with-multiple-values", "title": "Use update_all to update multiple objects with multiple values", "body": "<p>I have to update multiple objects with multiple values like this:</p>\n\n<pre><code>project.update(user_attributes: task_ids.collect { |id| { 'task_id': id } })\n</code></pre>\n\n<p>But the above code will result in <code>n + 1</code>. Any ideas in order to avoid <code>n + 1</code> here?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql"], "answers": [{"comments": [{"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523880626, "post_id": 49856913, "comment_id": 86728329, "body": "Great!! i can store <b>default_check_lists</b> in array right?. where can is have my <b>default_check_lists</b> method? Inside the same model or somewhere else?"}, {"owner": {"reputation": 476, "user_id": 2645167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEnRe.jpg?s=128&g=1", "display_name": "andriy-baran", "link": "https://stackoverflow.com/users/2645167/andriy-baran"}, "reply_to_user": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523880827, "post_id": 49856913, "comment_id": 86728480, "body": "Inside model and it should be an array of hashes. Alternatively you can read from yaml file"}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523880993, "post_id": 49856913, "comment_id": 86728597, "body": "Hey thanks. I am having 25 default checklists. The code looks ugly if i put it in the same model. Can i have the YAML file externally and call it here in the model? Haven&#39;t done that before. How can i do that?"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1523881322, "post_id": 49856913, "comment_id": 86728826, "body": "You may want to use a mass insert instead of 5 different queries though."}, {"owner": {"reputation": 476, "user_id": 2645167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEnRe.jpg?s=128&g=1", "display_name": "andriy-baran", "link": "https://stackoverflow.com/users/2645167/andriy-baran"}, "edited": false, "score": 0, "creation_date": 1523881354, "post_id": 49856913, "comment_id": 86728855, "body": "def default_check_lists    default_check_lists ||= YAML.load_file(&#39;check_lists.yaml&#39;) end"}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523883379, "post_id": 49856913, "comment_id": 86730311, "body": "It worked. I have used the YAML file to successfully load the default data. Thanks @andriy-baran"}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1523883449, "post_id": 49856913, "comment_id": 86730371, "body": "@max Thanks but I think instead of having mass entry as its only 25 checklist data YAML file is good to go."}], "tags": [], "owner": {"reputation": 476, "user_id": 2645167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEnRe.jpg?s=128&g=1", "display_name": "andriy-baran", "link": "https://stackoverflow.com/users/2645167/andriy-baran"}, "is_accepted": true, "score": 1, "last_activity_date": 1523880299, "creation_date": 1523880299, "answer_id": 49856913, "question_id": 49856604, "link": "https://stackoverflow.com/questions/49856604/rails-populate-with-default-entries-after-database-table-was-created/49856913#49856913", "title": "Rails populate with default entries after database table was created", "body": "<p>Use after create callback:</p>\n\n<pre><code>User &lt; ActiveRecord::Base\n  has_many :check_lists\n\n  after_create :add_default_checklist\n\n  def add_default_checklist\n    default_check_lists.each do |check_list_data| # Define way to get default values\n      check_lists.create(check_list_data)\n    end\n  end\nend\n</code></pre>\n\n<p>You'll need to add <code>user_id</code> column to checklist</p>\n"}, {"comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1523883726, "post_id": 49857965, "comment_id": 86730561, "body": "Note that you may have to call <code>spring stop</code> to get the Rails autoloader to pickup on the new &quot;app/services&quot; folder."}, {"owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "edited": false, "score": 0, "creation_date": 1523884991, "post_id": 49857965, "comment_id": 86731478, "body": "Thanks for your detailed answer. Definitely i will give it a try."}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 2, "last_activity_date": 1523884417, "last_edit_date": 1523884417, "creation_date": 1523883581, "answer_id": 49857965, "question_id": 49856604, "link": "https://stackoverflow.com/questions/49856604/rails-populate-with-default-entries-after-database-table-was-created/49857965#49857965", "title": "Rails populate with default entries after database table was created", "body": "<p>I would solve this with a <a href=\"https://www.engineyard.com/blog/keeping-your-rails-controllers-dry-with-services\" rel=\"nofollow noreferrer\">service object</a>.</p>\n\n<pre><code># app/services/default_checklist_service.rb\nclass DefaultChecklistService\n  attr_accessor :user, :defaults\n\n  def initialize(user, defaults = nil)\n    @user = user\n    @defaults = defaults || self.class.load_defaults\n  end\n\n  def self.call(user, defaults = nil)\n     new(user, defaults).call\n  end\n\n  def call\n    self.defaults.map do |attributes|\n      user.checklists.create(attributes)\n    end\n  end\n\n  private\n  def self.load_defaults\n    YAML.load_file(Rails.root.join('config', 'default_checklist.yml'))\n        .try(:[], 'checklists')\n  end\nend\n</code></pre>\n\n<p>This creates a single purpose object which is easily tested. VS model callbacks which add more responsibilities to an already god like model and which are tricky to test and control when and where they fire.</p>\n\n<pre><code># config/default_checklists.yml\nchecklists:\n  -\n    foo: 1\n    bar: 2\n  -\n    foo: 2\n    bar: 3\n</code></pre>\n\n<p>Note that this will create <em>n</em> (where <em>n</em> is the number of default items) separate insert queries which is not very fast. If the performance becomes an issue than you can use a mass insert instead:</p>\n\n<pre><code># app/services/default_checklist_service.rb\nclass DefaultChecklistService\n  # ...\n  def call\n    sql = \"INSERT INTO users(user_id, foo, bar) VALUES \"\n    values = defaults.map do |a|\n      \"(#{@user.id}, #{a[\"foo\"]}, #{a[\"bar\"]})\"\n    end\n    ActiveRecord::Base.connection.execute( sql + values.join(', ') )\n  end\nend\n</code></pre>\n\n<p>Since creating the defaults is expensive and will slow your tests down I would not use a model callback. Instead call the service from the controller where you actually want the seeding to happen:</p>\n\n<pre><code>class UsersController\n  def create\n    @user = User.create(user_params)\n    if @user.save\n      DefaultChecklistService.call(@user)\n      # ...\n    else\n      # ...\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 500, "user_id": 2338769, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rWbFL.jpg?s=128&g=1", "display_name": "Praveen KJ", "link": "https://stackoverflow.com/users/2338769/praveen-kj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 49856913, "answer_count": 2, "score": 0, "last_activity_date": 1523884417, "creation_date": 1523879333, "last_edit_date": 1523879457, "question_id": 49856604, "link": "https://stackoverflow.com/questions/49856604/rails-populate-with-default-entries-after-database-table-was-created", "title": "Rails populate with default entries after database table was created", "body": "<p>I am having a checklist table with following columns:-        </p>\n\n<pre><code>id  |  product_id  | content  |  archived \n</code></pre>\n\n<p>Once the user signs up product table is created and corresponding checklist table is also created.</p>\n\n<p>I want to add default 5 entries with data for checklist table for each user after he/she signs up. Any help?</p>\n"}, {"tags": ["ruby", "cucumber", "capybara"], "comments": [{"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "edited": false, "score": 0, "creation_date": 1523894165, "post_id": 49856570, "comment_id": 86738127, "body": "What version of <code>selenium-webdriver</code> are you using because the driver registration you posted works fine for me (other than the deprecation warning about <code>:switches</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 4294, "user_id": 2826421, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/digYw.png?s=128&g=1", "display_name": "MrLeeh", "link": "https://stackoverflow.com/users/2826421/mrleeh"}, "edited": false, "score": 2, "creation_date": 1523967911, "post_id": 49878013, "comment_id": 86771662, "body": "Please add some text and apply proper formatting to make it easier for folks to understand your answer."}], "tags": [], "owner": {"reputation": 16, "user_id": 2404697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f39fede5dacafbe2e85f6b58d37780?s=128&d=identicon&r=PG", "display_name": "Ergin T&#252;zer", "link": "https://stackoverflow.com/users/2404697/ergin-t%c3%bczer"}, "is_accepted": true, "score": 0, "last_activity_date": 1523967923, "last_edit_date": 1523967923, "creation_date": 1523967688, "answer_id": 49878013, "question_id": 49856570, "link": "https://stackoverflow.com/questions/49856570/getting-netreadtimeout-visiting-a-website-in-ruby-capybara-cucumber/49878013#49878013", "title": "Getting Net::ReadTimeout: visiting a website in Ruby Capybara Cucumber", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Capybara::Selenium::Driver.new(\r\n  app,browser: :chrome,\r\n      desired_capabilities: {\r\n      'chromeOptions' =&gt; {\r\n         'useAutomationExtension' =&gt; false,\r\n         'args' =&gt; ['--disable-web-security', '--start-maximized', '--disable-infobars']\r\n      }\r\n   }\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 3275029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fxlGP.jpg?s=128&g=1", "display_name": "Tzvika Merchav", "link": "https://stackoverflow.com/users/3275029/tzvika-merchav"}, "is_accepted": false, "score": 0, "last_activity_date": 1535619445, "creation_date": 1535619445, "answer_id": 52092952, "question_id": 49856570, "link": "https://stackoverflow.com/questions/49856570/getting-netreadtimeout-visiting-a-website-in-ruby-capybara-cucumber/52092952#52092952", "title": "Getting Net::ReadTimeout: visiting a website in Ruby Capybara Cucumber", "body": "<pre><code> client = Selenium::WebDriver::Remote::Http::Default.new\n client.read_timeout = 120\n\n Capybara.register_driver :headless_chrome do |app|\n    capabilities = Selenium::WebDriver::Remote::Capabilities.chrome(\n      chromeOptions: {args: %w[headless disable-gpu disable-popup-blocking window-size=10_000,1080 log-level=3]}\n    )\n    Capybara::Selenium::Driver.new(app,\n                                   browser: :chrome,\n                                   desired_capabilities: capabilities,\n                                   http_client: client)\n  end\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7842065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e606bb4a16c8b42c7bfb9cda0cb7612?s=128&d=identicon&r=PG&f=1", "display_name": "alkanulutas", "link": "https://stackoverflow.com/users/7842065/alkanulutas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "accepted_answer_id": 49878013, "answer_count": 2, "score": 0, "last_activity_date": 1535619445, "creation_date": 1523879261, "last_edit_date": 1523880639, "question_id": 49856570, "link": "https://stackoverflow.com/questions/49856570/getting-netreadtimeout-visiting-a-website-in-ruby-capybara-cucumber", "title": "Getting Net::ReadTimeout: visiting a website in Ruby Capybara Cucumber", "body": "<p>I'm running automated tests using Ruby/Cucumber/Capybara/Chromedriver, but i get an error while running a simple test scenario. I tried to solve problem by updating version of Ruby, Capybara, Cucumber, Chromdriver and Chrome. I need your help. Here is the details:</p>\n\n<p>Try to:\nvisit '<a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">http://www.google.com</a>'</p>\n\n<p>Getting:\nWARNING: The formatter Teamcity::Cucumber::Formatter is using the deprecated formatter API which will be removed in v4.0 of Cucumber.</p>\n\n<p>2018-04-16 14:32:43 WARN Selenium [DEPRECATION] :args or :switches is deprecated. Use Selenium::WebDriver::Chrome::Options#add_argument instead.</p>\n\n<p>Net::ReadTimeout: Net::ReadTimeout\n./features/step_definitions/common_steps.rb:46:in `/^testing$/'</p>\n\n<p>Chrome Version:65.0.3325.181\nChrome Driver: 2.37\ncucumber: 3.1.0\ncapybara: 3.0.1\nruby: 2.2.6</p>\n\n<p>When I removed \"--disable-extensions\" from env.rb file as you see below it works fine..</p>\n\n<p>Capybara::Selenium::Driver.new(app, :browser => :chrome, :switches => %w[--disable-extensions --disable-web-security --start-maximized])</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1523876928, "post_id": 49855783, "comment_id": 86726020, "body": "Probably by the underlying file system."}], "answers": [{"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": true, "score": 0, "last_activity_date": 1523876962, "creation_date": 1523876962, "answer_id": 49855846, "question_id": 49855783, "link": "https://stackoverflow.com/questions/49855783/how-does-dir-entries-determine-the-order-of-the-listed-files-in-the-array/49855846#49855846", "title": "How does Dir.entries() determine the order of the listed files in the array?", "body": "<p>Although specific Ruby implementations may have their specific logic, it is arbitrary from the point of view of the specification.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6820969"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "closed_date": 1523877014, "accepted_answer_id": 49855846, "answer_count": 1, "score": 0, "last_activity_date": 1523876962, "creation_date": 1523876749, "question_id": 49855783, "link": "https://stackoverflow.com/questions/49855783/how-does-dir-entries-determine-the-order-of-the-listed-files-in-the-array", "closed_reason": "Duplicate", "title": "How does Dir.entries() determine the order of the listed files in the array?", "body": "<p>In my <code>/Users/name/website/posts</code> directory I have the following files:</p>\n\n<pre><code>$ ls -la\ntotal 56\n5 name  staff   160B 16 Apr 20:48 .\n3 name  staff    96B 16 Apr 20:48 ..\n1 name  staff   6.5K 16 Apr 20:47 bar.md\n1 name  staff    11K 16 Apr 20:47 baz.md\n1 name  staff   4.2K 16 Apr 20:47 foo.md\n</code></pre>\n\n<p>With this IRB session:</p>\n\n<pre><code>base = \"/Users/name/website/posts\"\n#=&gt; \"/Users/bc/website/posts\"\nentries = Dir.entries(base)\n#=&gt; [\".\", \"..\", \"bar.md\", \"foo.md\", \"baz.md\"]\n</code></pre>\n\n<p>How is the order of the returned array determined?</p>\n"}]