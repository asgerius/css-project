[{"tags": ["ruby", "ruby-on-rails-4", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1426117712, "post_id": 28999538, "comment_id": 46246964, "body": "Do I have to remove the each loop within the view?"}, {"owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "reply_to_user": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1426117760, "post_id": 28999538, "comment_id": 46246977, "body": "You don&#39;t have to but it&#39;s not really necessary to loop over one entry."}, {"owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1426117804, "post_id": 28999538, "comment_id": 46246991, "body": "With this snipper I get the same error? undefined method `each&#39; for #&lt;Post:0x007f09064bb188&gt;"}, {"owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "reply_to_user": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1426117840, "post_id": 28999538, "comment_id": 46246998, "body": "Try getting rid of the loop and just displaying @featured.title in your view"}, {"owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 1, "creation_date": 1426117891, "post_id": 28999538, "comment_id": 46247023, "body": "Thank you! Worked like a charm +1!"}], "tags": [], "owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "is_accepted": true, "score": 2, "last_activity_date": 1426118217, "last_edit_date": 1426118217, "creation_date": 1426117653, "answer_id": 28999538, "question_id": 28999452, "link": "https://stackoverflow.com/questions/28999452/get-most-recent-post/28999538#28999538", "title": "Get Most Recent Post", "body": "<p>Try this in your controller:</p>\n\n<pre><code>@featured = Post.featured.order(\"created_at\").last\n</code></pre>\n\n<p>Note: if you're only storing one featured post in the @featured instance variable then you can change your view code to this: </p>\n\n<pre><code>&lt;%= @featured.title %&gt;\n</code></pre>\n\n<p>It isn't necessary to loop over one item with the each method.</p>\n"}], "owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 28999538, "answer_count": 1, "score": 1, "last_activity_date": 1426118967, "creation_date": 1426117166, "last_edit_date": 1426118967, "question_id": 28999452, "link": "https://stackoverflow.com/questions/28999452/get-most-recent-post", "title": "Get Most Recent Post", "body": "<p>Currently I'm trying to get only the most recent post in my index view that is marked as 'featured'. </p>\n\n<p>In my controller I have</p>\n\n<pre><code>@featured = Post.featured\n</code></pre>\n\n<p>In my 'Post' Model I have </p>\n\n<pre><code>scope :featured, -&gt; { where(:featured =&gt; true) }\n</code></pre>\n\n<p>And in my view I have </p>\n\n<pre><code>  &lt;% @featured.each do |post| %&gt;\n   &lt;%= post.title %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>What I'm trying to do is literally just get the first post that is marked as featured. </p>\n\n<p>Any help is greatly appreciated, thanks in advance!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex"], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426115092, "post_id": 28998950, "comment_id": 46245998, "body": "To avoid Rails dependency, maybe <code>(2..4).cover? &quot;a,a,a,a,a&quot;.count(&#39;,&#39;) #=&gt; true</code>."}, {"owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "edited": false, "score": 0, "creation_date": 1426117356, "post_id": 28998950, "comment_id": 46246844, "body": "thanks - that&#39;s along the lines of what I&#39;m trying to do. Any idea how to work this in to an active record validation?"}], "tags": [], "owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "is_accepted": false, "score": 2, "last_activity_date": 1426114593, "creation_date": 1426114593, "answer_id": 28998950, "question_id": 28998901, "link": "https://stackoverflow.com/questions/28998901/ruby-regular-expression-to-ensure-string-contains-comma-characters/28998950#28998950", "title": "Ruby Regular Expression To Ensure String Contains Comma Characters", "body": "<p>Does it have to be a regex?  If not, use Ruby's <code>count</code> method:</p>\n\n<pre><code>&gt; \"a,a,a,a,a\".count(',')\n=&gt; 4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "edited": false, "score": 0, "creation_date": 1426117353, "post_id": 28998956, "comment_id": 46246843, "body": "thanks - that&#39;s along the lines of what I&#39;m trying to do. Any idea how to work this in to an active record validation?"}, {"owner": {"reputation": 1988, "user_id": 240953, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2bc6037f47f02b5a61c584a26f5fc05c?s=128&d=identicon&r=PG", "display_name": "Dean Brundage", "link": "https://stackoverflow.com/users/240953/dean-brundage"}, "edited": false, "score": 0, "creation_date": 1426127382, "post_id": 28998956, "comment_id": 46249559, "body": "Writing custom validators are pretty easy. <a href=\"http://guides.rubyonrails.org/active_record_validations.html#performing-custom-validations\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/&hellip;</a>"}], "tags": [], "owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "is_accepted": false, "score": 2, "last_activity_date": 1426114612, "creation_date": 1426114612, "answer_id": 28998956, "question_id": 28998901, "link": "https://stackoverflow.com/questions/28998901/ruby-regular-expression-to-ensure-string-contains-comma-characters/28998956#28998956", "title": "Ruby Regular Expression To Ensure String Contains Comma Characters", "body": "<pre><code>str =\"a,b,a,,\"\np str.count(\",\").between?(1, 4) # =&gt; true\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "edited": false, "score": 0, "creation_date": 1426125673, "post_id": 29000480, "comment_id": 46249115, "body": "getting the following error with that: ArgumentError: The provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \\A and \\z, or forgot to add the :multiline =&gt; true option?"}, {"owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "edited": false, "score": 0, "creation_date": 1426125797, "post_id": 29000480, "comment_id": 46249150, "body": "added multiline: true and it&#39;s working. any idea what the security risk here is?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "edited": false, "score": 0, "creation_date": 1426126986, "post_id": 29000480, "comment_id": 46249454, "body": "I don&#39;t get any problems with Ruby 2.2 or Rubular, without <code>&#47;m</code>.  It also works fine if I replace <code>^</code> with <code>\\A</code> and <code>$</code> with <code>\\z</code>, which makes sense because here the line and string are one and the same. I&#39;m not familiar with security risks."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 1, "last_activity_date": 1426124407, "last_edit_date": 1426124407, "creation_date": 1426123942, "answer_id": 29000480, "question_id": 28998901, "link": "https://stackoverflow.com/questions/28998901/ruby-regular-expression-to-ensure-string-contains-comma-characters/29000480#29000480", "title": "Ruby Regular Expression To Ensure String Contains Comma Characters", "body": "<p>I too would suggest using <code>count</code>, but to address your specific question, you could do it thusly:</p>\n\n<pre><code>r = /^(?:[^,]*,){1,4}[^,]*$/\n\n!!\"eenee\"[r]\n  #=&gt; false \n!!\"eenee, meenee\"[r]\n  #=&gt; true \n!!\"eenee, meenee, minee, mo\"[r]\n  #=&gt; true \n!!\"eenee, meenee, minee, mo, oh, no!\"[r]\n  #=&gt; false \n</code></pre>\n\n<ul>\n<li><code>(?:[^,]*,)</code> is a non-capture group that matches any string of characters other than a comma, followed by a comma;</li>\n<li><code>{1,4}</code> ensures that the non-capture group is matched between 1 and 4 times;</li>\n<li>the anchor <code>^</code> ensures there is no comma before the first non-capture group; and</li>\n<li><code>[^,]*$</code> ensures there is no comma after the last non-capture group.</li>\n</ul>\n"}], "owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 29000480, "answer_count": 3, "score": 0, "last_activity_date": 1426125480, "creation_date": 1426114281, "last_edit_date": 1426125480, "question_id": 28998901, "link": "https://stackoverflow.com/questions/28998901/ruby-regular-expression-to-ensure-string-contains-comma-characters", "title": "Ruby Regular Expression To Ensure String Contains Comma Characters", "body": "<p>I need to verify that a string has at least one comma but not more than 4 commas.</p>\n\n<p>This is what I've tried:</p>\n\n<pre><code>/,{1,4}/\n\n/,\\s{1,4}/\n</code></pre>\n\n<p>Neither of those work.</p>\n\n<p>Note: I've been testing my RegEx's on <a href=\"http://www.rubular.com\" rel=\"nofollow\">Rubular</a></p>\n\n<p>Any help is greatly appreciated.</p>\n\n<p>Note: I'm using this in the context of an Active Record Validation:</p>\n\n<pre><code>validates :my_string, format: { with: /,\\s{1,4}/}\n</code></pre>\n\n<p>How can do this as an Active Record Validation?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "spree"], "answers": [{"comments": [{"owner": {"reputation": 1863, "user_id": 2777118, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/1063240573/picture?type=large", "display_name": "Gibson", "link": "https://stackoverflow.com/users/2777118/gibson"}, "edited": false, "score": 0, "creation_date": 1426159024, "post_id": 28998897, "comment_id": 46261914, "body": "But, for example, If I want to put the cart in my views (which don&#39;t belong to spree), is it possible? @natsumi"}], "tags": [], "owner": {"reputation": 76, "user_id": 884810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6001c7d7fb914cecf766f528e17c356a?s=128&d=identicon&r=PG", "display_name": "natsumi", "link": "https://stackoverflow.com/users/884810/natsumi"}, "is_accepted": false, "score": 0, "last_activity_date": 1426254067, "last_edit_date": 1426254067, "creation_date": 1426114279, "answer_id": 28998897, "question_id": 28998700, "link": "https://stackoverflow.com/questions/28998700/integrating-spree-into-existing-rails-app/28998897#28998897", "title": "Integrating Spree into existing Rails app?", "body": "<p>It's probably best if you try to integrate Spree into your existing App.  If you have your own User models, you can just tell Spree about it and use that.  </p>\n\n<p>All the details on how to do this is in the Developer Guide:\n<a href=\"https://guides.spreecommerce.com/developer/authentication.html\" rel=\"nofollow\">https://guides.spreecommerce.com/developer/authentication.html</a></p>\n"}], "owner": {"reputation": 1863, "user_id": 2777118, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/1063240573/picture?type=large", "display_name": "Gibson", "link": "https://stackoverflow.com/users/2777118/gibson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 990, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1426254067, "creation_date": 1426113392, "last_edit_date": 1426125676, "question_id": 28998700, "link": "https://stackoverflow.com/questions/28998700/integrating-spree-into-existing-rails-app", "title": "Integrating Spree into existing Rails app?", "body": "<p>I had an existing Rails app with my models and controllers, but I wanted to put an e-commerce integration in it.</p>\n\n<p>So, I installed Spree gem, and it worked fine. </p>\n\n<p>The thing is, Spree cart + login etc won't work on the first app, and vice verse.</p>\n\n<p>Should I move all of my controllers + models inside Spree and make a full Spree App with my other views?</p>\n\n<p>Or should I integrate Spree features (cart...login...etc) into my first app?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1426113393, "post_id": 28998652, "comment_id": 46245299, "body": "For each word in words array, the frequency of the word increment by one. (It is like reading English)"}, {"owner": {"reputation": 65, "user_id": 4561833, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/80fe7914976708bc2b9145124aaae5b0?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4561833/ryan"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1426113948, "post_id": 28998652, "comment_id": 46245508, "body": "Sorry I should have been more clear. I understand what is happening but I need clarification on the why. I&#39;m unclear as to what frequencies[word] does exactly."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1426114191, "post_id": 28998652, "comment_id": 46245615, "body": "Here you go: <a href=\"http://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hash_table</a>"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1426116348, "post_id": 28998652, "comment_id": 46246484, "body": "It&#39;s a Hash, or a hash-table, otherwise known as a dictionary. It&#39;s like an array except the key isn&#39;t a numerical value, but something arbitrary. These are really useful data structures for organizing things."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4561833, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/80fe7914976708bc2b9145124aaae5b0?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4561833/ryan"}, "edited": false, "score": 0, "creation_date": 1426114045, "post_id": 28998755, "comment_id": 46245556, "body": "Thanks victor you&#39;re the best &lt;3"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1426115227, "post_id": 28998755, "comment_id": 46246042, "body": "The only thing I&#39;d add to this is that in Ruby it&#39;s necessary to initialize the hash with a default of <code>0</code> because <code>nil += 1</code> is not a valid operation. Other languages automatically cast to integer values when necessary so this might seem confusing at first. In Ruby you need to initialize with a baseline number, which in this case is zero."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1426131378, "post_id": 28998755, "comment_id": 46250551, "body": "It&#39;s perhaps useful to point out that <code>frequencies[word] += 1</code> is syntatic sugar for <code>frequencies[word] = frequencies[word]  + 1</code>. When Ruby finds, on the right side, that <code>frequencies</code> does not have a key <code>word</code>, it assigns <code>word</code> the default value, <code>0</code>, so that <code>frequencies[word]  =&gt; 0</code>, and the expression therefore becomes <code>frequencies[word] = 0+1</code>."}], "tags": [], "owner": {"reputation": 12168, "user_id": 2772643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lg8P7.png?s=128&g=1", "display_name": "victorkt", "link": "https://stackoverflow.com/users/2772643/victorkt"}, "is_accepted": false, "score": 3, "last_activity_date": 1426114043, "last_edit_date": 1426114043, "creation_date": 1426113637, "answer_id": 28998755, "question_id": 28998652, "link": "https://stackoverflow.com/questions/28998652/please-help-me-understand-this-ruby-code/28998755#28998755", "title": "Please help me understand this Ruby code", "body": "<p>Here is the break down:</p>\n\n<pre><code># Prints \"Enter data\" to the console\nputs \"Enter data\"\n\n# Ask for user input, remove any extra line breaks and save to text variable\ntext = gets.chomp\n\n# Splits the text string to an array of words\nwords = text.split\n\n# Create a new Hash, with default values of 0\nfrequencies = Hash.new(0)\n\n# For each word in the array, increment 1 to the value in the frequencies hash.\n# If the key doesn't exist yet, it will be assigned the value 0, since it is the default and then have 1 incremented to it\nwords.each { |word| frequencies[word] += 1 }\n</code></pre>\n\n<p>In the end you will have a Hash where each key is a word in <code>text</code> and the values are the number of times each word appeared.</p>\n"}], "owner": {"reputation": 65, "user_id": 4561833, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/80fe7914976708bc2b9145124aaae5b0?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4561833/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426114043, "creation_date": 1426113164, "last_edit_date": 1426113306, "question_id": 28998652, "link": "https://stackoverflow.com/questions/28998652/please-help-me-understand-this-ruby-code", "title": "Please help me understand this Ruby code", "body": "<p>I've been working at an online course and I was wondering if someone could break down what is going on with the .each function in this code. </p>\n\n<pre><code>puts \"Enter data\"\ntext = gets.chomp\nwords = text.split\n\nfrequencies = Hash.new(0)\n\nwords.each { |word| frequencies[word] += 1 }\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "activerecord", "rspec"], "comments": [{"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1426111932, "post_id": 28998287, "comment_id": 46244778, "body": "Where is <code>speciality</code> defined?"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 989981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9864728dba29dfb24b7d02f936943f8?s=128&d=identicon&r=PG", "display_name": "sgbett", "link": "https://stackoverflow.com/users/989981/sgbett"}, "edited": false, "score": 0, "creation_date": 1426156882, "post_id": 28998397, "comment_id": 46260508, "body": "Thanks for the pointer by making sure all the objects were instantiated as per BroisState&#39;s suggestion then doing reload I realised what the problem was... have posted an answer detailing (of course it was my fault!)"}], "tags": [], "owner": {"reputation": 25150, "user_id": 383888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kd57u.jpg?s=128&g=1", "display_name": "Mori", "link": "https://stackoverflow.com/users/383888/mori"}, "is_accepted": false, "score": 8, "last_activity_date": 1426112022, "creation_date": 1426112022, "answer_id": 28998397, "question_id": 28998287, "link": "https://stackoverflow.com/questions/28998287/rails-activerecord-model-not-updating-in-rspec-model-spec/28998397#28998397", "title": "Rails ActiveRecord Model not updating in RSpec model spec", "body": "<p>Try reloading <code>trainee</code>, e.g.</p>\n\n<pre><code>expect(trainee.reload.current_membership.specialty).to eq(specialty)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 989981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9864728dba29dfb24b7d02f936943f8?s=128&d=identicon&r=PG", "display_name": "sgbett", "link": "https://stackoverflow.com/users/989981/sgbett"}, "edited": false, "score": 0, "creation_date": 1426156807, "post_id": 28998750, "comment_id": 46260462, "body": "thanks for the pointer - I made sure all the objects were created with FactoryGirl.create before hand which in conjunction with Mori&#39;s suggestion helped me figure out what it was"}], "tags": [], "owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "is_accepted": false, "score": 0, "last_activity_date": 1426113616, "creation_date": 1426113616, "answer_id": 28998750, "question_id": 28998287, "link": "https://stackoverflow.com/questions/28998287/rails-activerecord-model-not-updating-in-rspec-model-spec/28998750#28998750", "title": "Rails ActiveRecord Model not updating in RSpec model spec", "body": "<p>The only reason I could think of is that <code>speciality</code> is a new, non-persisted record. Since <code>membership belongs_to :speciality</code> and <code>membership</code> is already persisted, it will not save associated object neither on assignment nor on save. In short, make sure that <code>speciality</code> is saved before creating association. </p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 989981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9864728dba29dfb24b7d02f936943f8?s=128&d=identicon&r=PG", "display_name": "sgbett", "link": "https://stackoverflow.com/users/989981/sgbett"}, "is_accepted": true, "score": 1, "last_activity_date": 1426157597, "creation_date": 1426157597, "answer_id": 29007798, "question_id": 28998287, "link": "https://stackoverflow.com/questions/28998287/rails-activerecord-model-not-updating-in-rspec-model-spec/29007798#29007798", "title": "Rails ActiveRecord Model not updating in RSpec model spec", "body": "<p>Thanks to BroiState and Mori giving me some pointers I was able to establish that it was related to persistence (in particular one of my object methods not respecting it!)</p>\n\n<p>The code for trainee.current_membership is as follows:</p>\n\n<pre><code>def current_membership\n  return unless memberships.current.any?\n  memberships.current.first\nend\n</code></pre>\n\n<p>which uses these related scopes in Membership...</p>\n\n<pre><code>scope :started, -&gt; { self.where(\"#{table_name}.#{_start_field}::TIMESTAMP &lt; '#{Time.now}'\") }\nscope :not_ended, -&gt; { self.where(\"#{table_name}.#{_end_field} IS NULL OR #{table_name}.#{_end_field}::TIMESTAMP &gt; '#{Time.now}'\") }\nscope :current, -&gt; { self.started.not_ended }\n</code></pre>\n\n<p>So each call to trainee.current_membership was giving me a new instance of the 'current' membership record</p>\n\n<p>by explicitly using the same object the spec passed fine, i.e.:</p>\n\n<pre><code>it 'sets specialty' do\n  membership = trainee.current_membership\n  membership.specialty = specialty\n  membership.save!\n  expect(membership.specialty).to eq(specialty.reload)      \nend\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 989981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9864728dba29dfb24b7d02f936943f8?s=128&d=identicon&r=PG", "display_name": "sgbett", "link": "https://stackoverflow.com/users/989981/sgbett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1648, "favorite_count": 0, "accepted_answer_id": 29007798, "answer_count": 3, "score": 3, "last_activity_date": 1426157597, "creation_date": 1426111530, "question_id": 28998287, "link": "https://stackoverflow.com/questions/28998287/rails-activerecord-model-not-updating-in-rspec-model-spec", "title": "Rails ActiveRecord Model not updating in RSpec model spec", "body": "<p>This is driving me insane. I've stripped this down to the bare minimum without losing context (I think!)</p>\n\n<p>All I am trying to do is check that when I update a value and save it to the database, that the value was saved. I want to do this because I need to write some other code that conditionally prevents this in the before_save callback, and I can't test that until I'm sure this is working!</p>\n\n<p>The factories and the spec are below, I'm sure its something really stupid but I just can't figure it out...</p>\n\n<pre><code>FactoryGirl.define do\n\n  factory :programme do\n    name 'Trainee Programme'\n  end\n\n  factory :membership do\n    programme\n  end\n\n  factory :specialty do\n    sequence(:name) { |n| \"Specialty #{n}\" }\n  end\n\n  factory :user do\n    sequence(:email) { |n| \"factorygirl-user-#{n}@remailer.org\" }\n    password 'password'\n    password_confirmation 'password'\n    factory :trainee, class: User do\n      sequence(:email) { |n| \"factorygirl-trainee-#{n}@remailer.org\" }\n      name 'Factory Girl Trainee'\n      after(:create) do |user|\n        FactoryGirl.create(:membership, user: user, start_date: 1.day.ago)\n      end\n    end\n  end\n\nend\n\ndescribe Membership do\n\n  let(:trainee) { FactoryGirl.create(:trainee) }\n\n  it 'sets specialty' do\n    puts trainee.current_membership.inspect\n    trainee.current_membership.specialty = specialty\n    puts trainee.current_membership.inspect\n    trainee.current_membership.save!\n    puts trainee.current_membership.inspect\n    expect(trainee.current_membership.specialty).to eq(specialty)      \n  end\n\nend\n</code></pre>\n\n<p>The spec is failing because the expect sees a nil value. When I run the code the debug output I get is:</p>\n\n<pre><code>#&lt;Membership id: 11, user_id: 11, programme_id: 11, start_date: \"2015-03-10\", end_date: nil, created_at: \"2015-03-11 22:02:51\", updated_at: \"2015-03-11 22:02:51\", options: {}, specialty_id: nil, membership_type_id: nil&gt;\n#&lt;Membership id: 11, user_id: 11, programme_id: 11, start_date: \"2015-03-10\", end_date: nil, created_at: \"2015-03-11 22:02:51\", updated_at: \"2015-03-11 22:02:51\", options: {}, specialty_id: nil, membership_type_id: nil&gt;\n#&lt;Membership id: 11, user_id: 11, programme_id: 11, start_date: \"2015-03-10\", end_date: nil, created_at: \"2015-03-11 22:02:51\", updated_at: \"2015-03-11 22:02:51\", options: {}, specialty_id: nil, membership_type_id: nil&gt;\n</code></pre>\n\n<p>So its as if the assignment of specialty never happens??</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "public-activity"], "answers": [{"comments": [{"owner": {"reputation": 852, "user_id": 4462581, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/624f67643bdf37b458085aee294c870d?s=128&d=identicon&r=PG", "display_name": "abbott567", "link": "https://stackoverflow.com/users/4462581/abbott567"}, "edited": false, "score": 0, "creation_date": 1427290681, "post_id": 29244924, "comment_id": 46717076, "body": "I&#39;ve given you the bounty, because you pointed me in the right direction! I still had to do quite a bit of digging but I eventually managed to sort it! Thanks so much for taking the time to answer this. I will post the final solution to this puzzle as an answer to help anyone in future!"}], "tags": [], "owner": {"reputation": 7166, "user_id": 353878, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/2c1477dd54ee525f3f81a8259fcbb3f1?s=128&d=identicon&r=PG", "display_name": "element119", "link": "https://stackoverflow.com/users/353878/element119"}, "is_accepted": false, "score": 2, "last_activity_date": 1427240407, "last_edit_date": 1495539859, "creation_date": 1427240407, "answer_id": 29244924, "question_id": 28998286, "link": "https://stackoverflow.com/questions/28998286/destroying-upvotes-on-acts-as-votable/29244924#29244924", "title": "Destroying UpVotes on acts_as_votable", "body": "<p>It looks like what you want to do is remove the model's like notification when it is \"unliked\" - is that correct? All you have to do is find the relevant activity and destroy it. Because Activities are models just like any other, you can do this with <code>destroy</code> and/or <code>destroy_all</code>.</p>\n\n<p>I'm not quite sure what your public_activity model looks like, so instead of giving a specific example I'll link you to <a href=\"https://groups.google.com/forum/?fromgroups#!topic/public-activity/3blVGNRGITQ\" rel=\"nofollow noreferrer\">this post</a> on the mailing list for the gem, which shows examples of deleting public activity records.</p>\n\n<p>You may also find it useful to delete the record by its <code>trackable_id</code> - for example: </p>\n\n<pre><code>@activity = PublicActivity::Activity.find_by(trackable_id: (params[:id]), trackable_type: controller_path.classify)\n@activity.destroy\n</code></pre>\n\n<p>There's more information about how that works in <a href=\"https://stackoverflow.com/a/18429493/353878\">this SO answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 852, "user_id": 4462581, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/624f67643bdf37b458085aee294c870d?s=128&d=identicon&r=PG", "display_name": "abbott567", "link": "https://stackoverflow.com/users/4462581/abbott567"}, "is_accepted": true, "score": 2, "last_activity_date": 1427294189, "last_edit_date": 1427294189, "creation_date": 1427291035, "answer_id": 29257454, "question_id": 28998286, "link": "https://stackoverflow.com/questions/28998286/destroying-upvotes-on-acts-as-votable/29257454#29257454", "title": "Destroying UpVotes on acts_as_votable", "body": "<p>For anyone that stumbles across this in future, thanks to Element119 I was eventually able to pinpoint the current users likes on a particular post with a few variables and arel searches. I then destroyed the pinpointed likes.</p>\n\n<pre><code>def like\n    @post.create_activity  :like, \n                           owner: current_user,\n                           recipient: @post.user\n    @post.upvote_by current_user\n\n    redirect_to :back\n  end\n\n\n\ndef unlike\n    @post.downvote_by current_user\n\n    @currentUserLikes = PublicActivity::Activity.where(trackable_id: @post.id, owner_id: current_user.id, key: \"post.like\")\n    @currentUserLikes.destroy_all\n\n    redirect_to :back\n  end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 5738789, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh6.googleusercontent.com/-bYHxLCdw2qw/AAAAAAAAAAI/AAAAAAAAAGQ/Vx1CUjsvWmo/photo.jpg?sz=128", "display_name": "Malek Zalfana", "link": "https://stackoverflow.com/users/5738789/malek-zalfana"}, "is_accepted": false, "score": 4, "last_activity_date": 1460736432, "creation_date": 1460736432, "answer_id": 36651983, "question_id": 28998286, "link": "https://stackoverflow.com/questions/28998286/destroying-upvotes-on-acts-as-votable/36651983#36651983", "title": "Destroying UpVotes on acts_as_votable", "body": "<p>I know this have been answered but the ideal and easiest answer would be using the official gem method which is <strong>unvote_by</strong> it works for both upvotes and downvotes. </p>\n"}], "owner": {"reputation": 852, "user_id": 4462581, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/624f67643bdf37b458085aee294c870d?s=128&d=identicon&r=PG", "display_name": "abbott567", "link": "https://stackoverflow.com/users/4462581/abbott567"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 1, "accepted_answer_id": 29257454, "answer_count": 3, "score": 4, "last_activity_date": 1460736432, "creation_date": 1426111528, "last_edit_date": 1427196141, "question_id": 28998286, "link": "https://stackoverflow.com/questions/28998286/destroying-upvotes-on-acts-as-votable", "title": "Destroying UpVotes on acts_as_votable", "body": "<p>I have a rails app that is working fine using acts_as_votable. The like button upvotes the post count, and then switches to an un-like button and this down votes the post count.</p>\n\n<p>My issue is, that since I started using the Public Activity gem, I can't find a way to remove likes from the feed. I have used the following loop in the activities index view:</p>\n\n<pre><code>&lt;% @activities.each do |activity| %&gt;\n    &lt;p&gt;\n        &lt;% if activity.trackable %&gt;\n            &lt;%= link_to activity.owner.name, activity.owner %&gt;\n            &lt;%= render_activity activity %&gt;\n        &lt;% end %&gt;\n    &lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>When I delete a comment, the entire line in the activity feed of 'FOO added a comment on BAR' disappears. However, because the acts as votable gem actually creates a downvote rather than destroying the upvote, the line 'FOO liked BAR' still appears and would be subsequently followed by 'FOO unliked BAR'.</p>\n\n<p>Does anybody know how I can locate the upvote by the current_user on a particular post and then destroy it?</p>\n\n<p>Below is my controller code for like and unlike as it stands:</p>\n\n<pre><code>def like\n  @ink.create_activity :like, owner: current_user\n  @ink.upvote_by current_user\n\n  redirect_to :back\nend\n\ndef unlike\n  @ink.downvote_by current_user\n\n  redirect_to :back\nend\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 5255, "user_id": 2639304, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/40c44219d944f4acb6182fd153a87b73?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2639304/john-smith"}, "edited": false, "score": 1, "creation_date": 1426111607, "post_id": 28998248, "comment_id": 46244635, "body": "Perfect but the code can be also a string. But the code ends with <code>&#47;</code> or <code>?</code> or with nothing for sure. So it could be:   <code>wer34&#47;hello</code> or <code>wer34&#47;</code> or <code>wer34?locale=3</code> or <code>wer34</code>. Thanks for your help!"}], "tags": [], "owner": {"reputation": 758, "user_id": 3585536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5712842aed061a51114a722b60ed6655?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/3585536/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1426111368, "creation_date": 1426111368, "answer_id": 28998248, "question_id": 28998068, "link": "https://stackoverflow.com/questions/28998068/remove-specific-parts-from-url/28998248#28998248", "title": "Remove specific parts from url", "body": "<p>You could do the following and using the match function to find a match based on a regular expression statement. The value at [1] is the first capture from the regular expression. I have included a breakdown from regexper.com to help illustrate what the expression is accomplishing. </p>\n\n<p>You will notice parentheses around the \\d+ which are what captures the digits out of the URL when it matches.</p>\n\n<pre><code>url.to_s.match(/\\/watch\\/(\\d+).*$/)[1]\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/moAv9oR.png?1\" alt=\"Regexper\"></p>\n"}, {"tags": [], "owner": {"reputation": 7454, "user_id": 1377943, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4i1Qa.jpg?s=128&g=1", "display_name": "Paritosh Piplewar", "link": "https://stackoverflow.com/users/1377943/paritosh-piplewar"}, "is_accepted": true, "score": 1, "last_activity_date": 1426111726, "last_edit_date": 1495541185, "creation_date": 1426111726, "answer_id": 28998344, "question_id": 28998068, "link": "https://stackoverflow.com/questions/28998068/remove-specific-parts-from-url/28998344#28998344", "title": "Remove specific parts from url", "body": "<p>possibly the safest and best one. use URI.  </p>\n\n<pre><code>URI(\"https://www.youtube.com/watch/34345?v=rwmEkvPBG1s\").path.split(\"/\").last\n</code></pre>\n\n<p>For more refer <a href=\"https://stackoverflow.com/questions/2500462/how-to-extract-url-parameters-from-a-url-with-ruby-or-rails\">How to extract URL parameters from a URL with Ruby or Rails?</a></p>\n"}, {"tags": [], "owner": {"reputation": 25150, "user_id": 383888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kd57u.jpg?s=128&g=1", "display_name": "Mori", "link": "https://stackoverflow.com/users/383888/mori"}, "is_accepted": false, "score": 1, "last_activity_date": 1426111761, "creation_date": 1426111761, "answer_id": 28998348, "question_id": 28998068, "link": "https://stackoverflow.com/questions/28998068/remove-specific-parts-from-url/28998348#28998348", "title": "Remove specific parts from url", "body": "<pre><code>x = \"https://www.youtube.com/watch/34345?v=rwmEkvPBG1s\"\nFile.basename(URI(x).path)\n=&gt; \"34345\"\n</code></pre>\n"}], "owner": {"reputation": 5255, "user_id": 2639304, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/40c44219d944f4acb6182fd153a87b73?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2639304/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 28998344, "answer_count": 3, "score": 2, "last_activity_date": 1426111761, "creation_date": 1426110603, "last_edit_date": 1426111646, "question_id": 28998068, "link": "https://stackoverflow.com/questions/28998068/remove-specific-parts-from-url", "title": "Remove specific parts from url", "body": "<p>Lets suppose I have a url like this:</p>\n\n<p><a href=\"https://www.youtube.com/watch/3e4345?v=rwmEkvPBG1s\" rel=\"nofollow\">https://www.youtube.com/watch/3e4345?v=rwmEkvPBG1s</a></p>\n\n<p>What is the best and shorthest way to only get the <code>3e4345</code> part?\nSometimes it doesn't contain additional params in <code>?</code> \nI don't want to use any gems.</p>\n\n<p>What I did was:</p>\n\n<pre><code>    url =  url.split('/watch/')\n    url =  url[1].split('/')[0].split('?')[0]\n</code></pre>\n\n<p>Is there a better way? Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "acts-as-taggable-on"], "comments": [{"owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "reply_to_user": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1426111663, "post_id": 28997919, "comment_id": 46244663, "body": "How would I display that in a view?"}], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1426117307, "post_id": 28999022, "comment_id": 46246828, "body": "When trying to display &lt;%= @posts.tag_counts_on(:tags) %&gt; just throws #&lt;ActsAsTaggableOn::Tag::ActiveRecord_Relation:0x007f0905687&zwnj;&#8203;468&gt; back at me?"}, {"owner": {"reputation": 1329, "user_id": 4067206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744808f16c60746bdad874140156c809?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/4067206/mario"}, "reply_to_user": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1426132503, "post_id": 28999022, "comment_id": 46250807, "body": "You need to iterate through it and get the name. <code>@posts.tag_counts_on(:tags).each do |tag| puts tag.name end</code> etc etc"}], "tags": [], "owner": {"reputation": 1329, "user_id": 4067206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744808f16c60746bdad874140156c809?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/4067206/mario"}, "is_accepted": true, "score": 1, "last_activity_date": 1426114910, "creation_date": 1426114910, "answer_id": 28999022, "question_id": 28997919, "link": "https://stackoverflow.com/questions/28997919/display-all-tags-using-acts-as-taggable-on/28999022#28999022", "title": "Display all tags using acts_as_taggable_on", "body": "<p>To get a list (with counts) you can do <code>Post.tag_counts_on(:tags)</code> which will return an array of objects that look like this:</p>\n\n<pre><code>=&gt; [#&lt;ActsAsTaggableOn::Tag id: 1, name: \"joking\", taggings_count: 1&gt;,\n    #&lt;ActsAsTaggableOn::Tag id: 2, name: \"clowning\", taggings_count: 2&gt;,\n    #&lt;ActsAsTaggableOn::Tag id: 3, name: \"boxing\", taggings_count: 1&gt;]\n</code></pre>\n\n<p>which you can then <code>collect</code> to get the names if you just want that</p>\n"}], "owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 1, "accepted_answer_id": 28999022, "answer_count": 1, "score": 0, "last_activity_date": 1426114910, "creation_date": 1426110023, "question_id": 28997919, "link": "https://stackoverflow.com/questions/28997919/display-all-tags-using-acts-as-taggable-on", "title": "Display all tags using acts_as_taggable_on", "body": "<p>I'm looking to just dump a list of tags that have been used on my Posts model. </p>\n\n<p>Is there a way to do this with Acts_as_taggable_on?  </p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby", "eventmachine", "openwrt", "ruby-2.2"], "answers": [{"tags": [], "owner": {"reputation": 813, "user_id": 2108798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xP6Up.jpg?s=128&g=1", "display_name": "DaKaZ", "link": "https://stackoverflow.com/users/2108798/dakaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1447189951, "creation_date": 1447189951, "answer_id": 33639728, "question_id": 28997708, "link": "https://stackoverflow.com/questions/28997708/compile-error-ruby-eventmachine-for-openwrt-barrier-breaker-errors-with-error/33639728#33639728", "title": "Compile error ruby eventmachine for OpenWRT Barrier Breaker errors with &quot;error: size of array &#39;...&#39; is negative&quot;", "body": "<p>For anyone interested - I was able to build and run event machine and it works great, but ONLY with a custom Makefile - I could never get the auto generated files to run correctly.  Here is that Makefile.  I use a simple script to setup the build properly:</p>\n\n<pre><code>echo \"[update feeds]\"\n./scripts/feeds update -a\n\necho \"[install packages from rubyopenwrt feed]\"\n./scripts/feeds install -a -p rubyopenwrt\n\necho \"[install customized ruby-eventmachine makefile]\"\ncp em-build-works/Makefile feeds/rubyopenwrt/packages/ruby-eventmachine\n</code></pre>\n\n<p>Here is the working Makefile:</p>\n\n<pre><code>include $(TOPDIR)/rules.mk\ninclude $(INCLUDE_DIR)/kernel.mk\n\n\nRUBY_PKG_LIBVER:=2.2\n\nPKG_NAME:=ruby-eventmachine\nPKG_SHORT_NAME:=eventmachine\nPKG_RELEASE:=1\nPKG_LIBVER:=1.0.7\nPKG_REV:=6dbdb97bada05d33a1f0d469a49d8c46ac2e77d0\nPKG_VERSION:=$(PKG_LIBVER)\n\nPKG_SOURCE:=$(PKG_NAME).tar.gz\nPKG_SOURCE_URL:=git://github.com/eventmachine/eventmachine.git\nPKG_SOURCE_VERSION:=$(PKG_REV)\nPKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)\nPKG_SOURCE_PROTO:=git\n\nPKG_BUILD_DEPENDS:=\nPKG_BUILD_PARALLEL:=1\n\ninclude $(INCLUDE_DIR)/package.mk\n\ndefine Package/ruby-eventmachine\n  SUBMENU:=Ruby\n  SECTION:=lang\n  CATEGORY:=Languages\n  DEPENDS:=+ruby-socket +libstdcpp +libc +libgcc +libssl +libcrypto\n  TITLE:=Ruby eventmachine gem\nendef\n\nRUBY:= \\\n    $(STAGING_DIR_HOST)/bin/ruby -I $(STAGING_DIR_HOST)/share/ri \\\n\n\ndefine Package/ruby-eventmachine/description\n This package contains the ruby eventmachine gem.\nendef\n\ndefine Build/Configure/eventmachine\n    (cd $(PKG_BUILD_DIR)/ext; \\\n        $(RUBY) extconf.rb; \\\n    );\nendef\n\ndefine Build/Compile/eventmachine\n    $(MAKE_VARS) \\\n    $(MAKE) -C $(PKG_BUILD_DIR)/ext \\\n        $(MAKE_FLAGS) \\\n        $(1);\n    $(CP) $(PKG_BUILD_DIR)/ext/*.so $(PKG_BUILD_DIR)/lib/\nendef\n\ndefine Build/Configure/fastfilereader\n    (cd $(PKG_BUILD_DIR)/ext/fastfilereader; \\\n        $(RUBY) extconf.rb; \\\n    );\nendef\n\ndefine Build/Compile/fastfilereader\n    $(MAKE_VARS) \\\n    $(MAKE) -C $(PKG_BUILD_DIR)/ext/fastfilereader \\\n        $(MAKE_FLAGS) \\\n        $(1);\n    $(CP) $(PKG_BUILD_DIR)/ext/fastfilereader/*.so $(PKG_BUILD_DIR)/lib/\nendef\n\ndefine Build/Configure\n    $(call Build/Configure/eventmachine)\n    $(call Build/Configure/fastfilereader)\nendef\n\n# hack Makefiles here\ndefine Build/Compile\n    $(SED) 's/-fstack-protector//' $(PKG_BUILD_DIR)/ext/fastfilereader/Makefile\n    $(SED) '17s/host.*/target-mips-rlx5281-linux\\/usr\\/include\\/ruby-2.2\\/mips-linux-gnu/' $(PKG_BUILD_DIR)/ext/fastfilereader/Makefile\n    $(call Build/Compile/fastfilereader)\n    $(SED) 's/-fstack-protector//' $(PKG_BUILD_DIR)/ext/Makefile\n    $(SED) '17s/host.*/target-mips-rlx5281-linux\\/usr\\/include\\/ruby-2.2\\/mips-linux-gnu/' $(PKG_BUILD_DIR)/ext/Makefile\n    $(call Build/Compile/eventmachine)\nendef\n\ndefine Package/ruby-eventmachine/install\n    $(INSTALL_DIR) $(1)/usr/lib/ruby/$(RUBY_PKG_LIBVER)/mips-linux-gnu\n    $(CP) $(PKG_BUILD_DIR)/lib/eventmachine.rb $(1)/usr/lib/ruby/$(RUBY_PKG_LIBVER)/\n    $(CP) $(PKG_BUILD_DIR)/lib/em $(1)/usr/lib/ruby/$(RUBY_PKG_LIBVER)/\n    $(CP) $(PKG_BUILD_DIR)/lib/*.so $(1)/usr/lib/ruby/$(RUBY_PKG_LIBVER)/mips-linux-gnu\nendef\n\n$(eval $(call BuildPackage,ruby-eventmachine,+libopenssl))\n</code></pre>\n"}], "owner": {"reputation": 813, "user_id": 2108798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xP6Up.jpg?s=128&g=1", "display_name": "DaKaZ", "link": "https://stackoverflow.com/users/2108798/dakaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 1, "accepted_answer_id": 33639728, "answer_count": 1, "score": 0, "last_activity_date": 1447189951, "creation_date": 1426109272, "question_id": 28997708, "link": "https://stackoverflow.com/questions/28997708/compile-error-ruby-eventmachine-for-openwrt-barrier-breaker-errors-with-error", "title": "Compile error ruby eventmachine for OpenWRT Barrier Breaker errors with &quot;error: size of array &#39;...&#39; is negative&quot;", "body": "<p>I have embarked on creating a package of Ruby 2.2 with Event Machine for OpenWRT Barrier Breaker.  The makefile for the eventmachine package can be seen here: <a href=\"https://github.com/DaKaZ/ruby-openwrt/blob/master/packages/ruby-eventmachine/Makefile\" rel=\"nofollow\">https://github.com/DaKaZ/ruby-openwrt/blob/master/packages/ruby-eventmachine/Makefile</a></p>\n\n<p>I was able to successfully use the Ruby 2.2 implementation from the trunk of feeds/packages and am running OpenWRT Barrier Breaker with Ruby 2.2 on my router, but... eventmachine is throwing the following error when it builds:</p>\n\n<pre><code>In file included from /Volumes/OpenWrt/barrier_breaker/staging_dir/host/include/ruby-2.2.0/ruby.h:33:0,\n             from rubymain.cpp:26:\n/Volumes/OpenWrt/barrier_breaker/staging_dir/host/include/ruby-2.2.0/ruby/ruby.h:107:73: error: size of array 'ruby_check_sizeof_long' is negative\n typedef char ruby_check_sizeof_long[SIZEOF_LONG == sizeof(long) ? 1 : -1];\n                                                                         ^\n/Volumes/OpenWrt/barrier_breaker/staging_dir/host/include/ruby-2.2.0/ruby/ruby.h:111:76: error: size of array 'ruby_check_sizeof_voidp' is negative\n typedef char ruby_check_sizeof_voidp[SIZEOF_VOIDP == sizeof(void*) ? 1 : -1];\n                                                                            ^\nIn file included from /Volumes/OpenWrt/barrier_breaker/staging_dir/host/include/ruby-2.2.0/ruby/intern.h:35:0,\n                 from /Volumes/OpenWrt/barrier_breaker/staging_dir/host/include/ruby-2.2.0/ruby/ruby.h:1710,\n                 from /Volumes/OpenWrt/barrier_breaker/staging_dir/host/include/ruby-2.2.0/ruby.h:33,\n                 from rubymain.cpp:26:\n/Volumes/OpenWrt/barrier_breaker/staging_dir/host/include/ruby-2.2.0/ruby/st.h:52:93: error: size of array 'st_check_for_sizeof_st_index_t' is negative\n typedef char st_check_for_sizeof_st_index_t[SIZEOF_VOIDP == (int)sizeof(st_index_t) ? 1 : -1];\n                                                                                             ^\nmake[4]: *** [rubymain.o] Error 1\nmake[3]: *** [/Volumes/OpenWrt/barrier_breaker/build_dir/target-mipsel_74kc+dsp2_uClibc-0.9.33.2/linux-brcm47xx_mips74k/ruby-eventmachine-1.0.7/.built] Error 2\nmake[3]: Leaving directory `/Volumes/OpenWrt/barrier_breaker/feeds/rubyopenwrt/packages/ruby-eventmachine'\nmake[2]: *** [package/feeds/rubyopenwrt/ruby-eventmachine/compile] Error 2\nmake[2]: Leaving directory `/Volumes/OpenWrt/barrier_breaker'\nmake[1]: *** [/Volumes/OpenWrt/barrier_breaker/staging_dir/target-mipsel_74kc+dsp2_uClibc-0.9.33.2/stamp/.package_compile] Error 2\nmake[1]: Leaving directory `/Volumes/OpenWrt/barrier_breaker'\nmake: *** [world] Error 2\n</code></pre>\n\n<p>This appears to be an error in the HOST version of ruby but I can't figure out how to correctly use the cross compiled version to build eventmachine.  Please help!</p>\n"}, {"tags": ["c++", "c", "ruby", "macos", "rvm"], "answers": [{"tags": [], "owner": {"reputation": 3012, "user_id": 300478, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981e73278c1b9524c1ff07f3089cea48?s=128&d=identicon&r=PG", "display_name": "Khue Vu", "link": "https://stackoverflow.com/users/300478/khue-vu"}, "is_accepted": false, "score": 0, "last_activity_date": 1426111378, "creation_date": 1426111378, "answer_id": 28998249, "question_id": 28997175, "link": "https://stackoverflow.com/questions/28997175/error-when-installing-ruby-with-rvm/28998249#28998249", "title": "Error when installing ruby with rvm", "body": "<p>I fixed it by following this link: <a href=\"https://gist.github.com/zenkay/3237860\" rel=\"nofollow\">https://gist.github.com/zenkay/3237860</a></p>\n\n<blockquote>\n  <p>Mountain Lion supports only XCode 4.4 or greater. Basic 4.4 installer\n  doesn't install Unix's standard command line tools by default. You\n  have to install it using separate package (from Apple Developer's) or\n  directly from XCode 4.4 preference panel (Preferences : Downloads :\n  Components : Install).</p>\n  \n  <p>When installation is complete, tools are finally available but is not\n  enough. Unfortunately llvm_gcc-4.2 compiler ship with XCode is not\n  suitable to compile Ruby (it works but some features are buggy).</p>\n  \n  <p>You have to install the stand-alone gcc package. </p>\n</blockquote>\n\n<p>Basically, i have to install another version of gcc instead of using the one with Xcode. </p>\n"}], "owner": {"reputation": 3012, "user_id": 300478, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981e73278c1b9524c1ff07f3089cea48?s=128&d=identicon&r=PG", "display_name": "Khue Vu", "link": "https://stackoverflow.com/users/300478/khue-vu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426111378, "creation_date": 1426107321, "last_edit_date": 1592644375, "question_id": 28997175, "link": "https://stackoverflow.com/questions/28997175/error-when-installing-ruby-with-rvm", "title": "Error when installing ruby with rvm", "body": "<p>I am trying to install ruby in MacOS</p>\n<blockquote>\n<p>In file included from :0:0:</p>\n<p>.ext/include/x86_64-darwin14.0.0/ruby/config.h:77:16: error: duplicate</p>\n<p>'unsigned'  #define size_t unsigned int</p>\n<pre><code>            ^ .ext/include/x86_64-darwin14.0.0/ruby/config.h:77:25: error: two or\n</code></pre>\n<p>more data types in declaration specifiers  #define size_t unsigned int</p>\n<pre><code>                     ^ In file included from &lt;command-line&gt;:0:0: ./include/ruby/missing.h:169:19: warning: conflicting types for\n</code></pre>\n<p>built-in function 'memmove' [enabled by default]  RUBY_EXTERN void</p>\n<p>*memmove(void *, const void *, size_t);</p>\n<pre><code>               ^ In file included from ./include/ruby.h:32:0,\n\n             from main.c:13: ./include/ruby/ruby.h:50:22: fatal error: strings.h: No such file or directory  # include &lt;strings.h&gt;\n\n                  ^ compilation terminated.\n</code></pre>\n</blockquote>\n<p>I set env CPP=/usr/bin/cpp</p>\n<p>Thanks for your help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 4616, "user_id": 198201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a1370b744a6251dc02d716da9178f73?s=128&d=identicon&r=PG", "display_name": "davidfurber", "link": "https://stackoverflow.com/users/198201/davidfurber"}, "edited": false, "score": 0, "creation_date": 1426107773, "post_id": 28996991, "comment_id": 46242690, "body": "If you&#39;re just using foo to store a value at the class level, why not use class_attribute?"}, {"owner": {"reputation": 416, "user_id": 3320112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1526737867635939/picture?type=large", "display_name": "Florian Eck", "link": "https://stackoverflow.com/users/3320112/florian-eck"}, "edited": false, "score": 0, "creation_date": 1426108791, "post_id": 28996991, "comment_id": 46243271, "body": "so you want to set a class variable that can be used as instance variable? Did i get it right?"}, {"owner": {"reputation": 5214, "user_id": 820039, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e73fcc92279f09443147ac6d788a3cda?s=128&d=identicon&r=PG", "display_name": "hobberwickey", "link": "https://stackoverflow.com/users/820039/hobberwickey"}, "reply_to_user": {"reputation": 4616, "user_id": 198201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a1370b744a6251dc02d716da9178f73?s=128&d=identicon&r=PG", "display_name": "davidfurber", "link": "https://stackoverflow.com/users/198201/davidfurber"}, "edited": false, "score": 0, "creation_date": 1426109271, "post_id": 28996991, "comment_id": 46243560, "body": "@davidfurber I&#39;m not actually using Rails just ActiveRecord and Sinatra"}, {"owner": {"reputation": 5214, "user_id": 820039, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e73fcc92279f09443147ac6d788a3cda?s=128&d=identicon&r=PG", "display_name": "hobberwickey", "link": "https://stackoverflow.com/users/820039/hobberwickey"}, "reply_to_user": {"reputation": 416, "user_id": 3320112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1526737867635939/picture?type=large", "display_name": "Florian Eck", "link": "https://stackoverflow.com/users/3320112/florian-eck"}, "edited": false, "score": 0, "creation_date": 1426109611, "post_id": 28996991, "comment_id": 46243720, "body": "@FriendsSystems - that sounds about right. I want a property settable with the familiar syntax &#39;settings :args&#39; that&#39;s available to ActiveRecord models."}, {"owner": {"reputation": 416, "user_id": 3320112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1526737867635939/picture?type=large", "display_name": "Florian Eck", "link": "https://stackoverflow.com/users/3320112/florian-eck"}, "edited": false, "score": 0, "creation_date": 1426109808, "post_id": 28996991, "comment_id": 46243802, "body": "why dont you use cattr_accessor? <a href=\"http://apidock.com/rails/Class/cattr_accessor\" rel=\"nofollow noreferrer\">apidock.com/rails/Class/cattr_accessor</a>"}, {"owner": {"reputation": 5214, "user_id": 820039, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e73fcc92279f09443147ac6d788a3cda?s=128&d=identicon&r=PG", "display_name": "hobberwickey", "link": "https://stackoverflow.com/users/820039/hobberwickey"}, "edited": false, "score": 0, "creation_date": 1426115966, "post_id": 28996991, "comment_id": 46246322, "body": "With both cattr_accessor and class_attribute I get &quot;ArgumentError: wrong number of arguments (1 for 0)&quot; which makes sense."}], "owner": {"reputation": 5214, "user_id": 820039, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e73fcc92279f09443147ac6d788a3cda?s=128&d=identicon&r=PG", "display_name": "hobberwickey", "link": "https://stackoverflow.com/users/820039/hobberwickey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426106717, "creation_date": 1426106717, "question_id": 28996991, "link": "https://stackoverflow.com/questions/28996991/creating-rails-like-activerecord-methods", "title": "Creating rails like ActiveRecord methods", "body": "<p>What I'm trying to do is extend ActiveRecord models so that when creating a class I can do something like </p>\n\n<pre><code>Model &lt; ActiveRecord::Base\n  foo :bar\nend\n</code></pre>\n\n<p>Then in a rake task do something like</p>\n\n<pre><code>if model.foo == :bar\n   #do some stuff\nend\n</code></pre>\n\n<p>The only way I've been able to do that is with something like</p>\n\n<pre><code>module Extender\n  def self.included(base) # :nodoc:\n    base.extend ClassMethods\n  end\n\n  module ClassMethods\n    attr_accessor :fooed\n\n    def foo(value)\n      self.fooed = value\n    end\n  end\nend\n\nmodule ActiveRecord\n  class Base\n    Include Extender\n  end\nend\n</code></pre>\n\n<p>Then in the rake task</p>\n\n<pre><code>if Model.fooed == :bar\n  #do something now\nend\n</code></pre>\n\n<p>That seems like a bad way of doing it though because then for every attribute I want to expose, I have to actually add two attributes. Am I doing something wrong, or is that the preferred way of accomplishing this? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sphinx", "thinking-sphinx"], "answers": [{"tags": [], "owner": {"reputation": 15586, "user_id": 54500, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gg5v8.jpg?s=128&g=1", "display_name": "pat", "link": "https://stackoverflow.com/users/54500/pat"}, "is_accepted": true, "score": 2, "last_activity_date": 1426133038, "creation_date": 1426133038, "answer_id": 29001666, "question_id": 28996768, "link": "https://stackoverflow.com/questions/28996768/thinkingsphinx-search-through-has-many-association/29001666#29001666", "title": "ThinkingSphinx - Search through has_many association", "body": "<p>One of the differences between real-time indices and SQL-backed indices is that with SQL-backed indices, you refer to associations and columns in your index definition, but with real-time indices, you refer to methods.</p>\n\n<p>And while <code>iterations</code> is an instance method within an <code>idea</code>, <code>title</code>, <code>description</code> and <code>id</code> are not methods on the object returned by <code>iterations</code>.</p>\n\n<p>The easiest way to work through this has two parts. Firstly, add instance methods to Idea that return the data you want for the iteration-related fields and attributes:</p>\n\n<pre><code>def iteration_titles\n  iterations.collect(&amp;:title).join(' ')\nend\n\ndef iteration_descriptions\n  iterations.collect(&amp;:description).join(' ')\nend\n\ndef iteration_ids\n  iterations.collect &amp;:id\nend\n</code></pre>\n\n<p>And then use those methods in your index definition:</p>\n\n<pre><code>indexes iteration_titles, iteration_descriptions\nhas iteration_ids, :type =&gt; :integer, :multi =&gt; true\n</code></pre>\n\n<p>And then, run <code>rake ts:regenerate</code> to get it all set up (<code>ts:rebuild</code> and <code>ts:index</code> have no meaning for real-time indices).</p>\n"}], "owner": {"reputation": 3065, "user_id": 756148, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c8B6m.jpg?s=128&g=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/756148/anders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 29001666, "answer_count": 1, "score": 0, "last_activity_date": 1426133038, "creation_date": 1426105977, "question_id": 28996768, "link": "https://stackoverflow.com/questions/28996768/thinkingsphinx-search-through-has-many-association", "title": "ThinkingSphinx - Search through has_many association", "body": "<p>I have a relationship between two models, <code>Idea</code> and <code>Iteration</code>. Each idea can have many iterations. The models looks like this;</p>\n\n<pre><code># idea.rb\nhas_many :iterations, dependent: :destroy\n\n# I also use with: :real_time \nafter_save ThinkingSphinx::RealTime.callback_for(:idea)\n\n# iteration.rb\nbelongs_to :idea\nafter_save ThinkingSphinx::RealTime.callback_for(:idea, [:idea])\n</code></pre>\n\n<p>My indexes for <code>Idea</code> looks like this:</p>\n\n<pre><code>ThinkingSphinx::Index.define :idea, :with =&gt; :real_time do\n  [...]\n  indexes iterations.title, as: :iteration_titles\n  indexes iterations.description, as: :iteration_descriptions\n  has iterations.id, :as =&gt; :iteration_ids, type: :integer\n  [...]\nend\n</code></pre>\n\n<p>And I search like this:</p>\n\n<pre><code>@ideas = @user.ideas.search  ThinkingSphinx::Query.escape(params[:search]),\n  :with =&gt; {:team_id =&gt; @teams.collect(&amp;:id)},\n  :page     =&gt; params[:page],\n  :per_page =&gt; 10,\n  :order    =&gt; 'created_at DESC'\n</code></pre>\n\n<p>Currently, searching for either <code>Iteration</code> title or description returns <strong>0</strong> hits. And I have performed:</p>\n\n<pre><code>rake ts:rebuild\nrake ts:regenerate\nrake ts:index\n</code></pre>\n\n<p>Have I missed something?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "edited": false, "score": 0, "creation_date": 1426105374, "post_id": 28996540, "comment_id": 46241314, "body": "Look at <code>ljust</code> <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-ljust\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "is_accepted": true, "score": 3, "last_activity_date": 1426106287, "last_edit_date": 1426106287, "creation_date": 1426105447, "answer_id": 28996607, "question_id": 28996540, "link": "https://stackoverflow.com/questions/28996540/trailing-zeroes-in-a-format-string/28996607#28996607", "title": "Trailing zeroes in a format string?", "body": "<p>You need <code>sprintf</code>:</p>\n\n<pre><code>sprintf(\"%d.%02d\", dollars, cents) # must be numbers\n</code></pre>\n"}], "owner": {"reputation": 2162, "user_id": 3204212, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fd870d2b3afe56cd9c59c28c0fc715bd?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTriangle", "link": "https://stackoverflow.com/users/3204212/greentriangle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 28996607, "answer_count": 1, "score": 1, "last_activity_date": 1426109614, "creation_date": 1426105211, "question_id": 28996540, "link": "https://stackoverflow.com/questions/28996540/trailing-zeroes-in-a-format-string", "title": "Trailing zeroes in a format string?", "body": "<p>I have figures representing monetary amounts coming in -- <code>45.10</code>, <code>24.35</code>, <code>17.99</code>, and so on.</p>\n\n<p>I want to split these into the dollar and cent portions, do something to the dollars, and then output a string of <code>dollars + '.' + cents</code>.</p>\n\n<p>PROBLEM: The figure <code>.10</code> obviously becomes <code>1</code>, and I don't want to output <code>$84.1</code>. I want <code>$84.10</code>. So the format string should specify \"two-digit integer, with a <em>trailing</em> zero if there's only one digit.\"</p>\n\n<p>Any search I do just turns up results for <em>leading</em> zeroes. Is this possible?</p>\n"}, {"tags": ["ruby", "arrays", "hash"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1426102987, "post_id": 28995655, "comment_id": 46239910, "body": "<code>:1426049999000</code> is not a valid symbol. Did you mean <code>:&quot;Apple&quot;</code>, <code>&quot;Apple&quot;</code> or <code>:Apple</code>?"}, {"owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426103089, "post_id": 28995655, "comment_id": 46239983, "body": "Sorry I think it should be &quot;1426049999000&quot;. I will update the question. Thanks!"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1426103376, "post_id": 28995655, "comment_id": 46240153, "body": "see <code>&quot;Apple&quot; </code> and <code>:Apple</code> makes sense... not <code>:&quot;Apple&quot; </code>.. It will sense when you have <code>:&quot;Apple red&quot; </code> etc.."}], "answers": [{"tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": true, "score": 2, "last_activity_date": 1426102657, "creation_date": 1426102657, "answer_id": 28995807, "question_id": 28995655, "link": "https://stackoverflow.com/questions/28995655/creating-nested-hash-in-ruby-or-use-of-group-by/28995807#28995807", "title": "Creating nested hash in ruby or use of group_by", "body": "<p>I'd do :</p>\n\n<pre><code>my_array = [[1426049999000, \"Apple\", 2.7235], [1426049999000, \"Orange\", 2.942], [1424235599000, \"Apple\", 1.124], [1424235599000, \"Orange\", 1.115]]\nmy_array.each_with_object({}) { |a, h| (h[a[1]] ||= []) &lt;&lt; a.values_at(0, 2) }\n# =&gt; {\"Apple\"=&gt;[[1426049999000, 2.7235], [1424235599000, 1.124]], \"Orange\"=&gt;[[1426049999000, 2.942], [1424235599000, 1.115]]}\nmy_array.each_with_object({}) { |a, h| (h[a[1]] ||= {}).update(a[0] =&gt; a[2]) }\n# =&gt; {\"Apple\"=&gt;{1426049999000=&gt;2.7235, 1424235599000=&gt;1.124}, \"Orange\"=&gt;{1426049999000=&gt;2.942, 1424235599000=&gt;1.115}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "is_accepted": false, "score": 0, "last_activity_date": 1426102887, "creation_date": 1426102887, "answer_id": 28995891, "question_id": 28995655, "link": "https://stackoverflow.com/questions/28995655/creating-nested-hash-in-ruby-or-use-of-group-by/28995891#28995891", "title": "Creating nested hash in ruby or use of group_by", "body": "<pre><code>groups =  { :\"Apple\" =&gt; [[1426049999000, \"Apple\", 2.7235], [1424235599000, \"Apple\", 1.124]],\n      :\"Orange\" =&gt; [[1426049999000, \"Orange\", 2.942], [1424235599000, \"Orange\", 1.115]]}\n\ngroups.each{|k,v| v.each{|ar| ar.delete(k.to_s)}}\np groups # =&gt; {:Apple=&gt;[[1426049999000, 2.7235], [1424235599000, 1.124]], :Orange=&gt;[[1426049999000, 2.942], [1424235599000, 1.115]]}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1426108874, "post_id": 28996010, "comment_id": 46243320, "body": "Your Last answer output not matching with the output of OP :-)"}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1426131799, "last_edit_date": 1426131799, "creation_date": 1426103307, "answer_id": 28996010, "question_id": 28995655, "link": "https://stackoverflow.com/questions/28995655/creating-nested-hash-in-ruby-or-use-of-group-by/28996010#28996010", "title": "Creating nested hash in ruby or use of group_by", "body": "<p>My friend @Arup has pointed out that my latter (original) expression did not return the result requested by the OP. That is true, but it would have been more accurate to say that, since I offered two ways of returning the same result (a hash whose values were arrays of hashes), neither expression returned the requested result.</p>\n\n<p>In any event, I modified my original answer to conform to the OP's instructions, and wish to thank Arup for his eagle-eye.</p>\n\n<pre><code>my_array = [[1426, \"Apple\",  2.723],\n            [1426, \"Orange\", 2.942],\n            [1424, \"Apple\",  1.124],\n            [1424, \"Orange\", 1.115]]\n</code></pre>\n\n<p><strong>Expression #1</strong></p>\n\n<p>To produce a hash with values that are hashes:</p>\n\n<pre><code>my_array.each_with_object({}) { |(v1,fruit,v2),h|\n  h.update(fruit.to_sym =&gt; {v1=&gt;v2}) { |_,ov,nv| ov.update(nv) } }\n  #=&gt; {:Apple=&gt;{1426=&gt;2.723,  1424=&gt;1.124},\n  #    :Orange=&gt;{1426=&gt;2.942, 1424=&gt;1.115}}\n</code></pre>\n\n<p>or with values that are arrays of arrays:</p>\n\n<pre><code>my_array.each_with_object({}) { |(v1,fruit,v2),h|\n  h.update(fruit.to_sym =&gt; [[v1, v2]]) { |_,ov,nv| ov+nv } }\n  #=&gt; {:Apple=&gt; [[1426, 2.723], [1424, 1.124]],\n   #   :Orange=&gt;[[1426, 2.942], [1424, 1.115]]} \n</code></pre>\n\n<p>I would suggest the latter, in the event that <code>[1424, \"Apple\", 1.124]</code> in  <code>my_array</code> were instead, say, <code>[1426, \"Apple\",  1.124]</code>, there would not be a problem of <code>1426</code> being a duplicate key.</p>\n\n<p><strong>Expression #2</strong></p>\n\n<pre><code>my_array.each_with_object(Hash.new {|h,k| h[k]=[]}) { |(v1,fruit,v2),h|\n  h[fruit.to_sym] &lt;&lt; [v1,v2] }\n  #=&gt; {:Apple=&gt; [[1426, 2.723], [1424, 1.124]],\n  #    :Orange=&gt;[[1426, 2.942], [1424, 1.115]]} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11718, "user_id": 1827631, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I24JN.png?s=128&g=1", "display_name": "hirolau", "link": "https://stackoverflow.com/users/1827631/hirolau"}, "is_accepted": false, "score": 0, "last_activity_date": 1426148217, "creation_date": 1426148217, "answer_id": 29004813, "question_id": 28995655, "link": "https://stackoverflow.com/questions/28995655/creating-nested-hash-in-ruby-or-use-of-group-by/29004813#29004813", "title": "Creating nested hash in ruby or use of group_by", "body": "<pre><code>p my_array.group_by{|x| x.delete_at(1)} #=&gt; {\"Apple\"=&gt;[[1426049999000, 2.7235], [1424235599000, 1.124]], \"Orange\"=&gt;[[1426049999000, 2.942], [1424235599000, 1.115]]}\n\n\n# or my_array.map(&amp;:rotate).group_by(&amp;:shift)\n</code></pre>\n"}], "owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 28995807, "answer_count": 4, "score": 0, "last_activity_date": 1426148217, "creation_date": 1426102191, "last_edit_date": 1426103102, "question_id": 28995655, "link": "https://stackoverflow.com/questions/28995655/creating-nested-hash-in-ruby-or-use-of-group-by", "title": "Creating nested hash in ruby or use of group_by", "body": "<p>I have an array as follows:</p>\n\n<pre><code>my_array = [\n  [1426049999000, \"Apple\", 2.7235],\n  [1426049999000, \"Orange\", 2.942],\n  [1424235599000, \"Apple\", 1.124],\n  [1424235599000, \"Orange\", 1.115]\n]\n</code></pre>\n\n<p>I want either a hash of hashes:</p>\n\n<pre><code>{\n  :\"Apple\" =&gt; {1426049999000 =&gt; 2.7235, 1424235599000 =&gt; 1.124},\n  :\"Orange\" =&gt; {1426049999000 =&gt; 2.942, 1424235599000 =&gt; 1.115}\n}\n</code></pre>\n\n<p>or a hash of arrays:</p>\n\n<pre><code>{\n  :\"Apple\" =&gt; [[1426049999000, 2.7235], [1424235599000, 1.124]],\n  :\"Orange\" =&gt; [[1426049999000, 2.942], [1424235599000, 1.115]]\n}\n</code></pre>\n\n<p>How can I create a nested hash or a hash of arrays that I want?</p>\n\n<p>I tried:</p>\n\n<pre><code>my_array.group_by { |s| s[1] }\n</code></pre>\n\n<p>Output received: </p>\n\n<pre><code>{\n  :\"Apple\" =&gt; [[1426049999000, \"Apple\", 2.7235], [1424235599000, \"Apple\", 1.124]],\n  :\"Orange\" =&gt; [[1426049999000, \"Orange\", 2.942], [1424235599000, \"Orange\", 1.115]]\n}\n</code></pre>\n"}, {"tags": ["ruby", "backbone.js", "sinatra", "sanitization"], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 3368545, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/uQwYQ.jpg?s=128&g=1", "display_name": "Jeanmichel Cote", "link": "https://stackoverflow.com/users/3368545/jeanmichel-cote"}, "edited": false, "score": 2, "creation_date": 1426104668, "post_id": 28996314, "comment_id": 46240906, "body": "The idea is to sanitize an input before it is submited to the server.  So the question remains, then; What is being called as soon as you click a submit button, app.rb, routes.rb or model.rb?"}, {"owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "reply_to_user": {"reputation": 501, "user_id": 3368545, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/uQwYQ.jpg?s=128&g=1", "display_name": "Jeanmichel Cote", "link": "https://stackoverflow.com/users/3368545/jeanmichel-cote"}, "edited": false, "score": 0, "creation_date": 1426104834, "post_id": 28996314, "comment_id": 46240998, "body": "it&#39;s your app - I can only guess. sinatra does not force you to use particular project structure."}, {"owner": {"reputation": 11068, "user_id": 335847, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/o0AC7.png?s=128&g=1", "display_name": "iain", "link": "https://stackoverflow.com/users/335847/iain"}, "edited": false, "score": 2, "creation_date": 1426397623, "post_id": 28996314, "comment_id": 46351957, "body": "Like JimiSpire says, sanitise before submission with backbone, but since one of the reasons to sanitise is because of possible intrusion, <i>always</i> sanitise on the server side too. Always, always, always. An attacker would bypass any sanitising code on the client side if they wanted to do damage that way. +1 to both of you."}], "tags": [], "owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "is_accepted": false, "score": 0, "last_activity_date": 1426104393, "creation_date": 1426104393, "answer_id": 28996314, "question_id": 28995405, "link": "https://stackoverflow.com/questions/28995405/sanitizing-sinatra-user-inputs/28996314#28996314", "title": "Sanitizing Sinatra user inputs", "body": "<p>Rule of thumb - as early as it's possible and/or makes sense. Reason is simple and practical: sooner it's sanitized - less probability for successful intrusion.</p>\n"}], "owner": {"reputation": 501, "user_id": 3368545, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/uQwYQ.jpg?s=128&g=1", "display_name": "Jeanmichel Cote", "link": "https://stackoverflow.com/users/3368545/jeanmichel-cote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 667, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426104393, "creation_date": 1426101301, "question_id": 28995405, "link": "https://stackoverflow.com/questions/28995405/sanitizing-sinatra-user-inputs", "title": "Sanitizing Sinatra user inputs", "body": "<p>I am building a Sinatra and backbone app and I'm using the <a href=\"https://github.com/rgrove/sanitize/\" rel=\"nofollow\">sanitize</a> gem to clean the user inputs.</p>\n\n<p>I want to know what is the best practice, to sanitize at the app.rb level, at the routes.rb or at the model.rb level?</p>\n\n<p>Does it even make a difference?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "form-for", "fields-for"], "comments": [{"owner": {"reputation": 329, "user_id": 2153409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FIOIu.jpg?s=128&g=1", "display_name": "Viktor Vsk", "link": "https://stackoverflow.com/users/2153409/viktor-vsk"}, "edited": false, "score": 0, "creation_date": 1426102418, "post_id": 28994870, "comment_id": 46239596, "body": "Do you have <code>accepts_nested_attributes_for :address, allow_destroy: true </code> enabled :allow_destroy option? And is strong_params (cuisine_params, for example) permitted :_destroy, :_id ?"}, {"owner": {"reputation": 36, "user_id": 3542728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d4d6108dc3c9022d84155438756585?s=128&d=identicon&r=PG&f=1", "display_name": "angelica", "link": "https://stackoverflow.com/users/3542728/angelica"}, "reply_to_user": {"reputation": 329, "user_id": 2153409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FIOIu.jpg?s=128&g=1", "display_name": "Viktor Vsk", "link": "https://stackoverflow.com/users/2153409/viktor-vsk"}, "edited": false, "score": 0, "creation_date": 1426623113, "post_id": 28994870, "comment_id": 46447075, "body": "Yes I do have them already..."}], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 3542728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d4d6108dc3c9022d84155438756585?s=128&d=identicon&r=PG&f=1", "display_name": "angelica", "link": "https://stackoverflow.com/users/3542728/angelica"}, "edited": false, "score": 0, "creation_date": 1426624175, "post_id": 28996445, "comment_id": 46447663, "body": "Thank you! the code you wrote here worked for me now :D"}], "tags": [], "owner": {"reputation": 786, "user_id": 617857, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8b04b6d0548d9cc5f58c3a143eeb8b68?s=128&d=identicon&r=PG", "display_name": "Steven Yue", "link": "https://stackoverflow.com/users/617857/steven-yue"}, "is_accepted": false, "score": 1, "last_activity_date": 1426104881, "creation_date": 1426104881, "answer_id": 28996445, "question_id": 28994870, "link": "https://stackoverflow.com/questions/28994870/rails-fields-for-update-not-working-deleting-the-parent-object/28996445#28996445", "title": "Rails fields_for update not working (deleting the parent object)", "body": "<p>First you should just use <code>fields_for</code> like this:</p>\n\n<pre><code>&lt;%= f.fields_for :ingredients do |ingredient_fields|%&gt;\n  &lt;%= ingredient_fields.text_area :name %&gt;\n  &lt;%= ingredient_fields.hidden_field :_destroy %&gt;\n  &lt;%= link_to_remove_fields 'Remove this ingredient', f %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Second you should first check to see if the <code>cuisine_params</code> in your controller <code>permit</code> those attributes: </p>\n\n<pre><code>params.require(:cuisine).permit(:name, ingredients_attributes:[:id, :name, :_destroy])\n</code></pre>\n\n<p>Lastly, make sure your model has this <code>accepts_nested_attributes_for :ingredients, allow_destroy: true</code></p>\n"}], "owner": {"reputation": 36, "user_id": 3542728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d4d6108dc3c9022d84155438756585?s=128&d=identicon&r=PG&f=1", "display_name": "angelica", "link": "https://stackoverflow.com/users/3542728/angelica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426104881, "creation_date": 1426099516, "last_edit_date": 1426102279, "question_id": 28994870, "link": "https://stackoverflow.com/questions/28994870/rails-fields-for-update-not-working-deleting-the-parent-object", "title": "Rails fields_for update not working (deleting the parent object)", "body": "<p>I have <code>fields_for</code> form <strong>for update</strong> like below:</p>\n\n<pre><code>  &lt;%= form_for @cuisine, url: {action: \"update\" } do |f| %&gt;\n    &lt;%= f.text_area :name %&gt;\n\n    &lt;% @cuisine.ingredients.each do |ing| %&gt;     \n      &lt;%= f.fields_for ing do |ingredient_fields|%&gt;\n        &lt;%= ingredient_fields.text_area :name, :value=&gt; ing.name %&gt;\n        &lt;%= ingredient_fields.hidden_field :_destroy%&gt;\n        &lt;%= link_to_remove_fields 'Remove this ingredient', f %&gt;\n      &lt;% end %&gt;\n    &lt;% end %&gt;\n\n  &lt;% end %&gt;\n</code></pre>\n\n<p>my cuisines_controller:</p>\n\n<pre><code>def update\n  @cuisine = Cuisine.find(params[:id])\n  if @cuisine.update_attributes(cuisine_params)\n     redirect_to root_path\n  else\n     redirect_to edit_cuisine_path\n  end\nend\n</code></pre>\n\n<p>Though this shows the form correctly (showing forms filled with @cuisine and its ingredients' info), after reloading the page the @cuisine object gets deleted even when I don't push the submit button.</p>\n\n<p>Any idea what's going on or how to update nested attributes using <code>fields_for</code>?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1426099194, "post_id": 28994746, "comment_id": 46237632, "body": "What do you want to do with it?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1426099227, "post_id": 28994746, "comment_id": 46237660, "body": "Don&#39;t write irrelevant things. How is <code>print &quot;Hello world&quot;</code> related to your question?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1426099341, "post_id": 28994746, "comment_id": 46237733, "body": "<code>D</code> is not a class. You can&#39;t create an instance of it."}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 0, "creation_date": 1426099692, "post_id": 28994746, "comment_id": 46237963, "body": "I don&#39;t believe your example is a very good demonstration of good use of a static/class method. Why would you want the &quot;name&quot; property on a &quot;Dog&quot; class to be static? That seems like it would be much, much better as an instance method."}, {"owner": {"reputation": 8730, "user_id": 551514, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/606c8931ba3660ab28aad15d82840dd4?s=128&d=identicon&r=PG", "display_name": "resultsway", "link": "https://stackoverflow.com/users/551514/resultsway"}, "edited": false, "score": 0, "creation_date": 1426108922, "post_id": 28994746, "comment_id": 46243350, "body": "what is so bad about this question ? that it deserves a -3 ?"}], "answers": [{"comments": [{"owner": {"reputation": 8730, "user_id": 551514, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/606c8931ba3660ab28aad15d82840dd4?s=128&d=identicon&r=PG", "display_name": "resultsway", "link": "https://stackoverflow.com/users/551514/resultsway"}, "edited": false, "score": 0, "creation_date": 1426101221, "post_id": 28994890, "comment_id": 46238905, "body": "got it : <a href=\"http://www.railstips.org/blog/archives/2009/05/11/class-and-instance-methods-in-ruby/\" rel=\"nofollow noreferrer\">railstips.org/blog/archives/2009/05/11/&hellip;</a>"}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "reply_to_user": {"reputation": 8730, "user_id": 551514, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/606c8931ba3660ab28aad15d82840dd4?s=128&d=identicon&r=PG", "display_name": "resultsway", "link": "https://stackoverflow.com/users/551514/resultsway"}, "edited": false, "score": 0, "creation_date": 1426101362, "post_id": 28994890, "comment_id": 46238978, "body": "@purpletech The example in this answer doesn&#39;t <i>print</i> &quot;some_string&quot;, it just returns it. If you want the value to  be printed out, prefix the last line with <code>puts</code>. (E.g. <code>puts SomeModule::SomeClass.some_class_method</code> instead of just <code>SomeModule::SomeClass.some_class_method</code>.)"}], "tags": [], "owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "is_accepted": true, "score": 3, "last_activity_date": 1426099579, "creation_date": 1426099579, "answer_id": 28994890, "question_id": 28994746, "link": "https://stackoverflow.com/questions/28994746/is-it-possible-to-access-a-method-without-creating-an-instance/28994890#28994890", "title": "Is it possible to access a method without creating an instance?", "body": "<p>I believe you're looking for what is known as a class method in Ruby:</p>\n\n<pre><code>module SomeModule\n  class SomeClass\n    @class_variable = \"some_string\" # An instance variable on a class\n\n    def self.some_class_method\n      @class_variable # Return can be omitted in Ruby\n    end\n\n    # This is how setter methods are usually written in Ruby\n    def self.some_class_method= new_value\n      @class_variable = new_value\n    end\n  end\nend\n\nSomeModule::SomeClass.some_class_method\n#=&gt; \"some_string\"\n</code></pre>\n"}], "owner": {"reputation": 8730, "user_id": 551514, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/606c8931ba3660ab28aad15d82840dd4?s=128&d=identicon&r=PG", "display_name": "resultsway", "link": "https://stackoverflow.com/users/551514/resultsway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28994890, "answer_count": 1, "score": -4, "last_activity_date": 1426101455, "creation_date": 1426099087, "last_edit_date": 1426101455, "question_id": 28994746, "link": "https://stackoverflow.com/questions/28994746/is-it-possible-to-access-a-method-without-creating-an-instance", "title": "Is it possible to access a method without creating an instance?", "body": "<p>I have a class within a module and it has methods:</p>\n\n<pre><code>module D\n  class Dog\n    @name = 'pluto'\n    def setName( n )\n      @name = n\n    end\n    def getName ()\n      return @name\n    end\n  end\nend\n</code></pre>\n\n<p>Can I access <code>getName</code> without creating an instance of <code>Dog</code> like the static method in C++? Something like:</p>\n\n<pre><code>D::Dog.getName ()\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>d = D::Dog.new\nd.getName()\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "button", "hyperlink", "link-to"], "answers": [{"tags": [], "owner": {"reputation": 7694, "user_id": 166137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc4b76f5af496aeb0d1ea79ba966befa?s=128&d=identicon&r=PG&f=1", "display_name": "S M", "link": "https://stackoverflow.com/users/166137/s-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1426098143, "creation_date": 1426098143, "answer_id": 28994465, "question_id": 28994391, "link": "https://stackoverflow.com/questions/28994391/ruby-on-rails-convert-button-to-link/28994465#28994465", "title": "Ruby on Rails Convert Button To Link", "body": "<p>Your route requires a POST request, which the button makes, but <code>link_to</code> makes an <code>&lt;a&gt;</code> element, which will make a GET request. You can't make an <code>&lt;a&gt;</code> submit a POST. I suggest you use the button and restyle it with CSS to look like a link.</p>\n"}, {"tags": [], "owner": {"reputation": 1174, "user_id": 4640187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6253fee5faa9d5f4bc3cdd162d0a20?s=128&d=identicon&r=PG", "display_name": "mgrim", "link": "https://stackoverflow.com/users/4640187/mgrim"}, "is_accepted": false, "score": 0, "last_activity_date": 1426098849, "creation_date": 1426098849, "answer_id": 28994676, "question_id": 28994391, "link": "https://stackoverflow.com/questions/28994391/ruby-on-rails-convert-button-to-link/28994676#28994676", "title": "Ruby on Rails Convert Button To Link", "body": "<p>You can use the <code>:method</code> option to set http verb (e.g. <code>:post</code>) in <code>link_to</code> (see <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to\" rel=\"nofollow\">http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to</a>).</p>\n\n<p>However, you should consider changing your route since the <code>reviews#new</code> action renders the new review form. Use the POST request when creating or updating data.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1426098849, "creation_date": 1426097924, "question_id": 28994391, "link": "https://stackoverflow.com/questions/28994391/ruby-on-rails-convert-button-to-link", "title": "Ruby on Rails Convert Button To Link", "body": "<p>I have this button in a view:</p>\n\n<pre><code>&lt;%= button_to 'Add Review', {controller: 'reviews', action: 'new', id: booking.showing.film.id } %&gt;\n</code></pre>\n\n<p>Which then sends the user to the new review path and uses the film's id to enable the new review form to know what film is being reviewed. This is done through the routes:</p>\n\n<pre><code>post 'reviews/new/:id', to: 'reviews#new'\n</code></pre>\n\n<p>But the button does not look very nice so I want a <code>link_to</code>. I have tried this: </p>\n\n<pre><code>&lt;%= link_to 'Add Review', {controller: 'reviews', action: 'new', id: booking.showing.film.id } %&gt;\n</code></pre>\n\n<p>But through my errors routing:</p>\n\n<pre><code> match '*a', to: 'errors#routing', via: [:get, :post]\n</code></pre>\n\n<p>It will send the user back to the index page and display the message: <code>No such path as 'reviews/new/6'</code></p>\n\n<p>How can I make a link that does exactly the same as the button?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "angularjs", "postgresql"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1426097549, "post_id": 28994253, "comment_id": 46236613, "body": "is this a one time fix or does this need to happen at N interval?"}, {"owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "reply_to_user": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1426097731, "post_id": 28994253, "comment_id": 46236735, "body": "@Anthony, ideally this would update the Users&#39; <code>active</code> boolean every time the current year changes. And, perhaps every time the User signs in it would check their <code>end_year</code> vs. the current year and ensure the boolean is set accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426098051, "post_id": 28994329, "comment_id": 46236922, "body": "would this solution be easy to put to use in these 2 scenarios? 1) <code>find_by_sql</code> queries where I&#39;m trying to find the most popular content, but only from active Users, and 2) in the AngularJS front-end, where I would want guests to be able to actively filter/toggle a directory of Users by Active, Not-Active (aka Graduated), or Both."}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "reply_to_user": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426098407, "post_id": 28994329, "comment_id": 46237130, "body": "Well I&#39;d try to avoid relying on <code>active</code> in this case, which seems to be a bit redundant to <code>end_year</code>, plus, there is a chance, that <code>active</code> might not be updated for some users (because of some error?). But, you could query for those users by: <code>User.where(&quot;end_year &gt;= :current_year&quot;,   {current_year: Date.today.year})</code>"}, {"owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426098950, "post_id": 28994329, "comment_id": 46237470, "body": "I updated the question with some more context that might come in handy as we try to figure this out"}, {"owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426100495, "post_id": 28994329, "comment_id": 46238455, "body": "thank you for editing your answer, but how would you convert your addition into SQL compatible with the sample in my question?"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "reply_to_user": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426100591, "post_id": 28994329, "comment_id": 46238508, "body": "Do you mean how to update your method relying on <code>find_by_sql</code>?"}, {"owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426100820, "post_id": 28994329, "comment_id": 46238659, "body": "yes, sorry, please forgive me if I&#39;m not using proper terminology, I&#39;m self-taught and pretty new at this"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "reply_to_user": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426100865, "post_id": 28994329, "comment_id": 46238690, "body": "I can&#39;t test proposed solution, because I don&#39;t have any project similar to yours, however I added some idea that you might give a chance. Hope that helps!"}, {"owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "reply_to_user": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426101044, "post_id": 28994329, "comment_id": 46238804, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/72791/discussion-between-andrew-and-pawel-dawczak\">continue this discussion in chat</a>."}, {"owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "edited": false, "score": 0, "creation_date": 1426102056, "post_id": 28994329, "comment_id": 46239376, "body": "so it turns out that <code>end_year</code> was a string when it should have been an integer, and that was throwing the error. Once I changed the column type, your find_by_sql worked perfectly and I&#39;ll mark as correct. Thanks again!"}], "tags": [], "owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1426100781, "last_edit_date": 1426100781, "creation_date": 1426097691, "answer_id": 28994329, "question_id": 28994253, "link": "https://stackoverflow.com/questions/28994253/set-boolean-attribute-according-to-date-in-rails/28994329#28994329", "title": "Set boolean attribute according to date in Rails", "body": "<p>How about something like this:</p>\n\n<pre><code>class User\n  # rest of your code\n\n  def graduated?\n    end_year &gt;= Date.today.year\n  end\nend\n\nu1 = User.new(end_year: 2014)\nu1.graduated? # =&gt; false\n\nu2 = User.new(end_year: 2016)\nu2.graduated? # =&gt; true\n</code></pre>\n\n<p>For querying <em>active</em> <code>User</code>'s, you might use something like this:</p>\n\n<pre><code>User.where(\"end_year &gt;= :current_year\", {current_year: Date.today.year})\n</code></pre>\n\n<p>Update for <code>find_by_sql</code> would be:</p>\n\n<pre><code>def self.active_participants_by_group(group_id, max=5)\n  User.find_by_sql(['select users.*\n    from users, groups\n    where users.group_id = groups.id\n    and groups.id = ?\n    and users.end_year &gt;= ?\n    order by name asc limit ?', group_id, Date.today.year, max])\nend\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 4163426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UzU8s.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4163426/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 28994329, "answer_count": 1, "score": 0, "last_activity_date": 1426100781, "creation_date": 1426097463, "last_edit_date": 1426098912, "question_id": 28994253, "link": "https://stackoverflow.com/questions/28994253/set-boolean-attribute-according-to-date-in-rails", "title": "Set boolean attribute according to date in Rails", "body": "<p>In my app I'm trying to distinguish between active users and those that have \"graduated\" so to speak. I'm running Rails 4 and the front end is tied into a SPA with AngularJS.</p>\n\n<p>Users have a boolean <code>active</code> attribute in the database (Postgres), and I'm trying to automatically set that to be true if the User's selected <code>end_year</code> is equal to or greater than the current year (e.g. 2015, 2016, 2017, etc.). Once the User's <code>end_year</code> is less than the current year (e.g. 2013, 2014) I would want that boolean to automatically switch to false.</p>\n\n<p>Not sure how I would go about this, or if there is a better way to accomplish the end result of distinguishing between active and \"graduated\" Users.</p>\n\n<p>For example, in the following code, I'm returning all of the Users in a particular group regardless of their status as active or not-active. What I would want instead is to return all of the Users in a particular group who have not yet \"graduated\".</p>\n\n<pre><code>def self.participants_by_group(group_id, max=5)\n  User.find_by_sql(['select users.*\n    from users, groups\n    where users.group_id = groups.id\n    and groups.id = ?\n    order by name asc limit ?', group_id, max])\nend\n</code></pre>\n"}, {"tags": ["ruby", "scrape", "samba"], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "edited": false, "score": 0, "creation_date": 1426102844, "post_id": 28995165, "comment_id": 46239836, "body": "Not yet. Library not updated since 2007? Dubious..."}, {"owner": {"reputation": 5933, "user_id": 3501228, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/6ocDo.jpg?s=128&g=1", "display_name": "Noman Ur Rehman", "link": "https://stackoverflow.com/users/3501228/noman-ur-rehman"}, "reply_to_user": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "edited": false, "score": 0, "creation_date": 1426103811, "post_id": 28995165, "comment_id": 46240433, "body": "@bjpcjp On the hind sight, it could also be that the library has stabilized so the author stopped making updates. I have edited my answer to include a relatively newer resource."}, {"owner": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "edited": false, "score": 0, "creation_date": 1426104539, "post_id": 28995165, "comment_id": 46240835, "body": "I&#39;ll give it a shot &amp; report back. Thanks!"}, {"owner": {"reputation": 12679, "user_id": 53481, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2a4ff38be3e36bb3fd3174b74240df98?s=128&d=identicon&r=PG&f=1", "display_name": "okutane", "link": "https://stackoverflow.com/users/53481/okutane"}, "reply_to_user": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "edited": false, "score": 0, "creation_date": 1495460281, "post_id": 28995165, "comment_id": 75247959, "body": "@bjpcjp please report back."}, {"owner": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "edited": false, "score": 0, "creation_date": 1495986272, "post_id": 28995165, "comment_id": 75468227, "body": "no longer a valid request. we&#39;ve moved on."}], "tags": [], "owner": {"reputation": 5933, "user_id": 3501228, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/6ocDo.jpg?s=128&g=1", "display_name": "Noman Ur Rehman", "link": "https://stackoverflow.com/users/3501228/noman-ur-rehman"}, "is_accepted": false, "score": 2, "last_activity_date": 1426103719, "last_edit_date": 1426103719, "creation_date": 1426100518, "answer_id": 28995165, "question_id": 28994159, "link": "https://stackoverflow.com/questions/28994159/how-to-access-an-smb-file-server-using-ruby/28995165#28995165", "title": "How to access an SMB file server using Ruby", "body": "<p>Have you tried using the Ruby SMB library <a href=\"http://rubysmb.sourceforge.net/intro.php\" rel=\"nofollow\">http://rubysmb.sourceforge.net/intro.php</a></p>\n\n<p>Most of the Samba bindings for Ruby are old. Here is a relatively updated one.</p>\n\n<p><a href=\"https://github.com/fumiyas/ruby-net-smb\" rel=\"nofollow\">https://github.com/fumiyas/ruby-net-smb</a></p>\n"}], "owner": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1831, "favorite_count": 0, "closed_date": 1442959663, "answer_count": 1, "score": 1, "last_activity_date": 1426103719, "creation_date": 1426097127, "question_id": 28994159, "link": "https://stackoverflow.com/questions/28994159/how-to-access-an-smb-file-server-using-ruby", "closed_reason": "Needs details or clarity", "title": "How to access an SMB file server using Ruby", "body": "<p>I need to periodically scrape a spreadsheet that resides on another server in my company's network. (Legit exercise from inside company's network. No blackhat stuff.) The IP address is visible, but I'm told the relevant server uses Samba.</p>\n\n<p>I'm looking for a Ruby script that can access one or more relevant files for subsequent scraping. Have tried the Sambal gem w/o success thus far.</p>\n\n<p>Any hints?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "redis", "resque"], "answers": [{"tags": [], "owner": {"reputation": 786, "user_id": 617857, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8b04b6d0548d9cc5f58c3a143eeb8b68?s=128&d=identicon&r=PG", "display_name": "Steven Yue", "link": "https://stackoverflow.com/users/617857/steven-yue"}, "is_accepted": false, "score": 1, "last_activity_date": 1426107397, "last_edit_date": 1426107397, "creation_date": 1426105718, "answer_id": 28996689, "question_id": 28994152, "link": "https://stackoverflow.com/questions/28994152/two-redis-servers-for-same-rails-app/28996689#28996689", "title": "Two Redis servers for same rails app", "body": "<p>Of course you can use different redis db file for different jobs by using different redis url when open connection, like this:</p>\n\n<pre><code>Resque.redis = Redis.connect(url:'redis://localhost:6379/1') #connect to db1\nResque.redis = Redis.connect(url:'redis://localhost:6379/2') #connect to db2\n</code></pre>\n\n<p>But I don't think it's a good practice on this case. You should consider <a href=\"https://github.com/mperham/sidekiq\" rel=\"nofollow\">Sidekiq</a> and set up different queues to process different types of jobs. You can check <a href=\"https://github.com/mperham/sidekiq/wiki/Advanced-Options\" rel=\"nofollow\">sidekiq's options</a> on how to set up different queue names. Then you can easily track those jobs with sidekiq's web interface.</p>\n"}], "owner": {"reputation": 1276, "user_id": 1475737, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fdf27a6f95737da08085a38047e7de16?s=128&d=identicon&r=PG", "display_name": "snow_leopard", "link": "https://stackoverflow.com/users/1475737/snow-leopard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426107397, "creation_date": 1426097109, "question_id": 28994152, "link": "https://stackoverflow.com/questions/28994152/two-redis-servers-for-same-rails-app", "title": "Two Redis servers for same rails app", "body": "<p>My rails app has a lot of different kind of jobs which I currently submit to redis through resque. To better manage it I was thinking of running two redis servers and submitting one category of jobs to server1 while other to server2. Can anyone suggest how to use resque in rails to submit jobs of Type1 to Redis1 while Type2 jobs to Redis2 ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": false, "score": 3, "last_activity_date": 1426097175, "creation_date": 1426097175, "answer_id": 28994178, "question_id": 28994146, "link": "https://stackoverflow.com/questions/28994146/rails-4-set-attribute-value-for-modelname-all/28994178#28994178", "title": "Rails 4: Set attribute value for ModelName.all", "body": "<p>You need to do it as below :</p>\n\n<pre><code>Program.update_all specialty_tour: false\n</code></pre>\n\n<p>Read the <a href=\"http://apidock.com/rails/ActiveRecord/Relation/update_all\" rel=\"nofollow\"><code>update_all</code></a> method docs. This will <em>by pass</em> the validations. If you want to pass through the validation, then use <a href=\"http://apidock.com/rails/v4.1.8/ActiveRecord/Relation/update\" rel=\"nofollow\"><code>update</code></a> :</p>\n\n<pre><code>Program.update(Program.pluck(:id), specialty_tour: false)\n</code></pre>\n"}], "owner": {"reputation": 4318, "user_id": 2276081, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/LMM6M.jpg?s=128&g=1", "display_name": "Thalatta", "link": "https://stackoverflow.com/users/2276081/thalatta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426097175, "creation_date": 1426097082, "question_id": 28994146, "link": "https://stackoverflow.com/questions/28994146/rails-4-set-attribute-value-for-modelname-all", "title": "Rails 4: Set attribute value for ModelName.all", "body": "<p>I have an attribute on my model, <code>Program</code>, called <code>specialty_tour</code> which I would like to set to <code>false</code> for each ActiveRecord. </p>\n\n<p>I attempted to do</p>\n\n<pre><code>Program.all.each{&lt;set specialty_tour attribute to false ..&gt;}\n</code></pre>\n\n<p>but <code>.all</code> returns an <code>ActiveRecord::Relation</code> which is not an ennumerable type in ruby. </p>\n\n<p>thoughts?</p>\n"}, {"tags": ["ruby", "string"], "comments": [{"owner": {"reputation": 252285, "user_id": 541091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd0165a88a06fc92a36f222606f17a11?s=128&d=identicon&r=PG", "display_name": "Michael Berkowski", "link": "https://stackoverflow.com/users/541091/michael-berkowski"}, "edited": false, "score": 1, "creation_date": 1426096551, "post_id": 28993923, "comment_id": 46235961, "body": "Stick a <code>.downcase</code> in there if you want a case-insensitive match"}, {"owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "reply_to_user": {"reputation": 252285, "user_id": 541091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd0165a88a06fc92a36f222606f17a11?s=128&d=identicon&r=PG", "display_name": "Michael Berkowski", "link": "https://stackoverflow.com/users/541091/michael-berkowski"}, "edited": false, "score": 0, "creation_date": 1426097700, "post_id": 28993923, "comment_id": 46236717, "body": "Hi Michael - I forgot to mention, <code>str</code> is downcased."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 2, "creation_date": 1426098006, "post_id": 28993923, "comment_id": 46236890, "body": "@user984621 If that is the case, then it contradicts your question."}, {"owner": {"reputation": 252285, "user_id": 541091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd0165a88a06fc92a36f222606f17a11?s=128&d=identicon&r=PG", "display_name": "Michael Berkowski", "link": "https://stackoverflow.com/users/541091/michael-berkowski"}, "edited": false, "score": 0, "creation_date": 1426099166, "post_id": 28993923, "comment_id": 46237609, "body": "@user984621 <code>{ |word| str.downcase.include?(word) }</code> returns <code>true</code> for me."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426099863, "post_id": 28993923, "comment_id": 46238082, "body": "<code>!!(str =~ &#47;\\bgeneral merchandise\\b&#47;i) #=&gt; true</code> is perhaps easier."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426100241, "post_id": 28993923, "comment_id": 46238297, "body": "I think the displeasure with the question is because the array on which <code>any?</code> is invoked contains a single string, so the expression is equivalent to <code>str.include?(&#39;general merchandise&#39;)</code>."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426102132, "post_id": 28993923, "comment_id": 46239422, "body": "<code>str.downcase.include?(&#39;Auto&#39;) =&gt; true</code> illustrates another problem with this approach."}], "answers": [{"tags": [], "owner": {"reputation": 2423, "user_id": 4143605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51efa7bcbb6ea62cb6d024d1b8f2d56d?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/4143605/sid"}, "is_accepted": false, "score": 0, "last_activity_date": 1426098508, "creation_date": 1426098508, "answer_id": 28994582, "question_id": 28993923, "link": "https://stackoverflow.com/questions/28993923/how-to-check-if-a-string-contains-at-least-one-word-of-another-string/28994582#28994582", "title": "How to check if a string contains at least one word of another string?", "body": "<p>It should work by downcasing str as Michael answered above:</p>\n\n<p>str='General Merchandise Stores, Automotive Parts And Accessories Stores, Motor Vehicle Supplies And New Parts Wholesalers, Tire Dealers '</p>\n\n<p>['general merchandise'].any? { |word| str.downcase.include?(word) } # => true</p>\n"}], "owner": {"reputation": 40732, "user_id": 984621, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/817afccebcbe3a4983a5e8c584f30373?s=128&d=identicon&r=PG", "display_name": "user984621", "link": "https://stackoverflow.com/users/984621/user984621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 534, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426162672, "creation_date": 1426096423, "last_edit_date": 1426096713, "question_id": 28993923, "link": "https://stackoverflow.com/questions/28993923/how-to-check-if-a-string-contains-at-least-one-word-of-another-string", "title": "How to check if a string contains at least one word of another string?", "body": "<p>I have the following string:</p>\n\n<pre><code>str='General Merchandise Stores, Automotive Parts And Accessories Stores, Motor Vehicle Supplies And New Parts Wholesalers, Tire Dealers '\n</code></pre>\n\n<p>The goal is to test if the string in the array below is contained in <code>str</code>. I am running this code:</p>\n\n<pre><code>['general merchandise'].any? { |word| str.include?(word) } # =&gt; false\n</code></pre>\n\n<p>The string is there. Why is the result <code>false</code>?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json", "activesupport"], "answers": [{"tags": [], "owner": {"reputation": 629, "user_id": 1795600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0F3Z1.png?s=128&g=1", "display_name": "stefkin", "link": "https://stackoverflow.com/users/1795600/stefkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431420135, "creation_date": 1431420135, "answer_id": 30185829, "question_id": 28993710, "link": "https://stackoverflow.com/questions/28993710/how-do-i-replace-to-json-in-ruby-with-the-oj-gem/30185829#30185829", "title": "How do I replace to_json in Ruby with the Oj gem?", "body": "<p>Try this out: <a href=\"https://github.com/intridea/multi_json\" rel=\"nofollow\">MultiJson gem</a>\nIt'll use oj as default json parser by default in compat mode (compatibility)</p>\n"}], "owner": {"reputation": 2759, "user_id": 20176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e983cba9e659f3815c0c87f33d4b3b18?s=128&d=identicon&r=PG", "display_name": "thesmart", "link": "https://stackoverflow.com/users/20176/thesmart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1894, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1431420135, "creation_date": 1426095815, "question_id": 28993710, "link": "https://stackoverflow.com/questions/28993710/how-do-i-replace-to-json-in-ruby-with-the-oj-gem", "title": "How do I replace to_json in Ruby with the Oj gem?", "body": "<p>Ruby's to_json is incredibly slow.  I want to use the Oj gem, replacing the to_json implementation.  I added oj and oj_mimic_json, but that appears only to affect ActiveSupport's <code>ActiveSupport::JSON</code></p>\n\n<pre><code>require 'oj'\nrequire 'oj_mimic_json'\n</code></pre>\n\n<p>Is there a canonical way to replace to_json with a different backend, like Oj?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "capistrano"], "comments": [{"owner": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 3, "creation_date": 1426095019, "post_id": 28993367, "comment_id": 46234948, "body": "capistrano is used to deploy the application.   The Capfile (along with config/deploy*  )  contains instructions that tell capistrano how to deploy your application to the various servers that it requires."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 0, "creation_date": 1426095124, "post_id": 28993367, "comment_id": 46235014, "body": "Thanks. Thats what I thought and hoped :) ... but how can I run the Capfile?"}, {"owner": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 0, "creation_date": 1426097816, "post_id": 28993367, "comment_id": 46236781, "body": "if you have cabistrano installed, it should be as simple as <code>cap {stage} {action}</code>, but this depends upon which version of capistrano you have installed (2 vs 3, etc..).  If you are feeling really brave you can try  <code>cap production deploy</code>  which would follow the recipe(s) in <code>config&#47;deploy.rb</code> , <code>config&#47;deploy&#47;production.rb</code>"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 0, "creation_date": 1426150274, "post_id": 28993367, "comment_id": 46256833, "body": "thanks for your help. I&#39;ve updated my question above with some new queststions :)"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 0, "creation_date": 1426164703, "post_id": 28993367, "comment_id": 46265572, "body": "okay this error comes from the wrong capistrano version."}, {"owner": {"reputation": 1290, "user_id": 241135, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a6fdfc0f91794b2201799d691edf726?s=128&d=identicon&r=PG", "display_name": "Daniel Werner", "link": "https://stackoverflow.com/users/241135/daniel-werner"}, "reply_to_user": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 1, "creation_date": 1484042565, "post_id": 28993367, "comment_id": 70336119, "body": "@Doon Your comments could also be a (very good) answer."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 6409116, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-12-nZvcP4X8/AAAAAAAAAAI/AAAAAAAAAA4/3f1IsZv8kC4/photo.jpg?sz=128", "display_name": "Bhushan Chordia", "link": "https://stackoverflow.com/users/6409116/bhushan-chordia"}, "is_accepted": true, "score": 1, "last_activity_date": 1537440970, "last_edit_date": 1537440970, "creation_date": 1537440767, "answer_id": 52423469, "question_id": 28993367, "link": "https://stackoverflow.com/questions/28993367/whats-a-capfile-and-how-do-i-use-it-correctly-with-ruby-on-rails/52423469#52423469", "title": "What&#39;s a Capfile? And how do I use it correctly with Ruby on Rails?", "body": "<p>This is happening because Capistrano tasks are now Rake tasks and Rake expects a construct like this:</p>\n\n<pre><code>task :name, [:arg, :arg] =&gt; :dependency do\n  ...\nend\n</code></pre>\n\n<p>Capistrano 3:</p>\n\n<pre><code>task :dump do\n  on primary roles :db do\n    ...\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5293, "favorite_count": 0, "accepted_answer_id": 52423469, "answer_count": 1, "score": 2, "last_activity_date": 1537440970, "creation_date": 1426094877, "last_edit_date": 1426150244, "question_id": 28993367, "link": "https://stackoverflow.com/questions/28993367/whats-a-capfile-and-how-do-i-use-it-correctly-with-ruby-on-rails", "title": "What&#39;s a Capfile? And how do I use it correctly with Ruby on Rails?", "body": "<p>I have a ruby on rails application that should be transferred from one server to another (that's not working fine at the moment). I installed capistrano. I'm using debian 7 server with apache passenger.</p>\n\n<p>I saw a <code>Capfile</code> in the root directory of the ruby on rails application.\nIs a Capfile something like a makefile to build and deploy the application? How do I correctly work with it?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>When I run the cap file i got this: ' cap deploy:setup '</p>\n\n<pre><code>(Backtrace restricted to imported tasks)\ncap aborted!\nLoadError: cannot load such file -- config/deploy\n/var/www/myapplication/Capfile:3:in `load'\n/var/www/myapplication/Capfile:3:in `&lt;top (required)&gt;'\n(See full trace by running task with --trace)\n</code></pre>\n\n<p>it seems like the deploy file coun't be loaded ... i have in the config folder an deploy folder and a deploy.rb</p>\n\n<p>whats going wrong?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4533139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999afae441564088baa0e06c7d18f860?s=128&d=identicon&r=PG&f=1", "display_name": "reodon59", "link": "https://stackoverflow.com/users/4533139/reodon59"}, "edited": false, "score": 0, "creation_date": 1426120291, "post_id": 28993376, "comment_id": 46247699, "body": "Is there anyway to check if it was changed to production. I ran the commands above, but when I upload the files to heroku, it is still using sqlite3. From my gemfile, it should be using postgresql. I think it didn&#39;t change the environment."}, {"owner": {"reputation": 4313, "user_id": 1177198, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4ea56c658e69eef33b6557b20c7a19ab?s=128&d=identicon&r=PG", "display_name": "bigtunacan", "link": "https://stackoverflow.com/users/1177198/bigtunacan"}, "reply_to_user": {"reputation": 17, "user_id": 4533139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999afae441564088baa0e06c7d18f860?s=128&d=identicon&r=PG&f=1", "display_name": "reodon59", "link": "https://stackoverflow.com/users/4533139/reodon59"}, "edited": false, "score": 0, "creation_date": 1426127332, "post_id": 28993376, "comment_id": 46249541, "body": "I&#39;ve added some additional info related to setting this on Heroku."}, {"owner": {"reputation": 4313, "user_id": 1177198, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4ea56c658e69eef33b6557b20c7a19ab?s=128&d=identicon&r=PG", "display_name": "bigtunacan", "link": "https://stackoverflow.com/users/1177198/bigtunacan"}, "reply_to_user": {"reputation": 17, "user_id": 4533139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999afae441564088baa0e06c7d18f860?s=128&d=identicon&r=PG&f=1", "display_name": "reodon59", "link": "https://stackoverflow.com/users/4533139/reodon59"}, "edited": false, "score": 0, "creation_date": 1426169460, "post_id": 28993376, "comment_id": 46269053, "body": "@reodon59,  I rejected the proposed edits you made to the answer.  The type of edit you made would belong as an update to your original question if anywhere.  Based on what you had entered though; your original question has been solved.  The Stack Overflow process is that you should accept this answer and now go open a new question related to the separate postgres issue you are now encountering."}, {"owner": {"reputation": 17, "user_id": 4533139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999afae441564088baa0e06c7d18f860?s=128&d=identicon&r=PG&f=1", "display_name": "reodon59", "link": "https://stackoverflow.com/users/4533139/reodon59"}, "edited": false, "score": 0, "creation_date": 1426170917, "post_id": 28993376, "comment_id": 46270142, "body": "@bigtunacan...How do I do that?"}], "tags": [], "owner": {"reputation": 4313, "user_id": 1177198, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4ea56c658e69eef33b6557b20c7a19ab?s=128&d=identicon&r=PG", "display_name": "bigtunacan", "link": "https://stackoverflow.com/users/1177198/bigtunacan"}, "is_accepted": true, "score": 2, "last_activity_date": 1426127303, "last_edit_date": 1426127303, "creation_date": 1426094890, "answer_id": 28993376, "question_id": 28993290, "link": "https://stackoverflow.com/questions/28993290/rails-env-production-is-not-recognized-as-a-cmdlet-function-etc/28993376#28993376", "title": "RAILS_ENV=production is not recognized as a cmdlet, function, etc", "body": "<p>RAILS_ENV=production is used from Linux (or variant thereof) terminals to set an environment variable prior to calling some command.</p>\n\n<p>To do this in Windows you will need to set the environment variable the Windows way.  This would look something like this.</p>\n\n<pre><code>set RAILS_ENV=production\nbundle exec rake assets:precompile\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT: Based on comment from TC</strong></p>\n\n<p>Setting Heroku to use production is a different problem altogether.</p>\n\n<p>Details are provided on Heroku's site at the following link.</p>\n\n<p><a href=\"https://devcenter.heroku.com/articles/multiple-environments\" rel=\"nofollow\">https://devcenter.heroku.com/articles/multiple-environments</a></p>\n\n<p>The short version though you need to create a production remote and then push to that remote.</p>\n\n<pre><code>heroku create --remote production\ngit push production master\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4533139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999afae441564088baa0e06c7d18f860?s=128&d=identicon&r=PG&f=1", "display_name": "reodon59", "link": "https://stackoverflow.com/users/4533139/reodon59"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 2, "accepted_answer_id": 28993376, "answer_count": 1, "score": 1, "last_activity_date": 1426127303, "creation_date": 1426094619, "last_edit_date": 1426094838, "question_id": 28993290, "link": "https://stackoverflow.com/questions/28993290/rails-env-production-is-not-recognized-as-a-cmdlet-function-etc", "title": "RAILS_ENV=production is not recognized as a cmdlet, function, etc", "body": "<p>So I'm learning Rails on Windows 8 box from on online source. In the lesson below, I'm trying to change the Rails environment from development to production and precompile some files before uploading them to heroku. </p>\n\n<p>When I run the below command:</p>\n\n<pre><code>PS C:\\Users\\username\\work\\stukdo&gt; RAILS_ENV=production bundle exec rake assets:precompile\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>RAILS_ENV=production : The term 'RAILS_ENV=production' is not recognized as the name of a cmdlet, function, script\nfile, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct\nand try again.\nAt line:1 char:1\n+ RAILS_ENV=production bundle exec rake assets:precompile\n+ ~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : ObjectNotFound: (RAILS_ENV=production:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException\n</code></pre>\n\n<p>I have looked everywhere but cannot get this command to work. I've updated the PATH in my Windows box, but to no avail. </p>\n\n<p>I have Rails ver. 4.1.8 and Ruby 1.9.3 running on the windows box. Any ideas?\nSorry if this is a novice question, but I'm stuck.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "messaging", "actioncontroller"], "comments": [{"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426097375, "post_id": 28993285, "comment_id": 46236507, "body": "Could you add code of <i>app/views/conversations/show.html</i> file?"}, {"owner": {"reputation": 213, "user_id": 3642951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f36267bce9280220fe99437b78a8739?s=128&d=identicon&r=PG", "display_name": "hworth", "link": "https://stackoverflow.com/users/3642951/hworth"}, "reply_to_user": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426097680, "post_id": 28993285, "comment_id": 46236710, "body": "Sure, I&#39;ve added <i>app/views/conversations/show.html.erb</i> to the bottom of the question! :)"}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 3642951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f36267bce9280220fe99437b78a8739?s=128&d=identicon&r=PG", "display_name": "hworth", "link": "https://stackoverflow.com/users/3642951/hworth"}, "edited": false, "score": 0, "creation_date": 1426098186, "post_id": 28994398, "comment_id": 46236995, "body": "Is there a way to see all files at once which utilize the code contained in <code>UsersHelper</code>? Since it is currently being used in my application for profile pictures and other things I need to somehow keep it&#39;s functionality while also using the <code>ApplicationHelper</code>&#39;s <code>gravatar_for</code> method for the Messageable system between users... would this be possible at all? (thanks for the help so far by the way)"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "reply_to_user": {"reputation": 213, "user_id": 3642951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f36267bce9280220fe99437b78a8739?s=128&d=identicon&r=PG", "display_name": "hworth", "link": "https://stackoverflow.com/users/3642951/hworth"}, "edited": false, "score": 0, "creation_date": 1426099247, "post_id": 28994398, "comment_id": 46237674, "body": "Well, it difficult to advise anything for me - I don&#39;t know the whole application. Clearly there is a problem with naming collision, and it&#39;s easier for you to justify if removing or renaming one of methods is less work. If you are working in unix environment, you can try command <code>grep -R &#39;gravatar_for&#39; *</code>, this will list all files with occurrences of <code>gravatar_for</code>. I&#39;m afraid I can&#39;t help more at that point..."}, {"owner": {"reputation": 213, "user_id": 3642951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f36267bce9280220fe99437b78a8739?s=128&d=identicon&r=PG", "display_name": "hworth", "link": "https://stackoverflow.com/users/3642951/hworth"}, "edited": false, "score": 0, "creation_date": 1426099923, "post_id": 28994398, "comment_id": 46238110, "body": "Okay, thanks for the help! I guess what I really need to figure out is how to have gravatars with different sizes in different views; size 30 for the messaging system view and size 80 for the profile page picture view. But that&#39;s okay if you aren&#39;t sure how to have 2 different size avatar pictures defined in different views"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "reply_to_user": {"reputation": 213, "user_id": 3642951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f36267bce9280220fe99437b78a8739?s=128&d=identicon&r=PG", "display_name": "hworth", "link": "https://stackoverflow.com/users/3642951/hworth"}, "edited": false, "score": 0, "creation_date": 1426149429, "post_id": 28994398, "comment_id": 46256405, "body": "Oh! If this is the case, you can still reuse your <code>gravatar_for</code> from <code>UsersHelper</code>. I&#39;ll update the answer to show you an example!"}], "tags": [], "owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1426149426, "last_edit_date": 1426149426, "creation_date": 1426097942, "answer_id": 28994398, "question_id": 28993285, "link": "https://stackoverflow.com/questions/28993285/argumenterror-in-conversationscontrollershow-wrong-number-of-arguments-3-fo/28994398#28994398", "title": "ArgumentError in ConversationsController#show -- wrong number of arguments (3 for 1..2)", "body": "<p>In your <code>show</code> template there is code:</p>\n\n<pre><code>&lt;%= gravatar_for message.sender, 45, message.sender.name %&gt;\n</code></pre>\n\n<p>Unfortunately you have defined <code>gravatar_for</code> in two helpers - one in your <code>UsersHelper</code>, and one in your <code>ApplicationHelper</code>.</p>\n\n<p>It looks like the definition from <code>UsersHelper</code> takes precedence over <code>ApplicationHelper</code>'s one. Try removing the one from <code>UserHelper</code>, so the proper method is called.</p>\n\n<p>Good luck!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You've mentioned you want to be able to customise the <code>gravatar</code> size, and it is possible with your current implementation of <code>UsersHelper#gravatar_for</code>. Change your code in <code>show</code> as follows:</p>\n\n<pre><code>&lt;%= gravatar_for message.sender, { size: 45 } %&gt;\n</code></pre>\n\n<p>Please note I removed the third argument so it doesn't cause any errors. Additionally I passed a <code>hash</code> with defined <code>size</code>.</p>\n\n<p>This should do the trick!</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 213, "user_id": 3642951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f36267bce9280220fe99437b78a8739?s=128&d=identicon&r=PG", "display_name": "hworth", "link": "https://stackoverflow.com/users/3642951/hworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 28994398, "answer_count": 1, "score": 0, "last_activity_date": 1426149426, "creation_date": 1426094605, "last_edit_date": 1426097646, "question_id": 28993285, "link": "https://stackoverflow.com/questions/28993285/argumenterror-in-conversationscontrollershow-wrong-number-of-arguments-3-fo", "title": "ArgumentError in ConversationsController#show -- wrong number of arguments (3 for 1..2)", "body": "<p>With the <strong>Messageable</strong> gem in my Ruby on Rails app, I can access the New Conversation page successfully and chose a user to send to, a title for the message, and of course the body of the message itself.</p>\n\n<p>However, when I click the send button and the page reloads, I receive the following error message:</p>\n\n<pre><code>ArgumentError in ConversationsController#show\n\nwrong number of arguments (3 for 1..2)\n\nExtracted source (around line #4):\n2  \n3  # Returns the Gravatar for the given user.\n4  def gravatar_for(user, options = { size: 80 })\n5    gravatar_id = Digest::MD5::hexdigest(user.email.downcase)\n6    size = options[:size]\n7    gravatar_url = \"https://secure.gravatar.com/avatar/#{gravatar_id}?s=# {size}\"\n</code></pre>\n\n<p>What could be causing this issue? I'm having so many issues with the <a href=\"http://www.sitepoint.com/messaging-rails-mailboxer/\" rel=\"nofollow\">New Relic tutorial for Messageable</a> I've been following.. I'm not sure if this error perhaps indicates some problem with there being two seperate gravatar methods that were for two different functions &amp; tutorials (<em>users_helper.rb</em> gravatar method is implemented for profile pictures, from the Hartl tutorial; <em>application_helper.rb</em> gravatar method is implemented for the Messageable new relic tutorial). I don't believe there is any collision between the two causing an error as I haven't been able to fix it yet, but it's a possibility(?) </p>\n\n<p>Anyways, any solution to this problem would be greatly appreciated. </p>\n\n<hr>\n\n<p>=><strong>Rails</strong> version: 4.1.2, <strong>Ruby</strong> version: 2.1.4</p>\n\n<hr>\n\n<p><strong>app/helpers/users_helper.rb</strong>:</p>\n\n<pre><code>module UsersHelper\n\n  # Returns the Gravatar for the given user.\n  def gravatar_for(user, options = { size: 80 })\n    gravatar_id = Digest::MD5::hexdigest(user.email.downcase)\n    size = options[:size]\n    gravatar_url = \"https://secure.gravatar.com/avatar/#{gravatar_id}?s=#{size}\"\n    image_tag(gravatar_url, alt: user.username, class: \"gravatar\")\n  end\nend\n</code></pre>\n\n<hr>\n\n<p><strong>Full Backtrace</strong>:</p>\n\n<pre><code>app/helpers/users_helper.rb:4:in `gravatar_for'\napp/views/conversations/show.html.erb:16:in `block in _app_views_conversations_show_html_erb__1169498260752427397_69885071298420'\napp/views/conversations/show.html.erb:12:in `_app_views_conversations_show_html_erb__1169498260752427397_69885071298420'\nactiverecord (4.2.0) lib/active_record/relation/delegation.rb:46:in `each'\nactiverecord (4.2.0) lib/active_record/relation/delegation.rb:46:in `each'\nactionview (4.2.0) lib/action_view/template.rb:145:in `block in render'\nactivesupport (4.2.0) lib/active_support/notifications.rb:166:in `instrument'\nactionview (4.2.0) lib/action_view/template.rb:333:in `instrument'\nactionview (4.2.0) lib/action_view/template.rb:143:in `render'\nactionview (4.2.0) lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template'\nactionview (4.2.0) lib/action_view/renderer/abstract_renderer.rb:39:in `block in instrument'\nactivesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'\nactivesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'\nactivesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'\nactionview (4.2.0) lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'\nactionview (4.2.0) lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'\nactionview (4.2.0) lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'\nactionview (4.2.0) lib/action_view/renderer/template_renderer.rb:52:in `render_template'\nactionview (4.2.0) lib/action_view/renderer/template_renderer.rb:14:in `render'\nactionview (4.2.0) lib/action_view/renderer/renderer.rb:42:in `render_template'\nactionview (4.2.0) lib/action_view/renderer/renderer.rb:23:in `render'\nactionview (4.2.0) lib/action_view/rendering.rb:100:in `_render_template'\nactionpack (4.2.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'\nactionview (4.2.0) lib/action_view/rendering.rb:83:in `render_to_body'\nactionpack (4.2.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'\nactionpack (4.2.0) lib/action_controller/metal/renderers.rb:37:in `render_to_body'\nactionpack (4.2.0) lib/abstract_controller/rendering.rb:25:in `render'\nactionpack (4.2.0) lib/action_controller/metal/rendering.rb:16:in `render'\nactionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'\nactivesupport (4.2.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'\n/usr/local/rvm/rubies/ruby-2.1.4/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'\nactivesupport (4.2.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'\nactionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'\nactionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'\nactiverecord (4.2.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'\nactionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:40:in `render'\nactionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'\nactionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'\nactionpack (4.2.0) lib/abstract_controller/base.rb:198:in `process_action'\nactionpack (4.2.0) lib/action_controller/metal/rendering.rb:10:in `process_action'\nactionpack (4.2.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:151:in `block in halting_and_conditional'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:151:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:151:in `block in halting_and_conditional'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'\nactionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'\nactionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'\nactionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'\nactivesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'\nactivesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'\nactivesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'\nactionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'\nactionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'\nactiverecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'\nactionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'\nactionview (4.2.0) lib/action_view/rendering.rb:30:in `process'\nactionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'\nactionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'\nactionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'\nactionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'\nactionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'\nactionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'\nactionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'\nactionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'\nactionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'\nactionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'\nrack (1.6.0) lib/rack/etag.rb:24:in `call'\nrack (1.6.0) lib/rack/conditionalget.rb:25:in `call'\nrack (1.6.0) lib/rack/head.rb:13:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'\nrack (1.6.0) lib/rack/session/abstract/id.rb:225:in `context'\nrack (1.6.0) lib/rack/session/abstract/id.rb:220:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'\nactiverecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'\nactiverecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'\nactiverecord (4.2.0) lib/active_record/migration.rb:378:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'\nactivesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'\nactionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'\nweb-console (2.0.0.beta3) lib/action_dispatch/debug_exceptions.rb:18:in `middleware_call'\nweb-console (2.0.0.beta3) lib/action_dispatch/debug_exceptions.rb:13:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\nrailties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'\nrailties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'\nactivesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'\nactivesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'\nactivesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'\nrailties (4.2.0) lib/rails/rack/logger.rb:20:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'\nrack (1.6.0) lib/rack/methodoverride.rb:22:in `call'\nrack (1.6.0) lib/rack/runtime.rb:18:in `call'\nactivesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'\nrack (1.6.0) lib/rack/lock.rb:17:in `call'\nactionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'\nrack (1.6.0) lib/rack/sendfile.rb:113:in `call'\nrack-timeout (0.2.0) lib/rack/timeout.rb:108:in `call'\nrailties (4.2.0) lib/rails/engine.rb:518:in `call'\nrailties (4.2.0) lib/rails/application.rb:164:in `call'\nrack (1.6.0) lib/rack/lock.rb:17:in `call'\nrack (1.6.0) lib/rack/content_length.rb:15:in `call'\nrack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'\n/usr/local/rvm/rubies/ruby-2.1.4/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'\n/usr/local/rvm/rubies/ruby-2.1.4/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'\n/usr/local/rvm/rubies/ruby-2.1.4/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'\n</code></pre>\n\n<hr>\n\n<p><strong>application_helper</strong>:</p>\n\n<pre><code>module ApplicationHelper\n\n  # Helper method to easily render Gravatars.\n  def gravatar_for(user, size = 30, title = user.username)\n    image_tag gravatar_image_url(user.email, size: size), title: title, class: 'img-rounded'\n  end\nend\n</code></pre>\n\n<hr>\n\n<p><strong>_participants.html.erb</strong>:</p>\n\n<pre><code>&lt;% conversation.participants.each do |participant| %&gt;\n  &lt;% unless participant == current_user %&gt;\n    &lt;%= gravatar_for participant %&gt;\n  &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>messages_helper.rb</strong>:</p>\n\n<pre><code>module MessagesHelper\n  def recipients_options\n    s = ''\n    User.all.each do |user|\n      s &lt;&lt; \"&lt;option value='#{user.id}' data-img-src='#{gravatar_image_url(user.email, size: 50)}'&gt;#{user.name}&lt;/option&gt;\"\n    end\n    s.html_safe\n  end\nend\n</code></pre>\n\n<hr>\n\n<p><strong>app/views/conversations/show.html.erb</strong>:</p>\n\n<pre><code>&lt;% provide(:title, 'Conversation') %&gt;\n\n&lt;p&gt;Chatting with\n  &lt;%= render 'conversations/participants', conversation: @conversation %&gt;\n&lt;/p&gt;\n\n&lt;div class=\"panel panel-default\"&gt;\n  &lt;div class=\"panel-heading\"&gt;&lt;%= @conversation.subject %&gt;&lt;/div&gt;\n\n  &lt;div class=\"panel-body\"&gt;\n    &lt;div class=\"messages\"&gt;\n      &lt;% @conversation.receipts_for(current_user).each do |receipt| %&gt;\n        &lt;div class=\"media\"&gt;\n          &lt;% message = receipt.message %&gt;\n          &lt;div class=\"media-left\"&gt;\n            &lt;%= gravatar_for message.sender, 45, message.sender.name %&gt;\n          &lt;/div&gt;\n\n          &lt;div class=\"media-body\"&gt;\n            &lt;h6 class=\"media-heading\"&gt;&lt;%= message.sender.name %&gt;\n                says at &lt;%= message.created_at.strftime(\"%-d %B %Y, %H:%M:%S\") %&gt;&lt;/h6&gt;\n            &lt;%= message.body %&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;% end %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3"], "answers": [{"comments": [{"owner": {"reputation": 1504, "user_id": 3536450, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d7d9026d96e8a5733927cb70c20010a1?s=128&d=identicon&r=PG", "display_name": "dfherr", "link": "https://stackoverflow.com/users/3536450/dfherr"}, "edited": false, "score": 0, "creation_date": 1426095777, "post_id": 28993506, "comment_id": 46235424, "body": "actually useful first step. but doesn&#39;t solve the problem of detecting picture has changed before_save."}, {"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "reply_to_user": {"reputation": 1504, "user_id": 3536450, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d7d9026d96e8a5733927cb70c20010a1?s=128&d=identicon&r=PG", "display_name": "dfherr", "link": "https://stackoverflow.com/users/3536450/dfherr"}, "edited": false, "score": 0, "creation_date": 1426096866, "post_id": 28993506, "comment_id": 46236171, "body": "check out my latest revision.  Feel free to update it with your exact logic if need be"}, {"owner": {"reputation": 1504, "user_id": 3536450, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d7d9026d96e8a5733927cb70c20010a1?s=128&d=identicon&r=PG", "display_name": "dfherr", "link": "https://stackoverflow.com/users/3536450/dfherr"}, "edited": false, "score": 0, "creation_date": 1426159984, "post_id": 28993506, "comment_id": 46262475, "body": "i actually used a different approach hooking into our image stores upload and delete calls, but i think this would have worked pretty fine too. so accepted"}], "tags": [], "owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "is_accepted": true, "score": 1, "last_activity_date": 1426096839, "last_edit_date": 1426096839, "creation_date": 1426095318, "answer_id": 28993506, "question_id": 28993240, "link": "https://stackoverflow.com/questions/28993240/automatically-remove-a-model-attribute-if-another-attribute-of-same-model-change/28993506#28993506", "title": "Automatically remove a model attribute if another attribute of same model changed in rails", "body": "<p>You could use an before save callback:</p>\n\n<pre><code>class Profile\n  before_save :check_crop_data\n\n\n  def check_crop_data\n    if self.changed_attributes.has_key?(:profile_picture) \n      self.crop_data = true\n    elsif picture.nil?\n      self.crop_data = false\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 1504, "user_id": 3536450, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d7d9026d96e8a5733927cb70c20010a1?s=128&d=identicon&r=PG", "display_name": "dfherr", "link": "https://stackoverflow.com/users/3536450/dfherr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 28993506, "answer_count": 1, "score": 0, "last_activity_date": 1426096839, "creation_date": 1426094456, "question_id": 28993240, "link": "https://stackoverflow.com/questions/28993240/automatically-remove-a-model-attribute-if-another-attribute-of-same-model-change", "title": "Automatically remove a model attribute if another attribute of same model changed in rails", "body": "<p>So I want to automatically remove a model attribute when a specific other attribute of the same model changed.</p>\n\n<p>I got a rails model named <code>profile</code> and it has a <code>picture</code> attribute containing an URL to an image in our image store. Additionally the model has a <code>crop_data</code> attribute containing information which part of the image to present to the user, which can be set by the user and defaults to <code>profile.crop_data? # =&gt; false</code></p>\n\n<p>If the <code>profile.picture</code> attribute changed or got removed/reset</p>\n\n<pre><code>profile.crop_data? # should return false \n</code></pre>\n\n<p>and be reset to default value in the database.</p>\n\n<p>What is the cleanest way to achieve this? Unfortunately we are still running <code>Rails 3.2.21</code>.</p>\n"}, {"tags": ["ruby", "syntax-error", "unexpectendoffile"], "comments": [{"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 4, "creation_date": 1426093352, "post_id": 28992786, "comment_id": 46233757, "body": "Well, the first tip is to post your code. You will get zero help troubleshooting a piece of code no one can see."}, {"owner": {"reputation": 8947, "user_id": 677472, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4e2wN.jpg?s=128&g=1", "display_name": "Godwin", "link": "https://stackoverflow.com/users/677472/godwin"}, "edited": false, "score": 2, "creation_date": 1426093386, "post_id": 28992786, "comment_id": 46233779, "body": "Comment out some lines so that the code runs, start removing commented lines until it breaks. If you still can&#39;t find it, post your code."}, {"owner": {"reputation": 1286, "user_id": 3843206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuCnW.jpg?s=128&g=1", "display_name": "dwenzel", "link": "https://stackoverflow.com/users/3843206/dwenzel"}, "edited": false, "score": 1, "creation_date": 1426093465, "post_id": 28992786, "comment_id": 46233828, "body": "If you use good indentation, it&#39;s usually fairly easy to look up and down and make sure all of your loops have and <code>end</code>"}, {"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 1, "creation_date": 1426093945, "post_id": 28992786, "comment_id": 46234171, "body": "Or use a good code editor, it will flag many problems for you."}, {"owner": {"reputation": 487, "user_id": 729474, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a8e32e28c2361f6bf5465e39c0a68987?s=128&d=identicon&r=PG", "display_name": "missscripty", "link": "https://stackoverflow.com/users/729474/missscripty"}, "edited": false, "score": 0, "creation_date": 1426099382, "post_id": 28992786, "comment_id": 46237759, "body": "I do use proper indentation and I use ultra edit.  My eyes just couldn&#39;t see the issue lol"}], "answers": [{"tags": [], "owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "is_accepted": false, "score": 3, "last_activity_date": 1426095378, "creation_date": 1426095378, "answer_id": 28993530, "question_id": 28992786, "link": "https://stackoverflow.com/questions/28992786/syntax-error-unexpected-end-of-file/28993530#28993530", "title": "Syntax error, unexpected end-of-file", "body": "<p>In answer to: \"It could also be a double-quote issue, possibly. Wondering if there is a way to detect any lines of script (in ultra-edit or text editor) where there are an un-even number of double quotes.\"</p>\n\n<p><a href=\"http://www.sublimetext.com\" rel=\"nofollow\">Sublime is a great editor that is available for most platforms. </a></p>\n"}, {"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1426096326, "creation_date": 1426096326, "answer_id": 28993884, "question_id": 28992786, "link": "https://stackoverflow.com/questions/28992786/syntax-error-unexpected-end-of-file/28993884#28993884", "title": "Syntax error, unexpected end-of-file", "body": "<p>For the first question, comment out blocks of code using <code>=begin</code> ... <code>=end</code> and/or <code># ...</code> and narrow down the error.</p>\n\n<p>For the second question, use syntax highlighting on the text editor. You can easily tell how long a single string literal is continued, and find unbalanced quotes.</p>\n"}, {"comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1426143556, "post_id": 28994813, "comment_id": 46253922, "body": "Forgetting to check a case in a conditional is a semantic error and cannot possibly introduce a <code>SyntaxError</code>, so including that case cannot possibly fix it, or at least only accidentally."}], "tags": [], "owner": {"reputation": 487, "user_id": 729474, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a8e32e28c2361f6bf5465e39c0a68987?s=128&d=identicon&r=PG", "display_name": "missscripty", "link": "https://stackoverflow.com/users/729474/missscripty"}, "is_accepted": true, "score": -1, "last_activity_date": 1426099315, "creation_date": 1426099315, "answer_id": 28994813, "question_id": 28992786, "link": "https://stackoverflow.com/questions/28992786/syntax-error-unexpected-end-of-file/28994813#28994813", "title": "Syntax error, unexpected end-of-file", "body": "<p>Never mind, I found the issue.  I commented out the newest definition that I had added and it ran.  That let me know it was that definition.  I then took that out and went through it with a darn comb.  Found that I was checking a value, but hadn't allowed for it to be nil or empty.  Added that in and now I'm good.</p>\n"}], "owner": {"reputation": 487, "user_id": 729474, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a8e32e28c2361f6bf5465e39c0a68987?s=128&d=identicon&r=PG", "display_name": "missscripty", "link": "https://stackoverflow.com/users/729474/missscripty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3236, "favorite_count": 0, "accepted_answer_id": 28994813, "answer_count": 3, "score": -1, "last_activity_date": 1426099315, "creation_date": 1426093154, "last_edit_date": 1426095971, "question_id": 28992786, "link": "https://stackoverflow.com/questions/28992786/syntax-error-unexpected-end-of-file", "title": "Syntax error, unexpected end-of-file", "body": "<p>I have a script that is throwing this error.</p>\n\n<p>This usually means there is a loop (like an <code>if</code> or <code>do</code>) that is not correctly ended, or there are too many <code>end</code> clauses. I can't find the issue. Any good tips on how to identify this kind of syntax error? </p>\n\n<p>It could also be a double-quote issue. Wondering if there is a way (in ultra-edit or text editor) to detect lines of script that have un-even numbers of double quotes.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "shapefile", "rgeo"], "comments": [{"owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 0, "creation_date": 1426092719, "post_id": 28992547, "comment_id": 46233301, "body": "Have you installed GEOS? If so, what method did you use (Macports, Homebrew, source install) and what location did you install it to?"}, {"owner": {"reputation": 2195, "user_id": 1051849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/34e899fe8264a48cd991fccb24c06bf3?s=128&d=identicon&r=PG&f=1", "display_name": "user1051849", "link": "https://stackoverflow.com/users/1051849/user1051849"}, "reply_to_user": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 0, "creation_date": 1426094153, "post_id": 28992547, "comment_id": 46234320, "body": "I used &quot;brew install geos&quot; - it ended up at: /usr/local/Cellar/geos/3.4.2 Thanks"}, {"owner": {"reputation": 2195, "user_id": 1051849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/34e899fe8264a48cd991fccb24c06bf3?s=128&d=identicon&r=PG&f=1", "display_name": "user1051849", "link": "https://stackoverflow.com/users/1051849/user1051849"}, "reply_to_user": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 3, "creation_date": 1426095069, "post_id": 28992547, "comment_id": 46234984, "body": "additional weirdness - it does work in irb, but not in rails c.  % irb &gt; require &#39;rgeo&#39;  =&gt; true &gt; RGeo::Geos.supported? =&gt; true BUT rails c &gt; require &#39;rgeo&#39;  =&gt; false  &gt; RGeo::Geos.supported?  =&gt; false"}, {"owner": {"reputation": 2195, "user_id": 1051849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/34e899fe8264a48cd991fccb24c06bf3?s=128&d=identicon&r=PG&f=1", "display_name": "user1051849", "link": "https://stackoverflow.com/users/1051849/user1051849"}, "reply_to_user": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 1, "creation_date": 1426096015, "post_id": 28992547, "comment_id": 46235586, "body": "Ok - it seems that the explicit inclusion of gem &#39;dbf&#39; in the gemfile was breaking thinks. commented it out, rebundled, and we&#39;re up and running again..."}, {"owner": {"reputation": 3627, "user_id": 979784, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ce4aa9f914ee797e1c8ae6546b86d5e8?s=128&d=identicon&r=PG", "display_name": "wuliwong", "link": "https://stackoverflow.com/users/979784/wuliwong"}, "edited": false, "score": 1, "creation_date": 1513035050, "post_id": 28992547, "comment_id": 82487668, "body": "@user1051849 I have the exact same issue as you. Not supported in the <code>rails console</code> but supported in <code>irb</code>. I do not have the <code>dbf</code> gem explicitly included. Can you think of anything else you may have done to fix the issue?"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 2565160, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/626960417/picture?type=large", "display_name": "N Javier Romero", "link": "https://stackoverflow.com/users/2565160/n-javier-romero"}, "is_accepted": false, "score": 0, "last_activity_date": 1458581603, "last_edit_date": 1458581603, "creation_date": 1458578601, "answer_id": 36136907, "question_id": 28992547, "link": "https://stackoverflow.com/questions/28992547/rails-rgeogeos-supported-false-cant-get-rgeo-shapefile-working/36136907#36136907", "title": "Rails RGeo::Geos.supported? False Can&#39;t get rgeo-shapefile working", "body": "<p>Try to install RGEO Rails gem</p>\n\n<pre><code>gem install rgeo\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 2565160, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/626960417/picture?type=large", "display_name": "N Javier Romero", "link": "https://stackoverflow.com/users/2565160/n-javier-romero"}, "is_accepted": false, "score": 0, "last_activity_date": 1458590748, "last_edit_date": 1592644375, "creation_date": 1458590748, "answer_id": 36140546, "question_id": 28992547, "link": "https://stackoverflow.com/questions/28992547/rails-rgeogeos-supported-false-cant-get-rgeo-shapefile-working/36140546#36140546", "title": "Rails RGeo::Geos.supported? False Can&#39;t get rgeo-shapefile working", "body": "<blockquote>\n<p>cd /tmp</p>\n<p>wget <a href=\"http://download.osgeo.org/geos/geos-3.4.2.tar.bz2\" rel=\"nofollow noreferrer\">http://download.osgeo.org/geos/geos-3.4.2.tar.bz2</a></p>\n<p>bunzip2 geos-3.4.2.tar.bz2</p>\n<p>tar xvf geos-3.4.2.tar</p>\n<p>cd geos-3.4.2</p>\n<p>./configure &amp;&amp; make &amp;&amp; sudo make install</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2072, "user_id": 3389795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiAJt.jpg?s=128&g=1", "display_name": "Shiko", "link": "https://stackoverflow.com/users/3389795/shiko"}, "edited": false, "score": 0, "creation_date": 1501057659, "post_id": 36370987, "comment_id": 77604683, "body": "<b>dbf</b> gem is important to read attribute data of records in shapefile."}], "tags": [], "owner": {"reputation": 2195, "user_id": 1051849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/34e899fe8264a48cd991fccb24c06bf3?s=128&d=identicon&r=PG&f=1", "display_name": "user1051849", "link": "https://stackoverflow.com/users/1051849/user1051849"}, "is_accepted": true, "score": 0, "last_activity_date": 1459585550, "creation_date": 1459585550, "answer_id": 36370987, "question_id": 28992547, "link": "https://stackoverflow.com/questions/28992547/rails-rgeogeos-supported-false-cant-get-rgeo-shapefile-working/36370987#36370987", "title": "Rails RGeo::Geos.supported? False Can&#39;t get rgeo-shapefile working", "body": "<p>Ok - it seems that the explicit inclusion of gem 'dbf' in the gemfile was breaking thinks. commented it out, rebundled, and we're up and running again...</p>\n"}], "owner": {"reputation": 2195, "user_id": 1051849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/34e899fe8264a48cd991fccb24c06bf3?s=128&d=identicon&r=PG&f=1", "display_name": "user1051849", "link": "https://stackoverflow.com/users/1051849/user1051849"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 0, "accepted_answer_id": 36370987, "answer_count": 3, "score": 0, "last_activity_date": 1459585550, "creation_date": 1426092454, "question_id": 28992547, "link": "https://stackoverflow.com/questions/28992547/rails-rgeogeos-supported-false-cant-get-rgeo-shapefile-working", "title": "Rails RGeo::Geos.supported? False Can&#39;t get rgeo-shapefile working", "body": "<p>Trying to make <a href=\"https://github.com/rgeo/rgeo-shapefile\" rel=\"nofollow\">this example</a> of uploading a shapefile work with my rails setup and, running from the console, i get returned with:</p>\n\n<p>RGeo::Error::RGeoError: GEOS is not available, but is required for correct interpretation of polygons in shapefiles.</p>\n\n<p>also</p>\n\n<p>RGeo::Geos.supported? returns <strong>False</strong></p>\n\n<p>I'm running -\nruby version 2.0.0p576\nand rails version 4.2.0 </p>\n\n<p>The gems included are:\ngem 'activerecord-postgis-adapter', '3.0.0.beta2'\ngem 'rgeo-shapefile'\ngem 'dbf'</p>\n\n<p>What am I doing wrong, where can I look to find out why GEOS isn't being found? Thanks!</p>\n"}, {"tags": ["ruby", "hash", "hashcode"], "answers": [{"comments": [{"owner": {"reputation": 507, "user_id": 714300, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/be8f2bf5a61a3323bac2b18eb88340ee?s=128&d=identicon&r=PG", "display_name": "Joe Pinsonault", "link": "https://stackoverflow.com/users/714300/joe-pinsonault"}, "edited": false, "score": 1, "creation_date": 1426092832, "post_id": 28992372, "comment_id": 46233388, "body": "Thanks! Good edits, and I didn&#39;t think to look under Object for the method definition for some reason."}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 2, "creation_date": 1426094338, "post_id": 28992372, "comment_id": 46234449, "body": "Are you sure about that &quot;not be same always even within the same process&quot; part?"}, {"owner": {"reputation": 8289, "user_id": 1423083, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/i77PX.jpg?s=128&g=1", "display_name": "Mukul Goel", "link": "https://stackoverflow.com/users/1423083/mukul-goel"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1426095026, "post_id": 28992372, "comment_id": 46234954, "body": "@muistooshort: Now I am not. hah.. I just interpreted the last para in the quote above as that. <code>Not be identical across invocations</code>. Is this wrong?   Because I read for <code>Hash</code> that it is same across process."}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 2, "creation_date": 1426095913, "post_id": 28992372, "comment_id": 46235519, "body": "One invocation of <code>&#47;usr&#47;bin&#47;ruby</code> (or where ever it is) is a process. It is saying that if you <code>x = o.hash</code> in your script, the <code>x</code> won&#39;t necessarily be the same the next time you run that script. But <code>o.hash</code> has to be the same within one process or how would things like <code>some_hash[k]</code> work reliably?"}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1426102245, "post_id": 28992372, "comment_id": 46239490, "body": "You found the correct quote, but your answer is definitely wrong."}], "tags": [], "owner": {"reputation": 8289, "user_id": 1423083, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/i77PX.jpg?s=128&g=1", "display_name": "Mukul Goel", "link": "https://stackoverflow.com/users/1423083/mukul-goel"}, "is_accepted": false, "score": -1, "last_activity_date": 1426153743, "last_edit_date": 1426153743, "creation_date": 1426091965, "answer_id": 28992372, "question_id": 28992317, "link": "https://stackoverflow.com/questions/28992317/is-hash-on-a-number-consistent-within-a-single-ruby-process/28992372#28992372", "title": "Is `hash` on a number consistent within a single ruby process?", "body": "<p><strong>hash function:</strong> </p>\n\n<blockquote>\n  <p>Generates a Fixnum hash value for this object. This function must have\n  the property that a.eql?(b) implies a.hash == b.hash.</p>\n  \n  <p>The hash value is used along with eql? by the Hash class to determine\n  if two objects reference the same hash key. Any hash value that\n  exceeds the capacity of a Fixnum will be truncated before being used.</p>\n  \n  <p>The hash value for an object may not be identical across invocations\n  or implementations of Ruby. If you need a stable identifier across\n  Ruby invocations and implementations you will need to generate one\n  with a custom method.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://ruby-doc.org/core-2.2.1/Object.html#method-i-hash\" rel=\"nofollow\">http://ruby-doc.org/core-2.2.1/Object.html#method-i-hash</a></p>\n\n<p>*It wasnt too hard to search</p>\n"}, {"comments": [{"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 0, "creation_date": 1426102994, "post_id": 28995732, "comment_id": 46239916, "body": "Fyi, I know that MRI and Opal also possess the property that <code>x.object_id == x * 2 + 1</code> for all Fixnums. Simple test: <code>(-1_000_000..1_000_000).all? {|x| x.object_id == x * 2 + 1}</code>"}], "tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": true, "score": 2, "last_activity_date": 1426102743, "last_edit_date": 1426102743, "creation_date": 1426102437, "answer_id": 28995732, "question_id": 28992317, "link": "https://stackoverflow.com/questions/28992317/is-hash-on-a-number-consistent-within-a-single-ruby-process/28995732#28995732", "title": "Is `hash` on a number consistent within a single ruby process?", "body": "<p>Yes, it is guaranteed to be the same within one Ruby process. <code>Hash</code> relies on this fact to guarantee unique keys. Otherwise long-lived processes could end up with duplicate hash keys when an object gets a new <code>hash</code> value.</p>\n\n<p>Regarding implementation and memory locations, the implementation of <code>hash</code> is <strong>not</strong> guaranteed by Ruby. The only requirement is:</p>\n\n<blockquote>\n  <p>This function must have the property that <code>a.eql?(b)</code> implies <code>a.hash ==\n  b.hash</code>.</p>\n</blockquote>\n\n<p>In YARV, for example, many objects do not exist in memory at all (e.g. Fixnums) and are simply identified by a special object ID. <code>x.object_id == x * 2 + 1</code> for any fixnum.</p>\n"}, {"tags": [], "owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "is_accepted": false, "score": 1, "last_activity_date": 1426192026, "last_edit_date": 1426192026, "creation_date": 1426102676, "answer_id": 28995813, "question_id": 28992317, "link": "https://stackoverflow.com/questions/28992317/is-hash-on-a-number-consistent-within-a-single-ruby-process/28995813#28995813", "title": "Is `hash` on a number consistent within a single ruby process?", "body": "<p>You could use <code>BasicObject#__id__</code> which will remain consistent for Fixnum(but can get weird with larger numbers) eg.</p>\n\n<pre><code> 2.__id__\n #=&gt; 5\n a = 2\n a.__id__\n #=&gt; 5\n b = 2 \n a.__id__ == b.__id__\n #=&gt; true\n</code></pre>\n\n<p>Does not matter what the process is <code>2.__id__</code> will always return <code>5</code> please note this is not true for most objects e.g.</p>\n\n<pre><code>{}.__id__\n#=&gt; 23077320\n{}.__id__\n#=&gt; 22453800\n{}.__id__\n#=&gt; 21672516\n</code></pre>\n\n<p><a href=\"http://ruby-doc.org/core-2.2.1/BasicObject.html#method-i-__id__\" rel=\"nofollow\">Docs on <code>BasicObject#__id__</code></a></p>\n\n<blockquote>\n  <p>The same number will be returned on all calls to object_id for a given object, and no two active objects will share an id.\n  Note: that some objects of builtin classes are reused for optimization. This is the case for immediate values and frozen string literals.</p>\n</blockquote>\n\n<p>This is where @max is correct with <code>__id__ == x * 2 + 1</code> Thus <code>2 * 2 + 1 #=&gt; 5</code> but I am not sure if this changes across interpreters.</p>\n"}], "owner": {"reputation": 507, "user_id": 714300, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/be8f2bf5a61a3323bac2b18eb88340ee?s=128&d=identicon&r=PG", "display_name": "Joe Pinsonault", "link": "https://stackoverflow.com/users/714300/joe-pinsonault"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 28995732, "answer_count": 3, "score": 2, "last_activity_date": 1426192026, "creation_date": 1426091824, "last_edit_date": 1426092120, "question_id": 28992317, "link": "https://stackoverflow.com/questions/28992317/is-hash-on-a-number-consistent-within-a-single-ruby-process", "title": "Is `hash` on a number consistent within a single ruby process?", "body": "<p>When you run <code>hash</code> on a number, will it always return the same value within the same ruby process?</p>\n\n<p>It seems that <code>2.hash</code> always returns the same value within a single process of irb, but if you close and reopen irb, you get a different value. Will it always stay consistent for every number within a process? </p>\n\n<p>I believe that ruby uses the memory location for at least certain objects to calculate the hash, is this the same for numbers? And if so, are two instances of a number always going to have the same memory location?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1426093278, "post_id": 28992192, "comment_id": 46233705, "body": "Unless you are specifically running your user account as a non-admin, you should never need to use sudo to install a gem. Even if you are a local admin you will have less permissions than sudo, which will cause problems when you go to actually use the gem."}, {"owner": {"reputation": 765, "user_id": 4631365, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oOT77.png?s=128&g=1", "display_name": "Salah Saleh", "link": "https://stackoverflow.com/users/4631365/salah-saleh"}, "reply_to_user": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1426145016, "post_id": 28992192, "comment_id": 46254533, "body": "Installing rails from RVM solved the UTF-8 messages problem."}], "answers": [{"comments": [{"owner": {"reputation": 765, "user_id": 4631365, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oOT77.png?s=128&g=1", "display_name": "Salah Saleh", "link": "https://stackoverflow.com/users/4631365/salah-saleh"}, "edited": false, "score": 0, "creation_date": 1426092256, "post_id": 28992368, "comment_id": 46232985, "body": "Unluckily, I have already overwritten my system Rails, is there a fix?"}, {"owner": {"reputation": 6413, "user_id": 722274, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9396abc468bd402ef13990dfdc749ea0?s=128&d=identicon&r=PG", "display_name": "kobaltz", "link": "https://stackoverflow.com/users/722274/kobaltz"}, "edited": false, "score": 0, "creation_date": 1426092271, "post_id": 28992368, "comment_id": 46232999, "body": "Technically, he is not overwriting his system Ruby, but rather using the system Ruby. The messages were to overwrite the <code>rails</code> and <code>rake</code> executables."}, {"owner": {"reputation": 6413, "user_id": 722274, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9396abc468bd402ef13990dfdc749ea0?s=128&d=identicon&r=PG", "display_name": "kobaltz", "link": "https://stackoverflow.com/users/722274/kobaltz"}, "reply_to_user": {"reputation": 765, "user_id": 4631365, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oOT77.png?s=128&g=1", "display_name": "Salah Saleh", "link": "https://stackoverflow.com/users/4631365/salah-saleh"}, "edited": false, "score": 1, "creation_date": 1426092356, "post_id": 28992368, "comment_id": 46233053, "body": "@salah, if you install RVM (or similar), you can set this as your default <code>ruby</code> to use. By doing this, your system will be completely unaware that you have a system <code>ruby</code> version. Instead, the <code>ruby</code> from your version manager will be used. It wouldn&#39;t matter how badly you messed up your system <code>ruby</code> as the version manager would take precedence."}, {"owner": {"reputation": 765, "user_id": 4631365, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oOT77.png?s=128&g=1", "display_name": "Salah Saleh", "link": "https://stackoverflow.com/users/4631365/salah-saleh"}, "reply_to_user": {"reputation": 6413, "user_id": 722274, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9396abc468bd402ef13990dfdc749ea0?s=128&d=identicon&r=PG", "display_name": "kobaltz", "link": "https://stackoverflow.com/users/722274/kobaltz"}, "edited": false, "score": 0, "creation_date": 1426092666, "post_id": 28992368, "comment_id": 46233262, "body": "@kobaltz, so should I uninstall Rails, and then proceed by installing RVM and installing Rails again to avoid overwritten my system files? what about the UTF-8 messages that I got during installation?"}, {"owner": {"reputation": 6413, "user_id": 722274, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9396abc468bd402ef13990dfdc749ea0?s=128&d=identicon&r=PG", "display_name": "kobaltz", "link": "https://stackoverflow.com/users/722274/kobaltz"}, "edited": false, "score": 0, "creation_date": 1426093868, "post_id": 28992368, "comment_id": 46234098, "body": "Uninstall rails only if you want to save the disk space. It will not conflict with your version manager."}, {"owner": {"reputation": 765, "user_id": 4631365, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oOT77.png?s=128&g=1", "display_name": "Salah Saleh", "link": "https://stackoverflow.com/users/4631365/salah-saleh"}, "reply_to_user": {"reputation": 6413, "user_id": 722274, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9396abc468bd402ef13990dfdc749ea0?s=128&d=identicon&r=PG", "display_name": "kobaltz", "link": "https://stackoverflow.com/users/722274/kobaltz"}, "edited": false, "score": 0, "creation_date": 1426102836, "post_id": 28992368, "comment_id": 46239830, "body": "@kobaltz what is the right way to uninstall rails then? because when I run gem uninstall rails I get &quot;You don&#39;t have write permissions for the /Library/Ruby/Gems/2.0.0 directory&quot;."}], "tags": [], "owner": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "is_accepted": true, "score": 3, "last_activity_date": 1426091958, "creation_date": 1426091958, "answer_id": 28992368, "question_id": 28992192, "link": "https://stackoverflow.com/questions/28992192/conflicts-when-installing-rails/28992368#28992368", "title": "Conflicts When Installing Rails", "body": "<h2>Don't Overwrite Your System Ruby</h2>\n\n<p>Never, ever overwrite your system Ruby. You will only cause yourself pain and suffering.</p>\n\n<p>Assuming you haven't already hosed your system, install a version manager like <a href=\"https://rvm.io/\" rel=\"nofollow\">RVM</a>, <a href=\"https://github.com/sstephenson/rbenv\" rel=\"nofollow\">rbenv</a>, or <a href=\"https://github.com/postmodern/chruby\" rel=\"nofollow\">chruby</a> and install your rubies and gems (including Ruby on Rails) from within the version manager.</p>\n"}], "owner": {"reputation": 765, "user_id": 4631365, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oOT77.png?s=128&g=1", "display_name": "Salah Saleh", "link": "https://stackoverflow.com/users/4631365/salah-saleh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1666, "favorite_count": 0, "accepted_answer_id": 28992368, "answer_count": 1, "score": 0, "last_activity_date": 1426091958, "creation_date": 1426091460, "last_edit_date": 1426091918, "question_id": 28992192, "link": "https://stackoverflow.com/questions/28992192/conflicts-when-installing-rails", "title": "Conflicts When Installing Rails", "body": "<p>I wanted to install rails on my Mac. I ran</p>\n\n<pre><code>sudo gem rails install\n</code></pre>\n\n<p>during installation two things happened:</p>\n\n<ol>\n<li>I got this message: \"railties's executable \"rails\" conflicts with /usr/bin/rails Overwrite the executable? [yN]\". I responded by 'y'. I found later some people don't recommended that way of rails installation. They recommend RVM for that. I don't know now if what I did will cause future problems. What should I do now?</li>\n<li>During installation I got many messages that look like this:<code>unable to convert \"\\xCA\" from ASCII-8BIT to UTF-8 for lib/nokogiri/nokogiri.bundle, skipping</code>. I found some people suggesting to run <code>gem update</code> to which I got similar UTF-8  messages and other conflicts like <code>rake's executable \"rake\" conflicts with /usr/bin/rake\nOverwrite the executable? [yN]</code> I wrote 'N' this time, as I am not sure how to proceed. Any recommendations?</li>\n</ol>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "devise", "enums"], "answers": [{"comments": [{"owner": {"reputation": 6413, "user_id": 722274, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9396abc468bd402ef13990dfdc749ea0?s=128&d=identicon&r=PG", "display_name": "kobaltz", "link": "https://stackoverflow.com/users/722274/kobaltz"}, "edited": false, "score": 2, "creation_date": 1426092599, "post_id": 28992409, "comment_id": 46233214, "body": "That being said, I would recommend to assign the enums a value. This way, you have more clear control over your roles. Otherwise, you may accidentally shift the roles as new ones are added."}, {"owner": {"reputation": 11562, "user_id": 1016536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sk0Hl.png?s=128&g=1", "display_name": "TheLegend", "link": "https://stackoverflow.com/users/1016536/thelegend"}, "edited": false, "score": 0, "creation_date": 1426144506, "post_id": 28992409, "comment_id": 46254308, "body": "Thank you kindly! i like that approach. i was going to use Cancan, but it seems like overkill for such a small app"}], "tags": [], "owner": {"reputation": 586, "user_id": 3677146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ars2e.jpg?s=128&g=1", "display_name": "TheSuper", "link": "https://stackoverflow.com/users/3677146/thesuper"}, "is_accepted": true, "score": 2, "last_activity_date": 1426092061, "creation_date": 1426092061, "answer_id": 28992409, "question_id": 28992164, "link": "https://stackoverflow.com/questions/28992164/rails-creating-role-hierarchy-with-devise-and-enum/28992409#28992409", "title": "Rails creating role hierarchy with devise and enum", "body": "<p>Enums map to a real number value. So perhaps something like:</p>\n\n<pre><code>def access_level\n  self.class.roles[role]\nend\n\ndef do_a_thing_only_admins_can_do(user)\n  return unless user.access_level &gt;= 2\n  do_thing\nend\n\ndef do_a_thing_only_vips_can_do(user)\n  return unless user.access_level &gt;= 4\nend\n</code></pre>\n\n<p>Note: It's probably a better idea in the long run to use something like <a href=\"https://github.com/ryanb/cancan\" rel=\"nofollow\">Cancan</a> to manage authorization.</p>\n"}], "owner": {"reputation": 11562, "user_id": 1016536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sk0Hl.png?s=128&g=1", "display_name": "TheLegend", "link": "https://stackoverflow.com/users/1016536/thelegend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "accepted_answer_id": 28992409, "answer_count": 1, "score": 1, "last_activity_date": 1426092061, "creation_date": 1426091401, "question_id": 28992164, "link": "https://stackoverflow.com/questions/28992164/rails-creating-role-hierarchy-with-devise-and-enum", "title": "Rails creating role hierarchy with devise and enum", "body": "<p>i am working through with a light weight app that i want to implement a super simple role structure. currently i am working with enum to set the role, but i want to implement some sort of hierarchy.</p>\n\n<pre><code>enum role: [:registered_user, :active_registered_user, :admin, :account_admin, :vip]\nafter_initialize :set_default_role, :if =&gt; :new_record?\n\ndef set_default_role\n  self.role ||= :registered_user\nend\n</code></pre>\n\n<p>This is how i define the roles on the users model, what i would like to do is have it so that registered_user &lt; active_registered_user &lt; admin &lt; account_admin &lt; vip.</p>\n\n<p>So pretty much they have access to all the roles beneath them. </p>\n\n<p>So if something said <code>if current_user.admin?</code> if i was an account_admin or vip it would return true.</p>\n\n<p>I was thinking of doing some thing like this </p>\n\n<pre><code>def has_access?(user, access_role)\n  access_hash = {\n    \"vip\" =&gt; ['vip', 'account_admin', 'admin', 'active_registered_user', 'registered_user'],\n    \"account_admin\" =&gt; ['account_admin', 'admin', 'active_registered_user', 'registered_user'],\n    \"admin\" =&gt; ['admin', 'active_registered_user', 'registered_user'],\n    \"active_registered_user\" =&gt; ['active_registered_user', 'registered_user'],\n    \"registered_user\" =&gt; ['registered_user']\n  }\n  access_hash.[user.role].include?(access_role)\nend\n</code></pre>\n\n<p>But then i have to run this method everywhere! is there a more ruby way of doing this?</p>\n\n<p>Any help or design insights will be much appreciated.</p>\n\n<p><b>Note:</b></p>\n\n<p>enum allows for some cool active record calls:</p>\n\n<pre><code>user.admin! # sets the role to \"admin\"\nuser.admin? # =&gt; true\nuser.role  # =&gt; \"admin\"\n</code></pre>\n\n<p>just if you wanted to see how i called user.role.</p>\n"}, {"tags": ["ruby", "xpath", "watir"], "answers": [{"tags": [], "owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "is_accepted": true, "score": 5, "last_activity_date": 1426092029, "last_edit_date": 1426092029, "creation_date": 1426091558, "answer_id": 28992228, "question_id": 28991894, "link": "https://stackoverflow.com/questions/28991894/difference-between-classic-and-xpath-selectors/28992228#28992228", "title": "Difference between classic and xpath selectors", "body": "<p><strong>Summary</strong> </p>\n\n<p>The difference is in the normalizing of space.</p>\n\n<p>If you set <code>$DEBUG=true</code>, you will see that Watir converts <code>.span(:text=&gt;'Patient')</code> into the XPath:</p>\n\n<pre><code>.//span[normalize-space()='Patient']\n</code></pre>\n\n<p>As a result, there are different results when the text node has leading/trailing whitespace.</p>\n\n<p><strong>Examples</strong></p>\n\n<p>For example, in the following HTML, there is no leading/trailing whitespace:</p>\n\n<pre><code>&lt;span&gt;Patient&lt;/span&gt;\n</code></pre>\n\n<p>As a result, both approaches return the same result:</p>\n\n<pre><code>p browser.span(:text=&gt;'Patient').exists?\n#=&gt; true\np browser.span(:xpath=&gt;\".//span[text() = 'Patient']\").exists?\n#=&gt; true\n</code></pre>\n\n<p>However, if we add some extra whitespace:</p>\n\n<pre><code>&lt;span&gt;Patient &lt;/span&gt;\n</code></pre>\n\n<p>We see that the :xpath locator fails since it is looking for the text node to be exactly \"Patient\" not \"Patient \". In contrast the :text locator will ignore the leading/trailing whitespace.</p>\n\n<pre><code>p browser.span(:text=&gt;'Patient').exists?\n#=&gt; true\np browser.span(:xpath=&gt;\".//span[text() = 'Patient']\").exists?\n#=&gt; false\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3686841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3gJiD.png?s=128&g=1", "display_name": "diesel", "link": "https://stackoverflow.com/users/3686841/diesel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 28992228, "answer_count": 1, "score": 3, "last_activity_date": 1426092029, "creation_date": 1426090598, "question_id": 28991894, "link": "https://stackoverflow.com/questions/28991894/difference-between-classic-and-xpath-selectors", "title": "Difference between classic and xpath selectors", "body": "<p>What the difference beetween next sentences?</p>\n\n<pre><code>frame.span(:text=&gt;'Patient')\nframe.span(:xpath=&gt;\".//span[text() = 'Patient']\")\n</code></pre>\n\n<p>First sentence works well, but using second with xpath I can't find element on page.</p>\n"}, {"tags": ["ruby", "junit", "cucumber"], "comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1426095695, "post_id": 28991361, "comment_id": 46235373, "body": "In ruby, a testing suite like <code>minitest</code> or <code>rspec</code> would typically be used in conjunction with cucumber.  Is there reason you don&#39;t want to use one of those?  You&#39;ll find lots of examples and documentation on SO and the interweb..."}, {"owner": {"reputation": 812, "user_id": 1155498, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e82b888c69fb4df9c906753f8336ddd0?s=128&d=identicon&r=PG", "display_name": "Sukuva", "link": "https://stackoverflow.com/users/1155498/sukuva"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1426100080, "post_id": 28991361, "comment_id": 46238213, "body": "Right now i am using rspec. But i have a scenario like re-run failed tests and update the status etc. i didnt get much help on that. In fact it is not very easy in rspec. So thought, if there is a test framework available with these features, i can use that. I have used testNG and there is a way in testNG to re-run the failed tests. Just wanted to check the other framework and understand which is very good for our project."}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1426111907, "post_id": 28991361, "comment_id": 46244768, "body": "Try running the failed tests via cucumber?  Check out this SO answer: <a href=\"http://stackoverflow.com/questions/11719898/how-to-rerun-the-failed-scenarios-using-cucumber\" title=\"how to rerun the failed scenarios using cucumber\">stackoverflow.com/questions/11719898/&hellip;</a>"}, {"owner": {"reputation": 812, "user_id": 1155498, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e82b888c69fb4df9c906753f8336ddd0?s=128&d=identicon&r=PG", "display_name": "Sukuva", "link": "https://stackoverflow.com/users/1155498/sukuva"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1426173546, "post_id": 28991361, "comment_id": 46272064, "body": "it worked. Thank you."}], "owner": {"reputation": 812, "user_id": 1155498, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e82b888c69fb4df9c906753f8336ddd0?s=128&d=identicon&r=PG", "display_name": "Sukuva", "link": "https://stackoverflow.com/users/1155498/sukuva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426089515, "creation_date": 1426089203, "last_edit_date": 1426089515, "question_id": 28991361, "link": "https://stackoverflow.com/questions/28991361/integrating-junit-with-ruby-cucumber-watir", "title": "Integrating Junit with Ruby-Cucumber-Watir?", "body": "<p>Is it possible to integrate Junit with Ruby-Cucumber framework? If so, is there any documentation available for this? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 2006, "user_id": 776481, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e454e6578a209b6f7b04cc3ec01a5083?s=128&d=identicon&r=PG", "display_name": "Bjoernsen", "link": "https://stackoverflow.com/users/776481/bjoernsen"}, "edited": false, "score": 0, "creation_date": 1426089453, "post_id": 28991333, "comment_id": 46230990, "body": "Why do you averwrite the method? I like to use <a href=\"https://github.com/nesquena/rabl\" rel=\"nofollow noreferrer\">github.com/nesquena/rabl</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3976, "user_id": 1210165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f674db9036f7245292bb87295431e31?s=128&d=identicon&r=PG", "display_name": "evanbikes", "link": "https://stackoverflow.com/users/1210165/evanbikes"}, "is_accepted": true, "score": 1, "last_activity_date": 1426089525, "creation_date": 1426089525, "answer_id": 28991493, "question_id": 28991333, "link": "https://stackoverflow.com/questions/28991333/render-json-model-with-includes/28991493#28991493", "title": "render :json =&gt; @model with :includes", "body": "<p>What about just being explicit about it?</p>\n\n<pre><code>def as_json(options={})\n  super(:only =&gt; [:email]).merge(avatar: avatar.as_json)\nend\n</code></pre>\n"}], "owner": {"reputation": 2980, "user_id": 438679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a80d67ba31fb94210a3efe96cd083dbb?s=128&d=identicon&r=PG", "display_name": "patrickS", "link": "https://stackoverflow.com/users/438679/patricks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 28991493, "answer_count": 1, "score": 0, "last_activity_date": 1426089663, "creation_date": 1426089146, "last_edit_date": 1426089663, "question_id": 28991333, "link": "https://stackoverflow.com/questions/28991333/render-json-model-with-includes", "title": "render :json =&gt; @model with :includes", "body": "<p>I am trying to export data from models via json. I overwrote the <code>as_json</code> method in my user model:</p>\n\n<pre><code>def as_json(options={})\n  super(:only =&gt; [:email], :include =&gt; :avatar)\nend\n</code></pre>\n\n<p>I also have an avatar model, whose <code>as_json</code> method I also overwrote.</p>\n\n<p>If I use the <code>:include</code> option to add the avatar model, all properties of the avatar model are shown. Any ideas to to let the second model also use the <code>as_json</code> method?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1426088154, "post_id": 28990897, "comment_id": 46230014, "body": "It&#39;s not a method on string, though; you&#39;ve defined a helper method named <code>is_numeric?</code>. It would need an argument as written, e.g., you&#39;d pass it <code>order_ref</code> and call <code>Float(order_ref)</code>. It sounds like you thought you were monkey-patching <code>String</code>."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1426088731, "post_id": 28990897, "comment_id": 46230442, "body": "@sawa don&#39;t remove the helper method file name.. You can put it there.. Tag it as ruby on rails also."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1426088847, "post_id": 28990897, "comment_id": 46230539, "body": "ok.. as you wish.. :D But rails helper are defined like the OP&#39;s one.. inside a module, which some where some how mixed in.. I don&#39;t know how although..( Just FYI). Not relevant in this case although."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1426089039, "post_id": 28990897, "comment_id": 46230649, "body": "Humm.. <code>order_helper.rb</code> means in rails those are in the module <code>OrderHelper</code>..."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1426089221, "post_id": 28990897, "comment_id": 46230800, "body": "@sawa  hum hum.. time for dinner.. :D"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426089565, "post_id": 28990897, "comment_id": 46231085, "body": "Aside from your immediate problem, do all order numbers contain a single decimal point, preceded and followed by one or more digits? Even if they do (meaning you can see if <code>Float</code> raises an exception), I think the use of a regex here reads better and can be made more precise: e.g., <code>str =~ &#47;^\\s*\\d{3,5}\\.\\d{2,3}\\s*$&#47;</code> requires strings to have between 3 and 5 digits before the decimal point and between 2 or 3 after. Also, unlike <code>Float</code>, it disqualifies <code>&quot;-1.2&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1426089807, "post_id": 28990960, "comment_id": 46231258, "body": "I don&#39;t think <code>!!Float(order_ref)</code> is any better than <code>true if Float(order_ref)</code>. The latter is better."}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1426089967, "post_id": 28990960, "comment_id": 46231374, "body": "@sawa <code>rescue</code> is needed to handle the exception.. <code>Float(nil)</code> will throw a <i>type error</i>."}], "tags": [], "owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "is_accepted": true, "score": 2, "last_activity_date": 1426093215, "last_edit_date": 1426093215, "creation_date": 1426088194, "answer_id": 28990960, "question_id": 28990897, "link": "https://stackoverflow.com/questions/28990897/undefined-method-is-numeric/28990960#28990960", "title": "Undefined method `is_numeric?&#39;", "body": "<p>Because the <em>helper</em> method <code>#is_numeric</code> is not an instance method of the <code>String</code> instances. Change your code to:</p>\n\n<pre><code>def is_numeric? order_ref\n  true if Float(self) rescue false\nend\n</code></pre>\n\n<p>And use it as below:</p>\n\n<pre><code>def order_number_or_name(order_ref)\n  if is_numeric?(order_ref)\n    \"Your Order Reference Number: \"\n  else\n    \"Your Order Reference Name: \"\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 545, "user_id": 1658053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1bf2373eaf0666115f63f3b5fb3287d6?s=128&d=identicon&r=PG&f=1", "display_name": "polarcare", "link": "https://stackoverflow.com/users/1658053/polarcare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 28990960, "answer_count": 1, "score": 0, "last_activity_date": 1426093215, "creation_date": 1426088040, "last_edit_date": 1426089140, "question_id": 28990897, "link": "https://stackoverflow.com/questions/28990897/undefined-method-is-numeric", "title": "Undefined method `is_numeric?&#39;", "body": "<p>I have the following two methods:</p>\n\n<pre><code>class OrderHelper\n  def is_numeric?\n    true if Float(self) rescue false\n  end\n  def order_number_or_name(order_ref)\n    if order_ref.is_numeric?\n      \"Your Order Reference Number: \"\n    else\n      \"Your Order Reference Name: \"\n    end\n  end\nend\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code>undefined method `is_numeric?' for \"85757858\":String\n</code></pre>\n\n<p>How is <code>is_numeric?</code> undefined when I am declaring it right above the second method?</p>\n"}, {"tags": ["ruby", "regex"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426396055, "post_id": 28990583, "comment_id": 46351746, "body": "You were quite close: <code>puts &quot;I drive a bus most times but I have a truck&quot;.scan(&#47;#{y.join(&#39;|&#39;)}&#47;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 8519, "user_id": 3581788, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ghs5V.jpg?s=128&g=1", "display_name": "Sylar", "link": "https://stackoverflow.com/users/3581788/sylar"}, "edited": false, "score": 0, "creation_date": 1426088265, "post_id": 28990722, "comment_id": 46230079, "body": "That&#39;s the one. Thanks!"}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 4, "last_activity_date": 1426087621, "creation_date": 1426087621, "answer_id": 28990722, "question_id": 28990583, "link": "https://stackoverflow.com/questions/28990583/scanning-through-a-string-with-regex-and-return-exact-values/28990722#28990722", "title": "Scanning through a string with regex and return exact value(s)", "body": "<p><a href=\"http://ruby-doc.org/core-2.2.1/Regexp.html#method-c-union\" rel=\"nofollow\"><code>Regexp::union</code></a> should work:</p>\n\n<pre><code>Regexp.union(y)\n#=&gt; /bus|car|truck/\n\n\"I drive a bus most times but I have a truck\".scan(Regexp.union(y))\n#=&gt; [\"bus\", \"truck\"]\n</code></pre>\n\n<p>The regular expression does not respect word boundaries. This may or may not be desired.</p>\n"}, {"comments": [{"owner": {"reputation": 8519, "user_id": 3581788, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ghs5V.jpg?s=128&g=1", "display_name": "Sylar", "link": "https://stackoverflow.com/users/3581788/sylar"}, "edited": false, "score": 0, "creation_date": 1426092056, "post_id": 28990756, "comment_id": 46232847, "body": "That is a nice answer. Thanks for your contribution but Stefan&#39;s matches what I exactly wanted. ;)"}], "tags": [], "owner": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "is_accepted": false, "score": 1, "last_activity_date": 1426087699, "creation_date": 1426087699, "answer_id": 28990756, "question_id": 28990583, "link": "https://stackoverflow.com/questions/28990583/scanning-through-a-string-with-regex-and-return-exact-values/28990756#28990756", "title": "Scanning through a string with regex and return exact value(s)", "body": "<pre><code>y = Regexp.new %w[bus car truck].join ?|\n#=&gt; /bus|car|truck/\n\n\"I drive a bus most times but I have a truck\".scan y\n#=&gt; [\"bus\", \"truck\"]\n</code></pre>\n"}], "owner": {"reputation": 8519, "user_id": 3581788, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ghs5V.jpg?s=128&g=1", "display_name": "Sylar", "link": "https://stackoverflow.com/users/3581788/sylar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 2, "accepted_answer_id": 28990722, "answer_count": 2, "score": 1, "last_activity_date": 1426087808, "creation_date": 1426087321, "last_edit_date": 1426087808, "question_id": 28990583, "link": "https://stackoverflow.com/questions/28990583/scanning-through-a-string-with-regex-and-return-exact-values", "title": "Scanning through a string with regex and return exact value(s)", "body": "<p>The following shows a basic way to return all vowels in a string.</p>\n\n<pre><code>x = \"I love Ruby\".scan(/[aeiou]/)\n</code></pre>\n\n<p>If I assigned the matching keywords to a variable, would I be able to accomplish the same result shown above? I tried this but it seems not to work:</p>\n\n<pre><code>y = %w[bus car truck]\n\"I drive a bus most times but I have a truck\".scan(/[#{y}]/) { |z| puts z }\n</code></pre>\n\n<p>I want to match and return exact values only.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "constants"], "answers": [{"comments": [{"owner": {"reputation": 758, "user_id": 1959880, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/adba3b20cee57c9f2258fca765ee1916?s=128&d=identicon&r=PG", "display_name": "codenoob", "link": "https://stackoverflow.com/users/1959880/codenoob"}, "edited": false, "score": 0, "creation_date": 1619199119, "post_id": 28990943, "comment_id": 118842147, "body": "Love this.  I added inflect.acronym &#39;SMS&#39; and all my things that deal with SMS in my app work as expected.  Is this a bad thing/unconventional thing?"}], "tags": [], "owner": {"reputation": 4786, "user_id": 907201, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7E2LT.png?s=128&g=1", "display_name": "gmaliar", "link": "https://stackoverflow.com/users/907201/gmaliar"}, "is_accepted": true, "score": 68, "last_activity_date": 1456848979, "last_edit_date": 1456848979, "creation_date": 1426088148, "answer_id": 28990943, "question_id": 28990466, "link": "https://stackoverflow.com/questions/28990466/rails-autoloading-fully-capitalized-name-like-api/28990943#28990943", "title": "Rails autoloading fully capitalized name like API", "body": "<p>There's a file called <code>config/initializers/inflections.rb</code>.</p>\n\n<p>Add in it </p>\n\n<pre><code>ActiveSupport::Inflector.inflections do |inflect|\n  inflect.acronym 'API' \nend\n</code></pre>\n\n<p>and the API namespace will be available as a directory called <code>api</code></p>\n"}], "owner": {"reputation": 10377, "user_id": 2832282, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZJ4WG.jpg?s=128&g=1", "display_name": "Cyril Duchon-Doris", "link": "https://stackoverflow.com/users/2832282/cyril-duchon-doris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4247, "favorite_count": 5, "accepted_answer_id": 28990943, "answer_count": 1, "score": 32, "last_activity_date": 1476383139, "creation_date": 1426087037, "last_edit_date": 1476383139, "question_id": 28990466, "link": "https://stackoverflow.com/questions/28990466/rails-autoloading-fully-capitalized-name-like-api", "title": "Rails autoloading fully capitalized name like API", "body": "<p>I have some structure</p>\n\n<ul>\n<li>/lib/dokuwiki.rb</li>\n<li>/lib/dokuwiki/exception.rb</li>\n<li>/lib/dokuwiki/api/connection.rb</li>\n</ul>\n\n<p><strong>dokuwiki.rb</strong></p>\n\n<pre><code>require 'dokuwiki/exception.rb'\n\nmodule Dokuwiki\n  ...\n</code></pre>\n\n<p><strong>dokuwiki/api/connection.rb</strong></p>\n\n<pre><code>module Dokuwiki\n  module API\n    class Connection\n      ...\n</code></pre>\n\n<p>Now, when I try to call <code>Dokuwiki::API::Connection.new</code> from a controller (without any <code>require</code>), Rails default constants autoloading fails. I believe this is because the <code>::API</code> module should have a folder named <code>/a_p_i/</code> instead of <code>/api/</code> but that's ugly.</p>\n\n<p>Of course I could require 'dokuwiki/api/connection.rb', in the main '/lib/dokuwiki.rb' file, but then it wouldn't reload this class automatically (which is kinda annoying in a dev context)</p>\n\n<p>What can I do to keep the nice <code>/api/</code> folder name and be able to do some live modifications to <code>/lib/dokuwiki/api/connection.rb</code> without having to restart my server ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "xml", "nokogiri"], "answers": [{"tags": [], "owner": {"reputation": 806, "user_id": 2057928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d54eb9311d61feb3e8ba4b597ea71?s=128&d=identicon&r=PG", "display_name": "RPinel", "link": "https://stackoverflow.com/users/2057928/rpinel"}, "is_accepted": true, "score": 1, "last_activity_date": 1426087659, "creation_date": 1426087659, "answer_id": 28990738, "question_id": 28990278, "link": "https://stackoverflow.com/questions/28990278/nokogiri-tag-with-id-and-a-normal-field/28990738#28990738", "title": "Nokogiri Tag with id and a normal field", "body": "<p>Try <code>xml.Type('Economy 3-5 Business Days', id: 'Standard')</code></p>\n"}, {"comments": [{"owner": {"reputation": 2188, "user_id": 1489914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7PReX.jpg?s=128&g=1", "display_name": "Tall Paul", "link": "https://stackoverflow.com/users/1489914/tall-paul"}, "edited": false, "score": 1, "creation_date": 1426088118, "post_id": 28990768, "comment_id": 46229985, "body": "I was reading those docs, I linked it in my original question but was having but I missed how to add the id to the line"}, {"owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "reply_to_user": {"reputation": 2188, "user_id": 1489914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7PReX.jpg?s=128&g=1", "display_name": "Tall Paul", "link": "https://stackoverflow.com/users/1489914/tall-paul"}, "edited": false, "score": 1, "creation_date": 1426088272, "post_id": 28990768, "comment_id": 46230089, "body": "Oh, sorry, missed your link. Well, let it be in mine answer too ;)"}], "tags": [], "owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "is_accepted": false, "score": 1, "last_activity_date": 1426087752, "creation_date": 1426087752, "answer_id": 28990768, "question_id": 28990278, "link": "https://stackoverflow.com/questions/28990278/nokogiri-tag-with-id-and-a-normal-field/28990768#28990768", "title": "Nokogiri Tag with id and a normal field", "body": "<p>I don't know the whole story about what do you expect to build in your software, but this could help you:</p>\n\n<pre><code>require 'nokogiri'\n\nbuilder = Nokogiri::XML::Builder.new do |xml|\n  xml.Type.Standard! \"Economy 3-5 Business Days\"\nend\nputs builder.to_xml\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>#&gt; &lt;?xml version=\"1.0\"?&gt;\n#&gt; &lt;Type id=\"Standard\"&gt;Economy 3-5 Business Days&lt;/Type&gt;\n</code></pre>\n\n<p>Here is some documentation you should read in case you would like to build more complex documents: <a href=\"http://www.rubydoc.info/github/sparklemotion/nokogiri/Nokogiri/XML/Builder\" rel=\"nofollow\">http://www.rubydoc.info/github/sparklemotion/nokogiri/Nokogiri/XML/Builder</a></p>\n"}], "owner": {"reputation": 2188, "user_id": 1489914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7PReX.jpg?s=128&g=1", "display_name": "Tall Paul", "link": "https://stackoverflow.com/users/1489914/tall-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 28990738, "answer_count": 2, "score": 1, "last_activity_date": 1426087752, "creation_date": 1426086544, "question_id": 28990278, "link": "https://stackoverflow.com/questions/28990278/nokogiri-tag-with-id-and-a-normal-field", "title": "Nokogiri Tag with id and a normal field", "body": "<p>I am trying to create a line in an xml file that looks like this <code>&lt;Type id=\"Standard\"&gt;Economy 3-5 Business Days&lt;/Type&gt;</code>. So far I have only been able to make it look like <code>&lt;Type id=\"Standard\" value=\"Economy 3-5 Business Days\"/&gt;</code>. </p>\n\n<p>Maybe I missed it in the <a href=\"http://www.rubydoc.info/github/sparklemotion/nokogiri/Nokogiri/XML/Builder\" rel=\"nofollow\">nokogiri docs</a>, but I couldn't find anyway to get the line to show up like the first example. </p>\n\n<p>My like currently looks like <code>xml.Type(id: 'Standard', value:'Economy 3-5 Business Days')</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "file-upload"], "comments": [{"owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "edited": false, "score": 0, "creation_date": 1426085583, "post_id": 28989828, "comment_id": 46228086, "body": "Add <code>headers</code> to log or just print them use <code>p</code> and provide output."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4511971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9oTzA.jpg?s=128&g=1", "display_name": "Zhaoyi Wan", "link": "https://stackoverflow.com/users/4511971/zhaoyi-wan"}, "edited": false, "score": 0, "creation_date": 1426119761, "post_id": 28991821, "comment_id": 46247573, "body": "it is  multipart/form-data now"}, {"owner": {"reputation": 21, "user_id": 4511971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9oTzA.jpg?s=128&g=1", "display_name": "Zhaoyi Wan", "link": "https://stackoverflow.com/users/4511971/zhaoyi-wan"}, "edited": false, "score": 0, "creation_date": 1426120512, "post_id": 28991821, "comment_id": 46247757, "body": "so I should not get files in request.body?"}], "tags": [], "owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "is_accepted": false, "score": -1, "last_activity_date": 1426090398, "creation_date": 1426090398, "answer_id": 28991821, "question_id": 28989828, "link": "https://stackoverflow.com/questions/28989828/upload-a-binary-file-in-rails/28991821#28991821", "title": "Upload a binary file in rails", "body": "<p>Your client should specify correct <code>Content-Type</code> header and upload binary data in correspond format:</p>\n\n<p>Specify <code>application/octet-stream</code> if you want to upload binary data as request body (seems like you code accept data in this format):</p>\n\n<pre><code>Content-Type: application/octet-stream\n</code></pre>\n\n<p>or specify <code>multipart/form-data</code> and upload binary data in <a href=\"http://en.wikipedia.org/wiki/MIME#Multipart_messages\" rel=\"nofollow\">multipart format</a> (details is <a href=\"http://guides.rubyonrails.org/form_helpers.html\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>Content-type: multipart/form-data\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4511971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9oTzA.jpg?s=128&g=1", "display_name": "Zhaoyi Wan", "link": "https://stackoverflow.com/users/4511971/zhaoyi-wan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2574, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426122047, "creation_date": 1426085429, "last_edit_date": 1426122047, "question_id": 28989828, "link": "https://stackoverflow.com/questions/28989828/upload-a-binary-file-in-rails", "title": "Upload a binary file in rails", "body": "<p>I am writing a REST API using rails and grape, in which I need to upload files.</p>\n\n<pre><code>post :create_file do\n    path = Rails.root.join 'public','uploads',params[:name]\n    File.open(path,'wb'){|f| f.write(request.body.read) }\n    {\n        message:'success'\n    }\n  end\n</code></pre>\n\n<p>When uploading a text file it works fine;\nBut something goes wrong when uploading a binary file, like files broken.</p>\n\n<p>headers:<code>HTTP/1.1\n*/*\nno-cache\nlocalhost:3000\nKeep-Alive\nApache-HttpClient/4.3.2 (java 1.5)\ngzip,deflate\nnil</code></p>\n\n<p>params:</p>\n\n<pre><code>name:\"test.png\"\n'test.png':Hashie::Mash (5 elements)\n'rout_info':'version=, method=POST, path=/api/users/create_file(.:format)\n</code></pre>\n\n<hr>\n\n<p>I changed code to:</p>\n\n<pre><code>post :create_file do\n    path = Rails.root.join 'public','uploads',params[:name]\n    file = params['bg.png']\n    file2 = request.body\n    File.open(path,'wb'){|f| f.write(file2.read) }\n    {\n        message:file.read\n    }\n  end\n</code></pre>\n\n<p>debug message :\nfile:</p>\n\n<pre><code>filename=\"bg.png\"\ntype=\"application/octet-stream\"\nname=\"bg.png\"\ntempfile=#&lt;File:0x007fd7694b9bd0&gt;\nhead=\"Content-Disposition: form-data; name=\"bg.png\"; filename=\"bg.png\"\nContent-Type: application/octet-stream\nContent-Transfer-Encoding: binary\"\n</code></pre>\n\n<p>file2:</p>\n\n<pre><code>#&lt;File:0x007fd7694c8270&gt;\n</code></pre>\n\n<p>if I use <code>file.read</code>, i got a empty file, and if I use <code>file2.read</code>, i got the file broken.</p>\n\n<p>==========================================</p>\n\n<p>At last it was solved by <code>file.tempfile.read</code>\nthanks @maxd anyway</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "activesupport-concern"], "comments": [{"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1426091422, "post_id": 28989588, "comment_id": 46232431, "body": "Can you add an <code>included</code> block and put <code>@question = ...</code> inside?"}, {"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "reply_to_user": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1426107116, "post_id": 28989588, "comment_id": 46242314, "body": "You mean like <code>included do; @question = &quot;This is a generic question.&quot;; end</code> ? No, I still get a <code>NoMethodError</code> on <code>Video.question</code> (I defined an <code>attr_accessor :question</code> in the video model.)"}, {"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1426110642, "post_id": 28989588, "comment_id": 46244169, "body": "How about adding <code>attr_accessor :question</code> in the included block"}, {"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "reply_to_user": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1426195966, "post_id": 28989588, "comment_id": 46284737, "body": "Nope, still the same. I doubted that would have changed anything."}, {"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1426197784, "post_id": 28989588, "comment_id": 46285550, "body": "Video.question is a class method, it should throw an error"}], "answers": [{"comments": [{"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426217735, "post_id": 29021133, "comment_id": 46291523, "body": "Isn&#39;t <code>after_initialize</code> called when an object is created? Wouldn&#39;t make your solution <code>question</code> an instance variable?"}, {"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "reply_to_user": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426270395, "post_id": 29021133, "comment_id": 46318892, "body": "Yes - it would be an instance variable.  when they start with @, they are also instance variables.  Are you trying to create class variables?"}, {"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426358596, "post_id": 29021133, "comment_id": 46343185, "body": "Yes, I want to to create a <i>class</i> instance variable (as stated in the title of my question). One that I can call with <code>Video.question</code>."}, {"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "reply_to_user": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426455892, "post_id": 29021133, "comment_id": 46368656, "body": "Sorry about that - I hadn&#39;t heard of class variables referred to as _class instance _variables, learned something new."}, {"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426591436, "post_id": 29021133, "comment_id": 46425981, "body": "In fact I had learned about this notion on stackoverflow. There are &quot;real&quot; class variables like <code>@@question</code> and there are class <i>instance</i> variables (since in ruby even classes are objects), like <code>@question</code>. You have to distinguish between them because they behave different."}, {"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426591577, "post_id": 29021133, "comment_id": 46426064, "body": "Now unfortunately, your altered answer is about class variables and not class <i>instance</i> variables. ^^"}, {"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "reply_to_user": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426614436, "post_id": 29021133, "comment_id": 46442138, "body": "I see.  Trying one last answer.  This one has a slight problem, though.  A subclass will not get the default question without including the concern.  It&#39;s nil for a subclass, but otherwise works for the including classes."}, {"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426616206, "post_id": 29021133, "comment_id": 46443229, "body": "That&#39;s what I&#39;ve been looking for and it works. As I will not do any subclassing this is perfect. Thank you!"}, {"owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "edited": false, "score": 0, "creation_date": 1426628592, "post_id": 29021133, "comment_id": 46449941, "body": "Also I found out that this behaviour is indeed enabled by the <code>ActiveSupport::Concern</code> module. Doing something aequivalent with the <code>self.included(base)</code> method of a module will not work."}], "tags": [], "owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "is_accepted": true, "score": 17, "last_activity_date": 1493910475, "last_edit_date": 1493910475, "creation_date": 1426197868, "answer_id": 29021133, "question_id": 28989588, "link": "https://stackoverflow.com/questions/28989588/rails-4-concerns-give-class-instance-variables-to-model/29021133#29021133", "title": "Rails 4 concerns: Give class instance variables to model", "body": "<pre><code>module ContentAttribute\n  extend ActiveSupport::Concern\n\n  included do\n    self.question = \"I am a generic question.\"\n  end\n\n  module ClassMethods\n    attr_accessor :question\n  end\n\nend\n</code></pre>\n\n<p>Then, in video...</p>\n\n<pre><code>class Video &lt; ActiveRecord::Base\n  include ContentAttribute\n  self.question = \"Specific question\"\nend\n</code></pre>\n"}], "owner": {"reputation": 239, "user_id": 2443291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be6c554f61438083df1f5393b30615fd?s=128&d=identicon&r=PG", "display_name": "ZeroMax", "link": "https://stackoverflow.com/users/2443291/zeromax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8310, "favorite_count": 0, "accepted_answer_id": 29021133, "answer_count": 1, "score": 11, "last_activity_date": 1493910475, "creation_date": 1426084855, "question_id": 28989588, "link": "https://stackoverflow.com/questions/28989588/rails-4-concerns-give-class-instance-variables-to-model", "title": "Rails 4 concerns: Give class instance variables to model", "body": "<p>With Rails concerns I can give my model class methods and instance methods through modules by including them. No blog entry or thread that I've found mentions how I can include variables in my model though.</p>\n\n<p>Specifically I would like to give my including model a class instance variable <code>@question</code>, but I don't know where to put the declaration in the module so it is applied. I would also like the class instance variable to be overridden if  the model itself declares that variable.</p>\n\n<p>Does the <code>ActiveSupport::Concern</code> module actually care about variables at all?</p>\n\n<pre><code>module ContentAttribute\n    extend ActiveSupport::Concern\n\n    def foo\n        p \"hi\"\n    end\n\n    module ClassMethods\n\n        # @question = \"I am a generic question.\" [doesn't work]\n\n        def bar\n            p \"yo\"\n        end\n    end\nend \n\nclass Video &lt; ActiveRecord::Base\n    include ContentAttribute\n\n    # @question = \"Specific question\"; [should override the generic question]\nend\n</code></pre>\n"}, {"tags": ["ruby", "hash"], "comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 4, "creation_date": 1426084161, "post_id": 28989280, "comment_id": 46227019, "body": "There&#39;s no such thing as index in Hash."}, {"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 6, "creation_date": 1426084302, "post_id": 28989280, "comment_id": 46227126, "body": "But you can do: <code>footnotes.keys.index(&#39;cat&#39;)</code>"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 2, "creation_date": 1426084510, "post_id": 28989280, "comment_id": 46227279, "body": "Do you know that, in most programming languages (including Ruby), index starts with 0?"}, {"owner": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "reply_to_user": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1426085284, "post_id": 28989280, "comment_id": 46227844, "body": "@BroiSatse: That isn&#39;t guaranteed to work (but it&#39;ll work as all current Ruby implementations preserve the insertion order)."}, {"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "reply_to_user": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "edited": false, "score": 0, "creation_date": 1426085396, "post_id": 28989280, "comment_id": 46227935, "body": "@cremno - it is guaranteed to work for ruby 1.9+."}, {"owner": {"reputation": 2888, "user_id": 576519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec88587b867c47ffd61c3942dd3ff89a?s=128&d=identicon&r=PG", "display_name": "VoronoiPotato", "link": "https://stackoverflow.com/users/576519/voronoipotato"}, "edited": false, "score": 5, "creation_date": 1426085492, "post_id": 28989280, "comment_id": 46228013, "body": "If you need an index you&#39;re probably using the wrong data type."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1426087523, "post_id": 28989280, "comment_id": 46229544, "body": "Spud, I respectfully disagree. I&#39;ve found many valuable uses of &quot;insersion-order preservation&quot; for hash key-value pairs, and if we make use of that property, what&#39;s wrong with the concept of a key-value pair having an index?"}, {"owner": {"reputation": 2046, "user_id": 1277165, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sZskz.jpg?s=128&g=1", "display_name": "Javier Giovannini", "link": "https://stackoverflow.com/users/1277165/javier-giovannini"}, "reply_to_user": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1426096034, "post_id": 28989280, "comment_id": 46235597, "body": "Thanks everyone, I am aware this could be easily managed with other data structures, however as many correct answers this can be addressed when the dictionary preserves the order. I particularly like @BroiSatse &#39;s answer (You could add yours as an answer, as it seems to be the shortest)."}], "answers": [{"tags": [], "owner": {"reputation": 24729, "user_id": 2564200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a92dfcc9fcac72dabd4b1eefa0b5106e?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2564200/santhosh"}, "is_accepted": false, "score": 2, "last_activity_date": 1426085282, "creation_date": 1426085282, "answer_id": 28989764, "question_id": 28989280, "link": "https://stackoverflow.com/questions/28989280/how-to-get-the-index-of-a-key-in-a-ruby-hash/28989764#28989764", "title": "How to get the index of a key in a ruby hash?", "body": "<p>You can do </p>\n\n<pre><code>footnotes.to_a.index {|key,| key == 'cat'}\n# =&gt; 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2046, "user_id": 1277165, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sZskz.jpg?s=128&g=1", "display_name": "Javier Giovannini", "link": "https://stackoverflow.com/users/1277165/javier-giovannini"}, "edited": false, "score": 0, "creation_date": 1426096218, "post_id": 28990261, "comment_id": 46235739, "body": "Great answer @cary-swoveland, this can be used to find index with different matches (using keys or values)."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 8, "last_activity_date": 1426088025, "last_edit_date": 1426088025, "creation_date": 1426086485, "answer_id": 28990261, "question_id": 28989280, "link": "https://stackoverflow.com/questions/28989280/how-to-get-the-index-of-a-key-in-a-ruby-hash/28990261#28990261", "title": "How to get the index of a key in a ruby hash?", "body": "<p>There's no need to first retrieve the keys:   </p>\n\n<pre><code>footnotes.find_index { |k,_| k== 'cat' } #=&gt; 1\n</code></pre>\n\n<p>As to the question of whether hash key-value pairs have an index (since v1.9), I would just point out that the Ruby monks decided to supply us with <a href=\"http://ruby-doc.org/core-2.2.1/Enumerable.html#method-i-find_index\" rel=\"noreferrer\">Enumerable#find_index</a>, which of course means <code>Hash.instance_methods.include?(:find_index) #=&gt; true</code>.</p>\n"}], "owner": {"reputation": 2046, "user_id": 1277165, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sZskz.jpg?s=128&g=1", "display_name": "Javier Giovannini", "link": "https://stackoverflow.com/users/1277165/javier-giovannini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6187, "favorite_count": 1, "closed_date": 1426105716, "answer_count": 2, "score": 4, "last_activity_date": 1426184448, "creation_date": 1426084065, "last_edit_date": 1426184448, "question_id": 28989280, "link": "https://stackoverflow.com/questions/28989280/how-to-get-the-index-of-a-key-in-a-ruby-hash", "closed_reason": "Needs details or clarity", "title": "How to get the index of a key in a ruby hash?", "body": "<p>If I have </p>\n\n<pre><code>footnotes = { \"apple\" =&gt; \"is a fruit\", \"cat\" =&gt; \"is an animal\", \"car\" =&gt; \"a transport\"}\n</code></pre>\n\n<p>How can I get the index of these?, something like:</p>\n\n<pre><code>footnotes[\"cat\"].index\n# =&gt; 1\n</code></pre>\n"}, {"tags": ["jquery", "ruby", "ajax", "ruby-on-rails-4", "coffeescript"], "comments": [{"owner": {"reputation": 786, "user_id": 617857, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8b04b6d0548d9cc5f58c3a143eeb8b68?s=128&d=identicon&r=PG", "display_name": "Steven Yue", "link": "https://stackoverflow.com/users/617857/steven-yue"}, "edited": false, "score": 0, "creation_date": 1426106532, "post_id": 28989271, "comment_id": 46241982, "body": "If you use <code>remote: true</code>, you don&#39;t need to write those js code. Just make sure your view folder has <code>your_action_name.js</code> file. And your action do respond to js"}, {"owner": {"reputation": 39, "user_id": 2054594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef17dd5d5e4845a5c5430ab639e6a085?s=128&d=identicon&r=PG", "display_name": "mara", "link": "https://stackoverflow.com/users/2054594/mara"}, "edited": false, "score": 0, "creation_date": 1426150970, "post_id": 28989271, "comment_id": 46257188, "body": "I&#39;ve changed indentation like it is in the application."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 2054594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef17dd5d5e4845a5c5430ab639e6a085?s=128&d=identicon&r=PG", "display_name": "mara", "link": "https://stackoverflow.com/users/2054594/mara"}, "is_accepted": true, "score": 0, "last_activity_date": 1426154326, "creation_date": 1426154326, "answer_id": 29006611, "question_id": 28989271, "link": "https://stackoverflow.com/questions/28989271/ajax-form-submit-in-ruby-on-rails-returns-400-bad-request/29006611#29006611", "title": "Ajax form submit in Ruby on Rails returns 400 Bad Request", "body": "<p>At the end it worked by using just remote: true without CoffeeScript</p>\n"}], "owner": {"reputation": 39, "user_id": 2054594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef17dd5d5e4845a5c5430ab639e6a085?s=128&d=identicon&r=PG", "display_name": "mara", "link": "https://stackoverflow.com/users/2054594/mara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 29006611, "answer_count": 1, "score": 0, "last_activity_date": 1426154326, "creation_date": 1426084044, "last_edit_date": 1426150909, "question_id": 28989271, "link": "https://stackoverflow.com/questions/28989271/ajax-form-submit-in-ruby-on-rails-returns-400-bad-request", "title": "Ajax form submit in Ruby on Rails returns 400 Bad Request", "body": "<p>I have a form that I want to submit using Ajax. And now I'm getting an error status 400 Bad Request.</p>\n\n<p>The form is:</p>\n\n<pre><code>&lt;%= form_tag client_contacts_path, role: 'form', id: 'nested_client_contact_form', remote: true, method: 'post' do |f| %&gt;\n</code></pre>\n\n<p>And I have ajax call on form submit:</p>\n\n<pre><code>$('#nested_client_contact_form').submit -&gt;\n  valuesToSubmit = $(this).serialize()\n  $.ajax(\n    type: 'POST'\n    url: '/client_contacts      ',\n    contentType: 'application/json'\n    data: valuesToSubmit\n    dataType: 'json').success (json) -&gt;\n    # some code\n    return\n  false\n</code></pre>\n\n<p>This should create new client contact and remain on the page. No redirection.</p>\n"}, {"tags": ["ios", "ruby", "afnetworking", "cocoapods"], "answers": [{"tags": [], "owner": {"reputation": 529, "user_id": 3225110, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ckX6Y.jpg?s=128&g=1", "display_name": "flizana", "link": "https://stackoverflow.com/users/3225110/flizana"}, "is_accepted": false, "score": 0, "last_activity_date": 1426177896, "creation_date": 1426177896, "answer_id": 29015293, "question_id": 28989055, "link": "https://stackoverflow.com/questions/28989055/cant-find-libpq-h-header-when-installing-afnetworking-using-cocoapods/29015293#29015293", "title": "Can&#39;t find libpq.h header when installing AFNetworking using cocoapods", "body": "<p>Finally solved this by running</p>\n\n<pre><code>gem update --system\ngem update cocoapods\npod update\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 3225110, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ckX6Y.jpg?s=128&g=1", "display_name": "flizana", "link": "https://stackoverflow.com/users/3225110/flizana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436293946, "creation_date": 1426083376, "last_edit_date": 1436293946, "question_id": 28989055, "link": "https://stackoverflow.com/questions/28989055/cant-find-libpq-h-header-when-installing-afnetworking-using-cocoapods", "title": "Can&#39;t find libpq.h header when installing AFNetworking using cocoapods", "body": "<p>I already have various pods working perfectly with my Xcode project. I now tried to install AFNetworking pod by modifying the podfile. This is my new podfile</p>\n\n<pre><code>platform : ios '7.0'\n\npod 'MKNetworkKit'\npod 'SBJson', '~&gt; 4.0.0'\npod 'MBProgressHUD'\npod 'STTweetLabel'\npod 'AFNetworking'\n</code></pre>\n\n<p>However when I run the command</p>\n\n<pre><code>pod update\n</code></pre>\n\n<p>It throws me this problem</p>\n\n<pre><code>/Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:89:in `run': ERROR: Failed to build gem native extension. (Gem::Ext::BuildError)\n\n/Users/fernandolizana/.rvm/rubies/ruby-2.1.1/bin/ruby extconf.rb \nchecking for pg_config... no\nNo pg_config... trying anyway. If building fails, please try again with\n--with-pg-config=/path/to/pg_config\nchecking for libpq-fe.h... no\nCan't find the 'libpq-fe.h header\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/fernandolizana/.rvm/gems/ruby-2.1.1/gems/pg-0.17.1 for inspection.\nResults logged to /Users/fernandolizana/.rvm/gems/ruby-2.1.1/extensions/x86_64-darwin-12/2.1.0-static/pg-0.17.1/gem_make.out\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/ext_conf_builder.rb:38:in `block in build'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/tempfile.rb:324:in `open'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/ext_conf_builder.rb:17:in `build'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:161:in `block (2 levels) in build_extension'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:160:in `chdir'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:160:in `block in build_extension'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:159:in `synchronize'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:159:in `build_extension'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:198:in `block in build_extensions'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:195:in `each'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/ext/builder.rb:195:in `build_extensions'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/specification.rb:1436:in `block in build_extensions'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/user_interaction.rb:45:in `use_ui'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/specification.rb:1434:in `build_extensions'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/stub_specification.rb:60:in `build_extensions'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/basic_specification.rb:56:in `contains_requirable_file?'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/specification.rb:925:in `block in find_inactive_by_path'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/specification.rb:924:in `each'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/specification.rb:924:in `find'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/specification.rb:924:in `find_inactive_by_path'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems.rb:185:in `try_activate'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:132:in `rescue in require'\nfrom /Users/fernandolizana/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:144:in `require'\nfrom /Users/fernandolizana/.rvm/gems/ruby-2.1.1@global/gems/rubygems-bundler-1.4.3/lib/rubygems_executable_plugin.rb:4:in `block in &lt;top (required)&gt;'\nfrom /Users/fernandolizana/.rvm/gems/ruby-2.1.1@global/gems/executable-hooks-1.3.1/lib/executable-hooks/hooks.rb:50:in `call'\nfrom /Users/fernandolizana/.rvm/gems/ruby-2.1.1@global/gems/executable-hooks-1.3.1/lib/executable-hooks/hooks.rb:50:in `block in run'\nfrom /Users/fernandolizana/.rvm/gems/ruby-2.1.1@global/gems/executable-hooks-1.3.1/lib/executable-hooks/hooks.rb:49:in `each'\nfrom /Users/fernandolizana/.rvm/gems/ruby-2.1.1@global/gems/executable-hooks-1.3.1/lib/executable-hooks/hooks.rb:49:in `run'\nfrom /Users/fernandolizana/.rvm/gems/ruby-2.1.1/bin/ruby_executable_hooks:10:in `&lt;main&gt;'\n</code></pre>\n\n<p>I have tried reinstalling cocoapods and using another version of ruby.</p>\n"}, {"tags": ["ruby", "jekyll", "jekyll-extensions"], "answers": [{"comments": [{"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 1, "creation_date": 1426084387, "post_id": 28989317, "comment_id": 46227191, "body": "Perhaps Tiago Casanova speaks <a href=\"https://translate.google.com/?ie=UTF-8&amp;hl=en&amp;client=tw-ob#auto/en/noticies\" rel=\"nofollow noreferrer\">Catalan</a>?"}, {"owner": {"reputation": 574, "user_id": 1545341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9409173f146e6cc3b1755a61cd857150?s=128&d=identicon&r=PG", "display_name": "Dennis Schubert", "link": "https://stackoverflow.com/users/1545341/dennis-schubert"}, "reply_to_user": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1426084495, "post_id": 28989317, "comment_id": 46227264, "body": "Possible. The rest of the path is English, though. And I actually spent hours of debugging time with mistakes like that, so a small hint could be useful. :)"}, {"owner": {"reputation": 85, "user_id": 4370163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1HsY9.jpg?s=128&g=1", "display_name": "Tiago Casanova", "link": "https://stackoverflow.com/users/4370163/tiago-casanova"}, "edited": false, "score": 0, "creation_date": 1426509278, "post_id": 28989317, "comment_id": 46387209, "body": "Thanks. @DennisSchubert"}, {"owner": {"reputation": 574, "user_id": 1545341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9409173f146e6cc3b1755a61cd857150?s=128&d=identicon&r=PG", "display_name": "Dennis Schubert", "link": "https://stackoverflow.com/users/1545341/dennis-schubert"}, "edited": false, "score": 0, "creation_date": 1426519137, "post_id": 28989317, "comment_id": 46394025, "body": "Please mark the answer as accepted if that solved your problem. :)"}], "tags": [], "owner": {"reputation": 574, "user_id": 1545341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9409173f146e6cc3b1755a61cd857150?s=128&d=identicon&r=PG", "display_name": "Dennis Schubert", "link": "https://stackoverflow.com/users/1545341/dennis-schubert"}, "is_accepted": false, "score": 2, "last_activity_date": 1426087765, "last_edit_date": 1426087765, "creation_date": 1426084172, "answer_id": 28989317, "question_id": 28988982, "link": "https://stackoverflow.com/questions/28988982/jekyll-listing-markdown-notices/28989317#28989317", "title": "jekyll listing markdown notices", "body": "<p>By default, only the <code>_posts</code> folder holds iterable items. If you use a recent version of Jekyll, you can use the new <a href=\"http://jekyllrb.com/docs/collections/\" rel=\"nofollow\">collections</a> feature. In your example, add the following to your <code>_config.yml</code></p>\n\n<pre><code>collections:\n  - noticies\n</code></pre>\n\n<p>Please note, though, that this feature is in its early development and might change until the it stabilizes. Also, just for the record, the English plural of notice is notices.</p>\n"}], "owner": {"reputation": 85, "user_id": 4370163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1HsY9.jpg?s=128&g=1", "display_name": "Tiago Casanova", "link": "https://stackoverflow.com/users/4370163/tiago-casanova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "closed_date": 1426113349, "answer_count": 1, "score": 0, "last_activity_date": 1426509100, "creation_date": 1426083197, "last_edit_date": 1426509100, "question_id": 28988982, "link": "https://stackoverflow.com/questions/28988982/jekyll-listing-markdown-notices", "closed_reason": "Not suitable for this site", "title": "jekyll listing markdown notices", "body": "<p>Structure of my project: </p>\n\n<pre><code>/_config.yml\n./_layouts\n./_posts\n./_posts/2011-07-29-my-first-jekyll-post.markdown\n./_notices/2011-07-29-my-first-notice.markdown\n./_notices/2011-07-30-my-second-notice.markdown\n./_site\n./index.html\n</code></pre>\n\n<p>With post it works:</p>\n\n<pre><code>{% for post in site.posts %}\n ... listing all posts ...\n{% endfor %}\n</code></pre>\n\n<p>With news not working:</p>\n\n<pre><code>{% for notice in site.notices %}\n ... listing all notices ...\n{% endfor %}\n</code></pre>\n\n<p>Notices does not work. How can I achieve a listing of items similar to the post listing?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ssh"], "answers": [{"tags": [], "owner": {"reputation": 379, "user_id": 4454498, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b2b339daa2a73cb8c0ee537b3e6de80d?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Condron", "link": "https://stackoverflow.com/users/4454498/ryan-condron"}, "is_accepted": false, "score": 0, "last_activity_date": 1426126162, "creation_date": 1426126162, "answer_id": 29000751, "question_id": 28988821, "link": "https://stackoverflow.com/questions/28988821/rubymine-for-remote-sdk-gems-downloading-and-suddenly-stop/29000751#29000751", "title": "Rubymine for remote SDK. Gems downloading and suddenly stop", "body": "<p>What version is your Rubymine? I had issue back with version 6.x with remote rubies freezing the system. Also are you using a Vagrant box? I have seen some of the Vagrant boxes have issues as well. I would log in to the Ubuntu Guest via command line/SSH and see if you still have issues downloading gems.</p>\n"}], "owner": {"reputation": 3, "user_id": 4658709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AlXcS4NVR34/AAAAAAAAAAI/AAAAAAAADJ8/ShdoKpeyl38/photo.jpg?sz=128", "display_name": "Charlie Bravo", "link": "https://stackoverflow.com/users/4658709/charlie-bravo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426126162, "creation_date": 1426082841, "question_id": 28988821, "link": "https://stackoverflow.com/questions/28988821/rubymine-for-remote-sdk-gems-downloading-and-suddenly-stop", "title": "Rubymine for remote SDK. Gems downloading and suddenly stop", "body": "<p>I'm having this issue since yesterday and I am not sure what could be the problem. I have a Rails application that I want to run against a remote SDK installed on my VirtualBox (Ubuntu); yesterday I was able to set it up on another VM I have and when I went to Settings in Rubymine and added the SSH credentials, it took some time but finally a lot of gems were downloaded and I was able to run the project directly from Rubymine environment, trying to prepare everything for debug.</p>\n\n<p>I had to change my VirtualBox and now when I connect to it via SSH it starts \"Collecting files...\" for a while and then \"Downloading...\" the gems... it looks like it restarts for a couple of times and then at some point, after a while and without any further notice, it stops.</p>\n\n<p>If it helps, my host is Windows 7, my guest is Ubuntu 14.04; my RVM is 1.9.3-p392.</p>\n\n<p>Any ideas? I'm surprised because this worked like a charm yesterday and today is not. Thank you in advance for any help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "self"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 3, "creation_date": 1426082780, "post_id": 28988658, "comment_id": 46225954, "body": "Be adventurous and try it! :-)"}, {"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1426083112, "post_id": 28988658, "comment_id": 46226204, "body": "&quot;Why did we use self.name in the right side of the statement?&quot; You tell us. You didn&#39;t have to, so why did you?"}, {"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "reply_to_user": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1426083170, "post_id": 28988658, "comment_id": 46226249, "body": "@meagar, this code snippet is from the Rails Guides."}], "answers": [{"comments": [{"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 1, "creation_date": 1426084066, "post_id": 28988878, "comment_id": 46226934, "body": "just got my pull request merged into rails where I deleted the self :) Thanks tho."}], "tags": [], "owner": {"reputation": 3809, "user_id": 518500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/853a5fb8148dc8e1678c983f0a4cbaf5?s=128&d=identicon&r=PG", "display_name": "codingbunny", "link": "https://stackoverflow.com/users/518500/codingbunny"}, "is_accepted": true, "score": 1, "last_activity_date": 1426082952, "creation_date": 1426082952, "answer_id": 28988878, "question_id": 28988658, "link": "https://stackoverflow.com/questions/28988658/rails-callback-not-using-self/28988878#28988878", "title": "Rails callback not using self", "body": "<p>You can, but it could make code unreadable or lead to ambiguity.\nIt's more clear to use <code>self.name</code> on both sides so everyone reading your code knows what happens.</p>\n\n<p>I've done a small example using IRB to illustrate what happens:</p>\n\n<pre><code>2.1.5 :014 &gt; class User\n2.1.5 :015?&gt;   attr_accessor :name\n2.1.5 :016?&gt;   def normalize_name\n2.1.5 :017?&gt;     self.name = name.downcase\n2.1.5 :018?&gt;     end\n2.1.5 :019?&gt;   end\n =&gt; :normalize_name \n2.1.5 :020 &gt; u = User.new\n =&gt; #&lt;User:0x007ff81282a070&gt; \n2.1.5 :021 &gt; u.name = \"NAME\"\n =&gt; \"NAME\" \n2.1.5 :022 &gt; u.normalize_name\n =&gt; \"name\" \n2.1.5 :023 &gt; \n</code></pre>\n\n<p>So yes, you can do it.\nBut it's cleaner to use <code>self.name</code> so there's no ambiguity.</p>\n"}, {"tags": [], "owner": {"reputation": 4978, "user_id": 3033649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d885e80c88f3969d451d513c6a73c802?s=128&d=identicon&r=PG", "display_name": "markets", "link": "https://stackoverflow.com/users/3033649/markets"}, "is_accepted": false, "score": 2, "last_activity_date": 1426091823, "last_edit_date": 1426091823, "creation_date": 1426091210, "answer_id": 28992100, "question_id": 28988658, "link": "https://stackoverflow.com/questions/28988658/rails-callback-not-using-self/28992100#28992100", "title": "Rails callback not using self", "body": "<p>It seems a community convention to use <code>self</code> only when using write accessors.</p>\n\n<pre><code># writer\nself.name=\n\n# reader\nname\n</code></pre>\n\n<p>Defined in: <a href=\"https://github.com/bbatsov/ruby-style-guide#no-self-unless-required\" rel=\"nofollow\">https://github.com/bbatsov/ruby-style-guide#no-self-unless-required</a>. </p>\n\n<p>Example from guide:</p>\n\n<pre><code># bad\ndef ready?\n  if self.last_reviewed_at &gt; self.last_updated_at\n    self.worker.update(self.content, self.options)\n    self.status = :in_progress\n  end\n\n  self.status == :verified\nend\n\n# good\ndef ready?\n  if last_reviewed_at &gt; last_updated_at\n    worker.update(content, options)\n    self.status = :in_progress\n  end\n\n  status == :verified\nend\n</code></pre>\n"}], "owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 28988878, "answer_count": 2, "score": 0, "last_activity_date": 1426091823, "creation_date": 1426082500, "last_edit_date": 1426083233, "question_id": 28988658, "link": "https://stackoverflow.com/questions/28988658/rails-callback-not-using-self", "title": "Rails callback not using self", "body": "<p>Code snippet from Rails Guides :</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n      before_validation :normalize_name, on: :create\n\n      protected\n        def normalize_name\n          self.name = self.name.downcase.titleize\n        end\n    end\n</code></pre>\n\n<p>Why did we use <code>self.name</code> in the right side of the statement? Can't we say</p>\n\n<pre><code>self.name = name.downcase.titleize\n</code></pre>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "json"], "comments": [{"owner": {"reputation": 16396, "user_id": 2564298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BhG1x.jpg?s=128&g=1", "display_name": "Rajdeep Singh", "link": "https://stackoverflow.com/users/2564298/rajdeep-singh"}, "edited": false, "score": 1, "creation_date": 1426083029, "post_id": 28988646, "comment_id": 46226139, "body": "So whats your question?"}, {"owner": {"reputation": 442, "user_id": 3376232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpQ2C.png?s=128&g=1", "display_name": "Ugo Mare", "link": "https://stackoverflow.com/users/3376232/ugo-mare"}, "reply_to_user": {"reputation": 16396, "user_id": 2564298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BhG1x.jpg?s=128&g=1", "display_name": "Rajdeep Singh", "link": "https://stackoverflow.com/users/2564298/rajdeep-singh"}, "edited": false, "score": 0, "creation_date": 1426083369, "post_id": 28988646, "comment_id": 46226409, "body": "I would like to get the result formatted like my example."}], "answers": [{"comments": [{"owner": {"reputation": 442, "user_id": 3376232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpQ2C.png?s=128&g=1", "display_name": "Ugo Mare", "link": "https://stackoverflow.com/users/3376232/ugo-mare"}, "edited": false, "score": 0, "creation_date": 1426083840, "post_id": 28989147, "comment_id": 46226768, "body": "It&#39;s exactly what I wanted !"}], "tags": [], "owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "is_accepted": true, "score": 0, "last_activity_date": 1426083624, "creation_date": 1426083624, "answer_id": 28989147, "question_id": 28988646, "link": "https://stackoverflow.com/questions/28988646/rails-include-an-association-in-the-result-of-a-query/28989147#28989147", "title": "Rails - Include an association in the result of a query", "body": "<p>Try something like this:</p>\n\n<pre><code>users = User.includes(:addresses).all\nusers.as_json(include: :addresses)\n</code></pre>\n\n<p>This should return expected result.</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 442, "user_id": 3376232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpQ2C.png?s=128&g=1", "display_name": "Ugo Mare", "link": "https://stackoverflow.com/users/3376232/ugo-mare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 28989147, "answer_count": 1, "score": 0, "last_activity_date": 1426083624, "creation_date": 1426082479, "last_edit_date": 1426083302, "question_id": 28988646, "link": "https://stackoverflow.com/questions/28988646/rails-include-an-association-in-the-result-of-a-query", "title": "Rails - Include an association in the result of a query", "body": "<p>I would like to get all the addresses of each user in the result.\nDoing something like this: </p>\n\n<blockquote>\n  <p>User.all.includes(:addresses) (User have many address)</p>\n</blockquote>\n\n<p>And would like to get something like that:</p>\n\n<blockquote>\n  <p>[[id:1, name:\"user1\", addresses:[[id:1, street:\"5th avenue\",\n  city:\"ny\"], [id:2, street:\"grand boulevard\", city:\"paris\"]]], [id:2,\n  name:\"user2\", addresses:[[id:3, street:\"jump street\", city:\"la\"]]],\n  ...]</p>\n</blockquote>\n\n<p>Because it's a json response.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "ruby-on-rails-4", "orm"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1426079564, "post_id": 28987403, "comment_id": 46223478, "body": "Not sure I understand. The first one is the correct syntax can you explain why you prefer the second?"}, {"owner": {"reputation": 2102, "user_id": 132235, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fa82129a285be4619d5009aa2e2083a9?s=128&d=identicon&r=PG", "display_name": "phlegx", "link": "https://stackoverflow.com/users/132235/phlegx"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1426079947, "post_id": 28987403, "comment_id": 46223780, "body": "Some words are reserved database words and should be quoted. Not quoting words in order can cause a query to fail if the word is a reserved word. Here all reserved words of Postgresql <a href=\"http://www.postgresql.org/docs/9.4/static/sql-keywords-appendix.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/9.4/static/sql-keywords-appendix.html</a>"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1426081246, "post_id": 28987403, "comment_id": 46224686, "body": "Yes I know hat reserved words are but nothing you show is reserved seems like a control issue that you should handle before passing"}], "answers": [{"comments": [{"owner": {"reputation": 2102, "user_id": 132235, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fa82129a285be4619d5009aa2e2083a9?s=128&d=identicon&r=PG", "display_name": "phlegx", "link": "https://stackoverflow.com/users/132235/phlegx"}, "edited": false, "score": 0, "creation_date": 1426098692, "post_id": 28990601, "comment_id": 46237310, "body": "yes thats true, but includes() should understand also the quoted attributes in order() and not only the unquoted attributes."}, {"owner": {"reputation": 7188, "user_id": 597358, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/549be4b1e60fe2cbf6b0724802961705?s=128&d=identicon&r=PG", "display_name": "messanjah", "link": "https://stackoverflow.com/users/597358/messanjah"}, "reply_to_user": {"reputation": 2102, "user_id": 132235, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fa82129a285be4619d5009aa2e2083a9?s=128&d=identicon&r=PG", "display_name": "phlegx", "link": "https://stackoverflow.com/users/132235/phlegx"}, "edited": false, "score": 0, "creation_date": 1426099024, "post_id": 28990601, "comment_id": 46237520, "body": "Not according to the docs: (<a href=\"http://guides.rubyonrails.org/active_record_querying.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/active_record_querying.html</a>) <code>Using where like this will only work when you pass it a Hash. For SQL-fragments you need use references to force joined tables</code>"}, {"owner": {"reputation": 7188, "user_id": 597358, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/549be4b1e60fe2cbf6b0724802961705?s=128&d=identicon&r=PG", "display_name": "messanjah", "link": "https://stackoverflow.com/users/597358/messanjah"}, "reply_to_user": {"reputation": 2102, "user_id": 132235, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fa82129a285be4619d5009aa2e2083a9?s=128&d=identicon&r=PG", "display_name": "phlegx", "link": "https://stackoverflow.com/users/132235/phlegx"}, "edited": false, "score": 0, "creation_date": 1426099485, "post_id": 28990601, "comment_id": 46237822, "body": "Sorry, meant to link to Section 13.2: <a href=\"http://guides.rubyonrails.org/active_record_querying.html#specifying-conditions-on-eager-loaded-associations\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7188, "user_id": 597358, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/549be4b1e60fe2cbf6b0724802961705?s=128&d=identicon&r=PG", "display_name": "messanjah", "link": "https://stackoverflow.com/users/597358/messanjah"}, "is_accepted": false, "score": 0, "last_activity_date": 1426087366, "creation_date": 1426087366, "answer_id": 28990601, "question_id": 28987403, "link": "https://stackoverflow.com/questions/28987403/relation-not-loaded-with-includesprofile-if-order-attribute-is-of-format-pro/28990601#28990601", "title": "Relation not loaded with includes(:profile) if order attribute is of format &quot;profile&quot;.&quot;firstname&quot; ASC", "body": "<p>Does an Account always have a Profile? If so, use an INNER JOIN:</p>\n\n<pre><code>&gt; Account.joins(:profile).order('\"profiles\".\"firstname\" ASC')\n</code></pre>\n\n<p>To \"eager-load\" the profile association, use <code>preload</code></p>\n\n<pre><code>&gt; Account.joins(:profile).order('\"profiles\".\"firstname\" ASC').preload(:profile)\n</code></pre>\n\n<p>Here's a good explanation of preload vs eager-load vs includes: <a href=\"http://blog.bigbinary.com/2013/07/01/preload-vs-eager-load-vs-joins-vs-includes.html\" rel=\"nofollow\">http://blog.bigbinary.com/2013/07/01/preload-vs-eager-load-vs-joins-vs-includes.html</a></p>\n\n<p>In short, <code>preload</code> always fires a separate query, <code>eager_load</code> always LEFT JOINS in a single query, and <code>includes</code> lets Rails decide.</p>\n"}], "owner": {"reputation": 2102, "user_id": 132235, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fa82129a285be4619d5009aa2e2083a9?s=128&d=identicon&r=PG", "display_name": "phlegx", "link": "https://stackoverflow.com/users/132235/phlegx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426087366, "creation_date": 1426079174, "last_edit_date": 1426080107, "question_id": 28987403, "link": "https://stackoverflow.com/questions/28987403/relation-not-loaded-with-includesprofile-if-order-attribute-is-of-format-pro", "title": "Relation not loaded with includes(:profile) if order attribute is of format &quot;profile&quot;.&quot;firstname&quot; ASC", "body": "<p>Using the following order configuration, <code>includes(:profile)</code> don't includes the relation to the profile.</p>\n\n<pre><code>class Account &lt; ActiveRecord::Base\n  has_one :profile\n\n  scope :order_by, -&gt; value { includes(:profile).reorder(value) }\nend\n\nclass Profile &lt; ActiveRecord::Base\n  belongs_to :account\nend\n</code></pre>\n\n<p>Using the following value to order all accounts works fine:</p>\n\n<pre><code>&gt; Account.order_by('profiles.firstname ASC')\n</code></pre>\n\n<p>Using the following value <code>includes(:profile)</code> don't includes relation <code>:profile</code> in the query:</p>\n\n<pre><code>&gt; Account.order_by('\"profiles\".\"firstname\" ASC')\n</code></pre>\n\n<p><strong>Any idea? I want to use the second one but without using <code>references(:profile)</code> in the scope.</strong></p>\n\n<p><strong>Problem</strong></p>\n\n<p>Some words are reserved database words and should be quoted. Not quoting used words can cause a query to fail if the word is a reserved word. Here all reserved words of Postgresql postgresql.org/docs/9.4/static/sql-keywords-appendix.html</p>\n\n<p><strong>Example</strong></p>\n\n<p>Using <code>user</code> to order entries. <code>user</code> is a reserved word in Postgresql.</p>\n"}, {"tags": ["ruby", "regex"], "comments": [{"owner": {"reputation": 305919, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 2, "creation_date": 1426079283, "post_id": 28987394, "comment_id": 46223260, "body": "By &quot;hidden files&quot;, do you actually mean &quot;files that begin with &#39;.&#39;&quot;? On some platforms, &quot;hidden&quot; is an attribute of the file."}, {"owner": {"reputation": 1270, "user_id": 2572999, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e8b1aa402292ffaaa730adce6b52c1ef?s=128&d=identicon&r=PG", "display_name": "Swaathi Kakarla", "link": "https://stackoverflow.com/users/2572999/swaathi-kakarla"}, "reply_to_user": {"reputation": 305919, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1426079479, "post_id": 28987394, "comment_id": 46223406, "body": "Yes. But don&#39;t all hidden files start with a &quot;.&quot;? Even the ones with hidden as an attribute?"}, {"owner": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "edited": false, "score": 2, "creation_date": 1426080033, "post_id": 28987394, "comment_id": 46223836, "body": "No, not all. Not on Windows, for example."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1426080224, "post_id": 28987394, "comment_id": 46223967, "body": "@SwaathiK no hidden files on Windows for instance can have any name or extension. They simply have an attribute hidden. Also files starting with a <code>.</code> are not always hidden e.g. <code>.gitignore</code>, <code>.gemspec</code>, <code>.rspec</code>, etc."}, {"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 3, "creation_date": 1426080445, "post_id": 28987394, "comment_id": 46224115, "body": "@SwaathiK - based on everyones comments, do you want to ignore file dot files instead?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1426090723, "post_id": 28987394, "comment_id": 46231907, "body": "This is what is commonly referred to as an &quot;<a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X-Y  question</a>: you ask how to use a regex to achieve a certain desired outcome, when you really just want to to know how to best obtain that outcome. As @engineersmnky shows, it does not involve a regex."}, {"owner": {"reputation": 1270, "user_id": 2572999, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e8b1aa402292ffaaa730adce6b52c1ef?s=128&d=identicon&r=PG", "display_name": "Swaathi Kakarla", "link": "https://stackoverflow.com/users/2572999/swaathi-kakarla"}, "edited": false, "score": 0, "creation_date": 1426093973, "post_id": 28987394, "comment_id": 46234186, "body": "I am actually confused. If not all .files are hidden files then how do I even know if a file is hidden?"}], "answers": [{"tags": [], "owner": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "is_accepted": false, "score": 0, "last_activity_date": 1426080625, "creation_date": 1426080625, "answer_id": 28987937, "question_id": 28987394, "link": "https://stackoverflow.com/questions/28987394/ignoring-hidden-files-with-regular-expressions-in-ruby/28987937#28987937", "title": "Ignoring hidden files with regular expressions in Ruby", "body": "<p>If you wanted to ignore files starting with <code>.</code>, the below would append those that don't to the <code>file_paths</code> array</p>\n\n<pre><code>Find.find(directory) do |path|\n    if File.file?(path)\n        file_paths &lt;&lt; path unless File.basename(path).start_with?(\".\")\n    end\nend\n</code></pre>\n\n<p>Note that this will not necessarily ignore <em>hidden</em> files, for the reasons mentioned in the comments. It also currently includes \"hidden\" directories, i.e. a file such as <code>/some/.hidden/directory/normal.file</code> would be included in the list.</p>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1426081685, "post_id": 28988069, "comment_id": 46225000, "body": "<code>glob</code> looks good, but I think <code>Dir.glob(File.join(directory, &#39;**&#39;, &#39;*&#39;))</code> would be the equivalent to <code>Find.find(directory)</code> (without the dotfiles)"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1426081847, "post_id": 28988069, "comment_id": 46225147, "body": "The more important sentence from the docs is probably <i>&quot;Note, this [<code>*</code>] will not match Unix-like hidden files (dotfiles)&quot;</i>"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "edited": false, "score": 0, "creation_date": 1426082203, "post_id": 28988069, "comment_id": 46225461, "body": "@arco444 I&#39;ve addressed this in my <a href=\"http://stackoverflow.com/questions/28987394/ignoring-hidden-files-with-regular-expressions-in-ruby#comment46225000_28988069\">comment</a>: <code>dir&#47;**&#47;*</code> will match all files recursively (excluding dotfiles)."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1426085359, "post_id": 28988069, "comment_id": 46227912, "body": "@Stefan you are correct copied the wrong text. Editted"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "edited": false, "score": 0, "creation_date": 1426088462, "post_id": 28988069, "comment_id": 46230225, "body": "@arco444 edited again did not add recursive <code>&#47;**&#47;</code> because the question does not seem to involve recursion"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "edited": false, "score": 0, "creation_date": 1426088852, "post_id": 28988069, "comment_id": 46230542, "body": "@arco444 you are correct sorry I don&#39;t ever use the Find module."}], "tags": [], "owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "is_accepted": false, "score": 4, "last_activity_date": 1426088719, "last_edit_date": 1426088719, "creation_date": 1426080944, "answer_id": 28988069, "question_id": 28987394, "link": "https://stackoverflow.com/questions/28987394/ignoring-hidden-files-with-regular-expressions-in-ruby/28988069#28988069", "title": "Ignoring hidden files with regular expressions in Ruby", "body": "<p>You could just use <code>Dir</code> </p>\n\n<pre><code>file_paths = Dir.glob(\"#{directory}/*\")\n</code></pre>\n\n<p><code>Dir#glob</code> Docs:</p>\n\n<blockquote>\n  <p>Returns the filenames found by expanding pattern which is an Array of the patterns or the pattern String, either as an array or as parameters to the block.</p>\n  \n  <blockquote>\n    <p>Note, this will not match Unix-like hidden files (dotfiles). In order to include those in the match results, you must use something like \u201c{<em>,.</em>}\u201d.</p>\n  </blockquote>\n</blockquote>\n\n<p>per @arco444 if you want this to search recursively </p>\n\n<pre><code>file_paths = Dir.glob(\"#{directory}/**/*\")  \n</code></pre>\n"}], "owner": {"reputation": 1270, "user_id": 2572999, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e8b1aa402292ffaaa730adce6b52c1ef?s=128&d=identicon&r=PG", "display_name": "Swaathi Kakarla", "link": "https://stackoverflow.com/users/2572999/swaathi-kakarla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426088719, "creation_date": 1426079138, "question_id": 28987394, "link": "https://stackoverflow.com/questions/28987394/ignoring-hidden-files-with-regular-expressions-in-ruby", "title": "Ignoring hidden files with regular expressions in Ruby", "body": "<p>I'm trying to read every file in a specified directory. I'd like to ignore hidden files. I've found a way to do this, but I'm pretty sure it is the most inefficient way to do this.</p>\n\n<p>This is what I've tried,</p>\n\n<pre><code>Find.find(directory) do |path|\n     file_paths &lt;&lt; path if path =~ /.*\\./ and !path.split(\"/\")[-1].to_s.starts_with?(\".\")\nend\n</code></pre>\n\n<p>This works. But I hate it. </p>\n\n<p>I then tried to do this,</p>\n\n<pre><code>file_paths &lt;&lt; path if path =~ /.*\\./ and path =~ /^\\./\n</code></pre>\n\n<p>But this returned nothing for me. What am I doing wrong here?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "open-uri"], "answers": [{"comments": [{"owner": {"reputation": 2635, "user_id": 1177575, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/147cbbdcb918ccf00a5d662d9e3077ad?s=128&d=identicon&r=PG", "display_name": "Abibullah Rahamathulah", "link": "https://stackoverflow.com/users/1177575/abibullah-rahamathulah"}, "edited": false, "score": 0, "creation_date": 1426080868, "post_id": 28987609, "comment_id": 46224424, "body": "Hey Man. Thanks will check now"}], "tags": [], "owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "is_accepted": true, "score": 4, "last_activity_date": 1553099929, "last_edit_date": 1553099929, "creation_date": 1426079709, "answer_id": 28987609, "question_id": 28987292, "link": "https://stackoverflow.com/questions/28987292/ruby-open-uri-get-file-name-from-the-remote-url/28987609#28987609", "title": "Ruby: Open URI. Get file name from the remote url", "body": "<p>Check result of <code>meta</code> method:</p>\n\n<pre><code>p obj.meta\n</code></pre>\n\n<p>probably it have <a href=\"http://en.wikipedia.org/wiki/List_of_HTTP_header_fields\" rel=\"nofollow noreferrer\">Content-Disposition</a> header. In this case it can have file name as optional parameter.</p>\n"}], "owner": {"reputation": 2635, "user_id": 1177575, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/147cbbdcb918ccf00a5d662d9e3077ad?s=128&d=identicon&r=PG", "display_name": "Abibullah Rahamathulah", "link": "https://stackoverflow.com/users/1177575/abibullah-rahamathulah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 0, "accepted_answer_id": 28987609, "answer_count": 1, "score": 1, "last_activity_date": 1553099929, "creation_date": 1426078862, "question_id": 28987292, "link": "https://stackoverflow.com/questions/28987292/ruby-open-uri-get-file-name-from-the-remote-url", "title": "Ruby: Open URI. Get file name from the remote url", "body": "<p>I have a remote URL, that doesn't have any reference to filename.</p>\n\n<p><a href=\"https://example.site.com/sadfasfsadfasdfasfdsafas/\" rel=\"nofollow\">https://example.site.com/sadfasfsadfasdfasfdsafas/</a></p>\n\n<p>But on downloading it gives file as 'Intro.pdf'</p>\n\n<p>I would like to get that filename in my ruby code so that I can use it to create the file or send file in requests. As of now, I am sending the hardcode name as <code>attachment.pdf</code></p>\n\n<pre><code>obj = open(url, :ssl_verify_mode =&gt; OpenSSL::SSL::VERIFY_NONE)\ndata = obj.read\nsend_data data, :disposition =&gt; 'attachment', :filename=&gt;\"attachment.pdf\"\n</code></pre>\n\n<p>Pls Advice. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 63, "user_id": 1462233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CU7r.jpg?s=128&g=1", "display_name": "kanhaic", "link": "https://stackoverflow.com/users/1462233/kanhaic"}, "edited": false, "score": 0, "creation_date": 1426138429, "post_id": 28986587, "comment_id": 46252246, "body": "@Stefan answer is what I was looking for."}, {"owner": {"reputation": 63, "user_id": 1462233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CU7r.jpg?s=128&g=1", "display_name": "kanhaic", "link": "https://stackoverflow.com/users/1462233/kanhaic"}, "edited": false, "score": 0, "creation_date": 1426138741, "post_id": 28986587, "comment_id": 46252335, "body": "result = base_structure_combinations[0].product(*base_structure_combi&zwnj;&#8203;nations[1..-1])resul&zwnj;&#8203;t = result.map { |arr| [arr.join(&#39;-&#39;)] }"}], "answers": [{"comments": [{"owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "edited": false, "score": 0, "creation_date": 1426078008, "post_id": 28986707, "comment_id": 46222366, "body": "Learned a new thing. :)"}, {"owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "edited": false, "score": 0, "creation_date": 1426079406, "post_id": 28986707, "comment_id": 46223344, "body": "If you give a block, product will yield all combinations. So wouldn&#39;t it be costly using map explicitly? (-- learning)"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "edited": false, "score": 0, "creation_date": 1426079587, "post_id": 28986707, "comment_id": 46223496, "body": "@SharvyAhmed a block works fine to output each combination. But if you need an array for further processing, you&#39;d use <code>map</code>."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1426091205, "post_id": 28986707, "comment_id": 46232269, "body": "...or, if <code>segments</code> can be mutated: <code>segments.shift.product(*segments)</code>."}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 8, "last_activity_date": 1426078741, "last_edit_date": 1426078741, "creation_date": 1426077086, "answer_id": 28986707, "question_id": 28986587, "link": "https://stackoverflow.com/questions/28986587/recursive-function-with-array/28986707#28986707", "title": "Recursive function with array", "body": "<p>You can use <a href=\"http://ruby-doc.org/core-2.2.1/Array.html#method-i-product\" rel=\"nofollow\"><code>Array#product</code></a>:</p>\n\n<pre><code>combined = segments[0].product(*segments[1..-1]) \n#=&gt; [[\"000\", \"110\", \"210\"], [\"000\", \"110\", \"211\"], [\"000\", \"110\", \"212\"],\n#    [\"000\", \"111\", \"210\"], [\"000\", \"111\", \"211\"], [\"000\", \"111\", \"212\"],\n#    [\"000\", \"112\", \"210\"], [\"000\", \"112\", \"211\"], [\"000\", \"112\", \"212\"],\n#    [\"001\", \"110\", \"210\"], [\"001\", \"110\", \"211\"], [\"001\", \"110\", \"212\"],\n#    [\"001\", \"111\", \"210\"], [\"001\", \"111\", \"211\"], [\"001\", \"111\", \"212\"],\n#    [\"001\", \"112\", \"210\"], [\"001\", \"112\", \"211\"], [\"001\", \"112\", \"212\"],\n#    [\"002\", \"110\", \"210\"], [\"002\", \"110\", \"211\"], [\"002\", \"110\", \"212\"],\n#    [\"002\", \"111\", \"210\"], [\"002\", \"111\", \"211\"], [\"002\", \"111\", \"212\"],\n#    [\"002\", \"112\", \"210\"], [\"002\", \"112\", \"211\"], [\"002\", \"112\", \"212\"]]\n</code></pre>\n\n<p>Or more explicitly (if the number of arrays is fixed):</p>\n\n<pre><code>combined = segments[0].product(segments[1], segments[2])\n</code></pre>\n\n<p>Use <a href=\"http://ruby-doc.org/core-2.2.1/Array.html#method-i-join\" rel=\"nofollow\"><code>join</code></a> to join the sub arrays:</p>\n\n<pre><code>combined.map { |arr| arr.join('-') }\n#=&gt; [\"000-110-210\", \"000-110-211\", \"000-110-212\", ...]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "is_accepted": false, "score": 1, "last_activity_date": 1426077309, "creation_date": 1426077309, "answer_id": 28986765, "question_id": 28986587, "link": "https://stackoverflow.com/questions/28986587/recursive-function-with-array/28986765#28986765", "title": "Recursive function with array", "body": "<p>If you just need result - use @Stefan answer. If this is just start of smth bigger and/or you want to understand how to do it yourself:</p>\n\n<pre><code>segments = [[\"000\", \"001\", \"002\"], [\"110\", \"111\", \"112\"], [\"210\", \"211\", \"212\"]]\n\ndef generate(segments, i, cur)\n  if i == segments.count\n    puts cur.join(\"-\")\n    return\n  end\n\n  0.upto(segments[i].count - 1) do |j|\n    cur &lt;&lt; segments[i][j]\n    generate(segments, i + 1, cur)\n    cur.pop\n  end\nend\n\ngenerate(segments, 0, [])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1426080254, "last_edit_date": 1426080254, "creation_date": 1426078590, "answer_id": 28987194, "question_id": 28986587, "link": "https://stackoverflow.com/questions/28986587/recursive-function-with-array/28987194#28987194", "title": "Recursive function with array", "body": "<p>You can use <a href=\"http://ruby-doc.org/core-2.2.1/Array.html#method-i-product\" rel=\"nofollow\"><code>Array#product</code></a> which will give you the cross product of arrays. When given a <strong>block</strong>, product will yield all combinations and return self instead.</p>\n\n<p>Try this:</p>\n\n<pre><code>combinations = []\nsegments.first.product(*segments[1..-1]) { |arr| combinations &lt;&lt; arr.join(\"-\") }\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>combinations\n=&gt; [\"000-110-210\", \"000-110-211\", \"000-110-212\", \"000-111-210\", \"000-111-211\", \"000-111-212\", \"000-112-210\", \"000-112-211\", \"000-112-212\", \"001-110-210\", \"001-110-211\", \"001-110-212\", \"001-111-210\", \"001-111-211\", \"001-111-212\", \"001-112-210\", \"001-112-211\", \"001-112-212\", \"002-110-210\", \"002-110-211\", \"002-110-212\", \"002-111-210\", \"002-111-211\", \"002-111-212\", \"002-112-210\", \"002-112-211\", \"002-112-212\"] \n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 1462233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CU7r.jpg?s=128&g=1", "display_name": "kanhaic", "link": "https://stackoverflow.com/users/1462233/kanhaic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1426112926, "accepted_answer_id": 28986707, "answer_count": 3, "score": -2, "last_activity_date": 1426081407, "creation_date": 1426076739, "last_edit_date": 1426081407, "question_id": 28986587, "link": "https://stackoverflow.com/questions/28986587/recursive-function-with-array", "closed_reason": "Needs details or clarity", "title": "Recursive function with array", "body": "<p>I have an array with the following example definition:</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>segments = [[\"000\", \"001\", \"002\"], [\"110\", \"111\", \"112\"], [\"210\", \"211\", \"212\"]]\n</code></pre>\n\n<p>This array can have any number of elements and each element will have an array.</p>\n\n<p>I am trying to generate the following output:</p>\n\n<pre><code>000-110-210\n000-110-211\n000-110-212\n000-111-210\n000-111-211\n000-111-212\n000-112-210\n000-112-211\n000-112-212\n001-110-211\n001-110-212\n001-111-210\n001-111-211\n001-111-212\n001-112-210\n001-112-211\n001-112-212\n.\n.\n.\n</code></pre>\n\n<p>I cannot figure out the logic to get this done.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "minitest"], "comments": [{"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426078231, "post_id": 28986208, "comment_id": 46222525, "body": "Could you add both code of your <code>create</code> action and your <code>Answer</code> model?"}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 3562152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002596580416/picture?type=large", "display_name": "cccvandermeer", "link": "https://stackoverflow.com/users/3562152/cccvandermeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1426166448, "creation_date": 1426166448, "answer_id": 29010940, "question_id": 28986208, "link": "https://stackoverflow.com/questions/28986208/rails-minitest-with-relations-not-working/29010940#29010940", "title": "Rails Minitest with relations not working", "body": "<p>I had to set the question before creating the answer like this:</p>\n\n<pre><code>test \"should be able to create question\" do\n    question = questions(:question1)\n    assert_difference(\"Question.count\") do\n        post :create, question: {title: question.title, body: question.body}\n    end\n    assert_redirected_to question_path(assigns(:question)), \"Not redirected to question\"\n    assert_equal \"Je vraag is ingedient!\", flash[:notice], \"Incorrect flash notice\"\nend\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 3562152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002596580416/picture?type=large", "display_name": "cccvandermeer", "link": "https://stackoverflow.com/users/3562152/cccvandermeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426166448, "creation_date": 1426075548, "question_id": 28986208, "link": "https://stackoverflow.com/questions/28986208/rails-minitest-with-relations-not-working", "title": "Rails Minitest with relations not working", "body": "<p>I am trying to create a test that checks if answers can be created. Answers can only exist under questions. Here is the code for my test:</p>\n\n<pre><code>test \"should be able to create answer\" do\n    answer = answers(:answer1)\n    assert_difference(\"Answer.count\") do\n        post :create, answer: {body: answer.body, question: answer.question}\n    end\n    assert_equal \"Je vraag is ingedient!\", flash[:notice], \"Incorrect flash notice\"\nend\n</code></pre>\n\n<p>asd</p>\n\n<p>In the controller there is a redirect to the parent question of the answer:</p>\n\n<pre><code>redirect_to @answer.question\n</code></pre>\n\n<p>But it redirects to nil because no question is created thus no parent:</p>\n\n<pre><code>ActionControllerError: Cannot redirect to nil!\n</code></pre>\n\n<p>How do i write a test for this situation???</p>\n\n<p>fixtures:\nanswers.yml</p>\n\n<pre><code>answer1:\n  body: Practice in in front of your parents\n  question: question1\n</code></pre>\n\n<p>questions.yml</p>\n\n<pre><code>question1:\n  title: What is the best way to prepare a presentations in another      language?\n  body: I have to pitch in my class.\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "email", "devise"], "comments": [{"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1426080120, "post_id": 28986149, "comment_id": 46223898, "body": "Do you actually see the html template printed out in your server log? Also, this is probably not related but if you are using Rails 4 you&#39;ll want to use <code>.deliver_now</code> instead of <code>.deliver</code> as the latter is deprecated and on its way out."}, {"owner": {"reputation": 63, "user_id": 4658247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48981016e31df8263fbba7d9793b3c3e?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/4658247/shane"}, "reply_to_user": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1426136684, "post_id": 28986149, "comment_id": 46251752, "body": "Thanks. yes I could see the html template.  I am using rails 4.1. deliver_now was introduced in 4.2 i think."}, {"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1426166769, "post_id": 28986149, "comment_id": 46267010, "body": "Have you logged in to Heroku to verify that the email is actually being sent once it gets to them? Check the &quot;Outbound&quot; tab. It sounds like the problem might be there since everything on your side looks good"}, {"owner": {"reputation": 63, "user_id": 4658247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48981016e31df8263fbba7d9793b3c3e?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/4658247/shane"}, "reply_to_user": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1426199076, "post_id": 28986149, "comment_id": 46286091, "body": "I am debugging this on my localhost, not heroku. Could I also check outbound somehow locally? Thanks"}, {"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1426254498, "post_id": 28986149, "comment_id": 46308648, "body": "ugh, sorry, no idea why I typed Heroku. I meant to say Mandrill"}, {"owner": {"reputation": 63, "user_id": 4658247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48981016e31df8263fbba7d9793b3c3e?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/4658247/shane"}, "reply_to_user": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1426308316, "post_id": 28986149, "comment_id": 46330295, "body": "thanks so much!! opened mandrill outbound and figured it out why. my mail server domain should be .com.au, not .com."}, {"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1426337600, "post_id": 28986149, "comment_id": 46336478, "body": "Awesome! you&#39;re welcome :)"}], "owner": {"reputation": 63, "user_id": 4658247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48981016e31df8263fbba7d9793b3c3e?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/4658247/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1426075371, "creation_date": 1426075371, "question_id": 28986149, "link": "https://stackoverflow.com/questions/28986149/another-rails-mailer-not-working-issue", "title": "Another rails mailer not working issue", "body": "<p>First in my project, I can receive the registration confirmation email sent by devise gem and mandrill service. So I assume my email config settings are correct. However, my own <code>send_mail</code> function just cannot send email successfully.</p>\n\n<p>My mailer settings:</p>\n\n<pre><code>  config.action_mailer.smtp_settings = {\n    address: \"smtp.mandrillapp.com\",\n    port: 587,\n    domain: Rails.application.secrets.domain_name,\n    authentication: \"plain\",\n    enable_starttls_auto: true,\n    user_name: Rails.application.secrets.email_provider_username,\n    password: Rails.application.secrets.email_provider_password\n  }\n  # ActionMailer Config\n  config.action_mailer.default_url_options = { :host =&gt; 'localhost:3000' }\n\n  config.action_controller.asset_host = 'localhost:3000'\n  config.action_mailer.asset_host = 'http://localhost:3000'\n\n  config.action_mailer.delivery_method = :smtp\n  config.action_mailer.raise_delivery_errors = true\n  # Send email in development mode?\n  config.action_mailer.perform_deliveries = true\n</code></pre>\n\n<p>Mailer Class:</p>\n\n<pre><code>class BidMailer &lt; ActionMailer::Base\n  default from: \"service@xxx.com\"\n\n  def send_mail(bid)\n    @bid = bid\n    mail(to: 'xxxxx@gmail.com', subject: 'Bid Accepted', reply_to: 'service@xxx.com')\n  end\nend\n</code></pre>\n\n<p>In the controller I simply call <code>BidMailer.send_mail(bid).deliver</code>. I also have the html file for in the view for the email body.</p>\n\n<p>I can see this in my server console log:</p>\n\n<pre><code>Sent mail to xxx@gmail.com (24.0ms)\nDate: Wed, 11 Mar 2015 22:39:45 +1100\nFrom: service@xxx.com\nReply-To: service@xxx.com\nTo: xxx@gmail.com\nMessage-ID: &lt;550029815f07_782a3fec29fa23c8413c@Shanes-MacBook-Pro.local.mail&gt;\nSubject: Bid Accepted\nMime-Version: 1.0\nContent-Type: text/html;\n charset=UTF-8\nContent-Transfer-Encoding: 7bit\n</code></pre>\n\n<p>And also I can see similar email log when <code>devise</code> sends out registration confirm email. </p>\n\n<p>But I totally dont get why I cannot get any email sent by my <code>send_mail</code> function?</p>\n\n<p>Anyone could give some help? Thanks heaps!</p>\n"}, {"tags": ["php", "ruby", "symfony", "sass", "compass"], "comments": [{"owner": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 0, "creation_date": 1426076062, "post_id": 28986051, "comment_id": 46221144, "body": "Did you try searching for the error at all?  Possible duplicate: <a href=\"http://stackoverflow.com/questions/19419011/compass-you-must-compile-individual-stylesheets-from-the-project-directory\" title=\"compass you must compile individual stylesheets from the project directory\">stackoverflow.com/questions/19419011/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "edited": false, "score": 0, "creation_date": 1433860050, "post_id": 29001401, "comment_id": 49526064, "body": "I had to install the full symfony dev stack on a windows environment and it worked fine just with editing kriswallsmith/assetic/src/Assetic/Filter/CompassFilter.php as you&#39;ve suggested (no need of changing the yuicompressor version). Thanks for sharing this!"}, {"owner": {"reputation": 4338, "user_id": 741949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HxEYn.jpg?s=128&g=1", "display_name": "ioleo", "link": "https://stackoverflow.com/users/741949/ioleo"}, "edited": false, "score": 0, "creation_date": 1453899518, "post_id": 29001401, "comment_id": 57800424, "body": "This works, but it would be great if we could configure these paths somewhere (editing vendors code sucks...)"}], "tags": [], "owner": {"reputation": 311, "user_id": 4029115, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-dpofN_RMzyg/AAAAAAAAAAI/AAAAAAAAABI/xcioGvq3q54/photo.jpg?sz=128", "display_name": "Devatim", "link": "https://stackoverflow.com/users/4029115/devatim"}, "is_accepted": false, "score": 8, "last_activity_date": 1426131166, "creation_date": 1426131166, "answer_id": 29001401, "question_id": 28986051, "link": "https://stackoverflow.com/questions/28986051/how-do-i-set-the-compass-in-symfony2-on-windows/29001401#29001401", "title": "How do I set the compass in Symfony2 on Windows?", "body": "<p>Edit: kriswallsmith/assetic/src/Assetic/Filter/CompassFilter.php</p>\n\n<p>around 312 line</p>\n\n<pre><code>$pb-&gt;add('--sass-dir')-&gt;add('')-&gt;add('--css-dir')-&gt;add('');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$pb-&gt;add('--sass-dir')-&gt;add($tempDir)-&gt;add('--css-dir')-&gt;add($tempDir);\n</code></pre>\n\n<p>and yuicompressor-2.4.8.jar change to yuicompressor-2.4.7.jar.</p>\n\n<pre><code># Assetic Configuration\nassetic:\n    debug:          \"%kernel.debug%\"\n    use_controller: false\n    write_to:       %kernel.root_dir%/../../html/\n    #bundles:        [ ]\n    java: C:\\Program Files (x86)\\Java\\jre1.8.0_31\\bin\\java.exe\n    ruby: C:\\Ruby\\bin\\ruby.exe\n    filters:\n        cssrewrite  : ~\n        sass        :\n            bin: C:\\Ruby\\bin\\sass\n        compass     :\n            bin: C:\\Ruby\\bin\\compass\n        yui_js:\n            jar: \"%kernel.root_dir%/Resources/java/yuicompressor-2.4.7.jar\"\n        yui_css:\n            jar: \"%kernel.root_dir%/Resources/java/yuicompressor-2.4.7.jar\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62, "user_id": 1512255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ce6fad3f9501e0d645f3c3c270ef002?s=128&d=identicon&r=PG", "display_name": "gmuehl", "link": "https://stackoverflow.com/users/1512255/gmuehl"}, "is_accepted": false, "score": 0, "last_activity_date": 1485182166, "creation_date": 1485182166, "answer_id": 41808812, "question_id": 28986051, "link": "https://stackoverflow.com/questions/28986051/how-do-i-set-the-compass-in-symfony2-on-windows/41808812#41808812", "title": "How do I set the compass in Symfony2 on Windows?", "body": "<p>This worked for me when doing an assetic:dump - though, when opening the Site in the Dev-Server (Windows) i've still got this error - even after cleaning the Cache. I patched the CompassFilter.php to keep the Temp-Files. Which leads to the fact that both files were created correctly, but there was no compiled CSS. Pasting the whole command to a Shell created the CSS. So the Only Reason this does not work must be a Problem with User Rights or the Environment Variables.</p>\n\n<p>A closer look at FilterCompass.php Line 341 - 345 revealed a strange Patch setting the HOME-Directory to a Windows Temp-Dir. I removed the whole block</p>\n\n<pre><code>if ($this-&gt;homeEnv) {\n    // it's not really usefull but... https://github.com/chriseppstein/compass/issues/376\n    $pb-&gt;setEnv('HOME', FilesystemUtils::getTemporaryDirectory());\n    $this-&gt;mergeEnv($pb);\n}\n</code></pre>\n\n<p>and everything worked fine.</p>\n"}], "owner": {"reputation": 311, "user_id": 4029115, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-dpofN_RMzyg/AAAAAAAAAAI/AAAAAAAAABI/xcioGvq3q54/photo.jpg?sz=128", "display_name": "Devatim", "link": "https://stackoverflow.com/users/4029115/devatim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1485182166, "creation_date": 1426075050, "last_edit_date": 1426075935, "question_id": 28986051, "link": "https://stackoverflow.com/questions/28986051/how-do-i-set-the-compass-in-symfony2-on-windows", "title": "How do I set the compass in Symfony2 on Windows?", "body": "<p>I always use a Linux OS, but I need to check the operation under Windows for others.  I have set up a xampp package and a symfony2 framework.</p>\n\n<p><strong><em>config.yml:</em></strong></p>\n\n<pre><code># Assetic Configuration\nassetic:\n    debug:          \"%kernel.debug%\"\n    use_controller: false\n    write_to:       %kernel.root_dir%/../../html/\n    #bundles:        [ ]\n    #java: /usr/bin/java\n    filters:\n        cssrewrite  : ~\n        sass        :\n            bin: \"C:\\Ruby\\bin\\sass\"\n        compass     :\n            bin: \"C:\\Ruby\\bin\\compass\"\n        yui_css:\n            jar: \"%kernel.root_dir%/Resources/java/yuicompressor-2.4.8.jar\"\n        yui_js:\n            jar: \"%kernel.root_dir%/Resources/java/yuicompressor-2.4.8.jar\"\n        closure:\n            jar: \"%kernel.root_dir%/Resources/java/compiler.jar\"\n</code></pre>\n\n<p><strong><em>error message:</em></strong></p>\n\n<pre><code>[exception] 500 | Internal Server Error | Assetic\\Exception\\FilterException\n[message] An error occurred while running:\n\"C:\\Ruby\\bin\\ruby.EXE\" \"C:\\Ruby\\bin\\compass\" \"compile\" \"C:\\Users\\user\\AppData\\Local\\Temp\" \"--boring\" \"--config\" \"C:\\Users\\user\\AppData\\Local\\Temp\\ass1047.tmp\" \"--sass-dir\" \"\" \"--css-dir\" \"\" \"C:/Users/user/AppData/Local/Temp/ass1048.tmp.sass\"\n\nError Output:\nIndividual stylesheets must be in the sass directory.\n</code></pre>\n\n<p>I couldn't understand the \"Individual stylesheets must be in the sass directory.\" error.</p>\n\n<p>How do I set the compass in Symfony2 on windows?</p>\n\n<p>Version information:</p>\n\n<ul>\n<li>Windows : 7</li>\n<li>Ruby : 2.1.5  </li>\n<li>Sass : 3.4.10  </li>\n<li>Compass : 1.0.3</li>\n</ul>\n"}, {"tags": ["ruby", "game-physics", "libgosu"], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 2895291, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7226366b61afec813362d5cf3b8b427f?s=128&d=identicon&r=PG&f=1", "display_name": "Richardlonesteen", "link": "https://stackoverflow.com/users/2895291/richardlonesteen"}, "edited": false, "score": 0, "creation_date": 1426095089, "post_id": 28990219, "comment_id": 46235001, "body": "I need to increase @x for 10 seconds after I click Gosu::KbReturn (Move method). updated the code after your suggestions, but still don&#39;t know how to increment @x."}, {"owner": {"reputation": 6881, "user_id": 477047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Qh2bO.gif?s=128&g=1", "display_name": "David Unric", "link": "https://stackoverflow.com/users/477047/david-unric"}, "reply_to_user": {"reputation": 454, "user_id": 2895291, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7226366b61afec813362d5cf3b8b427f?s=128&d=identicon&r=PG&f=1", "display_name": "Richardlonesteen", "link": "https://stackoverflow.com/users/2895291/richardlonesteen"}, "edited": false, "score": 0, "creation_date": 1426100424, "post_id": 28990219, "comment_id": 46238417, "body": "@Richardlonesteen I&#39;ve completed the answer, hope it helps. I&#39;d suggest also check <code>@x</code> bounds in <code>update</code> method by screen dimensions as it can get out of limits during 10 secs timeout. See <code>Gosu.screen_width</code> and <code>Gosu.screen_height</code>."}], "tags": [], "owner": {"reputation": 6881, "user_id": 477047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Qh2bO.gif?s=128&g=1", "display_name": "David Unric", "link": "https://stackoverflow.com/users/477047/david-unric"}, "is_accepted": true, "score": 2, "last_activity_date": 1426099968, "last_edit_date": 1426099968, "creation_date": 1426086360, "answer_id": 28990219, "question_id": 28985900, "link": "https://stackoverflow.com/questions/28985900/ruby-gosu-how-to-start-new-time-on-click/28990219#28990219", "title": "Ruby Gosu how to start new time on click", "body": "<p>First you have the keyboard event handler in a wrong place. The <code>update</code> method serves only as a callback in update_interval period and you should definitely place it in <a href=\"http://www.libgosu.org/rdoc/Gosu/Window.html#button_down-instance_method\" rel=\"nofollow\"><code>button_down</code></a> instance method of Gosu::Window.</p>\n\n<p>Second, if you call move method to update game objects positions it is meaningless to do it in a loop. You should just update <code>@x</code> once per call.</p>\n\n<p>Third your use of <code>@time</code> instance variable in <code>move</code> method does not make any sense. If you need limit movement only after a some time has elapsed, you can just check timer exceeded specific increment, f.E. with integer modulo (with some tolerance): <code>if (Gosu.milliseconds % @increment) &lt; @epsilon then</code>.</p>\n\n<p><strong>Update:</strong> <em>update <code>@x</code> for 10 secs after Enter key pressed</em></p>\n\n<pre><code>class Game &lt; Gosu::Window\n  def initialize\n    \u2026\n    @trigger = false    # if trigger for delayed action was activated\n    @start_time = 0     # saved time when trigger was started\n  end\n\n  def update\n\u00a0   \u2026\n    if @trigger\n      if Gosu.milliseconds - @start_time &lt; 10_000\n        @x += 1           # update x-position for 10 seconds\n      else\n        @trigger = false  # disable trigger after timeout elapsed\n      end\n    end\n  end\n\n  def button_down(key)\n    case key\n    when Gosu::KbReturn\n      @start_time=Gosu.milliseconds   # store current elapsed time\n      @trigger=true                   # enable trigger\n    when Gosu::KbEscape\n      \u2026\n    end\n  end\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 790, "user_id": 722915, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/a14d1bca90d7ebeda50dca99aab381b9?s=128&d=identicon&r=PG", "display_name": "shevy", "link": "https://stackoverflow.com/users/722915/shevy"}, "edited": false, "score": 0, "creation_date": 1614095997, "post_id": 28993993, "comment_id": 117277331, "body": "Why is this incremented every game second?"}], "tags": [], "owner": {"reputation": 454, "user_id": 2895291, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7226366b61afec813362d5cf3b8b427f?s=128&d=identicon&r=PG&f=1", "display_name": "Richardlonesteen", "link": "https://stackoverflow.com/users/2895291/richardlonesteen"}, "is_accepted": false, "score": 0, "last_activity_date": 1426096619, "creation_date": 1426096619, "answer_id": 28993993, "question_id": 28985900, "link": "https://stackoverflow.com/questions/28985900/ruby-gosu-how-to-start-new-time-on-click/28993993#28993993", "title": "Ruby Gosu how to start new time on click", "body": "<p>added </p>\n\n<pre><code>def update\n    @x+=1 # in this method it increments every game second\nend \n\ndef move\n   @x = 0\n   while @x &gt; 0\n    do somemthing\n   end\nend\n</code></pre>\n\n<p>I simply didn't understand that update method is constantly looping</p>\n"}], "owner": {"reputation": 454, "user_id": 2895291, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7226366b61afec813362d5cf3b8b427f?s=128&d=identicon&r=PG&f=1", "display_name": "Richardlonesteen", "link": "https://stackoverflow.com/users/2895291/richardlonesteen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1240, "favorite_count": 1, "accepted_answer_id": 28990219, "answer_count": 2, "score": 1, "last_activity_date": 1426099968, "creation_date": 1426074663, "last_edit_date": 1426094955, "question_id": 28985900, "link": "https://stackoverflow.com/questions/28985900/ruby-gosu-how-to-start-new-time-on-click", "title": "Ruby Gosu how to start new time on click", "body": "<p>Im trying to simply move an image on click from the one side of the screen to another. But I can't quite figure out how to work with time. Basically I need to start moving a ball after a Gosu::KbReturn. </p>\n\n<p>Any help would be much appreaciated</p>\n\n<pre><code>require 'gosu'\n  def media_path(file)\n    File.join(File.dirname(File.dirname(\n       __FILE__)), 'media', file)\n  end\n    class Game &lt; Gosu::Window\n\n  def initialize\n    @width = 800\n    @height = 600\n    super @width,@height,false\n    @background = Gosu::Image.new(\n      self, media_path('background.png'), false)\n    @ball = Gosu::Image.new(\n      self, media_path('ball.png'), false)\n    @time = Gosu.milliseconds/1000\n    @x = 500\n    @y = 500\n    @buttons_down = 0\n    @text = Gosu::Font.new(self, Gosu::default_font_name, 20)\n  end\n\n  def update\n    @time = Gosu.milliseconds/1000\n  end\n\n  def draw\n    @background.draw(0,0,0)\n    @ball.draw(@x,@y,0)\n    @text.draw(@time, 450, 10, 1, 1.5, 1.5, Gosu::Color::RED)\n  end \n  def move\n    if ((Gosu.milliseconds/1000) % 2) &lt; 100 then @x+=5 end\n  end\n\n  def button_down(id)\n    move if id == Gosu::KbReturn\n    close if id ==Gosu::KbEscape\n    @buttons_down += 1\n  end\n  def button_up(id)\n    @buttons_down -= 1\n  end\nend\n\nGame.new.show\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 1471, "user_id": 1213904, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QKy0Q.jpg?s=128&g=1", "display_name": "user1213904", "link": "https://stackoverflow.com/users/1213904/user1213904"}, "edited": false, "score": 0, "creation_date": 1426076482, "post_id": 28985555, "comment_id": 46221410, "body": "i&#39;m getting the following error wit hthe uri.query_values:  undefined method `query_values=&#39; for #&lt;URI::HTTPS:0x007f2bbc1b83e0&gt;.  Does the URI class have this method?"}, {"owner": {"reputation": 416, "user_id": 3320112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1526737867635939/picture?type=large", "display_name": "Florian Eck", "link": "https://stackoverflow.com/users/3320112/florian-eck"}, "reply_to_user": {"reputation": 1471, "user_id": 1213904, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QKy0Q.jpg?s=128&g=1", "display_name": "user1213904", "link": "https://stackoverflow.com/users/1213904/user1213904"}, "edited": false, "score": 0, "creation_date": 1426076545, "post_id": 28985555, "comment_id": 46221447, "body": "my mistake, left over code from trrying, remove this line :-) it should be form_data = ... i corrected it above"}], "tags": [], "owner": {"reputation": 416, "user_id": 3320112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1526737867635939/picture?type=large", "display_name": "Florian Eck", "link": "https://stackoverflow.com/users/3320112/florian-eck"}, "is_accepted": true, "score": 1, "last_activity_date": 1426076572, "last_edit_date": 1495541185, "creation_date": 1426073616, "answer_id": 28985555, "question_id": 28985510, "link": "https://stackoverflow.com/questions/28985510/how-to-post-to-ssl-from-rails-controller/28985555#28985555", "title": "how to post to ssl from rails controller", "body": "<p>check this, the accepted answer could maybe solve your problem:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5786779/using-nethttp-get-for-an-https-url\">Using Net::HTTP.get for an https url</a></p>\n\n<p>also here are some informations about the error returned:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26514402/receiving-ssl-connect-returned-1-errno-0-state-sslv3-read-server-hello-a-sslv3\">Receiving &quot;SSL_connect returned=1 errno=0 state=SSLv3 read server hello A: sslv3 alert handshake failure&quot; with openshift nodejs app</a></p>\n\n<p>The errors seems to occur because your Net::HTTP instance use a SSL version (SSLv3) not supported by your server.</p>\n\n<p>Try setting the ssl_version to 'TLSv1'</p>\n\n<pre><code>uri = URI.parse('https://devcheckout.psigate.com/HTMLPost/HTMLMessenger')\n\nform_data = { 'StoreKey' =&gt; 'psigatecapturescard001010','CustomerRefNo' =&gt; 'Monday Evening Muay Thai Classes','UserID' =&gt; 'jsmith', 'SubTotal' =&gt; '34.00'}\n\n\nhttp = Net::HTTP.new(uri.host, uri.port)\nhttp.use_ssl = true\nhttp.ssl_version = :TLSv1\nhttp.verify_mode = OpenSSL::SSL::VERIFY_NONE # read into this\n@data = http.post(uri.request_uri, form_data.to_query)\n</code></pre>\n\n<p>tried it, works perfectly fine</p>\n"}, {"comments": [{"owner": {"reputation": 416, "user_id": 3320112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1526737867635939/picture?type=large", "display_name": "Florian Eck", "link": "https://stackoverflow.com/users/3320112/florian-eck"}, "edited": false, "score": 0, "creation_date": 1426076139, "post_id": 28986275, "comment_id": 46221189, "body": "produces &#39;NoMethodError: undefined method `use_ssl=&#39; for #&lt;Net::HTTP::Post POST&gt;&#39;, also does not solve the real issue: request uses SSLv3, which is old, instead TLSv1 should be used, as pointed out in my answer below"}], "tags": [], "owner": {"reputation": 1958, "user_id": 515991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/319b6176a2b56541cbf44182fd3987a1?s=128&d=identicon&r=PG&f=1", "display_name": "usmanali", "link": "https://stackoverflow.com/users/515991/usmanali"}, "is_accepted": false, "score": 1, "last_activity_date": 1426075779, "creation_date": 1426075779, "answer_id": 28986275, "question_id": 28985510, "link": "https://stackoverflow.com/questions/28985510/how-to-post-to-ssl-from-rails-controller/28986275#28986275", "title": "how to post to ssl from rails controller", "body": "<p>Maybe you could do something like this:</p>\n\n<pre><code>uri = URI('https://devcheckout.psigate.com/HTMLPost/HTMLMessenger')\nreq = Net::HTTP::Post.new(uri)\nreq.use_ssl = true if uri.scheme == 'https'\nreq.set_form_data(\n                  'StoreKey' =&gt; 'psigatecapturescard001010',\n                  'CustomerRefNo' =&gt; 'Monday Evening Muay Thai Classes',\n                  'UserID' =&gt; 'jsmith',\n                  'SubTotal' =&gt; '34.00'\n                  )\n\nres = Net::HTTP.start(uri.hostname, uri.port) do |http|\n  http.request(req)\nend\n</code></pre>\n"}], "owner": {"reputation": 1471, "user_id": 1213904, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QKy0Q.jpg?s=128&g=1", "display_name": "user1213904", "link": "https://stackoverflow.com/users/1213904/user1213904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 28985555, "answer_count": 2, "score": 0, "last_activity_date": 1426076572, "creation_date": 1426073466, "question_id": 28985510, "link": "https://stackoverflow.com/questions/28985510/how-to-post-to-ssl-from-rails-controller", "title": "how to post to ssl from rails controller", "body": "<p>Hi all i'm trying to post the following from a controller in rails, however I constantly get the following error: </p>\n\n<pre><code>SSL_connect returned=1 errno=0 state=unknown state: sslv3 alert handshake failur\n</code></pre>\n\n<p>am I doing something wrong?</p>\n\n<pre><code>uri = URI.parse('https://devcheckout.psigate.com/HTMLPost/HTMLMessenger')\n\nform_data = { 'StoreKey' =&gt; 'psigatecapturescard001010',\n             'CustomerRefNo' =&gt; 'Monday Evening Muay Thai Classes',\n             'UserID' =&gt; 'jsmith',\n             'SubTotal' =&gt; '34.00'\n            }\n\nresponse = Net::HTTP.post_form(uri, form_data)\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "oauth-2.0", "onedrive"], "answers": [{"comments": [{"owner": {"reputation": 764, "user_id": 3930758, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2d20d71ca93a31bf75a5fd36f302babe?s=128&d=identicon&r=PG&f=1", "display_name": "Balaji Radhakrishnan", "link": "https://stackoverflow.com/users/3930758/balaji-radhakrishnan"}, "edited": false, "score": 0, "creation_date": 1426076846, "post_id": 28986157, "comment_id": 46221631, "body": "I tried using the above code. but ruby considering <b>auth_url</b> as a file name and showing <b>No such file or directory</b> error."}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "reply_to_user": {"reputation": 764, "user_id": 3930758, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2d20d71ca93a31bf75a5fd36f302babe?s=128&d=identicon&r=PG&f=1", "display_name": "Balaji Radhakrishnan", "link": "https://stackoverflow.com/users/3930758/balaji-radhakrishnan"}, "edited": false, "score": 0, "creation_date": 1426079413, "post_id": 28986157, "comment_id": 46223349, "body": "Ah, i assumed &quot;open&quot; was a command for the command line.  I think your problem might be that you are loading loads of skydive stuff in your ruby runtime, and then you do a shell command with &quot;system&quot;.  The environment that the system command runs in is just your basic command line environment - it won&#39;t have all of the skydive stuff.  Shouldn&#39;t you be using some method of your oauth_client object instead of doing a system call?"}], "tags": [], "owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "is_accepted": false, "score": 1, "last_activity_date": 1426075398, "creation_date": 1426075398, "answer_id": 28986157, "question_id": 28985500, "link": "https://stackoverflow.com/questions/28985500/getting-response-by-opening-a-browser-in-ruby/28986157#28986157", "title": "Getting response by opening a browser in ruby?", "body": "<p>It's because you're calling the command line (ie shell) with <code>system</code>:  <code>system</code> doesn't return the command line results, it just returns true or false.  Have a look at </p>\n\n<p><a href=\"http://tech.natemurray.com/2007/03/ruby-shell-commands.html\" rel=\"nofollow\">http://tech.natemurray.com/2007/03/ruby-shell-commands.html</a></p>\n\n<p>I usually use backticks, eg </p>\n\n<pre><code>response = `open #{auth_url}` \n</code></pre>\n"}], "owner": {"reputation": 764, "user_id": 3930758, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2d20d71ca93a31bf75a5fd36f302babe?s=128&d=identicon&r=PG&f=1", "display_name": "Balaji Radhakrishnan", "link": "https://stackoverflow.com/users/3930758/balaji-radhakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426147407, "creation_date": 1426073443, "last_edit_date": 1426147407, "question_id": 28985500, "link": "https://stackoverflow.com/questions/28985500/getting-response-by-opening-a-browser-in-ruby", "title": "Getting response by opening a browser in ruby?", "body": "<p>I am using ruby -v 2.1.5  .</p>\n\n<p>I am trying to use the onedrive API to authorize my user(oAuth2) in my web app.</p>\n\n<p>I am following the steps specified in <a href=\"https://github.com/ronyv89/skydrive/blob/master/README.md\" rel=\"nofollow\">https://github.com/ronyv89/skydrive/blob/master/README.md</a></p>\n\n<p>I got the auth_url by using the following steps,</p>\n\n<pre><code>require 'rubygems'\nrequire 'skydrive'\n\nclass LivePartnerApp \n\nclient_id = \"MY_CLIENT_ID\"\nclient_secret = \"MY_CLIENT_SECRET\"\ncall_back_url = \"http://sample.samplewebsite.com/\"\n\n\noauth_client = Skydrive::Oauth::Client.new(client_id, client_secret, call_back_url, \"wl.skydrive_update,wl.offline_access\")\nputs \"oauth_client --- #{oauth_client.inspect}\"\nauth_url = oauth_client.authorize_url\nputs \"auth_url - #{auth_url.inspect}\"\n\nresponse = system(\"open\", \"#{auth_url}\")\n\nputs \"response #{response.inspect}\"\nend\n</code></pre>\n\n<p>when I try to run this file. I am getting proper response for oauth_client and auth_url.</p>\n\n<p>also,</p>\n\n<pre><code> response = system(\"open\", \"#{auth_url}\")\n</code></pre>\n\n<p>properly opening my browser and redirecting to my redirect_url.</p>\n\n<p>But my problem is,\n  After this redirection step I was bound to get a <strong>code</strong> using which I should obtain a <strong>access token</strong>.</p>\n\n<p>But the <strong>response</strong> variable above is returning only either <strong>true</strong> or <strong>false</strong> depending on the success of the redirection.</p>\n\n<p>Can anybody suggest a way to get this code programmatically in ruby so that I can use it to obtain access token?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ruby", "windows"], "comments": [{"owner": {"reputation": 2797, "user_id": 2413043, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VFHPk.jpg?s=128&g=1", "display_name": "amenthes", "link": "https://stackoverflow.com/users/2413043/amenthes"}, "edited": false, "score": 0, "creation_date": 1428427829, "post_id": 28985481, "comment_id": 47153842, "body": "In such cases, it would have been a good idea to raise this problem on their bug tracker. That way, this issue might have a chance to be fixed. I took the liberty of adding the problem: <a href=\"https://github.com/copiousfreetime/hitimes/issues/39\" rel=\"nofollow noreferrer\">github.com/copiousfreetime/hitimes/issues/39</a>"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 2336705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff2d90ae70bbbb5d4865d8412159f85?s=128&d=identicon&r=PG", "display_name": "copiousfreetime", "link": "https://stackoverflow.com/users/2336705/copiousfreetime"}, "edited": false, "score": 2, "creation_date": 1428433651, "post_id": 28998745, "comment_id": 47157205, "body": "This will only work if you have the windows ruby DevKit installed. Hitimes uses a C extension and requires a compiler to build for source."}, {"owner": {"reputation": 14135, "user_id": 27211, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ae536c1c0bc292aaca19574b58587ff1?s=128&d=identicon&r=PG", "display_name": "kiewic", "link": "https://stackoverflow.com/users/27211/kiewic"}, "edited": false, "score": 4, "creation_date": 1433002334, "post_id": 28998745, "comment_id": 49169003, "body": "For me it worked with <code>gem ins hitimes -v 1.2.2 --platform ruby</code>"}, {"owner": {"reputation": 121, "user_id": 2336705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff2d90ae70bbbb5d4865d8412159f85?s=128&d=identicon&r=PG", "display_name": "copiousfreetime", "link": "https://stackoverflow.com/users/2336705/copiousfreetime"}, "edited": false, "score": 0, "creation_date": 1442132365, "post_id": 28998745, "comment_id": 52951657, "body": "I&#39;ve released version 1.2.3 of hitimes which includes a fatbinary version for windows so the devkit is not longer necessary for hitimes installation on windows."}], "tags": [], "owner": {"reputation": 4288, "user_id": 527152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c784b2e1c3fb28d8bad8f50ca0282b4?s=128&d=identicon&r=PG", "display_name": "Azolo", "link": "https://stackoverflow.com/users/527152/azolo"}, "is_accepted": true, "score": 21, "last_activity_date": 1442246706, "last_edit_date": 1495535552, "creation_date": 1426113593, "answer_id": 28998745, "question_id": 28985481, "link": "https://stackoverflow.com/questions/28985481/hitimes-require-error-when-running-jekyll-serve-on-windows-8-1/28998745#28998745", "title": "hitimes require error when running jekyll serve on windows 8.1", "body": "<p>It probably has to do with some breaking ABI changes in Ruby 2.2 and <code>hitimes-1.2.2-x86-mingw32</code> doesn't include the fat binary for it Ruby 2.2.</p>\n\n<p>The fix is to just uninstall and re-install it and use <code>--platform ruby</code> when installing.</p>\n\n<p>So do this:</p>\n\n<pre><code>gem uni hitimes\n\n**Remove ALL versions**\n\ngem ins hitimes -v 1.2.1 --platform ruby\n</code></pre>\n\n<p>That will recompile <code>hitimes</code> that is compatible with Ruby 2.2.</p>\n\n<p><strong>Edit</strong>: As <a href=\"https://stackoverflow.com/questions/28985481/hitimes-require-error-when-running-jekyll-serve-on-windows-8-1/28998745?noredirect=1#comment47157205_28998745\"><em>copiousfreetime</em> mentioned in the comments</a>, the <a href=\"https://github.com/oneclick/rubyinstaller/wiki/Development-Kit#2-download-files\" rel=\"nofollow noreferrer\">RubyInstaller DevKit</a> is required to compile binary <em>rubygems</em></p>\n\n<p>Versions <code>1.2.3</code> and above of <code>hitimes</code> should contain fat binaries for <code>Ruby 2.2.X</code> releases. <em><a href=\"https://stackoverflow.com/questions/28985481/hitimes-require-error-when-running-jekyll-serve-on-windows-8-1/28998745?noredirect=1#comment52951657_28998745\">Thanks copiousfreetime</a></em> </p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 2336705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff2d90ae70bbbb5d4865d8412159f85?s=128&d=identicon&r=PG", "display_name": "copiousfreetime", "link": "https://stackoverflow.com/users/2336705/copiousfreetime"}, "is_accepted": false, "score": 2, "last_activity_date": 1442132909, "last_edit_date": 1442132909, "creation_date": 1428442388, "answer_id": 29501712, "question_id": 28985481, "link": "https://stackoverflow.com/questions/28985481/hitimes-require-error-when-running-jekyll-serve-on-windows-8-1/29501712#29501712", "title": "hitimes require error when running jekyll serve on windows 8.1", "body": "<p><strong>UPDATE (2015-09-13)</strong> Hitimes version 1.2.3 is released which solves this issue.</p>\n\n<p>This is somewhat expected, since hitimes v1.2.2 was released in January, and the first Ruby 2.2 release for Windows was release 1 month ago on March 6. I haven't had a chance to build hitimes for Windows with Ruby 2.2 fat binaries yet.  I have opened up an issue for hitimes to release a new fat binary of hitimes that includes support for Ruby 2.2 -- <a href=\"https://github.com/copiousfreetime/hitimes/issues/40\" rel=\"nofollow\">https://github.com/copiousfreetime/hitimes/issues/40</a></p>\n"}], "owner": {"reputation": 4073, "user_id": 222018, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4dea71e9df9a75bddd0c6aac8095065b?s=128&d=identicon&r=PG", "display_name": "Arcath", "link": "https://stackoverflow.com/users/222018/arcath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2425, "favorite_count": 0, "accepted_answer_id": 28998745, "answer_count": 2, "score": 8, "last_activity_date": 1442246706, "creation_date": 1426073388, "question_id": 28985481, "link": "https://stackoverflow.com/questions/28985481/hitimes-require-error-when-running-jekyll-serve-on-windows-8-1", "title": "hitimes require error when running jekyll serve on windows 8.1", "body": "<p>I'm trying to run jekyll on my local machine running Windows 8.1, I've got Ruby installed and working but every time I run the <code>jekyll serve</code> command I get the error:</p>\n\n<pre><code>C:/Ruby22/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- hitimes/hitimes (LoadError)\n</code></pre>\n\n<p>I've tried installing hitimes manually via <code>gem install hitimes</code> and it works fine, if I open up <code>irb</code> i can <code>require 'hitimes'</code> no problem it just doesn't seem to work for jekyll.</p>\n\n<p>My <code>gem environment</code> is:</p>\n\n<pre><code>RubyGems Environment:\n  - RUBYGEMS VERSION: 2.4.5\n  - RUBY VERSION: 2.2.1 (2015-02-26 patchlevel 85) [i386-mingw32]\n  - INSTALLATION DIRECTORY: C:/Ruby22/lib/ruby/gems/2.2.0\n  - RUBY EXECUTABLE: C:/Ruby22/bin/ruby.exe\n  - EXECUTABLE DIRECTORY: C:/Ruby22/bin\n  - SPEC CACHE DIRECTORY: C:/Users/adam.laycock/.gem/specs\n  - SYSTEM CONFIGURATION DIRECTORY: C:/ProgramData\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86-mingw32\n  - GEM PATHS:\n    - C:/Ruby22/lib/ruby/gems/2.2.0\n    - C:/Users/adam.laycock/.gem/ruby/2.2.0\n  - GEM CONFIGURATION:\n    - :update_sources =&gt; true\n    - :verbose =&gt; true\n    - :backtrace =&gt; false\n    - :bulk_threshold =&gt; 1000\n  - REMOTE SOURCES:\n    - https://rubygems.org/\n  - SHELL PATH:\n    - C:\\RubyDevKit\\bin\n    - C:\\RubyDevKit\\mingw\\bin\n    - C:\\windows\\system32\n    - C:\\windows\n    - C:\\windows\\System32\\Wbem\n    - C:\\windows\\System32\\WindowsPowerShell\\v1.0\\\n    - C:\\Program Files\\nodejs\\\n    - C:\\Users\\adam.laycock\\AppData\\Roaming\\npm\n    - C:\\Users\\adam.laycock\\AppData\\Local\\GitHub\\PortableGit_c2ba306e536fdf878271f7fe636a147ff37326ad\\cmd\n    - C:\\Users\\adam.laycock\\AppData\\Local\\GitHub\\PortableGit_c2ba306e536fdf878271f7fe636a147ff37326ad\\bin\n    - C:\\Users\\adam.laycock\\AppData\\Local\\GitHub\\PortableGit_c2ba306e536fdf878271f7fe636a147ff37326ad\\mingw\\bin\n    - C:\\Users\\adam.laycock\\AppData\\Local\\Apps\\2.0\\O3WGNDW8.VMM\\C2M3657K.JNR\\gith..tion_317444273a93ac29_0002.000a_7c768ac46c12be54\n    - C:\\windows\\Microsoft.NET\\Framework\\v4.0.30319\n    - C:\\Ruby22\\Bin\n</code></pre>\n\n<p><code>jekyll -v</code> returns 2.5.3</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "activemodel"], "comments": [{"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426073548, "post_id": 28985474, "comment_id": 46219542, "body": "You&#39;ve mentioned the problem in your tests - could you provide the code that causes the error?"}, {"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "reply_to_user": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426075022, "post_id": 28985474, "comment_id": 46220520, "body": "apologies, i worded it incorrectly..When i run rspec no tests will run because of that error"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426080769, "post_id": 28985474, "comment_id": 46224341, "body": "Ok, now I see where the problem is coming from. Could you add code of your controller, where the unexpected message is generated for you?"}, {"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "reply_to_user": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426081004, "post_id": 28985474, "comment_id": 46224517, "body": "do i need to require/load/include the module within the controller ?"}, {"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "reply_to_user": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426081123, "post_id": 28985474, "comment_id": 46224601, "body": "Im getting <code>load_missing_constant&#39;: Unable to autoload constant ActiveModel::Errors, expected &#47;home&#47;richardlewis&#47;Rails&#47;lnf_api&#47;lib&#47;active_model&#47;errors.rb to define it (LoadError)</code>"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426081232, "post_id": 28985474, "comment_id": 46224672, "body": "Well, I don&#39;t think you should overwrite <code>ActiveModel::Error</code> at all. I&#39;ll try help you to figure out what is wrong in your controller (that generates improper error) but you have to update your question, and add code of the problematic action."}, {"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "reply_to_user": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426081299, "post_id": 28985474, "comment_id": 46224720, "body": "ok i will add the controller code now"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426082187, "post_id": 28985474, "comment_id": 46225443, "body": "Could you add code of your <code>User</code> model as well?"}], "answers": [{"comments": [{"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "edited": false, "score": 0, "creation_date": 1426082727, "post_id": 28988449, "comment_id": 46225900, "body": "yes this would be a much better way forward, as opposed to override existing behaviour..Im getting syntax errors a sec but its two spaces per new line isnt it?"}], "tags": [], "owner": {"reputation": 806, "user_id": 2057928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d54eb9311d61feb3e8ba4b597ea71?s=128&d=identicon&r=PG", "display_name": "RPinel", "link": "https://stackoverflow.com/users/2057928/rpinel"}, "is_accepted": true, "score": 6, "last_activity_date": 1426081995, "creation_date": 1426081995, "answer_id": 28988449, "question_id": 28985474, "link": "https://stackoverflow.com/questions/28985474/customise-activemodel-full-messages/28988449#28988449", "title": "Customise ActiveModel full_messages", "body": "<p><code>full_message</code> expects the two arguments <code>attribute</code> and <code>message</code>.</p>\n\n<p>Update: Avoid monkey patching and edit your locale file to have something like:</p>\n\n<pre><code>en:\n  errors:\n    format: \"%{message}\"\n</code></pre>\n"}], "owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 0, "accepted_answer_id": 28988449, "answer_count": 1, "score": 2, "last_activity_date": 1426081995, "creation_date": 1426073371, "last_edit_date": 1426081413, "question_id": 28985474, "link": "https://stackoverflow.com/questions/28985474/customise-activemodel-full-messages", "title": "Customise ActiveModel full_messages", "body": "<p>I would like to remove the attribute from my custom validation messages and just display the message, so instead of </p>\n\n<pre><code>School Please Provide Your School Name\n</code></pre>\n\n<p>I want to return</p>\n\n<pre><code>Please Provide Your School Name\n</code></pre>\n\n<p>As set in my model here</p>\n\n<pre><code>validates :school, presence: { message: 'Please Provide Your School Name' }\n</code></pre>\n\n<p>The message gets returned as JSON response.</p>\n\n<p>Looking at the full_messages method</p>\n\n<pre><code># File activemodel/lib/active_model/errors.rb, line 348\ndef full_messages\n  map { |attribute, message| full_message(attribute, message) }\nend\n</code></pre>\n\n<p>Could I override this with</p>\n\n<pre><code># File activemodel/lib/active_model/errors.rb, line 348\ndef full_messages\n  map { |attribute, message| full_message(message) }\nend\n</code></pre>\n\n<p>I have tried this</p>\n\n<pre><code>module ActiveModel\n  class Errors\n    def full_messages\n      map { |attribute, message| full_message(message) }\n    end\n  end\nend\n</code></pre>\n\n<p>Located at <code>/lib/active_model/errors.rb</code></p>\n\n<p>but when i try to run my tests (rspec) I get the error</p>\n\n<pre><code>/home/richardlewis/.rvm/gems/ruby-2.2.0@lnf_api/gems/activemodel-4.2.0/lib/active_model/validations.rb:297:in `initialize': wrong number of arguments (1 for 0) (ArgumentError)\n</code></pre>\n\n<p>I load the file in my application.rb</p>\n\n<pre><code>config.autoload_paths += %W(#{config.root}/lib)\n</code></pre>\n\n<p>How can i solve this please?</p>\n\n<p>Thanks</p>\n\n<p>EDIT</p>\n\n<p>Controller</p>\n\n<pre><code>class RegistrationsController &lt; Devise::RegistrationsController\nskip_before_action :verify_authenticity_token\nrespond_to :json\n\ndef create\n @user = User.new(registration_params)\n   if @user.valid?\n     @user.save\n     render json: { message: I18n.t(\"devise.registrations.signed_up_but_unconfirmed\") }, status: 201\n   else\n     render json: { message: @user.errors.full_messages }, status: :unprocessable_entity\n   end\nend\n\nprotected\ndef registration_params\n  json_params = ActionController::Parameters.new(JSON.parse(request.body.read))\n  json_params.require(:user).permit(:username, :school, :email, :password, :password_confirmation)\n end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 0, "creation_date": 1426160066, "post_id": 28985328, "comment_id": 46262526, "body": "Exactly the same issue here!"}], "answers": [{"comments": [{"owner": {"reputation": 2538, "user_id": 988591, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/248624b122eb5cc3748ee7131fc0b3f4?s=128&d=identicon&r=PG&f=1", "display_name": "jj_", "link": "https://stackoverflow.com/users/988591/jj"}, "edited": false, "score": 0, "creation_date": 1429043479, "post_id": 29080247, "comment_id": 47415870, "body": "the problem is that previous version of rubyinstaller contained a little bug which caused seg fault so many switched to rubyinstaller 2.2 and are now facing this other problem.... :\\"}], "tags": [], "owner": {"reputation": 1086, "user_id": 1484264, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b618e0f5fe038679b5938a2123cc9304?s=128&d=identicon&r=PG", "display_name": "spotter", "link": "https://stackoverflow.com/users/1484264/spotter"}, "is_accepted": true, "score": 5, "last_activity_date": 1426518503, "creation_date": 1426518503, "answer_id": 29080247, "question_id": 28985328, "link": "https://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri/29080247#29080247", "title": "RubyInstaller 2.2.1 and Rails - Rake cannot load Nokogiri", "body": "<p>Nokogiri doesn't exist yet for Ruby 2.2 on windows.</p>\n\n<p><a href=\"https://github.com/sparklemotion/nokogiri/issues/1256\">https://github.com/sparklemotion/nokogiri/issues/1256</a></p>\n\n<p>Essentially, nokogiri is provided preocompiled for specific ruby versions, and 2.2 isn't one of those versions yet.  compiling nokogiri for windows is overly complicated.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2880020"}, "edited": false, "score": 1, "creation_date": 1429357551, "post_id": 29196632, "comment_id": 47568276, "body": "I think downgrading to Ruby 2.1 or developing on a Linux system is the best solution for now. I&#39;m stuck with this error while trying to learn Rails. It&#39;s quite annoying as it is time consuming. It makes me wonder if Rails is really a stable framework at all. Anyway, were you able to repeat your solution on different Windows 64bits systems ?"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 0, "creation_date": 1429454678, "post_id": 29196632, "comment_id": 47595907, "body": "Hey man, I haven&#39;t tried on different systems. I had to get some other things (MingW64 compilers etc) and just went at it. I didn&#39;t see why we couldn&#39;t have Nokogiri install if it uses the same dependencies. My skype is &quot;gorkite&quot; - if you add me, I&#39;ll see if we can get it working for you"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 1, "creation_date": 1429454727, "post_id": 29196632, "comment_id": 47595922, "body": "Rails <i>is</i> a stable framework, this is a <i>Ruby</i> problem, and Windows is famously not friendly for development. We do a lot of gfx, so I love to have the accessibility, thus making it vital to have it working on Win."}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 11, "last_activity_date": 1427041211, "last_edit_date": 1495540785, "creation_date": 1427040463, "answer_id": 29196632, "question_id": 28985328, "link": "https://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri/29196632#29196632", "title": "RubyInstaller 2.2.1 and Rails - Rake cannot load Nokogiri", "body": "<p>I think I got it working on my system:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8AEIG.png\" alt=\"enter image description here\"></p>\n\n<p>I don't know what was done to get this working, but I'll share what I did:</p>\n\n<ol>\n<li><p>The problem for Windows with <code>Ruby 2.2+</code> &amp; <code>Nokogiri</code> is that <strong>the gem doesn't compile</strong>. Nokogiri requires <code>libXML</code>, <code>libxslt</code> &amp;  <code>libiconv</code> in order for it to work. These are nominally compiled at <code>gem install</code>, but for whatever reason, this does not occur in <code>Ruby 2.2+</code>.</p></li>\n<li><p>Therefore, in order to install the gem (this is exactly the same situation with <code>mysql2</code> and <code>rmagick</code>), you need the system dependencies (mentioned above).</p></li>\n<li><p>From <code>Ruby 2.2+</code>, it seems that gems will \"install\" even if they don't have their dependencies on the system (as opposed to refusing the install by not building native extensions in previous versions). The new runtime errors which appear include <a href=\"https://stackoverflow.com/questions/28925628/ruby-on-rails-cannot-load-such-file-mysql2-2-2-mysql2-loaderror\"><code>cannot load such file -- mysql2/2.2/mysql2 (LoadError)</code></a> and the corresponding one for <code>nokogiri</code> (<code>cannot load such file -- nokogiri/nokogiri</code>).</p></li>\n<li><p>With this in mind, you have to appreciate how the gems are installed &amp; work. A good example is the <code>mysql2</code> gem - to install it, you need to <a href=\"https://medium.com/@frontlineutils/how-to-create-a-killer-brand-899b91b26dcf\" rel=\"nofollow noreferrer\">download the MYSQL C-Connector plugin</a> and then link to the dependency with the following code: <code>gem install mysql2 --platform=ruby\u200a--\u200a'--with-mysql-dir=\"C:\\mysql-connector-path\"'</code></p></li>\n<li><p>With <code>Nokogiri</code>, you need to have <code>libxml</code>, <code>libiconv</code> and <code>libxslt</code> on your system. I learnt that from <a href=\"http://www.mlte.de/ruby-win7\" rel=\"nofollow noreferrer\">this post</a>:</p></li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/dvJ9x.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"6\">\n<li><p>The problem arises here.\nI am not 100% sure what I did here to get this working (even temporarily). I know that I installed the Nokogiri gem, and then set about compiling the gem using <code>ruby extconf.rb</code> (which is what the gem does anyway). Considering this what I feel worked, I'll explain how this was performed.</p></li>\n<li><p>The gem will typically download the libraries through install. It keeps these in the <code>ext/tmp/ports</code> folder. For my system, the download of <code>libiconv</code> was what prevented the install from completing (<a href=\"https://github.com/sparklemotion/nokogiri/issues/1190\" rel=\"nofollow noreferrer\">error about <code>CPPFLAGS</code></a>). With this in mind, I figured that if the gem installed, and if it was trying to build, it would be prudent to get the dependencies installed.</p></li>\n<li><p>Thus, I worked on the <code>ruby ext/extconf.rb</code> process using the <code>--use-system-libraries</code> switch:</p></li>\n</ol>\n\n<p><code>\"...\\nokogiri&gt;ruby extconf.rb --platform=ruby -N --use-system-libraries --w\nith-xml2-dir=C:\\Users\\Richard\\Downloads\\Ruby\\libxml2-2.7.8.win32 --with-xml2-include=C:\\Users\n\\Richard\\Downloads\\Ruby\\libxml2-2.7.8.win32\\include --with-xml2-lib=C:\\Users\\Ric\nhard\\Downloads\\Ruby\\libxml2-2.7.8.win32\\lib --with-iconv-dir=C:\\Users\\Richard\\Do\nwnloads\\Ruby\\iconv-1.9.2.win32 --with-iconv-include=C:\\Users\\Richard\\Downloads\\R\nuby\\iconv-1.9.2.win32\\include --with-iconv-lib=C:\\Users\\Richard\\Downloads\\Ruby\\i\nconv-1.9.2.win32\\lib --with-zlib-dir=C:\\Users\\Richard\\Downloads\\Ruby\\zlib-1.2.5\"</code></p>\n\n<p>I coupled this with downloading the aforementioned libraries (and some which didn't work):</p>\n\n<p><img src=\"https://i.stack.imgur.com/VYP9Z.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"8\">\n<li><p>I don't have a record of the output of the above command, but I am pretty sure it built the extensions as required, ending in saying a \"Makefile\" had been compiled. When a <code>Makefile</code> is available, you should be able to use <code>nmake</code> (<a href=\"http://www.microsoft.com/en-gb/download/details.aspx?id=8279\" rel=\"nofollow noreferrer\">Windows 7.1 SDK</a>) or <a href=\"http://www.mingw.org/wiki/msys\" rel=\"nofollow noreferrer\"><code>make</code></a> (MingW) to get it to run. I did this, and it seemed to work.</p></li>\n<li><p>I tried loading the server today, and it appeared to work.</p></li>\n</ol>\n\n<p>That's the best I have right now.</p>\n\n<p>I am available to answer comments etc as required.</p>\n"}, {"comments": [{"owner": {"reputation": 2282, "user_id": 2096619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5dd9bce5e0a2c9d52729bf6b73aa043?s=128&d=identicon&r=PG", "display_name": "Fernando Vieira", "link": "https://stackoverflow.com/users/2096619/fernando-vieira"}, "edited": false, "score": 0, "creation_date": 1447990091, "post_id": 31161208, "comment_id": 55402736, "body": "There&#39;s a new Release Candidate (RC) version that works on Windows. Just add to your Gemfile:  <code>gem &#39;nokogiri&#39;, &#39;1.6.7.rc3&#39; </code>"}], "tags": [], "owner": {"reputation": 2282, "user_id": 2096619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5dd9bce5e0a2c9d52729bf6b73aa043?s=128&d=identicon&r=PG", "display_name": "Fernando Vieira", "link": "https://stackoverflow.com/users/2096619/fernando-vieira"}, "is_accepted": false, "score": 9, "last_activity_date": 1435756737, "last_edit_date": 1435756737, "creation_date": 1435753415, "answer_id": 31161208, "question_id": 28985328, "link": "https://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri/31161208#31161208", "title": "RubyInstaller 2.2.1 and Rails - Rake cannot load Nokogiri", "body": "<p>Until they release a proper nokogiri release for Ruby 2.2, I'd like to share with you all, some steps to get it running.</p>\n\n<p>Credits for <strong>Paul Grant</strong> and <strong>Daniel Rikowski</strong> for their help!</p>\n\n<p>First, I must say I'm running Ruby 2.2.2p95 (32bits) on Windows 8.1 (64 bits) and Rails 4.2.3 installed (and Cygwin shell)</p>\n\n<p>1) uninstall the nokogiri gem (you'll need to confirm because many gems depend on it)</p>\n\n<p>2) download the nokogiri gem compiled on ruby 2.2 <a href=\"https://github.com/sparklemotion/nokogiri/issues/1256#issuecomment-115934327\" rel=\"noreferrer\">by Paul Grant</a> (kudos for him) here:\n<a href=\"https://github.com/paulgrant999/ruby-2.2.2-nokogiri-1.6.6.2-x86-x64-mingw32.gem\" rel=\"noreferrer\">https://github.com/paulgrant999/ruby-2.2.2-nokogiri-1.6.6.2-x86-x64-mingw32.gem</a></p>\n\n<p>3) installed the local gem ( <code>gem install --local path/to/gem</code> ) 32 bit version (in my case)</p>\n\n<p>if you try to load rails here, bcrypt will fail, so, as <a href=\"https://github.com/sparklemotion/nokogiri/issues/1256#issuecomment-117567288\" rel=\"noreferrer\">posted</a> by Daniel Rikowski, you can build your on <code>bcrypt_ext.so</code> file.</p>\n\n<p>4) be sure that you have DevKit on your path (<code>/devkit/bin</code> and <code>/devkit/mingw/bin</code>)</p>\n\n<p>5) go to bcrypt <code>ext/mri</code> gem subfolder: (I'm using Cygwin)</p>\n\n<pre><code>cd /cygdrive/c/Ruby22/lib/ruby/gems/2.2.0/gems/bcrypt-3.1.10-x86-mingw32/ext/mri\n</code></pre>\n\n<p>6) call <code>ruby extconf.rb</code> (to generate a Makefile)</p>\n\n<p>7) just call <code>make</code> </p>\n\n<p>(it will output many files including a <code>bcrypt_ext.so</code> file)</p>\n\n<p>8) copy <code>bcrypt_ext.so</code> to <code>/cygdrive/c/Ruby22/lib/ruby/gems/2.2.0/gems/bcrypt-3.1.10-x86-mingw32/lib/2.2</code>  folder. You have to create this subfolder.</p>\n\n<p>That's it! Now just start your rails server. Working like a charm! </p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 949005, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/12510b398d7c43c651f2b5cae4adba4c?s=128&d=identicon&r=PG", "display_name": "Sergey Bezugliy", "link": "https://stackoverflow.com/users/949005/sergey-bezugliy"}, "is_accepted": false, "score": 0, "last_activity_date": 1448206288, "creation_date": 1448206288, "answer_id": 33856542, "question_id": 28985328, "link": "https://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri/33856542#33856542", "title": "RubyInstaller 2.2.1 and Rails - Rake cannot load Nokogiri", "body": "<p>You can try to use cross-compilled gem. For me works fine.</p>\n\n<ol>\n<li><p>Remove all versions of nokogiri installed previously</p>\n\n<p>gem uninstall nokogiri</p></li>\n<li><p>Download gem from <a href=\"https://github.com/paulgrant999/ruby-2.2.2-nokogiri-1.6.6.2-x86-x64-mingw32.gem\" rel=\"nofollow\">https://github.com/paulgrant999/ruby-2.2.2-nokogiri-1.6.6.2-x86-x64-mingw32.gem</a></p></li>\n<li><p>Install using one of the next commands: </p>\n\n<p>For 64bit Ruby: <code>gem install --local nokogiri-1.6.6.2-x64-mingw32.gem</code></p>\n\n<p>For 32bit Ruby: <code>gem install --local nokogiri-1.6.6.2-x86-mingw32.gem</code></p></li>\n<li><p>Lock version of nokogiri i your Gemfile:</p>\n\n<p>gem 'nokogiri', '1.6.6.2'</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 3430, "user_id": 76302, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa0e9c808d067717630aad05970821ae?s=128&d=identicon&r=PG", "display_name": "Danny G", "link": "https://stackoverflow.com/users/76302/danny-g"}, "edited": false, "score": 1, "creation_date": 1454340298, "post_id": 33945459, "comment_id": 57988163, "body": "Yes! This worked form.  Had to <code>gem uninstall nokogiri</code> all versions and executable first.  Also use the Command Prompt (Admin)."}], "tags": [], "owner": {"reputation": 21, "user_id": 3562344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a995683e0e017d060399fab68ba2241c?s=128&d=identicon&r=PG&f=1", "display_name": "user3562344", "link": "https://stackoverflow.com/users/3562344/user3562344"}, "is_accepted": false, "score": 2, "last_activity_date": 1448564437, "creation_date": 1448564437, "answer_id": 33945459, "question_id": 28985328, "link": "https://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri/33945459#33945459", "title": "RubyInstaller 2.2.1 and Rails - Rake cannot load Nokogiri", "body": "<p>The latest RC version of nokogiri supports Ruby 2.2:</p>\n\n<pre><code>gem install nokogiri --pre\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11155703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xyt8-3R-QVY/AAAAAAAAAAI/AAAAAAAAAZc/602ixQV0b_8/photo.jpg?sz=128", "display_name": "Dzoara Samantha Bello Morales", "link": "https://stackoverflow.com/users/11155703/dzoara-samantha-bello-morales"}, "is_accepted": false, "score": 0, "last_activity_date": 1589872450, "last_edit_date": 1589872450, "creation_date": 1589848764, "answer_id": 61881325, "question_id": 28985328, "link": "https://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri/61881325#61881325", "title": "RubyInstaller 2.2.1 and Rails - Rake cannot load Nokogiri", "body": "<p>I had to install the nokogiri version 1.6.3.1 for this ruby version, I put this and worked for me:</p>\n\n<pre><code> gem install nokogiri -v 1.6.3.1 -- --use-system-libraries --with-xml2-include=/usr/local/opt/libxml2/include/libxml2/\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 4653401, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dRR5LAxNPok/AAAAAAAAAAI/AAAAAAAABJQ/oJuK6Ahvv6A/photo.jpg?sz=128", "display_name": "Mystler", "link": "https://stackoverflow.com/users/4653401/mystler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11098, "favorite_count": 7, "accepted_answer_id": 29080247, "answer_count": 6, "score": 12, "last_activity_date": 1589872450, "creation_date": 1426072985, "question_id": 28985328, "link": "https://stackoverflow.com/questions/28985328/rubyinstaller-2-2-1-and-rails-rake-cannot-load-nokogiri", "title": "RubyInstaller 2.2.1 and Rails - Rake cannot load Nokogiri", "body": "<p>recently I installed Ruby 2.2.1 with the new RubyInstaller on Windows. To check whether everything was working I went into a rails app and ran <code>bundle install</code> which was working fine. However, when I ran the tests with <code>bunle exec rake test</code>, I got the following errors:</p>\n\n<pre><code>rake aborted!\nLoadError: cannot load such file -- nokogiri/nokogiri\nD:/Dev/Grummle/config/application.rb:7:in `&lt;top (required)&gt;'\nD:/Dev/Grummle/Rakefile:4:in `&lt;top (required)&gt;'\nLoadError: cannot load such file -- nokogiri/2.2/nokogiri\nD:/Dev/Grummle/config/application.rb:7:in `&lt;top (required)&gt;'\nD:/Dev/Grummle/Rakefile:4:in `&lt;top (required)&gt;'\n(See full trace by running task with --trace)\n</code></pre>\n\n<p>Bundler says that it is <code>Using nokogiri 1.6.5</code>. Also, the rake task is working fine with Ruby 2.1.5. I appreciate ideas on how to resolve the issue. Thanks! :)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4657572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ccea36a942722ad8f5c88bfebfdefd8?s=128&d=identicon&r=PG&f=1", "display_name": "habbala", "link": "https://stackoverflow.com/users/4657572/habbala"}, "edited": false, "score": 0, "creation_date": 1426077160, "post_id": 28985194, "comment_id": 46221841, "body": "Holy crap on a cracker, that was it! I&#39;ve been banging my head at this for like the last 18 hours before I decided to ask here, thank you so much (I&#39;m basically crying of joy)!"}], "tags": [], "owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "is_accepted": true, "score": 4, "last_activity_date": 1426072641, "creation_date": 1426072641, "answer_id": 28985194, "question_id": 28985160, "link": "https://stackoverflow.com/questions/28985160/activerecord-error-when-when-using-simple-search/28985194#28985194", "title": "ActiveRecord error when when using simple search", "body": "<p>Problem is that <code>from</code> is reserved in SQL. I highly suggest to rename this field, though if you want to use it as is - <code>self.where(\"\\\"from\\\" LIKE ?\", \"%#{search_from}%\")</code>.</p>\n"}], "owner": {"reputation": 5, "user_id": 4657572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ccea36a942722ad8f5c88bfebfdefd8?s=128&d=identicon&r=PG&f=1", "display_name": "habbala", "link": "https://stackoverflow.com/users/4657572/habbala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 28985194, "answer_count": 1, "score": 0, "last_activity_date": 1426072641, "creation_date": 1426072533, "question_id": 28985160, "link": "https://stackoverflow.com/questions/28985160/activerecord-error-when-when-using-simple-search", "title": "ActiveRecord error when when using simple search", "body": "<p>I'm very new at Ruby on Rails and trying to make a simple search function for my application. The search function keeps returning this ActiveRecord error (here I searched for \"london\" in \"from\"):</p>\n\n<p><code>SQLite3::SQLException: near \"from\": syntax error: SELECT \"journeys\".* FROM \"journeys\" WHERE (from LIKE '%london%')</code></p>\n\n<p>Model: </p>\n\n<pre><code>class Journey &lt; ActiveRecord::Base\n  validates :from, presence: true, length: { minimum: 1 }\n  def self.search(search_from)\n    self.where(\"from LIKE ?\", \"%#{search_from}%\")\n  end\nend\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>class JourneysController &lt; ApplicationController\n  def index\n    @journeys = Journey.all\n      if params[:search_from]\n        @journeys = Journey.search(params[:search_from])\n      else\n        @journeys = Journey.all.order('created_at DESC')\n    end\n  end\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>&lt;p&gt;\n  &lt;%= form_tag(journeys_path, :method =&gt; \"get\", from: \"search-form\") do %&gt;\n    &lt;%= text_field_tag :search_from, params[:search_from], placeholder: \"Search from\", :class =&gt; 'input' %&gt;\n    &lt;%= submit_tag \"Search\", :class =&gt; 'submit' %&gt;\n  &lt;% end %&gt;\n&lt;/p&gt;\n\n&lt;% if @journey.present? %&gt;\n  &lt;%= render @journey %&gt;\n&lt;% else %&gt;\n  &lt;p&gt;There is nobody going from &lt;%= params[:search_from] %&gt;.&lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Like I said, I'm very new at RoR so this is probably stupid to even ask for, but I would really appreciate the help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426072873, "post_id": 28985064, "comment_id": 46219143, "body": "Could you update your question with sort of &quot;tree&quot; of how your files are structured? It would be easier to understand what you&#39;re trying to achieve."}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 0, "creation_date": 1426080198, "post_id": 28985064, "comment_id": 46223950, "body": "Is there any particular reason that you would like to avoid putting your code in <i>app/lib/</i>, instead of directly into <i>app/</i>? If not, try point 1 from <a href=\"http://stackoverflow.com/a/19650564/4381282\">this</a> answer. This approach will make any new subdirectories loaded automatically. Hope that helps!"}, {"owner": {"reputation": 8960, "user_id": 262125, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/32b070e2e9b6be90f31bb4a154acb91c?s=128&d=identicon&r=PG", "display_name": "LandonSchropp", "link": "https://stackoverflow.com/users/262125/landonschropp"}, "edited": false, "score": 0, "creation_date": 1569968989, "post_id": 28985064, "comment_id": 102765299, "body": "I&#39;d really love an answer to this question as well. We have a similar situation, and nesting our modules in a directory makes our paths a little more convoluted."}], "answers": [{"comments": [{"owner": {"reputation": 1207, "user_id": 859805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3daa2d7d15fd21415bfd0787f8ecead4?s=128&d=identicon&r=PG", "display_name": "Ewout Kleinsmann", "link": "https://stackoverflow.com/users/859805/ewout-kleinsmann"}, "edited": false, "score": 1, "creation_date": 1426171307, "post_id": 28996388, "comment_id": 46270451, "body": "Strange, when I do exactly the same, it gives me: <code>LoadError: Unable to autoload constant Bar, expected &#47;home&#47;(...)&#47;app&#47;foo&#47;bar.rb to define it</code>"}, {"owner": {"reputation": 1568, "user_id": 3957977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVs29.jpg?s=128&g=1", "display_name": "Eugene Petrov", "link": "https://stackoverflow.com/users/3957977/eugene-petrov"}, "reply_to_user": {"reputation": 1207, "user_id": 859805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3daa2d7d15fd21415bfd0787f8ecead4?s=128&d=identicon&r=PG", "display_name": "Ewout Kleinsmann", "link": "https://stackoverflow.com/users/859805/ewout-kleinsmann"}, "edited": false, "score": 0, "creation_date": 1426178904, "post_id": 28996388, "comment_id": 46275899, "body": "Strange is that rails fails to load looking at the proper path to the file... I&#39;d double check that the (....) contains correct user name/project name... and maybe check file permissions too"}], "tags": [], "owner": {"reputation": 1568, "user_id": 3957977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVs29.jpg?s=128&g=1", "display_name": "Eugene Petrov", "link": "https://stackoverflow.com/users/3957977/eugene-petrov"}, "is_accepted": false, "score": 0, "last_activity_date": 1426104685, "creation_date": 1426104685, "answer_id": 28996388, "question_id": 28985064, "link": "https://stackoverflow.com/questions/28985064/can-i-force-a-namespace-for-rails-autoloading-without-nesting-in-a-folder/28996388#28996388", "title": "Can I force a namespace for Rails autoloading without nesting in a folder?", "body": "<p>Rails doesn't assume namespace, it assumes path to the source file depending on a namespace, so:</p>\n\n<pre><code>$ cat app/foo/bar.rb \nmodule Foo\n  class Bar\n    def bar\n      puts \"i'm here\"\n    end\n  end\nend\n</code></pre>\n\n<hr>\n\n<pre><code>$ rails c\n2.2.0 :007 &gt; b=Foo::Bar.new\n =&gt; #&lt;Foo::Bar:0x00000005272770&gt; \n2.2.0 :008 &gt; b.bar\ni'm here\n =&gt; nil\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2312, "user_id": 515674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1aabe812d78464d0b8ebb418c7baded6?s=128&d=identicon&r=PG", "display_name": "stevendaniels", "link": "https://stackoverflow.com/users/515674/stevendaniels"}, "is_accepted": false, "score": 0, "last_activity_date": 1570114838, "creation_date": 1570114838, "answer_id": 58221857, "question_id": 28985064, "link": "https://stackoverflow.com/questions/28985064/can-i-force-a-namespace-for-rails-autoloading-without-nesting-in-a-folder/58221857#58221857", "title": "Can I force a namespace for Rails autoloading without nesting in a folder?", "body": "<p>You can try adding the folder you Rail's autoload paths configuration</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code># config/application.rb\n# Rails 4\nconfig.autoload_paths &lt;&lt; Rails.root.join(\"app\", \"foo\")\n\n# Rails 5+\n config.eager_load_paths &lt;&lt; Rails.root.join(\"app\", \"foo\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1738, "user_id": 3353322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ac896746c0573667cd0190c621b53d?s=128&d=identicon&r=PG", "display_name": "Jack Noble", "link": "https://stackoverflow.com/users/3353322/jack-noble"}, "is_accepted": false, "score": 3, "last_activity_date": 1570161271, "last_edit_date": 1570161271, "creation_date": 1570160043, "answer_id": 58229565, "question_id": 28985064, "link": "https://stackoverflow.com/questions/28985064/can-i-force-a-namespace-for-rails-autoloading-without-nesting-in-a-folder/58229565#58229565", "title": "Can I force a namespace for Rails autoloading without nesting in a folder?", "body": "<p>You can autoload files with namespaces corresponding to directories inside <code>/app</code> by adding <code>/app</code> to your autoload paths in your application config.</p>\n\n<pre><code># config/application.rb\nconfig.autoload_paths &lt;&lt; \"#{config.root}/app\"\n</code></pre>\n\n<p>I'm not sure whether or not this is what the author of the question meant by</p>\n\n<blockquote>\n  <p>I know I can achieve this by adding my root to Rails' autoload paths, but that isn't a real solution.</p>\n</blockquote>\n\n<p>But this is definitely a real solution and the correct one. Doing this is fine and not at all unusual in my experience.</p>\n\n<p>There are only minor side effects which are the cost of adopting the inconsistent naming conventions you want. If you refer to an undefined constant that matches the name of another directory in the app you'll get a slightly different error message.</p>\n\n<pre><code># Models::Foo =&gt; LoadError (Unable to autoload constant Models::Foo, expected /app/models/foo.rb to define it)\n</code></pre>\n\n<p>But if you have existing namespaces that match directories in <code>app</code> loading will still work fine. Here's what Rails is doing:</p>\n\n<p>It takes the paths added to <code>config.autoload_paths</code> and adds them to the defaults (the directories under <code>app</code>: <code>app/models</code>, <code>app/controllers</code>, <code>app/foo</code> etc). Then when a constant is referenced that is not already loaded Rails proceeds through those paths, looking for paths that match the constants. So when you reference <code>Foo::Bar</code> it looks for <code>app/models/foo/bar.rb</code>, <code>app/controllers/foo/bar.rb</code> etc. until it finds a file that defined <code>Foo::Bar</code>. All we're doing is adding <code>app/foo/bar.rb</code> to that lookup.</p>\n"}], "owner": {"reputation": 1207, "user_id": 859805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3daa2d7d15fd21415bfd0787f8ecead4?s=128&d=identicon&r=PG", "display_name": "Ewout Kleinsmann", "link": "https://stackoverflow.com/users/859805/ewout-kleinsmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1570161271, "creation_date": 1426072300, "last_edit_date": 1426073427, "question_id": 28985064, "link": "https://stackoverflow.com/questions/28985064/can-i-force-a-namespace-for-rails-autoloading-without-nesting-in-a-folder", "title": "Can I force a namespace for Rails autoloading without nesting in a folder?", "body": "<p>Is there a way to tell Rails that all files in a certain folder are contained in a certain namespace?</p>\n\n<p>Ie.</p>\n\n<p>I have a file <code>bar.rb</code> in <code>app/foo</code>. Rails will assume this file defines <code>Bar</code>, but instead I want this file to define <code>Foo::Bar</code>.</p>\n\n<p>I know I can achieve this by adding my root to Rails' autoload paths, but that isn't a real solution. Is there any other way I can tell Rails that all files within <code>app/foo</code> reside in the <code>Foo</code> namespace?</p>\n\n<p>EDIT: File tree for clarification</p>\n\n<pre><code>app\n  assets\n  controllers\n  models\n  foo\n    bar.rb\n    quux.rb\n</code></pre>\n\n<p>I would like to be able to define <code>Foo::Bar</code> and <code>Foo::Quux</code> in respectively <code>bar.rb</code> and <code>quux.rb</code>, while also using Rails autoloading. Without having to resort to the tree structure as below:</p>\n\n<pre><code>app\n  assets\n  controllers\n  models\n  foo\n    foo\n      bar.rb\n      quux.rb\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "devise", "forms-authentication"], "comments": [{"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1426088189, "post_id": 28984465, "comment_id": 46230035, "body": "see my edited answer ."}], "answers": [{"comments": [{"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "reply_to_user": {"reputation": 2154, "user_id": 1114100, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8d225bfda3b417fa74b8340a5a2c1cf4?s=128&d=identicon&r=PG", "display_name": "Vlad Otrocol", "link": "https://stackoverflow.com/users/1114100/vlad-otrocol"}, "edited": false, "score": 0, "creation_date": 1426088645, "post_id": 28990720, "comment_id": 46230366, "body": "@VladOtrocol You have a password, and a current_password fields."}], "tags": [], "owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "is_accepted": false, "score": 0, "last_activity_date": 1426088856, "last_edit_date": 1426088856, "creation_date": 1426087618, "answer_id": 28990720, "question_id": 28984465, "link": "https://stackoverflow.com/questions/28984465/rails-devise-edit-registration-without-password-confirmation-except-for-changing/28990720#28990720", "title": "Rails Devise edit registration without password confirmation except for changing password", "body": "<p>You need to add a validation with a proc like this :</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  validates_presence_of :current_password, on: :update, :if =&gt; proc { |user| user.password.present? }\n end\n</code></pre>\n"}], "owner": {"reputation": 2154, "user_id": 1114100, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8d225bfda3b417fa74b8340a5a2c1cf4?s=128&d=identicon&r=PG", "display_name": "Vlad Otrocol", "link": "https://stackoverflow.com/users/1114100/vlad-otrocol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426089570, "creation_date": 1426070695, "last_edit_date": 1426089570, "question_id": 28984465, "link": "https://stackoverflow.com/questions/28984465/rails-devise-edit-registration-without-password-confirmation-except-for-changing", "title": "Rails Devise edit registration without password confirmation except for changing password", "body": "<p>By default devise requires a current password confirmation in order to change user details.</p>\n\n<p>By adding this code to my registration controller I can make it such this confirmation password is not needed:</p>\n\n<pre><code>  protected \n\n  def update_resource(resource, params)\n    resource.update_without_password(params)\n  end\n</code></pre>\n\n<p>However, what I need is to change any information about profile (name, email, telephone etc.) without current password confirmation.</p>\n\n<p>At the same time, in order to set a new password the old password should be required.</p>\n\n<p>As you can see I have no current / old password columns:</p>\n\n<pre><code>ActiveRecord::Schema.define(version: 20150311113109) do\n\n  create_table \"users\", force: true do |t|\n    t.string   \"email\",                  default: \"\", null: false\n    t.string   \"encrypted_password\",     default: \"\", null: false\n    t.string   \"reset_password_token\"\n    t.datetime \"reset_password_sent_at\"\n    t.datetime \"remember_created_at\"\n    t.integer  \"sign_in_count\",          default: 0,  null: false\n    t.datetime \"current_sign_in_at\"\n    t.datetime \"last_sign_in_at\"\n    t.string   \"current_sign_in_ip\"\n    t.string   \"last_sign_in_ip\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n    t.string   \"confirmation_token\"\n    t.datetime \"confirmed_at\"\n    t.datetime \"confirmation_sent_at\"\n    t.string   \"unconfirmed_email\"\n    t.string   \"first_name\",                          null: false\n    t.string   \"last_name\",                           null: false\n    t.string   \"telephone\",                           null: false\n    t.date     \"birthday\"\n    t.text     \"address\"\n    t.integer  \"admin\",                  default: 0,  null: false\n    t.string   \"image_file_name\"\n    t.string   \"image_content_type\"\n    t.integer  \"image_file_size\"\n    t.datetime \"image_updated_at\"\n  end\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426071336, "post_id": 28984510, "comment_id": 46218122, "body": "this is not the problem for me the problem here get &#39;:page&#39; =&gt; &#39;pages#show&#39; get &#39;:category&#39; =&gt; &#39;categories#show&#39; when going to category route like domain.com/programming it&#39;s retrieve the page route"}, {"owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "reply_to_user": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426071514, "post_id": 28984510, "comment_id": 46218252, "body": "@Rasheed kya aap hindi me bata sakte hain apni pareshani ko"}, {"owner": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426071868, "post_id": 28984510, "comment_id": 46218514, "body": "I don&#39;t understand, I don&#39;t speak this language"}, {"owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "reply_to_user": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426072049, "post_id": 28984510, "comment_id": 46218628, "body": "@Rasheed No problem.. I thought you understood hindi, coz it becomes a little difficult sometimes with non-native english speakers to communicate. btw.. I am not able to understand your problem fully .. can you please explain it a bit more"}, {"owner": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426072867, "post_id": 28984510, "comment_id": 46219141, "body": "ok, I&#39;ll explain when open www.domain.com/:id should be check the :id is page then use get &#39;:id&#39; =&gt; &#39;pages#show&#39;  else if :id is category use get &#39;:category&#39; =&gt; &#39;categories#show&#39; sorry for my english"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "reply_to_user": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426072977, "post_id": 28984510, "comment_id": 46219217, "body": "@Rasheed - please update your question with informations you&#39;ve provided in the comment, so others are able to help you."}], "tags": [], "owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "is_accepted": false, "score": 1, "last_activity_date": 1426070797, "creation_date": 1426070797, "answer_id": 28984510, "question_id": 28984389, "link": "https://stackoverflow.com/questions/28984389/how-to-make-dynamic-nested-routes-on-rails/28984510#28984510", "title": "how to make dynamic nested routes on rails?", "body": "<p>why dont you write something like this:</p>\n\n<p><strong>routes.rb</strong></p>\n\n<pre><code>get '/:category_id/:post_id', to: 'categories#post'\n</code></pre>\n\n<p>and in your <strong>categories_controller.rb</strong></p>\n\n<pre><code>def post\n  #params[:category_id] and params[:post_id] will contain the params from the url\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1467, "user_id": 646844, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b7de732c2bf078e332772017febd81ad?s=128&d=identicon&r=PG", "display_name": "Abhay Kumar", "link": "https://stackoverflow.com/users/646844/abhay-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1426074187, "creation_date": 1426074187, "answer_id": 28985758, "question_id": 28984389, "link": "https://stackoverflow.com/questions/28984389/how-to-make-dynamic-nested-routes-on-rails/28985758#28985758", "title": "how to make dynamic nested routes on rails?", "body": "<p>Couple of solutions\nIf your post id and category id follow a pattern you can add constraints to your routes</p>\n\n<p>1)</p>\n\n<blockquote>\n  <p>get ':post_id' => 'posts#show', :constraints => { :id => /[A-Z]\\d{5}/} </p>\n  \n  <p>get ':category_id' => 'categories#show', :constraints => { :id => /[1-9]\\d{5}/ }</p>\n</blockquote>\n\n<p>2) \nAdd a custom method where both post_id/category_id routes point, in that check if the id is a post id or category id and based on that render the page </p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426085872, "post_id": 28987558, "comment_id": 46228307, "body": "thank you so much, I have a problem with friendly_id doesn&#39;t support arabic characters for this I didn&#39;t used"}, {"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "reply_to_user": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "edited": false, "score": 0, "creation_date": 1426086527, "post_id": 28987558, "comment_id": 46228807, "body": "Oh I see. I&#39;m afraid I can&#39;t help much in that matter. You should try to generate slugs on your own (to limit possible collisions between your models of <code>Post</code> and <code>Category</code>), maybe this <a href=\"http://stackoverflow.com/a/1302183/4381282\">answer</a> will help you in your efforts of generating mentioned slugs. Good luck!"}], "tags": [], "owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1426079566, "creation_date": 1426079566, "answer_id": 28987558, "question_id": 28984389, "link": "https://stackoverflow.com/questions/28984389/how-to-make-dynamic-nested-routes-on-rails/28987558#28987558", "title": "how to make dynamic nested routes on rails?", "body": "<p><code>constraints</code> for <code>routes</code> is way to go, but I would suggest a bit different solution for your problem.</p>\n\n<p>Consider creating custom <code>Constraint</code> objects, which will query the database in order to check if <code>Post</code> or <code>Category</code> exists:</p>\n\n<p><em>app/lib/post_constraint.rb</em></p>\n\n<pre><code>class PostConstraint\n  def matches?(request)\n    Post.exists?(request[:id])\n  end\nend\n</code></pre>\n\n<p><em>app/lib/category_constraint.rb</em></p>\n\n<pre><code>class CategoryConstraint\n  def matches?(request)\n    Category.exists?(request[:id])\n  end\nend\n</code></pre>\n\n<p>In your <em>app/config/routes.rb</em></p>\n\n<pre><code>get \":id\" =&gt; \"posts#show\",      constraints: PostConstraint.new\nget \":id\" =&gt; \"categories#show\", constraints: CategoryConstraint.new\n</code></pre>\n\n<p>You have to be aware of the fact, that <code>id</code> is very poor candidate for such comparison, because the <code>Post</code> is checked in first place, and if there is record matching, the \"posts#show\" will be accessed, and <code>CategoryConstraint</code> wot be even bothered. </p>\n\n<p>For more, check the <a href=\"http://guides.rubyonrails.org/routing.html#advanced-constraints\" rel=\"nofollow\">documentation</a>.</p>\n\n<p>You should consider adding a <code>slug</code> for both models to easier serve exactly what user expects to see. For this purpose, try gem <a href=\"https://github.com/norman/friendly_id\" rel=\"nofollow\">friendly_id</a>.</p>\n\n<p>Hope that helps! Good luck!</p>\n"}], "owner": {"reputation": 35, "user_id": 2787358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab851a8f6d8f96a34f6c241c669347fe?s=128&d=identicon&r=PG&f=1", "display_name": "Rasheed", "link": "https://stackoverflow.com/users/2787358/rasheed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 28987558, "answer_count": 3, "score": 0, "last_activity_date": 1426079566, "creation_date": 1426070461, "last_edit_date": 1426079096, "question_id": 28984389, "link": "https://stackoverflow.com/questions/28984389/how-to-make-dynamic-nested-routes-on-rails", "title": "how to make dynamic nested routes on rails?", "body": "<p>I'll explain when open <code>www.domain.com/:id</code> should be check the <code>:id</code> is a page then use</p>\n\n<pre><code>get ':id' =&gt; 'pages#show'\n</code></pre>\n\n<p>else if <code>:id</code> is a Category use</p>\n\n<pre><code>get ':category' =&gt; 'categories#show'\n</code></pre>\n\n<p>sorry for my english</p>\n\n<pre><code>get ':page' =&gt; 'pages#show'\nresources :categories, :path =&gt; '/' do\n  resources :posts, :path =&gt; '/'\nend\n</code></pre>\n"}, {"tags": ["ruby", "heroku", "openssl", "freetds", "tiny-tds"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1426191461, "post_id": 28984201, "comment_id": 46282634, "body": "What, exactly are you asking? Or what is your problem? You don&#39;t state the problem (other than &quot;some crazy solutions&quot;), you don&#39;t provide the error, and you don&#39;t ask a question."}, {"owner": {"reputation": 1187, "user_id": 1238675, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HLTaO.jpg?s=128&g=1", "display_name": "Tasos", "link": "https://stackoverflow.com/users/1238675/tasos"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1428160543, "post_id": 28984201, "comment_id": 47062408, "body": "The problem was and still is (although I&#39;m not on that project atm) that the app is not getting pushed to heroku due to errors posted in the last code section."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1428186162, "post_id": 28984201, "comment_id": 47069655, "body": "This question appears to be off-topic because it is not about programming or development. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://superuser.com/\">Super User</a>, <a href=\"http://webapps.stackexchange.com/\">Web Applications Stack Exchange</a>, <a href=\"http://webmasters.stackexchange.com/\">Webmaster Stack Exchange</a> or <a href=\"http://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a> would be a better place to ask."}, {"owner": {"reputation": 127, "user_id": 2515011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/87758a912ef7df60f48a566ffdf3ac4c?s=128&d=identicon&r=PG", "display_name": "user2515011", "link": "https://stackoverflow.com/users/2515011/user2515011"}, "edited": false, "score": 0, "creation_date": 1435051400, "post_id": 28984201, "comment_id": 50025939, "body": "Have the same issue with a rails app - let me know if you figure it out!"}, {"owner": {"reputation": 1187, "user_id": 1238675, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HLTaO.jpg?s=128&g=1", "display_name": "Tasos", "link": "https://stackoverflow.com/users/1238675/tasos"}, "edited": false, "score": 0, "creation_date": 1438124238, "post_id": 28984201, "comment_id": 51318742, "body": "I haven&#39;t found anything unfortunately since then. You could look up the github issues like <a href=\"https://github.com/firmhouse/heroku-buildpack-ruby-freetds\" rel=\"nofollow noreferrer\">github.com/firmhouse/heroku-buildpack-ruby-freetds</a>"}], "owner": {"reputation": 1187, "user_id": 1238675, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HLTaO.jpg?s=128&g=1", "display_name": "Tasos", "link": "https://stackoverflow.com/users/1238675/tasos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428160642, "creation_date": 1426069990, "last_edit_date": 1428160642, "question_id": 28984201, "link": "https://stackoverflow.com/questions/28984201/freetds-buildpack-on-heroku-cedar-openssl-error", "title": "FreeTDS buildpack on Heroku Cedar OpenSSL Error", "body": "<p>I have a sinatra rack ruby app that I want to deploy on heroku. The app needs to connect to an SQL Server Database. For that I need the TinyTds gem.</p>\n\n<p>Gemfile</p>\n\n<pre><code>source 'http://rubygems.org'\nruby \"1.9.3\"\ngem 'sinatra'\ngem 'tiny_tds'\n</code></pre>\n\n<p>Gemfile.lock after bundle install</p>\n\n<pre><code>GEM\n  remote: http://rubygems.org/\n  specs:\n    rack (1.6.0)\n    rack-protection (1.5.3)\n      rack\n    sinatra (1.4.5)\n      rack (~&gt; 1.4)\n      rack-protection (~&gt; 1.4)\n      tilt (~&gt; 1.3, &gt;= 1.3.4)\n    tilt (1.4.1)\n    tiny_tds (0.6.2)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  sinatra\n  tiny_tds\n</code></pre>\n\n<p>TinyTds requires FreeTDS which heroku doesn't have apparently. So there are some crazy solutions on the internet with static compiles in heroku-similar VMs and stuff like that. The most reasonable solution was to set a custom buildpack for my app that includes FreeTDS:</p>\n\n<pre><code>heroku create my_new_app --buildpack https://github.com/firmhouse/heroku-buildpack-ruby-freetds.git\n</code></pre>\n\n<p>However</p>\n\n<pre><code>$ git push heroku master\nremote: Compressing source files... done.\nremote: Building source:\nremote:\nremote: -----&gt; Fetching custom git buildpack... done\nremote: -----&gt; Ruby/Rack app detected\nremote: Installing freetds into /tmp/build_7b7e059c43475a97d6c091bcf9162e16/vendor/freetds\nremote:\nremote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\nremote:                                  Dload  Upload   Total   Spent    Left  Speed\nremote: 100 3590k  100 3590k    0     0  17.8M      0 --:--:-- --:--:-- --:--:-- 17.8M\nremote:\nremote: -----&gt; Using Ruby version: ruby-1.9.3\nremote: -----&gt; Installing dependencies using Bundler version 1.7.12\nremote:        Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin --deployment\nremote:        Could not load OpenSSL.\nremote:        You must recompile Ruby with OpenSSL support or change the sources in your\nremote:        Gemfile from 'https' to 'http'. Instructions for compiling with OpenSSL using\nremote:        RVM are available at http://rvm.io/packages/openssl.\nremote:  !\nremote:  !     Failed to install gems via Bundler.\nremote:  !\nremote:\nremote:  !     Push rejected, failed to compile Ruby/Rack app\nremote:\nremote: Verifying deploy...\nremote:\nremote: !       Push rejected to my_new_app.\nremote:\nTo https://git.heroku.com/my_new_app.git\n ! [remote rejected] master -&gt; master (pre-receive hook declined)\nerror: failed to push some refs to 'https://git.heroku.com/my_new_app.git'\n</code></pre>\n\n<p>Edit: My question is how do I get heroku to work with tiny_tds.</p>\n"}, {"tags": ["ruby", "bash", "centos", "puppet"], "answers": [{"tags": [], "owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "is_accepted": true, "score": 1, "last_activity_date": 1426073117, "creation_date": 1426073117, "answer_id": 28985378, "question_id": 28983964, "link": "https://stackoverflow.com/questions/28983964/puppet-ruby-how-to-use-a-ruby-variable-in-a-bash-line/28985378#28985378", "title": "Puppet/Ruby: How to use a ruby variable in a bash line?", "body": "<pre><code>&lt;% if @hostname =~ /rs\\d+/ -%&gt; \ncommand[check_smtp]=/usr/lib64/nagios/plugins/check_smtp -H &lt;%= @hostname -%&gt; -p 25 -e &lt;%= @hostname -%&gt;\n&lt;% end -%&gt; \n</code></pre>\n"}], "owner": {"reputation": 4238, "user_id": 1702942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cxsHA.jpg?s=128&g=1", "display_name": "Itai Ganot", "link": "https://stackoverflow.com/users/1702942/itai-ganot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 28985378, "answer_count": 1, "score": 0, "last_activity_date": 1426073117, "creation_date": 1426069320, "question_id": 28983964, "link": "https://stackoverflow.com/questions/28983964/puppet-ruby-how-to-use-a-ruby-variable-in-a-bash-line", "title": "Puppet/Ruby: How to use a ruby variable in a bash line?", "body": "<p>I have a Nagios NRPE module in my Puppet environment.</p>\n\n<p>In the <code>nrpe.cfg</code> template I've configured some <code>if statements</code> in order to set specific checks to specific hosts.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;% if @hostname =~ /rs\\d+/ -%&gt; \ncommand[check_smtp]=/usr/lib64/nagios/plugins/check_smtp -H rs01.company.com -p 25 -e rs01.company.com \n&lt;% end -%&gt; \n</code></pre>\n\n<p>Meaning:\nIf hostname starts with chars rs followed by a digit then apply the check commands in the <code>if statement</code> block.</p>\n\n<p>I want change the check to something like this:</p>\n\n<pre><code>command[check_smtp]=/usr/lib64/nagios/plugins/check_smtp -H @hostname -p 25 -e @hostname\n</code></pre>\n\n<p>But the problem is that <code>@hostname</code> is a ruby variable and the check command is written in bash.</p>\n\n<p>How can I achieve my goal?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3"], "answers": [{"comments": [{"owner": {"reputation": 4194, "user_id": 2071433, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0cb7ef38e8c77c87efe81c2d6e8df30?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2071433/learner"}, "edited": false, "score": 0, "creation_date": 1426071101, "post_id": 28984230, "comment_id": 46217938, "body": "Thank you. Can you explain the  <code>*valid_attributes</code> please?"}, {"owner": {"reputation": 4194, "user_id": 2071433, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0cb7ef38e8c77c87efe81c2d6e8df30?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2071433/learner"}, "edited": false, "score": 0, "creation_date": 1426071699, "post_id": 28984230, "comment_id": 46218384, "body": "And, <code>group.attributes</code> return the set of values. But <code>group.attributes.slice(*valid_attributes)</code> returns <code>{}</code>"}, {"owner": {"reputation": 5480, "user_id": 702284, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a85ea3c413f89301041586ba09ab4140?s=128&d=identicon&r=PG", "display_name": "Vlad Khomich", "link": "https://stackoverflow.com/users/702284/vlad-khomich"}, "reply_to_user": {"reputation": 4194, "user_id": 2071433, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0cb7ef38e8c77c87efe81c2d6e8df30?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2071433/learner"}, "edited": false, "score": 0, "creation_date": 1426074904, "post_id": 28984230, "comment_id": 46220449, "body": "yep, the <code>valid_attributes</code> is supposed to be a white list of column names (attributes). For example, if <code>Letter::Group</code> has [ :id, :name, :description ] attributes but you only want [ :name, :description ] to be saved to <code>Letter::Category</code>, slice(:name, :description) would extract only :name and :description attributes (and remove an :id attribute)"}, {"owner": {"reputation": 5480, "user_id": 702284, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a85ea3c413f89301041586ba09ab4140?s=128&d=identicon&r=PG", "display_name": "Vlad Khomich", "link": "https://stackoverflow.com/users/702284/vlad-khomich"}, "reply_to_user": {"reputation": 4194, "user_id": 2071433, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0cb7ef38e8c77c87efe81c2d6e8df30?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2071433/learner"}, "edited": false, "score": 0, "creation_date": 1426075029, "post_id": 28984230, "comment_id": 46220522, "body": "meaning, you should populate the valid_attributes array with attributes you want, because you might want to skip some (like :id, :updated_at, :created_at) etc"}, {"owner": {"reputation": 4194, "user_id": 2071433, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0cb7ef38e8c77c87efe81c2d6e8df30?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2071433/learner"}, "edited": false, "score": 0, "creation_date": 1426075420, "post_id": 28984230, "comment_id": 46220764, "body": "Thank you. I don&#39;t have any other columns. Because I am using joins to select this columns. So I want to insert the selected columns to <code>Letter::Category</code>(Letter::Category has 15 columns. I need to select the exact column names and insert the values."}, {"owner": {"reputation": 4194, "user_id": 2071433, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0cb7ef38e8c77c87efe81c2d6e8df30?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2071433/learner"}, "edited": false, "score": 0, "creation_date": 1426075440, "post_id": 28984230, "comment_id": 46220775, "body": "currently it returns <code>{}</code>"}], "tags": [], "owner": {"reputation": 5480, "user_id": 702284, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a85ea3c413f89301041586ba09ab4140?s=128&d=identicon&r=PG", "display_name": "Vlad Khomich", "link": "https://stackoverflow.com/users/702284/vlad-khomich"}, "is_accepted": true, "score": 1, "last_activity_date": 1426070098, "creation_date": 1426070098, "answer_id": 28984230, "question_id": 28983925, "link": "https://stackoverflow.com/questions/28983925/how-can-i-use-activerecord-create-for-multiple-records-ruby-on-rails/28984230#28984230", "title": "how can I use ActiveRecord Create for multiple records Ruby on Rails?", "body": "<p>It should look something like this:</p>\n\n<pre><code># whitelist the attributes you want to save to \"categories\" table\nvalid_attributes = [ :User_ID, :Code, :Group_ID ]\n\n\nrecord_letter_group_attributes = record_letter_group.map { |group| group.attributes.slice(*valid_attributes) }\n\nsave_records = Letter::Category.create(record_letter_group_attributes)\n</code></pre>\n"}], "owner": {"reputation": 4194, "user_id": 2071433, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0cb7ef38e8c77c87efe81c2d6e8df30?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2071433/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 28984230, "answer_count": 1, "score": 0, "last_activity_date": 1426070098, "creation_date": 1426069218, "question_id": 28983925, "link": "https://stackoverflow.com/questions/28983925/how-can-i-use-activerecord-create-for-multiple-records-ruby-on-rails", "title": "how can I use ActiveRecord Create for multiple records Ruby on Rails?", "body": "<p>I have a ruby method that returns multiple records with 7 columns. I want to insert these records to the other table which has more than 15 columns.</p>\n\n<p>How can I use the ActiveRecord Create method in my model to insert those records to match exactly into the new table which has the same column name.</p>\n\n<h2>Ex:</h2>\n\n<p>I have a model method like the following:</p>\n\n<pre><code>def self.record_letter_group\n  .....\nend\n</code></pre>\n\n<p>In the console, when i try to run this method, it returns the following records</p>\n\n<pre><code>([#&lt;Letter::Group User_ID: \"sri\", Code: \"12345\", Group_ID: 15&gt;, \n  #&lt;Letter::Group User_ID: \"sri\", Code: \"12445\", Group_ID: 15&gt;,\n  #&lt;Letter::Group User_ID: \"sri\", Code: \"12545\", Group_ID: 15&gt;,\n  #&lt;Letter::Group User_ID: \"sri\", Code: \"12645\", Group_ID: 15&gt;,\n  #&lt;Letter::Group User_ID: \"sri\", Code: \"12745\", Group_ID: 15&gt;,\n])\n</code></pre>\n\n<p>I want to do something like,</p>\n\n<pre><code>save_records = Letter::Category.create(record_letter_group)\n</code></pre>\n\n<p>Note: This <code>Letter::Category</code> has <code>15 columns</code></p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby", "rhomobile", "rhodes"], "comments": [{"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "edited": false, "score": 0, "creation_date": 1426068824, "post_id": 28983071, "comment_id": 46216469, "body": "Can you be more explicit about what you had try?"}, {"owner": {"reputation": 1396, "user_id": 298004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/32c32ee402bd2daa21ea54a5fb2c60b2?s=128&d=identicon&r=PG", "display_name": "Douglas Lise", "link": "https://stackoverflow.com/users/298004/douglas-lise"}, "edited": false, "score": 0, "creation_date": 1426072064, "post_id": 28983071, "comment_id": 46218639, "body": "Why do you need to do this, since the rhosimulator is only for development?"}, {"owner": {"reputation": 13, "user_id": 3908925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d25c240816e1317df6b7f22fd69d886?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/3908925/shubham"}, "edited": false, "score": 0, "creation_date": 1426081433, "post_id": 28983071, "comment_id": 46224808, "body": "I understand Douglas but the simulator shows the actual view of app that how it&#39;s going to be appear after deploying it on production.So, if the menu bar will come there it will be a trouble."}, {"owner": {"reputation": 13, "user_id": 3908925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d25c240816e1317df6b7f22fd69d886?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/3908925/shubham"}, "reply_to_user": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "edited": false, "score": 0, "creation_date": 1426081547, "post_id": 28983071, "comment_id": 46224887, "body": "@Michele d&#39;Amico I am running my app on Rhosimulator and I am getting default menu bar on the top of the app. I want to remove it."}], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 4920444, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a5cb39a5278150a93acef7e19095acae?s=128&d=identicon&r=PG", "display_name": "Thierry", "link": "https://stackoverflow.com/users/4920444/thierry"}, "is_accepted": true, "score": 0, "last_activity_date": 1432217971, "creation_date": 1432217971, "answer_id": 30376495, "question_id": 28983071, "link": "https://stackoverflow.com/questions/28983071/how-to-remove-menu-bar-from-rhosimulator/30376495#30376495", "title": "How to Remove Menu bar from Rhosimulator?", "body": "<p>You have to uncomment following line in initialize method of app/application.rb file : </p>\n\n<pre><code>#To remove default toolbar uncomment next line:\n@@toolbar = nil\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3908925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d25c240816e1317df6b7f22fd69d886?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/3908925/shubham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 30376495, "answer_count": 1, "score": 0, "last_activity_date": 1439453864, "creation_date": 1426066994, "last_edit_date": 1439453864, "question_id": 28983071, "link": "https://stackoverflow.com/questions/28983071/how-to-remove-menu-bar-from-rhosimulator", "title": "How to Remove Menu bar from Rhosimulator?", "body": "<p>I am trying to remove top menu bar from rhosimulator but I am unable to achieve that. </p>\n\n<p>Can anybody knows how to do that.</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "angularjs"], "answers": [{"comments": [{"owner": {"reputation": 901, "user_id": 3615752, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/95f412691055035fad3a563e8b162dc4?s=128&d=identicon&r=PG&f=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/3615752/kamal"}, "edited": false, "score": 0, "creation_date": 1426071036, "post_id": 28983693, "comment_id": 46217896, "body": "I did not get this part but can you help me to understand this, can you create html.haml file in angular? so that interpolation can work.  &lt;!-- Our app content --&gt;     div{&#39;ng-view&#39; =&gt; &quot;&quot;}      :javascript        angular.module(&#39;myApp.config&#39;, [])        = .constant(&#39;myConfig&#39;, #{CONFIG[Rails.env]})          %script{:src =&gt; &quot;scripts/app.js&quot;}"}], "tags": [], "owner": {"reputation": 1620, "user_id": 3119467, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zwQvq.png?s=128&g=1", "display_name": "ramamoorthy_villi", "link": "https://stackoverflow.com/users/3119467/ramamoorthy-villi"}, "is_accepted": true, "score": 1, "last_activity_date": 1426068595, "creation_date": 1426068595, "answer_id": 28983693, "question_id": 28982587, "link": "https://stackoverflow.com/questions/28982587/angular-js-specify-host-name-of-rails-api/28983693#28983693", "title": "angular js - specify host name of Rails api", "body": "<p>detailed configuration given in angularjs for multiple environments.</p>\n\n<p><a href=\"http://www.ng-newsletter.com/advent2013/#!/day/5\" rel=\"nofollow\">Angularjs config</a></p>\n"}], "owner": {"reputation": 901, "user_id": 3615752, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/95f412691055035fad3a563e8b162dc4?s=128&d=identicon&r=PG&f=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/3615752/kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 28983693, "answer_count": 1, "score": 0, "last_activity_date": 1426068595, "creation_date": 1426065648, "question_id": 28982587, "link": "https://stackoverflow.com/questions/28982587/angular-js-specify-host-name-of-rails-api", "title": "angular js - specify host name of Rails api", "body": "<p>I have angular application which interacts with Rails API which is hosted on other domain.</p>\n\n<p>how and where we should keep the target application host name so that it is available to whole angular application and then we can use that to access Rails API</p>\n\n<p>For ex. </p>\n\n<p>I have localhost:8080 on angular and Rails API on localhost:3000 so that in angular i want to save localhost:3000 so that it is available in whole app. </p>\n\n<p>also how we can set depending on environment(dev/prod)?</p>\n"}, {"tags": ["ruby", "msbuild", "rake", "albacore"], "comments": [{"owner": {"reputation": 8871, "user_id": 4381282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-rIutmC2tG4M/AAAAAAAAAAI/AAAAAAAAAE4/wicIrC8KhUs/photo.jpg?sz=128", "display_name": "Pawe\u0142 Dawczak", "link": "https://stackoverflow.com/users/4381282/pawe%c5%82-dawczak"}, "edited": false, "score": 1, "creation_date": 1426072025, "post_id": 28982269, "comment_id": 46218615, "body": "Could you add your entire file where you are defining your task?"}, {"owner": {"reputation": 20258, "user_id": 3619, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d4df53ad45289d052ae918287d869082?s=128&d=identicon&r=PG", "display_name": "Anthony Mastrean", "link": "https://stackoverflow.com/users/3619/anthony-mastrean"}, "edited": false, "score": 1, "creation_date": 1426091388, "post_id": 28982269, "comment_id": 46232405, "body": "There are several major releases of Albacore available, 1.0 (which contains the same <code>msbuild</code> method) and 2.0 (which has a new cross-platform <code>build</code> task). <a href=\"https://github.com/Albacore/albacore/wiki/build\" rel=\"nofollow noreferrer\">github.com/Albacore/albacore/wiki/build</a>"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 2781615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2cacdb2deb50c7c53c5eaea4a819588?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Kozyriev", "link": "https://stackoverflow.com/users/2781615/vitalii-kozyriev"}, "is_accepted": false, "score": 0, "last_activity_date": 1426162328, "creation_date": 1426162328, "answer_id": 29009468, "question_id": 28982269, "link": "https://stackoverflow.com/questions/28982269/why-cant-albacore-find-msbuild/29009468#29009468", "title": "Why can&#39;t Albacore find msbuild?", "body": "<p>Thank you for response. I got the list of gems running </p>\n\n<blockquote>\n  <p>bundle exec gem list</p>\n</blockquote>\n\n<p>but I have figured out that I had newer versions of rake and albacore installed on my machine. I have uninstalled newer gems and it works</p>\n"}], "owner": {"reputation": 61, "user_id": 2781615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2cacdb2deb50c7c53c5eaea4a819588?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Kozyriev", "link": "https://stackoverflow.com/users/2781615/vitalii-kozyriev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 504, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426162328, "creation_date": 1426064596, "last_edit_date": 1426091275, "question_id": 28982269, "link": "https://stackoverflow.com/questions/28982269/why-cant-albacore-find-msbuild", "title": "Why can&#39;t Albacore find msbuild?", "body": "<p>My rake build throws the following exception:</p>\n\n<blockquote>\n  <p>NoMethodError: undefined method `msbuild'</p>\n</blockquote>\n\n<p>Task is: </p>\n\n<pre><code> msbuild :framework do |msb|   \n    msb.solution = \"pathToMySln\"  \n    msb.verbosity = 'minimal' \n end\n</code></pre>\n\n<p>I have the following gems installed:</p>\n\n<ul>\n<li>albacore (0.3.4)</li>\n<li>bundler (1.3.5)</li>\n<li>nokogiri (1.5.5 x86-mingw32)</li>\n<li>rake (0.9.2.2)</li>\n<li>rubyzip (0.9.9)</li>\n</ul>\n\n<p>How can I fix that error?</p>\n"}, {"tags": ["ruby", "gem", "bundler"], "comments": [{"owner": {"reputation": 966, "user_id": 1869912, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/641dd533c32cef63d756558989a60c46?s=128&d=identicon&r=PG", "display_name": "Andrew Kozin", "link": "https://stackoverflow.com/users/1869912/andrew-kozin"}, "reply_to_user": {"reputation": 5921, "user_id": 29470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926224cbb63e5b617300e99c89051ce7?s=128&d=identicon&r=PG", "display_name": "Tim Moore", "link": "https://stackoverflow.com/users/29470/tim-moore"}, "edited": false, "score": 0, "creation_date": 1426074857, "post_id": 28982056, "comment_id": 46220417, "body": "I&#39;ve seen that post, but it tells nothing about the subject above"}, {"owner": {"reputation": 966, "user_id": 1869912, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/641dd533c32cef63d756558989a60c46?s=128&d=identicon&r=PG", "display_name": "Andrew Kozin", "link": "https://stackoverflow.com/users/1869912/andrew-kozin"}, "edited": false, "score": 0, "creation_date": 1426105514, "post_id": 28982056, "comment_id": 46241400, "body": "D&#39;oh! It was so obvious.  I does all that things and then... forgotten to add dependencies to gemspec.  Thanks a lot!"}], "owner": {"reputation": 966, "user_id": 1869912, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/641dd533c32cef63d756558989a60c46?s=128&d=identicon&r=PG", "display_name": "Andrew Kozin", "link": "https://stackoverflow.com/users/1869912/andrew-kozin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1426094076, "answer_count": 0, "score": 0, "last_activity_date": 1426063911, "creation_date": 1426063911, "question_id": 28982056, "link": "https://stackoverflow.com/questions/28982056/loading-platform-specific-dependencies", "closed_reason": "Duplicate", "title": "Loading platform-specific dependencies", "body": "<p>I cannot figure out how to make bundler to install platform-dependent gems.</p>\n\n<p>As recommended in <a href=\"http://bundler.io/man/gemfile.5.html\" rel=\"nofollow\">bundler docs</a> I use <code>:platforms</code> option in the Gemfile:</p>\n\n<pre><code># Gemfile\ngem \"pry-byebug\", platforms: [:mri_20, :mri_21]\ngem \"pry-debugger\", platforms: :mri_19\n</code></pre>\n\n<p>And I don't include the dependencies to <code>my_gem.gemspec</code>, 'cause it doesn't provide tools for platform-dependent specification.</p>\n\n<p>When I run <code>bundle</code> all is OK: the corresponding gem is included to the <code>Gemfile.lock</code> as expected.</p>\n\n<p><strong>The problem</strong> arises when I use my gem in another (\"host\") gem.</p>\n\n<p>When I run <code>bundle</code> in the host gem root, the platform-specific dependencies are skipped and missing in the <code>host_gem/Gemfile.lock</code>.</p>\n\n<p>It seems like Bundler installs only dependencies specified in the gemspec, not in the Gemfile.</p>\n\n<p>So my question is <strong>how to properly define platform-specific dependencies to be loaded by depending gems</strong>?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1426064475, "post_id": 28981792, "comment_id": 46213751, "body": "Did you try <code>&#39;stamp=CONVERT(date,  \\k&lt;date&gt;, 103)&#39;</code>?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1426064958, "post_id": 28981792, "comment_id": 46214061, "body": "That&#39;s how you can retrieve the value of the named group, but I don&#39;t understand the reference to &#39;date&#39; in your replacement string."}, {"owner": {"reputation": 39, "user_id": 3988789, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bebe004e2efc32cfa654eebd8b1a78e?s=128&d=identicon&r=PG&f=1", "display_name": "technion", "link": "https://stackoverflow.com/users/3988789/technion"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426065757, "post_id": 28981792, "comment_id": 46214592, "body": "The answer from Cary is correct. For some reason - I can&#39;t mark it as such."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426065846, "post_id": 28981792, "comment_id": 46214660, "body": "Ha! Because it&#39;s a comment. I&#39;ll make it an answer."}], "answers": [{"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 3, "last_activity_date": 1426065902, "creation_date": 1426065902, "answer_id": 28982676, "question_id": 28981792, "link": "https://stackoverflow.com/questions/28981792/named-captures-in-gsub/28982676#28982676", "title": "Named captures in gsub", "body": "<p>You want:</p>\n\n<pre><code>'stamp=CONVERT(date, \\k&lt;date&gt;, 103)'\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 3988789, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bebe004e2efc32cfa654eebd8b1a78e?s=128&d=identicon&r=PG&f=1", "display_name": "technion", "link": "https://stackoverflow.com/users/3988789/technion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 28982676, "answer_count": 1, "score": -1, "last_activity_date": 1426065902, "creation_date": 1426062961, "question_id": 28981792, "link": "https://stackoverflow.com/questions/28981792/named-captures-in-gsub", "title": "Named captures in gsub", "body": "<p>I have the following piece of code, which is working correctly:</p>\n\n<pre><code>line.gsub!(%r{margdat= (\\d+/\\d+/\\d+)}, 'stamp=CONVERT(date, \\1,103)')\n</code></pre>\n\n<p>However, for reasons of code style, I prefer to use named captures. At the moment - it looks too \"perl like\" for me. I've tried this sort of thing:</p>\n\n<pre><code>line.gsub!(%r{margdat= (?&lt;date&gt;\\d+/\\d+/\\d+)}, \"stamp=CONVERT(#{date}, \\1,103)\")\n</code></pre>\n\n<p>But it just complains the variable doesn't exist. Any help appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4657589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc8327c4284c080e3714dfa2bec1f85?s=128&d=identicon&r=PG&f=1", "display_name": "Adri&#225;n Fern&#225;ndez", "link": "https://stackoverflow.com/users/4657589/adri%c3%a1n-fern%c3%a1ndez"}, "is_accepted": true, "score": 0, "last_activity_date": 1426065038, "creation_date": 1426065038, "answer_id": 28982397, "question_id": 28981739, "link": "https://stackoverflow.com/questions/28981739/handling-routing-exception-in-ruby-on-rails/28982397#28982397", "title": "Handling Routing Exception in Ruby on Rails", "body": "<p>When you handle exception try:</p>\n\n<pre><code>render :file =&gt; 'errors/404.html', :status =&gt; :not_found, :layout =&gt; false\n</code></pre>\n"}], "owner": {"reputation": 1601, "user_id": 1882844, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/JmhB5.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1882844/akhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 28982397, "answer_count": 1, "score": 0, "last_activity_date": 1426065038, "creation_date": 1426062764, "question_id": 28981739, "link": "https://stackoverflow.com/questions/28981739/handling-routing-exception-in-ruby-on-rails", "title": "Handling Routing Exception in Ruby on Rails", "body": "<p>I am studying ruby on rails now and got stuck in exception handling. I just try to handle routing exceptions. I followed the following article\n<a href=\"https://coderwall.com/p/whjmra/handling-exceptions-in-your-rails-application\" rel=\"nofollow\">https://coderwall.com/p/whjmra/handling-exceptions-in-your-rails-application</a></p>\n\n<p>In the code,  id din't got the method 'render_exception(404, \"Routing Error\", exception)' . Please help me for this. I need to show my 404 page which is in the errors\\404 in the view folder</p>\n"}, {"tags": ["ruby", "chef-infra", "chefspec"], "comments": [{"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 1, "creation_date": 1426083004, "post_id": 28981217, "comment_id": 46226116, "body": "I think this library should be covered with conventional rspec and not with ChefSpec. In ChefSpec you would stub <code>read_fstab</code> with something like <code>allow(Chef::Recipe).to receive(&#39;read_fstab&#39;).and_return([&#39;stubbed&#39;,&#39;array&#39;,&#39;values&#39;&zwnj;&#8203;,&#39;for&#39;,&#39;this&#39;,&#39;test&#39;&zwnj;&#8203;])</code>"}, {"owner": {"reputation": 335, "user_id": 754322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8421e55e7f7e15e253212b6d4e8acec8?s=128&d=identicon&r=PG", "display_name": "Tabiko", "link": "https://stackoverflow.com/users/754322/tabiko"}, "reply_to_user": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 1, "creation_date": 1426156148, "post_id": 28981217, "comment_id": 46260046, "body": "Thanks, that lead me to the right path, using  <code>Chef::Recipe.any_instance.stub(:read_fstab).and_return([...]&zwnj;&#8203;)</code>"}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 2, "creation_date": 1426169317, "post_id": 28981217, "comment_id": 46268968, "body": "The recommended syntax is <code>allow_any_instance_of(Chef::Recipe).to receive</code> instead of stub. I though <code>allow</code> would be enought, my bad."}, {"owner": {"reputation": 335, "user_id": 754322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8421e55e7f7e15e253212b6d4e8acec8?s=128&d=identicon&r=PG", "display_name": "Tabiko", "link": "https://stackoverflow.com/users/754322/tabiko"}, "reply_to_user": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1426266278, "post_id": 28981217, "comment_id": 46316529, "body": "Exactly, that worked perfectly and Rubocop checks passed. :)"}], "answers": [{"tags": [], "owner": {"reputation": 3973, "user_id": 4070979, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a40b217933f720d09ae107a2b6d66cb?s=128&d=identicon&r=PG&f=1", "display_name": "Tejay Cardon", "link": "https://stackoverflow.com/users/4070979/tejay-cardon"}, "is_accepted": true, "score": 0, "last_activity_date": 1427826553, "last_edit_date": 1427826553, "creation_date": 1426621652, "answer_id": 29108350, "question_id": 28981217, "link": "https://stackoverflow.com/questions/28981217/chefspec-and-stubbing-shell-out-commands/29108350#29108350", "title": "Chefspec and stubbing shell_out commands", "body": "<p>Stub the shell_out command itself.  </p>\n\n<pre><code>my_double = double('shellout_double')\nallow(my_double).to receive(:run_command)\nallow(my_double).to receive(:stdout).and_return(.....)\nallow(Mixlib:ShellOut).to receive(:shell_out).with(\"your command\").and_return(my_double)\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 754322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8421e55e7f7e15e253212b6d4e8acec8?s=128&d=identicon&r=PG", "display_name": "Tabiko", "link": "https://stackoverflow.com/users/754322/tabiko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2451, "favorite_count": 0, "accepted_answer_id": 29108350, "answer_count": 1, "score": 0, "last_activity_date": 1528768236, "creation_date": 1426060629, "last_edit_date": 1528768236, "question_id": 28981217, "link": "https://stackoverflow.com/questions/28981217/chefspec-and-stubbing-shell-out-commands", "title": "Chefspec and stubbing shell_out commands", "body": "<p>I've written a library method in my cookbook which would read the /etc/fstab file and modify it if there are certain options missing for mounts.</p>\n\n<p>When I try to write Chefspec tests, they all fail to returns the stubbed information, but rather read the local /etc/fstab on my computer.</p>\n\n<p>I'm wondering what would be the correct syntax to stub a sample fstab which I expect on production servers and pass that information to the library method when running Chefspec.</p>\n\n<p>The library method is in libraries/fstab_quota.rb file:</p>\n\n<pre><code>    module ApplicationQuota\n      module Fstab\n        def read_fstab\n          cmd = shell_out('cat /etc/fstab')\n          cmd.run_command\n\n          cmd.stdout.split(\"\\n\").each do |fs|\n            # Logic here\n          end\n      end\n    end\n[Chef::Recipe, Chef::Resource].each  do |l|\n  l.send :include, ::ApplicationQuota::Fstab\nend\n</code></pre>\n\n<p>I'd then call the library method inside the cookbook recipe:</p>\n\n<pre><code># Fstab returns either an Array if there are modifications or false if \n# no modifications have been made\nfstab = read_fstab\n\nfile '/etc/fstab' do\n  content fstab.join(\"\\n\")\n  owner \"root\"\n  group \"root\"\n  mode \"644\"\n  action :create\n  only_if { fstab }\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "sentry", "raven"], "answers": [{"tags": [], "owner": {"reputation": 11018, "user_id": 703019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/27105a4873af6ef3a8291467896968d2?s=128&d=identicon&r=PG&f=1", "display_name": "Waynn Lue", "link": "https://stackoverflow.com/users/703019/waynn-lue"}, "is_accepted": true, "score": 0, "last_activity_date": 1429127422, "creation_date": 1429127422, "answer_id": 29659546, "question_id": 28980889, "link": "https://stackoverflow.com/questions/28980889/running-raketest-after-installing-raven-for-sentry-throws-an-error/29659546#29659546", "title": "Running rake:test after installing Raven for Sentry throws an error", "body": "<p>I got an answer from Sentry Customer Support:</p>\n\n<blockquote>\n  <p>The rake:test issue actually looks like something that was missed during a refactor, but it shouldn't be a big deal.</p>\n</blockquote>\n"}], "owner": {"reputation": 11018, "user_id": 703019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/27105a4873af6ef3a8291467896968d2?s=128&d=identicon&r=PG&f=1", "display_name": "Waynn Lue", "link": "https://stackoverflow.com/users/703019/waynn-lue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 1, "accepted_answer_id": 29659546, "answer_count": 1, "score": 1, "last_activity_date": 1554036686, "creation_date": 1426059160, "last_edit_date": 1554036686, "question_id": 28980889, "link": "https://stackoverflow.com/questions/28980889/running-raketest-after-installing-raven-for-sentry-throws-an-error", "title": "Running rake:test after installing Raven for Sentry throws an error", "body": "<p>After installing <a href=\"https://www.getsentry.com/welcome/\" rel=\"nofollow\">Sentry</a> in my Rails 4.1.9 app, their documentation says that I can test if it's installed by running <code>rake raven:test</code>. But when I do that, I get this output</p>\n\n<pre><code>Sending a test event:\nrake aborted!\nNoMethodError: undefined method `id' for #&lt;Hash:0x007fac6cfc0e70&gt;\n</code></pre>\n\n<p>I've also tried passing in the DSN manually and I get the exact same output. Any reason this isn't working?</p>\n\n<p>edit: I'm assuming that this isn't the test output, but maybe it is?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "search", "elasticsearch", "searchkick"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 1490796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262fd61b46f15d48c570dc836265d9d0?s=128&d=identicon&r=PG", "display_name": "MeNyK", "link": "https://stackoverflow.com/users/1490796/menyk"}, "is_accepted": false, "score": 2, "last_activity_date": 1443840760, "creation_date": 1443840760, "answer_id": 32918425, "question_id": 28980876, "link": "https://stackoverflow.com/questions/28980876/wildcard-search-using-searchkick/32918425#32918425", "title": "Wildcard search using SearchKick", "body": "<p>Hope it's not too late. </p>\n\n<p>You want the keyword to be appeared in the middle of the text, right? You should use <a href=\"https://github.com/ankane/searchkick#partial-matches\" rel=\"nofollow\">Partial Matches</a> as your search option.</p>\n\n<p>For example, in model User:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  searchkick text_middle: [ :name ]\nend\n</code></pre>\n\n<p>Searching:</p>\n\n<pre><code>User.search(\"admi\", fields: [{name: :text_middle}]).each do |user|\n  # Do something with user\nend\n</code></pre>\n\n<p>If the search result is empty, try <code>User.reindex</code> before a search.</p>\n"}], "owner": {"reputation": 983, "user_id": 1874794, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g8GIw.jpg?s=128&g=1", "display_name": "Mothirajha", "link": "https://stackoverflow.com/users/1874794/mothirajha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443840760, "creation_date": 1426059107, "question_id": 28980876, "link": "https://stackoverflow.com/questions/28980876/wildcard-search-using-searchkick", "title": "Wildcard search using SearchKick", "body": "<p>Is there any way to use wildcard after a word and before a word as mentioned below..</p>\n\n<pre><code>User.search \"*\" + \"admi\"+\"*\"\n</code></pre>\n\n<p>or any other solution to solve such problems using SearchKick gem.</p>\n"}, {"tags": ["ruby", "selenium-webdriver", "extract-error-message"], "comments": [{"owner": {"reputation": 3914, "user_id": 4057366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ3e5.jpg?s=128&g=1", "display_name": "Alex Holubenko", "link": "https://stackoverflow.com/users/4057366/alex-holubenko"}, "edited": false, "score": 0, "creation_date": 1426676256, "post_id": 28980767, "comment_id": 46467144, "body": "Put your code and text of error"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 2148528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLQKa.png?s=128&g=1", "display_name": "David Ambler", "link": "https://stackoverflow.com/users/2148528/david-ambler"}, "is_accepted": false, "score": 0, "last_activity_date": 1431445798, "creation_date": 1431445798, "answer_id": 30195795, "question_id": 28980767, "link": "https://stackoverflow.com/questions/28980767/how-to-capture-errors-using-selenium-webdriver/30195795#30195795", "title": "How to capture errors using selenium webdriver", "body": "<p>The form errors should have some sort of reference that you can use to get the text of the error. You could then use this to check if you are getting the correct errors or not.</p>\n"}], "owner": {"reputation": 3959, "user_id": 1381266, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7ac54c032c1dd24a5e6c737d06b83a03?s=128&d=identicon&r=PG", "display_name": "Galet", "link": "https://stackoverflow.com/users/1381266/galet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431445798, "creation_date": 1426058671, "question_id": 28980767, "link": "https://stackoverflow.com/questions/28980767/how-to-capture-errors-using-selenium-webdriver", "title": "How to capture errors using selenium webdriver", "body": "<p>My tools:-</p>\n\n<pre><code>ruby\nselenium-webdriver\nwatir-webdriver\n</code></pre>\n\n<p>Steps:-</p>\n\n<ol>\n<li>Opening the form</li>\n<li>Filling the required details except one field</li>\n<li>Submit the form</li>\n</ol>\n\n<p>It throws the error as i did't one required field in the form.</p>\n\n<p>How to capture the errors using selenium-webdriver ?</p>\n\n<p>Note: Attached screenshot for reference.\n<img src=\"https://i.stack.imgur.com/skxDX.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["ruby", "aws-sdk"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 2848368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b0c78b780f174cab9ceac93ae82da5?s=128&d=identicon&r=PG", "display_name": "Jonny", "link": "https://stackoverflow.com/users/2848368/jonny"}, "edited": false, "score": 0, "creation_date": 1488287872, "post_id": 28996099, "comment_id": 72156796, "body": "you can also specify &quot;ACL&quot; with presigned_url <code>object.presigned_url(:put, {acl: &#39;public-read&#39;})</code>"}, {"owner": {"reputation": 1384, "user_id": 1252245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EF8gC.jpg?s=128&g=1", "display_name": "sequielo", "link": "https://stackoverflow.com/users/1252245/sequielo"}, "edited": false, "score": 0, "creation_date": 1500761567, "post_id": 28996099, "comment_id": 77482844, "body": "Remember to setup the related policy when using <code>public-read</code> (in particular: <code>PutObjectAcl</code>), as indicated here: <a href=\"https://stackoverflow.com/a/32339576/1252245\">stackoverflow.com/a/32339576/1252245</a>"}], "tags": [], "owner": {"reputation": 6234, "user_id": 190988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcbdc27226eb6a81330730ab58b84d98?s=128&d=identicon&r=PG", "display_name": "Trevor Rowe", "link": "https://stackoverflow.com/users/190988/trevor-rowe"}, "is_accepted": true, "score": 4, "last_activity_date": 1426103616, "creation_date": 1426103616, "answer_id": 28996099, "question_id": 28980264, "link": "https://stackoverflow.com/questions/28980264/ruby-aws-sdk-v2-public-url-access-denied-issue/28996099#28996099", "title": "ruby Aws-sdk v2 public url access denied issue", "body": "<p>You uploaded the object to Amazon S3 without specifying an \"ACL\" (access control list). The simple fix is to specify a 'public-read' ACL when you upload the object:</p>\n\n<pre><code> object.upload_file(file_to_upload, acl:'public-read')\n</code></pre>\n\n<p>When you upload a file with a 'public-read' ACL, the object may be downloaded by <strong>anyone</strong>. If you prefer to make it only accessible to particular users, then you can provide a customized ACL, or you can omit the ACL and instead use pre-signed URL:</p>\n\n<pre><code> object.presigned_url(:get)\n #=&gt; 'https://...'\n</code></pre>\n\n<p>A pre-signed URL provides temporary access to a private object in Amazon S3. A presigned URL expires after a set amount of time, defaulting to 15 minutes.</p>\n"}], "owner": {"reputation": 97, "user_id": 3655415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4ea6d3a852540539f89d5217fabe7fe?s=128&d=identicon&r=PG&f=1", "display_name": "user3655415", "link": "https://stackoverflow.com/users/3655415/user3655415"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "accepted_answer_id": 28996099, "answer_count": 1, "score": 2, "last_activity_date": 1426103616, "creation_date": 1426056638, "last_edit_date": 1426059878, "question_id": 28980264, "link": "https://stackoverflow.com/questions/28980264/ruby-aws-sdk-v2-public-url-access-denied-issue", "title": "ruby Aws-sdk v2 public url access denied issue", "body": "<p>I'm using aws-sdk '2.0.29' for uploading csv files to S3. Ending up with access denied issue when accessing the public_url.</p>\n\n<pre><code> s3_credentials = Aws::Credentials.new(S3_CREDENTIALS['access_key_id'],S3_CREDENTIALS['secret_access_key']) #creating credentials object\n s3_bucket = Aws::S3::Resource.new(region: ['region'], credentials: s3_credentials).bucket(S3_CREDENTIALS['bucket']) #finding bucket\n object = s3_bucket.objects(s3_file_path) #creating an object\n object.upload_file(file_to_upload)#uploading file to s3\n object.public_url #fetching the uploaded file url from s3\n</code></pre>\n\n<p>Can someone help me with this.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "session", "authlogic"], "comments": [{"owner": {"reputation": 2395, "user_id": 1626261, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/v6cN0.jpg?s=128&g=1", "display_name": "Sonalkumar sute", "link": "https://stackoverflow.com/users/1626261/sonalkumar-sute"}, "edited": false, "score": 0, "creation_date": 1426057081, "post_id": 28980111, "comment_id": 46210652, "body": "can you show us your controller code?"}, {"owner": {"reputation": 2395, "user_id": 1626261, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/v6cN0.jpg?s=128&g=1", "display_name": "Sonalkumar sute", "link": "https://stackoverflow.com/users/1626261/sonalkumar-sute"}, "edited": false, "score": 0, "creation_date": 1426057335, "post_id": 28980111, "comment_id": 46210741, "body": "You can also try adding <code>allow_http_basic_auth false</code> in your <code>UserSession</code> model."}], "answers": [{"tags": [], "owner": {"reputation": 3063, "user_id": 1682038, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/90c9c92c135240a02e9bcd1c886bcae8?s=128&d=identicon&r=PG", "display_name": "rony36", "link": "https://stackoverflow.com/users/1682038/rony36"}, "is_accepted": true, "score": 2, "last_activity_date": 1426057950, "last_edit_date": 1426057950, "creation_date": 1426057510, "answer_id": 28980469, "question_id": 28980111, "link": "https://stackoverflow.com/questions/28980111/rails-authlogic-cant-find-current-user-nil-after-using-http-basic-authenticat/28980469#28980469", "title": "rails authlogic can&#39;t find current_user (nil) after using http basic authentication", "body": "<p>If you are using <code>authlogic</code> and <code>rails 3</code>, I believe it could be work if you add below code in <code>user_session.rb</code> model:</p>\n\n<pre><code> class UserSession &lt; Authlogic::Session::Base\n    allow_http_basic_auth false\n end\n</code></pre>\n\n<blockquote>\n  <p>Not sure why this is a problem with this Rails/Authlogic/HTTP\n  combination, but anyways, the fix was to add this one-liner to your\n  UserSession model</p>\n</blockquote>\n\n<p>Thumbs up to <code>Chris Irish</code> <a href=\"http://www.christopherirish.com/2011/08/12/rails-3-authlogic-sessions-not-persisting-in-production/comment-page-1\" rel=\"nofollow\">here</a> I found this in his blog.</p>\n"}], "owner": {"reputation": 565, "user_id": 2930793, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bTDDD.jpg?s=128&g=1", "display_name": "Sazzad", "link": "https://stackoverflow.com/users/2930793/sazzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 2, "accepted_answer_id": 28980469, "answer_count": 1, "score": 1, "last_activity_date": 1426057950, "creation_date": 1426055918, "question_id": 28980111, "link": "https://stackoverflow.com/questions/28980111/rails-authlogic-cant-find-current-user-nil-after-using-http-basic-authenticat", "title": "rails authlogic can&#39;t find current_user (nil) after using http basic authentication", "body": "<p>I am using </p>\n\n<p>rails => 3.0.20</p>\n\n<p>authlogic => 3.0.3</p>\n\n<p>before using http basic authentication it is all okay.\nBut after using it, after login successfully with 'http basic user name and pass'\nI have to log in with application user name and password which is retrived from database. It is also sucessfully done. Then it is redirected to a default method  which requires current user. But <code>current user</code> returns <code>nil</code>.  <code>UserSession.find</code> also returns <code>nil</code></p>\n\n<p>any idea about why session objects return nil ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "youtube"], "comments": [{"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "edited": false, "score": 0, "creation_date": 1426055422, "post_id": 28979938, "comment_id": 46210062, "body": "you should read and follow <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"nofollow noreferrer\">developers.google.com/youtube/iframe_api_reference</a>"}, {"owner": {"reputation": 2395, "user_id": 1626261, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/v6cN0.jpg?s=128&g=1", "display_name": "Sonalkumar sute", "link": "https://stackoverflow.com/users/1626261/sonalkumar-sute"}, "edited": false, "score": 0, "creation_date": 1426055473, "post_id": 28979938, "comment_id": 46210088, "body": "Try this <code>&lt;% @posts.each do |post| %&gt;         &lt;iframe src=#{post.url} frameborder=&quot;0&quot; allowfullscreen=&quot;&quot; width=&quot;560&quot; height=&quot;315&quot;&gt;&lt;&#47;iframe&gt;     &lt;% end %&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6602, "user_id": 3425360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D0hYGNyMGPo/AAAAAAAAAAI/AAAAAAAAA1c/wVJzgXu5zZI/photo.jpg?sz=128", "display_name": "Sharvy Ahmed", "link": "https://stackoverflow.com/users/3425360/sharvy-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1426056868, "creation_date": 1426056868, "answer_id": 28980304, "question_id": 28979938, "link": "https://stackoverflow.com/questions/28979938/how-to-add-youtube-frame-to-erb-file/28980304#28980304", "title": "How to add youtube frame to ERB file", "body": "<p>You missed the quotes around erb tag:</p>\n\n<pre><code>src=\"&lt;%= post.url %&gt;\"\n</code></pre>\n\n<p>So your code will be:</p>\n\n<pre><code>&lt;% @posts.each do |post| %&gt;\n\n&lt;iframe width=\"560\" height=\"315\" src=\"&lt;%= post.url %&gt;\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt; \n\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 6, "last_activity_date": 1494996885, "last_edit_date": 1494996885, "creation_date": 1426065528, "answer_id": 28982543, "question_id": 28979938, "link": "https://stackoverflow.com/questions/28979938/how-to-add-youtube-frame-to-erb-file/28982543#28982543", "title": "How to add youtube frame to ERB file", "body": "<p>I prefer not to mix ERB tags with HTML tags, therefore I would suggest using the <code>content_tag</code> helper method instead:</p>\n\n<pre><code>&lt;% @posts.each do |post| %&gt;\n  &lt;%= content_tag(:iframe, '', src: post.url, \n                   width: 560, height: 315, frameborder: 0) %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>Or even better:</strong> define a helper method in e.g. <code>helpers/application_helper.rb</code>:</p>\n\n<pre><code>def youtube_frame(url)\n  content_tag(:iframe, '', src: url, width: 560, height: 315, frameborder: 0)     \nend\n</code></pre>\n\n<p>and use that method in your view to make the code more readable and easier to understand:</p>\n\n<pre><code>&lt;% @posts.each do |post| %&gt;\n  &lt;%= youtube_frame(post.url) %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3908457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pDXw2.jpg?s=128&g=1", "display_name": "tencet", "link": "https://stackoverflow.com/users/3908457/tencet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2283, "favorite_count": 1, "accepted_answer_id": 28982543, "answer_count": 2, "score": 1, "last_activity_date": 1494996885, "creation_date": 1426055158, "question_id": 28979938, "link": "https://stackoverflow.com/questions/28979938/how-to-add-youtube-frame-to-erb-file", "title": "How to add youtube frame to ERB file", "body": "<p>I have url of video in post.url</p>\n\n<p>How can I add youtube frame?</p>\n\n<p>I used this</p>\n\n<pre><code>&lt;% @posts.each do |post| %&gt;\n\n&lt;iframe width=\"560\" height=\"315\" src= &lt;%= \\\" post.url \\\"%&gt;  \n\n    frameborder=\"0\" allowfullscreen&gt;\n\n&lt;/iframe&gt; \n\n&lt;% end %&gt;\n</code></pre>\n\n<p>And get this error</p>\n\n<blockquote>\n  <p>syntax error, unexpected $undefined ...reeze;<br>\n  @output_buffer.append=( \\\" post.url \\\");<br></p>\n</blockquote>\n\n<p>Also I Used </p>\n\n<pre><code> src= &lt;%= post.url %&gt;  \n</code></pre>\n\n<p>And I didn't see anything</p>\n"}, {"tags": ["ruby", "windows"], "answers": [{"comments": [{"owner": {"reputation": 4288, "user_id": 527152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c784b2e1c3fb28d8bad8f50ca0282b4?s=128&d=identicon&r=PG", "display_name": "Azolo", "link": "https://stackoverflow.com/users/527152/azolo"}, "reply_to_user": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1426540194, "post_id": 29086850, "comment_id": 46406835, "body": "Yeah, the crash only manifests with an interactive shell, like <code>irb</code>, but a broken release is broken."}], "tags": [], "owner": {"reputation": 4288, "user_id": 527152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c784b2e1c3fb28d8bad8f50ca0282b4?s=128&d=identicon&r=PG", "display_name": "Azolo", "link": "https://stackoverflow.com/users/527152/azolo"}, "is_accepted": true, "score": 1, "last_activity_date": 1426539660, "creation_date": 1426539660, "answer_id": 29086850, "question_id": 28979626, "link": "https://stackoverflow.com/questions/28979626/dl-is-deprecated-please-use-fiddle/29086850#29086850", "title": "DL is deprecated, please use Fiddle", "body": "<p>There was a broken version of RubyInstaller that was distributed for about 5 hours.</p>\n\n<p>There were only about 800 downloads of it before someone caught it, but it appears that you are running one of those downloads.  </p>\n\n<p>Sorry about that.</p>\n\n<p>Check out <a href=\"https://groups.google.com/d/msg/rubyinstaller/8twRyeYge7A/MEjvB4rzqXkJ\" rel=\"nofollow\">the mailing list announcement</a> for more details.</p>\n\n<p>The fix is to <em>re-install</em> using the fixed distribution.</p>\n"}], "owner": {"reputation": 3434, "user_id": 587959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8a12c9364e0bc741b5784d0020084c78?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/587959/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1267, "favorite_count": 0, "accepted_answer_id": 29086850, "answer_count": 1, "score": 1, "last_activity_date": 1426539660, "creation_date": 1426053654, "last_edit_date": 1495542137, "question_id": 28979626, "link": "https://stackoverflow.com/questions/28979626/dl-is-deprecated-please-use-fiddle", "title": "DL is deprecated, please use Fiddle", "body": "<p>I just installed a ruby 2.2.1 and got this warning when I ran bundle install: </p>\n\n<pre><code>DL is deprecated, please use Fiddle\n</code></pre>\n\n<p>I came to this <a href=\"https://stackoverflow.com/a/15601984/587959\">question</a> and found the code they pointed out in rbreadline.rb line 4367.</p>\n\n<pre><code>if RUBY_VERSION &lt; '1.9.1'\n      require 'Win32API'\n    else\n      require 'dl'\n      class Win32API\n        DLL = {}\n        TYPEMAP = {\"0\" =&gt; DL::TYPE_VOID, \"S\" =&gt; DL::TYPE_VOIDP, \"I\" =&gt; DL::TYPE_LONG}\n</code></pre>\n\n<p>I then added the <code>require 'irb'</code> line next to the <code>require 'dl'</code> line as they suggested but this did not remove the warning for me. I realize this may only be a warning but I do not want to comment out the message only to have other problems spring up latter. How do I fix this? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "search", "global"], "answers": [{"comments": [{"owner": {"reputation": 15926, "user_id": 474597, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cf5fcf12effe4798f02aa84def25c684?s=128&d=identicon&r=PG", "display_name": "lulalala", "link": "https://stackoverflow.com/users/474597/lulalala"}, "edited": false, "score": 1, "creation_date": 1426053715, "post_id": 28979467, "comment_id": 46209457, "body": "Sunspot allows single search across multiple models"}], "tags": [], "owner": {"reputation": 2430, "user_id": 1514990, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2366019f03d3dc7dcc12f791d358a336?s=128&d=identicon&r=PG", "display_name": "PJ Bergeron", "link": "https://stackoverflow.com/users/1514990/pj-bergeron"}, "is_accepted": false, "score": 3, "last_activity_date": 1426052907, "creation_date": 1426052907, "answer_id": 28979467, "question_id": 28979361, "link": "https://stackoverflow.com/questions/28979361/implementing-universal-search-in-rails-4/28979467#28979467", "title": "Implementing Universal search in rails 4", "body": "<p><a href=\"https://rubygems.org/gems/sunspot\" rel=\"nofollow\">Sunspot</a> is one of the most used gem to add search in a Rails app. </p>\n\n<p>Indexing looks like this:</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  searchable do\n    text :title, :body\n    text :comments do\n      comments.map { |comment| comment.body }\n    end\n    integer :blog_id\n    integer :author_id\n    integer :category_ids, :multiple =&gt; true\n    time :published_at\n    string :sort_title do\n      title.downcase.gsub(/^(an?|the)\\b/, '')\n    end\n  end\nend\n</code></pre>\n\n<p>And searching:</p>\n\n<pre><code>Post.search do\n  fulltext 'best pizza'\n  with :blog_id, 1\n  with(:published_at).less_than Time.now\n  order_by :published_at, :desc\n  paginate :page =&gt; 2, :per_page =&gt; 15\n  facet :category_ids, :author_id\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34818, "user_id": 2149092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34986a72d47c42ae5685b37ba32d1e22?s=128&d=identicon&r=PG", "display_name": "Mohammad AbuShady", "link": "https://stackoverflow.com/users/2149092/mohammad-abushady"}, "edited": false, "score": 0, "creation_date": 1426052995, "post_id": 28979476, "comment_id": 46209189, "body": "Doesn&#39;t the gem create an index per model ? is there a way to create one index for all the models ?, or alternatively how do you search once on multiple indices ? pointing me to a link is good enough for me."}, {"owner": {"reputation": 227, "user_id": 4268545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/--qy3fFFgnjA/AAAAAAAAAAI/AAAAAAAAAwU/KqVzXX4rYVo/photo.jpg?sz=128", "display_name": "Vivek Tripathi", "link": "https://stackoverflow.com/users/4268545/vivek-tripathi"}, "edited": false, "score": 0, "creation_date": 1426053558, "post_id": 28979476, "comment_id": 46209398, "body": "How about pg_search gem? Is it worth enough. Because My database is not too huge to afford sunspot."}, {"owner": {"reputation": 3937, "user_id": 1234765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07b5487c337b6cf2a392ccbd41ef1696?s=128&d=identicon&r=PG", "display_name": "Almaron", "link": "https://stackoverflow.com/users/1234765/almaron"}, "reply_to_user": {"reputation": 227, "user_id": 4268545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/--qy3fFFgnjA/AAAAAAAAAAI/AAAAAAAAAwU/KqVzXX4rYVo/photo.jpg?sz=128", "display_name": "Vivek Tripathi", "link": "https://stackoverflow.com/users/4268545/vivek-tripathi"}, "edited": false, "score": 1, "creation_date": 1426053955, "post_id": 28979476, "comment_id": 46209548, "body": "@VivekTripathi well, if your search is that simple, you could ofcource use <code>pg_search</code>, but that means that you get stuck to your DB and it&#39;s not quite scalable when your app grows."}, {"owner": {"reputation": 227, "user_id": 4268545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/--qy3fFFgnjA/AAAAAAAAAAI/AAAAAAAAAwU/KqVzXX4rYVo/photo.jpg?sz=128", "display_name": "Vivek Tripathi", "link": "https://stackoverflow.com/users/4268545/vivek-tripathi"}, "edited": false, "score": 0, "creation_date": 1426057787, "post_id": 28979476, "comment_id": 46210938, "body": "@Almaron, Now that&#39;s a practical and very valid point. Thanks for the suggestion. Do we have any demo or sample code that guides me from model to controller to view? I mean fully functional search form already implemented, so that it reduces extra effort."}, {"owner": {"reputation": 3937, "user_id": 1234765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07b5487c337b6cf2a392ccbd41ef1696?s=128&d=identicon&r=PG", "display_name": "Almaron", "link": "https://stackoverflow.com/users/1234765/almaron"}, "reply_to_user": {"reputation": 227, "user_id": 4268545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/--qy3fFFgnjA/AAAAAAAAAAI/AAAAAAAAAwU/KqVzXX4rYVo/photo.jpg?sz=128", "display_name": "Vivek Tripathi", "link": "https://stackoverflow.com/users/4268545/vivek-tripathi"}, "edited": false, "score": 1, "creation_date": 1426065100, "post_id": 28979476, "comment_id": 46214156, "body": "@VivekTripathi a brief Google search for &quot;Elasticsearch rails example&quot; gives quite a number of interesting tutorials like this one: <a href=\"http://www.sitepoint.com/full-text-search-rails-elasticsearch\" rel=\"nofollow noreferrer\">sitepoint.com/full-text-search-rails-elasticsearch</a>."}, {"owner": {"reputation": 227, "user_id": 4268545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/--qy3fFFgnjA/AAAAAAAAAAI/AAAAAAAAAwU/KqVzXX4rYVo/photo.jpg?sz=128", "display_name": "Vivek Tripathi", "link": "https://stackoverflow.com/users/4268545/vivek-tripathi"}, "edited": false, "score": 0, "creation_date": 1427106501, "post_id": 28979476, "comment_id": 46626045, "body": "The tutorial shows search facility for a single model. Is there some way we can generate global search results from across the models i have in my app."}], "tags": [], "owner": {"reputation": 3937, "user_id": 1234765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07b5487c337b6cf2a392ccbd41ef1696?s=128&d=identicon&r=PG", "display_name": "Almaron", "link": "https://stackoverflow.com/users/1234765/almaron"}, "is_accepted": true, "score": 5, "last_activity_date": 1426053027, "last_edit_date": 1426053027, "creation_date": 1426052939, "answer_id": 28979476, "question_id": 28979361, "link": "https://stackoverflow.com/questions/28979361/implementing-universal-search-in-rails-4/28979476#28979476", "title": "Implementing Universal search in rails 4", "body": "<p>I think the best way in your case is to use ElasticSearch. A neat integration gem is provided <a href=\"https://github.com/elastic/elasticsearch-rails\" rel=\"nofollow\">here</a>. Links to documentation are provided on that page.</p>\n"}, {"tags": [], "owner": {"reputation": 1358, "user_id": 2385217, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bd10572a2009c613bef5244ee24c5a8f?s=128&d=identicon&r=PG&f=1", "display_name": "sansarp", "link": "https://stackoverflow.com/users/2385217/sansarp"}, "is_accepted": false, "score": 4, "last_activity_date": 1426053098, "creation_date": 1426053098, "answer_id": 28979506, "question_id": 28979361, "link": "https://stackoverflow.com/questions/28979361/implementing-universal-search-in-rails-4/28979506#28979506", "title": "Implementing Universal search in rails 4", "body": "<p>One of the good approach for it will be to use <code>gem 'searchkick'</code>\nwhich uses elasticsearch. </p>\n\n<p><strong>Resources for Searchkick:</strong>\n<a href=\"https://github.com/ankane/searchkick\" rel=\"nofollow\">https://github.com/ankane/searchkick</a>\n<a href=\"https://github.com/ankane/searchkick#advanced\" rel=\"nofollow\">https://github.com/ankane/searchkick#advanced</a></p>\n"}], "owner": {"reputation": 227, "user_id": 4268545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/--qy3fFFgnjA/AAAAAAAAAAI/AAAAAAAAAwU/KqVzXX4rYVo/photo.jpg?sz=128", "display_name": "Vivek Tripathi", "link": "https://stackoverflow.com/users/4268545/vivek-tripathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1439, "favorite_count": 3, "accepted_answer_id": 28979476, "answer_count": 3, "score": 7, "last_activity_date": 1426053098, "creation_date": 1426052452, "question_id": 28979361, "link": "https://stackoverflow.com/questions/28979361/implementing-universal-search-in-rails-4", "title": "Implementing Universal search in rails 4", "body": "<p>I have a rails 4 application with number of models and view pages. The application layout of my application contains a search bar. But it is inactive as of now. The purpose of search bar is to allow user to search through all the models for the keyword(s) entered, basically making it a global search. Is there any gem which does universal search? Or it has to be done manually through sql queries?\nI could see way to implement search for a specific model on its view page. But I want it to search through all the models at once. How should I go about it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "associations", "one-to-many"], "comments": [{"owner": {"reputation": 2395, "user_id": 1626261, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/v6cN0.jpg?s=128&g=1", "display_name": "Sonalkumar sute", "link": "https://stackoverflow.com/users/1626261/sonalkumar-sute"}, "edited": false, "score": 0, "creation_date": 1426052051, "post_id": 28979228, "comment_id": 46208824, "body": "With this, do you get location object <code>@share_location.location</code>"}], "answers": [{"tags": [], "owner": {"reputation": 34818, "user_id": 2149092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34986a72d47c42ae5685b37ba32d1e22?s=128&d=identicon&r=PG", "display_name": "Mohammad AbuShady", "link": "https://stackoverflow.com/users/2149092/mohammad-abushady"}, "is_accepted": false, "score": 0, "last_activity_date": 1426052573, "creation_date": 1426052573, "answer_id": 28979390, "question_id": 28979228, "link": "https://stackoverflow.com/questions/28979228/ruby-on-rails-accessing-parent-attribute-though-one-to-many-association/28979390#28979390", "title": "Ruby on Rails - Accessing Parent Attribute Though One to Many Association", "body": "<p>What you need is <code>autosave</code>, I thought it should be working but I just looked this up</p>\n\n<blockquote>\n  <p>When the :autosave option is not present then new association records are saved but the updated association records are not saved</p>\n</blockquote>\n\n<p>So this is why your update isn't saved, to fix this you need to force autosave</p>\n\n<pre><code>class Location &lt; ActiveRecord::Base\n  has_many :share_locations, dependent: :destroy, autosave: true\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 829, "user_id": 2363239, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JaRRj.jpg?s=128&g=1", "display_name": "ScottOBot", "link": "https://stackoverflow.com/users/2363239/scottobot"}, "edited": false, "score": 0, "creation_date": 1426057643, "post_id": 28980285, "comment_id": 46210881, "body": "Awesome! Thank you so much that did the trick! @Rustam A. Gasanov"}], "tags": [], "owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1426056767, "creation_date": 1426056767, "answer_id": 28980285, "question_id": 28979228, "link": "https://stackoverflow.com/questions/28979228/ruby-on-rails-accessing-parent-attribute-though-one-to-many-association/28980285#28980285", "title": "Ruby on Rails - Accessing Parent Attribute Though One to Many Association", "body": "<p>The issue with your code is that you're updating 2 objects: <code>share_location</code> AND <code>location</code>, but saving only <code>share_location</code>. To save both objects, you can:</p>\n\n<pre><code>if @share_location\n  @share_location.is_valid = false\n  @share_location.save\n\n  @share_location.location.owner_id = new_owner_id\n  @share_location.location.save\nend\n</code></pre>\n\n<p>OR if you want to save associated models automatically, you could use <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/AutosaveAssociation.html\" rel=\"nofollow\"><code>:autosave</code></a> option on your association:</p>\n\n<blockquote>\n  <p>AutosaveAssociation is a module that takes care of automatically saving associated records when their parent is saved.</p>\n</blockquote>\n\n<p>I didn't try, but it should work with <code>belongs_to</code>:</p>\n\n<pre><code>class ShareLocation &lt; ActiveRecord::Base\n  belongs_to :location, autosave: true\nend\n</code></pre>\n\n<p>Having this, you should be able to save parent(<code>share_location</code>) and Rails will take care of saving associated <code>location</code> automatically.</p>\n"}], "owner": {"reputation": 829, "user_id": 2363239, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JaRRj.jpg?s=128&g=1", "display_name": "ScottOBot", "link": "https://stackoverflow.com/users/2363239/scottobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 28980285, "answer_count": 2, "score": 0, "last_activity_date": 1426056767, "creation_date": 1426051784, "question_id": 28979228, "link": "https://stackoverflow.com/questions/28979228/ruby-on-rails-accessing-parent-attribute-though-one-to-many-association", "title": "Ruby on Rails - Accessing Parent Attribute Though One to Many Association", "body": "<p>I'm fairly new to Ruby on Rails and am having issues using a one to many association I set up between two models.  Here is the code for the two models that define the one to many association:</p>\n\n<pre><code>class Location &lt; ActiveRecord::Base\n  has_many :reviews, -&gt; { order 'created_at DESC' }, dependent: :destroy\n  has_many :share_locations, dependent: :destroy\nend\n\nclass ShareLocation &lt; ActiveRecord::Base\n  belongs_to :location\nend\n</code></pre>\n\n<p>In a view controller I find a <code>ShareLocation</code> instance and attempt to change an attribute of the <code>Location</code> it belongs to. </p>\n\n<pre><code>@share_location = ShareLocation.find_by(share_code: share_code)\n\nif @share_location\n  @share_location.is_valid = false\n  @share_location.location.owner_id = new_owner_id\n  @share_location.save\nend\n</code></pre>\n\n<p>When I change the <code>is_valid</code> attribute of the <code>ShareLocation</code> instance it properly updates upon save.  However when I attempt to update the <code>owner_id</code> of the <code>Location</code> that the <code>ShareLocation</code> belongs to nothing seems to happen.  I am pretty new at this and hope this question hasn't already been asked/answered.  I did some research and found many questions that mentioned <code>nested attributes</code> and <code>:foreign_key</code>.  I can't seem to grasp these concepts and am having trouble seeing how they could help or be applied to my situation.  Could someone please explain to me how to solve this issue and what exactly I am doing wrong.  If this question is a repeat please point me in the right direction and I will remove it.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rails-spring"], "comments": [{"owner": {"reputation": 3434, "user_id": 587959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8a12c9364e0bc741b5784d0020084c78?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/587959/eric"}, "edited": false, "score": 0, "creation_date": 1426050920, "post_id": 28978902, "comment_id": 46208457, "body": "This seems like a bug with the spring gem so I also asked the authors about it <a href=\"https://github.com/rails/spring/issues/395\" rel=\"nofollow noreferrer\">here</a>. I will update if there is any progress."}], "answers": [{"comments": [{"owner": {"reputation": 3434, "user_id": 587959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8a12c9364e0bc741b5784d0020084c78?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/587959/eric"}, "reply_to_user": {"reputation": 3506, "user_id": 112538, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a771471ac58aaabdeb883001d6b7c07?s=128&d=identicon&r=PG", "display_name": "asymmetric", "link": "https://stackoverflow.com/users/112538/asymmetric"}, "edited": false, "score": 0, "creation_date": 1426173044, "post_id": 28981209, "comment_id": 46271695, "body": "Stackoverflow makes you wait 2 days :)"}], "tags": [], "owner": {"reputation": 3434, "user_id": 587959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8a12c9364e0bc741b5784d0020084c78?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/587959/eric"}, "is_accepted": false, "score": 0, "last_activity_date": 1426060584, "creation_date": 1426060584, "answer_id": 28981209, "question_id": 28978902, "link": "https://stackoverflow.com/questions/28978902/rails-4-2-ruby-2-2-1-spring-wont-start/28981209#28981209", "title": "Rails 4.2 Ruby 2.2.1 Spring won&#39;t start", "body": "<p>Ah, seems that spring is not supported on windows. Just re-read the <a href=\"https://github.com/rails/spring\" rel=\"nofollow\">docs</a></p>\n\n<pre><code>Spring makes extensive use of Process.fork, so won't be able to provide a speed up on platforms which don't support forking (Windows, JRuby).\n</code></pre>\n"}], "owner": {"reputation": 3434, "user_id": 587959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8a12c9364e0bc741b5784d0020084c78?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/587959/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426060584, "creation_date": 1426050084, "last_edit_date": 1426052623, "question_id": 28978902, "link": "https://stackoverflow.com/questions/28978902/rails-4-2-ruby-2-2-1-spring-wont-start", "title": "Rails 4.2 Ruby 2.2.1 Spring won&#39;t start", "body": "<p>I just did a fresh install of rails using <a href=\"https://s3.amazonaws.com/railsinstaller/Windows/railsinstaller-3.1.0.exe\" rel=\"nofollow\">RailsInstaller Ruby 2.1</a></p>\n\n<p>And after I did a bundle install and everything succeeded I tried to start up spring and got the following error:</p>\n\n<pre><code>    C:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/spring-1.3.3/lib/spring/sid.rb:33:in ``': No such file or directory\n - ps -p 1108 -o sess= (Errno::ENOENT)\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/spring-1.3.3/lib/spring/sid.rb:33:in `sid'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/spring-1.3.3/lib/spring/sid.rb:39:in `pgid'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/spring-1.3.3/lib/spring/server.rb:78:in `set_pgid'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/spring-1.3.3/lib/spring/server.rb:34:in `boot'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/spring-1.3.3/lib/spring/server.rb:14:in `boot'\n        from -e:1:in `&lt;main&gt;'\n</code></pre>\n\n<p>Here is what my sid.rb file looks like</p>\n\n<pre><code>begin\n  # If rubygems is present, keep it out of the way when loading fiddle,\n  # otherwise if fiddle is not installed then rubygems will load all\n  # gemspecs in its (futile) search for fiddle, which is slow.\n  if respond_to?(:gem_original_require, true)\n    gem_original_require 'fiddle'\n  else\n    require 'fiddle'\n  end\nrescue LoadError\nend\n\nmodule Spring\n  module SID\n    def self.fiddle_func\n      @fiddle_func ||= Fiddle::Function.new(\n        DL::Handle::DEFAULT['getsid'],\n        [Fiddle::TYPE_INT],\n        Fiddle::TYPE_INT\n      )\n    end\n\n    def self.sid\n      @sid ||= begin\n        if Process.respond_to?(:getsid)\n          # Ruby 2\n          Process.getsid\n        elsif defined?(Fiddle) and defined?(DL)\n          # Ruby 1.9.3 compiled with libffi support\n          fiddle_func.call(0)\n        else\n          # last resort: shell out\n          `ps -p #{Process.pid} -o sess=`.to_i\n        end\n      end\n    end\n\n    def self.pgid\n      Process.getpgid(sid)\n    end\n  end\nend\n</code></pre>\n\n<p>I suppose that the that real error is that it can't get the sid here:</p>\n\n<pre><code> if Process.respond_to?(:getsid)\n      # Ruby 2\n      Process.getsid\n</code></pre>\n\n<p>But I have no idea what to do about this. I am using spring 1.3.3 which is the latest version. </p>\n\n<p>Thanks,</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 3831672, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZVp0M.jpg?s=128&g=1", "display_name": "Jiggs", "link": "https://stackoverflow.com/users/3831672/jiggs"}, "is_accepted": true, "score": 1, "last_activity_date": 1426049541, "creation_date": 1426049541, "answer_id": 28978806, "question_id": 28978762, "link": "https://stackoverflow.com/questions/28978762/how-to-pass-an-array-as-a-argument-in-rails-query/28978806#28978806", "title": "How to pass an array as a argument in rails query?", "body": "<p>@sank : your error gives your answer</p>\n\n<p>there is syntax error in your query...</p>\n\n<p>Instead of this</p>\n\n<pre><code>Event.where(\"id IN ? and event_start_date &gt; ?\",[1, 2],Time.now)\n</code></pre>\n\n<p>try this :</p>\n\n<pre><code>Event.where(\"id IN (?) and event_start_date &gt; (?)\",[1, 2],Time.now)\n</code></pre>\n\n<p>put () beside ?.</p>\n"}, {"tags": [], "owner": {"reputation": 5242, "user_id": 3083848, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/JMddU.jpg?s=128&g=1", "display_name": "Emu", "link": "https://stackoverflow.com/users/3083848/emu"}, "is_accepted": false, "score": 0, "last_activity_date": 1426049713, "creation_date": 1426049713, "answer_id": 28978841, "question_id": 28978762, "link": "https://stackoverflow.com/questions/28978762/how-to-pass-an-array-as-a-argument-in-rails-query/28978841#28978841", "title": "How to pass an array as a argument in rails query?", "body": "<pre><code>Event.where(\"id IN(?) AND event_start_date &lt; (?)\", [1,2,3], Time.now)\n</code></pre>\n\n<p>You're missing the <code>()</code> around the <strong>?</strong> mark sign.</p>\n"}, {"comments": [{"owner": {"reputation": 7188, "user_id": 597358, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/549be4b1e60fe2cbf6b0724802961705?s=128&d=identicon&r=PG", "display_name": "messanjah", "link": "https://stackoverflow.com/users/597358/messanjah"}, "edited": false, "score": 0, "creation_date": 1426051573, "post_id": 28978903, "comment_id": 46208673, "body": "With this solution, the query will only looks for Events with a start date of EXACTLY &quot;now.&quot; Consider revising your answer to include the greater-than condition used in the question."}], "tags": [], "owner": {"reputation": 2594, "user_id": 2628223, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dbHga.jpg?s=128&g=1", "display_name": "BigRon", "link": "https://stackoverflow.com/users/2628223/bigron"}, "is_accepted": false, "score": 4, "last_activity_date": 1426050577, "last_edit_date": 1426050577, "creation_date": 1426050090, "answer_id": 28978903, "question_id": 28978762, "link": "https://stackoverflow.com/questions/28978762/how-to-pass-an-array-as-a-argument-in-rails-query/28978903#28978903", "title": "How to pass an array as a argument in rails query?", "body": "<p>You have a syntax error. I think you can make your code easier to read, which would help prevent this kind of error:</p>\n\n<pre><code>Event.where({ id: [1, 2], event_start_date: Time.now })\n</code></pre>\n\n<p>In this format you pass a hash to the where query with <code>id</code> and <code>event_start_date</code> as the hash keys, and <code>[1, 2]</code> (an array) and <code>Time.now</code> as the values.</p>\n\n<p>This is much more readable and easier to debug.</p>\n"}, {"tags": [], "owner": {"reputation": 7188, "user_id": 597358, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/549be4b1e60fe2cbf6b0724802961705?s=128&d=identicon&r=PG", "display_name": "messanjah", "link": "https://stackoverflow.com/users/597358/messanjah"}, "is_accepted": false, "score": 3, "last_activity_date": 1426050179, "creation_date": 1426050179, "answer_id": 28978918, "question_id": 28978762, "link": "https://stackoverflow.com/questions/28978762/how-to-pass-an-array-as-a-argument-in-rails-query/28978918#28978918", "title": "How to pass an array as a argument in rails query?", "body": "<p>For a combination of an array argument and a range operation, I would do this as I find it more readable:</p>\n\n<pre><code>Event.where(id: [1, 2]).where(\"event_start_date &gt; ?\", Time.now)\n</code></pre>\n"}], "owner": {"reputation": 724, "user_id": 4595811, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gEgiS.jpg?s=128&g=1", "display_name": "sank", "link": "https://stackoverflow.com/users/4595811/sank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 28978806, "answer_count": 4, "score": 0, "last_activity_date": 1426051281, "creation_date": 1426049294, "last_edit_date": 1426051281, "question_id": 28978762, "link": "https://stackoverflow.com/questions/28978762/how-to-pass-an-array-as-a-argument-in-rails-query", "title": "How to pass an array as a argument in rails query?", "body": "<p>I am trying to execute query below but I get an error.</p>\n\n<pre><code>Event.where(\"id IN ? and event_start_date &gt; ?\",[1, 2],Time.now)\n</code></pre>\n\n<p>I get error as follows:</p>\n\n<pre><code>SELECT \"events\".* FROM \"events\" WHERE (id IN 1,2 and event_start_date &gt; '2015-03-11 04:40:43.819487')\nPG::SyntaxError: ERROR:  syntax error at or near \"1\"\nLINE 1: SELECT \"events\".* FROM \"events\" WHERE (id IN 1,2 and event_s...\n</code></pre>\n\n<p>Parameter value is not consider as an array.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "metaprogramming"], "answers": [{"comments": [{"owner": {"reputation": 2359, "user_id": 1837084, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/67dya.jpg?s=128&g=1", "display_name": "Oleg Antonyan", "link": "https://stackoverflow.com/users/1837084/oleg-antonyan"}, "edited": false, "score": 0, "creation_date": 1426056412, "post_id": 28979852, "comment_id": 46210436, "body": "Nope, same error <code>undefined method</code>. As I know it has to be inside <code>Class</code> since it&#39;s a new class method for all classes"}], "tags": [], "owner": {"reputation": 102, "user_id": 2210204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39f0a0be6c55d718411b844e66f3a474?s=128&d=identicon&r=PG", "display_name": "shade88", "link": "https://stackoverflow.com/users/2210204/shade88"}, "is_accepted": true, "score": 2, "last_activity_date": 1426063395, "last_edit_date": 1426063395, "creation_date": 1426054712, "answer_id": 28979852, "question_id": 28978711, "link": "https://stackoverflow.com/questions/28978711/rails-lib-module-with-class-class-and-custom-attr-accessor/28979852#28979852", "title": "Rails lib/module with &#39;class Class&#39; and custom attr_accessor", "body": "<p>Try to define your method attr_accessor_with_onchange_callback directly in ModelHelpers, without class Class. And use extend keyword instead include inside class defenition. Like this:</p>\n\n<pre><code>module ModelHelpers\n  def attr_accessor_with_onchange_callback(*args, &amp;block)\n...\n\nrequire 'model_helpers'\nclass MyCLass &lt; ActiveRecord::Base\n  extend ModelHelpers\n</code></pre>\n\n<p>Here is my example:</p>\n\n<pre><code>module ModelHelpers\n    def my_method\n        puts 'ModelHelpers::my_method called.'\n        puts \"self is #{self}\"\n    end\nend\n\nclass MyCLass \n  extend ModelHelpers\n  my_method\nend\n</code></pre>\n\n<p>And output is:</p>\n\n<pre><code>&gt; ruby custom_method_inside_class.rb\nModelHelpers::my_method called.\nself is MyCLass\n</code></pre>\n"}], "owner": {"reputation": 2359, "user_id": 1837084, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/67dya.jpg?s=128&g=1", "display_name": "Oleg Antonyan", "link": "https://stackoverflow.com/users/1837084/oleg-antonyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 28979852, "answer_count": 1, "score": 0, "last_activity_date": 1426063395, "creation_date": 1426048950, "question_id": 28978711, "link": "https://stackoverflow.com/questions/28978711/rails-lib-module-with-class-class-and-custom-attr-accessor", "title": "Rails lib/module with &#39;class Class&#39; and custom attr_accessor", "body": "<p>I want to make my own attr_accessor like this:</p>\n\n<pre><code>  class Class\n    def attr_accessor_with_onchange_callback(*args, &amp;block)\n      raise 'Callback block is required' unless block\n      args.each do |arg|\n        attr_name = arg.to_s\n        define_method(attr_name) do\n           self.instance_variable_get(\"@#{attr_name}\")\n        end\n        define_method(\"#{attr_name}=\") do |argument|\n          old_value = self.instance_variable_get(\"@#{attr_name}\")\n          if argument != old_value\n            self.instance_variable_set(\"@#{attr_name}\", argument)\n            self.instance_exec(attr_name, argument, old_value, &amp;block)\n          end\n        end   \n      end\n    end\n  end\n</code></pre>\n\n<p>It works if I put this definition in <code>config/enviroment.rb</code> before app initialization.</p>\n\n<pre><code>class MyCLass &lt; ActiveRecord::Base\n  attr_accessor_with_onchange_callback :some_attr do |attr_name, value, old_value|\n  end\n</code></pre>\n\n<p>But I think it should be inside lib/ folder. If I put this</p>\n\n<pre><code>module ModelHelpers\n  class Class\n    def attr_accessor_with_onchange_callback(*args, &amp;block)\n      raise 'Callback block is required' unless block\n      args.each do |arg|\n        attr_name = arg.to_s\n        define_method(attr_name) do\n           self.instance_variable_get(\"@#{attr_name}\")\n        end\n        define_method(\"#{attr_name}=\") do |argument|\n          old_value = self.instance_variable_get(\"@#{attr_name}\")\n          if argument != old_value\n            self.instance_variable_set(\"@#{attr_name}\", argument)\n            self.instance_exec(attr_name, argument, old_value, &amp;block)\n          end\n        end   \n      end\n    end\n  end\nend\n</code></pre>\n\n<p>to <code>lib/model_helpers.rb</code> and this</p>\n\n<pre><code>require 'model_helpers'\nclass MyCLass &lt; ActiveRecord::Base\n  include ModelHelpers\n  attr_accessor_with_onchange_callback :some_attr do |attr_name, value, old_value|\nend\n</code></pre>\n\n<p>to my_class.rb then I get an error: <code>undefined method attr_accessor_with_onchange_callback</code>.\nWhat am I doing wrong?</p>\n"}, {"tags": ["ruby", "watir", "watir-webdriver", "launchd"], "comments": [{"owner": {"reputation": 223, "user_id": 2033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8e518c6df4759ef7cf5175fb15d529?s=128&d=identicon&r=PG", "display_name": "Sonja Leaf", "link": "https://stackoverflow.com/users/2033562/sonja-leaf"}, "edited": false, "score": 0, "creation_date": 1426098326, "post_id": 28978352, "comment_id": 46237078, "body": "Are you using <code>rvm</code> or <code>rbenv</code> to manage your ruby installations? If you type <code>which ruby</code> in a terminal where the script works, what is the path to the ruby executable?"}, {"owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "reply_to_user": {"reputation": 223, "user_id": 2033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8e518c6df4759ef7cf5175fb15d529?s=128&d=identicon&r=PG", "display_name": "Sonja Leaf", "link": "https://stackoverflow.com/users/2033562/sonja-leaf"}, "edited": false, "score": 0, "creation_date": 1426112882, "post_id": 28978352, "comment_id": 46245112, "body": "I get this &quot;$ which ruby /Users/Greg/.rbenv/shims/ruby&quot; - does this help?   Note I posted the fix or workaround (not sure which one) as the answer.  Not sure if this assists in helping understand why the script worked via terminal but not via LaunchControl"}, {"owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "edited": false, "score": 0, "creation_date": 1426126765, "post_id": 28978352, "comment_id": 46249397, "body": "So the ruby, and likely gems as well is under a directory belonging to your user.  but unless launch-control runs in the same user context, it likely has no access to stuff under your user&#39;s directory."}], "answers": [{"comments": [{"owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "edited": false, "score": 0, "creation_date": 1426126664, "post_id": 28998559, "comment_id": 46249365, "body": "given the error you had, it seems strange that this would have fixed the problem"}, {"owner": {"reputation": 223, "user_id": 2033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8e518c6df4759ef7cf5175fb15d529?s=128&d=identicon&r=PG", "display_name": "Sonja Leaf", "link": "https://stackoverflow.com/users/2033562/sonja-leaf"}, "edited": false, "score": 0, "creation_date": 1426171855, "post_id": 28998559, "comment_id": 46270873, "body": "I agree with Chuck van der Linden. I would have proposed changing the top line of your file from <code>#!&#47;usr&#47;bin&#47;ruby</code> to <code>#!&#47;usr&#47;bin&#47;env ruby</code>. The first of your script is telling it to use the system version of ruby. Changing <code>ruby</code> to <code>env ruby</code> lets the script use the ruby available in the current environment. There may or may not be other changes that should be made to allow this to behave gracefully."}], "tags": [], "owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "is_accepted": true, "score": 1, "last_activity_date": 1426112771, "creation_date": 1426112771, "answer_id": 28998559, "question_id": 28978352, "link": "https://stackoverflow.com/questions/28978352/ruby-cannot-load-file-when-run-from-launchcontrol/28998559#28998559", "title": "ruby cannot load file when run from LaunchControl?", "body": "<p>actually I managed to find a post/lead that ended up working.  The following line added to the beginning of my ruby script made things work:</p>\n\n<pre><code>Selenium::WebDriver::Chrome::Service.executable_path = '/usr/local/bin/chromedriver'\n</code></pre>\n\n<p>(not sure if one would view this as the root cause fix, c.f. workaround)</p>\n"}], "owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 28998559, "answer_count": 1, "score": 0, "last_activity_date": 1426112771, "creation_date": 1426046625, "question_id": 28978352, "link": "https://stackoverflow.com/questions/28978352/ruby-cannot-load-file-when-run-from-launchcontrol", "title": "ruby cannot load file when run from LaunchControl?", "body": "<p>I have a ruby file that runs files directly in command line via:</p>\n\n<pre><code>ruby /Users/Greg/Dropbox/source_ruby/myapp/main.rb\n</code></pre>\n\n<p>When I try to schedule this using LaunchControl on Mac however (using the same command line call) I get the following error?</p>\n\n<pre><code>/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- watir-webdriver (LoadError)\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/Greg/Dropbox/source_ruby/myapp/main.rb:3:in `&lt;main&gt;'\n</code></pre>\n\n<p>This is noting the first lines of my main.rb file are:</p>\n\n<pre><code>#!/usr/bin/ruby\n\nrequire 'watir-webdriver'\nrequire 'nokogiri'\n</code></pre>\n\n<p>Any ideas why?  (i.e. why it would run fine when I open a Terminal session, then use the same command line to run it, but when I try to schedule in LaunchControl I get the error)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "form-for"], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 4647241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3ad5d2f8fd646f253df311c6394fe18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Murphy", "link": "https://stackoverflow.com/users/4647241/neil-murphy"}, "edited": false, "score": 0, "creation_date": 1426041329, "post_id": 28977521, "comment_id": 46206115, "body": "I tried that as well but it return 1 for any value when the form was submitted"}, {"owner": {"reputation": 247, "user_id": 4647241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3ad5d2f8fd646f253df311c6394fe18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Murphy", "link": "https://stackoverflow.com/users/4647241/neil-murphy"}, "edited": false, "score": 0, "creation_date": 1426042698, "post_id": 28977521, "comment_id": 46206451, "body": "Removing  :selected =&gt; params[:mark_up] had no effect, so all values were still present in the dropdown box but no matter what value was chosen 1.0 was submitted"}], "tags": [], "owner": {"reputation": 5385, "user_id": 1863692, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/047956b4fb1bf3839b4e651b2cdce88e?s=128&d=identicon&r=PG", "display_name": "Andrew Hendrie", "link": "https://stackoverflow.com/users/1863692/andrew-hendrie"}, "is_accepted": false, "score": 0, "last_activity_date": 1426043400, "last_edit_date": 1426043400, "creation_date": 1426040607, "answer_id": 28977521, "question_id": 28977487, "link": "https://stackoverflow.com/questions/28977487/f-select-not-accepting-values/28977521#28977521", "title": "f.select Not accepting values", "body": "<p>Try this: </p>\n\n<pre><code>&lt;%= f.select(:mark_up, options_for_select([[1.00],[1.10],[1.15],[1.20],                    \n[1.25],[1.30],[1.35],[1.40],[1.45],[1.50]], selected: :mark_up )) %&gt;\n</code></pre>\n\n<p>See this link for more info on <a href=\"http://apidock.com/rails/ActionView/Helpers/FormOptionsHelper/options_for_select\" rel=\"nofollow\">rails form helpers - options for select</a></p>\n"}, {"comments": [{"owner": {"reputation": 247, "user_id": 4647241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3ad5d2f8fd646f253df311c6394fe18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Murphy", "link": "https://stackoverflow.com/users/4647241/neil-murphy"}, "edited": false, "score": 0, "creation_date": 1426121819, "post_id": 28978816, "comment_id": 46248076, "body": "Both are still producing the same result"}], "tags": [], "owner": {"reputation": 534, "user_id": 3021850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f1576e9922e0d8db09e8c25df7b49f?s=128&d=identicon&r=PG", "display_name": "Nelio", "link": "https://stackoverflow.com/users/3021850/nelio"}, "is_accepted": false, "score": 0, "last_activity_date": 1426049596, "creation_date": 1426049596, "answer_id": 28978816, "question_id": 28977487, "link": "https://stackoverflow.com/questions/28977487/f-select-not-accepting-values/28978816#28978816", "title": "f.select Not accepting values", "body": "<p>Please the docs for <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/FormOptionsHelper.html#method-i-options_for_select\" rel=\"nofollow\">options_for_select()</a> for usage examples.\nYou can use of both ways:</p>\n\n<pre><code>&lt;%= f.select :mark_up, options_for_select([1.00, 1.10, 1.15, 1.20, 1.25, 1.30, 1.35, 1.40, 1.45, 1.50], :selected =&gt; f.object.mark_up)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;%= f.select :mark_up, options_for_select([1.00, 1.10, 1.15, 1.20, 1.25, 1.30, 1.35, 1.40, 1.45, 1.50], f.object.mark_up)\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 4647241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3ad5d2f8fd646f253df311c6394fe18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Murphy", "link": "https://stackoverflow.com/users/4647241/neil-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426049596, "creation_date": 1426040378, "last_edit_date": 1426043099, "question_id": 28977487, "link": "https://stackoverflow.com/questions/28977487/f-select-not-accepting-values", "title": "f.select Not accepting values", "body": "<p>I am using f.select here for these mark up values. </p>\n\n<p>They appear in the drop down but when the form is submitted the value of 1.00 is displayed for any user's choice:</p>\n\n<pre><code>    &lt;div class=\"field\"&gt;\n    &lt;%= f.label :mark_up %&gt;&lt;br&gt;\n    &lt;%= f.select :mark_up, options_for_select([[1.00],[1.10],[1.15],[1.20],                    \n    [1.25],[1.30],[1.35],[1.40],[1.45],[1.50]],:selected =&gt; params[:mark_up]) %&gt; &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 4656581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NG8zbCOeemg/AAAAAAAAAAI/AAAAAAAAACQ/jqlfYccBMQc/photo.jpg?sz=128", "display_name": "Agustin Cornu", "link": "https://stackoverflow.com/users/4656581/agustin-cornu"}, "is_accepted": true, "score": 1, "last_activity_date": 1426042485, "creation_date": 1426042485, "answer_id": 28977791, "question_id": 28977480, "link": "https://stackoverflow.com/questions/28977480/restclient-throws-some-error-in-ruby/28977791#28977791", "title": "RestClient throws some error in Ruby", "body": "<p>Make sure you are using the 'rest-client' gem and not 'restclient'.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4652667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "accepted_answer_id": 28977791, "answer_count": 1, "score": 1, "last_activity_date": 1426042485, "creation_date": 1426040310, "last_edit_date": 1426042122, "question_id": 28977480, "link": "https://stackoverflow.com/questions/28977480/restclient-throws-some-error-in-ruby", "title": "RestClient throws some error in Ruby", "body": "<p>My code throws an error but I don't know why that error occurs</p>\n\n<pre><code>require 'rest_client'\n\nresponse = RestClient.get 'http://example.com/resource'\nputs response.code\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> i.rb:3:in `&lt;main&gt;': uninitialized constant RestClient (NameError)\n</code></pre>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "refinerycms"], "comments": [{"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 1, "creation_date": 1426039704, "post_id": 28977262, "comment_id": 46205735, "body": "I don&#39;t understand why you would think adding an additional <code>where</code> clause would suddenly yield <i>more</i> records. If you get 34 results in the first query, adding a <code>where</code> can never give you <i>more</i> than the original unrestricted 34 results. <code>where</code> clauses are <i>restrictive</i>. They filter out 0 or more of the records that would otherwise be selected. If I say &quot;show me all red cars&quot;, and I get 10 results, and then I say &quot;show me all red cars with four doors&quot;, there aren&#39;t going to be <i>more</i> cars that fit this new additional criteria."}, {"owner": {"reputation": 325, "user_id": 3324219, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4f2a8c954e9459f1c4562e67874a912a?s=128&d=identicon&r=PG", "display_name": "ProkopS", "link": "https://stackoverflow.com/users/3324219/prokops"}, "reply_to_user": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1426041730, "post_id": 28977262, "comment_id": 46206239, "body": "Of course... I wanted to show what I mean in the result."}], "answers": [{"tags": [], "owner": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "is_accepted": true, "score": 1, "last_activity_date": 1426039529, "creation_date": 1426039529, "answer_id": 28977383, "question_id": 28977262, "link": "https://stackoverflow.com/questions/28977262/rails-query-with-join-returns-less-results-than-should/28977383#28977383", "title": "Rails query with join returns less results than should", "body": "<p>Your query 1 and 2 shows that you have only 34 records in beer brands which means that only few breweries have beer brands and not all 303 and this is why it is returning only 34 records. If you still need all the 303 records use <code>left outer join</code> or <code>right outer join</code>. But you will obviously get null values for the other breweries.</p>\n"}], "owner": {"reputation": 325, "user_id": 3324219, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4f2a8c954e9459f1c4562e67874a912a?s=128&d=identicon&r=PG", "display_name": "ProkopS", "link": "https://stackoverflow.com/users/3324219/prokops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 28977383, "answer_count": 1, "score": -1, "last_activity_date": 1426521002, "creation_date": 1426038717, "last_edit_date": 1426521002, "question_id": 28977262, "link": "https://stackoverflow.com/questions/28977262/rails-query-with-join-returns-less-results-than-should", "title": "Rails query with join returns less results than should", "body": "<p>Why my query returns only 34 records, but there is more than 300 records to return?</p>\n\n<p>Query 1:</p>\n\n<pre><code>2.1.5 :109 &gt; Refinery::BeerBrands::BeerBrand.all.count\n(0.5ms)  SELECT COUNT(*) FROM `refinery_beer_brands`\n=&gt; 34\n</code></pre>\n\n<p>Query 2:</p>\n\n<pre><code>2.1.5 :106 &gt; Refinery::BeerBrands::BeerBrand.joins(:brewery).count\n(0.2ms)  SELECT COUNT(*) FROM `refinery_beer_brands` brewery\n=&gt; 34\n</code></pre>\n\n<p>Query 3:</p>\n\n<pre><code>2.1.5 :112 &gt; ::Refinery::Breweries::Brewery.all.count\n(0.3ms)  SELECT COUNT(*) FROM `refinery_breweries`\n=&gt; 303\n</code></pre>\n\n<p>Query 4:</p>\n\n<pre><code>2.1.5 :111 &gt; ::Refinery::Breweries::Brewery.joins(:beer_brands).count\n(1.0ms)  SELECT COUNT(*) FROM `refinery_breweries` INNER JOIN `refinery_beer_brands` ON `refinery_beer_brands`.`brewery_id` = `refinery_breweries`.`id`\n=&gt; 34\n</code></pre>\n\n<p>Query 5:</p>\n\n<pre><code>2.1.5 :126 &gt; ::Refinery::Breweries::Brewery.joins(:beer_brands).where(:refinery_beer_brands =&gt; { beer_type: [0,1,2,3,4,5] } ).count\n(1.1ms)  SELECT COUNT(*) FROM `refinery_breweries` INNER JOIN `refinery_beer_brands` ON `refinery_beer_brands`.`brewery_id` = `refinery_breweries`.`id` WHERE `refinery_beer_brands`.`beer_type` IN (0, 1, 2, 3, 4, 5)\n=&gt; 34\n</code></pre>\n\n<p>Why the \"query 5\" returns only 34 records? All \"beer_brands\" must have \"beer_type\" selected, and it is in db number 0-5. I want to return 303 records. Each brewery has many beer_brands.</p>\n\n<p>Brewery model:</p>\n\n<pre><code>  has_many :beer_brands, :class_name =&gt; '::Refinery::BeerBrands::BeerBrand'\n</code></pre>\n\n<p>Beer brand model:</p>\n\n<pre><code>  belongs_to :brewery,:class_name =&gt; '::Refinery::Breweries::Brewery'\n</code></pre>\n\n<p>How to get all 304 records with similar query? I want to filter records with different array in query.</p>\n\n<p><strong>//edit 16.3.2015:</strong></p>\n\n<p>Ok, you're right... But I have another problem. What about this case:\n1) brewery can have beer brands, but it doesn't have to\n2) I want fulltext search in brewery title or their related beer brands titles</p>\n\n<p>Now my query looks like:</p>\n\n<pre><code>  out.includes(:beer_brands).where(\"refinery_breweries.title LIKE ? OR refinery_beer_brands.title LIKE ?\", \"%#{pars[:query]}%\", \"%#{pars[:query]}%\")\"\n</code></pre>\n\n<p>Now it throws error:</p>\n\n<pre><code>  Unknown column 'refinery_beer_brands' in 'where clause'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "hash"], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1426044674, "post_id": 28977282, "comment_id": 46206901, "body": "As the last element of <code>a</code> is not a hash, it appears you need an additional step: <code>a.flatten.select { |obj| obj.is_a? Hash }</code>."}], "tags": [], "owner": {"reputation": 154, "user_id": 4656475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oAWq.jpg?s=128&g=1", "display_name": "Zara Kay", "link": "https://stackoverflow.com/users/4656475/zara-kay"}, "is_accepted": true, "score": 1, "last_activity_date": 1426038901, "creation_date": 1426038901, "answer_id": 28977282, "question_id": 28977241, "link": "https://stackoverflow.com/questions/28977241/get-all-hash-in-array-ruby-on-rails/28977282#28977282", "title": "Get all hash in array, ruby on rails", "body": "<p>For this you can use the <code>#flatten</code> or <code>#flatten!</code> methods found for Array's in Ruby</p>\n\n<p>So just use </p>\n\n<p><code>a.flatten</code></p>\n\n<p>and the result will be what is shown in <code>b</code></p>\n\n<p>More information can be found <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-flatten\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 115, "user_id": 4233970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/855ad6c63074201c0dc3ac112fcd3d52?s=128&d=identicon&r=PG&f=1", "display_name": "Dung Nguyen quang", "link": "https://stackoverflow.com/users/4233970/dung-nguyen-quang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 28977282, "answer_count": 1, "score": 0, "last_activity_date": 1426038901, "creation_date": 1426038585, "question_id": 28977241, "link": "https://stackoverflow.com/questions/28977241/get-all-hash-in-array-ruby-on-rails", "title": "Get all hash in array, ruby on rails", "body": "<p>Can I get all hash in array like this:</p>\n\n<pre><code>a = [[[{id =&gt; \"1\", com =&gt; \"abcd\"}],[{id =&gt; \"2\", com =&gt; \"rty\"},{id =&gt; \"3\", com =&gt; \"mnq\"},...]], \"products\"]\n</code></pre>\n\n<p>I want to get hash only like this :</p>\n\n<pre><code>b = [{id =&gt; \"1\", com =&gt; \"abcd\"},{id =&gt; \"2\", com =&gt; \"rty\"},{id =&gt; \"3\", com =&gt; \"mnq\"},...]\n</code></pre>\n\n<p>Please! tell me how to do that in ruby on rails :)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ubuntu", "ruby-on-rails-4", "ubuntu-14.04"], "comments": [{"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1426037741, "post_id": 28976639, "comment_id": 46205229, "body": "What does your <code>database.yml</code> look like?"}, {"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1426037939, "post_id": 28976639, "comment_id": 46205283, "body": "What did you try setting <code>config.time_zone</code> and <code>active_record.default_timezone</code> to?"}, {"owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "edited": false, "score": 0, "creation_date": 1426058865, "post_id": 28976639, "comment_id": 46211336, "body": "Show your <code>config&#47;environment.rb</code>"}, {"owner": {"reputation": 3169, "user_id": 334133, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/40b4a190a6eecf8bb235e921c538c2fc?s=128&d=identicon&r=PG", "display_name": "Tom Brunoli", "link": "https://stackoverflow.com/users/334133/tom-brunoli"}, "edited": false, "score": 2, "creation_date": 1426199348, "post_id": 28976639, "comment_id": 46286221, "body": "It turns out that it was the DATABASE_URL environment variable that caused this issue. I have a password with special characters and because they weren&#39;t url escaped, it errored like this."}], "owner": {"reputation": 3169, "user_id": 334133, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/40b4a190a6eecf8bb235e921c538c2fc?s=128&d=identicon&r=PG", "display_name": "Tom Brunoli", "link": "https://stackoverflow.com/users/334133/tom-brunoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 826, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1426034502, "creation_date": 1426034502, "question_id": 28976639, "link": "https://stackoverflow.com/questions/28976639/undefined-method-default-timezone-for-activerecordbaseclass-on-ubuntu-14", "title": "`undefined method `default_timezone=&#39; for ActiveRecord::Base:Class` on Ubuntu 14.04", "body": "<p>I'm trying to set up an Ubuntu 14.04 instance to host a rails 4.2 application that I'm developing, but I keep hitting this same error, no matter how ruby/rails are installed. I'm using ruby 2.2.0, and rails 4.2.0</p>\n\n<p>When I try to run any command that initialises rails, I get the following exception:</p>\n\n<pre><code>undefined method `default_timezone=' for ActiveRecord::Base:Class\n</code></pre>\n\n<p>This occurs when using ruby installed via the <code>brightbox/ruby-ng</code> apt repository, and when installed via <code>rbenv</code> and <code>ruby-build</code>. The application doesn't have this error with the same versions of ruby/rails installed on my OS X 10.10.2 machine.</p>\n\n<p>Here's the full stack trace when running <code>$ bin/rake db:migrate --trace</code>:</p>\n\n<pre><code>** Invoke db:migrate (first_time)\n** Invoke environment (first_time)\n** Execute environment\nrake aborted!\nNoMethodError: undefined method `default_timezone=' for ActiveRecord::Base:Class\n/var/lib/gems/2.2.0/gems/activerecord-4.2.0/lib/active_record/dynamic_matchers.rb:26:in `method_missing'\n/var/lib/gems/2.2.0/gems/activerecord-4.2.0/lib/active_record/railtie.rb:71:in `block (2 levels) in &lt;class:Railtie&gt;'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/lazy_load_hooks.rb:38:in `instance_eval'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/lazy_load_hooks.rb:38:in `execute_hook'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/lazy_load_hooks.rb:28:in `block in on_load'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/lazy_load_hooks.rb:27:in `each'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/lazy_load_hooks.rb:27:in `on_load'\n/var/lib/gems/2.2.0/gems/activerecord-4.2.0/lib/active_record/railtie.rb:69:in `block in &lt;class:Railtie&gt;'\n/var/lib/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:30:in `instance_exec'\n/var/lib/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:30:in `run'\n/var/lib/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:55:in `block in run_initializers'\n/usr/lib/ruby/2.2.0/tsort.rb:226:in `block in tsort_each'\n/usr/lib/ruby/2.2.0/tsort.rb:348:in `block (2 levels) in each_strongly_connected_component'\n/usr/lib/ruby/2.2.0/tsort.rb:429:in `each_strongly_connected_component_from'\n/usr/lib/ruby/2.2.0/tsort.rb:347:in `block in each_strongly_connected_component'\n/usr/lib/ruby/2.2.0/tsort.rb:345:in `each'\n/usr/lib/ruby/2.2.0/tsort.rb:345:in `call'\n/usr/lib/ruby/2.2.0/tsort.rb:345:in `each_strongly_connected_component'\n/usr/lib/ruby/2.2.0/tsort.rb:224:in `tsort_each'\n/usr/lib/ruby/2.2.0/tsort.rb:203:in `tsort_each'\n/var/lib/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:54:in `run_initializers'\n/var/lib/gems/2.2.0/gems/railties-4.2.0/lib/rails/application.rb:352:in `initialize!'\n[redacted project dir]/config/environment.rb:5:in `&lt;top (required)&gt;'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `block in require'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:240:in `load_dependency'\n/var/lib/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'\n/var/lib/gems/2.2.0/gems/railties-4.2.0/lib/rails/application.rb:328:in `require_environment!'\n/var/lib/gems/2.2.0/gems/railties-4.2.0/lib/rails/application.rb:443:in `block in run_tasks_blocks'\n/usr/lib/ruby/2.2.0/rake/task.rb:240:in `call'\n/usr/lib/ruby/2.2.0/rake/task.rb:240:in `block in execute'\n/usr/lib/ruby/2.2.0/rake/task.rb:235:in `each'\n/usr/lib/ruby/2.2.0/rake/task.rb:235:in `execute'\n/usr/lib/ruby/2.2.0/rake/task.rb:179:in `block in invoke_with_call_chain'\n/usr/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/usr/lib/ruby/2.2.0/rake/task.rb:172:in `invoke_with_call_chain'\n/usr/lib/ruby/2.2.0/rake/task.rb:201:in `block in invoke_prerequisites'\n/usr/lib/ruby/2.2.0/rake/task.rb:199:in `each'\n/usr/lib/ruby/2.2.0/rake/task.rb:199:in `invoke_prerequisites'\n/usr/lib/ruby/2.2.0/rake/task.rb:178:in `block in invoke_with_call_chain'\n/usr/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'\n/usr/lib/ruby/2.2.0/rake/task.rb:172:in `invoke_with_call_chain'\n/usr/lib/ruby/2.2.0/rake/task.rb:165:in `invoke'\n/usr/lib/ruby/2.2.0/rake/application.rb:150:in `invoke_task'\n/usr/lib/ruby/2.2.0/rake/application.rb:106:in `block (2 levels) in top_level'\n/usr/lib/ruby/2.2.0/rake/application.rb:106:in `each'\n/usr/lib/ruby/2.2.0/rake/application.rb:106:in `block in top_level'\n/usr/lib/ruby/2.2.0/rake/application.rb:115:in `run_with_threads'\n/usr/lib/ruby/2.2.0/rake/application.rb:100:in `top_level'\n/usr/lib/ruby/2.2.0/rake/application.rb:78:in `block in run'\n/usr/lib/ruby/2.2.0/rake/application.rb:176:in `standard_exception_handling'\n/usr/lib/ruby/2.2.0/rake/application.rb:75:in `run'\nbin/rake:4:in `&lt;main&gt;'\nTasks: TOP =&gt; db:migrate =&gt; environment\n</code></pre>\n\n<p>I've tried setting <code>config.time_zone</code> and <code>config.active_record.default_timezone</code> in my <code>config/application.rb</code> file, but neither helped.</p>\n\n<p>Does anyone have any suggestions to fix this?</p>\n"}, {"tags": ["ruby", "ruby-2.2"], "answers": [{"tags": [], "owner": {"reputation": 12168, "user_id": 2772643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lg8P7.png?s=128&g=1", "display_name": "victorkt", "link": "https://stackoverflow.com/users/2772643/victorkt"}, "is_accepted": true, "score": 3, "last_activity_date": 1426036135, "last_edit_date": 1495535200, "creation_date": 1426036135, "answer_id": 28976902, "question_id": 28976531, "link": "https://stackoverflow.com/questions/28976531/function-overloading-in-ruby/28976902#28976902", "title": "Function overloading in Ruby", "body": "<p>Ruby doesn't support method overloading. In your code, your second definition of <code>foo1</code> replaced the first. That's why you get an error when you try to pass arguments, the method that accepted arguments is gone.</p>\n\n<p>There is a question on SO about this topic <a href=\"https://stackoverflow.com/questions/9373104/why-doesnt-ruby-support-method-overloading\">here</a>, with some good explanations.</p>\n"}, {"comments": [{"owner": {"reputation": 1558, "user_id": 2126725, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/651be73a06a63f54dbddf75624b56ef9?s=128&d=identicon&r=PG&f=1", "display_name": "SeasonalShot", "link": "https://stackoverflow.com/users/2126725/seasonalshot"}, "edited": false, "score": 0, "creation_date": 1426185755, "post_id": 28982630, "comment_id": 46279656, "body": "Yes, i figured that out. A different way to approach function overloading. Pretty slick."}], "tags": [], "owner": {"reputation": 61, "user_id": 4657589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc8327c4284c080e3714dfa2bec1f85?s=128&d=identicon&r=PG&f=1", "display_name": "Adri&#225;n Fern&#225;ndez", "link": "https://stackoverflow.com/users/4657589/adri%c3%a1n-fern%c3%a1ndez"}, "is_accepted": false, "score": 1, "last_activity_date": 1426065775, "creation_date": 1426065775, "answer_id": 28982630, "question_id": 28976531, "link": "https://stackoverflow.com/questions/28976531/function-overloading-in-ruby/28982630#28982630", "title": "Function overloading in Ruby", "body": "<p>Maybe you could use variable arguments: </p>\n\n<pre><code>def foo1(*args)\n  case args.length\n    when 1\n      puts \"Function A\"\n    when 2\n      puts \"Function B\"\n    else\n      puts \"Called with #{args.length} arguments\"\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 1558, "user_id": 2126725, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/651be73a06a63f54dbddf75624b56ef9?s=128&d=identicon&r=PG&f=1", "display_name": "SeasonalShot", "link": "https://stackoverflow.com/users/2126725/seasonalshot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "closed_date": 1426143720, "accepted_answer_id": 28976902, "answer_count": 2, "score": 1, "last_activity_date": 1426065775, "creation_date": 1426033701, "question_id": 28976531, "link": "https://stackoverflow.com/questions/28976531/function-overloading-in-ruby", "closed_reason": "Duplicate", "title": "Function overloading in Ruby", "body": "<p>I have this piece of code in Ruby. </p>\n\n<pre><code>class Superheros\nclass&lt;&lt;self\n\n    def foo1(param1)\n        print \"foo1 got executed\\n\"\n    end\n\n    def foo1\n        print \"foo1 without param got executed\\n\"\n    end\n    def foo3(param1,param2)\n        print \"foo3 got executed\\n\"\n    end\nend\nend\n\nprint Superheros.foo3(2,3) \nprint Superheros.foo1\nprint Superheros.foo1 \nprint Superheros.foo1(5)\n</code></pre>\n\n<p>I get the error in <code>Superheros.foo1(5)</code> . But i already have the function <code>foo1(param1)</code> to match it with, but it gives me an error \n<code>`foo1': wrong number of arguments (1 for 0) (ArgumentError)</code></p>\n\n<p>Why is that? \nPS: I found out if i remove the function name <em>without</em> the parameter, \nthe <code>Superheros.foo1(5)</code> works just fine. </p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 29582, "user_id": 1427098, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Bvdm0.jpg?s=128&g=1", "display_name": "Darshan Rivka Whittle", "link": "https://stackoverflow.com/users/1427098/darshan-rivka-whittle"}, "is_accepted": true, "score": 1, "last_activity_date": 1426034758, "creation_date": 1426034758, "answer_id": 28976676, "question_id": 28976481, "link": "https://stackoverflow.com/questions/28976481/reading-a-specific-column-of-data-from-a-text-file-in-ruby/28976676#28976676", "title": "Reading a specific column of data from a text file in Ruby", "body": "<p>You can still use CSV; just set the column separator to the space character:</p>\n\n<pre><code>require 'csv'\n\nCSV.open('data', :col_sep=&gt;\" \").each do |row|\n  puts row[2].to_f\nend\n</code></pre>\n\n<p>You don't need CSV, however, and if the whitespace separating fields is inconsistent, this is easiest:</p>\n\n<pre><code>File.readlines('data').each do |line|\n  puts line.split[2].to_f\nend\n</code></pre>\n\n<p>I'd recommend breaking the task down mentally to:</p>\n\n<ol>\n<li>How can I read the lines of a file?</li>\n<li>How can I split a string around whitespace?</li>\n</ol>\n\n<p>Those are two problems that are easy to learn how to handle.</p>\n"}], "owner": {"reputation": 3, "user_id": 4629971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546deb22839a5da0c35e4241031cd3ea?s=128&d=identicon&r=PG&f=1", "display_name": "Climate", "link": "https://stackoverflow.com/users/4629971/climate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "accepted_answer_id": 28976676, "answer_count": 1, "score": 0, "last_activity_date": 1426048399, "creation_date": 1426033361, "question_id": 28976481, "link": "https://stackoverflow.com/questions/28976481/reading-a-specific-column-of-data-from-a-text-file-in-ruby", "title": "Reading a specific column of data from a text file in Ruby", "body": "<p>I have tried Googling, but I can only find solutions for other languages and the ones about Ruby are for CSV files. </p>\n\n<p>I have a text file which looks like this</p>\n\n<p>0.222222 0.333333 0.4444444        this is the first line.</p>\n\n<p>There are many lines in the same format. All of the numbers are floats. </p>\n\n<p>I want to be able to read just the third column of data (0.444444, the values under that) and ignore the rest of the data.How can I accomplish this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "devise", "gem"], "comments": [{"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1426040789, "post_id": 28976394, "comment_id": 46205985, "body": "Can you try reinstalling Rails with  <code>gem install rails</code> and then run <code>bundle install</code>?"}, {"owner": {"reputation": 2388, "user_id": 1752114, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/778377fd64568f1a23968400a7477306?s=128&d=identicon&r=PG", "display_name": "Arvind", "link": "https://stackoverflow.com/users/1752114/arvind"}, "edited": false, "score": 0, "creation_date": 1426062941, "post_id": 28976394, "comment_id": 46212998, "body": "I think it can help you <a href=\"http://stackoverflow.com/questions/17643897/cannot-load-such-file-sqlite3-sqlite3-native-loaderror-on-ruby-on-rails\" title=\"cannot load such file sqlite3 sqlite3 native loaderror on ruby on rails\">stackoverflow.com/questions/17643897/&hellip;</a>"}], "owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426057196, "creation_date": 1426032747, "last_edit_date": 1426057196, "question_id": 28976394, "link": "https://stackoverflow.com/questions/28976394/rails-error-when-attempting-to-create-models", "title": "Rails Error When Attempting to Create Models", "body": "<p>I'm a Ruby on Rails newbie, and am having some trouble. Currently I'm following a video guided course on beginning RoR app development.</p>\n\n<p>I'm using Aptana Studio 3 on Windows 7, Ruby 2.2 and Rails 4.2. x64 machine and Windows, but 32-bit Ruby and DevKit installs. I installed Rails by typing <code>gem install rails</code> at the CLI.</p>\n\n<p>I seem to not be able to create a basic model, as it causes an error which is as follows after attempting the command <code>rails g model Company</code>:</p>\n\n<pre><code>C:/Ruby22/lib/ruby/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in require: cannot load such file -- sqlite3/sqlite3_native (LoadError)\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in block in require\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:240:in load_dependency\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in require\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/sqlite3-1.3.10-x86-mingw32/lib/sqlite3.rb:6:in rescue in &lt;top (required)&gt;\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/sqlite3-1.3.10-x86-mingw32/lib/sqlite3.rb:2:in &lt;top (required)&gt;\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/bundler-1.8.4/lib/bundler/runtime.rb:76:in require\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/bundler-1.8.4/lib/bundler/runtime.rb:76:in block (2 levels) in require\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/bundler-1.8.4/lib/bundler/runtime.rb:72:in each\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/bundler-1.8.4/lib/bundler/runtime.rb:72:in block in require\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/bundler-1.8.4/lib/bundler/runtime.rb:61:in each\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/bundler-1.8.4/lib/bundler/runtime.rb:61:in require\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/bundler-1.8.4/lib/bundler.rb:134:in require\nfrom C:/Ruby22/timetracker/config/application.rb:7:in &lt;top (required)&gt;\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:141:in require\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:141:in require_application_and_environment!\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:128:in generate_or_destroy\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:50:in generate\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:39:in run_command!\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands.rb:17:in &lt;top (required)&gt;\nfrom bin/rails:4:in require\nfrom bin/rails:4:in &lt;main&gt;`\n</code></pre>\n\n<p>I did some Googling, and saw that for many people, editing the  <code>s.require_paths</code> value in the sqlite3 gemspec file did the trick, so I tried that. I changed the value from <code>s.require_paths = [\"lib\"]</code> to <code>s.require_paths = [\"lib/sqlite3_native\"]</code>. That appears to have solved one issue and brought up another.\nNow when trying to run the same model creation command, I get a different error:</p>\n\n<pre><code>C:/Ruby22/lib/ruby/gems/2.2.0/gems/web-console-2.1.1/lib/web_console/railtie.rb:32:in block in &lt;class:Railtie&gt;: uninitialized constant WebConsole::Railtie::Middleware (NameError)\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:30:in instance_exec\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:30:in run\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:55:in block in run_initializers\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:226:in block in tsort_each\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:348:in block (2 levels) in each_strongly_connected_component\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:429:in each_strongly_connected_component_from\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:347:in block in each_strongly_connected_component\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:345:in each\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:345:in call\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:345:in each_strongly_connected_component\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:224:in tsort_each\nfrom C:/Ruby22/lib/ruby/2.2.0/tsort.rb:203:in tsort_each\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/initializable.rb:54:in run_initializers\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/application.rb:352:in initialize!\nfrom C:/Ruby22/timetracker/config/environment.rb:5:in &lt;top (required)&gt;\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/application.rb:328:in require_environment!\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:142:in require_application_and_environment!\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:128:in generate_or_destroy\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:50:in generate\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands/commands_tasks.rb:39:in run_command!\nfrom C:/Ruby22/lib/ruby/gems/2.2.0/gems/railties-4.2.0/lib/rails/commands.rb:17:in &lt;top (required)&gt;\nfrom bin/rails:4:in require\nfrom bin/rails:4:in &lt;main&gt;\n</code></pre>\n\n<p>The gems I'm using outside of what is generated by default in my Gemfile are as follows:</p>\n\n<pre><code>gem devise\ngem will_paginate\ngem thin\n</code></pre>\n\n<p>Of course, the gem names have single quotes around them in my actual file, but I removed them due to the formatting of this site.\nIt seems that particular error can mean a number of things after doing quite a bit of searching, and I'm a bit too new to Ruby debugging to know where to look next.</p>\n\n<p>Any help in determining what is actually the culprit here, or any advice on what to try would be sincerely appreciated.</p>\n\n<p>If any other technical details are needed, please ask and I'll upload the information here.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1426031596, "post_id": 28976005, "comment_id": 46203482, "body": "how about <code>.to_a.size</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 1, "last_activity_date": 1426066740, "last_edit_date": 1426066740, "creation_date": 1426033904, "answer_id": 28976562, "question_id": 28976005, "link": "https://stackoverflow.com/questions/28976005/overlap-ranges-in-array/28976562#28976562", "title": "Overlap ranges in array", "body": "<p>Here are two Ruby-like ways of doing it.</p>\n\n<pre><code>arr = [1..3, 6..8, 2..4]\n</code></pre>\n\n<p><strong>#1 Efficient approach</strong></p>\n\n<p>First calculate the amalgamated ranges:</p>\n\n<pre><code>a = arr[1..-1].sort_by(&amp;:first).each_with_object([arr.first]) do |r,ar|\n  if r.first &lt;= ar.last.last\n    ar[-1] = ar.last.first..[ar.last.last,r.last].max\n  else\n    ar &lt;&lt; r\n  end\nend\n  #=&gt; [1..4, 6..8]\n</code></pre>\n\n<p>Then compute the total number of elements in those ranges:</p>\n\n<pre><code>a.reduce(0) { |tot,r| tot + r.size }\n  #=&gt; [1..4, 6..8].reduce(0) { |tot,r| tot + r.size }\n  #=&gt; 7\n</code></pre>\n\n<p><em>Explanation</em></p>\n\n<pre><code>b = arr[1..-1]\n  #=&gt; [6..8, 2..4]\nc = b.sort_by(&amp;:first)      \n  #=&gt; [2..4, 6..8]\nenum = c.each_with_object([1..3])\n  #=&gt; #&lt;Enumerator: [2..4, 6..8]:each_with_object([1..3])&gt;\n</code></pre>\n\n<p>The contents of the enumerator <code>enum</code> will be passed into the block and assigned to the block variables by <a href=\"http://ruby-doc.org/core-2.1.5/Enumerator.html#method-i-each\" rel=\"nofollow\">Enumerator#each</a>, which will call <a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-each\" rel=\"nofollow\">Array#each</a>. We can see the contents of the enumerator by converting it to an array:</p>\n\n<pre><code>enum.to_a\n  #=&gt; [[2..4, [1..3]], [6..8, [1..3]]]\n</code></pre>\n\n<p>and we can use <a href=\"http://ruby-doc.org/core-2.1.5/Enumerator.html#method-i-next\" rel=\"nofollow\">Enumerator#next</a> to step through the enumerator. The first element of the enumerator passed to the block by <code>each</code> is <code>[2..4, [1..3]]</code>. This is assigned to the block variables as follows:</p>\n\n<pre><code>r, ar = enum.next\n   #=&gt; [2..4, [1..3]] \nr  #=&gt; 2..4 \nar #=&gt; [1..3] \n</code></pre>\n\n<p>We now perform the block calculation</p>\n\n<pre><code>  if r.first &lt;= ar.last.last\n    #=&gt; 2 &lt;= (1..3).last\n    #=&gt; 2 &lt;= 3\n    #=&gt; true\n    ar[-1] = ar.last.first..[ar.last.last,r.last].max\n      #=&gt; ar[-1] = 1..[3,4].max\n      #=&gt; ar[-1] = 1..4\n      #=&gt; 1..4\n  else # not executed this time\n    ar &lt;&lt; r\n  end\n</code></pre>\n\n<p>This is not so mysterious. So I don't have to keep saying \"the last range of <code>ar</code>\", let me define:</p>\n\n<pre><code>ar_last = ar.last\n  #=&gt; 1..3\n</code></pre>\n\n<p>First of all, because we began by sorting the ranges by the beginning of each range, we know that when each element of <code>enum</code> is passed into the block:</p>\n\n<pre><code>ar_last.first &lt;= r.first\n</code></pre>\n\n<p>For each element of <code>enum</code> passed into the block for which:</p>\n\n<pre><code>r.first &lt;= ar_last.last\n</code></pre>\n\n<p>we compare <code>r.last</code> with <code>ar_last.last</code>. There are two possibilities to consider:</p>\n\n<ul>\n<li><code>r.last &lt;= ar_last.last</code>, in which case the two ranges overlap and therefore <code>ar_last</code> would not change; and</li>\n<li><code>r.last &gt; ar_last.last</code>, in which case the upper end of <code>ar_last</code> must be increased to <code>r.last</code>.</li>\n</ul>\n\n<p>Here,</p>\n\n<pre><code>2 = r.first &lt;= ar_last.last = 3\n4 = r.last  &gt;  ar_last.last = 3\n</code></pre>\n\n<p>so <code>ar_last</code> is changed from <code>1..3</code> to <code>1..4</code>. </p>\n\n<p><code>each</code> now passes the last element of <code>enum</code> into the block:</p>\n\n<pre><code>r, ar = enum.next\n   #=&gt; [6..8, [1..4]] \nr  #=&gt; 6..8 \nar #=&gt; [1..4] \n\nif r.first &lt;= ar.last.last\n  #=&gt; (6 &lt;= 4) =&gt; false this time\n  ...\nelse # executed this time\n  ar &lt;&lt; r\n    #=&gt; ar &lt;&lt; (6..8)\n    #=&gt; [1..4, 6..8] \nend\n</code></pre>\n\n<p>and</p>\n\n<pre><code>a = ar #=&gt; [1..4, 6..8]\n</code></pre>\n\n<p>This time, <code>r.first &gt; ar_last.last</code>, meaning the range <code>r</code> does not overlap <code>ar_last</code>, so we append <code>r</code> to <code>ar</code>, and <code>ar_last</code> now equals <code>r</code>.</p>\n\n<p>Lastly:</p>\n\n<pre><code>a.reduce(0) { |tot,r| tot + r.size }\n  #=&gt; [1..4, 6..8].reduce(0) { |tot,r| tot + r.size }  \n  #=&gt; 7\n</code></pre>\n\n<p>which we could alternatively write:</p>\n\n<pre><code>a.map(&amp;:size).reduce(:+)\n</code></pre>\n\n<p><strong>#2 Easy but inefficient</strong></p>\n\n<p>Here is an easy, but not especially efficient, method that uses <a href=\"http://ruby-doc.org/core-2.2.0/Enumerable.html#method-i-slice_when\" rel=\"nofollow\">Enumerable#slice_when</a>, newly-minted in v2.2.</p>\n\n<pre><code>arr = [(1..3), (6..8), (2..4)]\n</code></pre>\n\n<p>To calculate the amagamated ranges:</p>\n\n<pre><code>a = arr.flat_map(&amp;:to_a)\n       .uniq\n       .sort\n       .slice_when { |i,j| i+1 != j }\n       .map { |ar| (ar.first..ar.last) }\n  #=&gt; [1..4, 6..8] \n</code></pre>\n\n<p>The total number of elements in those ranges is calculated as in #1</p>\n\n<p><em>Explanation</em></p>\n\n<p>Here are the steps:</p>\n\n<pre><code>b = arr.flat_map(&amp;:to_a)\n  #=&gt; [1, 2, 3, 6, 7, 8, 2, 3, 4]\nc = b.uniq\n  #=&gt; [1, 2, 3, 6, 7, 8, 4]\nd = c.sort\n  #=&gt; [1, 2, 3, 4, 6, 7, 8]\ne = d.slice_when { |i,j| i+1 != j }\n  #=&gt; #&lt;Enumerator: #&lt;Enumerator::Generator:0x007f81629584f0&gt;:each&gt; \na = e.map { |ar| (ar.first..ar.last) }\n  #=&gt; [1..4, 6..8]\n</code></pre>\n\n<p>We can see the contents of the enumerator <code>e</code> by converting it to an array:</p>\n\n<pre><code>e.to_a\n  #=&gt; [[1, 2, 3, 4], [6, 7, 8]]\n</code></pre>\n"}], "owner": {"reputation": 330, "user_id": 4117545, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f74ae9a7105a4a1628c024fb1b947c21?s=128&d=identicon&r=PG&f=1", "display_name": "Gregy", "link": "https://stackoverflow.com/users/4117545/gregy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 28976562, "answer_count": 1, "score": 0, "last_activity_date": 1426066740, "creation_date": 1426030284, "question_id": 28976005, "link": "https://stackoverflow.com/questions/28976005/overlap-ranges-in-array", "title": "Overlap ranges in array", "body": "<p>I would like to write a program in ruby 1.9.3 ver. which collects unique value ranges and then calculates amount of numbers in these ranges. <br>\nFor example lets use 3 ranges (1..3), (6..8) and (2..4). It will return array with two ranges (1..4), (6..8) and amount of numbers - 7.\nI wrote the following code:</p>\n\n<pre><code>z= []\ndef value_ranges(start, finish, z)\n  range = (start..finish)\n  arr = z\n  point = nil\n  if arr.empty?\n    point = nil\n  else\n    arr.each { |uniq|\n      if overlap?(uniq,range) == true\n        point = arr.index(uniq)\n        break\n      else\n        point = nil\n      end\n    }\n  end\n  if point != nil\n    if arr[point].first &gt;= start &amp;&amp; arr[point].end &lt;= finish\n      range = (start..finish)\n    elsif arr[point].first &gt;= start\n      range = (start..arr[point].end)\n    elsif arr[point].end &lt;= finish\n      range = (arr[point].first..finish)\n    else\n      range = (arr[point].first..arr[point].end)\n    end\n    arr[point] = range\n  else\n    arr &lt;&lt; range\n  end\n  print arr\nend\n\ndef overlap?(x,y)\n  (x.first - y.end) * (y.first - x.end) &gt;= 0\nend\n</code></pre>\n\n<p>Problem comes when program meets a range which overlaps two already collected ranges. <br>\nFor example (1..5) (7..9) (11..19) and the next given range is (8..11). <br>\nIt should link both ranges and return the following result - (1..5),(7..19). <br><br>\nI don't have an idea how to recheck whole array without creating infinite loop. Also what is the best way to calculate amount of numbers in ranges? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "bigdecimal"], "answers": [{"comments": [{"owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "edited": false, "score": 0, "creation_date": 1426030641, "post_id": 28976047, "comment_id": 46203182, "body": "Thanks. That does work. I got sidetracked by a different issue when the output is an array of big decimals."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1426030872, "post_id": 28976047, "comment_id": 46203263, "body": "<code>assert_equal(exp, act)</code> calls <code>assert(exp == act)</code> and <code>BigDecimal(&#39;144.50&#39;) == BigDecimal(&#39;144.50&#39;) #=&gt; true</code>"}, {"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1426031459, "post_id": 28976047, "comment_id": 46203437, "body": "interesting, you&#39;re right @Stefan .  I don&#39;t use TestUnit that much, is it also testing object_id equality?  I don&#39;t see anything else different in his example."}], "tags": [], "owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "is_accepted": true, "score": 4, "last_activity_date": 1426030529, "creation_date": 1426030529, "answer_id": 28976047, "question_id": 28975951, "link": "https://stackoverflow.com/questions/28975951/comparing-bigdecimal-output/28976047#28976047", "title": "Comparing bigdecimal output", "body": "<p>Your assertion is saying \"does this object equal this other object\".  It appears you want to compare values.</p>\n\n<p>You can do that like so:</p>\n\n<pre><code>[4] pry(main)&gt; BigDecimal('144.50') == 144.50                                             \n=&gt; true\n</code></pre>\n\n<p>That would make your test look something like:</p>\n\n<pre><code>assert_equal 144.50, actual_value\n</code></pre>\n\n<p>where actual_value is coming from the database.</p>\n"}], "owner": {"reputation": 12345, "user_id": 429758, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ff984622cd3a9ca31bd0e7e034fc8b17?s=128&d=identicon&r=PG", "display_name": "Prakash Murthy", "link": "https://stackoverflow.com/users/429758/prakash-murthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1329, "favorite_count": 0, "accepted_answer_id": 28976047, "answer_count": 1, "score": 2, "last_activity_date": 1426039473, "creation_date": 1426030017, "last_edit_date": 1426039473, "question_id": 28975951, "link": "https://stackoverflow.com/questions/28975951/comparing-bigdecimal-output", "title": "Comparing bigdecimal output", "body": "<p>A SQL query is outputting a bigdecimal output that I expect to be <code>144.50</code>, and the actual value is coming as <code>#&lt;BigDecimal:7fbe367ed118,'0.1445E3',18(18)&gt;</code></p>\n\n<p>I tried the following to compare the two:</p>\n\n<pre><code>assert_equal BigDecimal('144.50'), actual_value\n</code></pre>\n\n<p>but this fails with:</p>\n\n<pre><code>--- expected\n+++ actual\n@@ -1 +1 @@\n-#&lt;BigDecimal:7fbe367ed938,'0.1445E3',18(18)&gt;\n+#&lt;BigDecimal:7fbe367ed118,'0.1445E3',18(18)&gt;\n</code></pre>\n\n<p>Looks like the failure is because of the actual and expected values being different objects. </p>\n\n<p>Is this the right way to compare big decimal objects in Ruby?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "twitter-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 3787971, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/21308605/picture?type=large", "display_name": "user3787971", "link": "https://stackoverflow.com/users/3787971/user3787971"}, "edited": false, "score": 1, "creation_date": 1426352813, "post_id": 28976174, "comment_id": 46341213, "body": "Thank you! Took me a couple days to get back to this problem. Your answer was spot on the link really helped. I appreciate it."}], "tags": [], "owner": {"reputation": 36, "user_id": 3542728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d4d6108dc3c9022d84155438756585?s=128&d=identicon&r=PG&f=1", "display_name": "angelica", "link": "https://stackoverflow.com/users/3542728/angelica"}, "is_accepted": true, "score": 1, "last_activity_date": 1426031400, "last_edit_date": 1495539803, "creation_date": 1426031400, "answer_id": 28976174, "question_id": 28975946, "link": "https://stackoverflow.com/questions/28975946/how-to-get-a-nested-text-area-to-render-properly/28976174#28976174", "title": "How to get a nested text_area to render properly", "body": "<p>For Rails form_for input forms, you need <code>:(whatever attribute)</code> which should be defined in your migration file. </p>\n\n<p>ex.) if you have 'text' attribute in your Submit model you can have your input form for the text attribute just like this. <code>&lt;%= f.text_area :text %&gt;</code> </p>\n\n<p>But in this case it seems like you have a join table for your models, so I think you should <code>fields_for</code> for your join table.</p>\n\n<p>cf.) <a href=\"https://stackoverflow.com/questions/10326551/how-do-i-include-rails-join-table-field-in-the-form\">How do i include Rails join table field in the form?</a></p>\n"}], "owner": {"reputation": 427, "user_id": 3787971, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/21308605/picture?type=large", "display_name": "user3787971", "link": "https://stackoverflow.com/users/3787971/user3787971"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 28976174, "answer_count": 1, "score": 0, "last_activity_date": 1426031400, "creation_date": 1426029991, "question_id": 28975946, "link": "https://stackoverflow.com/questions/28975946/how-to-get-a-nested-text-area-to-render-properly", "title": "How to get a nested text_area to render properly", "body": "<p>I have a scaffold called submits that has a form for creating new submissions. I also created a model called question. I've used this model to create different questions in the submission form.I've utilized a join form and use active admin to add/edit questions from the backend. I'm getting this error.</p>\n\n<pre><code>undefined method `submit[question_ids][]' for #&lt;Submit id: nil, name: nil, created_at: nil, updated_at: nil&gt;\n</code></pre>\n\n<p>submits.rb</p>\n\n<pre><code>class Submit &lt; ActiveRecord::Base\n has_and_belongs_to_many :questions\nend\n</code></pre>\n\n<p>question.rb</p>\n\n<pre><code>class Question &lt; ActiveRecord::Base\n has_and_belongs_to_many :submits\nend\n</code></pre>\n\n<p>subits/_form.html.erb</p>\n\n<pre><code>&lt;%= form_for(@submit) do |f| %&gt;\n &lt;% if @submit.errors.any? %&gt;\n   &lt;div id=\"error_explanation\"&gt;\n     &lt;h2&gt;&lt;%= pluralize(@submit.errors.count, \"error\") %&gt; prohibited this submit from being saved:&lt;/h2&gt;\n\n  &lt;ul&gt;\n  &lt;% @submit.errors.full_messages.each do |message| %&gt;\n    &lt;li&gt;&lt;%= message %&gt;&lt;/li&gt;\n  &lt;% end %&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n  \n\n<pre><code>&lt;div class=\"field\"&gt;\n  &lt;%= f.label :name,\"Team Name\" %&gt;&lt;br&gt;\n  &lt;%= f.text_field :name, class: \"form-control\"  %&gt;\n&lt;/div&gt;\n\n&lt;% @questions.each do |question| %&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= f.label(question.question)%&gt;\n    &lt;%= f.text_area \"submit[question_ids][]\" %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt; \n\n  &lt;div class=\"actions\"&gt;\n   &lt;%= f.submit \"Apply\", class: \"btn btn-primary btn-lg\" %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>I'm guessing my error is here:</p>\n\n<pre><code> &lt;%= f.text_area \"submit[question_ids][]\" %&gt; \n</code></pre>\n\n<p>I'm just not sure what the correct syntax is. Any suggestions?</p>\n"}]