[{"tags": ["ruby-on-rails", "ruby", "rake", "migrate", "dbmigrate"], "comments": [{"owner": {"reputation": 5470, "user_id": 2052097, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KOzAT.jpg?s=128&g=1", "display_name": "z atef", "link": "https://stackoverflow.com/users/2052097/z-atef"}, "edited": false, "score": 0, "creation_date": 1445471361, "post_id": 33270903, "comment_id": 54343333, "body": "What does it  do when run Rake db:migrate ?  like does it do nothing , say something , errors out"}, {"owner": {"reputation": 5470, "user_id": 2052097, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KOzAT.jpg?s=128&g=1", "display_name": "z atef", "link": "https://stackoverflow.com/users/2052097/z-atef"}, "edited": false, "score": 0, "creation_date": 1445472989, "post_id": 33270903, "comment_id": 54343781, "body": "Do you know if the user you are connecting with has privileges to create tables"}, {"owner": {"reputation": 5470, "user_id": 2052097, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KOzAT.jpg?s=128&g=1", "display_name": "z atef", "link": "https://stackoverflow.com/users/2052097/z-atef"}, "edited": false, "score": 0, "creation_date": 1445473121, "post_id": 33270903, "comment_id": 54343816, "body": "I see you are root ,"}, {"owner": {"reputation": 97, "user_id": 1576912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f77737337c4135be461bf28d37505545?s=128&d=identicon&r=PG", "display_name": "Jake Wood", "link": "https://stackoverflow.com/users/1576912/jake-wood"}, "reply_to_user": {"reputation": 5470, "user_id": 2052097, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KOzAT.jpg?s=128&g=1", "display_name": "z atef", "link": "https://stackoverflow.com/users/2052097/z-atef"}, "edited": false, "score": 0, "creation_date": 1445475985, "post_id": 33270903, "comment_id": 54344555, "body": "Yup, I used root to make sure privileges weren&#39;t an issue. Also, as a sanity check, I just tried creating a table as root directly in MySQL, with no issue."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 1576912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f77737337c4135be461bf28d37505545?s=128&d=identicon&r=PG", "display_name": "Jake Wood", "link": "https://stackoverflow.com/users/1576912/jake-wood"}, "edited": false, "score": 0, "creation_date": 1445482402, "post_id": 33272072, "comment_id": 54346220, "body": "Bingo! Thanks so much!"}], "tags": [], "owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "is_accepted": true, "score": 0, "last_activity_date": 1445477976, "creation_date": 1445477976, "answer_id": 33272072, "question_id": 33270903, "link": "https://stackoverflow.com/questions/33270903/rake-not-creating-tables/33272072#33272072", "title": "Rake Not Creating Tables", "body": "<p>You're not following the naming conventions outlined in the <a href=\"http://edgeguides.rubyonrails.org/active_record_migrations.html\" rel=\"nofollow\">Rails Guides</a>.</p>\n\n<p>Specifically, this:</p>\n\n<blockquote>\n  <p><strong>2.1</strong> \n  Creating a Standalone Migration Migrations are stored as files in the db/migrate directory, one for each migration class. The name of\n  the file is of the form YYYYMMDDHHMMSS_create_products.rb, that is to\n  say a UTC timestamp identifying the migration followed by an\n  underscore followed by the name of the migration. The name of the\n  migration class (CamelCased version) should match the latter part of\n  the file name. For example 20080906120000_create_products.rb should\n  define class CreateProducts and\n  20080906120001_add_details_to_products.rb should define\n  AddDetailsToProducts. Rails uses this timestamp to determine which\n  migration should be run and in what order, so if you're copying a\n  migration from another application or generate a file yourself, be\n  aware of its position in the order.</p>\n</blockquote>\n\n<p>Go ahead and try a dummy migration to see the file name convention.</p>\n\n<pre><code>$ bin/rails generate migration AddPartNumberToProducts part_number:string\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 1576912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f77737337c4135be461bf28d37505545?s=128&d=identicon&r=PG", "display_name": "Jake Wood", "link": "https://stackoverflow.com/users/1576912/jake-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 33272072, "answer_count": 1, "score": 1, "last_activity_date": 1445477976, "creation_date": 1445469729, "last_edit_date": 1445473856, "question_id": 33270903, "link": "https://stackoverflow.com/questions/33270903/rake-not-creating-tables", "title": "Rake Not Creating Tables", "body": "<p><strong>Problem</strong>\n<br></p>\n\n<p><code>rake db:migrate</code> is not creating tables in my MySQL database. (Yes, I have read all similar posts, and implemented their suggestions, please continue reading.)</p>\n\n<p><strong>Code</strong>\n<br></p>\n\n<p>database.yml:</p>\n\n<pre><code>default: &amp;default\n  adapter: mysql2\n  encoding: utf8\n  pool: 5\n  username: root\n  password:\n  host: localhost\n  port: /tmp/mysql.sock\n\ndevelopment:\n  &lt;&lt;: *default\n  database: asreport\n</code></pre>\n\n<p>Line from gemfile (yes, I already gem install'd it too):</p>\n\n<pre><code>gem 'mysql2', '~&gt; 0.3.20'\n</code></pre>\n\n<p>/appfile/db/migrate/create_users.rb (I've also tried making the second line 'def up'):</p>\n\n<pre><code>class CreateUsers &lt; ActiveRecord::Migration\n  def up\n    create_table :users do |t|\n      t.string :username\n      t.string :password\n      t.integer :usertype\n      t.string :salt\n      t.timestamps\n    end\n  end\nend\n</code></pre>\n\n<p>After I run <code>rake db:drop</code>, <code>rake db:create</code> to refresh, rake db:migrate --trace reads (after this output, 'show tables' in mysql still only shows schema_migrations):</p>\n\n<pre><code>** Invoke db:migrate (first_time)\n** Invoke environment (first_time)\n** Execute environment\n** Invoke db:load_config (first_time)\n** Execute db:load_config\n** Execute db:migrate\n** Invoke db:_dump (first_time)\n** Execute db:_dump\n** Invoke db:schema:dump (first_time)\n** Invoke environment \n** Invoke db:load_config \n** Execute db:schema:dump\n</code></pre>\n\n<p><strong>What I've Tried</strong>\n<br></p>\n\n<p>First of all, I know that I am connecting to MySQL via Ruby, as <code>db:drop</code> create does indeed create the database itself, just not the table.</p>\n\n<p>I've read all the relevant stack overflow posts I could find on the issue. I've tried rollback, dropping my database directly on SQL, and <code>db:drop/create</code>.</p>\n\n<p>I've tried deleting and recreating my migration script too.</p>\n\n<p>I've run db:migrate multiple times (by itself and after <code>db:drop/create's, rollback's, resets)</code>, but the schema_migrations always has 0 entries and my <code>schema.rb</code> file is on <code>version: 0</code>.</p>\n"}, {"tags": ["ruby", "encoding", "amazon-s3", "character-encoding", "net-http"], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 7, "last_activity_date": 1503673128, "last_edit_date": 1503673128, "creation_date": 1445476264, "answer_id": 33271839, "question_id": 33270851, "link": "https://stackoverflow.com/questions/33270851/how-can-i-use-nethttp-to-download-a-file-with-utf-8-characters-in-it/33271839#33271839", "title": "How can I use Net::Http to download a file with UTF-8 characters in it?", "body": "<blockquote>\n  <p>How can I: 1) Check the encoding of a remote file like that.</p>\n</blockquote>\n\n<p>You can check the <code>Content-Type</code> header of the response, which, if present, may look something like this:</p>\n\n<pre><code>Content-Type: text/plain; charset=utf-8\n</code></pre>\n\n<p>As you can see, the encoding is specified there.  If there's no Content-Type header, or if the charset is not specified, or if the charset is specified incorrectly, then you can't know the encoding of the text.  There are gems that can try to guess the encoding(with increasing accuracy), e.g. <code>rchardet</code>, <code>charlock_holmes</code>, but for complete accuracy, you have to know the encoding before reading the text.</p>\n\n<blockquote>\n  <p>This code somehow thinks all files that are downloaded are encoded in\n  ASCII 8-bit.</p>\n</blockquote>\n\n<p>In ruby, <code>ASCII-8BIT</code> is equivalent to <code>binary</code>, which means the Net::HTTP library just gives you a string containing a series of single bytes, and it's up to you to decide how to interpret those bytes.  </p>\n\n<p>If you want to interpret those bytes as UTF-8, then you do that with <code>String#force_encoding()</code>:</p>\n\n<pre><code>text = text.force_encoding(\"UTF-8\")\n</code></pre>\n\n<p>You might want to do that if, for instance, you want to do some regex matching on the string, and you want to match full characters(which might be multi-byte) rather than just single bytes.</p>\n\n<blockquote>\n  <p>Encoding::UndefinedConversionError: \"\\x95\" from ASCII-8BIT to UTF-8</p>\n</blockquote>\n\n<p>Using <code>String#encode('UTF-8')</code> to convert ASCII-8BIT to UTF-8 doesn't work for bytes whose ascii codes are greater than 127:</p>\n\n<pre><code>(0..255).each do |ascii_code|\n  str = ascii_code.chr(\"ASCII-8BIT\")\n  #puts str.encoding   #=&gt;ASCII-8BIT\n\n  begin\n    str.encode(\"UTF-8\")\n  rescue Encoding::UndefinedConversionError\n    puts \"Can't encode char with ascii code #{ascii_code} to UTF-8.\"\n  end\n\nend\n\n--output:--\nCan't encode char with ascii code 128 to UTF-8.\nCan't encode char with ascii code 129 to UTF-8.\nCan't encode char with ascii code 130 to UTF-8.\n...\n...\nCan't encode char with ascii code 253 to UTF-8.\nCan't encode char with ascii code 254 to UTF-8.\nCan't encode char with ascii code 255 to UTF-8.\n</code></pre>\n\n<p>Ruby just reads one byte at a time from the ASCII-8BIT string and tries to convert the character in the byte to UTF-8. So, while 128 may be a legal byte in UTF-8 when part of a multi-byte character sequence, 128 is not a legal UTF-8 character as a single byte.</p>\n\n<p>As for writing the strings to a file, instead of this:</p>\n\n<pre><code>f = open(filename)\n</code></pre>\n\n<p>...if you want to output UTF-8 to the file, you would write:</p>\n\n<pre><code>f = open(filename, \"w:UTF-8\")\n</code></pre>\n\n<p>By default, ruby uses whatever the value of <code>Encoding.default_external</code> is to encode output to a file.  The default_external encoding is pulled from your system's environment, or you can set it explicitly.</p>\n"}], "owner": {"reputation": 11596, "user_id": 465986, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/592491f3adae59ba7f0416760d5361ab?s=128&d=identicon&r=PG", "display_name": "AKWF", "link": "https://stackoverflow.com/users/465986/akwf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1107, "favorite_count": 1, "accepted_answer_id": 33271839, "answer_count": 1, "score": 5, "last_activity_date": 1503673128, "creation_date": 1445469472, "last_edit_date": 1445469918, "question_id": 33270851, "link": "https://stackoverflow.com/questions/33270851/how-can-i-use-nethttp-to-download-a-file-with-utf-8-characters-in-it", "title": "How can I use Net::Http to download a file with UTF-8 characters in it?", "body": "<p>I have an application where users can upload text-based files (xml, csv, txt) that are persisted to S3. Some of these files are pretty big. There are a variety of operations that need to be performed on the data in these files, so rather than read them from S3 and have it time out occasionally I download the files locally, then turn the operations loose on them.</p>\n\n<p>Here's the code I use to download the file from S3. <code>Upload</code> is the name of the AR model I use to store this information. This method is an instance method on the Upload model:</p>\n\n<pre><code>def download\n  basename = File.basename(self.text_file_name.path)\n  filename = Rails.root.join(basename)\n  host = MyFitment::Utility.get_host_without_www(self.text_file_name.url)\n  Net::HTTP.start(host) do |http|\n    f = open(filename)\n    begin\n      http.request_get(self.text_file_name.url) do |resp|\n        resp.read_body do |segment|\n          f.write(segment) # Fails when non-ASCII 8-bit characters are included.\n        end\n      end\n    ensure\n      f.close()\n    end\n  end\n  filename\n\nend\n</code></pre>\n\n<p>So you see that line above where the load fails. This code somehow thinks all files that are downloaded are encoded in ASCII 8-bit. How can I:</p>\n\n<p>1) Check the encoding of a remote file like that\n2) Download it and write it successfully.</p>\n\n<p>Here's the error that is happening with a particular file right now:</p>\n\n<pre><code>Encoding::UndefinedConversionError: \"\\x95\" from ASCII-8BIT to UTF-8\nfrom /Users/me/code/myapp/app/models/upload.rb:47:in `write'\n</code></pre>\n\n<p>Thank you for any help you can offer!</p>\n"}, {"tags": ["ruby", "ubuntu-14.04", "rbenv"], "answers": [{"comments": [{"owner": {"reputation": 13300, "user_id": 1801697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pC4KW.png?s=128&g=1", "display_name": "Terry Wang", "link": "https://stackoverflow.com/users/1801697/terry-wang"}, "edited": false, "score": 0, "creation_date": 1473300088, "post_id": 33953821, "comment_id": 66090621, "body": "Ubuntu 16.04 building Ruby 2.3.x using ruby-build hit the same issue. Workaround suggested helped. See: <a href=\"https://github.com/rbenv/ruby-build/issues/729\" rel=\"nofollow noreferrer\">github.com/rbenv/ruby-build/issues/729</a>"}], "tags": [], "owner": {"reputation": 2980, "user_id": 462439, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/70f6b3e2472f2f48d0e02e49bb2aeb9f?s=128&d=identicon&r=PG", "display_name": "sandrew", "link": "https://stackoverflow.com/users/462439/sandrew"}, "is_accepted": false, "score": 4, "last_activity_date": 1448615382, "creation_date": 1448615382, "answer_id": 33953821, "question_id": 33270840, "link": "https://stackoverflow.com/questions/33270840/rbenv-ruby-2-2-2-install-fail-ubuntu-14-04/33953821#33953821", "title": "Rbenv ruby 2.2.2 install fail Ubuntu 14.04", "body": "<p>The reason is <strong>rdoc</strong> that fails for some occasion. The most simple solution - exclude it from installation:</p>\n\n<pre><code>RUBY_CONFIGURE_OPTS=\"--disable-install-doc\" rbenv install 2.2.3\n</code></pre>\n\n<p>Also, you can bootstrap your Ubuntu server for ruby/Rails applications in just one simple command. Look for details here:</p>\n\n<p><a href=\"https://github.com/sandrew/from-scratch\" rel=\"nofollow\">https://github.com/sandrew/from-scratch</a></p>\n"}], "owner": {"reputation": 579, "user_id": 1598051, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/444a3e1b98fb1375cfecf211862dbb26?s=128&d=identicon&r=PG", "display_name": "Evgeny Palguev", "link": "https://stackoverflow.com/users/1598051/evgeny-palguev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1448615382, "creation_date": 1445469408, "question_id": 33270840, "link": "https://stackoverflow.com/questions/33270840/rbenv-ruby-2-2-2-install-fail-ubuntu-14-04", "title": "Rbenv ruby 2.2.2 install fail Ubuntu 14.04", "body": "<p>I'm trying install ruby 2.2.2 with rbenv on server Ubuntu 14.04 with ssh. Error:</p>\n\n<pre><code>Installing ruby-2.2.2...\n\nBUILD FAILED (Ubuntu 14.04 using ruby-build 20150928-2-g717a54c)\n\nInspect or clean up the working tree at /tmp/ruby-build.20151021225325.5445\nResults logged to /tmp/ruby-build.20151021225325.5445.log\n\nLast 10 log lines:\n 97% [943/967]  sparc.c\n 97% [944/967]  sprintf.c\n 97% [945/967]  st.c\n 97% [946/967]  strftime.c\n 97% [947/967]  string.c\n 98% [948/967]  struct.c\n 98% [949/967]  symbol.c\n 98% [950/967]  thread.c\nKilled\nmake: *** [rdoc] Error 137\n</code></pre>\n\n<p>What can I do for installing ruby 2.2.2 and/or 2.2.3?</p>\n\n<p>I use this </p>\n\n<pre><code>sudo apt-get install autoconf bison build-essential libssl-dev libyaml-dev libreadline6-dev zlib1g-dev libncurses5-dev libffi-dev libgdbm3 libgdbm-dev\n</code></pre>\n\n<p>but it don't work</p>\n"}, {"tags": ["ruby", "postgresql", "activerecord", "multidimensional-array", "has-many"], "comments": [{"owner": {"reputation": 1682, "user_id": 4219209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f3e6158829f78389b3d364ae4a247bf?s=128&d=identicon&r=PG", "display_name": "Lanny Bose", "link": "https://stackoverflow.com/users/4219209/lanny-bose"}, "edited": false, "score": 0, "creation_date": 1445496400, "post_id": 33270251, "comment_id": 54350315, "body": "<a href=\"http://stackoverflow.com/questions/27257093/rails-use-serialized-attributes-or-a-belongs-to-association\" title=\"rails use serialized attributes or a belongs to association\">stackoverflow.com/questions/27257093/&hellip;</a>"}, {"owner": {"reputation": 1887, "user_id": 4948732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-ZnN3lJjklJg/AAAAAAAAAAI/AAAAAAAAAWE/zqGtDAyXfjo/photo.jpg?sz=128", "display_name": "thesecretmaster", "link": "https://stackoverflow.com/users/4948732/thesecretmaster"}, "reply_to_user": {"reputation": 1682, "user_id": 4219209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f3e6158829f78389b3d364ae4a247bf?s=128&d=identicon&r=PG", "display_name": "Lanny Bose", "link": "https://stackoverflow.com/users/4219209/lanny-bose"}, "edited": false, "score": 0, "creation_date": 1445510249, "post_id": 33270251, "comment_id": 54358391, "body": "@LannyBose No, that is a different question. That is about serialization vs. has_many, and I would not have that problem because I would be using a multidimensional array. That answer wouldn&#39;t be an answer for me, and the question is different from mine."}, {"owner": {"reputation": 1682, "user_id": 4219209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f3e6158829f78389b3d364ae4a247bf?s=128&d=identicon&r=PG", "display_name": "Lanny Bose", "link": "https://stackoverflow.com/users/4219209/lanny-bose"}, "edited": false, "score": 0, "creation_date": 1445539149, "post_id": 33270251, "comment_id": 54376504, "body": "Ah... sorry then. :("}, {"owner": {"reputation": 1887, "user_id": 4948732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-ZnN3lJjklJg/AAAAAAAAAAI/AAAAAAAAAWE/zqGtDAyXfjo/photo.jpg?sz=128", "display_name": "thesecretmaster", "link": "https://stackoverflow.com/users/4948732/thesecretmaster"}, "reply_to_user": {"reputation": 1682, "user_id": 4219209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f3e6158829f78389b3d364ae4a247bf?s=128&d=identicon&r=PG", "display_name": "Lanny Bose", "link": "https://stackoverflow.com/users/4219209/lanny-bose"}, "edited": false, "score": 0, "creation_date": 1445548471, "post_id": 33270251, "comment_id": 54381904, "body": "@LannyBose thanks for the effort though"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 3, "creation_date": 1445635531, "post_id": 33270251, "comment_id": 54422261, "body": "In case you actually want to query on the relationship without deserializing and looping?"}, {"owner": {"reputation": 4321, "user_id": 454246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bbddaa50ab78479b10ff632869e6a6c?s=128&d=identicon&r=PG", "display_name": "jpgeek", "link": "https://stackoverflow.com/users/454246/jpgeek"}, "edited": false, "score": 1, "creation_date": 1445652666, "post_id": 33270251, "comment_id": 54426507, "body": "The has_one/has_many, belongs_to macros are specific to ActiveRecord.  It looks like this question is more about relational database design rather than ActiveRecord usage.  In other words, &quot;What are the advantages of using a separate table vs embedding objects in an array/ object field&quot;.   Is that correct?"}, {"owner": {"reputation": 1887, "user_id": 4948732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-ZnN3lJjklJg/AAAAAAAAAAI/AAAAAAAAAWE/zqGtDAyXfjo/photo.jpg?sz=128", "display_name": "thesecretmaster", "link": "https://stackoverflow.com/users/4948732/thesecretmaster"}, "reply_to_user": {"reputation": 4321, "user_id": 454246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bbddaa50ab78479b10ff632869e6a6c?s=128&d=identicon&r=PG", "display_name": "jpgeek", "link": "https://stackoverflow.com/users/454246/jpgeek"}, "edited": false, "score": 0, "creation_date": 1445684409, "post_id": 33270251, "comment_id": 54432820, "body": "@jpgeek Yes! How could I make that more clear in the question? I didn&#39;t even really think about it that way. Could you either suggest some edits to me or just make some edits yourself that would be incredibly helpful."}, {"owner": {"reputation": 4321, "user_id": 454246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bbddaa50ab78479b10ff632869e6a6c?s=128&d=identicon&r=PG", "display_name": "jpgeek", "link": "https://stackoverflow.com/users/454246/jpgeek"}, "edited": false, "score": 0, "creation_date": 1445779744, "post_id": 33270251, "comment_id": 54457243, "body": "@thesecretmaster Okee dokey.  I have edited the question to emphasize the database design part and de-emphasize the ActiveRecord part."}], "answers": [{"tags": [], "owner": {"reputation": 4321, "user_id": 454246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bbddaa50ab78479b10ff632869e6a6c?s=128&d=identicon&r=PG", "display_name": "jpgeek", "link": "https://stackoverflow.com/users/454246/jpgeek"}, "is_accepted": false, "score": 11, "last_activity_date": 1445875383, "last_edit_date": 1445875383, "creation_date": 1445779238, "answer_id": 33330155, "question_id": 33270251, "link": "https://stackoverflow.com/questions/33270251/why-in-the-world-would-i-have-many-relationships/33330155#33330155", "title": "Why in the world would I have_many relationships?", "body": "<p>Embedding a data structure in a field can work for simple cases but it prevents you from taking advantage of relational databases.  Relational databases are designed to find, update, delete and protect your data.  With an embedded field containing its own wad-o-data (array, JSON, xml etc), you wind up writing all the code to do this yourself.</p>\n\n<p>There are cases where the embedded field might be more suitable, but for this question as an example I will use a case that highlights the advantages of a related table approch.</p>\n\n<p>Imagine a User and Post example for a blog.</p>\n\n<p>For an embedded post solution, you would have a table something like this (psuedocode - these are probably not valid ddl):</p>\n\n<pre><code>create table Users {\nid int auto_increment,\nname varchar(200)\npost text[][],\n}\n</code></pre>\n\n<p>With related tables, you would do something like</p>\n\n<pre><code>create table Users {\nid int auto_increment,\nname varchar(200)\n}\ncreate table Posts {\nid auto_increment,\nuser_id int,\ncontent text\n}\n</code></pre>\n\n<p><strong>Object Relational Mapping (ORM) tools</strong>:  With the embedded post, you will be writing the code manually to add posts to a user, navigate through existing posts, validate them, delete them etc.  With the separate table design, you can leverage the ActiveRecord (or whatever object relational system you are using) tools for this which should keep your code much simpler.  </p>\n\n<p><strong>Flexibility</strong>:  Imagine you want to add a date field to the post.  You can do it with an embedded field, but you will have to write code to parse your array, validate the fields, update the existing embedded posts etc.  With the separate table, this is much simpler.  In addition, lets say you want to add an Editor to your system who approves all the posts.  With the relational example this is easy.  As an example to find all posts edited by 'Bob' with ActiveRecord, you would just need:</p>\n\n<pre><code>Editor.where(name: 'Bob').posts\n</code></pre>\n\n<p>For the embedded side, you would have to write code to walk through every user in the database, parse every one of their posts and look for 'Bob' in the editor field.</p>\n\n<p><strong>Performance</strong>: Imagine that you have 10,000 users with an average of 100 posts each.  Now you want to find all posts done on a certain date.  With the embedded field, you must loop through every record, parse the entire array of all posts, extract the dates and check agains the one you want.  This will chew up both cpu and disk i/0.  For the database, you can easily index the date field and pull out the exact records you need without parsing every post from every user.</p>\n\n<p><strong>Standards</strong>:  Using a vendor specific data structure means that moving your application to another database could be a pain.  Postgres appears to have a rich set of data types, but they are not the same as MySQL, Oracle, SQL Server etc.  If you stick with standard data types, you will have a much easier time swapping backends. </p>\n\n<p>These are the main issues I see off the top.  I have made this mistake and paid the price for it, so unless there is a super-compelling reason do do otherwise, I would use the separate table.</p>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 4038282, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ZvYBF.jpg?s=128&g=1", "display_name": "y.bregey", "link": "https://stackoverflow.com/users/4038282/y-bregey"}, "is_accepted": false, "score": 2, "last_activity_date": 1445854617, "creation_date": 1445854617, "answer_id": 33343234, "question_id": 33270251, "link": "https://stackoverflow.com/questions/33270251/why-in-the-world-would-i-have-many-relationships/33343234#33343234", "title": "Why in the world would I have_many relationships?", "body": "<p>what if users John and Ann have the same thingies? the records will be duplicated and if you decide to change the name of thingie you will have to change two or more records. If thingie is stored in the separate table you have to change only one record. FYI <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Database_normalization</a></p>\n"}, {"comments": [{"owner": {"reputation": 1887, "user_id": 4948732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-ZnN3lJjklJg/AAAAAAAAAAI/AAAAAAAAAWE/zqGtDAyXfjo/photo.jpg?sz=128", "display_name": "thesecretmaster", "link": "https://stackoverflow.com/users/4948732/thesecretmaster"}, "edited": false, "score": 0, "creation_date": 1445891669, "post_id": 33345952, "comment_id": 54505979, "body": "Would I be wrong if I said that my takeaway was to use whichever way contains less duplicates or is DRYer?"}, {"owner": {"reputation": 774, "user_id": 5481847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rc7iM.jpg?s=128&g=1", "display_name": "Bassel Samman", "link": "https://stackoverflow.com/users/5481847/bassel-samman"}, "edited": false, "score": 0, "creation_date": 1446152596, "post_id": 33345952, "comment_id": 54638242, "body": "I will not share ownership of my thingies.  People can use my thingies, but those thingies will still belong to me."}], "tags": [], "owner": {"reputation": 91, "user_id": 1661071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f89f27b7d287202589bb5bb7ac0d1f?s=128&d=identicon&r=PG", "display_name": "user1661071", "link": "https://stackoverflow.com/users/1661071/user1661071"}, "is_accepted": false, "score": 2, "last_activity_date": 1445862999, "creation_date": 1445862999, "answer_id": 33345952, "question_id": 33270251, "link": "https://stackoverflow.com/questions/33270251/why-in-the-world-would-i-have-many-relationships/33345952#33345952", "title": "Why in the world would I have_many relationships?", "body": "<p>Benefits of one to many:</p>\n\n<ol>\n<li>Easier ORM (Object Relational Mapping) integration.  You can use it either way, but you have to define your tables with native sql.  Having distinct tables is easier and you can make use of auto-generated mappings.</li>\n<li>Your space limitation of 10,000 rows will go further with the one to many relationship in the case that 2 or more people can have the same \"thingies.\"</li>\n<li>Handle users and thingies separately.  In some cases, you might only care about people or thingies, not their relationship with each other.  Some examples, updating a username or thingy description, getting a list of all thingies (or all users).  Selecting from the single table can make it harding to work with.</li>\n<li>Maintenance and manipulation is easier.  In the case that a user or a thingy is updated (name change, email address update, etc), you only need to update 1 record in their table instead of writing update statements \"where user_id=?\".</li>\n<li>Enforceable database constraints.  What if a thingy is not owned by anyone?  Is the user column now nillable?  It would have to be in the single table case, so you could not enforce a simple \"not nillable\" username, for example.</li>\n</ol>\n\n<p>There are a lot of reasons of course.  If you are using a relational database, you should make use of the one to many by separating your objects (users and thingies) as separate tables.  Considering your limitation on number of records and that the size of your dataset is small (under 10,000), you shouldn't feel the down side of normalized data.</p>\n\n<p>The short truth is that there are benefits of both.  You could, for example, get faster read times from the single table approach because you don't need complicated joins.</p>\n\n<p>Here is a good reference with the pros/cons of both (normalized is the multiple table approach and denormalized is the single table approach).\n<a href=\"http://www.ovaistariq.net/199/databases-normalization-or-denormalization-which-is-the-better-technique/\" rel=\"nofollow\">http://www.ovaistariq.net/199/databases-normalization-or-denormalization-which-is-the-better-technique/</a></p>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 5320734, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vnRwv.jpg?s=128&g=1", "display_name": "ZebThan", "link": "https://stackoverflow.com/users/5320734/zebthan"}, "is_accepted": false, "score": 1, "last_activity_date": 1446205890, "creation_date": 1446205890, "answer_id": 33435341, "question_id": 33270251, "link": "https://stackoverflow.com/questions/33270251/why-in-the-world-would-i-have-many-relationships/33435341#33435341", "title": "Why in the world would I have_many relationships?", "body": "<p>Besides the benefits other mentioned, there is also one thing about standards. If you are working on this app alone, then that's not a problem, but if someone else would want to change something, then the nightmare starts.\nIt may take this guy a lot of time to understand how it works alone. And modifing something like this will take even more time. This way, some simple improvement  may be really time consuming. And at some point, you will be working with other people. So always code like the guy who works with your code at the end is the brutal psychopath who knows where you live. </p>\n"}], "owner": {"reputation": 1887, "user_id": 4948732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-ZnN3lJjklJg/AAAAAAAAAAI/AAAAAAAAAWE/zqGtDAyXfjo/photo.jpg?sz=128", "display_name": "thesecretmaster", "link": "https://stackoverflow.com/users/4948732/thesecretmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "answer_count": 4, "score": 8, "last_activity_date": 1446205890, "creation_date": 1445466048, "last_edit_date": 1445858825, "question_id": 33270251, "link": "https://stackoverflow.com/questions/33270251/why-in-the-world-would-i-have-many-relationships", "title": "Why in the world would I have_many relationships?", "body": "<p>I just ran into an interesting situation about relationships and databases. I am writing a ruby app and for my database I am using postgresql. I have a parent object \"user\" and a related object \"thingies\" where a user can have one or more thingies.  What would be the advantage of using a separate table vs just embedding data within a field in the parent table?</p>\n\n<p>Example from ActiveRecord:</p>\n\n<p>using a related table:</p>\n\n<pre><code>def change\n    create_table :users do |i|\n        i.text :name\n    end\n    create_table :thingies do |i|\n        i.integer :thingie\n        i.text :discription\n    end\nend\nclass User &lt; ActiveRecord::Base\n    has_many :thingies\nend\nclass Thingie &lt; ActiveRecord::Base\n    belongs_to :user\nend\n</code></pre>\n\n<p>using an embedded data structure (multidimensional array) method:</p>\n\n<pre><code>def change\n    create_table :users do |i|\n        i.text :name\n        i.text :thingies, array: true # example contents: [[thingie,discription],[thingie,discription]]\n    end\nend\nclass User &lt; ActiveRecord::Base\nend\n</code></pre>\n\n<p><b>Relevant Information</b></p>\n\n<p>I am using heroku and heroku-posgres as my database. I am using their free option, which limits me to 10,000 rows. This seems to make me want to use the multidimensional array way, but I don't really know.</p>\n"}, {"tags": ["ruby", "gmail-api", "google-api-ruby-client"], "comments": [{"owner": {"reputation": 81708, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1445500334, "post_id": 33270102, "comment_id": 54352280, "body": "Have you tried supplying the constant string <code>&#39;me&#39;</code> instead of <code>current_user.email</code>?"}, {"owner": {"reputation": 2133, "user_id": 5473450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7mHKn.png?s=128&g=1", "display_name": "RangerRanger", "link": "https://stackoverflow.com/users/5473450/rangerranger"}, "reply_to_user": {"reputation": 81708, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1445615092, "post_id": 33270102, "comment_id": 54411661, "body": "Yes, have tried it with the same result. Email still bounces."}, {"owner": {"reputation": 20735, "user_id": 307106, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6a13e655e637138f8d571cec3f9cea76?s=128&d=identicon&r=PG", "display_name": "jrochkind", "link": "https://stackoverflow.com/users/307106/jrochkind"}, "edited": false, "score": 0, "creation_date": 1445644422, "post_id": 33270102, "comment_id": 54424913, "body": "The VCR gem, ordinarily used for testing, can also be conveniently used to capture exactly what HTTP request(s) the gem is sending, so you can see how they differ from yours. Does kind of sound like a bug in the gem. Have you tried posting an issue to the gem&#39;s github repo?"}, {"owner": {"reputation": 9407, "user_id": 1090284, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62a96beb2ddd36384248f805ee7f4b31?s=128&d=identicon&r=PG", "display_name": "Steve Bazyl", "link": "https://stackoverflow.com/users/1090284/steve-bazyl"}, "edited": false, "score": 3, "creation_date": 1445664230, "post_id": 33270102, "comment_id": 54428244, "body": "Skip the base64 encoding. The ruby client does it for you."}, {"owner": {"reputation": 2133, "user_id": 5473450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7mHKn.png?s=128&g=1", "display_name": "RangerRanger", "link": "https://stackoverflow.com/users/5473450/rangerranger"}, "edited": false, "score": 1, "creation_date": 1445743016, "post_id": 33270102, "comment_id": 54449273, "body": "jrochkind: That&#39;s actually a really great idea. I didn&#39;t think about that at all."}, {"owner": {"reputation": 2133, "user_id": 5473450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7mHKn.png?s=128&g=1", "display_name": "RangerRanger", "link": "https://stackoverflow.com/users/5473450/rangerranger"}, "edited": false, "score": 0, "creation_date": 1445743053, "post_id": 33270102, "comment_id": 54449276, "body": "Steve: That did it. I don&#39;t know if I&#39;m blind or what but I thought I read that you have to pass the string in already encoded. Thanks!"}, {"owner": {"reputation": 1185, "user_id": 5989038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P3wrD1XF4JI/AAAAAAAAAAI/AAAAAAAAACA/Xmohx0g3WYc/photo.jpg?sz=128", "display_name": "Prime", "link": "https://stackoverflow.com/users/5989038/prime"}, "edited": false, "score": 0, "creation_date": 1603207599, "post_id": 33270102, "comment_id": 113960673, "body": "for future visitors who might wonder what to pass to <code>message.raw</code>, I found this awesome <a href=\"https://github.com/mikel/mail\" rel=\"nofollow noreferrer\">Mail gem</a> to construct the <code>raw</code> email body. Works flawlessly and reduces manual effort."}], "answers": [{"tags": [], "owner": {"reputation": 2012, "user_id": 205674, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/32a2b57f8035456fd763cbb2610c8f58?s=128&d=identicon&r=PG", "display_name": "Bittrance", "link": "https://stackoverflow.com/users/205674/bittrance"}, "is_accepted": true, "score": 2, "last_activity_date": 1475058018, "creation_date": 1475058018, "answer_id": 39744680, "question_id": 33270102, "link": "https://stackoverflow.com/questions/33270102/send-gmail-messages-with-google-api-ruby-client-0-9-pre3/39744680#39744680", "title": "Send gmail messages with google-api-ruby-client &#39;0.9.pre3&#39;", "body": "<p>Steve Bazyl seems to be correct. The documentation on send_user_message is wrong as of (0.9.13). For raw, it says: \"The entire email message in an RFC 2822 formatted and base64url encoded string. Returned in messages.get and drafts.get responses when the format=RAW parameter is supplied. Corresponds to the JSON property raw.\" As far as I can tell, this is simply <strong>incorrect</strong>.</p>\n\n<p>I encountered this issue when updating from google-api-client 0.8 to 0.9 and removing the base64 encoding solved the problem. I.e. call in 0.8:</p>\n\n<pre><code>response = @service.execute(\n  api_method: api.users.messages.to_h['gmail.users.messages.send'],\n  body_object: {\n    raw: Base64.urlsafe_encode64(mail.to_s)\n  },\n  parameters: {\n    userId: 'me',\n  }\n)\n</code></pre>\n\n<p>became</p>\n\n<pre><code>message = { raw: mail.to_s }\nres = @service.send_user_message('me', message, {})\n</code></pre>\n\n<p>in 0.9.</p>\n\n<p>Reported as <a href=\"https://github.com/google/google-api-ruby-client/issues/474\" rel=\"nofollow\">https://github.com/google/google-api-ruby-client/issues/474</a>.</p>\n"}], "owner": {"reputation": 2133, "user_id": 5473450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7mHKn.png?s=128&g=1", "display_name": "RangerRanger", "link": "https://stackoverflow.com/users/5473450/rangerranger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "accepted_answer_id": 39744680, "answer_count": 1, "score": 5, "last_activity_date": 1475058018, "creation_date": 1445465267, "last_edit_date": 1445743187, "question_id": 33270102, "link": "https://stackoverflow.com/questions/33270102/send-gmail-messages-with-google-api-ruby-client-0-9-pre3", "title": "Send gmail messages with google-api-ruby-client &#39;0.9.pre3&#39;", "body": "<p>Working through sending gmail with the newer google-api-ruby-client in a rails 4 application. </p>\n\n<pre><code>require 'google/apis/gmail_v1'\n\nGmail = Google::Apis::GmailV1\n\nclass MailService\n\n  def initialize(params)\n    @params = params\n  end\n\n  def call\n    message = Gmail::Message.new\n    service = Gmail::GmailService.new\n    message.raw = (redacted)\n    service.request_options.authorization = current_user.token.fresh_token\n    result = service.send_user_message(current_user.email, message)\n  end\n\nend\n</code></pre>\n\n<p>And this is the result from the call to the API:</p>\n\n<pre><code>Sending HTTP post https://www.googleapis.com/gmail/v1/users/me/messages/send?\n200\n#&lt;Hurley::Response POST https://www.googleapis.com/gmail/v1/users/me/messages/send == 200 (63 bytes) 858ms&gt;\nSuccess - #&lt;Google::Apis::GmailV1::Message:0x007fc9cf9b52dd\n @id=\"15096369c05cdb1d\",\n @thread_id=\"15096369c05cdb1d\"&gt;\n</code></pre>\n\n<p>The raw message sends without issue from the API explorer but when executed from my application I get a bounce email in my inbox. In the above example the redacted sample is a valid RFC 2822 formatted base-64 url safe string and fresh_token represents the oauth2 access token for the current user.</p>\n\n<p>A look at the bounced mail</p>\n\n<pre><code>Bounce &lt;nobody@gmail.com&gt;\n2:43 PM (19 minutes ago)\nto me\n\nAn error occurred. Your message was not sent.\n</code></pre>\n\n<p>Anyone have any thoughts? It seems like perhaps my (sender) email is being picked up in the raw message but not the recipient... Though I suppose the API could be forwarding the bounce based on my oauth access token.</p>\n\n<p>I very much appreciate any help. Thanks!</p>\n\n<p>EDIT: Solution was to pass the RFC 2822 string as raw property without base64 encoding.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "curl", "curb"], "comments": [{"owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445465821, "post_id": 33269900, "comment_id": 54341547, "body": "I tried that, but still get the message   curl.body_str {&quot;message&quot;:&quot;Not authorized&quot;}"}], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445465882, "post_id": 33270075, "comment_id": 54341576, "body": "I tried that, but still get the message curl.body_str {&quot;message&quot;:&quot;Not authorized&quot;}"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "reply_to_user": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445466047, "post_id": 33270075, "comment_id": 54341645, "body": "What output do you get in stderr if you set <code>curl.verbose = true</code>?"}, {"owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445466182, "post_id": 33270075, "comment_id": 54341695, "body": "* Connected to api.humanapi.co (54.69.45.169) port 443 (#0) * TLS 1.2 connection using TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 * Server certificate: *.humanapi.co * Server certificate: DigiCert SHA2 Secure Server CA * Server certificate: DigiCert Global Root CA &gt; GET /v1/apps/11111/users/activities?updated_since=20130925T12000&zwnj;&#8203;0Z HTTP/1.1 Host: api.humanapi.co Accept: application/json Content-Type: application/json"}, {"owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445466185, "post_id": 33270075, "comment_id": 54341696, "body": "&lt; HTTP/1.1 401 Unauthorized &lt; Content-Type: application/json; charset=utf-8 &lt; Date: Wed, 21 Oct 2015 22:26:17 GMT &lt; Server: nginx &lt; X-Powered-By: Express &lt; Content-Length: 28 &lt; Connection: keep-alive"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "reply_to_user": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445466282, "post_id": 33270075, "comment_id": 54341729, "body": "I&#39;m not sure where the issue is, sorry. Given that it&#39;s SSL, it could be a lot of things."}, {"owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445466359, "post_id": 33270075, "comment_id": 54341756, "body": "The curl command works fine on the command line.  How do you call the curl command in ruby without using curl::easy?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "reply_to_user": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445466856, "post_id": 33270075, "comment_id": 54341963, "body": "You can use <code>system</code> or <code>exec</code>: <a href=\"http://stackoverflow.com/questions/6338908/ruby-difference-between-exec-system-and-x-or-backticks\" title=\"ruby difference between exec system and x or backticks\">stackoverflow.com/questions/6338908/&hellip;</a>"}, {"owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "edited": false, "score": 0, "creation_date": 1445467934, "post_id": 33270075, "comment_id": 54342305, "body": "How do you store the results from the system command to a variable?  I tried result = Kernel.system \u201ccurl ...&quot;) but the value in result is just true whereas the curl command returned json data."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": false, "score": 0, "last_activity_date": 1445465080, "creation_date": 1445465080, "answer_id": 33270075, "question_id": 33269900, "link": "https://stackoverflow.com/questions/33269900/ruby-curleasy-pass-u-parameter/33270075#33270075", "title": "Ruby Curl::Easy pass -u parameter", "body": "<p>It looks like you're trying to pass both username and password (with the <code>:</code> delimiter)  to the <code>username=</code> method, but <a href=\"http://curb.rubyforge.org/classes/Curl/Easy.html#M000092\" rel=\"nofollow\">glancing at the docs</a> it looks like that method is for setting the username only (not a big surprise). If you want to set both the username and password with the colon syntax, it looks like <a href=\"http://curb.rubyforge.org/classes/Curl/Easy.html#M000016\" rel=\"nofollow\"><code>userpwd=</code></a> is the method you want:</p>\n\n<blockquote>\n  <h3><code>easy.userpwd =</code> string => string</h3>\n  \n  <p>Set the username/password string to use for subsequent calls to <code>perform</code>. The supplied string should have the form <code>\"username:password\"</code></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "is_accepted": false, "score": 0, "last_activity_date": 1445484192, "creation_date": 1445484192, "answer_id": 33272872, "question_id": 33269900, "link": "https://stackoverflow.com/questions/33269900/ruby-curleasy-pass-u-parameter/33272872#33272872", "title": "Ruby Curl::Easy pass -u parameter", "body": "<p>I was able to do this using RestClient</p>\n\n<pre><code>require 'rest_client'    \n\nresponse = RestClient::Resource.new \"https://api.humanapi.co/v1/apps/#{ENV['CLIENT_ID']}/users/activities?updated_since=20130925T120000Z\", \"#{ENV['APP_ID']}:\", \"\"\n\nresults = JSON.parse response.get\n</code></pre>\n"}], "owner": {"reputation": 499, "user_id": 2974739, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aa0b69edfbd9f807b1d66c9afa3e8b9b?s=128&d=identicon&r=PG&f=1", "display_name": "user2974739", "link": "https://stackoverflow.com/users/2974739/user2974739"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445484192, "creation_date": 1445464240, "question_id": 33269900, "link": "https://stackoverflow.com/questions/33269900/ruby-curleasy-pass-u-parameter", "title": "Ruby Curl::Easy pass -u parameter", "body": "<p>I'm using the ruby curb gem and trying to call this api in the code.  But, I'm not sure how to pass the -u parameter.</p>\n\n<pre><code>curl -X GET -H 'Accept: application/json' -u 111122223333: https://api.somesite.com/v1/apps/e876c39/users/activities?updated_since=20130925T120000Z\n</code></pre>\n\n<p>Here's the code I have so far, but it doesn't work without the -u option.  I tried adding it as a parameter, but doesn't work.</p>\n\n<pre><code>url = \"https://api.somesite.com/v1/apps/e876c39/users/activities?updated_since=20130925T120000Z\"\n\ncurl = Curl::Easy.new(url)\ncurl.headers['Accept'] = 'application/json'\ncurl.headers['Content-Type'] = 'application/json'\ncurl.username = ENV['APP_ID'].to_s + ':'\nresult = curl.perform\n</code></pre>\n"}, {"tags": ["ruby", "amazon-ec2"], "comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1445464681, "post_id": 33269838, "comment_id": 54341099, "body": "On Mac OSX 10.10.2, I get <code>= Response  HTTP&#47;1.1 301 Moved Permanently Content-Type: text&#47;html Date: Wed, 21 Oct 2015 21:56:13 GMT Location: https:&#47;&#47;www.victoriassecret.com&#47; Connection: Keep-Alive Content-Length: 0</code>"}, {"owner": {"reputation": 129, "user_id": 5433535, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bf251713a6da142034a50e008985fbf6?s=128&d=identicon&r=PG&f=1", "display_name": "ruby life questions", "link": "https://stackoverflow.com/users/5433535/ruby-life-questions"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1445465101, "post_id": 33269838, "comment_id": 54341263, "body": "Try making request to <a href=\"https://www.victoriassecret.com\" rel=\"nofollow noreferrer\">victoriassecret.com</a> , not <a href=\"https://victoriassecret.com\" rel=\"nofollow noreferrer\">victoriassecret.com</a>"}, {"owner": {"reputation": 129, "user_id": 5433535, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bf251713a6da142034a50e008985fbf6?s=128&d=identicon&r=PG&f=1", "display_name": "ruby life questions", "link": "https://stackoverflow.com/users/5433535/ruby-life-questions"}, "edited": false, "score": 0, "creation_date": 1445466402, "post_id": 33269838, "comment_id": 54341776, "body": "But on Windows I can do this. Gem &#39;http&#39; does not work too"}, {"owner": {"reputation": 2211, "user_id": 229581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9a793827c924cdbde086b4aa8bf9fe05?s=128&d=identicon&r=PG", "display_name": "cjroebuck", "link": "https://stackoverflow.com/users/229581/cjroebuck"}, "edited": false, "score": 0, "creation_date": 1456507052, "post_id": 33269838, "comment_id": 58996076, "body": "Did you ever figure this one out, im seeing it from ec2 aswell but works ok on mac"}], "answers": [{"comments": [{"owner": {"reputation": 2211, "user_id": 229581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9a793827c924cdbde086b4aa8bf9fe05?s=128&d=identicon&r=PG", "display_name": "cjroebuck", "link": "https://stackoverflow.com/users/229581/cjroebuck"}, "edited": false, "score": 0, "creation_date": 1460679282, "post_id": 33271913, "comment_id": 60867298, "body": "Nope, this isn&#39;t the case for this particular site. Trying it with latest Chrome user-agent on ec2, still get the weird 910 status code: curl -A &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36&quot; -I -L <a href=\"https://www.victoriassecret.com/\" rel=\"nofollow noreferrer\">victoriassecret.com</a> HTTP/1.1 910 Unknown Content-Type: text/plain Date: Fri, 15 Apr 2016 00:13:13 GMT Connection: Keep-Alive Content-Length: 0"}], "tags": [], "owner": {"reputation": 423, "user_id": 78773, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/767a41e57488d7f8abab20f60e7b1392?s=128&d=identicon&r=PG", "display_name": "johnml", "link": "https://stackoverflow.com/users/78773/johnml"}, "is_accepted": true, "score": 0, "last_activity_date": 1445476760, "creation_date": 1445476760, "answer_id": 33271913, "question_id": 33269838, "link": "https://stackoverflow.com/questions/33269838/ruby-http-net-http-httpclient-cant-parse-www-victoriassecret-com/33271913#33271913", "title": "Ruby http, net/http, httpclient: can&#39;t parse www.victoriassecret.com", "body": "<p>This isn't ec2 related. It's most likely related to the User Agent header sent by the various http library implementations. </p>\n\n<p>For example, they clearly don't like 'wget':  </p>\n\n<pre><code>curl -A \"Wget/1.13.4 (linux-gnu)\"  -v https://www.victoriassecret.com\n* Rebuilt URL to: https://www.victoriassecret.com/\n*   Trying 98.158.54.100...\n* Connected to www.victoriassecret.com (98.158.54.100) port 443 (#0)\n* TLS 1.2 # truncated\n&gt; GET / HTTP/1.1\n&gt; Host: www.victoriassecret.com\n&gt; User-Agent: Wget/1.13.4 (linux-gnu)\n&gt; Accept: */*\n&gt;\n&lt; HTTP/1.1 910 Unknown\n&lt; Content-Type: text/html\n&lt; Date: Thu, 22 Oct 2015 01:16:31 GMT\n&lt; Connection: Keep-Alive\n&lt; Content-Length: 23\n&lt;\n* Connection #0 to host www.victoriassecret.com left intact\n&lt;h1&gt;File not found&lt;/h1&gt;%\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 5433535, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bf251713a6da142034a50e008985fbf6?s=128&d=identicon&r=PG&f=1", "display_name": "ruby life questions", "link": "https://stackoverflow.com/users/5433535/ruby-life-questions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 33271913, "answer_count": 1, "score": 1, "last_activity_date": 1462492427, "creation_date": 1445463986, "last_edit_date": 1445466609, "question_id": 33269838, "link": "https://stackoverflow.com/questions/33269838/ruby-http-net-http-httpclient-cant-parse-www-victoriassecret-com", "title": "Ruby http, net/http, httpclient: can&#39;t parse www.victoriassecret.com", "body": "<p>I am using <code>httpclient</code> gem, it works fine on Windows, just moved to <strong>AWS EC2</strong>, tried it on <a href=\"https://victoriassecret.com\" rel=\"nofollow\">https://victoriassecret.com</a> and it gets this response:</p>\n\n<pre><code>= Response\n\nHTTP/1.1 920 Unknown\nContent-Type: text/html\nDate: Wed, 21 Oct 2015 21:42:51 GMT\nConnection: Keep-Alive\nContent-Length: 23\n\n&lt;h1&gt;File not found&lt;/h1&gt;#&lt;HTTP::Message:0x000000023f5168\n @http_body=\n  #&lt;HTTP::Message::Body:0x000000023f50a0\n   @body=\"&lt;h1&gt;File not found&lt;/h1&gt;\",\n   @chunk_size=nil,\n   @positions=nil,\n   @size=0&gt;,\n @http_header=\n  #&lt;HTTP::Message::Headers:0x000000023f5140\n   @body_charset=nil,\n   @body_date=nil,\n   @body_encoding=#&lt;Encoding:ASCII-8BIT&gt;,\n   @body_size=0,\n   @body_type=nil,\n   @chunked=false,\n   @dumped=false,\n   @header_item=\n    [[\"Content-Type\", \"text/html\"],\n     [\"Date\", \"Wed, 21 Oct 2015 21:42:51 GMT\"],\n     [\"Connection\", \"Keep-Alive\"],\n     [\"Content-Length\", \"23\"]],\n   @http_version=\"1.1\",\n   @is_request=false,\n   @reason_phrase=\"Unknown\",\n   @request_absolute_uri=nil,\n   @request_method=\"GET\",\n   @request_query=nil,\n   @request_uri=\n    #&lt;URI::HTTPS:0x000000023f58c0 URL:https://www.victoriassecret.com/pink/new-and-now&gt;,\n   @status_code=920&gt;,\n @peer_cert=\n  #&lt;OpenSSL::X509::Certificate: subject=#&lt;OpenSSL::X509::Name:0x000000024ebe00&gt;, issuer=#&lt;OpenSSL::X509::Name:0x000000024ebec8&gt;, serial=#&lt;OpenSSL::BN:0x000000024de110&gt;, not_before=2015-05-27 00:00:00 UTC, not_after=2017-05-26 23:59:59 UTC&gt;,\n @previous=nil&gt; \n</code></pre>\n\n<p>It does not work only with this website, <code>httpclient get https://google.com</code> for example works fine. But on Windows I get normal response from <code>httpclient get https://www.victoriassecret.com</code>. Butt when using standard NET/HTTP library I get the same 920 response on Windows.</p>\n"}, {"tags": ["ruby", "minitest", "stub", "stubbing"], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 4409186, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-M_x58hCBTVU/AAAAAAAAAAI/AAAAAAAAqJw/sdHmd03mFwc/photo.jpg?sz=128", "display_name": "erikdstock", "link": "https://stackoverflow.com/users/4409186/erikdstock"}, "edited": false, "score": 0, "creation_date": 1445531226, "post_id": 33270350, "comment_id": 54372008, "body": "Thanks. I guess I was wondering because I was having to create this entire fake object so it would have a single method &#39;data&#39; that I could stub. I did like mocha&#39;s implementation which behaves much more like a javascript object- no need to differentiate between <code>obj.data</code> and <code>obj.data[&#39;rows&#39;]</code> when i define my data structure. THANKS!"}], "tags": [], "owner": {"reputation": 40466, "user_id": 33226, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f75007bcbcb8ba4daa408592e1c65ec?s=128&d=identicon&r=PG", "display_name": "Gavin Miller", "link": "https://stackoverflow.com/users/33226/gavin-miller"}, "is_accepted": true, "score": 3, "last_activity_date": 1445466554, "last_edit_date": 1495541045, "creation_date": 1445466554, "answer_id": 33270350, "question_id": 33269393, "link": "https://stackoverflow.com/questions/33269393/using-rubys-struct-to-stub-an-object-for-minitest/33270350#33270350", "title": "Using Ruby&#39;s Struct to stub an object for minitest", "body": "<p>Not at all. I use this type of thing all the time. What you're using is called stubbing and using a <code>Struct</code> to accomplish this is no different than using a testing framework's implementation of a stub.</p>\n\n<p>For <a href=\"https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub\">further reading on mocks, stubbing, faking, etc. see this SO Question</a>.</p>\n"}], "owner": {"reputation": 689, "user_id": 4409186, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-M_x58hCBTVU/AAAAAAAAAAI/AAAAAAAAqJw/sdHmd03mFwc/photo.jpg?sz=128", "display_name": "erikdstock", "link": "https://stackoverflow.com/users/4409186/erikdstock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "accepted_answer_id": 33270350, "answer_count": 1, "score": 4, "last_activity_date": 1445466554, "creation_date": 1445462161, "last_edit_date": 1445464548, "question_id": 33269393, "link": "https://stackoverflow.com/questions/33269393/using-rubys-struct-to-stub-an-object-for-minitest", "title": "Using Ruby&#39;s Struct to stub an object for minitest", "body": "<p>This is working but it feels sloppy to me. I'm wondering if it is a code smell or if there is a better way to be accomplishing this result. Basic question is how to stub some arbitrary object in ruby.</p>\n\n<p>I'm testing an edge case- that the final value of a parsing helper method correctly formats the result of a google analytics query (thus the odd assert statement) the incoming data is a google analytics object whose data is inside- essentially we have to call <code>result.data[\"rows\"]</code>. The whole purpose of the struct here is to give my method's internals the ability to send that #data message. The test passes/fails appropriately but like I said, i'm wondering if this was the best way to go about it, for example getting my data out of the GA result object before sending it to be parsed.</p>\n\n<p>my approach from the test- effectively it calls <code>parse_monthly_chart_data(@ga_result)</code></p>\n\n<pre><code>def test_parse_monthly_chart_data_with_good_values\n  typical_data = {\"rows\" =&gt; [[\"0000\", \"194346\"]...more arrays...]}\n  typical_vals = typical_data[\"rows\"].to_h.values.map(&amp;:to_i)\n  expected_result = typical_vals[-30..-1].inject(&amp;:+)\n\n  Struct.new(\"GaResult\") {def data; end }\n  @ga_result = Struct::GaResult.new\n  @ga_result.stub :data, typical_data do\n      assert_equal(ga.send(:parse_monthly_chart_data, @ga_result).flatten.last, expected_result)\n  end\n\nend\n</code></pre>\n\n<p>Edit: I've solved for part of this issue by replacing stub with mocha's implementation. I'm still wondering if this is a code smell.</p>\n"}, {"tags": ["ruby", "reverse-engineering"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1445461075, "post_id": 33268711, "comment_id": 54339266, "body": "I can&#39;t think of a way to find the next delimiter without just reading bytes until you find it. However, there are a lot of different ways to read bytes from IO in Ruby, and there may very well be a faster way than the one you&#39;ve found. Can you show the source of your <code>read_file</code> method?"}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1445464038, "post_id": 33268711, "comment_id": 54340797, "body": "I read the whole file in to memory with file = IO.binread(path + file_name, end_of_header, end_of_file) read_file is passed a section of what I read in."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1445464367, "post_id": 33268711, "comment_id": 54340965, "body": "Have you considered treating the data as a stream instead and using e.g. <a href=\"http://ruby-doc.org/core-2.2.3/IO.html#method-i-gets\" rel=\"nofollow noreferrer\"><code>IO#gets</code></a> to just read until the next delimiter? I don&#39;t know if this will be faster, but it will certainly take less memory."}], "answers": [{"tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": false, "score": 0, "last_activity_date": 1445836346, "creation_date": 1445836346, "answer_id": 33338858, "question_id": 33268711, "link": "https://stackoverflow.com/questions/33268711/what-is-the-best-way-to-find-an-instance-of-a-byte-array-while-reading-in-a-bina/33338858#33338858", "title": "What is the best way to find an instance of a byte array while reading in a binary file using ruby?", "body": "<p>You can specify a separator for <code>readline</code></p>\n\n<pre><code>file.readline(sep=\"FEFE\")\n</code></pre>\n\n<p>or if you mean the 2 char hex string:</p>\n\n<pre><code>file.readline(sep=\"\\xFE\\xFE\")\n</code></pre>\n\n<p>Gets you one record (including the delimiter)</p>\n\n<p>Or you can pass to a code block</p>\n\n<pre><code>file.readlines(sep=\"\\xFE\\xFE\").each{|line|...}\n</code></pre>\n"}], "owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1445836346, "creation_date": 1445459655, "question_id": 33268711, "link": "https://stackoverflow.com/questions/33268711/what-is-the-best-way-to-find-an-instance-of-a-byte-array-while-reading-in-a-bina", "title": "What is the best way to find an instance of a byte array while reading in a binary file using ruby?", "body": "<p>I am reverse engineering some old database files. It's going pretty good. All the files I have worked with so far have fixed width records and the width is defined in the header. Pretty straight forward.. I know the header length, so I can start reading the file right after the header and then I know that X bytes later I get to the end of the record. If the record is 30 bytes and the header is 100 I can do something like this:</p>\n\n<pre><code> file = IO.binread(path + file_name, end_of_header, end_of_file)\n read_file(file[0, 30]) #This calls a function that parses the data..\n</code></pre>\n\n<p>However, there are several tables with dynamic width records. So, one record can be 100 bytes and the next could be 20 bytes. The records are as big as the amount of text the user saved. There does not seem to be anything that notes the record length on the record..</p>\n\n<p>Each record is separated by a delimiter (FEFE). I am scanning for the next delimiter and pulling the record that way, but it takes forever to read the entire file byte by byte looking for matches. Is there a better way than scanning to find the next match OR get a list of all the indexes of each occurrence of the byte array?</p>\n\n<p>RUBY...</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 1, "creation_date": 1445460987, "post_id": 33268694, "comment_id": 54339213, "body": "Out of curiosity, <i>why</i> do you want that result from instantiating an object to be what you pass in? Also if you want it to behave like an an Enumerator or Array, why not inherit from Array or include Enumerable? <a href=\"http://kconrails.com/2010/11/30/ruby-enumerable-primer-part-1-the-basics/\" rel=\"nofollow noreferrer\">A useful article for including Enumerable</a>."}, {"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 0, "creation_date": 1445461430, "post_id": 33268694, "comment_id": 54339462, "body": "Thanks for the edit, I added an answer, but while it achieves the output you want, I&#39;m not sure if it&#39;s exactly what you&#39;re looking for. Please comment on the answer if it isn&#39;t"}], "answers": [{"comments": [{"owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1445460446, "post_id": 33268871, "comment_id": 54338918, "body": "Nop, it returns false, and x is #&lt;PseudoRelationship:0x1099463f8&gt; not [1,2,3]"}], "tags": [], "owner": {"reputation": 151, "user_id": 3877936, "user_type": "registered", "profile_image": "https://graph.facebook.com/1257280585/picture?type=large", "display_name": "Devon C. Estes", "link": "https://stackoverflow.com/users/3877936/devon-c-estes"}, "is_accepted": false, "score": -1, "last_activity_date": 1445599318, "last_edit_date": 1445599318, "creation_date": 1445460189, "answer_id": 33268871, "question_id": 33268694, "link": "https://stackoverflow.com/questions/33268694/ruby-how-to-control-the-return-value-of-calling-an-instanciated-object/33268871#33268871", "title": "Ruby, how to control the return value of calling an instanciated object", "body": "<p>If you want the variable <code>x</code> to equal the arguments passed when instantiating the object, you need to add an <code>initialize</code> method to your class. Something like this should work:</p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>class PseudoRelationship\n  def initialize(args)\n    args\n  end\n\n  def my_method(args)\n    args\n  end\nend\n\nx = PseudoRelationship.new [1, 2, 3]\nx == [1, 2, 3] #=&gt; true\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Yes, the above won't work, really. If you want it to behave like an array, you could inherit from <code>Array</code>, but that can lead to strange issues and is generally not recommended. However, the below would work:</p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>class PseudoRelationship &lt; Array\nend\n\nx = PseudoRelationship.new [1, 2, 3]\nx.class #=&gt; PseudoRelationship &lt; Array\nx == [1, 2, 3] #=&gt; true\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1445460702, "post_id": 33268887, "comment_id": 54339051, "body": "Nope, this return the object an instance of the object <code>#&lt;PseudoRelationship:0x09908fwef09 @v= [:a,42,false]&gt;</code>"}], "tags": [], "owner": {"reputation": 396, "user_id": 2487145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da3181209f8af781b262170faaedd9c?s=128&d=identicon&r=PG", "display_name": "jholtrop", "link": "https://stackoverflow.com/users/2487145/jholtrop"}, "is_accepted": false, "score": -1, "last_activity_date": 1445460229, "creation_date": 1445460229, "answer_id": 33268887, "question_id": 33268694, "link": "https://stackoverflow.com/questions/33268694/ruby-how-to-control-the-return-value-of-calling-an-instanciated-object/33268887#33268887", "title": "Ruby, how to control the return value of calling an instanciated object", "body": "<p>It sounds like you are asking to alter the \"representation\" of the object, not the \"return value.\" To give the object a new String representation, you can define the #to_s method on the class. For example:</p>\n\n<pre><code>class PseudoRelationship\n  def initialize(v)\n    @v = v\n  end\n\n  def to_s\n    @v.to_s\n  end\nend\n</code></pre>\n\n<p>Then in irb, for example:</p>\n\n<pre><code>1.9.3-p551 :021 &gt; x = PseudoRelationship.new [:a, 42, false]\n =&gt; [:a, 42, false]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1445468255, "post_id": 33269201, "comment_id": 54342395, "body": "This is exactly what I wanted, thank you very much, one question, if I want methods like first, last, [], do I need to define them? or ruby has another module that add that functionality."}, {"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "reply_to_user": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1445468374, "post_id": 33269201, "comment_id": 54342431, "body": "Nope (kinda). Using the class above with console example: <code>x.frist #=&gt; 2</code>, but you&#39;ll have to make methods like <code>#last</code> and define the index accessor <code>[]</code>"}, {"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "reply_to_user": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1445468747, "post_id": 33269201, "comment_id": 54342561, "body": "@ArnoldRoa added the methods for you ;)"}], "tags": [], "owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "is_accepted": true, "score": 1, "last_activity_date": 1445468733, "last_edit_date": 1445468733, "creation_date": 1445461363, "answer_id": 33269201, "question_id": 33268694, "link": "https://stackoverflow.com/questions/33268694/ruby-how-to-control-the-return-value-of-calling-an-instanciated-object/33269201#33269201", "title": "Ruby, how to control the return value of calling an instanciated object", "body": "<p>jholtrop was close, you want to overwrite the <code>inspect</code> method</p>\n\n<pre><code>2.0.0p645&gt; \nclass PseudoRelationship\n    def initialize(args)\n        @args = args\n    end\n\n    def inspect\n        @args.inspect\n    end\nend\n\n2.0.0p645&gt; PseudoRelationship.new [2, 3, 5]                                                                                                                                                                 \n[2, 3, 5]\n</code></pre>\n\n<p>--Edit based on OP's reasons for <em>wanting</em> this behavior--</p>\n\n<p>While the above class displays <em>what we want to see</em> in the console, it doesn't actually assume any management of args in a way that treats <code>args</code> as an Enumerable. The OP's inspiration is drawn from a Rails construct, the <code>ActiveRecord::Relation</code>*. To imulate that style of behavior, you have to include Enumerable.</p>\n\n<pre><code>class PseudoRelationship\n    include Enumerable\n\n    def initialize(args)\n        @args = args\n    end\n\n    def each(&amp;block)\n       @args.each(&amp;block)\n    end\n\n    def inspect\n        @args.inspect\n    end\n\n    # Add extra functions to operate on @args\n    # This is obviously a silly example\n    def foo?\n      @args.include? :foo\n    end\n\n    def [](key)\n      @args[key]\n    end\n\n    def last\n      @args[-1]\n    end\nend\n\n\n2.0.0p645&gt; PseudoRelationship.new [2, 3, 5]                                                                                                                                                                 \n[2, 3, 5]\n2.0.0p645&gt; x = PseudoRelationship.new [2, 3, 5]\n[2, 3, 5]\n2.0.0p645&gt; x.each \n#&lt;Enumerator: [2, 3, 5]:each&gt;\n2.0.0p645&gt; x.each_with_index\n#&lt;Enumerator: [2, 3, 5]:each_with_index&gt;\n2.0.0p645&gt; x.each_with_index { |e, i| puts \"#{i} =&gt; #{e}\" }\n0 =&gt; 2\n1 =&gt; 3\n2 =&gt; 5\n[2, 3, 5]\n2.0.0p645&gt; x.foo?\nfalse\n2.0.0p645&gt; x.first\n2\n2.0.0p645&gt; x.last\n5\n2.0.0p645&gt; x[1]\n3\n2.0.0p645&gt; x[5]\nnil\n2.0.0p645&gt; x\n[2, 3, 5]\n</code></pre>\n\n<p>* This construct wasn't explictly stated, but I'm assuming based on the context</p>\n"}], "owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 33269201, "answer_count": 3, "score": 2, "last_activity_date": 1445599318, "creation_date": 1445459594, "last_edit_date": 1445461024, "question_id": 33268694, "link": "https://stackoverflow.com/questions/33268694/ruby-how-to-control-the-return-value-of-calling-an-instanciated-object", "title": "Ruby, how to control the return value of calling an instanciated object", "body": "<p>If I do this:</p>\n\n<pre><code>class PseudoRelationship\n    def my_method(args)\n         args\n    end\nend\n\na = PseudoRelationship.new\n</code></pre>\n\n<p>I got as output</p>\n\n<pre><code>x\n#&lt;PseudoRelationship:0x109c2ebb0&gt;\n</code></pre>\n\n<p>I would like it to behave like a Enumerator or Array, so I get for example this output</p>\n\n<pre><code>x = PseudoRelationship.new [1,2,3]\nx\n[1,2,3]\n</code></pre>\n\n<p>Pd. This is not for rails.</p>\n\n<p>What I'm trying to do is behave like an array.</p>\n\n<p>Its something that rails 2.3 seems to use, for example, you can do</p>\n\n<pre><code>my_model.relationship # returns an array\nmy_model.relationship.find #is a method\n</code></pre>\n\n<p>I'm trying to replicate that behaviour.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "edited": false, "score": 0, "creation_date": 1445465092, "post_id": 33268670, "comment_id": 54341259, "body": "Why don&#39;t you post the <code>index</code> method from your users_controller.rb."}, {"owner": {"reputation": 41, "user_id": 5473266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9857f537ad5b0df7265e3a712a1e4118?s=128&d=identicon&r=PG&f=1", "display_name": "alexscjava", "link": "https://stackoverflow.com/users/5473266/alexscjava"}, "edited": false, "score": 0, "creation_date": 1445469248, "post_id": 33268670, "comment_id": 54342708, "body": "I added the complete files affected. Sorry I didn&#39;t do that that before, please."}, {"owner": {"reputation": 146, "user_id": 3099251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eff16bf0603f536486ed3804c7c40c63?s=128&d=identicon&r=PG", "display_name": "chanakya devraj", "link": "https://stackoverflow.com/users/3099251/chanakya-devraj"}, "edited": false, "score": 0, "creation_date": 1445497973, "post_id": 33268670, "comment_id": 54351084, "body": "please try this once and let us know if it works, replace <code>application.html.rb:5</code> to  &lt;%= stylesheet_link_tag &quot;/assets/stylesheet.css&quot; %&gt;"}, {"owner": {"reputation": 41, "user_id": 5473266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9857f537ad5b0df7265e3a712a1e4118?s=128&d=identicon&r=PG&f=1", "display_name": "alexscjava", "link": "https://stackoverflow.com/users/5473266/alexscjava"}, "edited": false, "score": 0, "creation_date": 1445520391, "post_id": 33268670, "comment_id": 54364574, "body": "chanakya devraj you solved complete my problem. Thank you so much for your kindness!"}], "owner": {"reputation": 41, "user_id": 5473266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9857f537ad5b0df7265e3a712a1e4118?s=128&d=identicon&r=PG&f=1", "display_name": "alexscjava", "link": "https://stackoverflow.com/users/5473266/alexscjava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446460977, "creation_date": 1445459508, "last_edit_date": 1446460977, "question_id": 33268670, "link": "https://stackoverflow.com/questions/33268670/nomethoderror-in-usersindex-undefined-method-for-nilnilclass", "title": "NoMethodError in Users#index [], undefined method `[]&#39; for nil:NilClass", "body": "<p>I'm using Ruby version 1.9.3 and Rails 3.2.16 running on Ubuntu. I don't know what alter or update to fix this.</p>\n\n<blockquote>\n  <p>NoMethodError in Users#index</p>\n  \n  <p>Showing /home/alex/Documents/curso_rails/demo_app/app/views/layouts/application.html.erb where line #5 raised:</p>\n  \n  <p><code>undefined method '[]' for nil:NilClass</code></p>\n</blockquote>\n\n<p>Extracted source (around line #5):</p>\n\n<pre><code>2: \n3: \n4:   &lt;title&gt;DemoApp&lt;/title&gt;\n5:   &lt;%= stylesheet_link_tag \"application\", :media =&gt; \"all\" %&gt;\n6:   &lt;%= javascript_include_tag \"application\" %&gt;\n7:   &lt;%= csrf_meta_tags %&gt;\n8: \n</code></pre>\n\n<p>Follows above, users controller:</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n  # GET /users\n  # GET /users.json\n  def index\n    @users = User.all\n\n    respond_to do |format|\n      format.html # index.html.erb\n      format.json { render json: @users }\n    end\n  end\n\n  # GET /users/1\n  # GET /users/1.json\n  def show\n    @user = User.find(params[:id])\n\n    respond_to do |format|\n      format.html # show.html.erb\n      format.json { render json: @user }\n    end\n  end\n\n  # GET /users/new\n  # GET /users/new.json\n  def new\n    @user = User.new\n\n    respond_to do |format|\n      format.html # new.html.erb\n      format.json { render json: @user }\n    end\n  end\n\n  # GET /users/1/edit\n  def edit\n    @user = User.find(params[:id])\n  end\n\n  # POST /users\n  # POST /users.json\n  def create\n    @user = User.new(params[:user])\n\n    respond_to do |format|\n      if @user.save\n        format.html { redirect_to @user, notice: 'User was successfully created.' }\n        format.json { render json: @user, status: :created, location: @user }\n      else\n        format.html { render action: \"new\" }\n        format.json { render json: @user.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PUT /users/1\n  # PUT /users/1.json\n  def update\n    @user = User.find(params[:id])\n\n    respond_to do |format|\n      if @user.update_attributes(params[:user])\n        format.html { redirect_to @user, notice: 'User was successfully updated.' }\n        format.json { head :no_content }\n      else\n        format.html { render action: \"edit\" }\n        format.json { render json: @user.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /users/1\n  # DELETE /users/1.json\n  def destroy\n    @user = User.find(params[:id])\n    @user.destroy\n\n    respond_to do |format|\n      format.html { redirect_to users_url }\n      format.json { head :no_content }\n    end\n  end\nend\n\nFollows, `application.html.rb`\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;DemoApp&lt;/title&gt;\n    &lt;%= stylesheet_link_tag \"application\", :media =&gt; \"all\" %&gt;\n    &lt;%= javascript_include_tag \"application\" %&gt;\n    &lt;%= csrf_meta_tags %&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;%= yield %&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 2963, "user_id": 2156814, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/c1W9t.jpg?s=128&g=1", "display_name": "Kingsley Ijomah", "link": "https://stackoverflow.com/users/2156814/kingsley-ijomah"}, "edited": false, "score": 0, "creation_date": 1445460871, "post_id": 33268756, "comment_id": 54339144, "body": "Oh yes, I do have accepts_nested_attributes_for :comments in Visitor model"}, {"owner": {"reputation": 156, "user_id": 1843899, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/30ea3b301af9a784ddef2a1b751ec51d?s=128&d=identicon&r=PG", "display_name": "David Hemmat", "link": "https://stackoverflow.com/users/1843899/david-hemmat"}, "reply_to_user": {"reputation": 2963, "user_id": 2156814, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/c1W9t.jpg?s=128&g=1", "display_name": "Kingsley Ijomah", "link": "https://stackoverflow.com/users/2156814/kingsley-ijomah"}, "edited": false, "score": 0, "creation_date": 1445462476, "post_id": 33268756, "comment_id": 54340005, "body": "I have edited the answer, I realized that using the :visitor symbol wasn&#39;t working locally."}], "tags": [], "owner": {"reputation": 156, "user_id": 1843899, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/30ea3b301af9a784ddef2a1b751ec51d?s=128&d=identicon&r=PG", "display_name": "David Hemmat", "link": "https://stackoverflow.com/users/1843899/david-hemmat"}, "is_accepted": true, "score": 1, "last_activity_date": 1445462452, "last_edit_date": 1445462452, "creation_date": 1445459800, "answer_id": 33268756, "question_id": 33268515, "link": "https://stackoverflow.com/questions/33268515/how-to-populate-nested-field-from-controller-in-rails/33268756#33268756", "title": "How to populate nested field from controller in rails", "body": "<p>Substitute </p>\n\n<pre><code>&lt;%= form_for :visitor, url: comment_visitors_path do |f| %&gt;\n</code></pre>\n\n<p>with \n    &lt;%= form_for @visitor, url: comment_visitors_path do |f| %></p>\n\n<p>This did the trick for me. </p>\n\n<p>Also, did you make sure to use </p>\n\n<pre><code>accepts_nested_attributes_for :comments\n</code></pre>\n\n<p>in your Visitor model? If you don't, fields_for will not prepopulate the comments (or work correctly). </p>\n"}], "owner": {"reputation": 2963, "user_id": 2156814, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/c1W9t.jpg?s=128&g=1", "display_name": "Kingsley Ijomah", "link": "https://stackoverflow.com/users/2156814/kingsley-ijomah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 33268756, "answer_count": 1, "score": 1, "last_activity_date": 1445462452, "creation_date": 1445458877, "question_id": 33268515, "link": "https://stackoverflow.com/questions/33268515/how-to-populate-nested-field-from-controller-in-rails", "title": "How to populate nested field from controller in rails", "body": "<p>I am working on a basic blog system, where in my #post/show I have a form which submits to both Visitor and Comment models. Post/show has this form at the bottom of the page:</p>\n\n<pre><code>&lt;%= form_for :visitor, url: comment_visitors_path do |f| %&gt;\n  &lt;p&gt;\n    &lt;%= f.label :fullname %&gt;&lt;br&gt;\n    &lt;%= f.text_field :fullname %&gt;\n  &lt;/p&gt;\n\n  &lt;%= f.fields_for :comments do |c| %&gt;\n    &lt;p&gt;\n        &lt;%= c.label :message %&gt;&lt;br&gt;\n        &lt;%= c.text_area :message %&gt;\n    &lt;/p&gt;\n    ...\n  &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>For some long reason, I want to be able to pre-populate both visitor fields and comments fields. In the #post/show controller I can pre-populate the visitor's fullname like so:</p>\n\n<pre><code>def show\n @post = Post.find(params[:id])\n\n @visitor = Visitor.new(fullname: 'John', comments: [Comment.new(message: 'not working')])\n ...\nend\n</code></pre>\n\n<p>But can't figure out how to pre-populate the values of fields_for, namely (comments: ...) does anyone have any ideas?</p>\n\n<p>The above code does not fill in the textarea with the provided default value, would be nice if it did.</p>\n"}, {"tags": ["ruby", "http-get"], "answers": [{"comments": [{"owner": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "edited": false, "score": 0, "creation_date": 1445459160, "post_id": 33268409, "comment_id": 54338234, "body": "calling puts response.body.to_s just elaborates on the bad request error <code>&lt;html&gt; &lt;head&gt;&lt;title&gt;400 The plain HTTP request was sent to HTTPS port&lt;&#47;title&gt;&lt;&#47;head&gt; &lt;body bgcolor=&quot;white&quot;&gt; &lt;center&gt;&lt;h1&gt;400 Bad Request&lt;&#47;h1&gt;&lt;&#47;center&gt; &lt;center&gt;The plain HTTP request was sent to HTTPS port&lt;&#47;center&gt; &lt;hr&gt;&lt;center&gt;nginx&#47;1.8.0&lt;&#47;center&gt; &lt;&#47;body&gt; &lt;&#47;html&gt;</code>"}], "tags": [], "owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "is_accepted": false, "score": 1, "last_activity_date": 1445458494, "creation_date": 1445458494, "answer_id": 33268409, "question_id": 33268358, "link": "https://stackoverflow.com/questions/33268358/properly-build-http-get-request-in-ruby/33268409#33268409", "title": "Properly build http get request in ruby", "body": "<p>You probably want to call <code>response.body</code></p>\n\n<p>You can find the documentation for Net::HTTPResponse <a href=\"http://ruby-doc.org/stdlib-1.9.3/libdoc/net/http/rdoc/Net/HTTPResponse.html\" rel=\"nofollow\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "edited": false, "score": 0, "creation_date": 1445459388, "post_id": 33268565, "comment_id": 54338354, "body": "using http yields <code>#&lt;Net::HTTPMovedPermanently 301 Moved Permanently readbody=true&gt; &quot;&lt;html&gt;\\r\\n&lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;&#47;title&gt;&lt;&#47;head&gt;\\r\\n&lt;body bgcolor=\\&quot;white\\&quot;&gt;\\r\\n&lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;&#47;h1&gt;&lt;&#47;center&gt;\\r\\n&lt;hr&gt;&lt;center&gt;nginx&#47;1.8.0&lt;&#47;center&zwnj;&#8203;&gt;\\r\\n&lt;&#47;body&gt;\\r\\n&lt;&#47;ht&zwnj;&#8203;ml&gt;\\r\\n&quot;</code>"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "edited": false, "score": 0, "creation_date": 1445459574, "post_id": 33268565, "comment_id": 54338471, "body": "Basically, the resource you are looking for is not there anymore. It&#39;s moved to somewhere else. That&#39;s why you are getting <code>400 Error</code> using <code>https</code> and <code>301 status</code> using <code>http</code>. You have to find the correct resource url and then it should work."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "edited": false, "score": 0, "creation_date": 1445459617, "post_id": 33268565, "comment_id": 54338492, "body": "See this post for some more info: <a href=\"http://webmasters.stackexchange.com/questions/64650/why-does-301-redirect-work-for-http-but-not-for-https\" title=\"why does 301 redirect work for http but not for https\">webmasters.stackexchange.com/questions/64650/&hellip;</a>"}, {"owner": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "edited": false, "score": 0, "creation_date": 1445459743, "post_id": 33268565, "comment_id": 54338553, "body": "If that is true then why is it that this curl works: <code>curl -v -H &quot;X-Token: obfuscated-Token&quot; -H &quot;Accept: application&#47;json&quot; -X GET https:&#47;&#47;cirrus.app47.com&#47;api&#47;users&#47;obfuscated_userID</code>"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "edited": false, "score": 0, "creation_date": 1445459908, "post_id": 33268565, "comment_id": 54338632, "body": "Then probably the issue is in setting the headers in your request."}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1445459639, "last_edit_date": 1445459639, "creation_date": 1445459084, "answer_id": 33268565, "question_id": 33268358, "link": "https://stackoverflow.com/questions/33268358/properly-build-http-get-request-in-ruby/33268565#33268565", "title": "Properly build http get request in ruby", "body": "<p>Try making the request using <code>http</code> protocol instead of <code>https</code>:</p>\n\n<pre><code>uri = URI.parse(\"http://cirrus.app47.com/api/users/obfuscated_userID\")\n</code></pre>\n\n<p>Then, it should work as expected.</p>\n\n<p>Also, try to inspect the <code>response</code> and <code>response body</code> like this:</p>\n\n<pre><code>response = http.request(request)\nputs response.inspect\nputs response.body.inspect\n</code></pre>\n\n<p>And, grab your required data :-)</p>\n"}, {"tags": [], "owner": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "is_accepted": true, "score": 0, "last_activity_date": 1445530383, "creation_date": 1445530383, "answer_id": 33285659, "question_id": 33268358, "link": "https://stackoverflow.com/questions/33268358/properly-build-http-get-request-in-ruby/33285659#33285659", "title": "Properly build http get request in ruby", "body": "<p>2 things are missing:</p>\n\n<ol>\n<li>Declaration that ssl is being used</li>\n<li>Proper header specification</li>\n</ol>\n\n<p>Here is the solution:</p>\n\n<pre><code>uri = URI.parse(\"https://cirrus.app47.com/api/users/obfuscated_userID\") \nhttp = Net::HTTP.new(uri.host, uri.port) \nhttp.use_ssl = true\n\nrequest = Net::HTTP::Get.new(uri.request_uri) \nrequest['X-Token'] = \"obfuscated-APIToken\" \nrequest['Accept'] = \"application/json\"\n\nresponse = http.request(request)\n</code></pre>\n"}], "owner": {"reputation": 4824, "user_id": 869936, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7147d5843128c21bfc84eccd8aa60ed5?s=128&d=identicon&r=PG", "display_name": "kraftydevil", "link": "https://stackoverflow.com/users/869936/kraftydevil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1373, "favorite_count": 0, "accepted_answer_id": 33285659, "answer_count": 3, "score": 3, "last_activity_date": 1445530383, "creation_date": 1445458276, "question_id": 33268358, "link": "https://stackoverflow.com/questions/33268358/properly-build-http-get-request-in-ruby", "title": "Properly build http get request in ruby", "body": "<p>I want to request user information from an API using ruby so I'm following this ruby http cheat sheet: </p>\n\n<p><a href=\"http://augustl.com/blog/2010/ruby_net_http_cheat_sheet/\" rel=\"nofollow\">http://augustl.com/blog/2010/ruby_net_http_cheat_sheet/</a> </p>\n\n<p>This is what I'm using so far:</p>\n\n<pre><code>    #!/usr/bin/ruby\n    require \"net/http\"\n    require \"uri\"\n\n    uri = URI.parse(\"https://cirrus.app47.com/api/users/obfuscated_userID\")\n    http = Net::HTTP.new(uri.host, uri.port)\n    request = Net::HTTP::Get.new(uri.request_uri)\n    request.initialize_http_header({\"X-Token\" =&gt; \"obfuscated-TokenString\"})\n    request.initialize_http_header({\"Accept\" =&gt; \"application/json\"})\n\n    response = http.request(request)\n    puts response.to_s\n</code></pre>\n\n<p>Printing the response  gives me <code>#&lt;Net::HTTPBadRequest:0x007fe37cac2da0&gt;</code> so what am I doing wrong to build or execute the request?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "coffeescript", "sass"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 2, "creation_date": 1445458014, "post_id": 33268157, "comment_id": 54337615, "body": "Text is almost always better than images when supplying textual information."}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 1, "creation_date": 1445458334, "post_id": 33268157, "comment_id": 54337778, "body": "I&#39;m going to repeat once again a solid advice of many Rails developers out there: <b>use a virtual machine fitted with a Unix-like OS, that will save you a lot of time</b>. I personally recommend Linux Mint + VirtualBox in Seamless Mode, friendly enough and works well enough with Ruby ecosystem."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1445458391, "post_id": 33268157, "comment_id": 54337816, "body": "CS and Sass are the <i>default</i>, aren&#39;t they? I&#39;m not aware you have to supply any options; I don&#39;t have the options either (under OS X or Linux) and everything I have uses CS/Sass."}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1445458440, "post_id": 33268157, "comment_id": 54337838, "body": "...and yes, you could at least try creating a project and see that they&#39;re right there, in the template app :)"}, {"owner": {"reputation": 2069, "user_id": 1084531, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/M1M96.jpg?s=128&g=1", "display_name": "Frederick Marcoux", "link": "https://stackoverflow.com/users/1084531/frederick-marcoux"}, "reply_to_user": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1445460488, "post_id": 33268157, "comment_id": 54338942, "body": "@D-side I tried, not there."}, {"owner": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 0, "creation_date": 1445462373, "post_id": 33268157, "comment_id": 54339954, "body": "Please do not post screenshots of code or errors.  (see: <a href=\"http://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\" title=\"discourage screenshots of code and or errors\">meta.stackoverflow.com/questions/303812/&hellip;</a>)"}, {"owner": {"reputation": 2069, "user_id": 1084531, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/M1M96.jpg?s=128&g=1", "display_name": "Frederick Marcoux", "link": "https://stackoverflow.com/users/1084531/frederick-marcoux"}, "edited": false, "score": 0, "creation_date": 1445467046, "post_id": 33268157, "comment_id": 54342025, "body": "Please answer. Understood for the image but I can&#39;t change it right now. Still the image has good resolution!"}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1445504313, "post_id": 33268157, "comment_id": 54354647, "body": "@FrederickMarcoux <a href=\"https://github.com/rails/rails/blob/7f18ea14c893cb5c9f04d4fda9661126758332b5/railties/lib/rails/generators/app_base.rb\" rel=\"nofollow noreferrer\">sure it is</a>. Generic <code>rails</code> help won&#39;t tell you much, create the project and look at its Gemfile. If the entries you need are not there, just add them in. There are tons of useful gems Rails doesn&#39;t add by default, that doesn&#39;t mean you can&#39;t add them into an existing project."}, {"owner": {"reputation": 2069, "user_id": 1084531, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/M1M96.jpg?s=128&g=1", "display_name": "Frederick Marcoux", "link": "https://stackoverflow.com/users/1084531/frederick-marcoux"}, "reply_to_user": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1445516521, "post_id": 33268157, "comment_id": 54362164, "body": "@D-side I edited for you to see the output. No <code>.coffee</code> or <code>.scss</code> files are generated. And adding the gem is a thing, but I will need to create files and structure, which the generator does for me."}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1445537741, "post_id": 33268157, "comment_id": 54375757, "body": "@FrederickMarcoux and it shouldn&#39;t, and folder structure is not different. Now create an app and execute this: <code>rails g controller Home index</code> and see what it generates."}, {"owner": {"reputation": 2069, "user_id": 1084531, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/M1M96.jpg?s=128&g=1", "display_name": "Frederick Marcoux", "link": "https://stackoverflow.com/users/1084531/frederick-marcoux"}, "reply_to_user": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1445542849, "post_id": 33268157, "comment_id": 54378618, "body": "@D-side Indeed, it generates .coffee and .scss. Now how can I configure the app to use only these? Like no .css file anywhere, not even the <code>application.css</code> which is generated on <code>rails new</code>...  Post it as answer, I&#39;ll accept it!"}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1445543617, "post_id": 33268157, "comment_id": 54379073, "body": "I don&#39;t think there is a way other than using/making a different generator. And it&#39;s not like you need that anyway, <code>application.*</code> assets are meant only to list assets for precompilation, not to contain actual code."}], "owner": {"reputation": 2069, "user_id": 1084531, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/M1M96.jpg?s=128&g=1", "display_name": "Frederick Marcoux", "link": "https://stackoverflow.com/users/1084531/frederick-marcoux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 857, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445516426, "creation_date": 1445457550, "last_edit_date": 1445516426, "question_id": 33268157, "link": "https://stackoverflow.com/questions/33268157/rails-windows-no-coffeescript-option-in-new-command", "title": "Rails Windows - No Coffeescript option in &quot;new&quot; command", "body": "<p>I just installed Ruby and Rails via RailsInstaller and it seems that coffeescript and SCSS are not installed.</p>\n\n<p>I want to create my project using <code>rails new</code> command but no options refering to them:</p>\n\n<pre><code>fmarcoux@freud MINGW64 ~/RubymineProjects\n$ rails new -h\nDL is deprecated, please use Fiddle\nUsage:\n  rails new APP_PATH [options]\n\nOptions:\n  -r, [--ruby=PATH]                                      # Path to the Ruby binary of your choice\n                                                         # Default: C:/RailsInstaller/Ruby2.1.0/bin/ruby.exe\n  -m, [--template=TEMPLATE]                              # Path to some application template (can be a filesystem path or URL)\n      [--skip-gemfile], [--no-skip-gemfile]              # Don't create a Gemfile\n  -B, [--skip-bundle], [--no-skip-bundle]                # Don't run bundle install\n  -G, [--skip-git], [--no-skip-git]                      # Skip .gitignore file\n      [--skip-keeps], [--no-skip-keeps]                  # Skip source control .keep files\n  -O, [--skip-active-record], [--no-skip-active-record]  # Skip Active Record files\n  -S, [--skip-sprockets], [--no-skip-sprockets]          # Skip Sprockets files\n      [--skip-spring], [--no-skip-spring]                # Don't install Spring application preloader\n  -d, [--database=DATABASE]                              # Preconfigure for selected database (options: mysql/oracle/postgresql/sqlite3/frontbase/ibm_db/sqlserver/jdbcmysql/jdbcsqlite3/jdbcpostgresql/jdbc)\n                                                         # Default: sqlite3\n  -j, [--javascript=JAVASCRIPT]                          # Preconfigure for selected JavaScript library\n                                                         # Default: jquery\n  -J, [--skip-javascript], [--no-skip-javascript]        # Skip JavaScript files\n      [--dev], [--no-dev]                                # Setup the application with Gemfile pointing to your Rails checkout\n      [--edge], [--no-edge]                              # Setup the application with Gemfile pointing to Rails repository\n      [--skip-turbolinks], [--no-skip-turbolinks]        # Skip turbolinks gem\n  -T, [--skip-test-unit], [--no-skip-test-unit]          # Skip Test::Unit files\n      [--rc=RC]                                          # Path to file containing extra configuration options for rails command\n      [--no-rc], [--no-no-rc]                            # Skip loading of extra configuration options from .railsrc file\n\nRuntime options:\n  -f, [--force]                    # Overwrite files that already exist\n  -p, [--pretend], [--no-pretend]  # Run but do not make any changes\n  -q, [--quiet], [--no-quiet]      # Suppress status output\n  -s, [--skip], [--no-skip]        # Skip files that already exist\n\nRails options:\n  -h, [--help], [--no-help]        # Show this help message and quit\n  -v, [--version], [--no-version]  # Show Rails version number and quit\n\nDescription:\n    The 'rails new' command creates a new Rails application with a default\n    directory structure and configuration at the path you specify.\n\n    You can specify extra command-line arguments to be used every time\n    'rails new' runs in the .railsrc configuration file in your home directory.\n\n    Note that the arguments specified in the .railsrc file don't affect the\n    defaults values shown above in this help message.\n\nExample:\n    rails new ~/Code/Ruby/weblog\n\n    This generates a skeletal Rails installation in ~/Code/Ruby/weblog.\n    See the README in the newly created application to get going.\n\nfmarcoux@freud MINGW64 ~/RubymineProjects\n$\n</code></pre>\n\n<p>I installed Coffee and SCSS via <code>gem install coffee-rails</code> and <code>gem install scss-rails</code>.</p>\n\n<p>But still not appearing as seen on the photo (the pic was taken after install, no changes.) (yes, I tried to restart the Git Bash)</p>\n\n<p>Am I the only one with this issue? If no, how to fix it. I need SCSS and Coffee for me project!</p>\n\n<p>Edit: When I create the project (with --pretend), here's the output:</p>\n\n<pre><code>$ rails new --pretend helloworld\nDL is deprecated, please use Fiddle\n      create\n      create  README.rdoc\n      create  Rakefile\n      create  config.ru\n      create  .gitignore\n      create  Gemfile\n      create  app\n      create  app/assets/javascripts/application.js\n      create  app/assets/stylesheets/application.css\n      create  app/controllers/application_controller.rb\n      create  app/helpers/application_helper.rb\n      create  app/views/layouts/application.html.erb\n      create  app/assets/images/.keep\n      create  app/mailers/.keep\n      create  app/models/.keep\n      create  app/controllers/concerns/.keep\n      create  app/models/concerns/.keep\n      create  bin\n      create  bin/bundle\n      create  bin/rails\n      create  bin/rake\n      create  bin/setup\n      create  config\n      create  config/routes.rb\n      create  config/application.rb\n      create  config/environment.rb\n      create  config/secrets.yml\n      create  config/environments\n      create  config/environments/development.rb\n      create  config/environments/production.rb\n      create  config/environments/test.rb\n      create  config/initializers\n      create  config/initializers/assets.rb\n      create  config/initializers/backtrace_silencers.rb\n      create  config/initializers/cookies_serializer.rb\n      create  config/initializers/filter_parameter_logging.rb\n      create  config/initializers/inflections.rb\n      create  config/initializers/mime_types.rb\n      create  config/initializers/session_store.rb\n      create  config/initializers/wrap_parameters.rb\n      create  config/locales\n      create  config/locales/en.yml\n      create  config/boot.rb\n      create  config/database.yml\n      create  db\n      create  db/seeds.rb\n      create  lib\n      create  lib/tasks\n      create  lib/tasks/.keep\n      create  lib/assets\n      create  lib/assets/.keep\n      create  log\n      create  log/.keep\n      create  public\n      create  public/404.html\n      create  public/422.html\n      create  public/500.html\n      create  public/favicon.ico\n      create  public/robots.txt\n      create  test/fixtures\n      create  test/fixtures/.keep\n      create  test/controllers\n      create  test/controllers/.keep\n      create  test/mailers\n      create  test/mailers/.keep\n      create  test/models\n      create  test/models/.keep\n      create  test/helpers\n      create  test/helpers/.keep\n      create  test/integration\n      create  test/integration/.keep\n      create  test/test_helper.rb\n      create  tmp/cache\n      create  tmp/cache/assets\n      create  vendor/assets/javascripts\n      create  vendor/assets/javascripts/.keep\n      create  vendor/assets/stylesheets\n      create  vendor/assets/stylesheets/.keep\n</code></pre>\n\n<p>There's no CoffeeScript assets nor SCSS!</p>\n"}, {"tags": ["ruby", "windows", "scheduled-tasks", "windows-7-x64", "oracle-call-interface"], "answers": [{"tags": [], "owner": {"reputation": 1104, "user_id": 3938081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ccf280616912c6edc9aa83f278686c?s=128&d=identicon&r=PG&f=1", "display_name": "dave_slash_null", "link": "https://stackoverflow.com/users/3938081/dave-slash-null"}, "is_accepted": true, "score": 2, "last_activity_date": 1445521161, "last_edit_date": 1445521161, "creation_date": 1445520594, "answer_id": 33282236, "question_id": 33267664, "link": "https://stackoverflow.com/questions/33267664/ruby-oci-script-encounters-error-when-run-as-scheduled-task/33282236#33282236", "title": "ruby OCI script encounters error when run as scheduled task", "body": "<p>This issue was caused by the <code>PATH</code> environment variable not being updated in the Task Scheduler process. The Task Scheduler process (taskeng.exe) runs in the background even if you close the GUI and open it again. So closing the GUI and opening again does not reboot the process to catch the updated <code>PATH</code>.</p>\n\n<p>When I installed the Oracle Instant Client I had to add it's location to the <code>PATH</code>. But Task Scheduler could not find the client because it needed to be truly restarted to update its known <code>PATH</code> variable.</p>\n\n<p>Solved by killing taskeng.exe and starting it again. (Rebooting the computer will have the same effect.) Thanks to Kubo Takehiro for helping me identify the problem!</p>\n"}], "owner": {"reputation": 1104, "user_id": 3938081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ccf280616912c6edc9aa83f278686c?s=128&d=identicon&r=PG&f=1", "display_name": "dave_slash_null", "link": "https://stackoverflow.com/users/3938081/dave-slash-null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 1, "accepted_answer_id": 33282236, "answer_count": 1, "score": 0, "last_activity_date": 1445521161, "creation_date": 1445455802, "question_id": 33267664, "link": "https://stackoverflow.com/questions/33267664/ruby-oci-script-encounters-error-when-run-as-scheduled-task", "title": "ruby OCI script encounters error when run as scheduled task", "body": "<p>I have a script that makes queries to an oracle database. When I call the script from the command line all works well and as expected.</p>\n\n<p>However, when I set up Windows Task Scheduler to execute the script I am encountering an error at the point where I require the OCI gem and I'm not sure why:</p>\n\n<pre><code>C:/Ruby21-x64/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require': 193: %1 is not a valid Win32 application.   \n- C:/Ruby21-x64/lib/ruby/gems/2.1.0/extensions/x64-mingw32/2.1.0/ruby-oci8-2.1.8/oci8lib_210.so (LoadError)\n</code></pre>\n\n<p>My environment:</p>\n\n<p>64 bit Windows 7 </p>\n\n<p>Ruby 2.1.7</p>\n\n<p>ruby-oci8 -v 2.1.8 (the oracle gem)</p>\n\n<p>Oracle Instant Client for 64 bit Windows</p>\n\n<p>I have done some research into what seem to be similar errors and it seems that the problem is related to the gem being built for a 32 bit Windows platform, but I'm not sure what to make of this, especially since it works fine when called from the command line.</p>\n\n<p>Any help is greatly appreciated!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "devise", "omniauth"], "answers": [{"comments": [{"owner": {"reputation": 90, "user_id": 5472341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5dbe2071e88de9580a9e7c97b46880?s=128&d=identicon&r=PG&f=1", "display_name": "James.Oliver", "link": "https://stackoverflow.com/users/5472341/james-oliver"}, "edited": false, "score": 0, "creation_date": 1445525919, "post_id": 33267889, "comment_id": 54368472, "body": "Ok, Thank you. I seem to have hit another error, but at least now I am accessing the Oauth."}], "tags": [], "owner": {"reputation": 6689, "user_id": 273444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26988136c0514172417b7c7c863733f2?s=128&d=identicon&r=PG", "display_name": "Alexey Shein", "link": "https://stackoverflow.com/users/273444/alexey-shein"}, "is_accepted": true, "score": 1, "last_activity_date": 1445456631, "creation_date": 1445456631, "answer_id": 33267889, "question_id": 33267634, "link": "https://stackoverflow.com/questions/33267634/omniauth-testing-error-devise-rails-rspec/33267889#33267889", "title": "Omniauth Testing Error, Devise/Rails/Rspec", "body": "<p>Since you're writing a controller test, you should provide a controller action in <code>get</code> call, not an actual url, like this:</p>\n\n<pre><code>get :facebook\n</code></pre>\n\n<p>Or, you can change your test to a <a href=\"https://github.com/rspec/rspec-rails#request-specs\" rel=\"nofollow\"><code>request</code> spec</a>, this way you'll be testing the whole stack, and it would work with the url.</p>\n"}], "owner": {"reputation": 90, "user_id": 5472341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5dbe2071e88de9580a9e7c97b46880?s=128&d=identicon&r=PG&f=1", "display_name": "James.Oliver", "link": "https://stackoverflow.com/users/5472341/james-oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 33267889, "answer_count": 1, "score": 1, "last_activity_date": 1445456631, "creation_date": 1445455699, "question_id": 33267634, "link": "https://stackoverflow.com/questions/33267634/omniauth-testing-error-devise-rails-rspec", "title": "Omniauth Testing Error, Devise/Rails/Rspec", "body": "<p>Appreciate any opinions out there.\nThis is the exact error I am getting. I can't figure out why.</p>\n\n<pre><code>No route matches {:action=&gt;\"users/auth/:facebook\", :controller=&gt;\"omniauth_callbacks\"} missing required keys: [:action]\n</code></pre>\n\n<ul>\n<li><p>Omniauth Controller</p>\n\n<pre><code>def facebook\n  auth = env[\"omniauth.auth\"]\n  @user = User.connect_to_facebook(request.env[\"omniauth.auth\"],current_user)\n\n  if @user.persisted?\n    flash[:notice] = I18n.t \"devise.omniauth_callbacks.success\"\n    sign_in_and_redirect @user, :event =&gt; :authentication\n  else\n    session[\"devise.facebook_uid\"] = request.env[\"omniauth.auth\"]\n    redirect_to new_user_registration_url\n  end\nend\n</code></pre></li>\n<li><p>User Model</p>\n\n<pre><code> devise :database_authenticatable, :registerable,\n :recoverable, :rememberable, :trackable, :validatable,:omniauthable        \n  has_many :games\n  has_many :comments, dependent: :destroy\n\ndef self.connect_to_facebook(auth, signed_in_resource=nil)\n user = User.where(:provider =&gt; auth.provider, :uid =&gt; auth.uid).first\n if user\n  return user\n else\n  registered_user = User.where(:email =&gt; auth.info.email).first\n  if registered_user\n   return registered_user\n  else\n   user = User.create(username:auth.info.name,\n                      provider:auth.provider,\n                      uid:auth.uid,\n                      email:auth.info.email,\n                      password:Devise.friendly_token[0,20],)\n\n  end\n end\nend   \n</code></pre></li>\n<li><p>config/initializers/devise.rb</p>\n\n<pre><code>require 'omniauth-facebook'\nconfig.omniauth :facebook, ENV['FACEBOOK_PUBLIC'], ENV['FACEBOOK_SECRET'], scope: 'email', info_fields: 'email, name'\n</code></pre></li>\n<li><p>routes</p>\n\n<pre><code>devise_for :users, :controllers =&gt; { :omniauth_callbacks =&gt; \"omniauth_callbacks\" }\nroot to: 'home#index'\n</code></pre></li>\n</ul>\n\n<p>-spec/controllers/omniauth_callbacks_controller_spec.rb</p>\n\n<pre><code>    require 'rails_helper'\n\n    RSpec.describe OmniauthCallbacksController, type: :controller do\n\n    def set_omniauth(opts = {})\n      default = {:provider =&gt; :facebook,\n                 :uuid     =&gt; \"1234\",\n                 :facebook =&gt; {\n                                :email =&gt; \"foobar@example.com\",\n                                :gender =&gt; \"Male\",\n                                :first_name =&gt; \"foo\",\n                                :last_name =&gt; \"bar\"\n                      }\n                }\n\n      credentials = default.merge(opts)\n      provider = credentials[:provider]\n      user_hash = credentials[provider]\n\n      OmniAuth.config.test_mode = true\n\n      OmniAuth.config.mock_auth[provider] = {\n        'uid' =&gt; credentials[:uuid],\n        \"extra\" =&gt; {\n        \"user_hash\" =&gt; {\n          \"email\" =&gt; user_hash[:email],\n          \"first_name\" =&gt; user_hash[:first_name],\n          \"last_name\" =&gt; user_hash[:last_name],\n          \"gender\" =&gt; user_hash[:gender]\n          }\n        }\n      }\n    end\n\n    def set_invalid_omniauth(opts = {})\n\n      credentials = { :provider =&gt; :facebook,\n                      :invalid  =&gt; :invalid_crendentials\n                     }.merge(opts)\n\n      OmniAuth.config.test_mode = true\n      OmniAuth.config.mock_auth[credentials[:provider]] = credentials[:invalid]\n\n    end \n\n    describe \"GET '/users/auth/facebook'\" do\n\n      before(:each) do\n        set_omniauth\n        request.env[\"devise.mapping\"] = Devise.mappings[:user]\n        request.env[\"omniauth.auth\"] = OmniAuth.config.mock_auth[:facebook]\n\n        get \"users/auth/facebook\"\n        request.env[\"omniauth.auth\"] = OmniAuth.config.mock_auth[:facebook]\n      end\n\n      it \"should set user_id\" do\n        expect(session[:user_id]).to eq(User.last.id)\n      end\n    end\n    end\n</code></pre>\n\n<p>Thanks in advance to anyone who can shed some light or at least give me some ideas.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "api", "routes", "request"], "comments": [{"owner": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1445457114, "post_id": 33267281, "comment_id": 54337158, "body": "You want to get back the method that generates the route?"}, {"owner": {"reputation": 2487, "user_id": 1903696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hsCPl.jpg?s=128&g=1", "display_name": "Ashwin Yaprala", "link": "https://stackoverflow.com/users/1903696/ashwin-yaprala"}, "reply_to_user": {"reputation": 15583, "user_id": 177489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sv6zK.jpg?s=128&g=1", "display_name": "Mark Swardstrom", "link": "https://stackoverflow.com/users/177489/mark-swardstrom"}, "edited": false, "score": 0, "creation_date": 1445457342, "post_id": 33267281, "comment_id": 54337267, "body": "I&#39;m not sure what that means, but I&#39;m looking for the route that we get from <code>rake routes</code>. I would give input as <code>url</code> from <code>request</code> object and expect output route."}], "answers": [{"comments": [{"owner": {"reputation": 9540, "user_id": 254936, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5744827a6042af02213a6094d6146111?s=128&d=identicon&r=PG", "display_name": "TK-421", "link": "https://stackoverflow.com/users/254936/tk-421"}, "edited": false, "score": 0, "creation_date": 1445467981, "post_id": 33269090, "comment_id": 54342315, "body": "Nice solution! (More people should be so willing to roll up their sleeves and dig into the framework when necessary.)"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 3, "creation_date": 1445502729, "post_id": 33269090, "comment_id": 54353717, "body": "Should make this into a gem"}], "tags": [], "owner": {"reputation": 2487, "user_id": 1903696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hsCPl.jpg?s=128&g=1", "display_name": "Ashwin Yaprala", "link": "https://stackoverflow.com/users/1903696/ashwin-yaprala"}, "is_accepted": true, "score": 10, "last_activity_date": 1445461031, "creation_date": 1445461031, "answer_id": 33269090, "question_id": 33267281, "link": "https://stackoverflow.com/questions/33267281/finding-routes-path-from-url-string/33269090#33269090", "title": "Finding routes path from url string", "body": "<p>With more search I was able to figure it myself.</p>\n\n<pre><code>class StringToRoute\n\n  attr_reader :request, :url, :verb\n\n  def initialize(request)\n    @request = request\n    @url = request.original_fullpath\n    @verb = request.request_method.downcase\n  end\n\n  def routes\n    Rails.application.routes.routes.to_a\n  end\n\n  def recognize_path\n    Rails.application.routes.recognize_path(url, method: get_verb)\n  end\n\n  def process\n    _recognize_path = recognize_path\n     routes.select do |hash|\n       if hash.defaults == _recognize_path\n         hash\n       end\n     end\n  end\n\n  def get_verb\n    verb.to_sym\n  end\n\n  def path\n    \"#{verb}_#{process.name}\"\n  end\nend\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<p><code>StringToRoute.new(request).path</code></p>\n"}], "owner": {"reputation": 2487, "user_id": 1903696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hsCPl.jpg?s=128&g=1", "display_name": "Ashwin Yaprala", "link": "https://stackoverflow.com/users/1903696/ashwin-yaprala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1653, "favorite_count": 2, "accepted_answer_id": 33269090, "answer_count": 1, "score": 10, "last_activity_date": 1445461031, "creation_date": 1445454372, "question_id": 33267281, "link": "https://stackoverflow.com/questions/33267281/finding-routes-path-from-url-string", "title": "Finding routes path from url string", "body": "<p>I want to know what is the route of api request.</p>\n\n<p>Lets say for example <code>api_v1_user_session</code>_path is the route for <code>/api/v1/users/sign_in</code> url</p>\n\n<p>If a request is coming from <code>/api/v1/users/sign_in</code> How can I find out what is the route. In this scenario it should be <code>api_v1_user_session</code>_path</p>\n\n<p>I tried below statement but it is giving controller and action but not route.</p>\n\n<pre><code>Rails.application.routes.recognize_path('/api/v1/users/sign_in')\n=&gt; {:controller=&gt;\"api/v1/sessions\", :action=&gt;\"new\"}\n</code></pre>\n\n<p>Is there any method like this</p>\n\n<pre><code>Rails.application.routes.get_route('/api/v1/users/sign_in')\n=&gt; api_v1_user_session\n</code></pre>\n\n<p>How can I get this route from url or from <code>request</code> object.</p>\n"}, {"tags": ["html", "ruby-on-rails", "ruby", "custom-routes"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5037861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4325988367cd42369879ae01b2dc683c?s=128&d=identicon&r=PG&f=1", "display_name": "jammer", "link": "https://stackoverflow.com/users/5037861/jammer"}, "edited": false, "score": 1, "creation_date": 1445455266, "post_id": 33267309, "comment_id": 54336175, "body": "I can&#39;t believe I failed to realize that, thank you sir! It worked perfectly!"}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 2, "last_activity_date": 1445455219, "last_edit_date": 1445455219, "creation_date": 1445454470, "answer_id": 33267309, "question_id": 33267179, "link": "https://stackoverflow.com/questions/33267179/ruby-on-rails-creating-a-custom-route-to-show/33267309#33267309", "title": "Ruby on Rails - Creating a Custom Route to #Show", "body": "<p>To get a route like this:</p>\n\n<pre><code>localhost:3000/recipes/2/groceries\n</code></pre>\n\n<p>You can update your <code>routes.rb</code> file with this:</p>\n\n<pre><code>resources :recipes do\n  # other routes\n  resources :groceries, only: [:create, :destory, :show, :index] # adding :index to the list\nend\n</code></pre>\n\n<p>This, will give you a new route:</p>\n\n<pre><code>recipe_groceries GET    /recipes/:recipe_id/groceries(.:format)     groceries#index\n</code></pre>\n\n<p>Then, you will have the above route that will list all the <code>groceries</code> for a particular <code>recipe</code>, in your above case the <code>recipe</code> with <code>id</code> 2.</p>\n"}], "owner": {"reputation": 73, "user_id": 5037861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4325988367cd42369879ae01b2dc683c?s=128&d=identicon&r=PG&f=1", "display_name": "jammer", "link": "https://stackoverflow.com/users/5037861/jammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 33267309, "answer_count": 1, "score": 2, "last_activity_date": 1445455219, "creation_date": 1445454055, "question_id": 33267179, "link": "https://stackoverflow.com/questions/33267179/ruby-on-rails-creating-a-custom-route-to-show", "title": "Ruby on Rails - Creating a Custom Route to #Show", "body": "<p>I am still making my cookbook app, Im to the point to where I am building out the grocery list feature where you will be able to click a link \"Add to Grocery List\" and it will add all the ingredients from a given recipe to a grocery list on a new page, where you will be able to pull the page up on your smartphone while at the grocery store and mark off items as you go.</p>\n\n<p>I am having some difficulty though with getting the correct route. </p>\n\n<p>So I've got the grocery list appearing on the grocery#show page which is where I want it. I am to the point where I want to add the link to the recipe page so that a visitor can simple click the link, and they will be move to the grocery list.</p>\n\n<p>Right now in order to get to the grocery list page for recipe #2 you must use the following url:</p>\n\n<pre><code>localhost:3000/recipes/2/groceries/1 \n</code></pre>\n\n<p>Currently as you can see we must use the following route:</p>\n\n<pre><code>recipe_grocery GET    /recipes/:recipe_id/groceries/:id(.:format) groceries#show\n</code></pre>\n\n<p>Heres what I want it to be instead:</p>\n\n<pre><code>localhost:3000/recipes/2/groceries\n</code></pre>\n\n<p>I'm sure it quite an easy thing to do, but at the moment its escaped me. So any help you could provide, I would be forever grateful!</p>\n\n<p>Here is what the bottom half of my rake routes currently looks like:</p>\n\n<pre><code>     recipe_favorites POST   /recipes/:recipe_id/favorites(.:format)     favorites#create\n     recipe_favorite DELETE /recipes/:recipe_id/favorites/:id(.:format) favorites#destroy\n    recipe_groceries POST   /recipes/:recipe_id/groceries(.:format)     groceries#create\n      recipe_grocery GET    /recipes/:recipe_id/groceries/:id(.:format) groceries#show\n             recipes GET    /recipes(.:format)                          recipes#index\n                     POST   /recipes(.:format)                          recipes#create\n          new_recipe GET    /recipes/new(.:format)                      recipes#new\n         edit_recipe GET    /recipes/:id/edit(.:format)                 recipes#edit\n              recipe GET    /recipes/:id(.:format)                      recipes#show\n                     PATCH  /recipes/:id(.:format)                      recipes#update\n                     PUT    /recipes/:id(.:format)                      recipes#update\n                     DELETE /recipes/:id(.:format)                      recipes#destroy\n              drinks GET    /drinks(.:format)                           recipes#index {:category=&gt;\"drinks\"}\n             entrees GET    /entrees(.:format)                          recipes#index {:category=&gt;\"entrees\"}\n               sides GET    /sides(.:format)                            recipes#index {:category=&gt;\"sides\"}\n            desserts GET    /desserts(.:format)                         recipes#index {:category=&gt;\"desserts\"}\n          appetizers GET    /appetizers(.:format)                       recipes#index {:category=&gt;\"appetizers\"}\n               about GET    /about(.:format)                            welcome#about\n                    root GET    /                                       welcome#index\n</code></pre>\n\n<p>Here is my route file:</p>\n\n<pre><code>Rails.application.routes.draw do\n\n  devise_for :users\n  resources :users, only: :show\n  get 'comments/index'\n\n  get 'comments/create'\n\n  get 'comments/show'\n\n  get 'comments/edit'\n\n  get 'comments/new'\n\n  resources :recipes do\n    resources :comments, only: [:create, :show, :index, :new, :destroy]\n    resources :favorites, only: [:create, :destroy]\n    resources :groceries, only: [:create, :destory, :show]\n  end\n\n  get 'drinks' =&gt; 'recipes#index', :category =&gt; \"drinks\"\n  get 'entrees' =&gt; 'recipes#index', :category =&gt; \"entrees\"\n  get 'sides' =&gt; 'recipes#index', :category =&gt; \"sides\"\n  get 'desserts' =&gt; 'recipes#index', :category =&gt; \"desserts\"\n  get 'appetizers' =&gt; 'recipes#index', :category =&gt; \"appetizers\"\n\n\n  get 'about' =&gt; 'welcome#about'\n\n  root to: 'welcome#index'\n\nend\n</code></pre>\n"}, {"tags": ["ruby", "nokogiri"], "answers": [{"tags": [], "owner": {"reputation": 31012, "user_id": 25398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3690dee254e9aa9d98ff964a70e89f23?s=128&d=identicon&r=PG", "display_name": "Cody Caughlan", "link": "https://stackoverflow.com/users/25398/cody-caughlan"}, "is_accepted": true, "score": 2, "last_activity_date": 1445454664, "last_edit_date": 1445454664, "creation_date": 1445454352, "answer_id": 33267273, "question_id": 33267161, "link": "https://stackoverflow.com/questions/33267161/finding-all-links-from-ten-urls-while-reading-a-file/33267273#33267273", "title": "Finding all links from ten URLs while reading a file", "body": "<p>I'd flip it around. I would first parse the text file and load each line into memory (assuming its a small enough data set). Then create one instance of <code>Nokogiri</code> for your HTML doc and extract out all <code>href</code> attributes (like you are doing).</p>\n\n<p>Something like this untested code:</p>\n\n<pre><code>links = []\nhrefs = []\n\nFile.open(\"myfile.txt\", \"r\") do |f|\n  f.each_line do |line|\n    links &lt;&lt; line\n  end\nend\n\n\npage = Nokogiri::HTML(html)\npage.css(\"a\").each do |tag|\n  hrefs &lt;&lt; tag['href']\nend\n\nlinks.each do |link|\n  if hrefs.include?(link)\n    puts \"its here\"\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1446250059, "creation_date": 1446250059, "answer_id": 33446610, "question_id": 33267161, "link": "https://stackoverflow.com/questions/33267161/finding-all-links-from-ten-urls-while-reading-a-file/33446610#33446610", "title": "Finding all links from ten URLs while reading a file", "body": "<p>If all I wanted to do was output the 'href' for each <code>&lt;a&gt;</code>, I'd write something like:</p>\n\n<pre><code>File.foreach('myfile.txt') do |url|\n  page = Nokogiri::HTML(open(url))\n  puts page.search('a').map{ |link| link['href'] }\nend\n</code></pre>\n\n<p>Of course <code>&lt;a&gt;</code> tags don't have to have a 'href' but <code>puts</code> won't care.</p>\n"}], "owner": {"reputation": 255, "user_id": 3610137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/de66072482fa86fef2dabdb8eb8cb371?s=128&d=identicon&r=PG&f=1", "display_name": "user3610137", "link": "https://stackoverflow.com/users/3610137/user3610137"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 33267273, "answer_count": 2, "score": 1, "last_activity_date": 1446250059, "creation_date": 1445453973, "last_edit_date": 1446249718, "question_id": 33267161, "link": "https://stackoverflow.com/questions/33267161/finding-all-links-from-ten-urls-while-reading-a-file", "title": "Finding all links from ten URLs while reading a file", "body": "<p>How can I extract all <code>href</code> options in an <code>&lt;a&gt;</code> tag from a page while reading in a file?</p>\n\n<p>If I have a text file that contains the target URLs:</p>\n\n<pre><code>http://mypage.com/1.html\nhttp://mypage.com/2.html\nhttp://mypage.com/3.html\nhttp://mypage.com/4.html\n</code></pre>\n\n<p>Here's the code I have:</p>\n\n<pre><code>File.open(\"myfile.txt\", \"r\") do |f|\n  f.each_line do |line|\n    # set the page_url to the current line \n    page = Nokogiri::HTML(open(line))\n    links = page.css(\"a\")\n    puts links[0][\"href\"]\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby", "regex", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1445454223, "post_id": 33267058, "comment_id": 54335636, "body": "See <a href=\"http://ideone.com/TKD3QW\" rel=\"nofollow noreferrer\">ideone.com/TKD3QW</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1445454277, "post_id": 33267058, "comment_id": 54335674, "body": "<code>contain only chars a-zA-Z0-9</code> Probably this <code>&#47;^[a-zA-Z0-9]+$&#47;</code>"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 2, "creation_date": 1445455308, "post_id": 33267058, "comment_id": 54336201, "body": "@sln: <code>^</code> and <code>$</code> don&#39;t mean what you think they do in Ruby regexes, you almost always want <code>\\A</code> and <code>\\z</code> instead."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1445455672, "post_id": 33267058, "comment_id": 54336402, "body": "@muistooshort  - Ahh, ruby the oddball. Yes, then <code>\\A</code> and <code>\\z</code> it is then."}, {"owner": {"reputation": 2230, "user_id": 4993010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f9d66d7ab498bbd8d355e8b50f28a4d?s=128&d=identicon&r=PG&f=1", "display_name": "frosty", "link": "https://stackoverflow.com/users/4993010/frosty"}, "edited": false, "score": 1, "creation_date": 1445457639, "post_id": 33267058, "comment_id": 54337409, "body": "You can just use \\w for any [a-zA-Z0-9], as a shortcut, btw."}, {"owner": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "reply_to_user": {"reputation": 2230, "user_id": 4993010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f9d66d7ab498bbd8d355e8b50f28a4d?s=128&d=identicon&r=PG&f=1", "display_name": "frosty", "link": "https://stackoverflow.com/users/4993010/frosty"}, "edited": false, "score": 3, "creation_date": 1445459294, "post_id": 33267058, "comment_id": 54338310, "body": "@frosty: <code>\\w</code> also matches <code>_</code> (underscore/low line)."}], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 3, "creation_date": 1445458720, "post_id": 33267191, "comment_id": 54337971, "body": "I suggest <code>str.chars.all? {|ch| chars.include?(ch)}</code> (for better readability). Also, using <code>chars</code> as a variable name along with the method <code>chars</code> could be confusing. Best to avoid variable names that are the names of methods."}], "tags": [], "owner": {"reputation": 5355, "user_id": 452079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4fb85f91e35202c72ca16d54873b10c4?s=128&d=identicon&r=PG", "display_name": "rohit89", "link": "https://stackoverflow.com/users/452079/rohit89"}, "is_accepted": true, "score": 4, "last_activity_date": 1445454095, "creation_date": 1445454095, "answer_id": 33267191, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby/33267191#33267191", "title": "Regex to check alphanumeric string in ruby", "body": "<p>You can just check if a special character is present in the string.   </p>\n\n<pre><code>def validate str\n chars = ('a'..'z').to_a + ('A'..'Z').to_a + (0..9).to_a\n str.chars.detect {|ch| !chars.include?(ch)}.nil?\nend\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>irb(main):005:0&gt; validate \"hello\"\n=&gt; true\nirb(main):006:0&gt; validate \"_90 \"\n=&gt; false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6706, "user_id": 569374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/948f8031e9110f7fc6d53ccb9abddb5f?s=128&d=identicon&r=PG", "display_name": "Michael Papile", "link": "https://stackoverflow.com/users/569374/michael-papile"}, "is_accepted": false, "score": 12, "last_activity_date": 1446845738, "last_edit_date": 1446845738, "creation_date": 1445454536, "answer_id": 33267325, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby/33267325#33267325", "title": "Regex to check alphanumeric string in ruby", "body": "<p>If you are validating a line:</p>\n\n<pre><code>def validate(string)\n  !string.match(/\\A[a-zA-Z0-9]*\\z/).nil?\nend\n</code></pre>\n\n<p>No need for return on each. </p>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1445458256, "creation_date": 1445458256, "answer_id": 33268351, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby/33268351#33268351", "title": "Regex to check alphanumeric string in ruby", "body": "<p>Similar to @rohit89:</p>\n\n<pre><code>VALID_CHARS = [*?a..?z, *?A..?Z, *'0'..'9']\n  #=&gt; [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\",\n  #    \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\",\n  #    \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\",\n  #    \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\n  #    \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]\n\ndef all_valid_chars?(str)\n  a = str.chars\n  a == a &amp; VALID_CHARS\nend\n\nall_valid_chars?('a9Z3')  #=&gt; true\nall_valid_chars?('a9 Z3') #=&gt; false\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1601331119, "post_id": 33268503, "comment_id": 113368935, "body": "It&#39;s curious that all but one of the answers has received a downvote. I received mine today."}], "tags": [], "owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "is_accepted": false, "score": 1, "last_activity_date": 1445458822, "creation_date": 1445458822, "answer_id": 33268503, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby/33268503#33268503", "title": "Regex to check alphanumeric string in ruby", "body": "<p>No regex:</p>\n\n<pre><code>def validate(str)\n  str.count(\"^a-zA-Z0-9\").zero?  # ^ means \"not\"\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 4467282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UGk6C.jpg?s=128&g=1", "display_name": "Aaron Washburn", "link": "https://stackoverflow.com/users/4467282/aaron-washburn"}, "is_accepted": false, "score": 1, "last_activity_date": 1446846807, "creation_date": 1446846807, "answer_id": 33576311, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby/33576311#33576311", "title": "Regex to check alphanumeric string in ruby", "body": "<p>Great answers above but just FYI, your error message is because you started your regex with a double quote <code>\"</code>.  You'll notice you have an odd number (5) of double quotes in your method.</p>\n\n<p>Additionally, it's likely you want to return true and false as values rather than as quoted strings.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 12862581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ba2Mb.jpg?s=128&g=1", "display_name": "enowmbi", "link": "https://stackoverflow.com/users/12862581/enowmbi"}, "is_accepted": false, "score": 1, "last_activity_date": 1591869750, "creation_date": 1591869750, "answer_id": 62321809, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby/62321809#62321809", "title": "Regex to check alphanumeric string in ruby", "body": "<pre><code>def alpha_numeric?(char)  \n\n   if((char =~ /[[:alpha:]]) || (char =~ [[:digits:]]))\n      true\n   else\n      false\n   end\n\nend\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>def alpha_numeric?(char)  \n\n   if(char =~ /[[:alnum:]])\n      true\n   else\n      false\n   end\n\nend\n</code></pre>\n\n<p>We are using regular expressions that match letters &amp; digits:</p>\n\n<p>The above [[:alpha:]] ,[[:digit:]] and [[:alnum:]] are POSIX bracket expressions, and they have the advantage of matching unicode characters in their category.Hope this helps helps.</p>\n\n<p>checkout the link below for more options:\n<a href=\"https://stackoverflow.com/questions/14551256/ruby-how-to-find-out-if-a-character-is-a-letter-or-a-digit\">Ruby: How to find out if a character is a letter or a digit?</a></p>\n"}, {"tags": [], "owner": {"reputation": 36888, "user_id": 293280, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6e6e22d81a1f4f394f62301be40c2e20?s=128&d=identicon&r=PG", "display_name": "Joshua Pinter", "link": "https://stackoverflow.com/users/293280/joshua-pinter"}, "is_accepted": false, "score": 0, "last_activity_date": 1619017314, "creation_date": 1619017314, "answer_id": 67198436, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby/67198436#67198436", "title": "Regex to check alphanumeric string in ruby", "body": "<h3>Use <code>.match?</code> in Ruby 2.4+.</h3>\n<p>Ruby 2.4 introduced a convenient boolean-returning <code>.match?</code> method.</p>\n<p>In your case, I would do something like this:</p>\n<pre class=\"lang-rb prettyprint-override\"><code># Checks for any characters other than letters and numbers.\n# Returns true if there are none. Returns false if there are one or more.\n#\ndef valid?( string )\n  !string.match?( /[^a-zA-Z0-9]/ ) # NOTE: ^ inside [] set turns it into a negated set.\nend\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 5472936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdc9ef187ab8a54c7b36151f90ce73e?s=128&d=identicon&r=PG&f=1", "display_name": "Mandar Dalvi", "link": "https://stackoverflow.com/users/5472936/mandar-dalvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11975, "favorite_count": 2, "accepted_answer_id": 33267191, "answer_count": 7, "score": 13, "last_activity_date": 1619017314, "creation_date": 1445453645, "question_id": 33267058, "link": "https://stackoverflow.com/questions/33267058/regex-to-check-alphanumeric-string-in-ruby", "title": "Regex to check alphanumeric string in ruby", "body": "<p>I am trying to validate strings in ruby.\nAny string which contains spaces,under scores or any special char should fail validation.\nThe valid string should contain only chars a-zA-Z0-9\nMy code looks like.</p>\n\n<pre><code>def validate(string)\n    regex =\"/[^a-zA-Z0-9]$/\n    if(string =~ regex)\n        return \"true\"\n    else\n        return \"false\"\nend\n</code></pre>\n\n<p>I am getting error:\nTypeError: type mismatch: String given.</p>\n\n<p>Can anyone please let me know what is the correct way of doing this?</p>\n"}, {"tags": ["java", "python", "ruby", "spring", "dependency-injection"], "comments": [{"owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "edited": false, "score": 2, "creation_date": 1445453739, "post_id": 33267018, "comment_id": 54335362, "body": "A fun topic, but too broad."}], "answers": [{"comments": [{"owner": {"reputation": 8341, "user_id": 3014866, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/epfow.jpg?s=128&g=1", "display_name": "Rudzianko\u016d", "link": "https://stackoverflow.com/users/3014866/rudzianko%c5%ad"}, "edited": false, "score": 0, "creation_date": 1445462859, "post_id": 33269262, "comment_id": 54340222, "body": "Do I understand correctly, Python is able to import objects (modules) with some nondefault states? Do modules have some preprocessing to achieve nondefault state after importing?"}, {"owner": {"reputation": 109, "user_id": 453004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06e1b81260c2036c343535b32d2fda0?s=128&d=identicon&r=PG", "display_name": "Uncommented", "link": "https://stackoverflow.com/users/453004/uncommented"}, "reply_to_user": {"reputation": 8341, "user_id": 3014866, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/epfow.jpg?s=128&g=1", "display_name": "Rudzianko\u016d", "link": "https://stackoverflow.com/users/3014866/rudzianko%c5%ad"}, "edited": false, "score": 1, "creation_date": 1445463245, "post_id": 33269262, "comment_id": 54340436, "body": "@Rudik The &#39;preprocessing&#39; in question - which really amounts simply to interpreting - occurs during runtime. When you import a python module, Python runs the code that composes it and stores the result under the module&#39;s name.   Python keeps a hidden (meaning accessible via double underscore) registry of all imported modules in memory. Importing a module which python already knows about results in a reference to that module as opposed to a new invocation of its definition code, allowing multiple importers in a program to reference a module - which is effectively a singleton."}], "tags": [], "owner": {"reputation": 109, "user_id": 453004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06e1b81260c2036c343535b32d2fda0?s=128&d=identicon&r=PG", "display_name": "Uncommented", "link": "https://stackoverflow.com/users/453004/uncommented"}, "is_accepted": true, "score": 2, "last_activity_date": 1445461575, "last_edit_date": 1495542214, "creation_date": 1445461575, "answer_id": 33269262, "question_id": 33267018, "link": "https://stackoverflow.com/questions/33267018/dependency-injection-in-static-and-dynamic-languages/33269262#33269262", "title": "Dependency injection in static and dynamic languages", "body": "<p>In short, In Python, dependency injection is less important than it is in Java because of the stateful nature of modules and the role of metaprogramming. </p>\n\n<p>In languages like Java, classes typically define blueprints for objects, which must be instantiated at runtime by whatever imports them. When you import a class, you only get the recipe for the class.</p>\n\n<p>Conversely, in Python importing a module can do a lot more. During an import, you are essentially running a module's code within a namespace - meaning that the module can not only construct singletons referenced by the module itself, but can even perform complex tasks like connecting to databases during execution of the import. When two modules import the same referenced module, the second module inherits Python's evaluated concept of the module from when it was first imported, preserving and changes the first importer may have made. Furthermore, its much less painful to scan for submodules in Python and Ruby than it is in Java, which more frameworks use module placement to indicate function (such as models.py in Django) than you see in Java (which generally favors annotations).</p>\n\n<p>TLDR: modules and classes in Python (and Ruby) are stateful in ways that are painful or impossible to replicate in Java, and the mechanics of the import statement provide most of the interesting parts of dependency injection (although not IoC). It doesn't not-exist, its just not as necessary.</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/2461702/why-is-ioc-di-not-common-in-python\">Why is IoC / DI not common in Python?</a></p>\n"}], "owner": {"reputation": 8341, "user_id": 3014866, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/epfow.jpg?s=128&g=1", "display_name": "Rudzianko\u016d", "link": "https://stackoverflow.com/users/3014866/rudzianko%c5%ad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 1, "closed_date": 1445463871, "accepted_answer_id": 33269262, "answer_count": 1, "score": 2, "last_activity_date": 1445461575, "creation_date": 1445453511, "question_id": 33267018, "link": "https://stackoverflow.com/questions/33267018/dependency-injection-in-static-and-dynamic-languages", "closed_reason": "Needs more focus", "title": "Dependency injection in static and dynamic languages", "body": "<p>I know that in Java dependency injection makes life better. There are a lot of annotation processor frameworks that map beans to objects and conveniently inject them into a right place. \nBut I never heard about <code>dependency injection</code> in Python or Ruby, for example. Do this languages have build-in support for it? Or they don't need it? Why?  </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4", "ruby-on-rails-3.2"], "comments": [{"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 1, "creation_date": 1445452560, "post_id": 33266614, "comment_id": 54334655, "body": "Seems that <code>@post.image</code> returns an Array. Try <code>@post.image.first.id</code>"}, {"owner": {"reputation": 146, "user_id": 3099251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eff16bf0603f536486ed3804c7c40c63?s=128&d=identicon&r=PG", "display_name": "chanakya devraj", "link": "https://stackoverflow.com/users/3099251/chanakya-devraj"}, "edited": false, "score": 0, "creation_date": 1445453338, "post_id": 33266614, "comment_id": 54335109, "body": "could you please try image_tag(@post.image_url) and let me know if works .  Thanks"}, {"owner": {"reputation": 181, "user_id": 3621476, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QlmQX.jpg?s=128&g=1", "display_name": "huhuhu", "link": "https://stackoverflow.com/users/3621476/huhuhu"}, "edited": false, "score": 0, "creation_date": 1445508426, "post_id": 33266614, "comment_id": 54357314, "body": "<code>&lt;%= image_tag @post.image %&gt;</code>  And fix <code>params.require(:post).permit(:name, {image:[]})</code> into <code>params.require(:post).permit(:name, :image)</code>"}, {"owner": {"reputation": 331, "user_id": 5178670, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7594cbf58dd69f7cf17a1a9241be9965?s=128&d=identicon&r=PG&f=1", "display_name": "AHmed", "link": "https://stackoverflow.com/users/5178670/ahmed"}, "edited": false, "score": 0, "creation_date": 1445509587, "post_id": 33266614, "comment_id": 54357985, "body": "i did the first option but when i show the image i get this error <a href=\"http://pho.to/9nveX\" rel=\"nofollow noreferrer\">pho.to/9nveX</a> searched the site for this issue and couldn&#39;t find why the image is not showing <a href=\"http://goo.gl/8WSxxA\" rel=\"nofollow noreferrer\">goo.gl/8WSxxA</a>"}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 5178670, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7594cbf58dd69f7cf17a1a9241be9965?s=128&d=identicon&r=PG&f=1", "display_name": "AHmed", "link": "https://stackoverflow.com/users/5178670/ahmed"}, "edited": false, "score": 0, "creation_date": 1445466204, "post_id": 33267369, "comment_id": 54341704, "body": "i did the first option but when i show the image i get this <a href=\"http://pho.to/9nveX\" rel=\"nofollow noreferrer\">pho.to/9nveX</a> i searched the site for this issue and couldn&#39;t find why the image is not showing <a href=\"http://goo.gl/8WSxxA\" rel=\"nofollow noreferrer\">goo.gl/8WSxxA</a>"}, {"owner": {"reputation": 403, "user_id": 4206866, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J50VD3U3eLI/AAAAAAAAAAI/AAAAAAAAB94/avkl6wqQvS8/photo.jpg?sz=128", "display_name": "Raman Kumar Sharma", "link": "https://stackoverflow.com/users/4206866/raman-kumar-sharma"}, "reply_to_user": {"reputation": 331, "user_id": 5178670, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7594cbf58dd69f7cf17a1a9241be9965?s=128&d=identicon&r=PG&f=1", "display_name": "AHmed", "link": "https://stackoverflow.com/users/5178670/ahmed"}, "edited": false, "score": 0, "creation_date": 1445535559, "post_id": 33267369, "comment_id": 54374468, "body": "Try &lt;%= image_tag image.url.to_s %&gt; instead. Also log the resulting url of the image and try to open that image in new tab with that url."}, {"owner": {"reputation": 331, "user_id": 5178670, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7594cbf58dd69f7cf17a1a9241be9965?s=128&d=identicon&r=PG&f=1", "display_name": "AHmed", "link": "https://stackoverflow.com/users/5178670/ahmed"}, "edited": false, "score": 0, "creation_date": 1445553175, "post_id": 33267369, "comment_id": 54384047, "body": "Unfortunately that didn&#39;t work either. Is it possible that the bug is from the Gem it self ??"}, {"owner": {"reputation": 403, "user_id": 4206866, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J50VD3U3eLI/AAAAAAAAAAI/AAAAAAAAB94/avkl6wqQvS8/photo.jpg?sz=128", "display_name": "Raman Kumar Sharma", "link": "https://stackoverflow.com/users/4206866/raman-kumar-sharma"}, "reply_to_user": {"reputation": 331, "user_id": 5178670, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7594cbf58dd69f7cf17a1a9241be9965?s=128&d=identicon&r=PG&f=1", "display_name": "AHmed", "link": "https://stackoverflow.com/users/5178670/ahmed"}, "edited": false, "score": 0, "creation_date": 1445665242, "post_id": 33267369, "comment_id": 54428403, "body": "did you try printing the url formed and check whether it was correct or not? Currently the gem is not having any such bug, seems like the error is in implementation"}], "tags": [], "owner": {"reputation": 403, "user_id": 4206866, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J50VD3U3eLI/AAAAAAAAAAI/AAAAAAAAB94/avkl6wqQvS8/photo.jpg?sz=128", "display_name": "Raman Kumar Sharma", "link": "https://stackoverflow.com/users/4206866/raman-kumar-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1445454678, "creation_date": 1445454678, "answer_id": 33267369, "question_id": 33266614, "link": "https://stackoverflow.com/questions/33266614/carrierwave-image-not-showing-on-the-show-page-error-nomethoderror-in-postssh/33267369#33267369", "title": "CarrierWave: Image not Showing on the Show Page Error: NoMethodError in Posts#show", "body": "<p>In your post_params you have defined image param as an array</p>\n\n<pre><code>params.require(:post).permit(:name, {image:[]})\n</code></pre>\n\n<p>either you should retrieve images from this array using iteration as:</p>\n\n<pre><code>&lt;% @post.image.each do |image| %&gt;\n    &lt;%= image_tag image.url %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>which would display all images posted on this post\nor if you just want to save a single image for the post then change</p>\n\n<pre><code>params.require(:post).permit(:name, {image:[]})\n</code></pre>\n\n<p>to</p>\n\n<pre><code>params.require(:post).permit(:name, :image)\n</code></pre>\n\n<p>and everything will work fine!</p>\n\n<p><strong>Note:</strong></p>\n\n<pre><code>&lt;%= image_tag @post.image[0].url %&gt;\n</code></pre>\n\n<p>will also work for the code you have written as it will just fetch the url of first image in that image array</p>\n"}], "owner": {"reputation": 331, "user_id": 5178670, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7594cbf58dd69f7cf17a1a9241be9965?s=128&d=identicon&r=PG&f=1", "display_name": "AHmed", "link": "https://stackoverflow.com/users/5178670/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445454678, "creation_date": 1445452049, "question_id": 33266614, "link": "https://stackoverflow.com/questions/33266614/carrierwave-image-not-showing-on-the-show-page-error-nomethoderror-in-postssh", "title": "CarrierWave: Image not Showing on the Show Page Error: NoMethodError in Posts#show", "body": "<p>I am trying to show images in my app using Carrierwave gem with Ruby on Rails. I am using the multiple image upload option which is supported in Carrierwave. Everythings is working fine except when i go to the show page i get this error: <strong>NoMethodError in Posts#show</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/XVXpl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XVXpl.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Here's the code</strong></p>\n\n<p><strong>my show.html.erb page</strong></p>\n\n<pre><code>&lt;p id=\"notice\"&gt;&lt;%= notice %&gt;&lt;/p&gt;\n\n&lt;%= image_tag @post.image.url %&gt;\n\n&lt;p&gt;\n  &lt;strong&gt;Name:&lt;/strong&gt;\n  &lt;%= @post.name %&gt;\n&lt;/p&gt;\n\n&lt;%= link_to 'Edit', edit_post_path(@post) %&gt; |\n&lt;%= link_to 'Back', posts_path %&gt;\n</code></pre>\n\n<p><strong>_form.html.erb</strong></p>\n\n<pre><code>&lt;%= form_for(@post , html: { multipart: true }) do |f| %&gt;\n  &lt;% if @post.errors.any? %&gt;\n    &lt;div id=\"error_explanation\"&gt;\n      &lt;h2&gt;&lt;%= pluralize(@post.errors.count, \"error\") %&gt; prohibited this post from being saved:&lt;/h2&gt;\n\n      &lt;ul&gt;\n      &lt;% @post.errors.full_messages.each do |message| %&gt;\n        &lt;li&gt;&lt;%= message %&gt;&lt;/li&gt;\n      &lt;% end %&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;% end %&gt;\n\n  &lt;div class=\"field\"&gt;\n    &lt;%= f.label :name %&gt;&lt;br&gt;\n    &lt;%= f.text_field :name %&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"field\"&gt;\n    &lt;%= f.label :image %&gt;&lt;br&gt;\n    &lt;%= f.file_field :image , multiple: true %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"actions\"&gt;\n    &lt;%= f.submit %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>post_controller.rb</strong></p>\n\n<pre><code>class PostsController &lt; ApplicationController\n  before_action :set_post, only: [:show, :edit, :update, :destroy]\n\n  # GET /posts\n  # GET /posts.json\n  def index\n    @posts = Post.all\n  end\n\n  # GET /posts/1\n  # GET /posts/1.json\n  def show\n  end\n\n  # GET /posts/new\n  def new\n    @post = Post.new\n  end\n\n  # GET /posts/1/edit\n  def edit\n  end\n\n  # POST /posts\n  # POST /posts.json\n  def create\n    @post = Post.new(post_params)\n\n    respond_to do |format|\n      if @post.save\n        format.html { redirect_to @post, notice: 'Post was successfully created.' }\n        format.json { render :show, status: :created, location: @post }\n      else\n        format.html { render :new }\n        format.json { render json: @post.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PATCH/PUT /posts/1\n  # PATCH/PUT /posts/1.json\n  def update\n    respond_to do |format|\n      if @post.update(post_params)\n        format.html { redirect_to @post, notice: 'Post was successfully updated.' }\n        format.json { render :show, status: :ok, location: @post }\n      else\n        format.html { render :edit }\n        format.json { render json: @post.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /posts/1\n  # DELETE /posts/1.json\n  def destroy\n    @post.destroy\n    respond_to do |format|\n      format.html { redirect_to posts_url, notice: 'Post was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_post\n      @post = Post.find(params[:id])\n    end\n\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def post_params\n      params.require(:post).permit(:name, {image:[]})\n    end\nend\n</code></pre>\n\n<p><strong>The Model  post.rb</strong></p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  mount_uploaders :image, ImageUploader\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 6039, "user_id": 2137458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cfca832ee746f3e3d9971148f52dc64?s=128&d=identicon&r=PG", "display_name": "NM Pennypacker", "link": "https://stackoverflow.com/users/2137458/nm-pennypacker"}, "edited": false, "score": 0, "creation_date": 1445450672, "post_id": 33266053, "comment_id": 54333614, "body": "Can you post the logs that follow the POST request from your form?"}, {"owner": {"reputation": 6706, "user_id": 569374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/948f8031e9110f7fc6d53ccb9abddb5f?s=128&d=identicon&r=PG", "display_name": "Michael Papile", "link": "https://stackoverflow.com/users/569374/michael-papile"}, "edited": false, "score": 0, "creation_date": 1445453654, "post_id": 33266053, "comment_id": 54335302, "body": "That is an odd way of doing things. Why not create the record in the controller?"}, {"owner": {"reputation": 1, "user_id": 5472731, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026678127352314/picture?type=large", "display_name": "Luke Molloy", "link": "https://stackoverflow.com/users/5472731/luke-molloy"}, "edited": false, "score": 0, "creation_date": 1445455087, "post_id": 33266053, "comment_id": 54336079, "body": "I&#39;m quite new to rails and I am not entirely sure how the controllers work"}], "owner": {"reputation": 1, "user_id": 5472731, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026678127352314/picture?type=large", "display_name": "Luke Molloy", "link": "https://stackoverflow.com/users/5472731/luke-molloy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445455842, "creation_date": 1445449952, "last_edit_date": 1445455842, "question_id": 33266053, "link": "https://stackoverflow.com/questions/33266053/ruby-on-rails-4-2-2-form-for-notification-create-trying-to-add-a-db-entry", "title": "Ruby on rails 4.2.2, form_for Notification.create(..), trying to add a DB entry without user input", "body": "<p>So I'm trying to add a database entry with data derrived from an in line ruby function.</p>\n\n<p>The only way I have found to get the entry into my database is with this: </p>\n\n<pre><code>&lt;%= form_for Notification.create(:rec_user =&gt; bookc.user_id, :snd_user =&gt; @user.id, :snd_email =&gt; @user.email, :rec_title =&gt; bookc.title, :snd_title =&gt; booka.title) do |f| %&gt;\n\n     &lt;%= f.submit \"Request\", class: \"btn btn-primary\" %&gt;\n</code></pre>\n\n<p>Here is my notifications controller:</p>\n\n<pre><code>  class NotificationsController &lt; ApplicationController\n  before_action :logged_in_user, only: [:create, :destroy]\n\n\n      def create\n        @notification = current_user.notifications.build(notification_params)\n        if @notification.save\n          flash[:success] = \"Request sent!\"\n          redirect_to current_user\n        else\n          render 'static_pages/notifications'\n        end\n      end\n\n      def destroy\n        Notification.find(params[:id]).destroy\n        flash[:success] = \"Notification Deleted\"\n        redirect_to current_user \n      end\n\n      private\n\n        def mnotification_params\n          params.require(:notification).permit(:content)\n        end\n\n    end\n\n&lt;% end %&gt;\n</code></pre>\n\n<p>This function does put the record in the database but then takes me to this URL: <a href=\"https://ifb299-lukemolloy.c9.io/notifications/32\" rel=\"nofollow\">https://ifb299-lukemolloy.c9.io/notifications/32</a>  (32 being the id of the new record) This URL is just a page that says something went wrong.</p>\n\n<p>Is there some better way to do this?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 8418, "user_id": 1449982, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qIg5h.jpg?s=128&g=1", "display_name": "Dima", "link": "https://stackoverflow.com/users/1449982/dima"}, "edited": false, "score": 0, "creation_date": 1445449777, "post_id": 33265856, "comment_id": 54333116, "body": "I&#39;m voting to close this question as off-topic because its not relevant"}, {"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 2, "creation_date": 1445449844, "post_id": 33265856, "comment_id": 54333147, "body": "What&#39;s wrong with two lines?"}, {"owner": {"reputation": 10364, "user_id": 877472, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e73a159e3f7790ee019673c37da48a59?s=128&d=identicon&r=PG", "display_name": "Paul Richter", "link": "https://stackoverflow.com/users/877472/paul-richter"}, "reply_to_user": {"reputation": 8418, "user_id": 1449982, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qIg5h.jpg?s=128&g=1", "display_name": "Dima", "link": "https://stackoverflow.com/users/1449982/dima"}, "edited": false, "score": 2, "creation_date": 1445450108, "post_id": 33265856, "comment_id": 54333294, "body": "@Dima While I would agree the example is a bit contrived, I believe the OP is trying to find out whether the concept is possible in general."}, {"owner": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 1, "creation_date": 1445456330, "post_id": 33265856, "comment_id": 54336758, "body": "Don&#39;t shorten it. :) Two separate tasks (query, print) are more readable on two separate lines."}, {"owner": {"reputation": 175, "user_id": 1686561, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f4261df67cc64611355a3eb55e1d120?s=128&d=identicon&r=PG", "display_name": "Fernando", "link": "https://stackoverflow.com/users/1686561/fernando"}, "reply_to_user": {"reputation": 10364, "user_id": 877472, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e73a159e3f7790ee019673c37da48a59?s=128&d=identicon&r=PG", "display_name": "Paul Richter", "link": "https://stackoverflow.com/users/877472/paul-richter"}, "edited": false, "score": 1, "creation_date": 1445505504, "post_id": 33265856, "comment_id": 54355439, "body": "@PaulRichter, you are right. I was wondering if the concept exists. Two lines is OK, no problems with it."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 1686561, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f4261df67cc64611355a3eb55e1d120?s=128&d=identicon&r=PG", "display_name": "Fernando", "link": "https://stackoverflow.com/users/1686561/fernando"}, "edited": false, "score": 1, "creation_date": 1445505889, "post_id": 33266016, "comment_id": 54355689, "body": "Thank you @paul-richter, thats correct. I want to reduce from 2 lines to 1 line, but keeping a good readability."}, {"owner": {"reputation": 10364, "user_id": 877472, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e73a159e3f7790ee019673c37da48a59?s=128&d=identicon&r=PG", "display_name": "Paul Richter", "link": "https://stackoverflow.com/users/877472/paul-richter"}, "reply_to_user": {"reputation": 175, "user_id": 1686561, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f4261df67cc64611355a3eb55e1d120?s=128&d=identicon&r=PG", "display_name": "Fernando", "link": "https://stackoverflow.com/users/1686561/fernando"}, "edited": false, "score": 0, "creation_date": 1445529712, "post_id": 33266016, "comment_id": 54371171, "body": "@FernandoShayani I gotcha. I think steenslag&#39;s answer above is probably the best, in my opinion."}], "tags": [], "owner": {"reputation": 10364, "user_id": 877472, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e73a159e3f7790ee019673c37da48a59?s=128&d=identicon&r=PG", "display_name": "Paul Richter", "link": "https://stackoverflow.com/users/877472/paul-richter"}, "is_accepted": false, "score": 0, "last_activity_date": 1445449819, "creation_date": 1445449819, "answer_id": 33266016, "question_id": 33265856, "link": "https://stackoverflow.com/questions/33265856/ruby-print-answer-if-own-answer-itself/33266016#33266016", "title": "Ruby - print answer &quot;if own answer (itself)&quot;", "body": "<p>The closest I can think of off the top of my head would be something like this:</p>\n\n<pre><code>total = Paper.where(available: true).count; puts total if total &gt; 0 \n</code></pre>\n\n<p>Its the exact same thing as your original except its separating the lines by a semi-colon instead of a new line. And its tends to be less readable, so I would generally avoid doing something like that.</p>\n\n<p>As a side note, while I understand what you're trying to do, honestly, reducing your code from 2 lines to 1 is not a big deal. Frankly, its fine the way it is.</p>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445458922, "post_id": 33266380, "comment_id": 54338087, "body": "Would you advise that over what the SO has?"}, {"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445459999, "post_id": 33266380, "comment_id": 54338679, "body": "@CarySwoveland I would, to people trying to answer OP&#39;s question."}, {"owner": {"reputation": 175, "user_id": 1686561, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f4261df67cc64611355a3eb55e1d120?s=128&d=identicon&r=PG", "display_name": "Fernando", "link": "https://stackoverflow.com/users/1686561/fernando"}, "edited": false, "score": 0, "creation_date": 1445505681, "post_id": 33266380, "comment_id": 54355557, "body": "Thanks @steenslag for the suggestion, but it is just two lines written in one. The ideia is to find an operator (maybe) that could reference to itself. I agree with the others that readability should be clear all times and, in your example, two lines would be more readable than one."}, {"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1445506320, "post_id": 33266380, "comment_id": 54355988, "body": "[itself] (<a href=\"http://ruby-doc.org/core-2.2.3/Object.html#method-i-itself\" rel=\"nofollow noreferrer\">ruby-doc.org/core-2.2.3/Object.html#method-i-itself</a>) is a method, on Object no less. But I can&#39;t find a way to make it work in your example. The one question in your post was to write the code in one line."}], "tags": [], "owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "is_accepted": true, "score": 4, "last_activity_date": 1445455975, "last_edit_date": 1445455975, "creation_date": 1445451167, "answer_id": 33266380, "question_id": 33265856, "link": "https://stackoverflow.com/questions/33265856/ruby-print-answer-if-own-answer-itself/33266380#33266380", "title": "Ruby - print answer &quot;if own answer (itself)&quot;", "body": "<pre><code>if (total = Paper.where(available: true).count) &gt; 0 then puts total end\n</code></pre>\n\n<p>Update: with an instance variable you can do</p>\n\n<pre><code>puts @total if (@total = Paper.where(available: true).count) &gt; 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1445459224, "creation_date": 1445459224, "answer_id": 33268597, "question_id": 33265856, "link": "https://stackoverflow.com/questions/33265856/ruby-print-answer-if-own-answer-itself/33268597#33268597", "title": "Ruby - print answer &quot;if own answer (itself)&quot;", "body": "<p>What you have is perfect in every way. For fun, you could use <a href=\"http://ruby-doc.org/core-2.2.3/Object.html#method-i-tap\" rel=\"nofollow\">Object#tap</a> for a one-liner:</p>\n\n<pre><code>Paper.where(available: true).count.tap { |total| puts total if total &gt; 0 }\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 1686561, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f4261df67cc64611355a3eb55e1d120?s=128&d=identicon&r=PG", "display_name": "Fernando", "link": "https://stackoverflow.com/users/1686561/fernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 33266380, "answer_count": 3, "score": 2, "last_activity_date": 1445459224, "creation_date": 1445449246, "question_id": 33265856, "link": "https://stackoverflow.com/questions/33265856/ruby-print-answer-if-own-answer-itself", "title": "Ruby - print answer &quot;if own answer (itself)&quot;", "body": "<p>Ruby question:</p>\n\n<p>Can I shorten the following code:</p>\n\n<pre><code>total = Paper.where(available: true).count\nputs total if total &gt; 0\n</code></pre>\n\n<p>I imaged something like this, but I don't know if it's possible:</p>\n\n<pre><code>puts Paper.where(available: true).count if itself &gt; 0\n</code></pre>\n\n<p>Is there a way to write this idea in one simple line?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "associations"], "answers": [{"tags": [], "owner": {"reputation": 6165, "user_id": 2697183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65255fe741b95ba0c641d96ea6750ea9?s=128&d=identicon&r=PG&f=1", "display_name": "AbM", "link": "https://stackoverflow.com/users/2697183/abm"}, "is_accepted": true, "score": 2, "last_activity_date": 1445449299, "creation_date": 1445449299, "answer_id": 33265871, "question_id": 33265152, "link": "https://stackoverflow.com/questions/33265152/link-to-association-rails-no-such-column/33265871#33265871", "title": "link to association rails No such column", "body": "<pre><code>documents.joins(:author).where(\"authors.name like ?\", \"%#{author}%\") if author.present?\n</code></pre>\n\n<p>This assumes that the name of the author is stored in a column called <code>name</code> in the <code>authors</code> table and the <code>Document</code> model has a <code>belongs_to :author</code>.</p>\n"}], "owner": {"reputation": 877, "user_id": 3034720, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ts6vP.jpg?s=128&g=1", "display_name": "Chris Mendla", "link": "https://stackoverflow.com/users/3034720/chris-mendla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 33265871, "answer_count": 1, "score": 1, "last_activity_date": 1445449299, "creation_date": 1445446844, "last_edit_date": 1445447793, "question_id": 33265152, "link": "https://stackoverflow.com/questions/33265152/link-to-association-rails-no-such-column", "title": "link to association rails No such column", "body": "<p>I am trying to set up a search function in Rails. I have a table called documents. I can search on the subject and the text in the body. Where I am having an issue is trying to to search on fields in associated tables. I have a table called authors. I want to be able to put a name in the author field and return the documents matching that author. </p>\n\n<pre><code>class Search &lt; ActiveRecord::Base\n\n  has_many :documents\n\n  def search_documents\n\n    documents = Document.all\n\n    documents = documents.where(\"subject like ?\", \"%#{subject}%\") if subject.present?\n    documents = documents.where(\"body like ?\", \"%#{text}%\") if text.present?\n    documents = documents.author.where(\"author like ?\", \"%#{author}%\") if author.present?\n\n    return documents\n  end\n\nend\n</code></pre>\n\n<p>The subject and body works fine. I've tried all kinds of variations on the author line with no luck . The schema for my documents model looks as follows with author_id linking to the authors table on a has_many relationship between docs and authors</p>\n\n<pre><code>create_table \"documents\", force: :cascade do |t|\n  t.string   \"subject\"\n  t.text     \"body\"\n  t.integer  \"category_id\"\n  t.integer  \"tag_id\"\n  t.integer  \"author_id\"\n  t.integer  \"reviewer_id\"\n  t.datetime \"created_at\",                       null: false\n  t.datetime \"updated_at\",                       null: false\n  t.string   \"document_attachment_file_name\"\n  t.string   \"document_attachment_content_type\"\n  t.integer  \"document_attachment_file_size\"\n  t.datetime \"document_attachment_updated_at\"\n  t.integer  \"attached_files_id\"\n  t.string   \"token\"\nend\n</code></pre>\n\n<p>Is there a way to reference the author's name in </p>\n\n<pre><code>documents.author.where(\"author like ?\", \"%#{author}%\") if author.present?\n</code></pre>\n\n<p>Right now, I am getting an error as follows </p>\n\n<blockquote>\n  <p>Showing C:/Users/cmendla/RubymineProjects/Rl2/app/views/searches/show.html.erb where line #9 raised:\n  undefined method <code>author' for #&lt;Document::ActiveRecord_Relation:0xa20a0f8&gt;\n  Rails.root: C:/Users/cmendla/RubymineProjects/Rl2\n  Application Trace | Framework Trace | Full Trace\n  app/models/search.rb:12:in</code>search_documents'\n  app/views/searches/show.html.erb:9:in `_app_views_searches_show_html_erb__631448441_64839156'</p>\n</blockquote>\n\n<p>thx</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 20590, "user_id": 504963, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xlYLo.jpg?s=128&g=1", "display_name": "Antarr Byrd", "link": "https://stackoverflow.com/users/504963/antarr-byrd"}, "is_accepted": false, "score": 0, "last_activity_date": 1445445291, "creation_date": 1445445291, "answer_id": 33264702, "question_id": 33264522, "link": "https://stackoverflow.com/questions/33264522/specify-gem-version-to-be-used-with-a-specific-gem/33264702#33264702", "title": "specify gem version to be used with a specific gem?", "body": "<p>If bundle update doesn't resolve the dependencies I would fork on of the gems you need to use the same version as the other and then point to my fork.</p>\n\n<pre><code>gem 'some_gem', git: 'https://github.com/user/My-Fork.git'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 1455981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a5b31917e2015f9aac0ba4b904a2ffc?s=128&d=identicon&r=PG", "display_name": "Cuong Nguyen Minh", "link": "https://stackoverflow.com/users/1455981/cuong-nguyen-minh"}, "is_accepted": false, "score": 1, "last_activity_date": 1445446220, "last_edit_date": 1495542695, "creation_date": 1445446220, "answer_id": 33264961, "question_id": 33264522, "link": "https://stackoverflow.com/questions/33264522/specify-gem-version-to-be-used-with-a-specific-gem/33264961#33264961", "title": "specify gem version to be used with a specific gem?", "body": "<p>No it's impossible to use 2 versions of a gem at the same time.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4333645/use-2-versions-of-gem-at-same-time\">Use 2 versions of gem at same time</a></p>\n"}, {"tags": [], "owner": {"reputation": 2228, "user_id": 3108699, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/q8idk.png?s=128&g=1", "display_name": "myconode", "link": "https://stackoverflow.com/users/3108699/myconode"}, "is_accepted": false, "score": 0, "last_activity_date": 1445448905, "last_edit_date": 1445448905, "creation_date": 1445448522, "answer_id": 33265636, "question_id": 33264522, "link": "https://stackoverflow.com/questions/33264522/specify-gem-version-to-be-used-with-a-specific-gem/33265636#33265636", "title": "specify gem version to be used with a specific gem?", "body": "<p>Each of your dependencies will have a version constraint and your project can only use <strong>one</strong> version of each gem.</p>\n\n<p>The answer to your specific question is that <strong>yes</strong>, you can control the version of an indirect dependency by specifying which version to use directly in your gemfile. However, this version <strong>must</strong> satisfy the version constraint of the direct dependency.</p>\n\n<p>A brief example. Let's say your gemfile looks like this:</p>\n\n<pre><code>source 'https://rubygems.org/'\n\ngem 'somegem', '~&gt; 1.0'\n</code></pre>\n\n<p>And your gemfile lock looks something like this (note, some parts omitted for brevity): </p>\n\n<pre><code>GEM\n  remote: https://rubygems.org/\n  specs:\n    somegem (1.0)\n      json (~&gt; 1.8)\n    json (1.8)\n</code></pre>\n\n<p>The Gemfile.lock indicates that <code>somegem</code> is dependent on <code>json</code> and that the <code>json</code> version must be greater than or equal to <code>1.8</code> but less than <code>2.0</code> (read more about the <a href=\"https://robots.thoughtbot.com/rubys-pessimistic-operator\" rel=\"nofollow\">~> operator here</a>). </p>\n\n<p>If you want to use lets say <code>json</code> version <code>1.9</code>, you can modify your gemfile or use bundler commands to update the version used in the lock file.</p>\n\n<p>E.g.</p>\n\n<pre><code>source 'https://rubygems.org/'\n\ngem 'somegem', '~&gt; 1.0'\ngem 'json'   , '~&gt; 1.9'\n</code></pre>\n\n<p>In your specific case, if you have two dependencies that use conflicting versions of an indirect dependency, the gems will be incompatible. However, this example is meant to show that you can specify the version of an indirect dependency IF it meets the constraint specified by the direct dependency.</p>\n\n<p>Rails uses <a href=\"http://bundler.io/\" rel=\"nofollow\">Bundler</a> to manage Ruby dependencies. An overview of the <a href=\"http://bundler.io/gemfile.html\" rel=\"nofollow\">gemfile</a> would be a good place to start learning how to manage your project's dependencies.</p>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1445448905, "creation_date": 1445444758, "question_id": 33264522, "link": "https://stackoverflow.com/questions/33264522/specify-gem-version-to-be-used-with-a-specific-gem", "title": "specify gem version to be used with a specific gem?", "body": "<p>This is more of a general question, I'm new to rails. </p>\n\n<p>I trying to use a gem that requires an older version of json, json -v 1.6.5</p>\n\n<p>other gems in my rails application depends on newer version of json, json -v 1.8</p>\n\n<p>I'm wondering if it is possible to specify json version to be used with a specific gem? </p>\n\n<p>Thank you</p>\n"}, {"tags": ["ruby", "hash"], "comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1445453277, "post_id": 33263975, "comment_id": 54335073, "body": "Hint: if you think that some of the most often used, most exercised core methods of a language implementation used by tens of thousands of people everyday are broken, and nobody of those tens of thousands of programmers has ever noticed in their tens of millions of lines of code, and you are the first one ever to notice it \u2026 you&#39;re probably wrong."}], "answers": [{"comments": [{"owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "reply_to_user": {"reputation": 129, "user_id": 5433535, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bf251713a6da142034a50e008985fbf6?s=128&d=identicon&r=PG&f=1", "display_name": "ruby life questions", "link": "https://stackoverflow.com/users/5433535/ruby-life-questions"}, "edited": false, "score": 0, "creation_date": 1445446385, "post_id": 33264182, "comment_id": 54331124, "body": "It depends on what you need to do and what you are cloning. There are several gems that address the issue in a variety of ways. Or you could adjust your approach on how <code>_images_src</code> gets created."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1445449253, "post_id": 33264182, "comment_id": 54332795, "body": "ruby life, Ruby&#39;s built-in <a href=\"http://ruby-doc.org//core-2.2.0/Marshal.html\" rel=\"nofollow noreferrer\">Marshal</a> methods are often used to make deep copies of (most) Ruby objects: <code>obj_deep_copy = Marshal.load(Marshal.dump(obj))</code>."}], "tags": [], "owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "is_accepted": true, "score": 5, "last_activity_date": 1445443735, "creation_date": 1445443735, "answer_id": 33264182, "question_id": 33263975, "link": "https://stackoverflow.com/questions/33263975/ruby-broken-core-methods/33264182#33264182", "title": "Ruby broken core methods?", "body": "<p>You've done a \"shallow clone\" but need a \"deep clone.\" Search around for how to make that happen and what the tradeoffs are.  You can see this by running the below. Note the object ids are the same.  </p>\n\n<pre><code>[8] pry(main)&gt; @images.values.first.object_id\n=&gt; 70308363136840\n[9] pry(main)&gt; _images_src.values.first.object_id\n=&gt; 70308363136840\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 5433535, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bf251713a6da142034a50e008985fbf6?s=128&d=identicon&r=PG&f=1", "display_name": "ruby life questions", "link": "https://stackoverflow.com/users/5433535/ruby-life-questions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 33264182, "answer_count": 1, "score": -1, "last_activity_date": 1445443784, "creation_date": 1445443111, "last_edit_date": 1445443784, "question_id": 33263975, "link": "https://stackoverflow.com/questions/33263975/ruby-broken-core-methods", "title": "Ruby broken core methods?", "body": "<p>Here we go:</p>\n\n<pre><code>images = {:default=&gt;[\"http://original-img\", \"http://original-img2\"]}\nimg_src = [\"http://localhost/image987.jpeg\", \"http://localhost/image988.jpeg\"]\nimg_ids = [2046, 2047]\n\n_images_src = images.clone\n_images_src.each_value{|v| v.map!{img_src.shift}}\np _images_src # {:default=&gt;[\"http://localhost/image987.jpeg\", \"http://localhost/image988.jpeg\"]}\n\nimages.each_value{|v| v.map!{img_ids.shift}}\np images # {:default=&gt;[2046, 2047]}\np _images_src # {:default=&gt;[2046, 2047]}\n</code></pre>\n\n<p>How <strong>each_value</strong> call on images, changes the _images_src hash? They refer to different objects and _images_src IS CLONED images and still changes.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "internationalization", "yaml", "rails-i18n"], "comments": [{"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 1, "creation_date": 1445442824, "post_id": 33262963, "comment_id": 54328929, "body": "Try <code>t(&quot;activerecord.attributes.ar&#47;state.#{document.state}&quot;)</code> or <code>t(&quot;activerecord.attributes.ar&#47;document.states.#{document.sta&zwnj;&#8203;te}&quot;)</code>"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1445443335, "post_id": 33262963, "comment_id": 54329246, "body": "The ActiveRecord I18n Model attribute keys are not really meant to be used this way. They are meant to translate property names - not their values. Also if you have a limited set of states for a property you should use <a href=\"http://www.justinweiss.com/articles/creating-easy-readable-attributes-with-activerecord-enums/\" rel=\"nofollow noreferrer\">an enum</a> for performance instead of a string. You can use the tricks listed here for translation <a href=\"http://stackoverflow.com/questions/22827270/how-to-use-i18n-with-rails-4-enums\" title=\"how to use i18n with rails 4 enums\">stackoverflow.com/questions/22827270/&hellip;</a>"}, {"owner": {"reputation": 5, "user_id": 5440691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b241554c204bbf303b2a61b8226608e5?s=128&d=identicon&r=PG&f=1", "display_name": "pelion", "link": "https://stackoverflow.com/users/5440691/pelion"}, "edited": false, "score": 0, "creation_date": 1445525454, "post_id": 33262963, "comment_id": 54368099, "body": "So I switched the line to <code>&lt;%= document.association :state, t(&quot;activerecord.attributes.ar&#47;state.#{document.state.name}&quot;) %&gt;</code> and get <code>undefined method &#39;state&#39; for #&lt;ShowFor::Builder:0x007fb669c3c838&gt;</code> <a href=\"https://github.com/plataformatec/show_for#associations\" rel=\"nofollow noreferrer\">show_for Dokumentation</a> doesn&#39;t solve my problem"}, {"owner": {"reputation": 5, "user_id": 5440691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b241554c204bbf303b2a61b8226608e5?s=128&d=identicon&r=PG&f=1", "display_name": "pelion", "link": "https://stackoverflow.com/users/5440691/pelion"}, "edited": false, "score": 0, "creation_date": 1445525925, "post_id": 33262963, "comment_id": 54368481, "body": "If I write <code>&lt;%= t(&quot;activerecord.attributes.ar&#47;state.#{@document.state.name}&quot;&zwnj;&#8203;) %&gt;</code> outside the show_for I get its translation"}], "owner": {"reputation": 5, "user_id": 5440691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b241554c204bbf303b2a61b8226608e5?s=128&d=identicon&r=PG&f=1", "display_name": "pelion", "link": "https://stackoverflow.com/users/5440691/pelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 709, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445440234, "creation_date": 1445440234, "question_id": 33262963, "link": "https://stackoverflow.com/questions/33262963/translate-a-value-in-ruby-on-rails", "title": "Translate a value in Ruby on Rails", "body": "<p>I have a model called State and its attribute is name from Type String. There are currently two values I want to assign: \"Imported\" and \"Archived\".\nAfter creating a document I set state via controller to \"Imported\". In the Spanish version it should be called \"Importado\". In the database it should be \"Imported\". So I created a locale in document.es.yml</p>\n\n<pre><code># ruby encoding: utf-8\nes:\n  activerecord:\n    models:\n      ar/document:\n        one:   \"Documento\"\n        other: \"Documentos\"\n\n    attributes:\n      ar/document:\n        name:                   \"Nombre\"\n        state:                  \"Estado\"\n        state_id:               \"Estado\"\n\n        states:\n          imported:             \"Importado\"\n          archived:             \"Archivado\"\n</code></pre>\n\n<p>And state.es.yml</p>\n\n<pre><code># ruby encoding: utf-8\nes:\n  activerecord:\n    models:\n      ar/state:\n        one:   \"Estado\"\n        other: \"Estados\"\n\n    attributes:\n      ar/state:\n        name:                   \"Estado\"\n        imported:               \"Importado\"\n        archived:               \"Archivado\"\n</code></pre>\n\n<p>In the view the other Spanish locales are loaded. How can I assign a translation to a value and show it in a view?</p>\n\n<pre><code>&lt;%= bootstrap_show_for :record =&gt; @document do %&gt;\n  &lt;%= show_for @document do |document| %&gt;\n    &lt;%= document.attribute :name %&gt;\n    &lt;%= document.association :state %&gt;\n  &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["ruby", "date-formatting"], "comments": [{"owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "edited": false, "score": 0, "creation_date": 1445440181, "post_id": 33262792, "comment_id": 54327002, "body": "Is there a reason you can&#39;t use <code>strftime</code> directly?"}, {"owner": {"reputation": 2138, "user_id": 1377879, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/88ed0b98e028557cf987548411d8138c?s=128&d=identicon&r=PG", "display_name": "Bolo", "link": "https://stackoverflow.com/users/1377879/bolo"}, "reply_to_user": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "edited": false, "score": 0, "creation_date": 1445440462, "post_id": 33262792, "comment_id": 54327242, "body": "i was not sure for this part &quot; T00:32:50.877+0000&quot;"}, {"owner": {"reputation": 3773, "user_id": 991903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/J12Hi.jpg?s=128&g=1", "display_name": "Meier", "link": "https://stackoverflow.com/users/991903/meier"}, "edited": false, "score": 0, "creation_date": 1445440652, "post_id": 33262792, "comment_id": 54327372, "body": "Do you need the millisecconds? Do it need to be in GMT or in your defined time zone (-04:00)"}, {"owner": {"reputation": 2138, "user_id": 1377879, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/88ed0b98e028557cf987548411d8138c?s=128&d=identicon&r=PG", "display_name": "Bolo", "link": "https://stackoverflow.com/users/1377879/bolo"}, "edited": false, "score": 1, "creation_date": 1445441052, "post_id": 33262792, "comment_id": 54327673, "body": "the jira API request the equal format &quot;2015-10-07T00:32:50.877+0000&quot;"}, {"owner": {"reputation": 3930, "user_id": 1449569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d58c523bfe1f2628000af0759654ee69?s=128&d=identicon&r=PG", "display_name": "Iron Savior", "link": "https://stackoverflow.com/users/1449569/iron-savior"}, "edited": false, "score": 1, "creation_date": 1445443935, "post_id": 33262792, "comment_id": 54329639, "body": "The format looks the same to me. They&#39;re both ISO 8601."}, {"owner": {"reputation": 2138, "user_id": 1377879, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/88ed0b98e028557cf987548411d8138c?s=128&d=identicon&r=PG", "display_name": "Bolo", "link": "https://stackoverflow.com/users/1377879/bolo"}, "edited": false, "score": 0, "creation_date": 1445450863, "post_id": 33262792, "comment_id": 54333721, "body": "i though that too but Jira refuse it. I don&#39;t get it"}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "edited": false, "score": 0, "creation_date": 1520021004, "post_id": 33262792, "comment_id": 85158847, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22255476/rails-formatting-date\">Rails formatting date</a>"}], "answers": [{"comments": [{"owner": {"reputation": 24567, "user_id": 53538, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21a10c379a9dfc3284a4a75edb933745?s=128&d=identicon&r=PG", "display_name": "Guss", "link": "https://stackoverflow.com/users/53538/guss"}, "edited": false, "score": 0, "creation_date": 1603192085, "post_id": 33262956, "comment_id": 113952447, "body": "The OP&#39;s requirement is the RFC3339 Date/Time format, which Ruby&#39;s <code>Time</code> extension <code>#iso8601</code> outputs automatically (except that it uses <code>Z</code> for UTC instead of the also allowed <code>+00:00</code>)."}], "tags": [], "owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "is_accepted": false, "score": 45, "last_activity_date": 1445443607, "last_edit_date": 1445443607, "creation_date": 1445440204, "answer_id": 33262956, "question_id": 33262792, "link": "https://stackoverflow.com/questions/33262792/time-iso-8601-in-ruby/33262956#33262956", "title": "Time ISO 8601 in Ruby", "body": "<p>You can use strftime yourself and create the format you want as described <a href=\"http://apidock.com/ruby/DateTime/strftime\" rel=\"noreferrer\">here</a></p>\n\n<p>The format you specified should be <code>%Y-%m-%dT%H:%M:%S.%L%z</code></p>\n\n<p>And so the complete Ruby statement would be <code>Time.now.strftime('%Y-%m-%dT%H:%M:%S.%L%z')</code></p>\n\n<p><strong>Various ISO 8601 formats:</strong></p>\n\n<pre><code>%Y%m%d           =&gt; 20071119                  Calendar date (basic)\n%F               =&gt; 2007-11-19                Calendar date (extended)\n%Y-%m            =&gt; 2007-11                   Calendar date, reduced accuracy, specific month\n%Y               =&gt; 2007                      Calendar date, reduced accuracy, specific year\n%C               =&gt; 20                        Calendar date, reduced accuracy, specific century\n%Y%j             =&gt; 2007323                   Ordinal date (basic)\n%Y-%j            =&gt; 2007-323                  Ordinal date (extended)\n%GW%V%u          =&gt; 2007W471                  Week date (basic)\n%G-W%V-%u        =&gt; 2007-W47-1                Week date (extended)\n%GW%V            =&gt; 2007W47                   Week date, reduced accuracy, specific week (basic)\n%G-W%V           =&gt; 2007-W47                  Week date, reduced accuracy, specific week (extended)\n%H%M%S           =&gt; 083748                    Local time (basic)\n%T               =&gt; 08:37:48                  Local time (extended)\n%H%M             =&gt; 0837                      Local time, reduced accuracy, specific minute (basic)\n%H:%M            =&gt; 08:37                     Local time, reduced accuracy, specific minute (extended)\n%H               =&gt; 08                        Local time, reduced accuracy, specific hour\n%H%M%S,%L        =&gt; 083748,000                Local time with decimal fraction, comma as decimal sign (basic)\n%T,%L            =&gt; 08:37:48,000              Local time with decimal fraction, comma as decimal sign (extended)\n%H%M%S.%L        =&gt; 083748.000                Local time with decimal fraction, full stop as decimal sign (basic)\n%T.%L            =&gt; 08:37:48.000              Local time with decimal fraction, full stop as decimal sign (extended)\n%H%M%S%z         =&gt; 083748-0600               Local time and the difference from UTC (basic)\n%T%:z            =&gt; 08:37:48-06:00            Local time and the difference from UTC (extended)\n%Y%m%dT%H%M%S%z  =&gt; 20071119T083748-0600      Date and time of day for calendar date (basic)\n%FT%T%:z         =&gt; 2007-11-19T08:37:48-06:00 Date and time of day for calendar date (extended)\n%Y%jT%H%M%S%z    =&gt; 2007323T083748-0600       Date and time of day for ordinal date (basic)\n%Y-%jT%T%:z      =&gt; 2007-323T08:37:48-06:00   Date and time of day for ordinal date (extended)\n%GW%V%uT%H%M%S%z =&gt; 2007W471T083748-0600      Date and time of day for week date (basic)\n%G-W%V-%uT%T%:z  =&gt; 2007-W47-1T08:37:48-06:00 Date and time of day for week date (extended)\n%Y%m%dT%H%M      =&gt; 20071119T0837             Calendar date and local time (basic)\n%FT%R            =&gt; 2007-11-19T08:37          Calendar date and local time (extended)\n%Y%jT%H%MZ       =&gt; 2007323T0837Z             Ordinal date and UTC of day (basic)\n%Y-%jT%RZ        =&gt; 2007-323T08:37Z           Ordinal date and UTC of day (extended)\n%GW%V%uT%H%M%z   =&gt; 2007W471T0837-0600        Week date and local time and difference from UTC (basic)\n%G-W%V-%uT%R%:z  =&gt; 2007-W47-1T08:37-06:00    Week date and local time and difference from UTC (extended)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2013, "user_id": 515368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KIoSy.png?s=128&g=1", "display_name": "supermitch", "link": "https://stackoverflow.com/users/515368/supermitch"}, "edited": false, "score": 1, "creation_date": 1563312097, "post_id": 41687742, "comment_id": 100656266, "body": "Shouldn&#39;t this be <code>DateTime.now.iso8601</code>? Also, you must <code>require &#39;date&#39;</code> for this to work."}, {"owner": {"reputation": 1015, "user_id": 740997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42906a3e6d031337e7bc7e7285057627?s=128&d=identicon&r=PG", "display_name": "adamc", "link": "https://stackoverflow.com/users/740997/adamc"}, "reply_to_user": {"reputation": 2013, "user_id": 515368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KIoSy.png?s=128&g=1", "display_name": "supermitch", "link": "https://stackoverflow.com/users/515368/supermitch"}, "edited": false, "score": 1, "creation_date": 1563401686, "post_id": 41687742, "comment_id": 100692405, "body": "I think you&#39;re right @Supermitch - my answer works for rails, your answer will work for plain old ruby"}, {"owner": {"reputation": 12955, "user_id": 147390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/db953d125f5cc49756edb6149f1b813e?s=128&d=identicon&r=PG", "display_name": "Schneems", "link": "https://stackoverflow.com/users/147390/schneems"}, "edited": false, "score": 1, "creation_date": 1566831343, "post_id": 41687742, "comment_id": 101769916, "body": "I updated the answer to work with both Ruby and Rails"}], "tags": [], "owner": {"reputation": 1015, "user_id": 740997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42906a3e6d031337e7bc7e7285057627?s=128&d=identicon&r=PG", "display_name": "adamc", "link": "https://stackoverflow.com/users/740997/adamc"}, "is_accepted": false, "score": 37, "last_activity_date": 1566831316, "last_edit_date": 1566831316, "creation_date": 1484616973, "answer_id": 41687742, "question_id": 33262792, "link": "https://stackoverflow.com/questions/33262792/time-iso-8601-in-ruby/41687742#41687742", "title": "Time ISO 8601 in Ruby", "body": "<p>If you just want to include the fractional number of seconds, you can use <a href=\"http://ruby-doc.org/stdlib-1.9.3/libdoc/date/rdoc/DateTime.html#method-i-iso8601\" rel=\"noreferrer\">DateTime#iso8601([n=0]) \u2192 string</a>:</p>\n\n<pre><code>pry(main)&gt; require 'date'\npry(main)&gt; DateTime.now.iso8601(3)\n=&gt; \"2017-01-17T12:31:26.695+11:00\"\n</code></pre>\n\n<p>Or in Rails:</p>\n\n<pre><code>pry(main)&gt; Time.now.iso8601(3)\n=&gt; \"2017-01-17T12:31:26.695+11:00\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 930, "user_id": 3577922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eURpm.jpg?s=128&g=1", "display_name": "Masa Sakano", "link": "https://stackoverflow.com/users/3577922/masa-sakano"}, "edited": false, "score": 0, "creation_date": 1539368039, "post_id": 52721581, "comment_id": 92491341, "body": "The question is about the time format, whereas Date does not return the time part.  <code>Time</code> class does not have a method of <code>iso8601</code> as of Ruby 2.5.1."}], "tags": [], "owner": {"reputation": 79, "user_id": 2983620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f0d1f2668b5e1d88aa4704ae33ea8a2?s=128&d=identicon&r=PG&f=1", "display_name": "matias", "link": "https://stackoverflow.com/users/2983620/matias"}, "is_accepted": false, "score": 7, "last_activity_date": 1539089646, "creation_date": 1539089646, "answer_id": 52721581, "question_id": 33262792, "link": "https://stackoverflow.com/questions/33262792/time-iso-8601-in-ruby/52721581#52721581", "title": "Time ISO 8601 in Ruby", "body": "<p>Did you try with Date? </p>\n\n<pre><code>Date.new(2018,5,25).iso8601 # returns \"2018-05-25\"\n</code></pre>\n\n<p>For today, it would be:</p>\n\n<pre><code>Date.today.iso8601\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24567, "user_id": 53538, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21a10c379a9dfc3284a4a75edb933745?s=128&d=identicon&r=PG", "display_name": "Guss", "link": "https://stackoverflow.com/users/53538/guss"}, "is_accepted": false, "score": 9, "last_activity_date": 1594454138, "last_edit_date": 1594454138, "creation_date": 1587415986, "answer_id": 61331872, "question_id": 33262792, "link": "https://stackoverflow.com/questions/33262792/time-iso-8601-in-ruby/61331872#61331872", "title": "Time ISO 8601 in Ruby", "body": "<p>It seems like the main issue is that you want the output to be UTC encoded ISO 8601 timestamp, while Ruby by default uses the timezone of the <code>Time</code> value - which is most likely, especially if you create the value using <code>Time.now</code>, your local time zone.</p>\n<p>The solution would be to convert the <code>Time</code> value to a UTC timezone using <code>#utc</code> method:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>now = Time.now\n# convert to UTC and format\nputs now.utc.iso8601\n</code></pre>\n<p>This would output <code>2020-04-20T20:46:31Z</code> - the <code>Z</code> there is equivalent to <code>+00:00</code> and means UTC (or &quot;Zulu time&quot; in US military jargon). Any ISO-8601 compliant implementation should accept <code>Z</code> being identical to <code>+00:00</code>.</p>\n<h3>Note:</h3>\n<p>The <code>iso8601</code> method on the <code>Time</code> instance is an extension. It is part of the standard library, but you have to load it explicitly using <code>require 'time'</code>. This also loads other useful extensions for the <code>Time</code> class.</p>\n"}], "owner": {"reputation": 2138, "user_id": 1377879, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/88ed0b98e028557cf987548411d8138c?s=128&d=identicon&r=PG", "display_name": "Bolo", "link": "https://stackoverflow.com/users/1377879/bolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44705, "favorite_count": 6, "answer_count": 4, "score": 40, "last_activity_date": 1594454138, "creation_date": 1445439756, "last_edit_date": 1445442469, "question_id": 33262792, "link": "https://stackoverflow.com/questions/33262792/time-iso-8601-in-ruby", "title": "Time ISO 8601 in Ruby", "body": "<p>I am trying to return a date with this format </p>\n\n<p>2015-10-07T00:32:50.877+0000</p>\n\n<p>I have tested that</p>\n\n<pre><code> Time.now.iso8601\n =&gt; \"2015-10-21T09:47:50-04:00\"\n</code></pre>\n\n<p>but i didn't have same format</p>\n\n<p>tks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems"], "comments": [{"owner": {"reputation": 14194, "user_id": 290338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86f90bd8375fa7f611f43ee03cebcd10?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/290338/anatoly"}, "edited": false, "score": 0, "creation_date": 1445440111, "post_id": 33262720, "comment_id": 54326963, "body": "What is the Bundler version do you use? And what is the Bundler config, anything custom?"}, {"owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "reply_to_user": {"reputation": 14194, "user_id": 290338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86f90bd8375fa7f611f43ee03cebcd10?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/290338/anatoly"}, "edited": false, "score": 0, "creation_date": 1445440880, "post_id": 33262720, "comment_id": 54327550, "body": "Bundler version is 1.6.2.  Bundler config: jobs - 7, path - vendor/bundle, disable_shared_gems - 1"}, {"owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "reply_to_user": {"reputation": 14194, "user_id": 290338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86f90bd8375fa7f611f43ee03cebcd10?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/290338/anatoly"}, "edited": false, "score": 1, "creation_date": 1445514479, "post_id": 33262720, "comment_id": 54360850, "body": "@Anatoly yes, bundler version was the issue. Updating to the latest fixed it!"}], "answers": [{"tags": [], "owner": {"reputation": 14194, "user_id": 290338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86f90bd8375fa7f611f43ee03cebcd10?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/290338/anatoly"}, "is_accepted": true, "score": 1, "last_activity_date": 1445441185, "creation_date": 1445441185, "answer_id": 33263282, "question_id": 33262720, "link": "https://stackoverflow.com/questions/33262720/any-bundle-command-clears-out-gemfile-lock-file-content/33263282#33263282", "title": "Any bundle command clears out Gemfile.lock file content", "body": "<p>Something is wrong with version of Bundler (1.6.2 is quite old) and its configuration, simply remove configuration and update bundler:</p>\n\n<pre><code>cd app_dir\nrm -v .bundle/config\ngem update bundler\nbundle install\n</code></pre>\n\n<p>Before issue last command make sure Gemfile syntax is correct.</p>\n"}], "owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 33263282, "answer_count": 1, "score": 1, "last_activity_date": 1445441185, "creation_date": 1445439534, "question_id": 33262720, "link": "https://stackoverflow.com/questions/33262720/any-bundle-command-clears-out-gemfile-lock-file-content", "title": "Any bundle command clears out Gemfile.lock file content", "body": "<p>Current Gemfile.lock is something like this:</p>\n\n<pre><code>GIT\n  remote: git://github.com/collectiveidea/awesome_nested_set.git\n  revision: 57bada268cbca6cdc7dd3656d943ef1b76fbc3c0\n  specs:\n    awesome_nested_set (3.0.1)\n      activerecord (&gt;= 4.0.0, &lt; 5)\n\nGIT\n  remote: git://github.com/plataformatec/simple_form.git\n  revision: a28012bf2f2aa6dabd2b1efd5a306279cb3c885e\n  specs:\n    simple_form (3.1.0)\n      actionpack (~&gt; 4.0)\n      activemodel (~&gt; 4.0)\n\nGEM\n  remote: https://rubygems.org/\n  remote: https://rails-assets.org/\n  specs:\n    actionmailer (4.2.0)\n      actionpack (= 4.2.0)\n      actionview (= 4.2.0)\n      activejob (= 4.2.0)\n      mail (~&gt; 2.5, &gt;= 2.5.4)\n      rails-dom-testing (~&gt; 1.0, &gt;= 1.0.5)\n    actionpack (4.2.0)\n      actionview (= 4.2.0)\n      activesupport (= 4.2.0)\n      rack (~&gt; 1.6.0)\n      rack-test (~&gt; 0.6.2)\n      rails-dom-testing (~&gt; 1.0, &gt;= 1.0.5)\n      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.1)\n    actionview (4.2.0)\n      activesupport (= 4.2.0)\n      builder (~&gt; 3.1)\n      erubis (~&gt; 2.7.0)\n      rails-dom-testing (~&gt; 1.0, &gt;= 1.0.5)\n      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.1)\n    activejob (4.2.0)\n      activesupport (= 4.2.0)\n      globalid (&gt;= 0.3.0)\n    activemodel (4.2.0)\n      activesupport (= 4.2.0)\n      builder (~&gt; 3.1)\n    activerecord (4.2.0)\n      activemodel (= 4.2.0)\n      activesupport (= 4.2.0)\n      arel (~&gt; 6.0)\n    activesupport (4.2.0)\n      i18n (~&gt; 0.7)\n      json (~&gt; 1.7, &gt;= 1.7.7)\n      minitest (~&gt; 5.1)\n      thread_safe (~&gt; 0.3, &gt;= 0.3.4)\n      tzinfo (~&gt; 1.1)\n    rails-assets-caman (4.1.2)\n    rails-assets-classie (1.0.1)\n    rails-assets-cssfx (0.9.6)\n    rails-assets-doc-ready (1.0.4)\n      rails-assets-eventie (&gt;= 1, &lt; 2)\n    rails-assets-embedly-jquery (3.1.2)\n    rails-assets-enquire (2.1.2)\n    rails-assets-eventEmitter (4.2.11)\n    rails-assets-eventie (1.0.6)\n    rails-assets-fizzy-ui-utils (1.0.1)\n      rails-assets-doc-ready (~&gt; 1.0.4)\n      rails-assets-matches-selector (~&gt; 1.0.2)\n    rails-assets-get-size (1.2.2)\n      rails-assets-get-style-property (~&gt; 1.0)\n    rails-assets-get-style-property (1.0.4)\n    rails-assets-imagesloaded (3.1.8)\n      rails-assets-eventEmitter (~&gt; 4.0)\n      rails-assets-eventie (&gt;= 1.0.4, &lt; 2)\n    rails-assets-iscroll (5.1.2)\n    rails-assets-jquery (2.1.4)\n    rails-assets-jquery-bridget (1.1.0)\n      rails-assets-jquery (&gt;= 1.4.2, &lt; 3)\n    rails-assets-jquery-deserialize (1.3.1)\n      rails-assets-jquery (&gt;= 1.4.3)\n    rails-assets-jquery-hoverIntent (1.8.1)\n      rails-assets-jquery (&gt;= 1.9.1)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  annotate\n  awesome_nested_set!\n  bcrypt    \n  quilt\n  rack-attack\n  rails (= 4.2)!\n  rails-assets-caman!\n  rails-assets-cssfx!\n  rails-assets-embedly-jquery!\n  rails-assets-enquire!\n  rails-assets-imagesloaded!\n  rails-assets-iscroll (= 5.1.2)!\n  rails-assets-jquery-bridget!\n  rails-assets-jquery-deserialize!\n  rails-assets-jquery-hoverIntent!\n  rails-assets-jquery-infield-label!\n  rails-assets-jquery.caro!\n  rails-assets-jquery.center.js!\n</code></pre>\n\n<p>Running <code>bundle</code> or <code>bundle install</code> is just deleting the entire Gemfile.lock contents and leaving it like this:</p>\n\n<pre><code>GEM\n  remote: https://rubygems.org/\n  remote: https://rails-assets.org/\n  specs:\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n</code></pre>\n\n<p>Output of bundle command:</p>\n\n<pre><code>The Gemfile specifies no dependencies\nResolving dependencies...\nYour bundle is complete!\nIt was installed into ./vendor/bundle\n</code></pre>\n\n<p>Why is it doing like this?</p>\n"}, {"tags": ["arrays", "ruby", "string"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1445440818, "post_id": 33262348, "comment_id": 54327498, "body": "I assume that, as in your example, the integers you wish to extract are always non-negative, but that should should be stated. Also, I don&#39;t know what you mean by &quot;trim the double-quotes manually&quot;."}, {"owner": {"reputation": 10027, "user_id": 385907, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5e249e45a1849e387e324787d08ef738?s=128&d=identicon&r=PG", "display_name": "barlop", "link": "https://stackoverflow.com/users/385907/barlop"}, "edited": false, "score": 0, "creation_date": 1552276745, "post_id": 33262348, "comment_id": 96933979, "body": "DV Your title is really misleading. This is an array with a string in it. and converting to array of integers"}, {"owner": {"reputation": 10027, "user_id": 385907, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5e249e45a1849e387e324787d08ef738?s=128&d=identicon&r=PG", "display_name": "barlop", "link": "https://stackoverflow.com/users/385907/barlop"}, "edited": false, "score": 0, "creation_date": 1552276807, "post_id": 33262348, "comment_id": 96933991, "body": "Your title is really misleading. This is an array with a string in it. and converting to array of integers"}], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1445440269, "post_id": 33262382, "comment_id": 54327100, "body": "Understatement not needed. :-)"}], "tags": [], "owner": {"reputation": 10298, "user_id": 1205299, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/31432723c324f68bc45e86f197c4c1eb?s=128&d=identicon&r=PG", "display_name": "davidrac", "link": "https://stackoverflow.com/users/1205299/davidrac"}, "is_accepted": false, "score": 10, "last_activity_date": 1445438601, "creation_date": 1445438601, "answer_id": 33262382, "question_id": 33262348, "link": "https://stackoverflow.com/questions/33262348/how-to-convert-an-string-into-array-in-ruby/33262382#33262382", "title": "How to convert an String into Array in Ruby", "body": "<p>I think this should work:</p>\n\n<pre><code>my_array = my_array[0].split(',').map(&amp;:to_i)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2277, "user_id": 3234367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FxQ1m.jpg?s=128&g=1", "display_name": "aaron-coding", "link": "https://stackoverflow.com/users/3234367/aaron-coding"}, "edited": false, "score": 0, "creation_date": 1445450476, "post_id": 33262498, "comment_id": 54333501, "body": "The benchmarks are very similar. Ran it three times. 1st time split won, 2nd time tie, 3rd time scan won. Test case was string from OP&#39;s example."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 3930, "user_id": 1449569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d58c523bfe1f2628000af0759654ee69?s=128&d=identicon&r=PG", "display_name": "Iron Savior", "link": "https://stackoverflow.com/users/1449569/iron-savior"}, "edited": false, "score": 0, "creation_date": 1445480806, "post_id": 33262498, "comment_id": 54345798, "body": "Fe (aka @Iron), what is the basis for your assertion?"}, {"owner": {"reputation": 3930, "user_id": 1449569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d58c523bfe1f2628000af0759654ee69?s=128&d=identicon&r=PG", "display_name": "Iron Savior", "link": "https://stackoverflow.com/users/1449569/iron-savior"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445482046, "post_id": 33262498, "comment_id": 54346137, "body": "@Cary it&#39;s a small difference, I&#39;m sure, but the regex will likely be a heavier mechanism."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 3930, "user_id": 1449569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d58c523bfe1f2628000af0759654ee69?s=128&d=identicon&r=PG", "display_name": "Iron Savior", "link": "https://stackoverflow.com/users/1449569/iron-savior"}, "edited": false, "score": 0, "creation_date": 1445482260, "post_id": 33262498, "comment_id": 54346191, "body": "@Iron, I used to think of regex operations as being generally slow, but I&#39;ve since seen some that have been lightning fast. Best to run benchmarks before drawing such conclusions."}, {"owner": {"reputation": 3930, "user_id": 1449569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d58c523bfe1f2628000af0759654ee69?s=128&d=identicon&r=PG", "display_name": "Iron Savior", "link": "https://stackoverflow.com/users/1449569/iron-savior"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445485163, "post_id": 33262498, "comment_id": 54346814, "body": "@Cary, I would not disagree with that."}, {"owner": {"reputation": 11597, "user_id": 473467, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2270d703967bfebb9cb555f85b3bb56b?s=128&d=identicon&r=PG", "display_name": "awendt", "link": "https://stackoverflow.com/users/473467/awendt"}, "edited": false, "score": 0, "creation_date": 1445499637, "post_id": 33262498, "comment_id": 54351928, "body": "Thanks for your input, I&#39;ve updated my answer to include benchmarks."}], "tags": [], "owner": {"reputation": 11597, "user_id": 473467, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2270d703967bfebb9cb555f85b3bb56b?s=128&d=identicon&r=PG", "display_name": "awendt", "link": "https://stackoverflow.com/users/473467/awendt"}, "is_accepted": false, "score": 7, "last_activity_date": 1445499609, "last_edit_date": 1445499609, "creation_date": 1445438899, "answer_id": 33262498, "question_id": 33262348, "link": "https://stackoverflow.com/questions/33262348/how-to-convert-an-string-into-array-in-ruby/33262498#33262498", "title": "How to convert an String into Array in Ruby", "body": "<p>Expanding davidrac's answer, you could also use <a href=\"http://ruby-doc.org/core-2.1.2/String.html#method-i-scan\" rel=\"nofollow\"><code>String#scan</code></a> instead of <a href=\"http://ruby-doc.org/core-2.1.2/String.html#method-i-split\" rel=\"nofollow\"><code>String#split</code></a>:</p>\n\n<pre><code>my_array = my_array[0].scan(/\\d+/).map(&amp;:to_i)\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>The benchmarks on this clear show that <code>String#scan</code> is slower:</p>\n\n<pre><code>require 'benchmark'\nstring = \"210,207,203,199,169,165,159,152,148,144,140,137\"\nBenchmark.bm do |x|\n  x.report('split') { 1_000_000.times { string.split(',').map(&amp;:to_i) } }\n  x.report('scan') { 1_000_000.times { string.scan(/\\d+/).map(&amp;:to_i) } }\nend\n</code></pre>\n\n<p>yields:</p>\n\n<pre><code>           user     system      total        real\nsplit  3.550000   0.010000   3.560000 (  3.580334)\nscan   7.350000   0.020000   7.370000 (  7.402508)\n</code></pre>\n"}], "owner": {"reputation": 15273, "user_id": 4258008, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aJHZ7.jpg?s=128&g=1", "display_name": "mainframer", "link": "https://stackoverflow.com/users/4258008/mainframer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1445499609, "creation_date": 1445438517, "last_edit_date": 1445443292, "question_id": 33262348, "link": "https://stackoverflow.com/questions/33262348/how-to-convert-an-string-into-array-in-ruby", "title": "How to convert an String into Array in Ruby", "body": "<p>In ruby, I have an array with an string value:</p>\n\n<pre><code>my_array=[\"210,207,203,199,169,165,159,152,148,144,140,137\"]\n</code></pre>\n\n<p>How do I convert it into an normal array like this:</p>\n\n<pre><code>my_array=[210,207,203,199,169,165,159,152,148,144,140,137]\n</code></pre>\n\n<p><strong>Note: all the elements are non-negative values.</strong><br>\nI know I can do this by trim the double quote manually, but I am wondering if there is an more elegant way to implement this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "routes"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1445435201, "post_id": 33260928, "comment_id": 54323094, "body": "Seems like a friendly slug with an associated link, no?"}], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1445436460, "post_id": 33261488, "comment_id": 54324076, "body": "I currently have friendly_id&#39;s set on the posts, would this change this code at all?"}, {"owner": {"reputation": 7844, "user_id": 1520557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9KKRA.png?s=128&g=1", "display_name": "Drenmi", "link": "https://stackoverflow.com/users/1520557/drenmi"}, "reply_to_user": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1445436500, "post_id": 33261488, "comment_id": 54324109, "body": "@Jonathan: If you already have a model named <code>Posts</code>, that&#39;s just as fine. Same approach still applies. :-)"}, {"owner": {"reputation": 7844, "user_id": 1520557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9KKRA.png?s=128&g=1", "display_name": "Drenmi", "link": "https://stackoverflow.com/users/1520557/drenmi"}, "reply_to_user": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1445436660, "post_id": 33261488, "comment_id": 54324245, "body": "@Jonathan: A <code>friendly_id</code> shouldn&#39;t change anything. Just use the <code>friendly_id</code> column. I&#39;ll updated my answer with your naming convention."}, {"owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "edited": false, "score": 0, "creation_date": 1447797283, "post_id": 33261488, "comment_id": 55303290, "body": "I&#39;m getting a funky error when implementing your code, please see the edited question above with the error."}], "tags": [], "owner": {"reputation": 7844, "user_id": 1520557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9KKRA.png?s=128&g=1", "display_name": "Drenmi", "link": "https://stackoverflow.com/users/1520557/drenmi"}, "is_accepted": true, "score": 1, "last_activity_date": 1445436687, "last_edit_date": 1445436687, "creation_date": 1445436242, "answer_id": 33261488, "question_id": 33260928, "link": "https://stackoverflow.com/questions/33260928/cloaking-links-in-rails/33261488#33261488", "title": "Cloaking links in Rails", "body": "<p>You can simply store the slug and outgoing URL in your database, and then match them once someone visits the link.</p>\n\n<p>Assume a model named <code>Post</code> with two attributes, <code>friendly_id</code> and <code>url</code>. You can set up a route like this:</p>\n\n<pre><code># config/routes.rb\nget \"posts/:slug\", to: \"posts#show\"\n</code></pre>\n\n<p>And in your controller:</p>\n\n<pre><code># app/controller/posts_controller.rb\ndef show\n  link = Post.find_by!(friendly_id: params[:slug])\n  redirect_to link.url\nend\n</code></pre>\n\n<p>Note that the links will need to start with <code>http://</code> or <code>https://</code>, or the <code>redirect_to</code> call will fail.</p>\n"}], "owner": {"reputation": 653, "user_id": 4230699, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0VBXh.gif?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4230699/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 1, "accepted_answer_id": 33261488, "answer_count": 1, "score": 1, "last_activity_date": 1447797327, "creation_date": 1445434821, "last_edit_date": 1447797327, "question_id": 33260928, "link": "https://stackoverflow.com/questions/33260928/cloaking-links-in-rails", "title": "Cloaking links in Rails", "body": "<p>I'm looking to cloak my outgoing links in Rails, but can't find anyone doing it outside of Wordpress &amp; PHP. I'm guessing it's either silly easy or stupidly difficult, would love clarification.</p>\n\n<p><strong>I'm trying to achieve links to look like this:</strong></p>\n\n<p><a href=\"http://www.railsproject.com/posts/test-post\" rel=\"nofollow\">http://www.railsproject.com/posts/test-post</a></p>\n\n<p><strong>But when clicked redirect to:</strong></p>\n\n<p><a href=\"http://www.test-webpage.com/12341/post-at-another-site\" rel=\"nofollow\">http://www.test-webpage.com/12341/post-at-another-site</a></p>\n\n<p>As currently my URL's look a bit ugly and SEO is hating it as well.</p>\n\n<p>Any help would be grand!</p>\n\n<p><strong>EDIT ERROR</strong></p>\n\n<blockquote>\n  <p>PG::UndefinedColumn: ERROR: column offers.friendly_id does not exist\n  LINE 1: SELECT \"offers\".* FROM \"offers\" WHERE \"offers\".\"friendly_id...\n  ^ : SELECT \"offers\".* FROM \"offers\" WHERE \"offers\".\"friendly_id\" IS\n  NULL LIMIT 1</p>\n</blockquote>\n\n<pre><code>  # GET /offers/1.json\n  def show\n    link = Offer.find_by!(friendly_id: params[:slug])\n    redirect_to link.url\n  end\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1445434449, "post_id": 33260704, "comment_id": 54322551, "body": "did your error happen when you were doing an AJAX call?"}, {"owner": {"reputation": 270, "user_id": 2819673, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9c46fbd4419d27b77688991b45ab114b?s=128&d=identicon&r=PG", "display_name": "tommybernaciak", "link": "https://stackoverflow.com/users/2819673/tommybernaciak"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1445434893, "post_id": 33260704, "comment_id": 54322841, "body": "Yes I am and I think thats the problem"}], "answers": [{"tags": [], "owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "is_accepted": false, "score": 1, "last_activity_date": 1445435216, "last_edit_date": 1495539891, "creation_date": 1445435216, "answer_id": 33261076, "question_id": 33260704, "link": "https://stackoverflow.com/questions/33260704/redirect-to-after-rescue-from-is-not-working/33261076#33261076", "title": "redirect_to after rescue_from is not working", "body": "<p>When you are doing an AJAX call to your server, the browser expect the response to be in javascript ( you talk to me in the JS language, I answer using JS language too, quite simple ). In your case, you need to test if the request is HTML or Javascript, and use the corresponding redirect:</p>\n\n<pre><code>def my_error\n  path_to_redirect = root_path\n\n  if request.xhr? # tests if the request comes from an AJAX call\n    render :js =&gt; \"window.location = '#{path_to_redirect}'\"\n  else\n    redirect_to path_to_redirect, alert: \"my Error\"\n  end\nend\n</code></pre>\n\n<hr>\n\n<p>For more answers about AJAX redirects in Rails: <a href=\"https://stackoverflow.com/questions/5454806/rails-3-how-to-redirect-to-in-ajax-call\">Rails 3: How to &quot;redirect_to&quot; in Ajax call?</a></p>\n"}], "owner": {"reputation": 270, "user_id": 2819673, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9c46fbd4419d27b77688991b45ab114b?s=128&d=identicon&r=PG", "display_name": "tommybernaciak", "link": "https://stackoverflow.com/users/2819673/tommybernaciak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1446191886, "creation_date": 1445434295, "last_edit_date": 1446191886, "question_id": 33260704, "link": "https://stackoverflow.com/questions/33260704/redirect-to-after-rescue-from-is-not-working", "title": "redirect_to after rescue_from is not working", "body": "<p>I am trying to catch a custom error, and redirect to root path after it occurs. My code in controller looks like this:</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  protect_from_forgery with: :exception\n  rescue_from Errors::MyError, :with =&gt; :my_error\n\n  private\n\n  def my_error\n    redirect_to root_path, alert: \"my Error\"\n  end\nend\n</code></pre>\n\n<p>Redirect is not working, after error occurs I am still at the same page. What is funny, my server logs shows that I was redirected. </p>\n\n<pre><code>Redirected to http.....\nCompleted 302 Found in 1908ms (ActiveRecord: 0.5ms)\n</code></pre>\n\n<p>What happened? And why redirect havent occur?</p>\n"}, {"tags": ["ruby", "rspec"], "comments": [{"owner": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 1, "creation_date": 1445437610, "post_id": 33259684, "comment_id": 54325018, "body": "What do you mean when you say &quot;it fails&quot;? Is it raising an exception or running your tests with the default formatter? If it&#39;s the former, can you update your question with a stack trace?"}, {"owner": {"reputation": 1158, "user_id": 2747638, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/dWpWy.jpg?s=128&g=1", "display_name": "Mio", "link": "https://stackoverflow.com/users/2747638/mio"}, "reply_to_user": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 0, "creation_date": 1445437791, "post_id": 33259684, "comment_id": 54325159, "body": "It using the default formater."}, {"owner": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 1, "creation_date": 1445438342, "post_id": 33259684, "comment_id": 54325577, "body": "Hmm, I can&#39;t recreate that. What version of RSpec are you using?"}, {"owner": {"reputation": 1158, "user_id": 2747638, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/dWpWy.jpg?s=128&g=1", "display_name": "Mio", "link": "https://stackoverflow.com/users/2747638/mio"}, "reply_to_user": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 0, "creation_date": 1445440395, "post_id": 33259684, "comment_id": 54327193, "body": "Rspec 3.3.2. Can I edit separately the <code>spec</code> task ?"}, {"owner": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 1, "creation_date": 1445447676, "post_id": 33259684, "comment_id": 54331883, "body": "You can always define your own <code>spec</code> task. The RSpec default task basically just shells out. Try creating a new task and use this line to call rspec <code>system &quot;rspec --require rspec&#47;instafail --format RSpec::Instafail&quot;</code>"}, {"owner": {"reputation": 1158, "user_id": 2747638, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/dWpWy.jpg?s=128&g=1", "display_name": "Mio", "link": "https://stackoverflow.com/users/2747638/mio"}, "reply_to_user": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 0, "creation_date": 1445517495, "post_id": 33259684, "comment_id": 54362792, "body": "it works with a <code>lib&#47;tasks&#47;spec.rake</code> with the code you gave me. It&#39;s really curious that the code below doesn&#39;t work."}, {"owner": {"reputation": 1158, "user_id": 2747638, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/dWpWy.jpg?s=128&g=1", "display_name": "Mio", "link": "https://stackoverflow.com/users/2747638/mio"}, "reply_to_user": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 0, "creation_date": 1445521098, "post_id": 33259684, "comment_id": 54365070, "body": "It&#39;s blocking all my rake commands... :/"}, {"owner": {"reputation": 1158, "user_id": 2747638, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/dWpWy.jpg?s=128&g=1", "display_name": "Mio", "link": "https://stackoverflow.com/users/2747638/mio"}, "reply_to_user": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "edited": false, "score": 0, "creation_date": 1445524779, "post_id": 33259684, "comment_id": 54367573, "body": "@Johnson I&#39;ve edited the question."}], "owner": {"reputation": 1158, "user_id": 2747638, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/dWpWy.jpg?s=128&g=1", "display_name": "Mio", "link": "https://stackoverflow.com/users/2747638/mio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1445524748, "creation_date": 1445431486, "last_edit_date": 1445524748, "question_id": 33259684, "link": "https://stackoverflow.com/questions/33259684/run-rspec-with-format-options-only-on-rake-task", "title": "Run rspec with format options only on rake task", "body": "<p>I'm trying to use instafail only when running <code>rake</code>. For the moment my Rakefile looks like this ( :</p>\n\n<pre><code>require File.expand_path('../config/application', __FILE__)\nrequire 'rake'\nrequire 'rspec/core/rake_task'\n\nRSpec::Core::RakeTask.new(:spec) do |t|\n  t.rspec_opts = '--require rspec/instafail --format RSpec::Instafail'\nend\n\nRails.application.load_tasks\n</code></pre>\n\n<p>And in my <code>lib/task/default</code> :</p>\n\n<pre><code>task default: [\"spec\", \"test\"]\n</code></pre>\n\n<p>But it fails, instafail is used but the task \"test\" is not called anymore.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "bing-search"], "comments": [{"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445433272, "post_id": 33259575, "comment_id": 54321716, "body": "Seems your Bing account key is not valid/correct."}, {"owner": {"reputation": 2278, "user_id": 3728916, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/Zmke4.jpg?s=128&g=1", "display_name": "ImranNaqvi", "link": "https://stackoverflow.com/users/3728916/imrannaqvi"}, "reply_to_user": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445433528, "post_id": 33259575, "comment_id": 54321904, "body": "@Mischa I&#39;m using the accout key , is that not correct ?"}], "owner": {"reputation": 2278, "user_id": 3728916, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/Zmke4.jpg?s=128&g=1", "display_name": "ImranNaqvi", "link": "https://stackoverflow.com/users/3728916/imrannaqvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445433107, "creation_date": 1445431184, "last_edit_date": 1445433107, "question_id": 33259575, "link": "https://stackoverflow.com/questions/33259575/does-bing-api-provides-social-media-links-along-with-lat-lng-ruby-on-rails", "title": "Does bing API provides social media links along with lat/lng - Ruby on Rails", "body": "<p>Question title is actually my basic concern , But I wanna tell you that i have tried <a href=\"https://rubygems.org/gems/binged\" rel=\"nofollow\">Binged</a> , <a href=\"https://rubygems.org/gems/rbing\" rel=\"nofollow\">rbing</a> , <a href=\"https://rubygems.org/gems/bing-search\" rel=\"nofollow\">bing-search </a>and <a href=\"https://rubygems.org/gems/searchbing\" rel=\"nofollow\">searchbing</a> gems But None of these are working for me . E.g <code>searchbing</code> I tried the code below</p>\n\n<pre><code>bing_image = Bing.new('your_account_key_goes_here', 10, 'Image')\nbing_results = bing_image.search(\"puffin\")\n</code></pre>\n\n<p>The above code result in error below </p>\n\n<blockquote>\n  <p>JSON::ParserError: 757: unexpected token at  403 - Forbidden: Access is denied.</p>\n</blockquote>\n\n<p>Other gems (mentioned above gave me approximately same kind of error i.e access denied)</p>\n\n<p>Can anyone explain what's going on and where is i'm doing wrong</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "rails-activerecord", "acts-as-taggable-on"], "comments": [{"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 1, "creation_date": 1445433523, "post_id": 33259409, "comment_id": 54321900, "body": "I think your scope can be rewritten to: <code>scope :tagged_with, lambda { |tag| joins(:tags).where(tags: { name: tag }).order(&#39;users.id ASC&#39;) })</code>"}], "answers": [{"comments": [{"owner": {"reputation": 969, "user_id": 1653985, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e4674a1dcee378f7dc3673e5dc4e5282?s=128&d=identicon&r=PG", "display_name": "Mano", "link": "https://stackoverflow.com/users/1653985/mano"}, "edited": false, "score": 0, "creation_date": 1445434940, "post_id": 33260779, "comment_id": 54322882, "body": "Thanks for replying. i want to get the result of User.search(&quot;best&quot;) union with result of tag name User.tagged_with(&quot;best&quot;)."}, {"owner": {"reputation": 969, "user_id": 1653985, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e4674a1dcee378f7dc3673e5dc4e5282?s=128&d=identicon&r=PG", "display_name": "Mano", "link": "https://stackoverflow.com/users/1653985/mano"}, "edited": false, "score": 0, "creation_date": 1445840226, "post_id": 33260779, "comment_id": 54475080, "body": "Thanks for answer. Its working great from my console. Now i&#39;m gettting this error <a href=\"http://stackoverflow.com/questions/33281995/mysql2-lost-connection-to-mysql-server-during-query\" title=\"mysql2 lost connection to mysql server during query\">stackoverflow.com/questions/33281995/&hellip;</a>. Kindly help."}], "tags": [], "owner": {"reputation": 4978, "user_id": 3033649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d885e80c88f3969d451d513c6a73c802?s=128&d=identicon&r=PG", "display_name": "markets", "link": "https://stackoverflow.com/users/3033649/markets"}, "is_accepted": true, "score": 3, "last_activity_date": 1445436884, "last_edit_date": 1495540326, "creation_date": 1445434457, "answer_id": 33260779, "question_id": 33259409, "link": "https://stackoverflow.com/questions/33259409/rails-add-two-scope-with-active-record-result/33260779#33260779", "title": "Rails add two scope with active record result", "body": "<p>I think you just need to return a chainable scope (use <code>.</code> instead of <code>+</code>):</p>\n\n<pre><code>where('name LIKE ?', \"%#{search}%\").tagged_with(search)\n</code></pre>\n\n<p>It returns an <code>ActiveRecord::Relation</code> instead of an <code>Array</code>.</p>\n\n<p>If you need to perform an <code>UNION</code> operation, I recommend you to follow this thread: <a href=\"https://stackoverflow.com/questions/6686920/activerecord-query-union\">ActiveRecord Query Union</a>.</p>\n\n<p>One possible approach is to extend ActiveRecord:</p>\n\n<pre><code>module ActiveRecord::UnionScope\n  def self.included(base)\n    base.send(:extend, ClassMethods)\n  end\n\n  module ClassMethods\n    def union_scope(*scopes)\n      id_column = \"#{table_name}.id\"\n      sub_query = scopes.map { |s| s.select(id_column).to_sql }.join(\" UNION \")\n      where(\"#{id_column} IN (#{sub_query})\")\n    end\n  end\nend \n</code></pre>\n\n<p>Usage (not tested):</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  include ActiveRecord::UnionScope\n\n  def self.search(search)\n    if search\n      union_scope(where('name LIKE ?', \"%#{search}%\"), tagged_with(search))\n    else\n      scoped\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 969, "user_id": 1653985, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e4674a1dcee378f7dc3673e5dc4e5282?s=128&d=identicon&r=PG", "display_name": "Mano", "link": "https://stackoverflow.com/users/1653985/mano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1781, "favorite_count": 0, "accepted_answer_id": 33260779, "answer_count": 1, "score": 4, "last_activity_date": 1445436884, "creation_date": 1445430699, "last_edit_date": 1445434978, "question_id": 33259409, "link": "https://stackoverflow.com/questions/33259409/rails-add-two-scope-with-active-record-result", "title": "Rails add two scope with active record result", "body": "<p>I am using acts-as-taggable-on gem</p>\n\n<p>i use single field to search by tag_name and user_name</p>\n\n<p>User.rb</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n\n  acts_as_taggable\n  attr_accessor: :user_name, :age, :country, tag_list\n  scope :tagged_with, lambda { |tag|\n    {\n      :joins =&gt; \"INNER JOIN taggings ON taggings.taggable_id = user.id\\\n               INNER JOIN tags ON tags.id = taggings.tag_id AND taggings.taggable_type = 'User'\",\n      :conditions =&gt; [\"tags.name = ?\", tag],\n      :order =&gt; 'id ASC'\n    }\n  }\n  def self.search(search)\n    if search\n      where('name LIKE ?', \"%#{search}%\") + tagged_with(search)\n    else\n      scoped\n    end\n  end\nend\n</code></pre>\n\n<p>But i have pagination issue while getting this as Array and i used \"will_paginate/Array\" in config/initializer/will_paginate.rb it doesn't work.</p>\n\n<p>User controller</p>\n\n<pre><code>class UserController &lt; ActionController::Base\n  def index\n    @users = User.search(params[:search]).paginate(:per_page =&gt; per_page, :page =&gt; params[:page])\n  end\n</code></pre>\n\n<p>Console.</p>\n\n<blockquote>\n  <p>User.search(\"best\") => Should search by both tag_name and user_name and return ActiveRecord result.</p>\n</blockquote>\n\n<p>i want to get the result of User.search(\"best\") union with result of tag name User.tagged_with(\"best\")</p>\n\n<p>Can you help me to add this scopes as ActiveRecord relation to use pagination without issue.</p>\n"}, {"tags": ["ruby", "block", "proc"], "comments": [{"owner": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "edited": false, "score": 0, "creation_date": 1445430374, "post_id": 33259253, "comment_id": 54319589, "body": "I would recommend asking this in the SO Ruby chat room. It is a little vague IMO."}, {"owner": {"reputation": 813, "user_id": 1961154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6b9daa60a6856519080acddfd5f254?s=128&d=identicon&r=PG", "display_name": "intale", "link": "https://stackoverflow.com/users/1961154/intale"}, "edited": false, "score": 0, "creation_date": 1445430393, "post_id": 33259253, "comment_id": 54319603, "body": "it counts that you are passing block to :pp, but not to :remotes"}], "answers": [{"comments": [{"owner": {"reputation": 2184, "user_id": 3536548, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qEPjr.png?s=128&g=1", "display_name": "Thermatix", "link": "https://stackoverflow.com/users/3536548/thermatix"}, "edited": false, "score": 0, "creation_date": 1445430859, "post_id": 33259309, "comment_id": 54319907, "body": "hmmm I see, that did indeed fix the issue, I guess I should have put a parenthesis around the remotes function call; I guess it was a precedence issue, more tired then I thought :P, thanks."}], "tags": [], "owner": {"reputation": 1052, "user_id": 5153223, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2eb1e2066f49fd770286205385ad6d1?s=128&d=identicon&r=PG&f=1", "display_name": "Borsunho", "link": "https://stackoverflow.com/users/5153223/borsunho"}, "is_accepted": true, "score": 5, "last_activity_date": 1445430401, "creation_date": 1445430401, "answer_id": 33259309, "question_id": 33259253, "link": "https://stackoverflow.com/questions/33259253/in-ruby-when-is-a-block-not-a-block/33259309#33259309", "title": "in ruby, when is a block not a block?", "body": "<p>Ruby thinks you are passing the block to <code>pp</code> method, which simply ignores it. Try:</p>\n\n<pre><code>res = remotes(forms,remotes) do |ident|\n  case(ident)\n    when :get_assets\n      '@Userobject'\n  end\nend\n\npp res\n</code></pre>\n"}], "owner": {"reputation": 2184, "user_id": 3536548, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qEPjr.png?s=128&g=1", "display_name": "Thermatix", "link": "https://stackoverflow.com/users/3536548/thermatix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1445437734, "accepted_answer_id": 33259309, "answer_count": 1, "score": 1, "last_activity_date": 1445430401, "creation_date": 1445430239, "question_id": 33259253, "link": "https://stackoverflow.com/questions/33259253/in-ruby-when-is-a-block-not-a-block", "closed_reason": "Duplicate", "title": "in ruby, when is a block not a block?", "body": "<p>Jokes aside, I have a strange situation, I have some code:</p>\n\n<pre><code>def remotes(form,remotes)\n  personalised_form = form.dup\n  remotes.each do |ident,remote|\n    object = yield(ident)\n    result = remote.call(object)\n    insert_into_(personalised_form,ident,result)\n  end\n  personalised_form\nend\n</code></pre>\n\n<p>And I'm seeing if it works like so:</p>\n\n<pre><code>pp remotes(forms,remotes) do |ident|\n  case(ident)\n    when :get_assets\n      '@Userobject'\n  end\nend\n</code></pre>\n\n<p>The problem is that ruby seems to think I'm not passing a block to the <code>remotes</code> function.</p>\n\n<p>Why is ruby insisting that I'm not passing a block? (it gives a <code>no block given (yield) (LocalJumpError)</code> specifically).</p>\n\n<p>Thought it's not relevant, remotes is a hash containing key's and Procs, and form is just a specificly structured hash that has the result of the proc inserted into it using the ident to locate the correct insertion point</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "twitter"], "comments": [{"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445430170, "post_id": 33259138, "comment_id": 54319469, "body": "Seems <code>@tweets</code> has the info you need already. Have you checked what it holds exactly?"}, {"owner": {"reputation": 165, "user_id": 3745015, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/efa3a15a291ee97bd85f1c823412a5c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jim B", "link": "https://stackoverflow.com/users/3745015/jim-b"}, "reply_to_user": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445430261, "post_id": 33259138, "comment_id": 54319524, "body": "Hi Mischa, I&#39;m not sure what I would do to find what it holds. Can you provide more info?"}, {"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445430580, "post_id": 33259138, "comment_id": 54319731, "body": "You can add the following after you have set <code>@tweets</code> in the index method: <code>logger.debug @tweets.inspect</code> and then check your log file to see what <code>@tweets</code> holds."}, {"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445430614, "post_id": 33259138, "comment_id": 54319753, "body": "Another option would be to look at the documentation for the Twitter client you&#39;re using."}, {"owner": {"reputation": 165, "user_id": 3745015, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/efa3a15a291ee97bd85f1c823412a5c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jim B", "link": "https://stackoverflow.com/users/3745015/jim-b"}, "reply_to_user": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445431052, "post_id": 33259138, "comment_id": 54320012, "body": "When trying to raise and inspect @tweets, I only get the tweet Id. I&#39;ve looked through the client documentation and it seems a bit high level for me, so i&#39;m trying to work through it bit by bit."}, {"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445431584, "post_id": 33259138, "comment_id": 54320439, "body": "Instead of inspecting <code>@tweets</code>, try inspecting the first tweet, like this: <code>raise @tweets.first.inspect</code>."}, {"owner": {"reputation": 165, "user_id": 3745015, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/efa3a15a291ee97bd85f1c823412a5c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jim B", "link": "https://stackoverflow.com/users/3745015/jim-b"}, "reply_to_user": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445433499, "post_id": 33259138, "comment_id": 54321888, "body": "That seems to still only bring the tweet ID :("}, {"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1445434212, "post_id": 33259138, "comment_id": 54322394, "body": "That&#39;s strange. What do you get when you try the following: <code>raise @tweets.first.to_yaml</code>"}, {"owner": {"reputation": 165, "user_id": 3745015, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/efa3a15a291ee97bd85f1c823412a5c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jim B", "link": "https://stackoverflow.com/users/3745015/jim-b"}, "reply_to_user": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 1, "creation_date": 1445434871, "post_id": 33259138, "comment_id": 54322825, "body": "That brings all the information such as &#39;screen_name&#39;, &#39;created_at&#39;! Thank you so much. I can then simply call &lt;%= tweet.created_at %&gt; etc.. to show any info I need, Excellent!"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 3745015, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/efa3a15a291ee97bd85f1c823412a5c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jim B", "link": "https://stackoverflow.com/users/3745015/jim-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1445519453, "last_edit_date": 1495539886, "creation_date": 1445435971, "answer_id": 33261373, "question_id": 33259138, "link": "https://stackoverflow.com/questions/33259138/connection-between-twitter-status-and-ruby-on-rails/33261373#33261373", "title": "Connection between Twitter status and Ruby on Rails", "body": "<p>Answer provided by <a href=\"https://stackoverflow.com/users/84631/mischa\">Mischa</a></p>\n\n<p><em>To view the tweet attributes</em></p>\n\n<blockquote>\n  \n</blockquote>\n\n<p>Then use the attributes as follows</p>\n\n<blockquote>\n  <p>&lt;%= tweet.created_at %> etc</p>\n</blockquote>\n"}], "owner": {"reputation": 165, "user_id": 3745015, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/efa3a15a291ee97bd85f1c823412a5c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jim B", "link": "https://stackoverflow.com/users/3745015/jim-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1445519453, "creation_date": 1445429923, "question_id": 33259138, "link": "https://stackoverflow.com/questions/33259138/connection-between-twitter-status-and-ruby-on-rails", "title": "Connection between Twitter status and Ruby on Rails", "body": "<p>I'm trying to bring my latest status from Twitter to my Rails app. I have the config details stored in an initialiser and have it displaying my latest tweet, but I want to also bring the date of this tweet. I have the following code and not sure whether to try and amend it or start again.</p>\n\n<p><strong>initializers.twitter.rb</strong></p>\n\n<pre><code>module TwitterStatus\n $client = Twitter::REST::Client.new do |config|\n  config.consumer_key        = \"##hidden##\"\n  config.consumer_secret     = \"##hidden##\"\n  config.access_token        = \"##hidden##\"\n  config.access_token_secret = \"##hidden##\"\n end\n\n def user_timeline(qt)\n  $client.user_timeline(count: qt)\n end\n\nend\n</code></pre>\n\n<p><strong>controllers/application_contorller.rb</strong></p>\n\n<pre><code>include TwitterStatus\n\ndef index\n @tweets = user_timeline(1)\nend\n</code></pre>\n\n<p>main/index.html.erb</p>\n\n<pre><code>&lt;% @tweets.each do |tweet| %&gt;\n  &lt;p&gt;&lt;%= link_to tweet.text, \"https://www.twitter.com/#{tweet.user.screen_name}\" %&gt;&lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Any help would be appreciated, ideally, I'd like to be able to pull all the tweet info (img, name, etc...) and just use what I need.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "svg", "erb"], "answers": [{"comments": [{"owner": {"reputation": 813, "user_id": 1961154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6b9daa60a6856519080acddfd5f254?s=128&d=identicon&r=PG", "display_name": "intale", "link": "https://stackoverflow.com/users/1961154/intale"}, "reply_to_user": {"reputation": 569, "user_id": 2350095, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c8d6147b807ba3c4274de829c4149c9?s=128&d=identicon&r=PG", "display_name": "shmnsw", "link": "https://stackoverflow.com/users/2350095/shmnsw"}, "edited": false, "score": 0, "creation_date": 1445430461, "post_id": 33259141, "comment_id": 54319641, "body": "can you insert a html part that is produced by the code I suggested? And what version of rails do you use?"}, {"owner": {"reputation": 813, "user_id": 1961154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6b9daa60a6856519080acddfd5f254?s=128&d=identicon&r=PG", "display_name": "intale", "link": "https://stackoverflow.com/users/1961154/intale"}, "reply_to_user": {"reputation": 569, "user_id": 2350095, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c8d6147b807ba3c4274de829c4149c9?s=128&d=identicon&r=PG", "display_name": "shmnsw", "link": "https://stackoverflow.com/users/2350095/shmnsw"}, "edited": false, "score": 0, "creation_date": 1445430629, "post_id": 33259141, "comment_id": 54319763, "body": "Also, please ensure that your svg is located in <code>rails_root&#47;app&#47;assets&#47;images&#47;svg</code> folder. Otherwise, please write where is your folder with svg files is located"}], "tags": [], "owner": {"reputation": 813, "user_id": 1961154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6b9daa60a6856519080acddfd5f254?s=128&d=identicon&r=PG", "display_name": "intale", "link": "https://stackoverflow.com/users/1961154/intale"}, "is_accepted": true, "score": 1, "last_activity_date": 1445429940, "creation_date": 1445429940, "answer_id": 33259141, "question_id": 33259005, "link": "https://stackoverflow.com/questions/33259005/accessing-files-in-rails-assets/33259141#33259141", "title": "Accessing files in rails assets", "body": "<p>Try this:</p>\n\n<pre><code>&lt;svg&gt;\n  &lt;use xlink:href=\"&lt;%=image_path(\"svg/images.svg\")%&gt;#icon_location\"&gt;&lt;/use&gt;\n&lt;/svg&gt;\n</code></pre>\n"}], "owner": {"reputation": 569, "user_id": 2350095, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c8d6147b807ba3c4274de829c4149c9?s=128&d=identicon&r=PG", "display_name": "shmnsw", "link": "https://stackoverflow.com/users/2350095/shmnsw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 33259141, "answer_count": 1, "score": -1, "last_activity_date": 1445429940, "creation_date": 1445429588, "question_id": 33259005, "link": "https://stackoverflow.com/questions/33259005/accessing-files-in-rails-assets", "title": "Accessing files in rails assets", "body": "<p>I want to access files in assets directory of a rails project, from a ERB file: </p>\n\n<pre><code>&lt;svg&gt;\n  &lt;use xlink:href=\"assets/svg/images.svg#icon_location\"&gt;&lt;/use&gt;\n&lt;/svg&gt;\n</code></pre>\n\n<p>But the files won't load, if i put the the folder in public and not in assets then it loading.</p>\n\n<p>I have tried stuff like image_tag() but not succeeded (Ruby on rails newbie)</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "edited": false, "score": 2, "creation_date": 1445429394, "post_id": 33258914, "comment_id": 54319001, "body": "most of the predicate method(contain <code>?</code> like <code>has_only_one_uploaded_image?</code>) should return <code>boolean</code>"}, {"owner": {"reputation": 1161, "user_id": 1520956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e1de66cb040b2256a6de3625fb4735ba?s=128&d=identicon&r=PG&f=1", "display_name": "rukia_kuchiki_21", "link": "https://stackoverflow.com/users/1520956/rukia-kuchiki-21"}, "reply_to_user": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "edited": false, "score": 0, "creation_date": 1445429491, "post_id": 33258914, "comment_id": 54319051, "body": "In my recent code, I removed the <code>false</code>. I retained just this... <code>return if images.size &gt; 1</code>, so it will return <code>nil</code> if it satisfied the condition. other methods like <code>(has_many_images? &amp;&amp; images_are_saved?))</code> will return <code>boolean</code> cc: @RajarshiDas"}, {"owner": {"reputation": 1161, "user_id": 1520956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e1de66cb040b2256a6de3625fb4735ba?s=128&d=identicon&r=PG&f=1", "display_name": "rukia_kuchiki_21", "link": "https://stackoverflow.com/users/1520956/rukia-kuchiki-21"}, "reply_to_user": {"reputation": 12965, "user_id": 2463570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rajarshi Das", "link": "https://stackoverflow.com/users/2463570/rajarshi-das"}, "edited": false, "score": 0, "creation_date": 1445429703, "post_id": 33258914, "comment_id": 54319170, "body": "So @RajarshiDas you mean other methods should return <code>boolean</code>, because <code>nil || nil</code> won&#39;t be good. I see."}], "answers": [{"comments": [{"owner": {"reputation": 4558, "user_id": 192711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6589c49345f4fec210c89b6a42d273ba?s=128&d=identicon&r=PG", "display_name": "Milan Iliev", "link": "https://stackoverflow.com/users/192711/milan-iliev"}, "edited": false, "score": 1, "creation_date": 1445430340, "post_id": 33259169, "comment_id": 54319563, "body": "Neil makes a bunch of good points. I would add that <code>return false</code> makes it easier to see your intent in the source code of the method. ` return false if images.size &gt; 1` reads more readily than <code>return if images.size &gt; 1</code>, in my opinion: in one the intent appears to be notifying the operation did not happen, and the other looks like you simply wanted to terminate execution."}], "tags": [], "owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "is_accepted": true, "score": 7, "last_activity_date": 1445430026, "creation_date": 1445430026, "answer_id": 33259169, "question_id": 33258914, "link": "https://stackoverflow.com/questions/33258914/return-nil-vs-return-false-in-ruby/33259169#33259169", "title": "return nil vs return false in Ruby", "body": "<p><code>nil</code> is \"falsey\", and if used directly in a conditional - or combined using logical operators <code>&amp;&amp;</code>, <code>||</code> etc, will behave the same as <code>false</code>, and your uses of it should work as you intend.</p>\n\n<p>However, it is usually better practice to return <code>true</code> or <code>false</code> values from methods that behave like booleans. There is little or no extra cost, <code>true</code> and <code>false</code> are the same sort of thing internally to Ruby as <code>nil</code> (a simple VALUE with fixed content, it is not resolved as a pointer).</p>\n\n<p>Returning <code>nil</code> conditionally makes more sense when you have a method which either returns an object you have asked for, or \"nothing\" for some good reason (e.g. you ask for a User with a specific id, but there is no such User).</p>\n\n<p>If in doubt, think of how you would document the method. If you would need to explain to a user why it returns  <code>true</code> or <code>nil</code>, and the explanation for this choice seems convoluted, then it would be much simpler to do what is expected and return <code>true</code> or <code>false</code></p>\n\n<p>For a very few methods, it may even make sense to return <code>true</code>, <code>false</code> or <code>nil</code> - the last one being essentially \"I don't know\". A method that caches the output from another method that returns <code>true</code> or <code>false</code> might do this.</p>\n"}], "owner": {"reputation": 1161, "user_id": 1520956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e1de66cb040b2256a6de3625fb4735ba?s=128&d=identicon&r=PG&f=1", "display_name": "rukia_kuchiki_21", "link": "https://stackoverflow.com/users/1520956/rukia-kuchiki-21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7964, "favorite_count": 0, "accepted_answer_id": 33259169, "answer_count": 1, "score": 4, "last_activity_date": 1445430026, "creation_date": 1445429289, "question_id": 33258914, "link": "https://stackoverflow.com/questions/33258914/return-nil-vs-return-false-in-ruby", "title": "return nil vs return false in Ruby", "body": "<p>So, I have this code from a colleague with lots of <code>return false</code> and <code>return true</code>.</p>\n\n<p>For example this method:</p>\n\n<pre><code>def has_only_one_uploaded_image?\n  return false if images.size &gt; 1\n  method_here\nend\n</code></pre>\n\n<p>If I remove the <code>false</code> as the return value, will it still work if I use it from other conditions?</p>\n\n<p>like in this method...</p>\n\n<pre><code>def commission_plan_product_available?\n  (has_only_one_uploaded_image? ||\n    (has_many_images? &amp;&amp; images_are_saved?))\nend\n</code></pre>\n\n<p>I'm confused as to when to use the proper <code>boolean</code> return and when I should not.</p>\n\n<p>I'm new to Ruby (not sure if <code>nil</code> can be also <code>false</code> in conditionals, please bear with me. Thank you.</p>\n\n<p>Can someone shed some light please?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "deployment", "ssh"], "comments": [{"owner": {"reputation": 7844, "user_id": 1520557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9KKRA.png?s=128&g=1", "display_name": "Drenmi", "link": "https://stackoverflow.com/users/1520557/drenmi"}, "edited": false, "score": 0, "creation_date": 1445426902, "post_id": 33258066, "comment_id": 54317290, "body": "Which version manager do you use? Gems are (as far as I know) normally installed in user space."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1445427323, "post_id": 33258066, "comment_id": 54317590, "body": "There is no good reason at all to ever run rails with sudo."}, {"owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "edited": false, "score": 0, "creation_date": 1445430650, "post_id": 33258066, "comment_id": 54319775, "body": "I do not run rails as sudo, I do su projectUser or su - projectUser before executing bundle"}, {"owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "edited": false, "score": 0, "creation_date": 1445430683, "post_id": 33258066, "comment_id": 54319794, "body": "We do not use any ruby version manager"}], "answers": [{"comments": [{"owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "edited": false, "score": 0, "creation_date": 1445431115, "post_id": 33258918, "comment_id": 54320061, "body": "Hi the gem is acts_as_paranoid-0.4.3, but I can install it."}], "tags": [], "owner": {"reputation": 565, "user_id": 2930793, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bTDDD.jpg?s=128&g=1", "display_name": "Sazzad", "link": "https://stackoverflow.com/users/2930793/sazzad"}, "is_accepted": false, "score": 0, "last_activity_date": 1445429308, "creation_date": 1445429308, "answer_id": 33258918, "question_id": 33258066, "link": "https://stackoverflow.com/questions/33258066/problems-executing-ruby-scripts-trhough-bundle/33258918#33258918", "title": "Problems executing ruby scripts trhough bundle", "body": "<ol>\n<li>tell me the gem name, may be this gem requires some dependencies.</li>\n<li>solve the nil class error.</li>\n<li>you can check which user is running the bundle install. actually we set rvm and ruby path $Home variable. if user is different then, it can not access the homme variable of default user like 'ubuntu', may be  this could be the problem :)</li>\n<li>may be project-user self .basrc file  where ruby &amp; rvm path setting is required.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "is_accepted": false, "score": 0, "last_activity_date": 1445441579, "creation_date": 1445441579, "answer_id": 33263418, "question_id": 33258066, "link": "https://stackoverflow.com/questions/33258066/problems-executing-ruby-scripts-trhough-bundle/33263418#33263418", "title": "Problems executing ruby scripts trhough bundle", "body": "<p>When I log with ssh with user project there is the variable:</p>\n\n<pre><code>$ export\n...\nRAILS_ENV=\"production\"\n...\n</code></pre>\n\n<p>when I do the otherUser => root => su - antifraude this variable isn't when you check with export, so you have two solutions:</p>\n\n<p>export this variable execute the script like this</p>\n\n<pre><code>RAILS_ENV=production bundle exec rails runner script/update_folders_names.rb\n</code></pre>\n\n<p>And with this it works </p>\n"}], "owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445441579, "creation_date": 1445426621, "last_edit_date": 1492086991, "question_id": 33258066, "link": "https://stackoverflow.com/questions/33258066/problems-executing-ruby-scripts-trhough-bundle", "title": "Problems executing ruby scripts trhough bundle", "body": "<p>I have a ruby on rails project in my server and this users:</p>\n\n<p>projectUser: the user that owns the folders of the project, and when execute </p>\n\n<pre><code>bundle exec rails runner script/some-script.rb\n</code></pre>\n\n<p>it works</p>\n\n<p>myUser: I logged with it and is in the sudoers group, so I do this:</p>\n\n<pre><code>sudo su \n\nsu projectUser\n\ncd path/toRuby/OnRailsApp\n\nbundle exec rails runner script/some-script.rb\n</code></pre>\n\n<p>it doesn' work:</p>\n\n<pre><code>Coul not find 'some-gem' in any of the sources\nRun bundle install to install missing gems\n</code></pre>\n\n<p>when I go from root to projectUser with su -</p>\n\n<p>I have another error:</p>\n\n<pre><code>block in &lt;class:Application&gt;': undefined method `each' for nil:NilClass (NoMethodError)\n</code></pre>\n\n<p>so it only works with I make ssh directly with projectUser</p>\n\n<p>I checked the ruby environments and there are different:</p>\n\n<p>su: Uses a different ruby version 2.0.0</p>\n\n<p>projectUser: Uses ruby 2.1.6</p>\n\n<p>su - : Uses ruby 2.1.6, and all looks the same</p>\n\n<p>I do not know how to acces with ssh with myUser, then change to projectUser and make that it works, I not use capistrano but I think that the problem is some thing similar pointed here: <a href=\"http://capistranorb.com/documentation/faq/why-does-something-work-in-my-ssh-session-but-not-in-capistrano/#\" rel=\"nofollow noreferrer\">blob</a> and <a href=\"https://unix.stackexchange.com/questions/26676/how-to-check-if-a-shell-is-login-interactive-batch/26782#26782\">stackoverflow</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "gem"], "comments": [{"owner": {"reputation": 14194, "user_id": 290338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86f90bd8375fa7f611f43ee03cebcd10?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/290338/anatoly"}, "edited": false, "score": 0, "creation_date": 1445503701, "post_id": 33257915, "comment_id": 54354285, "body": "Dave, can you provide more details please? See a comment below..."}], "answers": [{"comments": [{"owner": {"reputation": 646, "user_id": 1089550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ba8115fa6a0197f55f6968f3eb044905?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1089550/dave"}, "edited": false, "score": 0, "creation_date": 1445428264, "post_id": 33258182, "comment_id": 54318199, "body": "Thanks, this doesn&#39;t seem to make a difference, but then I don&#39;t have a problem with the rails app loading the library - it does this successfully.  When I try to load the library from a script that is not part of the rails application, I get the problem"}, {"owner": {"reputation": 14194, "user_id": 290338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86f90bd8375fa7f611f43ee03cebcd10?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/290338/anatoly"}, "reply_to_user": {"reputation": 646, "user_id": 1089550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ba8115fa6a0197f55f6968f3eb044905?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1089550/dave"}, "edited": false, "score": 0, "creation_date": 1445428328, "post_id": 33258182, "comment_id": 54318245, "body": "<i>I try to load the library from a script</i>, can you explain a bit more please?"}], "tags": [], "owner": {"reputation": 14194, "user_id": 290338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86f90bd8375fa7f611f43ee03cebcd10?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/290338/anatoly"}, "is_accepted": false, "score": 1, "last_activity_date": 1445428203, "last_edit_date": 1445428203, "creation_date": 1445427032, "answer_id": 33258182, "question_id": 33257915, "link": "https://stackoverflow.com/questions/33257915/rails-adding-external-libs-to-path/33258182#33258182", "title": "Rails adding external libs to path", "body": "<p>For Rails 3/4 you simply need to update <em>config/application.rb</em></p>\n\n<pre><code>config.autoload_paths &lt;&lt; \"#{config.root}/lib/my_lib\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 2930793, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bTDDD.jpg?s=128&g=1", "display_name": "Sazzad", "link": "https://stackoverflow.com/users/2930793/sazzad"}, "is_accepted": false, "score": 0, "last_activity_date": 1445553572, "last_edit_date": 1445553572, "creation_date": 1445429824, "answer_id": 33259098, "question_id": 33257915, "link": "https://stackoverflow.com/questions/33257915/rails-adding-external-libs-to-path/33259098#33259098", "title": "Rails adding external libs to path", "body": "<p>Try this:</p>\n\n<pre><code>require './lib/my_lib/my_lib.rb'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 3337239, "user_type": "registered", "profile_image": "https://graph.facebook.com/1816610106/picture?type=large", "display_name": "Muhammad Ans", "link": "https://stackoverflow.com/users/3337239/muhammad-ans"}, "is_accepted": false, "score": 0, "last_activity_date": 1445430592, "creation_date": 1445430592, "answer_id": 33259367, "question_id": 33257915, "link": "https://stackoverflow.com/questions/33257915/rails-adding-external-libs-to-path/33259367#33259367", "title": "Rails adding external libs to path", "body": "<p>Dave, its your custom lib i.e </p>\n\n<blockquote>\n  <p>my_lib.rb</p>\n</blockquote>\n\n<p>right? and it's in a folder called <strong>my_lib</strong>. So, the thing is when you tries to require a lib like:</p>\n\n<blockquote>\n  <p>require 'name_of _the_lib.rb'</p>\n</blockquote>\n\n<p>server looks for the file in <strong>lib</strong> folder which is in <strong>APP_ROOT</strong>. So, now you have to mention your <strong>my_lib</strong> folder too like this:</p>\n\n<blockquote>\n  <p>require 'my_lib/my_lib.rb'</p>\n</blockquote>\n\n<p>Hope it will work.\nThanks</p>\n"}], "owner": {"reputation": 646, "user_id": 1089550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ba8115fa6a0197f55f6968f3eb044905?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1089550/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1445553572, "creation_date": 1445426166, "question_id": 33257915, "link": "https://stackoverflow.com/questions/33257915/rails-adding-external-libs-to-path", "title": "Rails adding external libs to path", "body": "<p>I'm working on a rails app.\nI've extracted some common code out into a library under</p>\n\n<p>APP_ROOT/lib/my_lib/my_lib.rb</p>\n\n<p>APP_ROOT/lib/my_lib/version.rb</p>\n\n<p>Currently my controllers can access the lib, but if I write a small standalone script in\nAPP_ROOT/lib/my_lib/test.rb </p>\n\n<p>that looks like this:</p>\n\n<pre><code>  require 'my_lib'\n  libtest = MyLib.new\n</code></pre>\n\n<p>I get a error:</p>\n\n<pre><code>/usr/share/rubygems/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- my_lib (LoadError)\n</code></pre>\n\n<p>I've tried modifying LOAD_PATH, RUBYLIB to include this, but I can't seem to get it to find the library.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "stripe-payments"], "comments": [{"owner": {"reputation": 348, "user_id": 3499792, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7349ff66d4f27d963998658a08d0e2d0?s=128&d=identicon&r=PG", "display_name": "Wargog", "link": "https://stackoverflow.com/users/3499792/wargog"}, "edited": false, "score": 1, "creation_date": 1445425849, "post_id": 33257520, "comment_id": 54316564, "body": "You will need to print the result to the console, try setting your create command to a variable and <code>puts</code> it to the console"}, {"owner": {"reputation": 7844, "user_id": 1520557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9KKRA.png?s=128&g=1", "display_name": "Drenmi", "link": "https://stackoverflow.com/users/1520557/drenmi"}, "edited": false, "score": 0, "creation_date": 1445425849, "post_id": 33257520, "comment_id": 54316565, "body": "Have you tried using <code>puts</code>?"}, {"owner": {"reputation": 5463, "user_id": 4695064, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-KpAhKljoGO4/AAAAAAAAAAI/AAAAAAAAAHU/fb44qBeaDww/photo.jpg?sz=128", "display_name": "raj", "link": "https://stackoverflow.com/users/4695064/raj"}, "edited": false, "score": 1, "creation_date": 1445426190, "post_id": 33257520, "comment_id": 54316797, "body": "Well that was a stupid question. I should have tried <code>puts</code>. It worked."}, {"owner": {"reputation": 14821, "user_id": 5307473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHbg3.jpg?s=128&g=1", "display_name": "Ywain", "link": "https://stackoverflow.com/users/5307473/ywain"}, "edited": false, "score": 0, "creation_date": 1445430423, "post_id": 33257520, "comment_id": 54319618, "body": "Unrelated to your question, but even if it&#39;s only a test key, you should not share secret API keys. I recommend you edit your message to replace your key with e.g. <code>&quot;sk_test_...&quot;</code> and roll out a new API key. (You can do so from your <a href=\"https://dashboard.stripe.com/account/apikeys\" rel=\"nofollow noreferrer\">dashboard</a> by clicking on the recycle icon next to each key)."}], "answers": [{"tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": true, "score": 0, "last_activity_date": 1445426116, "last_edit_date": 1495541273, "creation_date": 1445426116, "answer_id": 33257902, "question_id": 33257520, "link": "https://stackoverflow.com/questions/33257520/response-of-a-web-request-on-terminal-when-ruby-script-is-run/33257902#33257902", "title": "Response of a web request on terminal when ruby script is run", "body": "<p>When you run a command in the ruby console (irb) the console will always repeats back the return value of a command.</p>\n\n<p>Ruby does not do that when you run a file with the ruby command. Instead your need to use <a href=\"https://stackoverflow.com/questions/5018633/what-is-the-difference-between-print-and-puts\">puts or print</a> to write to <a href=\"https://en.wikipedia.org/wiki/Standard_streams#Standard_output_.28stdout.29\" rel=\"nofollow noreferrer\">stdout</a>.</p>\n\n<pre><code>require 'stripe'\n\nStripe.api_key =  'sk_test_viztoDNoflBnvkVwr8QG9SPE'\nresponse = Stripe::Account.create(\n  :country =&gt; \"US\",\n  :managed =&gt; false,\n  :email =&gt; \"ra@stripe.com\"\n)\nputs response\n</code></pre>\n"}], "owner": {"reputation": 5463, "user_id": 4695064, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-KpAhKljoGO4/AAAAAAAAAAI/AAAAAAAAAHU/fb44qBeaDww/photo.jpg?sz=128", "display_name": "raj", "link": "https://stackoverflow.com/users/4695064/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 33257902, "answer_count": 1, "score": -1, "last_activity_date": 1445426116, "creation_date": 1445425041, "last_edit_date": 1445425761, "question_id": 33257520, "link": "https://stackoverflow.com/questions/33257520/response-of-a-web-request-on-terminal-when-ruby-script-is-run", "title": "Response of a web request on terminal when ruby script is run", "body": "<p>I am testing with Stripe for my website.This is the script to create an account. </p>\n\n<pre><code> require 'stripe'\n Stripe.api_key =  'sk_test_viztoDNoflBnvkVwr8QG9SPE'\n Stripe::Account.create(\n  :country =&gt; \"US\",\n  :managed =&gt; false,\n  :email =&gt; \"ra@stripe.com\"\n)\n</code></pre>\n\n<p>The ruby code is  run in the terminal with the command </p>\n\n<pre><code>ruby stripe.rb\n</code></pre>\n\n<p>The command runs successfully . But I am not recieving the json response in the terminal. Can anyone tell me why?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "filter", "activeadmin"], "comments": [{"owner": {"reputation": 1222, "user_id": 2923253, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b165c2d2b048038a90e7215735a71920?s=128&d=identicon&r=PG&f=1", "display_name": "nayiaw", "link": "https://stackoverflow.com/users/2923253/nayiaw"}, "edited": false, "score": 0, "creation_date": 1445590222, "post_id": 33257316, "comment_id": 54395679, "body": "This two resources are on the same page?"}, {"owner": {"reputation": 97, "user_id": 4284006, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5ceae57cee7a48f36222bde0d4989824?s=128&d=identicon&r=PG&f=1", "display_name": "Rails Coder.", "link": "https://stackoverflow.com/users/4284006/rails-coder"}, "reply_to_user": {"reputation": 1222, "user_id": 2923253, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b165c2d2b048038a90e7215735a71920?s=128&d=identicon&r=PG&f=1", "display_name": "nayiaw", "link": "https://stackoverflow.com/users/2923253/nayiaw"}, "edited": false, "score": 0, "creation_date": 1445606970, "post_id": 33257316, "comment_id": 54405834, "body": "Yes. Anyway i fixed the problem. My noob fault it was."}], "owner": {"reputation": 97, "user_id": 4284006, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5ceae57cee7a48f36222bde0d4989824?s=128&d=identicon&r=PG&f=1", "display_name": "Rails Coder.", "link": "https://stackoverflow.com/users/4284006/rails-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1445424473, "creation_date": 1445424473, "question_id": 33257316, "link": "https://stackoverflow.com/questions/33257316/separate-identical-field-names-for-filters-ruby-on-rails", "title": "Separate identical field names for filters - Ruby on Rails", "body": "<p>My active admin project has 2 table fields with identical name(created_at) on 2 separate tables(complaints and sales order) and i must enter 2 filters on a ruby page from the admin folder.\nFor example :</p>\n\n<pre><code>filter :created_at ,label: \"Sales Order Created At:\"\nfilter :created_at ,label: \"Complaint Created At:\"\n</code></pre>\n\n<p>How can i differentiate the two fields?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "hash", "uri", "ruby-2.2"], "answers": [{"comments": [{"owner": {"reputation": 5767, "user_id": 1121852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf29540f928a2c4a38cca7c580920a72?s=128&d=identicon&r=PG", "display_name": "marc_ferna", "link": "https://stackoverflow.com/users/1121852/marc-ferna"}, "edited": false, "score": 13, "creation_date": 1474263546, "post_id": 33257393, "comment_id": 66442454, "body": "<code>to_query</code> is a Rails only method. It does not exist in Ruby."}, {"owner": {"reputation": 5017, "user_id": 2047418, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d49bccfa9d2c633db6f854e67b88362?s=128&d=identicon&r=PG", "display_name": "Filip Bartuzi", "link": "https://stackoverflow.com/users/2047418/filip-bartuzi"}, "reply_to_user": {"reputation": 5767, "user_id": 1121852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf29540f928a2c4a38cca7c580920a72?s=128&d=identicon&r=PG", "display_name": "marc_ferna", "link": "https://stackoverflow.com/users/1121852/marc-ferna"}, "edited": false, "score": 1, "creation_date": 1475221328, "post_id": 33257393, "comment_id": 66866071, "body": "@marc_ferna questions has ruby on rails tag. You can include : ActiveSupport in non-rails projects"}], "tags": [], "owner": {"reputation": 5017, "user_id": 2047418, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d49bccfa9d2c633db6f854e67b88362?s=128&d=identicon&r=PG", "display_name": "Filip Bartuzi", "link": "https://stackoverflow.com/users/2047418/filip-bartuzi"}, "is_accepted": true, "score": 17, "last_activity_date": 1568931841, "last_edit_date": 1568931841, "creation_date": 1445424690, "answer_id": 33257393, "question_id": 33257261, "link": "https://stackoverflow.com/questions/33257261/how-to-construct-uri-with-query-arguments-from-hash-in-ruby/33257393#33257393", "title": "How to construct URI with query arguments from hash in Ruby", "body": "<p>If you have ActiveSupport, just call <a href=\"https://guides.rubyonrails.org/v3.2/active_support_core_extensions.html#to_query\" rel=\"nofollow noreferrer\"><code>'#to_query'</code></a> on hash.</p>\n\n<pre><code>hash = {\n  a: 'argument1',\n  b: 'argument2'\n  #... dozen more arguments\n}\nURI::HTTPS.build(host: 'example.com', query: hash.to_query)\n</code></pre>\n\n<p><code>=&gt; https://example.com?a=argument1&amp;b=argument2</code></p>\n\n<p>If you are not using rails remember to <code>require 'uri'</code></p>\n"}, {"tags": [], "owner": {"reputation": 239, "user_id": 5656753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwcMd.jpg?s=128&g=1", "display_name": "Grizz", "link": "https://stackoverflow.com/users/5656753/grizz"}, "is_accepted": false, "score": 17, "last_activity_date": 1492638390, "creation_date": 1492638390, "answer_id": 43506638, "question_id": 33257261, "link": "https://stackoverflow.com/questions/33257261/how-to-construct-uri-with-query-arguments-from-hash-in-ruby/43506638#43506638", "title": "How to construct URI with query arguments from hash in Ruby", "body": "<p>For those not using Rails or Active Support, the solution using the Ruby standard library is </p>\n\n<pre><code>hash = {\n  a: 'argument1',\n  b: 'argument2'\n}\nURI::HTTPS.build(host: 'example.com', query: URI.encode_www_form(hash))\n=&gt; #&lt;URI::HTTPS https://example.com?a=argument1&amp;b=argument2&gt;\n</code></pre>\n"}], "owner": {"reputation": 5017, "user_id": 2047418, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d49bccfa9d2c633db6f854e67b88362?s=128&d=identicon&r=PG", "display_name": "Filip Bartuzi", "link": "https://stackoverflow.com/users/2047418/filip-bartuzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9971, "favorite_count": 1, "accepted_answer_id": 33257393, "answer_count": 2, "score": 14, "last_activity_date": 1568931841, "creation_date": 1445424347, "question_id": 33257261, "link": "https://stackoverflow.com/questions/33257261/how-to-construct-uri-with-query-arguments-from-hash-in-ruby", "title": "How to construct URI with query arguments from hash in Ruby", "body": "<p>How to construct URI object with query arguments by passing hash?</p>\n\n<p>I can generate query with: </p>\n\n<p><code>URI::HTTPS.build(host: 'example.com', query: \"a=#{hash[:a]}, b=#{[hash:b]}\")</code></p>\n\n<p>which generates</p>\n\n<p><code>https://example.com?a=argument1&amp;b=argument2</code></p>\n\n<p>however I think constructing query string for many arguments would be unreadable and hard to maintain. I would like to construct query string by passing hash. Like in example below:</p>\n\n<pre><code>hash = {\n  a: 'argument1',\n  b: 'argument2'\n  #... dozen more arguments\n}\nURI::HTTPS.build(host: 'example.com', query: hash)\n</code></pre>\n\n<p>which raises </p>\n\n<pre><code>NoMethodError: undefined method `to_str' for {:a=&gt;\"argument1\", :b=&gt;\"argument2\"}:Hash\n</code></pre>\n\n<p>Is it possible to construct query string based on hash using URI api? I don't want to monkey patch hash object...</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rake"], "comments": [{"owner": {"reputation": 2210, "user_id": 1036696, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/wW4n9.png?s=128&g=1", "display_name": "Tim Kretschmer", "link": "https://stackoverflow.com/users/1036696/tim-kretschmer"}, "edited": false, "score": 0, "creation_date": 1445423348, "post_id": 33256665, "comment_id": 54314947, "body": "this ain&#39;t valid yaml. yaml needs to be indented by 2 whitespaces."}], "answers": [{"comments": [{"owner": {"reputation": 2073, "user_id": 2615428, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/50118dc915d8e41676b9a773217f6cab?s=128&d=identicon&r=PG", "display_name": "Suraj", "link": "https://stackoverflow.com/users/2615428/suraj"}, "edited": false, "score": 0, "creation_date": 1445423352, "post_id": 33256793, "comment_id": 54314948, "body": "rake aborted! PG::ConnectionBad: could not connect to server: No such file or directory   This is what I am getting."}, {"owner": {"reputation": 2073, "user_id": 2615428, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/50118dc915d8e41676b9a773217f6cab?s=128&d=identicon&r=PG", "display_name": "Suraj", "link": "https://stackoverflow.com/users/2615428/suraj"}, "edited": false, "score": 0, "creation_date": 1445423692, "post_id": 33256793, "comment_id": 54315151, "body": "already tried adding localhost. <code>rake aborted! PG::ConnectionBad: could not connect to server: Connection refused         Is the server running on host &quot;localhost&quot; (::1) and accepting         TCP&#47;IP connections on port 5433? could not connect to server: Connection refused         Is the server running on host &quot;localhost&quot; (127.0.0.1) and accepting         TCP&#47;IP connections on port 5433?</code>   the error."}], "tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": false, "score": 0, "last_activity_date": 1445423578, "last_edit_date": 1445423578, "creation_date": 1445422925, "answer_id": 33256793, "question_id": 33256665, "link": "https://stackoverflow.com/questions/33256665/development-database-is-not-configured/33256793#33256793", "title": "&#39;development&#39; database is not configured", "body": "<p>Add</p>\n\n<pre><code>development:\n  adapter: postgresql\n  encoding: unicode\n  database: test\n  pool: 5\n  username: admin\n  password: admin\n  port: 5433\n  host: localhost\n</code></pre>\n\n<p>to <code>database.yml</code> file.</p>\n\n<p>Also, if you test your application, you'll need <code>test</code> environment as well.</p>\n"}, {"tags": [], "owner": {"reputation": 249, "user_id": 5081232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_2hePpo460M/AAAAAAAAAAI/AAAAAAAAABc/qsKdgP44Ees/photo.jpg?sz=128", "display_name": "Daniel Okwufulueze", "link": "https://stackoverflow.com/users/5081232/daniel-okwufulueze"}, "is_accepted": false, "score": 0, "last_activity_date": 1464020334, "last_edit_date": 1464020334, "creation_date": 1464016304, "answer_id": 37394593, "question_id": 33256665, "link": "https://stackoverflow.com/questions/33256665/development-database-is-not-configured/37394593#37394593", "title": "&#39;development&#39; database is not configured", "body": "<p>Your <code>database.yml</code> file shows you have only production environment configured for DB operations. You need to add configuration for development environment as well.</p>\n\n<p>Open your <code>database.yml</code> file and add a configuration for development environment. \nSomething like the following should suffice (contents in square brackets are to be replaced with your actual values):</p>\n\n<pre><code>development:\n    adapter:[your adapter]\n    encoding: [your encoding]\n    database: [your database for development]\n    pool: [your pool]\n    username: [your database server username]\n    password: [your database server password]\n    port: [the port you're connecting on]\n</code></pre>\n\n<p>Remember to indent your <strong>yaml</strong> code appropriately.</p>\n"}], "owner": {"reputation": 2073, "user_id": 2615428, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/50118dc915d8e41676b9a773217f6cab?s=128&d=identicon&r=PG", "display_name": "Suraj", "link": "https://stackoverflow.com/users/2615428/suraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 7509, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1609394585, "creation_date": 1445422565, "last_edit_date": 1445422998, "question_id": 33256665, "link": "https://stackoverflow.com/questions/33256665/development-database-is-not-configured", "title": "&#39;development&#39; database is not configured", "body": "<p>I am getting this error while doing <code>rake db:migrate</code> of newly cloned app.</p>\n\n<p>'development' database is not configured. Available: [\"production\"]</p>\n\n<p>So after reading the error, I am doing <code>RAILS_ENV=production rake db:migrate</code></p>\n\n<p>But this isn't working either. </p>\n\n<p>My <code>database.yml</code> has </p>\n\n<pre><code>production:\nadapter: postgresql\nencoding: unicode\ndatabase: test\npool: 5\nusername: admin\npassword: admin\nport: 5433\n</code></pre>\n\n<p>Please suggest.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5466411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6b688bc62abfcd98d476b48f70a912b?s=128&d=identicon&r=PG", "display_name": "Hiltsje", "link": "https://stackoverflow.com/users/5466411/hiltsje"}, "edited": false, "score": 0, "creation_date": 1445427506, "post_id": 33256715, "comment_id": 54317720, "body": "Thx Pardeep! Your solution made it work and made me -&gt; :-D! i added  <code>&lt;% else %&gt;  &lt;%= render &quot;outcomes&#47;outcome&quot; %&gt;</code>  to make sure only one of the two is showing."}], "tags": [], "owner": {"reputation": 1814, "user_id": 2119317, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65e386ab94962682b0abd72463670e23?s=128&d=identicon&r=PG", "display_name": "Pardeep Saini", "link": "https://stackoverflow.com/users/2119317/pardeep-saini"}, "is_accepted": true, "score": 1, "last_activity_date": 1445423002, "last_edit_date": 1445423002, "creation_date": 1445422698, "answer_id": 33256715, "question_id": 33256455, "link": "https://stackoverflow.com/questions/33256455/how-to-hide-form-when-there-is-one-instance-of-the-associated-model-rails-begi/33256715#33256715", "title": "How to hide form when there is one instance of the associated model #rails #beginner", "body": "<pre><code>&lt;h1&gt;Decision showpage&lt;/h1&gt;\n&lt;h2&gt;&lt;%= @decision.title %&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;%= @decision.created_at %&gt;&lt;/p&gt;\n&lt;p&gt;&lt;%= @decision.forecast %&gt;&lt;/p&gt;\n&lt;p&gt;&lt;%= @decision.review_date %&gt;&lt;/p&gt;\n\n&lt;%= render @decision.outcomes %&gt;\n\n\n&lt;%= link_to \"Delete Decision\", decision_path(@decision), method: :delete, data: { confirm: \"Are you sure?\" } %&gt;\n&lt;%if @decision.outcomes.length &lt; 1 %&gt;\n    &lt;%= render \"outcomes/form\" %&gt;\n&lt;%end%&gt;\n&lt;%= render \"outcomes/outcome\" %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 5466411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6b688bc62abfcd98d476b48f70a912b?s=128&d=identicon&r=PG", "display_name": "Hiltsje", "link": "https://stackoverflow.com/users/5466411/hiltsje"}, "edited": false, "score": 1, "creation_date": 1445427384, "post_id": 33257278, "comment_id": 54317628, "body": "Thx @RickPeck, your explanation is very helpful and useful."}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 0, "last_activity_date": 1445424383, "last_edit_date": 1495540327, "creation_date": 1445424383, "answer_id": 33257278, "question_id": 33256455, "link": "https://stackoverflow.com/questions/33256455/how-to-hide-form-when-there-is-one-instance-of-the-associated-model-rails-begi/33257278#33257278", "title": "How to hide form when there is one instance of the associated model #rails #beginner", "body": "<p>Sounds like standard conditional logic:</p>\n\n<pre><code>#app/views/decisions/show.html.erb\n&lt;h1&gt;Decision&lt;/h1&gt;\n\n&lt;h2&gt;&lt;%= @decision.title %&gt;&lt;/h2&gt;\n&lt;% %w(created_at forecast review_date).each do |option| %&gt;\n    &lt;%= content_tag :p, @decision.send(option) %&gt;\n&lt;% end %&gt;\n\n&lt;% if @decision.outcomes.any? %&gt;\n   &lt;%= render @decision.outcomes %&gt;\n   &lt;%= render \"outcomes/form\" %&gt;\n&lt;% end %&gt;\n\n&lt;%= link_to \"Delete Decision\", decision_path(@decision), method: :delete, data: { confirm: \"Are you sure?\" } %&gt;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>My best guess to accomplish this, is to count the number of associates instances of outcomes to decisions and <strong>create an if statement</strong> for hiding the form when there is more than 0 instances of outcome.</p>\n</blockquote>\n\n<p>Sure - it's called <a href=\"https://en.wikipedia.org/wiki/Conditional_(computer_programming)\" rel=\"nofollow noreferrer\">conditional logic</a></p>\n\n<p>In your case, you're looking for several potential methods (to determine the size of the associated data):</p>\n\n<ul>\n<li><a href=\"http://apidock.com/rails/v3.0.9/ActiveRecord/Associations/AssociationCollection/length\" rel=\"nofollow noreferrer\"><strong>length</strong></a> (<code>Pardeep</code>'s answer) -- queries the array's length</li>\n<li><a href=\"http://apidock.com/rails/ActiveRecord/Associations/AssociationCollection/size\" rel=\"nofollow noreferrer\"><strong>size</strong></a> -- either invokes <code>count</code> (SQL query) or <code>length</code></li>\n<li><a href=\"http://apidock.com/rails/v3.0.9/ActiveRecord/Associations/AssociationCollection/count\" rel=\"nofollow noreferrer\"><strong>count</strong></a> -- performs db query (should only be used if no data loaded)</li>\n<li><a href=\"http://apidock.com/rails/v3.0.9/ActiveRecord/Associations/AssociationCollection/any%3F\" rel=\"nofollow noreferrer\"><strong>any?</strong></a> -- very similar to length except returns true/false depending on whether any items exist</li>\n</ul>\n\n<p>Good ref here: <a href=\"https://stackoverflow.com/questions/6083219/activerecord-size-vs-count\">ActiveRecord: size vs count</a></p>\n\n<blockquote>\n  <ul>\n  <li><p>if you already load all entries, say <code>User.all</code>, then you should use\n  <code>length</code> to avoid another db query</p></li>\n  <li><p>if you haven't anything loaded, use count to make a <code>count</code> query on\n  your db</p></li>\n  <li><p>if you don't want to bother with these considerations, use <code>size</code> which\n  will adapt</p></li>\n  </ul>\n</blockquote>\n\n<p>I used <code>.any?</code> because it's the most succinct in this instance.</p>\n"}], "owner": {"reputation": 79, "user_id": 5466411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6b688bc62abfcd98d476b48f70a912b?s=128&d=identicon&r=PG", "display_name": "Hiltsje", "link": "https://stackoverflow.com/users/5466411/hiltsje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 33256715, "answer_count": 2, "score": 2, "last_activity_date": 1445424383, "creation_date": 1445422040, "question_id": 33256455, "link": "https://stackoverflow.com/questions/33256455/how-to-hide-form-when-there-is-one-instance-of-the-associated-model-rails-begi", "title": "How to hide form when there is one instance of the associated model #rails #beginner", "body": "<p>I'm trying to create a comment like system where the user can add a 'outcome' to a 'decision'. I like to hide the outcome create form to 'hide' when there is 1 added to the decision.</p>\n\n<p>My best guess to accomplish this, is to count the number of associates instances of outcomes to decisions and create a if statement for hiding the form when there is more than 0 instances of outcome.</p>\n\n<p>I tried different ways of accomplishing this but i can't seem to make the counting or if statement to work. I am new to coding for your reference :-).</p>\n\n<p>Can anyone give me a suggestion on how to tackle this?</p>\n\n<p>My code:\ncontrollers/decisions_controller.rb</p>\n\n<pre><code>class DecisionsController &lt; ApplicationController\nbefore_action :find_decision, only: [:show, :edit, :update, :destroy]\n\n  def index\n# gets all rows from decision table and puts it in @decision variable\n    @decisions = Decision.all\n  end\n\n  def show\n# find only the decision entry that has the id defined in params[:id]\n  end\n# shows the form for creating a entry\n  def new\n    @decision = Decision.new\n  end\n# creates the entry\n  def create\n    @decision = Decision.new(decision_params)\n      if @decision.save\n        redirect_to @decision\n      else\n        render 'new'\n      end\n  end\n# shows the form for editing a entry\n  def edit\n  end\n# updates the entry\n  def update\n    if @decision.update(decision_params)\n      redirect_to @decision\n    else\n      render 'edit'\n    end\n  end\n\n  def destroy\n    @decision.destroy\n    redirect_to root_path\n  end\n\n  private\n  def find_decision\n# Loads the right entry.\n      @decision = Decision.find(params[\"id\"])\n  end\n\n  def decision_params\n    params.require(:decision).permit(:title, :forecast, :review_date)\n  end\n\nend\n</code></pre>\n\n<p>controllers/outcomes_controller.rb</p>\n\n<pre><code>class OutcomesController &lt; ApplicationController\n    def create\n        @decision = Decision.find(params[:decision_id])\n        @outcome = @decision.outcomes.create(params[:outcome].permit(:actual, :strength, :weakness))\n          redirect_to decision_path(@decision)\n    end\nend\n</code></pre>\n\n<p>models/outcome.rb</p>\n\n<pre><code>class Outcome &lt; ActiveRecord::Base\n  belongs_to :decision\nend\n</code></pre>\n\n<p>models/decision.rb</p>\n\n<pre><code>class Decision &lt; ActiveRecord::Base\n  has_many :outcomes\nend\n</code></pre>\n\n<p>decisions/show.html.erb</p>\n\n<pre><code>    &lt;h1&gt;Decision showpage&lt;/h1&gt;\n\n&lt;h2&gt;&lt;%= @decision.title %&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;%= @decision.created_at %&gt;&lt;/p&gt;\n&lt;p&gt;&lt;%= @decision.forecast %&gt;&lt;/p&gt;\n&lt;p&gt;&lt;%= @decision.review_date %&gt;&lt;/p&gt;\n\n&lt;%= render @decision.outcomes %&gt;\n\n\n&lt;%= link_to \"Delete Decision\", decision_path(@decision), method: :delete, data: { confirm: \"Are you sure?\" } %&gt;\n\n&lt;%= render \"outcomes/form\" %&gt;\n&lt;%= render \"outcomes/outcome\" %&gt;\n</code></pre>\n\n<p>outcomes/_form.html.erb</p>\n\n<pre><code>&lt;%= form_for([@decision, @decision.outcomes.build]) do |f| %&gt;\n  &lt;%= f.label :actual %&gt;:\n  &lt;%= f.text_field :actual %&gt; &lt;br/&gt;\n\n  &lt;%= f.label :strength %&gt;:\n  &lt;%= f.text_area :strength %&gt; &lt;br/&gt;\n\n  &lt;%= f.label :weakness %&gt;:\n  &lt;%= f.text_area :weakness %&gt; &lt;br/&gt;\n  &lt;%= f.submit %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>outcomes/_outcome.html.erb</p>\n\n<pre><code>&lt;h2&gt;outcome&lt;/h2&gt;\n&lt;%= @decision.outcomes.first.actual %&gt; &lt;/br&gt;\n&lt;h3&gt;What i found i'm good at&lt;/h3&gt;\n&lt;%= @decision.outcomes.first.strength %&gt; &lt;/br&gt;\n&lt;h3&gt;What i found i'm weak at&lt;/h3&gt;\n&lt;%= @decision.outcomes.first.weakness %&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 978, "user_id": 3797480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuuZI.jpg?s=128&g=1", "display_name": "nsave", "link": "https://stackoverflow.com/users/3797480/nsave"}, "edited": false, "score": 0, "creation_date": 1445422407, "post_id": 33256048, "comment_id": 54314372, "body": "Could you add more information about the data you are going to pass? (size, form, etc)"}, {"owner": {"reputation": 1506, "user_id": 3414150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tASIO.jpg?s=128&g=1", "display_name": "lx00st", "link": "https://stackoverflow.com/users/3414150/lx00st"}, "edited": false, "score": 0, "creation_date": 1445422862, "post_id": 33256048, "comment_id": 54314664, "body": "you can save it to DB"}, {"owner": {"reputation": 482, "user_id": 3609100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6fte8.png?s=128&g=1", "display_name": "Krzysztof Witczak", "link": "https://stackoverflow.com/users/3609100/krzysztof-witczak"}, "edited": false, "score": 0, "creation_date": 1445423806, "post_id": 33256048, "comment_id": 54315226, "body": "Data from do_something is containing collection of big ruby objects."}], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 3609100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6fte8.png?s=128&g=1", "display_name": "Krzysztof Witczak", "link": "https://stackoverflow.com/users/3609100/krzysztof-witczak"}, "edited": false, "score": 0, "creation_date": 1445424173, "post_id": 33256910, "comment_id": 54315464, "body": "It&#39;s promising answer. I need to check it out."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 482, "user_id": 3609100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6fte8.png?s=128&g=1", "display_name": "Krzysztof Witczak", "link": "https://stackoverflow.com/users/3609100/krzysztof-witczak"}, "edited": false, "score": 0, "creation_date": 1445424396, "post_id": 33256910, "comment_id": 54315595, "body": "Of course it depends on how slow <code>do_something</code> really is. If you can live with tying up your dyno for 15ms and having a slightly slow response than it might not be worth the fuss. But if it is significant you will want to look into doing it in the background instead."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 482, "user_id": 3609100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6fte8.png?s=128&g=1", "display_name": "Krzysztof Witczak", "link": "https://stackoverflow.com/users/3609100/krzysztof-witczak"}, "edited": false, "score": 0, "creation_date": 1445424717, "post_id": 33256910, "comment_id": 54315784, "body": "edited, I used <code>state</code> in the model and <code>status</code> in the controller."}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 3, "last_activity_date": 1445424615, "last_edit_date": 1445424615, "creation_date": 1445423241, "answer_id": 33256910, "question_id": 33256048, "link": "https://stackoverflow.com/questions/33256048/rails-before-action-that-takes-long-time/33256910#33256910", "title": "Rails before_action that takes long time", "body": "<p>I would consider using an optimistic saving approach instead. Much like how unconfirmed users are usually treated.</p>\n\n<p>You insert the record in the database but set a state which denotes that it's not a full fledged record. You then update the record when it is confirmed.</p>\n\n<p>It gives the user quick feedback and you can free your web process from waiting for <code>do_something</code>.</p>\n\n<pre><code>class MyModel &lt; ActiveRecord::Base\n  # create an Int column named status\n  # make sure it has an index and defaults to 0.\n  enum status: [:unverified, :verified]\nend\n</code></pre>\n\n<p>So, you would do something like this in your controller:</p>\n\n<pre><code>def create\n  # Don't do params assignment / whitelisting in your models.\n  # models should not be aware of parameters.\n  @my_model = MyModel.new(my_model_params) do |m|\n    # This should be handled by the DB default but \n    # this is a belt and suspenders approach to be 200% sure\n    # that a record does not slip through.\n    m.unverified!\n  end\n\n  if @my_model.save\n    MyModelVerificationJob.perform_later(@my_model)\n    respond_to do |format|\n      format.html do\n        flash[:notice] = \"We are currently verifying...\"\n        redirect_to :edit, @my_model\n      end\n      # ...\n    end\n  else\n    # we already know something is fishy so just render the \n    # form again.\n    respond_to do |format|\n      # ...\n    end\n  end\nend \n\nprivate\n  def my_model_params\n    params.require(:my_model).permit(...)\n  end\n</code></pre>\n\n<p>This example is with Rails 5 <a href=\"http://edgeguides.rubyonrails.org/active_job_basics.html\" rel=\"nofollow\">Active Jobs</a> but you can look into Resque or Sidekiq as well.</p>\n\n<p>How exactly to handle the callback from your <code>do_something</code> method depends on what kind of user interaction is required. If the user needs to correct a form for example you would cache the results from the background job and prompt the user to visit a page where they correct the form.</p>\n"}], "owner": {"reputation": 482, "user_id": 3609100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6fte8.png?s=128&g=1", "display_name": "Krzysztof Witczak", "link": "https://stackoverflow.com/users/3609100/krzysztof-witczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445424615, "creation_date": 1445420982, "question_id": 33256048, "link": "https://stackoverflow.com/questions/33256048/rails-before-action-that-takes-long-time", "title": "Rails before_action that takes long time", "body": "<p>I'm using something like this in my <code>Controller</code> class:</p>\n\n\n\n<pre class=\"lang-ruby prettyprint-override\"><code>before_action :do_something, only: [:new, :create]\n\ndef new\n   @myModel = MyModel.new\nend\n\ndef create\n   @myModel = MyModel.create_with_data(params)\n\n   respond_to do |format|\n     if @myModel.errors.empty?\n        format.html { redirect_to @myModel, notice: 'MyModel was successfully created.' }\n        format.json { render :show, status: :created, location: @myModel }\n     else\n        logger.error 'MyModelController: Creating mymodel failed!'\n        format.html { render :new }\n        format.json { render json: @myModel.errors, status: :unprocessable_entity }\n     end\nend\n\ndef do_something\n   # Very long method\nend\n</code></pre>\n\n<p>Now, the problem is, that my <code>do_something</code> method takes very long to execute. If user will make mistake while creating new <code>myModel</code> field, he will need to wait for this method to execute, just to display him some error.</p>\n\n<p>Let's say, that I don't want front-end validation and I can't reduce the time of <code>do_something</code> method. How can I pass somehow data from <code>do_something</code> that executed before <code>new</code> method is called, so it won't be needed to execute again before <code>create</code> method?</p>\n"}, {"tags": ["c#", "ruby-on-rails", "ruby", "rest", "redmine"], "comments": [{"owner": {"reputation": 1847, "user_id": 1559697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d86210d11e5c5b3b1cba1573a25f2a02?s=128&d=identicon&r=PG", "display_name": "Nanego", "link": "https://stackoverflow.com/users/1559697/nanego"}, "edited": false, "score": 0, "creation_date": 1445494592, "post_id": 33255872, "comment_id": 54349571, "body": "Are you using any plugin?"}, {"owner": {"reputation": 41, "user_id": 5026980, "user_type": "registered", "profile_image": "https://graph.facebook.com/652878538146774/picture?type=large", "display_name": "Th\u1ecbnh Nguy\u1ec5n", "link": "https://stackoverflow.com/users/5026980/th%e1%bb%8bnh-nguy%e1%bb%85n"}, "reply_to_user": {"reputation": 1847, "user_id": 1559697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d86210d11e5c5b3b1cba1573a25f2a02?s=128&d=identicon&r=PG", "display_name": "Nanego", "link": "https://stackoverflow.com/users/1559697/nanego"}, "edited": false, "score": 0, "creation_date": 1445840833, "post_id": 33255872, "comment_id": 54475299, "body": "No, I&#39;m not. I think some field has null value so it make this happened."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5026980, "user_type": "registered", "profile_image": "https://graph.facebook.com/652878538146774/picture?type=large", "display_name": "Th\u1ecbnh Nguy\u1ec5n", "link": "https://stackoverflow.com/users/5026980/th%e1%bb%8bnh-nguy%e1%bb%85n"}, "is_accepted": true, "score": 1, "last_activity_date": 1445841171, "creation_date": 1445841171, "answer_id": 33339737, "question_id": 33255872, "link": "https://stackoverflow.com/questions/33255872/update-an-issue-to-redmine-server-using-rest-api-c-and-getting-500-internal-ser/33339737#33339737", "title": "Update an issue to redmine server using Rest API C# and getting 500 Internal Server Error", "body": "<p>I fixed the bug. In this case, the server raise error some thing null and it can't updates to database. The server didn't tell what error on that then I check the production.log. I found the solution that \"'uploads'=>nil, 'custom_fields'=>nil\" was null then we should remove or make it not null. So the problem was fixed. Thank for your attend!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5976006, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YPzJGvVea8g/AAAAAAAAAAI/AAAAAAAAEm0/iV-6osVow8w/photo.jpg?sz=128", "display_name": "lau", "link": "https://stackoverflow.com/users/5976006/lau"}, "is_accepted": false, "score": -1, "last_activity_date": 1456335314, "creation_date": 1456335314, "answer_id": 35609135, "question_id": 33255872, "link": "https://stackoverflow.com/questions/33255872/update-an-issue-to-redmine-server-using-rest-api-c-and-getting-500-internal-ser/35609135#35609135", "title": "Update an issue to redmine server using Rest API C# and getting 500 Internal Server Error", "body": "<p>If you update via email with attachments, just modify 'attachments' table with default description row set to '' not null ;)</p>\n"}], "owner": {"reputation": 41, "user_id": 5026980, "user_type": "registered", "profile_image": "https://graph.facebook.com/652878538146774/picture?type=large", "display_name": "Th\u1ecbnh Nguy\u1ec5n", "link": "https://stackoverflow.com/users/5026980/th%e1%bb%8bnh-nguy%e1%bb%85n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 33339737, "answer_count": 2, "score": 0, "last_activity_date": 1456335314, "creation_date": 1445420534, "last_edit_date": 1445421364, "question_id": 33255872, "link": "https://stackoverflow.com/questions/33255872/update-an-issue-to-redmine-server-using-rest-api-c-and-getting-500-internal-ser", "title": "Update an issue to redmine server using Rest API C# and getting 500 Internal Server Error", "body": "<p>I'm newbie in building redmine client by Rest API. I'm trying to update an issue to redmine server and server response 500 Internal Server Error.\nHere is my production log.</p>\n\n<pre><code> Started PUT \"/redmine/issues/7.xml\" for 127.0.0.1 at 2015-10-21 16:13:38 +0700\nProcessing by IssuesController#update as XML\n  Parameters: {\"issue\"=&gt;{\"subject\"=&gt;\"Stop test close\", \"notes\"=&gt;\"My note\", \"private_notes\"=&gt;\"false\", \"description\"=&gt;\"Updated description\", \"is_private\"=&gt;\"false\", \"project_id\"=&gt;\"1\", \"priority_id\"=&gt;\"4\", \"status_id\"=&gt;\"2\", \"tracker_id\"=&gt;\"2\", \"assigned_to_id\"=&gt;\"1\", \"estimated_hours\"=&gt;\"30\", \"done_ratio\"=&gt;\"10\", \"start_date\"=&gt;\"2015-10-12\", \"due_date\"=&gt;\"2015-10-12\", \"updated_on\"=&gt;\"2015-10-19\", \"uploads\"=&gt;nil, \"custom_fields\"=&gt;nil}, \"id\"=&gt;\"7\"}\n  Current user: user (id=1)\nCompleted 500 Internal Server Error in 32ms (ActiveRecord: 8.0ms)\n\nNoMethodError (undefined method `inject' for nil:NilClass):\n  lib/plugins/acts_as_customizable/lib/acts_as_customizable.rb:54:in `custom_fields='\n  app/models/issue.rb:372:in `assign_attributes_with_project_and_tracker_first'\n  app/models/issue.rb:495:in `safe_attributes='\n  app/controllers/issues_controller.rb:397:in `update_issue_from_params'\n  app/controllers/issues_controller.rb:176:in `update'\n  lib/redmine/sudo_mode.rb:63:in `sudo_mode'\n</code></pre>\n\n<p>Please help me.\nThanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "xpath", "nokogiri"], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 3862092, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0c229e7c3c6209799fc0dc0688d1e9d0?s=128&d=identicon&r=PG", "display_name": "Bart C", "link": "https://stackoverflow.com/users/3862092/bart-c"}, "edited": false, "score": 0, "creation_date": 1445436859, "post_id": 33261409, "comment_id": 54324419, "body": "Thanks matt. I thought maybe without // would work, like in search, but it didn&#39;t. I guess this is the only way to start at the current node in xpath."}], "tags": [], "owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "is_accepted": true, "score": 3, "last_activity_date": 1445436049, "creation_date": 1445436049, "answer_id": 33261409, "question_id": 33255703, "link": "https://stackoverflow.com/questions/33255703/limit-search-scope-of-xpath-in-nokogiri/33261409#33261409", "title": "Limit search scope of XPath in Nokogiri", "body": "<p>Your second XPath expression, <code>//td[@class=\"left\"]</code>, starts with <code>//</code>. This means to start at the root of the entire document when matching nodes. What you want is to start from the current node. To do that start your expression with a dot <code>.//</code>:</p>\n\n<pre><code>d.xpath('.//td[@class=\"left\"]')\n</code></pre>\n"}], "owner": {"reputation": 1159, "user_id": 3862092, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0c229e7c3c6209799fc0dc0688d1e9d0?s=128&d=identicon&r=PG", "display_name": "Bart C", "link": "https://stackoverflow.com/users/3862092/bart-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 33261409, "answer_count": 1, "score": 1, "last_activity_date": 1446250225, "creation_date": 1445420059, "last_edit_date": 1446250225, "question_id": 33255703, "link": "https://stackoverflow.com/questions/33255703/limit-search-scope-of-xpath-in-nokogiri", "title": "Limit search scope of XPath in Nokogiri", "body": "<p>I would like to find specific tags within a Node which is in a NodeSet but when I used XPath it returns results from the whole NodeSet.</p>\n\n<p>I'm trying to get something like:</p>\n\n<pre><code>{ \"head1\" =&gt; \"Volume 1\", \"head2\" =&gt; \"Volume 2\" }\n</code></pre>\n\n<p>from this HTML:</p>\n\n<pre><code>&lt;h2 class=\"header\"&gt;\n  &lt;a class=\"header\" &gt;head1&lt;/a&gt;\n&lt;/h2&gt;\n&lt;table class=\"volume_description_header\" cellspacing=\"0\"&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td class=\"left\"&gt;Volume 1&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;h2 class=\"header\"&gt;\n  &lt;a class=\"header\" &gt;head2&lt;/a&gt;\n&lt;/h2&gt;\n&lt;table class=\"volume_description_header\" cellspacing=\"0\"&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td class=\"left\"&gt;Volume 2&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>So far I've tried:</p>\n\n<pre><code>require 'nokogiri'\na = File.open(\"code-above.html\") { |f| Nokogiri::HTML(f) }\nh = a.xpath('//h2[@class=\"header\"]')\nputs h.map { |e| e.next.next }[0].xpath('//td[@class=\"left\"]')\n</code></pre>\n\n<p>But with this I get:</p>\n\n<pre><code>&lt;td class=\"left \"&gt;Volume 1&lt;/td&gt;\n&lt;td class=\"left \"&gt;Volume 2&lt;/td&gt;\n</code></pre>\n\n<p>I'm expecting only the first one.</p>\n\n<p>I've tried doing the XPath inside the block but this gives me the the same result twice.</p>\n\n<p>I checked and </p>\n\n<pre><code>puts h.map { |e| e.next.next }[0]\n</code></pre>\n\n<p>evaluates to the first Node so I don't understand why XPath looks in the whole NodeSet or even the whole Nokogiri::Document, as I think that's what it actually does.</p>\n\n<p>Can somebody please explain me the principles of searching and navigating within a selected Node/NodeSet, not the whole Document? Maybe navigating down a known path would be better in this case but I don't know how to do that either. </p>\n"}, {"tags": ["ruby", "google-ads-api"], "comments": [{"owner": {"reputation": 595, "user_id": 1763732, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/yuel0.jpg?s=128&g=1", "display_name": "fabrigm", "link": "https://stackoverflow.com/users/1763732/fabrigm"}, "edited": false, "score": 0, "creation_date": 1445425040, "post_id": 33254041, "comment_id": 54315994, "body": "Why don&#39;t you use the KEYWORD PERFORMANCE REPORT?"}], "answers": [{"tags": [], "owner": {"reputation": 685, "user_id": 2868284, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76f42be013abf833273224eb4eaef29c?s=128&d=identicon&r=PG", "display_name": "cenouro", "link": "https://stackoverflow.com/users/2868284/cenouro"}, "is_accepted": false, "score": 0, "last_activity_date": 1445440461, "creation_date": 1445440461, "answer_id": 33263036, "question_id": 33254041, "link": "https://stackoverflow.com/questions/33254041/google-adword-api-ruby-how-to-get-all-keywords-of-campaign/33263036#33263036", "title": "Google adword api ruby - How to get all keywords of campaign?", "body": "<p>It takes long because you are making a request for each <code>ad_group_id</code>. What you should do is make an array with all <code>ad_group_ids</code> and then make a request with an where clause \"keyword in ad_group_id\".</p>\n"}], "owner": {"reputation": 298, "user_id": 1445102, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a173713d4978881dbc8665dd94c94e69?s=128&d=identicon&r=PG", "display_name": "1Rhino", "link": "https://stackoverflow.com/users/1445102/1rhino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1445440461, "creation_date": 1445414863, "question_id": 33254041, "link": "https://stackoverflow.com/questions/33254041/google-adword-api-ruby-how-to-get-all-keywords-of-campaign", "title": "Google adword api ruby - How to get all keywords of campaign?", "body": "<p>I used <code>google adword api</code> with <code>ruby client</code> to create and update keywords. I need to create and update quite much <code>ad groups</code> (5.000 ad groups) and have no problem with create new ad groups and keywords. </p>\n\n<p>But I have problem when I want to get all keywords. I have to loop all of ad_group_id to get all keyword like <a href=\"https://github.com/googleads/google-api-ads-ruby/blob/master/adwords_api/examples/v201502/basic_operations/get_keywords.rb\" rel=\"nofollow\">example of ruby client</a></p>\n\n<pre><code>def current_ga_data\n  ga_data = {}\n  ad_group_ids =  get_all_ad_group_ids\n  return {} if ad_group_ids.blank?\n  ad_group_ids.each do |ad_group_id|\n    ga_data[ad_group_id] = get_keywords(ad_group_id)\n  end\nend\n</code></pre>\n\n<p>There are many queries and take a long time to get all keywords.</p>\n\n<p>So please point me how to get all keywords of one campaign (don't need to loop ad_group_id) or another way to get all keywords with much of ad groups?</p>\n\n<p><a href=\"https://github.com/googleads/google-api-ads-ruby\" rel=\"nofollow\">Google adword api ruby client</a></p>\n"}, {"tags": ["ruby", "swift", "openssl", "hmac"], "answers": [{"tags": [], "owner": {"reputation": 7352, "user_id": 658469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b6a2b6133da626e83d24f7890ff2faea?s=128&d=identicon&r=PG", "display_name": "p.matsinopoulos", "link": "https://stackoverflow.com/users/658469/p-matsinopoulos"}, "is_accepted": true, "score": 1, "last_activity_date": 1445591124, "creation_date": 1445591124, "answer_id": 33298591, "question_id": 33263246, "link": "https://stackoverflow.com/questions/33263246/using-swift-how-can-i-create-an-openssl-hmac-digest-using-sha1-and-then-encode/33298591#33298591", "title": "Using Swift, how can I create an OpenSSL HMAC digest using SHA1 and then encode with strict encode64", "body": "<p>I created a bridging header to import <code>CommonCrypto.h</code>.</p>\n\n<p>And then I extended String with the following function:</p>\n\n<pre><code>enum HMACAlgorithm {\n  case MD5, SHA1, SHA224, SHA256, SHA384, SHA512\n\n  func toCCHmacAlgorithm() -&gt; CCHmacAlgorithm {\n    var result: Int = 0\n    switch self {\n    case .MD5:\n        result = kCCHmacAlgMD5\n    case .SHA1:\n        result = kCCHmacAlgSHA1\n    case .SHA224:\n        result = kCCHmacAlgSHA224\n    case .SHA256:\n        result = kCCHmacAlgSHA256\n    case .SHA384:\n        result = kCCHmacAlgSHA384\n    case .SHA512:\n        result = kCCHmacAlgSHA512\n    }\n    return CCHmacAlgorithm(result)\n  }\n\n  func digestLength() -&gt; Int {\n    var result: CInt = 0\n    switch self {\n    case .MD5:\n        result = CC_MD5_DIGEST_LENGTH\n    case .SHA1:\n        result = CC_SHA1_DIGEST_LENGTH\n    case .SHA224:\n        result = CC_SHA224_DIGEST_LENGTH\n    case .SHA256:\n        result = CC_SHA256_DIGEST_LENGTH\n    case .SHA384:\n        result = CC_SHA384_DIGEST_LENGTH\n    case .SHA512:\n        result = CC_SHA512_DIGEST_LENGTH\n    }\n    return Int(result)\n  }\n}\n\nextension String {\n  func hmac(algorithm: HMACAlgorithm, key: String) -&gt; String {\n    let cKey = key.cStringUsingEncoding(NSUTF8StringEncoding)\n    let cData = self.cStringUsingEncoding(NSUTF8StringEncoding)\n\n    var result = [CUnsignedChar](count: Int(algorithm.digestLength()), repeatedValue: 0)\n\n    CCHmac(algorithm.toCCHmacAlgorithm(), cKey!, Int(strlen(cKey!)), cData!, Int(strlen(cData!)), &amp;result)\n\n    let hmacData:NSData = NSData(bytes: result, length: (Int(algorithm.digestLength())))\n\n    let hmacBase64 = hmacData.base64EncodedStringWithOptions(NSDataBase64EncodingOptions.Encoding76CharacterLineLength)\n\n    return String(hmacBase64)\n }\n}\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://cryptography.stackexchange.com"], "markdown_extensions": ["MathJax"], "launch_date": 1435671420, "open_beta_date": 1312315906, "closed_beta_date": 1310497200, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/crypto/Img/apple-touch-icon@2.png", "twitter_account": "StackCrypto", "favicon_url": "https://cdn.sstatic.net/Sites/crypto/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/crypto/Img/apple-touch-icon.png", "audience": "software developers, mathematicians and others interested in cryptography", "site_url": "https://crypto.stackexchange.com", "api_site_parameter": "crypto", "logo_url": "https://cdn.sstatic.net/Sites/crypto/Img/logo.png", "name": "Cryptography", "site_type": "main_site"}, "on_date": 1445441069, "question_id": 29977}, "owner": {"reputation": 7352, "user_id": 658469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b6a2b6133da626e83d24f7890ff2faea?s=128&d=identicon&r=PG", "display_name": "p.matsinopoulos", "link": "https://stackoverflow.com/users/658469/p-matsinopoulos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 33298591, "answer_count": 1, "score": 0, "last_activity_date": 1445591124, "creation_date": 1445414547, "last_edit_date": 1445446506, "question_id": 33263246, "link": "https://stackoverflow.com/questions/33263246/using-swift-how-can-i-create-an-openssl-hmac-digest-using-sha1-and-then-encode", "title": "Using Swift, how can I create an OpenSSL HMAC digest using SHA1 and then encode with strict encode64", "body": "<p>I need to create a Base64 strict encoded representation of an OpenSSL HMAC digest using SHA1. I have the code in <code>Ruby</code>, but I need the similar code in <code>Swift</code>. Does anybody have that easy?</p>\n\n<p>The code in <code>Ruby</code> is:</p>\n\n<pre><code>digest = OpenSSL::Digest.new('sha1')\nhmac_digest = OpenSSL::HMAC.digest(digest, secret_key, canonical_string)\nBase64.strict_encode64(hmac_digest)\n</code></pre>\n\n<p>As you see above, my inputs are 2 strings (<code>secret_key</code> and <code>canonical_string</code>) and I first create the digest and then I encode it.</p>\n\n<p>So, what would be the correct code in <code>Swift</code> that will give the same result for the same inputs?</p>\n"}, {"tags": ["ruby", "sinatra", "rack", "sidekiq"], "comments": [{"owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "edited": false, "score": 0, "creation_date": 1449620002, "post_id": 33253874, "comment_id": 56084478, "body": "Haven&#39;t found a solution so far. One thing I noticed as I tried out the sidekiq-failures gem (<a href=\"https://github.com/mhfs/sidekiq-failures\" rel=\"nofollow noreferrer\">github.com/mhfs/sidekiq-failures</a>) that it shows the same behaviour <code>Forbidden</code>"}], "answers": [{"tags": [], "owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "is_accepted": true, "score": 0, "last_activity_date": 1449659875, "last_edit_date": 1449659875, "creation_date": 1449658379, "answer_id": 34176959, "question_id": 33253874, "link": "https://stackoverflow.com/questions/33253874/sidekiq-web-panel-shows-forbidden/34176959#34176959", "title": "Sidekiq web panel shows forbidden", "body": "<p>I've found a solution. First I updated from sidekiq 3.4.2 to 4.0.1 and from sinatra 1.4.2 to 1.4.6. No problems so far.</p>\n\n<p>The problem with the <code>Forbidden</code> message was a missing authenticity token for sidekiq's web panel. By adding the following lines, it worked:</p>\n\n<pre><code>require 'rubygems'\nrequire 'bundler'\nrequire 'sidekiq/web'\n\n#####################################\n# added a require for rack/protection\nrequire 'rack/protection'\n#####################################\n\nenv = ENV['RACK_ENV'].to_sym || :development\n\nBundler.require(:default, :sinatra, env)\ndisable :run\nEncoding.default_external = Encoding::UTF_8\n\nset :environment, env\n\nuse Rack::ShowExceptions\nuse Rack::Session::Pool\nuse Rack::MethodOverride\n#####################################\n# tell sinatra to use rack's protection methods\nuse Rack::Protection\n#####################################\n\nrequire File.expand_path '../app/my_app.rb', __FILE__\nrun Rack::URLMap.new(\"/\" =&gt; MyApp.new, \"/sidekiq\" =&gt; Sidekiq::Web.new)\n</code></pre>\n\n<p>Also have a look at <a href=\"https://github.com/sinatra/rack-protection\" rel=\"nofollow\">https://github.com/sinatra/rack-protection</a> where all the protection methods are listed.</p>\n"}, {"tags": [], "owner": {"reputation": 38092, "user_id": 18706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cabf735ce7b8b4471ef46ea54f71832d?s=128&d=identicon&r=PG", "display_name": "mahemoff", "link": "https://stackoverflow.com/users/18706/mahemoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1466467892, "creation_date": 1466467892, "answer_id": 37933717, "question_id": 33253874, "link": "https://stackoverflow.com/questions/33253874/sidekiq-web-panel-shows-forbidden/37933717#37933717", "title": "Sidekiq web panel shows forbidden", "body": "<p>You may need to add this to application.rb (or an initializer like config/initializers/sidekiq.rb):</p>\n\n<pre><code>Sidekiq::Web.instance_variable_get(:@middleware).delete_if do |middleware|\n  middleware.first == Rack::Protection\nend\n</code></pre>\n\n<p>That comes from a <a href=\"https://github.com/transitland/transitland-datastore/pull/605/commits/e92ec248dda1f45e8e83bb9c4692efff9ee5ae2c\" rel=\"nofollow\">recent commit</a>, but it's only applied to production and staging environments.</p>\n\n<p><i><a href=\"https://github.com/mperham/sidekiq/issues/1289\" rel=\"nofollow\">Detailed explanation</a> about this problem.</i></p>\n"}], "owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1402, "favorite_count": 0, "accepted_answer_id": 34176959, "answer_count": 2, "score": 4, "last_activity_date": 1466467892, "creation_date": 1445414316, "question_id": 33253874, "link": "https://stackoverflow.com/questions/33253874/sidekiq-web-panel-shows-forbidden", "title": "Sidekiq web panel shows forbidden", "body": "<p>I have mounted the Sidekiq panel in my Sinatra app like this:</p>\n\n<pre><code>require 'rubygems'\nrequire 'bundler'\nrequire 'sidekiq/web'\n\nenv = ENV['RACK_ENV'].to_sym || :development\n\nBundler.require(:default, :sinatra, env)\ndisable :run\nEncoding.default_external = Encoding::UTF_8\n\nset :environment, env\n\nuse Rack::ShowExceptions\nuse Rack::Session::Pool\nuse Rack::MethodOverride\n\nSidekiq::Web.use Rack::Session::Pool\n\nrequire File.expand_path '../app/my_app.rb', __FILE__\nrun Rack::URLMap.new(\"/\" =&gt; MyApp.new, \"/sidekiq\" =&gt; Sidekiq::Web.new)\n</code></pre>\n\n<p>This means my app is accessible through <code>/</code> and the sidekiq web panel through <code>/sidekiq</code>.</p>\n\n<p>Now when I try to delete a job, I always get <code>Forbidden</code>. I read here <a href=\"https://github.com/mperham/sidekiq/issues/1289\" rel=\"nofollow\">https://github.com/mperham/sidekiq/issues/1289</a> and here <a href=\"https://github.com/mperham/sidekiq/issues/2487\" rel=\"nofollow\">https://github.com/mperham/sidekiq/issues/2487</a> but wether upgrading to <code>rack-protection &gt; 1.5.1</code> nor setting a session for <code>Sidekiq::Web</code> has solved the problem so far.</p>\n\n<p>I'm starting my server with <code>rackup</code> using WEBrick, so I think this shouldn't be a server problem.</p>\n\n<p>I'm using sinatra 1.4.2 with sidekiq 3.5.1. Any ideas on how to solve this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 2037662, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4833c21cea66347b690327d91ec9695e?s=128&d=identicon&r=PG", "display_name": "ashr81", "link": "https://stackoverflow.com/users/2037662/ashr81"}, "edited": false, "score": 0, "creation_date": 1445413169, "post_id": 33253502, "comment_id": 54308580, "body": "Is their any other way to get selection from dropdown in view into controller as parameter or any other way?I want to get the value into name parameter in the controller. in <code>update_dropdown(name)</code>.I want <code>name</code> to be the selected value in the selection."}, {"owner": {"reputation": 967, "user_id": 4136098, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oTWY6F0D_7I/AAAAAAAAAAI/AAAAAAAAAPQ/ZN-g-XyjLw0/photo.jpg?sz=128", "display_name": "Kh Ammad", "link": "https://stackoverflow.com/users/4136098/kh-ammad"}, "reply_to_user": {"reputation": 490, "user_id": 2037662, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4833c21cea66347b690327d91ec9695e?s=128&d=identicon&r=PG", "display_name": "ashr81", "link": "https://stackoverflow.com/users/2037662/ashr81"}, "edited": false, "score": 0, "creation_date": 1445417522, "post_id": 33253502, "comment_id": 54311110, "body": "no need of passing name parameter in <code>update_dropdown(name)</code>. You can get the selected value in <code>update_dropdown</code> method with <code>this.val()</code>"}], "tags": [], "owner": {"reputation": 967, "user_id": 4136098, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oTWY6F0D_7I/AAAAAAAAAAI/AAAAAAAAAPQ/ZN-g-XyjLw0/photo.jpg?sz=128", "display_name": "Kh Ammad", "link": "https://stackoverflow.com/users/4136098/kh-ammad"}, "is_accepted": false, "score": 3, "last_activity_date": 1445413341, "last_edit_date": 1495541035, "creation_date": 1445412894, "answer_id": 33253502, "question_id": 33253131, "link": "https://stackoverflow.com/questions/33253131/is-their-any-wayi-could-get-the-value-of-dropdown-to-use-in-controller-using-on/33253502#33253502", "title": "Is their any way?I could get the value of dropdown to use in controller using onchange event handler in ruby on rails application", "body": "<p>All you need to make ajax call on onchange event. Here is a link to a helpful answer\n<a href=\"https://stackoverflow.com/a/7952315/4136098\">stackoverflow.com/a/7952315/4136098</a></p>\n"}, {"comments": [{"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 1, "creation_date": 1445419612, "post_id": 33254853, "comment_id": 54312440, "body": "nice to see you after long time bro. as always well explained"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 1, "creation_date": 1445419653, "post_id": 33254853, "comment_id": 54312475, "body": "Been working on some intense projects which have now cooled down a little :p"}, {"owner": {"reputation": 490, "user_id": 2037662, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4833c21cea66347b690327d91ec9695e?s=128&d=identicon&r=PG", "display_name": "ashr81", "link": "https://stackoverflow.com/users/2037662/ashr81"}, "edited": false, "score": 0, "creation_date": 1445866693, "post_id": 33254853, "comment_id": 54489600, "body": "@RichPeck.Can i use partials and load the view into other view? Example:I has <code>index.html.erb</code> and <code>_show.html.erb</code>.<code>_show.html.erb</code> has the content that should be loaded on change in dropdown.Is it possible to load the content of the <code>_show.html.erb</code> in <code>index.html.erb</code> without <code>index.html.erb</code>."}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 0, "creation_date": 1445866760, "post_id": 33254853, "comment_id": 54489643, "body": "Depends whether you want to pull the data from the backend or not"}, {"owner": {"reputation": 490, "user_id": 2037662, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4833c21cea66347b690327d91ec9695e?s=128&d=identicon&r=PG", "display_name": "ashr81", "link": "https://stackoverflow.com/users/2037662/ashr81"}, "edited": false, "score": 0, "creation_date": 1445870496, "post_id": 33254853, "comment_id": 54492346, "body": "I am pulling data from backend into <code>_show.html.erb</code> page and rendering it into <code>index.html.erb</code>."}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 3, "last_activity_date": 1445417467, "creation_date": 1445417467, "answer_id": 33254853, "question_id": 33253131, "link": "https://stackoverflow.com/questions/33253131/is-their-any-wayi-could-get-the-value-of-dropdown-to-use-in-controller-using-on/33254853#33254853", "title": "Is their any way?I could get the value of dropdown to use in controller using onchange event handler in ruby on rails application", "body": "<blockquote>\n  <p>How to get the selection value from view into the controller as parameter</p>\n</blockquote>\n\n<p>Only way is to <em>send</em> the data through either an HTTP or Ajax (XML) request.</p>\n\n<p>Because you've not explained your <a href=\"https://en.wikipedia.org/wiki/User_story\" rel=\"nofollow\"><code>user story</code></a> very well, I'll explain the overall schematics on how to get it to work...</p>\n\n<hr>\n\n<p><strong>Stateless</strong></p>\n\n<p>HTTP makes Rails applications <a href=\"https://en.wikipedia.org/wiki/Stateless_protocol\" rel=\"nofollow\"><em>stateless</em></a> - meaning that each time you send interactions to it, it will have to rebuild the user environment each time (this is why <code>sessions</code> are so important to Rails).</p>\n\n<p>This means that each time you want to invoke new actions / methods, you have to send a <em>request</em> to your server. The request can be sent over several protocols (<code>HTTP</code>, <code>XML</code> and <code>Websockets</code>) - each has the same pattern: <code>Request &gt; Logic &gt; Output</code></p>\n\n<p>Thus, if you want to send data to your controller, you'll have to either have a full page refresh (follow the above pattern), or send the data via ajax.</p>\n\n<hr>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Ajax_(programming)\" rel=\"nofollow\"><strong>Ajax</strong></a></p>\n\n<p>In this case I'd recommend using <code>ajax</code> to send a request to your controller.</p>\n\n<pre><code># View\n&lt;%= select_tag :name,options_for_select(@tests.map{|u| [u.name]}.uniq), id: \"select\" %&gt;\n\n#app/assets/javascripts/application.js\n$(document).on(\"change\", \"#select\", function(e) {\n   $.get(\"/controller/update_dropdown\", {id: $(this).val() }, function(data) {\n      # Do something here\n   });\n});\n</code></pre>\n\n<p>This will allow you to use the following:</p>\n\n<pre><code>#config/routes.rb\nresources :controller do\n   get :update_dropdown, on: :collection #-&gt; url.com/controller/update_dropdown\nend\n\n#app/controllers/controller_controller.rb\nclass ControllerController &lt; ApplicationController\n   def update_dropdown\n      # params[:id] will be available\n      @test = Test.find params[:id]\n      render json: @test.to_json\n   end\nend\n</code></pre>\n"}], "owner": {"reputation": 490, "user_id": 2037662, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4833c21cea66347b690327d91ec9695e?s=128&d=identicon&r=PG", "display_name": "ashr81", "link": "https://stackoverflow.com/users/2037662/ashr81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1282, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1445420356, "creation_date": 1445411789, "last_edit_date": 1445420356, "question_id": 33253131, "link": "https://stackoverflow.com/questions/33253131/is-their-any-wayi-could-get-the-value-of-dropdown-to-use-in-controller-using-on", "title": "Is their any way?I could get the value of dropdown to use in controller using onchange event handler in ruby on rails application", "body": "<p>I want to call a method using <em>onchange</em> event handler when a user changes the value on a dropdown.Below is the code for my dropdown box.</p>\n\n<pre><code>&lt;%= select_tag :name,options_for_select(@tests.map{|u| [u.name]}.uniq),:onchange =&gt; 'update_dropdown(:name)' %&gt;\n</code></pre>\n\n<p>In the controller i want a method.which takes the value of selection in dropdown as paramater:<br>\nBelow code searches database for the document with value of the parameter given from view.And return the document.What are the changes i have to make to get the selection in the controller as the dropdown values are changed! </p>\n\n<pre><code>def update_dropdown(name)\n    @drop = Test.where(\"name\" =&gt; name)\nend\n</code></pre>\n\n<p>How to get the selection value from view into the controller as parameter?<br>\nI has a mongoDatabase with documents(row) consisting key named:<em>name</em>.I has 4 unique values under key <em>name</em>.I want user to select the value using dropdown.As the user selected the dropdown.Without page refresh the documents consisting values selected with the key <em>name</em> should be displayed.<br>\nEx:under key <em>name</em>.I has four values for 200 documents.named:<br>\n [\"value1\",\"value2\",\"value3\",\"value4\"].These values are the options<br>\n for dropdown menu.If user selected any of the values.The documents consisting value for key <em>name</em> should be displayed.</p>\n"}, {"tags": ["ios", "objective-c", "ruby", "xcode"], "comments": [{"owner": {"reputation": 753, "user_id": 7490898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c71b6da2f331bfabdb8c3a0d774eb56?s=128&d=identicon&r=PG&f=1", "display_name": "Harish Gupta", "link": "https://stackoverflow.com/users/7490898/harish-gupta"}, "edited": false, "score": 0, "creation_date": 1486257391, "post_id": 33253101, "comment_id": 71267924, "body": "Did you find the solution ?"}], "answers": [{"tags": [], "owner": {"reputation": 917, "user_id": 7183675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Armw.jpg?s=128&g=1", "display_name": "Adam Tucholski", "link": "https://stackoverflow.com/users/7183675/adam-tucholski"}, "is_accepted": false, "score": 0, "last_activity_date": 1558524706, "creation_date": 1558524706, "answer_id": 56255901, "question_id": 33253101, "link": "https://stackoverflow.com/questions/33253101/podspec-warning-no-rule-to-process-file-for-architecture-i386/56255901#56255901", "title": "podspec warning: no rule to process file for architecture i386", "body": "<p>Define for resource files seems OK. Can you check if files with .txt extensions are not added also to sources in podspec? </p>\n\n<p>It seems that  there is an attempt to compile .txt file. If txt file is present in \"compile sources\" build phase, it will generate this kind of warning.</p>\n"}], "owner": {"reputation": 101, "user_id": 4994149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e659416499cc830140acfbac2f4c6b5?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/4994149/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 730, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1558524706, "creation_date": 1445411669, "question_id": 33253101, "link": "https://stackoverflow.com/questions/33253101/podspec-warning-no-rule-to-process-file-for-architecture-i386", "title": "podspec warning: no rule to process file for architecture i386", "body": "<p>My Podspec like this:</p>\n\n<p>s.resource = 'JOBaseSDK/Resources/**/*.{png,txt}'</p>\n\n<p>I'll get warning when pod spec lint in terminal</p>\n\n<ul>\n<li>NOTE  |  warning: no rule to process file 'JOProjectBaseSDK/JOBaseSDK/Resources/111.txt' of type text for architecture i386</li>\n<li>NOTE  |  warning: no rule to process file 'JOProjectBaseSDK/JOBaseSDK/Resources/111.txt' of type text for architecture x86_64</li>\n</ul>\n\n<p>Anyone can help me fix it? thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "koala"], "comments": [{"owner": {"reputation": 5144, "user_id": 5411461, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RyJfN.jpg?s=128&g=1", "display_name": "Haseeb Ahmad", "link": "https://stackoverflow.com/users/5411461/haseeb-ahmad"}, "edited": false, "score": 0, "creation_date": 1445414447, "post_id": 33253022, "comment_id": 54309225, "body": "Can u elaborate what is value?"}, {"owner": {"reputation": 1428, "user_id": 4156793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0abab859fc0ae6541c3f63d7777f5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Raaz", "link": "https://stackoverflow.com/users/4156793/raaz"}, "reply_to_user": {"reputation": 5144, "user_id": 5411461, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RyJfN.jpg?s=128&g=1", "display_name": "Haseeb Ahmad", "link": "https://stackoverflow.com/users/5411461/haseeb-ahmad"}, "edited": false, "score": 0, "creation_date": 1445415241, "post_id": 33253022, "comment_id": 54309670, "body": "@HaseebAhmad, generally while using the graph api explorer, when u put <code>me</code> you will get all of your public data, so in my case I want to get the data of facebook public page like celebrity page, app page,etc . I know that I can get it just like u said but I want to pass the url of the page as the name of the page is not always right"}], "answers": [{"comments": [{"owner": {"reputation": 1428, "user_id": 4156793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0abab859fc0ae6541c3f63d7777f5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Raaz", "link": "https://stackoverflow.com/users/4156793/raaz"}, "edited": false, "score": 0, "creation_date": 1445415052, "post_id": 33254004, "comment_id": 54309552, "body": "yes I know about that, but is it possible to use the url like this one <code>https:&#47;&#47;www.facebook.com&#47;FacebookDevelopers</code>"}, {"owner": {"reputation": 5144, "user_id": 5411461, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RyJfN.jpg?s=128&g=1", "display_name": "Haseeb Ahmad", "link": "https://stackoverflow.com/users/5411461/haseeb-ahmad"}, "reply_to_user": {"reputation": 1428, "user_id": 4156793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0abab859fc0ae6541c3f63d7777f5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Raaz", "link": "https://stackoverflow.com/users/4156793/raaz"}, "edited": false, "score": 0, "creation_date": 1445418554, "post_id": 33254004, "comment_id": 54311794, "body": "I don&#39;t think so there is any major difference between  them. Can you tell me why not only name?"}, {"owner": {"reputation": 1428, "user_id": 4156793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0abab859fc0ae6541c3f63d7777f5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Raaz", "link": "https://stackoverflow.com/users/4156793/raaz"}, "edited": false, "score": 0, "creation_date": 1445423727, "post_id": 33254004, "comment_id": 54315166, "body": "because not all page name will be simple like &quot;humansofnewyork&quot;. There are pages with obscure name like &quot;Chronicler-1631319773789615&quot; and koala do not understand these obscure names"}, {"owner": {"reputation": 551, "user_id": 3681793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a23b03da4efe057f090c33cae367f09?s=128&d=identicon&r=PG", "display_name": "bonafernando", "link": "https://stackoverflow.com/users/3681793/bonafernando"}, "edited": false, "score": 0, "creation_date": 1597101887, "post_id": 33254004, "comment_id": 112018800, "body": "The secret_token expires every 2 months. How can I do that without the need to update the secret token?"}], "tags": [], "owner": {"reputation": 5144, "user_id": 5411461, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RyJfN.jpg?s=128&g=1", "display_name": "Haseeb Ahmad", "link": "https://stackoverflow.com/users/5411461/haseeb-ahmad"}, "is_accepted": false, "score": 1, "last_activity_date": 1445414750, "creation_date": 1445414750, "answer_id": 33254004, "question_id": 33253022, "link": "https://stackoverflow.com/questions/33253022/get-specific-facebook-page-information-using-koala-gem/33254004#33254004", "title": "Get specific facebook page information using Koala gem", "body": "<p>In Koala I get posts of page like this</p>\n\n<pre><code>@graph = Koala::Facebook::API.new(\"secret_token\");\nstatuses = @graph.get_connections(page_name, \"feed\", {\"limit\" =&gt; \"25\"});\n</code></pre>\n\n<p>E.g page_name = \"humansofnewyork\"</p>\n"}], "owner": {"reputation": 1428, "user_id": 4156793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0abab859fc0ae6541c3f63d7777f5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Raaz", "link": "https://stackoverflow.com/users/4156793/raaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445415100, "creation_date": 1445411357, "last_edit_date": 1445415100, "question_id": 33253022, "link": "https://stackoverflow.com/questions/33253022/get-specific-facebook-page-information-using-koala-gem", "title": "Get specific facebook page information using Koala gem", "body": "<p>I am trying to get the value of a facebook page using graph api. </p>\n\n<p>The user will insert the link of the page into the input page, suppose </p>\n\n<pre><code>page_name = \"https://www.facebook.com/FacebookDevelopers\"\n\n@graph_api.get_object(page_name)\n</code></pre>\n\n<p>but I got an error like </p>\n\n<pre><code>{\"error\"=&gt;{\"message\"=&gt;\"Unknown path components: /www.facebook.com/FacebookDevelopers\", \"type\"=&gt;\"OAuthException\", \"code\"=&gt;2500, \"fbtrace_id\"=&gt;\"GxQDg9JYZoU\"}}\n</code></pre>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": true, "score": 3, "last_activity_date": 1445412039, "creation_date": 1445412039, "answer_id": 33253204, "question_id": 33252605, "link": "https://stackoverflow.com/questions/33252605/objectpublic-methods-does-not-work-as-expected/33253204#33253204", "title": "Object#public_methods does not work as expected", "body": "<blockquote>\n  <p>Shouldn't the <code>false</code> parameter already get rid of all the <code>Object</code> methods?</p>\n</blockquote>\n\n<p>The wording of the documentation of <a href=\"http://ruby-doc.org/core/Object.html#method-i-public_methods\" rel=\"nofollow\"><code>Object#public_methods</code></a> could certainly be improved. What is <em>meant</em> is that when the <code>all</code> argument is <code>false</code>, it only returns instance methods from the singleton class and the class of the receiver, but not any superclasses. So, in your case, the methods that are returned are the ones from <code>M</code>'s singleton class (<code>g</code>) plus all the public instance methods of <code>Module</code>.</p>\n\n<p>You can verify this by comparing the output of <code>M.public_methods(false)</code> and <code>Module.public_instance_methods(false)</code>:</p>\n\n<pre><code>M.public_methods(false) - Module.public_instance_methods(false)\n# =&gt; [:g]\n\nM.public_methods(false) &amp; Module.public_instance_methods(false) == \n  Module.public_instance_methods(false)\n# =&gt; true\n</code></pre>\n\n<p><a href=\"http://ruby-doc.org/core/Object.html#method-i-singleton_methods\" rel=\"nofollow\"><code>Object#singleton_methods</code></a> will give you the answer you want:</p>\n\n<pre><code>M.singleton_methods(false)\n# =&gt; [:g]\n</code></pre>\n"}], "owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 33253204, "answer_count": 1, "score": 4, "last_activity_date": 1445412039, "creation_date": 1445409756, "last_edit_date": 1445411158, "question_id": 33252605, "link": "https://stackoverflow.com/questions/33252605/objectpublic-methods-does-not-work-as-expected", "title": "Object#public_methods does not work as expected", "body": "<p>I create a new module:</p>\n\n<pre><code>module M\n  def self.g\n  end\nend\n</code></pre>\n\n<p>I would like to list all (class-)methods defined in <code>M</code>. Of course, <code>M.public_methods</code> would also list methods from <code>Object</code>, so I tried:</p>\n\n<pre><code>M.public_methods(false)\n</code></pre>\n\n<p>but when I try this in irb, it still lists a number of additional methods:</p>\n\n<pre><code>M.public_methods(false)\n# =&gt; [:g, :freeze, :===, :==, :&lt;=&gt;, :&lt;, :&lt;=, :&gt;, :&gt;=, :to_s, :inspect, :included_modules, \u2026]\n</code></pre>\n\n<p>I can get the result I want using</p>\n\n<pre><code>M.public_methods(false) - Object.public_methods\n</code></pre>\n\n<p>which surprises me. Shouldn't the <code>false</code> parameter already get rid of all the <code>Object</code> methods?</p>\n"}, {"tags": ["ruby", "rake", "rake-pipeline"], "owner": {"reputation": 2325, "user_id": 857209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0cd2dbb551a577fd1182e890a7e3165?s=128&d=identicon&r=PG", "display_name": "Glenn Lawrence", "link": "https://stackoverflow.com/users/857209/glenn-lawrence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 11, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1445405544, "creation_date": 1445405544, "question_id": 33251635, "link": "https://stackoverflow.com/questions/33251635/how-do-i-create-a-filter-for-copying-binary-files-in-rake-pipeline-rakep", "title": "How do I create a filter for copying binary files in Rake Pipeline (rakep)?", "body": "<p>I am using Rake Pipeline (aka \"rakep\") to build an Ember.js application. I find that when it is running on a Windows OS it mangles binary image files when it is copying them.</p>\n\n<p>The <a href=\"http://www.rubydoc.info/gems/rake-pipeline/0.5.0/frames\" rel=\"nofollow\">Ruby docs</a> indicate that you need to introduce a special filter that looks like this:</p>\n\n<pre><code>class ConcatFilter &lt; Rake::Pipeline::Filter\n  processes_binary_files\n  def generate_output(inputs, output)\n    inputs.each do |input|\n      output.write input.read\n    end\n  end\nend\n</code></pre>\n\n<p>but I can't see how I introduce this into my build process so that I can specify this filter in my Assetfile.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rake", "asset-pipeline"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1445408207, "post_id": 33251480, "comment_id": 54305862, "body": "Just a friendly tip - use the Ember-cli instead. The rails build tools are are developmental dead end and Ember-cli is the official way to go."}, {"owner": {"reputation": 2325, "user_id": 857209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0cd2dbb551a577fd1182e890a7e3165?s=128&d=identicon&r=PG", "display_name": "Glenn Lawrence", "link": "https://stackoverflow.com/users/857209/glenn-lawrence"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1445410904, "post_id": 33251480, "comment_id": 54307195, "body": "Thanks @max. We are moving to Ember-CLI, but we&#39;ll need to use the Rake in the meantime."}], "owner": {"reputation": 2325, "user_id": 857209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0cd2dbb551a577fd1182e890a7e3165?s=128&d=identicon&r=PG", "display_name": "Glenn Lawrence", "link": "https://stackoverflow.com/users/857209/glenn-lawrence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1445404763, "creation_date": 1445404763, "question_id": 33251480, "link": "https://stackoverflow.com/questions/33251480/what-version-of-rake-pipeline-rakep-am-i-using", "title": "What version of Rake Pipeline (rakep) am I using", "body": "<p>I'm using Ruby's Rake Pipeline to build an Ember.JS app and would like to know which version it is so I can research some problems I am having. Here is the command used to execute my build</p>\n\n<pre><code>bundle exec rakep build\n</code></pre>\n\n<p>I was hoping for something like</p>\n\n<pre><code>bundle exec rakep -version\n</code></pre>\n\n<p>but can't find a reference to anything like this.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ssh", "gem"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1445417480, "post_id": 33251417, "comment_id": 54311084, "body": "Any reason why you don&#39;t just upgrade Ruby? Later versions of ruby are both faster and more secure. Also Ruby 1.9.3 met its End Of Life 2015/02/23 so it is no longer supported and security fixes are no longer provided."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1445417746, "post_id": 33251417, "comment_id": 54311261, "body": "And they error is probably due to one of gems requiring <code>net-ssh</code> (my guess is capistrano). You won&#39;t find it in the Gemfile.lock since it is generated when <code>gem update</code> succeeds."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4128788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a79535af2e3672834ff6d2de9df273?s=128&d=identicon&r=PG&f=1", "display_name": "Lucia", "link": "https://stackoverflow.com/users/4128788/lucia"}, "is_accepted": false, "score": 0, "last_activity_date": 1454657889, "creation_date": 1454657889, "answer_id": 35218663, "question_id": 33251417, "link": "https://stackoverflow.com/questions/33251417/net-ssh-3-0-1-required-but-not-referenced/35218663#35218663", "title": "net-ssh 3.0.1 required but not referenced", "body": "<p>I change the version of net-ssh in Gemfile , and it worked well</p>\n\n<pre><code>group :test, :development do\n  gem \"rspec-rails\", \"&gt;= 2.5.0\"\n  gem 'factory_girl', '2.6.4'\n  gem 'factory_girl_rails', '1.7.0'\n  gem 'faker', '1.1.2'\n  gem 'forgery', '0.5.0'\n  gem 'magic_encoding', '0.0.2'\n  gem 'email_spec', '1.4.0'\n\n  gem 'net-ssh', '~&gt; 2.0'\n  gem 'capistrano', '~&gt; 2.15.7'\n  gem 'capistrano-rbenv', '1.0.5'\n  gem 'rb-readline','0.4.2'\nend\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 1871568, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/02393530b93b40615d1853166d4487f1?s=128&d=identicon&r=PG", "display_name": "patrick", "link": "https://stackoverflow.com/users/1871568/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1979, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1454657889, "creation_date": 1445404401, "question_id": 33251417, "link": "https://stackoverflow.com/questions/33251417/net-ssh-3-0-1-required-but-not-referenced", "title": "net-ssh 3.0.1 required but not referenced", "body": "<p>Really odd issue I'm having trying to run a rails app. </p>\n\n<p>Upon running <code>bundle install</code> I'm thrown an error regarding <code>net-ssh</code>:</p>\n\n<p><code>\nGem::InstallError: net-ssh requires Ruby version &gt;= 2.0.\nAn error occurred while installing net-ssh (3.0.1), and Bundler cannot continue.\nMake sure that `gem install net-ssh -v '3.0.1'` succeeds before bundling.\n</code></p>\n\n<p>But no where in my app do we require <code>net-ssh -v '3.0.1'</code>. I'm running ruby v. `1.9.3-p429. </p>\n\n<p>Below are the gem and Gemfile, Gemfile.lock files. Any guidance would be appreciated. </p>\n\n<h2>Gemfile</h2>\n\n<pre><code>gem 'rails', '~&gt;3.2.12'\ngem \"acts_as_paranoid\", \"~&gt;0.4.0\"\ngem 'memcache-client'\ngem 'tumblr_client'\n# Page scraper\ngem \"httparty\", \"~&gt;0.8\"\ngem \"nokogiri\", \"~&gt;1.5\"\ngem \"mechanize\"\ngem \"capybara\"\ngem \"capybara-webkit\", \"~&gt;1.0.0\"\ngem \"headless\"\n# gem 'tesseract-ocr', :git =&gt; \"git@github.com:CollegeAbacus/custom-ruby-tesseract-ocr.git\", :branch =&gt; 'master'\ngem 'rmagick', require: false\n\ngem 'poltergeist'\n# for the NCES NPC calculator demo\n# gem \"sinatra\", \"~&gt;1.3\"\n# gem \"shotgun\", \"~&gt;0.9\"\n# gem \"redis\", \"~&gt;2.2\"\n# we don't use these anymore\n\n# for the web application\ngem 'pg'       # used in development and production\ngem 'haml', '~&gt; 3.1.7'\ngem 'haml-rails'\ngem 'will_paginate'\ngem 'sunspot_rails'\ngem 'sunspot_solr'\ngem 'simple_form'\ngem 'uniquify', :git =&gt; \"git://github.com/teohm/uniquify.git\"\ngem 'acts_as_list', github: 'swanandp/acts_as_list'\ngem 'select2-rails'\ngem 'awesome_print'\ngem \"paper_trail\", \"~&gt; 2.7.2\", require: false #to track changes to models\ngem 'rails3-jquery-autocomplete'\ngem 'codemirror-rails'\ngem 'devise_security_extension'\ngem 'rails_email_validator'\ngem \"galetahub-simple_captcha\", :require =&gt; \"simple_captcha\"\ngem 'safe_yaml', '~&gt; 0.8.6'\ngem 'i18n-js'\ngem 'bluecloth'\ngem 'csv-mapper', require: false\ngem \"excel_functions\", require: false\ngem \"enumerize\"\ngem 'hashie'\n#gem 'inline_svg' #enable Nokogiri to parse SVG -- fmb\n\n# for cron tasks\ngem 'whenever', :require =&gt; false\n\n# for rake tasks\ngem 'progress_bar', :require =&gt; false\n\n# Authentication\ngem 'devise'\ngem 'omniauth'\ngem 'omniauth-facebook'\ngem 'omniauth-google-oauth2'\ngem 'omniauth-twitter'\n# Gems used only for assets and not required\n# in production environments by default.\ngem 'sass-rails', '~&gt; 3.2.6'\ngem 'rails_admin'\n\n\n## loggly\ngem 'syslogger', '~&gt; 1.6.0'\ngem 'lograge','~&gt; 0.3.1'\n# gem 'compass'\ngroup :assets do\n  gem 'coffee-rails', '~&gt; 3.2.1'  # I don't love coffeescript...\n  gem 'compass-rails'\n\n  # See https://github.com/sstephenson/execjs#readme for more supported runtimes\n  gem 'therubyracer' ,:platform =&gt; :ruby , :require =&gt; 'v8'\n\n  gem 'uglifier', '&gt;= 1.0.3'\n  gem 'zurb-foundation', '~&gt; 4.0.0'\n  gem 'bourbon'\n  #gem 'turbo-sprockets-rails3', '~&gt; 0.3.0' #causing issues (files with wrong params), and incompatibility (Rails admin)\nend\n# gem 'twitter-bootstrap-rails'\n\ngem 'remotipart', '~&gt; 1.0'\ngem 'jquery-rails'\ngem 'redis'\ngem 'mailgun-rails'\ngem 'rest-client'\ngem 'pry-rails'\n\n# background jobs\ngem 'delayed_job_active_record'\ngem 'daemons'\ngem 'dj_mon'\ngem 'acts_as_xlsx', require: false\n# To use ActiveModel has_secure_password\n# gem 'bcrypt-ruby', '~&gt; 3.0.0'\n\n# for manipulating AWS ec2 - used in /sas_blocks and the restart script\ngem 'fog', require: false\n\n# JS assets\ngem 'gon'\ngem 'rabl-rails'\n\n# Use unicorn as the app server\ngem 'unicorn'\n#gem 'thin'\n\n# Monitoring\ngem 'newrelic_rpm' #, '~&gt; 3.8.0' #at least 3.8 for unicorn\n\n# mongo\n# gem 'mongoid'\n\ngem 'common_library', :git =&gt; \"git@github.com:CollegeAbacus/abacus-common.git\", :branch =&gt; 'master', require: false\ngem 'useragent', '~&gt; 0.15.2'\ngroup :development do\n  gem 'quiet_assets'\n  gem 'thin'\n  gem 'active_record_query_trace'\n  gem 'highline'\n    gem 'annotate'\nend\n\ngroup :development, :test do\n  gem 'pry', '~&gt; 0.9.12'\n  gem \"launchy\"\n\n  #gem 'common_library', :path =&gt; 'common_library/'\n  # gem 'debugger', '~&gt; 1.6.8'\n  gem 'foreman'\n  gem 'minitest'\n  # gem 'webmock'\n  gem 'ruby-prof', require: false\n  gem 'seed-fu'\n  gem 'guard'\n  gem 'guard-minitest'\n  gem 'rb-fsevent'\n  gem 'rspec-rails'\n  gem \"factory_girl_rails\"\n  # gem \"pry-debugger\"\n  gem \"pry-doc\"\n  gem \"pry-stack_explorer\"\nend\n\ngroup :test do\n  gem \"database_cleaner\"\n  gem \"simplecov\", require: false\nend\n\ngroup :deploy, :development do\n  gem 'capistrano', '~&gt; 2.15.5', require: false\n  gem 'capistrano-templates', require: false\n  gem 'delayed_job', require: false # delayed/recipes\nend\n</code></pre>\n\n<h2>Gemfile.lock</h2>\n\n<pre><code>GIT\n  remote: git://github.com/swanandp/acts_as_list.git\n  revision: e14d4fb12f1c9ff0574364ae7aefa23e4eba7939\n  specs:\n    acts_as_list (0.7.2)\n      activerecord (&gt;= 3.0)\n\nGIT\n  remote: git://github.com/teohm/uniquify.git\n  revision: d9675b7e1e89d1b2914ee43f33a973491b57bd00\n  specs:\n    uniquify (0.1.0)\n\nGIT\n  remote: git@github.com:CollegeAbacus/abacus-common.git\n  revision: fc9695101eb09d77b97a67a4c14b95bec4f31841\n  branch: master\n  specs:\n    common_library (0.0.77)\n      acts_as_list\n      httparty (~&gt; 0.8)\n\nGEM\n  remote: http://rubygems.org/\n  specs:\n    CFPropertyList (2.3.2)\n    actionmailer (3.2.22)\n      actionpack (= 3.2.22)\n      mail (~&gt; 2.5.4)\n    actionpack (3.2.22)\n      activemodel (= 3.2.22)\n      activesupport (= 3.2.22)\n      builder (~&gt; 3.0.0)\n      erubis (~&gt; 2.7.0)\n      journey (~&gt; 1.0.4)\n      rack (~&gt; 1.4.5)\n      rack-cache (~&gt; 1.2)\n      rack-test (~&gt; 0.6.1)\n      sprockets (~&gt; 2.2.1)\n    active_record_query_trace (1.5)\n    activemodel (3.2.22)\n      activesupport (= 3.2.22)\n      builder (~&gt; 3.0.0)\n    activerecord (3.2.22)\n      activemodel (= 3.2.22)\n      activesupport (= 3.2.22)\n      arel (~&gt; 3.0.2)\n      tzinfo (~&gt; 0.3.29)\n    activeresource (3.2.22)\n      activemodel (= 3.2.22)\n      activesupport (= 3.2.22)\n    activesupport (3.2.22)\n      i18n (~&gt; 0.6, &gt;= 0.6.4)\n      multi_json (~&gt; 1.0)\n    acts_as_paranoid (0.4.3)\n      activerecord (~&gt; 3.2)\n    acts_as_xlsx (1.0.6)\n      activerecord (&gt;= 2.3.9)\n      axlsx (&gt;= 1.0.13)\n      i18n (&gt;= 0.4.1)\n    addressable (2.3.8)\n    annotate (2.6.10)\n      activerecord (&gt;= 3.2, &lt;= 4.3)\n      rake (~&gt; 10.4)\n    arel (3.0.3)\n    awesome_print (1.6.1)\n    axlsx (2.0.1)\n      htmlentities (~&gt; 4.3.1)\n      nokogiri (&gt;= 1.4.1)\n      rubyzip (~&gt; 1.0.0)\n    bcrypt (3.1.10)\n    binding_of_caller (0.7.2)\n      debug_inspector (&gt;= 0.0.1)\n    blockenspiel (0.4.5)\n    bluecloth (2.2.0)\n    bootstrap-sass (2.3.2.2)\n      sass (~&gt; 3.2)\n    bourbon (4.2.6)\n      sass (~&gt; 3.4)\n      thor (~&gt; 0.19)\n    builder (3.0.4)\n    capistrano (2.15.6)\n      highline\n      net-scp (&gt;= 1.0.0)\n      net-sftp (&gt;= 2.0.0)\n      net-ssh (&gt;= 2.0.14)\n      net-ssh-gateway (&gt;= 1.1.0)\n    capistrano-helpers (0.11.1)\n      capistrano (~&gt; 2.0)\n      git (~&gt; 1.0)\n      versionomy (~&gt; 0)\n    capistrano-shared-helpers (1.0.0)\n    capistrano-ssh-helpers (1.0.0)\n      capistrano\n    capistrano-templates (1.0.0)\n      capistrano\n      capistrano-helpers\n      capistrano-shared-helpers\n      capistrano-ssh-helpers\n      capistrano_colors\n      captify\n      rvm-capistrano\n    capistrano_colors (0.5.5)\n    captify (1.0.2)\n      capistrano\n    capybara (2.5.0)\n      mime-types (&gt;= 1.16)\n      nokogiri (&gt;= 1.3.3)\n      rack (&gt;= 1.0.0)\n      rack-test (&gt;= 0.5.4)\n      xpath (~&gt; 2.0)\n    capybara-webkit (1.0.0)\n      capybara (~&gt; 2.0, &gt;= 2.0.2)\n      json\n    chronic (0.10.2)\n    chunky_png (1.3.4)\n    cliver (0.3.2)\n    codemirror-rails (5.6)\n      railties (&gt;= 3.0, &lt; 5)\n    coderay (1.1.0)\n    coffee-rails (3.2.2)\n      coffee-script (&gt;= 2.2.0)\n      railties (~&gt; 3.2.0)\n    coffee-script (2.4.1)\n      coffee-script-source\n      execjs\n    coffee-script-source (1.9.1.1)\n    compass (1.0.3)\n      chunky_png (~&gt; 1.2)\n      compass-core (~&gt; 1.0.2)\n      compass-import-once (~&gt; 1.0.5)\n      rb-fsevent (&gt;= 0.9.3)\n      rb-inotify (&gt;= 0.9)\n      sass (&gt;= 3.3.13, &lt; 3.5)\n    compass-core (1.0.3)\n      multi_json (~&gt; 1.0)\n      sass (&gt;= 3.3.0, &lt; 3.5)\n    compass-import-once (1.0.5)\n      sass (&gt;= 3.2, &lt; 3.5)\n    compass-rails (2.0.5)\n      compass (~&gt; 1.0.0)\n      sass-rails (&lt; 5.1)\n      sprockets (&lt; 2.13)\n    csv-mapper (0.5.1)\n      fastercsv\n    curb (0.8.8)\n    daemons (1.2.3)\n    database_cleaner (1.5.1)\n    debug_inspector (0.0.2)\n    delayed_job (4.1.1)\n      activesupport (&gt;= 3.0, &lt; 5.0)\n    delayed_job_active_record (4.1.0)\n      activerecord (&gt;= 3.0, &lt; 5)\n      delayed_job (&gt;= 3.0, &lt; 5)\n    devise (3.5.2)\n      bcrypt (~&gt; 3.0)\n      orm_adapter (~&gt; 0.1)\n      railties (&gt;= 3.2.6, &lt; 5)\n      responders\n      thread_safe (~&gt; 0.1)\n      warden (~&gt; 1.2.3)\n    devise_security_extension (0.9.2)\n      devise (&gt;= 2.0.0)\n      rails (&gt;= 3.1.1)\n    diff-lcs (1.2.5)\n    dj_mon (1.1.0)\n      haml (~&gt; 3.1)\n      rails (~&gt; 3.1)\n    docile (1.1.5)\n    domain_name (0.5.25)\n      unf (&gt;= 0.0.5, &lt; 1.0.0)\n    enumerize (1.0.0)\n      activesupport (&gt;= 3.2)\n    erubis (2.7.0)\n    eventmachine (1.0.8)\n    excel_functions (0.0.4)\n    excon (0.45.4)\n    execjs (2.6.0)\n    factory_girl (4.5.0)\n      activesupport (&gt;= 3.0.0)\n    factory_girl_rails (4.5.0)\n      factory_girl (~&gt; 4.5.0)\n      railties (&gt;= 3.0.0)\n    faraday (0.9.2)\n      multipart-post (&gt;= 1.2, &lt; 3)\n    faraday_middleware (0.9.2)\n      faraday (&gt;= 0.7.4, &lt; 0.10)\n    fastercsv (1.5.5)\n    ffi (1.9.10)\n    fission (0.5.0)\n      CFPropertyList (~&gt; 2.2)\n    fog (1.35.0)\n      fog-aliyun\n      fog-atmos\n      fog-aws (&gt;= 0.6.0)\n      fog-brightbox (~&gt; 0.4)\n      fog-core (~&gt; 1.32)\n      fog-dynect (~&gt; 0.0.2)\n      fog-ecloud (~&gt; 0.1)\n      fog-google (&gt;= 0.1.1)\n      fog-json\n      fog-local\n      fog-powerdns (&gt;= 0.1.1)\n      fog-profitbricks\n      fog-radosgw (&gt;= 0.0.2)\n      fog-riakcs\n      fog-sakuracloud (&gt;= 0.0.4)\n      fog-serverlove\n      fog-softlayer\n      fog-storm_on_demand\n      fog-terremark\n      fog-vmfusion\n      fog-voxel\n      fog-xenserver\n      fog-xml (~&gt; 0.1.1)\n      ipaddress (~&gt; 0.5)\n      nokogiri\n    fog-aliyun (0.0.10)\n      fog-core (~&gt; 1.27)\n      fog-json (~&gt; 1.0)\n      ipaddress (~&gt; 0.8)\n      xml-simple (~&gt; 1.1)\n    fog-atmos (0.1.0)\n      fog-core\n      fog-xml\n    fog-aws (0.7.6)\n      fog-core (~&gt; 1.27)\n      fog-json (~&gt; 1.0)\n      fog-xml (~&gt; 0.1)\n      ipaddress (~&gt; 0.8)\n    fog-brightbox (0.9.0)\n      fog-core (~&gt; 1.22)\n      fog-json\n      inflecto (~&gt; 0.0.2)\n    fog-core (1.32.1)\n      builder\n      excon (~&gt; 0.45)\n      formatador (~&gt; 0.2)\n      mime-types\n      net-scp (~&gt; 1.1)\n      net-ssh (&gt;= 2.1.3)\n    fog-dynect (0.0.2)\n      fog-core\n      fog-json\n      fog-xml\n    fog-ecloud (0.3.0)\n      fog-core\n      fog-xml\n    fog-google (0.1.1)\n      fog-core\n      fog-json\n      fog-xml\n    fog-json (1.0.2)\n      fog-core (~&gt; 1.0)\n      multi_json (~&gt; 1.10)\n    fog-local (0.2.1)\n      fog-core (~&gt; 1.27)\n    fog-powerdns (0.1.1)\n      fog-core (~&gt; 1.27)\n      fog-json (~&gt; 1.0)\n      fog-xml (~&gt; 0.1)\n    fog-profitbricks (0.0.5)\n      fog-core\n      fog-xml\n      nokogiri\n    fog-radosgw (0.0.4)\n      fog-core (&gt;= 1.21.0)\n      fog-json\n      fog-xml (&gt;= 0.0.1)\n    fog-riakcs (0.1.0)\n      fog-core\n      fog-json\n      fog-xml\n    fog-sakuracloud (1.3.3)\n      fog-core\n      fog-json\n    fog-serverlove (0.1.2)\n      fog-core\n      fog-json\n    fog-softlayer (1.0.0)\n      fog-core\n      fog-json\n    fog-storm_on_demand (0.1.1)\n      fog-core\n      fog-json\n    fog-terremark (0.1.0)\n      fog-core\n      fog-xml\n    fog-vmfusion (0.1.0)\n      fission\n      fog-core\n    fog-voxel (0.1.0)\n      fog-core\n      fog-xml\n    fog-xenserver (0.2.2)\n      fog-core\n      fog-xml\n    fog-xml (0.1.2)\n      fog-core\n      nokogiri (~&gt; 1.5, &gt;= 1.5.11)\n    font-awesome-sass-rails (3.0.2.2)\n      railties (&gt;= 3.1.1)\n      sass-rails (&gt;= 3.1.1)\n    foreman (0.78.0)\n      thor (~&gt; 0.19.1)\n    formatador (0.2.5)\n    galetahub-simple_captcha (0.1.5)\n    git (1.2.9.1)\n    gon (6.0.1)\n      actionpack (&gt;= 3.0)\n      json\n      multi_json\n      request_store (&gt;= 1.0)\n    guard (2.13.0)\n      formatador (&gt;= 0.2.4)\n      listen (&gt;= 2.7, &lt;= 4.0)\n      lumberjack (~&gt; 1.0)\n      nenv (~&gt; 0.1)\n      notiffany (~&gt; 0.0)\n      pry (&gt;= 0.9.12)\n      shellany (~&gt; 0.0)\n      thor (&gt;= 0.18.1)\n    guard-compat (1.2.1)\n    guard-minitest (2.4.4)\n      guard-compat (~&gt; 1.2)\n      minitest (&gt;= 3.0)\n    haml (3.1.8)\n    haml-rails (0.4)\n      actionpack (&gt;= 3.1, &lt; 4.1)\n      activesupport (&gt;= 3.1, &lt; 4.1)\n      haml (&gt;= 3.1, &lt; 4.1)\n      railties (&gt;= 3.1, &lt; 4.1)\n    hashie (3.4.2)\n    headless (2.2.0)\n    highline (1.7.8)\n    hike (1.2.3)\n    htmlentities (4.3.4)\n    http-cookie (1.0.2)\n      domain_name (~&gt; 0.5)\n    httparty (0.13.7)\n      json (~&gt; 1.8)\n      multi_xml (&gt;= 0.5.2)\n    i18n (0.7.0)\n    i18n-js (2.1.2)\n      i18n\n    inflecto (0.0.2)\n    ipaddress (0.8.0)\n    journey (1.0.4)\n    jquery-rails (2.3.0)\n      railties (&gt;= 3.0, &lt; 5.0)\n      thor (&gt;= 0.14, &lt; 2.0)\n    jquery-ui-rails (3.0.1)\n      jquery-rails\n      railties (&gt;= 3.1.0)\n    json (1.8.3)\n    jwt (1.5.1)\n    kaminari (0.16.3)\n      actionpack (&gt;= 3.0.0)\n      activesupport (&gt;= 3.0.0)\n    kgio (2.10.0)\n    launchy (2.4.3)\n      addressable (~&gt; 2.3)\n    libv8 (3.16.14.13)\n    listen (3.0.3)\n      rb-fsevent (&gt;= 0.9.3)\n      rb-inotify (&gt;= 0.9)\n    lograge (0.3.4)\n      actionpack (&gt;= 3)\n      activesupport (&gt;= 3)\n      railties (&gt;= 3)\n    lumberjack (1.0.9)\n    mail (2.5.4)\n      mime-types (~&gt; 1.16)\n      treetop (~&gt; 1.4.8)\n    mailgun-rails (0.1.1)\n      actionmailer\n      activesupport\n      curb\n    mechanize (2.7.2)\n      domain_name (~&gt; 0.5, &gt;= 0.5.1)\n      http-cookie (~&gt; 1.0.0)\n      mime-types (~&gt; 1.17, &gt;= 1.17.2)\n      net-http-digest_auth (~&gt; 1.1, &gt;= 1.1.1)\n      net-http-persistent (~&gt; 2.5, &gt;= 2.5.2)\n      nokogiri (~&gt; 1.4)\n      ntlm-http (~&gt; 0.1, &gt;= 0.1.1)\n      webrobots (&gt;= 0.0.9, &lt; 0.2)\n    memcache-client (1.8.5)\n    method_source (0.8.2)\n    mime-types (1.25.1)\n    mini_portile (0.6.2)\n    minitest (5.8.1)\n    multi_json (1.11.2)\n    multi_xml (0.5.5)\n    multipart-post (2.0.0)\n    nenv (0.2.0)\n    nested_form (0.3.2)\n    net-http-digest_auth (1.4)\n    net-http-persistent (2.9.4)\n    net-scp (1.2.1)\n      net-ssh (&gt;= 2.6.5)\n    net-sftp (2.1.2)\n      net-ssh (&gt;= 2.6.5)\n    net-ssh (3.0.1)\n    net-ssh-gateway (1.2.0)\n      net-ssh (&gt;= 2.6.5)\n    netrc (0.10.3)\n    newrelic_rpm (3.14.0.305)\n    nokogiri (1.6.6.2)\n      mini_portile (~&gt; 0.6.0)\n    notiffany (0.0.8)\n      nenv (~&gt; 0.1)\n      shellany (~&gt; 0.0)\n    ntlm-http (0.1.1)\n    oauth (0.4.7)\n    oauth2 (1.0.0)\n      faraday (&gt;= 0.8, &lt; 0.10)\n      jwt (~&gt; 1.0)\n      multi_json (~&gt; 1.3)\n      multi_xml (~&gt; 0.5)\n      rack (~&gt; 1.2)\n    omniauth (1.2.2)\n      hashie (&gt;= 1.2, &lt; 4)\n      rack (~&gt; 1.0)\n    omniauth-facebook (2.0.1)\n      omniauth-oauth2 (~&gt; 1.2)\n    omniauth-google-oauth2 (0.2.8)\n      addressable (~&gt; 2.3)\n      jwt (~&gt; 1.0)\n      multi_json (~&gt; 1.3)\n      omniauth (&gt;= 1.1.1)\n      omniauth-oauth2 (&gt;= 1.1.1)\n    omniauth-oauth (1.1.0)\n      oauth\n      omniauth (~&gt; 1.0)\n    omniauth-oauth2 (1.3.1)\n      oauth2 (~&gt; 1.0)\n      omniauth (~&gt; 1.2)\n    omniauth-twitter (1.2.1)\n      json (~&gt; 1.3)\n      omniauth-oauth (~&gt; 1.1)\n    options (2.3.2)\n    orm_adapter (0.5.0)\n    paper_trail (2.7.2)\n      activerecord (~&gt; 3.0)\n      railties (~&gt; 3.0)\n    pg (0.18.3)\n    poltergeist (1.7.0)\n      capybara (~&gt; 2.1)\n      cliver (~&gt; 0.3.1)\n      multi_json (~&gt; 1.0)\n      websocket-driver (&gt;= 0.2.0)\n    polyglot (0.3.5)\n    pr_geohash (1.0.0)\n    progress_bar (1.0.5)\n      highline (~&gt; 1.6)\n      options (~&gt; 2.3.0)\n    pry (0.9.12.6)\n      coderay (~&gt; 1.0)\n      method_source (~&gt; 0.8)\n      slop (~&gt; 3.4)\n    pry-doc (0.8.0)\n      pry (~&gt; 0.9)\n      yard (~&gt; 0.8)\n    pry-rails (0.3.4)\n      pry (&gt;= 0.9.10)\n    pry-stack_explorer (0.4.9.2)\n      binding_of_caller (&gt;= 0.7)\n      pry (&gt;= 0.9.11)\n    quiet_assets (1.1.0)\n      railties (&gt;= 3.1, &lt; 5.0)\n    rabl-rails (0.4.1)\n      activesupport (&gt;= 3.1)\n      railties (&gt;= 3.1)\n      thread_safe (~&gt; 0.3.1)\n    rack (1.4.7)\n    rack-cache (1.5.0)\n      rack (&gt;= 0.4)\n    rack-pjax (0.8.0)\n      nokogiri (~&gt; 1.5)\n      rack (~&gt; 1.1)\n    rack-ssl (1.3.4)\n      rack\n    rack-test (0.6.3)\n      rack (&gt;= 1.0)\n    rails (3.2.22)\n      actionmailer (= 3.2.22)\n      actionpack (= 3.2.22)\n      activerecord (= 3.2.22)\n      activeresource (= 3.2.22)\n      activesupport (= 3.2.22)\n      bundler (~&gt; 1.0)\n      railties (= 3.2.22)\n    rails3-jquery-autocomplete (1.0.15)\n      rails (&gt;= 3.2)\n    rails_admin (0.4.4)\n      bootstrap-sass (~&gt; 2.2)\n      builder (~&gt; 3.0)\n      coffee-rails (~&gt; 3.1)\n      font-awesome-sass-rails (~&gt; 3.0, &gt;= 3.0.0.1)\n      haml (~&gt; 3.1)\n      jquery-rails (~&gt; 2.1)\n      jquery-ui-rails (~&gt; 3.0)\n      kaminari (~&gt; 0.14)\n      nested_form (~&gt; 0.3)\n      rack-pjax (~&gt; 0.6)\n      rails (~&gt; 3.1)\n      remotipart (~&gt; 1.0)\n      safe_yaml (~&gt; 0.6)\n      sass-rails (~&gt; 3.1)\n    rails_email_validator (0.1.4)\n      activemodel (&gt;= 3.0.0)\n    railties (3.2.22)\n      actionpack (= 3.2.22)\n      activesupport (= 3.2.22)\n      rack-ssl (~&gt; 1.3.2)\n      rake (&gt;= 0.8.7)\n      rdoc (~&gt; 3.4)\n      thor (&gt;= 0.14.6, &lt; 2.0)\n    raindrops (0.15.0)\n    rake (10.4.2)\n    rb-fsevent (0.9.6)\n    rb-inotify (0.9.5)\n      ffi (&gt;= 0.5.0)\n    rdoc (3.12.2)\n      json (~&gt; 1.4)\n    redis (3.2.1)\n    ref (2.0.0)\n    remotipart (1.2.1)\n    request_store (1.2.0)\n    responders (1.1.2)\n      railties (&gt;= 3.2, &lt; 4.2)\n    rest-client (1.8.0)\n      http-cookie (&gt;= 1.0.2, &lt; 2.0)\n      mime-types (&gt;= 1.16, &lt; 3.0)\n      netrc (~&gt; 0.7)\n    rmagick (2.15.4)\n    rsolr (1.0.13)\n      builder (&gt;= 2.1.2)\n    rspec-core (3.3.2)\n      rspec-support (~&gt; 3.3.0)\n    rspec-expectations (3.3.1)\n      diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n      rspec-support (~&gt; 3.3.0)\n    rspec-mocks (3.3.2)\n      diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n      rspec-support (~&gt; 3.3.0)\n    rspec-rails (3.3.3)\n      actionpack (&gt;= 3.0, &lt; 4.3)\n      activesupport (&gt;= 3.0, &lt; 4.3)\n      railties (&gt;= 3.0, &lt; 4.3)\n      rspec-core (~&gt; 3.3.0)\n      rspec-expectations (~&gt; 3.3.0)\n      rspec-mocks (~&gt; 3.3.0)\n      rspec-support (~&gt; 3.3.0)\n    rspec-support (3.3.0)\n    ruby-prof (0.15.8)\n    rubyzip (1.0.0)\n    rvm-capistrano (1.5.6)\n      capistrano (~&gt; 2.15.4)\n    safe_yaml (0.8.6)\n    sass (3.4.19)\n    sass-rails (3.2.6)\n      railties (~&gt; 3.2.0)\n      sass (&gt;= 3.1.10)\n      tilt (~&gt; 1.3)\n    seed-fu (2.3.5)\n      activerecord (&gt;= 3.1, &lt; 4.3)\n      activesupport (&gt;= 3.1, &lt; 4.3)\n    select2-rails (4.0.0)\n      thor (~&gt; 0.14)\n    shellany (0.0.1)\n    simple_form (2.1.3)\n      actionpack (~&gt; 3.0)\n      activemodel (~&gt; 3.0)\n    simple_oauth (0.3.1)\n    simplecov (0.10.0)\n      docile (~&gt; 1.1.0)\n      json (~&gt; 1.8)\n      simplecov-html (~&gt; 0.10.0)\n    simplecov-html (0.10.0)\n    slop (3.6.0)\n    sprockets (2.2.3)\n      hike (~&gt; 1.2)\n      multi_json (~&gt; 1.0)\n      rack (~&gt; 1.0)\n      tilt (~&gt; 1.1, != 1.3.0)\n    sunspot (2.2.0)\n      pr_geohash (~&gt; 1.0)\n      rsolr (~&gt; 1.0.7)\n    sunspot_rails (2.2.0)\n      nokogiri\n      rails (&gt;= 3)\n      sunspot (= 2.2.0)\n    sunspot_solr (2.2.0)\n    syslogger (1.6.4)\n    therubyracer (0.12.2)\n      libv8 (~&gt; 3.16.14.0)\n      ref\n    thin (1.6.4)\n      daemons (~&gt; 1.0, &gt;= 1.0.9)\n      eventmachine (~&gt; 1.0, &gt;= 1.0.4)\n      rack (~&gt; 1.0)\n    thor (0.19.1)\n    thread_safe (0.3.5)\n    tilt (1.4.1)\n    treetop (1.4.15)\n      polyglot\n      polyglot (&gt;= 0.3.1)\n    tumblr_client (0.8.5)\n      faraday (~&gt; 0.9.0)\n      faraday_middleware (~&gt; 0.9.0)\n      json\n      mime-types\n      oauth\n      simple_oauth\n    tzinfo (0.3.45)\n    uglifier (2.7.2)\n      execjs (&gt;= 0.3.0)\n      json (&gt;= 1.8.0)\n    unf (0.1.4)\n      unf_ext\n    unf_ext (0.0.7.1)\n    unicorn (4.9.0)\n      kgio (~&gt; 2.6)\n      rack\n      raindrops (~&gt; 0.7)\n    useragent (0.15.2)\n    versionomy (0.4.4)\n      blockenspiel (&gt;= 0.4.5)\n    warden (1.2.3)\n      rack (&gt;= 1.0)\n    webrobots (0.1.1)\n    websocket-driver (0.6.2)\n      websocket-extensions (&gt;= 0.1.0)\n    websocket-extensions (0.1.2)\n    whenever (0.9.4)\n      chronic (&gt;= 0.6.3)\n    will_paginate (3.0.7)\n    xml-simple (1.1.5)\n    xpath (2.0.0)\n      nokogiri (~&gt; 1.3)\n    yard (0.8.7.6)\n    zurb-foundation (4.0.9)\n      sass (&gt;= 3.2.0)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  active_record_query_trace\n  acts_as_list!\n  acts_as_paranoid (~&gt; 0.4.0)\n  acts_as_xlsx\n  annotate\n  awesome_print\n  bluecloth\n  bourbon\n  capistrano (~&gt; 2.15.5)\n  capistrano-templates\n  capybara\n  capybara-webkit (~&gt; 1.0.0)\n  codemirror-rails\n  coffee-rails (~&gt; 3.2.1)\n  common_library!\n  compass-rails\n  csv-mapper\n  daemons\n  database_cleaner\n  delayed_job\n  delayed_job_active_record\n  devise\n  devise_security_extension\n  dj_mon\n  enumerize\n  excel_functions\n  factory_girl_rails\n  fog\n  foreman\n  galetahub-simple_captcha\n  gon\n  guard\n  guard-minitest\n  haml (~&gt; 3.1.7)\n  haml-rails\n  hashie\n  headless\n  highline\n  httparty (~&gt; 0.8)\n  i18n-js\n  jquery-rails\n  launchy\n  lograge (~&gt; 0.3.1)\n  mailgun-rails\n  mechanize\n  memcache-client\n  minitest\n  newrelic_rpm\n  nokogiri (~&gt; 1.5)\n  omniauth\n  omniauth-facebook\n  omniauth-google-oauth2\n  omniauth-twitter\n  paper_trail (~&gt; 2.7.2)\n  pg\n  poltergeist\n  progress_bar\n  pry (~&gt; 0.9.12)\n  pry-doc\n  pry-rails\n  pry-stack_explorer\n  quiet_assets\n  rabl-rails\n  rails (~&gt; 3.2.12)\n  rails3-jquery-autocomplete\n  rails_admin\n  rails_email_validator\n  rb-fsevent\n  redis\n  remotipart (~&gt; 1.0)\n  rest-client\n  rmagick\n  rspec-rails\n  ruby-prof\n  safe_yaml (~&gt; 0.8.6)\n  sass-rails (~&gt; 3.2.6)\n  seed-fu\n  select2-rails\n  simple_form\n  simplecov\n  sunspot_rails\n  sunspot_solr\n  syslogger (~&gt; 1.6.0)\n  therubyracer\n  thin\n  tumblr_client\n  uglifier (&gt;= 1.0.3)\n  unicorn\n  uniquify!\n  useragent (~&gt; 0.15.2)\n  whenever\n  will_paginate\n  zurb-foundation (~&gt; 4.0.0)\n\nBUNDLED WITH\n   1.10.6\n</code></pre>\n"}, {"tags": ["ruby", "regex"], "comments": [{"owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 1, "creation_date": 1445401889, "post_id": 33250964, "comment_id": 54303661, "body": "<code>*</code> repeats the previous token (1 in the first line, <code>\\.</code> in the second line) 0 or more times. It&#39;s not the same as <code>*</code> in glob syntax"}], "answers": [{"comments": [{"owner": {"reputation": 2229, "user_id": 3081519, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e712d26a7a4f4df188be626eb520c88f?s=128&d=identicon&r=PG&f=1", "display_name": "user3081519", "link": "https://stackoverflow.com/users/3081519/user3081519"}, "edited": false, "score": 0, "creation_date": 1445402184, "post_id": 33250989, "comment_id": 54303748, "body": "Agreed. My bad. I was using lots of globs lately."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445416073, "post_id": 33250989, "comment_id": 54310170, "body": "Do <code>1*</code> and <code>\\.*</code> serve any purpose?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1445417297, "post_id": 33250989, "comment_id": 54310979, "body": "no,  first example expects a dot after 10 but the second one won&#39;t."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 3, "last_activity_date": 1445401887, "creation_date": 1445401887, "answer_id": 33250989, "question_id": 33250964, "link": "https://stackoverflow.com/questions/33250964/ruby-regular-expression-for-ip-address/33250989#33250989", "title": "Ruby Regular Expression For IP Address", "body": "<blockquote>\n  <p>In my expectations only the second version should succeed.</p>\n</blockquote>\n\n<p>No, Since you added <code>*</code> next to 1 which means there may be a possibility of 1 occurs zero or more times, ie <code>*</code> repeats the previous token zero or more times. So the first example must return true.</p>\n\n<p><code>\\.*</code> repeats the literal dot zero or more times. So this <code>^10\\.*</code> regex would match <code>10</code>, <code>10.</code>, <code>10......</code></p>\n"}], "owner": {"reputation": 2229, "user_id": 3081519, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e712d26a7a4f4df188be626eb520c88f?s=128&d=identicon&r=PG&f=1", "display_name": "user3081519", "link": "https://stackoverflow.com/users/3081519/user3081519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 33250989, "answer_count": 1, "score": 1, "last_activity_date": 1445417610, "creation_date": 1445401743, "question_id": 33250964, "link": "https://stackoverflow.com/questions/33250964/ruby-regular-expression-for-ip-address", "title": "Ruby Regular Expression For IP Address", "body": "<p>It doesn't work as expected. In my expectations only the second version should succeed. I would expect the same behaviour as in any other programming languages.</p>\n\n<pre><code>irb(main):071:0&gt; \"10.0.0.62\" =~ /^10\\.1*/\n=&gt; 0\nirb(main):072:0&gt; \"10.0.0.62\" =~ /^10\\.*/\n=&gt; 0\n</code></pre>\n\n<p>I read <a href=\"http://ruby-doc.org/core-2.1.0/Regexp.html\" rel=\"nofollow\">this</a>.</p>\n"}, {"tags": ["ruby", "io"], "answers": [{"comments": [{"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 0, "creation_date": 1445412713, "post_id": 33251011, "comment_id": 54308322, "body": "you can also use <code>puts *(1..10)</code>"}, {"owner": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "reply_to_user": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 1, "creation_date": 1445413194, "post_id": 33251011, "comment_id": 54308599, "body": "@GaganGami Yes, but then one needs to explain splatting a Range into an Array, which is way outside the scope of the original question or the intended answer. However, it can certainly be done, even though it saves only three characters of code at the expense of intentionality and readability. Source code should strive for clarity over cleverness. YMMV, but your splat notation has been duly noted for posterity. Thanks for the comment!"}], "tags": [], "owner": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "is_accepted": true, "score": 2, "last_activity_date": 1445402857, "last_edit_date": 1445402857, "creation_date": 1445402032, "answer_id": 33251011, "question_id": 33250937, "link": "https://stackoverflow.com/questions/33250937/ruby-printing-a-loop-to-file/33251011#33251011", "title": "Ruby - printing a &quot;loop&quot; to file", "body": "<h2>Use File#puts</h2>\n\n<blockquote>\n  <p>How do I do that, knowing that the following code only saves the latest output (\"10\").</p>\n</blockquote>\n\n<p>Don't do that. Use <a href=\"http://ruby-doc.org/core/IO.html#method-i-puts\" rel=\"nofollow\">File#puts</a> instead.</p>\n\n<pre><code>File.open('file', 'w') do |f|\n  (1..10).each { |i| f.puts i }\nend\n</code></pre>\n\n<h2>Writing an Array Instead of Looping</h2>\n\n<p>Note that the above can be written faster and much more compactly as:</p>\n\n<pre><code>File.open('file', 'w') { |f| f.puts (1..10).to_a }\n</code></pre>\n\n<p>by writing the array to the file with a single method call to #puts, rather than writing once per iteration. The results in the file remain the same, though.</p>\n"}], "owner": {"reputation": 255, "user_id": 3610137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/de66072482fa86fef2dabdb8eb8cb371?s=128&d=identicon&r=PG&f=1", "display_name": "user3610137", "link": "https://stackoverflow.com/users/3610137/user3610137"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 33251011, "answer_count": 1, "score": 1, "last_activity_date": 1445402857, "creation_date": 1445401596, "question_id": 33250937, "link": "https://stackoverflow.com/questions/33250937/ruby-printing-a-loop-to-file", "title": "Ruby - printing a &quot;loop&quot; to file", "body": "<p>Consider the following code:</p>\n\n<pre><code>(1..10).each do |i| \n   thing1 = i\n\n\n    aFile = File.new(\"input.txt\", \"r+\")\n    if aFile\n        aFile.syswrite(thing1)\n    else\n        puts \"Unable to open file!\"\n    end\nend\n</code></pre>\n\n<p>I am trying to print every value of i (in this case 1,2,3,...,10) into the file separated by a line:</p>\n\n<pre><code>1\n2\n3\n...\n9\n10\n</code></pre>\n\n<p>How do I do that, knowing that the following code only saves the latest output (\"10\").</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby", "orm", "datamapper", "ruby-datamapper"], "comments": [{"owner": {"reputation": 967, "user_id": 4136098, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oTWY6F0D_7I/AAAAAAAAAAI/AAAAAAAAAPQ/ZN-g-XyjLw0/photo.jpg?sz=128", "display_name": "Kh Ammad", "link": "https://stackoverflow.com/users/4136098/kh-ammad"}, "edited": false, "score": 0, "creation_date": 1445410223, "post_id": 33250691, "comment_id": 54306831, "body": "Here is what you are looking for: <a href=\"http://stackoverflow.com/a/8809259/4136098\">stackoverflow.com/a/8809259/4136098</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1202, "user_id": 1784508, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7cdf46daa409f427d297c21f01b44f06?s=128&d=identicon&r=PG", "display_name": "Omar Darwish", "link": "https://stackoverflow.com/users/1784508/omar-darwish"}, "is_accepted": true, "score": 0, "last_activity_date": 1445798217, "creation_date": 1445798217, "answer_id": 33333467, "question_id": 33250691, "link": "https://stackoverflow.com/questions/33250691/transfer-data-from-one-database-to-another-with-datamapper/33333467#33333467", "title": "Transfer data from one database to another with Datamapper", "body": "<p>The way I ended up doing it:</p>\n\n<pre><code>DataMapper.repository(:default){\n    Foo.each do |foo|\n        DataMapper.repository(:another){\n            newFoo = Foo.new\n            newFoo.attributes = foo.attributes\n            newFoo.save\n        }\n    end\n}\n</code></pre>\n"}], "owner": {"reputation": 1202, "user_id": 1784508, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7cdf46daa409f427d297c21f01b44f06?s=128&d=identicon&r=PG", "display_name": "Omar Darwish", "link": "https://stackoverflow.com/users/1784508/omar-darwish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 33333467, "answer_count": 1, "score": 0, "last_activity_date": 1445798217, "creation_date": 1445399911, "question_id": 33250691, "link": "https://stackoverflow.com/questions/33250691/transfer-data-from-one-database-to-another-with-datamapper", "title": "Transfer data from one database to another with Datamapper", "body": "<p>I have two repositories set up within data mapper as follows:</p>\n\n<pre><code>DataMapper.setup(:default, \"sqlite://path/to/db1\")\nDataMapper.setup(:another, \"sqlite://path/to/otherdb\")\n</code></pre>\n\n<p>Lets say I have a model <code>Foo</code> that they both share a schema for. This is the pseudocode that I want to accomplish:</p>\n\n<pre><code>DataMapper.repository(:default){\n    Foo.each do |f|\n        # do some transformations\n        # write to Foo table in DataMapper.repository(:another)\n    end\n}\n</code></pre>\n\n<p>How would I go about this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 181, "user_id": 3621476, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QlmQX.jpg?s=128&g=1", "display_name": "huhuhu", "link": "https://stackoverflow.com/users/3621476/huhuhu"}, "edited": false, "score": 0, "creation_date": 1445399950, "post_id": 33250587, "comment_id": 54303146, "body": "I saw your json example and I think this code should be.  <code>&lt;% session[:user].name.accounts.each do |test| %&gt; &lt;%test[&#39;data&#39;].each do |me| %&gt; &lt;%= me[&#39;name&#39;]%&gt; &lt;%end%&gt; &lt;%end%&gt;</code>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1445401033, "post_id": 33250587, "comment_id": 54303444, "body": "Do you mean you want the values of the keys <code>&quot;name&quot;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1445427882, "post_id": 33250687, "comment_id": 54317953, "body": "Raj Shakya, please consider upvoting the answer too if it really helped you solve your problem. Thanks."}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 0, "last_activity_date": 1445399888, "creation_date": 1445399888, "answer_id": 33250687, "question_id": 33250587, "link": "https://stackoverflow.com/questions/33250587/loop-through-array-of-hashes/33250687#33250687", "title": "loop through array of hashes", "body": "<p>Do it this way:</p>\n\n<pre><code>data_hash = { name: {\n        \"accounts\"=&gt;{\n          \"data\"=&gt;[\n\n              {\n              \"access_token\"=&gt;\"CAAUCR7n0ZC50BAGmqTb3FEYz9FzZCZAZBFdVZC6AM3iQrGUsVqWvCfI5q5vh4seRH6LwIQTSkZAznzeBaPlZBjQ3zcwdfWxPBIr78FZBVa8pymUzVX0UESSS7QC0Dm7iIUCMyRH175HV6ZCa2ugBmbJNB7joZB7oiILPH5jtpcCLkg8e7ztxyjeSODSO4ZBAM9z1pkZD\",\n              \"name\"=&gt;\"UNX\",\n              \"id\"=&gt;\"387832931391777\",\n              },\n              {\n              \"access_token\"=&gt;\"CAAUCR7n0ZC50BAEYnXR7bWGvhktsGXCaB43vB0mhSuKgZBQG1m5FyovssyVKt0XYv7K7essxPkVPU3nQZCqrQJeTtWhApV1cSYGsb4JbNmYlUiHmLHueEBjuomqRWVX6tvMZA0dA5zqMApbmPUtA7SBqruWUFzZAwZC9xZBXFMZCZAW7WNEL7epkb9dmiL2pX3AoZD\",\n              \"name\"=&gt;\"Fuitter\",\n              \"id\"=&gt;\"1412081982453898\",\n              }\n              ]\n          }\n        }\n      }\n\ndata_hash[:name]['accounts']['data'].map { |d| puts d['name'] }\n    # =&gt; UNX\n    # =&gt; Fuitter\n</code></pre>\n"}], "owner": {"reputation": 1428, "user_id": 4156793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0abab859fc0ae6541c3f63d7777f5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Raaz", "link": "https://stackoverflow.com/users/4156793/raaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 33250687, "answer_count": 1, "score": -1, "last_activity_date": 1445399888, "creation_date": 1445399215, "question_id": 33250587, "link": "https://stackoverflow.com/questions/33250587/loop-through-array-of-hashes", "title": "loop through array of hashes", "body": "<pre><code>name: {\n        \"accounts\"=&gt;{\n          \"data\"=&gt;[\n\n              {\n              \"access_token\"=&gt;\"CAAUCR7n0ZC50BAGmqTb3FEYz9FzZCZAZBFdVZC6AM3iQrGUsVqWvCfI5q5vh4seRH6LwIQTSkZAznzeBaPlZBjQ3zcwdfWxPBIr78FZBVa8pymUzVX0UESSS7QC0Dm7iIUCMyRH175HV6ZCa2ugBmbJNB7joZB7oiILPH5jtpcCLkg8e7ztxyjeSODSO4ZBAM9z1pkZD\",\n              \"name\"=&gt;\"UNX\",\n              \"id\"=&gt;\"387832931391777\",\n              },\n              {\n              \"access_token\"=&gt;\"CAAUCR7n0ZC50BAEYnXR7bWGvhktsGXCaB43vB0mhSuKgZBQG1m5FyovssyVKt0XYv7K7essxPkVPU3nQZCqrQJeTtWhApV1cSYGsb4JbNmYlUiHmLHueEBjuomqRWVX6tvMZA0dA5zqMApbmPUtA7SBqruWUFzZAwZC9xZBXFMZCZAW7WNEL7epkb9dmiL2pX3AoZD\",\n              \"name\"=&gt;\"Fuitter\",\n              \"id\"=&gt;\"1412081982453898\",\n              }\n              ]}}\n</code></pre>\n\n<p>I am trying to get the <code>name</code> key from the <code>data</code> array of hashes. I have used <code>each</code> to loop but that way I had to nest loop inside of loop. Is there another way to make this work?</p>\n\n<p>This <code>name</code> key is actually column in my database of data type json. </p>\n\n<pre><code>&lt;% session[:user].account.name.each do |test| %&gt;\n  &lt;% test.each do |me| %&gt;\n    &lt;%= me['data']['name']%&gt; #unable to fetch name and gives me undefined method `[]' for nil:NilClass error \n    &lt;br&gt;\n  &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>I am trying to get the value by nesting loops, but I got this error</p>\n\n<pre><code>unable to fetch name and gives me undefined method `[]' for nil:NilClass error \n</code></pre>\n"}, {"tags": ["ruby", "rspec", "integration"], "comments": [{"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "edited": false, "score": 0, "creation_date": 1445399766, "post_id": 33250577, "comment_id": 54303086, "body": "I made some traction by replacing <code>feature</code> with <code>describe</code> and <code>scenario</code> with <code>it</code>.....would be more readable if I could interachange, which I thought was possible."}, {"owner": {"reputation": 6689, "user_id": 273444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26988136c0514172417b7c7c863733f2?s=128&d=identicon&r=PG", "display_name": "Alexey Shein", "link": "https://stackoverflow.com/users/273444/alexey-shein"}, "edited": false, "score": 0, "creation_date": 1445411345, "post_id": 33250577, "comment_id": 54307452, "body": "What version of RSpec do you use? Do you have rspec-rails installed?"}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 6689, "user_id": 273444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26988136c0514172417b7c7c863733f2?s=128&d=identicon&r=PG", "display_name": "Alexey Shein", "link": "https://stackoverflow.com/users/273444/alexey-shein"}, "edited": false, "score": 0, "creation_date": 1445499241, "post_id": 33250577, "comment_id": 54351703, "body": "No I am writing in just ruby. I read that people with ruby rails has his. Is that a gem?"}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 6689, "user_id": 273444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26988136c0514172417b7c7c863733f2?s=128&d=identicon&r=PG", "display_name": "Alexey Shein", "link": "https://stackoverflow.com/users/273444/alexey-shein"}, "edited": false, "score": 0, "creation_date": 1445499276, "post_id": 33250577, "comment_id": 54351720, "body": "Rspec gem doesn&#39;t define a version so I think it should be the latest stable build."}, {"owner": {"reputation": 6689, "user_id": 273444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26988136c0514172417b7c7c863733f2?s=128&d=identicon&r=PG", "display_name": "Alexey Shein", "link": "https://stackoverflow.com/users/273444/alexey-shein"}, "edited": false, "score": 0, "creation_date": 1445499362, "post_id": 33250577, "comment_id": 54351766, "body": "Yep, <code>rspec-rails</code> is a gem, you can look into some documentation on it here: <a href=\"https://github.com/rspec/rspec-rails\" rel=\"nofollow noreferrer\">github.com/rspec/rspec-rails</a>. To find out gem version you can run <code>bundle show rspec-rails</code>."}], "owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445399146, "creation_date": 1445399146, "question_id": 33250577, "link": "https://stackoverflow.com/questions/33250577/using-feature-in-rspec-generating-an-error", "title": "using feature in Rspec generating an error", "body": "<p>I read the following article about using Rspec for feature tests:</p>\n\n<p><a href=\"https://about.futurelearn.com/blog/how-we-write-readable-feature-tests-with-rspec/\" rel=\"nofollow\">https://about.futurelearn.com/blog/how-we-write-readable-feature-tests-with-rspec/</a></p>\n\n<p>I tried the following after installing the <code>capybara</code> gem and got an error:</p>\n\n<pre><code>=&gt; schedule_kaya_spec.rb:9:in `&lt;top (required)&gt;': undefined method `feature' for RSpec:Module (NoMethodError)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>RSpec.feature \"Create recurring event and get slack via cron next day\" , :type =&gt; :feature  do\n\n    scenario \"User creates a daily recurring event at 10AM PST\" do\n\n        given_a_user_has_created_a_recurring_slack_event_at_10_pst\n\n        when_the_time_passes_10_pst_the_next_day\n\n        then_send_a_slack_message\n\n        and_update_next_occurrence_for_the_next_day\n\n    end\n\n\n    def given_a_user_has_created_a_recurring_slack_event_at_10_pst\n\n        # set time to 10AM PST\n        Time.zone = \"America/Los_Angeles\"\n        Chronic.time_class = Time.zone\n        Timecop.freeze(Chronic.parse(\"march 1, 2014 at 10AM\")) \n\n        user_input = \"xtest create recurring event at 10 AM PST everyday with keyword test reminder keyword\"\n        bot_client_id = 'test-client-id'\n\n        bot_response = BotResponse.new(bot_client_id, user_input, \"1000\")\n\n        bot_response.run\n\n    end\n</code></pre>\n\n<p><strong>Question:</strong>\n1) How can I create feature/scenario tests using methods like below?\n2) Is there a way I can make <code>feature</code> more like describe and have multiple features with nested scenarios?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "parameters"], "comments": [{"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445400861, "post_id": 33250468, "comment_id": 54303396, "body": "perhaps my model wasn&#39;t generated correctly?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1445401112, "post_id": 33250468, "comment_id": 54303468, "body": "please show your <code>schema.rb</code> file as well. Also, what do you see if you type: <code>Trip.first</code> in your rails console?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1445402543, "post_id": 33250468, "comment_id": 54303857, "body": "Can you create a trip in your rails console using this: <code>Trip.create(name: &#39;test&#39;, location: &#39;test location&#39;, start: &#39;2015-10-21&#39;, end: &#39;2015-10-27&#39;)</code>? Please do this and show me the output."}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "reply_to_user": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1445403514, "post_id": 33250468, "comment_id": 54304135, "body": "Again, posted above."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 0, "creation_date": 1445403596, "post_id": 33250468, "comment_id": 54304160, "body": "right, so it worked. if you visit: <code>localhost:3000&#47;trips&#47;11</code> you should be able to see the values properly."}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "reply_to_user": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "edited": false, "score": 1, "creation_date": 1445405082, "post_id": 33250468, "comment_id": 54304614, "body": "YOU&#39;RE RIGHT. The convention in which you enter the dates matter. Thanks for helping me through this."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 1, "creation_date": 1445399026, "post_id": 33250505, "comment_id": 54302903, "body": "yeah it says nil. Why for these two date values?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445399092, "post_id": 33250505, "comment_id": 54302916, "body": "So, when your <code>start</code> and <code>end</code> column&#39;s values will be present, they will show up in the page. Nothing wrong with your view."}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445399157, "post_id": 33250505, "comment_id": 54302930, "body": "but i entered in a date in the form on the browser. is it because i didn&#39;t enter the date in the correct convention?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445399163, "post_id": 33250505, "comment_id": 54302932, "body": "It depends how you saved those values in the database. If you save the values properly like you did for name and location, then those will show up too."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445399272, "post_id": 33250505, "comment_id": 54302965, "body": "could be. Make sure you save the values in the database correctly. Then it will work properly."}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445399340, "post_id": 33250505, "comment_id": 54302980, "body": "do you mean in my schema.rb file? I did everything the same as my name and location params."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445399388, "post_id": 33250505, "comment_id": 54302991, "body": "I can&#39;t tell exactly without seeing more detail. Try to create a <code>Trip</code> object from the rails console and see if you can save all the fields. Then see that trip object in the browser."}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445400152, "post_id": 33250505, "comment_id": 54303193, "body": "@coderk was my answer helpful to find/solve your problem? Let me know if you have any more question."}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445400426, "post_id": 33250505, "comment_id": 54303272, "body": "hmm...I was able to save all fields except the &#39;start&#39; and &#39;end&#39; fields...do you know why that is?"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445400473, "post_id": 33250505, "comment_id": 54303289, "body": "please show the <code>Trip</code> model code and how you are trying to save the trip object."}, {"owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445400665, "post_id": 33250505, "comment_id": 54303348, "body": "This is all that is in my model code...I think this is all that was generated by rails.      class Trip &lt; ActiveRecord::Base     end"}, {"owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "reply_to_user": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "edited": false, "score": 0, "creation_date": 1445400736, "post_id": 33250505, "comment_id": 54303366, "body": "Please edit/update your question with new information."}], "tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 0, "last_activity_date": 1445404205, "last_edit_date": 1445404205, "creation_date": 1445398705, "answer_id": 33250505, "question_id": 33250468, "link": "https://stackoverflow.com/questions/33250468/value-for-two-parameters-not-being-shown-ruby-on-rails/33250505#33250505", "title": "value for two parameters not being shown ruby on rails", "body": "<p>I think your <code>@trip.start</code> and <code>@trip.end</code> are <code>nil</code>, that's why you don't see it in the browser. Try doing this way to confirm that:</p>\n\n<pre><code>&lt;p&gt;\n  &lt;strong&gt;Start Date:&lt;/strong&gt;\n  &lt;%= @trip.start.inspect %&gt;\n&lt;/p&gt;\n\n&lt;p&gt;\n  &lt;strong&gt;End Date:&lt;/strong&gt;\n  &lt;%= @trip.end.inspect %&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>see if it shows <code>nil</code>s for their value now.</p>\n\n<p>It will show the value in the browser if the value is present.</p>\n"}], "owner": {"reputation": 71, "user_id": 5420328, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/33f43f31302081e1a04dd30b1e396675?s=128&d=identicon&r=PG&f=1", "display_name": "coderk", "link": "https://stackoverflow.com/users/5420328/coderk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 33250505, "answer_count": 1, "score": 2, "last_activity_date": 1445404205, "creation_date": 1445398397, "last_edit_date": 1445402765, "question_id": 33250468, "link": "https://stackoverflow.com/questions/33250468/value-for-two-parameters-not-being-shown-ruby-on-rails", "title": "value for two parameters not being shown ruby on rails", "body": "<p>When I go to my browser, the values for 'name' and 'location' are displayed but not the values entered for 'start' and 'end' (which are dates). Here is the code I have for my 'show'html and controller.</p>\n\n<p>show.html.erb:</p>\n\n<pre><code>&lt;p&gt;\n  &lt;strong&gt;Name:&lt;/strong&gt;\n  &lt;%= @trip.name %&gt;\n&lt;/p&gt;\n\n&lt;p&gt;\n &lt;strong&gt;Location:&lt;/strong&gt;\n &lt;%= @trip.location %&gt;\n&lt;/p&gt;\n\n&lt;p&gt;\n  &lt;strong&gt;Start Date:&lt;/strong&gt;\n  &lt;%= @trip.start %&gt;\n&lt;/p&gt;\n\n&lt;p&gt;\n  &lt;strong&gt;End Date:&lt;/strong&gt;\n  &lt;%= @trip.end %&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>trips_controller.rb:</p>\n\n<pre><code>class TripsController &lt; ApplicationController\ndef show\n    @trip = Trip.find(params[:id])\nend\n\ndef new\nend\n\ndef create\n    #render plain: params[:trip].inspect\n    @trip = Trip.new(trip_params)\n\n    @trip.save\n    redirect_to @trip\nend\n\nprivate\n    def trip_params\n        params.require(:trip).permit(:name, :location, :start, :end)\n    end\nend\n</code></pre>\n\n<p>trip.rb:</p>\n\n<pre><code>class Trip &lt; ActiveRecord::Base\nend\n</code></pre>\n\n<p>schema.rb:</p>\n\n<pre><code>ActiveRecord::Schema.define(version: 20151016023421) do\n  create_table \"trips\", force: :cascade do |t|\n    t.string   \"location\"\n    t.string   \"name\"\n    t.date     \"start\"\n    t.date     \"end\"\n    t.datetime \"created_at\", null: false\n    t.datetime \"updated_at\", null: false\n    t.integer  \"user_id\"\n  end\nend\n</code></pre>\n\n<p>In my rails console:</p>\n\n<pre><code>2.2.3 :013 &gt; Trip.first\n  Trip Load (0.5ms)  SELECT  \"trips\".* FROM \"trips\"  ORDER BY \"trips\".\"id\"         ASC LIMIT 1\n =&gt; #&lt;Trip id: 1, location: \"we\", name: \"a\", start: nil, end: nil,  created_at: \"2015-10-21 03:17:45\", updated_at: \"2015-10-21 03:17:45\", user_id:  nil&gt;\n\n2.2.3 :014 &gt; Trip.create(name: 'test', location: 'test location', start:  '2015-10-21', end: '2015-10-27')\n   (0.1ms)  begin transaction\n  SQL (0.5ms)  INSERT INTO \"trips\" (\"name\", \"location\", \"start\", \"end\",    \"created_at\", \"updated_at\") VALUES (?, ?, ?, ?, ?, ?)  [[\"name\", \"test\"],   [\"location\", \"test location\"], [\"start\", \"2015-10-21\"], [\"end\", \"2015-10-27\"],  [\"created_at\", \"2015-10-21 04:44:18.436966\"], [\"updated_at\", \"2015-10-21  04:44:18.436966\"]]\n   (22.7ms)  commit transaction\n =&gt; #&lt;Trip id: 11, location: \"test location\", name: \"test\", start: \"2015-10- 21\", end: \"2015-10-27\", created_at: \"2015-10-21 04:44:18\", updated_at: \"2015-10- 21 04:44:18\", user_id: nil&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "dtd", "shoulda"], "answers": [{"tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": false, "score": 1, "last_activity_date": 1445398501, "last_edit_date": 1445398501, "creation_date": 1445398128, "answer_id": 33250426, "question_id": 33250236, "link": "https://stackoverflow.com/questions/33250236/how-to-pass-rspec-test-has-many-shoulda-matchers/33250426#33250426", "title": "How to pass Rspec test has_many? [Shoulda-matchers]", "body": "<p>You have to setup the association between the models properly in your <code>user</code> and <code>card</code> factories.</p>\n\n<pre><code>factory :card do\n  # ...\n  association :user\nend\n</code></pre>\n\n<p>Then, it should work.</p>\n\n<p>See <a href=\"http://www.rubydoc.info/gems/factory_girl/file/GETTING_STARTED.md#Associations\" rel=\"nofollow\">this</a> to know more about associations in factory-girl.</p>\n\n<p>If the above doesn't fix your problem, try doing this way:</p>\n\n<pre><code># spec/factories/user.rb\n\nFactory.define :user, :class =&gt; User do |u|\n    u.cards { |c| [c.association(:card)] }\nend\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 3247513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xd6ez.png?s=128&g=1", "display_name": "Abraham", "link": "https://stackoverflow.com/users/3247513/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1964, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1445398501, "creation_date": 1445396616, "question_id": 33250236, "link": "https://stackoverflow.com/questions/33250236/how-to-pass-rspec-test-has-many-shoulda-matchers", "title": "How to pass Rspec test has_many? [Shoulda-matchers]", "body": "<p>I\u00b4m trying rails to develop a rest api. I\u00b4m using rspec and shoulda-matchers. The problem is that one of my test always fails.</p>\n\n<p>How can I correct my code, so the test passes (GREEN).</p>\n\n<p>user.rb</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n    has_many :cards\nend\n</code></pre>\n\n<p>card.rb</p>\n\n<pre><code>class Card &lt; ActiveRecord::Base\n    belongs_to :user\nend\n</code></pre>\n\n<p>user_spec.rb</p>\n\n<pre><code>require 'rails_helper'\n\nRSpec.describe User, type: :model do\n    before { @user = FactoryGirl.create(:user) } \n\n    subject{ @user }\n\n    # Columns\n    it { should respond_to :name }\n\n    # Associations\n    it { should have_many :cards }\nend\n</code></pre>\n\n<p>Gemfile</p>\n\n<pre><code>source 'https://rubygems.org'\n\n\ngem 'rails', '4.2.0'\n\ngem 'rails-api'\n\ngem 'spring', :group =&gt; :development\n\n\ngem 'sqlite3'\n\n\ngroup :development, :test do\n    gem 'factory_girl_rails'\n  gem 'rspec-rails', '~&gt; 3.0'\n  gem 'shoulda-matchers', '~&gt; 3.0'\nend\n</code></pre>\n\n<p>Terminal</p>\n\n<pre><code>\u279c  my_api  rspec spec/models/user_spec.rb\n.F\n\nFailures:\n\n  1) User should have many :cards\n     Failure/Error: it { should have_many :cards }\n       expected #&lt;User:0x007f897ce0c0d8&gt; to respond to `has_many?`\n     # ./spec/models/user_spec.rb:12:in `block (2 levels) in &lt;top (required)&gt;'\n\nFinished in 0.04623 seconds (files took 2.45 seconds to load)\n2 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/models/user_spec.rb:12 # User should have many :cards\n</code></pre>\n"}, {"tags": ["arrays", "ruby", "string", "sorting"], "comments": [{"owner": {"reputation": 997, "user_id": 2085282, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7f3c60909c612ccd978a2e381c4ac45?s=128&d=identicon&r=PG", "display_name": "user2085282", "link": "https://stackoverflow.com/users/2085282/user2085282"}, "edited": false, "score": 0, "creation_date": 1445396095, "post_id": 33250103, "comment_id": 54302184, "body": "have a look at <a href=\"http://apidock.com/ruby/String/to_f\" rel=\"nofollow noreferrer\">apidock.com/ruby/String/to_f</a>, a.to_f returns 0.0 if a is not valid number, you&#39;ll want to check for this using a supplied block."}], "answers": [{"tags": [], "owner": {"reputation": 404, "user_id": 2492107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4569aec00cb223b3fbf484f9e7ba1256?s=128&d=identicon&r=PG", "display_name": "Renan Ranelli", "link": "https://stackoverflow.com/users/2492107/renan-ranelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1445397855, "creation_date": 1445397855, "answer_id": 33250394, "question_id": 33250103, "link": "https://stackoverflow.com/questions/33250103/sort-an-array-that-has-normal-string-elements-and-number-like-string-elements/33250394#33250394", "title": "Sort an array that has normal string elements and &quot;number-like&quot; string elements", "body": "<p>Quick and dirty:</p>\n\n<pre><code>arry = [\"1\", \"world\", \"6\", \"21\", \"hello\"]\n# separate \"number\" strings from other strings\ntmp = arry.partition { |x| Float(x) rescue nil }\n# sort the \"numbers\" by their numberic value\ntmp.first.sort_by!(&amp;:to_f)\n# join them all in a single array\ntmp.flatten!\n</code></pre>\n\n<p>Will probably suit your needs</p>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445419368, "post_id": 33255125, "comment_id": 54312293, "body": "What about <code>[&#39;10.0&#39;, &#39;9.0&#39;, &#39;cat&#39;]</code>?"}, {"owner": {"reputation": 174, "user_id": 5460225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QsuJW.jpg?s=128&g=1", "display_name": "owade", "link": "https://stackoverflow.com/users/5460225/owade"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445437485, "post_id": 33255125, "comment_id": 54324926, "body": "Yes it wont work but i used the value &quot;4.5&quot; given by op and based my answer on it."}], "tags": [], "owner": {"reputation": 174, "user_id": 5460225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QsuJW.jpg?s=128&g=1", "display_name": "owade", "link": "https://stackoverflow.com/users/5460225/owade"}, "is_accepted": false, "score": 1, "last_activity_date": 1445437348, "last_edit_date": 1445437348, "creation_date": 1445418263, "answer_id": 33255125, "question_id": 33250103, "link": "https://stackoverflow.com/questions/33250103/sort-an-array-that-has-normal-string-elements-and-number-like-string-elements/33255125#33255125", "title": "Sort an array that has normal string elements and &quot;number-like&quot; string elements", "body": "<p>sort in ruby 1.9+</p>\n\n<pre><code>[\"1.2\", \"World\", \"6.7\", \"3.4\", \"Hello\"].sort\n</code></pre>\n\n<p>will return</p>\n\n<pre><code>[\"1.2\", \"3.4\", \"6.7\", \"Hello\", \"World\"]\n</code></pre>\n\n<p>You can use @cary solution for certain edge cases eg [\"10.0\",\"3.2\",\"hey\",\"world\"]</p>\n"}, {"comments": [{"owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "edited": false, "score": 1, "creation_date": 1445440867, "post_id": 33255847, "comment_id": 54327534, "body": "You could extend this to <code>[(Float(s) rescue Float::INFINITY), s]</code> if you want the strings at the end sorted too."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 1, "last_activity_date": 1445439752, "last_edit_date": 1445439752, "creation_date": 1445420470, "answer_id": 33255847, "question_id": 33250103, "link": "https://stackoverflow.com/questions/33250103/sort-an-array-that-has-normal-string-elements-and-number-like-string-elements/33255847#33255847", "title": "Sort an array that has normal string elements and &quot;number-like&quot; string elements", "body": "<pre><code>arr = [\"21.4\", \"world\", \"6.2\", \"1.1\", \"hello\"]\n\narr.sort_by { |s| Float(s) rescue Float::INFINITY }\n  #=&gt; [\"1.1\", \"6.2\", \"21.4\", \"world\", \"hello\"]\n</code></pre>\n"}], "owner": {"reputation": 903, "user_id": 659922, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fe9aab6a750fe881cc58511079ff9928?s=128&d=identicon&r=PG", "display_name": "J.E.Y", "link": "https://stackoverflow.com/users/659922/j-e-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 33255847, "answer_count": 3, "score": 0, "last_activity_date": 1445439752, "creation_date": 1445395554, "last_edit_date": 1445396795, "question_id": 33250103, "link": "https://stackoverflow.com/questions/33250103/sort-an-array-that-has-normal-string-elements-and-number-like-string-elements", "title": "Sort an array that has normal string elements and &quot;number-like&quot; string elements", "body": "<p>I have an array that includes float-like strings like <code>\"4.5\"</code>, and regular strings like <code>\"Hello\"</code>. I want to sort the array so that regular strings come at the end and the float-like strings come before them and are sorted by their float value.</p>\n\n<p>I did:</p>\n\n<pre><code>@arr.sort {|a,b| a.to_f &lt;=&gt; b.to_f }\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445396229, "post_id": 33249840, "comment_id": 54302220, "body": "What is the output of <code>rake routes</code>? For some reason your form is submitting using PATCH instead of POST. Are you trying to submit via AJAX?"}, {"owner": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445396756, "post_id": 33249840, "comment_id": 54302338, "body": "Are you submitting your form via AJAX? or does it have a submit button you click?"}, {"owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "reply_to_user": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445396823, "post_id": 33249840, "comment_id": 54302355, "body": "Interesting. It has two entries. PATCH/PUT. I have an admin template that could be causing the problem. Probably some sort of JavaScript or AJAX somewhere."}, {"owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "reply_to_user": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445396864, "post_id": 33249840, "comment_id": 54302365, "body": "I&#39;ll check into that. The only thing assigned to form buttons is Twitter Bootstrap class."}, {"owner": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445396893, "post_id": 33249840, "comment_id": 54302368, "body": "Yeah but the PATCH/PUT are for the single address edit. You are using <code>user_addresses_path</code> which only have GET and POST"}, {"owner": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445396911, "post_id": 33249840, "comment_id": 54302373, "body": "Try adding <code>method: :post</code> to the <code>form_for</code> hash right after url. Like <code>&lt;%= form_for([@address.user, @address], url: user_addresses_path, method: :post) do |f| %&gt;</code>"}, {"owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "reply_to_user": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445397358, "post_id": 33249840, "comment_id": 54302486, "body": "That worked. If you don&#39;t mind just throwing that line in an answer I can give you credit."}, {"owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "reply_to_user": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "edited": false, "score": 0, "creation_date": 1445399705, "post_id": 33249840, "comment_id": 54303066, "body": "Thanks Again. I really appreciate it."}], "answers": [{"tags": [], "owner": {"reputation": 2589, "user_id": 3684203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dMfn.jpg?s=128&g=1", "display_name": "nbermudezs", "link": "https://stackoverflow.com/users/3684203/nbermudezs"}, "is_accepted": true, "score": 1, "last_activity_date": 1445397429, "creation_date": 1445397429, "answer_id": 33250329, "question_id": 33249840, "link": "https://stackoverflow.com/questions/33249840/form-for-routing-error-with-scope-module-nested-routes/33250329#33250329", "title": "form_for routing error with scope :module nested routes", "body": "<p>If you are using AJAX to submit the form, try adding <code>method: 'POST'</code> to it. </p>\n\n<p>If you are submitting the form normally, try adding <code>method: :post</code> to the <code>form_for</code> hash.</p>\n\n<p>It should end up something like: </p>\n\n<p><code>&lt;%= form_for([@address.user, @address], url: user_addresses_path, method: :post) do |f| %&gt;</code></p>\n"}], "owner": {"reputation": 323, "user_id": 1092800, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yVzfE.jpg?s=128&g=1", "display_name": "bradpotts", "link": "https://stackoverflow.com/users/1092800/bradpotts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 33250329, "answer_count": 1, "score": 2, "last_activity_date": 1445397429, "creation_date": 1445393730, "last_edit_date": 1445396695, "question_id": 33249840, "link": "https://stackoverflow.com/questions/33249840/form-for-routing-error-with-scope-module-nested-routes", "title": "form_for routing error with scope :module nested routes", "body": "<p>This may not make sense but I'm trying  to learn harder stuff and progress, it seems like I'm missing the ID for address but can't seem to find a solution.</p>\n\n<p>I included the url in form_for because when I remove it, the app breaks. But seems like I predefined the url than edit breaks.</p>\n\n<pre><code> &lt;%= form_for([@address.user, @address], :url =&gt; user_addresses_path) do |f| %&gt;\n</code></pre>\n\n<p>Error Readout:<br>\nNo route matches [PATCH] \"/users/1/addresses\"</p>\n\n<p>When I remove :url=><br>\nundefined method `user_client_address_path'</p>\n\n<p>routes.rb</p>\n\n<pre><code>Rails.application.routes.draw do\n\n    # Security Devise Setup\n    devise_for :admins\n    devise_for :users\n\n    # Main Pages\n    root 'website/page#index'\n\n    # Client Sections\n    resources :users do\n        scope module: \"client\" do\n            root :to =&gt; 'dashboard#index'\n            resources :addresses\n        end\n    end\n\n    namespace :admin do\n        root :to =&gt; 'panel#index'\n    end\n\nend\n</code></pre>\n\n<p>rake routes partial output (let me know if more is needed)</p>\n\n<pre><code>user_addresses      GET    /users/:user_id/addresses(.:format)          client/addresses#index\n                    POST   /users/:user_id/addresses(.:format)          client/addresses#create\nnew_user_address    GET    /users/:user_id/addresses/new(.:format)      client/addresses#new\nedit_user_address   GET    /users/:user_id/addresses/:id/edit(.:format) client/addresses#edit\nuser_address        GET    /users/:user_id/addresses/:id(.:format)      client/addresses#show\n                    PATCH  /users/:user_id/addresses/:id(.:format)      client/addresses#update\n                    PUT    /users/:user_id/addresses/:id(.:format)      client/addresses#update\n                    DELETE /users/:user_id/addresses/:id(.:format)      client/addresses#destroy\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "sass"], "comments": [{"owner": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 0, "creation_date": 1445393826, "post_id": 33249813, "comment_id": 54301615, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/16242546/sass-making-underscore-file-names-actually-create-css-files\" title=\"sass making underscore file names actually create css files\">stackoverflow.com/questions/16242546/&hellip;</a>"}, {"owner": {"reputation": 107, "user_id": 5066178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-0ezkNmNCOWs/AAAAAAAAAAI/AAAAAAAAABM/Zy4NZOEQxWo/photo.jpg?sz=128", "display_name": "\u9ea6\u5fd7\u5764", "link": "https://stackoverflow.com/users/5066178/%e9%ba%a6%e5%bf%97%e5%9d%a4"}, "reply_to_user": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 0, "creation_date": 1445394415, "post_id": 33249813, "comment_id": 54301755, "body": "I removed the underline, also  wrong"}, {"owner": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 0, "creation_date": 1445394493, "post_id": 33249813, "comment_id": 54301781, "body": "You can&#39;t just remove the underscore when you call the watch command, you have to remove it from the file itself."}, {"owner": {"reputation": 107, "user_id": 5066178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-0ezkNmNCOWs/AAAAAAAAAAI/AAAAAAAAABM/Zy4NZOEQxWo/photo.jpg?sz=128", "display_name": "\u9ea6\u5fd7\u5764", "link": "https://stackoverflow.com/users/5066178/%e9%ba%a6%e5%bf%97%e5%9d%a4"}, "reply_to_user": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 0, "creation_date": 1445394777, "post_id": 33249813, "comment_id": 54301867, "body": "Yes,but my already  remove it from the file itself. eg:@import &quot;bootstrap/tables&quot;;@import &quot;bootstrap/forms&quot;;"}], "owner": {"reputation": 107, "user_id": 5066178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-0ezkNmNCOWs/AAAAAAAAAAI/AAAAAAAAABM/Zy4NZOEQxWo/photo.jpg?sz=128", "display_name": "\u9ea6\u5fd7\u5764", "link": "https://stackoverflow.com/users/5066178/%e9%ba%a6%e5%bf%97%e5%9d%a4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1445393549, "creation_date": 1445393485, "question_id": 33249813, "link": "https://stackoverflow.com/questions/33249813/sass-3-4-19-dont-can-use-watch", "title": "Sass 3.4.19 don&#39;t can use --watch", "body": "<p>My sass use </p>\n\n<pre><code>K:sass maizhikun$ sass  _bootstrap.scss ../CSS/Haplox.css\n</code></pre>\n\n<p>It is succeed.</p>\n\n<p>But use</p>\n\n<pre><code>K:sass maizhikun$ sass --watch _bootstrap.scss:Haplox.css\n&gt;&gt;&gt; Sass is watching for changes. Press Ctrl-C to stop.\nI, [2015-10-21T10:04:30.381624 #4494]  INFO -- : Celluloid 0.17.2 is running in BACKPORTED mode. [ http://git.io/vJf3J ]\nArgumentError: wrong number of arguments (2 for 1)\nUse --trace for backtrace.\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "terminal", "gem", "ubuntu-14.04"], "comments": [{"owner": {"reputation": 1461, "user_id": 2059047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5e1327cb46137894ca902795db2111ac?s=128&d=identicon&r=PG", "display_name": "Prashant4224", "link": "https://stackoverflow.com/users/2059047/prashant4224"}, "edited": false, "score": 0, "creation_date": 1445396796, "post_id": 33249743, "comment_id": 54302345, "body": "Use rvm, select from the list <code>rvm list</code>"}, {"owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "reply_to_user": {"reputation": 1461, "user_id": 2059047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5e1327cb46137894ca902795db2111ac?s=128&d=identicon&r=PG", "display_name": "Prashant4224", "link": "https://stackoverflow.com/users/2059047/prashant4224"}, "edited": false, "score": 0, "creation_date": 1445398444, "post_id": 33249743, "comment_id": 54302757, "body": "@Prashant4224 Both terminals give the same output. I posted the result."}, {"owner": {"reputation": 1461, "user_id": 2059047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5e1327cb46137894ca902795db2111ac?s=128&d=identicon&r=PG", "display_name": "Prashant4224", "link": "https://stackoverflow.com/users/2059047/prashant4224"}, "edited": false, "score": 0, "creation_date": 1445408812, "post_id": 33249743, "comment_id": 54306148, "body": "Go through this <a href=\"https://rvm.io/integration/gnome-terminal\" rel=\"nofollow noreferrer\">gnome-terminal with rvm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "edited": false, "score": 0, "creation_date": 1445404908, "post_id": 33251367, "comment_id": 54304559, "body": "How do I check if RVM is set up correctly? What do you mean by bash hooks?"}, {"owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "reply_to_user": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "edited": false, "score": 0, "creation_date": 1445405667, "post_id": 33251367, "comment_id": 54304810, "body": "<a href=\"https://rvm.io/support/troubleshooting\" rel=\"nofollow noreferrer\">rvm.io/support/troubleshooting</a> - just the first section. It&#39;s likely that any terminal you used to install rvm won&#39;t work. You should run <code>ruby -v</code> and <code>which ruby</code> to see which version of ruby your particular terminal window is using."}, {"owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "edited": false, "score": 0, "creation_date": 1445405907, "post_id": 33251367, "comment_id": 54304910, "body": "Where can I find the &quot;shell configuration files&quot; that it&#39;s talking about?"}, {"owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "reply_to_user": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "edited": false, "score": 0, "creation_date": 1445406012, "post_id": 33251367, "comment_id": 54304932, "body": "in your home ~ directory, but i&#39;d say the best bet is that you just had to open a new terminal window to get your rvm working after installing it. <code>ruby -v</code> and <code>which ruby</code> will tell you if that&#39;s the case."}, {"owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "edited": false, "score": 0, "creation_date": 1445406102, "post_id": 33251367, "comment_id": 54304966, "body": "<code>ruby -v</code> returns &quot;ruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]&quot;, which is strange because I ran <code>rvm install 2.0.0</code> to install it."}, {"owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "reply_to_user": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "edited": false, "score": 0, "creation_date": 1445406229, "post_id": 33251367, "comment_id": 54305005, "body": "then you&#39;re probably using system ruby in that terminal. try a new window, if it&#39;s still 1.9.3 then your rvm just isn&#39;t loading as part of .bash_profile or .bashrc, in which case (in the absence of errors when loading that new term window) I suggest reinstalling rvm."}, {"owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "edited": false, "score": 0, "creation_date": 1445406391, "post_id": 33251367, "comment_id": 54305068, "body": "Huh. I opened a new window and reinstalled rvm, and <code>ruby -v</code> still returns &quot;ruby 1.9.3&quot;."}], "tags": [], "owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "is_accepted": false, "score": 2, "last_activity_date": 1445404129, "creation_date": 1445404129, "answer_id": 33251367, "question_id": 33249743, "link": "https://stackoverflow.com/questions/33249743/when-rails-app-is-accessed-from-a-new-terminal-all-gems-are-deleted/33251367#33251367", "title": "When Rails app is accessed from a new terminal, all gems are deleted", "body": "<p>Your rvm setup isn't right. A new terminal is running the rvm shims (paths to rvm ruby and gems), and the old terminal is pointing to a different ruby version, maybe even the system ruby; or vice versa.</p>\n\n<p>Close all terminals, start a fresh one, check to see if RVM is set up correctly with the bash hooks; then bundle install.</p>\n"}], "owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1445407051, "creation_date": 1445392973, "last_edit_date": 1445407051, "question_id": 33249743, "link": "https://stackoverflow.com/questions/33249743/when-rails-app-is-accessed-from-a-new-terminal-all-gems-are-deleted", "title": "When Rails app is accessed from a new terminal, all gems are deleted", "body": "<p>This bizarre...I replaced the hard drive on my computer and reinstalled Ubuntu 14.04, and cloned my Rails app. I set it all up, ran bundle install, and everything went fine.</p>\n\n<p>But when I open a new terminal and access the app from it, the new terminal thinks that my app doesn't have any gems installed. Even <code>rails -v</code> returns </p>\n\n<pre><code>$ rails -v\nThe program 'rails' can be found in the following packages:\n * ruby-railties-3.2\n * ruby-railties-4.0\nTry: sudo apt-get install &lt;selected package&gt;\n</code></pre>\n\n<p>and <code>bundle install</code> returns </p>\n\n<pre><code>Your Ruby version is 1.9.3, but your Gemfile specified 2.0.0\n</code></pre>\n\n<p>But on the terminal I used to set up my app (both terminals are open at the same time) if I run <code>rails -v</code> I get the normal output \"Rails 4.0.10\n\", and <code>bundle install</code> executes normally.</p>\n\n<p>I'm pretty sure if I were to quit out of the terminal I used to set it up, all the changes I've made to my app would be reverted for good, but I don't want to test that theory.</p>\n\n<p>How is it possible for two simultaneous terminals to see a project differently??</p>\n\n<p><strong>Output of <code>rvm list</code> for BOTH terminals</strong></p>\n\n<pre><code>$ rvm list\n\n\nrvm rubies\n\n=* ruby-2.0.0-p643 [ x86_64 ]\n\n# =&gt; - current\n# =* - current &amp;&amp; default\n#  * - default\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I closed all open terminals and opened up a new one, and reinstalled RVM and ruby. No matter how many times I do this, <code>ruby -v</code> always returns</p>\n\n<pre><code>ruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]\n</code></pre>\n\n<p>but <code>rvm install 2.0.0</code> returns</p>\n\n<pre><code>Already installed ruby-2.0.0-p643.\nTo reinstall use:\n\n    rvm reinstall ruby-2.0.0-p643\n</code></pre>\n"}, {"tags": ["ios", "ruby", "calabash-ios"], "comments": [{"owner": {"reputation": 212, "user_id": 3303346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOwWy.jpg?s=128&g=1", "display_name": "king_wayne", "link": "https://stackoverflow.com/users/3303346/king-wayne"}, "edited": false, "score": 0, "creation_date": 1445443475, "post_id": 33249737, "comment_id": 54329346, "body": "Why do you need to pass an argument for <code>start_test_server_in_background</code>?  Without knowing anything else about what you have done then to me it sounds like your system is not properly configured.  Do you have your <code>cal-scheme</code> built and configured?  When you run the command <code>calabash-ios console</code> are you executing it from your project&#39;s directory?  I&#39;ve never had to pass an argument for running the test server."}, {"owner": {"reputation": 9298, "user_id": 10631, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/11e7597f889f569d804b6f8c79e60e6a?s=128&d=identicon&r=PG", "display_name": "Cliff", "link": "https://stackoverflow.com/users/10631/cliff"}, "reply_to_user": {"reputation": 212, "user_id": 3303346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOwWy.jpg?s=128&g=1", "display_name": "king_wayne", "link": "https://stackoverflow.com/users/3303346/king-wayne"}, "edited": false, "score": 0, "creation_date": 1445444602, "post_id": 33249737, "comment_id": 54330048, "body": "Yes I realize this is an edge case, however our project is configured to accept a cmd line argument to enable a special boot override that allows test hooks. We usually pass this in the IDE and I was looking for a way to pass this from Calabash. Again this is an edge case and I have another approach. I was just curious."}], "answers": [{"tags": [], "owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "is_accepted": false, "score": 1, "last_activity_date": 1445465069, "creation_date": 1445465069, "answer_id": 33270073, "question_id": 33249737, "link": "https://stackoverflow.com/questions/33249737/pass-cmd-line-args-to-app-with-calabash-ios/33270073#33270073", "title": "Pass cmd line args to app with Calabash-ios", "body": "<p>To pass arguments to the app use:</p>\n\n<pre><code> options = {:args =&gt; ['-com.apple.CoreData.ConcurrencyDebug', '1']}\n start_test_server_in_background(options)\n</code></pre>\n\n<p>For more details see: <a href=\"https://github.com/calabash/calabash-ios/issues/363\" rel=\"nofollow\">https://github.com/calabash/calabash-ios/issues/363</a></p>\n\n<p>The gist is to pass a comma separated list of strings.  In your case:</p>\n\n<pre><code> options = {:args =&gt; [\"-OverrideWebApp\", \"test/index.html\"]}\n</code></pre>\n"}], "owner": {"reputation": 9298, "user_id": 10631, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/11e7597f889f569d804b6f8c79e60e6a?s=128&d=identicon&r=PG", "display_name": "Cliff", "link": "https://stackoverflow.com/users/10631/cliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445465069, "creation_date": 1445392931, "question_id": 33249737, "link": "https://stackoverflow.com/questions/33249737/pass-cmd-line-args-to-app-with-calabash-ios", "title": "Pass cmd line args to app with Calabash-ios", "body": "<p>I'm using calabash-ios for test automation and I'm struggling with passing command line args to my iOS app on startup. I'm no Ruby programmer but looking through the source prompted me to try appending the cmd line args to the APP path. I tried something like this in the calabash-ios console:</p>\n\n<pre><code>start_test_server_in_background({:app =&gt; \"#{ENV['APP']} -OverrideWebApp test/index.html\"})\n</code></pre>\n\n<p>Where \"-OverrideWebApp test/index.html\" are the cmd line args I'm trying to pass. Is there some special key or a hook I should use to get the cmd line args passed to my app? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "enums", "seed"], "owner": {"reputation": 563, "user_id": 4553127, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/798f12d07ee2d35642aa794acae5e1a2?s=128&d=identicon&r=PG", "display_name": "ChiefRockaChris", "link": "https://stackoverflow.com/users/4553127/chiefrockachris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 704, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446174023, "creation_date": 1445392483, "last_edit_date": 1446174023, "question_id": 33249679, "link": "https://stackoverflow.com/questions/33249679/rails-seeding-an-enum-attribute", "title": "Rails Seeding an Enum Attribute", "body": "<p>So I have a model <code>Post</code> that has an enum declared in the model like so:</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  enum draft_status: [:draft,:published]\n</code></pre>\n\n<p>I'm using Rails 4, It works fine everywhere except in my seeds.rb file. </p>\n\n<pre><code>post =Post.create!(user: user, content: \"lorem ipsum\", draft_status: 1)\n</code></pre>\n\n<p>Whenever I run db:seed I get the same error:</p>\n\n<blockquote>\n  <p>ActiveModel::MissingAttributeError: can't write unknown attribute\n  <code>draft_status</code></p>\n</blockquote>\n\n<p>I even tried doing this: </p>\n\n<pre><code>post =Post.create!(user: user, content: \"lorem ipsum\", draft_status: 1)\npost.published!\n</code></pre>\n\n<p>I still get the same error. The migration exists and I can see the attribute in the schema. Further, every call in my console to <code>@post.draft_status</code> works and calling <code>@post.published!</code>also works. Why can't I seed in this enums attribute?</p>\n\n<p>UPDATE: \nSo it will seed my integer values if I run <code>rake db:setup</code>. My understanding is that the difference between rake db:setup and rake db:seed is that rake db:setup just creates the db <code>db:create</code>, loads the schema <code>db:schema:load</code> and then does a regular <code>db:seed</code>.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "twitter"], "comments": [{"owner": {"reputation": 12135, "user_id": 538471, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d2051553a8bdd27c26fec84b47806714?s=128&d=identicon&r=PG", "display_name": "dan-klasson", "link": "https://stackoverflow.com/users/538471/dan-klasson"}, "edited": false, "score": 0, "creation_date": 1445395251, "post_id": 33249335, "comment_id": 54301990, "body": "What version are you using? What if you try with the parameter <code>rpp</code> instead of <code>count</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 2572703, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ea9bb5d1f7a8a598ebc867c3b88e7aaa?s=128&d=identicon&r=PG", "display_name": "Sakib", "link": "https://stackoverflow.com/users/2572703/sakib"}, "edited": false, "score": 0, "creation_date": 1446411569, "post_id": 33252050, "comment_id": 54719890, "body": "Thanks, this worked, why does take limit the api calls? and not the parameters?"}], "tags": [], "owner": {"reputation": 5144, "user_id": 5411461, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RyJfN.jpg?s=128&g=1", "display_name": "Haseeb Ahmad", "link": "https://stackoverflow.com/users/5411461/haseeb-ahmad"}, "is_accepted": true, "score": 1, "last_activity_date": 1445407502, "creation_date": 1445407502, "answer_id": 33252050, "question_id": 33249335, "link": "https://stackoverflow.com/questions/33249335/rails-twitter-gem-search-function-not-limiting-count-of-tweets/33252050#33252050", "title": "Rails twitter gem search function not limiting count of tweets", "body": "<p>Try this</p>\n\n<pre><code>@tweets = $twitter.search(\"google\",:result_type =&gt; \"recent\").take(10)\n</code></pre>\n"}], "owner": {"reputation": 1197, "user_id": 2572703, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ea9bb5d1f7a8a598ebc867c3b88e7aaa?s=128&d=identicon&r=PG", "display_name": "Sakib", "link": "https://stackoverflow.com/users/2572703/sakib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 33252050, "answer_count": 1, "score": 1, "last_activity_date": 1445407502, "creation_date": 1445389868, "question_id": 33249335, "link": "https://stackoverflow.com/questions/33249335/rails-twitter-gem-search-function-not-limiting-count-of-tweets", "title": "Rails twitter gem search function not limiting count of tweets", "body": "<p>I am using the twitter gem to search tweets and I want to limit my search results to 10 tweets per function call. I am using the following function</p>\n\n<pre><code>class SayController &lt; ApplicationController\n  def hello\n    @tweets = $twitter.search(\"google\", options = {count: 10})\n  end\nend\n</code></pre>\n\n<p>but I still get thousands of tweets back and it is using up my api rate limits in a couple of page loads</p>\n\n<p>I also tried </p>\n\n<pre><code>        @tweets = $twitter.search(\"google\", count: 10)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>    @tweets = $twitter.search(\"google\", count: =&gt; 10, :result_type =&gt; \"recent\")\n</code></pre>\n\n<p>But it never takes the count variable into consideration and does not limit number of tweets fetched. I followed the documentation here <a href=\"http://www.rubydoc.info/gems/twitter/Twitter/REST/Search\" rel=\"nofollow\">http://www.rubydoc.info/gems/twitter/Twitter/REST/Search</a> but I don't understand why it does not work</p>\n"}, {"tags": ["ruby", "mechanize"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1445390435, "post_id": 33249046, "comment_id": 54300759, "body": "I&#39;m not sure I understand the question. You seem to already know at least two mechanisms to do what you want."}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1445434681, "post_id": 33249046, "comment_id": 54322703, "body": "wanted to make sure.  I was confused that I was getting true returned sometimes..."}], "owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445387566, "creation_date": 1445387566, "question_id": 33249046, "link": "https://stackoverflow.com/questions/33249046/how-to-call-sequential-methods", "title": "How to call sequential methods?", "body": "<p>I am using mechanize and blind testing pages and sending GET requests to urls and see if I get content back or not.    Wanted to know the ruby approach to doing this. <strong>Basically if option A doesn't work, do option B</strong>.</p>\n\n<p>This is something along the lines that I am doing now (this feels like a conditional):</p>\n\n<pre><code>blind_test(pagethatdoesnotexist) || blind_test(pagethatdoesexist)\n# option A^^^^^^^                        option B^^^^^^^^^\n</code></pre>\n\n<p>Here's another potential method:</p>\n\n<pre><code>blind_test(pagethatdoesexist) if blind_test(pagethatdoesnotexist).nil? \n</code></pre>\n"}, {"tags": ["ruby", "facebook", "facebook-graph-api"], "comments": [{"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1445422140, "post_id": 33248770, "comment_id": 54314201, "body": "<i>\u201cand I&#39;m trying to batch install apps\u201d</i> \u2013 and what exactly do you mean by \u201cinstalling\u201d?"}, {"owner": {"reputation": 161, "user_id": 2784831, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d7185139c911df0481bd379b60aeee4c?s=128&d=identicon&r=PG&f=1", "display_name": "tvishwa107", "link": "https://stackoverflow.com/users/2784831/tvishwa107"}, "reply_to_user": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1445443923, "post_id": 33248770, "comment_id": 54329632, "body": "I&#39;ll install a new set of 100 on Monday, and another 100 every Thursday. By install I mean add them to my account."}, {"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1445508140, "post_id": 33248770, "comment_id": 54357157, "body": "So you mean creating of new apps? There is no API for that, that has to be done manually. (And what would you need so many apps for anyway? This smells rather fishy already \u2026)"}, {"owner": {"reputation": 161, "user_id": 2784831, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d7185139c911df0481bd379b60aeee4c?s=128&d=identicon&r=PG&f=1", "display_name": "tvishwa107", "link": "https://stackoverflow.com/users/2784831/tvishwa107"}, "reply_to_user": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1445544840, "post_id": 33248770, "comment_id": 54379816, "body": "No, I mean I&#39;ll be writing a script to add apps (go to app&#39;s page, click button to add to my profile, etc.). I&#39;m doing security research."}, {"owner": {"reputation": 499, "user_id": 3784033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAkCK.png?s=128&g=1", "display_name": "curveorzos", "link": "https://stackoverflow.com/users/3784033/curveorzos"}, "edited": false, "score": 0, "creation_date": 1445991243, "post_id": 33248770, "comment_id": 54555271, "body": "This is not, and probably will not be possible ever. Sounds like something people could abuse pretty easily."}], "owner": {"reputation": 161, "user_id": 2784831, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d7185139c911df0481bd379b60aeee4c?s=128&d=identicon&r=PG&f=1", "display_name": "tvishwa107", "link": "https://stackoverflow.com/users/2784831/tvishwa107"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445385392, "creation_date": 1445385392, "question_id": 33248770, "link": "https://stackoverflow.com/questions/33248770/are-there-any-facebook-apis-that-make-it-possible-to-automate-the-installation-o", "title": "Are there any facebook APIs that make it possible to automate the installation of apps?", "body": "<p>I'm familiar with the Ruby koala API for Facebook, and I'm trying to batch install apps, maybe 100 at a time or so. Since this is going to be done twice a week, I'm looking for any APIs that might support this.    </p>\n\n<p>I've done this using watir-webdriver, but that's slow and I'd prefer not to.</p>\n"}, {"tags": ["arrays", "ruby", "push"], "comments": [{"owner": {"reputation": 521, "user_id": 1847785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7rTd.jpg?s=128&g=1", "display_name": "SnowMax", "link": "https://stackoverflow.com/users/1847785/snowmax"}, "edited": false, "score": 0, "creation_date": 1445384492, "post_id": 33248610, "comment_id": 54299400, "body": "Do you want to push all elements of the arrays, which are inside the names array to array1?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1445385030, "post_id": 33248610, "comment_id": 54299522, "body": "It&#39;s better to have a working example, rather than <code>...</code>, particularly here where it&#39;s no more difficult. Just define (sic) <code>array2 = [5,6,7]</code> and <code>names = [array1, array2]</code>. I see no problem with your code."}, {"owner": {"reputation": 73, "user_id": 2027824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/894d701b003089e2e89657b7a407d351?s=128&d=identicon&r=PG", "display_name": "Will Von Wizzlepig", "link": "https://stackoverflow.com/users/2027824/will-von-wizzlepig"}, "edited": false, "score": 0, "creation_date": 1445451387, "post_id": 33248610, "comment_id": 54334025, "body": "the board game has a 4x4 grid. when you find a word, the letters disappear and the other letters &#39;fall&#39; to fill in any gaps. Thus, the board has four columns. We&#39;re replacing dog in this test. Dog&#39;s letters will be replaced by 100. All instances of 100 get removed (by a later and not included method). colclone creates temporary copies of each column, but instead it&#39;s wrecking my reference array."}], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1445385159, "post_id": 33248715, "comment_id": 54299563, "body": "Answers are easier to read (and can be cut and pasted if desired) without the IRB prompts."}, {"owner": {"reputation": 1082, "user_id": 5381605, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh5.googleusercontent.com/-5ZF_yJyjvcQ/AAAAAAAAAAI/AAAAAAAAAFM/lQbQAZxe2wo/photo.jpg?sz=128", "display_name": "binarymason", "link": "https://stackoverflow.com/users/5381605/binarymason"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445385740, "post_id": 33248715, "comment_id": 54299694, "body": "@CarySwoveland, how do you do that?  I actually would be interested in learning that trick.  All I ever do is <code>cat ~&#47;.irb_history</code>."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445391610, "post_id": 33248715, "comment_id": 54301044, "body": "Just edit out the messy parts after you paste to the SO answer box and before you post. Now, just click on edit."}], "tags": [], "owner": {"reputation": 7898, "user_id": 3437900, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/blKgR.jpg?s=128&g=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/3437900/illusionist"}, "is_accepted": false, "score": 0, "last_activity_date": 1445386689, "last_edit_date": 1445386689, "creation_date": 1445384949, "answer_id": 33248715, "question_id": 33248610, "link": "https://stackoverflow.com/questions/33248610/array-name-stored-in-array-pushing-to-array-not-working-as-expected/33248715#33248715", "title": "array name stored in array, pushing to array - not working as expected", "body": "<p>Your solution seems to be working:</p>\n\n<pre><code>array1 = [1,2,3]\n =&gt; [1, 2, 3] \n\narray2 = [4,5,6]\n =&gt; [4, 5, 6] \n\nnames = [array1, array2]\n =&gt; [[1, 2, 3], [4, 5, 6]] \n\nnames.each do |update|\n  update.push 8\n  update.push 9\nend\n =&gt; [[1, 2, 3, 8, 9], [4, 5, 6, 8, 9]] \n\narray1\n =&gt; [1, 2, 3, 8, 9] \n\narray2\n =&gt; [4, 5, 6, 8, 9] \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "is_accepted": false, "score": 0, "last_activity_date": 1500616682, "last_edit_date": 1500616682, "creation_date": 1445389077, "answer_id": 33249233, "question_id": 33248610, "link": "https://stackoverflow.com/questions/33248610/array-name-stored-in-array-pushing-to-array-not-working-as-expected/33249233#33249233", "title": "array name stored in array, pushing to array - not working as expected", "body": "<p>I think something like this is what you're looking for:</p>\n\n<pre><code>array1 = [0, 1, 2]\narray2 = [10, 11, 12]\narray3 = [20, 21, 22]\n\nnames = [array1, array2, array3]\n\nnames.each do |array|\n    i = array[array.length-1] + 1\n    array.push(i,i+1)\nend\n\np array1\np array2\np array3\np names\n</code></pre>\n\n<p>Output for the above is:</p>\n\n<pre><code>[0, 1, 2, 3, 4]      #array1\n[10, 11, 12 ,13, 14] #array2       \n[20, 21, 22, 23, 24] #array3\n[[0, 1, 2, 3, 4], [10, 11, 12, 13, 14], [20, 21, 22, 23, 24]] #names array\n</code></pre>\n\n<p>Modify and/or extend the code to suit your needs.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 2027824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/894d701b003089e2e89657b7a407d351?s=128&d=identicon&r=PG", "display_name": "Will Von Wizzlepig", "link": "https://stackoverflow.com/users/2027824/will-von-wizzlepig"}, "edited": false, "score": 0, "creation_date": 1445466192, "post_id": 33249845, "comment_id": 54341698, "body": "OK! I think I have figured out my problem. At one point, I had my @rcol1 coming back nil. Later, I was checking @ rcols0, and seeing it (correctly) returning not the values I put in it, but the values from each array (@ rcol1, etc). I mistook this for the values going to the wrong place. My bad! Coding lesson #3, the problem may not still be where it was a second ago."}], "tags": [], "owner": {"reputation": 126343, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1445393746, "creation_date": 1445393746, "answer_id": 33249845, "question_id": 33248610, "link": "https://stackoverflow.com/questions/33248610/array-name-stored-in-array-pushing-to-array-not-working-as-expected/33249845#33249845", "title": "array name stored in array, pushing to array - not working as expected", "body": "<p>You have the wrong idea, or the wrong vocabulary, about how it works.  <code>names</code> does not store the names of the arrays.  <code>names</code> stores <em>a reference to the Array objects</em>.  It doesn't matter what they're named.</p>\n\n<pre><code>array1 = [0, 1, 2]\narray2 = [10,20,30]\nnames = [array1, array2]\n\n# names[1] contains a reference to array2\n# So this is the same as array2[2]\nputs names[1][2]   # 30\n</code></pre>\n\n<p>Your code works fine.</p>\n\n<pre><code>names.each do |update|\n  update.push 3\n  update.push 4\nend\n\nputs array1.inspect # [0, 1, 2, 3, 4]\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 2027824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/894d701b003089e2e89657b7a407d351?s=128&d=identicon&r=PG", "display_name": "Will Von Wizzlepig", "link": "https://stackoverflow.com/users/2027824/will-von-wizzlepig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 33249845, "answer_count": 3, "score": -1, "last_activity_date": 1500616682, "creation_date": 1445384233, "last_edit_date": 1445461723, "question_id": 33248610, "link": "https://stackoverflow.com/questions/33248610/array-name-stored-in-array-pushing-to-array-not-working-as-expected", "title": "array name stored in array, pushing to array - not working as expected", "body": "<pre><code>@board = {1=&gt;0, 2=&gt;0, 3=&gt;0, 4=&gt;0, 5=&gt;0, 6=&gt;0, 7=&gt;0, 8=&gt;\"b\", 9=&gt;\"r\", 10=&gt;\"u\", 11=&gt;\"c\", 12=&gt;0, 13=&gt;0, 14=&gt;\"d\", 15=&gt;\"h\", 16=&gt;\"s\", 17=&gt;\"l\", 18=&gt;0, 19=&gt;0, 20=&gt;\"o\", 21=&gt;\"i\", 22=&gt;\"l\", 23=&gt;\"b\", 24=&gt;0, 25=&gt;0, 26=&gt;\"g\", 27=&gt;\"t\", 28=&gt;\"f\", 29=&gt;\"e\", 30=&gt;0, 31=&gt;0, 32=&gt;0, 33=&gt;0, 34=&gt;0, 35=&gt;0, 36=&gt;0}\n@words = {\"shift\"=&gt;[16, 15, 21, 28, 27], \"bell\"=&gt;[23, 29, 22, 17], \"curb\"=&gt;[11, 10, 9, 8], \"dog\"=&gt;[14, 20, 26]}\n\n@col1 = [8, 14, 20, 26]\n@col2 = [9, 15, 21, 27]\n@col3 = [10, 16, 22, 28]\n@col4 = [11, 17, 23, 29]\n\n@rcol1 = Array.new\n@rcol2 = Array.new\n@rcol3 = Array.new\n@rcol4 = Array.new\n\n@cols = [@col1, @col2, @col3, @col4]\n@rcols0 = [@rcol1, @rcol2, @rcol3, @rcol4]\n\nout = @words[\"dog\"]\n\n out.each do |remove|\n  @board[remove] = 100\n end\n\ndef colclone\n  nums = 0\n  @rcols0.each do |fixy|\n    a = @cols[nums]\n    a.each do |stick|\n      fixy[nums].push @board[stick]\n    end\n    nums += 1\n  end\nend\n</code></pre>\n\n<p>Here's the <em>actual</em> code. I tried to simplify but I think I must have left something out.</p>\n\n<p>I am working on a board game. What I want is</p>\n\n<pre><code>--&gt; @rcol1 = [0, 1, 2, 3]\n</code></pre>\n\n<p>what I am getting is those results in my reference array instead</p>\n\n<pre><code>--&gt; @rcols0 = [[0, 1, 2, 3], ...]\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "makefile", "gem"], "owner": {"reputation": 11, "user_id": 5469285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e63b92361da46b8ec30930e4cabffe?s=128&d=identicon&r=PG&f=1", "display_name": "davidb", "link": "https://stackoverflow.com/users/5469285/davidb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1445383571, "creation_date": 1445383571, "question_id": 33248500, "link": "https://stackoverflow.com/questions/33248500/installing-binding-of-caller-0-7-2-with-native-extensions-failed", "title": "Installing binding_of_caller 0.7.2 with native extensions failed", "body": "<p>Trying my hand at Ruby on Rails.  Sorry if this is a little rudimentary. I am trying to understand why this is happening. If you can help, thanks a ton!</p>\n\n<p>I am trying to create a project for Rails</p>\n\n<p>in cmd line I input:\nC:\\Users\\Player 1\\Sites>rails new simple_cms -d mysql</p>\n\n<p>I get the error at this point:</p>\n\n<p>Installing binding_of_caller 0.7.2 with native extensions</p>\n\n<p>Gem::Ext::BuildError: ERROR: Failed to build gem native extension.</p>\n\n<pre><code>C:/Ruby193/bin/ruby.exe -r ./siteconf20151020-6164-22d8zu.rb extconf.rb\n</code></pre>\n\n<p>creating Makefile</p>\n\n<p>make  clean\nMakefile:165: *** target pattern contains no `%'.  Stop.</p>\n\n<p>make\nMakefile:165: *** target pattern contains no `%'.  Stop.</p>\n\n<p>make failed, exit code 2</p>\n\n<p>Gem files will remain installed in C:/Ruby193/lib/ruby/gems/1.9.1/gems/binding_of_caller-0.7.2 for inspection.\nResults logged to C:/Ruby193/lib/ruby/gems/1.9.1/extensions/x86-mingw32/1.9.1/binding_of_caller-0.7.2/gem_make.out\nAn error occurred while installing binding_of_caller (0.7.2), and Bundler cannot\ncontinue.\nMake sure that <code>gem install binding_of_caller -v '0.7.2'</code> succeeds before\nbundling.</p>\n"}, {"tags": ["ruby", "aws-sdk", "amazon-simpledb"], "answers": [{"tags": [], "owner": {"reputation": 780, "user_id": 916791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b6950a99fcf26e30dac9608015cd4ed?s=128&d=identicon&r=PG", "display_name": "vas", "link": "https://stackoverflow.com/users/916791/vas"}, "is_accepted": false, "score": 0, "last_activity_date": 1445383074, "creation_date": 1445383074, "answer_id": 33248432, "question_id": 33248431, "link": "https://stackoverflow.com/questions/33248431/how-to-check-that-a-simpledb-domain-exists-using-the-aws-sdk-for-ruby-v2-0/33248432#33248432", "title": "How to check that a simpleDB domain exists using the AWS SDK for Ruby v2.0", "body": "<p>Here are two ways one can do this.</p>\n\n<ol>\n<li><p>Use <code>domain_metadata</code> and catch the exception. </p>\n\n<pre><code>def domain_exists?(domain_name)\n  sdb = Aws::SimpleDB::Client.new\n  sdb.domain_metadata(domain_name: domain_name)\n  return true\nrescue Aws::SimpleDB::Errors::NoSuchDomain \n  return false\nend\n</code></pre></li>\n<li><p>Reopen the <code>Aws::SimpleDB::Client</code> class and add a recursive method <code>domain_exists?</code> which uses <code>list_domains</code></p>\n\n<pre><code>class Aws::SimpleDB::Client\n  def domain_exists?(domain_name, limit = 100, next_token=nil)\n    resp = list_domains(next_token: next_token, max_number_of_domains: limit)\n    domain_exists = resp.domain_names.include?(domain_name)\n    return domain_exists if domain_exists # found the domain\n    return domain_exists if resp.next_token.nil? # no more domains to search\n    domain_exists?(domain_name, limit, resp.next_token) # more domains to search\n  end\nend\n</code></pre>\n\n<p>Then it becomes very simple:</p>\n\n<pre><code>def domain_exists?(domain_name, limit = 100)\n   sdb = Aws::SimpleDB::Client.new\n   sdb.domain_exists?(domain_name, limit)\nend\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 780, "user_id": 916791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b6950a99fcf26e30dac9608015cd4ed?s=128&d=identicon&r=PG", "display_name": "vas", "link": "https://stackoverflow.com/users/916791/vas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1491281872, "creation_date": 1445383074, "last_edit_date": 1491281872, "question_id": 33248431, "link": "https://stackoverflow.com/questions/33248431/how-to-check-that-a-simpledb-domain-exists-using-the-aws-sdk-for-ruby-v2-0", "title": "How to check that a simpleDB domain exists using the AWS SDK for Ruby v2.0", "body": "<p>When using the AWS SDK for Ruby v1.0, checking that a simpleDB domain exists was simple:</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>def domain_exists?(domain_name)\n  sdb =  AWS::SimpleDB.new\n  domain = sdb.domains[domain_name]\n  domain.exists?\nend\n</code></pre>\n\n<p>However, that's no longer possible using v2.0 of AWS SDK for Ruby. How can one check that a simpleDB domain exists using v2.0?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "google-api", "rubygems"], "answers": [{"tags": [], "owner": {"reputation": 8548, "user_id": 234944, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/92fe0217757590fcb9600a253cb76277?s=128&d=identicon&r=PG", "display_name": "Benjamin Manns", "link": "https://stackoverflow.com/users/234944/benjamin-manns"}, "is_accepted": false, "score": 1, "last_activity_date": 1445381784, "creation_date": 1445381784, "answer_id": 33248230, "question_id": 33248077, "link": "https://stackoverflow.com/questions/33248077/open-and-read-file-from-google-drive-in-ruby/33248230#33248230", "title": "Open and read file from Google Drive in Ruby", "body": "<p>I am able to load that file using curl, and it seems to work fine. BTW, you will want to mask the <code>id</code> in the PDF and XLSX URLs if you want to keep the document private. Also, the CSV will be easier to use than the XLSX file.</p>\n\n<p>Try in your shell</p>\n\n<pre><code>curl \"https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxx-rI&amp;exportFormat=csv\"\n</code></pre>\n\n<p>Try in an IRB/rails console session:</p>\n\n<pre><code>`curl \"https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxx-rI&amp;exportFormat=csv\"`\n\nrequire 'open-uri'\nopen('https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxx-rI&amp;exportFormat=csv').read\n\nrequire 'csv'\nrequire 'open-uri'\nCSV.parse(open('https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxx-rI&amp;exportFormat=csv'))\n</code></pre>\n\n<p>If you really want to use the full XLSX:</p>\n\n<pre><code>require 'yomu'\nYomu.new('https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxx-rI&amp;exportFormat=xlsx').text\n</code></pre>\n\n<p>But the result looks incredibly difficult to parse.</p>\n"}, {"tags": [], "owner": {"reputation": 8003, "user_id": 1884428, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Xlvpk.jpg?s=128&g=1", "display_name": "spitfire109", "link": "https://stackoverflow.com/users/1884428/spitfire109"}, "is_accepted": false, "score": 0, "last_activity_date": 1445383000, "creation_date": 1445383000, "answer_id": 33248426, "question_id": 33248077, "link": "https://stackoverflow.com/questions/33248077/open-and-read-file-from-google-drive-in-ruby/33248426#33248426", "title": "Open and read file from Google Drive in Ruby", "body": "<p>It seems like the first several docs I was trying to use had some sort of permissions issue or some criteria specific to them which was causing the \"moved\" notice. I tried on some other files and I got success using Yomu the way I wanted to.</p>\n"}], "owner": {"reputation": 8003, "user_id": 1884428, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Xlvpk.jpg?s=128&g=1", "display_name": "spitfire109", "link": "https://stackoverflow.com/users/1884428/spitfire109"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445383000, "creation_date": 1445380961, "last_edit_date": 1445382318, "question_id": 33248077, "link": "https://stackoverflow.com/questions/33248077/open-and-read-file-from-google-drive-in-ruby", "title": "Open and read file from Google Drive in Ruby", "body": "<p>I am using the Google drive API which provides me with \"export links\" which seem to redirect for a download of the document.</p>\n\n<p>The result provides this:</p>\n\n<pre><code>{\"text/csv\":\"https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxxxxxx-rI&amp;exportFormat=csv\",\n\"application/pdf\":\"https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxxxxxx-rI&amp;exportFormat=pdf\",\n\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\"https://docs.google.com/spreadsheets/export?id=1w6oq05R8piP4N4A-xxxxxxxx-rI&amp;exportFormat=xlsx\"}\n</code></pre>\n\n<p>I am using <a href=\"https://github.com/Erol/yomu\" rel=\"nofollow\">Yomu</a> but when I try to read one of these files I get a result that indicates that \"the content has moved\", so a redirect of sorts.</p>\n\n<p>How can I open one of these URLs so they can be read by Yomu, or do you know of any alternate ways of using the Google Drive API to achieve the desired data?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 9626, "user_id": 1154722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NLjAF.jpg?s=128&g=1", "display_name": "Huy", "link": "https://stackoverflow.com/users/1154722/huy"}, "edited": false, "score": 0, "creation_date": 1445380850, "post_id": 33247972, "comment_id": 54298417, "body": "Which line of code are you getting the error on?"}, {"owner": {"reputation": 9626, "user_id": 1154722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NLjAF.jpg?s=128&g=1", "display_name": "Huy", "link": "https://stackoverflow.com/users/1154722/huy"}, "edited": false, "score": 0, "creation_date": 1445380889, "post_id": 33247972, "comment_id": 54298433, "body": "It might be that you need to pass your variables to your partial."}, {"owner": {"reputation": 79, "user_id": 5466411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6b688bc62abfcd98d476b48f70a912b?s=128&d=identicon&r=PG", "display_name": "Hiltsje", "link": "https://stackoverflow.com/users/5466411/hiltsje"}, "reply_to_user": {"reputation": 9626, "user_id": 1154722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NLjAF.jpg?s=128&g=1", "display_name": "Huy", "link": "https://stackoverflow.com/users/1154722/huy"}, "edited": false, "score": 0, "creation_date": 1445381016, "post_id": 33247972, "comment_id": 54298475, "body": "@Huy The error is on &lt;%= outcomes.actual %&gt; in the  outcomes/_outcome.html.erb file. Do you have a suggestion how i could pass the variables to the partial?"}, {"owner": {"reputation": 9626, "user_id": 1154722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NLjAF.jpg?s=128&g=1", "display_name": "Huy", "link": "https://stackoverflow.com/users/1154722/huy"}, "edited": false, "score": 0, "creation_date": 1445381228, "post_id": 33247972, "comment_id": 54298537, "body": "I updated my answer. Hope it helps."}, {"owner": {"reputation": 79, "user_id": 5466411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6b688bc62abfcd98d476b48f70a912b?s=128&d=identicon&r=PG", "display_name": "Hiltsje", "link": "https://stackoverflow.com/users/5466411/hiltsje"}, "reply_to_user": {"reputation": 9626, "user_id": 1154722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NLjAF.jpg?s=128&g=1", "display_name": "Huy", "link": "https://stackoverflow.com/users/1154722/huy"}, "edited": false, "score": 0, "creation_date": 1445381991, "post_id": 33247972, "comment_id": 54298800, "body": "@Huy I changed it to &lt;%= @decision.outcomes.actual %&gt; and i believe it worked but now i get the following error: undefined method `actual&#39; for #&lt;Outcome::ActiveRecord_Associations_CollectionProxy:0x007fc&zwnj;&#8203;6040723e0&gt;"}, {"owner": {"reputation": 9626, "user_id": 1154722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NLjAF.jpg?s=128&g=1", "display_name": "Huy", "link": "https://stackoverflow.com/users/1154722/huy"}, "edited": false, "score": 0, "creation_date": 1445382242, "post_id": 33247972, "comment_id": 54298860, "body": "You have an active record association. Is <code>actual</code> an attribute of an Outcome object? If so, you can&#39;t call it on the association, you have to call it on the object itself. i.e. <code>@decision.outcomes.first.actual</code>"}], "answers": [{"tags": [], "owner": {"reputation": 9626, "user_id": 1154722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NLjAF.jpg?s=128&g=1", "display_name": "Huy", "link": "https://stackoverflow.com/users/1154722/huy"}, "is_accepted": true, "score": 2, "last_activity_date": 1445381022, "creation_date": 1445381022, "answer_id": 33248086, "question_id": 33247972, "link": "https://stackoverflow.com/questions/33247972/undefined-local-variable-or-method-when-rendering-in-show-html-erb/33248086#33248086", "title": "undefined local variable or method when rendering in show.html.erb", "body": "<p>It sounds like you might need to pass your variables as arguments to your partial. When you try to call <code>outcomes.actual</code>, it doesn't know what <code>outcomes</code> is. You either need to pass it as a local variable:</p>\n\n<p><code>&lt;%= render \"outcomes/outcome\", locals: {outcomes: @decision.outcomes} %&gt;</code></p>\n\n<p>or simply get it from your <code>@decision</code> instance variable:</p>\n\n<p><strong>outcomes/_outcome.html.erb</strong></p>\n\n<p><code>&lt;%= @decision.outcomes.actual %&gt;</code>.</p>\n"}], "owner": {"reputation": 79, "user_id": 5466411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6b688bc62abfcd98d476b48f70a912b?s=128&d=identicon&r=PG", "display_name": "Hiltsje", "link": "https://stackoverflow.com/users/5466411/hiltsje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 33248086, "answer_count": 1, "score": 1, "last_activity_date": 1445381022, "creation_date": 1445380419, "question_id": 33247972, "link": "https://stackoverflow.com/questions/33247972/undefined-local-variable-or-method-when-rendering-in-show-html-erb", "title": "undefined local variable or method when rendering in show.html.erb", "body": "<p>I'm trying to create a comment like system where the user can add a 'outcome' to a 'decision'.</p>\n\n<p>Now i've rendered the form and the outcomes in the show.html.erb of 'decisions' but the outcomes give the following error: undefined local variable or method `outcomes' for #&lt;#:0x007fc6046099e8></p>\n\n<p>My code:</p>\n\n<p>controllers/outcomes_controller.rb</p>\n\n<pre><code>class OutcomesController &lt; ApplicationController\n    def create\n        @decision = Decision.find(params[:decision_id])\n        @outcome = @decision.outcomes.create(params[:outcome].permit(:actual, :strength, :weakness))\n          redirect_to decision_path(@decision)\n    end\nend\n</code></pre>\n\n<p>models/outcome.rb</p>\n\n<pre><code>class Outcome &lt; ActiveRecord::Base\n  belongs_to :decision\nend\n</code></pre>\n\n<p>models/decision.rb</p>\n\n<pre><code>class Decision &lt; ActiveRecord::Base\n  has_many :outcomes\nend\n</code></pre>\n\n<p>decisions/show.html.erb</p>\n\n<pre><code>    &lt;h1&gt;Decision showpage&lt;/h1&gt;\n\n&lt;h2&gt;&lt;%= @decision.title %&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;%= @decision.created_at %&gt;&lt;/p&gt;\n&lt;p&gt;&lt;%= @decision.forecast %&gt;&lt;/p&gt;\n&lt;p&gt;&lt;%= @decision.review_date %&gt;&lt;/p&gt;\n\n&lt;%= render @decision.outcomes %&gt;\n\n\n&lt;%= link_to \"Delete Decision\", decision_path(@decision), method: :delete, data: { confirm: \"Are you sure?\" } %&gt;\n\n&lt;%= render \"outcomes/form\" %&gt;\n&lt;%= render \"outcomes/outcome\" %&gt;\n</code></pre>\n\n<p>outcomes/_form.html.erb</p>\n\n<pre><code>&lt;%= form_for([@decision, @decision.outcomes.build]) do |f| %&gt;\n  &lt;%= f.label :actual %&gt;:\n  &lt;%= f.text_field :actual %&gt; &lt;br/&gt;\n\n  &lt;%= f.label :strength %&gt;:\n  &lt;%= f.text_area :strength %&gt; &lt;br/&gt;\n\n  &lt;%= f.label :weakness %&gt;:\n  &lt;%= f.text_area :weakness %&gt; &lt;br/&gt;\n  &lt;%= f.submit %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>outcomes/_outcome.html.erb</p>\n\n<pre><code>&lt;%= outcomes.actual %&gt;\n&lt;%= outcomes.strength %&gt;\n&lt;%= outcomes.weakness %&gt;\n</code></pre>\n\n<p>Can anyone help me by explaining why this error occurs and what i could do to make it work?</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "ruby-on-rails-4", "sqlite"], "comments": [{"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 0, "creation_date": 1445381800, "post_id": 33247850, "comment_id": 54298741, "body": "Might seem like a silly question, but is the parameters column defined as a serialized column in the model?"}], "answers": [{"comments": [{"owner": {"reputation": 539, "user_id": 3693398, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/100000471452957/picture?type=large", "display_name": "teddybear", "link": "https://stackoverflow.com/users/3693398/teddybear"}, "edited": false, "score": 0, "creation_date": 1445384716, "post_id": 33248290, "comment_id": 54299451, "body": "That was it. The gem I&#39;m using has parameters serialized. But it kinda sucks I can&#39;t do anything simple about it."}], "tags": [], "owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "is_accepted": true, "score": 1, "last_activity_date": 1445382164, "last_edit_date": 1495541029, "creation_date": 1445382164, "answer_id": 33248290, "question_id": 33247850, "link": "https://stackoverflow.com/questions/33247850/sqlite3sqlexception-no-such-column-parameters-user/33248290#33248290", "title": "SQLite3::SQLException: no such column: parameters.user:", "body": "<p>Might seem like a silly question, but is the parameters column defined as a serialized column in the model? With adapters like MySQL and (I believe) SQLite you <em>can't</em> query serialized  fields. So If it's something that you'd like to query, you need to save it separately from the serialized field.</p>\n\n<p>That being said, with PostgreSQL and their rails adapter, you <em>can</em> query serialized fields.</p>\n\n<p>You should check out this <a href=\"https://stackoverflow.com/questions/9814622/searching-serialized-data-using-active-record\">SO question</a> and <a href=\"https://stackoverflow.com/a/13214464/2639561\">this anser</a></p>\n"}], "owner": {"reputation": 539, "user_id": 3693398, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/100000471452957/picture?type=large", "display_name": "teddybear", "link": "https://stackoverflow.com/users/3693398/teddybear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 33248290, "answer_count": 1, "score": 1, "last_activity_date": 1445382164, "creation_date": 1445379817, "question_id": 33247850, "link": "https://stackoverflow.com/questions/33247850/sqlite3sqlexception-no-such-column-parameters-user", "title": "SQLite3::SQLException: no such column: parameters.user:", "body": "<p>I am saving a list of followed users to the db and then trying to get the records where the current user is a part of that list but keep getting this exception.</p>\n\n<pre><code>SQLite3::SQLException: no such column: parameters.user: SELECT \"activities\".* FROM \"activities\"  WHERE \"parameters\".\"user\" = 3\n</code></pre>\n\n<p>This is a record in the db</p>\n\n<pre><code>=&gt; #&lt;PublicActivity::Activity id: 107, trackable_id: 16, trackable_type: \"Shout\", owner_id: 1, owner_type: \"User\", key: \"shout.shout\", parameters: {:user=&gt;[3]}, recipient_id: nil, recipient_type: nil, created_at: \"2015-10-20 21:44:41\", updated_at: \"2015-10-20 21:44:41\", read: false&gt;\n</code></pre>\n\n<p>These are the queries I've tried that give me this. current_user.id = 3</p>\n\n<pre><code>PublicActivity::Activity.where({'parameters.user' =&gt; current_user.id})\n\nPublicActivity::Activity.where(parameters: {user: current_user.id})\n</code></pre>\n\n<p>So. How do I get the records where the current user is a part of that list of users? Also, would the I be able to use the same query in Mysql?</p>\n"}, {"tags": ["c#", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1391, "user_id": 990423, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dac55d6a9a1795d121a290394054bcb3?s=128&d=identicon&r=PG", "display_name": "user990423", "link": "https://stackoverflow.com/users/990423/user990423"}, "edited": false, "score": 1, "creation_date": 1445379298, "post_id": 33247670, "comment_id": 54297829, "body": "what plugin tells you &quot;that fromatob.com uses a combination of HTML, CSS, JavaScript, and Ruby on Rails&quot; ?"}, {"owner": {"reputation": 11, "user_id": 5469138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bbcf95d13e1e496970ed1184af40a4?s=128&d=identicon&r=PG&f=1", "display_name": "Magma", "link": "https://stackoverflow.com/users/5469138/magma"}, "reply_to_user": {"reputation": 1391, "user_id": 990423, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dac55d6a9a1795d121a290394054bcb3?s=128&d=identicon&r=PG", "display_name": "user990423", "link": "https://stackoverflow.com/users/990423/user990423"}, "edited": false, "score": 0, "creation_date": 1445381788, "post_id": 33247670, "comment_id": 54298736, "body": "It&#39;s called Wappalizer. It can only take a guess at which back end language is being used but it is often fairly accurate. <a href=\"https://chrome.google.com/webstore/detail/wappalyzer/gppongmhjkpfnbhagpmjfkannfbllamg\" rel=\"nofollow noreferrer\">chrome.google.com/webstore/detail/wappalyzer/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5469138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bbcf95d13e1e496970ed1184af40a4?s=128&d=identicon&r=PG&f=1", "display_name": "Magma", "link": "https://stackoverflow.com/users/5469138/magma"}, "edited": false, "score": 0, "creation_date": 1445401100, "post_id": 33248598, "comment_id": 54303463, "body": "Thanks! This is the only useful answer anyone has ever given me on this website. :D Hopefully I&#39;ll also find someone who has made one of these engines and can give me more specifics."}], "tags": [], "owner": {"reputation": 8548, "user_id": 234944, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/92fe0217757590fcb9600a253cb76277?s=128&d=identicon&r=PG", "display_name": "Benjamin Manns", "link": "https://stackoverflow.com/users/234944/benjamin-manns"}, "is_accepted": false, "score": 0, "last_activity_date": 1445384153, "creation_date": 1445384153, "answer_id": 33248598, "question_id": 33247670, "link": "https://stackoverflow.com/questions/33247670/general-toolbox-for-creating-a-travel-search-engine/33248598#33248598", "title": "General toolbox for creating a travel search engine", "body": "<p>The server-side framework (C# vs Ruby on Rails) will not matter so much as the partner you integrate with. Check out <a href=\"http://www.programmableweb.com/category/travel/apis?category=19965\" rel=\"nofollow\">ProgrammableWeb's list of travel APIs</a> for an idea of what's out there. If you're more familiar with C#, it would make sense to use that for your site. If you want to learn something new, feel free to try Ruby on Rails (I highly recommend it), but don't think that you have to in order to make a travel site.</p>\n"}], "owner": {"reputation": 11, "user_id": 5469138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bbcf95d13e1e496970ed1184af40a4?s=128&d=identicon&r=PG&f=1", "display_name": "Magma", "link": "https://stackoverflow.com/users/5469138/magma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445384153, "creation_date": 1445378882, "question_id": 33247670, "link": "https://stackoverflow.com/questions/33247670/general-toolbox-for-creating-a-travel-search-engine", "title": "General toolbox for creating a travel search engine", "body": "<p>As fun learning project, I would like to make a website that synthesizes travel data, similar to this one: <a href=\"http://www.fromatob.com\" rel=\"nofollow\">http://www.fromatob.com</a></p>\n\n<p>I am curious if anyone on here has ever done this before and could recommend a general toolbox for which framework to use, etc. </p>\n\n<p>I am a junior developer and have very basic experience working in C# and Ruby. My plugin tells me that fromatob.com uses a combination of HTML, CSS, JavaScript, and Ruby on Rails. The owners likely had to create partnerships with most of the travel companies (like Megabus UK and expedia) in order to get the APIs for these businesses.</p>\n\n<p>What framework would you recommend for starting on a project like this? I am a lot more comfortable in C#, but everyone seems to suggest that Ruby on Rails would be a lot easier. I don't know enough about the construction to know all of the tools I will need for this project. Any advice? I think this sort of information would be beneficial for a lot of people, as it is difficult to find tutorials online. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "memcached", "dalli"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3685666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1003861393009684/picture?type=large", "display_name": "mr.freeman13", "link": "https://stackoverflow.com/users/3685666/mr-freeman13"}, "edited": false, "score": 0, "creation_date": 1445384136, "post_id": 33247913, "comment_id": 54299319, "body": "config.cache_store is sets to :dalli_store value. But it doesn&#39;t help. Am thinking maybe just Rails.cache.* helpers are doesn&#39;t work. Cause if I try to initialize dalli staff like this:   CACHE = Dalli::Client.new(\u2019127.0.0.1\u2032, { :namespace =&gt; \u201cmy_project\u201d, :expires_in =&gt; 3600, :socket_timeout =&gt; 3, :compress =&gt; true })   - I can set and get data via: CACHE.set and CACHE.get."}, {"owner": {"reputation": 8548, "user_id": 234944, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/92fe0217757590fcb9600a253cb76277?s=128&d=identicon&r=PG", "display_name": "Benjamin Manns", "link": "https://stackoverflow.com/users/234944/benjamin-manns"}, "reply_to_user": {"reputation": 83, "user_id": 3685666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1003861393009684/picture?type=large", "display_name": "mr.freeman13", "link": "https://stackoverflow.com/users/3685666/mr-freeman13"}, "edited": false, "score": 0, "creation_date": 1445384288, "post_id": 33247913, "comment_id": 54299354, "body": "Is <code>config.cache_store</code> set specifically in the config/environments/ <b>test.rb</b> file?"}, {"owner": {"reputation": 83, "user_id": 3685666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1003861393009684/picture?type=large", "display_name": "mr.freeman13", "link": "https://stackoverflow.com/users/3685666/mr-freeman13"}, "edited": false, "score": 0, "creation_date": 1445386240, "post_id": 33247913, "comment_id": 54299800, "body": "yes. I have 2 options for caching in test.rb file. config.action_controller.perform_caching = true config.cache_store = :dalli_store"}], "tags": [], "owner": {"reputation": 8548, "user_id": 234944, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/92fe0217757590fcb9600a253cb76277?s=128&d=identicon&r=PG", "display_name": "Benjamin Manns", "link": "https://stackoverflow.com/users/234944/benjamin-manns"}, "is_accepted": false, "score": 0, "last_activity_date": 1445384186, "last_edit_date": 1445384186, "creation_date": 1445380096, "answer_id": 33247913, "question_id": 33247600, "link": "https://stackoverflow.com/questions/33247600/dalli-caching-doesnt-work-rspec/33247913#33247913", "title": "Dalli caching doesn&#39;t work rspec", "body": "<p>Is Dalli configured</p>\n\n<pre><code>config.cache_store = :dalli_store\n</code></pre>\n\n<p>in your config/environments/test.rb environment? I believe it defaults to <code>:null_store</code>, which means your test environment will not have caching enabled. Also, be sure to return <code>ActionController::Base.perform_caching</code> back to its original state after your spec runs.</p>\n"}], "owner": {"reputation": 83, "user_id": 3685666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1003861393009684/picture?type=large", "display_name": "mr.freeman13", "link": "https://stackoverflow.com/users/3685666/mr-freeman13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 355, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445384186, "creation_date": 1445378551, "question_id": 33247600, "link": "https://stackoverflow.com/questions/33247600/dalli-caching-doesnt-work-rspec", "title": "Dalli caching doesn&#39;t work rspec", "body": "<p>Am trying to use Rails.cache.read and Rails.cache.write helpers during my rspec scenario but it doesn't work. Am using dalli_store for cache store.\nI wrote </p>\n\n<pre><code>ActionController::Base.perform_caching = true \n</code></pre>\n\n<p>in any random test scenario and then run only this rspec. And when I jump to the next line to the breakpoint and try to write in console </p>\n\n<pre><code>Rails.cache.write(\"f\", \"b\") =&gt; true\nRails.cache.read(\"f\") =&gt; nil \n</code></pre>\n\n<p>When I do the same thing in console running in dev env -  I've got all expected results. It stores the values in cache and returns it</p>\n"}, {"tags": ["ruby", "libgosu"], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 7770922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b1731fb3b904846c6b93eeeffb1da1a?s=128&d=identicon&r=PG", "display_name": "jlnr", "link": "https://stackoverflow.com/users/7770922/jlnr"}, "is_accepted": false, "score": 0, "last_activity_date": 1490565506, "creation_date": 1490565506, "answer_id": 43035071, "question_id": 33247595, "link": "https://stackoverflow.com/questions/33247595/undefined-method-nomethoderror-ruby-and-gosu/43035071#43035071", "title": "Undefined Method (NoMethodError) ruby and Gosu", "body": "<p>I have copied the code from your three files, added empty method stubs for <code>move</code>, <code>draw</code>, <code>accelerate</code>, <code>turn_left</code>/<code>turn_right</code> so that the code will not immediately crash.</p>\n\n<p>When I start the game and press P, then space, I see \"0.0\" in the terminal as the result of <code>p @player.x</code>.</p>\n\n<p>Are you maybe running another version of the code than what you have included in your question?</p>\n"}], "owner": {"reputation": 111, "user_id": 5469099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a8638e39bffcf472b61c086ca1a516?s=128&d=identicon&r=PG", "display_name": "Juan Pablo", "link": "https://stackoverflow.com/users/5469099/juan-pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1617140393, "creation_date": 1445378518, "last_edit_date": 1617140393, "question_id": 33247595, "link": "https://stackoverflow.com/questions/33247595/undefined-method-nomethoderror-ruby-and-gosu", "title": "Undefined Method (NoMethodError) ruby and Gosu", "body": "<p>I'm having a problem calling the x position and y position of a Player. When I call the origin_object.x and origin_object.y with the class Projectile it gives me this error:</p>\n<pre><code>asteroids.rb:35:in `update': undefined method `x' for #&lt;Player:0x007fa7c307c520&gt; (NoMethodError)\n    from /usr/local/lib/ruby/gems/2.2.0/gems/gosu-0.10.4/lib/gosu/patches.rb:135:in `tick'\n    from /usr/local/lib/ruby/gems/2.2.0/gems/gosu-0.10.4/lib/gosu/patches.rb:135:in `tick'\n    from asteroids.rb:68:in `&lt;main&gt;'\n</code></pre>\n<p>This is my code:</p>\n<pre><code>class Player\n\n  attr_accessor :x, :y, :angle, :lives, :score\n  def initialize\n    @image = Gosu::Image.new(&quot;assets/nave1.png&quot;)\n    @x = @y = @vel_x = @vel_y = @angle = 0.0\n    @score = 0 #Puntaje\n    @lives = 5 #Vida\n  end\nend\n</code></pre>\n<p>this is the projectile file</p>\n<pre><code>class Projectile\n  attr_reader :x, :y, :angle\n  def initialize(origin_object)\n    @alive = true\n    @x, @y = origin_object.x, origin_object.y\n    @angle = origin_object.angle\n    @speed_modifier = 7\n    @image = Gosu::Image.new('assets/projectile.png')\n    @distance_traveled, @max_distance = 0, 50\n  end\nend\n</code></pre>\n<p>this is the main file (which I use to run the project)</p>\n<pre><code>require 'gosu'\nrequire './lib/Player.rb'\nrequire './lib/Projectile.rb'\n\nclass GameWindow &lt; Gosu::Window\n\n  def initialize\n    super(1000, 700, false) #Creacion Pantalla\n    self.caption = &quot;Asteroids Redes&quot; #Titulo Pantalla\n    @font = Gosu::Font.new(self, &quot;assets/victor-pixel.ttf&quot;, 34)\n  end\n\n  def setup_game\n    @player = Player.new\n    @player.warp(650, 350)\n    @game_in_progress = true\n    @projectiles = []\n  end\n\n  #--------------------------------------#\n  def update\n\n    if Gosu::button_down? Gosu::KbQ #Salir con tecla Q\n      close\n    end\n    if button_down? Gosu:: KbP\n      setup_game unless @game_in_progress\n    end\n\n    if @player #si existe jugador permite moverlo\n      if Gosu::button_down? Gosu::KbSpace\n        p @player.x\n        #@projectiles &lt;&lt; Projectile.new(p @player)\n      end\n      if Gosu::button_down? Gosu::KbLeft or Gosu::button_down? Gosu::GpLeft then\n        @player.turn_left\n      end\n      if Gosu::button_down? Gosu::KbRight or Gosu::button_down? Gosu::GpRight then\n        @player.turn_right\n      end\n      if Gosu::button_down? Gosu::KbUp or Gosu::button_down? Gosu::GpButton0 then\n        @player.accelerate\n      end\n      @player.move\n      @projectiles.each {|projectile| projectile.move}\n    end\n\n  end\n  #--------------------------------------#\n  def draw\n    unless @game_in_progress #Si el no se esta ejecutando muestra el menu\n      @font.draw(&quot;ASTEROIDS&quot;, 260, 220, 50, 3, 3, Gosu::Color::rgb(255, 255, 255))\n      @font.draw(&quot;Presiona 'p' Para Jugar&quot;, 300, 320, 50, 1, 1, Gosu::Color::rgb(13, 123, 255))\n      @font.draw(&quot;Presiona 'q' Para Salir&quot;, 305, 345, 50, 1, 1, Gosu::Color::rgb(13, 123, 255))\n    end\n    if @player #Si existe jugador lo dibuja\n      @player.draw\n      @projectiles.each {|projectile| projectile.draw}\n    end\n  end\n  #--------------------------------------#\nend\n#........................................#\nwindow = GameWindow.new\nwindow.show\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "activeadmin"], "comments": [{"owner": {"reputation": 3183, "user_id": 302824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faeab7627e6413aa087a4d603fa8c01f?s=128&d=identicon&r=PG", "display_name": "Charles Maresh", "link": "https://stackoverflow.com/users/302824/charles-maresh"}, "edited": false, "score": 0, "creation_date": 1445915054, "post_id": 33247389, "comment_id": 54514052, "body": "Can you post more of the custom page for reference?"}, {"owner": {"reputation": 374, "user_id": 3835508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GeXBm.jpg?s=128&g=1", "display_name": "kayatela", "link": "https://stackoverflow.com/users/3835508/kayatela"}, "reply_to_user": {"reputation": 3183, "user_id": 302824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faeab7627e6413aa087a4d603fa8c01f?s=128&d=identicon&r=PG", "display_name": "Charles Maresh", "link": "https://stackoverflow.com/users/302824/charles-maresh"}, "edited": false, "score": 0, "creation_date": 1446058070, "post_id": 33247389, "comment_id": 54589776, "body": "custom page added. thanks."}], "answers": [{"tags": [], "owner": {"reputation": 3183, "user_id": 302824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faeab7627e6413aa087a4d603fa8c01f?s=128&d=identicon&r=PG", "display_name": "Charles Maresh", "link": "https://stackoverflow.com/users/302824/charles-maresh"}, "is_accepted": true, "score": 2, "last_activity_date": 1446060552, "creation_date": 1446060552, "answer_id": 33399934, "question_id": 33247389, "link": "https://stackoverflow.com/questions/33247389/rails-activeadmin-flash-now-on-custom-pages/33399934#33399934", "title": "Rails &amp; ActiveAdmin - flash.now on custom pages", "body": "<p>Setting the <code>flash.now[:notice]</code> inside the <code>content</code> block is too late for it to be evaluated and rendered as part of the custom page. Instead you can set the flash message in a <code>before_action</code> in the controller:</p>\n\n<pre><code>ActiveAdmin.register_page \"Test\" do\n  content do\n    # Test content\n  end\n\n  controller do\n    before_action :set_notice, only: :index\n\n    private\n\n    def set_notice\n      flash.now[:notice] = 'Test'\n    end\n  end\nend\n</code></pre>\n\n<p>See the <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#filters\" rel=\"nofollow\">filters</a> section of the Action Controller Overview guide for more detail on <code>before_action</code>.</p>\n"}], "owner": {"reputation": 374, "user_id": 3835508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GeXBm.jpg?s=128&g=1", "display_name": "kayatela", "link": "https://stackoverflow.com/users/3835508/kayatela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1350, "favorite_count": 0, "accepted_answer_id": 33399934, "answer_count": 1, "score": 2, "last_activity_date": 1446060552, "creation_date": 1445377638, "last_edit_date": 1446058025, "question_id": 33247389, "link": "https://stackoverflow.com/questions/33247389/rails-activeadmin-flash-now-on-custom-pages", "title": "Rails &amp; ActiveAdmin - flash.now on custom pages", "body": "<p>Has anyone had success implementing <code>flash.now[:notice]</code> alerts within a custom page in ActiveAdmin?</p>\n\n<p>I am using a custom page created with <code>ActiveAdmin.register_page \"CustomPage\"</code>.</p>\n\n<p><code>flash[:notice]</code> works, but I cannot use it because I am not using <code>redirect_to</code> so the alerts show on the incorrect page.</p>\n\n<p>My Gemfile contains <code>gem 'activeadmin', github: 'activeadmin'</code></p>\n\n<p>app/admin/test.rb</p>\n\n<pre><code>ActiveAdmin.register_page \"Test\" do \n  content do \n    flash.now[:notice] = 'Test'\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby", "macos", "rubygems", "homebrew", "rbenv"], "comments": [{"owner": {"reputation": 4062, "user_id": 1281694, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83e0f83fbbdd69558f2149f9aa29f3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Linus", "link": "https://stackoverflow.com/users/1281694/linus"}, "edited": false, "score": 0, "creation_date": 1446214377, "post_id": 33246979, "comment_id": 54664040, "body": "Downvoting a question without leaving a comment to say why is not ok."}], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": false, "score": 2, "last_activity_date": 1445377255, "creation_date": 1445377255, "answer_id": 33247291, "question_id": 33246979, "link": "https://stackoverflow.com/questions/33246979/using-homebrew-vs-a-ruby-version-manager-on-os-x/33247291#33247291", "title": "Using Homebrew vs a ruby version manager on OS X?", "body": "<p>IMHO the most important reason to use a version manager is to be able to run multiple different versions of Ruby on the same machine e.g. to test gems with different versions or to run several (legacy and new) applications on the same development computer. Rbenv or RVM makes this easy, Homebrew doesn't support this...</p>\n"}, {"tags": [], "owner": {"reputation": 21521, "user_id": 78613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fa1dc97175c4cc1ea4ecf506119961c?s=128&d=identicon&r=PG", "display_name": "Nick Veys", "link": "https://stackoverflow.com/users/78613/nick-veys"}, "is_accepted": true, "score": 5, "last_activity_date": 1445377523, "creation_date": 1445377523, "answer_id": 33247363, "question_id": 33246979, "link": "https://stackoverflow.com/questions/33246979/using-homebrew-vs-a-ruby-version-manager-on-os-x/33247363#33247363", "title": "Using Homebrew vs a ruby version manager on OS X?", "body": "<p>Don't mess w/your system Ruby, your system needs to be stable and it's not necessary.</p>\n\n<p>Homebrew isn't made to manage multiple versions of software.  RVM (and others) and <em>made to do exactly that</em>.  I currently have 6 rubies installed.  I'd hate to have to manage that manually.  RVM (or friends) is the way to go if you are installing Ruby on your host.  People often go to the next level and use Vagrant instances to further isolate their development environment.</p>\n"}], "owner": {"reputation": 53, "user_id": 4621681, "user_type": "registered", "profile_image": "https://graph.facebook.com/972486812764065/picture?type=large", "display_name": "Joshua French", "link": "https://stackoverflow.com/users/4621681/joshua-french"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3030, "favorite_count": 0, "accepted_answer_id": 33247363, "answer_count": 2, "score": 4, "last_activity_date": 1445377523, "creation_date": 1445375965, "question_id": 33246979, "link": "https://stackoverflow.com/questions/33246979/using-homebrew-vs-a-ruby-version-manager-on-os-x", "title": "Using Homebrew vs a ruby version manager on OS X?", "body": "<p>I have a few questions about using Ruby on an OS X 10.11 El Capitan:</p>\n\n<ol>\n<li>Do you think it is ok to modify Apple's built-in Ruby installation (as in installing or upgrading Gems), or should I install a separate ruby environment? (I had been modifying the built in one previously, but once I upgraded to El Capitan Apple undid all of my changes. I never had any problems with it before the upgrade, even when I updated the Gems that Apple included in to more recent versions. Yet I am still worried.)</li>\n</ol>\n\n<p>I'm considering leaving Apple's built in Ruby alone and installing a separate one, leading me to my second question:</p>\n\n<ol start=\"2\">\n<li>Everywhere I read on the internet, people recommend using a Ruby version manager (rbenv, RVM, and the like) to install a separate Ruby environment. I feel like it would be easier, cleaner, and more straightforward to simply use homebrew, since I use it already, to install a ruby to /usr/local. What would be some problems with using homebrew instead of a dedicated Ruby version manager? What are the advantages of using a version manager over homebrew?</li>\n</ol>\n"}, {"tags": ["ruby", "bundler", "ruby-1.9.3", "ruby-2.0"], "comments": [{"owner": {"reputation": 1868, "user_id": 1362453, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ac2cc7e4e38841fb52ea58b4bf06ef?s=128&d=identicon&r=PG", "display_name": "Leo Brito", "link": "https://stackoverflow.com/users/1362453/leo-brito"}, "edited": false, "score": 0, "creation_date": 1445376042, "post_id": 33246951, "comment_id": 54296260, "body": "Could you post the output of <code>rvm list</code> ?"}, {"owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "reply_to_user": {"reputation": 1868, "user_id": 1362453, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ac2cc7e4e38841fb52ea58b4bf06ef?s=128&d=identicon&r=PG", "display_name": "Leo Brito", "link": "https://stackoverflow.com/users/1362453/leo-brito"}, "edited": false, "score": 0, "creation_date": 1445376163, "post_id": 33246951, "comment_id": 54296318, "body": "@brito I posted it in the question."}], "answers": [{"tags": [], "owner": {"reputation": 117013, "user_id": 424300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d1b31a337f46ac5e4dd56b55404f58?s=128&d=identicon&r=PG", "display_name": "Dylan Markow", "link": "https://stackoverflow.com/users/424300/dylan-markow"}, "is_accepted": true, "score": 1, "last_activity_date": 1445376450, "creation_date": 1445376450, "answer_id": 33247106, "question_id": 33246951, "link": "https://stackoverflow.com/questions/33246951/installed-ruby-2-0-0-but-an-error-tells-me-i-have-1-9-3-installed/33247106#33247106", "title": "Installed Ruby 2.0.0, but an error tells me I have 1.9.3 installed", "body": "<p>Because you're using rvm, you shouldn't ever need to use <code>sudo</code> on any of your commands. Using <code>sudo</code> is likely running the globally installed 1.9.3 version.</p>\n\n<p>If you just installed Ruby 2.0.0 and haven't done anything else, then you most likely need to install bundler first before using it:</p>\n\n<p><code>gem install bundler</code></p>\n\n<p>Once you've done that, <code>bundle install</code> (without <code>sudo</code>) should work fine.</p>\n"}], "owner": {"reputation": 831, "user_id": 4534483, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6cc55b0239247898d3d30e712cdbcdf5?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Caros", "link": "https://stackoverflow.com/users/4534483/jeff-caros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 33247106, "answer_count": 1, "score": 1, "last_activity_date": 1445376450, "creation_date": 1445375861, "last_edit_date": 1445376138, "question_id": 33246951, "link": "https://stackoverflow.com/questions/33246951/installed-ruby-2-0-0-but-an-error-tells-me-i-have-1-9-3-installed", "title": "Installed Ruby 2.0.0, but an error tells me I have 1.9.3 installed", "body": "<p>I just cloned my Rails app onto my new computer. Ruby 2.0.0 seemed to install with no issue, but when I run <code>sudo bundle install</code> inside my app, I get an error telling me I have Ruby 1.9.3 installed:</p>\n\n<pre><code>$ sudo bundle install\nYour Ruby version is 1.9.3, but your Gemfile specified 2.0.0\n</code></pre>\n\n<p>and <code>bundle install</code> returns this:</p>\n\n<pre><code>$ bundle install\n/home/user/.rvm/rubies/ruby-2.0.0-p643/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- bundler (LoadError)\nfrom /home/user/.rvm/rubies/ruby-2.0.0-p643/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:54:in `require'\nfrom /usr/bin/bundle:7:in `&lt;main&gt;'\n</code></pre>\n\n<p>I don't understand why I would have <code>1.9.3</code> installed. I used the command <code>rvm install 2.0.0</code> to install Ruby.</p>\n\n<p>Also, <code>ruby -v</code> returns:</p>\n\n<pre><code>ruby 2.0.0p643 (2015-02-25 revision 49749) [x86_64-linux]\n</code></pre>\n\n<p>What's going on?</p>\n\n<p><strong>Output of <code>rvm list</code></strong></p>\n\n<pre><code>$ rvm list\n\nrvm rubies\n\n=* ruby-2.0.0-p643 [ x86_64 ]\n\n# =&gt; - current\n# =* - current &amp;&amp; default\n#  * - default\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1445375593, "post_id": 33246842, "comment_id": 54296005, "body": "Since your code is working correctly, I think this question would be a better fit for <a href=\"http://codereview.stackexchange.com/\">Code Review Stack Exchange</a>."}], "answers": [{"comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1445376220, "post_id": 33247027, "comment_id": 54296340, "body": "Why not <code>numbers.each_cons(3).any? {|nums| nums.sum == 7 }</code>?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1445376823, "post_id": 33247027, "comment_id": 54296653, "body": "Because there is no <code>sum</code> method in Ruby?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1445377221, "post_id": 33247027, "comment_id": 54296869, "body": "Oops, forgot I was in the Rails console. Pretend I said <code>numbers.each_cons(3).any? {|nums| nums.reduce(:+) == 7 }</code>. :)"}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 3, "last_activity_date": 1445376135, "creation_date": 1445376135, "answer_id": 33247027, "question_id": 33246842, "link": "https://stackoverflow.com/questions/33246842/my-code-runs-but-its-sloppy-and-im-sure-it-has-extra-syntax-any-recommendation/33247027#33247027", "title": "My code runs but its sloppy and I&#39;m sure it has extra syntax. Any recommendations?", "body": "<p>If you are using an index outside of a block, you can often improve it. Here is an orthodox way.</p>\n\n<pre><code>def lucky_sevens?(numbers)\n  numbers.each_cons(3).any?{|x, y, z| x + y + z == 7}\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1445496329, "last_edit_date": 1445496329, "creation_date": 1445495701, "answer_id": 33274720, "question_id": 33246842, "link": "https://stackoverflow.com/questions/33246842/my-code-runs-but-its-sloppy-and-im-sure-it-has-extra-syntax-any-recommendation/33274720#33274720", "title": "My code runs but its sloppy and I&#39;m sure it has extra syntax. Any recommendations?", "body": "<p>You could do it like this:</p>\n\n<pre><code>def consecutive_sum?(arr, n, tot)\n  return false if arr.size &lt; n\n  t = arr[0,n].reduce(:+)\n  return true if t == tot\n  (arr.size-n).times.any? { |i| (t+=(arr[i+n]-arr[i]))==tot }\nend\n\nconsecutive_sum?([2,1,5,1,0], 3, 7) #=&gt; true\nconsecutive_sum?([2,1,5,2,1], 3, 7) #=&gt; false\n</code></pre>\n\n<p>3 numbers are summed to obtain <code>t</code>, then there are at most 2 adjustments to <code>t</code> that each involve an addition and a subtraction, so there are at most 7 additions/subtractions.  By contrast, @sawa's solution using <code>each_cons(3)</code> requires at most 3 summations of 3 numbers, for a total of nine additions. Regardless, I would expect <code>each_cons</code> to be be faster, and it certainly reads better.</p>\n\n<p>I presented this answer merely to suggest an efficient way of summing runs for larger values of <code>n</code>. You did not ask for this, but you or some readers may find it useful in other situations. Suppose, for example:</p>\n\n<pre><code>consecutive_sum?([1,4,2,5,6,2,7,1,5,2,8,4,3,1,7,6,3,1],6,21) #=&gt; true\n</code></pre>\n\n<p>6 numbers are summed to obtain <code>t</code>, then there are at most 12 adjustments to <code>t</code>, each involving an addition and a subtraction, a total of 30 additions/subtractions. <code>each_cons(6)</code>, however, requires 13 sums of 6 numbers each, or 78 additions.</p>\n"}], "owner": {"reputation": 127, "user_id": 5468974, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1109899445687723/picture?type=large", "display_name": "Jason Chu", "link": "https://stackoverflow.com/users/5468974/jason-chu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1445496329, "creation_date": 1445375439, "last_edit_date": 1445376407, "question_id": 33246842, "link": "https://stackoverflow.com/questions/33246842/my-code-runs-but-its-sloppy-and-im-sure-it-has-extra-syntax-any-recommendation", "title": "My code runs but its sloppy and I&#39;m sure it has extra syntax. Any recommendations?", "body": "<p>Here's a problem I'm trying to solve:</p>\n\n<blockquote>\n  <p>Write a function <code>lucky_sevens?(numbers)</code>, which takes in an array of\n  integers and returns <code>true</code> if any three consecutive elements sum to <code>7</code>.</p>\n\n<pre><code>lucky_sevens?([2,1,5,1,0]) == true # 1 + 5 + 1 == 7\nlucky_sevens?([0,-2,1,8]) == true # -2 + 1 + 8 == 7\nlucky_sevens?([7,7,7,7]) == false\nlucky_sevens?([3,4,3,4]) == false\n</code></pre>\n  \n  <p>Make sure your code correctly checks for edge cases (i.e. the first\n  and last elements of the array).</p>\n</blockquote>\n\n<pre><code>def lucky_sevens?(numbers)\n  i = 0\n  while i &lt; numbers.length - 2\n\n    if numbers[i] + numbers[i + 1] + numbers[i + 2] == 7\n        puts true\n        return true\n    end\n    i+=1\n    end \n    puts false\n    return false\nend\n</code></pre>\n\n<p>While my code does seem to work (I did some test cases), I know it can be improved. There's no reason to have both <code>puts</code> and <code>return</code> statements. I'm also wondering if there are general improvements to the syntax itself that can make it much more readable.</p>\n"}, {"tags": ["ruby", "sequel", "sequel-gem"], "answers": [{"tags": [], "owner": {"reputation": 7568, "user_id": 492969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b936bf1ffa62366b2c107de33361cc41?s=128&d=identicon&r=PG", "display_name": "three", "link": "https://stackoverflow.com/users/492969/three"}, "is_accepted": false, "score": 0, "last_activity_date": 1507961923, "creation_date": 1507961923, "answer_id": 46741530, "question_id": 33246799, "link": "https://stackoverflow.com/questions/33246799/how-to-return-updated-records-using-sequel-gem-on-a-bulk-update/46741530#46741530", "title": "How to return updated records using Sequel Gem on a bulk update", "body": "<p>Well, this is what DBs return so Sequel does what the developer expects it to do. Instead do this:</p>\n\n<pre><code>users = Users.where(:id =&gt; ids)\nraise if users.empty?\n\nupdated_users = Users.where(:id =&gt; addon_ids)\nupdated_users.update({deleted: 1, moderator_id: moderator_id})\np updated_users\n# =&gt; [#&lt;Users @values={:id=&gt;1, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;, #&lt;Users @values={:id=&gt;2, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;, #&lt;Users @values={:id=&gt;3, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;]\n</code></pre>\n\n<p>This way you don't assign the number of affected rows to <code>updated_users</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4620983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a94ac7476c24244fbe1c84dfce53a1c?s=128&d=identicon&r=PG", "display_name": "Cristian Ria&#241;o", "link": "https://stackoverflow.com/users/4620983/cristian-ria%c3%b1o"}, "is_accepted": false, "score": 0, "last_activity_date": 1518511921, "creation_date": 1518511921, "answer_id": 48762775, "question_id": 33246799, "link": "https://stackoverflow.com/questions/33246799/how-to-return-updated-records-using-sequel-gem-on-a-bulk-update/48762775#48762775", "title": "How to return updated records using Sequel Gem on a bulk update", "body": "<p>For people that might still be looking for this, depending on your database engine you can use <code>returning</code>.</p>\n\n<pre><code>updated_users = Users.returning.filter(:id =&gt; addon_ids).update({deleted: 1, moderator_id: moderator_id})\np updated_users\n# =&gt; [#&lt;Users @values={:id=&gt;1, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;, #&lt;Users @values={:id=&gt;2, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;, #&lt;Users @values={:id=&gt;3, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;]\n</code></pre>\n\n<p>Docs: <a href=\"http://www.rubydoc.info/github/jeremyevans/sequel/Sequel%2FDataset%3Areturning\" rel=\"nofollow noreferrer\">http://www.rubydoc.info/github/jeremyevans/sequel/Sequel%2FDataset%3Areturning</a></p>\n"}], "owner": {"reputation": 3738, "user_id": 2530089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4973420ed95a43d4a63718685b9a94b?s=128&d=identicon&r=PG", "display_name": "Alex Pan", "link": "https://stackoverflow.com/users/2530089/alex-pan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1518511921, "creation_date": 1445375291, "question_id": 33246799, "link": "https://stackoverflow.com/questions/33246799/how-to-return-updated-records-using-sequel-gem-on-a-bulk-update", "title": "How to return updated records using Sequel Gem on a bulk update", "body": "<p>I am using the <a href=\"https://github.com/jeremyevans/sequel\" rel=\"nofollow\">Sequel</a> gem to bulk update Users in MySql.</p>\n\n<pre><code>users = Users.filter(:id =&gt; ids).all\nraise if users.nil?\n\nupdated_users = Users.filter(:id =&gt; addon_ids).update({deleted: 1, moderator_id: moderator_id})\np updated_users\n# =&gt; 3\n</code></pre>\n\n<p>According to <a href=\"http://sequel.jeremyevans.net/rdoc/files/doc/sql_rdoc.html\" rel=\"nofollow\">Sequel documentation</a>,</p>\n\n<blockquote>\n  <p>\"update [and delete] should return the number of rows affected...\"</p>\n</blockquote>\n\n<p>So the behavior above is expected, but my question is, how can I get the Sequel gem to return the updated records instead of the number of affected records?</p>\n\n<p>I am expecting this behavior:</p>\n\n<pre><code>users = Users.filter(:id =&gt; ids).all\nraise if users.nil?\n\nupdated_users = Users.filter(:id =&gt; addon_ids).update({deleted: 1, moderator_id: moderator_id})\np updated_users\n# =&gt; [#&lt;Users @values={:id=&gt;1, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;, #&lt;Users @values={:id=&gt;2, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;, #&lt;Users @values={:id=&gt;3, :moderator_id=&gt;\"testuser\", :deleted=&gt;1}&gt;]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "actionmailer", "rails-admin"], "answers": [{"tags": [], "owner": {"reputation": 1341, "user_id": 743975, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6b0899d70c3239ead231cebc7e8ce9af?s=128&d=identicon&r=PG", "display_name": "Dmitry Polyakovsky", "link": "https://stackoverflow.com/users/743975/dmitry-polyakovsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1452822559, "creation_date": 1452822559, "answer_id": 34803097, "question_id": 33246777, "link": "https://stackoverflow.com/questions/33246777/rails-admin-actionmailer/34803097#34803097", "title": "Rails Admin / Actionmailer", "body": "<p>I would use a callback.  You need to manually select the user who created record or user <a href=\"https://github.com/tbpro/mongoid_userstamp\" rel=\"nofollow\">mongoid_userstamp</a> / ActiveRecord equivalent.  </p>\n\n<pre><code>class Foo\n  include Mongoid::Document\n  field :name\n  belongs_to :user\n  after_create do\n    YourMailer.send_report(user)\n  end\n  ...\nend\nclass YourMailer &lt; ApplicationMailer\n  def send_report\n    mail(...).deliver_later\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5236385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c59f72d9184094c3aeaee97da441eaa?s=128&d=identicon&r=PG&f=1", "display_name": "jthyten", "link": "https://stackoverflow.com/users/5236385/jthyten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452822559, "creation_date": 1445375179, "question_id": 33246777, "link": "https://stackoverflow.com/questions/33246777/rails-admin-actionmailer", "title": "Rails Admin / Actionmailer", "body": "<p>I am building a simple app that just uses rails_admin to collect data.  I have different types of Users set up to view and edit different models.  I want to send a summary email of a record when it is created using rials_admin.  Since I don't have a dedicate controller for this model, where do I create this action?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1445374385, "post_id": 33246494, "comment_id": 54295358, "body": "change <code>@order.card_type&quot;n&quot;</code> to <code>@order.try(&quot;card_type#{n}&quot;) 1= &#39;none&#39;</code>"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1445374570, "post_id": 33246494, "comment_id": 54295470, "body": "Unrelated, but prefer string interpolation to concatenation. I&#39;d probably also just collect the strings and join them to create the final <code>notes</code> value."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "edited": false, "score": 0, "creation_date": 1445374314, "post_id": 33246528, "comment_id": 54295323, "body": "I am getting undefined method `[]&#39; error? Am I missing something."}, {"owner": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "reply_to_user": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "edited": false, "score": 0, "creation_date": 1445374369, "post_id": 33246528, "comment_id": 54295347, "body": "@CraigRinde The <code>@order</code> is <code>nil</code>. Can you do <code>@order.inspect</code> and post your output?"}, {"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 0, "creation_date": 1445374370, "post_id": 33246528, "comment_id": 54295350, "body": "Try <code>@order.send(&quot;card_type#{n}&quot;)</code>"}, {"owner": {"reputation": 22618, "user_id": 1555312, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/12c03a0fc2ac25d234882cf93f1d3052?s=128&d=identicon&r=PG", "display_name": "bigpotato", "link": "https://stackoverflow.com/users/1555312/bigpotato"}, "edited": false, "score": 1, "creation_date": 1445374415, "post_id": 33246528, "comment_id": 54295372, "body": "you can try <code>@numbers = (0..9)</code> too instead of typing them all out"}, {"owner": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "reply_to_user": {"reputation": 22618, "user_id": 1555312, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/12c03a0fc2ac25d234882cf93f1d3052?s=128&d=identicon&r=PG", "display_name": "bigpotato", "link": "https://stackoverflow.com/users/1555312/bigpotato"}, "edited": false, "score": 0, "creation_date": 1445374490, "post_id": 33246528, "comment_id": 54295422, "body": "@Edmund Thanks - added your suggestion"}, {"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "reply_to_user": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "edited": false, "score": 0, "creation_date": 1445374558, "post_id": 33246528, "comment_id": 54295458, "body": "@CraigRinde Is <code>@order</code> an array? I was under the impression that it was an object. Thus the `send(&quot;card_type#{n}&quot;)"}, {"owner": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "reply_to_user": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 0, "creation_date": 1445374587, "post_id": 33246528, "comment_id": 54295479, "body": "@TheSpurg It depends. If it was an ActiveRecord object <code>[]</code> would work fine. Doesn&#39;t have to be an array to work."}, {"owner": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 0, "creation_date": 1445374611, "post_id": 33246528, "comment_id": 54295491, "body": "@sjagr Agreed, but I didn&#39;t want to assume"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "edited": false, "score": 0, "creation_date": 1445374805, "post_id": 33246528, "comment_id": 54295594, "body": "@CraigRinde Also unrelated, but it might make more sense to have the cards in an array and avoid having to use <code>send</code>. Then you could also just write <code>9.times do |n| ...etc...</code>. Then do a find_all or grep and collect the strings. This is more functional and ultimately easier to reason about. And refactor the note creation. Or at least use a heredoc."}, {"owner": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "reply_to_user": {"reputation": 1907, "user_id": 2639561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09febafdea197434b97fd7762c32037c?s=128&d=identicon&r=PG", "display_name": "wspurgin", "link": "https://stackoverflow.com/users/2639561/wspurgin"}, "edited": false, "score": 0, "creation_date": 1445374851, "post_id": 33246528, "comment_id": 54295612, "body": "@TheSpurg Wiki&#39;ed and added your suggestion - I don&#39;t like assuming either but there wasn&#39;t much to work with in the question!"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "edited": false, "score": 0, "creation_date": 1445374974, "post_id": 33246528, "comment_id": 54295685, "body": "@CraigRinde Actually, now that I see that you&#39;ll have to use <code>send</code> to create the note as well, this is a prime candidate for a re-thinking instead of doing all this manual work. If nothing else you should move the note creation into the <code>Order</code> class and avoid almost <i>all</i> of this busy-work."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1445375063, "post_id": 33246528, "comment_id": 54295738, "body": "@sjagr Note that the <code>send</code> methodology will need to be used <i>throughout</i> the string concatenation; this is tedious and error-prone. It&#39;s right in the limited sense that in the end it&#39;ll work, but it&#39;s ugly, brittle, and difficult to think about :)"}, {"owner": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1445375074, "post_id": 33246528, "comment_id": 54295755, "body": "@DaveNewton I am still learning so I am hacking this together and I am sure it is not the best way to do it. Do you have anything I could read on the strategy you are suggesting? Thanks for your help!"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "edited": false, "score": 0, "creation_date": 1445376359, "post_id": 33246528, "comment_id": 54296413, "body": "@CraigRinde It&#39;s basic OOP, really; what you <i>seem</i> to have is an order consisting of multiple line items. This implies each item is an instance of its own class (e.g., in Rails, a <code>has_many</code> of some sort). This makes the resulting code trivial--example coming in an (non-Rails) answer since too long to comment."}], "tags": [], "owner": {"reputation": 14140, "user_id": 1188035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da4b6c80f86359463b47f42cfe307356?s=128&d=identicon&r=PG", "display_name": "sjagr", "link": "https://stackoverflow.com/users/1188035/sjagr"}, "is_accepted": false, "score": 2, "last_activity_date": 1445374794, "last_edit_date": 1445374794, "creation_date": 1445374142, "answer_id": 33246528, "question_id": 33246494, "link": "https://stackoverflow.com/questions/33246494/iterating-through-9-times-and-i-think-i-have-a-syntax-error/33246528#33246528", "title": "Iterating through 9 times and I think I have a syntax error", "body": "<p>Just access it with <code>[]</code> notation and string manipulation:</p>\n\n<pre><code>(1..9).each do |n|              \n\n  if @order[\"card_type#{n}\"] != \"none\" \n    # ...\n  end               \n\nend\n</code></pre>\n\n<p>Failing that, you can also do:</p>\n\n<pre><code>@order.send(\"card_type#{n}\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "edited": false, "score": 0, "creation_date": 1445378813, "post_id": 33247156, "comment_id": 54297622, "body": "Wow! Thanks for such a thorough and lengthy reply. I am going to study this and implement it into my code. Such a great learning experience."}], "tags": [], "owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "is_accepted": true, "score": 1, "last_activity_date": 1445376998, "last_edit_date": 1445376998, "creation_date": 1445376655, "answer_id": 33247156, "question_id": 33246494, "link": "https://stackoverflow.com/questions/33246494/iterating-through-9-times-and-i-think-i-have-a-syntax-error/33247156#33247156", "title": "Iterating through 9 times and I think I have a syntax error", "body": "<p>There are a number of issues here.</p>\n\n<p>The first, already solved, is that you'll need a <code>send</code> to access the value:</p>\n\n<pre><code>if @order.send(:\"card_type#{n}\") != \"none\" ...\n</code></pre>\n\n<p>The second is that each of the individual elements inside the string are also numerically-named:</p>\n\n<pre><code>Card 1: #{@order.card_type1}\n</code></pre>\n\n<p>Right now you'll be using the same value throughout the loop so you'll need to use <code>send</code>:</p>\n\n<pre><code>#{@order.send(:\"card_type#{n}\")}\n</code></pre>\n\n<p>Third, you can clean up the ginormous string concat using a heredoc:</p>\n\n<pre><code>if @order.send(:\"card_type{n}\") != \"none\" \n  notes += &lt;-EOS\n    Card 1: #{@order.card_type1}\n    Paper Weight: #{@order.paper_weight1}\n    Quantity: #{@order.quantity1}\n    Ink Color #1: #{@order.ink_color11}\n    Ink Color #2: #{@order.ink_color12}\n    Wording: #{@order.wording1}\n    Return Address Printing: #{@order.return_address1}\n    Guest Address Printing: #{@order.guest_address1.to_s}\n    Envelope Liners: #{@order.envelope_liners1}\n  EOS\nend               \n</code></pre>\n\n<p>Fourth, rather than do this, use a collection in the first place, and throw in some helper methods that'll <em>significantly</em> clean up your mainline code. Here I'm using POROs but the exact same mechanics apply.</p>\n\n<p>I'm assuming some sort of order item. I shortened the number of attributes for brevity:</p>\n\n<pre><code>class OrderItem\n  attr_accessor :type, :wording\n\n  def initialize(type, wording)\n    @type    = type\n    @wording = wording\n  end\n\n  def valid_item?\n    type != 'none'\n  end\n\n  def item_info\n    &lt;&lt;-EOS\n      Card Type: #{type}\n      Wording: #{wording}\n    EOS\n  end\nend\n</code></pre>\n\n<p>An order consists of a collection of those items. (You can limit to nine in a variety of ways, this is not reflected here.)</p>\n\n<pre><code>class Order\n  attr_accessor :items\n\n  def initialize(items)\n    @items = items\n  end\n\n  def valid_items\n    items.find_all &amp;:valid_item?\n  end\nend\n</code></pre>\n\n<p>In a Rails app each of these would be ActiveRecord models, stored in the DB.</p>\n\n<p>To simulate an order I'm creating them manually and making sure one has the <code>\"none\"</code> type:</p>\n\n<pre><code>items         = 4.times.collect { |n| OrderItem.new('not none', \"wording #{n}\") }\nitems[2].type = 'none'\n\norder = Order.new(items)\n</code></pre>\n\n<p>To get a string containing the order info for non-\"none\" types:</p>\n\n<pre><code>output = order.valid_items.collect(&amp;:item_info).join(\"\\n--\\n\")\n</code></pre>\n\n<p>And if you print that out:</p>\n\n<pre><code>  Card Type: not none\n  Wording: wording 0\n\n--\n  Card Type: not none\n  Wording: wording 1\n\n--\n  Card Type: not none\n  Wording: wording 3\n</code></pre>\n\n<p>Note the order item I set to \"none\" doesn't appear.</p>\n\n<p>Now, I've taken liberties with naming (not knowing your domain) and there are various tweaks you'll need to make (like... why generate text output in a Rails app), but this shows one possible path you could take to clean up the code, and reduce the amount of thought it takes to understand the mainline code.</p>\n\n<p>Even if you don't separate out the order items and stick with the numerically-named order attributes you can still isolate the confusing code to pull out the number-based attributes, figure out which ones are necessary (e.g., spin through the card types and get an array of the numbers that aren't <code>none</code> and use that to access all the other fields).</p>\n"}], "owner": {"reputation": 95, "user_id": 1751930, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6253bb19dcd8c77aabc0dc3b9bea1737?s=128&d=identicon&r=PG", "display_name": "Craig Rinde", "link": "https://stackoverflow.com/users/1751930/craig-rinde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 33247156, "answer_count": 2, "score": 2, "last_activity_date": 1458734495, "creation_date": 1445373970, "last_edit_date": 1458734495, "question_id": 33246494, "link": "https://stackoverflow.com/questions/33246494/iterating-through-9-times-and-i-think-i-have-a-syntax-error", "title": "Iterating through 9 times and I think I have a syntax error", "body": "<pre><code> @numbers = [1,2,3,4,5,6,7,8,9]\n\n  @numbers.each do |n|              \n\n    if @order.card_type\"n\" != \"none\" \n      notes +=  \"\\n\\nCard 1: \" + @order.card_type1 + \"\\nPaper Weight: \" + @order.paper_weight1 + \"\\nQuantity: \" + @order.quantity1 + \"\\nInk Color #1: \" + @order.ink_color11 + \"\\nInk Color #2: \" + @order.ink_color12 + \"\\nWording: \" + @order.wording1 + \"\\nReturn Address Printing: \" + @order.return_address1 + \"\\nGuest Address Printing: \" + @order.guest_address1.to_s + \"\\nEnvelope Liners: \" + @order.envelope_liners1                 \n    end               \n\n  end\n</code></pre>\n\n<p>I am not sure what I am doing wrong but I need to replace \"n\" with 1-9 in my controller. I can't figure out the right way to do this. </p>\n"}, {"tags": ["ruby", "heroku", "sinatra", "puma"], "comments": [{"owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "edited": false, "score": 0, "creation_date": 1445375475, "post_id": 33246470, "comment_id": 54295946, "body": "If that is real user data, please remove it asap."}, {"owner": {"reputation": 51, "user_id": 3527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a75ae834c833b44c4bfb4d6e2a7267c?s=128&d=identicon&r=PG", "display_name": "Malte Schmitz", "link": "https://stackoverflow.com/users/3527849/malte-schmitz"}, "reply_to_user": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "edited": false, "score": 0, "creation_date": 1445375711, "post_id": 33246470, "comment_id": 54296081, "body": "@yez: No of course not. The whole purpose of the app is to randomly generate test data."}, {"owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "edited": false, "score": 0, "creation_date": 1445376707, "post_id": 33246470, "comment_id": 54296587, "body": "Ok that&#39;s great news."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 3527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a75ae834c833b44c4bfb4d6e2a7267c?s=128&d=identicon&r=PG", "display_name": "Malte Schmitz", "link": "https://stackoverflow.com/users/3527849/malte-schmitz"}, "is_accepted": true, "score": 0, "last_activity_date": 1445377417, "last_edit_date": 1495542595, "creation_date": 1445377417, "answer_id": 33247331, "question_id": 33246470, "link": "https://stackoverflow.com/questions/33246470/sinatra-app-on-heroku-responds-with-forbidden-if-i-follow-links/33247331#33247331", "title": "Sinatra app on Heroku responds with Forbidden if I follow links", "body": "<p>This is a feature of Rack protection that seems to be enabled automatically if you set the content type to JSON. It can be disabled by</p>\n\n<pre><code>set :protection, :except =&gt; [:json_csrf]\n</code></pre>\n\n<p>as described for example in this question on <a href=\"https://stackoverflow.com/questions/10509774/sinatra-and-rack-protection-setting\">Sinatra and Rack protection</a>.</p>\n"}], "owner": {"reputation": 51, "user_id": 3527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a75ae834c833b44c4bfb4d6e2a7267c?s=128&d=identicon&r=PG", "display_name": "Malte Schmitz", "link": "https://stackoverflow.com/users/3527849/malte-schmitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "accepted_answer_id": 33247331, "answer_count": 1, "score": 5, "last_activity_date": 1445377417, "creation_date": 1445373872, "last_edit_date": 1445375857, "question_id": 33246470, "link": "https://stackoverflow.com/questions/33246470/sinatra-app-on-heroku-responds-with-forbidden-if-i-follow-links", "title": "Sinatra app on Heroku responds with Forbidden if I follow links", "body": "<p>I've created a little Sinatra app and use Puma to run it. I've deployed my app to Heroku and everything works fine, but if I follow an external link to my app, I get the response <code>Forbidden</code>. Where does this come from?</p>\n\n<p>The app only defines one HTTP method:</p>\n\n<pre><code>require 'sinatra'\n\nget '/' do\n  headers 'Content-Type' =&gt; 'application/json'\n  body 'Hello World'\nend\n</code></pre>\n\n<p>For example following <a href=\"https://contactsampleprovider.herokuapp.com/\" rel=\"nofollow\">https://contactsampleprovider.herokuapp.com/</a> will result in <code>Forbidden</code>, but entering the URL manually in the browser works fine.</p>\n\n<p>If I leave out the <code>headers</code>-call, everything works as expected.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1445373648, "post_id": 33246240, "comment_id": 54294992, "body": "There is no way to make <code>gets</code> behave this way. You would need to use one of the many terminal libraries for Ruby."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1445376875, "post_id": 33246240, "comment_id": 54296684, "body": "You are contradictory. If you do not press enter, it is not a <code>gets</code> input (although it can be other types of input)."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1445377486, "post_id": 33246240, "comment_id": 54296999, "body": "@meager, any idea which of the terminal libraries?"}], "answers": [{"tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": true, "score": 0, "last_activity_date": 1445377905, "last_edit_date": 1495541744, "creation_date": 1445377905, "answer_id": 33247454, "question_id": 33246240, "link": "https://stackoverflow.com/questions/33246240/when-using-gets-in-ruby-for-input-is-there-any-way-to-get-command-history/33247454#33247454", "title": "When using `gets` in Ruby for input, is there any way to get command history?", "body": "<p>I started looking into tab completion and found <a href=\"https://stackoverflow.com/questions/13876024/how-to-write-a-ruby-command-line-app-that-supports-tab-completion\">this post</a> which recommends using <code>readline</code> from stdlib. </p>\n\n<p>I discovered that  it also supports command history. </p>\n"}], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 33247454, "answer_count": 1, "score": 1, "last_activity_date": 1445377905, "creation_date": 1445372894, "question_id": 33246240, "link": "https://stackoverflow.com/questions/33246240/when-using-gets-in-ruby-for-input-is-there-any-way-to-get-command-history", "title": "When using `gets` in Ruby for input, is there any way to get command history?", "body": "<p>I have a CLI app which uses <code>gets</code> repeatedly, in a loop.</p>\n\n<p>For example,</p>\n\n<pre><code>$app &gt; what is your command?\n$me  &gt; help\n$app &gt; ... print the man page ...\n$app &gt; what is your command?\n</code></pre>\n\n<p>It's not an IRB console, so I can't get command history using the up/down arrows. </p>\n\n<p>I thought about making a data structure (i.e. array) to log commands and bind some <code>gets</code> input to move through it. </p>\n\n<p>I don't think this is what I'm looking for.</p>\n\n<p>The command to navigate up/down in the history should not require a press of <code>enter</code></p>\n\n<p>Thanks for your thoughts. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "loops"], "comments": [{"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1445372819, "post_id": 33246129, "comment_id": 54294582, "body": "What is your issue here?"}, {"owner": {"reputation": 35, "user_id": 3896392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa87b84b700928929a9fb941432d93?s=128&d=identicon&r=PG", "display_name": "frustrateddeveloper", "link": "https://stackoverflow.com/users/3896392/frustrateddeveloper"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1445372967, "post_id": 33246129, "comment_id": 54294656, "body": "The issue is... Depends of the quantity if is more than 4... How to select to use the large package and 1 small package in case the quantity is 5"}], "answers": [{"tags": [], "owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "is_accepted": true, "score": 0, "last_activity_date": 1445373585, "creation_date": 1445373585, "answer_id": 33246395, "question_id": 33246129, "link": "https://stackoverflow.com/questions/33246129/fedex-gem-multiples-packages/33246395#33246395", "title": "Fedex gem, multiples packages", "body": "<pre><code>def packages_types\n  packages              = []\n  extra_items_count     = @order.quantity % 4\n  large_packages_needed = (@order.quantity - extra_items_count) / 4\n\n  # point A\n  large_packages_needed.times do\n    packages &lt;&lt; { :weight     =&gt; { :units =&gt; \"LB\", :value =&gt; @order.case_weight },\n                  :dimensions =&gt; { :length =&gt; 8, :width =&gt; 1, :height =&gt; 7, :units =&gt; \"IN\" } }\n  end\n\n  # point B\n  case extra_items_count\n  when 1\n    packages &lt;&lt; { :weight     =&gt; { :units =&gt; \"LB\", :value =&gt; 10 },\n                  :dimensions =&gt; { :length =&gt; 1, :width =&gt; 2, :height =&gt; 2, :units =&gt; \"IN\" } }\n  when 2\n    packages &lt;&lt; { :weight     =&gt; { :units =&gt; \"LB\", :value =&gt; 21 },\n                  :dimensions =&gt; { :length =&gt; 1, :width =&gt; 2, :height =&gt; 7, :units =&gt; \"IN\" } }\n  when 3, 4\n    packages &lt;&lt; { :weight     =&gt; { :units =&gt; \"LB\", :value =&gt; @order.case_weight },\n                  :dimensions =&gt; { :length =&gt; 8, :width =&gt; 1, :height =&gt; 7, :units =&gt; \"IN\" } }\n  end\n\n  return packages\nend\n</code></pre>\n\n<p><strong>Point A</strong>: For each group of 4 items, a large package is needed (and added to the <code>packages</code> array).</p>\n\n<p><strong>Point B</strong>: For the remaining items (example: you ordered 5 items -> 1 large package of 4 items + 1 small for 1 remaining item), we add the corresponding conditions in the <code>package</code> array.</p>\n"}], "owner": {"reputation": 35, "user_id": 3896392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa87b84b700928929a9fb941432d93?s=128&d=identicon&r=PG", "display_name": "frustrateddeveloper", "link": "https://stackoverflow.com/users/3896392/frustrateddeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 33246395, "answer_count": 1, "score": 2, "last_activity_date": 1445373585, "creation_date": 1445372499, "question_id": 33246129, "link": "https://stackoverflow.com/questions/33246129/fedex-gem-multiples-packages", "title": "Fedex gem, multiples packages", "body": "<p>I'm trying to calculate the shipping cost depending of the total quantity of the product purchased with the Fedex gem<a href=\"https://github.com/jazminschroeder/fedex\" rel=\"nofollow\">https://github.com/jazminschroeder/fedex</a>. I'm getting the rates but I have different packages options, 3 actually.\nthe first one when the quantity is 1 (small), the second one when the quantity is 2 (medium) and the third one when the quantity is 3 or 4 (larger).</p>\n\n<pre><code>def packages_types\n    packages = []\n    if @order.quantity &gt;= 4\n      packages &lt;&lt; { :weight =&gt; {:units =&gt; \"LB\", :value =&gt; @order.case_weight},\n                    :dimensions =&gt; {:length =&gt; 8, :width =&gt; 1, :height =&gt; 7, :units =&gt; \"IN\" } }\n    elsif @order.quantity == 2\n      packages &lt;&lt; { :weight =&gt; {:units =&gt; \"LB\", :value =&gt; 21},\n                    :dimensions =&gt; {:length =&gt; 1, :width =&gt; 2, :height =&gt; 7, :units =&gt; \"IN\" } }\n    elsif @order.quantity == 1\n      packages &lt;&lt; { :weight =&gt; {:units =&gt; \"LB\", :value =&gt; 10},\n                    :dimensions =&gt; {:length =&gt; 1, :width =&gt; 2, :height =&gt; 2, :units =&gt; \"IN\" } }\n    end\nend\n</code></pre>\n\n<p>So if the client orders 5 on quantity. It's going to be the package of 4(large) and 1 of the small package. I was thinking using the mod...</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445372475, "post_id": 33245671, "comment_id": 54294418, "body": "When you report an error message you should also give the line where the error occurred. Does that not pinpoint the offending <code>end</code>?"}, {"owner": {"reputation": 49, "user_id": 5438726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3995e34da786053a4508c1dcc5e281?s=128&d=identicon&r=PG&f=1", "display_name": "Muetral_Nilk_Hotel", "link": "https://stackoverflow.com/users/5438726/muetral-nilk-hotel"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1445442025, "post_id": 33245671, "comment_id": 54328349, "body": "@Cary, I&#39;ll keep that in mind in the future. TBH, I&#39;m going to refrain from boring questions like this in the future, this isn&#39;t a good use of this site, although you guys rule."}], "answers": [{"comments": [{"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1445372231, "post_id": 33245797, "comment_id": 54294292, "body": "<code>@coordinate_x.between?(0, $boundaries[0]) &amp;&amp; coordinate_y.between?(0, $boundaries[1])</code> returns <code>true</code> or <code>false</code> by itself, so the <code>if</code> statement is not even necessary."}, {"owner": {"reputation": 521, "user_id": 1847785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7rTd.jpg?s=128&g=1", "display_name": "SnowMax", "link": "https://stackoverflow.com/users/1847785/snowmax"}, "reply_to_user": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1445372304, "post_id": 33245797, "comment_id": 54294329, "body": "@steenslag thats right, but than you cannot use the end keyword"}, {"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1445372469, "post_id": 33245797, "comment_id": 54294412, "body": "Wasn&#39;t meant as criticism, more as a side note (slightly reworded now)."}, {"owner": {"reputation": 521, "user_id": 1847785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7rTd.jpg?s=128&g=1", "display_name": "SnowMax", "link": "https://stackoverflow.com/users/1847785/snowmax"}, "reply_to_user": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1445372540, "post_id": 33245797, "comment_id": 54294450, "body": "No problem ;) I added your suggestion"}], "tags": [], "owner": {"reputation": 521, "user_id": 1847785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7rTd.jpg?s=128&g=1", "display_name": "SnowMax", "link": "https://stackoverflow.com/users/1847785/snowmax"}, "is_accepted": false, "score": 3, "last_activity_date": 1445372407, "last_edit_date": 1445372407, "creation_date": 1445371282, "answer_id": 33245797, "question_id": 33245671, "link": "https://stackoverflow.com/questions/33245671/where-am-i-missing-an-end-in-this-ruby-script/33245797#33245797", "title": "Where am I missing an &quot;end&quot; in this Ruby script?", "body": "<p>This error is located in the check_valid method. You missed the if.</p>\n\n<pre><code>def check_valid\n    if @coordinate_x.between?(0, $boundaries[0]) &amp;&amp; coordinate_y.between?(0, $boundaries[1])\n        return true\n    end\nend\n</code></pre>\n\n<p>Like steenslag mentioned the if statement is not required. You can write:</p>\n\n<pre><code>def check_valid\n    return @coordinate_x.between?(0, $boundaries[0]) &amp;&amp; coordinate_y.between?(0, $boundaries[1])\nend\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5438726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3995e34da786053a4508c1dcc5e281?s=128&d=identicon&r=PG&f=1", "display_name": "Muetral_Nilk_Hotel", "link": "https://stackoverflow.com/users/5438726/muetral-nilk-hotel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1445372407, "creation_date": 1445370869, "last_edit_date": 1445372323, "question_id": 33245671, "link": "https://stackoverflow.com/questions/33245671/where-am-i-missing-an-end-in-this-ruby-script", "title": "Where am I missing an &quot;end&quot; in this Ruby script?", "body": "<p>I am banging my head against the error message I keep getting, reading that \"syntax error, unexpected keyword_end, expecting end-of-input.\" I cannot find my mistake for the life of me. It's probably sloppy-looking, I am a newbie. And any tips on preventing this specific issue in the future would also be greatly appreciated!</p>\n\n<pre><code>$move_direction_hash = {\"N\" =&gt; [0,1], \"E\" =&gt; [1,0], \"S\" =&gt; [0,-1], \"W\" =&gt; [-1,0]}\n$cardinal_directions = [\"N\", \"E\", \"S\", \"W\"]\n\nclass Martian\n\nattr_accessor :coordinate_x, :coordinate_y, :bearing, :direction_string\n\ndef initialize (coordinate_x, coordinate_y, bearing, direction_string)\n    @coordinate_x = coordinate_x\n    @coordinate_y = coordinate_y\n    @bearing = bearing\n    @direction_string = direction_string\nend\n\n\ndef check_valid\n    @coordinate_x.between?(0, $boundaries[0]) &amp;&amp; coordinate_y.between?(0, $boundaries[1])\n        return true\n    end\nend\n\n\n#will be second and last called in source code\ndef get_final\n    return \"#{coordinate_x} #{coordinate_y} #{bearing}\"\nend     \n\ndef move_forward\n    # find where in the hash the bearing is\n    position_array = $move_direction_hash[@bearing]\n    # returns a temporary variable\n    # that is the \n    test_x = @coordinate_x + position_array[0]\n    test_y = @coordinate_y + position_array[1]\n    if $rovers_on_grid.include?([test_x.to_s, test_y.to_s])\n        puts \"Stopping Martian. You're about to crash!\"\n        get_final\n        break\n    else\n        @coordinate_x = test_x\n        @coordinate_y = test_y\n        if check_valid == false\n            puts \"Stopping Martian. About to run off the plateau.\"\n            get_final\n            break\n        else\n            return @coordinate_x, @coordinate_y\n        end\n    end\nend\n\ndef add_to_grid\n$rovers_on_grid &lt;&lt; [@x_coordinate, @y_coordinate]\nend\n\ndef read_instructions       \n    @direction_string.each_char do |direction|\n        if direction == \"L\" || direction  == \"R\"\n            position = $cardinal_directions.index(@bearing)\n            if direction == \"L\"\n                position = (position - 1)%4\n                $cardinal_directions[position]\n            elsif direction == \"R\" \n                position = (position + 1)%4\n                $cardinal_directions[position]\n            else\n                puts \"Error!\"\n            end\n        @bearing = $cardinal_directions[position]\n        elsif direction == \"M\"      \n            move_forward\n        end\n    end\nend\nend\n</code></pre>\n"}, {"tags": ["ruby", "regex", "html-parsing"], "answers": [{"tags": [], "owner": {"reputation": 2569, "user_id": 514040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/98bb1ee1a1f3d1297acf493776066086?s=128&d=identicon&r=PG", "display_name": "neuronaut", "link": "https://stackoverflow.com/users/514040/neuronaut"}, "is_accepted": true, "score": 5, "last_activity_date": 1445370246, "last_edit_date": 1445370246, "creation_date": 1445369765, "answer_id": 33245363, "question_id": 33245198, "link": "https://stackoverflow.com/questions/33245198/how-to-extract-href-from-a-tag-using-ruby-regex/33245363#33245363", "title": "How to extract href from a tag using ruby regex?", "body": "<p>You should be able to use a regular expression like this:</p>\n\n<pre><code>href\\s*=\\s*\"([^\"]*)\"\n</code></pre>\n\n<p>See <a href=\"http://rubular.com/r/U60oZLkFan\" rel=\"noreferrer\">this Rubular example</a> of that expression.</p>\n\n<p>The capture group will give you the URL, e.g.:</p>\n\n<pre><code>link = \"&lt;a href=\\\"https://www.congress.gov/bill/93rd-congress/house-bill/11461\\\"&gt;H.R.11461&lt;/a&gt;\"\nmatch = /href\\s*=\\s*\"([^\"]*)\"/.match(link)\nif match\n  url = match[1]\nend\n</code></pre>\n\n<h3>Explanation of the expression:</h3>\n\n<ul>\n<li><code>href</code> matches the href attribute</li>\n<li><code>\\s*</code> matches 0 or more whitespace characters (this is optional -- you only need it if the HTML might not be in canonical form).</li>\n<li><code>=</code> matches the equal sign</li>\n<li><code>\\s*</code> again allows for optional whitespace</li>\n<li><code>\"</code> matches the opening quote of the href URL</li>\n<li><code>(</code> begins a capture group for extraction of whatever is matched within</li>\n<li><code>[^\"]*</code> matches 0 or more non-quote characters. Since quotes inside HTML attributes must be escaped this will match all characters up to the end of the URL.</li>\n<li><code>)</code> ends the capture group</li>\n<li><code>\"</code> matches the closing quote of the href attribute's value</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3294, "user_id": 4848859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Slzu.jpg?s=128&g=1", "display_name": "mayo", "link": "https://stackoverflow.com/users/4848859/mayo"}, "is_accepted": false, "score": 1, "last_activity_date": 1445370489, "creation_date": 1445370489, "answer_id": 33245577, "question_id": 33245198, "link": "https://stackoverflow.com/questions/33245198/how-to-extract-href-from-a-tag-using-ruby-regex/33245577#33245577", "title": "How to extract href from a tag using ruby regex?", "body": "<p>In order to capture just the url you can do this:</p>\n\n<pre><code>/(href\\s*\\=\\s*\\\\\\\")(.*)(?=\\\\)/\n</code></pre>\n\n<p>And use the second match. </p>\n\n<p><a href=\"http://rubular.com/r/qcqyPv3Ww3\" rel=\"nofollow\">http://rubular.com/r/qcqyPv3Ww3</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5000249"}, "is_accepted": false, "score": 7, "last_activity_date": 1445372299, "creation_date": 1445372299, "answer_id": 33246071, "question_id": 33245198, "link": "https://stackoverflow.com/questions/33245198/how-to-extract-href-from-a-tag-using-ruby-regex/33246071#33246071", "title": "How to extract href from a tag using ruby regex?", "body": "<p>If you want to parse HTML, you can use the <a href=\"http://www.nokogiri.org/\" rel=\"noreferrer\">Nokogiri</a> gem instead of using regular expressions. It's much easier.</p>\n\n<p>Example:</p>\n\n<pre><code>require \"nokogiri\"\n\nlink = \"&lt;a href=\\\"https://www.congress.gov/bill/93rd-congress/house-bill/11461\\\"&gt;H.R.11461&lt;/a&gt;\"\n\nlink_data = Nokogiri::HTML(link)\n\nhref_value = link_data.at_css(\"a\")[:href]\n\nputs href_value # =&gt; https://www.congress.gov/bill/93rd-congress/house-bill/11461\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 2443105, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/752ac77a0f0cedf591a77d9d92e409d4?s=128&d=identicon&r=PG", "display_name": "Ryzal Yusoff", "link": "https://stackoverflow.com/users/2443105/ryzal-yusoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2390, "favorite_count": 0, "accepted_answer_id": 33245363, "answer_count": 3, "score": 2, "last_activity_date": 1445372299, "creation_date": 1445369114, "last_edit_date": 1445369635, "question_id": 33245198, "link": "https://stackoverflow.com/questions/33245198/how-to-extract-href-from-a-tag-using-ruby-regex", "title": "How to extract href from a tag using ruby regex?", "body": "<p>I have this link which i declare like this:</p>\n\n<pre><code>link = \"&lt;a href=\\\"https://www.congress.gov/bill/93rd-congress/house-bill/11461\\\"&gt;H.R.11461&lt;/a&gt;\"\n</code></pre>\n\n<p>The question is how could I use regex to extract only the href value?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["jquery", "html", "css", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1265, "user_id": 3923521, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/gIQRV.jpg?s=128&g=1", "display_name": "An0nC0d3r", "link": "https://stackoverflow.com/users/3923521/an0nc0d3r"}, "edited": false, "score": 0, "creation_date": 1445369024, "post_id": 33245006, "comment_id": 54292483, "body": "Is font-awesome loaded in the console?"}, {"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 0, "creation_date": 1445369064, "post_id": 33245006, "comment_id": 54292510, "body": "Have you installed the gem? And have you imported the related css to your scss/less files?"}, {"owner": {"reputation": 9447, "user_id": 1380867, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5dc27a551f77074a1dcc431e4158704b?s=128&d=identicon&r=PG", "display_name": "MZaragoza", "link": "https://stackoverflow.com/users/1380867/mzaragoza"}, "edited": false, "score": 0, "creation_date": 1445371574, "post_id": 33245006, "comment_id": 54293960, "body": "In your application.css, include the css file:  /*  *= require font-awesome  */"}, {"owner": {"reputation": 1, "user_id": 5325320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374ab70c5797485202055df85541fbe4?s=128&d=identicon&r=PG", "display_name": "Bill_F", "link": "https://stackoverflow.com/users/5325320/bill-f"}, "edited": false, "score": 0, "creation_date": 1445421922, "post_id": 33245006, "comment_id": 54314065, "body": "I have installed Gem, as part of the"}], "owner": {"reputation": 1, "user_id": 5325320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374ab70c5797485202055df85541fbe4?s=128&d=identicon&r=PG", "display_name": "Bill_F", "link": "https://stackoverflow.com/users/5325320/bill-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445372037, "creation_date": 1445368412, "last_edit_date": 1445372037, "question_id": 33245006, "link": "https://stackoverflow.com/questions/33245006/bootstrap-failure-to-render-fa-fa-logoimage-such-as-twitter-facebook-linkedi", "title": "bootstrap failure to render &quot;fa fa-logoimage&quot; such as twitter, facebook, linkedin", "body": "<p>The following classes in index.html.erb not rendering the related Icons in a Ruby on Rails homepage built with a startbootstrap.com \"Agency\" template.   </p>\n\n<p>I have: \n- named and renamed the font-awesome.css.erb &amp; font-awesome.min.css.erb to xx.css.scss.erb \n- and back,\n- replaced the necessary code in font-awesome.css.erb.<br>\n- All caches cleared, tested in Chrome &amp; Firefox,</p>\n\n<p>ISSUE: the icons for Twitter, Facebook and Linked in are not showing.  All else is working.  Is there something about the \"fa fa-**\" that is not right?</p>\n\n<p>I would like to know what I am missing?</p>\n\n<pre><code>      &lt;h4&gt;Team Member&lt;/h4&gt;\n   &lt;p class=\"text-muted\"&gt;Designer&lt;/p&gt;\n   &lt;ul class=\"list-inline social-buttons\"&gt;\n       &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-twitter\"&gt;&lt;/i&gt;&lt;/a&gt;\n       &lt;/li&gt;\n       &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-facebook\"&gt;&lt;/i&gt;&lt;/a&gt;\n       &lt;/li&gt;\n       &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-linkedin\"&gt;&lt;/i&gt;&lt;/a&gt;\n       &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"col-sm-4\"&gt;\n  &lt;div class=\"team-member\"&gt;\n      &lt;img src=\"assets/team/2.jpg\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1445374738, "post_id": 33244582, "comment_id": 54295564, "body": "Your question is extremely unclear. Are you asking about how constants work or how <code>require</code> works?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5000249"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1445375310, "post_id": 33244582, "comment_id": 54295865, "body": "When a file is required, all the constants from that file (classes, modules, and regular constants) are added to the Object class in the current file. I am trying to understand what <code>require</code> does to make this possible."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1445376464, "post_id": 33244582, "comment_id": 54296477, "body": "Nothing. It just runs the file. The top-level is special: methods defined at the top-level become <code>private</code> instance methods of <code>Object</code>, constants defined at the top-level become constants of <code>Object</code>, instance variables defined at the top-level become instance variables of the <code>main</code> top-level object. But that has absolutely nothing to do with <code>require</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5000249"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1445377117, "post_id": 33244582, "comment_id": 54296812, "body": "And the constants from a required file also become top-level constants of Object, correct?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1445380487, "post_id": 33244582, "comment_id": 54298299, "body": "That depends on how they are defined. Let me repeat again: <code>require</code> just runs the file. Period. There is absolutely nothing special whatsoever going on, not with constants nor with any other thing. The code is just ran the exact same way as any other Ruby code."}], "answers": [{"comments": [{"owner": {"reputation": 12011, "user_id": 641451, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/IcOuq.jpg?s=128&g=1", "display_name": "mgarciaisaia", "link": "https://stackoverflow.com/users/641451/mgarciaisaia"}, "edited": false, "score": 0, "creation_date": 1445367654, "post_id": 33244703, "comment_id": 54291731, "body": "The question is not about instantiating a <code>Foo</code>, but about adding <code>Foo</code> itself as a constant. It&#39;s <i>how does <code>require</code> work</i>, not <i>how does <code>new</code> work</i>."}], "tags": [], "owner": {"reputation": 949, "user_id": 4210110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-V_sAK37z25M/AAAAAAAAAAI/AAAAAAAABsg/kzDEZOpn-UM/photo.jpg?sz=128", "display_name": "Juanjo Salvador", "link": "https://stackoverflow.com/users/4210110/juanjo-salvador"}, "is_accepted": false, "score": -2, "last_activity_date": 1445367493, "creation_date": 1445367493, "answer_id": 33244703, "question_id": 33244582, "link": "https://stackoverflow.com/questions/33244582/what-happens-technically-when-a-file-is-required-in-ruby/33244703#33244703", "title": "What happens technically when a file is required in Ruby?", "body": "<p>Creates a new <code>Foo</code> object, with all his methods. With <code>foo_obj.hello</code> you're calling the method <code>hello</code> from the class <code>Foo</code>.</p>\n\n<p>Do you now something about OOP?</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5000249"}, "edited": false, "score": 0, "creation_date": 1445370594, "post_id": 33245533, "comment_id": 54293391, "body": "Unfortunately, I don&#39;t know C otherwise I would&#39;ve read the source code myself. Can you explain in simple terms what happens when a file is required?"}], "tags": [], "owner": {"reputation": 4444, "user_id": 238971, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1ee09aabd57524c809c1798191ac9593?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/238971/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1445370334, "creation_date": 1445370334, "answer_id": 33245533, "question_id": 33244582, "link": "https://stackoverflow.com/questions/33244582/what-happens-technically-when-a-file-is-required-in-ruby/33245533#33245533", "title": "What happens technically when a file is required in Ruby?", "body": "<p>This is the underlying C code that Ruby uses to require a file</p>\n\n<p><a href=\"https://github.com/ruby/ruby/blob/trunk/load.c#L959\" rel=\"nofollow\">https://github.com/ruby/ruby/blob/trunk/load.c#L959</a></p>\n\n<pre><code>int\nrb_require_internal(VALUE fname, int safe)\n{\n    volatile int result = -1;\n    rb_thread_t *th = GET_THREAD();\n    volatile VALUE errinfo = th-&gt;errinfo;\n    int state;\n    struct {\n    int safe;\n    } volatile saved;\n    char *volatile ftptr = 0;\n\n    if (RUBY_DTRACE_REQUIRE_ENTRY_ENABLED()) {\n    RUBY_DTRACE_REQUIRE_ENTRY(StringValuePtr(fname),\n                  rb_sourcefile(),\n                  rb_sourceline());\n    }\n\n    TH_PUSH_TAG(th);\n    saved.safe = rb_safe_level();\n    if ((state = EXEC_TAG()) == 0) {\n    VALUE path;\n    long handle;\n    int found;\n\n    rb_set_safe_level_force(safe);\n    FilePathValue(fname);\n    rb_set_safe_level_force(0);\n\n    if (RUBY_DTRACE_FIND_REQUIRE_ENTRY_ENABLED()) {\n        RUBY_DTRACE_FIND_REQUIRE_ENTRY(StringValuePtr(fname),\n                       rb_sourcefile(),\n                       rb_sourceline());\n    }\n\n    path = rb_str_encode_ospath(fname);\n    found = search_required(path, &amp;path, safe);\n\n    if (RUBY_DTRACE_FIND_REQUIRE_RETURN_ENABLED()) {\n        RUBY_DTRACE_FIND_REQUIRE_RETURN(StringValuePtr(fname),\n                        rb_sourcefile(),\n                        rb_sourceline());\n    }\n    if (found) {\n        if (!path || !(ftptr = load_lock(RSTRING_PTR(path)))) {\n        result = 0;\n        }\n        else if (!*ftptr) {\n        rb_provide_feature(path);\n        result = TAG_RETURN;\n        }\n        else {\n        switch (found) {\n          case 'r':\n            state = rb_load_internal0(th, path, 0);\n            break;\n\n          case 's':\n            handle = (long)rb_vm_call_cfunc(rb_vm_top_self(), load_ext,\n                            path, 0, path);\n            rb_ary_push(ruby_dln_librefs, LONG2NUM(handle));\n            break;\n        }\n        if (!state) {\n            rb_provide_feature(path);\n            result = TAG_RETURN;\n        }\n        }\n    }\n    }\n    TH_POP_TAG();\n    load_unlock(ftptr, !state);\n\n    rb_set_safe_level_force(saved.safe);\n    if (state) {\n    /* never TAG_RETURN */\n    return state;\n    }\n\n    th-&gt;errinfo = errinfo;\n\n    if (RUBY_DTRACE_REQUIRE_RETURN_ENABLED()) {\n    RUBY_DTRACE_REQUIRE_RETURN(StringValuePtr(fname),\n                  rb_sourcefile(),\n                  rb_sourceline());\n    }\n\n    return result;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5000249"}, "edited": false, "score": 0, "creation_date": 1445376566, "post_id": 33246821, "comment_id": 54296524, "body": "If the required file and the current file are executed in different scopes, how are the constants defined in the required file accessible without the need to use the namespace resolution operator? Is it because all outer level constants are defined in the Object class?"}, {"owner": {"reputation": 20735, "user_id": 307106, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6a13e655e637138f8d571cec3f9cea76?s=128&d=identicon&r=PG", "display_name": "jrochkind", "link": "https://stackoverflow.com/users/307106/jrochkind"}, "edited": false, "score": 0, "creation_date": 1445393738, "post_id": 33246821, "comment_id": 54301579, "body": "That concept of &#39;scope&#39; only applies to local variables. Constants are global and are always in scope for everything. If you used namespace resolution operator, what namespace would you use? Namespaces are a different thing, and you CAN define constants in a namespace (or not), but either way they are accessible from any scope.  I am not sure if technically constants are defined in the Object class or not, good question. But constants are available in all scopes. The concept of &#39;scope&#39; really only applies to local variables."}], "tags": [], "owner": {"reputation": 20735, "user_id": 307106, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6a13e655e637138f8d571cec3f9cea76?s=128&d=identicon&r=PG", "display_name": "jrochkind", "link": "https://stackoverflow.com/users/307106/jrochkind"}, "is_accepted": true, "score": 5, "last_activity_date": 1445375367, "creation_date": 1445375367, "answer_id": 33246821, "question_id": 33244582, "link": "https://stackoverflow.com/questions/33244582/what-happens-technically-when-a-file-is-required-in-ruby/33246821#33246821", "title": "What happens technically when a file is required in Ruby?", "body": "<p>Well, quite directly, it looks up the path given as an argument to <code>require</code> in all the directories in the current $LOAD_PATH.  If it finds a file with that partial path in one of the base paths in $LOAD_PATH, then it loads it. It also marks it as loaded -- require will never load the same file twice, if you require the same file twice the second time is basically a no-op. </p>\n\n<p>With regard to the local scope, it's pretty straightforward:</p>\n\n<pre><code> foo = \"x\"\n require 'some_file'\n</code></pre>\n\n<p>The some_file required there (whether loaded with <code>require</code> or <code>load</code>) does not have access to that local variable 'foo'.  It is <em>not</em> just as if the code were pasted in at the point it's load/require'd.  Instead it's loaded into it's own local scope, sharing no local variables with the context that loaded/required it. </p>\n\n<p>Similarly, local variables set inside the required <code>some_file</code> are not visible outside it either, after the require. Again, it is <em>not</em> just as if the code had been pasted in at that point. The code is loaded, but it does not share any local variable access with the context at the point it was loaded/required. </p>\n\n<p>You may or may not have expected it to. That's it, that's all it means. </p>\n\n<p>But that just applies to local variables. Constants defined outside the required some_file are still available to it; and constants defined inside the required some_file are still available to other things after it's been loaded.  Recall that ruby classes are actually accessed via constants (SomeClass is a constant, that points to the actual class). So this is why constants defined in some_file are available to any other code, after it's been require'd or load'ed. </p>\n\n<p>I'm not sure how to answer \"what it does to make that possible\", beyond looking through the C implementation (which is beyond me too). It just... loads the file into the current ruby environment. That's what makes it possible. But it loads it as if it were in it's own scope for local variables, which is why it doesn't share local variables. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5000249"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 33246821, "answer_count": 3, "score": 3, "last_activity_date": 1445375367, "creation_date": 1445367096, "question_id": 33244582, "link": "https://stackoverflow.com/questions/33244582/what-happens-technically-when-a-file-is-required-in-ruby", "title": "What happens technically when a file is required in Ruby?", "body": "<p>If I have a file called <code>app.rb</code> that requires another file called <code>foo.rb</code>, what does Ruby do under the hood to make the constants defined in <code>foo.rb</code> become available in <code>app.rb</code>?</p>\n\n<p>From \"The Ruby Programming Language\" by Yukihiro Matsumoto:</p>\n\n<blockquote>\n  <p>Files loaded with load or require are executed in a new top-level scope that is different\n  from the one in which load or require was invoked. The loaded file can see all global\n  variables and constants that have been defined at the time it is loaded, but it does not\n  have access to the local scope from which the load was initiated.</p>\n</blockquote>\n\n<p>I'm having a hard time visualizing this.</p>\n\n<hr>\n\n<p>For example:</p>\n\n<p><strong>foo.rb</strong>:</p>\n\n<pre><code>class Foo\n  def hello\n    puts \"Hello, world!\"\n  end\nend\n</code></pre>\n\n<p><strong>app.rb</strong>:</p>\n\n<pre><code>require_relative \"foo\"\n\nfoo_obj = Foo.new\nfoo_obj.hello # =&gt; \"Hello, world!\"\n\np Object.constants.grep /^Foo/ # =&gt; [:Foo]\n</code></pre>\n\n<p>What does Ruby do to add the <code>Foo</code> constant into the <code>Object</code> class? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "capistrano3", "rvm-capistrano"], "comments": [{"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 0, "creation_date": 1445367758, "post_id": 33244443, "comment_id": 54291776, "body": "I assume that you deploy from your developing machine. And from your developing machine you also push to git. This means you have your git credentials on your development machine. You can forward these when you add <code>set :ssh_options, :forward_agent =&gt; true</code> to your config/deploy/staging.rb. If that doesn&#39;t help it would be good if you could post your staging.rb file."}, {"owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "reply_to_user": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 0, "creation_date": 1445376858, "post_id": 33244443, "comment_id": 54296678, "body": "hi @sugaryourcoffee posted the staging.rb file"}, {"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 0, "creation_date": 1445403850, "post_id": 33244443, "comment_id": 54304225, "body": "Did you check whether your public key at the repository matches your private key on your deployment machine? The error is indicating that this is not the case. If you are on Github then you can check from your deployment machine whether you can access your repository with <code>ssh -vT git@github.com</code>."}, {"owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "reply_to_user": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 0, "creation_date": 1445447234, "post_id": 33244443, "comment_id": 54331617, "body": "@sugaryourcoffee i have logged into the server and found .ssh  directory where it has Known_hosts only.whereas my local machine has github_rsa.pub and id_rsa.pub and known_hosts. Is this the reason for  error??"}, {"owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "reply_to_user": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 0, "creation_date": 1445448395, "post_id": 33244443, "comment_id": 54332274, "body": "@sugaryourcoffee this is what i get when i try ssh -vT git@github.com  ,,,  OpenSSH_6.2p2, OSSLShim 0.9.8r 8 Dec 2011 debug1: Reading configuration data /etc/ssh_config debug1: /etc/ssh_config line 20: Applying options for * ssh: Could not resolve hostname git.xx.x.com/xp.git: nodename nor servname provided, or not known"}, {"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "edited": false, "score": 0, "creation_date": 1445448981, "post_id": 33244443, "comment_id": 54332620, "body": "O.k. I will post further information in the answer section to give you some more information"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "edited": false, "score": 0, "creation_date": 1445622927, "post_id": 33266003, "comment_id": 54416037, "body": "i think the reason for the error is my local machine is pointed towards a particular git to which i commit and push,whereas the servers(both production and staging) are pointing to another git repo.i checked it using git remote -v command.what should i do to resolve it?"}, {"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "reply_to_user": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "edited": false, "score": 0, "creation_date": 1446666071, "post_id": 33266003, "comment_id": 54842673, "body": "set the repository in your staging configuration file to the repository you push your code to like <code>set :repository,  &quot;git@github.com:git_user&#47;git_application.git&quot;</code>"}, {"owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "edited": false, "score": 0, "creation_date": 1446672159, "post_id": 33266003, "comment_id": 54846144, "body": "still have the same issue.i am in crisis with this stuff.Is there any way to solve this and deploy to the staging server from my local machine"}, {"owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "edited": false, "score": 0, "creation_date": 1446672531, "post_id": 33266003, "comment_id": 54846320, "body": "i have changed as you said in staging.rb file but it still the same"}, {"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "reply_to_user": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "edited": false, "score": 0, "creation_date": 1446672994, "post_id": 33266003, "comment_id": 54846550, "body": "Actually to your particular problem I am out of ideas. What I can offer is a working example of a project of mine. I will put links to my answer."}, {"owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "edited": false, "score": 0, "creation_date": 1446673064, "post_id": 33266003, "comment_id": 54846595, "body": "should i uncomment the ssh options in the staging.rb file??"}, {"owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "reply_to_user": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "edited": false, "score": 0, "creation_date": 1446674234, "post_id": 33266003, "comment_id": 54847201, "body": "Yes you could give it a try. But the problem is with your key on github. If your repository is on github and you use the same key as on your development machine (the machine where you push your code from), then you should also try <code>forward_agent: true</code>."}], "tags": [], "owner": {"reputation": 794, "user_id": 2421215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6f00c0eca5a388684b15edff85880b?s=128&d=identicon&r=PG", "display_name": "sugaryourcoffee", "link": "https://stackoverflow.com/users/2421215/sugaryourcoffee"}, "is_accepted": true, "score": 1, "last_activity_date": 1446673541, "last_edit_date": 1446673541, "creation_date": 1445449774, "answer_id": 33266003, "question_id": 33244443, "link": "https://stackoverflow.com/questions/33244443/rails-deployment-to-staging-using-capistrano-generates-the-following-error/33266003#33266003", "title": "Rails deployment to staging using capistrano generates the following error", "body": "<p>There are two possible solutions</p>\n\n<ol>\n<li><p>Copy your private key to your deployment machine\nAs you can push to Github (this is what I understand) you have a private key on your development machine and the corresponding public key on Github. You can copy your private key onto your deployment machine to get rid of the error</p>\n\n<p>develeopment-machine$ scp ~/.ssh/id-rsa.pub deployment-machine:key</p></li>\n</ol>\n\n<p>Then ssh to your deployment machine and do</p>\n\n<pre><code>deployment-machine$ mv ~/.ssh/id-rsa.pub ~/.ssh/id-rsa.old\ndeployment-machine$ mv ~/key ~/.ssh/id-rsa.pub\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a key on your deployment machine and add public key to Github\nThere is a easy to follow explanation how to do that at <a href=\"https://help.github.com/articles/generating-ssh-keys/\" rel=\"nofollow\">Github Help</a></li>\n</ol>\n\n<p>Hope this helps.</p>\n\n<p>Links to projects using Capistrano</p>\n\n<p>If you are on Rails 3:</p>\n\n<ul>\n<li><a href=\"https://github.com/sugaryourcoffee/secondhand/blob/master/Capfile\" rel=\"nofollow\">capfile</a></li>\n<li><a href=\"https://github.com/sugaryourcoffee/secondhand/blob/master/config/deploy.rb\" rel=\"nofollow\">deploy.rb</a></li>\n<li><a href=\"https://github.com/sugaryourcoffee/secondhand/tree/master/config/deploy\" rel=\"nofollow\">environments</a></li>\n<li><a href=\"https://github.com/sugaryourcoffee/secondhand/blob/master/doc/deployment.md\" rel=\"nofollow\">development notebook</a></li>\n</ul>\n\n<p>If you are on Rails 4:</p>\n\n<ul>\n<li><a href=\"https://github.com/sugaryourcoffee/apptrack/blob/master/Capfile\" rel=\"nofollow\">capfile</a></li>\n<li><a href=\"https://github.com/sugaryourcoffee/apptrack/blob/master/config/deploy.rb\" rel=\"nofollow\">deploy.rb</a></li>\n<li><a href=\"https://github.com/sugaryourcoffee/apptrack/tree/master/config/deploy\" rel=\"nofollow\">environments</a></li>\n<li><a href=\"https://github.com/sugaryourcoffee/apptrack/blob/master/doc/deployment.md\" rel=\"nofollow\">development notebook</a></li>\n</ul>\n"}], "owner": {"reputation": 125, "user_id": 5220345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3dd053cf03282f5895bb847bac135f5b?s=128&d=identicon&r=PG&f=1", "display_name": "s.matty", "link": "https://stackoverflow.com/users/5220345/s-matty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 33266003, "answer_count": 1, "score": 2, "last_activity_date": 1446673541, "creation_date": 1445366632, "last_edit_date": 1445376791, "question_id": 33244443, "link": "https://stackoverflow.com/questions/33244443/rails-deployment-to-staging-using-capistrano-generates-the-following-error", "title": "Rails deployment to staging using capistrano generates the following error", "body": "<p>I get the following when I try to deploy to server using capistrano gem from my local machine(MAC)  {Rails app}. I am new to rails</p>\n\n<pre><code>user-mbp:xp user$ cap staging deploy\nServer password:\n********\nDEBUG [c6110f69] Running /usr/bin/env [ -d ~/.rbenv ] as deployer@server.com\nDEBUG [c6110f69] Command: [ -d ~/.rbenv ]\nDEBUG [c6110f69] Finished in 6.956 seconds with exit status 0 (successful).\nINFO [e385c416] Running /usr/bin/env mkdir -p /tmp/pepe/ as deployer@server.com\nDEBUG [e385c416] Command: ( RBENV_ROOT=~/.rbenv RBENV_VERSION=2.0.0-p353 /usr/bin/env mkdir -p /tmp/pepe/ )\nINFO [e385c416] Finished in 0.098 seconds with exit status 0 (successful).\nDEBUG Uploading /tmp/pepe/git-ssh.sh 0.0%\nINFO Uploading /tmp/pepe/git-ssh.sh 100.0%\nINFO [191046c4] Running /usr/bin/env chmod +x /tmp/pepe/git-ssh.sh as deployer@server.com\nDEBUG [191046c4] Command: ( RBENV_ROOT=~/.rbenv RBENV_VERSION=2.0.0-p353 /usr/bin/env chmod +x /tmp/pepe/git-ssh.sh )`enter code here`\nINFO [191046c4] Finished in 0.119 seconds with exit status 0 (successful).\nINFO [bd99c2fc] Running /usr/bin/env git ls-remote --heads ssh://git@git.xxx.xx.com/xp.git as deployer@server.com\nDEBUG [bd99c2fc] Command: ( RBENV_ROOT=~/.rbenv RBENV_VERSION=2.0.0-p353 GIT_ASKPASS=/bin/echo GIT_SSH=/tmp/pepe/git-ssh.sh /usr/bin/env git ls-remote --heads ssh://git@git.xxx.xx.com/xp.git )\nDEBUG [bd99c2fc]    Permission denied (publickey,password).\nDEBUG [bd99c2fc]    fatal: The remote end hung up unexpectedly\n(Backtrace restricted to imported tasks)\ncap aborted!\nSSHKit::Runner::ExecuteError: Exception while executing as deployer@server.com: git exit status: 128\ngit stdout: Nothing written\ngit stderr: Permission denied (publickey,password).\nfatal: The remote end hung up unexpectedly\n\nSSHKit::Command::Failed: git exit status: 128\ngit stdout: Nothing written\ngit stderr: Permission denied (publickey,password).\nfatal: The remote end hung up unexpectedly\n</code></pre>\n\n<p>I tried <code>git:check</code>, but still showing the same.</p>\n\n<pre><code>Tasks: TOP =&gt; git:check\n(See full trace by running task with --trace)\nThe deploy has failed with an error: Exception while executing as deployer@server.com: git exit status: 128\ngit stdout: Nothing written\ngit stderr: Permission denied (publickey,password).\nfatal: The remote end hung up unexpectedly\n</code></pre>\n\n<p>Staging.rb</p>\n\n<pre><code># *************************************************************** #\nrequire 'highline'\n\nset :stage, :staging\n\nset :password, HighLine.new.ask('Server password:') { |q| q.echo = '*'}\nserver 'xx.x.com', user: 'deployer', password: fetch(:password), roles: %w{web app db}, primary: true\nset :test_url, 'https://xx.x.com'\nset :version, `git describe --always`\n\n# you can set custom ssh options\n# it's possible to pass any option but you need to keep in mind that net/ssh understand limited list of options\n# you can see them in [net/ssh documentation](http://net-ssh.github.io/net-ssh/classes/Net/SSH.html#method-c-start)\n# set it globally\n#  set :ssh_options, {\n#    keys: %w(/home/rlisowski/.ssh/id_rsa),\n#    forward_agent: false,\n#    auth_methods: %w(password)\n#  }\n# and/or per server\n# server 'example.com',\n#   user: 'user_name',\n#   roles: %w{web app},\n#   ssh_options: {\n#     user: 'user_name', # overrides user setting above\n#     keys: %w(/home/user_name/.ssh/id_rsa),\n#     forward_agent: false,\n#     auth_methods: %w(publickey password)\n#     # password: 'please use keys'\n#   }\n# setting per server overrides global ssh_options\n\n# fetch(:default_env).merge!(rails_env: :staging)\n</code></pre>\n"}]